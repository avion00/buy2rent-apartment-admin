var Fee=Object.defineProperty;var bD=e=>{throw TypeError(e)};var $ee=(e,t,r)=>t in e?Fee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ht=(e,t,r)=>$ee(e,typeof t!="symbol"?t+"":t,r),x_=(e,t,r)=>t.has(e)||bD("Cannot "+r);var pe=(e,t,r)=>(x_(e,t,"read from private field"),r?r.call(e):t.get(e)),At=(e,t,r)=>t.has(e)?bD("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),mt=(e,t,r,s)=>(x_(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Zt=(e,t,r)=>(x_(e,t,"access private method"),r);var Iy=(e,t,r,s)=>({set _(a){mt(e,t,a,r)},get _(){return pe(e,t,s)}});function Lee(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Ry=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ar(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var N8={exports:{}},Zw={},_8={exports:{}},ir={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv=Symbol.for("react.element"),Bee=Symbol.for("react.portal"),Uee=Symbol.for("react.fragment"),Vee=Symbol.for("react.strict_mode"),zee=Symbol.for("react.profiler"),Wee=Symbol.for("react.provider"),Hee=Symbol.for("react.context"),qee=Symbol.for("react.forward_ref"),Gee=Symbol.for("react.suspense"),Kee=Symbol.for("react.memo"),Yee=Symbol.for("react.lazy"),wD=Symbol.iterator;function Xee(e){return e===null||typeof e!="object"?null:(e=wD&&e[wD]||e["@@iterator"],typeof e=="function"?e:null)}var S8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C8=Object.assign,E8={};function $p(e,t,r){this.props=e,this.context=t,this.refs=E8,this.updater=r||S8}$p.prototype.isReactComponent={};$p.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$p.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function A8(){}A8.prototype=$p.prototype;function _P(e,t,r){this.props=e,this.context=t,this.refs=E8,this.updater=r||S8}var SP=_P.prototype=new A8;SP.constructor=_P;C8(SP,$p.prototype);SP.isPureReactComponent=!0;var ND=Array.isArray,P8=Object.prototype.hasOwnProperty,CP={current:null},k8={key:!0,ref:!0,__self:!0,__source:!0};function T8(e,t,r){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)P8.call(t,s)&&!k8.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:kv,type:e,key:i,ref:o,props:a,_owner:CP.current}}function Qee(e,t){return{$$typeof:kv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function EP(e){return typeof e=="object"&&e!==null&&e.$$typeof===kv}function Zee(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var _D=/\/+/g;function g_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Zee(""+e.key):t.toString(36)}function Wj(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case kv:case Bee:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+g_(o,0):s,ND(a)?(r="",e!=null&&(r=e.replace(_D,"$&/")+"/"),Wj(a,t,r,"",function(d){return d})):a!=null&&(EP(a)&&(a=Qee(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(_D,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",ND(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+g_(i,l);o+=Wj(i,t,r,c,a)}else if(c=Xee(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+g_(i,l++),o+=Wj(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function My(e,t,r){if(e==null)return e;var s=[],a=0;return Wj(e,s,"","",function(i){return t.call(r,i,a++)}),s}function Jee(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var za={current:null},Hj={transition:null},ete={ReactCurrentDispatcher:za,ReactCurrentBatchConfig:Hj,ReactCurrentOwner:CP};function O8(){throw Error("act(...) is not supported in production builds of React.")}ir.Children={map:My,forEach:function(e,t,r){My(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return My(e,function(){t++}),t},toArray:function(e){return My(e,function(t){return t})||[]},only:function(e){if(!EP(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ir.Component=$p;ir.Fragment=Uee;ir.Profiler=zee;ir.PureComponent=_P;ir.StrictMode=Vee;ir.Suspense=Gee;ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ete;ir.act=O8;ir.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=C8({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=CP.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)P8.call(t,c)&&!k8.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:kv,type:e.type,key:a,ref:i,props:s,_owner:o}};ir.createContext=function(e){return e={$$typeof:Hee,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Wee,_context:e},e.Consumer=e};ir.createElement=T8;ir.createFactory=function(e){var t=T8.bind(null,e);return t.type=e,t};ir.createRef=function(){return{current:null}};ir.forwardRef=function(e){return{$$typeof:qee,render:e}};ir.isValidElement=EP;ir.lazy=function(e){return{$$typeof:Yee,_payload:{_status:-1,_result:e},_init:Jee}};ir.memo=function(e,t){return{$$typeof:Kee,type:e,compare:t===void 0?null:t}};ir.startTransition=function(e){var t=Hj.transition;Hj.transition={};try{e()}finally{Hj.transition=t}};ir.unstable_act=O8;ir.useCallback=function(e,t){return za.current.useCallback(e,t)};ir.useContext=function(e){return za.current.useContext(e)};ir.useDebugValue=function(){};ir.useDeferredValue=function(e){return za.current.useDeferredValue(e)};ir.useEffect=function(e,t){return za.current.useEffect(e,t)};ir.useId=function(){return za.current.useId()};ir.useImperativeHandle=function(e,t,r){return za.current.useImperativeHandle(e,t,r)};ir.useInsertionEffect=function(e,t){return za.current.useInsertionEffect(e,t)};ir.useLayoutEffect=function(e,t){return za.current.useLayoutEffect(e,t)};ir.useMemo=function(e,t){return za.current.useMemo(e,t)};ir.useReducer=function(e,t,r){return za.current.useReducer(e,t,r)};ir.useRef=function(e){return za.current.useRef(e)};ir.useState=function(e){return za.current.useState(e)};ir.useSyncExternalStore=function(e,t,r){return za.current.useSyncExternalStore(e,t,r)};ir.useTransition=function(){return za.current.useTransition()};ir.version="18.3.1";_8.exports=ir;var v=_8.exports;const V=Ar(v),AP=Lee({__proto__:null,default:V},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tte=v,rte=Symbol.for("react.element"),nte=Symbol.for("react.fragment"),ste=Object.prototype.hasOwnProperty,ate=tte.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ite={key:!0,ref:!0,__self:!0,__source:!0};function D8(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)ste.call(t,s)&&!ite.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:rte,type:e,key:i,ref:o,props:a,_owner:ate.current}}Zw.Fragment=nte;Zw.jsx=D8;Zw.jsxs=D8;N8.exports=Zw;var n=N8.exports,I8={exports:{}},Ji={},R8={exports:{}},M8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,O){var K=M.length;M.push(O);e:for(;0<K;){var ne=K-1>>>1,D=M[ne];if(0<a(D,O))M[ne]=O,M[K]=D,K=ne;else break e}}function r(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var O=M[0],K=M.pop();if(K!==O){M[0]=K;e:for(var ne=0,D=M.length,U=D>>>1;ne<U;){var L=2*(ne+1)-1,G=M[L],le=L+1,fe=M[le];if(0>a(G,K))le<D&&0>a(fe,G)?(M[ne]=fe,M[le]=K,ne=le):(M[ne]=G,M[L]=K,ne=L);else if(le<D&&0>a(fe,K))M[ne]=fe,M[le]=K,ne=le;else break e}}return O}function a(M,O){var K=M.sortIndex-O.sortIndex;return K!==0?K:M.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,m=3,h=!1,x=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var O=r(d);O!==null;){if(O.callback===null)s(d);else if(O.startTime<=M)s(d),O.sortIndex=O.expirationTime,t(c,O);else break;O=r(d)}}function b(M){if(p=!1,w(M),!x)if(r(c)!==null)x=!0,k(N);else{var O=r(d);O!==null&&P(b,O.startTime-M)}}function N(M,O){x=!1,p&&(p=!1,j(E),E=-1),h=!0;var K=m;try{for(w(O),f=r(c);f!==null&&(!(f.expirationTime>O)||M&&!R());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,m=f.priorityLevel;var D=ne(f.expirationTime<=O);O=e.unstable_now(),typeof D=="function"?f.callback=D:f===r(c)&&s(c),w(O)}else s(c);f=r(c)}if(f!==null)var U=!0;else{var L=r(d);L!==null&&P(b,L.startTime-O),U=!1}return U}finally{f=null,m=K,h=!1}}var S=!1,_=null,E=-1,A=5,T=-1;function R(){return!(e.unstable_now()-T<A)}function I(){if(_!==null){var M=e.unstable_now();T=M;var O=!0;try{O=_(!0,M)}finally{O?z():(S=!1,_=null)}}else S=!1}var z;if(typeof y=="function")z=function(){y(I)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,F=H.port2;H.port1.onmessage=I,z=function(){F.postMessage(null)}}else z=function(){g(I,0)};function k(M){_=M,S||(S=!0,z())}function P(M,O){E=g(function(){M(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){x||h||(x=!0,k(N))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(m){case 1:case 2:case 3:var O=3;break;default:O=m}var K=m;m=O;try{return M()}finally{m=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,O){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var K=m;m=M;try{return O()}finally{m=K}},e.unstable_scheduleCallback=function(M,O,K){var ne=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,M){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=K+D,M={id:u++,callback:O,priorityLevel:M,startTime:K,expirationTime:D,sortIndex:-1},K>ne?(M.sortIndex=K,t(d,M),r(c)===null&&M===r(d)&&(p?(j(E),E=-1):p=!0,P(b,K-ne))):(M.sortIndex=D,t(c,M),x||h||(x=!0,k(N))),M},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(M){var O=m;return function(){var K=m;m=O;try{return M.apply(this,arguments)}finally{m=K}}}})(M8);R8.exports=M8;var ote=R8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lte=v,qi=ote;function Ye(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F8=new Set,Kg={};function cm(e,t){Wh(e,t),Wh(e+"Capture",t)}function Wh(e,t){for(Kg[e]=t,e=0;e<t.length;e++)F8.add(t[e])}var Gc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),SC=Object.prototype.hasOwnProperty,cte=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SD={},CD={};function dte(e){return SC.call(CD,e)?!0:SC.call(SD,e)?!1:cte.test(e)?CD[e]=!0:(SD[e]=!0,!1)}function ute(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fte(e,t,r,s){if(t===null||typeof t>"u"||ute(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Wa(e,t,r,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ea={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ea[e]=new Wa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ea[t]=new Wa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ea[e]=new Wa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ea[e]=new Wa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ea[e]=new Wa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ea[e]=new Wa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ea[e]=new Wa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ea[e]=new Wa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ea[e]=new Wa(e,5,!1,e.toLowerCase(),null,!1,!1)});var PP=/[\-:]([a-z])/g;function kP(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(PP,kP);ea[t]=new Wa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(PP,kP);ea[t]=new Wa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(PP,kP);ea[t]=new Wa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ea[e]=new Wa(e,1,!1,e.toLowerCase(),null,!1,!1)});ea.xlinkHref=new Wa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ea[e]=new Wa(e,1,!1,e.toLowerCase(),null,!0,!0)});function TP(e,t,r,s){var a=ea.hasOwnProperty(t)?ea[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fte(t,r,a,s)&&(r=null),s||a===null?dte(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var ud=lte.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fy=Symbol.for("react.element"),qm=Symbol.for("react.portal"),Gm=Symbol.for("react.fragment"),OP=Symbol.for("react.strict_mode"),CC=Symbol.for("react.profiler"),$8=Symbol.for("react.provider"),L8=Symbol.for("react.context"),DP=Symbol.for("react.forward_ref"),EC=Symbol.for("react.suspense"),AC=Symbol.for("react.suspense_list"),IP=Symbol.for("react.memo"),kd=Symbol.for("react.lazy"),B8=Symbol.for("react.offscreen"),ED=Symbol.iterator;function Cx(e){return e===null||typeof e!="object"?null:(e=ED&&e[ED]||e["@@iterator"],typeof e=="function"?e:null)}var An=Object.assign,v_;function sg(e){if(v_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);v_=t&&t[1]||""}return`
`+v_+e}var y_=!1;function j_(e,t){if(!e||y_)return"";y_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{y_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?sg(e):""}function mte(e){switch(e.tag){case 5:return sg(e.type);case 16:return sg("Lazy");case 13:return sg("Suspense");case 19:return sg("SuspenseList");case 0:case 2:case 15:return e=j_(e.type,!1),e;case 11:return e=j_(e.type.render,!1),e;case 1:return e=j_(e.type,!0),e;default:return""}}function PC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gm:return"Fragment";case qm:return"Portal";case CC:return"Profiler";case OP:return"StrictMode";case EC:return"Suspense";case AC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case L8:return(e.displayName||"Context")+".Consumer";case $8:return(e._context.displayName||"Context")+".Provider";case DP:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case IP:return t=e.displayName||null,t!==null?t:PC(e.type)||"Memo";case kd:t=e._payload,e=e._init;try{return PC(e(t))}catch{}}return null}function hte(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return PC(t);case 8:return t===OP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function U8(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pte(e){var t=U8(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $y(e){e._valueTracker||(e._valueTracker=pte(e))}function V8(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=U8(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function xb(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kC(e,t){var r=t.checked;return An({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function AD(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=pu(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function z8(e,t){t=t.checked,t!=null&&TP(e,"checked",t,!1)}function TC(e,t){z8(e,t);var r=pu(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?OC(e,t.type,r):t.hasOwnProperty("defaultValue")&&OC(e,t.type,pu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function PD(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function OC(e,t,r){(t!=="number"||xb(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ag=Array.isArray;function ch(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+pu(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function DC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ye(91));return An({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kD(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ye(92));if(ag(r)){if(1<r.length)throw Error(Ye(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:pu(r)}}function W8(e,t){var r=pu(t.value),s=pu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function TD(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function H8(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function IC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?H8(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ly,q8=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ly=Ly||document.createElement("div"),Ly.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ly.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var xg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xte=["Webkit","ms","Moz","O"];Object.keys(xg).forEach(function(e){xte.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xg[t]=xg[e]})});function G8(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||xg.hasOwnProperty(e)&&xg[e]?(""+t).trim():t+"px"}function K8(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=G8(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var gte=An({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function RC(e,t){if(t){if(gte[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ye(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ye(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ye(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ye(62))}}function MC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FC=null;function RP(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $C=null,dh=null,uh=null;function OD(e){if(e=Dv(e)){if(typeof $C!="function")throw Error(Ye(280));var t=e.stateNode;t&&(t=nN(t),$C(e.stateNode,e.type,t))}}function Y8(e){dh?uh?uh.push(e):uh=[e]:dh=e}function X8(){if(dh){var e=dh,t=uh;if(uh=dh=null,OD(e),t)for(e=0;e<t.length;e++)OD(t[e])}}function Q8(e,t){return e(t)}function Z8(){}var b_=!1;function J8(e,t,r){if(b_)return e(t,r);b_=!0;try{return Q8(e,t,r)}finally{b_=!1,(dh!==null||uh!==null)&&(Z8(),X8())}}function Xg(e,t){var r=e.stateNode;if(r===null)return null;var s=nN(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ye(231,t,typeof r));return r}var LC=!1;if(Gc)try{var Ex={};Object.defineProperty(Ex,"passive",{get:function(){LC=!0}}),window.addEventListener("test",Ex,Ex),window.removeEventListener("test",Ex,Ex)}catch{LC=!1}function vte(e,t,r,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var gg=!1,gb=null,vb=!1,BC=null,yte={onError:function(e){gg=!0,gb=e}};function jte(e,t,r,s,a,i,o,l,c){gg=!1,gb=null,vte.apply(yte,arguments)}function bte(e,t,r,s,a,i,o,l,c){if(jte.apply(this,arguments),gg){if(gg){var d=gb;gg=!1,gb=null}else throw Error(Ye(198));vb||(vb=!0,BC=d)}}function dm(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function eB(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function DD(e){if(dm(e)!==e)throw Error(Ye(188))}function wte(e){var t=e.alternate;if(!t){if(t=dm(e),t===null)throw Error(Ye(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return DD(a),e;if(i===s)return DD(a),t;i=i.sibling}throw Error(Ye(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o)throw Error(Ye(189))}}if(r.alternate!==s)throw Error(Ye(190))}if(r.tag!==3)throw Error(Ye(188));return r.stateNode.current===r?e:t}function tB(e){return e=wte(e),e!==null?rB(e):null}function rB(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rB(e);if(t!==null)return t;e=e.sibling}return null}var nB=qi.unstable_scheduleCallback,ID=qi.unstable_cancelCallback,Nte=qi.unstable_shouldYield,_te=qi.unstable_requestPaint,qn=qi.unstable_now,Ste=qi.unstable_getCurrentPriorityLevel,MP=qi.unstable_ImmediatePriority,sB=qi.unstable_UserBlockingPriority,yb=qi.unstable_NormalPriority,Cte=qi.unstable_LowPriority,aB=qi.unstable_IdlePriority,Jw=null,Kl=null;function Ete(e){if(Kl&&typeof Kl.onCommitFiberRoot=="function")try{Kl.onCommitFiberRoot(Jw,e,void 0,(e.current.flags&128)===128)}catch{}}var nl=Math.clz32?Math.clz32:kte,Ate=Math.log,Pte=Math.LN2;function kte(e){return e>>>=0,e===0?32:31-(Ate(e)/Pte|0)|0}var By=64,Uy=4194304;function ig(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jb(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?s=ig(l):(i&=o,i!==0&&(s=ig(i)))}else o=r&~a,o!==0?s=ig(o):i!==0&&(s=ig(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-nl(t),a=1<<r,s|=e[r],t&=~a;return s}function Tte(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ote(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-nl(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&s)&&(a[o]=Tte(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function UC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function iB(){var e=By;return By<<=1,!(By&4194240)&&(By=64),e}function w_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Tv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nl(t),e[t]=r}function Dte(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-nl(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function FP(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-nl(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var Rr=0;function oB(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lB,$P,cB,dB,uB,VC=!1,Vy=[],tu=null,ru=null,nu=null,Qg=new Map,Zg=new Map,Dd=[],Ite="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function RD(e,t){switch(e){case"focusin":case"focusout":tu=null;break;case"dragenter":case"dragleave":ru=null;break;case"mouseover":case"mouseout":nu=null;break;case"pointerover":case"pointerout":Qg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zg.delete(t.pointerId)}}function Ax(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Dv(t),t!==null&&$P(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Rte(e,t,r,s,a){switch(t){case"focusin":return tu=Ax(tu,e,t,r,s,a),!0;case"dragenter":return ru=Ax(ru,e,t,r,s,a),!0;case"mouseover":return nu=Ax(nu,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return Qg.set(i,Ax(Qg.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,Zg.set(i,Ax(Zg.get(i)||null,e,t,r,s,a)),!0}return!1}function fB(e){var t=df(e.target);if(t!==null){var r=dm(t);if(r!==null){if(t=r.tag,t===13){if(t=eB(r),t!==null){e.blockedOn=t,uB(e.priority,function(){cB(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qj(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=zC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);FC=s,r.target.dispatchEvent(s),FC=null}else return t=Dv(r),t!==null&&$P(t),e.blockedOn=r,!1;t.shift()}return!0}function MD(e,t,r){qj(e)&&r.delete(t)}function Mte(){VC=!1,tu!==null&&qj(tu)&&(tu=null),ru!==null&&qj(ru)&&(ru=null),nu!==null&&qj(nu)&&(nu=null),Qg.forEach(MD),Zg.forEach(MD)}function Px(e,t){e.blockedOn===t&&(e.blockedOn=null,VC||(VC=!0,qi.unstable_scheduleCallback(qi.unstable_NormalPriority,Mte)))}function Jg(e){function t(a){return Px(a,e)}if(0<Vy.length){Px(Vy[0],e);for(var r=1;r<Vy.length;r++){var s=Vy[r];s.blockedOn===e&&(s.blockedOn=null)}}for(tu!==null&&Px(tu,e),ru!==null&&Px(ru,e),nu!==null&&Px(nu,e),Qg.forEach(t),Zg.forEach(t),r=0;r<Dd.length;r++)s=Dd[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Dd.length&&(r=Dd[0],r.blockedOn===null);)fB(r),r.blockedOn===null&&Dd.shift()}var fh=ud.ReactCurrentBatchConfig,bb=!0;function Fte(e,t,r,s){var a=Rr,i=fh.transition;fh.transition=null;try{Rr=1,LP(e,t,r,s)}finally{Rr=a,fh.transition=i}}function $te(e,t,r,s){var a=Rr,i=fh.transition;fh.transition=null;try{Rr=4,LP(e,t,r,s)}finally{Rr=a,fh.transition=i}}function LP(e,t,r,s){if(bb){var a=zC(e,t,r,s);if(a===null)O_(e,t,s,wb,r),RD(e,s);else if(Rte(a,e,t,r,s))s.stopPropagation();else if(RD(e,s),t&4&&-1<Ite.indexOf(e)){for(;a!==null;){var i=Dv(a);if(i!==null&&lB(i),i=zC(e,t,r,s),i===null&&O_(e,t,s,wb,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else O_(e,t,s,null,r)}}var wb=null;function zC(e,t,r,s){if(wb=null,e=RP(s),e=df(e),e!==null)if(t=dm(e),t===null)e=null;else if(r=t.tag,r===13){if(e=eB(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wb=e,null}function mB(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ste()){case MP:return 1;case sB:return 4;case yb:case Cte:return 16;case aB:return 536870912;default:return 16}default:return 16}}var qd=null,BP=null,Gj=null;function hB(){if(Gj)return Gj;var e,t=BP,r=t.length,s,a="value"in qd?qd.value:qd.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[i-s];s++);return Gj=a.slice(e,1<s?1-s:void 0)}function Kj(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zy(){return!0}function FD(){return!1}function eo(e){function t(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?zy:FD,this.isPropagationStopped=FD,this}return An(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zy)},persist:function(){},isPersistent:zy}),t}var Lp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},UP=eo(Lp),Ov=An({},Lp,{view:0,detail:0}),Lte=eo(Ov),N_,__,kx,eN=An({},Ov,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:VP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kx&&(kx&&e.type==="mousemove"?(N_=e.screenX-kx.screenX,__=e.screenY-kx.screenY):__=N_=0,kx=e),N_)},movementY:function(e){return"movementY"in e?e.movementY:__}}),$D=eo(eN),Bte=An({},eN,{dataTransfer:0}),Ute=eo(Bte),Vte=An({},Ov,{relatedTarget:0}),S_=eo(Vte),zte=An({},Lp,{animationName:0,elapsedTime:0,pseudoElement:0}),Wte=eo(zte),Hte=An({},Lp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qte=eo(Hte),Gte=An({},Lp,{data:0}),LD=eo(Gte),Kte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qte(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xte[e])?!!t[e]:!1}function VP(){return Qte}var Zte=An({},Ov,{key:function(e){if(e.key){var t=Kte[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kj(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yte[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:VP,charCode:function(e){return e.type==="keypress"?Kj(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kj(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jte=eo(Zte),ere=An({},eN,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BD=eo(ere),tre=An({},Ov,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:VP}),rre=eo(tre),nre=An({},Lp,{propertyName:0,elapsedTime:0,pseudoElement:0}),sre=eo(nre),are=An({},eN,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ire=eo(are),ore=[9,13,27,32],zP=Gc&&"CompositionEvent"in window,vg=null;Gc&&"documentMode"in document&&(vg=document.documentMode);var lre=Gc&&"TextEvent"in window&&!vg,pB=Gc&&(!zP||vg&&8<vg&&11>=vg),UD=" ",VD=!1;function xB(e,t){switch(e){case"keyup":return ore.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gB(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Km=!1;function cre(e,t){switch(e){case"compositionend":return gB(t);case"keypress":return t.which!==32?null:(VD=!0,UD);case"textInput":return e=t.data,e===UD&&VD?null:e;default:return null}}function dre(e,t){if(Km)return e==="compositionend"||!zP&&xB(e,t)?(e=hB(),Gj=BP=qd=null,Km=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pB&&t.locale!=="ko"?null:t.data;default:return null}}var ure={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ure[e.type]:t==="textarea"}function vB(e,t,r,s){Y8(s),t=Nb(t,"onChange"),0<t.length&&(r=new UP("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var yg=null,e0=null;function fre(e){PB(e,0)}function tN(e){var t=Qm(e);if(V8(t))return e}function mre(e,t){if(e==="change")return t}var yB=!1;if(Gc){var C_;if(Gc){var E_="oninput"in document;if(!E_){var WD=document.createElement("div");WD.setAttribute("oninput","return;"),E_=typeof WD.oninput=="function"}C_=E_}else C_=!1;yB=C_&&(!document.documentMode||9<document.documentMode)}function HD(){yg&&(yg.detachEvent("onpropertychange",jB),e0=yg=null)}function jB(e){if(e.propertyName==="value"&&tN(e0)){var t=[];vB(t,e0,e,RP(e)),J8(fre,t)}}function hre(e,t,r){e==="focusin"?(HD(),yg=t,e0=r,yg.attachEvent("onpropertychange",jB)):e==="focusout"&&HD()}function pre(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tN(e0)}function xre(e,t){if(e==="click")return tN(t)}function gre(e,t){if(e==="input"||e==="change")return tN(t)}function vre(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cl=typeof Object.is=="function"?Object.is:vre;function t0(e,t){if(cl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!SC.call(t,a)||!cl(e[a],t[a]))return!1}return!0}function qD(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function GD(e,t){var r=qD(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qD(r)}}function bB(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bB(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wB(){for(var e=window,t=xb();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=xb(e.document)}return t}function WP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yre(e){var t=wB(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&bB(r.ownerDocument.documentElement,r)){if(s!==null&&WP(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=GD(r,i);var o=GD(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jre=Gc&&"documentMode"in document&&11>=document.documentMode,Ym=null,WC=null,jg=null,HC=!1;function KD(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;HC||Ym==null||Ym!==xb(s)||(s=Ym,"selectionStart"in s&&WP(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),jg&&t0(jg,s)||(jg=s,s=Nb(WC,"onSelect"),0<s.length&&(t=new UP("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Ym)))}function Wy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Xm={animationend:Wy("Animation","AnimationEnd"),animationiteration:Wy("Animation","AnimationIteration"),animationstart:Wy("Animation","AnimationStart"),transitionend:Wy("Transition","TransitionEnd")},A_={},NB={};Gc&&(NB=document.createElement("div").style,"AnimationEvent"in window||(delete Xm.animationend.animation,delete Xm.animationiteration.animation,delete Xm.animationstart.animation),"TransitionEvent"in window||delete Xm.transitionend.transition);function rN(e){if(A_[e])return A_[e];if(!Xm[e])return e;var t=Xm[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in NB)return A_[e]=t[r];return e}var _B=rN("animationend"),SB=rN("animationiteration"),CB=rN("animationstart"),EB=rN("transitionend"),AB=new Map,YD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ku(e,t){AB.set(e,t),cm(t,[e])}for(var P_=0;P_<YD.length;P_++){var k_=YD[P_],bre=k_.toLowerCase(),wre=k_[0].toUpperCase()+k_.slice(1);ku(bre,"on"+wre)}ku(_B,"onAnimationEnd");ku(SB,"onAnimationIteration");ku(CB,"onAnimationStart");ku("dblclick","onDoubleClick");ku("focusin","onFocus");ku("focusout","onBlur");ku(EB,"onTransitionEnd");Wh("onMouseEnter",["mouseout","mouseover"]);Wh("onMouseLeave",["mouseout","mouseover"]);Wh("onPointerEnter",["pointerout","pointerover"]);Wh("onPointerLeave",["pointerout","pointerover"]);cm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cm("onBeforeInput",["compositionend","keypress","textInput","paste"]);cm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var og="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nre=new Set("cancel close invalid load scroll toggle".split(" ").concat(og));function XD(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,bte(s,t,void 0,e),e.currentTarget=null}function PB(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;XD(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;XD(a,l,d),i=c}}}if(vb)throw e=BC,vb=!1,BC=null,e}function en(e,t){var r=t[XC];r===void 0&&(r=t[XC]=new Set);var s=e+"__bubble";r.has(s)||(kB(t,e,2,!1),r.add(s))}function T_(e,t,r){var s=0;t&&(s|=4),kB(r,e,s,t)}var Hy="_reactListening"+Math.random().toString(36).slice(2);function r0(e){if(!e[Hy]){e[Hy]=!0,F8.forEach(function(r){r!=="selectionchange"&&(Nre.has(r)||T_(r,!1,e),T_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hy]||(t[Hy]=!0,T_("selectionchange",!1,t))}}function kB(e,t,r,s){switch(mB(t)){case 1:var a=Fte;break;case 4:a=$te;break;default:a=LP}r=a.bind(null,t,r,e),a=void 0,!LC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function O_(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=df(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}J8(function(){var d=i,u=RP(r),f=[];e:{var m=AB.get(e);if(m!==void 0){var h=UP,x=e;switch(e){case"keypress":if(Kj(r)===0)break e;case"keydown":case"keyup":h=Jte;break;case"focusin":x="focus",h=S_;break;case"focusout":x="blur",h=S_;break;case"beforeblur":case"afterblur":h=S_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=$D;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Ute;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=rre;break;case _B:case SB:case CB:h=Wte;break;case EB:h=sre;break;case"scroll":h=Lte;break;case"wheel":h=ire;break;case"copy":case"cut":case"paste":h=qte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=BD}var p=(t&4)!==0,g=!p&&e==="scroll",j=p?m!==null?m+"Capture":null:m;p=[];for(var y=d,w;y!==null;){w=y;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,j!==null&&(b=Xg(y,j),b!=null&&p.push(n0(y,b,w)))),g)break;y=y.return}0<p.length&&(m=new h(m,x,null,r,u),f.push({event:m,listeners:p}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&r!==FC&&(x=r.relatedTarget||r.fromElement)&&(df(x)||x[Kc]))break e;if((h||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,h?(x=r.relatedTarget||r.toElement,h=d,x=x?df(x):null,x!==null&&(g=dm(x),x!==g||x.tag!==5&&x.tag!==6)&&(x=null)):(h=null,x=d),h!==x)){if(p=$D,b="onMouseLeave",j="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=BD,b="onPointerLeave",j="onPointerEnter",y="pointer"),g=h==null?m:Qm(h),w=x==null?m:Qm(x),m=new p(b,y+"leave",h,r,u),m.target=g,m.relatedTarget=w,b=null,df(u)===d&&(p=new p(j,y+"enter",x,r,u),p.target=w,p.relatedTarget=g,b=p),g=b,h&&x)t:{for(p=h,j=x,y=0,w=p;w;w=Em(w))y++;for(w=0,b=j;b;b=Em(b))w++;for(;0<y-w;)p=Em(p),y--;for(;0<w-y;)j=Em(j),w--;for(;y--;){if(p===j||j!==null&&p===j.alternate)break t;p=Em(p),j=Em(j)}p=null}else p=null;h!==null&&QD(f,m,h,p,!1),x!==null&&g!==null&&QD(f,g,x,p,!0)}}e:{if(m=d?Qm(d):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var N=mre;else if(zD(m))if(yB)N=gre;else{N=pre;var S=hre}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=xre);if(N&&(N=N(e,d))){vB(f,N,r,u);break e}S&&S(e,m,d),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&OC(m,"number",m.value)}switch(S=d?Qm(d):window,e){case"focusin":(zD(S)||S.contentEditable==="true")&&(Ym=S,WC=d,jg=null);break;case"focusout":jg=WC=Ym=null;break;case"mousedown":HC=!0;break;case"contextmenu":case"mouseup":case"dragend":HC=!1,KD(f,r,u);break;case"selectionchange":if(jre)break;case"keydown":case"keyup":KD(f,r,u)}var _;if(zP)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Km?xB(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(pB&&r.locale!=="ko"&&(Km||E!=="onCompositionStart"?E==="onCompositionEnd"&&Km&&(_=hB()):(qd=u,BP="value"in qd?qd.value:qd.textContent,Km=!0)),S=Nb(d,E),0<S.length&&(E=new LD(E,e,null,r,u),f.push({event:E,listeners:S}),_?E.data=_:(_=gB(r),_!==null&&(E.data=_)))),(_=lre?cre(e,r):dre(e,r))&&(d=Nb(d,"onBeforeInput"),0<d.length&&(u=new LD("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=_))}PB(f,t)})}function n0(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Nb(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Xg(e,r),i!=null&&s.unshift(n0(e,i,a)),i=Xg(e,t),i!=null&&s.push(n0(e,i,a))),e=e.return}return s}function Em(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function QD(e,t,r,s,a){for(var i=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=Xg(r,i),c!=null&&o.unshift(n0(r,c,l))):a||(c=Xg(r,i),c!=null&&o.push(n0(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var _re=/\r\n?/g,Sre=/\u0000|\uFFFD/g;function ZD(e){return(typeof e=="string"?e:""+e).replace(_re,`
`).replace(Sre,"")}function qy(e,t,r){if(t=ZD(t),ZD(e)!==t&&r)throw Error(Ye(425))}function _b(){}var qC=null,GC=null;function KC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var YC=typeof setTimeout=="function"?setTimeout:void 0,Cre=typeof clearTimeout=="function"?clearTimeout:void 0,JD=typeof Promise=="function"?Promise:void 0,Ere=typeof queueMicrotask=="function"?queueMicrotask:typeof JD<"u"?function(e){return JD.resolve(null).then(e).catch(Are)}:YC;function Are(e){setTimeout(function(){throw e})}function D_(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),Jg(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);Jg(t)}function su(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function e5(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Bp=Math.random().toString(36).slice(2),Ul="__reactFiber$"+Bp,s0="__reactProps$"+Bp,Kc="__reactContainer$"+Bp,XC="__reactEvents$"+Bp,Pre="__reactListeners$"+Bp,kre="__reactHandles$"+Bp;function df(e){var t=e[Ul];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Kc]||r[Ul]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=e5(e);e!==null;){if(r=e[Ul])return r;e=e5(e)}return t}e=r,r=e.parentNode}return null}function Dv(e){return e=e[Ul]||e[Kc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qm(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ye(33))}function nN(e){return e[s0]||null}var QC=[],Zm=-1;function Tu(e){return{current:e}}function an(e){0>Zm||(e.current=QC[Zm],QC[Zm]=null,Zm--)}function Yr(e,t){Zm++,QC[Zm]=e.current,e.current=t}var xu={},va=Tu(xu),si=Tu(!1),Ff=xu;function Hh(e,t){var r=e.type.contextTypes;if(!r)return xu;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ai(e){return e=e.childContextTypes,e!=null}function Sb(){an(si),an(va)}function t5(e,t,r){if(va.current!==xu)throw Error(Ye(168));Yr(va,t),Yr(si,r)}function TB(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(Ye(108,hte(e)||"Unknown",a));return An({},r,s)}function Cb(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xu,Ff=va.current,Yr(va,e),Yr(si,si.current),!0}function r5(e,t,r){var s=e.stateNode;if(!s)throw Error(Ye(169));r?(e=TB(e,t,Ff),s.__reactInternalMemoizedMergedChildContext=e,an(si),an(va),Yr(va,e)):an(si),Yr(si,r)}var Cc=null,sN=!1,I_=!1;function OB(e){Cc===null?Cc=[e]:Cc.push(e)}function Tre(e){sN=!0,OB(e)}function Ou(){if(!I_&&Cc!==null){I_=!0;var e=0,t=Rr;try{var r=Cc;for(Rr=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Cc=null,sN=!1}catch(a){throw Cc!==null&&(Cc=Cc.slice(e+1)),nB(MP,Ou),a}finally{Rr=t,I_=!1}}return null}var Jm=[],eh=0,Eb=null,Ab=0,po=[],xo=0,$f=null,kc=1,Tc="";function Qu(e,t){Jm[eh++]=Ab,Jm[eh++]=Eb,Eb=e,Ab=t}function DB(e,t,r){po[xo++]=kc,po[xo++]=Tc,po[xo++]=$f,$f=e;var s=kc;e=Tc;var a=32-nl(s)-1;s&=~(1<<a),r+=1;var i=32-nl(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,kc=1<<32-nl(t)+a|r<<a|s,Tc=i+e}else kc=1<<i|r<<a|s,Tc=e}function HP(e){e.return!==null&&(Qu(e,1),DB(e,1,0))}function qP(e){for(;e===Eb;)Eb=Jm[--eh],Jm[eh]=null,Ab=Jm[--eh],Jm[eh]=null;for(;e===$f;)$f=po[--xo],po[xo]=null,Tc=po[--xo],po[xo]=null,kc=po[--xo],po[xo]=null}var Li=null,Fi=null,mn=!1,Ko=null;function IB(e,t){var r=vo(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function n5(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Li=e,Fi=su(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Li=e,Fi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=$f!==null?{id:kc,overflow:Tc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=vo(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Li=e,Fi=null,!0):!1;default:return!1}}function ZC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function JC(e){if(mn){var t=Fi;if(t){var r=t;if(!n5(e,t)){if(ZC(e))throw Error(Ye(418));t=su(r.nextSibling);var s=Li;t&&n5(e,t)?IB(s,r):(e.flags=e.flags&-4097|2,mn=!1,Li=e)}}else{if(ZC(e))throw Error(Ye(418));e.flags=e.flags&-4097|2,mn=!1,Li=e}}}function s5(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Li=e}function Gy(e){if(e!==Li)return!1;if(!mn)return s5(e),mn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!KC(e.type,e.memoizedProps)),t&&(t=Fi)){if(ZC(e))throw RB(),Error(Ye(418));for(;t;)IB(e,t),t=su(t.nextSibling)}if(s5(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ye(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Fi=su(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Fi=null}}else Fi=Li?su(e.stateNode.nextSibling):null;return!0}function RB(){for(var e=Fi;e;)e=su(e.nextSibling)}function qh(){Fi=Li=null,mn=!1}function GP(e){Ko===null?Ko=[e]:Ko.push(e)}var Ore=ud.ReactCurrentBatchConfig;function Tx(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ye(309));var s=r.stateNode}if(!s)throw Error(Ye(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ye(284));if(!r._owner)throw Error(Ye(290,e))}return e}function Ky(e,t){throw e=Object.prototype.toString.call(t),Error(Ye(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function a5(e){var t=e._init;return t(e._payload)}function MB(e){function t(j,y){if(e){var w=j.deletions;w===null?(j.deletions=[y],j.flags|=16):w.push(y)}}function r(j,y){if(!e)return null;for(;y!==null;)t(j,y),y=y.sibling;return null}function s(j,y){for(j=new Map;y!==null;)y.key!==null?j.set(y.key,y):j.set(y.index,y),y=y.sibling;return j}function a(j,y){return j=lu(j,y),j.index=0,j.sibling=null,j}function i(j,y,w){return j.index=w,e?(w=j.alternate,w!==null?(w=w.index,w<y?(j.flags|=2,y):w):(j.flags|=2,y)):(j.flags|=1048576,y)}function o(j){return e&&j.alternate===null&&(j.flags|=2),j}function l(j,y,w,b){return y===null||y.tag!==6?(y=U_(w,j.mode,b),y.return=j,y):(y=a(y,w),y.return=j,y)}function c(j,y,w,b){var N=w.type;return N===Gm?u(j,y,w.props.children,b,w.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===kd&&a5(N)===y.type)?(b=a(y,w.props),b.ref=Tx(j,y,w),b.return=j,b):(b=tb(w.type,w.key,w.props,null,j.mode,b),b.ref=Tx(j,y,w),b.return=j,b)}function d(j,y,w,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=V_(w,j.mode,b),y.return=j,y):(y=a(y,w.children||[]),y.return=j,y)}function u(j,y,w,b,N){return y===null||y.tag!==7?(y=kf(w,j.mode,b,N),y.return=j,y):(y=a(y,w),y.return=j,y)}function f(j,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=U_(""+y,j.mode,w),y.return=j,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Fy:return w=tb(y.type,y.key,y.props,null,j.mode,w),w.ref=Tx(j,null,y),w.return=j,w;case qm:return y=V_(y,j.mode,w),y.return=j,y;case kd:var b=y._init;return f(j,b(y._payload),w)}if(ag(y)||Cx(y))return y=kf(y,j.mode,w,null),y.return=j,y;Ky(j,y)}return null}function m(j,y,w,b){var N=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(j,y,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fy:return w.key===N?c(j,y,w,b):null;case qm:return w.key===N?d(j,y,w,b):null;case kd:return N=w._init,m(j,y,N(w._payload),b)}if(ag(w)||Cx(w))return N!==null?null:u(j,y,w,b,null);Ky(j,w)}return null}function h(j,y,w,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return j=j.get(w)||null,l(y,j,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fy:return j=j.get(b.key===null?w:b.key)||null,c(y,j,b,N);case qm:return j=j.get(b.key===null?w:b.key)||null,d(y,j,b,N);case kd:var S=b._init;return h(j,y,w,S(b._payload),N)}if(ag(b)||Cx(b))return j=j.get(w)||null,u(y,j,b,N,null);Ky(y,b)}return null}function x(j,y,w,b){for(var N=null,S=null,_=y,E=y=0,A=null;_!==null&&E<w.length;E++){_.index>E?(A=_,_=null):A=_.sibling;var T=m(j,_,w[E],b);if(T===null){_===null&&(_=A);break}e&&_&&T.alternate===null&&t(j,_),y=i(T,y,E),S===null?N=T:S.sibling=T,S=T,_=A}if(E===w.length)return r(j,_),mn&&Qu(j,E),N;if(_===null){for(;E<w.length;E++)_=f(j,w[E],b),_!==null&&(y=i(_,y,E),S===null?N=_:S.sibling=_,S=_);return mn&&Qu(j,E),N}for(_=s(j,_);E<w.length;E++)A=h(_,j,E,w[E],b),A!==null&&(e&&A.alternate!==null&&_.delete(A.key===null?E:A.key),y=i(A,y,E),S===null?N=A:S.sibling=A,S=A);return e&&_.forEach(function(R){return t(j,R)}),mn&&Qu(j,E),N}function p(j,y,w,b){var N=Cx(w);if(typeof N!="function")throw Error(Ye(150));if(w=N.call(w),w==null)throw Error(Ye(151));for(var S=N=null,_=y,E=y=0,A=null,T=w.next();_!==null&&!T.done;E++,T=w.next()){_.index>E?(A=_,_=null):A=_.sibling;var R=m(j,_,T.value,b);if(R===null){_===null&&(_=A);break}e&&_&&R.alternate===null&&t(j,_),y=i(R,y,E),S===null?N=R:S.sibling=R,S=R,_=A}if(T.done)return r(j,_),mn&&Qu(j,E),N;if(_===null){for(;!T.done;E++,T=w.next())T=f(j,T.value,b),T!==null&&(y=i(T,y,E),S===null?N=T:S.sibling=T,S=T);return mn&&Qu(j,E),N}for(_=s(j,_);!T.done;E++,T=w.next())T=h(_,j,E,T.value,b),T!==null&&(e&&T.alternate!==null&&_.delete(T.key===null?E:T.key),y=i(T,y,E),S===null?N=T:S.sibling=T,S=T);return e&&_.forEach(function(I){return t(j,I)}),mn&&Qu(j,E),N}function g(j,y,w,b){if(typeof w=="object"&&w!==null&&w.type===Gm&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Fy:e:{for(var N=w.key,S=y;S!==null;){if(S.key===N){if(N=w.type,N===Gm){if(S.tag===7){r(j,S.sibling),y=a(S,w.props.children),y.return=j,j=y;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===kd&&a5(N)===S.type){r(j,S.sibling),y=a(S,w.props),y.ref=Tx(j,S,w),y.return=j,j=y;break e}r(j,S);break}else t(j,S);S=S.sibling}w.type===Gm?(y=kf(w.props.children,j.mode,b,w.key),y.return=j,j=y):(b=tb(w.type,w.key,w.props,null,j.mode,b),b.ref=Tx(j,y,w),b.return=j,j=b)}return o(j);case qm:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(j,y.sibling),y=a(y,w.children||[]),y.return=j,j=y;break e}else{r(j,y);break}else t(j,y);y=y.sibling}y=V_(w,j.mode,b),y.return=j,j=y}return o(j);case kd:return S=w._init,g(j,y,S(w._payload),b)}if(ag(w))return x(j,y,w,b);if(Cx(w))return p(j,y,w,b);Ky(j,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(j,y.sibling),y=a(y,w),y.return=j,j=y):(r(j,y),y=U_(w,j.mode,b),y.return=j,j=y),o(j)):r(j,y)}return g}var Gh=MB(!0),FB=MB(!1),Pb=Tu(null),kb=null,th=null,KP=null;function YP(){KP=th=kb=null}function XP(e){var t=Pb.current;an(Pb),e._currentValue=t}function e4(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function mh(e,t){kb=e,KP=th=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ti=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(KP!==e)if(e={context:e,memoizedValue:t,next:null},th===null){if(kb===null)throw Error(Ye(308));th=e,kb.dependencies={lanes:0,firstContext:e}}else th=th.next=e;return t}var uf=null;function QP(e){uf===null?uf=[e]:uf.push(e)}function $B(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,QP(t)):(r.next=a.next,a.next=r),t.interleaved=r,Yc(e,s)}function Yc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Td=!1;function ZP(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LB(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function au(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,xr&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Yc(e,r)}return a=s.interleaved,a===null?(t.next=t,QP(s)):(t.next=a.next,a.next=t),s.interleaved=t,Yc(e,r)}function Yj(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,FP(e,r)}}function i5(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Tb(e,t,r,s){var a=e.updateQueue;Td=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,h=l.eventTime;if((s&m)===m){u!==null&&(u=u.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,p=l;switch(m=t,h=r,p.tag){case 1:if(x=p.payload,typeof x=="function"){f=x.call(h,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,m=typeof x=="function"?x.call(h,f,m):x,m==null)break e;f=An({},f,m);break e;case 2:Td=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=h,c=f):u=u.next=h,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Bf|=o,e.lanes=o,e.memoizedState=f}}function o5(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(Ye(191,a));a.call(s)}}}var Iv={},Yl=Tu(Iv),a0=Tu(Iv),i0=Tu(Iv);function ff(e){if(e===Iv)throw Error(Ye(174));return e}function JP(e,t){switch(Yr(i0,t),Yr(a0,e),Yr(Yl,Iv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:IC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=IC(t,e)}an(Yl),Yr(Yl,t)}function Kh(){an(Yl),an(a0),an(i0)}function BB(e){ff(i0.current);var t=ff(Yl.current),r=IC(t,e.type);t!==r&&(Yr(a0,e),Yr(Yl,r))}function ek(e){a0.current===e&&(an(Yl),an(a0))}var Nn=Tu(0);function Ob(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var R_=[];function tk(){for(var e=0;e<R_.length;e++)R_[e]._workInProgressVersionPrimary=null;R_.length=0}var Xj=ud.ReactCurrentDispatcher,M_=ud.ReactCurrentBatchConfig,Lf=0,En=null,xs=null,Es=null,Db=!1,bg=!1,o0=0,Dre=0;function aa(){throw Error(Ye(321))}function rk(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!cl(e[r],t[r]))return!1;return!0}function nk(e,t,r,s,a,i){if(Lf=i,En=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xj.current=e===null||e.memoizedState===null?Fre:$re,e=r(s,a),bg){i=0;do{if(bg=!1,o0=0,25<=i)throw Error(Ye(301));i+=1,Es=xs=null,t.updateQueue=null,Xj.current=Lre,e=r(s,a)}while(bg)}if(Xj.current=Ib,t=xs!==null&&xs.next!==null,Lf=0,Es=xs=En=null,Db=!1,t)throw Error(Ye(300));return e}function sk(){var e=o0!==0;return o0=0,e}function Ol(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Es===null?En.memoizedState=Es=e:Es=Es.next=e,Es}function Eo(){if(xs===null){var e=En.alternate;e=e!==null?e.memoizedState:null}else e=xs.next;var t=Es===null?En.memoizedState:Es.next;if(t!==null)Es=t,xs=e;else{if(e===null)throw Error(Ye(310));xs=e,e={memoizedState:xs.memoizedState,baseState:xs.baseState,baseQueue:xs.baseQueue,queue:xs.queue,next:null},Es===null?En.memoizedState=Es=e:Es=Es.next=e}return Es}function l0(e,t){return typeof t=="function"?t(e):t}function F_(e){var t=Eo(),r=t.queue;if(r===null)throw Error(Ye(311));r.lastRenderedReducer=e;var s=xs,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Lf&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,En.lanes|=u,Bf|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,cl(s,t.memoizedState)||(ti=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,En.lanes|=i,Bf|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function $_(e){var t=Eo(),r=t.queue;if(r===null)throw Error(Ye(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);cl(i,t.memoizedState)||(ti=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function UB(){}function VB(e,t){var r=En,s=Eo(),a=t(),i=!cl(s.memoizedState,a);if(i&&(s.memoizedState=a,ti=!0),s=s.queue,ak(HB.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||Es!==null&&Es.memoizedState.tag&1){if(r.flags|=2048,c0(9,WB.bind(null,r,s,a,t),void 0,null),Is===null)throw Error(Ye(349));Lf&30||zB(r,t,a)}return a}function zB(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=En.updateQueue,t===null?(t={lastEffect:null,stores:null},En.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function WB(e,t,r,s){t.value=r,t.getSnapshot=s,qB(t)&&GB(e)}function HB(e,t,r){return r(function(){qB(t)&&GB(e)})}function qB(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!cl(e,r)}catch{return!0}}function GB(e){var t=Yc(e,1);t!==null&&sl(t,e,1,-1)}function l5(e){var t=Ol();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l0,lastRenderedState:e},t.queue=e,e=e.dispatch=Mre.bind(null,En,e),[t.memoizedState,e]}function c0(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=En.updateQueue,t===null?(t={lastEffect:null,stores:null},En.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function KB(){return Eo().memoizedState}function Qj(e,t,r,s){var a=Ol();En.flags|=e,a.memoizedState=c0(1|t,r,void 0,s===void 0?null:s)}function aN(e,t,r,s){var a=Eo();s=s===void 0?null:s;var i=void 0;if(xs!==null){var o=xs.memoizedState;if(i=o.destroy,s!==null&&rk(s,o.deps)){a.memoizedState=c0(t,r,i,s);return}}En.flags|=e,a.memoizedState=c0(1|t,r,i,s)}function c5(e,t){return Qj(8390656,8,e,t)}function ak(e,t){return aN(2048,8,e,t)}function YB(e,t){return aN(4,2,e,t)}function XB(e,t){return aN(4,4,e,t)}function QB(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ZB(e,t,r){return r=r!=null?r.concat([e]):null,aN(4,4,QB.bind(null,t,e),r)}function ik(){}function JB(e,t){var r=Eo();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&rk(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function e9(e,t){var r=Eo();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&rk(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function t9(e,t,r){return Lf&21?(cl(r,t)||(r=iB(),En.lanes|=r,Bf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ti=!0),e.memoizedState=r)}function Ire(e,t){var r=Rr;Rr=r!==0&&4>r?r:4,e(!0);var s=M_.transition;M_.transition={};try{e(!1),t()}finally{Rr=r,M_.transition=s}}function r9(){return Eo().memoizedState}function Rre(e,t,r){var s=ou(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},n9(e))s9(t,r);else if(r=$B(e,t,r,s),r!==null){var a=Ma();sl(r,e,s,a),a9(r,t,s)}}function Mre(e,t,r){var s=ou(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(n9(e))s9(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,cl(l,o)){var c=t.interleaved;c===null?(a.next=a,QP(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=$B(e,t,a,s),r!==null&&(a=Ma(),sl(r,e,s,a),a9(r,t,s))}}function n9(e){var t=e.alternate;return e===En||t!==null&&t===En}function s9(e,t){bg=Db=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function a9(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,FP(e,r)}}var Ib={readContext:Co,useCallback:aa,useContext:aa,useEffect:aa,useImperativeHandle:aa,useInsertionEffect:aa,useLayoutEffect:aa,useMemo:aa,useReducer:aa,useRef:aa,useState:aa,useDebugValue:aa,useDeferredValue:aa,useTransition:aa,useMutableSource:aa,useSyncExternalStore:aa,useId:aa,unstable_isNewReconciler:!1},Fre={readContext:Co,useCallback:function(e,t){return Ol().memoizedState=[e,t===void 0?null:t],e},useContext:Co,useEffect:c5,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Qj(4194308,4,QB.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Qj(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qj(4,2,e,t)},useMemo:function(e,t){var r=Ol();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Ol();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Rre.bind(null,En,e),[s.memoizedState,e]},useRef:function(e){var t=Ol();return e={current:e},t.memoizedState=e},useState:l5,useDebugValue:ik,useDeferredValue:function(e){return Ol().memoizedState=e},useTransition:function(){var e=l5(!1),t=e[0];return e=Ire.bind(null,e[1]),Ol().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=En,a=Ol();if(mn){if(r===void 0)throw Error(Ye(407));r=r()}else{if(r=t(),Is===null)throw Error(Ye(349));Lf&30||zB(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,c5(HB.bind(null,s,i,e),[e]),s.flags|=2048,c0(9,WB.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=Ol(),t=Is.identifierPrefix;if(mn){var r=Tc,s=kc;r=(s&~(1<<32-nl(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=o0++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Dre++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$re={readContext:Co,useCallback:JB,useContext:Co,useEffect:ak,useImperativeHandle:ZB,useInsertionEffect:YB,useLayoutEffect:XB,useMemo:e9,useReducer:F_,useRef:KB,useState:function(){return F_(l0)},useDebugValue:ik,useDeferredValue:function(e){var t=Eo();return t9(t,xs.memoizedState,e)},useTransition:function(){var e=F_(l0)[0],t=Eo().memoizedState;return[e,t]},useMutableSource:UB,useSyncExternalStore:VB,useId:r9,unstable_isNewReconciler:!1},Lre={readContext:Co,useCallback:JB,useContext:Co,useEffect:ak,useImperativeHandle:ZB,useInsertionEffect:YB,useLayoutEffect:XB,useMemo:e9,useReducer:$_,useRef:KB,useState:function(){return $_(l0)},useDebugValue:ik,useDeferredValue:function(e){var t=Eo();return xs===null?t.memoizedState=e:t9(t,xs.memoizedState,e)},useTransition:function(){var e=$_(l0)[0],t=Eo().memoizedState;return[e,t]},useMutableSource:UB,useSyncExternalStore:VB,useId:r9,unstable_isNewReconciler:!1};function zo(e,t){if(e&&e.defaultProps){t=An({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function t4(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:An({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var iN={isMounted:function(e){return(e=e._reactInternals)?dm(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Ma(),a=ou(e),i=Fc(s,a);i.payload=t,r!=null&&(i.callback=r),t=au(e,i,a),t!==null&&(sl(t,e,a,s),Yj(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Ma(),a=ou(e),i=Fc(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=au(e,i,a),t!==null&&(sl(t,e,a,s),Yj(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ma(),s=ou(e),a=Fc(r,s);a.tag=2,t!=null&&(a.callback=t),t=au(e,a,s),t!==null&&(sl(t,e,s,r),Yj(t,e,s))}};function d5(e,t,r,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!t0(r,s)||!t0(a,i):!0}function i9(e,t,r){var s=!1,a=xu,i=t.contextType;return typeof i=="object"&&i!==null?i=Co(i):(a=ai(t)?Ff:va.current,s=t.contextTypes,i=(s=s!=null)?Hh(e,a):xu),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=iN,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function u5(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&iN.enqueueReplaceState(t,t.state,null)}function r4(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},ZP(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Co(i):(i=ai(t)?Ff:va.current,a.context=Hh(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(t4(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&iN.enqueueReplaceState(a,a.state,null),Tb(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Yh(e,t){try{var r="",s=t;do r+=mte(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function L_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function n4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Bre=typeof WeakMap=="function"?WeakMap:Map;function o9(e,t,r){r=Fc(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Mb||(Mb=!0,m4=s),n4(e,t)},r}function l9(e,t,r){r=Fc(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){n4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){n4(e,t),typeof s!="function"&&(iu===null?iu=new Set([this]):iu.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function f5(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Bre;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=ene.bind(null,e,t,r),t.then(e,e))}function m5(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function h5(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Fc(-1,1),t.tag=2,au(r,t,1))),r.lanes|=1),e)}var Ure=ud.ReactCurrentOwner,ti=!1;function Aa(e,t,r,s){t.child=e===null?FB(t,null,r,s):Gh(t,e.child,r,s)}function p5(e,t,r,s,a){r=r.render;var i=t.ref;return mh(t,a),s=nk(e,t,r,s,i,a),r=sk(),e!==null&&!ti?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Xc(e,t,a)):(mn&&r&&HP(t),t.flags|=1,Aa(e,t,s,a),t.child)}function x5(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!hk(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,c9(e,t,i,s,a)):(e=tb(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:t0,r(o,s)&&e.ref===t.ref)return Xc(e,t,a)}return t.flags|=1,e=lu(i,s),e.ref=t.ref,e.return=t,t.child=e}function c9(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(t0(i,s)&&e.ref===t.ref)if(ti=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(ti=!0);else return t.lanes=e.lanes,Xc(e,t,a)}return s4(e,t,r,s,a)}function d9(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yr(nh,ki),ki|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Yr(nh,ki),ki|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,Yr(nh,ki),ki|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,Yr(nh,ki),ki|=s;return Aa(e,t,a,r),t.child}function u9(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function s4(e,t,r,s,a){var i=ai(r)?Ff:va.current;return i=Hh(t,i),mh(t,a),r=nk(e,t,r,s,i,a),s=sk(),e!==null&&!ti?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Xc(e,t,a)):(mn&&s&&HP(t),t.flags|=1,Aa(e,t,r,a),t.child)}function g5(e,t,r,s,a){if(ai(r)){var i=!0;Cb(t)}else i=!1;if(mh(t,a),t.stateNode===null)Zj(e,t),i9(t,r,s),r4(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Co(d):(d=ai(r)?Ff:va.current,d=Hh(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&u5(t,o,s,d),Td=!1;var m=t.memoizedState;o.state=m,Tb(t,s,o,a),c=t.memoizedState,l!==s||m!==c||si.current||Td?(typeof u=="function"&&(t4(t,r,u,s),c=t.memoizedState),(l=Td||d5(t,r,l,s,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,LB(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:zo(t.type,l),o.props=d,f=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Co(c):(c=ai(r)?Ff:va.current,c=Hh(t,c));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&u5(t,o,s,c),Td=!1,m=t.memoizedState,o.state=m,Tb(t,s,o,a);var x=t.memoizedState;l!==f||m!==x||si.current||Td?(typeof h=="function"&&(t4(t,r,h,s),x=t.memoizedState),(d=Td||d5(t,r,d,s,m,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),o.props=s,o.state=x,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return a4(e,t,r,s,i,a)}function a4(e,t,r,s,a,i){u9(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&r5(t,r,!1),Xc(e,t,i);s=t.stateNode,Ure.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Gh(t,e.child,null,i),t.child=Gh(t,null,l,i)):Aa(e,t,l,i),t.memoizedState=s.state,a&&r5(t,r,!0),t.child}function f9(e){var t=e.stateNode;t.pendingContext?t5(e,t.pendingContext,t.pendingContext!==t.context):t.context&&t5(e,t.context,!1),JP(e,t.containerInfo)}function v5(e,t,r,s,a){return qh(),GP(a),t.flags|=256,Aa(e,t,r,s),t.child}var i4={dehydrated:null,treeContext:null,retryLane:0};function o4(e){return{baseLanes:e,cachePool:null,transitions:null}}function m9(e,t,r){var s=t.pendingProps,a=Nn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Yr(Nn,a&1),e===null)return JC(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=cN(o,s,0,null),e=kf(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=o4(r),t.memoizedState=i4,e):ok(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Vre(e,t,o,s,l,a,r);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=lu(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=lu(l,i):(i=kf(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?o4(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=i4,s}return i=e.child,e=i.sibling,s=lu(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function ok(e,t){return t=cN({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yy(e,t,r,s){return s!==null&&GP(s),Gh(t,e.child,null,r),e=ok(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vre(e,t,r,s,a,i,o){if(r)return t.flags&256?(t.flags&=-257,s=L_(Error(Ye(422))),Yy(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=cN({mode:"visible",children:s.children},a,0,null),i=kf(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Gh(t,e.child,null,o),t.child.memoizedState=o4(o),t.memoizedState=i4,i);if(!(t.mode&1))return Yy(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(Ye(419)),s=L_(i,s,void 0),Yy(e,t,o,s)}if(l=(o&e.childLanes)!==0,ti||l){if(s=Is,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Yc(e,a),sl(s,e,a,-1))}return mk(),s=L_(Error(Ye(421))),Yy(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=tne.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Fi=su(a.nextSibling),Li=t,mn=!0,Ko=null,e!==null&&(po[xo++]=kc,po[xo++]=Tc,po[xo++]=$f,kc=e.id,Tc=e.overflow,$f=t),t=ok(t,s.children),t.flags|=4096,t)}function y5(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),e4(e.return,t,r)}function B_(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function h9(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Aa(e,t,s.children,r),s=Nn.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&y5(e,r,t);else if(e.tag===19)y5(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Yr(Nn,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Ob(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),B_(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ob(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}B_(t,!0,r,null,i);break;case"together":B_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zj(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Bf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ye(153));if(t.child!==null){for(e=t.child,r=lu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=lu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function zre(e,t,r){switch(t.tag){case 3:f9(t),qh();break;case 5:BB(t);break;case 1:ai(t.type)&&Cb(t);break;case 4:JP(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Yr(Pb,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Yr(Nn,Nn.current&1),t.flags|=128,null):r&t.child.childLanes?m9(e,t,r):(Yr(Nn,Nn.current&1),e=Xc(e,t,r),e!==null?e.sibling:null);Yr(Nn,Nn.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return h9(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Yr(Nn,Nn.current),s)break;return null;case 22:case 23:return t.lanes=0,d9(e,t,r)}return Xc(e,t,r)}var p9,l4,x9,g9;p9=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};l4=function(){};x9=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,ff(Yl.current);var i=null;switch(r){case"input":a=kC(e,a),s=kC(e,s),i=[];break;case"select":a=An({},a,{value:void 0}),s=An({},s,{value:void 0}),i=[];break;case"textarea":a=DC(e,a),s=DC(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=_b)}RC(r,s);var o;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Kg.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Kg.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&en("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};g9=function(e,t,r,s){r!==s&&(t.flags|=4)};function Ox(e,t){if(!mn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ia(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Wre(e,t,r){var s=t.pendingProps;switch(qP(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ia(t),null;case 1:return ai(t.type)&&Sb(),ia(t),null;case 3:return s=t.stateNode,Kh(),an(si),an(va),tk(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Gy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ko!==null&&(x4(Ko),Ko=null))),l4(e,t),ia(t),null;case 5:ek(t);var a=ff(i0.current);if(r=t.type,e!==null&&t.stateNode!=null)x9(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Ye(166));return ia(t),null}if(e=ff(Yl.current),Gy(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[Ul]=t,s[s0]=i,e=(t.mode&1)!==0,r){case"dialog":en("cancel",s),en("close",s);break;case"iframe":case"object":case"embed":en("load",s);break;case"video":case"audio":for(a=0;a<og.length;a++)en(og[a],s);break;case"source":en("error",s);break;case"img":case"image":case"link":en("error",s),en("load",s);break;case"details":en("toggle",s);break;case"input":AD(s,i),en("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},en("invalid",s);break;case"textarea":kD(s,i),en("invalid",s)}RC(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&qy(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&qy(s.textContent,l,e),a=["children",""+l]):Kg.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&en("scroll",s)}switch(r){case"input":$y(s),PD(s,i,!0);break;case"textarea":$y(s),TD(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=_b)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=H8(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[Ul]=t,e[s0]=s,p9(e,t,!1,!1),t.stateNode=e;e:{switch(o=MC(r,s),r){case"dialog":en("cancel",e),en("close",e),a=s;break;case"iframe":case"object":case"embed":en("load",e),a=s;break;case"video":case"audio":for(a=0;a<og.length;a++)en(og[a],e);a=s;break;case"source":en("error",e),a=s;break;case"img":case"image":case"link":en("error",e),en("load",e),a=s;break;case"details":en("toggle",e),a=s;break;case"input":AD(e,s),a=kC(e,s),en("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=An({},s,{value:void 0}),en("invalid",e);break;case"textarea":kD(e,s),a=DC(e,s),en("invalid",e);break;default:a=s}RC(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?K8(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&q8(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Yg(e,c):typeof c=="number"&&Yg(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Kg.hasOwnProperty(i)?c!=null&&i==="onScroll"&&en("scroll",e):c!=null&&TP(e,i,c,o))}switch(r){case"input":$y(e),PD(e,s,!1);break;case"textarea":$y(e),TD(e);break;case"option":s.value!=null&&e.setAttribute("value",""+pu(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?ch(e,!!s.multiple,i,!1):s.defaultValue!=null&&ch(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=_b)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ia(t),null;case 6:if(e&&t.stateNode!=null)g9(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Ye(166));if(r=ff(i0.current),ff(Yl.current),Gy(t)){if(s=t.stateNode,r=t.memoizedProps,s[Ul]=t,(i=s.nodeValue!==r)&&(e=Li,e!==null))switch(e.tag){case 3:qy(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qy(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Ul]=t,t.stateNode=s}return ia(t),null;case 13:if(an(Nn),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mn&&Fi!==null&&t.mode&1&&!(t.flags&128))RB(),qh(),t.flags|=98560,i=!1;else if(i=Gy(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(Ye(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ye(317));i[Ul]=t}else qh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ia(t),i=!1}else Ko!==null&&(x4(Ko),Ko=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Nn.current&1?js===0&&(js=3):mk())),t.updateQueue!==null&&(t.flags|=4),ia(t),null);case 4:return Kh(),l4(e,t),e===null&&r0(t.stateNode.containerInfo),ia(t),null;case 10:return XP(t.type._context),ia(t),null;case 17:return ai(t.type)&&Sb(),ia(t),null;case 19:if(an(Nn),i=t.memoizedState,i===null)return ia(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Ox(i,!1);else{if(js!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ob(e),o!==null){for(t.flags|=128,Ox(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Yr(Nn,Nn.current&1|2),t.child}e=e.sibling}i.tail!==null&&qn()>Xh&&(t.flags|=128,s=!0,Ox(i,!1),t.lanes=4194304)}else{if(!s)if(e=Ob(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ox(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!mn)return ia(t),null}else 2*qn()-i.renderingStartTime>Xh&&r!==1073741824&&(t.flags|=128,s=!0,Ox(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=qn(),t.sibling=null,r=Nn.current,Yr(Nn,s?r&1|2:r&1),t):(ia(t),null);case 22:case 23:return fk(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?ki&1073741824&&(ia(t),t.subtreeFlags&6&&(t.flags|=8192)):ia(t),null;case 24:return null;case 25:return null}throw Error(Ye(156,t.tag))}function Hre(e,t){switch(qP(t),t.tag){case 1:return ai(t.type)&&Sb(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kh(),an(si),an(va),tk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ek(t),null;case 13:if(an(Nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ye(340));qh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return an(Nn),null;case 4:return Kh(),null;case 10:return XP(t.type._context),null;case 22:case 23:return fk(),null;case 24:return null;default:return null}}var Xy=!1,da=!1,qre=typeof WeakSet=="function"?WeakSet:Set,vt=null;function rh(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){In(e,t,s)}else r.current=null}function c4(e,t,r){try{r()}catch(s){In(e,t,s)}}var j5=!1;function Gre(e,t){if(qC=bb,e=wB(),WP(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===r&&++d===a&&(l=o),m===i&&++u===s&&(c=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(GC={focusedElem:e,selectionRange:r},bb=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){t=vt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,g=x.memoizedState,j=t.stateNode,y=j.getSnapshotBeforeUpdate(t.elementType===t.type?p:zo(t.type,p),g);j.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ye(163))}}catch(b){In(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}return x=j5,j5=!1,x}function wg(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&c4(t,r,i)}a=a.next}while(a!==s)}}function oN(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function d4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function v9(e){var t=e.alternate;t!==null&&(e.alternate=null,v9(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ul],delete t[s0],delete t[XC],delete t[Pre],delete t[kre])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function y9(e){return e.tag===5||e.tag===3||e.tag===4}function b5(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||y9(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function u4(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=_b));else if(s!==4&&(e=e.child,e!==null))for(u4(e,t,r),e=e.sibling;e!==null;)u4(e,t,r),e=e.sibling}function f4(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(f4(e,t,r),e=e.sibling;e!==null;)f4(e,t,r),e=e.sibling}var Hs=null,Ho=!1;function bd(e,t,r){for(r=r.child;r!==null;)j9(e,t,r),r=r.sibling}function j9(e,t,r){if(Kl&&typeof Kl.onCommitFiberUnmount=="function")try{Kl.onCommitFiberUnmount(Jw,r)}catch{}switch(r.tag){case 5:da||rh(r,t);case 6:var s=Hs,a=Ho;Hs=null,bd(e,t,r),Hs=s,Ho=a,Hs!==null&&(Ho?(e=Hs,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Hs.removeChild(r.stateNode));break;case 18:Hs!==null&&(Ho?(e=Hs,r=r.stateNode,e.nodeType===8?D_(e.parentNode,r):e.nodeType===1&&D_(e,r),Jg(e)):D_(Hs,r.stateNode));break;case 4:s=Hs,a=Ho,Hs=r.stateNode.containerInfo,Ho=!0,bd(e,t,r),Hs=s,Ho=a;break;case 0:case 11:case 14:case 15:if(!da&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&c4(r,t,o),a=a.next}while(a!==s)}bd(e,t,r);break;case 1:if(!da&&(rh(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){In(r,t,l)}bd(e,t,r);break;case 21:bd(e,t,r);break;case 22:r.mode&1?(da=(s=da)||r.memoizedState!==null,bd(e,t,r),da=s):bd(e,t,r);break;default:bd(e,t,r)}}function w5(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new qre),t.forEach(function(s){var a=rne.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function $o(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Hs=l.stateNode,Ho=!1;break e;case 3:Hs=l.stateNode.containerInfo,Ho=!0;break e;case 4:Hs=l.stateNode.containerInfo,Ho=!0;break e}l=l.return}if(Hs===null)throw Error(Ye(160));j9(i,o,a),Hs=null,Ho=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){In(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)b9(t,e),t=t.sibling}function b9(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($o(t,e),El(e),s&4){try{wg(3,e,e.return),oN(3,e)}catch(p){In(e,e.return,p)}try{wg(5,e,e.return)}catch(p){In(e,e.return,p)}}break;case 1:$o(t,e),El(e),s&512&&r!==null&&rh(r,r.return);break;case 5:if($o(t,e),El(e),s&512&&r!==null&&rh(r,r.return),e.flags&32){var a=e.stateNode;try{Yg(a,"")}catch(p){In(e,e.return,p)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&z8(a,i),MC(l,o);var d=MC(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?K8(a,f):u==="dangerouslySetInnerHTML"?q8(a,f):u==="children"?Yg(a,f):TP(a,u,f,d)}switch(l){case"input":TC(a,i);break;case"textarea":W8(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?ch(a,!!i.multiple,h,!1):m!==!!i.multiple&&(i.defaultValue!=null?ch(a,!!i.multiple,i.defaultValue,!0):ch(a,!!i.multiple,i.multiple?[]:"",!1))}a[s0]=i}catch(p){In(e,e.return,p)}}break;case 6:if($o(t,e),El(e),s&4){if(e.stateNode===null)throw Error(Ye(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){In(e,e.return,p)}}break;case 3:if($o(t,e),El(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Jg(t.containerInfo)}catch(p){In(e,e.return,p)}break;case 4:$o(t,e),El(e);break;case 13:$o(t,e),El(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(dk=qn())),s&4&&w5(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(da=(d=da)||u,$o(t,e),da=d):$o(t,e),El(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(vt=e,u=e.child;u!==null;){for(f=vt=u;vt!==null;){switch(m=vt,h=m.child,m.tag){case 0:case 11:case 14:case 15:wg(4,m,m.return);break;case 1:rh(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){s=m,r=m.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(p){In(s,r,p)}}break;case 5:rh(m,m.return);break;case 22:if(m.memoizedState!==null){_5(f);continue}}h!==null?(h.return=m,vt=h):_5(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=G8("display",o))}catch(p){In(e,e.return,p)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(p){In(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:$o(t,e),El(e),s&4&&w5(e);break;case 21:break;default:$o(t,e),El(e)}}function El(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(y9(r)){var s=r;break e}r=r.return}throw Error(Ye(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Yg(a,""),s.flags&=-33);var i=b5(e);f4(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=b5(e);u4(e,l,o);break;default:throw Error(Ye(161))}}catch(c){In(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kre(e,t,r){vt=e,w9(e)}function w9(e,t,r){for(var s=(e.mode&1)!==0;vt!==null;){var a=vt,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||Xy;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||da;l=Xy;var d=da;if(Xy=o,(da=c)&&!d)for(vt=a;vt!==null;)o=vt,c=o.child,o.tag===22&&o.memoizedState!==null?S5(a):c!==null?(c.return=o,vt=c):S5(a);for(;i!==null;)vt=i,w9(i),i=i.sibling;vt=a,Xy=l,da=d}N5(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,vt=i):N5(e)}}function N5(e){for(;vt!==null;){var t=vt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:da||oN(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!da)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:zo(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&o5(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}o5(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Jg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ye(163))}da||t.flags&512&&d4(t)}catch(m){In(t,t.return,m)}}if(t===e){vt=null;break}if(r=t.sibling,r!==null){r.return=t.return,vt=r;break}vt=t.return}}function _5(e){for(;vt!==null;){var t=vt;if(t===e){vt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,vt=r;break}vt=t.return}}function S5(e){for(;vt!==null;){var t=vt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{oN(4,t)}catch(c){In(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){In(t,a,c)}}var i=t.return;try{d4(t)}catch(c){In(t,i,c)}break;case 5:var o=t.return;try{d4(t)}catch(c){In(t,o,c)}}}catch(c){In(t,t.return,c)}if(t===e){vt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,vt=l;break}vt=t.return}}var Yre=Math.ceil,Rb=ud.ReactCurrentDispatcher,lk=ud.ReactCurrentOwner,wo=ud.ReactCurrentBatchConfig,xr=0,Is=null,ns=null,Qs=0,ki=0,nh=Tu(0),js=0,d0=null,Bf=0,lN=0,ck=0,Ng=null,Za=null,dk=0,Xh=1/0,bc=null,Mb=!1,m4=null,iu=null,Qy=!1,Gd=null,Fb=0,_g=0,h4=null,Jj=-1,eb=0;function Ma(){return xr&6?qn():Jj!==-1?Jj:Jj=qn()}function ou(e){return e.mode&1?xr&2&&Qs!==0?Qs&-Qs:Ore.transition!==null?(eb===0&&(eb=iB()),eb):(e=Rr,e!==0||(e=window.event,e=e===void 0?16:mB(e.type)),e):1}function sl(e,t,r,s){if(50<_g)throw _g=0,h4=null,Error(Ye(185));Tv(e,r,s),(!(xr&2)||e!==Is)&&(e===Is&&(!(xr&2)&&(lN|=r),js===4&&Id(e,Qs)),ii(e,s),r===1&&xr===0&&!(t.mode&1)&&(Xh=qn()+500,sN&&Ou()))}function ii(e,t){var r=e.callbackNode;Ote(e,t);var s=jb(e,e===Is?Qs:0);if(s===0)r!==null&&ID(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&ID(r),t===1)e.tag===0?Tre(C5.bind(null,e)):OB(C5.bind(null,e)),Ere(function(){!(xr&6)&&Ou()}),r=null;else{switch(oB(s)){case 1:r=MP;break;case 4:r=sB;break;case 16:r=yb;break;case 536870912:r=aB;break;default:r=yb}r=k9(r,N9.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function N9(e,t){if(Jj=-1,eb=0,xr&6)throw Error(Ye(327));var r=e.callbackNode;if(hh()&&e.callbackNode!==r)return null;var s=jb(e,e===Is?Qs:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=$b(e,s);else{t=s;var a=xr;xr|=2;var i=S9();(Is!==e||Qs!==t)&&(bc=null,Xh=qn()+500,Pf(e,t));do try{Zre();break}catch(l){_9(e,l)}while(!0);YP(),Rb.current=i,xr=a,ns!==null?t=0:(Is=null,Qs=0,t=js)}if(t!==0){if(t===2&&(a=UC(e),a!==0&&(s=a,t=p4(e,a))),t===1)throw r=d0,Pf(e,0),Id(e,s),ii(e,qn()),r;if(t===6)Id(e,s);else{if(a=e.current.alternate,!(s&30)&&!Xre(a)&&(t=$b(e,s),t===2&&(i=UC(e),i!==0&&(s=i,t=p4(e,i))),t===1))throw r=d0,Pf(e,0),Id(e,s),ii(e,qn()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(Ye(345));case 2:Zu(e,Za,bc);break;case 3:if(Id(e,s),(s&130023424)===s&&(t=dk+500-qn(),10<t)){if(jb(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Ma(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=YC(Zu.bind(null,e,Za,bc),t);break}Zu(e,Za,bc);break;case 4:if(Id(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-nl(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=qn()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Yre(s/1960))-s,10<s){e.timeoutHandle=YC(Zu.bind(null,e,Za,bc),s);break}Zu(e,Za,bc);break;case 5:Zu(e,Za,bc);break;default:throw Error(Ye(329))}}}return ii(e,qn()),e.callbackNode===r?N9.bind(null,e):null}function p4(e,t){var r=Ng;return e.current.memoizedState.isDehydrated&&(Pf(e,t).flags|=256),e=$b(e,t),e!==2&&(t=Za,Za=r,t!==null&&x4(t)),e}function x4(e){Za===null?Za=e:Za.push.apply(Za,e)}function Xre(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!cl(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Id(e,t){for(t&=~ck,t&=~lN,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-nl(t),s=1<<r;e[r]=-1,t&=~s}}function C5(e){if(xr&6)throw Error(Ye(327));hh();var t=jb(e,0);if(!(t&1))return ii(e,qn()),null;var r=$b(e,t);if(e.tag!==0&&r===2){var s=UC(e);s!==0&&(t=s,r=p4(e,s))}if(r===1)throw r=d0,Pf(e,0),Id(e,t),ii(e,qn()),r;if(r===6)throw Error(Ye(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zu(e,Za,bc),ii(e,qn()),null}function uk(e,t){var r=xr;xr|=1;try{return e(t)}finally{xr=r,xr===0&&(Xh=qn()+500,sN&&Ou())}}function Uf(e){Gd!==null&&Gd.tag===0&&!(xr&6)&&hh();var t=xr;xr|=1;var r=wo.transition,s=Rr;try{if(wo.transition=null,Rr=1,e)return e()}finally{Rr=s,wo.transition=r,xr=t,!(xr&6)&&Ou()}}function fk(){ki=nh.current,an(nh)}function Pf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Cre(r)),ns!==null)for(r=ns.return;r!==null;){var s=r;switch(qP(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Sb();break;case 3:Kh(),an(si),an(va),tk();break;case 5:ek(s);break;case 4:Kh();break;case 13:an(Nn);break;case 19:an(Nn);break;case 10:XP(s.type._context);break;case 22:case 23:fk()}r=r.return}if(Is=e,ns=e=lu(e.current,null),Qs=ki=t,js=0,d0=null,ck=lN=Bf=0,Za=Ng=null,uf!==null){for(t=0;t<uf.length;t++)if(r=uf[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}uf=null}return e}function _9(e,t){do{var r=ns;try{if(YP(),Xj.current=Ib,Db){for(var s=En.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Db=!1}if(Lf=0,Es=xs=En=null,bg=!1,o0=0,lk.current=null,r===null||r.return===null){js=1,d0=t,ns=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Qs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=m5(o);if(h!==null){h.flags&=-257,h5(h,o,l,i,t),h.mode&1&&f5(i,d,t),t=h,c=d;var x=t.updateQueue;if(x===null){var p=new Set;p.add(c),t.updateQueue=p}else x.add(c);break e}else{if(!(t&1)){f5(i,d,t),mk();break e}c=Error(Ye(426))}}else if(mn&&l.mode&1){var g=m5(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),h5(g,o,l,i,t),GP(Yh(c,l));break e}}i=c=Yh(c,l),js!==4&&(js=2),Ng===null?Ng=[i]:Ng.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var j=o9(i,c,t);i5(i,j);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(iu===null||!iu.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=l9(i,l,t);i5(i,b);break e}}i=i.return}while(i!==null)}E9(r)}catch(N){t=N,ns===r&&r!==null&&(ns=r=r.return);continue}break}while(!0)}function S9(){var e=Rb.current;return Rb.current=Ib,e===null?Ib:e}function mk(){(js===0||js===3||js===2)&&(js=4),Is===null||!(Bf&268435455)&&!(lN&268435455)||Id(Is,Qs)}function $b(e,t){var r=xr;xr|=2;var s=S9();(Is!==e||Qs!==t)&&(bc=null,Pf(e,t));do try{Qre();break}catch(a){_9(e,a)}while(!0);if(YP(),xr=r,Rb.current=s,ns!==null)throw Error(Ye(261));return Is=null,Qs=0,js}function Qre(){for(;ns!==null;)C9(ns)}function Zre(){for(;ns!==null&&!Nte();)C9(ns)}function C9(e){var t=P9(e.alternate,e,ki);e.memoizedProps=e.pendingProps,t===null?E9(e):ns=t,lk.current=null}function E9(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Hre(r,t),r!==null){r.flags&=32767,ns=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{js=6,ns=null;return}}else if(r=Wre(r,t,ki),r!==null){ns=r;return}if(t=t.sibling,t!==null){ns=t;return}ns=t=e}while(t!==null);js===0&&(js=5)}function Zu(e,t,r){var s=Rr,a=wo.transition;try{wo.transition=null,Rr=1,Jre(e,t,r,s)}finally{wo.transition=a,Rr=s}return null}function Jre(e,t,r,s){do hh();while(Gd!==null);if(xr&6)throw Error(Ye(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ye(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Dte(e,i),e===Is&&(ns=Is=null,Qs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Qy||(Qy=!0,k9(yb,function(){return hh(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=wo.transition,wo.transition=null;var o=Rr;Rr=1;var l=xr;xr|=4,lk.current=null,Gre(e,r),b9(r,e),yre(GC),bb=!!qC,GC=qC=null,e.current=r,Kre(r),_te(),xr=l,Rr=o,wo.transition=i}else e.current=r;if(Qy&&(Qy=!1,Gd=e,Fb=a),i=e.pendingLanes,i===0&&(iu=null),Ete(r.stateNode),ii(e,qn()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(Mb)throw Mb=!1,e=m4,m4=null,e;return Fb&1&&e.tag!==0&&hh(),i=e.pendingLanes,i&1?e===h4?_g++:(_g=0,h4=e):_g=0,Ou(),null}function hh(){if(Gd!==null){var e=oB(Fb),t=wo.transition,r=Rr;try{if(wo.transition=null,Rr=16>e?16:e,Gd===null)var s=!1;else{if(e=Gd,Gd=null,Fb=0,xr&6)throw Error(Ye(331));var a=xr;for(xr|=4,vt=e.current;vt!==null;){var i=vt,o=i.child;if(vt.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(vt=d;vt!==null;){var u=vt;switch(u.tag){case 0:case 11:case 15:wg(8,u,i)}var f=u.child;if(f!==null)f.return=u,vt=f;else for(;vt!==null;){u=vt;var m=u.sibling,h=u.return;if(v9(u),u===d){vt=null;break}if(m!==null){m.return=h,vt=m;break}vt=h}}}var x=i.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}vt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,vt=o;else e:for(;vt!==null;){if(i=vt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wg(9,i,i.return)}var j=i.sibling;if(j!==null){j.return=i.return,vt=j;break e}vt=i.return}}var y=e.current;for(vt=y;vt!==null;){o=vt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,vt=w;else e:for(o=y;vt!==null;){if(l=vt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:oN(9,l)}}catch(N){In(l,l.return,N)}if(l===o){vt=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,vt=b;break e}vt=l.return}}if(xr=a,Ou(),Kl&&typeof Kl.onPostCommitFiberRoot=="function")try{Kl.onPostCommitFiberRoot(Jw,e)}catch{}s=!0}return s}finally{Rr=r,wo.transition=t}}return!1}function E5(e,t,r){t=Yh(r,t),t=o9(e,t,1),e=au(e,t,1),t=Ma(),e!==null&&(Tv(e,1,t),ii(e,t))}function In(e,t,r){if(e.tag===3)E5(e,e,r);else for(;t!==null;){if(t.tag===3){E5(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(iu===null||!iu.has(s))){e=Yh(r,e),e=l9(t,e,1),t=au(t,e,1),e=Ma(),t!==null&&(Tv(t,1,e),ii(t,e));break}}t=t.return}}function ene(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Ma(),e.pingedLanes|=e.suspendedLanes&r,Is===e&&(Qs&r)===r&&(js===4||js===3&&(Qs&130023424)===Qs&&500>qn()-dk?Pf(e,0):ck|=r),ii(e,t)}function A9(e,t){t===0&&(e.mode&1?(t=Uy,Uy<<=1,!(Uy&130023424)&&(Uy=4194304)):t=1);var r=Ma();e=Yc(e,t),e!==null&&(Tv(e,t,r),ii(e,r))}function tne(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),A9(e,r)}function rne(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Ye(314))}s!==null&&s.delete(t),A9(e,r)}var P9;P9=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||si.current)ti=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ti=!1,zre(e,t,r);ti=!!(e.flags&131072)}else ti=!1,mn&&t.flags&1048576&&DB(t,Ab,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Zj(e,t),e=t.pendingProps;var a=Hh(t,va.current);mh(t,r),a=nk(null,t,s,e,a,r);var i=sk();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ai(s)?(i=!0,Cb(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,ZP(t),a.updater=iN,t.stateNode=a,a._reactInternals=t,r4(t,s,e,r),t=a4(null,t,s,!0,i,r)):(t.tag=0,mn&&i&&HP(t),Aa(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Zj(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=sne(s),e=zo(s,e),a){case 0:t=s4(null,t,s,e,r);break e;case 1:t=g5(null,t,s,e,r);break e;case 11:t=p5(null,t,s,e,r);break e;case 14:t=x5(null,t,s,zo(s.type,e),r);break e}throw Error(Ye(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:zo(s,a),s4(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:zo(s,a),g5(e,t,s,a,r);case 3:e:{if(f9(t),e===null)throw Error(Ye(387));s=t.pendingProps,i=t.memoizedState,a=i.element,LB(e,t),Tb(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Yh(Error(Ye(423)),t),t=v5(e,t,s,r,a);break e}else if(s!==a){a=Yh(Error(Ye(424)),t),t=v5(e,t,s,r,a);break e}else for(Fi=su(t.stateNode.containerInfo.firstChild),Li=t,mn=!0,Ko=null,r=FB(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(qh(),s===a){t=Xc(e,t,r);break e}Aa(e,t,s,r)}t=t.child}return t;case 5:return BB(t),e===null&&JC(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,KC(s,a)?o=null:i!==null&&KC(s,i)&&(t.flags|=32),u9(e,t),Aa(e,t,o,r),t.child;case 6:return e===null&&JC(t),null;case 13:return m9(e,t,r);case 4:return JP(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Gh(t,null,s,r):Aa(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:zo(s,a),p5(e,t,s,a,r);case 7:return Aa(e,t,t.pendingProps,r),t.child;case 8:return Aa(e,t,t.pendingProps.children,r),t.child;case 12:return Aa(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Yr(Pb,s._currentValue),s._currentValue=o,i!==null)if(cl(i.value,o)){if(i.children===a.children&&!si.current){t=Xc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Fc(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),e4(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ye(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),e4(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Aa(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,mh(t,r),a=Co(a),s=s(a),t.flags|=1,Aa(e,t,s,r),t.child;case 14:return s=t.type,a=zo(s,t.pendingProps),a=zo(s.type,a),x5(e,t,s,a,r);case 15:return c9(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:zo(s,a),Zj(e,t),t.tag=1,ai(s)?(e=!0,Cb(t)):e=!1,mh(t,r),i9(t,s,a),r4(t,s,a,r),a4(null,t,s,!0,e,r);case 19:return h9(e,t,r);case 22:return d9(e,t,r)}throw Error(Ye(156,t.tag))};function k9(e,t){return nB(e,t)}function nne(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vo(e,t,r,s){return new nne(e,t,r,s)}function hk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sne(e){if(typeof e=="function")return hk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===DP)return 11;if(e===IP)return 14}return 2}function lu(e,t){var r=e.alternate;return r===null?(r=vo(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function tb(e,t,r,s,a,i){var o=2;if(s=e,typeof e=="function")hk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Gm:return kf(r.children,a,i,t);case OP:o=8,a|=8;break;case CC:return e=vo(12,r,t,a|2),e.elementType=CC,e.lanes=i,e;case EC:return e=vo(13,r,t,a),e.elementType=EC,e.lanes=i,e;case AC:return e=vo(19,r,t,a),e.elementType=AC,e.lanes=i,e;case B8:return cN(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $8:o=10;break e;case L8:o=9;break e;case DP:o=11;break e;case IP:o=14;break e;case kd:o=16,s=null;break e}throw Error(Ye(130,e==null?e:typeof e,""))}return t=vo(o,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function kf(e,t,r,s){return e=vo(7,e,s,t),e.lanes=r,e}function cN(e,t,r,s){return e=vo(22,e,s,t),e.elementType=B8,e.lanes=r,e.stateNode={isHidden:!1},e}function U_(e,t,r){return e=vo(6,e,null,t),e.lanes=r,e}function V_(e,t,r){return t=vo(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ane(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=w_(0),this.expirationTimes=w_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w_(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function pk(e,t,r,s,a,i,o,l,c){return e=new ane(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=vo(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ZP(i),e}function ine(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qm,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function T9(e){if(!e)return xu;e=e._reactInternals;e:{if(dm(e)!==e||e.tag!==1)throw Error(Ye(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ye(171))}if(e.tag===1){var r=e.type;if(ai(r))return TB(e,r,t)}return t}function O9(e,t,r,s,a,i,o,l,c){return e=pk(r,s,!0,e,a,i,o,l,c),e.context=T9(null),r=e.current,s=Ma(),a=ou(r),i=Fc(s,a),i.callback=t??null,au(r,i,a),e.current.lanes=a,Tv(e,a,s),ii(e,s),e}function dN(e,t,r,s){var a=t.current,i=Ma(),o=ou(a);return r=T9(r),t.context===null?t.context=r:t.pendingContext=r,t=Fc(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=au(a,t,o),e!==null&&(sl(e,a,o,i),Yj(e,a,o)),o}function Lb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function A5(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function xk(e,t){A5(e,t),(e=e.alternate)&&A5(e,t)}function one(){return null}var D9=typeof reportError=="function"?reportError:function(e){console.error(e)};function gk(e){this._internalRoot=e}uN.prototype.render=gk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ye(409));dN(e,t,null,null)};uN.prototype.unmount=gk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Uf(function(){dN(null,e,null,null)}),t[Kc]=null}};function uN(e){this._internalRoot=e}uN.prototype.unstable_scheduleHydration=function(e){if(e){var t=dB();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Dd.length&&t!==0&&t<Dd[r].priority;r++);Dd.splice(r,0,e),r===0&&fB(e)}};function vk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function P5(){}function lne(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=Lb(o);i.call(d)}}var o=O9(t,s,e,0,null,!1,!1,"",P5);return e._reactRootContainer=o,e[Kc]=o.current,r0(e.nodeType===8?e.parentNode:e),Uf(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=Lb(c);l.call(d)}}var c=pk(e,0,!1,null,null,!1,!1,"",P5);return e._reactRootContainer=c,e[Kc]=c.current,r0(e.nodeType===8?e.parentNode:e),Uf(function(){dN(t,c,r,s)}),c}function mN(e,t,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Lb(o);l.call(c)}}dN(t,o,e,a)}else o=lne(r,t,e,a,s);return Lb(o)}lB=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ig(t.pendingLanes);r!==0&&(FP(t,r|1),ii(t,qn()),!(xr&6)&&(Xh=qn()+500,Ou()))}break;case 13:Uf(function(){var s=Yc(e,1);if(s!==null){var a=Ma();sl(s,e,1,a)}}),xk(e,1)}};$P=function(e){if(e.tag===13){var t=Yc(e,134217728);if(t!==null){var r=Ma();sl(t,e,134217728,r)}xk(e,134217728)}};cB=function(e){if(e.tag===13){var t=ou(e),r=Yc(e,t);if(r!==null){var s=Ma();sl(r,e,t,s)}xk(e,t)}};dB=function(){return Rr};uB=function(e,t){var r=Rr;try{return Rr=e,t()}finally{Rr=r}};$C=function(e,t,r){switch(t){case"input":if(TC(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=nN(s);if(!a)throw Error(Ye(90));V8(s),TC(s,a)}}}break;case"textarea":W8(e,r);break;case"select":t=r.value,t!=null&&ch(e,!!r.multiple,t,!1)}};Q8=uk;Z8=Uf;var cne={usingClientEntryPoint:!1,Events:[Dv,Qm,nN,Y8,X8,uk]},Dx={findFiberByHostInstance:df,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dne={bundleType:Dx.bundleType,version:Dx.version,rendererPackageName:Dx.rendererPackageName,rendererConfig:Dx.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ud.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tB(e),e===null?null:e.stateNode},findFiberByHostInstance:Dx.findFiberByHostInstance||one,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zy.isDisabled&&Zy.supportsFiber)try{Jw=Zy.inject(dne),Kl=Zy}catch{}}Ji.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cne;Ji.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vk(t))throw Error(Ye(200));return ine(e,t,null,r)};Ji.createRoot=function(e,t){if(!vk(e))throw Error(Ye(299));var r=!1,s="",a=D9;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=pk(e,1,!1,null,null,r,!1,s,a),e[Kc]=t.current,r0(e.nodeType===8?e.parentNode:e),new gk(t)};Ji.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ye(188)):(e=Object.keys(e).join(","),Error(Ye(268,e)));return e=tB(t),e=e===null?null:e.stateNode,e};Ji.flushSync=function(e){return Uf(e)};Ji.hydrate=function(e,t,r){if(!fN(t))throw Error(Ye(200));return mN(null,e,t,!0,r)};Ji.hydrateRoot=function(e,t,r){if(!vk(e))throw Error(Ye(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=D9;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=O9(t,null,e,1,r??null,a,!1,i,o),e[Kc]=t.current,r0(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new uN(t)};Ji.render=function(e,t,r){if(!fN(t))throw Error(Ye(200));return mN(null,e,t,!1,r)};Ji.unmountComponentAtNode=function(e){if(!fN(e))throw Error(Ye(40));return e._reactRootContainer?(Uf(function(){mN(null,null,e,!1,function(){e._reactRootContainer=null,e[Kc]=null})}),!0):!1};Ji.unstable_batchedUpdates=uk;Ji.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!fN(r))throw Error(Ye(200));if(e==null||e._reactInternals===void 0)throw Error(Ye(38));return mN(e,t,r,!1,s)};Ji.version="18.3.1-next-f1338f8080-20240426";function I9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I9)}catch(e){console.error(e)}}I9(),I8.exports=Ji;var pl=I8.exports;const hN=Ar(pl);var R9,k5=pl;R9=k5.createRoot,k5.hydrateRoot;const une=1,fne=1e6;let z_=0;function mne(){return z_=(z_+1)%Number.MAX_SAFE_INTEGER,z_.toString()}const W_=new Map,T5=e=>{if(W_.has(e))return;const t=setTimeout(()=>{W_.delete(e),Sg({type:"REMOVE_TOAST",toastId:e})},fne);W_.set(e,t)},hne=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,une)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?T5(r):e.toasts.forEach(s=>{T5(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},rb=[];let nb={toasts:[]};function Sg(e){nb=hne(nb,e),rb.forEach(t=>{t(nb)})}function pne({...e}){const t=mne(),r=a=>Sg({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>Sg({type:"DISMISS_TOAST",toastId:t});return Sg({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:r}}function gr(){const[e,t]=v.useState(nb);return v.useEffect(()=>(rb.push(t),()=>{const r=rb.indexOf(t);r>-1&&rb.splice(r,1)}),[e]),{...e,toast:pne,dismiss:r=>Sg({type:"DISMISS_TOAST",toastId:r})}}function He(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function xne(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function pN(...e){return t=>e.forEach(r=>xne(r,t))}function Rt(...e){return v.useCallback(pN(...e),e)}function gne(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,vne(a,...t)]}function vne(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var ec=v.forwardRef((e,t)=>{const{children:r,...s}=e,a=v.Children.toArray(r),i=a.find(yne);if(i){const o=i.props.children,l=a.map(c=>c===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return n.jsx(g4,{...s,ref:t,children:v.isValidElement(o)?v.cloneElement(o,void 0,l):null})}return n.jsx(g4,{...s,ref:t,children:r})});ec.displayName="Slot";var g4=v.forwardRef((e,t)=>{const{children:r,...s}=e;if(v.isValidElement(r)){const a=bne(r);return v.cloneElement(r,{...jne(s,r.props),ref:t?pN(t,a):a})}return v.Children.count(r)>1?v.Children.only(null):null});g4.displayName="SlotClone";var yk=({children:e})=>n.jsx(n.Fragment,{children:e});function yne(e){return v.isValidElement(e)&&e.type===yk}function jne(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function bne(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Rv(e){const t=e+"CollectionProvider",[r,s]=gne(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:x,children:p}=h,g=V.useRef(null),j=V.useRef(new Map).current;return n.jsx(a,{scope:x,itemMap:j,collectionRef:g,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=V.forwardRef((h,x)=>{const{scope:p,children:g}=h,j=i(l,p),y=Rt(x,j.collectionRef);return n.jsx(ec,{ref:y,children:g})});c.displayName=l;const d=e+"CollectionItemSlot",u="data-radix-collection-item",f=V.forwardRef((h,x)=>{const{scope:p,children:g,...j}=h,y=V.useRef(null),w=Rt(x,y),b=i(d,p);return V.useEffect(()=>(b.itemMap.set(y,{ref:y,...j}),()=>void b.itemMap.delete(y))),n.jsx(ec,{[u]:"",ref:w,children:g})});f.displayName=d;function m(h){const x=i(e+"CollectionConsumer",h);return V.useCallback(()=>{const g=x.collectionRef.current;if(!g)return[];const j=Array.from(g.querySelectorAll(`[${u}]`));return Array.from(x.itemMap.values()).sort((b,N)=>j.indexOf(b.ref.current)-j.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},m,s]}function wne(e,t){const r=v.createContext(t),s=i=>{const{children:o,...l}=i,c=v.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function na(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];const d=f=>{var j;const{scope:m,children:h,...x}=f,p=((j=m==null?void 0:m[e])==null?void 0:j[c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})};d.displayName=i+"Provider";function u(f,m){var p;const h=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,Nne(a,...t)]}function Nne(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var _ne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ft=_ne.reduce((e,t)=>{const r=v.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?ec:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function jk(e,t){e&&pl.flushSync(()=>e.dispatchEvent(t))}function hn(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function Sne(e,t=globalThis==null?void 0:globalThis.document){const r=hn(e);v.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var Cne="DismissableLayer",v4="dismissableLayer.update",Ene="dismissableLayer.pointerDownOutside",Ane="dismissableLayer.focusOutside",O5,M9=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),um=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=v.useContext(M9),[u,f]=v.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=v.useState({}),x=Rt(t,_=>f(_)),p=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=p.indexOf(g),y=u?p.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,b=y>=j,N=kne(_=>{const E=_.target,A=[...d.branches].some(T=>T.contains(E));!b||A||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},m),S=Tne(_=>{const E=_.target;[...d.branches].some(T=>T.contains(E))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},m);return Sne(_=>{y===d.layers.size-1&&(s==null||s(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},m),v.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(O5=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),D5(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=O5)}},[u,m,r,d]),v.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),D5())},[u,d]),v.useEffect(()=>{const _=()=>h({});return document.addEventListener(v4,_),()=>document.removeEventListener(v4,_)},[]),n.jsx(ft.div,{...c,ref:x,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:He(e.onFocusCapture,S.onFocusCapture),onBlurCapture:He(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:He(e.onPointerDownCapture,N.onPointerDownCapture)})});um.displayName=Cne;var Pne="DismissableLayerBranch",F9=v.forwardRef((e,t)=>{const r=v.useContext(M9),s=v.useRef(null),a=Rt(t,s);return v.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(ft.div,{...e,ref:a})});F9.displayName=Pne;function kne(e,t=globalThis==null?void 0:globalThis.document){const r=hn(e),s=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){$9(Ene,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function Tne(e,t=globalThis==null?void 0:globalThis.document){const r=hn(e),s=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!s.current&&$9(Ane,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function D5(){const e=new CustomEvent(v4);document.dispatchEvent(e)}function $9(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?jk(a,i):a.dispatchEvent(i)}var One=um,Dne=F9,is=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},Ine="Portal",Up=v.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=v.useState(!1);is(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?hN.createPortal(n.jsx(ft.div,{...s,ref:t}),o):null});Up.displayName=Ine;function Rne(e,t){return v.useReducer((r,s)=>t[r][s]??r,e)}var ls=e=>{const{present:t,children:r}=e,s=Mne(t),a=typeof r=="function"?r({present:s.isPresent}):v.Children.only(r),i=Rt(s.ref,Fne(a));return typeof r=="function"||s.isPresent?v.cloneElement(a,{ref:i}):null};ls.displayName="Presence";function Mne(e){const[t,r]=v.useState(),s=v.useRef({}),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Rne(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=Jy(s.current);i.current=l==="mounted"?d:"none"},[l]),is(()=>{const d=s.current,u=a.current;if(u!==e){const m=i.current,h=Jy(d);e?c("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),is(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=h=>{const p=Jy(s.current).includes(h.animationName);if(h.target===t&&p&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},m=h=>{h.target===t&&(i.current=Jy(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(d=>{d&&(s.current=getComputedStyle(d)),r(d)},[])}}function Jy(e){return(e==null?void 0:e.animationName)||"none"}function Fne(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function $a({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=$ne({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:s,l=hn(r),c=v.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else a(d)},[i,e,a,l]);return[o,c]}function $ne({defaultProp:e,onChange:t}){const r=v.useState(e),[s]=r,a=v.useRef(s),i=hn(t);return v.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}var Lne="VisuallyHidden",Mv=v.forwardRef((e,t)=>n.jsx(ft.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Mv.displayName=Lne;var Bne=Mv,bk="ToastProvider",[wk,Une,Vne]=Rv("Toast"),[L9,jnt]=na("Toast",[Vne]),[zne,xN]=L9(bk),B9=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=v.useState(null),[d,u]=v.useState(0),f=v.useRef(!1),m=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${bk}\`. Expected non-empty \`string\`.`),n.jsx(wk.Provider,{scope:t,children:n.jsx(zne,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>u(h=>h+1),[]),onToastRemove:v.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};B9.displayName=bk;var U9="ToastViewport",Wne=["F8"],y4="toast.viewportPause",j4="toast.viewportResume",V9=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=Wne,label:a="Notifications ({hotkey})",...i}=e,o=xN(U9,r),l=Une(r),c=v.useRef(null),d=v.useRef(null),u=v.useRef(null),f=v.useRef(null),m=Rt(t,f,o.onViewportChange),h=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;v.useEffect(()=>{const g=j=>{var w;s.length!==0&&s.every(b=>j[b]||j.code===b)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[s]),v.useEffect(()=>{const g=c.current,j=f.current;if(x&&g&&j){const y=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(y4);j.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(j4);j.dispatchEvent(S),o.isClosePausedRef.current=!1}},b=S=>{!g.contains(S.relatedTarget)&&w()},N=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",y),g.addEventListener("focusout",b),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",b),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const p=v.useCallback(({tabbingDirection:g})=>{const y=l().map(w=>{const b=w.ref.current,N=[b,...nse(b)];return g==="forwards"?N:N.reverse()});return(g==="forwards"?y.reverse():y).flat()},[l]);return v.useEffect(()=>{const g=f.current;if(g){const j=y=>{var N,S,_;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const E=document.activeElement,A=y.shiftKey;if(y.target===g&&A){(N=d.current)==null||N.focus();return}const I=p({tabbingDirection:A?"backwards":"forwards"}),z=I.findIndex(H=>H===E);H_(I.slice(z+1))?y.preventDefault():A?(S=d.current)==null||S.focus():(_=u.current)==null||_.focus()}};return g.addEventListener("keydown",j),()=>g.removeEventListener("keydown",j)}},[l,p]),n.jsxs(Dne,{ref:c,role:"region","aria-label":a.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&n.jsx(b4,{ref:d,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"forwards"});H_(g)}}),n.jsx(wk.Slot,{scope:r,children:n.jsx(ft.ol,{tabIndex:-1,...i,ref:m})}),x&&n.jsx(b4,{ref:u,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"backwards"});H_(g)}})]})});V9.displayName=U9;var z9="ToastFocusProxy",b4=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,i=xN(z9,r);return n.jsx(Mv,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});b4.displayName=z9;var gN="Toast",Hne="toast.swipeStart",qne="toast.swipeMove",Gne="toast.swipeCancel",Kne="toast.swipeEnd",W9=v.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=$a({prop:s,defaultProp:a,onChange:i});return n.jsx(ls,{present:r||l,children:n.jsx(Qne,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:hn(e.onPause),onResume:hn(e.onResume),onSwipeStart:He(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:He(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:He(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:He(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});W9.displayName=gN;var[Yne,Xne]=L9(gN,{onClose(){}}),Qne=v.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:h,...x}=e,p=xN(gN,r),[g,j]=v.useState(null),y=Rt(t,H=>j(H)),w=v.useRef(null),b=v.useRef(null),N=a||p.duration,S=v.useRef(0),_=v.useRef(N),E=v.useRef(0),{onToastAdd:A,onToastRemove:T}=p,R=hn(()=>{var F;(g==null?void 0:g.contains(document.activeElement))&&((F=p.viewport)==null||F.focus()),o()}),I=v.useCallback(H=>{!H||H===1/0||(window.clearTimeout(E.current),S.current=new Date().getTime(),E.current=window.setTimeout(R,H))},[R]);v.useEffect(()=>{const H=p.viewport;if(H){const F=()=>{I(_.current),d==null||d()},k=()=>{const P=new Date().getTime()-S.current;_.current=_.current-P,window.clearTimeout(E.current),c==null||c()};return H.addEventListener(y4,k),H.addEventListener(j4,F),()=>{H.removeEventListener(y4,k),H.removeEventListener(j4,F)}}},[p.viewport,N,c,d,I]),v.useEffect(()=>{i&&!p.isClosePausedRef.current&&I(N)},[i,N,p.isClosePausedRef,I]),v.useEffect(()=>(A(),()=>T()),[A,T]);const z=v.useMemo(()=>g?Q9(g):null,[g]);return p.viewport?n.jsxs(n.Fragment,{children:[z&&n.jsx(Zne,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),n.jsx(Yne,{scope:r,onClose:R,children:pl.createPortal(n.jsx(wk.ItemSlot,{scope:r,children:n.jsx(One,{asChild:!0,onEscapeKeyDown:He(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||R(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(ft.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:He(e.onKeyDown,H=>{H.key==="Escape"&&(l==null||l(H.nativeEvent),H.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:He(e.onPointerDown,H=>{H.button===0&&(w.current={x:H.clientX,y:H.clientY})}),onPointerMove:He(e.onPointerMove,H=>{if(!w.current)return;const F=H.clientX-w.current.x,k=H.clientY-w.current.y,P=!!b.current,M=["left","right"].includes(p.swipeDirection),O=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,K=M?O(0,F):0,ne=M?0:O(0,k),D=H.pointerType==="touch"?10:2,U={x:K,y:ne},L={originalEvent:H,delta:U};P?(b.current=U,ej(qne,f,L,{discrete:!1})):I5(U,p.swipeDirection,D)?(b.current=U,ej(Hne,u,L,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(F)>D||Math.abs(k)>D)&&(w.current=null)}),onPointerUp:He(e.onPointerUp,H=>{const F=b.current,k=H.target;if(k.hasPointerCapture(H.pointerId)&&k.releasePointerCapture(H.pointerId),b.current=null,w.current=null,F){const P=H.currentTarget,M={originalEvent:H,delta:F};I5(F,p.swipeDirection,p.swipeThreshold)?ej(Kne,h,M,{discrete:!0}):ej(Gne,m,M,{discrete:!0}),P.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),Zne=e=>{const{__scopeToast:t,children:r,...s}=e,a=xN(gN,t),[i,o]=v.useState(!1),[l,c]=v.useState(!1);return tse(()=>o(!0)),v.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(Up,{asChild:!0,children:n.jsx(Mv,{...s,children:i&&n.jsxs(n.Fragment,{children:[a.label," ",r]})})})},Jne="ToastTitle",H9=v.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(ft.div,{...s,ref:t})});H9.displayName=Jne;var ese="ToastDescription",q9=v.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(ft.div,{...s,ref:t})});q9.displayName=ese;var G9="ToastAction",K9=v.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?n.jsx(X9,{altText:r,asChild:!0,children:n.jsx(Nk,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${G9}\`. Expected non-empty \`string\`.`),null)});K9.displayName=G9;var Y9="ToastClose",Nk=v.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,a=Xne(Y9,r);return n.jsx(X9,{asChild:!0,children:n.jsx(ft.button,{type:"button",...s,ref:t,onClick:He(e.onClick,a.onClose)})})});Nk.displayName=Y9;var X9=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return n.jsx(ft.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function Q9(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),rse(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Q9(s))}}),t}function ej(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?jk(a,i):a.dispatchEvent(i)}var I5=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>r:!i&&a>r};function tse(e=()=>{}){const t=hn(e);is(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function rse(e){return e.nodeType===e.ELEMENT_NODE}function nse(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function H_(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var sse=B9,Z9=V9,J9=W9,e7=H9,t7=q9,r7=K9,n7=Nk;function s7(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=s7(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Vt(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=s7(e))&&(s&&(s+=" "),s+=t);return s}const R5=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,M5=Vt,Vp=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return M5(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],f=i==null?void 0:i[d];if(u===null)return null;const m=R5(u)||R5(f);return a[d][m]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,m]=u;return m===void 0||(d[f]=m),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:f,className:m,...h}=u;return Object.entries(h).every(x=>{let[p,g]=x;return Array.isArray(g)?g.includes({...i,...l}[p]):{...i,...l}[p]===g})?[...d,f,m]:d},[]);return M5(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a7=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ise={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ose=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...ise,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:a7("lucide",a),...l},[...o.map(([d,u])=>v.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t)=>{const r=v.forwardRef(({className:s,...a},i)=>v.createElement(ose,{ref:i,iconNode:t,className:a7(`lucide-${ase(e)}`,s),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=ze("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=ze("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=ze("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=ze("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=ze("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=ze("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=ze("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=ze("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=ze("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=ze("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=ze("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=ze("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=ze("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=ze("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=ze("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=ze("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=ze("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=ze("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=ze("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=ze("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=ze("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=ze("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=ze("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ze("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=ze("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=ze("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=ze("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=ze("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=ze("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=ze("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=ze("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=ze("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=ze("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=ze("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=ze("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=ze("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=ze("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=ze("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=ze("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=ze("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=ze("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=ze("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=ze("MapPinned",[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=ze("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=ze("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=ze("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=ze("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=ze("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=ze("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=ze("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=ze("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=ze("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=ze("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=ze("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=ze("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=ze("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=ze("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=ze("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=ze("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=ze("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=ze("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=ze("Sofa",[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=ze("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=ze("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=ze("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=ze("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=ze("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=ze("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=ze("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=ze("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=ze("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=ze("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=ze("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=ze("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=ze("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=ze("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=ze("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=ze("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dse=ze("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Ak="-",Ise=e=>{const t=Mse(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(Ak);return l[0]===""&&l.length!==1&&l.shift(),w7(l,t)||Rse(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},w7=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?w7(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(Ak);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},W5=/^\[(.+)\]$/,Rse=e=>{if(W5.test(e)){const t=W5.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Mse=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return $se(Object.entries(e.classGroups),r).forEach(([i,o])=>{N4(o,s,i,t)}),s},N4=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:H5(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(Fse(a)){N4(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{N4(o,H5(t,i),r,s)})})},H5=(e,t)=>{let r=e;return t.split(Ak).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},Fse=e=>e.isThemeGetter,$se=(e,t)=>t?e.map(([r,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,Lse=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},N7="!",Bse=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let g=0;g<l.length;g++){let j=l[g];if(d===0){if(j===a&&(s||l.slice(g,g+i)===t)){c.push(l.slice(u,g)),u=g+i;continue}if(j==="/"){f=g;continue}}j==="["?d++:j==="]"&&d--}const m=c.length===0?l:l.substring(u),h=m.startsWith(N7),x=h?m.substring(1):m,p=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:x,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},Use=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},Vse=e=>({cache:Lse(e.cacheSize),parseClassName:Bse(e),...Ise(e)}),zse=/\s+/,Wse=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(zse);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:h}=r(d);let x=!!h,p=s(x?m.substring(0,h):m);if(!p){if(!x){l=d+(l.length>0?" "+l:l);continue}if(p=s(m),!p){l=d+(l.length>0?" "+l:l);continue}x=!1}const g=Use(u).join(":"),j=f?g+N7:g,y=j+p;if(i.includes(y))continue;i.push(y);const w=a(p,x);for(let b=0;b<w.length;++b){const N=w[b];i.push(j+N)}l=d+(l.length>0?" "+l:l)}return l};function Hse(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=_7(t))&&(s&&(s+=" "),s+=r);return s}const _7=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=_7(e[s]))&&(r&&(r+=" "),r+=t);return r};function qse(e,...t){let r,s,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return r=Vse(d),s=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=Wse(c,r);return a(c,u),u}return function(){return i(Hse.apply(null,arguments))}}const Jr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},S7=/^\[(?:([a-z-]+):)?(.+)\]$/i,Gse=/^\d+\/\d+$/,Kse=new Set(["px","full","screen"]),Yse=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xse=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Qse=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Zse=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Jse=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pc=e=>gh(e)||Kse.has(e)||Gse.test(e),wd=e=>zp(e,"length",oae),gh=e=>!!e&&!Number.isNaN(Number(e)),G_=e=>zp(e,"number",gh),Ix=e=>!!e&&Number.isInteger(Number(e)),eae=e=>e.endsWith("%")&&gh(e.slice(0,-1)),Kt=e=>S7.test(e),Nd=e=>Yse.test(e),tae=new Set(["length","size","percentage"]),rae=e=>zp(e,tae,C7),nae=e=>zp(e,"position",C7),sae=new Set(["image","url"]),aae=e=>zp(e,sae,cae),iae=e=>zp(e,"",lae),Rx=()=>!0,zp=(e,t,r)=>{const s=S7.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},oae=e=>Xse.test(e)&&!Qse.test(e),C7=()=>!1,lae=e=>Zse.test(e),cae=e=>Jse.test(e),dae=()=>{const e=Jr("colors"),t=Jr("spacing"),r=Jr("blur"),s=Jr("brightness"),a=Jr("borderColor"),i=Jr("borderRadius"),o=Jr("borderSpacing"),l=Jr("borderWidth"),c=Jr("contrast"),d=Jr("grayscale"),u=Jr("hueRotate"),f=Jr("invert"),m=Jr("gap"),h=Jr("gradientColorStops"),x=Jr("gradientColorStopPositions"),p=Jr("inset"),g=Jr("margin"),j=Jr("opacity"),y=Jr("padding"),w=Jr("saturate"),b=Jr("scale"),N=Jr("sepia"),S=Jr("skew"),_=Jr("space"),E=Jr("translate"),A=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Kt,t],I=()=>[Kt,t],z=()=>["",pc,wd],H=()=>["auto",gh,Kt],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],k=()=>["solid","dashed","dotted","double","none"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",Kt],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[gh,Kt];return{cacheSize:500,separator:":",theme:{colors:[Rx],spacing:[pc,wd],blur:["none","",Nd,Kt],brightness:ne(),borderColor:[e],borderRadius:["none","","full",Nd,Kt],borderSpacing:I(),borderWidth:z(),contrast:ne(),grayscale:O(),hueRotate:ne(),invert:O(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[eae,wd],inset:R(),margin:R(),opacity:ne(),padding:I(),saturate:ne(),scale:ne(),sepia:O(),skew:ne(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Kt]}],container:["container"],columns:[{columns:[Nd]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Kt]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ix,Kt]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Kt]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Ix,Kt]}],"grid-cols":[{"grid-cols":[Rx]}],"col-start-end":[{col:["auto",{span:["full",Ix,Kt]},Kt]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Rx]}],"row-start-end":[{row:["auto",{span:[Ix,Kt]},Kt]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Kt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Kt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Kt,t]}],"min-w":[{"min-w":[Kt,t,"min","max","fit"]}],"max-w":[{"max-w":[Kt,t,"none","full","min","max","fit","prose",{screen:[Nd]},Nd]}],h:[{h:[Kt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Kt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Kt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Kt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Nd,wd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",G_]}],"font-family":[{font:[Rx]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Kt]}],"line-clamp":[{"line-clamp":["none",gh,G_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pc,Kt]}],"list-image":[{"list-image":["none",Kt]}],"list-style-type":[{list:["none","disc","decimal",Kt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...k(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pc,wd]}],"underline-offset":[{"underline-offset":["auto",pc,Kt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Kt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Kt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),nae]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rae]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aae]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...k(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:k()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...k()]}],"outline-offset":[{"outline-offset":[pc,Kt]}],"outline-w":[{outline:[pc,wd]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[pc,wd]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Nd,iae]}],"shadow-color":[{shadow:[Rx]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...P(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":P()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Nd,Kt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Kt]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",Kt]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",Kt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Ix,Kt]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Kt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Kt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Kt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[pc,wd,G_]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},uae=qse(dae);function ve(...e){return uae(Vt(e))}const fae=sse,E7=v.forwardRef(({className:e,...t},r)=>n.jsx(Z9,{ref:r,className:ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));E7.displayName=Z9.displayName;const mae=Vp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),A7=v.forwardRef(({className:e,variant:t,...r},s)=>n.jsx(J9,{ref:s,className:ve(mae({variant:t}),e),...r}));A7.displayName=J9.displayName;const hae=v.forwardRef(({className:e,...t},r)=>n.jsx(r7,{ref:r,className:ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));hae.displayName=r7.displayName;const P7=v.forwardRef(({className:e,...t},r)=>n.jsx(n7,{ref:r,className:ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(ps,{className:"h-4 w-4"})}));P7.displayName=n7.displayName;const k7=v.forwardRef(({className:e,...t},r)=>n.jsx(e7,{ref:r,className:ve("text-sm font-semibold",e),...t}));k7.displayName=e7.displayName;const T7=v.forwardRef(({className:e,...t},r)=>n.jsx(t7,{ref:r,className:ve("text-sm opacity-90",e),...t}));T7.displayName=t7.displayName;function pae(){const{toasts:e}=gr();return n.jsxs(fae,{children:[e.map(function({id:t,title:r,description:s,action:a,...i}){return n.jsxs(A7,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(k7,{children:r}),s&&n.jsx(T7,{children:s})]}),a,n.jsx(P7,{})]},t)}),n.jsx(E7,{})]})}var zb=["light","dark"],Pk="(prefers-color-scheme: dark)",xae=typeof window>"u",kk=v.createContext(void 0),gae={setTheme:e=>{},themes:[]},Wp=()=>{var e;return(e=v.useContext(kk))!=null?e:gae},vae=e=>v.useContext(kk)?e.children:v.createElement(jae,{...e}),yae=["light","dark"],jae=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:s=!0,storageKey:a="theme",themes:i=yae,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:d,nonce:u})=>{let[f,m]=v.useState(()=>q5(a,o)),[h,x]=v.useState(()=>q5(a)),p=c?Object.values(c):i,g=v.useCallback(b=>{let N=b;if(!N)return;b==="system"&&r&&(N=G5());let S=c?c[N]:N,_=t?wae():null,E=document.documentElement;if(l==="class"?(E.classList.remove(...p),S&&E.classList.add(S)):S?E.setAttribute(l,S):E.removeAttribute(l),s){let A=zb.includes(o)?o:null,T=zb.includes(N)?N:A;E.style.colorScheme=T}_==null||_()},[]),j=v.useCallback(b=>{let N=typeof b=="function"?b(b):b;m(N);try{localStorage.setItem(a,N)}catch{}},[e]),y=v.useCallback(b=>{let N=G5(b);x(N),f==="system"&&r&&!e&&g("system")},[f,e]);v.useEffect(()=>{let b=window.matchMedia(Pk);return b.addListener(y),y(b),()=>b.removeListener(y)},[y]),v.useEffect(()=>{let b=N=>{if(N.key!==a)return;let S=N.newValue||o;j(S)};return window.addEventListener("storage",b),()=>window.removeEventListener("storage",b)},[j]),v.useEffect(()=>{g(e??f)},[e,f]);let w=v.useMemo(()=>({theme:f,setTheme:j,forcedTheme:e,resolvedTheme:f==="system"?h:f,themes:r?[...i,"system"]:i,systemTheme:r?h:void 0}),[f,j,e,h,r,i]);return v.createElement(kk.Provider,{value:w},v.createElement(bae,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:s,storageKey:a,themes:i,defaultTheme:o,attribute:l,value:c,children:d,attrs:p,nonce:u}),d)},bae=v.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?zb.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,p=!1,g=!0)=>{let j=o?o[x]:x,y=p?x+"|| ''":`'${j}'`,w="";return a&&g&&!p&&zb.includes(x)&&(w+=`d.style.colorScheme = '${x}';`),r==="class"?p||j?w+=`c.add(${y})`:w+="null":j&&(w+=`d[s](n,${y})`),w},h=e?`!function(){${u}${m(e)}}()`:s?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${Pk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})}),q5=(e,t)=>{if(xae)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},wae=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},G5=e=>(e||(e=window.matchMedia(Pk)),e.matches?"dark":"light"),Nae=e=>{switch(e){case"success":return Cae;case"info":return Aae;case"warning":return Eae;case"error":return Pae;default:return null}},_ae=Array(12).fill(0),Sae=({visible:e})=>V.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},V.createElement("div",{className:"sonner-spinner"},_ae.map((t,r)=>V.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Cae=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Eae=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Aae=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Pae=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),kae=()=>{let[e,t]=V.useState(document.hidden);return V.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},_4=1,Tae=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:_4++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...s,dismissible:o,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),a=r!==void 0;return s.then(async i=>{if(Dae(i)&&!i.ok){a=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:r,type:"error",message:o,description:l})}else if(t.success!==void 0){a=!1;let o=typeof t.success=="function"?await t.success(i):t.success,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async i=>{if(t.error!==void 0){a=!1;let o=typeof t.error=="function"?await t.error(i):t.error,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var i;a&&(this.dismiss(r),r=void 0),(i=t.finally)==null||i.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||_4++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Ai=new Tae,Oae=(e,t)=>{let r=(t==null?void 0:t.id)||_4++;return Ai.addToast({title:e,...t,id:r}),r},Dae=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Iae=Oae,Rae=()=>Ai.toasts,Ue=Object.assign(Iae,{success:Ai.success,info:Ai.info,warning:Ai.warning,error:Ai.error,custom:Ai.custom,message:Ai.message,promise:Ai.promise,dismiss:Ai.dismiss,loading:Ai.loading},{getHistory:Rae});function Mae(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}Mae(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function tj(e){return e.label!==void 0}var Fae=3,$ae="32px",Lae=4e3,Bae=356,Uae=14,Vae=20,zae=200;function Wae(...e){return e.filter(Boolean).join(" ")}var Hae=e=>{var t,r,s,a,i,o,l,c,d,u;let{invert:f,toast:m,unstyled:h,interacting:x,setHeights:p,visibleToasts:g,heights:j,index:y,toasts:w,expanded:b,removeToast:N,defaultRichColors:S,closeButton:_,style:E,cancelButtonStyle:A,actionButtonStyle:T,className:R="",descriptionClassName:I="",duration:z,position:H,gap:F,loadingIcon:k,expandByDefault:P,classNames:M,icons:O,closeButtonAriaLabel:K="Close toast",pauseWhenPageIsHidden:ne,cn:D}=e,[U,L]=V.useState(!1),[G,le]=V.useState(!1),[fe,B]=V.useState(!1),[Y,ie]=V.useState(!1),[we,ue]=V.useState(0),[ge,xe]=V.useState(0),_e=V.useRef(null),Re=V.useRef(null),ke=y===0,re=y+1<=g,he=m.type,ce=m.dismissible!==!1,je=m.className||"",Fe=m.descriptionClassName||"",De=V.useMemo(()=>j.findIndex(jt=>jt.toastId===m.id)||0,[j,m.id]),de=V.useMemo(()=>{var jt;return(jt=m.closeButton)!=null?jt:_},[m.closeButton,_]),Ie=V.useMemo(()=>m.duration||z||Lae,[m.duration,z]),it=V.useRef(0),bt=V.useRef(0),qe=V.useRef(0),ye=V.useRef(null),[Ge,Pt]=H.split("-"),kt=V.useMemo(()=>j.reduce((jt,Ft,tr)=>tr>=De?jt:jt+Ft.height,0),[j,De]),vr=kae(),qr=m.invert||f,Zr=he==="loading";bt.current=V.useMemo(()=>De*F+kt,[De,kt]),V.useEffect(()=>{L(!0)},[]),V.useLayoutEffect(()=>{if(!U)return;let jt=Re.current,Ft=jt.style.height;jt.style.height="auto";let tr=jt.getBoundingClientRect().height;jt.style.height=Ft,xe(tr),p(Un=>Un.find(ds=>ds.toastId===m.id)?Un.map(ds=>ds.toastId===m.id?{...ds,height:tr}:ds):[{toastId:m.id,height:tr,position:m.position},...Un])},[U,m.title,m.description,p,m.id]);let Vr=V.useCallback(()=>{le(!0),ue(bt.current),p(jt=>jt.filter(Ft=>Ft.toastId!==m.id)),setTimeout(()=>{N(m)},zae)},[m,N,p,bt]);V.useEffect(()=>{if(m.promise&&he==="loading"||m.duration===1/0||m.type==="loading")return;let jt,Ft=Ie;return b||x||ne&&vr?(()=>{if(qe.current<it.current){let tr=new Date().getTime()-it.current;Ft=Ft-tr}qe.current=new Date().getTime()})():Ft!==1/0&&(it.current=new Date().getTime(),jt=setTimeout(()=>{var tr;(tr=m.onAutoClose)==null||tr.call(m,m),Vr()},Ft)),()=>clearTimeout(jt)},[b,x,P,m,Ie,Vr,m.promise,he,ne,vr]),V.useEffect(()=>{let jt=Re.current;if(jt){let Ft=jt.getBoundingClientRect().height;return xe(Ft),p(tr=>[{toastId:m.id,height:Ft,position:m.position},...tr]),()=>p(tr=>tr.filter(Un=>Un.toastId!==m.id))}},[p,m.id]),V.useEffect(()=>{m.delete&&Vr()},[Vr,m.delete]);function Pr(){return O!=null&&O.loading?V.createElement("div",{className:"sonner-loader","data-visible":he==="loading"},O.loading):k?V.createElement("div",{className:"sonner-loader","data-visible":he==="loading"},k):V.createElement(Sae,{visible:he==="loading"})}return V.createElement("li",{"aria-live":m.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Re,className:D(R,je,M==null?void 0:M.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,M==null?void 0:M.default,M==null?void 0:M[he],(r=m==null?void 0:m.classNames)==null?void 0:r[he]),"data-sonner-toast":"","data-rich-colors":(s=m.richColors)!=null?s:S,"data-styled":!(m.jsx||m.unstyled||h),"data-mounted":U,"data-promise":!!m.promise,"data-removed":G,"data-visible":re,"data-y-position":Ge,"data-x-position":Pt,"data-index":y,"data-front":ke,"data-swiping":fe,"data-dismissible":ce,"data-type":he,"data-invert":qr,"data-swipe-out":Y,"data-expanded":!!(b||P&&U),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${G?we:bt.current}px`,"--initial-height":P?"auto":`${ge}px`,...E,...m.style},onPointerDown:jt=>{Zr||!ce||(_e.current=new Date,ue(bt.current),jt.target.setPointerCapture(jt.pointerId),jt.target.tagName!=="BUTTON"&&(B(!0),ye.current={x:jt.clientX,y:jt.clientY}))},onPointerUp:()=>{var jt,Ft,tr,Un;if(Y||!ce)return;ye.current=null;let ds=Number(((jt=Re.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount").replace("px",""))||0),qa=new Date().getTime()-((Ft=_e.current)==null?void 0:Ft.getTime()),jd=Math.abs(ds)/qa;if(Math.abs(ds)>=Vae||jd>.11){ue(bt.current),(tr=m.onDismiss)==null||tr.call(m,m),Vr(),ie(!0);return}(Un=Re.current)==null||Un.style.setProperty("--swipe-amount","0px"),B(!1)},onPointerMove:jt=>{var Ft;if(!ye.current||!ce)return;let tr=jt.clientY-ye.current.y,Un=jt.clientX-ye.current.x,ds=(Ge==="top"?Math.min:Math.max)(0,tr),qa=jt.pointerType==="touch"?10:2;Math.abs(ds)>qa?(Ft=Re.current)==null||Ft.style.setProperty("--swipe-amount",`${tr}px`):Math.abs(Un)>qa&&(ye.current=null)}},de&&!m.jsx?V.createElement("button",{"aria-label":K,"data-disabled":Zr,"data-close-button":!0,onClick:Zr||!ce?()=>{}:()=>{var jt;Vr(),(jt=m.onDismiss)==null||jt.call(m,m)},className:D(M==null?void 0:M.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},V.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,m.jsx||V.isValidElement(m.title)?m.jsx||m.title:V.createElement(V.Fragment,null,he||m.icon||m.promise?V.createElement("div",{"data-icon":"",className:D(M==null?void 0:M.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Pr():null,m.type!=="loading"?m.icon||(O==null?void 0:O[he])||Nae(he):null):null,V.createElement("div",{"data-content":"",className:D(M==null?void 0:M.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},V.createElement("div",{"data-title":"",className:D(M==null?void 0:M.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},m.title),m.description?V.createElement("div",{"data-description":"",className:D(I,Fe,M==null?void 0:M.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},m.description):null),V.isValidElement(m.cancel)?m.cancel:m.cancel&&tj(m.cancel)?V.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||A,onClick:jt=>{var Ft,tr;tj(m.cancel)&&ce&&((tr=(Ft=m.cancel).onClick)==null||tr.call(Ft,jt),Vr())},className:D(M==null?void 0:M.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,V.isValidElement(m.action)?m.action:m.action&&tj(m.action)?V.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||T,onClick:jt=>{var Ft,tr;tj(m.action)&&(jt.defaultPrevented||((tr=(Ft=m.action).onClick)==null||tr.call(Ft,jt),Vr()))},className:D(M==null?void 0:M.actionButton,(u=m==null?void 0:m.classNames)==null?void 0:u.actionButton)},m.action.label):null))};function K5(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var qae=e=>{let{invert:t,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:o,offset:l,theme:c="light",richColors:d,duration:u,style:f,visibleToasts:m=Fae,toastOptions:h,dir:x=K5(),gap:p=Uae,loadingIcon:g,icons:j,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:w,cn:b=Wae}=e,[N,S]=V.useState([]),_=V.useMemo(()=>Array.from(new Set([r].concat(N.filter(ne=>ne.position).map(ne=>ne.position)))),[N,r]),[E,A]=V.useState([]),[T,R]=V.useState(!1),[I,z]=V.useState(!1),[H,F]=V.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),k=V.useRef(null),P=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=V.useRef(null),O=V.useRef(!1),K=V.useCallback(ne=>{var D;(D=N.find(U=>U.id===ne.id))!=null&&D.delete||Ai.dismiss(ne.id),S(U=>U.filter(({id:L})=>L!==ne.id))},[N]);return V.useEffect(()=>Ai.subscribe(ne=>{if(ne.dismiss){S(D=>D.map(U=>U.id===ne.id?{...U,delete:!0}:U));return}setTimeout(()=>{hN.flushSync(()=>{S(D=>{let U=D.findIndex(L=>L.id===ne.id);return U!==-1?[...D.slice(0,U),{...D[U],...ne},...D.slice(U+1)]:[ne,...D]})})})}),[]),V.useEffect(()=>{if(c!=="system"){F(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:ne})=>{F(ne?"dark":"light")})},[c]),V.useEffect(()=>{N.length<=1&&R(!1)},[N]),V.useEffect(()=>{let ne=D=>{var U,L;s.every(G=>D[G]||D.code===G)&&(R(!0),(U=k.current)==null||U.focus()),D.code==="Escape"&&(document.activeElement===k.current||(L=k.current)!=null&&L.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[s]),V.useEffect(()=>{if(k.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,O.current=!1)}},[k.current]),N.length?V.createElement("section",{"aria-label":`${y} ${P}`,tabIndex:-1},_.map((ne,D)=>{var U;let[L,G]=ne.split("-");return V.createElement("ol",{key:ne,dir:x==="auto"?K5():x,tabIndex:-1,ref:k,className:o,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":L,"data-x-position":G,style:{"--front-toast-height":`${((U=E[0])==null?void 0:U.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||$ae,"--width":`${Bae}px`,"--gap":`${p}px`,...f},onBlur:le=>{O.current&&!le.currentTarget.contains(le.relatedTarget)&&(O.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||O.current||(O.current=!0,M.current=le.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{I||R(!1)},onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},N.filter(le=>!le.position&&D===0||le.position===ne).map((le,fe)=>{var B,Y;return V.createElement(Hae,{key:le.id,icons:j,index:fe,toast:le,defaultRichColors:d,duration:(B=h==null?void 0:h.duration)!=null?B:u,className:h==null?void 0:h.className,descriptionClassName:h==null?void 0:h.descriptionClassName,invert:t,visibleToasts:m,closeButton:(Y=h==null?void 0:h.closeButton)!=null?Y:i,interacting:I,position:ne,style:h==null?void 0:h.style,unstyled:h==null?void 0:h.unstyled,classNames:h==null?void 0:h.classNames,cancelButtonStyle:h==null?void 0:h.cancelButtonStyle,actionButtonStyle:h==null?void 0:h.actionButtonStyle,removeToast:K,toasts:N.filter(ie=>ie.position==le.position),heights:E.filter(ie=>ie.position==le.position),setHeights:A,expandByDefault:a,gap:p,loadingIcon:g,expanded:T,pauseWhenPageIsHidden:w,cn:b})}))})):null};const Gae=({...e})=>{const{theme:t="system"}=Wp();return n.jsx(qae,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Kae=AP.useId||(()=>{}),Yae=0;function ci(e){const[t,r]=v.useState(Kae());return is(()=>{r(s=>s??String(Yae++))},[e]),t?`radix-${t}`:""}const Xae=["top","right","bottom","left"],yu=Math.min,Di=Math.max,Wb=Math.round,rj=Math.floor,ju=e=>({x:e,y:e}),Qae={left:"right",right:"left",bottom:"top",top:"bottom"},Zae={start:"end",end:"start"};function S4(e,t,r){return Di(e,yu(t,r))}function Zc(e,t){return typeof e=="function"?e(t):e}function Jc(e){return e.split("-")[0]}function Hp(e){return e.split("-")[1]}function Tk(e){return e==="x"?"y":"x"}function Ok(e){return e==="y"?"height":"width"}function bu(e){return["top","bottom"].includes(Jc(e))?"y":"x"}function Dk(e){return Tk(bu(e))}function Jae(e,t,r){r===void 0&&(r=!1);const s=Hp(e),a=Dk(e),i=Ok(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Hb(o)),[o,Hb(o)]}function eie(e){const t=Hb(e);return[C4(e),t,C4(t)]}function C4(e){return e.replace(/start|end/g,t=>Zae[t])}function tie(e,t,r){const s=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:s:t?s:a;case"left":case"right":return t?i:o;default:return[]}}function rie(e,t,r,s){const a=Hp(e);let i=tie(Jc(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(C4)))),i}function Hb(e){return e.replace(/left|right|bottom|top/g,t=>Qae[t])}function nie(e){return{top:0,right:0,bottom:0,left:0,...e}}function O7(e){return typeof e!="number"?nie(e):{top:e,right:e,bottom:e,left:e}}function qb(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function Y5(e,t,r){let{reference:s,floating:a}=e;const i=bu(t),o=Dk(t),l=Ok(o),c=Jc(t),d=i==="y",u=s.x+s.width/2-a.width/2,f=s.y+s.height/2-a.height/2,m=s[l]/2-a[l]/2;let h;switch(c){case"top":h={x:u,y:s.y-a.height};break;case"bottom":h={x:u,y:s.y+s.height};break;case"right":h={x:s.x+s.width,y:f};break;case"left":h={x:s.x-a.width,y:f};break;default:h={x:s.x,y:s.y}}switch(Hp(t)){case"start":h[o]-=m*(r&&d?-1:1);break;case"end":h[o]+=m*(r&&d?-1:1);break}return h}const sie=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=Y5(d,s,c),m=s,h={},x=0;for(let p=0;p<l.length;p++){const{name:g,fn:j}=l[p],{x:y,y:w,data:b,reset:N}=await j({x:u,y:f,initialPlacement:s,placement:m,strategy:a,middlewareData:h,rects:d,platform:o,elements:{reference:e,floating:t}});u=y??u,f=w??f,h={...h,[g]:{...h[g],...b}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:u,y:f}=Y5(d,m,c)),p=-1)}return{x:u,y:f,placement:m,strategy:a,middlewareData:h}};async function m0(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=Zc(t,e),x=O7(h),g=l[m?f==="floating"?"reference":"floating":f],j=qb(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=f==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=qb(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(j.top-N.top+x.top)/b.y,bottom:(N.bottom-j.bottom+x.bottom)/b.y,left:(j.left-N.left+x.left)/b.x,right:(N.right-j.right+x.right)/b.x}}const aie=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Zc(e,t)||{};if(d==null)return{};const f=O7(u),m={x:r,y:s},h=Dk(a),x=Ok(h),p=await o.getDimensions(d),g=h==="y",j=g?"top":"left",y=g?"bottom":"right",w=g?"clientHeight":"clientWidth",b=i.reference[x]+i.reference[h]-m[h]-i.floating[x],N=m[h]-i.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let _=S?S[w]:0;(!_||!await(o.isElement==null?void 0:o.isElement(S)))&&(_=l.floating[w]||i.floating[x]);const E=b/2-N/2,A=_/2-p[x]/2-1,T=yu(f[j],A),R=yu(f[y],A),I=T,z=_-p[x]-R,H=_/2-p[x]/2+E,F=S4(I,H,z),k=!c.arrow&&Hp(a)!=null&&H!==F&&i.reference[x]/2-(H<I?T:R)-p[x]/2<0,P=k?H<I?H-I:H-z:0;return{[h]:m[h]+P,data:{[h]:F,centerOffset:H-F-P,...k&&{alignmentOffset:P}},reset:k}}}),iie=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...g}=Zc(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const j=Jc(a),y=bu(l),w=Jc(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=m||(w||!p?[Hb(l)]:eie(l)),S=x!=="none";!m&&S&&N.push(...rie(l,p,x,b));const _=[l,...N],E=await m0(t,g),A=[];let T=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&A.push(E[j]),f){const H=Jae(a,o,b);A.push(E[H[0]],E[H[1]])}if(T=[...T,{placement:a,overflows:A}],!A.every(H=>H<=0)){var R,I;const H=(((R=i.flip)==null?void 0:R.index)||0)+1,F=_[H];if(F)return{data:{index:H,overflows:T},reset:{placement:F}};let k=(I=T.filter(P=>P.overflows[0]<=0).sort((P,M)=>P.overflows[1]-M.overflows[1])[0])==null?void 0:I.placement;if(!k)switch(h){case"bestFit":{var z;const P=(z=T.filter(M=>{if(S){const O=bu(M.placement);return O===y||O==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(O=>O>0).reduce((O,K)=>O+K,0)]).sort((M,O)=>M[1]-O[1])[0])==null?void 0:z[0];P&&(k=P);break}case"initialPlacement":k=l;break}if(a!==k)return{reset:{placement:k}}}return{}}}};function X5(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Q5(e){return Xae.some(t=>e[t]>=0)}const oie=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=Zc(e,t);switch(s){case"referenceHidden":{const i=await m0(t,{...a,elementContext:"reference"}),o=X5(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Q5(o)}}}case"escaped":{const i=await m0(t,{...a,altBoundary:!0}),o=X5(i,r.floating);return{data:{escapedOffsets:o,escaped:Q5(o)}}}default:return{}}}}};async function lie(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Jc(r),l=Hp(r),c=bu(r)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,f=Zc(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(h=l==="end"?x*-1:x),c?{x:h*u,y:m*d}:{x:m*d,y:h*u}}const cie=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await lie(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},die=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:j,y}=g;return{x:j,y}}},...c}=Zc(e,t),d={x:r,y:s},u=await m0(t,c),f=bu(Jc(a)),m=Tk(f);let h=d[m],x=d[f];if(i){const g=m==="y"?"top":"left",j=m==="y"?"bottom":"right",y=h+u[g],w=h-u[j];h=S4(y,h,w)}if(o){const g=f==="y"?"top":"left",j=f==="y"?"bottom":"right",y=x+u[g],w=x-u[j];x=S4(y,x,w)}const p=l.fn({...t,[m]:h,[f]:x});return{...p,data:{x:p.x-r,y:p.y-s,enabled:{[m]:i,[f]:o}}}}}},uie=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Zc(e,t),u={x:r,y:s},f=bu(a),m=Tk(f);let h=u[m],x=u[f];const p=Zc(l,t),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=m==="y"?"height":"width",b=i.reference[m]-i.floating[w]+g.mainAxis,N=i.reference[m]+i.reference[w]-g.mainAxis;h<b?h=b:h>N&&(h=N)}if(d){var j,y;const w=m==="y"?"width":"height",b=["top","left"].includes(Jc(a)),N=i.reference[f]-i.floating[w]+(b&&((j=o.offset)==null?void 0:j[f])||0)+(b?0:g.crossAxis),S=i.reference[f]+i.reference[w]+(b?0:((y=o.offset)==null?void 0:y[f])||0)-(b?g.crossAxis:0);x<N?x=N:x>S&&(x=S)}return{[m]:h,[f]:x}}}},fie=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Zc(e,t),u=await m0(t,d),f=Jc(a),m=Hp(a),h=bu(a)==="y",{width:x,height:p}=i.floating;let g,j;f==="top"||f==="bottom"?(g=f,j=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(j=f,g=m==="end"?"top":"bottom");const y=p-u.top-u.bottom,w=x-u.left-u.right,b=yu(p-u[g],y),N=yu(x-u[j],w),S=!t.middlewareData.shift;let _=b,E=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=w),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(_=y),S&&!m){const T=Di(u.left,0),R=Di(u.right,0),I=Di(u.top,0),z=Di(u.bottom,0);h?E=x-2*(T!==0||R!==0?T+R:Di(u.left,u.right)):_=p-2*(I!==0||z!==0?I+z:Di(u.top,u.bottom))}await c({...t,availableWidth:E,availableHeight:_});const A=await o.getDimensions(l.floating);return x!==A.width||p!==A.height?{reset:{rects:!0}}:{}}}};function yN(){return typeof window<"u"}function qp(e){return D7(e)?(e.nodeName||"").toLowerCase():"#document"}function Bi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function oc(e){var t;return(t=(D7(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function D7(e){return yN()?e instanceof Node||e instanceof Bi(e).Node:!1}function ul(e){return yN()?e instanceof Element||e instanceof Bi(e).Element:!1}function rc(e){return yN()?e instanceof HTMLElement||e instanceof Bi(e).HTMLElement:!1}function Z5(e){return!yN()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Bi(e).ShadowRoot}function Vv(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=fl(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!["inline","contents"].includes(a)}function mie(e){return["table","td","th"].includes(qp(e))}function jN(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ik(e){const t=Rk(),r=ul(e)?fl(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function hie(e){let t=wu(e);for(;rc(t)&&!Qh(t);){if(Ik(t))return t;if(jN(t))return null;t=wu(t)}return null}function Rk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qh(e){return["html","body","#document"].includes(qp(e))}function fl(e){return Bi(e).getComputedStyle(e)}function bN(e){return ul(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function wu(e){if(qp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Z5(e)&&e.host||oc(e);return Z5(t)?t.host:t}function I7(e){const t=wu(e);return Qh(t)?e.ownerDocument?e.ownerDocument.body:e.body:rc(t)&&Vv(t)?t:I7(t)}function h0(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=I7(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=Bi(a);if(i){const l=E4(o);return t.concat(o,o.visualViewport||[],Vv(a)?a:[],l&&r?h0(l):[])}return t.concat(a,h0(a,[],r))}function E4(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function R7(e){const t=fl(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=rc(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,l=Wb(r)!==i||Wb(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function Mk(e){return ul(e)?e:e.contextElement}function vh(e){const t=Mk(e);if(!rc(t))return ju(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=R7(t);let o=(i?Wb(r.width):r.width)/s,l=(i?Wb(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const pie=ju(0);function M7(e){const t=Bi(e);return!Rk()||!t.visualViewport?pie:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xie(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Bi(e)?!1:t}function zf(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Mk(e);let o=ju(1);t&&(s?ul(s)&&(o=vh(s)):o=vh(e));const l=xie(i,r,s)?M7(i):ju(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const m=Bi(i),h=s&&ul(s)?Bi(s):s;let x=m,p=E4(x);for(;p&&s&&h!==x;){const g=vh(p),j=p.getBoundingClientRect(),y=fl(p),w=j.left+(p.clientLeft+parseFloat(y.paddingLeft))*g.x,b=j.top+(p.clientTop+parseFloat(y.paddingTop))*g.y;c*=g.x,d*=g.y,u*=g.x,f*=g.y,c+=w,d+=b,x=Bi(p),p=E4(x)}}return qb({width:u,height:f,x:c,y:d})}function gie(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=oc(s),l=t?jN(t.floating):!1;if(s===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=ju(1);const u=ju(0),f=rc(s);if((f||!f&&!i)&&((qp(s)!=="body"||Vv(o))&&(c=bN(s)),rc(s))){const m=zf(s);d=vh(s),u.x=m.x+s.clientLeft,u.y=m.y+s.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x,y:r.y*d.y-c.scrollTop*d.y+u.y}}function vie(e){return Array.from(e.getClientRects())}function A4(e,t){const r=bN(e).scrollLeft;return t?t.left+r:zf(oc(e)).left+r}function yie(e){const t=oc(e),r=bN(e),s=e.ownerDocument.body,a=Di(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Di(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+A4(e);const l=-r.scrollTop;return fl(s).direction==="rtl"&&(o+=Di(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function jie(e,t){const r=Bi(e),s=oc(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Rk();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function bie(e,t){const r=zf(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=rc(e)?vh(e):ju(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function J5(e,t,r){let s;if(t==="viewport")s=jie(e,r);else if(t==="document")s=yie(oc(e));else if(ul(t))s=bie(t,r);else{const a=M7(e);s={...t,x:t.x-a.x,y:t.y-a.y}}return qb(s)}function F7(e,t){const r=wu(e);return r===t||!ul(r)||Qh(r)?!1:fl(r).position==="fixed"||F7(r,t)}function wie(e,t){const r=t.get(e);if(r)return r;let s=h0(e,[],!1).filter(l=>ul(l)&&qp(l)!=="body"),a=null;const i=fl(e).position==="fixed";let o=i?wu(e):e;for(;ul(o)&&!Qh(o);){const l=fl(o),c=Ik(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Vv(o)&&!c&&F7(e,o))?s=s.filter(u=>u!==o):a=l,o=wu(o)}return t.set(e,s),s}function Nie(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?jN(t)?[]:wie(t,this._c):[].concat(r),s],l=o[0],c=o.reduce((d,u)=>{const f=J5(t,u,a);return d.top=Di(f.top,d.top),d.right=yu(f.right,d.right),d.bottom=yu(f.bottom,d.bottom),d.left=Di(f.left,d.left),d},J5(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function _ie(e){const{width:t,height:r}=R7(e);return{width:t,height:r}}function Sie(e,t,r){const s=rc(t),a=oc(t),i=r==="fixed",o=zf(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ju(0);if(s||!s&&!i)if((qp(t)!=="body"||Vv(a))&&(l=bN(t)),s){const h=zf(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=A4(a));let d=0,u=0;if(a&&!s&&!i){const h=a.getBoundingClientRect();u=h.top+l.scrollTop,d=h.left+l.scrollLeft-A4(a,h)}const f=o.left+l.scrollLeft-c.x-d,m=o.top+l.scrollTop-c.y-u;return{x:f,y:m,width:o.width,height:o.height}}function K_(e){return fl(e).position==="static"}function eI(e,t){if(!rc(e)||fl(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return oc(e)===r&&(r=r.ownerDocument.body),r}function $7(e,t){const r=Bi(e);if(jN(e))return r;if(!rc(e)){let a=wu(e);for(;a&&!Qh(a);){if(ul(a)&&!K_(a))return a;a=wu(a)}return r}let s=eI(e,t);for(;s&&mie(s)&&K_(s);)s=eI(s,t);return s&&Qh(s)&&K_(s)&&!Ik(s)?r:s||hie(e)||r}const Cie=async function(e){const t=this.getOffsetParent||$7,r=this.getDimensions,s=await r(e.floating);return{reference:Sie(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Eie(e){return fl(e).direction==="rtl"}const Aie={convertOffsetParentRelativeRectToViewportRelativeRect:gie,getDocumentElement:oc,getClippingRect:Nie,getOffsetParent:$7,getElementRects:Cie,getClientRects:vie,getDimensions:_ie,getScale:vh,isElement:ul,isRTL:Eie};function Pie(e,t){let r=null,s;const a=oc(e);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:u,width:f,height:m}=e.getBoundingClientRect();if(l||t(),!f||!m)return;const h=rj(u),x=rj(a.clientWidth-(d+f)),p=rj(a.clientHeight-(u+m)),g=rj(d),y={rootMargin:-h+"px "+-x+"px "+-p+"px "+-g+"px",threshold:Di(0,yu(1,c))||1};let w=!0;function b(N){const S=N[0].intersectionRatio;if(S!==c){if(!w)return o();S?o(!1,S):s=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(b,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(b,y)}r.observe(e)}return o(!0),i}function kie(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=Mk(e),u=a||i?[...d?h0(d):[],...h0(t)]:[];u.forEach(j=>{a&&j.addEventListener("scroll",r,{passive:!0}),i&&j.addEventListener("resize",r)});const f=d&&l?Pie(d,r):null;let m=-1,h=null;o&&(h=new ResizeObserver(j=>{let[y]=j;y&&y.target===d&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),r()}),d&&!c&&h.observe(d),h.observe(t));let x,p=c?zf(e):null;c&&g();function g(){const j=zf(e);p&&(j.x!==p.x||j.y!==p.y||j.width!==p.width||j.height!==p.height)&&r(),p=j,x=requestAnimationFrame(g)}return r(),()=>{var j;u.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(j=h)==null||j.disconnect(),h=null,c&&cancelAnimationFrame(x)}}const Tie=cie,Oie=die,Die=iie,Iie=fie,Rie=oie,tI=aie,Mie=uie,Fie=(e,t,r)=>{const s=new Map,a={platform:Aie,...r},i={...a.platform,_c:s};return sie(e,t,{...a,platform:i})};var ab=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Gb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!Gb(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Gb(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function L7(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function rI(e,t){const r=L7(e);return Math.round(t*r)/r}function Y_(e){const t=v.useRef(e);return ab(()=>{t.current=e}),t}function $ie(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=v.useState(s);Gb(m,s)||h(s);const[x,p]=v.useState(null),[g,j]=v.useState(null),y=v.useCallback(M=>{M!==S.current&&(S.current=M,p(M))},[]),w=v.useCallback(M=>{M!==_.current&&(_.current=M,j(M))},[]),b=i||x,N=o||g,S=v.useRef(null),_=v.useRef(null),E=v.useRef(u),A=c!=null,T=Y_(c),R=Y_(a),I=Y_(d),z=v.useCallback(()=>{if(!S.current||!_.current)return;const M={placement:t,strategy:r,middleware:m};R.current&&(M.platform=R.current),Fie(S.current,_.current,M).then(O=>{const K={...O,isPositioned:I.current!==!1};H.current&&!Gb(E.current,K)&&(E.current=K,pl.flushSync(()=>{f(K)}))})},[m,t,r,R,I]);ab(()=>{d===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[d]);const H=v.useRef(!1);ab(()=>(H.current=!0,()=>{H.current=!1}),[]),ab(()=>{if(b&&(S.current=b),N&&(_.current=N),b&&N){if(T.current)return T.current(b,N,z);z()}},[b,N,z,T,A]);const F=v.useMemo(()=>({reference:S,floating:_,setReference:y,setFloating:w}),[y,w]),k=v.useMemo(()=>({reference:b,floating:N}),[b,N]),P=v.useMemo(()=>{const M={position:r,left:0,top:0};if(!k.floating)return M;const O=rI(k.floating,u.x),K=rI(k.floating,u.y);return l?{...M,transform:"translate("+O+"px, "+K+"px)",...L7(k.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:O,top:K}},[r,l,k.floating,u.x,u.y]);return v.useMemo(()=>({...u,update:z,refs:F,elements:k,floatingStyles:P}),[u,z,F,k,P])}const Lie=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?tI({element:s.current,padding:a}).fn(r):{}:s?tI({element:s,padding:a}).fn(r):{}}}},Bie=(e,t)=>({...Tie(e),options:[e,t]}),Uie=(e,t)=>({...Oie(e),options:[e,t]}),Vie=(e,t)=>({...Mie(e),options:[e,t]}),zie=(e,t)=>({...Die(e),options:[e,t]}),Wie=(e,t)=>({...Iie(e),options:[e,t]}),Hie=(e,t)=>({...Rie(e),options:[e,t]}),qie=(e,t)=>({...Lie(e),options:[e,t]});var Gie="Arrow",B7=v.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(ft.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});B7.displayName=Gie;var Kie=B7;function Yie(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,Xie(a,...t)]}function Xie(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function wN(e){const[t,r]=v.useState(void 0);return is(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var Fk="Popper",[U7,Iu]=Yie(Fk),[Qie,V7]=U7(Fk),z7=e=>{const{__scopePopper:t,children:r}=e,[s,a]=v.useState(null);return n.jsx(Qie,{scope:t,anchor:s,onAnchorChange:a,children:r})};z7.displayName=Fk;var W7="PopperAnchor",H7=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=V7(W7,r),o=v.useRef(null),l=Rt(t,o);return v.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:n.jsx(ft.div,{...a,ref:l})});H7.displayName=W7;var $k="PopperContent",[Zie,Jie]=U7($k),q7=v.forwardRef((e,t)=>{var fe,B,Y,ie,we,ue;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:x,...p}=e,g=V7($k,r),[j,y]=v.useState(null),w=Rt(t,ge=>y(ge)),[b,N]=v.useState(null),S=wN(b),_=(S==null?void 0:S.width)??0,E=(S==null?void 0:S.height)??0,A=s+(i!=="center"?"-"+i:""),T=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},R=Array.isArray(d)?d:[d],I=R.length>0,z={padding:T,boundary:R.filter(toe),altBoundary:I},{refs:H,floatingStyles:F,placement:k,isPositioned:P,middlewareData:M}=$ie({strategy:"fixed",placement:A,whileElementsMounted:(...ge)=>kie(...ge,{animationFrame:h==="always"}),elements:{reference:g.anchor},middleware:[Bie({mainAxis:a+E,alignmentAxis:o}),c&&Uie({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Vie():void 0,...z}),c&&zie({...z}),Wie({...z,apply:({elements:ge,rects:xe,availableWidth:_e,availableHeight:Re})=>{const{width:ke,height:re}=xe.reference,he=ge.floating.style;he.setProperty("--radix-popper-available-width",`${_e}px`),he.setProperty("--radix-popper-available-height",`${Re}px`),he.setProperty("--radix-popper-anchor-width",`${ke}px`),he.setProperty("--radix-popper-anchor-height",`${re}px`)}}),b&&qie({element:b,padding:l}),roe({arrowWidth:_,arrowHeight:E}),m&&Hie({strategy:"referenceHidden",...z})]}),[O,K]=Y7(k),ne=hn(x);is(()=>{P&&(ne==null||ne())},[P,ne]);const D=(fe=M.arrow)==null?void 0:fe.x,U=(B=M.arrow)==null?void 0:B.y,L=((Y=M.arrow)==null?void 0:Y.centerOffset)!==0,[G,le]=v.useState();return is(()=>{j&&le(window.getComputedStyle(j).zIndex)},[j]),n.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:P?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(ie=M.transformOrigin)==null?void 0:ie.x,(we=M.transformOrigin)==null?void 0:we.y].join(" "),...((ue=M.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(Zie,{scope:r,placedSide:O,onArrowChange:N,arrowX:D,arrowY:U,shouldHideArrow:L,children:n.jsx(ft.div,{"data-side":O,"data-align":K,...p,ref:w,style:{...p.style,animation:P?void 0:"none"}})})})});q7.displayName=$k;var G7="PopperArrow",eoe={top:"bottom",right:"left",bottom:"top",left:"right"},K7=v.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=Jie(G7,s),o=eoe[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(Kie,{...a,ref:r,style:{...a.style,display:"block"}})})});K7.displayName=G7;function toe(e){return e!==null}var roe=e=>({name:"transformOrigin",options:e,fn(t){var g,j,y;const{placement:r,rects:s,middlewareData:a}=t,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=Y7(r),f={start:"0%",center:"50%",end:"100%"}[u],m=(((j=a.arrow)==null?void 0:j.x)??0)+l/2,h=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let x="",p="";return d==="bottom"?(x=o?f:`${m}px`,p=`${-c}px`):d==="top"?(x=o?f:`${m}px`,p=`${s.floating.height+c}px`):d==="right"?(x=`${-c}px`,p=o?f:`${h}px`):d==="left"&&(x=`${s.floating.width+c}px`,p=o?f:`${h}px`),{data:{x,y:p}}}});function Y7(e){const[t,r="center"]=e.split("-");return[t,r]}var NN=z7,zv=H7,_N=q7,SN=K7,[CN,bnt]=na("Tooltip",[Iu]),EN=Iu(),X7="TooltipProvider",noe=700,P4="tooltip.open",[soe,Lk]=CN(X7),Q7=e=>{const{__scopeTooltip:t,delayDuration:r=noe,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,[o,l]=v.useState(!0),c=v.useRef(!1),d=v.useRef(0);return v.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),n.jsx(soe,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(u=>{c.current=u},[]),disableHoverableContent:a,children:i})};Q7.displayName=X7;var AN="Tooltip",[aoe,PN]=CN(AN),Z7=e=>{const{__scopeTooltip:t,children:r,open:s,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=Lk(AN,e.__scopeTooltip),d=EN(t),[u,f]=v.useState(null),m=ci(),h=v.useRef(0),x=o??c.disableHoverableContent,p=l??c.delayDuration,g=v.useRef(!1),[j=!1,y]=$a({prop:s,defaultProp:a,onChange:_=>{_?(c.onOpen(),document.dispatchEvent(new CustomEvent(P4))):c.onClose(),i==null||i(_)}}),w=v.useMemo(()=>j?g.current?"delayed-open":"instant-open":"closed",[j]),b=v.useCallback(()=>{window.clearTimeout(h.current),h.current=0,g.current=!1,y(!0)},[y]),N=v.useCallback(()=>{window.clearTimeout(h.current),h.current=0,y(!1)},[y]),S=v.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{g.current=!0,y(!0),h.current=0},p)},[p,y]);return v.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),n.jsx(NN,{...d,children:n.jsx(aoe,{scope:t,contentId:m,open:j,stateAttribute:w,trigger:u,onTriggerChange:f,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayed?S():b()},[c.isOpenDelayed,S,b]),onTriggerLeave:v.useCallback(()=>{x?N():(window.clearTimeout(h.current),h.current=0)},[N,x]),onOpen:b,onClose:N,disableHoverableContent:x,children:r})})};Z7.displayName=AN;var k4="TooltipTrigger",J7=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=PN(k4,r),i=Lk(k4,r),o=EN(r),l=v.useRef(null),c=Rt(t,l,a.onTriggerChange),d=v.useRef(!1),u=v.useRef(!1),f=v.useCallback(()=>d.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),n.jsx(zv,{asChild:!0,...o,children:n.jsx(ft.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:He(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:He(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:He(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:He(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:He(e.onBlur,a.onClose),onClick:He(e.onClick,a.onClose)})})});J7.displayName=k4;var ioe="TooltipPortal",[wnt,ooe]=CN(ioe,{forceMount:void 0}),Zh="TooltipContent",eU=v.forwardRef((e,t)=>{const r=ooe(Zh,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...i}=e,o=PN(Zh,e.__scopeTooltip);return n.jsx(ls,{present:s||o.open,children:o.disableHoverableContent?n.jsx(tU,{side:a,...i,ref:t}):n.jsx(loe,{side:a,...i,ref:t})})}),loe=v.forwardRef((e,t)=>{const r=PN(Zh,e.__scopeTooltip),s=Lk(Zh,e.__scopeTooltip),a=v.useRef(null),i=Rt(t,a),[o,l]=v.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:f}=s,m=v.useCallback(()=>{l(null),f(!1)},[f]),h=v.useCallback((x,p)=>{const g=x.currentTarget,j={x:x.clientX,y:x.clientY},y=foe(j,g.getBoundingClientRect()),w=moe(j,y),b=hoe(p.getBoundingClientRect()),N=xoe([...w,...b]);l(N),f(!0)},[f]);return v.useEffect(()=>()=>m(),[m]),v.useEffect(()=>{if(c&&u){const x=g=>h(g,u),p=g=>h(g,c);return c.addEventListener("pointerleave",x),u.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",p)}}},[c,u,h,m]),v.useEffect(()=>{if(o){const x=p=>{const g=p.target,j={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(g))||(u==null?void 0:u.contains(g)),w=!poe(j,o);y?m():w&&(m(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,u,o,d,m]),n.jsx(tU,{...e,ref:i})}),[coe,doe]=CN(AN,{isInside:!1}),tU=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=PN(Zh,r),d=EN(r),{onClose:u}=c;return v.useEffect(()=>(document.addEventListener(P4,u),()=>document.removeEventListener(P4,u)),[u]),v.useEffect(()=>{if(c.trigger){const f=m=>{const h=m.target;h!=null&&h.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),n.jsx(um,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:n.jsxs(_N,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(yk,{children:s}),n.jsx(coe,{scope:r,isInside:!0,children:n.jsx(Bne,{id:c.contentId,role:"tooltip",children:a||s})})]})})});eU.displayName=Zh;var rU="TooltipArrow",uoe=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=EN(r);return doe(rU,r).isInside?null:n.jsx(SN,{...a,...s,ref:t})});uoe.displayName=rU;function foe(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,s,a,i)){case i:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function moe(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function hoe(e){const{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}function poe(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>s!=u>s&&r<(d-l)*(s-c)/(u-c)+l&&(a=!a)}return a}function xoe(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),goe(t)}function goe(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var voe=Q7,yoe=Z7,joe=J7,nU=eU;const sU=voe,boe=yoe,woe=joe,aU=v.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(nU,{ref:s,sideOffset:t,className:ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));aU.displayName=nU.displayName;var Gp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wf=typeof window>"u"||"Deno"in globalThis;function mo(){}function Noe(e,t){return typeof e=="function"?e(t):e}function T4(e){return typeof e=="number"&&e>=0&&e!==1/0}function iU(e,t){return Math.max(e+(t||0)-Date.now(),0)}function yh(e,t){return typeof e=="function"?e(t):e}function Yo(e,t){return typeof e=="function"?e(t):e}function nI(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==Bk(o,t.options))return!1}else if(!p0(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function sI(e,t){const{exact:r,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Hf(t.options.mutationKey)!==Hf(i))return!1}else if(!p0(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function Bk(e,t){return((t==null?void 0:t.queryKeyHashFn)||Hf)(e)}function Hf(e){return JSON.stringify(e,(t,r)=>O4(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function p0(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!p0(e[r],t[r])):!1}function oU(e,t){if(e===t)return e;const r=aI(e)&&aI(t);if(r||O4(e)&&O4(t)){const s=r?e:Object.keys(e),a=s.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d];(!r&&s.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=oU(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function Kb(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function aI(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function O4(e){if(!iI(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!iI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function iI(e){return Object.prototype.toString.call(e)==="[object Object]"}function _oe(e){return new Promise(t=>{setTimeout(t,e)})}function D4(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?oU(e,t):t}function Soe(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function Coe(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var Uk=Symbol();function lU(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Uk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var wf,Fd,Th,m8,Eoe=(m8=class extends Gp{constructor(){super();At(this,wf);At(this,Fd);At(this,Th);mt(this,Th,t=>{if(!Wf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){pe(this,Fd)||this.setEventListener(pe(this,Th))}onUnsubscribe(){var t;this.hasListeners()||((t=pe(this,Fd))==null||t.call(this),mt(this,Fd,void 0))}setEventListener(t){var r;mt(this,Th,t),(r=pe(this,Fd))==null||r.call(this),mt(this,Fd,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){pe(this,wf)!==t&&(mt(this,wf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof pe(this,wf)=="boolean"?pe(this,wf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},wf=new WeakMap,Fd=new WeakMap,Th=new WeakMap,m8),Vk=new Eoe,Oh,$d,Dh,h8,Aoe=(h8=class extends Gp{constructor(){super();At(this,Oh,!0);At(this,$d);At(this,Dh);mt(this,Dh,t=>{if(!Wf&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){pe(this,$d)||this.setEventListener(pe(this,Dh))}onUnsubscribe(){var t;this.hasListeners()||((t=pe(this,$d))==null||t.call(this),mt(this,$d,void 0))}setEventListener(t){var r;mt(this,Dh,t),(r=pe(this,$d))==null||r.call(this),mt(this,$d,t(this.setOnline.bind(this)))}setOnline(t){pe(this,Oh)!==t&&(mt(this,Oh,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return pe(this,Oh)}},Oh=new WeakMap,$d=new WeakMap,Dh=new WeakMap,h8),Yb=new Aoe;function I4(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}function Poe(e){return Math.min(1e3*2**e,3e4)}function cU(e){return(e??"online")==="online"?Yb.isOnline():!0}var dU=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function X_(e){return e instanceof dU}function uU(e){let t=!1,r=0,s=!1,a;const i=I4(),o=p=>{var g;s||(m(new dU(p)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>Vk.isFocused()&&(e.networkMode==="always"||Yb.isOnline())&&e.canRun(),u=()=>cU(e.networkMode)&&e.canRun(),f=p=>{var g;s||(s=!0,(g=e.onSuccess)==null||g.call(e,p),a==null||a(),i.resolve(p))},m=p=>{var g;s||(s=!0,(g=e.onError)==null||g.call(e,p),a==null||a(),i.reject(p))},h=()=>new Promise(p=>{var g;a=j=>{(s||d())&&p(j)},(g=e.onPause)==null||g.call(e)}).then(()=>{var p;a=void 0,s||(p=e.onContinue)==null||p.call(e)}),x=()=>{if(s)return;let p;const g=r===0?e.initialPromise:void 0;try{p=g??e.fn()}catch(j){p=Promise.reject(j)}Promise.resolve(p).then(f).catch(j=>{var S;if(s)return;const y=e.retry??(Wf?0:3),w=e.retryDelay??Poe,b=typeof w=="function"?w(r,j):w,N=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,j);if(t||!N){m(j);return}r++,(S=e.onFail)==null||S.call(e,r,j),_oe(b).then(()=>d()?void 0:h()).then(()=>{t?m(j):x()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?x():h().then(x),i)}}function koe(){let e=[],t=0,r=l=>{l()},s=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var gs=koe(),Nf,p8,fU=(p8=class{constructor(){At(this,Nf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),T4(this.gcTime)&&mt(this,Nf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Wf?1/0:5*60*1e3))}clearGcTimeout(){pe(this,Nf)&&(clearTimeout(pe(this,Nf)),mt(this,Nf,void 0))}},Nf=new WeakMap,p8),Ih,Rh,fo,oa,Cv,_f,Wo,yc,x8,Toe=(x8=class extends fU{constructor(t){super();At(this,Wo);At(this,Ih);At(this,Rh);At(this,fo);At(this,oa);At(this,Cv);At(this,_f);mt(this,_f,!1),mt(this,Cv,t.defaultOptions),this.setOptions(t.options),this.observers=[],mt(this,fo,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,mt(this,Ih,Ooe(this.options)),this.state=t.state??pe(this,Ih),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=pe(this,oa))==null?void 0:t.promise}setOptions(t){this.options={...pe(this,Cv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&pe(this,fo).remove(this)}setData(t,r){const s=D4(this.state.data,t,this.options);return Zt(this,Wo,yc).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){Zt(this,Wo,yc).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=pe(this,oa))==null?void 0:s.promise;return(a=pe(this,oa))==null||a.cancel(t),r?r.then(mo).catch(mo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(pe(this,Ih))}isActive(){return this.observers.some(t=>Yo(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Uk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!iU(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=pe(this,oa))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=pe(this,oa))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),pe(this,fo).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(pe(this,oa)&&(pe(this,_f)?pe(this,oa).cancel({revert:!0}):pe(this,oa).cancelRetry()),this.scheduleGc()),pe(this,fo).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Zt(this,Wo,yc).call(this,{type:"invalidate"})}fetch(t,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(pe(this,oa))return pe(this,oa).continueRetry(),pe(this,oa).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(mt(this,_f,!0),s.signal)})},i=()=>{const f=lU(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return a(m),mt(this,_f,!1),this.options.persister?this.options.persister(f,m,this):f(m)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),mt(this,Rh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Zt(this,Wo,yc).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=f=>{var m,h,x,p;X_(f)&&f.silent||Zt(this,Wo,yc).call(this,{type:"error",error:f}),X_(f)||((h=(m=pe(this,fo).config).onError)==null||h.call(m,f,this),(p=(x=pe(this,fo).config).onSettled)==null||p.call(x,this.state.data,f,this)),this.scheduleGc()};return mt(this,oa,uU({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var m,h,x,p;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(g){l(g);return}(h=(m=pe(this,fo).config).onSuccess)==null||h.call(m,f,this),(p=(x=pe(this,fo).config).onSettled)==null||p.call(x,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Zt(this,Wo,yc).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Zt(this,Wo,yc).call(this,{type:"pause"})},onContinue:()=>{Zt(this,Wo,yc).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),pe(this,oa).start()}},Ih=new WeakMap,Rh=new WeakMap,fo=new WeakMap,oa=new WeakMap,Cv=new WeakMap,_f=new WeakMap,Wo=new WeakSet,yc=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...mU(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return X_(a)&&a.revert&&pe(this,Rh)?{...pe(this,Rh),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),gs.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),pe(this,fo).notify({query:this,type:"updated",action:t})})},x8);function mU(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:cU(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ooe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ml,g8,Doe=(g8=class extends Gp{constructor(t={}){super();At(this,Ml);this.config=t,mt(this,Ml,new Map)}build(t,r,s){const a=r.queryKey,i=r.queryHash??Bk(a,r);let o=this.get(i);return o||(o=new Toe({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){pe(this,Ml).has(t.queryHash)||(pe(this,Ml).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=pe(this,Ml).get(t.queryHash);r&&(t.destroy(),r===t&&pe(this,Ml).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){gs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return pe(this,Ml).get(t)}getAll(){return[...pe(this,Ml).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>nI(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>nI(t,s)):r}notify(t){gs.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){gs.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){gs.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ml=new WeakMap,g8),Fl,Na,Sf,$l,Cd,v8,Ioe=(v8=class extends fU{constructor(t){super();At(this,$l);At(this,Fl);At(this,Na);At(this,Sf);this.mutationId=t.mutationId,mt(this,Na,t.mutationCache),mt(this,Fl,[]),this.state=t.state||hU(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){pe(this,Fl).includes(t)||(pe(this,Fl).push(t),this.clearGcTimeout(),pe(this,Na).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){mt(this,Fl,pe(this,Fl).filter(r=>r!==t)),this.scheduleGc(),pe(this,Na).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){pe(this,Fl).length||(this.state.status==="pending"?this.scheduleGc():pe(this,Na).remove(this))}continue(){var t;return((t=pe(this,Sf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,d,u,f,m,h,x,p,g,j,y,w,b,N,S,_;mt(this,Sf,uU({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,A)=>{Zt(this,$l,Cd).call(this,{type:"failed",failureCount:E,error:A})},onPause:()=>{Zt(this,$l,Cd).call(this,{type:"pause"})},onContinue:()=>{Zt(this,$l,Cd).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>pe(this,Na).canRun(this)}));const r=this.state.status==="pending",s=!pe(this,Sf).canStart();try{if(!r){Zt(this,$l,Cd).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(a=pe(this,Na).config).onMutate)==null?void 0:i.call(a,t,this));const A=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));A!==this.state.context&&Zt(this,$l,Cd).call(this,{type:"pending",context:A,variables:t,isPaused:s})}const E=await pe(this,Sf).start();return await((d=(c=pe(this,Na).config).onSuccess)==null?void 0:d.call(c,E,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,E,t,this.state.context)),await((h=(m=pe(this,Na).config).onSettled)==null?void 0:h.call(m,E,null,this.state.variables,this.state.context,this)),await((p=(x=this.options).onSettled)==null?void 0:p.call(x,E,null,t,this.state.context)),Zt(this,$l,Cd).call(this,{type:"success",data:E}),E}catch(E){try{throw await((j=(g=pe(this,Na).config).onError)==null?void 0:j.call(g,E,t,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,E,t,this.state.context)),await((N=(b=pe(this,Na).config).onSettled)==null?void 0:N.call(b,void 0,E,this.state.variables,this.state.context,this)),await((_=(S=this.options).onSettled)==null?void 0:_.call(S,void 0,E,t,this.state.context)),E}finally{Zt(this,$l,Cd).call(this,{type:"error",error:E})}}finally{pe(this,Na).runNext(this)}}},Fl=new WeakMap,Na=new WeakMap,Sf=new WeakMap,$l=new WeakSet,Cd=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),gs.batch(()=>{pe(this,Fl).forEach(s=>{s.onMutationUpdate(t)}),pe(this,Na).notify({mutation:this,type:"updated",action:t})})},v8);function hU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ei,Ev,y8,Roe=(y8=class extends Gp{constructor(t={}){super();At(this,Ei);At(this,Ev);this.config=t,mt(this,Ei,new Map),mt(this,Ev,Date.now())}build(t,r,s){const a=new Ioe({mutationCache:this,mutationId:++Iy(this,Ev)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){const r=nj(t),s=pe(this,Ei).get(r)??[];s.push(t),pe(this,Ei).set(r,s),this.notify({type:"added",mutation:t})}remove(t){var s;const r=nj(t);if(pe(this,Ei).has(r)){const a=(s=pe(this,Ei).get(r))==null?void 0:s.filter(i=>i!==t);a&&(a.length===0?pe(this,Ei).delete(r):pe(this,Ei).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const r=(s=pe(this,Ei).get(nj(t)))==null?void 0:s.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var s;const r=(s=pe(this,Ei).get(nj(t)))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){gs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...pe(this,Ei).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(s=>sI(r,s))}findAll(t={}){return this.getAll().filter(r=>sI(t,r))}notify(t){gs.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return gs.batch(()=>Promise.all(t.map(r=>r.continue().catch(mo))))}},Ei=new WeakMap,Ev=new WeakMap,y8);function nj(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function oI(e){return{onFetch:(t,r)=>{var u,f,m,h,x;const s=t.options,a=(m=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((h=t.state.data)==null?void 0:h.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},j=lU(t.options,t.fetchOptions),y=async(w,b,N)=>{if(p)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const S={queryKey:t.queryKey,pageParam:b,direction:N?"backward":"forward",meta:t.options.meta};g(S);const _=await j(S),{maxPages:E}=t.options,A=N?Coe:Soe;return{pages:A(w.pages,_,E),pageParams:A(w.pageParams,b,E)}};if(a&&i.length){const w=a==="backward",b=w?Moe:lI,N={pages:i,pageParams:o},S=b(s,N);l=await y(N,S,w)}else{const w=e??i.length;do{const b=c===0?o[0]??s.initialPageParam:lI(s,l);if(c>0&&b==null)break;l=await y(l,b),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,g;return(g=(p=t.options).persister)==null?void 0:g.call(p,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function lI(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function Moe(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var On,Ld,Bd,Mh,Fh,Ud,$h,Lh,j8,Foe=(j8=class{constructor(e={}){At(this,On);At(this,Ld);At(this,Bd);At(this,Mh);At(this,Fh);At(this,Ud);At(this,$h);At(this,Lh);mt(this,On,e.queryCache||new Doe),mt(this,Ld,e.mutationCache||new Roe),mt(this,Bd,e.defaultOptions||{}),mt(this,Mh,new Map),mt(this,Fh,new Map),mt(this,Ud,0)}mount(){Iy(this,Ud)._++,pe(this,Ud)===1&&(mt(this,$h,Vk.subscribe(async e=>{e&&(await this.resumePausedMutations(),pe(this,On).onFocus())})),mt(this,Lh,Yb.subscribe(async e=>{e&&(await this.resumePausedMutations(),pe(this,On).onOnline())})))}unmount(){var e,t;Iy(this,Ud)._--,pe(this,Ud)===0&&((e=pe(this,$h))==null||e.call(this),mt(this,$h,void 0),(t=pe(this,Lh))==null||t.call(this),mt(this,Lh,void 0))}isFetching(e){return pe(this,On).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return pe(this,Ld).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=pe(this,On).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=pe(this,On).build(this,r);return e.revalidateIfStale&&s.isStaleByTime(yh(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return pe(this,On).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=pe(this,On).get(s.queryHash),i=a==null?void 0:a.state.data,o=Noe(t,i);if(o!==void 0)return pe(this,On).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return gs.batch(()=>pe(this,On).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=pe(this,On).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=pe(this,On);gs.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=pe(this,On),s={type:"active",...e};return gs.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},s=gs.batch(()=>pe(this,On).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(mo).catch(mo)}invalidateQueries(e={},t={}){return gs.batch(()=>{if(pe(this,On).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=gs.batch(()=>pe(this,On).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(mo)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(mo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=pe(this,On).build(this,t);return r.isStaleByTime(yh(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(mo).catch(mo)}fetchInfiniteQuery(e){return e.behavior=oI(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(mo).catch(mo)}ensureInfiniteQueryData(e){return e.behavior=oI(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Yb.isOnline()?pe(this,Ld).resumePausedMutations():Promise.resolve()}getQueryCache(){return pe(this,On)}getMutationCache(){return pe(this,Ld)}getDefaultOptions(){return pe(this,Bd)}setDefaultOptions(e){mt(this,Bd,e)}setQueryDefaults(e,t){pe(this,Mh).set(Hf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...pe(this,Mh).values()];let r={};return t.forEach(s=>{p0(e,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(e,t){pe(this,Fh).set(Hf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...pe(this,Fh).values()];let r={};return t.forEach(s=>{p0(e,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...pe(this,Bd).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Bk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Uk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...pe(this,Bd).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){pe(this,On).clear(),pe(this,Ld).clear()}},On=new WeakMap,Ld=new WeakMap,Bd=new WeakMap,Mh=new WeakMap,Fh=new WeakMap,Ud=new WeakMap,$h=new WeakMap,Lh=new WeakMap,j8),Ya,or,Av,_a,Cf,Bh,Vd,Ll,Pv,Uh,Vh,Ef,Af,zd,zh,Er,lg,R4,M4,F4,$4,L4,B4,U4,pU,b8,$oe=(b8=class extends Gp{constructor(t,r){super();At(this,Er);At(this,Ya);At(this,or);At(this,Av);At(this,_a);At(this,Cf);At(this,Bh);At(this,Vd);At(this,Ll);At(this,Pv);At(this,Uh);At(this,Vh);At(this,Ef);At(this,Af);At(this,zd);At(this,zh,new Set);this.options=r,mt(this,Ya,t),mt(this,Ll,null),mt(this,Vd,I4()),this.options.experimental_prefetchInRender||pe(this,Vd).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(pe(this,or).addObserver(this),cI(pe(this,or),this.options)?Zt(this,Er,lg).call(this):this.updateResult(),Zt(this,Er,$4).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return V4(pe(this,or),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return V4(pe(this,or),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Zt(this,Er,L4).call(this),Zt(this,Er,B4).call(this),pe(this,or).removeObserver(this)}setOptions(t,r){const s=this.options,a=pe(this,or);if(this.options=pe(this,Ya).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Yo(this.options.enabled,pe(this,or))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Zt(this,Er,U4).call(this),pe(this,or).setOptions(this.options),s._defaulted&&!Kb(this.options,s)&&pe(this,Ya).getQueryCache().notify({type:"observerOptionsUpdated",query:pe(this,or),observer:this});const i=this.hasListeners();i&&dI(pe(this,or),a,this.options,s)&&Zt(this,Er,lg).call(this),this.updateResult(r),i&&(pe(this,or)!==a||Yo(this.options.enabled,pe(this,or))!==Yo(s.enabled,pe(this,or))||yh(this.options.staleTime,pe(this,or))!==yh(s.staleTime,pe(this,or)))&&Zt(this,Er,R4).call(this);const o=Zt(this,Er,M4).call(this);i&&(pe(this,or)!==a||Yo(this.options.enabled,pe(this,or))!==Yo(s.enabled,pe(this,or))||o!==pe(this,zd))&&Zt(this,Er,F4).call(this,o)}getOptimisticResult(t){const r=pe(this,Ya).getQueryCache().build(pe(this,Ya),t),s=this.createResult(r,t);return Boe(this,s)&&(mt(this,_a,s),mt(this,Bh,this.options),mt(this,Cf,pe(this,or).state)),s}getCurrentResult(){return pe(this,_a)}trackResult(t,r){const s={};return Object.keys(t).forEach(a=>{Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),s}trackProp(t){pe(this,zh).add(t)}getCurrentQuery(){return pe(this,or)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=pe(this,Ya).defaultQueryOptions(t),s=pe(this,Ya).getQueryCache().build(pe(this,Ya),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return Zt(this,Er,lg).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),pe(this,_a)))}createResult(t,r){var E;const s=pe(this,or),a=this.options,i=pe(this,_a),o=pe(this,Cf),l=pe(this,Bh),d=t!==s?t.state:pe(this,Av),{state:u}=t;let f={...u},m=!1,h;if(r._optimisticResults){const A=this.hasListeners(),T=!A&&cI(t,r),R=A&&dI(t,s,r,a);(T||R)&&(f={...f,...mU(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:p,status:g}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&r.select===pe(this,Pv))h=pe(this,Uh);else try{mt(this,Pv,r.select),h=r.select(f.data),h=D4(i==null?void 0:i.data,h,r),mt(this,Uh,h),mt(this,Ll,null)}catch(A){mt(this,Ll,A)}else h=f.data;if(r.placeholderData!==void 0&&h===void 0&&g==="pending"){let A;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))A=i.data;else if(A=typeof r.placeholderData=="function"?r.placeholderData((E=pe(this,Vh))==null?void 0:E.state.data,pe(this,Vh)):r.placeholderData,r.select&&A!==void 0)try{A=r.select(A),mt(this,Ll,null)}catch(T){mt(this,Ll,T)}A!==void 0&&(g="success",h=D4(i==null?void 0:i.data,A,r),m=!0)}pe(this,Ll)&&(x=pe(this,Ll),h=pe(this,Uh),p=Date.now(),g="error");const j=f.fetchStatus==="fetching",y=g==="pending",w=g==="error",b=y&&j,N=h!==void 0,_={status:g,fetchStatus:f.fetchStatus,isPending:y,isSuccess:g==="success",isError:w,isInitialLoading:b,isLoading:b,data:h,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:j,isRefetching:j&&!y,isLoadingError:w&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:w&&N,isStale:zk(t,r),refetch:this.refetch,promise:pe(this,Vd)};if(this.options.experimental_prefetchInRender){const A=I=>{_.status==="error"?I.reject(_.error):_.data!==void 0&&I.resolve(_.data)},T=()=>{const I=mt(this,Vd,_.promise=I4());A(I)},R=pe(this,Vd);switch(R.status){case"pending":t.queryHash===s.queryHash&&A(R);break;case"fulfilled":(_.status==="error"||_.data!==R.value)&&T();break;case"rejected":(_.status!=="error"||_.error!==R.reason)&&T();break}}return _}updateResult(t){const r=pe(this,_a),s=this.createResult(pe(this,or),this.options);if(mt(this,Cf,pe(this,or).state),mt(this,Bh,this.options),pe(this,Cf).data!==void 0&&mt(this,Vh,pe(this,or)),Kb(s,r))return;mt(this,_a,s);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!pe(this,zh).size)return!0;const c=new Set(l??pe(this,zh));return this.options.throwOnError&&c.add("error"),Object.keys(pe(this,_a)).some(d=>{const u=d;return pe(this,_a)[u]!==r[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),Zt(this,Er,pU).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Zt(this,Er,$4).call(this)}},Ya=new WeakMap,or=new WeakMap,Av=new WeakMap,_a=new WeakMap,Cf=new WeakMap,Bh=new WeakMap,Vd=new WeakMap,Ll=new WeakMap,Pv=new WeakMap,Uh=new WeakMap,Vh=new WeakMap,Ef=new WeakMap,Af=new WeakMap,zd=new WeakMap,zh=new WeakMap,Er=new WeakSet,lg=function(t){Zt(this,Er,U4).call(this);let r=pe(this,or).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(mo)),r},R4=function(){Zt(this,Er,L4).call(this);const t=yh(this.options.staleTime,pe(this,or));if(Wf||pe(this,_a).isStale||!T4(t))return;const s=iU(pe(this,_a).dataUpdatedAt,t)+1;mt(this,Ef,setTimeout(()=>{pe(this,_a).isStale||this.updateResult()},s))},M4=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(pe(this,or)):this.options.refetchInterval)??!1},F4=function(t){Zt(this,Er,B4).call(this),mt(this,zd,t),!(Wf||Yo(this.options.enabled,pe(this,or))===!1||!T4(pe(this,zd))||pe(this,zd)===0)&&mt(this,Af,setInterval(()=>{(this.options.refetchIntervalInBackground||Vk.isFocused())&&Zt(this,Er,lg).call(this)},pe(this,zd)))},$4=function(){Zt(this,Er,R4).call(this),Zt(this,Er,F4).call(this,Zt(this,Er,M4).call(this))},L4=function(){pe(this,Ef)&&(clearTimeout(pe(this,Ef)),mt(this,Ef,void 0))},B4=function(){pe(this,Af)&&(clearInterval(pe(this,Af)),mt(this,Af,void 0))},U4=function(){const t=pe(this,Ya).getQueryCache().build(pe(this,Ya),this.options);if(t===pe(this,or))return;const r=pe(this,or);mt(this,or,t),mt(this,Av,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},pU=function(t){gs.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(pe(this,_a))}),pe(this,Ya).getQueryCache().notify({query:pe(this,or),type:"observerResultsUpdated"})})},b8);function Loe(e,t){return Yo(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function cI(e,t){return Loe(e,t)||e.state.data!==void 0&&V4(e,t,t.refetchOnMount)}function V4(e,t,r){if(Yo(t.enabled,e)!==!1){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&zk(e,t)}return!1}function dI(e,t,r,s){return(e!==t||Yo(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&zk(e,r)}function zk(e,t){return Yo(t.enabled,e)!==!1&&e.isStaleByTime(yh(t.staleTime,e))}function Boe(e,t){return!Kb(e.getCurrentResult(),t)}var Wd,Hd,Xa,Ac,qc,ib,z4,w8,Uoe=(w8=class extends Gp{constructor(r,s){super();At(this,qc);At(this,Wd);At(this,Hd);At(this,Xa);At(this,Ac);mt(this,Wd,r),this.setOptions(s),this.bindMethods(),Zt(this,qc,ib).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const s=this.options;this.options=pe(this,Wd).defaultMutationOptions(r),Kb(this.options,s)||pe(this,Wd).getMutationCache().notify({type:"observerOptionsUpdated",mutation:pe(this,Xa),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Hf(s.mutationKey)!==Hf(this.options.mutationKey)?this.reset():((a=pe(this,Xa))==null?void 0:a.state.status)==="pending"&&pe(this,Xa).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=pe(this,Xa))==null||r.removeObserver(this)}onMutationUpdate(r){Zt(this,qc,ib).call(this),Zt(this,qc,z4).call(this,r)}getCurrentResult(){return pe(this,Hd)}reset(){var r;(r=pe(this,Xa))==null||r.removeObserver(this),mt(this,Xa,void 0),Zt(this,qc,ib).call(this),Zt(this,qc,z4).call(this)}mutate(r,s){var a;return mt(this,Ac,s),(a=pe(this,Xa))==null||a.removeObserver(this),mt(this,Xa,pe(this,Wd).getMutationCache().build(pe(this,Wd),this.options)),pe(this,Xa).addObserver(this),pe(this,Xa).execute(r)}},Wd=new WeakMap,Hd=new WeakMap,Xa=new WeakMap,Ac=new WeakMap,qc=new WeakSet,ib=function(){var s;const r=((s=pe(this,Xa))==null?void 0:s.state)??hU();mt(this,Hd,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},z4=function(r){gs.batch(()=>{var s,a,i,o,l,c,d,u;if(pe(this,Ac)&&this.hasListeners()){const f=pe(this,Hd).variables,m=pe(this,Hd).context;(r==null?void 0:r.type)==="success"?((a=(s=pe(this,Ac)).onSuccess)==null||a.call(s,r.data,f,m),(o=(i=pe(this,Ac)).onSettled)==null||o.call(i,r.data,null,f,m)):(r==null?void 0:r.type)==="error"&&((c=(l=pe(this,Ac)).onError)==null||c.call(l,r.error,f,m),(u=(d=pe(this,Ac)).onSettled)==null||u.call(d,void 0,r.error,f,m))}this.listeners.forEach(f=>{f(pe(this,Hd))})})},w8),xU=v.createContext(void 0),Hr=e=>{const t=v.useContext(xU);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Voe=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(xU.Provider,{value:e,children:t})),gU=v.createContext(!1),zoe=()=>v.useContext(gU);gU.Provider;function Woe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Hoe=v.createContext(Woe()),qoe=()=>v.useContext(Hoe);function vU(e,t){return typeof e=="function"?e(...t):!!e}function yU(){}var Goe=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Koe=e=>{v.useEffect(()=>{e.clearReset()},[e])},Yoe=({result:e,errorResetBoundary:t,throwOnError:r,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&vU(r,[e.error,s]),Xoe=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Qoe=(e,t)=>e.isLoading&&e.isFetching&&!t,Zoe=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,uI=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Joe(e,t,r){var u,f,m,h,x;const s=Hr(),a=zoe(),i=qoe(),o=s.defaultQueryOptions(e);(f=(u=s.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,o),o._optimisticResults=a?"isRestoring":"optimistic",Xoe(o),Goe(o,i),Koe(i);const l=!s.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new t(s,o)),d=c.getOptimisticResult(o);if(v.useSyncExternalStore(v.useCallback(p=>{const g=a?()=>{}:c.subscribe(gs.batchCalls(p));return c.updateResult(),g},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),Zoe(o,d))throw uI(o,c,i);if(Yoe({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw d.error;if((h=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||h.call(m,o,d),o.experimental_prefetchInRender&&!Wf&&Qoe(d,a)){const p=l?uI(o,c,i):(x=s.getQueryCache().get(o.queryHash))==null?void 0:x.promise;p==null||p.catch(yU).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function _s(e,t){return Joe(e,$oe)}function cn(e,t){const r=Hr(),[s]=v.useState(()=>new Uoe(r,e));v.useEffect(()=>{s.setOptions(e)},[s,e]);const a=v.useSyncExternalStore(v.useCallback(o=>s.subscribe(gs.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=v.useCallback((o,l)=>{s.mutate(o,l).catch(yU)},[s]);if(a.error&&vU(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},x0.apply(this,arguments)}var Kd;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Kd||(Kd={}));const fI="popstate";function ele(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return W4("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:Xb(a)}return rle(t,r,null,e)}function Qn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jU(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tle(){return Math.random().toString(36).substr(2,8)}function mI(e,t){return{usr:e.state,key:e.key,idx:t}}function W4(e,t,r,s){return r===void 0&&(r=null),x0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Kp(t):t,{state:r,key:t&&t.key||s||tle()})}function Xb(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Kp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function rle(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=Kd.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(x0({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=Kd.Pop;let g=u(),j=g==null?null:g-d;d=g,c&&c({action:l,location:p.location,delta:j})}function m(g,j){l=Kd.Push;let y=W4(p.location,g,j);d=u()+1;let w=mI(y,d),b=p.createHref(y);try{o.pushState(w,"",b)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(b)}i&&c&&c({action:l,location:p.location,delta:1})}function h(g,j){l=Kd.Replace;let y=W4(p.location,g,j);d=u();let w=mI(y,d),b=p.createHref(y);o.replaceState(w,"",b),i&&c&&c({action:l,location:p.location,delta:0})}function x(g){let j=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof g=="string"?g:Xb(g);return y=y.replace(/ $/,"%20"),Qn(j,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,j)}let p={get action(){return l},get location(){return e(a,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(fI,f),c=g,()=>{a.removeEventListener(fI,f),c=null}},createHref(g){return t(a,g)},createURL:x,encodeLocation(g){let j=x(g);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:m,replace:h,go(g){return o.go(g)}};return p}var hI;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hI||(hI={}));function nle(e,t,r){return r===void 0&&(r="/"),sle(e,t,r,!1)}function sle(e,t,r,s){let a=typeof t=="string"?Kp(t):t,i=Wk(a.pathname||"/",r);if(i==null)return null;let o=bU(e);ale(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=xle(i);l=hle(o[c],d,s)}return l}function bU(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Qn(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=du([s,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Qn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),bU(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:fle(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of wU(i.path))a(i,o,c)}),t}function wU(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=wU(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function ale(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:mle(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const ile=/^:[\w-]+$/,ole=3,lle=2,cle=1,dle=10,ule=-2,pI=e=>e==="*";function fle(e,t){let r=e.split("/"),s=r.length;return r.some(pI)&&(s+=ule),t&&(s+=lle),r.filter(a=>!pI(a)).reduce((a,i)=>a+(ile.test(i)?ole:i===""?cle:dle),s)}function mle(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function hle(e,t,r){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=xI({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!f&&d&&r&&!s[s.length-1].route.index&&(f=xI({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:du([i,f.pathname]),pathnameBase:jle(du([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=du([i,f.pathnameBase]))}return o}function xI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=ple(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,u,f)=>{let{paramName:m,isOptional:h}=u;if(m==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const x=l[f];return h&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function ple(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),jU(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function xle(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jU(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Wk(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function gle(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?Kp(e):e;return{pathname:r?r.startsWith("/")?r:vle(r,t):t,search:ble(s),hash:wle(a)}}function vle(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Q_(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yle(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Hk(e,t){let r=yle(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function qk(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Kp(e):(a=x0({},e),Qn(!a.pathname||!a.pathname.includes("?"),Q_("?","pathname","search",a)),Qn(!a.pathname||!a.pathname.includes("#"),Q_("#","pathname","hash",a)),Qn(!a.search||!a.search.includes("#"),Q_("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=gle(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const du=e=>e.join("/").replace(/\/\/+/g,"/"),jle=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ble=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wle=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Nle(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const NU=["post","put","patch","delete"];new Set(NU);const _le=["get",...NU];new Set(_le);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},g0.apply(this,arguments)}const Gk=v.createContext(null),Sle=v.createContext(null),Ru=v.createContext(null),kN=v.createContext(null),fd=v.createContext({outlet:null,matches:[],isDataRoute:!1}),_U=v.createContext(null);function Cle(e,t){let{relative:r}=t===void 0?{}:t;Yp()||Qn(!1);let{basename:s,navigator:a}=v.useContext(Ru),{hash:i,pathname:o,search:l}=CU(e,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:du([s,o])),a.createHref({pathname:c,search:l,hash:i})}function Yp(){return v.useContext(kN)!=null}function lc(){return Yp()||Qn(!1),v.useContext(kN).location}function SU(e){v.useContext(Ru).static||v.useLayoutEffect(e)}function mr(){let{isDataRoute:e}=v.useContext(fd);return e?Lle():Ele()}function Ele(){Yp()||Qn(!1);let e=v.useContext(Gk),{basename:t,future:r,navigator:s}=v.useContext(Ru),{matches:a}=v.useContext(fd),{pathname:i}=lc(),o=JSON.stringify(Hk(a,r.v7_relativeSplatPath)),l=v.useRef(!1);return SU(()=>{l.current=!0}),v.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let f=qk(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:du([t,f.pathname])),(u.replace?s.replace:s.push)(f,u.state,u)},[t,s,o,i,e])}function to(){let{matches:e}=v.useContext(fd),t=e[e.length-1];return t?t.params:{}}function CU(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=v.useContext(Ru),{matches:a}=v.useContext(fd),{pathname:i}=lc(),o=JSON.stringify(Hk(a,s.v7_relativeSplatPath));return v.useMemo(()=>qk(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Ale(e,t){return Ple(e,t)}function Ple(e,t,r,s){Yp()||Qn(!1);let{navigator:a}=v.useContext(Ru),{matches:i}=v.useContext(fd),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=lc(),u;if(t){var f;let g=typeof t=="string"?Kp(t):t;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||Qn(!1),u=g}else u=d;let m=u.pathname||"/",h=m;if(c!=="/"){let g=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=nle(e,{pathname:h}),p=Ile(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:du([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:du([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,s);return t&&p?v.createElement(kN.Provider,{value:{location:g0({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Kd.Pop}},p):p}function kle(){let e=$le(),t=Nle(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:a},r):null,null)}const Tle=v.createElement(kle,null);class Ole extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(fd.Provider,{value:this.props.routeContext},v.createElement(_U.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dle(e){let{routeContext:t,match:r,children:s}=e,a=v.useContext(Gk);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(fd.Provider,{value:t},s)}function Ile(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||Qn(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:m,errors:h}=r,x=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,m)=>{let h,x=!1,p=null,g=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||Tle,c&&(d<0&&m===0?(x=!0,g=null):d===m&&(x=!0,g=f.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,m+1)),y=()=>{let w;return h?w=p:x?w=g:f.route.Component?w=v.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,v.createElement(Dle,{match:f,routeContext:{outlet:u,matches:j,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?v.createElement(Ole,{location:r.location,revalidation:r.revalidation,component:p,error:h,children:y(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):y()},null)}var EU=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(EU||{}),Qb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Qb||{});function Rle(e){let t=v.useContext(Gk);return t||Qn(!1),t}function Mle(e){let t=v.useContext(Sle);return t||Qn(!1),t}function Fle(e){let t=v.useContext(fd);return t||Qn(!1),t}function AU(e){let t=Fle(),r=t.matches[t.matches.length-1];return r.route.id||Qn(!1),r.route.id}function $le(){var e;let t=v.useContext(_U),r=Mle(Qb.UseRouteError),s=AU(Qb.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function Lle(){let{router:e}=Rle(EU.UseNavigateStable),t=AU(Qb.UseNavigateStable),r=v.useRef(!1);return SU(()=>{r.current=!0}),v.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,g0({fromRouteId:t},i)))},[e,t])}function PU(e){let{to:t,replace:r,state:s,relative:a}=e;Yp()||Qn(!1);let{future:i,static:o}=v.useContext(Ru),{matches:l}=v.useContext(fd),{pathname:c}=lc(),d=mr(),u=qk(t,Hk(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(u);return v.useEffect(()=>d(JSON.parse(f),{replace:r,state:s,relative:a}),[d,f,a,r,s]),null}function Jt(e){Qn(!1)}function Ble(e){let{basename:t="/",children:r=null,location:s,navigationType:a=Kd.Pop,navigator:i,static:o=!1,future:l}=e;Yp()&&Qn(!1);let c=t.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:c,navigator:i,static:o,future:g0({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=Kp(s));let{pathname:u="/",search:f="",hash:m="",state:h=null,key:x="default"}=s,p=v.useMemo(()=>{let g=Wk(u,c);return g==null?null:{location:{pathname:g,search:f,hash:m,state:h,key:x},navigationType:a}},[c,u,f,m,h,x,a]);return p==null?null:v.createElement(Ru.Provider,{value:d},v.createElement(kN.Provider,{children:r,value:p}))}function Ule(e){let{children:t,location:r}=e;return Ale(H4(t),r)}new Promise(()=>{});function H4(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(s,a)=>{if(!v.isValidElement(s))return;let i=[...t,a];if(s.type===v.Fragment){r.push.apply(r,H4(s.props.children,i));return}s.type!==Jt&&Qn(!1),!s.props.index||!s.props.children||Qn(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=H4(s.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function q4(){return q4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},q4.apply(this,arguments)}function Vle(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function zle(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Wle(e,t){return e.button===0&&(!t||t==="_self")&&!zle(e)}function G4(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(a=>[r,a]):[[r,s]])},[]))}function Hle(e,t){let r=G4(e);return t&&t.forEach((s,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const qle=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Gle="6";try{window.__reactRouterVersion=Gle}catch{}const Kle="startTransition",gI=AP[Kle];function Yle(e){let{basename:t,children:r,future:s,window:a}=e,i=v.useRef();i.current==null&&(i.current=ele({window:a,v5Compat:!0}));let o=i.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=v.useCallback(f=>{d&&gI?gI(()=>c(f)):c(f)},[c,d]);return v.useLayoutEffect(()=>o.listen(u),[o,u]),v.createElement(Ble,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:s})}const Xle=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qle=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yi=v.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,m=Vle(t,qle),{basename:h}=v.useContext(Ru),x,p=!1;if(typeof d=="string"&&Qle.test(d)&&(x=d,Xle))try{let w=new URL(window.location.href),b=d.startsWith("//")?new URL(w.protocol+d):new URL(d),N=Wk(b.pathname,h);b.origin===w.origin&&N!=null?d=N+b.search+b.hash:p=!0}catch{}let g=Cle(d,{relative:a}),j=Zle(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function y(w){s&&s(w),w.defaultPrevented||j(w)}return v.createElement("a",q4({},m,{href:x||g,onClick:p||i?s:y,ref:r,target:c}))});var vI;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vI||(vI={}));var yI;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yI||(yI={}));function Zle(e,t){let{target:r,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=mr(),d=lc(),u=CU(e,{relative:o});return v.useCallback(f=>{if(Wle(f,r)){f.preventDefault();let m=s!==void 0?s:Xb(d)===Xb(u);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,a,r,e,i,o,l])}function TN(e){let t=v.useRef(G4(e)),r=v.useRef(!1),s=lc(),a=v.useMemo(()=>Hle(s.search,r.current?null:t.current),[s.search]),i=mr(),o=v.useCallback((l,c)=>{const d=G4(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}function kU(e,t){return function(){return e.apply(t,arguments)}}const{toString:Jle}=Object.prototype,{getPrototypeOf:Kk}=Object,{iterator:ON,toStringTag:TU}=Symbol,DN=(e=>t=>{const r=Jle.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),xl=e=>(e=e.toLowerCase(),t=>DN(t)===e),IN=e=>t=>typeof t===e,{isArray:Xp}=Array,Jh=IN("undefined");function Wv(e){return e!==null&&!Jh(e)&&e.constructor!==null&&!Jh(e.constructor)&&di(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const OU=xl("ArrayBuffer");function ece(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&OU(e.buffer),t}const tce=IN("string"),di=IN("function"),DU=IN("number"),Hv=e=>e!==null&&typeof e=="object",rce=e=>e===!0||e===!1,ob=e=>{if(DN(e)!=="object")return!1;const t=Kk(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(TU in e)&&!(ON in e)},nce=e=>{if(!Hv(e)||Wv(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},sce=xl("Date"),ace=xl("File"),ice=xl("Blob"),oce=xl("FileList"),lce=e=>Hv(e)&&di(e.pipe),cce=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||di(e.append)&&((t=DN(e))==="formdata"||t==="object"&&di(e.toString)&&e.toString()==="[object FormData]"))},dce=xl("URLSearchParams"),[uce,fce,mce,hce]=["ReadableStream","Request","Response","Headers"].map(xl),pce=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qv(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),Xp(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(Wv(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(s=0;s<o;s++)l=i[s],t.call(null,e[l],l,e)}}function IU(e,t){if(Wv(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,a;for(;s-- >0;)if(a=r[s],t===a.toLowerCase())return a;return null}const hf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,RU=e=>!Jh(e)&&e!==hf;function K4(){const{caseless:e,skipUndefined:t}=RU(this)&&this||{},r={},s=(a,i)=>{const o=e&&IU(r,i)||i;ob(r[o])&&ob(a)?r[o]=K4(r[o],a):ob(a)?r[o]=K4({},a):Xp(a)?r[o]=a.slice():(!t||!Jh(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&qv(arguments[a],s);return r}const xce=(e,t,r,{allOwnKeys:s}={})=>(qv(t,(a,i)=>{r&&di(a)?e[i]=kU(a,r):e[i]=a},{allOwnKeys:s}),e),gce=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),vce=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},yce=(e,t,r,s)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&Kk(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},jce=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},bce=e=>{if(!e)return null;if(Xp(e))return e;let t=e.length;if(!DU(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},wce=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Kk(Uint8Array)),Nce=(e,t)=>{const s=(e&&e[ON]).call(e);let a;for(;(a=s.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},_ce=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},Sce=xl("HTMLFormElement"),Cce=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),jI=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Ece=xl("RegExp"),MU=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};qv(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(s[i]=o||a)}),Object.defineProperties(e,s)},Ace=e=>{MU(e,(t,r)=>{if(di(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(di(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Pce=(e,t)=>{const r={},s=a=>{a.forEach(i=>{r[i]=!0})};return Xp(e)?s(e):s(String(e).split(t)),r},kce=()=>{},Tce=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Oce(e){return!!(e&&di(e.append)&&e[TU]==="FormData"&&e[ON])}const Dce=e=>{const t=new Array(10),r=(s,a)=>{if(Hv(s)){if(t.indexOf(s)>=0)return;if(Wv(s))return s;if(!("toJSON"in s)){t[a]=s;const i=Xp(s)?[]:{};return qv(s,(o,l)=>{const c=r(o,a+1);!Jh(c)&&(i[l]=c)}),t[a]=void 0,i}}return s};return r(e,0)},Ice=xl("AsyncFunction"),Rce=e=>e&&(Hv(e)||di(e))&&di(e.then)&&di(e.catch),FU=((e,t)=>e?setImmediate:t?((r,s)=>(hf.addEventListener("message",({source:a,data:i})=>{a===hf&&i===r&&s.length&&s.shift()()},!1),a=>{s.push(a),hf.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",di(hf.postMessage)),Mce=typeof queueMicrotask<"u"?queueMicrotask.bind(hf):typeof process<"u"&&process.nextTick||FU,Fce=e=>e!=null&&di(e[ON]),Oe={isArray:Xp,isArrayBuffer:OU,isBuffer:Wv,isFormData:cce,isArrayBufferView:ece,isString:tce,isNumber:DU,isBoolean:rce,isObject:Hv,isPlainObject:ob,isEmptyObject:nce,isReadableStream:uce,isRequest:fce,isResponse:mce,isHeaders:hce,isUndefined:Jh,isDate:sce,isFile:ace,isBlob:ice,isRegExp:Ece,isFunction:di,isStream:lce,isURLSearchParams:dce,isTypedArray:wce,isFileList:oce,forEach:qv,merge:K4,extend:xce,trim:pce,stripBOM:gce,inherits:vce,toFlatObject:yce,kindOf:DN,kindOfTest:xl,endsWith:jce,toArray:bce,forEachEntry:Nce,matchAll:_ce,isHTMLForm:Sce,hasOwnProperty:jI,hasOwnProp:jI,reduceDescriptors:MU,freezeMethods:Ace,toObjectSet:Pce,toCamelCase:Cce,noop:kce,toFiniteNumber:Tce,findKey:IU,global:hf,isContextDefined:RU,isSpecCompliantForm:Oce,toJSONObject:Dce,isAsyncFn:Ice,isThenable:Rce,setImmediate:FU,asap:Mce,isIterable:Fce};function qt(e,t,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}Oe.inherits(qt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Oe.toJSONObject(this.config),code:this.code,status:this.status}}});const $U=qt.prototype,LU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{LU[e]={value:e}});Object.defineProperties(qt,LU);Object.defineProperty($U,"isAxiosError",{value:!0});qt.from=(e,t,r,s,a,i)=>{const o=Object.create($U);Oe.toFlatObject(e,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return qt.call(o,l,c,r,s,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const $ce=null;function Y4(e){return Oe.isPlainObject(e)||Oe.isArray(e)}function BU(e){return Oe.endsWith(e,"[]")?e.slice(0,-2):e}function bI(e,t,r){return e?e.concat(t).map(function(a,i){return a=BU(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function Lce(e){return Oe.isArray(e)&&!e.some(Y4)}const Bce=Oe.toFlatObject(Oe,{},null,function(t){return/^is[A-Z]/.test(t)});function RN(e,t,r){if(!Oe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Oe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,g){return!Oe.isUndefined(g[p])});const s=r.metaTokens,a=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Oe.isSpecCompliantForm(t);if(!Oe.isFunction(a))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(Oe.isDate(x))return x.toISOString();if(Oe.isBoolean(x))return x.toString();if(!c&&Oe.isBlob(x))throw new qt("Blob is not supported. Use a Buffer instead.");return Oe.isArrayBuffer(x)||Oe.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,p,g){let j=x;if(x&&!g&&typeof x=="object"){if(Oe.endsWith(p,"{}"))p=s?p:p.slice(0,-2),x=JSON.stringify(x);else if(Oe.isArray(x)&&Lce(x)||(Oe.isFileList(x)||Oe.endsWith(p,"[]"))&&(j=Oe.toArray(x)))return p=BU(p),j.forEach(function(w,b){!(Oe.isUndefined(w)||w===null)&&t.append(o===!0?bI([p],b,i):o===null?p:p+"[]",d(w))}),!1}return Y4(x)?!0:(t.append(bI(g,p,i),d(x)),!1)}const f=[],m=Object.assign(Bce,{defaultVisitor:u,convertValue:d,isVisitable:Y4});function h(x,p){if(!Oe.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(x),Oe.forEach(x,function(j,y){(!(Oe.isUndefined(j)||j===null)&&a.call(t,j,Oe.isString(y)?y.trim():y,p,m))===!0&&h(j,p?p.concat(y):[y])}),f.pop()}}if(!Oe.isObject(e))throw new TypeError("data must be an object");return h(e),t}function wI(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Yk(e,t){this._pairs=[],e&&RN(e,this,t)}const UU=Yk.prototype;UU.append=function(t,r){this._pairs.push([t,r])};UU.toString=function(t){const r=t?function(s){return t.call(this,s,wI)}:wI;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Uce(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function VU(e,t,r){if(!t)return e;const s=r&&r.encode||Uce;Oe.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=Oe.isURLSearchParams(t)?t.toString():new Yk(t,r).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class NI{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Oe.forEach(this.handlers,function(s){s!==null&&t(s)})}}const zU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vce=typeof URLSearchParams<"u"?URLSearchParams:Yk,zce=typeof FormData<"u"?FormData:null,Wce=typeof Blob<"u"?Blob:null,Hce={isBrowser:!0,classes:{URLSearchParams:Vce,FormData:zce,Blob:Wce},protocols:["http","https","file","blob","url","data"]},Xk=typeof window<"u"&&typeof document<"u",X4=typeof navigator=="object"&&navigator||void 0,qce=Xk&&(!X4||["ReactNative","NativeScript","NS"].indexOf(X4.product)<0),Gce=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Kce=Xk&&window.location.href||"http://localhost",Yce=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xk,hasStandardBrowserEnv:qce,hasStandardBrowserWebWorkerEnv:Gce,navigator:X4,origin:Kce},Symbol.toStringTag,{value:"Module"})),fa={...Yce,...Hce};function Xce(e,t){return RN(e,new fa.classes.URLSearchParams,{visitor:function(r,s,a,i){return fa.isNode&&Oe.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Qce(e){return Oe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Zce(e){const t={},r=Object.keys(e);let s;const a=r.length;let i;for(s=0;s<a;s++)i=r[s],t[i]=e[i];return t}function WU(e){function t(r,s,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&Oe.isArray(a)?a.length:o,c?(Oe.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!l):((!a[o]||!Oe.isObject(a[o]))&&(a[o]=[]),t(r,s,a[o],i)&&Oe.isArray(a[o])&&(a[o]=Zce(a[o])),!l)}if(Oe.isFormData(e)&&Oe.isFunction(e.entries)){const r={};return Oe.forEachEntry(e,(s,a)=>{t(Qce(s),a,r,0)}),r}return null}function Jce(e,t,r){if(Oe.isString(e))try{return(t||JSON.parse)(e),Oe.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(e)}const Gv={transitional:zU,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",a=s.indexOf("application/json")>-1,i=Oe.isObject(t);if(i&&Oe.isHTMLForm(t)&&(t=new FormData(t)),Oe.isFormData(t))return a?JSON.stringify(WU(t)):t;if(Oe.isArrayBuffer(t)||Oe.isBuffer(t)||Oe.isStream(t)||Oe.isFile(t)||Oe.isBlob(t)||Oe.isReadableStream(t))return t;if(Oe.isArrayBufferView(t))return t.buffer;if(Oe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Xce(t,this.formSerializer).toString();if((l=Oe.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return RN(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),Jce(t)):t}],transformResponse:[function(t){const r=this.transitional||Gv.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Oe.isResponse(t)||Oe.isReadableStream(t))return t;if(t&&Oe.isString(t)&&(s&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?qt.from(l,qt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fa.classes.FormData,Blob:fa.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Oe.forEach(["delete","get","head","post","put","patch"],e=>{Gv.headers[e]={}});const ede=Oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tde=e=>{const t={};let r,s,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!r||t[r]&&ede[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},_I=Symbol("internals");function Mx(e){return e&&String(e).trim().toLowerCase()}function lb(e){return e===!1||e==null?e:Oe.isArray(e)?e.map(lb):String(e)}function rde(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const nde=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Z_(e,t,r,s,a){if(Oe.isFunction(s))return s.call(this,t,r);if(a&&(t=r),!!Oe.isString(t)){if(Oe.isString(s))return t.indexOf(s)!==-1;if(Oe.isRegExp(s))return s.test(t)}}function sde(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function ade(e,t){const r=Oe.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(a,i,o){return this[s].call(this,t,a,i,o)},configurable:!0})})}class ui{constructor(t){t&&this.set(t)}set(t,r,s){const a=this;function i(l,c,d){const u=Mx(c);if(!u)throw new Error("header name must be a non-empty string");const f=Oe.findKey(a,u);(!f||a[f]===void 0||d===!0||d===void 0&&a[f]!==!1)&&(a[f||c]=lb(l))}const o=(l,c)=>Oe.forEach(l,(d,u)=>i(d,u,c));if(Oe.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Oe.isString(t)&&(t=t.trim())&&!nde(t))o(tde(t),r);else if(Oe.isObject(t)&&Oe.isIterable(t)){let l={},c,d;for(const u of t){if(!Oe.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?Oe.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,r)}else t!=null&&i(r,t,s);return this}get(t,r){if(t=Mx(t),t){const s=Oe.findKey(this,t);if(s){const a=this[s];if(!r)return a;if(r===!0)return rde(a);if(Oe.isFunction(r))return r.call(this,a,s);if(Oe.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Mx(t),t){const s=Oe.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||Z_(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let a=!1;function i(o){if(o=Mx(o),o){const l=Oe.findKey(s,o);l&&(!r||Z_(s,s[l],l,r))&&(delete s[l],a=!0)}}return Oe.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let s=r.length,a=!1;for(;s--;){const i=r[s];(!t||Z_(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,s={};return Oe.forEach(this,(a,i)=>{const o=Oe.findKey(s,i);if(o){r[o]=lb(a),delete r[i];return}const l=t?sde(i):String(i).trim();l!==i&&delete r[i],r[l]=lb(a),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Oe.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=t&&Oe.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[_I]=this[_I]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Mx(o);s[l]||(ade(a,o),s[l]=!0)}return Oe.isArray(t)?t.forEach(i):i(t),this}}ui.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Oe.reduceDescriptors(ui.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});Oe.freezeMethods(ui);function J_(e,t){const r=this||Gv,s=t||r,a=ui.from(s.headers);let i=s.data;return Oe.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function HU(e){return!!(e&&e.__CANCEL__)}function Qp(e,t,r){qt.call(this,e??"canceled",qt.ERR_CANCELED,t,r),this.name="CanceledError"}Oe.inherits(Qp,qt,{__CANCEL__:!0});function qU(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new qt("Request failed with status code "+r.status,[qt.ERR_BAD_REQUEST,qt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ide(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ode(e,t){e=e||10;const r=new Array(e),s=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=s[i];o||(o=d),r[a]=c,s[a]=d;let f=i,m=0;for(;f!==a;)m+=r[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<t)return;const h=u&&d-u;return h?Math.round(m*1e3/h):void 0}}function lde(e,t){let r=0,s=1e3/t,a,i;const o=(d,u=Date.now())=>{r=u,a=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),f=u-r;f>=s?o(d,u):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},s-f)))},()=>a&&o(a)]}const Zb=(e,t,r=3)=>{let s=0;const a=ode(50,250);return lde(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-s,d=a(c),u=o<=l;s=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},SI=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},CI=e=>(...t)=>Oe.asap(()=>e(...t)),cde=fa.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,fa.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(fa.origin),fa.navigator&&/(msie|trident)/i.test(fa.navigator.userAgent)):()=>!0,dde=fa.hasStandardBrowserEnv?{write(e,t,r,s,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];Oe.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),Oe.isString(s)&&l.push(`path=${s}`),Oe.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),Oe.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ude(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function fde(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function GU(e,t,r){let s=!ude(t);return e&&(s||r==!1)?fde(e,t):t}const EI=e=>e instanceof ui?{...e}:e;function qf(e,t){t=t||{};const r={};function s(d,u,f,m){return Oe.isPlainObject(d)&&Oe.isPlainObject(u)?Oe.merge.call({caseless:m},d,u):Oe.isPlainObject(u)?Oe.merge({},u):Oe.isArray(u)?u.slice():u}function a(d,u,f,m){if(Oe.isUndefined(u)){if(!Oe.isUndefined(d))return s(void 0,d,f,m)}else return s(d,u,f,m)}function i(d,u){if(!Oe.isUndefined(u))return s(void 0,u)}function o(d,u){if(Oe.isUndefined(u)){if(!Oe.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,f){if(f in t)return s(d,u);if(f in e)return s(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,f)=>a(EI(d),EI(u),f,!0)};return Oe.forEach(Object.keys({...e,...t}),function(u){const f=c[u]||a,m=f(e[u],t[u],u);Oe.isUndefined(m)&&f!==l||(r[u]=m)}),r}const KU=e=>{const t=qf({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=ui.from(o),t.url=VU(GU(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Oe.isFormData(r)){if(fa.hasStandardBrowserEnv||fa.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Oe.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{d.includes(u.toLowerCase())&&o.set(u,f)})}}if(fa.hasStandardBrowserEnv&&(s&&Oe.isFunction(s)&&(s=s(t)),s||s!==!1&&cde(t.url))){const c=a&&i&&dde.read(i);c&&o.set(a,c)}return t},mde=typeof XMLHttpRequest<"u",hde=mde&&function(e){return new Promise(function(r,s){const a=KU(e);let i=a.data;const o=ui.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,f,m,h,x;function p(){h&&h(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function j(){if(!g)return;const w=ui.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:w,config:e,request:g};qU(function(_){r(_),p()},function(_){s(_),p()},N),g=null}"onloadend"in g?g.onloadend=j:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(j)},g.onabort=function(){g&&(s(new qt("Request aborted",qt.ECONNABORTED,e,g)),g=null)},g.onerror=function(b){const N=b&&b.message?b.message:"Network Error",S=new qt(N,qt.ERR_NETWORK,e,g);S.event=b||null,s(S),g=null},g.ontimeout=function(){let b=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||zU;a.timeoutErrorMessage&&(b=a.timeoutErrorMessage),s(new qt(b,N.clarifyTimeoutError?qt.ETIMEDOUT:qt.ECONNABORTED,e,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&Oe.forEach(o.toJSON(),function(b,N){g.setRequestHeader(N,b)}),Oe.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),l&&l!=="json"&&(g.responseType=a.responseType),d&&([m,x]=Zb(d,!0),g.addEventListener("progress",m)),c&&g.upload&&([f,h]=Zb(c),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(u=w=>{g&&(s(!w||w.type?new Qp(null,e,g):w),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const y=ide(a.url);if(y&&fa.protocols.indexOf(y)===-1){s(new qt("Unsupported protocol "+y+":",qt.ERR_BAD_REQUEST,e));return}g.send(i||null)})},pde=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,a;const i=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof qt?u:new Qp(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new qt(`timeout ${t} of ms exceeded`,qt.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>Oe.asap(l),c}},xde=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,a;for(;s<r;)a=s+t,yield e.slice(s,a),s=a},gde=async function*(e,t){for await(const r of vde(e))yield*xde(r,t)},vde=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},AI=(e,t,r,s)=>{const a=gde(e,t);let i=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let f=u.byteLength;if(r){let m=i+=f;r(m)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},PI=64*1024,{isFunction:sj}=Oe,yde=(({Request:e,Response:t})=>({Request:e,Response:t}))(Oe.global),{ReadableStream:kI,TextEncoder:TI}=Oe.global,OI=(e,...t)=>{try{return!!e(...t)}catch{return!1}},jde=e=>{e=Oe.merge.call({skipUndefined:!0},yde,e);const{fetch:t,Request:r,Response:s}=e,a=t?sj(t):typeof fetch=="function",i=sj(r),o=sj(s);if(!a)return!1;const l=a&&sj(kI),c=a&&(typeof TI=="function"?(x=>p=>x.encode(p))(new TI):async x=>new Uint8Array(await new r(x).arrayBuffer())),d=i&&l&&OI(()=>{let x=!1;const p=new r(fa.origin,{body:new kI,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!p}),u=o&&l&&OI(()=>Oe.isReadableStream(new s("").body)),f={stream:u&&(x=>x.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!f[x]&&(f[x]=(p,g)=>{let j=p&&p[x];if(j)return j.call(p);throw new qt(`Response type '${x}' is not supported`,qt.ERR_NOT_SUPPORT,g)})});const m=async x=>{if(x==null)return 0;if(Oe.isBlob(x))return x.size;if(Oe.isSpecCompliantForm(x))return(await new r(fa.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(Oe.isArrayBufferView(x)||Oe.isArrayBuffer(x))return x.byteLength;if(Oe.isURLSearchParams(x)&&(x=x+""),Oe.isString(x))return(await c(x)).byteLength},h=async(x,p)=>{const g=Oe.toFiniteNumber(x.getContentLength());return g??m(p)};return async x=>{let{url:p,method:g,data:j,signal:y,cancelToken:w,timeout:b,onDownloadProgress:N,onUploadProgress:S,responseType:_,headers:E,withCredentials:A="same-origin",fetchOptions:T}=KU(x),R=t||fetch;_=_?(_+"").toLowerCase():"text";let I=pde([y,w&&w.toAbortSignal()],b),z=null;const H=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let F;try{if(S&&d&&g!=="get"&&g!=="head"&&(F=await h(E,j))!==0){let ne=new r(p,{method:"POST",body:j,duplex:"half"}),D;if(Oe.isFormData(j)&&(D=ne.headers.get("content-type"))&&E.setContentType(D),ne.body){const[U,L]=SI(F,Zb(CI(S)));j=AI(ne.body,PI,U,L)}}Oe.isString(A)||(A=A?"include":"omit");const k=i&&"credentials"in r.prototype,P={...T,signal:I,method:g.toUpperCase(),headers:E.normalize().toJSON(),body:j,duplex:"half",credentials:k?A:void 0};z=i&&new r(p,P);let M=await(i?R(z,T):R(p,P));const O=u&&(_==="stream"||_==="response");if(u&&(N||O&&H)){const ne={};["status","statusText","headers"].forEach(G=>{ne[G]=M[G]});const D=Oe.toFiniteNumber(M.headers.get("content-length")),[U,L]=N&&SI(D,Zb(CI(N),!0))||[];M=new s(AI(M.body,PI,U,()=>{L&&L(),H&&H()}),ne)}_=_||"text";let K=await f[Oe.findKey(f,_)||"text"](M,x);return!O&&H&&H(),await new Promise((ne,D)=>{qU(ne,D,{data:K,headers:ui.from(M.headers),status:M.status,statusText:M.statusText,config:x,request:z})})}catch(k){throw H&&H(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new qt("Network Error",qt.ERR_NETWORK,x,z),{cause:k.cause||k}):qt.from(k,k&&k.code,x,z)}}},bde=new Map,YU=e=>{let t=e&&e.env||{};const{fetch:r,Request:s,Response:a}=t,i=[s,a,r];let o=i.length,l=o,c,d,u=bde;for(;l--;)c=i[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:jde(t)),u=d;return d};YU();const Qk={http:$ce,xhr:hde,fetch:{get:YU}};Oe.forEach(Qk,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const DI=e=>`- ${e}`,wde=e=>Oe.isFunction(e)||e===null||e===!1;function Nde(e,t){e=Oe.isArray(e)?e:[e];const{length:r}=e;let s,a;const i={};for(let o=0;o<r;o++){s=e[o];let l;if(a=s,!wde(s)&&(a=Qk[(l=String(s)).toLowerCase()],a===void 0))throw new qt(`Unknown adapter '${l}'`);if(a&&(Oe.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(DI).join(`
`):" "+DI(o[0]):"as no adapter specified";throw new qt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const XU={getAdapter:Nde,adapters:Qk};function eS(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qp(null,e)}function II(e){return eS(e),e.headers=ui.from(e.headers),e.data=J_.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),XU.getAdapter(e.adapter||Gv.adapter,e)(e).then(function(s){return eS(e),s.data=J_.call(e,e.transformResponse,s),s.headers=ui.from(s.headers),s},function(s){return HU(s)||(eS(e),s&&s.response&&(s.response.data=J_.call(e,e.transformResponse,s.response),s.response.headers=ui.from(s.response.headers))),Promise.reject(s)})}const QU="1.13.2",MN={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{MN[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const RI={};MN.transitional=function(t,r,s){function a(i,o){return"[Axios v"+QU+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(t===!1)throw new qt(a(o," has been removed"+(r?" in "+r:"")),qt.ERR_DEPRECATED);return r&&!RI[o]&&(RI[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};MN.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function _de(e,t,r){if(typeof e!="object")throw new qt("options must be an object",qt.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const i=s[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new qt("option "+i+" must be "+c,qt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new qt("Unknown option "+i,qt.ERR_BAD_OPTION)}}const cb={assertOptions:_de,validators:MN},Al=cb.validators;class Of{constructor(t){this.defaults=t||{},this.interceptors={request:new NI,response:new NI}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=qf(this.defaults,r);const{transitional:s,paramsSerializer:a,headers:i}=r;s!==void 0&&cb.assertOptions(s,{silentJSONParsing:Al.transitional(Al.boolean),forcedJSONParsing:Al.transitional(Al.boolean),clarifyTimeoutError:Al.transitional(Al.boolean)},!1),a!=null&&(Oe.isFunction(a)?r.paramsSerializer={serialize:a}:cb.assertOptions(a,{encode:Al.function,serialize:Al.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),cb.assertOptions(r,{baseUrl:Al.spelling("baseURL"),withXsrfToken:Al.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Oe.merge(i.common,i[r.method]);i&&Oe.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),r.headers=ui.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,f=0,m;if(!c){const x=[II.bind(this),void 0];for(x.unshift(...l),x.push(...d),m=x.length,u=Promise.resolve(r);f<m;)u=u.then(x[f++],x[f++]);return u}m=l.length;let h=r;for(;f<m;){const x=l[f++],p=l[f++];try{h=x(h)}catch(g){p.call(this,g);break}}try{u=II.call(this,h)}catch(x){return Promise.reject(x)}for(f=0,m=d.length;f<m;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=qf(this.defaults,t);const r=GU(t.baseURL,t.url,t.allowAbsoluteUrls);return VU(r,t.params,t.paramsSerializer)}}Oe.forEach(["delete","get","head","options"],function(t){Of.prototype[t]=function(r,s){return this.request(qf(s||{},{method:t,url:r,data:(s||{}).data}))}});Oe.forEach(["post","put","patch"],function(t){function r(s){return function(i,o,l){return this.request(qf(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Of.prototype[t]=r(),Of.prototype[t+"Form"]=r(!0)});class Zk{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,l){s.reason||(s.reason=new Qp(i,o,l),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Zk(function(a){t=a}),cancel:t}}}function Sde(e){return function(r){return e.apply(null,r)}}function Cde(e){return Oe.isObject(e)&&e.isAxiosError===!0}const Q4={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Q4).forEach(([e,t])=>{Q4[t]=e});function ZU(e){const t=new Of(e),r=kU(Of.prototype.request,t);return Oe.extend(r,Of.prototype,t,{allOwnKeys:!0}),Oe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return ZU(qf(e,a))},r}const cr=ZU(Gv);cr.Axios=Of;cr.CanceledError=Qp;cr.CancelToken=Zk;cr.isCancel=HU;cr.VERSION=QU;cr.toFormData=RN;cr.AxiosError=qt;cr.Cancel=cr.CanceledError;cr.all=function(t){return Promise.all(t)};cr.spread=Sde;cr.isAxiosError=Cde;cr.mergeConfig=qf;cr.AxiosHeaders=ui;cr.formToJSON=e=>WU(Oe.isHTMLForm(e)?new FormData(e):e);cr.getAdapter=XU.getAdapter;cr.HttpStatusCode=Q4;cr.default=cr;const ro="https://procurement.buy2rent.eu/api",Kv="https://procurement.buy2rent.eu/auth";console.log("API Configuration:",{API_BASE_URL:ro,AUTH_BASE_URL:Kv,mode:"production"});const la=cr.create({baseURL:Kv,timeout:1e4,headers:{"Content-Type":"application/json"}});let Fx=!1,Z4=[];const aj=(e=null)=>{Z4.forEach(t=>{e?t.reject(e):t.resolve()}),Z4=[]};la.interceptors.response.use(e=>e,async e=>{var r,s;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if((s=t.url)!=null&&s.includes("/refresh/"))return fn.clearTokens(),Fx=!1,aj(e),Promise.reject(e);if(Fx)return new Promise((i,o)=>{Z4.push({resolve:i,reject:o})}).then(()=>la(t)).catch(i=>Promise.reject(i));t._retry=!0,Fx=!0;const a=fn.getRefreshToken();if(!a)return Fx=!1,fn.clearTokens(),aj(e),Promise.reject(e);try{const i=await la.post("/refresh/",{refresh:a}),{access:o}=i.data,l=fn.getRefreshToken();return l&&fn.setTokens(o,l),t.headers.Authorization=`Bearer ${o}`,aj(),la(t)}catch(i){return aj(i),fn.clearTokens(),Promise.reject(i)}finally{Fx=!1}}return Promise.reject(e)});const wc={async login(e){return(await la.post("/login/",e)).data},async register(e){const r=(await la.post("/register/",e)).data;return{access:r.tokens.access,refresh:r.tokens.refresh,user:r.user}},async refreshToken(e){return(await la.post("/refresh/",{refresh:e})).data},async logout(e){const t=localStorage.getItem("access_token");await la.post("/logout/",{refresh:e},{headers:t?{Authorization:`Bearer ${t}`}:{}})},async getProfile(){const e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found");return(await la.get("/profile/",{headers:{Authorization:`Bearer ${e}`}})).data},async updateProfile(e){const t=localStorage.getItem("access_token");if(!t)throw new Error("No access token found");return(await la.put("/profile/",e,{headers:{Authorization:`Bearer ${t}`}})).data},async requestPasswordReset(e){await la.post("/password-reset/",e)},async confirmPasswordReset(e){await la.post("/password-reset-confirm/",e)},async changePassword(e){const t=localStorage.getItem("access_token");if(!t)throw new Error("No access token found");await la.post("/change-password/",e,{headers:{Authorization:`Bearer ${t}`}})},async getSessions(){const e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found");return(await la.get("/sessions/",{headers:{Authorization:`Bearer ${e}`}})).data},async terminateSession(e){const t=localStorage.getItem("access_token");if(!t)throw new Error("No access token found");await la.delete(`/sessions/${e}/`,{headers:{Authorization:`Bearer ${t}`}})},async terminateAllSessions(){const e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found");await la.delete("/sessions/",{headers:{Authorization:`Bearer ${e}`}})}},fn={getAccessToken(){return localStorage.getItem("access_token")},getRefreshToken(){return localStorage.getItem("refresh_token")},setTokens(e,t){localStorage.setItem("access_token",e),localStorage.setItem("refresh_token",t)},clearTokens(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},isAuthenticated(){return!!this.getAccessToken()}},JU=v.createContext(void 0);function Ede({children:e}){const[t,r]=v.useState(null),[s,a]=v.useState(!0);v.useEffect(()=>{const p=setTimeout(()=>{console.warn("Auth check timed out after 15 seconds"),a(!1)},15e3);return i().finally(()=>{clearTimeout(p)}),()=>clearTimeout(p)},[]);const i=async()=>{try{const p=fn.getAccessToken(),g=fn.getRefreshToken();if(!p&&!g){a(!1);return}if(!p&&g)try{const j=await wc.refreshToken(g);fn.setTokens(j.access,g)}catch(j){console.error("Token refresh failed during auth check:",j),fn.clearTokens(),a(!1);return}if(fn.getAccessToken())try{const j=await wc.getProfile();r({...j,name:j.first_name&&j.last_name?`${j.first_name} ${j.last_name}`:j.username})}catch(j){console.error("Profile fetch failed:",j),fn.clearTokens(),r(null)}}catch(p){console.error("Auth check failed:",p),fn.clearTokens(),r(null)}finally{a(!1)}},o=async()=>{try{const p=await wc.getProfile();r({...p,name:p.first_name&&p.last_name?`${p.first_name} ${p.last_name}`:p.username})}catch(p){throw console.error("Failed to refresh user:",p),p}},l=async(p,g)=>{var j,y,w,b,N,S;try{const _=await wc.login({email:p,password:g});fn.setTokens(_.access,_.refresh),r({..._.user,name:_.user.first_name&&_.user.last_name?`${_.user.first_name} ${_.user.last_name}`:_.user.username})}catch(_){console.error("Login failed:",_);const E=((y=(j=_.response)==null?void 0:j.data)==null?void 0:y.message)||((b=(w=_.response)==null?void 0:w.data)==null?void 0:b.detail)||((S=(N=_.response)==null?void 0:N.data)==null?void 0:S.error)||_.message||"Login failed";throw new Error(E)}},c=async(p,g,j)=>{var y,w,b,N,S,_,E,A,T,R;try{const I=(j==null?void 0:j.split(" "))||[],z=I[0]||"User",H=I.slice(1).join(" ")||"Name",F=await wc.register({username:p.split("@")[0],email:p,password:g,password_confirm:g,first_name:z,last_name:H});fn.setTokens(F.access,F.refresh),r({...F.user,name:F.user.first_name&&F.user.last_name?`${F.user.first_name} ${F.user.last_name}`:F.user.username})}catch(I){console.error("Signup failed:",I);const z=((w=(y=I.response)==null?void 0:y.data)==null?void 0:w.details)||((N=(b=I.response)==null?void 0:b.data)==null?void 0:N.errors);let H=((_=(S=I.response)==null?void 0:S.data)==null?void 0:_.message)||((A=(E=I.response)==null?void 0:E.data)==null?void 0:A.detail)||((R=(T=I.response)==null?void 0:T.data)==null?void 0:R.error)||I.message||"Signup failed";if(z&&typeof z=="object"){const F=Object.values(z)[0];Array.isArray(F)?H=F[0]:typeof F=="string"&&(H=F)}throw new Error(H)}},d=async()=>{try{window.location.href="/api/auth/google"}catch(p){throw p}},u=async()=>{try{window.location.href="/api/auth/facebook"}catch(p){throw p}},f=async()=>{try{window.location.href="/api/auth/twitter"}catch(p){throw p}},m=async()=>{try{const p=fn.getRefreshToken();p&&await wc.logout(p),fn.clearTokens(),r(null)}catch(p){console.error("Logout failed:",p),fn.clearTokens(),r(null)}},h=async p=>{var g,j;try{await wc.requestPasswordReset({email:p})}catch(y){throw console.error("Password reset failed:",y),new Error(((j=(g=y.response)==null?void 0:g.data)==null?void 0:j.detail)||y.message||"Password reset failed")}},x=async p=>{try{console.warn("Email verification not implemented yet")}catch(g){throw g}};return n.jsx(JU.Provider,{value:{user:t,loading:s,login:l,signup:c,loginWithGoogle:d,loginWithFacebook:u,loginWithTwitter:f,logout:m,resetPassword:h,verifyEmail:x,refreshUser:o},children:e})}function Yv(){const e=v.useContext(JU);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function C({className:e,...t}){return n.jsx("div",{className:ve("relative overflow-hidden rounded-md bg-muted","before:absolute before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:bg-gradient-to-r","before:from-transparent before:via-white/10 before:to-transparent",e),...t})}function dr({children:e}){const{user:t,loading:r}=Yv(),s=lc();if(r)return n.jsxs("div",{className:"min-h-screen flex bg-background",children:[n.jsxs("div",{className:"w-64 border-r border-border p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[n.jsx(C,{className:"h-10 w-10 rounded-lg"}),n.jsx(C,{className:"h-5 w-32"})]}),[...Array(8)].map((i,o)=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-4 w-24"})]},o))]}),n.jsx("div",{className:"flex-1 p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-8 w-64"}),n.jsx(C,{className:"h-4 w-96"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((i,o)=>n.jsxs("div",{className:"border rounded-lg p-6 space-y-3",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-8 w-20"}),n.jsx(C,{className:"h-3 w-16"})]},o))}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(2)].map((i,o)=>n.jsxs("div",{className:"border rounded-lg p-6 space-y-4",children:[n.jsx(C,{className:"h-6 w-40"}),n.jsx("div",{className:"space-y-2",children:[...Array(4)].map((l,c)=>n.jsx(C,{className:"h-4 w-full"},c))})]},o))})]})})]});const a=fn.isAuthenticated();return!t&&!a?n.jsx(PU,{to:"/login",state:{from:s},replace:!0}):a&&!t?n.jsxs("div",{className:"min-h-screen flex bg-background",children:[n.jsxs("div",{className:"w-64 border-r border-border p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[n.jsx(C,{className:"h-10 w-10 rounded-lg"}),n.jsx(C,{className:"h-5 w-32"})]}),[...Array(8)].map((i,o)=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-4 w-24"})]},o))]}),n.jsx("div",{className:"flex-1 p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-8 w-64"}),n.jsx(C,{className:"h-4 w-96"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((i,o)=>n.jsxs("div",{className:"border rounded-lg p-6 space-y-3",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-8 w-20"}),n.jsx(C,{className:"h-3 w-16"})]},o))})]})})]}):n.jsx(n.Fragment,{children:e})}function Ade({children:e,...t}){return n.jsx(vae,{...t,children:e})}var Xv=e=>e.type==="checkbox",pf=e=>e instanceof Date,Pa=e=>e==null;const eV=e=>typeof e=="object";var Zn=e=>!Pa(e)&&!Array.isArray(e)&&eV(e)&&!pf(e),Pde=e=>Zn(e)&&e.target?Xv(e.target)?e.target.checked:e.target.value:e,kde=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Tde=(e,t)=>e.has(kde(t)),Ode=e=>{const t=e.constructor&&e.constructor.prototype;return Zn(t)&&t.hasOwnProperty("isPrototypeOf")},Jk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function lo(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Jk&&(e instanceof Blob||e instanceof FileList))&&(r||Zn(e)))if(t=r?[]:{},!r&&!Ode(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=lo(e[s]));else return e;return t}var FN=e=>Array.isArray(e)?e.filter(Boolean):[],Wn=e=>e===void 0,gt=(e,t,r)=>{if(!t||!Zn(e))return r;const s=FN(t.split(/[,[\].]+?/)).reduce((a,i)=>Pa(a)?a:a[i],e);return Wn(s)||s===e?Wn(e[t])?r:e[t]:s},Il=e=>typeof e=="boolean",eT=e=>/^\w*$/.test(e),tV=e=>FN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),$r=(e,t,r)=>{let s=-1;const a=eT(t)?[t]:tV(t),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let c=r;if(s!==o){const d=e[l];c=Zn(d)||Array.isArray(d)?d:isNaN(+a[s+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const MI={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},xc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};V.createContext(null);var Dde=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Xo.all&&(t._proxyFormState[o]=!s||Xo.all),e[o]}});return a},Qa=e=>Zn(e)&&!Object.keys(e).length,Ide=(e,t,r,s)=>{r(e);const{name:a,...i}=e;return Qa(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===Xo.all)},db=e=>Array.isArray(e)?e:[e];function Rde(e){const t=V.useRef(e);t.current=e,V.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var Hl=e=>typeof e=="string",Mde=(e,t,r,s,a)=>Hl(e)?(s&&t.watch.add(e),gt(r,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),gt(r,i))):(s&&(t.watchAll=!0),r),rV=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},FI=e=>({isOnSubmit:!e||e===Xo.onSubmit,isOnBlur:e===Xo.onBlur,isOnChange:e===Xo.onChange,isOnAll:e===Xo.all,isOnTouch:e===Xo.onTouched}),$I=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Eg=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const i=gt(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(Eg(l,t))break}else if(Zn(l)&&Eg(l,t))break}}};var Fde=(e,t,r)=>{const s=db(gt(e,r));return $r(s,"root",t[r]),$r(e,r,s),e},tT=e=>e.type==="file",Oc=e=>typeof e=="function",Jb=e=>{if(!Jk)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ub=e=>Hl(e),rT=e=>e.type==="radio",e1=e=>e instanceof RegExp;const LI={value:!1,isValid:!1},BI={value:!0,isValid:!0};var nV=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Wn(e[0].attributes.value)?Wn(e[0].value)||e[0].value===""?BI:{value:e[0].value,isValid:!0}:BI:LI}return LI};const UI={isValid:!1,value:null};var sV=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,UI):UI;function VI(e,t,r="validate"){if(ub(e)||Array.isArray(e)&&e.every(ub)||Il(e)&&!e)return{type:r,message:ub(e)?e:"",ref:t}}var Am=e=>Zn(e)&&!e1(e)?e:{value:e,message:""},zI=async(e,t,r,s,a)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:d,min:u,max:f,pattern:m,validate:h,name:x,valueAsNumber:p,mount:g,disabled:j}=e._f,y=gt(t,x);if(!g||j)return{};const w=o?o[0]:i,b=I=>{s&&w.reportValidity&&(w.setCustomValidity(Il(I)?"":I||""),w.reportValidity())},N={},S=rT(i),_=Xv(i),E=S||_,A=(p||tT(i))&&Wn(i.value)&&Wn(y)||Jb(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,T=rV.bind(null,x,r,N),R=(I,z,H,F=xc.maxLength,k=xc.minLength)=>{const P=I?z:H;N[x]={type:I?F:k,message:P,ref:i,...T(I?F:k,P)}};if(a?!Array.isArray(y)||!y.length:l&&(!E&&(A||Pa(y))||Il(y)&&!y||_&&!nV(o).isValid||S&&!sV(o).isValid)){const{value:I,message:z}=ub(l)?{value:!!l,message:l}:Am(l);if(I&&(N[x]={type:xc.required,message:z,ref:w,...T(xc.required,z)},!r))return b(z),N}if(!A&&(!Pa(u)||!Pa(f))){let I,z;const H=Am(f),F=Am(u);if(!Pa(y)&&!isNaN(y)){const k=i.valueAsNumber||y&&+y;Pa(H.value)||(I=k>H.value),Pa(F.value)||(z=k<F.value)}else{const k=i.valueAsDate||new Date(y),P=K=>new Date(new Date().toDateString()+" "+K),M=i.type=="time",O=i.type=="week";Hl(H.value)&&y&&(I=M?P(y)>P(H.value):O?y>H.value:k>new Date(H.value)),Hl(F.value)&&y&&(z=M?P(y)<P(F.value):O?y<F.value:k<new Date(F.value))}if((I||z)&&(R(!!I,H.message,F.message,xc.max,xc.min),!r))return b(N[x].message),N}if((c||d)&&!A&&(Hl(y)||a&&Array.isArray(y))){const I=Am(c),z=Am(d),H=!Pa(I.value)&&y.length>+I.value,F=!Pa(z.value)&&y.length<+z.value;if((H||F)&&(R(H,I.message,z.message),!r))return b(N[x].message),N}if(m&&!A&&Hl(y)){const{value:I,message:z}=Am(m);if(e1(I)&&!y.match(I)&&(N[x]={type:xc.pattern,message:z,ref:i,...T(xc.pattern,z)},!r))return b(z),N}if(h){if(Oc(h)){const I=await h(y,t),z=VI(I,w);if(z&&(N[x]={...z,...T(xc.validate,z.message)},!r))return b(z.message),N}else if(Zn(h)){let I={};for(const z in h){if(!Qa(I)&&!r)break;const H=VI(await h[z](y,t),w,z);H&&(I={...H,...T(z,H.message)},b(H.message),r&&(N[x]=I))}if(!Qa(I)&&(N[x]={ref:w,...I},!r))return N}}return b(!0),N};function $de(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=Wn(e)?s++:e[t[s++]];return e}function Lde(e){for(const t in e)if(e.hasOwnProperty(t)&&!Wn(e[t]))return!1;return!0}function fs(e,t){const r=Array.isArray(t)?t:eT(t)?[t]:tV(t),s=r.length===1?e:$de(e,r),a=r.length-1,i=r[a];return s&&delete s[i],a!==0&&(Zn(s)&&Qa(s)||Array.isArray(s)&&Lde(s))&&fs(e,r.slice(0,-1)),e}var tS=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},J4=e=>Pa(e)||!eV(e);function Rd(e,t){if(J4(e)||J4(t))return e===t;if(pf(e)&&pf(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const a of r){const i=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const o=t[a];if(pf(i)&&pf(o)||Zn(i)&&Zn(o)||Array.isArray(i)&&Array.isArray(o)?!Rd(i,o):i!==o)return!1}}return!0}var aV=e=>e.type==="select-multiple",Bde=e=>rT(e)||Xv(e),rS=e=>Jb(e)&&e.isConnected,iV=e=>{for(const t in e)if(Oc(e[t]))return!0;return!1};function t1(e,t={}){const r=Array.isArray(e);if(Zn(e)||r)for(const s in e)Array.isArray(e[s])||Zn(e[s])&&!iV(e[s])?(t[s]=Array.isArray(e[s])?[]:{},t1(e[s],t[s])):Pa(e[s])||(t[s]=!0);return t}function oV(e,t,r){const s=Array.isArray(e);if(Zn(e)||s)for(const a in e)Array.isArray(e[a])||Zn(e[a])&&!iV(e[a])?Wn(t)||J4(r[a])?r[a]=Array.isArray(e[a])?t1(e[a],[]):{...t1(e[a])}:oV(e[a],Pa(t)?{}:t[a],r[a]):r[a]=!Rd(e[a],t[a]);return r}var $x=(e,t)=>oV(e,t,t1(t)),lV=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>Wn(e)?e:t?e===""?NaN:e&&+e:r&&Hl(e)?new Date(e):s?s(e):e;function nS(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return tT(t)?t.files:rT(t)?sV(e.refs).value:aV(t)?[...t.selectedOptions].map(({value:r})=>r):Xv(t)?nV(e.refs).value:lV(Wn(t.value)?e.ref.value:t.value,e)}var Ude=(e,t,r,s)=>{const a={};for(const i of e){const o=gt(t,i);o&&$r(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},Lx=e=>Wn(e)?e:e1(e)?e.source:Zn(e)?e1(e.value)?e.value.source:e.value:e;const WI="AsyncFunction";var Vde=e=>(!e||!e.validate)&&!!(Oc(e.validate)&&e.validate.constructor.name===WI||Zn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===WI)),zde=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function HI(e,t,r){const s=gt(e,r);if(s||eT(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=gt(t,i),l=gt(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var Wde=(e,t,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:(r?s.isOnChange:a.isOnChange)?e:!0,Hde=(e,t)=>!FN(gt(e,t)).length&&fs(e,t);const qde={mode:Xo.onSubmit,reValidateMode:Xo.onChange,shouldFocusError:!0};function Gde(e={}){let t={...qde,...e},r={submitCount:0,isDirty:!1,isLoading:Oc(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Zn(t.defaultValues)||Zn(t.values)?lo(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:lo(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:tS(),array:tS(),state:tS()},m=FI(t.mode),h=FI(t.reValidateMode),x=t.criteriaMode===Xo.all,p=re=>he=>{clearTimeout(d),d=setTimeout(re,he)},g=async re=>{if(!e.disabled&&(u.isValid||re)){const he=t.resolver?Qa((await E()).errors):await T(s,!0);he!==r.isValid&&f.state.next({isValid:he})}},j=(re,he)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((re||Array.from(l.mount)).forEach(ce=>{ce&&(he?$r(r.validatingFields,ce,he):fs(r.validatingFields,ce))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Qa(r.validatingFields)}))},y=(re,he=[],ce,je,Fe=!0,De=!0)=>{if(je&&ce&&!e.disabled){if(o.action=!0,De&&Array.isArray(gt(s,re))){const de=ce(gt(s,re),je.argA,je.argB);Fe&&$r(s,re,de)}if(De&&Array.isArray(gt(r.errors,re))){const de=ce(gt(r.errors,re),je.argA,je.argB);Fe&&$r(r.errors,re,de),Hde(r.errors,re)}if(u.touchedFields&&De&&Array.isArray(gt(r.touchedFields,re))){const de=ce(gt(r.touchedFields,re),je.argA,je.argB);Fe&&$r(r.touchedFields,re,de)}u.dirtyFields&&(r.dirtyFields=$x(a,i)),f.state.next({name:re,isDirty:I(re,he),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else $r(i,re,he)},w=(re,he)=>{$r(r.errors,re,he),f.state.next({errors:r.errors})},b=re=>{r.errors=re,f.state.next({errors:r.errors,isValid:!1})},N=(re,he,ce,je)=>{const Fe=gt(s,re);if(Fe){const De=gt(i,re,Wn(ce)?gt(a,re):ce);Wn(De)||je&&je.defaultChecked||he?$r(i,re,he?De:nS(Fe._f)):F(re,De),o.mount&&g()}},S=(re,he,ce,je,Fe)=>{let De=!1,de=!1;const Ie={name:re};if(!e.disabled){const it=!!(gt(s,re)&&gt(s,re)._f&&gt(s,re)._f.disabled);if(!ce||je){u.isDirty&&(de=r.isDirty,r.isDirty=Ie.isDirty=I(),De=de!==Ie.isDirty);const bt=it||Rd(gt(a,re),he);de=!!(!it&&gt(r.dirtyFields,re)),bt||it?fs(r.dirtyFields,re):$r(r.dirtyFields,re,!0),Ie.dirtyFields=r.dirtyFields,De=De||u.dirtyFields&&de!==!bt}if(ce){const bt=gt(r.touchedFields,re);bt||($r(r.touchedFields,re,ce),Ie.touchedFields=r.touchedFields,De=De||u.touchedFields&&bt!==ce)}De&&Fe&&f.state.next(Ie)}return De?Ie:{}},_=(re,he,ce,je)=>{const Fe=gt(r.errors,re),De=u.isValid&&Il(he)&&r.isValid!==he;if(e.delayError&&ce?(c=p(()=>w(re,ce)),c(e.delayError)):(clearTimeout(d),c=null,ce?$r(r.errors,re,ce):fs(r.errors,re)),(ce?!Rd(Fe,ce):Fe)||!Qa(je)||De){const de={...je,...De&&Il(he)?{isValid:he}:{},errors:r.errors,name:re};r={...r,...de},f.state.next(de)}},E=async re=>{j(re,!0);const he=await t.resolver(i,t.context,Ude(re||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return j(re),he},A=async re=>{const{errors:he}=await E(re);if(re)for(const ce of re){const je=gt(he,ce);je?$r(r.errors,ce,je):fs(r.errors,ce)}else r.errors=he;return he},T=async(re,he,ce={valid:!0})=>{for(const je in re){const Fe=re[je];if(Fe){const{_f:De,...de}=Fe;if(De){const Ie=l.array.has(De.name),it=Fe._f&&Vde(Fe._f);it&&u.validatingFields&&j([je],!0);const bt=await zI(Fe,i,x,t.shouldUseNativeValidation&&!he,Ie);if(it&&u.validatingFields&&j([je]),bt[De.name]&&(ce.valid=!1,he))break;!he&&(gt(bt,De.name)?Ie?Fde(r.errors,bt,De.name):$r(r.errors,De.name,bt[De.name]):fs(r.errors,De.name))}!Qa(de)&&await T(de,he,ce)}}return ce.valid},R=()=>{for(const re of l.unMount){const he=gt(s,re);he&&(he._f.refs?he._f.refs.every(ce=>!rS(ce)):!rS(he._f.ref))&&le(re)}l.unMount=new Set},I=(re,he)=>!e.disabled&&(re&&he&&$r(i,re,he),!Rd(ne(),a)),z=(re,he,ce)=>Mde(re,l,{...o.mount?i:Wn(he)?a:Hl(re)?{[re]:he}:he},ce,he),H=re=>FN(gt(o.mount?i:a,re,e.shouldUnregister?gt(a,re,[]):[])),F=(re,he,ce={})=>{const je=gt(s,re);let Fe=he;if(je){const De=je._f;De&&(!De.disabled&&$r(i,re,lV(he,De)),Fe=Jb(De.ref)&&Pa(he)?"":he,aV(De.ref)?[...De.ref.options].forEach(de=>de.selected=Fe.includes(de.value)):De.refs?Xv(De.ref)?De.refs.length>1?De.refs.forEach(de=>(!de.defaultChecked||!de.disabled)&&(de.checked=Array.isArray(Fe)?!!Fe.find(Ie=>Ie===de.value):Fe===de.value)):De.refs[0]&&(De.refs[0].checked=!!Fe):De.refs.forEach(de=>de.checked=de.value===Fe):tT(De.ref)?De.ref.value="":(De.ref.value=Fe,De.ref.type||f.values.next({name:re,values:{...i}})))}(ce.shouldDirty||ce.shouldTouch)&&S(re,Fe,ce.shouldTouch,ce.shouldDirty,!0),ce.shouldValidate&&K(re)},k=(re,he,ce)=>{for(const je in he){const Fe=he[je],De=`${re}.${je}`,de=gt(s,De);(l.array.has(re)||Zn(Fe)||de&&!de._f)&&!pf(Fe)?k(De,Fe,ce):F(De,Fe,ce)}},P=(re,he,ce={})=>{const je=gt(s,re),Fe=l.array.has(re),De=lo(he);$r(i,re,De),Fe?(f.array.next({name:re,values:{...i}}),(u.isDirty||u.dirtyFields)&&ce.shouldDirty&&f.state.next({name:re,dirtyFields:$x(a,i),isDirty:I(re,De)})):je&&!je._f&&!Pa(De)?k(re,De,ce):F(re,De,ce),$I(re,l)&&f.state.next({...r}),f.values.next({name:o.mount?re:void 0,values:{...i}})},M=async re=>{o.mount=!0;const he=re.target;let ce=he.name,je=!0;const Fe=gt(s,ce),De=()=>he.type?nS(Fe._f):Pde(re),de=Ie=>{je=Number.isNaN(Ie)||pf(Ie)&&isNaN(Ie.getTime())||Rd(Ie,gt(i,ce,Ie))};if(Fe){let Ie,it;const bt=De(),qe=re.type===MI.BLUR||re.type===MI.FOCUS_OUT,ye=!zde(Fe._f)&&!t.resolver&&!gt(r.errors,ce)&&!Fe._f.deps||Wde(qe,gt(r.touchedFields,ce),r.isSubmitted,h,m),Ge=$I(ce,l,qe);$r(i,ce,bt),qe?(Fe._f.onBlur&&Fe._f.onBlur(re),c&&c(0)):Fe._f.onChange&&Fe._f.onChange(re);const Pt=S(ce,bt,qe,!1),kt=!Qa(Pt)||Ge;if(!qe&&f.values.next({name:ce,type:re.type,values:{...i}}),ye)return u.isValid&&(e.mode==="onBlur"?qe&&g():g()),kt&&f.state.next({name:ce,...Ge?{}:Pt});if(!qe&&Ge&&f.state.next({...r}),t.resolver){const{errors:vr}=await E([ce]);if(de(bt),je){const qr=HI(r.errors,s,ce),Zr=HI(vr,s,qr.name||ce);Ie=Zr.error,ce=Zr.name,it=Qa(vr)}}else j([ce],!0),Ie=(await zI(Fe,i,x,t.shouldUseNativeValidation))[ce],j([ce]),de(bt),je&&(Ie?it=!1:u.isValid&&(it=await T(s,!0)));je&&(Fe._f.deps&&K(Fe._f.deps),_(ce,it,Ie,Pt))}},O=(re,he)=>{if(gt(r.errors,he)&&re.focus)return re.focus(),1},K=async(re,he={})=>{let ce,je;const Fe=db(re);if(t.resolver){const De=await A(Wn(re)?re:Fe);ce=Qa(De),je=re?!Fe.some(de=>gt(De,de)):ce}else re?(je=(await Promise.all(Fe.map(async De=>{const de=gt(s,De);return await T(de&&de._f?{[De]:de}:de)}))).every(Boolean),!(!je&&!r.isValid)&&g()):je=ce=await T(s);return f.state.next({...!Hl(re)||u.isValid&&ce!==r.isValid?{}:{name:re},...t.resolver||!re?{isValid:ce}:{},errors:r.errors}),he.shouldFocus&&!je&&Eg(s,O,re?Fe:l.mount),je},ne=re=>{const he={...o.mount?i:a};return Wn(re)?he:Hl(re)?gt(he,re):re.map(ce=>gt(he,ce))},D=(re,he)=>({invalid:!!gt((he||r).errors,re),isDirty:!!gt((he||r).dirtyFields,re),error:gt((he||r).errors,re),isValidating:!!gt(r.validatingFields,re),isTouched:!!gt((he||r).touchedFields,re)}),U=re=>{re&&db(re).forEach(he=>fs(r.errors,he)),f.state.next({errors:re?r.errors:{}})},L=(re,he,ce)=>{const je=(gt(s,re,{_f:{}})._f||{}).ref,Fe=gt(r.errors,re)||{},{ref:De,message:de,type:Ie,...it}=Fe;$r(r.errors,re,{...it,...he,ref:je}),f.state.next({name:re,errors:r.errors,isValid:!1}),ce&&ce.shouldFocus&&je&&je.focus&&je.focus()},G=(re,he)=>Oc(re)?f.values.subscribe({next:ce=>re(z(void 0,he),ce)}):z(re,he,!0),le=(re,he={})=>{for(const ce of re?db(re):l.mount)l.mount.delete(ce),l.array.delete(ce),he.keepValue||(fs(s,ce),fs(i,ce)),!he.keepError&&fs(r.errors,ce),!he.keepDirty&&fs(r.dirtyFields,ce),!he.keepTouched&&fs(r.touchedFields,ce),!he.keepIsValidating&&fs(r.validatingFields,ce),!t.shouldUnregister&&!he.keepDefaultValue&&fs(a,ce);f.values.next({values:{...i}}),f.state.next({...r,...he.keepDirty?{isDirty:I()}:{}}),!he.keepIsValid&&g()},fe=({disabled:re,name:he,field:ce,fields:je,value:Fe})=>{if(Il(re)&&o.mount||re){const De=re?void 0:Wn(Fe)?nS(ce?ce._f:gt(je,he)._f):Fe;$r(i,he,De),S(he,De,!1,!1,!0)}},B=(re,he={})=>{let ce=gt(s,re);const je=Il(he.disabled)||Il(e.disabled);return $r(s,re,{...ce||{},_f:{...ce&&ce._f?ce._f:{ref:{name:re}},name:re,mount:!0,...he}}),l.mount.add(re),ce?fe({field:ce,disabled:Il(he.disabled)?he.disabled:e.disabled,name:re,value:he.value}):N(re,!0,he.value),{...je?{disabled:he.disabled||e.disabled}:{},...t.progressive?{required:!!he.required,min:Lx(he.min),max:Lx(he.max),minLength:Lx(he.minLength),maxLength:Lx(he.maxLength),pattern:Lx(he.pattern)}:{},name:re,onChange:M,onBlur:M,ref:Fe=>{if(Fe){B(re,he),ce=gt(s,re);const De=Wn(Fe.value)&&Fe.querySelectorAll&&Fe.querySelectorAll("input,select,textarea")[0]||Fe,de=Bde(De),Ie=ce._f.refs||[];if(de?Ie.find(it=>it===De):De===ce._f.ref)return;$r(s,re,{_f:{...ce._f,...de?{refs:[...Ie.filter(rS),De,...Array.isArray(gt(a,re))?[{}]:[]],ref:{type:De.type,name:re}}:{ref:De}}}),N(re,!1,void 0,De)}else ce=gt(s,re,{}),ce._f&&(ce._f.mount=!1),(t.shouldUnregister||he.shouldUnregister)&&!(Tde(l.array,re)&&o.action)&&l.unMount.add(re)}}},Y=()=>t.shouldFocusError&&Eg(s,O,l.mount),ie=re=>{Il(re)&&(f.state.next({disabled:re}),Eg(s,(he,ce)=>{const je=gt(s,ce);je&&(he.disabled=je._f.disabled||re,Array.isArray(je._f.refs)&&je._f.refs.forEach(Fe=>{Fe.disabled=je._f.disabled||re}))},0,!1))},we=(re,he)=>async ce=>{let je;ce&&(ce.preventDefault&&ce.preventDefault(),ce.persist&&ce.persist());let Fe=lo(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:De,values:de}=await E();r.errors=De,Fe=de}else await T(s);if(fs(r.errors,"root"),Qa(r.errors)){f.state.next({errors:{}});try{await re(Fe,ce)}catch(De){je=De}}else he&&await he({...r.errors},ce),Y(),setTimeout(Y);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qa(r.errors)&&!je,submitCount:r.submitCount+1,errors:r.errors}),je)throw je},ue=(re,he={})=>{gt(s,re)&&(Wn(he.defaultValue)?P(re,lo(gt(a,re))):(P(re,he.defaultValue),$r(a,re,lo(he.defaultValue))),he.keepTouched||fs(r.touchedFields,re),he.keepDirty||(fs(r.dirtyFields,re),r.isDirty=he.defaultValue?I(re,lo(gt(a,re))):I()),he.keepError||(fs(r.errors,re),u.isValid&&g()),f.state.next({...r}))},ge=(re,he={})=>{const ce=re?lo(re):a,je=lo(ce),Fe=Qa(re),De=Fe?a:je;if(he.keepDefaultValues||(a=ce),!he.keepValues){if(he.keepDirtyValues){const de=new Set([...l.mount,...Object.keys($x(a,i))]);for(const Ie of Array.from(de))gt(r.dirtyFields,Ie)?$r(De,Ie,gt(i,Ie)):P(Ie,gt(De,Ie))}else{if(Jk&&Wn(re))for(const de of l.mount){const Ie=gt(s,de);if(Ie&&Ie._f){const it=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(Jb(it)){const bt=it.closest("form");if(bt){bt.reset();break}}}}s={}}i=e.shouldUnregister?he.keepDefaultValues?lo(a):{}:lo(De),f.array.next({values:{...De}}),f.values.next({values:{...De}})}l={mount:he.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!he.keepIsValid||!!he.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:he.keepSubmitCount?r.submitCount:0,isDirty:Fe?!1:he.keepDirty?r.isDirty:!!(he.keepDefaultValues&&!Rd(re,a)),isSubmitted:he.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Fe?{}:he.keepDirtyValues?he.keepDefaultValues&&i?$x(a,i):r.dirtyFields:he.keepDefaultValues&&re?$x(a,re):he.keepDirty?r.dirtyFields:{},touchedFields:he.keepTouched?r.touchedFields:{},errors:he.keepErrors?r.errors:{},isSubmitSuccessful:he.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},xe=(re,he)=>ge(Oc(re)?re(i):re,he);return{control:{register:B,unregister:le,getFieldState:D,handleSubmit:we,setError:L,_executeSchema:E,_getWatch:z,_getDirty:I,_updateValid:g,_removeUnmounted:R,_updateFieldArray:y,_updateDisabledField:fe,_getFieldArray:H,_reset:ge,_resetDefaultValues:()=>Oc(t.defaultValues)&&t.defaultValues().then(re=>{xe(re,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:re=>{r={...r,...re}},_disableForm:ie,_subjects:f,_proxyFormState:u,_setErrors:b,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(re){o=re},get _defaultValues(){return a},get _names(){return l},set _names(re){l=re},get _formState(){return r},set _formState(re){r=re},get _options(){return t},set _options(re){t={...t,...re}}},trigger:K,register:B,handleSubmit:we,watch:G,setValue:P,getValues:ne,reset:xe,resetField:ue,clearErrors:U,unregister:le,setError:L,setFocus:(re,he={})=>{const ce=gt(s,re),je=ce&&ce._f;if(je){const Fe=je.refs?je.refs[0]:je.ref;Fe.focus&&(Fe.focus(),he.shouldSelect&&Fe.select())}},getFieldState:D}}function nT(e={}){const t=V.useRef(),r=V.useRef(),[s,a]=V.useState({isDirty:!1,isValidating:!1,isLoading:Oc(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Oc(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Gde(e),formState:s});const i=t.current.control;return i._options=e,Rde({subject:i._subjects.state,next:o=>{Ide(o,i._proxyFormState,i._updateFormState)&&a({...i._formState})}}),V.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),V.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),V.useEffect(()=>{e.values&&!Rd(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),V.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),V.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),V.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),V.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[s]),t.current.formState=Dde(s,i),t.current}const qI=(e,t,r)=>{if(e&&"reportValidity"in e){const s=gt(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},cV=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?qI(s.ref,r,e):s.refs&&s.refs.forEach(a=>qI(a,r,e))}},Kde=(e,t)=>{t.shouldUseNativeValidation&&cV(e,t);const r={};for(const s in e){const a=gt(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(Yde(t.names||Object.keys(e),s)){const o=Object.assign({},gt(r,s));$r(o,"root",i),$r(r,s,o)}else $r(r,s,i)}return r},Yde=(e,t)=>e.some(r=>r.startsWith(t+"."));var Xde=function(e,t){for(var r={};e.length;){var s=e[0],a=s.code,i=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,d=c&&c[s.code];r[o]=rV(o,t,r,a,d?[].concat(d,s.message):s.message)}e.shift()}return r},sT=function(e,t,r){return r===void 0&&(r={}),function(s,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return i.shouldUseNativeValidation&&cV({},i),{errors:{},values:r.raw?s:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Kde(Xde(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},pr;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(pr||(pr={}));var GI;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(GI||(GI={}));const pt=pr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),sf=e=>{switch(typeof e){case"undefined":return pt.undefined;case"string":return pt.string;case"number":return isNaN(e)?pt.nan:pt.number;case"boolean":return pt.boolean;case"function":return pt.function;case"bigint":return pt.bigint;case"symbol":return pt.symbol;case"object":return Array.isArray(e)?pt.array:e===null?pt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?pt.promise:typeof Map<"u"&&e instanceof Map?pt.map:typeof Set<"u"&&e instanceof Set?pt.set:typeof Date<"u"&&e instanceof Date?pt.date:pt.object;default:return pt.unknown}},Xe=pr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class No extends Error{constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),s}static assert(t){if(!(t instanceof No))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,pr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):s.push(t(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}No.create=e=>new No(e);const v0=(e,t)=>{let r;switch(e.code){case Xe.invalid_type:e.received===pt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Xe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,pr.jsonStringifyReplacer)}`;break;case Xe.unrecognized_keys:r=`Unrecognized key(s) in object: ${pr.joinValues(e.keys,", ")}`;break;case Xe.invalid_union:r="Invalid input";break;case Xe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${pr.joinValues(e.options)}`;break;case Xe.invalid_enum_value:r=`Invalid enum value. Expected ${pr.joinValues(e.options)}, received '${e.received}'`;break;case Xe.invalid_arguments:r="Invalid function arguments";break;case Xe.invalid_return_type:r="Invalid function return type";break;case Xe.invalid_date:r="Invalid date";break;case Xe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:pr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Xe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Xe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Xe.custom:r="Invalid input";break;case Xe.invalid_intersection_types:r="Intersection results could not be merged";break;case Xe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Xe.not_finite:r="Number must be finite";break;default:r=t.defaultError,pr.assertNever(e)}return{message:r}};let Qde=v0;function eE(){return Qde}const tE=e=>{const{data:t,path:r,errorMaps:s,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function ut(e,t){const r=eE(),s=tE({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===v0?void 0:v0].filter(a=>!!a)});e.common.issues.push(s)}class Ba{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const a of r){if(a.status==="aborted")return Mt;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const a of r){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return Ba.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Mt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const Mt=Object.freeze({status:"aborted"}),cg=e=>({status:"dirty",value:e}),hi=e=>({status:"valid",value:e}),KI=e=>e.status==="aborted",YI=e=>e.status==="dirty",r1=e=>e.status==="valid",n1=e=>typeof Promise<"u"&&e instanceof Promise;function s1(e,t,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function dV(e,t,r,s,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var _t;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(_t||(_t={}));var dg,ug;class nc{constructor(t,r,s,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const XI=(e,t)=>{if(r1(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new No(e.common.issues);return this._error=r,this._error}}};function Gt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:a}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??s)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??r)!==null&&d!==void 0?d:l.defaultError}},description:a}}class ar{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return sf(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:sf(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ba,ctx:{common:t.parent.common,data:t.data,parsedType:sf(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(n1(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){var s;const a={common:{issues:[],async:(s=r==null?void 0:r.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:sf(t)},i=this._parseSync({data:t,path:a.path,parent:a});return XI(a,i)}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:sf(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(n1(a)?a:Promise.resolve(a));return XI(s,i)}refine(t,r){const s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Xe.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(t){return new td({schema:this,typeName:It.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return $c.create(this,this._def)}nullable(){return Kf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xl.create(this,this._def)}promise(){return j0.create(this,this._def)}or(t){return o1.create([this,t],this._def)}and(t){return l1.create(this,t,this._def)}transform(t){return new td({...Gt(this._def),schema:this,typeName:It.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new m1({...Gt(this._def),innerType:this,defaultValue:r,typeName:It.ZodDefault})}brand(){return new hV({typeName:It.ZodBranded,type:this,...Gt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new h1({...Gt(this._def),innerType:this,catchValue:r,typeName:It.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return $N.create(this,t)}readonly(){return p1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Zde=/^c[^\s-]{8,}$/i,Jde=/^[0-9a-z]+$/,eue=/^[0-9A-HJKMNP-TV-Z]{26}$/,tue=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,rue=/^[a-z0-9_-]{21}$/i,nue=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sue=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,aue="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let sS;const iue=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,oue=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,lue=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,uV="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",cue=new RegExp(`^${uV}$`);function fV(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function due(e){return new RegExp(`^${fV(e)}$`)}function uue(e){let t=`${uV}T${fV(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function fue(e,t){return!!((t==="v4"||!t)&&iue.test(e)||(t==="v6"||!t)&&oue.test(e))}class Dc extends ar{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==pt.string){const i=this._getOrReturnCtx(t);return ut(i,{code:Xe.invalid_type,expected:pt.string,received:i.parsedType}),Mt}const s=new Ba;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:Xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:Xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?ut(a,{code:Xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ut(a,{code:Xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")sue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"email",code:Xe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")sS||(sS=new RegExp(aue,"u")),sS.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"emoji",code:Xe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")tue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"uuid",code:Xe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")rue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"nanoid",code:Xe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")Zde.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"cuid",code:Xe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")Jde.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"cuid2",code:Xe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")eue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"ulid",code:Xe.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),ut(a,{validation:"url",code:Xe.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"regex",code:Xe.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Xe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Xe.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Xe.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?uue(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Xe.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?cue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Xe.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?due(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Xe.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?nue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"duration",code:Xe.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?fue(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"ip",code:Xe.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?lue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"base64",code:Xe.invalid_string,message:i.message}),s.dirty()):pr.assertNever(i);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(a=>t.test(a),{validation:r,code:Xe.invalid_string,..._t.errToObj(s)})}_addCheck(t){return new Dc({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",..._t.errToObj(t)})}url(t){return this._addCheck({kind:"url",..._t.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",..._t.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",..._t.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",..._t.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",..._t.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",..._t.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",..._t.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",..._t.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",..._t.errToObj(t)})}datetime(t){var r,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,..._t.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,..._t.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",..._t.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,..._t.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,..._t.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,..._t.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,..._t.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,..._t.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,..._t.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,..._t.errToObj(r)})}nonempty(t){return this.min(1,_t.errToObj(t))}trim(){return new Dc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Dc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Dc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Dc.create=e=>{var t;return new Dc({checks:[],typeName:It.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Gt(e)})};function mue(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=r>s?r:s,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class ep extends ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==pt.number){const i=this._getOrReturnCtx(t);return ut(i,{code:Xe.invalid_type,expected:pt.number,received:i.parsedType}),Mt}let s;const a=new Ba;for(const i of this._def.checks)i.kind==="int"?pr.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),ut(s,{code:Xe.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Xe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Xe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?mue(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Xe.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),ut(s,{code:Xe.not_finite,message:i.message}),a.dirty()):pr.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,_t.toString(r))}gt(t,r){return this.setLimit("min",t,!1,_t.toString(r))}lte(t,r){return this.setLimit("max",t,!0,_t.toString(r))}lt(t,r){return this.setLimit("max",t,!1,_t.toString(r))}setLimit(t,r,s,a){return new ep({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:_t.toString(a)}]})}_addCheck(t){return new ep({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:_t.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_t.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_t.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_t.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_t.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:_t.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:_t.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_t.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_t.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&pr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}ep.create=e=>new ep({checks:[],typeName:It.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Gt(e)});class tp extends ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==pt.bigint){const i=this._getOrReturnCtx(t);return ut(i,{code:Xe.invalid_type,expected:pt.bigint,received:i.parsedType}),Mt}let s;const a=new Ba;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Xe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Xe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Xe.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):pr.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,_t.toString(r))}gt(t,r){return this.setLimit("min",t,!1,_t.toString(r))}lte(t,r){return this.setLimit("max",t,!0,_t.toString(r))}lt(t,r){return this.setLimit("max",t,!1,_t.toString(r))}setLimit(t,r,s,a){return new tp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:_t.toString(a)}]})}_addCheck(t){return new tp({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_t.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_t.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_t.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_t.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:_t.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}tp.create=e=>{var t;return new tp({checks:[],typeName:It.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Gt(e)})};class rE extends ar{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==pt.boolean){const s=this._getOrReturnCtx(t);return ut(s,{code:Xe.invalid_type,expected:pt.boolean,received:s.parsedType}),Mt}return hi(t.data)}}rE.create=e=>new rE({typeName:It.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Gt(e)});class y0 extends ar{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==pt.date){const i=this._getOrReturnCtx(t);return ut(i,{code:Xe.invalid_type,expected:pt.date,received:i.parsedType}),Mt}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ut(i,{code:Xe.invalid_date}),Mt}const s=new Ba;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:Xe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:Xe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):pr.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new y0({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:_t.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:_t.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}y0.create=e=>new y0({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:It.ZodDate,...Gt(e)});class nE extends ar{_parse(t){if(this._getType(t)!==pt.symbol){const s=this._getOrReturnCtx(t);return ut(s,{code:Xe.invalid_type,expected:pt.symbol,received:s.parsedType}),Mt}return hi(t.data)}}nE.create=e=>new nE({typeName:It.ZodSymbol,...Gt(e)});class a1 extends ar{_parse(t){if(this._getType(t)!==pt.undefined){const s=this._getOrReturnCtx(t);return ut(s,{code:Xe.invalid_type,expected:pt.undefined,received:s.parsedType}),Mt}return hi(t.data)}}a1.create=e=>new a1({typeName:It.ZodUndefined,...Gt(e)});class i1 extends ar{_parse(t){if(this._getType(t)!==pt.null){const s=this._getOrReturnCtx(t);return ut(s,{code:Xe.invalid_type,expected:pt.null,received:s.parsedType}),Mt}return hi(t.data)}}i1.create=e=>new i1({typeName:It.ZodNull,...Gt(e)});class sE extends ar{constructor(){super(...arguments),this._any=!0}_parse(t){return hi(t.data)}}sE.create=e=>new sE({typeName:It.ZodAny,...Gt(e)});class jh extends ar{constructor(){super(...arguments),this._unknown=!0}_parse(t){return hi(t.data)}}jh.create=e=>new jh({typeName:It.ZodUnknown,...Gt(e)});class Nu extends ar{_parse(t){const r=this._getOrReturnCtx(t);return ut(r,{code:Xe.invalid_type,expected:pt.never,received:r.parsedType}),Mt}}Nu.create=e=>new Nu({typeName:It.ZodNever,...Gt(e)});class aE extends ar{_parse(t){if(this._getType(t)!==pt.undefined){const s=this._getOrReturnCtx(t);return ut(s,{code:Xe.invalid_type,expected:pt.void,received:s.parsedType}),Mt}return hi(t.data)}}aE.create=e=>new aE({typeName:It.ZodVoid,...Gt(e)});class Xl extends ar{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),a=this._def;if(r.parsedType!==pt.array)return ut(r,{code:Xe.invalid_type,expected:pt.array,received:r.parsedType}),Mt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(ut(r,{code:o?Xe.too_big:Xe.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(ut(r,{code:Xe.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(ut(r,{code:Xe.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new nc(r,o,r.path,l)))).then(o=>Ba.mergeArray(s,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new nc(r,o,r.path,l)));return Ba.mergeArray(s,i)}get element(){return this._def.type}min(t,r){return new Xl({...this._def,minLength:{value:t,message:_t.toString(r)}})}max(t,r){return new Xl({...this._def,maxLength:{value:t,message:_t.toString(r)}})}length(t,r){return new Xl({...this._def,exactLength:{value:t,message:_t.toString(r)}})}nonempty(t){return this.min(1,t)}}Xl.create=(e,t)=>new Xl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:It.ZodArray,...Gt(t)});function Vm(e){if(e instanceof Dn){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=$c.create(Vm(s))}return new Dn({...e._def,shape:()=>t})}else return e instanceof Xl?new Xl({...e._def,type:Vm(e.element)}):e instanceof $c?$c.create(Vm(e.unwrap())):e instanceof Kf?Kf.create(Vm(e.unwrap())):e instanceof ed?ed.create(e.items.map(t=>Vm(t))):e}class Dn extends ar{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=pr.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==pt.object){const d=this._getOrReturnCtx(t);return ut(d,{code:Xe.invalid_type,expected:pt.object,received:d.parsedType}),Mt}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Nu&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new nc(a,f,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Nu){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(ut(a,{code:Xe.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new nc(a,f,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,m=await u.value;d.push({key:f,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>Ba.mergeObjectSync(s,d)):Ba.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return _t.errToObj,new Dn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,s).message)!==null&&o!==void 0?o:s.defaultError;return r.code==="unrecognized_keys"?{message:(l=_t.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Dn({...this._def,unknownKeys:"strip"})}passthrough(){return new Dn({...this._def,unknownKeys:"passthrough"})}extend(t){return new Dn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Dn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:It.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Dn({...this._def,catchall:t})}pick(t){const r={};return pr.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new Dn({...this._def,shape:()=>r})}omit(t){const r={};return pr.objectKeys(this.shape).forEach(s=>{t[s]||(r[s]=this.shape[s])}),new Dn({...this._def,shape:()=>r})}deepPartial(){return Vm(this)}partial(t){const r={};return pr.objectKeys(this.shape).forEach(s=>{const a=this.shape[s];t&&!t[s]?r[s]=a:r[s]=a.optional()}),new Dn({...this._def,shape:()=>r})}required(t){const r={};return pr.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof $c;)i=i._def.innerType;r[s]=i}}),new Dn({...this._def,shape:()=>r})}keyof(){return mV(pr.objectKeys(this.shape))}}Dn.create=(e,t)=>new Dn({shape:()=>e,unknownKeys:"strip",catchall:Nu.create(),typeName:It.ZodObject,...Gt(t)});Dn.strictCreate=(e,t)=>new Dn({shape:()=>e,unknownKeys:"strict",catchall:Nu.create(),typeName:It.ZodObject,...Gt(t)});Dn.lazycreate=(e,t)=>new Dn({shape:e,unknownKeys:"strip",catchall:Nu.create(),typeName:It.ZodObject,...Gt(t)});class o1 extends ar{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new No(l.ctx.common.issues));return ut(r,{code:Xe.invalid_union,unionErrors:o}),Mt}if(r.common.async)return Promise.all(s.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new No(c));return ut(r,{code:Xe.invalid_union,unionErrors:l}),Mt}}get options(){return this._def.options}}o1.create=(e,t)=>new o1({options:e,typeName:It.ZodUnion,...Gt(t)});const jc=e=>e instanceof d1?jc(e.schema):e instanceof td?jc(e.innerType()):e instanceof u1?[e.value]:e instanceof Gf?e.options:e instanceof f1?pr.objectValues(e.enum):e instanceof m1?jc(e._def.innerType):e instanceof a1?[void 0]:e instanceof i1?[null]:e instanceof $c?[void 0,...jc(e.unwrap())]:e instanceof Kf?[null,...jc(e.unwrap())]:e instanceof hV||e instanceof p1?jc(e.unwrap()):e instanceof h1?jc(e._def.innerType):[];class aT extends ar{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==pt.object)return ut(r,{code:Xe.invalid_type,expected:pt.object,received:r.parsedType}),Mt;const s=this.discriminator,a=r.data[s],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(ut(r,{code:Xe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),Mt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,s){const a=new Map;for(const i of r){const o=jc(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new aT({typeName:It.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...Gt(s)})}}function iE(e,t){const r=sf(e),s=sf(t);if(e===t)return{valid:!0,data:e};if(r===pt.object&&s===pt.object){const a=pr.objectKeys(t),i=pr.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=iE(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===pt.array&&s===pt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=iE(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===pt.date&&s===pt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class l1 extends ar{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(KI(i)||KI(o))return Mt;const l=iE(i.value,o.value);return l.valid?((YI(i)||YI(o))&&r.dirty(),{status:r.value,value:l.data}):(ut(s,{code:Xe.invalid_intersection_types}),Mt)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}l1.create=(e,t,r)=>new l1({left:e,right:t,typeName:It.ZodIntersection,...Gt(r)});class ed extends ar{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==pt.array)return ut(s,{code:Xe.invalid_type,expected:pt.array,received:s.parsedType}),Mt;if(s.data.length<this._def.items.length)return ut(s,{code:Xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Mt;!this._def.rest&&s.data.length>this._def.items.length&&(ut(s,{code:Xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new nc(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>Ba.mergeArray(r,o)):Ba.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new ed({...this._def,rest:t})}}ed.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ed({items:e,typeName:It.ZodTuple,rest:null,...Gt(t)})};class c1 extends ar{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==pt.object)return ut(s,{code:Xe.invalid_type,expected:pt.object,received:s.parsedType}),Mt;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in s.data)a.push({key:i._parse(new nc(s,l,s.path,l)),value:o._parse(new nc(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?Ba.mergeObjectAsync(r,a):Ba.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,s){return r instanceof ar?new c1({keyType:t,valueType:r,typeName:It.ZodRecord,...Gt(s)}):new c1({keyType:Dc.create(),valueType:t,typeName:It.ZodRecord,...Gt(r)})}}class oE extends ar{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==pt.map)return ut(s,{code:Xe.invalid_type,expected:pt.map,received:s.parsedType}),Mt;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:a._parse(new nc(s,l,s.path,[d,"key"])),value:i._parse(new nc(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Mt;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Mt;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}oE.create=(e,t,r)=>new oE({valueType:t,keyType:e,typeName:It.ZodMap,...Gt(r)});class rp extends ar{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==pt.set)return ut(s,{code:Xe.invalid_type,expected:pt.set,received:s.parsedType}),Mt;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(ut(s,{code:Xe.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(ut(s,{code:Xe.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Mt;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new nc(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new rp({...this._def,minSize:{value:t,message:_t.toString(r)}})}max(t,r){return new rp({...this._def,maxSize:{value:t,message:_t.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}rp.create=(e,t)=>new rp({valueType:e,minSize:null,maxSize:null,typeName:It.ZodSet,...Gt(t)});class Ag extends ar{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==pt.function)return ut(r,{code:Xe.invalid_type,expected:pt.function,received:r.parsedType}),Mt;function s(l,c){return tE({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,eE(),v0].filter(d=>!!d),issueData:{code:Xe.invalid_arguments,argumentsError:c}})}function a(l,c){return tE({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,eE(),v0].filter(d=>!!d),issueData:{code:Xe.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof j0){const l=this;return hi(async function(...c){const d=new No([]),u=await l._def.args.parseAsync(c,i).catch(h=>{throw d.addIssue(s(c,h)),d}),f=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(f,i).catch(h=>{throw d.addIssue(a(f,h)),d})})}else{const l=this;return hi(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new No([s(c,d.error)]);const u=Reflect.apply(o,this,d.data),f=l._def.returns.safeParse(u,i);if(!f.success)throw new No([a(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Ag({...this._def,args:ed.create(t).rest(jh.create())})}returns(t){return new Ag({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,s){return new Ag({args:t||ed.create([]).rest(jh.create()),returns:r||jh.create(),typeName:It.ZodFunction,...Gt(s)})}}class d1 extends ar{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}d1.create=(e,t)=>new d1({getter:e,typeName:It.ZodLazy,...Gt(t)});class u1 extends ar{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ut(r,{received:r.data,code:Xe.invalid_literal,expected:this._def.value}),Mt}return{status:"valid",value:t.data}}get value(){return this._def.value}}u1.create=(e,t)=>new u1({value:e,typeName:It.ZodLiteral,...Gt(t)});function mV(e,t){return new Gf({values:e,typeName:It.ZodEnum,...Gt(t)})}class Gf extends ar{constructor(){super(...arguments),dg.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return ut(r,{expected:pr.joinValues(s),received:r.parsedType,code:Xe.invalid_type}),Mt}if(s1(this,dg)||dV(this,dg,new Set(this._def.values)),!s1(this,dg).has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return ut(r,{received:r.data,code:Xe.invalid_enum_value,options:s}),Mt}return hi(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Gf.create(t,{...this._def,...r})}exclude(t,r=this._def){return Gf.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}dg=new WeakMap;Gf.create=mV;class f1 extends ar{constructor(){super(...arguments),ug.set(this,void 0)}_parse(t){const r=pr.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==pt.string&&s.parsedType!==pt.number){const a=pr.objectValues(r);return ut(s,{expected:pr.joinValues(a),received:s.parsedType,code:Xe.invalid_type}),Mt}if(s1(this,ug)||dV(this,ug,new Set(pr.getValidEnumValues(this._def.values))),!s1(this,ug).has(t.data)){const a=pr.objectValues(r);return ut(s,{received:s.data,code:Xe.invalid_enum_value,options:a}),Mt}return hi(t.data)}get enum(){return this._def.values}}ug=new WeakMap;f1.create=(e,t)=>new f1({values:e,typeName:It.ZodNativeEnum,...Gt(t)});class j0 extends ar{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==pt.promise&&r.common.async===!1)return ut(r,{code:Xe.invalid_type,expected:pt.promise,received:r.parsedType}),Mt;const s=r.parsedType===pt.promise?r.data:Promise.resolve(r.data);return hi(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}j0.create=(e,t)=>new j0({type:e,typeName:It.ZodPromise,...Gt(t)});class td extends ar{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===It.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{ut(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Mt;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?Mt:c.status==="dirty"||r.value==="dirty"?cg(c.value):c});{if(r.value==="aborted")return Mt;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?Mt:l.status==="dirty"||r.value==="dirty"?cg(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?Mt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?Mt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!r1(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>r1(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);pr.assertNever(a)}}td.create=(e,t,r)=>new td({schema:e,typeName:It.ZodEffects,effect:t,...Gt(r)});td.createWithPreprocess=(e,t,r)=>new td({schema:t,effect:{type:"preprocess",transform:e},typeName:It.ZodEffects,...Gt(r)});class $c extends ar{_parse(t){return this._getType(t)===pt.undefined?hi(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}$c.create=(e,t)=>new $c({innerType:e,typeName:It.ZodOptional,...Gt(t)});class Kf extends ar{_parse(t){return this._getType(t)===pt.null?hi(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Kf.create=(e,t)=>new Kf({innerType:e,typeName:It.ZodNullable,...Gt(t)});class m1 extends ar{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===pt.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}m1.create=(e,t)=>new m1({innerType:e,typeName:It.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Gt(t)});class h1 extends ar{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return n1(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new No(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new No(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}h1.create=(e,t)=>new h1({innerType:e,typeName:It.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Gt(t)});class lE extends ar{_parse(t){if(this._getType(t)!==pt.nan){const s=this._getOrReturnCtx(t);return ut(s,{code:Xe.invalid_type,expected:pt.nan,received:s.parsedType}),Mt}return{status:"valid",value:t.data}}}lE.create=e=>new lE({typeName:It.ZodNaN,...Gt(e)});class hV extends ar{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class $N extends ar{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?Mt:i.status==="dirty"?(r.dirty(),cg(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?Mt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,r){return new $N({in:t,out:r,typeName:It.ZodPipeline})}}class p1 extends ar{_parse(t){const r=this._def.innerType._parse(t),s=a=>(r1(a)&&(a.value=Object.freeze(a.value)),a);return n1(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}}p1.create=(e,t)=>new p1({innerType:e,typeName:It.ZodReadonly,...Gt(t)});Dn.lazycreate;var It;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(It||(It={}));const xf=Dc.create;ep.create;lE.create;tp.create;rE.create;y0.create;nE.create;a1.create;i1.create;sE.create;jh.create;Nu.create;aE.create;Xl.create;const iT=Dn.create;Dn.strictCreate;o1.create;aT.create;l1.create;ed.create;c1.create;oE.create;rp.create;Ag.create;d1.create;u1.create;Gf.create;f1.create;j0.create;td.create;$c.create;Kf.create;td.createWithPreprocess;$N.create;const b0=Vp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),te=v.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},i)=>{const o=s?ec:"button";return n.jsx(o,{className:ve(b0({variant:t,size:r,className:e})),ref:i,...a})});te.displayName="Button";const me=v.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));me.displayName="Input";var hue="Label",pV=v.forwardRef((e,t)=>n.jsx(ft.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));pV.displayName=hue;var xV=pV;const pue=Vp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),q=v.forwardRef(({className:e,...t},r)=>n.jsx(xV,{ref:r,className:ve(pue(),e),...t}));q.displayName=xV.displayName;const xue=iT({email:xf().email("Please enter a valid email address"),password:xf().min(6,"Password must be at least 6 characters")});function gue(){const[e,t]=v.useState(!1),[r,s]=v.useState(!1),{login:a,loginWithGoogle:i,loginWithFacebook:o,loginWithTwitter:l}=Yv(),{toast:c}=gr(),d=mr(),{theme:u,setTheme:f}=Wp(),{register:m,handleSubmit:h,formState:{errors:x}}=nT({resolver:sT(xue)}),p=async j=>{s(!0);try{await a(j.email,j.password),c({title:"Welcome back!",description:"You have successfully logged in."}),d("/overview")}catch(y){c({title:"Login failed",description:y.message||"Please check your credentials and try again.",variant:"destructive"})}finally{s(!1)}},g=async j=>{s(!0);try{j==="google"?await i():j==="facebook"?await o():await l()}catch(y){c({title:"Login failed",description:y.message||"Something went wrong. Please try again.",variant:"destructive"}),s(!1)}};return n.jsxs("div",{className:"min-h-screen flex",children:[n.jsxs("div",{className:"flex-1 flex items-center justify-center p-8 lg:p-12 bg-background relative",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>f(u==="dark"?"light":"dark"),className:"absolute top-4 right-4 z-10",children:u==="dark"?n.jsx(Uv,{className:"h-5 w-5"}):n.jsx(Lv,{className:"h-5 w-5"})}),n.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Welcome back"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Sign in to continue to your account"})]}),n.jsxs("form",{onSubmit:h(p),className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"email",className:"text-sm font-semibold",children:"Email address"}),n.jsx(me,{id:"email",type:"email",placeholder:"name@example.com",...m("email"),className:`h-12 text-base ${x.email?"border-destructive":""}`}),x.email&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:x.email.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(q,{htmlFor:"password",className:"text-sm font-semibold",children:"Password"}),n.jsx(Yi,{to:"/forgot-password",className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:"Forgot?"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"password",type:e?"text":"password",placeholder:"Enter your password",...m("password"),className:`h-12 text-base pr-12 ${x.password?"border-destructive":""}`}),n.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:e?n.jsx(ph,{className:"h-5 w-5"}):n.jsx(oi,{className:"h-5 w-5"})})]}),x.password&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:x.password.message})]}),n.jsx(te,{type:"submit",className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all shadow-md",disabled:r,children:r?"Signing in...":"Sign in"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t border-border"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"bg-background px-4 text-muted-foreground font-medium",children:"or"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(te,{type:"button",variant:"outline",className:"w-full h-12 text-base font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>g("google"),disabled:r,children:[n.jsx(l7,{className:"mr-3 h-5 w-5"}),"Continue with Google"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs(te,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>g("facebook"),disabled:r,children:[n.jsx(u7,{className:"mr-2 h-5 w-5"}),"Facebook"]}),n.jsxs(te,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>g("twitter"),disabled:r,children:[n.jsx(g7,{className:"mr-2 h-5 w-5"}),"Twitter"]})]})]}),n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-muted-foreground",children:["Don't have an account?"," ",n.jsx(Yi,{to:"/signup",className:"text-primary font-semibold hover:text-primary/80 transition-colors",children:"Create account"})]})})]})]}),n.jsxs("div",{className:"hidden lg:flex lg:flex-1 bg-gradient-to-br from-primary via-primary/90 to-accent relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"}),n.jsx("div",{className:"relative flex flex-col items-center justify-center p-12 text-white",children:n.jsxs("div",{className:"max-w-md space-y-6 animate-fade-in",children:[n.jsx("h2",{className:"text-5xl font-bold leading-tight",children:"Manage your business with ease"}),n.jsx("p",{className:"text-xl text-white/90 leading-relaxed",children:"Streamline your operations, track your inventory, and grow your business with our all-in-one platform."}),n.jsxs("div",{className:"flex items-center gap-2 pt-8",children:[n.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(j=>n.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 border-2 border-white flex items-center justify-center backdrop-blur-sm",children:n.jsx("span",{className:"text-sm font-semibold",children:j})},j))}),n.jsx("p",{className:"text-sm text-white/80 font-medium",children:"Trusted by 1000+ businesses"})]})]})}),n.jsx("div",{className:"absolute top-20 right-20 w-72 h-72 bg-white/10 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 bg-accent/20 rounded-full blur-3xl"})]})]})}const vue=iT({name:xf().min(2,"Name must be at least 2 characters").max(100,"Name is too long"),email:xf().email("Please enter a valid email address").max(255,"Email is too long"),password:xf().min(8,"Password must be at least 8 characters").max(100,"Password is too long").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:xf()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function yue(){const[e,t]=v.useState(!1),[r,s]=v.useState(!1),[a,i]=v.useState(!1),{signup:o,loginWithGoogle:l,loginWithFacebook:c,loginWithTwitter:d}=Yv(),{toast:u}=gr(),f=mr(),{theme:m,setTheme:h}=Wp(),{register:x,handleSubmit:p,formState:{errors:g},watch:j}=nT({resolver:sT(vue)}),y=j("password",""),w=[{label:"At least 8 characters",met:y.length>=8},{label:"One uppercase letter",met:/[A-Z]/.test(y)},{label:"One lowercase letter",met:/[a-z]/.test(y)},{label:"One number",met:/[0-9]/.test(y)}],b=async S=>{i(!0);try{await o(S.email,S.password,S.name),u({title:"Account created!",description:"Please check your email to verify your account."}),f("/overview")}catch(_){u({title:"Signup failed",description:_.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{i(!1)}},N=async S=>{i(!0);try{S==="google"?await l():S==="facebook"?await c():await d()}catch(_){u({title:"Signup failed",description:_.message||"Something went wrong. Please try again.",variant:"destructive"}),i(!1)}};return n.jsxs("div",{className:"min-h-screen flex",children:[n.jsxs("div",{className:"hidden lg:flex lg:flex-1 bg-gradient-to-br from-accent via-accent/90 to-primary relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"}),n.jsx("div",{className:"relative flex flex-col items-center justify-center p-12 text-white",children:n.jsxs("div",{className:"max-w-md space-y-6 animate-fade-in",children:[n.jsx("h2",{className:"text-5xl font-bold leading-tight",children:"Start your journey today"}),n.jsx("p",{className:"text-xl text-white/90 leading-relaxed",children:"Join thousands of businesses already using our platform to streamline their operations and boost productivity."}),n.jsx("div",{className:"grid grid-cols-2 gap-6 pt-8",children:[{label:"Active Users",value:"10,000+"},{label:"Success Rate",value:"99.9%"},{label:"Countries",value:"50+"},{label:"Support 24/7",value:"Available"}].map(S=>n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-3xl font-bold",children:S.value}),n.jsx("p",{className:"text-sm text-white/80",children:S.label})]},S.label))})]})}),n.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-white/10 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-primary/20 rounded-full blur-3xl"})]}),n.jsxs("div",{className:"flex-1 flex items-center justify-center p-8 lg:p-12 bg-background overflow-y-auto relative",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>h(m==="dark"?"light":"dark"),className:"absolute top-4 right-4 z-10",children:m==="dark"?n.jsx(Uv,{className:"h-5 w-5"}):n.jsx(Lv,{className:"h-5 w-5"})}),n.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Create account"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Start your free trial today"})]}),n.jsxs("form",{onSubmit:p(b),className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"name",className:"text-sm font-semibold",children:"Full name"}),n.jsx(me,{id:"name",type:"text",placeholder:"John Doe",...x("name"),className:`h-12 text-base ${g.name?"border-destructive":""}`}),g.name&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:g.name.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"email",className:"text-sm font-semibold",children:"Email address"}),n.jsx(me,{id:"email",type:"email",placeholder:"name@example.com",...x("email"),className:`h-12 text-base ${g.email?"border-destructive":""}`}),g.email&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:g.email.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"password",className:"text-sm font-semibold",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"password",type:e?"text":"password",placeholder:"Create a strong password",...x("password"),className:`h-12 text-base pr-12 ${g.password?"border-destructive":""}`}),n.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:e?n.jsx(ph,{className:"h-5 w-5"}):n.jsx(oi,{className:"h-5 w-5"})})]}),y&&n.jsx("div",{className:"space-y-2 pt-2",children:w.map(S=>n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(lr,{className:`h-4 w-4 ${S.met?"text-success":"text-muted-foreground"}`}),n.jsx("span",{className:S.met?"text-success":"text-muted-foreground",children:S.label})]},S.label))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"confirmPassword",className:"text-sm font-semibold",children:"Confirm password"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"confirmPassword",type:r?"text":"password",placeholder:"Confirm your password",...x("confirmPassword"),className:`h-12 text-base pr-12 ${g.confirmPassword?"border-destructive":""}`}),n.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:r?n.jsx(ph,{className:"h-5 w-5"}):n.jsx(oi,{className:"h-5 w-5"})})]}),g.confirmPassword&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:g.confirmPassword.message})]}),n.jsx(te,{type:"submit",className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all shadow-md",disabled:a,children:a?"Creating account...":"Create account"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t border-border"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"bg-background px-4 text-muted-foreground font-medium",children:"or"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(te,{type:"button",variant:"outline",className:"w-full h-12 text-base font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>N("google"),disabled:a,children:[n.jsx(l7,{className:"mr-3 h-5 w-5"}),"Continue with Google"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs(te,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>N("facebook"),disabled:a,children:[n.jsx(u7,{className:"mr-2 h-5 w-5"}),"Facebook"]}),n.jsxs(te,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>N("twitter"),disabled:a,children:[n.jsx(g7,{className:"mr-2 h-5 w-5"}),"Twitter"]})]})]}),n.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["By creating an account, you agree to our"," ",n.jsx("a",{href:"#",className:"text-primary hover:underline font-medium",children:"Terms of Service"})," ","and"," ",n.jsx("a",{href:"#",className:"text-primary hover:underline font-medium",children:"Privacy Policy"})]}),n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",n.jsx(Yi,{to:"/login",className:"text-primary font-semibold hover:text-primary/80 transition-colors",children:"Sign in"})]})})]})]})]})}const jue=iT({email:xf().email("Please enter a valid email address").max(255,"Email is too long")});function bue(){const[e,t]=v.useState(!1),[r,s]=v.useState(!1),{resetPassword:a}=Yv(),{toast:i}=gr(),{theme:o,setTheme:l}=Wp(),{register:c,handleSubmit:d,formState:{errors:u},getValues:f}=nT({resolver:sT(jue)}),m=async h=>{t(!0);try{await a(h.email),s(!0),i({title:"Email sent!",description:"Check your inbox for password reset instructions."})}catch(x){i({title:"Failed to send email",description:x.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{t(!1)}};return n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-accent/5 p-4 relative",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>l(o==="dark"?"light":"dark"),className:"absolute top-4 right-4 z-10",children:o==="dark"?n.jsx(Uv,{className:"h-5 w-5"}):n.jsx(Lv,{className:"h-5 w-5"})}),n.jsx("div",{className:"w-full max-w-md",children:n.jsx("div",{className:"bg-card rounded-3xl shadow-2xl border border-border p-8 lg:p-10 animate-fade-in",children:r?n.jsx(n.Fragment,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-success/10 mb-6",children:n.jsx(Ur,{className:"h-10 w-10 text-success"})}),n.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-foreground mb-3",children:"Check your email"}),n.jsx("p",{className:"text-muted-foreground text-base mb-6 leading-relaxed",children:"We've sent password reset instructions to"}),n.jsx("p",{className:"font-semibold text-foreground text-lg mb-6",children:f("email")}),n.jsx("div",{className:"bg-muted/50 rounded-xl p-4 mb-6",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Didn't receive the email? Check your spam folder or"," ",n.jsx("button",{type:"button",onClick:()=>s(!1),className:"text-primary hover:underline font-medium",children:"try another email address"})]})}),n.jsx(Yi,{to:"/login",children:n.jsx(te,{className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all",children:"Back to login"})})]})}):n.jsxs(n.Fragment,{children:[n.jsxs(Yi,{to:"/login",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-8 transition-colors group",children:[n.jsx(sr,{className:"mr-2 h-4 w-4 group-hover:-translate-x-1 transition-transform"}),"Back to login"]}),n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary/10 mb-6",children:n.jsx(gn,{className:"h-8 w-8 text-primary"})}),n.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-foreground mb-3",children:"Forgot password?"}),n.jsx("p",{className:"text-muted-foreground text-base lg:text-lg leading-relaxed",children:"No worries! Enter your email and we'll send you reset instructions."})]}),n.jsxs("form",{onSubmit:d(m),className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"email",className:"text-sm font-semibold",children:"Email address"}),n.jsx(me,{id:"email",type:"email",placeholder:"name@example.com",...c("email"),className:`h-12 text-base ${u.email?"border-destructive":""}`}),u.email&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:u.email.message})]}),n.jsx(te,{type:"submit",className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all shadow-md",disabled:e,children:e?"Sending...":"Send reset instructions"})]})]})})})]})}var oT="Avatar",[wue,_nt]=na(oT),[Nue,gV]=wue(oT),vV=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...s}=e,[a,i]=v.useState("idle");return n.jsx(Nue,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:n.jsx(ft.span,{...s,ref:t})})});vV.displayName=oT;var yV="AvatarImage",jV=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=gV(yV,r),l=_ue(s,i.referrerPolicy),c=hn(d=>{a(d),o.onImageLoadingStatusChange(d)});return is(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?n.jsx(ft.img,{...i,ref:t,src:s}):null});jV.displayName=yV;var bV="AvatarFallback",wV=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:s,...a}=e,i=gV(bV,r),[o,l]=v.useState(s===void 0);return v.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(ft.span,{...a,ref:t}):null});wV.displayName=bV;function _ue(e,t){const[r,s]=v.useState("idle");return is(()=>{if(!e){s("error");return}let a=!0;const i=new window.Image,o=l=>()=>{a&&s(l)};return s("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{a=!1}},[e,t]),r}var NV=vV,_V=jV,SV=wV;const cE=v.forwardRef(({className:e,...t},r)=>n.jsx(NV,{ref:r,className:ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));cE.displayName=NV.displayName;const Sue=v.forwardRef(({className:e,...t},r)=>n.jsx(_V,{ref:r,className:ve("aspect-square h-full w-full",e),...t}));Sue.displayName=_V.displayName;const dE=v.forwardRef(({className:e,...t},r)=>n.jsx(SV,{ref:r,className:ve("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));dE.displayName=SV.displayName;var Cue=v.createContext(void 0);function fm(e){const t=v.useContext(Cue);return e||t||"ltr"}var aS=0;function LN(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??QI()),document.body.insertAdjacentElement("beforeend",e[1]??QI()),aS++,()=>{aS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),aS--}},[])}function QI(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var iS="focusScope.autoFocusOnMount",oS="focusScope.autoFocusOnUnmount",ZI={bubbles:!1,cancelable:!0},Eue="FocusScope",Qv=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),d=hn(a),u=hn(i),f=v.useRef(null),m=Rt(t,p=>c(p)),h=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let p=function(w){if(h.paused||!l)return;const b=w.target;l.contains(b)?f.current=b:Ed(f.current,{select:!0})},g=function(w){if(h.paused||!l)return;const b=w.relatedTarget;b!==null&&(l.contains(b)||Ed(f.current,{select:!0}))},j=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Ed(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const y=new MutationObserver(j);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),y.disconnect()}}},[s,l,h.paused]),v.useEffect(()=>{if(l){eR.add(h);const p=document.activeElement;if(!l.contains(p)){const j=new CustomEvent(iS,ZI);l.addEventListener(iS,d),l.dispatchEvent(j),j.defaultPrevented||(Aue(Due(CV(l)),{select:!0}),document.activeElement===p&&Ed(l))}return()=>{l.removeEventListener(iS,d),setTimeout(()=>{const j=new CustomEvent(oS,ZI);l.addEventListener(oS,u),l.dispatchEvent(j),j.defaultPrevented||Ed(p??document.body,{select:!0}),l.removeEventListener(oS,u),eR.remove(h)},0)}}},[l,d,u,h]);const x=v.useCallback(p=>{if(!r&&!s||h.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,j=document.activeElement;if(g&&j){const y=p.currentTarget,[w,b]=Pue(y);w&&b?!p.shiftKey&&j===b?(p.preventDefault(),r&&Ed(w,{select:!0})):p.shiftKey&&j===w&&(p.preventDefault(),r&&Ed(b,{select:!0})):j===y&&p.preventDefault()}},[r,s,h.paused]);return n.jsx(ft.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});Qv.displayName=Eue;function Aue(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Ed(s,{select:t}),document.activeElement!==r)return}function Pue(e){const t=CV(e),r=JI(t,e),s=JI(t.reverse(),e);return[r,s]}function CV(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function JI(e,t){for(const r of e)if(!kue(r,{upTo:t}))return r}function kue(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Tue(e){return e instanceof HTMLInputElement&&"select"in e}function Ed(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Tue(e)&&t&&e.select()}}var eR=Oue();function Oue(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=tR(e,t),e.unshift(t)},remove(t){var r;e=tR(e,t),(r=e[0])==null||r.resume()}}}function tR(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function Due(e){return e.filter(t=>t.tagName!=="A")}function Iue(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,Rue(a,...t)]}function Rue(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var lS="rovingFocusGroup.onEntryFocus",Mue={bubbles:!1,cancelable:!0},BN="RovingFocusGroup",[uE,EV,Fue]=Rv(BN),[$ue,Zp]=Iue(BN,[Fue]),[Lue,Bue]=$ue(BN),AV=v.forwardRef((e,t)=>n.jsx(uE.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(uE.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Uue,{...e,ref:t})})}));AV.displayName=BN;var Uue=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,m=v.useRef(null),h=Rt(t,m),x=fm(i),[p=null,g]=$a({prop:o,defaultProp:l,onChange:c}),[j,y]=v.useState(!1),w=hn(d),b=EV(r),N=v.useRef(!1),[S,_]=v.useState(0);return v.useEffect(()=>{const E=m.current;if(E)return E.addEventListener(lS,w),()=>E.removeEventListener(lS,w)},[w]),n.jsx(Lue,{scope:r,orientation:s,dir:x,loop:a,currentTabStopId:p,onItemFocus:v.useCallback(E=>g(E),[g]),onItemShiftTab:v.useCallback(()=>y(!0),[]),onFocusableItemAdd:v.useCallback(()=>_(E=>E+1),[]),onFocusableItemRemove:v.useCallback(()=>_(E=>E-1),[]),children:n.jsx(ft.div,{tabIndex:j||S===0?-1:0,"data-orientation":s,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:He(e.onMouseDown,()=>{N.current=!0}),onFocus:He(e.onFocus,E=>{const A=!N.current;if(E.target===E.currentTarget&&A&&!j){const T=new CustomEvent(lS,Mue);if(E.currentTarget.dispatchEvent(T),!T.defaultPrevented){const R=b().filter(k=>k.focusable),I=R.find(k=>k.active),z=R.find(k=>k.id===p),F=[I,z,...R].filter(Boolean).map(k=>k.ref.current);TV(F,u)}}N.current=!1}),onBlur:He(e.onBlur,()=>y(!1))})})}),PV="RovingFocusGroupItem",kV=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,...o}=e,l=ci(),c=i||l,d=Bue(PV,r),u=d.currentTabStopId===c,f=EV(r),{onFocusableItemAdd:m,onFocusableItemRemove:h}=d;return v.useEffect(()=>{if(s)return m(),()=>h()},[s,m,h]),n.jsx(uE.ItemSlot,{scope:r,id:c,focusable:s,active:a,children:n.jsx(ft.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:He(e.onMouseDown,x=>{s?d.onItemFocus(c):x.preventDefault()}),onFocus:He(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:He(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const p=Wue(x,d.orientation,d.dir);if(p!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let j=f().filter(y=>y.focusable).map(y=>y.ref.current);if(p==="last")j.reverse();else if(p==="prev"||p==="next"){p==="prev"&&j.reverse();const y=j.indexOf(x.currentTarget);j=d.loop?Hue(j,y+1):j.slice(y+1)}setTimeout(()=>TV(j))}})})})});kV.displayName=PV;var Vue={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zue(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Wue(e,t,r){const s=zue(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Vue[s]}function TV(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function Hue(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var lT=AV,cT=kV,que=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Pm=new WeakMap,ij=new WeakMap,oj={},cS=0,OV=function(e){return e&&(e.host||OV(e.parentNode))},Gue=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=OV(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Kue=function(e,t,r,s){var a=Gue(t,Array.isArray(e)?e:[e]);oj[r]||(oj[r]=new WeakMap);var i=oj[r],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))u(m);else try{var h=m.getAttribute(s),x=h!==null&&h!=="false",p=(Pm.get(m)||0)+1,g=(i.get(m)||0)+1;Pm.set(m,p),i.set(m,g),o.push(m),p===1&&x&&ij.set(m,!0),g===1&&m.setAttribute(r,"true"),x||m.setAttribute(s,"true")}catch(j){console.error("aria-hidden: cannot operate on ",m,j)}})};return u(t),l.clear(),cS++,function(){o.forEach(function(f){var m=Pm.get(f)-1,h=i.get(f)-1;Pm.set(f,m),i.set(f,h),m||(ij.has(f)||f.removeAttribute(s),ij.delete(f)),h||f.removeAttribute(r)}),cS--,cS||(Pm=new WeakMap,Pm=new WeakMap,ij=new WeakMap,oj={})}},Zv=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=que(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),Kue(s,a,r,"aria-hidden")):function(){return null}},ma=function(){return ma=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ma.apply(this,arguments)};function dT(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function DV(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var Pg="right-scroll-bar-position",kg="width-before-scroll-bar",Yue="with-scroll-bars-hidden",Xue="--removed-body-scroll-bar-size";function dS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Que(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var Zue=typeof window<"u"?v.useLayoutEffect:v.useEffect,rR=new WeakMap;function IV(e,t){var r=Que(null,function(s){return e.forEach(function(a){return dS(a,s)})});return Zue(function(){var s=rR.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||dS(l,null)}),i.forEach(function(l){a.has(l)||dS(l,o)})}rR.set(r,e)},[e]),r}function Jue(e){return e}function efe(e,t){t===void 0&&(t=Jue);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function RV(e){e===void 0&&(e={});var t=efe(null);return t.options=ma({async:!0,ssr:!1},e),t}var MV=function(e){var t=e.sideCar,r=dT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return v.createElement(s,ma({},r))};MV.isSideCarExport=!0;function FV(e,t){return e.useMedium(t),MV}var $V=RV(),uS=function(){},UN=v.forwardRef(function(e,t){var r=v.useRef(null),s=v.useState({onScrollCapture:uS,onWheelCapture:uS,onTouchMoveCapture:uS}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,h=e.noIsolation,x=e.inert,p=e.allowPinchZoom,g=e.as,j=g===void 0?"div":g,y=e.gapMode,w=dT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=m,N=IV([r,t]),S=ma(ma({},w),a);return v.createElement(v.Fragment,null,u&&v.createElement(b,{sideCar:$V,removeScrollBar:d,shards:f,noIsolation:h,inert:x,setCallbacks:i,allowPinchZoom:!!p,lockRef:r,gapMode:y}),o?v.cloneElement(v.Children.only(l),ma(ma({},S),{ref:N})):v.createElement(j,ma({},S,{className:c,ref:N}),l))});UN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};UN.classNames={fullWidth:kg,zeroRight:Pg};var tfe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rfe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=tfe();return t&&e.setAttribute("nonce",t),e}function nfe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function sfe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var afe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=rfe())&&(nfe(t,r),sfe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ife=function(){var e=afe();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},uT=function(){var e=ife(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},ofe={left:0,top:0,right:0,gap:0},fS=function(e){return parseInt(e||"",10)||0},lfe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[fS(r),fS(s),fS(a)]},cfe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ofe;var t=lfe(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},dfe=uT(),bh="data-scroll-locked",ufe=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Yue,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(bh,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pg,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(kg,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Pg," .").concat(Pg,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(kg," .").concat(kg,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(bh,`] {
    `).concat(Xue,": ").concat(l,`px;
  }
`)},nR=function(){var e=parseInt(document.body.getAttribute(bh)||"0",10);return isFinite(e)?e:0},ffe=function(){v.useEffect(function(){return document.body.setAttribute(bh,(nR()+1).toString()),function(){var e=nR()-1;e<=0?document.body.removeAttribute(bh):document.body.setAttribute(bh,e.toString())}},[])},LV=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;ffe();var i=v.useMemo(function(){return cfe(a)},[a]);return v.createElement(dfe,{styles:ufe(i,!t,a,r?"":"!important")})},fE=!1;if(typeof window<"u")try{var lj=Object.defineProperty({},"passive",{get:function(){return fE=!0,!0}});window.addEventListener("test",lj,lj),window.removeEventListener("test",lj,lj)}catch{fE=!1}var km=fE?{passive:!1}:!1,mfe=function(e){return e.tagName==="TEXTAREA"},BV=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!mfe(e)&&r[t]==="visible")},hfe=function(e){return BV(e,"overflowY")},pfe=function(e){return BV(e,"overflowX")},sR=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=UV(e,s);if(a){var i=VV(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},xfe=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},gfe=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},UV=function(e,t){return e==="v"?hfe(t):pfe(t)},VV=function(e,t){return e==="v"?xfe(t):gfe(t)},vfe=function(e,t){return e==="h"&&t==="rtl"?-1:1},yfe=function(e,t,r,s,a){var i=vfe(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,m=0;do{var h=VV(e,l),x=h[0],p=h[1],g=h[2],j=p-g-i*x;(x||j)&&UV(e,l)&&(f+=j,m+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!a)||!u&&(Math.abs(m)<1||!a))&&(d=!0),d},cj=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},aR=function(e){return[e.deltaX,e.deltaY]},iR=function(e){return e&&"current"in e?e.current:e},jfe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},bfe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wfe=0,Tm=[];function Nfe(e){var t=v.useRef([]),r=v.useRef([0,0]),s=v.useRef(),a=v.useState(wfe++)[0],i=v.useState(uT)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=DV([e.lockRef.current],(e.shards||[]).map(iR),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var j=cj(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-j[0],b="deltaY"in p?p.deltaY:y[1]-j[1],N,S=p.target,_=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in p&&_==="h"&&S.type==="range")return!1;var E=sR(_,S);if(!E)return!0;if(E?N=_:(N=_==="v"?"h":"v",E=sR(_,S)),!E)return!1;if(!s.current&&"changedTouches"in p&&(w||b)&&(s.current=N),!N)return!0;var A=s.current||N;return yfe(A,g,p,A==="h"?w:b,!0)},[]),c=v.useCallback(function(p){var g=p;if(!(!Tm.length||Tm[Tm.length-1]!==i)){var j="deltaY"in g?aR(g):cj(g),y=t.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&jfe(N.delta,j)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(iR).filter(Boolean).filter(function(N){return N.contains(g.target)}),b=w.length>0?l(g,w[0]):!o.current.noIsolation;b&&g.cancelable&&g.preventDefault()}}},[]),d=v.useCallback(function(p,g,j,y){var w={name:p,delta:g,target:j,should:y,shadowParent:_fe(j)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),u=v.useCallback(function(p){r.current=cj(p),s.current=void 0},[]),f=v.useCallback(function(p){d(p.type,aR(p),p.target,l(p,e.lockRef.current))},[]),m=v.useCallback(function(p){d(p.type,cj(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return Tm.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,km),document.addEventListener("touchmove",c,km),document.addEventListener("touchstart",u,km),function(){Tm=Tm.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,km),document.removeEventListener("touchmove",c,km),document.removeEventListener("touchstart",u,km)}},[]);var h=e.removeScrollBar,x=e.inert;return v.createElement(v.Fragment,null,x?v.createElement(i,{styles:bfe(a)}):null,h?v.createElement(LV,{gapMode:e.gapMode}):null)}function _fe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Sfe=FV($V,Nfe);var Jv=v.forwardRef(function(e,t){return v.createElement(UN,ma({},e,{ref:t,sideCar:Sfe}))});Jv.classNames=UN.classNames;var mE=["Enter"," "],Cfe=["ArrowDown","PageUp","Home"],zV=["ArrowUp","PageDown","End"],Efe=[...Cfe,...zV],Afe={ltr:[...mE,"ArrowRight"],rtl:[...mE,"ArrowLeft"]},Pfe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ey="Menu",[w0,kfe,Tfe]=Rv(ey),[mm,WV]=na(ey,[Tfe,Iu,Zp]),VN=Iu(),HV=Zp(),[Ofe,hm]=mm(ey),[Dfe,ty]=mm(ey),qV=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,l=VN(t),[c,d]=v.useState(null),u=v.useRef(!1),f=hn(i),m=fm(a);return v.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),n.jsx(NN,{...l,children:n.jsx(Ofe,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:d,children:n.jsx(Dfe,{scope:t,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:m,modal:o,children:s})})})};qV.displayName=ey;var Ife="MenuAnchor",fT=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=VN(r);return n.jsx(zv,{...a,...s,ref:t})});fT.displayName=Ife;var mT="MenuPortal",[Rfe,GV]=mm(mT,{forceMount:void 0}),KV=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,i=hm(mT,t);return n.jsx(Rfe,{scope:t,forceMount:r,children:n.jsx(ls,{present:r||i.open,children:n.jsx(Up,{asChild:!0,container:a,children:s})})})};KV.displayName=mT;var _o="MenuContent",[Mfe,hT]=mm(_o),YV=v.forwardRef((e,t)=>{const r=GV(_o,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=hm(_o,e.__scopeMenu),o=ty(_o,e.__scopeMenu);return n.jsx(w0.Provider,{scope:e.__scopeMenu,children:n.jsx(ls,{present:s||i.open,children:n.jsx(w0.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(Ffe,{...a,ref:t}):n.jsx($fe,{...a,ref:t})})})})}),Ffe=v.forwardRef((e,t)=>{const r=hm(_o,e.__scopeMenu),s=v.useRef(null),a=Rt(t,s);return v.useEffect(()=>{const i=s.current;if(i)return Zv(i)},[]),n.jsx(pT,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:He(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),$fe=v.forwardRef((e,t)=>{const r=hm(_o,e.__scopeMenu);return n.jsx(pT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),pT=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:h,disableOutsideScroll:x,...p}=e,g=hm(_o,r),j=ty(_o,r),y=VN(r),w=HV(r),b=kfe(r),[N,S]=v.useState(null),_=v.useRef(null),E=Rt(t,_,g.onContentChange),A=v.useRef(0),T=v.useRef(""),R=v.useRef(0),I=v.useRef(null),z=v.useRef("right"),H=v.useRef(0),F=x?Jv:v.Fragment,k=x?{as:ec,allowPinchZoom:!0}:void 0,P=O=>{var fe,B;const K=T.current+O,ne=b().filter(Y=>!Y.disabled),D=document.activeElement,U=(fe=ne.find(Y=>Y.ref.current===D))==null?void 0:fe.textValue,L=ne.map(Y=>Y.textValue),G=Xfe(L,K,U),le=(B=ne.find(Y=>Y.textValue===G))==null?void 0:B.ref.current;(function Y(ie){T.current=ie,window.clearTimeout(A.current),ie!==""&&(A.current=window.setTimeout(()=>Y(""),1e3))})(K),le&&setTimeout(()=>le.focus())};v.useEffect(()=>()=>window.clearTimeout(A.current),[]),LN();const M=v.useCallback(O=>{var ne,D;return z.current===((ne=I.current)==null?void 0:ne.side)&&Zfe(O,(D=I.current)==null?void 0:D.area)},[]);return n.jsx(Mfe,{scope:r,searchRef:T,onItemEnter:v.useCallback(O=>{M(O)&&O.preventDefault()},[M]),onItemLeave:v.useCallback(O=>{var K;M(O)||((K=_.current)==null||K.focus(),S(null))},[M]),onTriggerLeave:v.useCallback(O=>{M(O)&&O.preventDefault()},[M]),pointerGraceTimerRef:R,onPointerGraceIntentChange:v.useCallback(O=>{I.current=O},[]),children:n.jsx(F,{...k,children:n.jsx(Qv,{asChild:!0,trapped:a,onMountAutoFocus:He(i,O=>{var K;O.preventDefault(),(K=_.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(um,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:h,children:n.jsx(lT,{asChild:!0,...w,dir:j.dir,orientation:"vertical",loop:s,currentTabStopId:N,onCurrentTabStopIdChange:S,onEntryFocus:He(c,O=>{j.isUsingKeyboardRef.current||O.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(_N,{role:"menu","aria-orientation":"vertical","data-state":uz(g.open),"data-radix-menu-content":"",dir:j.dir,...y,...p,ref:E,style:{outline:"none",...p.style},onKeyDown:He(p.onKeyDown,O=>{const ne=O.target.closest("[data-radix-menu-content]")===O.currentTarget,D=O.ctrlKey||O.altKey||O.metaKey,U=O.key.length===1;ne&&(O.key==="Tab"&&O.preventDefault(),!D&&U&&P(O.key));const L=_.current;if(O.target!==L||!Efe.includes(O.key))return;O.preventDefault();const le=b().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);zV.includes(O.key)&&le.reverse(),Kfe(le)}),onBlur:He(e.onBlur,O=>{O.currentTarget.contains(O.target)||(window.clearTimeout(A.current),T.current="")}),onPointerMove:He(e.onPointerMove,N0(O=>{const K=O.target,ne=H.current!==O.clientX;if(O.currentTarget.contains(K)&&ne){const D=O.clientX>H.current?"right":"left";z.current=D,H.current=O.clientX}}))})})})})})})});YV.displayName=_o;var Lfe="MenuGroup",xT=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(ft.div,{role:"group",...s,ref:t})});xT.displayName=Lfe;var Bfe="MenuLabel",XV=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(ft.div,{...s,ref:t})});XV.displayName=Bfe;var x1="MenuItem",oR="menu.itemSelect",zN=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...a}=e,i=v.useRef(null),o=ty(x1,e.__scopeMenu),l=hT(x1,e.__scopeMenu),c=Rt(t,i),d=v.useRef(!1),u=()=>{const f=i.current;if(!r&&f){const m=new CustomEvent(oR,{bubbles:!0,cancelable:!0});f.addEventListener(oR,h=>s==null?void 0:s(h),{once:!0}),jk(f,m),m.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(QV,{...a,ref:c,disabled:r,onClick:He(e.onClick,u),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),d.current=!0},onPointerUp:He(e.onPointerUp,f=>{var m;d.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:He(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||mE.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});zN.displayName=x1;var QV=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...i}=e,o=hT(x1,r),l=HV(r),c=v.useRef(null),d=Rt(t,c),[u,f]=v.useState(!1),[m,h]=v.useState("");return v.useEffect(()=>{const x=c.current;x&&h((x.textContent??"").trim())},[i.children]),n.jsx(w0.ItemSlot,{scope:r,disabled:s,textValue:a??m,children:n.jsx(cT,{asChild:!0,...l,focusable:!s,children:n.jsx(ft.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:d,onPointerMove:He(e.onPointerMove,N0(x=>{s?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:He(e.onPointerLeave,N0(x=>o.onItemLeave(x))),onFocus:He(e.onFocus,()=>f(!0)),onBlur:He(e.onBlur,()=>f(!1))})})})}),Ufe="MenuCheckboxItem",ZV=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...a}=e;return n.jsx(nz,{scope:e.__scopeMenu,checked:r,children:n.jsx(zN,{role:"menuitemcheckbox","aria-checked":g1(r)?"mixed":r,...a,ref:t,"data-state":vT(r),onSelect:He(a.onSelect,()=>s==null?void 0:s(g1(r)?!0:!r),{checkForDefaultPrevented:!1})})})});ZV.displayName=Ufe;var JV="MenuRadioGroup",[Vfe,zfe]=mm(JV,{value:void 0,onValueChange:()=>{}}),ez=v.forwardRef((e,t)=>{const{value:r,onValueChange:s,...a}=e,i=hn(s);return n.jsx(Vfe,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(xT,{...a,ref:t})})});ez.displayName=JV;var tz="MenuRadioItem",rz=v.forwardRef((e,t)=>{const{value:r,...s}=e,a=zfe(tz,e.__scopeMenu),i=r===a.value;return n.jsx(nz,{scope:e.__scopeMenu,checked:i,children:n.jsx(zN,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":vT(i),onSelect:He(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});rz.displayName=tz;var gT="MenuItemIndicator",[nz,Wfe]=mm(gT,{checked:!1}),sz=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...a}=e,i=Wfe(gT,r);return n.jsx(ls,{present:s||g1(i.checked)||i.checked===!0,children:n.jsx(ft.span,{...a,ref:t,"data-state":vT(i.checked)})})});sz.displayName=gT;var Hfe="MenuSeparator",az=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(ft.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});az.displayName=Hfe;var qfe="MenuArrow",iz=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=VN(r);return n.jsx(SN,{...a,...s,ref:t})});iz.displayName=qfe;var Gfe="MenuSub",[Snt,oz]=mm(Gfe),fg="MenuSubTrigger",lz=v.forwardRef((e,t)=>{const r=hm(fg,e.__scopeMenu),s=ty(fg,e.__scopeMenu),a=oz(fg,e.__scopeMenu),i=hT(fg,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>u,[u]),v.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),n.jsx(fT,{asChild:!0,...d,children:n.jsx(QV,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":uz(r.open),...e,ref:pN(t,a.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:He(e.onPointerMove,N0(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:He(e.onPointerLeave,N0(f=>{var h,x;u();const m=(h=r.content)==null?void 0:h.getBoundingClientRect();if(m){const p=(x=r.content)==null?void 0:x.dataset.side,g=p==="right",j=g?-5:5,y=m[g?"left":"right"],w=m[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+j,y:f.clientY},{x:y,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:y,y:m.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:He(e.onKeyDown,f=>{var h;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||Afe[s.dir].includes(f.key)&&(r.onOpenChange(!0),(h=r.content)==null||h.focus(),f.preventDefault())})})})});lz.displayName=fg;var cz="MenuSubContent",dz=v.forwardRef((e,t)=>{const r=GV(_o,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=hm(_o,e.__scopeMenu),o=ty(_o,e.__scopeMenu),l=oz(cz,e.__scopeMenu),c=v.useRef(null),d=Rt(t,c);return n.jsx(w0.Provider,{scope:e.__scopeMenu,children:n.jsx(ls,{present:s||i.open,children:n.jsx(w0.Slot,{scope:e.__scopeMenu,children:n.jsx(pT,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:He(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:He(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:He(e.onKeyDown,u=>{var h;const f=u.currentTarget.contains(u.target),m=Pfe[o.dir].includes(u.key);f&&m&&(i.onOpenChange(!1),(h=l.trigger)==null||h.focus(),u.preventDefault())})})})})})});dz.displayName=cz;function uz(e){return e?"open":"closed"}function g1(e){return e==="indeterminate"}function vT(e){return g1(e)?"indeterminate":e?"checked":"unchecked"}function Kfe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Yfe(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function Xfe(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Yfe(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Qfe(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>s!=u>s&&r<(d-l)*(s-c)/(u-c)+l&&(a=!a)}return a}function Zfe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Qfe(r,t)}function N0(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Jfe=qV,eme=fT,tme=KV,rme=YV,nme=xT,sme=XV,ame=zN,ime=ZV,ome=ez,lme=rz,cme=sz,dme=az,ume=iz,fme=lz,mme=dz,yT="DropdownMenu",[hme,Cnt]=na(yT,[WV]),Ha=WV(),[pme,fz]=hme(yT),mz=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Ha(t),d=v.useRef(null),[u=!1,f]=$a({prop:a,defaultProp:i,onChange:o});return n.jsx(pme,{scope:t,triggerId:ci(),triggerRef:d,contentId:ci(),open:u,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(m=>!m),[f]),modal:l,children:n.jsx(Jfe,{...c,open:u,onOpenChange:f,dir:s,modal:l,children:r})})};mz.displayName=yT;var hz="DropdownMenuTrigger",pz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,i=fz(hz,r),o=Ha(r);return n.jsx(eme,{asChild:!0,...o,children:n.jsx(ft.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:pN(t,i.triggerRef),onPointerDown:He(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:He(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});pz.displayName=hz;var xme="DropdownMenuPortal",xz=e=>{const{__scopeDropdownMenu:t,...r}=e,s=Ha(t);return n.jsx(tme,{...s,...r})};xz.displayName=xme;var gz="DropdownMenuContent",vz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=fz(gz,r),i=Ha(r),o=v.useRef(!1);return n.jsx(rme,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:He(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:He(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vz.displayName=gz;var gme="DropdownMenuGroup",vme=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(nme,{...a,...s,ref:t})});vme.displayName=gme;var yme="DropdownMenuLabel",yz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(sme,{...a,...s,ref:t})});yz.displayName=yme;var jme="DropdownMenuItem",jz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(ame,{...a,...s,ref:t})});jz.displayName=jme;var bme="DropdownMenuCheckboxItem",bz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(ime,{...a,...s,ref:t})});bz.displayName=bme;var wme="DropdownMenuRadioGroup",Nme=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(ome,{...a,...s,ref:t})});Nme.displayName=wme;var _me="DropdownMenuRadioItem",wz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(lme,{...a,...s,ref:t})});wz.displayName=_me;var Sme="DropdownMenuItemIndicator",Nz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(cme,{...a,...s,ref:t})});Nz.displayName=Sme;var Cme="DropdownMenuSeparator",_z=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(dme,{...a,...s,ref:t})});_z.displayName=Cme;var Eme="DropdownMenuArrow",Ame=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(ume,{...a,...s,ref:t})});Ame.displayName=Eme;var Pme="DropdownMenuSubTrigger",Sz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(fme,{...a,...s,ref:t})});Sz.displayName=Pme;var kme="DropdownMenuSubContent",Cz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ha(r);return n.jsx(mme,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Cz.displayName=kme;var Tme=mz,Ome=pz,Dme=xz,Ez=vz,Az=yz,Pz=jz,kz=bz,Tz=wz,Oz=Nz,Dz=_z,Iz=Sz,Rz=Cz;const ry=Tme,ny=Ome,Ime=v.forwardRef(({className:e,inset:t,children:r,...s},a)=>n.jsxs(Iz,{ref:a,className:ve("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[r,n.jsx(gu,{className:"ml-auto h-4 w-4"})]}));Ime.displayName=Iz.displayName;const Rme=v.forwardRef(({className:e,...t},r)=>n.jsx(Rz,{ref:r,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Rme.displayName=Rz.displayName;const Jp=v.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(Dme,{children:n.jsx(Ez,{ref:s,sideOffset:t,className:ve("z-[9999] min-w-[12rem] overflow-hidden rounded-lg border border-border/50 bg-popover backdrop-blur-xl p-2 text-popover-foreground shadow-2xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Jp.displayName=Ez.displayName;const Rn=v.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(Pz,{ref:s,className:ve("relative flex cursor-pointer select-none items-center rounded-md px-3 py-2.5 text-sm font-medium outline-none transition-colors","hover:bg-accent/80 hover:text-accent-foreground focus:bg-accent/80 focus:text-accent-foreground","data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Rn.displayName=Pz.displayName;const Mz=v.forwardRef(({className:e,children:t,checked:r,...s},a)=>n.jsxs(kz,{ref:a,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Oz,{children:n.jsx(yo,{className:"h-4 w-4"})})}),t]}));Mz.displayName=kz.displayName;const Mme=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Tz,{ref:s,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Oz,{children:n.jsx(c7,{className:"h-2 w-2 fill-current"})})}),t]}));Mme.displayName=Tz.displayName;const hE=v.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(Az,{ref:s,className:ve("px-3 py-2 text-xs font-bold text-muted-foreground uppercase tracking-wider",t&&"pl-8",e),...r}));hE.displayName=Az.displayName;const Lc=v.forwardRef(({className:e,...t},r)=>n.jsx(Dz,{ref:r,className:ve("my-1.5 h-px bg-border/50",e),...t}));Lc.displayName=Dz.displayName;var jT="Dialog",[Fz,$z]=na(jT),[Fme,gl]=Fz(jT),Lz=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[d=!1,u]=$a({prop:s,defaultProp:a,onChange:i});return n.jsx(Fme,{scope:t,triggerRef:l,contentRef:c,contentId:ci(),titleId:ci(),descriptionId:ci(),open:d,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};Lz.displayName=jT;var Bz="DialogTrigger",Uz=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=gl(Bz,r),i=Rt(t,a.triggerRef);return n.jsx(ft.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":NT(a.open),...s,ref:i,onClick:He(e.onClick,a.onOpenToggle)})});Uz.displayName=Bz;var bT="DialogPortal",[$me,Vz]=Fz(bT,{forceMount:void 0}),zz=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=gl(bT,t);return n.jsx($me,{scope:t,forceMount:r,children:v.Children.map(s,o=>n.jsx(ls,{present:r||i.open,children:n.jsx(Up,{asChild:!0,container:a,children:o})}))})};zz.displayName=bT;var v1="DialogOverlay",Wz=v.forwardRef((e,t)=>{const r=Vz(v1,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=gl(v1,e.__scopeDialog);return i.modal?n.jsx(ls,{present:s||i.open,children:n.jsx(Lme,{...a,ref:t})}):null});Wz.displayName=v1;var Lme=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=gl(v1,r);return n.jsx(Jv,{as:ec,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(ft.div,{"data-state":NT(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Yf="DialogContent",Hz=v.forwardRef((e,t)=>{const r=Vz(Yf,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=gl(Yf,e.__scopeDialog);return n.jsx(ls,{present:s||i.open,children:i.modal?n.jsx(Bme,{...a,ref:t}):n.jsx(Ume,{...a,ref:t})})});Hz.displayName=Yf;var Bme=v.forwardRef((e,t)=>{const r=gl(Yf,e.__scopeDialog),s=v.useRef(null),a=Rt(t,r.contentRef,s);return v.useEffect(()=>{const i=s.current;if(i)return Zv(i)},[]),n.jsx(qz,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:He(e.onFocusOutside,i=>i.preventDefault())})}),Ume=v.forwardRef((e,t)=>{const r=gl(Yf,e.__scopeDialog),s=v.useRef(!1),a=v.useRef(!1);return n.jsx(qz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),qz=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=gl(Yf,r),c=v.useRef(null),d=Rt(t,c);return LN(),n.jsxs(n.Fragment,{children:[n.jsx(Qv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(um,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":NT(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(zme,{titleId:l.titleId}),n.jsx(Hme,{contentRef:c,descriptionId:l.descriptionId})]})]})}),wT="DialogTitle",Gz=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=gl(wT,r);return n.jsx(ft.h2,{id:a.titleId,...s,ref:t})});Gz.displayName=wT;var Kz="DialogDescription",Yz=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=gl(Kz,r);return n.jsx(ft.p,{id:a.descriptionId,...s,ref:t})});Yz.displayName=Kz;var Xz="DialogClose",Qz=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=gl(Xz,r);return n.jsx(ft.button,{type:"button",...s,ref:t,onClick:He(e.onClick,()=>a.onOpenChange(!1))})});Qz.displayName=Xz;function NT(e){return e?"open":"closed"}var Zz="DialogTitleWarning",[Vme,Jz]=wne(Zz,{contentName:Yf,titleName:wT,docsSlug:"dialog"}),zme=({titleId:e})=>{const t=Jz(Zz),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Wme="DialogDescriptionWarning",Hme=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Jz(Wme).contentName}}.`;return v.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},_T=Lz,eW=Uz,ST=zz,sy=Wz,ay=Hz,iy=Gz,oy=Yz,WN=Qz;const qme=_T,Gme=ST,tW=v.forwardRef(({className:e,...t},r)=>n.jsx(sy,{className:ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));tW.displayName=sy.displayName;const Kme=Vp("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),rW=v.forwardRef(({side:e="right",className:t,children:r,...s},a)=>n.jsxs(Gme,{children:[n.jsx(tW,{}),n.jsxs(ay,{ref:a,className:ve(Kme({side:e}),t),...s,children:[r,n.jsxs(WN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(ps,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));rW.displayName=ay.displayName;const nW=({className:e,...t})=>n.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",e),...t});nW.displayName="SheetHeader";const sW=v.forwardRef(({className:e,...t},r)=>n.jsx(iy,{ref:r,className:ve("text-lg font-semibold text-foreground",e),...t}));sW.displayName=iy.displayName;const Yme=v.forwardRef(({className:e,...t},r)=>n.jsx(oy,{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));Yme.displayName=oy.displayName;function pE(e,[t,r]){return Math.min(r,Math.max(t,e))}function Xme(e,t){return v.useReducer((r,s)=>t[r][s]??r,e)}var CT="ScrollArea",[aW,Ent]=na(CT),[Qme,To]=aW(CT),iW=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=v.useState(null),[d,u]=v.useState(null),[f,m]=v.useState(null),[h,x]=v.useState(null),[p,g]=v.useState(null),[j,y]=v.useState(0),[w,b]=v.useState(0),[N,S]=v.useState(!1),[_,E]=v.useState(!1),A=Rt(t,R=>c(R)),T=fm(a);return n.jsx(Qme,{scope:r,type:s,dir:T,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:m,scrollbarX:h,onScrollbarXChange:x,scrollbarXEnabled:N,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:g,scrollbarYEnabled:_,onScrollbarYEnabledChange:E,onCornerWidthChange:y,onCornerHeightChange:b,children:n.jsx(ft.div,{dir:T,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});iW.displayName=CT;var oW="ScrollAreaViewport",lW=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:s,asChild:a,nonce:i,...o}=e,l=To(oW,r),c=v.useRef(null),d=Rt(t,c,l.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),n.jsx(ft.div,{"data-radix-scroll-area-viewport":"",...o,asChild:a,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:ohe({asChild:a,children:s},u=>n.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});lW.displayName=oW;var cc="ScrollAreaScrollbar",ET=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=To(cc,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return v.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?n.jsx(Zme,{...s,ref:t,forceMount:r}):a.type==="scroll"?n.jsx(Jme,{...s,ref:t,forceMount:r}):a.type==="auto"?n.jsx(cW,{...s,ref:t,forceMount:r}):a.type==="always"?n.jsx(AT,{...s,ref:t}):null});ET.displayName=cc;var Zme=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=To(cc,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(ls,{present:r||i,children:n.jsx(cW,{"data-state":i?"visible":"hidden",...s,ref:t})})}),Jme=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=To(cc,e.__scopeScrollArea),i=e.orientation==="horizontal",o=qN(()=>c("SCROLL_END"),100),[l,c]=Xme("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),v.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let f=d[u];const m=()=>{const h=d[u];f!==h&&(c("SCROLL"),o()),f=h};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),n.jsx(ls,{present:r||l!=="hidden",children:n.jsx(AT,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:He(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:He(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),cW=v.forwardRef((e,t)=>{const r=To(cc,e.__scopeScrollArea),{forceMount:s,...a}=e,[i,o]=v.useState(!1),l=e.orientation==="horizontal",c=qN(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return np(r.viewport,c),np(r.content,c),n.jsx(ls,{present:s||i,children:n.jsx(AT,{"data-state":i?"visible":"hidden",...a,ref:t})})}),AT=v.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,a=To(cc,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=hW(l.viewport,l.content),u={...s,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,h){return ahe(m,o.current,l,h)}return r==="horizontal"?n.jsx(ehe,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,h=lR(m,l,a.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):r==="vertical"?n.jsx(the,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,h=lR(m,l);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),ehe=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=To(cc,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),d=Rt(t,c,i.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(uW,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":HN(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),xW(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:j1(o.paddingLeft),paddingEnd:j1(o.paddingRight)}})}})}),the=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=To(cc,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),d=Rt(t,c,i.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(uW,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":HN(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),xW(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:j1(o.paddingTop),paddingEnd:j1(o.paddingBottom)}})}})}),[rhe,dW]=aW(cc),uW=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...m}=e,h=To(cc,r),[x,p]=v.useState(null),g=Rt(t,A=>p(A)),j=v.useRef(null),y=v.useRef(""),w=h.viewport,b=s.content-s.viewport,N=hn(u),S=hn(c),_=qN(f,10);function E(A){if(j.current){const T=A.clientX-j.current.left,R=A.clientY-j.current.top;d({x:T,y:R})}}return v.useEffect(()=>{const A=T=>{const R=T.target;(x==null?void 0:x.contains(R))&&N(T,b)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[w,x,b,N]),v.useEffect(S,[s,S]),np(x,_),np(h.content,_),n.jsx(rhe,{scope:r,scrollbar:x,hasThumb:a,onThumbChange:hn(i),onThumbPointerUp:hn(o),onThumbPositionChange:S,onThumbPointerDown:hn(l),children:n.jsx(ft.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:He(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),j.current=x.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),E(A))}),onPointerMove:He(e.onPointerMove,E),onPointerUp:He(e.onPointerUp,A=>{const T=A.target;T.hasPointerCapture(A.pointerId)&&T.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=y.current,h.viewport&&(h.viewport.style.scrollBehavior=""),j.current=null})})})}),y1="ScrollAreaThumb",fW=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=dW(y1,e.__scopeScrollArea);return n.jsx(ls,{present:r||a.hasThumb,children:n.jsx(nhe,{ref:t,...s})})}),nhe=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:s,...a}=e,i=To(y1,r),o=dW(y1,r),{onThumbPositionChange:l}=o,c=Rt(t,f=>o.onThumbChange(f)),d=v.useRef(),u=qN(()=>{d.current&&(d.current(),d.current=void 0)},100);return v.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(u(),!d.current){const h=ihe(f,l);d.current=h,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,u,l]),n.jsx(ft.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:He(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),x=f.clientX-h.left,p=f.clientY-h.top;o.onThumbPointerDown({x,y:p})}),onPointerUp:He(e.onPointerUp,o.onThumbPointerUp)})});fW.displayName=y1;var PT="ScrollAreaCorner",mW=v.forwardRef((e,t)=>{const r=To(PT,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?n.jsx(she,{...e,ref:t}):null});mW.displayName=PT;var she=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...s}=e,a=To(PT,r),[i,o]=v.useState(0),[l,c]=v.useState(0),d=!!(i&&l);return np(a.scrollbarX,()=>{var f;const u=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),np(a.scrollbarY,()=>{var f;const u=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?n.jsx(ft.div,{...s,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function j1(e){return e?parseInt(e,10):0}function hW(e,t){const r=e/t;return isNaN(r)?0:r}function HN(e){const t=hW(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function ahe(e,t,r,s="ltr"){const a=HN(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,f=s==="ltr"?[0,u]:[u*-1,0];return pW([c,d],f)(e)}function lR(e,t,r="ltr"){const s=HN(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-s,c=r==="ltr"?[0,o]:[o*-1,0],d=pE(e,c);return pW([0,o],[0,l])(d)}function pW(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function xW(e,t){return e>0&&e<t}var ihe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function qN(e,t){const r=hn(e),s=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),v.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function np(e,t){const r=hn(t);is(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,r])}function ohe(e,t){const{asChild:r,children:s}=e;if(!r)return typeof t=="function"?t(s):t;const a=v.Children.only(s);return v.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var gW=iW,lhe=lW,che=mW;const Mu=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(gW,{ref:s,className:ve("relative overflow-hidden",e),...r,children:[n.jsx(lhe,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(vW,{}),n.jsx(che,{})]}));Mu.displayName=gW.displayName;const vW=v.forwardRef(({className:e,orientation:t="vertical",...r},s)=>n.jsx(ET,{ref:s,orientation:t,className:ve("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(fW,{className:"relative flex-1 rounded-full bg-border"})}));vW.displayName=ET.displayName;var cR=1,dhe=.9,uhe=.8,fhe=.17,mS=.1,hS=.999,mhe=.9999,hhe=.99,phe=/[\\\/_+.#"@\[\(\{&]/,xhe=/[\\\/_+.#"@\[\(\{&]/g,ghe=/[\s-]/,yW=/[\s-]/g;function xE(e,t,r,s,a,i,o){if(i===t.length)return a===e.length?cR:hhe;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=s.charAt(i),d=r.indexOf(c,a),u=0,f,m,h,x;d>=0;)f=xE(e,t,r,s,d+1,i+1,o),f>u&&(d===a?f*=cR:phe.test(e.charAt(d-1))?(f*=uhe,h=e.slice(a,d-1).match(xhe),h&&a>0&&(f*=Math.pow(hS,h.length))):ghe.test(e.charAt(d-1))?(f*=dhe,x=e.slice(a,d-1).match(yW),x&&a>0&&(f*=Math.pow(hS,x.length))):(f*=fhe,a>0&&(f*=Math.pow(hS,d-a))),e.charAt(d)!==t.charAt(i)&&(f*=mhe)),(f<mS&&r.charAt(d-1)===s.charAt(i+1)||s.charAt(i+1)===s.charAt(i)&&r.charAt(d-1)!==s.charAt(i))&&(m=xE(e,t,r,s,d+1,i+2,o),m*mS>f&&(f=m*mS)),f>u&&(u=f),d=r.indexOf(c,d+1);return o[l]=u,u}function dR(e){return e.toLowerCase().replace(yW," ")}function vhe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,xE(e,t,dR(e),dR(t),0,0,{})}function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ta.apply(null,arguments)}function wh(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function yhe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function jW(...e){return t=>e.forEach(r=>yhe(r,t))}function ly(...e){return v.useCallback(jW(...e),e)}function jhe(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return v.createElement(p.Provider,{value:g},h)}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,bhe(a,...t)]}function bhe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}const gE=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},whe=AP.useId||(()=>{});let Nhe=0;function pS(e){const[t,r]=v.useState(whe());return gE(()=>{e||r(s=>s??String(Nhe++))},[e]),e||(t?`radix-${t}`:"")}function Xf(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var s;return(s=t.current)===null||s===void 0?void 0:s.call(t,...r)},[])}function _he({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=She({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:s,l=Xf(r),c=v.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else a(d)},[i,e,a,l]);return[o,c]}function She({defaultProp:e,onChange:t}){const r=v.useState(e),[s]=r,a=v.useRef(s),i=Xf(t);return v.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}const kT=v.forwardRef((e,t)=>{const{children:r,...s}=e,a=v.Children.toArray(r),i=a.find(Ehe);if(i){const o=i.props.children,l=a.map(c=>c===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return v.createElement(vE,ta({},s,{ref:t}),v.isValidElement(o)?v.cloneElement(o,void 0,l):null)}return v.createElement(vE,ta({},s,{ref:t}),r)});kT.displayName="Slot";const vE=v.forwardRef((e,t)=>{const{children:r,...s}=e;return v.isValidElement(r)?v.cloneElement(r,{...Ahe(s,r.props),ref:t?jW(t,r.ref):r.ref}):v.Children.count(r)>1?v.Children.only(null):null});vE.displayName="SlotClone";const Che=({children:e})=>v.createElement(v.Fragment,null,e);function Ehe(e){return v.isValidElement(e)&&e.type===Che}function Ahe(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}const Phe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Oo=Phe.reduce((e,t)=>{const r=v.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?kT:t;return v.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),v.createElement(l,ta({},o,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function khe(e,t){e&&pl.flushSync(()=>e.dispatchEvent(t))}function The(e,t=globalThis==null?void 0:globalThis.document){const r=Xf(e);v.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s),()=>t.removeEventListener("keydown",s)},[r,t])}const yE="dismissableLayer.update",Ohe="dismissableLayer.pointerDownOutside",Dhe="dismissableLayer.focusOutside";let uR;const Ihe=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Rhe=v.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=e,u=v.useContext(Ihe),[f,m]=v.useState(null),h=(r=f==null?void 0:f.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,x]=v.useState({}),p=ly(t,E=>m(E)),g=Array.from(u.layers),[j]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(j),w=f?g.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,N=w>=y,S=Mhe(E=>{const A=E.target,T=[...u.branches].some(R=>R.contains(A));!N||T||(i==null||i(E),l==null||l(E),E.defaultPrevented||c==null||c())},h),_=Fhe(E=>{const A=E.target;[...u.branches].some(R=>R.contains(A))||(o==null||o(E),l==null||l(E),E.defaultPrevented||c==null||c())},h);return The(E=>{w===u.layers.size-1&&(a==null||a(E),!E.defaultPrevented&&c&&(E.preventDefault(),c()))},h),v.useEffect(()=>{if(f)return s&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(uR=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),fR(),()=>{s&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=uR)}},[f,h,s,u]),v.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),fR())},[f,u]),v.useEffect(()=>{const E=()=>x({});return document.addEventListener(yE,E),()=>document.removeEventListener(yE,E)},[]),v.createElement(Oo.div,ta({},d,{ref:p,style:{pointerEvents:b?N?"auto":"none":void 0,...e.style},onFocusCapture:wh(e.onFocusCapture,_.onFocusCapture),onBlurCapture:wh(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:wh(e.onPointerDownCapture,S.onPointerDownCapture)}))});function Mhe(e,t=globalThis==null?void 0:globalThis.document){const r=Xf(e),s=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let u=function(){bW(Ohe,r,d,{discrete:!0})};var c=u;const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function Fhe(e,t=globalThis==null?void 0:globalThis.document){const r=Xf(e),s=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!s.current&&bW(Dhe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function fR(){const e=new CustomEvent(yE);document.dispatchEvent(e)}function bW(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?khe(a,i):a.dispatchEvent(i)}const xS="focusScope.autoFocusOnMount",gS="focusScope.autoFocusOnUnmount",mR={bubbles:!1,cancelable:!0},$he=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),d=Xf(a),u=Xf(i),f=v.useRef(null),m=ly(t,p=>c(p)),h=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let y=function(S){if(h.paused||!l)return;const _=S.target;l.contains(_)?f.current=_:Ad(f.current,{select:!0})},w=function(S){if(h.paused||!l)return;const _=S.relatedTarget;_!==null&&(l.contains(_)||Ad(f.current,{select:!0}))},b=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&Ad(l)};var p=y,g=w,j=b;document.addEventListener("focusin",y),document.addEventListener("focusout",w);const N=new MutationObserver(b);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),N.disconnect()}}},[s,l,h.paused]),v.useEffect(()=>{if(l){pR.add(h);const p=document.activeElement;if(!l.contains(p)){const j=new CustomEvent(xS,mR);l.addEventListener(xS,d),l.dispatchEvent(j),j.defaultPrevented||(Lhe(Whe(wW(l)),{select:!0}),document.activeElement===p&&Ad(l))}return()=>{l.removeEventListener(xS,d),setTimeout(()=>{const j=new CustomEvent(gS,mR);l.addEventListener(gS,u),l.dispatchEvent(j),j.defaultPrevented||Ad(p??document.body,{select:!0}),l.removeEventListener(gS,u),pR.remove(h)},0)}}},[l,d,u,h]);const x=v.useCallback(p=>{if(!r&&!s||h.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,j=document.activeElement;if(g&&j){const y=p.currentTarget,[w,b]=Bhe(y);w&&b?!p.shiftKey&&j===b?(p.preventDefault(),r&&Ad(w,{select:!0})):p.shiftKey&&j===w&&(p.preventDefault(),r&&Ad(b,{select:!0})):j===y&&p.preventDefault()}},[r,s,h.paused]);return v.createElement(Oo.div,ta({tabIndex:-1},o,{ref:m,onKeyDown:x}))});function Lhe(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Ad(s,{select:t}),document.activeElement!==r)return}function Bhe(e){const t=wW(e),r=hR(t,e),s=hR(t.reverse(),e);return[r,s]}function wW(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function hR(e,t){for(const r of e)if(!Uhe(r,{upTo:t}))return r}function Uhe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Vhe(e){return e instanceof HTMLInputElement&&"select"in e}function Ad(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Vhe(e)&&t&&e.select()}}const pR=zhe();function zhe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=xR(e,t),e.unshift(t)},remove(t){var r;e=xR(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function xR(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function Whe(e){return e.filter(t=>t.tagName!=="A")}const Hhe=v.forwardRef((e,t)=>{var r;const{container:s=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...a}=e;return s?hN.createPortal(v.createElement(Oo.div,ta({},a,{ref:t})),s):null});function qhe(e,t){return v.useReducer((r,s)=>{const a=t[r][s];return a??r},e)}const GN=e=>{const{present:t,children:r}=e,s=Ghe(t),a=typeof r=="function"?r({present:s.isPresent}):v.Children.only(r),i=ly(s.ref,a.ref);return typeof r=="function"||s.isPresent?v.cloneElement(a,{ref:i}):null};GN.displayName="Presence";function Ghe(e){const[t,r]=v.useState(),s=v.useRef({}),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=qhe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=dj(s.current);i.current=l==="mounted"?d:"none"},[l]),gE(()=>{const d=s.current,u=a.current;if(u!==e){const m=i.current,h=dj(d);e?c("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),gE(()=>{if(t){const d=f=>{const h=dj(s.current).includes(f.animationName);f.target===t&&h&&pl.flushSync(()=>c("ANIMATION_END"))},u=f=>{f.target===t&&(i.current=dj(s.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(d=>{d&&(s.current=getComputedStyle(d)),r(d)},[])}}function dj(e){return(e==null?void 0:e.animationName)||"none"}let vS=0;function Khe(){v.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:gR()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:gR()),vS++,()=>{vS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),vS--}},[])}function gR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var NW=RV(),yS=function(){},KN=v.forwardRef(function(e,t){var r=v.useRef(null),s=v.useState({onScrollCapture:yS,onWheelCapture:yS,onTouchMoveCapture:yS}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,h=e.noIsolation,x=e.inert,p=e.allowPinchZoom,g=e.as,j=g===void 0?"div":g,y=dT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=m,b=IV([r,t]),N=ma(ma({},y),a);return v.createElement(v.Fragment,null,u&&v.createElement(w,{sideCar:NW,removeScrollBar:d,shards:f,noIsolation:h,inert:x,setCallbacks:i,allowPinchZoom:!!p,lockRef:r}),o?v.cloneElement(v.Children.only(l),ma(ma({},N),{ref:b})):v.createElement(j,ma({},N,{className:c,ref:b}),l))});KN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};KN.classNames={fullWidth:kg,zeroRight:Pg};var jE=!1;if(typeof window<"u")try{var uj=Object.defineProperty({},"passive",{get:function(){return jE=!0,!0}});window.addEventListener("test",uj,uj),window.removeEventListener("test",uj,uj)}catch{jE=!1}var Om=jE?{passive:!1}:!1,Yhe=function(e){return e.tagName==="TEXTAREA"},_W=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Yhe(e)&&r[t]==="visible")},Xhe=function(e){return _W(e,"overflowY")},Qhe=function(e){return _W(e,"overflowX")},vR=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=SW(e,r);if(s){var a=CW(e,r),i=a[1],o=a[2];if(i>o)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},Zhe=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},Jhe=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},SW=function(e,t){return e==="v"?Xhe(t):Qhe(t)},CW=function(e,t){return e==="v"?Zhe(t):Jhe(t)},epe=function(e,t){return e==="h"&&t==="rtl"?-1:1},tpe=function(e,t,r,s,a){var i=epe(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,m=0;do{var h=CW(e,l),x=h[0],p=h[1],g=h[2],j=p-g-i*x;(x||j)&&SW(e,l)&&(f+=j,m+=x),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(f===0||!a)||!u&&(m===0||!a))&&(d=!0),d},fj=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},yR=function(e){return[e.deltaX,e.deltaY]},jR=function(e){return e&&"current"in e?e.current:e},rpe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},npe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},spe=0,Dm=[];function ape(e){var t=v.useRef([]),r=v.useRef([0,0]),s=v.useRef(),a=v.useState(spe++)[0],i=v.useState(function(){return uT()})[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=DV([e.lockRef.current],(e.shards||[]).map(jR),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,g){if("touches"in p&&p.touches.length===2)return!o.current.allowPinchZoom;var j=fj(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-j[0],b="deltaY"in p?p.deltaY:y[1]-j[1],N,S=p.target,_=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in p&&_==="h"&&S.type==="range")return!1;var E=vR(_,S);if(!E)return!0;if(E?N=_:(N=_==="v"?"h":"v",E=vR(_,S)),!E)return!1;if(!s.current&&"changedTouches"in p&&(w||b)&&(s.current=N),!N)return!0;var A=s.current||N;return tpe(A,g,p,A==="h"?w:b,!0)},[]),c=v.useCallback(function(p){var g=p;if(!(!Dm.length||Dm[Dm.length-1]!==i)){var j="deltaY"in g?yR(g):fj(g),y=t.current.filter(function(N){return N.name===g.type&&N.target===g.target&&rpe(N.delta,j)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(jR).filter(Boolean).filter(function(N){return N.contains(g.target)}),b=w.length>0?l(g,w[0]):!o.current.noIsolation;b&&g.cancelable&&g.preventDefault()}}},[]),d=v.useCallback(function(p,g,j,y){var w={name:p,delta:g,target:j,should:y};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),u=v.useCallback(function(p){r.current=fj(p),s.current=void 0},[]),f=v.useCallback(function(p){d(p.type,yR(p),p.target,l(p,e.lockRef.current))},[]),m=v.useCallback(function(p){d(p.type,fj(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return Dm.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Om),document.addEventListener("touchmove",c,Om),document.addEventListener("touchstart",u,Om),function(){Dm=Dm.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Om),document.removeEventListener("touchmove",c,Om),document.removeEventListener("touchstart",u,Om)}},[]);var h=e.removeScrollBar,x=e.inert;return v.createElement(v.Fragment,null,x?v.createElement(i,{styles:npe(a)}):null,h?v.createElement(LV,{gapMode:"margin"}):null)}const ipe=FV(NW,ape);var EW=v.forwardRef(function(e,t){return v.createElement(KN,ma({},e,{ref:t,sideCar:ipe}))});EW.classNames=KN.classNames;const AW="Dialog",[PW,Ant]=jhe(AW),[ope,pm]=PW(AW),lpe=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[d=!1,u]=_he({prop:s,defaultProp:a,onChange:i});return v.createElement(ope,{scope:t,triggerRef:l,contentRef:c,contentId:pS(),titleId:pS(),descriptionId:pS(),open:d,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(f=>!f),[u]),modal:o},r)},kW="DialogPortal",[cpe,TW]=PW(kW,{forceMount:void 0}),dpe=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=pm(kW,t);return v.createElement(cpe,{scope:t,forceMount:r},v.Children.map(s,o=>v.createElement(GN,{present:r||i.open},v.createElement(Hhe,{asChild:!0,container:a},o))))},bE="DialogOverlay",upe=v.forwardRef((e,t)=>{const r=TW(bE,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=pm(bE,e.__scopeDialog);return i.modal?v.createElement(GN,{present:s||i.open},v.createElement(fpe,ta({},a,{ref:t}))):null}),fpe=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=pm(bE,r);return v.createElement(EW,{as:kT,allowPinchZoom:!0,shards:[a.contentRef]},v.createElement(Oo.div,ta({"data-state":DW(a.open)},s,{ref:t,style:{pointerEvents:"auto",...s.style}})))}),_0="DialogContent",mpe=v.forwardRef((e,t)=>{const r=TW(_0,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=pm(_0,e.__scopeDialog);return v.createElement(GN,{present:s||i.open},i.modal?v.createElement(hpe,ta({},a,{ref:t})):v.createElement(ppe,ta({},a,{ref:t})))}),hpe=v.forwardRef((e,t)=>{const r=pm(_0,e.__scopeDialog),s=v.useRef(null),a=ly(t,r.contentRef,s);return v.useEffect(()=>{const i=s.current;if(i)return Zv(i)},[]),v.createElement(OW,ta({},e,{ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wh(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)===null||o===void 0||o.focus()}),onPointerDownOutside:wh(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:wh(e.onFocusOutside,i=>i.preventDefault())}))}),ppe=v.forwardRef((e,t)=>{const r=pm(_0,e.__scopeDialog),s=v.useRef(!1),a=v.useRef(!1);return v.createElement(OW,ta({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o;if((o=e.onCloseAutoFocus)===null||o===void 0||o.call(e,i),!i.defaultPrevented){var l;s.current||(l=r.triggerRef.current)===null||l===void 0||l.focus(),i.preventDefault()}s.current=!1,a.current=!1},onInteractOutside:i=>{var o,l;(o=e.onInteractOutside)===null||o===void 0||o.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;((l=r.triggerRef.current)===null||l===void 0?void 0:l.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),OW=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=pm(_0,r),c=v.useRef(null),d=ly(t,c);return Khe(),v.createElement(v.Fragment,null,v.createElement($he,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i},v.createElement(Rhe,ta({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":DW(l.open)},o,{ref:d,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function DW(e){return e?"open":"closed"}const xpe=lpe,gpe=dpe,vpe=upe,ype=mpe;var Bx='[cmdk-group=""]',jS='[cmdk-group-items=""]',jpe='[cmdk-group-heading=""]',TT='[cmdk-item=""]',bR=`${TT}:not([aria-disabled="true"])`,wE="cmdk-item-select",af="data-value",bpe=(e,t,r)=>vhe(e,t,r),IW=v.createContext(void 0),cy=()=>v.useContext(IW),RW=v.createContext(void 0),OT=()=>v.useContext(RW),MW=v.createContext(void 0),FW=v.forwardRef((e,t)=>{let r=zm(()=>{var D,U;return{search:"",value:(U=(D=e.value)!=null?D:e.defaultValue)!=null?U:"",filtered:{count:0,items:new Map,groups:new Set}}}),s=zm(()=>new Set),a=zm(()=>new Map),i=zm(()=>new Map),o=zm(()=>new Set),l=$W(e),{label:c,children:d,value:u,onValueChange:f,filter:m,shouldFilter:h,loop:x,disablePointerSelection:p=!1,vimBindings:g=!0,...j}=e,y=v.useId(),w=v.useId(),b=v.useId(),N=v.useRef(null),S=Ope();Qf(()=>{if(u!==void 0){let D=u.trim();r.current.value=D,_.emit()}},[u]),Qf(()=>{S(6,z)},[]);let _=v.useMemo(()=>({subscribe:D=>(o.current.add(D),()=>o.current.delete(D)),snapshot:()=>r.current,setState:(D,U,L)=>{var G,le,fe;if(!Object.is(r.current[D],U)){if(r.current[D]=U,D==="search")I(),T(),S(1,R);else if(D==="value"&&(L||S(5,z),((G=l.current)==null?void 0:G.value)!==void 0)){let B=U??"";(fe=(le=l.current).onValueChange)==null||fe.call(le,B);return}_.emit()}},emit:()=>{o.current.forEach(D=>D())}}),[]),E=v.useMemo(()=>({value:(D,U,L)=>{var G;U!==((G=i.current.get(D))==null?void 0:G.value)&&(i.current.set(D,{value:U,keywords:L}),r.current.filtered.items.set(D,A(U,L)),S(2,()=>{T(),_.emit()}))},item:(D,U)=>(s.current.add(D),U&&(a.current.has(U)?a.current.get(U).add(D):a.current.set(U,new Set([D]))),S(3,()=>{I(),T(),r.current.value||R(),_.emit()}),()=>{i.current.delete(D),s.current.delete(D),r.current.filtered.items.delete(D);let L=H();S(4,()=>{I(),(L==null?void 0:L.getAttribute("id"))===D&&R(),_.emit()})}),group:D=>(a.current.has(D)||a.current.set(D,new Set),()=>{i.current.delete(D),a.current.delete(D)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],disablePointerSelection:p,listId:y,inputId:b,labelId:w,listInnerRef:N}),[]);function A(D,U){var L,G;let le=(G=(L=l.current)==null?void 0:L.filter)!=null?G:bpe;return D?le(D,r.current.search,U):0}function T(){if(!r.current.search||l.current.shouldFilter===!1)return;let D=r.current.filtered.items,U=[];r.current.filtered.groups.forEach(G=>{let le=a.current.get(G),fe=0;le.forEach(B=>{let Y=D.get(B);fe=Math.max(Y,fe)}),U.push([G,fe])});let L=N.current;F().sort((G,le)=>{var fe,B;let Y=G.getAttribute("id"),ie=le.getAttribute("id");return((fe=D.get(ie))!=null?fe:0)-((B=D.get(Y))!=null?B:0)}).forEach(G=>{let le=G.closest(jS);le?le.appendChild(G.parentElement===le?G:G.closest(`${jS} > *`)):L.appendChild(G.parentElement===L?G:G.closest(`${jS} > *`))}),U.sort((G,le)=>le[1]-G[1]).forEach(G=>{let le=N.current.querySelector(`${Bx}[${af}="${encodeURIComponent(G[0])}"]`);le==null||le.parentElement.appendChild(le)})}function R(){let D=F().find(L=>L.getAttribute("aria-disabled")!=="true"),U=D==null?void 0:D.getAttribute(af);_.setState("value",U||void 0)}function I(){var D,U,L,G;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=s.current.size;return}r.current.filtered.groups=new Set;let le=0;for(let fe of s.current){let B=(U=(D=i.current.get(fe))==null?void 0:D.value)!=null?U:"",Y=(G=(L=i.current.get(fe))==null?void 0:L.keywords)!=null?G:[],ie=A(B,Y);r.current.filtered.items.set(fe,ie),ie>0&&le++}for(let[fe,B]of a.current)for(let Y of B)if(r.current.filtered.items.get(Y)>0){r.current.filtered.groups.add(fe);break}r.current.filtered.count=le}function z(){var D,U,L;let G=H();G&&(((D=G.parentElement)==null?void 0:D.firstChild)===G&&((L=(U=G.closest(Bx))==null?void 0:U.querySelector(jpe))==null||L.scrollIntoView({block:"nearest"})),G.scrollIntoView({block:"nearest"}))}function H(){var D;return(D=N.current)==null?void 0:D.querySelector(`${TT}[aria-selected="true"]`)}function F(){var D;return Array.from((D=N.current)==null?void 0:D.querySelectorAll(bR))}function k(D){let U=F()[D];U&&_.setState("value",U.getAttribute(af))}function P(D){var U;let L=H(),G=F(),le=G.findIndex(B=>B===L),fe=G[le+D];(U=l.current)!=null&&U.loop&&(fe=le+D<0?G[G.length-1]:le+D===G.length?G[0]:G[le+D]),fe&&_.setState("value",fe.getAttribute(af))}function M(D){let U=H(),L=U==null?void 0:U.closest(Bx),G;for(;L&&!G;)L=D>0?kpe(L,Bx):Tpe(L,Bx),G=L==null?void 0:L.querySelector(bR);G?_.setState("value",G.getAttribute(af)):P(D)}let O=()=>k(F().length-1),K=D=>{D.preventDefault(),D.metaKey?O():D.altKey?M(1):P(1)},ne=D=>{D.preventDefault(),D.metaKey?k(0):D.altKey?M(-1):P(-1)};return v.createElement(Oo.div,{ref:t,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:D=>{var U;if((U=j.onKeyDown)==null||U.call(j,D),!D.defaultPrevented)switch(D.key){case"n":case"j":{g&&D.ctrlKey&&K(D);break}case"ArrowDown":{K(D);break}case"p":case"k":{g&&D.ctrlKey&&ne(D);break}case"ArrowUp":{ne(D);break}case"Home":{D.preventDefault(),k(0);break}case"End":{D.preventDefault(),O();break}case"Enter":if(!D.nativeEvent.isComposing&&D.keyCode!==229){D.preventDefault();let L=H();if(L){let G=new Event(wE);L.dispatchEvent(G)}}}}},v.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:Ipe},c),YN(e,D=>v.createElement(RW.Provider,{value:_},v.createElement(IW.Provider,{value:E},D))))}),wpe=v.forwardRef((e,t)=>{var r,s;let a=v.useId(),i=v.useRef(null),o=v.useContext(MW),l=cy(),c=$W(e),d=(s=(r=c.current)==null?void 0:r.forceMount)!=null?s:o==null?void 0:o.forceMount;Qf(()=>{if(!d)return l.item(a,o==null?void 0:o.id)},[d]);let u=LW(a,i,[e.value,e.children,i],e.keywords),f=OT(),m=Zf(S=>S.value&&S.value===u.current),h=Zf(S=>d||l.filter()===!1?!0:S.search?S.filtered.items.get(a)>0:!0);v.useEffect(()=>{let S=i.current;if(!(!S||e.disabled))return S.addEventListener(wE,x),()=>S.removeEventListener(wE,x)},[h,e.onSelect,e.disabled]);function x(){var S,_;p(),(_=(S=c.current).onSelect)==null||_.call(S,u.current)}function p(){f.setState("value",u.current,!0)}if(!h)return null;let{disabled:g,value:j,onSelect:y,forceMount:w,keywords:b,...N}=e;return v.createElement(Oo.div,{ref:S0([i,t]),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!m,"data-disabled":!!g,"data-selected":!!m,onPointerMove:g||l.disablePointerSelection?void 0:p,onClick:g?void 0:x},e.children)}),Npe=v.forwardRef((e,t)=>{let{heading:r,children:s,forceMount:a,...i}=e,o=v.useId(),l=v.useRef(null),c=v.useRef(null),d=v.useId(),u=cy(),f=Zf(h=>a||u.filter()===!1?!0:h.search?h.filtered.groups.has(o):!0);Qf(()=>u.group(o),[]),LW(o,l,[e.value,e.heading,c]);let m=v.useMemo(()=>({id:o,forceMount:a}),[a]);return v.createElement(Oo.div,{ref:S0([l,t]),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&v.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),YN(e,h=>v.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},v.createElement(MW.Provider,{value:m},h))))}),_pe=v.forwardRef((e,t)=>{let{alwaysRender:r,...s}=e,a=v.useRef(null),i=Zf(o=>!o.search);return!r&&!i?null:v.createElement(Oo.div,{ref:S0([a,t]),...s,"cmdk-separator":"",role:"separator"})}),Spe=v.forwardRef((e,t)=>{let{onValueChange:r,...s}=e,a=e.value!=null,i=OT(),o=Zf(u=>u.search),l=Zf(u=>u.value),c=cy(),d=v.useMemo(()=>{var u;let f=(u=c.listInnerRef.current)==null?void 0:u.querySelector(`${TT}[${af}="${encodeURIComponent(l)}"]`);return f==null?void 0:f.getAttribute("id")},[]);return v.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),v.createElement(Oo.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":d,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),Cpe=v.forwardRef((e,t)=>{let{children:r,label:s="Suggestions",...a}=e,i=v.useRef(null),o=v.useRef(null),l=cy();return v.useEffect(()=>{if(o.current&&i.current){let c=o.current,d=i.current,u,f=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let m=c.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return f.observe(c),()=>{cancelAnimationFrame(u),f.unobserve(c)}}},[]),v.createElement(Oo.div,{ref:S0([i,t]),...a,"cmdk-list":"",role:"listbox","aria-label":s,id:l.listId},YN(e,c=>v.createElement("div",{ref:S0([o,l.listInnerRef]),"cmdk-list-sizer":""},c)))}),Epe=v.forwardRef((e,t)=>{let{open:r,onOpenChange:s,overlayClassName:a,contentClassName:i,container:o,...l}=e;return v.createElement(xpe,{open:r,onOpenChange:s},v.createElement(gpe,{container:o},v.createElement(vpe,{"cmdk-overlay":"",className:a}),v.createElement(ype,{"aria-label":e.label,"cmdk-dialog":"",className:i},v.createElement(FW,{ref:t,...l}))))}),Ape=v.forwardRef((e,t)=>Zf(r=>r.filtered.count===0)?v.createElement(Oo.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Ppe=v.forwardRef((e,t)=>{let{progress:r,children:s,label:a="Loading...",...i}=e;return v.createElement(Oo.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},YN(e,o=>v.createElement("div",{"aria-hidden":!0},o)))}),gi=Object.assign(FW,{List:Cpe,Item:wpe,Input:Spe,Group:Npe,Separator:_pe,Dialog:Epe,Empty:Ape,Loading:Ppe});function kpe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Tpe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function $W(e){let t=v.useRef(e);return Qf(()=>{t.current=e}),t}var Qf=typeof window>"u"?v.useEffect:v.useLayoutEffect;function zm(e){let t=v.useRef();return t.current===void 0&&(t.current=e()),t}function S0(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}function Zf(e){let t=OT(),r=()=>e(t.snapshot());return v.useSyncExternalStore(t.subscribe,r,r)}function LW(e,t,r,s=[]){let a=v.useRef(),i=cy();return Qf(()=>{var o;let l=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=s.map(d=>d.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(af,l),a.current=l}),a}var Ope=()=>{let[e,t]=v.useState(),r=zm(()=>new Map);return Qf(()=>{r.current.forEach(s=>s()),r.current=new Map},[e]),(s,a)=>{r.current.set(s,a),t({})}};function Dpe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function YN({asChild:e,children:t},r){return e&&v.isValidElement(t)?v.cloneElement(Dpe(t),{ref:t.ref},r(t.props.children)):r(t)}var Ipe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Pn=_T,Rpe=eW,Mpe=ST,BW=v.forwardRef(({className:e,...t},r)=>n.jsx(sy,{ref:r,className:ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));BW.displayName=sy.displayName;const vn=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Mpe,{children:[n.jsx(BW,{}),n.jsxs(ay,{ref:s,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(WN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(ps,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vn.displayName=ay.displayName;const kn=({className:e,...t})=>n.jsx("div",{className:ve("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});kn.displayName="DialogHeader";const vi=({className:e,...t})=>n.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});vi.displayName="DialogFooter";const Tn=v.forwardRef(({className:e,...t},r)=>n.jsx(iy,{ref:r,className:ve("text-lg font-semibold leading-none tracking-tight",e),...t}));Tn.displayName=iy.displayName;const Bs=v.forwardRef(({className:e,...t},r)=>n.jsx(oy,{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));Bs.displayName=oy.displayName;const DT=v.forwardRef(({className:e,...t},r)=>n.jsx(gi,{ref:r,className:ve("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));DT.displayName=gi.displayName;const Fpe=({children:e,shouldFilter:t=!0,...r})=>n.jsx(Pn,{...r,children:n.jsx(vn,{className:"overflow-hidden p-0 shadow-2xl border-border/50 max-w-2xl",children:n.jsx(DT,{shouldFilter:t,className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-semibold [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:uppercase [&_[cmdk-group-heading]]:tracking-wider [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-3 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),IT=v.forwardRef(({className:e,...t},r)=>n.jsxs("div",{className:"flex items-center border-b border-border/50 px-4 bg-muted/30","cmdk-input-wrapper":"",children:[n.jsx(ha,{className:"mr-3 h-5 w-5 shrink-0 text-primary/70"}),n.jsx(gi.Input,{ref:r,className:ve("flex h-14 w-full rounded-md bg-transparent py-3 text-base outline-none placeholder:text-muted-foreground/70 disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));IT.displayName=gi.Input.displayName;const RT=v.forwardRef(({className:e,...t},r)=>n.jsx(gi.List,{ref:r,className:ve("max-h-[400px] overflow-y-auto overflow-x-hidden p-2",e),...t}));RT.displayName=gi.List.displayName;const UW=v.forwardRef((e,t)=>n.jsx(gi.Empty,{ref:t,className:"py-12 text-center text-sm text-muted-foreground",...e}));UW.displayName=gi.Empty.displayName;const Rl=v.forwardRef(({className:e,...t},r)=>n.jsx(gi.Group,{ref:r,className:ve("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-3 [&_[cmdk-group-heading]]:py-2 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-semibold [&_[cmdk-group-heading]]:text-muted-foreground/80 [&_[cmdk-group-heading]]:uppercase [&_[cmdk-group-heading]]:tracking-wider",e),...t}));Rl.displayName=gi.Group.displayName;const $pe=v.forwardRef(({className:e,...t},r)=>n.jsx(gi.Separator,{ref:r,className:ve("-mx-1 h-px bg-border",e),...t}));$pe.displayName=gi.Separator.displayName;const Si=v.forwardRef(({className:e,...t},r)=>n.jsx(gi.Item,{ref:r,className:ve("relative flex cursor-pointer select-none items-center rounded-lg px-3 py-2.5 text-sm outline-none transition-all duration-150 data-[disabled=true]:pointer-events-none data-[selected='true']:bg-primary/10 data-[selected='true']:text-primary data-[selected=true]:shadow-sm data-[disabled=true]:opacity-50 hover:bg-muted/50",e),...t}));Si.displayName=gi.Item.displayName;const wi=cr.create({baseURL:ro,timeout:3e4,headers:{"Content-Type":"application/json"}});wi.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const mj={async getNotifications(e){return(await wi.get("/notifications/",{params:e})).data},async getRecentNotifications(){return(await wi.get("/notifications/recent/")).data},async getNotification(e){return(await wi.get(`/notifications/${e}/`)).data},async getUnreadCount(){return(await wi.get("/notifications/unread_count/")).data.unread_count},async markAsRead(e){return(await wi.post(`/notifications/${e}/mark_read/`)).data},async markAllAsRead(){return(await wi.post("/notifications/mark_all_read/")).data},async deleteNotification(e){await wi.delete(`/notifications/${e}/`)},async clearReadNotifications(){return(await wi.delete("/notifications/clear_read/")).data},async getByType(e){return(await wi.get("/notifications/by_type/",{params:{type:e}})).data},async createNotification(e){return(await wi.post("/notifications/",e)).data},async getPreferences(){return(await wi.get("/notification-preferences/")).data},async updatePreferences(e){return(await wi.post("/notification-preferences/",e)).data}},Lpe=e=>({info:"text-blue-500",success:"text-green-500",warning:"text-amber-500",error:"text-red-500",order:"text-blue-500",delivery:"text-cyan-500",payment:"text-green-500",issue:"text-orange-500",system:"text-purple-500"})[e]||"text-muted-foreground",Bpe=e=>{const t=new Date(e),s=new Date().getTime()-t.getTime(),a=Math.floor(s/6e4),i=Math.floor(s/36e5),o=Math.floor(s/864e5);return a<1?"Just now":a<60?`${a} min ago`:i<24?`${i} hour${i>1?"s":""} ago`:o<7?`${o} day${o>1?"s":""} ago`:t.toLocaleDateString()},MT=cr.create({baseURL:ro,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});MT.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));MT.interceptors.response.use(e=>e,e=>{var t,r;return console.error("Search API error:",(t=e.response)==null?void 0:t.status,(r=e.response)==null?void 0:r.data),Promise.reject(e)});const Upe={async globalSearch(e,t=5){return(await MT.get("/search/",{params:{q:e,limit:t}})).data}};function Vpe({className:e,onMenuToggle:t}){const[r,s]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState(""),[c,d]=v.useState(null),[u,f]=v.useState(!1),[m,h]=v.useState([]),[x,p]=v.useState(0),[g,j]=v.useState(!1),[y,w]=v.useState(null),[b,N]=v.useState(!1),S=mr(),{toast:_}=gr();v.useEffect(()=>{(async()=>{try{if(fn.isAuthenticated()){const k=await wc.getProfile();d(k)}}catch(k){console.error("Failed to fetch profile:",k)}})()},[]),v.useEffect(()=>{const F=async()=>{try{if(fn.isAuthenticated()){j(!0);const[P,M]=await Promise.all([mj.getRecentNotifications(),mj.getUnreadCount()]);h(P),p(M)}}catch(P){console.error("Failed to fetch notifications:",P)}finally{j(!1)}};F();const k=setInterval(F,3e4);return()=>clearInterval(k)},[]);const E=v.useCallback(async()=>{try{await mj.markAllAsRead(),h(F=>F.map(k=>({...k,is_read:!0}))),p(0),_({title:"Notifications marked as read",description:"All notifications have been marked as read."})}catch(F){console.error("Failed to mark all as read:",F)}},[_]),A=v.useCallback(async F=>{try{await mj.markAsRead(F),h(k=>k.map(P=>P.id===F?{...P,is_read:!0}:P)),p(k=>Math.max(0,k-1))}catch(k){console.error("Failed to mark as read:",k)}},[]),T=v.useCallback(async()=>{f(!0);try{const F=fn.getRefreshToken();F&&await wc.logout(F),fn.clearTokens(),_({title:"Logged out",description:"You have been successfully logged out."}),S("/login")}catch(F){console.error("Logout failed:",F),fn.clearTokens(),S("/login")}finally{f(!1)}},[S,_]),R=v.useMemo(()=>{var P,M,O,K;if(!c)return"U";const F=((P=c.first_name)==null?void 0:P[0])||"",k=((M=c.last_name)==null?void 0:M[0])||"";return F||k?(F+k).toUpperCase():((K=(O=c.username)==null?void 0:O[0])==null?void 0:K.toUpperCase())||"U"},[c]),I=v.useMemo(()=>c?c.first_name&&c.last_name?`${c.first_name} ${c.last_name}`:c.username||"User":"User",[c]);v.useEffect(()=>{const F=k=>{k.key==="k"&&(k.metaKey||k.ctrlKey)&&(k.preventDefault(),s(P=>!P))};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[]);const z=F=>{switch(F){case"order":return ws;case"payment":return bs;case"delivery":return _r;case"issue":return Et;case"warning":return Et;case"success":return yo;default:return mf}};v.useEffect(()=>{const F=setTimeout(async()=>{var P,M;const k=o.trim();if(k.length>=2){N(!0);try{console.log("Searching for:",k);const O=await Upe.globalSearch(k,5);console.log("Search results:",O),w(O)}catch(O){console.error("Search failed:",O),console.error("Error response:",(P=O.response)==null?void 0:P.data),console.error("Error status:",(M=O.response)==null?void 0:M.status),w(null)}finally{N(!1)}}else w(null)},300);return()=>clearTimeout(F)},[o]);const H=(F,k,P)=>{s(!1),l(""),w(null),F==="apartment"?S(`/apartments/${k}`):F==="client"?S("/clients"):F==="vendor"?S("/vendors"):F==="delivery"?S("/deliveries"):F==="issue"?S(P?`/apartments/${P}`:"/issues"):F==="product"&&P&&S(`/apartments/${P}`)};return n.jsxs(n.Fragment,{children:[n.jsx("header",{className:ve("sticky top-0 z-20 w-full","bg-background/80 backdrop-blur-xl","border-b border-border/40","supports-[backdrop-filter]:bg-background/60",e),children:n.jsxs("div",{className:"flex items-center justify-between h-16 px-4 lg:px-6",children:[n.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[n.jsx(te,{variant:"ghost",size:"icon",className:"md:hidden h-9 w-9 hover:bg-muted/80",onClick:t,children:n.jsx(bse,{className:"h-5 w-5"})}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center shadow-lg shadow-primary/20",children:n.jsx(Ec,{className:"h-4 w-4 text-primary-foreground"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-bold tracking-tight text-foreground",children:"Buy2Rent"}),n.jsx("span",{className:"text-[10px] text-muted-foreground -mt-0.5",children:"Procurement"})]})]})}),n.jsxs(te,{variant:"outline",className:ve("relative hidden lg:flex items-center gap-3","h-10 rounded-xl px-4","bg-muted/30 hover:bg-muted/50","border-border/50 hover:border-primary/30","text-sm text-muted-foreground","transition-all duration-300","min-w-[280px] lg:min-w-[360px]","justify-start","group"),onClick:()=>s(!0),children:[n.jsx(ha,{className:"h-4 w-4 text-muted-foreground/70 group-hover:text-primary transition-colors"}),n.jsx("span",{className:"flex-1 text-left text-muted-foreground/70",children:"Search apartments, clients, products..."}),n.jsxs("kbd",{className:ve("hidden lg:inline-flex h-5 select-none items-center gap-1","rounded-md border border-border/50 bg-background/80","px-1.5 font-mono text-[10px] font-medium text-muted-foreground/70"),children:[n.jsx("span",{className:"text-xs",children:""}),"K"]})]})]}),n.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[n.jsx(te,{variant:"ghost",size:"icon",className:"lg:hidden h-9 w-9 hover:bg-muted/80",onClick:()=>s(!0),children:n.jsx(ha,{className:"h-5 w-5"})}),n.jsxs(te,{variant:"ghost",size:"icon",className:ve("relative h-9 w-9 rounded-xl","hover:bg-muted/80 transition-all duration-200","group"),onClick:()=>i(!0),children:[n.jsx(mf,{className:"h-5 w-5 text-muted-foreground group-hover:text-foreground transition-colors"}),x>0&&n.jsx("span",{className:ve("absolute -top-0.5 -right-0.5","flex h-5 min-w-5 items-center justify-center","rounded-full bg-primary px-1","text-[10px] font-bold text-primary-foreground","shadow-lg shadow-primary/30","animate-in zoom-in-50"),children:x})]}),n.jsx("div",{className:"hidden lg:block h-6 w-px bg-border/50 mx-2"}),n.jsxs(ry,{children:[n.jsx(ny,{asChild:!0,children:n.jsxs(te,{variant:"ghost",className:ve("h-10 gap-2 px-2 lg:px-3 rounded-xl","hover:bg-muted/80 transition-all duration-200"),children:[n.jsx(cE,{className:ve("h-8 w-8","ring-2 ring-primary/20 ring-offset-2 ring-offset-background","transition-all duration-300"),children:n.jsx(dE,{className:"bg-gradient-to-br from-primary via-primary to-primary/80 text-primary-foreground text-xs font-semibold",children:R})}),n.jsxs("div",{className:"hidden lg:flex flex-col items-start",children:[n.jsx("span",{className:"text-sm font-medium",children:I}),n.jsx("span",{className:"text-[10px] text-muted-foreground",children:(c==null?void 0:c.username)||"User"})]}),n.jsx(Du,{className:"hidden lg:block h-4 w-4 text-muted-foreground"})]})}),n.jsxs(Jp,{align:"end",className:ve("w-64 p-2","bg-popover/95 backdrop-blur-xl","border-border/50","shadow-xl"),children:[n.jsxs("div",{className:"flex items-center gap-3 p-2 mb-2",children:[n.jsx(cE,{className:"h-10 w-10 ring-2 ring-primary/20",children:n.jsx(dE,{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground font-semibold",children:R})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-semibold",children:I}),n.jsx("span",{className:"text-xs text-muted-foreground",children:(c==null?void 0:c.email)||"user@example.com"})]})]}),n.jsx(Lc,{className:"bg-border/50"}),n.jsxs(Rn,{className:"cursor-pointer rounded-lg h-10 gap-3",children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-muted/50 flex items-center justify-center",children:n.jsx(w4,{className:"h-4 w-4 text-muted-foreground"})}),n.jsx("span",{children:"Profile"})]}),n.jsxs(Rn,{className:"cursor-pointer rounded-lg h-10 gap-3",onClick:()=>S("/settings"),children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-muted/50 flex items-center justify-center",children:n.jsx(Bv,{className:"h-4 w-4 text-muted-foreground"})}),n.jsx("span",{children:"Settings"})]}),n.jsxs(Rn,{className:"cursor-pointer rounded-lg h-10 gap-3",children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-muted/50 flex items-center justify-center",children:n.jsx(Qc,{className:"h-4 w-4 text-muted-foreground"})}),n.jsx("span",{children:"Team"})]}),n.jsx(Lc,{className:"bg-border/50"}),n.jsxs(Rn,{className:"cursor-pointer rounded-lg h-10 gap-3 text-red-500 hover:text-red-500 hover:bg-red-500/10",onClick:T,disabled:u,children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-red-500/10 flex items-center justify-center",children:n.jsx(yse,{className:ve("h-4 w-4",u&&"animate-spin")})}),n.jsx("span",{children:u?"Logging out...":"Log out"})]})]})]})]})]})}),n.jsxs(Fpe,{open:r,onOpenChange:F=>{s(F),F||l("")},shouldFilter:!1,children:[n.jsxs("div",{className:"flex items-center border-b px-3",children:[n.jsx(ha,{className:"h-4 w-4 text-muted-foreground mr-2"}),n.jsx(IT,{placeholder:"Search apartments, clients, vendors, products...",className:"h-14 text-base border-0 focus:ring-0",value:o,onValueChange:l})]}),n.jsxs(RT,{className:"min-h-[350px] max-h-[450px]",children:[b&&n.jsx("div",{className:"py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Searching..."})]})}),!b&&o.length>=2&&y&&y.total_results===0&&n.jsx("div",{className:"py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(ha,{className:"h-10 w-10 text-muted-foreground/30"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"No results found"}),n.jsx("p",{className:"text-xs text-muted-foreground/70",children:"Try searching for apartments, clients, vendors, or products"})]})}),y&&y.apartments.length>0&&n.jsx(Rl,{heading:`Apartments (${y.apartments.length})`,children:y.apartments.map(F=>n.jsxs(Si,{value:`apartment-${F.id}`,onSelect:()=>H("apartment",F.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-emerald-500/10 flex items-center justify-center mr-3",children:n.jsx(fr,{className:"h-4 w-4 text-emerald-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:F.address})]}),n.jsx("span",{className:ve("text-[10px] px-2 py-0.5 rounded-full",F.status==="In Progress"?"bg-blue-500/10 text-blue-500":F.status==="Completed"?"bg-green-500/10 text-green-500":"bg-muted text-muted-foreground"),children:F.status})]},F.id))}),y&&y.clients.length>0&&n.jsx(Rl,{heading:`Clients (${y.clients.length})`,children:y.clients.map(F=>n.jsxs(Si,{value:`client-${F.id}`,onSelect:()=>H("client",F.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-violet-500/10 flex items-center justify-center mr-3",children:n.jsx(v7,{className:"h-4 w-4 text-violet-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:F.email})]}),n.jsx("span",{className:ve("text-[10px] px-2 py-0.5 rounded-full",F.account_status==="Active"?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"),children:F.account_status})]},F.id))}),y&&y.vendors.length>0&&n.jsx(Rl,{heading:`Vendors (${y.vendors.length})`,children:y.vendors.map(F=>n.jsxs(Si,{value:`vendor-${F.id}`,onSelect:()=>H("vendor",F.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-amber-500/10 flex items-center justify-center mr-3",children:n.jsx(La,{className:"h-4 w-4 text-amber-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:F.company_name||F.email||"No details"})]})]},F.id))}),y&&y.products.length>0&&n.jsx(Rl,{heading:`Products (${y.products.length})`,children:y.products.map(F=>n.jsxs(Si,{value:`product-${F.id}`,onSelect:()=>H("product",F.id,F.apartment_id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-orange-500/10 flex items-center justify-center mr-3",children:n.jsx(lt,{className:"h-4 w-4 text-orange-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.product}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[F.vendor,"  ",F.category||"Uncategorized"]})]}),n.jsx("span",{className:ve("text-[10px] px-2 py-0.5 rounded-full",F.status==="Delivered"?"bg-green-500/10 text-green-500":F.status==="Ordered"?"bg-blue-500/10 text-blue-500":"bg-muted text-muted-foreground"),children:F.status})]},F.id))}),y&&y.deliveries.length>0&&n.jsx(Rl,{heading:`Deliveries (${y.deliveries.length})`,children:y.deliveries.map(F=>n.jsxs(Si,{value:`delivery-${F.id}`,onSelect:()=>H("delivery",F.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-cyan-500/10 flex items-center justify-center mr-3",children:n.jsx(_r,{className:"h-4 w-4 text-cyan-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.order_reference||`Delivery #${F.id.slice(0,8)}`}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[F.vendor,"  ",F.expected_date||"No date"]})]}),n.jsx("span",{className:ve("text-[10px] px-2 py-0.5 rounded-full",F.status==="Delivered"?"bg-green-500/10 text-green-500":F.status==="In Transit"?"bg-blue-500/10 text-blue-500":F.status==="Scheduled"?"bg-amber-500/10 text-amber-500":"bg-muted text-muted-foreground"),children:F.status})]},F.id))}),y&&y.issues.length>0&&n.jsx(Rl,{heading:`Issues (${y.issues.length})`,children:y.issues.map(F=>n.jsxs(Si,{value:`issue-${F.id}`,onSelect:()=>H("issue",F.id,F.apartment_id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-red-500/10 flex items-center justify-center mr-3",children:n.jsx(Et,{className:"h-4 w-4 text-red-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.product_name}),n.jsxs("span",{className:"text-xs text-muted-foreground line-clamp-1",children:[F.type,"  ",F.priority]})]}),n.jsx("span",{className:ve("text-[10px] px-2 py-0.5 rounded-full",F.status==="Closed"?"bg-green-500/10 text-green-500":F.status==="Open"?"bg-red-500/10 text-red-500":"bg-amber-500/10 text-amber-500"),children:F.status})]},F.id))}),!o&&n.jsxs(Rl,{heading:"Quick Actions",children:[n.jsxs(Si,{value:"go-to-apartments",onSelect:()=>{s(!1),S("/apartments")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-emerald-500/10 flex items-center justify-center mr-3",children:n.jsx(fr,{className:"h-4 w-4 text-emerald-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:"View All Apartments"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse apartments"})]})]}),n.jsxs(Si,{value:"go-to-clients",onSelect:()=>{s(!1),S("/clients")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-violet-500/10 flex items-center justify-center mr-3",children:n.jsx(Qc,{className:"h-4 w-4 text-violet-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:"View All Clients"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse clients"})]})]}),n.jsxs(Si,{value:"go-to-vendors",onSelect:()=>{s(!1),S("/vendors")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-amber-500/10 flex items-center justify-center mr-3",children:n.jsx(La,{className:"h-4 w-4 text-amber-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:"View All Vendors"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse vendors"})]})]}),n.jsxs(Si,{value:"go-to-deliveries",onSelect:()=>{s(!1),S("/deliveries")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-cyan-500/10 flex items-center justify-center mr-3",children:n.jsx(_r,{className:"h-4 w-4 text-cyan-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:"View All Deliveries"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse deliveries"})]})]})]})]})]}),n.jsx(qme,{open:a,onOpenChange:i,children:n.jsxs(rW,{className:"w-full sm:w-[420px] p-0 border-l-border/50",children:[n.jsx(nW,{className:"p-6 pb-4 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx(mf,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(sW,{className:"text-lg",children:"Notifications"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[x," unread messages"]})]})]}),x>0&&n.jsxs(te,{variant:"ghost",size:"sm",className:"text-xs text-primary hover:text-primary",onClick:E,children:[n.jsx(yo,{className:"h-3 w-3 mr-1"}),"Mark all read"]})]})}),n.jsx(Mu,{className:"h-[calc(100vh-120px)]",children:n.jsx("div",{className:"p-4 space-y-2",children:g?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full"})}):m.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"h-12 w-12 rounded-xl bg-muted/50 flex items-center justify-center mb-3",children:n.jsx(mf,{className:"h-6 w-6 text-muted-foreground/50"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No notifications"}),n.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:"You're all caught up!"})]}):m.map(F=>{const k=z(F.notification_type);return n.jsx("div",{className:ve("group relative p-4 rounded-xl border transition-all duration-200 cursor-pointer","hover:shadow-md hover:scale-[1.01]",F.is_read?"bg-card border-border/50 hover:bg-muted/50":"bg-primary/5 border-primary/20 hover:bg-primary/10"),onClick:()=>{F.is_read||A(F.id),F.action_url&&(S(F.action_url),i(!1))},children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:ve("h-10 w-10 rounded-xl flex items-center justify-center flex-shrink-0",F.is_read?"bg-muted/50":"bg-background"),children:n.jsx(k,{className:ve("h-5 w-5",Lpe(F.notification_type))})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("p",{className:"font-medium text-sm",children:F.title}),!F.is_read&&n.jsx("span",{className:"h-2 w-2 rounded-full bg-primary flex-shrink-0 mt-1.5"})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:F.message}),n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-[10px] text-muted-foreground/70",children:[n.jsx(wr,{className:"h-3 w-3"}),n.jsx("span",{children:Bpe(F.created_at)})]})]})]})},F.id)})})})]})})]})}const bS=768;function VW(){const[e,t]=v.useState(void 0);return v.useEffect(()=>{const r=window.matchMedia(`(max-width: ${bS-1}px)`),s=()=>{t(window.innerWidth<bS)};return r.addEventListener("change",s),t(window.innerWidth<bS),()=>r.removeEventListener("change",s)},[]),!!e}const zpe="/assets/buy2rent-CUbASZeg.png",Wpe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAAyCAYAAACauW+fAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADwZJREFUeNrsWwlYVdUW3ne+gDiWQw6pDyXLPmdNqLwKjljyKrG0TCtnM8vZ0rSytKeYiebwyinQcAiVckBDK3DAAVBfaQ6k4ggoCNz53vevc/e5Hi6XQYLv63vvrO9b3z5nn7X3Xmf/e6299jr3MiaTTDLJJJNMMskkk0wyySSTTDLJJJNMMv39SCFe/Gt88EQULR6suVPoQqVWspp1m7D6AV1YkyfDmN1qZA67taI6nQafAf/crl07GaEqIrV40aJxjX4oni035MBcpQToGhXTaNVM56NkfsoLzOfuXvZomxeZyufhiupUwDk7JSUlBuXiTp062WSoqgh4q82hQ6ErD+BKAlylZAq1GsCrmRKlk9mZqTCbZV1OYab8a+yRx/qymo26VkQn0qE2uHHHjh2bogxLSkqaERwcfEiGq/JIKbl2lGulaJRMo9PAwnVM56tjeirBel898/HzFa6dliyWk7GLFWSd/qv61QR3CwoKWp+YmNhFhqtqgC91LycrFwDXu8DWFwHdVQrXYB8/P2wDJpZ/bTdzOqyVoWeAwWBYn5CQ8JAMWSW7eu9unQBXInhTwdLVrGH9GkyDUqPVMDX29Tt5ZsHV07VG45JR056v0biulfnMlneCaWpWirG2DA0NnYXyHRm2qgIe+7gC8b4AqtoVvKnU6k3j5+/fpIDlk/UrFEoW+2VES61OOzIr1xhAwKsAuLAwhIBPg71fycx3T3sC/wfn45I6f3AH8DNl6PtGXFzcgvDw8GsydFUAvBKBm5pbsIZbNBZAWnJa5nap3OtTv1dD9uCK+S98A9knXN6AZBHsOR3MYraCr7JqTYt0vysiIuJLlNcldVpwg9jY2DA6WZaib7UBAwbQ4vhOhq4SgSdrVqtU3HWrXcBrXcDD3es9G+/59Twds47q9bqvIBtFsnSut1ltANzCTCYAbzJ7Nru9efPmCx51heC7Q4YMOR8dHR2K696l6BwqA1+JwR25dLhtd4B2v9Qyvd7FJZGPn88fWgR+DoeTmYxmVnCvkBXkGcFU5pc7roiJiaFIcEUZOjeXYatEi6fInFy0WqtyW7vU8mHxZm8dLPkonILAEVaLjZmNFmY2m5nFaBUs3gxX71RoK3KOL41UMmyVCDxZuCsiV7v3dpUEeHCLz6b3e4b2f0rRKhH92WyOh99+45neN2/m/lPYz+HWzULpAp7u6zbv4DmmvSRloqKihACuzLOlTFULvBDU8Sgd1/2mTwjpwBCtA3XGrA7mMFtqZmZmNyFLdwVyFmYF6GaLlVlxb0XZIDDEc0zfRYsW1fSii++4ceNeRWkoQ2e9DFtlunoOvBt0TVG3j7LevXxLPafTLABqhjs3C1Z9H3SL2eYG3OFUsYAuQ1j1uv/wHPP59957z9vHIB8euJW1N/xHhq1SgdeKLr2I5fOjnCBjs9kBONw5gS26cwF0F9M+byNrR1TvcKiYzq+utzEf51xRipFhq0xXr78PvEZLlu/KvtERzw7ACVg36KJblwBOVu4CHmy3Mwf41E9fM61PdfZQ4yfEYeK4RZN1N+J19EGmTjn1vfjxxx8ny7A9OM2aRUlP1hjzd0U4uosPrhyemQhLN1DGjaxdgSDO6XAwC7n1QgFss59OZRGidRF8k8X/dna+YOE2gQlwh5DqFaI4q5nVbvgY6zZkPi2Ay6jaD36ED9mEl/T9trw5+IEKhWKLZ+W0adPaliB/bcGCBbeqelLDn21GBtRaUnUH/Gfcz5dE/V6RvK8nGZnrNwg/Qdcq0Q/jB8yfP/8lmmfM3+QiwN9Kn5sIwA0UsVPcLBzPTASyWXDruN+xduuJHTabDR7AwewA2G61PT6kT2Bw9p3CLmThdI73JJvFyDr0m2Bq0fkFytb1ADekLF0F9F8aGRk5YdKkScXDfKczWXLUU0qi//OQT6DtAW3NVTGpzz3dtNs7g9rQpIbW8BMyWCy3wEKI7/hiU9rX8UkZRuiXjvsnS+mGUthzAUp0VeiI8b9grm8chzBGUBHg8859lkgRtR0AEtCUiBH3cTqiwaKndR747889Ox0Z3rp9r06NvsUst/J66FZrWd169RcGv74yftmyZTSeDtF73ANE55QdjEHb0ePHjzeW8GJlHfFm4YU/qewJ7fNUk5ZThrTfkZNnCqzup90bu//8DaqPCAkIyyuw1Knlr3s7dML2KKiXKJ5W8B7LxPaYh/oowvhcZOP9AvE4mz+jIgAcyMX/JM8gNsdzPxTN+LO74EeZ6zO2CXwWcle5XBiOyUtwSVH2KYwxg8ZyA3/3908TrWaLwWR0u3FJtC4AP7fb8Og53iZg87w+r6NY6+1ZzRr+h2N3p/Xs9PxkNnLkyHwO1GIUE8sxt5fh/pbVrl17KdoaS1nRIvC7Vq9evYtf+40YMeJFlB2FFQ7CPSUV2tM95FaL7VEfxregaxjrck5OTlfuMfZC7E+JXG/usnWoj9q/NHwWQP+I9NyXcrXlyrjTglcZFd46LLRTo2h4UFP41Pj6UuBJD7E/uF8V3DB9m3iXVz2Nx0kYp+GqVate4R6yG392DLwT87ARY2eiT9revuDPboLbcW+aA06G3GLIHYZcHh2VuTekHAqlx39xT17m0fcTL/4y1fn7vonO9PhxzuNbRzoPxQxzHlz7qnPfqpede5a9NKekiQfwfcBOL5w59oXWxSL4NWvW+EOhNGfZlNqzZ8/yuDKR3vaonyY+4PeR0nuJ3GlefXrv3r29JP25PdywYcM0uM/i9UISalfkc2PA2eCvPXXaHfVi8qGNw8VxE72NS++Gqnck4/XCODqUayR11ziLtIbLhHiZL6ncGcj5orSCHbzOwe/3uaN6yq8XOZrRmdxqdUfriOwt3ib96TYNaDWN8PLI7Oejmb182+li5+7hw4ff02q1owcPHrwXt9VKwbQNgBgEKyjvRxkD+syWbsG8TBJ3tBLa3RbLXr167cXEnOCeIQL9zYmJiSnEYg2SnD5mCuAevryV36cUSVSEtqrftGWjhv61/IsNhP4Gi9fR0dEBEmu3YpwrGIc81DBet3758uUb6GLs2LEkR7+LHAaZtR4Z0KNouxvlSXQ/EmVfOjJDrgXqZ6JuFHf1F3G/kjyU2+2cjBuTaLVYDBY6jhH4kjM5HecQuK1ZtPHkNx7voZ036qme2bmm6cXScHr1iv3Hro6J3JjKuj5Zf6BkgimKP3Do1I3bmOB54iSWQtcjIiLab968+UY5XH1JNAOLZz7EyGt96OlyJa74AKq7434AP3oKWzbqNqOOFl8EReHQ5XHolOE5SP+QVpTObvX9qqEfYE4G+1fTReubT39V6upLIHLVGzDOFMguxfV4MYwICgrKpIvk5GRqv5TX0zv8DE4UnQfa7uPvQttUsrQedWRg5DoTcN+ryDneWGB0W7fL0gE4jmcUvVO0jmkaCJD7eSjsjxf0LZaC06kPHTx5bQaBToR2sfwR/WyaDvV9eoyP27N9+/YPBwwYECzZx7wRfaefHR4ePhbyZVn8Vc4iUfDUlMbDOFvKG7RhnO2Q/425AtbJuE7g1kb0ozfQ+/Zo5bNz3Zt9mEY105hr7Kiw22PXbTo61kMsi8cO4k+QyYt+v2HDhj3Vq1dfw+s6SeTXA3Axk1kgqff8kGWSXGs8AmNpnaZYAkcAnp/FRSt38uMZt41qALlaOebtdlL69Qmff3virliBdp4uVQiCAKYtPj5+VFhY2BHc1iilzzFxcXHrsFqPlDH2ph9++GGReJOfn99u0KBB62hhoT1lMDLK8+EHeolHIHKLndF2mmRLWuLZuLfhsYAfY8e8lpV5Z7bS6biw7ce0yXa7c9HoWcUW6nHotw3vO4/nLmgeYhcuXLgtPT1dlLF6AOeQHFUv8sVyo6REHCvn7yjdQsZCi+uzKqJ5SsY4HRX6CObUa1XzPlt//FiRrypalcg+vHR/Wu3fv/9ZFAtZ2V/dloSGhvqWIZOF/m6IPGfOHIrwz/FnLSSTyNCXmpfipBahffv2RXMLJRK3snOoL5I5NAQFtN29ZczKa5duzc7Jyo3fGHe874iZcd5AFywVeq1CH+SqKRahIGBrWlraaFEfiXEQ0db6JhbeMDCdnN5nrh+hHHtAXESc7fyd/dwrxWI2M4fd6QJcUbFzrU6jij9+9nYxi0DdAX6ZyjNV0gCMHThw4BODwRDEg5KSqEtCQsJb3bt3/xLyJcm0Qj/uvZT/JLszvz3Fz8ICoa9h6OsIymaS9LE04i6A1dNRS5pOW4J6d1DVtf2jNRNjR8efS81omJtz71u73f7a3MgE1rp5HT13I6YzF7OZl76XQzcVVJ3DU9ZfQQ8b9FnLj8XPcSsm3XdPmTKFti9feCIKBgfz/d3xANAU8rIOzQ/GCnRDHPtJn1/h0oMrmszQalRXT13IbvvBysPZFWmflJTUDIHMEcn+V1Iypy1c/pkHDO7+wF5JE3YLY6TxRAfjLrO+VA30/bTE6n1DQkJo0mvRHos+GgQHB98Tn+emze5z/sLNXXl38ljunfyJiIu0dWv5KZwEuVPQK3NC5MHv0s9n0UoN9uwf7/wu9Jkt0Yei7018O3lZkuSi4K+eJMVr4FvPfl4Xgn5/4nPRw7MedVM9FvAp9X3glJRmrFtR4H/LyHm3oqATYUIvSaPuEohc8luSI5A05emNzMeOHTtPfaJ/YRNNSUn5tGPHjm/wPZYW/u+Svi9JGw8dOtSYmZlJQR55ozgp6ETpqRfvmArMt+gHJyqFYqFap1HkFZpd3ypcwLMJA9vs5P3W9ewf/S2GPmroM4K7Y3LlKdB5OMp7qO/OP2hRUHYR9RSj0LEtHc/aSN5bGvgVeNaj3UbIPy/J9J2Q/mmyAfsLP3KYEpV06a+mQE+ePEn6DClDrFq7du1WeLRrVoLsFcjavIxTh28rl/lJg6g6RceQv962bVuyQA3k6FckG8mQUlNTn8Kzo0WCjkkGPU49L3FL41GKU/RCxLlTopJ3oh9xboX+vejTTLIXF0DmBq8nw2wsyqH+kqSNXvLN4zqemcqop9OB+CPW/fL3Su95geng9ZIs2AF5Vv4/gN/CAc8Dnzx79myD/7V3VMswF6eMjIz19MGGbwVfBQYGFsizIpNMMskkk0wyySSTTDLJJNPfgP4rwAAac5xZmi8mLQAAAABJRU5ErkJggg==",Wm=cr.create({baseURL:ro,headers:{"Content-Type":"application/json"}});Wm.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const FT={getOverview:async()=>(await Wm.get("/dashboard/overview/")).data,getStats:async()=>(await Wm.get("/dashboard/stats/")).data,getCharts:async()=>(await Wm.get("/dashboard/charts/")).data,getRecentActivities:async()=>{var t,r;const e=await Wm.get("/dashboard/recent-activities/");return console.log("=== API Response ==="),console.log("Full response:",e.data),console.log("Recent Orders count:",(t=e.data.recent_orders)==null?void 0:t.length),((r=e.data.recent_orders)==null?void 0:r.length)>0&&(console.log("First order:",e.data.recent_orders[0]),console.log("First order items:",e.data.recent_orders[0].items)),e.data},getQuickStats:async()=>(await Wm.get("/dashboard/quick-stats/")).data},$T={all:["dashboard"],overview:["dashboard","overview"],stats:["dashboard","stats"],charts:["dashboard","charts"],recentActivities:["dashboard","recent-activities"],quickStats:["dashboard","quick-stats"]},Hpe=()=>_s({queryKey:$T.overview,queryFn:FT.getOverview,staleTime:60*1e3,refetchInterval:5*60*1e3}),zW=()=>_s({queryKey:$T.recentActivities,queryFn:FT.getRecentActivities,staleTime:30*1e3}),qpe=()=>_s({queryKey:$T.quickStats,queryFn:FT.getQuickStats,staleTime:60*1e3});function Gpe({isCollapsed:e,onToggle:t,className:r,isMobileOpen:s=!1}){const a=lc(),i=VW(),{theme:o,setTheme:l}=Wp(),c=o==="dark",{data:d,isLoading:u}=qpe(),f=()=>{l(c?"light":"dark")},m=v.useMemo(()=>{var b,N,S;const p=((b=d==null?void 0:d.active_apartments)==null?void 0:b.value)??0,g=((N=d==null?void 0:d.deliveries_this_week)==null?void 0:N.value)??0,j=((S=d==null?void 0:d.open_issues)==null?void 0:S.value)??0,y=(d==null?void 0:d.total_clients)??0,w=(d==null?void 0:d.total_vendors)??0;return{totalApartments:p,pendingDeliveries:g,openIssues:j,totalClients:y,totalVendors:w}},[d]),h=[{title:"Main",items:[{title:"Overview",icon:f7,href:"/overview",color:"text-blue-500"}]},{title:"Management",items:[{title:"Clients",icon:Qc,href:"/clients",color:"text-violet-500"},{title:"Apartments",icon:_k,href:"/apartments",color:"text-emerald-500"},{title:"Orders",icon:ws,href:"/orders",color:"text-orange-500"},{title:"Deliveries",icon:_r,href:"/deliveries",badge:m.pendingDeliveries>0?m.pendingDeliveries:void 0,color:"text-cyan-500"},{title:"Payments",icon:bs,href:"/payments",color:"text-green-500"},{title:"Issues",icon:Et,href:"/issues",badge:m.openIssues>0?m.openIssues:void 0,color:"text-red-500"},{title:"Vendors",icon:La,href:"/vendors",color:"text-amber-500"}]},{title:"System",items:[{title:"Automations",icon:f0,href:"/automations",color:"text-yellow-500"},{title:"Settings",icon:Bv,href:"/settings",color:"text-slate-500"}]}],x=({item:p,isActive:g})=>{const j=n.jsxs(Yi,{to:p.href,className:ve("group relative flex items-center gap-3 rounded-xl px-3 py-2.5 transition-all duration-300 ease-out","hover:bg-gradient-to-r hover:from-sidebar-accent hover:to-sidebar-accent/50",g?"bg-gradient-to-r from-primary/15 to-primary/5 text-primary shadow-sm":"text-sidebar-foreground/80 hover:text-sidebar-foreground",e&&!i&&"justify-center px-2.5"),children:[n.jsxs("div",{className:ve("relative flex items-center justify-center transition-transform duration-300","group-hover:scale-110",g&&"scale-110"),children:[n.jsx(p.icon,{className:ve("h-[18px] w-[18px] shrink-0 transition-colors duration-300",g?"text-primary":p.color||"text-sidebar-foreground/70","group-hover:text-primary")}),g&&n.jsx("div",{className:ve("absolute inset-0 blur-lg opacity-50",p.color||"bg-primary")})]}),n.jsx("span",{className:ve("text-sm font-medium transition-all duration-300 whitespace-nowrap",e&&!i?"opacity-0 w-0 hidden":"opacity-100",g&&"font-semibold"),children:p.title}),p.badge&&!e&&n.jsx("span",{className:ve("ml-auto flex h-5 min-w-5 items-center justify-center rounded-full px-1.5","text-[10px] font-semibold","bg-primary/10 text-primary","animate-pulse"),children:p.badge}),p.badge&&e&&!i&&n.jsx("span",{className:"absolute -top-0.5 -right-0.5 h-2 w-2 rounded-full bg-primary animate-pulse"})]});return e&&!i?n.jsxs(boe,{delayDuration:0,children:[n.jsx(woe,{asChild:!0,children:j}),n.jsxs(aU,{side:"right",sideOffset:12,className:"z-[100] flex items-center gap-2 bg-popover/95 backdrop-blur-sm shadow-lg border-border/50",children:[p.title,p.badge&&n.jsx("span",{className:"flex h-5 min-w-5 items-center justify-center rounded-full bg-primary/10 text-primary text-[10px] font-semibold px-1.5",children:p.badge})]})]}):j};return n.jsx(sU,{delayDuration:0,children:n.jsxs("aside",{className:ve("fixed top-0 left-0 flex flex-col h-screen","bg-gradient-to-b from-sidebar via-sidebar to-sidebar/95","border-r border-sidebar-border/50","transition-all duration-300 ease-out","backdrop-blur-xl",i?ve("w-72 z-50 shadow-2xl",s?"translate-x-0":"-translate-x-full"):ve(e?"w-[72px]":"w-72","z-40"),r),children:[n.jsxs("div",{className:ve("flex items-center shrink-0 relative","h-16 px-4","border-b border-sidebar-border/50","bg-gradient-to-r from-sidebar to-sidebar/80"),children:[n.jsx("div",{className:ve("flex items-center gap-3 transition-all duration-300",e&&!i?"justify-center w-full":""),children:n.jsx("div",{className:ve("relative flex items-center justify-center","transition-all duration-300",e&&!i?"w-10 h-10":"w-auto h-10"),children:n.jsx("img",{src:c?Wpe:zpe,alt:"Buy2Rent",className:ve("transition-all duration-300 object-contain",e&&!i?"h-8 w-8":"h-9 max-w-[160px]")})})}),!i&&n.jsx(te,{variant:"outline",size:"icon",onClick:t,className:ve("absolute -right-4 top-1/2 -translate-y-1/2 z-50","h-7 w-7 rounded-full","bg-background border-2 border-border shadow-lg","hover:bg-primary hover:text-primary-foreground hover:border-primary","hover:scale-110","transition-all duration-300","flex items-center justify-center"),children:e?n.jsx(gu,{className:"h-4 w-4"}):n.jsx(Sk,{className:"h-4 w-4"})})]}),n.jsx(Mu,{className:"flex-1 py-1",children:n.jsx("nav",{className:"px-3 ",children:h.map((p,g)=>n.jsx("div",{children:n.jsx("div",{className:"",children:p.items.map((j,y)=>{const w=a.pathname===j.href||j.href!=="/overview"&&a.pathname.startsWith(j.href+"/");return n.jsx(x,{item:j,isActive:w},y)})})},g))})}),n.jsxs("div",{className:ve("mt-auto shrink-0","border-t border-sidebar-border/50","bg-gradient-to-t from-sidebar/50 to-transparent"),children:[n.jsx("div",{className:ve("p-3",e&&!i?"px-2":"px-4"),children:n.jsxs("button",{onClick:f,className:ve("w-full flex items-center gap-3 rounded-xl p-2.5 transition-all duration-300","bg-sidebar-accent/30 hover:bg-sidebar-accent/50","group",e&&!i&&"justify-center"),children:[n.jsxs("div",{className:ve("relative flex items-center justify-center","h-8 w-8 rounded-lg","bg-gradient-to-br transition-all duration-500",c?"from-indigo-500/20 to-purple-500/20":"from-amber-500/20 to-orange-500/20","group-hover:scale-110"),children:[n.jsx(Uv,{className:ve("h-4 w-4 absolute transition-all duration-500",c?"opacity-0 rotate-90 scale-0":"opacity-100 rotate-0 scale-100 text-amber-500")}),n.jsx(Lv,{className:ve("h-4 w-4 absolute transition-all duration-500",c?"opacity-100 rotate-0 scale-100 text-indigo-400":"opacity-0 -rotate-90 scale-0")})]}),(!e||i)&&n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("p",{className:"text-xs font-medium text-sidebar-foreground",children:c?"Dark Mode":"Light Mode"}),n.jsx("p",{className:"text-[10px] text-sidebar-foreground/50",children:"Click to switch"})]})]})}),(!e||i)&&n.jsx("div",{className:"p-4 pt-0",children:n.jsxs("div",{className:ve("relative overflow-hidden rounded-xl p-4","bg-gradient-to-br from-primary/10 via-primary/5 to-transparent","border border-primary/10"),children:[n.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full blur-2xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-primary/5 rounded-full blur-xl"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg bg-primary/10",children:n.jsx(Ec,{className:"h-3.5 w-3.5 text-primary"})}),n.jsx("span",{className:"text-xs font-semibold text-sidebar-foreground",children:"Project Overview"})]}),n.jsxs("div",{className:"space-y-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("span",{className:"text-2xl font-bold text-sidebar-foreground",children:m.totalApartments}),n.jsx("span",{className:"text-xs text-sidebar-foreground/60",children:"Apartments"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-sidebar-border/30",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(_r,{className:"h-3 w-3 text-cyan-500"}),n.jsxs("span",{className:"text-[10px] text-sidebar-foreground/70",children:[n.jsx("span",{className:"font-semibold text-sidebar-foreground",children:m.pendingDeliveries})," Deliveries"]})]}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Et,{className:"h-3 w-3 text-red-500"}),n.jsxs("span",{className:"text-[10px] text-sidebar-foreground/70",children:[n.jsx("span",{className:"font-semibold text-sidebar-foreground",children:m.openIssues})," Issues"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-sidebar-border/30",children:[n.jsxs("p",{className:"text-[10px] text-sidebar-foreground/50 flex items-center gap-1",children:[n.jsx(Qc,{className:"h-3 w-3"}),m.totalClients," Clients"]}),n.jsxs("p",{className:"text-[10px] text-sidebar-foreground/50 flex items-center gap-1",children:[n.jsx(La,{className:"h-3 w-3"}),m.totalVendors," Vendors"]})]})]})]})]})})]})]})})}function ct({children:e,title:t,subtitle:r,actions:s,fullWidth:a=!1,noPadding:i=!1}){const o=VW(),[l,c]=v.useState(()=>localStorage.getItem("sidebarCollapsed")==="true"),[d,u]=v.useState(!1);V.useEffect(()=>{const m=h=>{c(h.detail.collapsed)};return window.addEventListener("sidebarPreferenceChanged",m),()=>{window.removeEventListener("sidebarPreferenceChanged",m)}},[]);const f=()=>{o?u(m=>!m):c(m=>{const h=!m;return localStorage.setItem("sidebarCollapsed",String(h)),h})};return n.jsxs("div",{className:"h-screen flex bg-background overflow-hidden",children:[o&&d&&n.jsx("div",{className:ve("fixed inset-0 z-40 lg:hidden","bg-background/80 backdrop-blur-sm","animate-in fade-in-0 duration-200"),onClick:()=>u(!1)}),n.jsx(Gpe,{isCollapsed:l,onToggle:f,isMobileOpen:d}),n.jsxs("div",{className:ve("flex-1 flex flex-col min-w-0 w-full lg:w-auto h-screen","transition-all duration-300 ease-out","relative z-10"),style:{marginLeft:o?0:l?"72px":"288px"},children:[n.jsx(Vpe,{onMenuToggle:f}),n.jsx("main",{className:"flex-1 overflow-y-auto overflow-x-hidden bg-gradient-to-br from-background via-background to-muted/20",children:n.jsxs("div",{className:ve("animate-in fade-in-0  slide-in-from-bottom-4 duration-500",!i&&"p-4 lg:p-6 xl:p-8",!a&&"max-w-[1600px] mx-auto"),children:[(t||s)&&n.jsxs("div",{className:ve("flex flex-col sm:flex-row sm:items-center justify-between gap-4","mb-6 lg:mb-8"),children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h1",{className:ve("text-2xl lg:text-3xl font-bold tracking-tight","bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text"),children:t}),r&&n.jsx("p",{className:"text-sm text-muted-foreground",children:r})]}),s&&n.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:s})]}),n.jsx("div",{className:"relative",children:e})]})})]})]})}const X=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ve("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));X.displayName="Card";const be=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ve("flex flex-col space-y-1.5 p-6",e),...t}));be.displayName="CardHeader";const Ve=v.forwardRef(({className:e,...t},r)=>n.jsx("h3",{ref:r,className:ve("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ve.displayName="CardTitle";const Dr=v.forwardRef(({className:e,...t},r)=>n.jsx("p",{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));Dr.displayName="CardDescription";const Q=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ve("p-6 pt-0",e),...t}));Q.displayName="CardContent";const Kpe=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ve("flex items-center p-6 pt-0",e),...t}));Kpe.displayName="CardFooter";function Ux({title:e,value:t,icon:r,trend:s,className:a}){return n.jsx(X,{className:ve("overflow-hidden",a),children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:e}),n.jsx("p",{className:"text-3xl font-bold",children:t}),s&&n.jsxs("p",{className:ve("text-xs font-medium",s.value>0?"text-success":s.value<0?"text-danger":"text-muted-foreground"),children:[s.value>0?"+":"",s.value,"% ",s.label]})]}),n.jsx("div",{className:"p-3 rounded-2xl bg-primary/10",children:n.jsx(r,{className:"h-6 w-6 text-primary"})})]})})})}const Ype=Vp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ce({className:e,variant:t,...r}){return n.jsx("div",{className:ve(Ype({variant:t}),e),...r})}function Ct(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function zr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Gs(e,t){const r=Ct(e);return isNaN(t)?zr(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Ao(e,t){const r=Ct(e);if(isNaN(t))return zr(e,NaN);if(!t)return r;const s=r.getDate(),a=zr(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return s>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}const LT=6048e5,Xpe=864e5,Qpe=6e4,Zpe=36e5,Jpe=1e3,hj=43200,wR=1440;let exe={};function Fu(){return exe}function Xi(e,t){var l,c,d,u;const r=Fu(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Ct(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function rd(e){return Xi(e,{weekStartsOn:1})}function WW(e){const t=Ct(e),r=t.getFullYear(),s=zr(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=rd(s),i=zr(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=rd(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function sp(e){const t=Ct(e);return t.setHours(0,0,0,0),t}function _u(e){const t=Ct(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function el(e,t){const r=sp(e),s=sp(t),a=+r-_u(r),i=+s-_u(s);return Math.round((a-i)/Xpe)}function txe(e){const t=WW(e),r=zr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),rd(r)}function NE(e,t){const r=t*7;return Gs(e,r)}function rxe(e,t){return Ao(e,t*12)}function nxe(e){let t;return e.forEach(function(r){const s=Ct(r);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function sxe(e){let t;return e.forEach(r=>{const s=Ct(r);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function fb(e,t){const r=Ct(e),s=Ct(t),a=r.getTime()-s.getTime();return a<0?-1:a>0?1:a}function axe(e){return zr(e,Date.now())}function ri(e,t){const r=sp(e),s=sp(t);return+r==+s}function BT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ixe(e){if(!BT(e)&&typeof e!="number")return!1;const t=Ct(e);return!isNaN(Number(t))}function ap(e,t){const r=Ct(e),s=Ct(t),a=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return a*12+i}function oxe(e,t,r){const s=Xi(e,r),a=Xi(t,r),i=+s-_u(s),o=+a-_u(a);return Math.round((i-o)/LT)}function pj(e,t){const r=Ct(e),s=Ct(t),a=NR(r,s),i=Math.abs(el(r,s));r.setDate(r.getDate()-a*i);const o=+(NR(r,s)===-a),l=a*(i-o);return l===0?0:l}function NR(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function lxe(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}function cxe(e,t){return+Ct(e)-+Ct(t)}function dxe(e){const t=Ct(e);return t.setHours(23,59,59,999),t}function XN(e){const t=Ct(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function uxe(e){const t=Ct(e);return+dxe(t)==+XN(t)}function fxe(e,t){const r=Ct(e),s=Ct(t),a=fb(r,s),i=Math.abs(ap(r,s));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=fb(r,s)===-a;uxe(Ct(e))&&i===1&&fb(e,s)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function mxe(e,t,r){const s=cxe(e,t)/1e3;return lxe(r==null?void 0:r.roundingMethod)(s)}function fi(e){const t=Ct(e);return t.setDate(1),t.setHours(0,0,0,0),t}function HW(e){const t=Ct(e),r=zr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function UT(e,t){var l,c,d,u;const r=Fu(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Ct(e),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function qW(e){return UT(e,{weekStartsOn:1})}const hxe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pxe=(e,t,r)=>{let s;const a=hxe[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function wS(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const xxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gxe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vxe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yxe={date:wS({formats:xxe,defaultWidth:"full"}),time:wS({formats:gxe,defaultWidth:"full"}),dateTime:wS({formats:vxe,defaultWidth:"full"})},jxe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bxe=(e,t,r,s)=>jxe[e];function Vx(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const wxe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Nxe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_xe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Sxe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Cxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Exe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Axe=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Pxe={ordinalNumber:Axe,era:Vx({values:wxe,defaultWidth:"wide"}),quarter:Vx({values:Nxe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Vx({values:_xe,defaultWidth:"wide"}),day:Vx({values:Sxe,defaultWidth:"wide"}),dayPeriod:Vx({values:Cxe,defaultWidth:"wide",formattingValues:Exe,defaultFormattingWidth:"wide"})};function zx(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Txe(l,f=>f.test(o)):kxe(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function kxe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Txe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Oxe(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Dxe=/^(\d+)(th|st|nd|rd)?/i,Ixe=/\d+/i,Rxe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mxe={any:[/^b/i,/^(a|c)/i]},Fxe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$xe={any:[/1/i,/2/i,/3/i,/4/i]},Lxe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Bxe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Uxe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Vxe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zxe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Wxe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Hxe={ordinalNumber:Oxe({matchPattern:Dxe,parsePattern:Ixe,valueCallback:e=>parseInt(e,10)}),era:zx({matchPatterns:Rxe,defaultMatchWidth:"wide",parsePatterns:Mxe,defaultParseWidth:"any"}),quarter:zx({matchPatterns:Fxe,defaultMatchWidth:"wide",parsePatterns:$xe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:zx({matchPatterns:Lxe,defaultMatchWidth:"wide",parsePatterns:Bxe,defaultParseWidth:"any"}),day:zx({matchPatterns:Uxe,defaultMatchWidth:"wide",parsePatterns:Vxe,defaultParseWidth:"any"}),dayPeriod:zx({matchPatterns:zxe,defaultMatchWidth:"any",parsePatterns:Wxe,defaultParseWidth:"any"})},QN={code:"en-US",formatDistance:pxe,formatLong:yxe,formatRelative:bxe,localize:Pxe,match:Hxe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qxe(e){const t=Ct(e);return el(t,HW(t))+1}function VT(e){const t=Ct(e),r=+rd(t)-+txe(t);return Math.round(r/LT)+1}function zT(e,t){var u,f,m,h;const r=Ct(e),s=r.getFullYear(),a=Fu(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(m=a.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,o=zr(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=Xi(o,t),c=zr(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=Xi(c,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function Gxe(e,t){var l,c,d,u;const r=Fu(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=zT(e,t),i=zr(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),Xi(i,t)}function WT(e,t){const r=Ct(e),s=+Xi(r,t)-+Gxe(r,t);return Math.round(s/LT)+1}function Tr(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const _d={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return Tr(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Tr(r+1,2)},d(e,t){return Tr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Tr(e.getHours()%12||12,t.length)},H(e,t){return Tr(e.getHours(),t.length)},m(e,t){return Tr(e.getMinutes(),t.length)},s(e,t){return Tr(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return Tr(a,t.length)}},Im={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_R={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return _d.y(e,t)},Y:function(e,t,r,s){const a=zT(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Tr(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Tr(i,t.length)},R:function(e,t){const r=WW(e);return Tr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Tr(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Tr(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Tr(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return _d.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Tr(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=WT(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Tr(a,t.length)},I:function(e,t,r){const s=VT(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):Tr(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):_d.d(e,t)},D:function(e,t,r){const s=qxe(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Tr(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Tr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Tr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return Tr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=Im.noon:s===0?a=Im.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=Im.evening:s>=12?a=Im.afternoon:s>=4?a=Im.morning:a=Im.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return _d.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):_d.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Tr(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):Tr(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):_d.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):_d.s(e,t)},S:function(e,t){return _d.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return CR(s);case"XXXX":case"XX":return Ju(s);case"XXXXX":case"XXX":default:return Ju(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return CR(s);case"xxxx":case"xx":return Ju(s);case"xxxxx":case"xxx":default:return Ju(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+SR(s,":");case"OOOO":default:return"GMT"+Ju(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+SR(s,":");case"zzzz":default:return"GMT"+Ju(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return Tr(s,t.length)},T:function(e,t,r){const s=e.getTime();return Tr(s,t.length)}};function SR(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+t+Tr(i,2)}function CR(e,t){return e%60===0?(e>0?"-":"+")+Tr(Math.abs(e)/60,2):Ju(e,t)}function Ju(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Tr(Math.trunc(s/60),2),i=Tr(s%60,2);return r+a+t+i}const ER=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},GW=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Kxe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return ER(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",ER(s,t)).replace("{{time}}",GW(a,t))},_E={p:GW,P:Kxe},Yxe=/^D+$/,Xxe=/^Y+$/,Qxe=["D","DD","YY","YYYY"];function KW(e){return Yxe.test(e)}function YW(e){return Xxe.test(e)}function SE(e,t,r){const s=Zxe(e,t,r);if(console.warn(s),Qxe.includes(e))throw new RangeError(s)}function Zxe(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Jxe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ege=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tge=/^'([^]*?)'?$/,rge=/''/g,nge=/[a-zA-Z]/;function Xt(e,t,r){var u,f,m,h,x,p,g,j;const s=Fu(),a=(r==null?void 0:r.locale)??s.locale??QN,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(m=s.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:p.weekStartsOn)??s.weekStartsOn??((j=(g=s.locale)==null?void 0:g.options)==null?void 0:j.weekStartsOn)??0,l=Ct(e);if(!ixe(l))throw new RangeError("Invalid time value");let c=t.match(ege).map(y=>{const w=y[0];if(w==="p"||w==="P"){const b=_E[w];return b(y,a.formatLong)}return y}).join("").match(Jxe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:sge(y)};if(_R[w])return{isToken:!0,value:y};if(w.match(nge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&YW(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&KW(w))&&SE(w,t,String(e));const b=_R[w[0]];return b(l,w,a.localize,d)}).join("")}function sge(e){const t=e.match(tge);return t?t[1].replace(rge,"'"):e}function age(e,t,r){const s=Fu(),a=(r==null?void 0:r.locale)??s.locale??QN,i=2520,o=fb(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=Ct(t),d=Ct(e)):(c=Ct(e),d=Ct(t));const u=mxe(d,c),f=(_u(d)-_u(c))/1e3,m=Math.round((u-f)/60);let h;if(m<2)return r!=null&&r.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<wR){const x=Math.round(m/60);return a.formatDistance("aboutXHours",x,l)}else{if(m<i)return a.formatDistance("xDays",1,l);if(m<hj){const x=Math.round(m/wR);return a.formatDistance("xDays",x,l)}else if(m<hj*2)return h=Math.round(m/hj),a.formatDistance("aboutXMonths",h,l)}if(h=fxe(d,c),h<12){const x=Math.round(m/hj);return a.formatDistance("xMonths",x,l)}else{const x=h%12,p=Math.trunc(h/12);return x<3?a.formatDistance("aboutXYears",p,l):x<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function ige(e,t){return age(e,axe(e),t)}function oge(e){const t=Ct(e),r=t.getFullYear(),s=t.getMonth(),a=zr(e,0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}function lge(){return Object.assign({},Fu())}function cge(e){let r=Ct(e).getDay();return r===0&&(r=7),r}function dge(e){return Math.trunc(+Ct(e)/1e3)}function uge(e){const t=Ct(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function fge(e,t){return oxe(uge(e),fi(e),t)+1}function CE(e,t){const r=Ct(e),s=Ct(t);return r.getTime()>s.getTime()}function XW(e,t){const r=Ct(e),s=Ct(t);return+r<+s}function mge(e,t){const r=t instanceof Date?zr(t,0):new t(0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}const hge=10;class QW{constructor(){ht(this,"subPriority",0)}validate(t,r){return!0}}class pge extends QW{constructor(t,r,s,a,i){super(),this.value=t,this.validateValue=r,this.setValue=s,this.priority=a,i&&(this.subPriority=i)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,s){return this.setValue(t,r,this.value,s)}}class xge extends QW{constructor(){super(...arguments);ht(this,"priority",hge);ht(this,"subPriority",-1)}set(r,s){return s.timestampIsSet?r:zr(r,mge(r,Date))}}class Sr{run(t,r,s,a){const i=this.parse(t,r,s,a);return i?{setter:new pge(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,r,s){return!0}}class gge extends Sr{constructor(){super(...arguments);ht(this,"priority",140);ht(this,"incompatibleTokens",["R","u","t","T"])}parse(r,s,a){switch(s){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,s,a){return s.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const Kn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},zl={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Yn(e,t){return e&&{value:t(e.value),rest:e.rest}}function _n(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Wl(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const s=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:s*(a*Zpe+i*Qpe+o*Jpe),rest:t.slice(r[0].length)}}function ZW(e){return _n(Kn.anyDigitsSigned,e)}function Bn(e,t){switch(e){case 1:return _n(Kn.singleDigit,t);case 2:return _n(Kn.twoDigits,t);case 3:return _n(Kn.threeDigits,t);case 4:return _n(Kn.fourDigits,t);default:return _n(new RegExp("^\\d{1,"+e+"}"),t)}}function b1(e,t){switch(e){case 1:return _n(Kn.singleDigitSigned,t);case 2:return _n(Kn.twoDigitsSigned,t);case 3:return _n(Kn.threeDigitsSigned,t);case 4:return _n(Kn.fourDigitsSigned,t);default:return _n(new RegExp("^-?\\d{1,"+e+"}"),t)}}function HT(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function JW(e,t){const r=t>0,s=r?t:1-t;let a;if(s<=50)a=e||100;else{const i=s+50,o=Math.trunc(i/100)*100,l=e>=i%100;a=e+o-(l?100:0)}return r?a:1-a}function eH(e){return e%400===0||e%4===0&&e%100!==0}class vge extends Sr{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,s,a){const i=o=>({year:o,isTwoDigitYear:s==="yy"});switch(s){case"y":return Yn(Bn(4,r),i);case"yo":return Yn(a.ordinalNumber(r,{unit:"year"}),i);default:return Yn(Bn(s.length,r),i)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,a){const i=r.getFullYear();if(a.isTwoDigitYear){const l=JW(a.year,i);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const o=!("era"in s)||s.era===1?a.year:1-a.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class yge extends Sr{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,s,a){const i=o=>({year:o,isTwoDigitYear:s==="YY"});switch(s){case"Y":return Yn(Bn(4,r),i);case"Yo":return Yn(a.ordinalNumber(r,{unit:"year"}),i);default:return Yn(Bn(s.length,r),i)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,a,i){const o=zT(r,i);if(a.isTwoDigitYear){const c=JW(a.year,o);return r.setFullYear(c,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Xi(r,i)}const l=!("era"in s)||s.era===1?a.year:1-a.year;return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Xi(r,i)}}class jge extends Sr{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,s){return b1(s==="R"?4:s.length,r)}set(r,s,a){const i=zr(r,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),rd(i)}}class bge extends Sr{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,s){return b1(s==="u"?4:s.length,r)}set(r,s,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class wge extends Sr{constructor(){super(...arguments);ht(this,"priority",120);ht(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,a){switch(s){case"Q":case"QQ":return Bn(s.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=1&&s<=4}set(r,s,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class Nge extends Sr{constructor(){super(...arguments);ht(this,"priority",120);ht(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,a){switch(s){case"q":case"qq":return Bn(s.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=1&&s<=4}set(r,s,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class _ge extends Sr{constructor(){super(...arguments);ht(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ht(this,"priority",110)}parse(r,s,a){const i=o=>o-1;switch(s){case"M":return Yn(_n(Kn.month,r),i);case"MM":return Yn(Bn(2,r),i);case"Mo":return Yn(a.ordinalNumber(r,{unit:"month"}),i);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=11}set(r,s,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class Sge extends Sr{constructor(){super(...arguments);ht(this,"priority",110);ht(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,s,a){const i=o=>o-1;switch(s){case"L":return Yn(_n(Kn.month,r),i);case"LL":return Yn(Bn(2,r),i);case"Lo":return Yn(a.ordinalNumber(r,{unit:"month"}),i);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=11}set(r,s,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function Cge(e,t,r){const s=Ct(e),a=WT(s,r)-t;return s.setDate(s.getDate()-a*7),s}class Ege extends Sr{constructor(){super(...arguments);ht(this,"priority",100);ht(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,s,a){switch(s){case"w":return _n(Kn.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return Bn(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,a,i){return Xi(Cge(r,a,i),i)}}function Age(e,t){const r=Ct(e),s=VT(r)-t;return r.setDate(r.getDate()-s*7),r}class Pge extends Sr{constructor(){super(...arguments);ht(this,"priority",100);ht(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,s,a){switch(s){case"I":return _n(Kn.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return Bn(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,a){return rd(Age(r,a))}}const kge=[31,28,31,30,31,30,31,31,30,31,30,31],Tge=[31,29,31,30,31,30,31,31,30,31,30,31];class Oge extends Sr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"subPriority",1);ht(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,s,a){switch(s){case"d":return _n(Kn.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return Bn(s.length,r)}}validate(r,s){const a=r.getFullYear(),i=eH(a),o=r.getMonth();return i?s>=1&&s<=Tge[o]:s>=1&&s<=kge[o]}set(r,s,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class Dge extends Sr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"subpriority",1);ht(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,s,a){switch(s){case"D":case"DD":return _n(Kn.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return Bn(s.length,r)}}validate(r,s){const a=r.getFullYear();return eH(a)?s>=1&&s<=366:s>=1&&s<=365}set(r,s,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function qT(e,t,r){var f,m,h,x;const s=Fu(),a=(r==null?void 0:r.weekStartsOn)??((m=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??s.weekStartsOn??((x=(h=s.locale)==null?void 0:h.options)==null?void 0:x.weekStartsOn)??0,i=Ct(e),o=i.getDay(),c=(t%7+7)%7,d=7-a,u=t<0||t>6?t-(o+d)%7:(c+d)%7-(o+d)%7;return Gs(i,u)}class Ige extends Sr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,s,a){switch(s){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,a,i){return r=qT(r,a,i),r.setHours(0,0,0,0),r}}class Rge extends Sr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,s,a,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(s){case"e":case"ee":return Yn(Bn(s.length,r),o);case"eo":return Yn(a.ordinalNumber(r,{unit:"day"}),o);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,a,i){return r=qT(r,a,i),r.setHours(0,0,0,0),r}}class Mge extends Sr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,s,a,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(s){case"c":case"cc":return Yn(Bn(s.length,r),o);case"co":return Yn(a.ordinalNumber(r,{unit:"day"}),o);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=6}set(r,s,a,i){return r=qT(r,a,i),r.setHours(0,0,0,0),r}}function Fge(e,t){const r=Ct(e),s=cge(r),a=t-s;return Gs(r,a)}class $ge extends Sr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,s,a){const i=o=>o===0?7:o;switch(s){case"i":case"ii":return Bn(s.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return Yn(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return Yn(a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Yn(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Yn(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,s){return s>=1&&s<=7}set(r,s,a){return r=Fge(r,a),r.setHours(0,0,0,0),r}}class Lge extends Sr{constructor(){super(...arguments);ht(this,"priority",80);ht(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,s,a){switch(s){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,a){return r.setHours(HT(a),0,0,0),r}}class Bge extends Sr{constructor(){super(...arguments);ht(this,"priority",80);ht(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,s,a){switch(s){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,a){return r.setHours(HT(a),0,0,0),r}}class Uge extends Sr{constructor(){super(...arguments);ht(this,"priority",80);ht(this,"incompatibleTokens",["a","b","t","T"])}parse(r,s,a){switch(s){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,a){return r.setHours(HT(a),0,0,0),r}}class Vge extends Sr{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,s,a){switch(s){case"h":return _n(Kn.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return Bn(s.length,r)}}validate(r,s){return s>=1&&s<=12}set(r,s,a){const i=r.getHours()>=12;return i&&a<12?r.setHours(a+12,0,0,0):!i&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class zge extends Sr{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,s,a){switch(s){case"H":return _n(Kn.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return Bn(s.length,r)}}validate(r,s){return s>=0&&s<=23}set(r,s,a){return r.setHours(a,0,0,0),r}}class Wge extends Sr{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,s,a){switch(s){case"K":return _n(Kn.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return Bn(s.length,r)}}validate(r,s){return s>=0&&s<=11}set(r,s,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class Hge extends Sr{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,s,a){switch(s){case"k":return _n(Kn.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return Bn(s.length,r)}}validate(r,s){return s>=1&&s<=24}set(r,s,a){const i=a<=24?a%24:a;return r.setHours(i,0,0,0),r}}class qge extends Sr{constructor(){super(...arguments);ht(this,"priority",60);ht(this,"incompatibleTokens",["t","T"])}parse(r,s,a){switch(s){case"m":return _n(Kn.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return Bn(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,a){return r.setMinutes(a,0,0),r}}class Gge extends Sr{constructor(){super(...arguments);ht(this,"priority",50);ht(this,"incompatibleTokens",["t","T"])}parse(r,s,a){switch(s){case"s":return _n(Kn.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return Bn(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,a){return r.setSeconds(a,0),r}}class Kge extends Sr{constructor(){super(...arguments);ht(this,"priority",30);ht(this,"incompatibleTokens",["t","T"])}parse(r,s){const a=i=>Math.trunc(i*Math.pow(10,-s.length+3));return Yn(Bn(s.length,r),a)}set(r,s,a){return r.setMilliseconds(a),r}}class Yge extends Sr{constructor(){super(...arguments);ht(this,"priority",10);ht(this,"incompatibleTokens",["t","T","x"])}parse(r,s){switch(s){case"X":return Wl(zl.basicOptionalMinutes,r);case"XX":return Wl(zl.basic,r);case"XXXX":return Wl(zl.basicOptionalSeconds,r);case"XXXXX":return Wl(zl.extendedOptionalSeconds,r);case"XXX":default:return Wl(zl.extended,r)}}set(r,s,a){return s.timestampIsSet?r:zr(r,r.getTime()-_u(r)-a)}}class Xge extends Sr{constructor(){super(...arguments);ht(this,"priority",10);ht(this,"incompatibleTokens",["t","T","X"])}parse(r,s){switch(s){case"x":return Wl(zl.basicOptionalMinutes,r);case"xx":return Wl(zl.basic,r);case"xxxx":return Wl(zl.basicOptionalSeconds,r);case"xxxxx":return Wl(zl.extendedOptionalSeconds,r);case"xxx":default:return Wl(zl.extended,r)}}set(r,s,a){return s.timestampIsSet?r:zr(r,r.getTime()-_u(r)-a)}}class Qge extends Sr{constructor(){super(...arguments);ht(this,"priority",40);ht(this,"incompatibleTokens","*")}parse(r){return ZW(r)}set(r,s,a){return[zr(r,a*1e3),{timestampIsSet:!0}]}}class Zge extends Sr{constructor(){super(...arguments);ht(this,"priority",20);ht(this,"incompatibleTokens","*")}parse(r){return ZW(r)}set(r,s,a){return[zr(r,a),{timestampIsSet:!0}]}}const Jge={G:new gge,y:new vge,Y:new yge,R:new jge,u:new bge,Q:new wge,q:new Nge,M:new _ge,L:new Sge,w:new Ege,I:new Pge,d:new Oge,D:new Dge,E:new Ige,e:new Rge,c:new Mge,i:new $ge,a:new Lge,b:new Bge,B:new Uge,h:new Vge,H:new zge,K:new Wge,k:new Hge,m:new qge,s:new Gge,S:new Kge,X:new Yge,x:new Xge,t:new Qge,T:new Zge},e0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,t0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,r0e=/^'([^]*?)'?$/,n0e=/''/g,s0e=/\S/,a0e=/[a-zA-Z]/;function i0e(e,t,r,s){var p,g,j,y;const a=lge(),i=a.locale??QN,o=a.firstWeekContainsDate??((g=(p=a.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,l=a.weekStartsOn??((y=(j=a.locale)==null?void 0:j.options)==null?void 0:y.weekStartsOn)??0,c={firstWeekContainsDate:o,weekStartsOn:l,locale:i},d=[new xge],u=t.match(t0e).map(w=>{const b=w[0];if(b in _E){const N=_E[b];return N(w,i.formatLong)}return w}).join("").match(e0e),f=[];for(let w of u){YW(w)&&SE(w,t,e),KW(w)&&SE(w,t,e);const b=w[0],N=Jge[b];if(N){const{incompatibleTokens:S}=N;if(Array.isArray(S)){const E=f.find(A=>S.includes(A.token)||A.token===b);if(E)throw new RangeError(`The format string mustn't contain \`${E.fullToken}\` and \`${w}\` at the same time`)}else if(N.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);f.push({token:b,fullToken:w});const _=N.run(e,w,i.match,c);if(!_)return zr(r,NaN);d.push(_.setter),e=_.rest}else{if(b.match(a0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");if(w==="''"?w="'":b==="'"&&(w=o0e(w)),e.indexOf(w)===0)e=e.slice(w.length);else return zr(r,NaN)}}if(e.length>0&&s0e.test(e))return zr(r,NaN);const m=d.map(w=>w.priority).sort((w,b)=>b-w).filter((w,b,N)=>N.indexOf(w)===b).map(w=>d.filter(b=>b.priority===w).sort((b,N)=>N.subPriority-b.subPriority)).map(w=>w[0]);let h=Ct(r);if(isNaN(h.getTime()))return zr(r,NaN);const x={};for(const w of m){if(!w.validate(h,c))return zr(r,NaN);const b=w.set(h,x,c);Array.isArray(b)?(h=b[0],Object.assign(x,b[1])):h=b}return zr(r,h)}function o0e(e){return e.match(r0e)[1].replace(n0e,"'")}function GT(e,t){const r=Ct(e),s=Ct(t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function l0e(e,t){const r=Ct(e),s=Ct(t);return r.getFullYear()===s.getFullYear()}function Pc(e,t){return Gs(e,-t)}function NS(e,t){const r=Ct(e),s=r.getFullYear(),a=r.getDate(),i=zr(e,0);i.setFullYear(s,t,15),i.setHours(0,0,0,0);const o=oge(i);return r.setMonth(t,Math.min(a,o)),r}function AR(e,t){const r=Ct(e);return isNaN(+r)?zr(e,NaN):(r.setFullYear(t),r)}function c0e(e,t){return Ao(e,-t)}const PR={order:ws,"shopping-cart":ws,payment:bs,"credit-card":bs,delivery:_r,truck:_r,issue:Et,"alert-circle":Et,product:lt,package:lt,apartment:fr,building:fr,client:Qc,users:Qc,vendor:La,store:La,user:os,status:Vf,activity:Vf,ai:Oa,bot:Oa},d0e={created:Xn,updated:Cse,deleted:pn,delivered:Ur,payment_received:Ur,completed:Ur,cancelled:pn,status_changed:Bb},u0e=(e,t)=>({created:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},updated:{bg:"bg-blue-500/5 dark:bg-blue-500/10",border:"border-blue-500/20",icon:"text-blue-500",badge:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/20",glow:"shadow-blue-500/5"},deleted:{bg:"bg-red-500/5 dark:bg-red-500/10",border:"border-red-500/20",icon:"text-red-500",badge:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",glow:"shadow-red-500/5"},delivered:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},payment_received:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},completed:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},cancelled:{bg:"bg-red-500/5 dark:bg-red-500/10",border:"border-red-500/20",icon:"text-red-500",badge:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",glow:"shadow-red-500/5"},status_changed:{bg:"bg-amber-500/5 dark:bg-amber-500/10",border:"border-amber-500/20",icon:"text-amber-500",badge:"bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-500/20",glow:"shadow-amber-500/5"}})[e]||{bg:"bg-slate-500/5 dark:bg-slate-500/10",border:"border-slate-500/20",icon:"text-slate-500",badge:"bg-slate-500/10 text-slate-600 dark:text-slate-400 border-slate-500/20",glow:"shadow-slate-500/5"},f0e=e=>({order:"Order",payment:"Payment",delivery:"Delivery",issue:"Issue",product:"Product",apartment:"Apartment",client:"Client",vendor:"Vendor",user:"User"})[e]||e;function m0e(){const{data:e,isLoading:t,refetch:r}=zW(),s=(e==null?void 0:e.activities)||[],a=i=>{try{return ige(new Date(i),{addSuffix:!0})}catch{return"recently"}};return t?n.jsxs(X,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/80",children:[n.jsx(be,{className:"pb-3",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(f0,{className:"h-4 w-4 text-primary"})}),n.jsx(Ve,{className:"text-lg font-semibold",children:"Recent Activity"})]})})}),n.jsx(Q,{children:n.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(i=>n.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-muted/30",children:[n.jsx(C,{className:"h-10 w-10 rounded-xl"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(C,{className:"h-4 w-40"}),n.jsx(C,{className:"h-3 w-56"}),n.jsx(C,{className:"h-3 w-24"})]})]},i))})})]}):n.jsxs(X,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/80 overflow-hidden",children:[n.jsx(be,{className:"pb-3 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-primary/20 to-primary/5 shadow-sm",children:n.jsx(f0,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-lg font-semibold",children:"Recent Activity"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[s.length," activities tracked"]})]})]}),n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>r(),className:"h-9 w-9 p-0 hover:bg-primary/10 hover:text-primary transition-colors",children:n.jsx(Tf,{className:"h-4 w-4"})})]})}),n.jsx(Q,{className:"p-0",children:n.jsx(Mu,{className:"h-[480px]",children:n.jsx("div",{className:"p-4 space-y-2",children:s.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-muted/50 mb-4",children:n.jsx(Vf,{className:"h-8 w-8 text-muted-foreground/50"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No recent activities"}),n.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1 max-w-[200px]",children:"Activities will appear here when you create, update, or delete records"})]}):s.slice(0,15).map((i,o)=>{const l=PR[i.icon]||PR[i.type]||Vf,c=d0e[i.action]||Xn,d=u0e(i.action,i.type);return n.jsxs("div",{className:ve("group relative flex items-center gap-3 px-4 py-2.5 rounded-lg transition-all duration-300","hover:shadow-sm cursor-pointer border border-transparent","hover:border-border/50 hover:bg-muted/30"),children:[o<s.slice(0,15).length-1&&n.jsx("div",{className:"absolute left-[26px] top-[42px] w-[1px] h-[calc(100%-14px)] bg-border/30"}),n.jsxs("div",{className:"relative flex-shrink-0",children:[n.jsx("div",{className:ve("p-2 rounded-lg transition-all duration-300","group-hover:shadow-sm",d.bg,`border ${d.border}`),children:n.jsx(l,{className:ve("h-4 w-4",d.icon)})}),n.jsx("div",{className:ve("absolute -bottom-1 -right-1 p-0.5 rounded-full bg-background border shadow-sm",d.border),children:n.jsx(c,{className:ve("h-2.5 w-2.5",d.icon)})})]}),n.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-0 space-y-0.5",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-semibold text-sm text-foreground truncate",children:i.title}),n.jsx(Ce,{variant:"outline",className:ve("text-[9px] px-2 py-0.5 h-4 font-semibold uppercase tracking-wide border flex-shrink-0",d.badge),children:i.action})]}),n.jsx("p",{className:"text-xs text-muted-foreground/80 truncate leading-relaxed",children:i.description})]}),n.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center gap-1.5 min-w-[70px]",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary/40"}),n.jsx("span",{className:"text-xs font-medium text-foreground/70",children:f0e(i.type)})]}),i.apartment&&n.jsxs("div",{className:"flex items-center gap-1.5 min-w-[100px] max-w-[140px]",children:[n.jsx(fr,{className:"h-3.5 w-3.5 text-muted-foreground/50 flex-shrink-0"}),n.jsx("span",{className:"text-xs text-muted-foreground/70 truncate",children:i.apartment})]}),n.jsxs("div",{className:"flex items-center gap-1.5 min-w-[90px]",children:[n.jsx(wr,{className:"h-3.5 w-3.5 text-muted-foreground/50 flex-shrink-0"}),n.jsx("span",{className:"text-xs text-muted-foreground/70 whitespace-nowrap",children:a(i.created_at)})]})]})]})]},i.id)})})})})]})}var h0e=Array.isArray,yi=h0e,p0e=typeof Ry=="object"&&Ry&&Ry.Object===Object&&Ry,tH=p0e,x0e=tH,g0e=typeof self=="object"&&self&&self.Object===Object&&self,v0e=x0e||g0e||Function("return this")(),dc=v0e,y0e=dc,j0e=y0e.Symbol,dy=j0e,kR=dy,rH=Object.prototype,b0e=rH.hasOwnProperty,w0e=rH.toString,Wx=kR?kR.toStringTag:void 0;function N0e(e){var t=b0e.call(e,Wx),r=e[Wx];try{e[Wx]=void 0;var s=!0}catch{}var a=w0e.call(e);return s&&(t?e[Wx]=r:delete e[Wx]),a}var _0e=N0e,S0e=Object.prototype,C0e=S0e.toString;function E0e(e){return C0e.call(e)}var A0e=E0e,TR=dy,P0e=_0e,k0e=A0e,T0e="[object Null]",O0e="[object Undefined]",OR=TR?TR.toStringTag:void 0;function D0e(e){return e==null?e===void 0?O0e:T0e:OR&&OR in Object(e)?P0e(e):k0e(e)}var md=D0e;function I0e(e){return e!=null&&typeof e=="object"}var hd=I0e,R0e=md,M0e=hd,F0e="[object Symbol]";function $0e(e){return typeof e=="symbol"||M0e(e)&&R0e(e)==F0e}var ex=$0e,L0e=yi,B0e=ex,U0e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V0e=/^\w*$/;function z0e(e,t){if(L0e(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||B0e(e)?!0:V0e.test(e)||!U0e.test(e)||t!=null&&e in Object(t)}var KT=z0e;function W0e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var $u=W0e;const tx=Ar($u);var H0e=md,q0e=$u,G0e="[object AsyncFunction]",K0e="[object Function]",Y0e="[object GeneratorFunction]",X0e="[object Proxy]";function Q0e(e){if(!q0e(e))return!1;var t=H0e(e);return t==K0e||t==Y0e||t==G0e||t==X0e}var YT=Q0e;const Dt=Ar(YT);var Z0e=dc,J0e=Z0e["__core-js_shared__"],eve=J0e,_S=eve,DR=function(){var e=/[^.]+$/.exec(_S&&_S.keys&&_S.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function tve(e){return!!DR&&DR in e}var rve=tve,nve=Function.prototype,sve=nve.toString;function ave(e){if(e!=null){try{return sve.call(e)}catch{}try{return e+""}catch{}}return""}var nH=ave,ive=YT,ove=rve,lve=$u,cve=nH,dve=/[\\^$.*+?()[\]{}|]/g,uve=/^\[object .+?Constructor\]$/,fve=Function.prototype,mve=Object.prototype,hve=fve.toString,pve=mve.hasOwnProperty,xve=RegExp("^"+hve.call(pve).replace(dve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gve(e){if(!lve(e)||ove(e))return!1;var t=ive(e)?xve:uve;return t.test(cve(e))}var vve=gve;function yve(e,t){return e==null?void 0:e[t]}var jve=yve,bve=vve,wve=jve;function Nve(e,t){var r=wve(e,t);return bve(r)?r:void 0}var xm=Nve,_ve=xm,Sve=_ve(Object,"create"),ZN=Sve,IR=ZN;function Cve(){this.__data__=IR?IR(null):{},this.size=0}var Eve=Cve;function Ave(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Pve=Ave,kve=ZN,Tve="__lodash_hash_undefined__",Ove=Object.prototype,Dve=Ove.hasOwnProperty;function Ive(e){var t=this.__data__;if(kve){var r=t[e];return r===Tve?void 0:r}return Dve.call(t,e)?t[e]:void 0}var Rve=Ive,Mve=ZN,Fve=Object.prototype,$ve=Fve.hasOwnProperty;function Lve(e){var t=this.__data__;return Mve?t[e]!==void 0:$ve.call(t,e)}var Bve=Lve,Uve=ZN,Vve="__lodash_hash_undefined__";function zve(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Uve&&t===void 0?Vve:t,this}var Wve=zve,Hve=Eve,qve=Pve,Gve=Rve,Kve=Bve,Yve=Wve;function rx(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}rx.prototype.clear=Hve;rx.prototype.delete=qve;rx.prototype.get=Gve;rx.prototype.has=Kve;rx.prototype.set=Yve;var Xve=rx;function Qve(){this.__data__=[],this.size=0}var Zve=Qve;function Jve(e,t){return e===t||e!==e&&t!==t}var XT=Jve,eye=XT;function tye(e,t){for(var r=e.length;r--;)if(eye(e[r][0],t))return r;return-1}var JN=tye,rye=JN,nye=Array.prototype,sye=nye.splice;function aye(e){var t=this.__data__,r=rye(t,e);if(r<0)return!1;var s=t.length-1;return r==s?t.pop():sye.call(t,r,1),--this.size,!0}var iye=aye,oye=JN;function lye(e){var t=this.__data__,r=oye(t,e);return r<0?void 0:t[r][1]}var cye=lye,dye=JN;function uye(e){return dye(this.__data__,e)>-1}var fye=uye,mye=JN;function hye(e,t){var r=this.__data__,s=mye(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this}var pye=hye,xye=Zve,gye=iye,vye=cye,yye=fye,jye=pye;function nx(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}nx.prototype.clear=xye;nx.prototype.delete=gye;nx.prototype.get=vye;nx.prototype.has=yye;nx.prototype.set=jye;var e2=nx,bye=xm,wye=dc,Nye=bye(wye,"Map"),QT=Nye,RR=Xve,_ye=e2,Sye=QT;function Cye(){this.size=0,this.__data__={hash:new RR,map:new(Sye||_ye),string:new RR}}var Eye=Cye;function Aye(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Pye=Aye,kye=Pye;function Tye(e,t){var r=e.__data__;return kye(t)?r[typeof t=="string"?"string":"hash"]:r.map}var t2=Tye,Oye=t2;function Dye(e){var t=Oye(this,e).delete(e);return this.size-=t?1:0,t}var Iye=Dye,Rye=t2;function Mye(e){return Rye(this,e).get(e)}var Fye=Mye,$ye=t2;function Lye(e){return $ye(this,e).has(e)}var Bye=Lye,Uye=t2;function Vye(e,t){var r=Uye(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this}var zye=Vye,Wye=Eye,Hye=Iye,qye=Fye,Gye=Bye,Kye=zye;function sx(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}sx.prototype.clear=Wye;sx.prototype.delete=Hye;sx.prototype.get=qye;sx.prototype.has=Gye;sx.prototype.set=Kye;var ZT=sx,sH=ZT,Yye="Expected a function";function JT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Yye);var r=function(){var s=arguments,a=t?t.apply(this,s):s[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,s);return r.cache=i.set(a,o)||i,o};return r.cache=new(JT.Cache||sH),r}JT.Cache=sH;var aH=JT;const Xye=Ar(aH);var Qye=aH,Zye=500;function Jye(e){var t=Qye(e,function(s){return r.size===Zye&&r.clear(),s}),r=t.cache;return t}var eje=Jye,tje=eje,rje=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nje=/\\(\\)?/g,sje=tje(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(rje,function(r,s,a,i){t.push(a?i.replace(nje,"$1"):s||r)}),t}),aje=sje;function ije(e,t){for(var r=-1,s=e==null?0:e.length,a=Array(s);++r<s;)a[r]=t(e[r],r,e);return a}var eO=ije,MR=dy,oje=eO,lje=yi,cje=ex,dje=1/0,FR=MR?MR.prototype:void 0,$R=FR?FR.toString:void 0;function iH(e){if(typeof e=="string")return e;if(lje(e))return oje(e,iH)+"";if(cje(e))return $R?$R.call(e):"";var t=e+"";return t=="0"&&1/e==-dje?"-0":t}var uje=iH,fje=uje;function mje(e){return e==null?"":fje(e)}var oH=mje,hje=yi,pje=KT,xje=aje,gje=oH;function vje(e,t){return hje(e)?e:pje(e,t)?[e]:xje(gje(e))}var lH=vje,yje=ex,jje=1/0;function bje(e){if(typeof e=="string"||yje(e))return e;var t=e+"";return t=="0"&&1/e==-jje?"-0":t}var r2=bje,wje=lH,Nje=r2;function _je(e,t){t=wje(t,e);for(var r=0,s=t.length;e!=null&&r<s;)e=e[Nje(t[r++])];return r&&r==s?e:void 0}var tO=_je,Sje=tO;function Cje(e,t,r){var s=e==null?void 0:Sje(e,t);return s===void 0?r:s}var cH=Cje;const Ui=Ar(cH);function Eje(e){return e==null}var Aje=Eje;const Lt=Ar(Aje);var Pje=md,kje=yi,Tje=hd,Oje="[object String]";function Dje(e){return typeof e=="string"||!kje(e)&&Tje(e)&&Pje(e)==Oje}var Ije=Dje;const uy=Ar(Ije);var dH={exports:{}},Fr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rO=Symbol.for("react.element"),nO=Symbol.for("react.portal"),n2=Symbol.for("react.fragment"),s2=Symbol.for("react.strict_mode"),a2=Symbol.for("react.profiler"),i2=Symbol.for("react.provider"),o2=Symbol.for("react.context"),Rje=Symbol.for("react.server_context"),l2=Symbol.for("react.forward_ref"),c2=Symbol.for("react.suspense"),d2=Symbol.for("react.suspense_list"),u2=Symbol.for("react.memo"),f2=Symbol.for("react.lazy"),Mje=Symbol.for("react.offscreen"),uH;uH=Symbol.for("react.module.reference");function Do(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rO:switch(e=e.type,e){case n2:case a2:case s2:case c2:case d2:return e;default:switch(e=e&&e.$$typeof,e){case Rje:case o2:case l2:case f2:case u2:case i2:return e;default:return t}}case nO:return t}}}Fr.ContextConsumer=o2;Fr.ContextProvider=i2;Fr.Element=rO;Fr.ForwardRef=l2;Fr.Fragment=n2;Fr.Lazy=f2;Fr.Memo=u2;Fr.Portal=nO;Fr.Profiler=a2;Fr.StrictMode=s2;Fr.Suspense=c2;Fr.SuspenseList=d2;Fr.isAsyncMode=function(){return!1};Fr.isConcurrentMode=function(){return!1};Fr.isContextConsumer=function(e){return Do(e)===o2};Fr.isContextProvider=function(e){return Do(e)===i2};Fr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rO};Fr.isForwardRef=function(e){return Do(e)===l2};Fr.isFragment=function(e){return Do(e)===n2};Fr.isLazy=function(e){return Do(e)===f2};Fr.isMemo=function(e){return Do(e)===u2};Fr.isPortal=function(e){return Do(e)===nO};Fr.isProfiler=function(e){return Do(e)===a2};Fr.isStrictMode=function(e){return Do(e)===s2};Fr.isSuspense=function(e){return Do(e)===c2};Fr.isSuspenseList=function(e){return Do(e)===d2};Fr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===n2||e===a2||e===s2||e===c2||e===d2||e===Mje||typeof e=="object"&&e!==null&&(e.$$typeof===f2||e.$$typeof===u2||e.$$typeof===i2||e.$$typeof===o2||e.$$typeof===l2||e.$$typeof===uH||e.getModuleId!==void 0)};Fr.typeOf=Do;dH.exports=Fr;var fH=dH.exports,Fje=md,$je=hd,Lje="[object Number]";function Bje(e){return typeof e=="number"||$je(e)&&Fje(e)==Lje}var mH=Bje;const Uje=Ar(mH);var Vje=mH;function zje(e){return Vje(e)&&e!=+e}var Wje=zje;const ax=Ar(Wje);var Da=function(t){return t===0?0:t>0?1:-1},gf=function(t){return uy(t)&&t.indexOf("%")===t.length-1},Qe=function(t){return Uje(t)&&!ax(t)},Ns=function(t){return Qe(t)||uy(t)},Hje=0,gm=function(t){var r=++Hje;return"".concat(t||"").concat(r)},Ia=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(t)&&!uy(t))return s;var i;if(gf(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return ax(i)&&(i=s),a&&i>r&&(i=r),i},Md=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},qje=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,s={},a=0;a<r;a++)if(!s[t[a]])s[t[a]]=!0;else return!0;return!1},vs=function(t,r){return Qe(t)&&Qe(r)?function(s){return t+s*(r-t)}:function(){return r}};function w1(e,t,r){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):Ui(s,t))===r})}function Nh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function EE(e){"@babel/helpers - typeof";return EE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EE(e)}var Gje=["viewBox","children"],Kje=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],LR=["points","pathLength"],SS={svg:Gje,polygon:LR,polyline:LR},sO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],N1=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(v.isValidElement(t)&&(s=t.props),!tx(s))return null;var a={};return Object.keys(s).forEach(function(i){sO.includes(i)&&(a[i]=r||function(o){return s[i](s,o)})}),a},Yje=function(t,r,s){return function(a){return t(r,s,a),null}},Jf=function(t,r,s){if(!tx(t)||EE(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];sO.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Yje(o,r,s))}),a},Xje=["children"],Qje=["children"];function BR(e,t){if(e==null)return{};var r=Zje(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Zje(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function AE(e){"@babel/helpers - typeof";return AE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},AE(e)}var UR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Bc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},VR=null,CS=null,aO=function e(t){if(t===VR&&Array.isArray(CS))return CS;var r=[];return v.Children.forEach(t,function(s){Lt(s)||(fH.isFragment(s)?r=r.concat(e(s.props.children)):r.push(s))}),CS=r,VR=t,r};function Vi(e,t){var r=[],s=[];return Array.isArray(t)?s=t.map(function(a){return Bc(a)}):s=[Bc(t)],aO(e).forEach(function(a){var i=Ui(a,"type.displayName")||Ui(a,"type.name");s.indexOf(i)!==-1&&r.push(a)}),r}function Ti(e,t){var r=Vi(e,t);return r&&r[0]}var zR=function(t){if(!t||!t.props)return!1;var r=t.props,s=r.width,a=r.height;return!(!Qe(s)||s<=0||!Qe(a)||a<=0)},Jje=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ebe=function(t){return t&&t.type&&uy(t.type)&&Jje.indexOf(t.type)>=0},hH=function(t){return t&&AE(t)==="object"&&"clipDot"in t},tbe=function(t,r,s,a){var i,o=(i=SS==null?void 0:SS[a])!==null&&i!==void 0?i:[];return!Dt(t)&&(a&&o.includes(r)||Kje.includes(r))||s&&sO.includes(r)},Nt=function(t,r,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(v.isValidElement(t)&&(a=t.props),!tx(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;tbe((l=a)===null||l===void 0?void 0:l[o],o,r,s)&&(i[o]=a[o])}),i},PE=function e(t,r){if(t===r)return!0;var s=v.Children.count(t);if(s!==v.Children.count(r))return!1;if(s===0)return!0;if(s===1)return WR(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<s;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!WR(i,o))return!1}return!0},WR=function(t,r){if(Lt(t)&&Lt(r))return!0;if(!Lt(t)&&!Lt(r)){var s=t.props||{},a=s.children,i=BR(s,Xje),o=r.props||{},l=o.children,c=BR(o,Qje);return a&&l?Nh(i,c)&&PE(a,l):!a&&!l?Nh(i,c):!1}return!1},HR=function(t,r){var s=[],a={};return aO(t).forEach(function(i,o){if(ebe(i))s.push(i);else if(i){var l=Bc(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var f=d(i,l,o);s.push(f),a[l]=!0}}}),s},rbe=function(t){var r=t&&t.type;return r&&UR[r]?UR[r]:null},nbe=function(t,r){return aO(r).indexOf(t)},sbe=["children","width","height","viewBox","className","style","title","desc"];function kE(){return kE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},kE.apply(this,arguments)}function abe(e,t){if(e==null)return{};var r=ibe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function ibe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function TE(e){var t=e.children,r=e.width,s=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=abe(e,sbe),u=a||{width:r,height:s,x:0,y:0},f=Vt("recharts-surface",i);return V.createElement("svg",kE({},Nt(d,!0,"svg"),{className:f,width:r,height:s,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),V.createElement("title",null,l),V.createElement("desc",null,c),t)}var obe=["children","className"];function OE(){return OE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},OE.apply(this,arguments)}function lbe(e,t){if(e==null)return{};var r=cbe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function cbe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var nr=V.forwardRef(function(e,t){var r=e.children,s=e.className,a=lbe(e,obe),i=Vt("recharts-layer",s);return V.createElement("g",OE({className:i},Nt(a,!0),{ref:t}),r)}),al=function(t,r){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]};function dbe(e,t,r){var s=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++s<a;)i[s]=e[s+t];return i}var ube=dbe,fbe=ube;function mbe(e,t,r){var s=e.length;return r=r===void 0?s:r,!t&&r>=s?e:fbe(e,t,r)}var hbe=mbe,pbe="\\ud800-\\udfff",xbe="\\u0300-\\u036f",gbe="\\ufe20-\\ufe2f",vbe="\\u20d0-\\u20ff",ybe=xbe+gbe+vbe,jbe="\\ufe0e\\ufe0f",bbe="\\u200d",wbe=RegExp("["+bbe+pbe+ybe+jbe+"]");function Nbe(e){return wbe.test(e)}var pH=Nbe;function _be(e){return e.split("")}var Sbe=_be,xH="\\ud800-\\udfff",Cbe="\\u0300-\\u036f",Ebe="\\ufe20-\\ufe2f",Abe="\\u20d0-\\u20ff",Pbe=Cbe+Ebe+Abe,kbe="\\ufe0e\\ufe0f",Tbe="["+xH+"]",DE="["+Pbe+"]",IE="\\ud83c[\\udffb-\\udfff]",Obe="(?:"+DE+"|"+IE+")",gH="[^"+xH+"]",vH="(?:\\ud83c[\\udde6-\\uddff]){2}",yH="[\\ud800-\\udbff][\\udc00-\\udfff]",Dbe="\\u200d",jH=Obe+"?",bH="["+kbe+"]?",Ibe="(?:"+Dbe+"(?:"+[gH,vH,yH].join("|")+")"+bH+jH+")*",Rbe=bH+jH+Ibe,Mbe="(?:"+[gH+DE+"?",DE,vH,yH,Tbe].join("|")+")",Fbe=RegExp(IE+"(?="+IE+")|"+Mbe+Rbe,"g");function $be(e){return e.match(Fbe)||[]}var Lbe=$be,Bbe=Sbe,Ube=pH,Vbe=Lbe;function zbe(e){return Ube(e)?Vbe(e):Bbe(e)}var Wbe=zbe,Hbe=hbe,qbe=pH,Gbe=Wbe,Kbe=oH;function Ybe(e){return function(t){t=Kbe(t);var r=qbe(t)?Gbe(t):void 0,s=r?r[0]:t.charAt(0),a=r?Hbe(r,1).join(""):t.slice(1);return s[e]()+a}}var Xbe=Ybe,Qbe=Xbe,Zbe=Qbe("toUpperCase"),Jbe=Zbe;const m2=Ar(Jbe);function Kr(e){return function(){return e}}const wH=Math.cos,_1=Math.sin,vl=Math.sqrt,S1=Math.PI,h2=2*S1,RE=Math.PI,ME=2*RE,ef=1e-6,e1e=ME-ef;function NH(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function t1e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return NH;const r=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+s[a]}}class r1e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?NH:t1e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,s,a){this._append`Q${+t},${+r},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,r,s,a,i,o){this._append`C${+t},${+r},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,s,a,i){if(t=+t,r=+r,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-t,d=a-r,u=o-t,f=l-r,m=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>ef)if(!(Math.abs(f*c-d*u)>ef)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=s-o,x=a-l,p=c*c+d*d,g=h*h+x*x,j=Math.sqrt(p),y=Math.sqrt(m),w=i*Math.tan((RE-Math.acos((p+m-g)/(2*j*y)))/2),b=w/y,N=w/j;Math.abs(b-1)>ef&&this._append`L${t+b*u},${r+b*f}`,this._append`A${i},${i},0,0,${+(f*h>u*x)},${this._x1=t+N*c},${this._y1=r+N*d}`}}arc(t,r,s,a,i,o){if(t=+t,r=+r,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),d=t+l,u=r+c,f=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>ef||Math.abs(this._y1-u)>ef)&&this._append`L${d},${u}`,s&&(m<0&&(m=m%ME+ME),m>e1e?this._append`A${s},${s},0,1,${f},${t-l},${r-c}A${s},${s},0,1,${f},${this._x1=d},${this._y1=u}`:m>ef&&this._append`A${s},${s},0,${+(m>=RE)},${f},${this._x1=t+s*Math.cos(i)},${this._y1=r+s*Math.sin(i)}`)}rect(t,r,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function iO(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);t=s}return e},()=>new r1e(t)}function oO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _H(e){this._context=e}_H.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function p2(e){return new _H(e)}function SH(e){return e[0]}function CH(e){return e[1]}function EH(e,t){var r=Kr(!0),s=null,a=p2,i=null,o=iO(l);e=typeof e=="function"?e:e===void 0?SH:Kr(e),t=typeof t=="function"?t:t===void 0?CH:Kr(t);function l(c){var d,u=(c=oO(c)).length,f,m=!1,h;for(s==null&&(i=a(h=o())),d=0;d<=u;++d)!(d<u&&r(f=c[d],d,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(f,d,c),+t(f,d,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Kr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Kr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Kr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function xj(e,t,r){var s=null,a=Kr(!0),i=null,o=p2,l=null,c=iO(d);e=typeof e=="function"?e:e===void 0?SH:Kr(+e),t=typeof t=="function"?t:Kr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?CH:Kr(+r);function d(f){var m,h,x,p=(f=oO(f)).length,g,j=!1,y,w=new Array(p),b=new Array(p);for(i==null&&(l=o(y=c())),m=0;m<=p;++m){if(!(m<p&&a(g=f[m],m,f))===j)if(j=!j)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=h;--x)l.point(w[x],b[x]);l.lineEnd(),l.areaEnd()}j&&(w[m]=+e(g,m,f),b[m]=+t(g,m,f),l.point(s?+s(g,m,f):w[m],r?+r(g,m,f):b[m]))}if(y)return l=null,y+""||null}function u(){return EH().defined(a).curve(o).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Kr(+f),s=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Kr(+f),d):e},d.x1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:Kr(+f),d):s},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Kr(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Kr(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Kr(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(s).y(t)},d.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Kr(!!f),d):a},d.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),d):o},d.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),d):i},d}class AH{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function n1e(e){return new AH(e,!0)}function s1e(e){return new AH(e,!1)}const lO={draw(e,t){const r=vl(t/S1);e.moveTo(r,0),e.arc(0,0,r,0,h2)}},a1e={draw(e,t){const r=vl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},PH=vl(1/3),i1e=PH*2,o1e={draw(e,t){const r=vl(t/i1e),s=r*PH;e.moveTo(0,-r),e.lineTo(s,0),e.lineTo(0,r),e.lineTo(-s,0),e.closePath()}},l1e={draw(e,t){const r=vl(t),s=-r/2;e.rect(s,s,r,r)}},c1e=.8908130915292852,kH=_1(S1/10)/_1(7*S1/10),d1e=_1(h2/10)*kH,u1e=-wH(h2/10)*kH,f1e={draw(e,t){const r=vl(t*c1e),s=d1e*r,a=u1e*r;e.moveTo(0,-r),e.lineTo(s,a);for(let i=1;i<5;++i){const o=h2*i/5,l=wH(o),c=_1(o);e.lineTo(c*r,-l*r),e.lineTo(l*s-c*a,c*s+l*a)}e.closePath()}},ES=vl(3),m1e={draw(e,t){const r=-vl(t/(ES*3));e.moveTo(0,r*2),e.lineTo(-ES*r,-r),e.lineTo(ES*r,-r),e.closePath()}},so=-.5,ao=vl(3)/2,FE=1/vl(12),h1e=(FE/2+1)*3,p1e={draw(e,t){const r=vl(t/h1e),s=r/2,a=r*FE,i=s,o=r*FE+r,l=-i,c=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(so*s-ao*a,ao*s+so*a),e.lineTo(so*i-ao*o,ao*i+so*o),e.lineTo(so*l-ao*c,ao*l+so*c),e.lineTo(so*s+ao*a,so*a-ao*s),e.lineTo(so*i+ao*o,so*o-ao*i),e.lineTo(so*l+ao*c,so*c-ao*l),e.closePath()}};function x1e(e,t){let r=null,s=iO(a);e=typeof e=="function"?e:Kr(e||lO),t=typeof t=="function"?t:Kr(t===void 0?64:+t);function a(){let i;if(r||(r=i=s()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Kr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Kr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function C1(){}function E1(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function TH(e){this._context=e}TH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:E1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:E1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function g1e(e){return new TH(e)}function OH(e){this._context=e}OH.prototype={areaStart:C1,areaEnd:C1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:E1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function v1e(e){return new OH(e)}function DH(e){this._context=e}DH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:E1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function y1e(e){return new DH(e)}function IH(e){this._context=e}IH.prototype={areaStart:C1,areaEnd:C1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function j1e(e){return new IH(e)}function qR(e){return e<0?-1:1}function GR(e,t,r){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(r-e._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(qR(i)+qR(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function KR(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function AS(e,t,r){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-s)/3;e._context.bezierCurveTo(s+l,a+l*t,i-l,o-l*r,i,o)}function A1(e){this._context=e}A1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:AS(this,this._t0,KR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,AS(this,KR(this,r=GR(this,e,t)),r);break;default:AS(this,this._t0,r=GR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function RH(e){this._context=new MH(e)}(RH.prototype=Object.create(A1.prototype)).point=function(e,t){A1.prototype.point.call(this,t,e)};function MH(e){this._context=e}MH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,s,a,i){this._context.bezierCurveTo(t,e,s,r,i,a)}};function b1e(e){return new A1(e)}function w1e(e){return new RH(e)}function FH(e){this._context=e}FH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var s=YR(e),a=YR(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function YR(e){var t,r=e.length-1,s,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)s=a[t]/i[t-1],i[t]-=s,o[t]-=s*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function N1e(e){return new FH(e)}function x2(e,t){this._context=e,this._t=t}x2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function _1e(e){return new x2(e,.5)}function S1e(e){return new x2(e,0)}function C1e(e){return new x2(e,1)}function ip(e,t){if((o=e.length)>1)for(var r=1,s,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function $E(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function E1e(e,t){return e[t]}function A1e(e){const t=[];return t.key=e,t}function P1e(){var e=Kr([]),t=$E,r=ip,s=E1e;function a(i){var o=Array.from(e.apply(this,arguments),A1e),l,c=o.length,d=-1,u;for(const f of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+s(f,o[l].key,d,i)]).data=f;for(l=0,u=oO(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Kr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:Kr(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?$E:typeof i=="function"?i:Kr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??ip,a):r},a}function k1e(e,t){if((s=e.length)>0){for(var r,s,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<s;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<s;++r)e[r][a][1]/=o}ip(e,t)}}function T1e(e,t){if((a=e.length)>0){for(var r=0,s=e[t[0]],a,i=s.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;s[r][1]+=s[r][0]=-l/2}ip(e,t)}}function O1e(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],f=u[s][1]||0,m=u[s-1][1]||0,h=(f-m)/2,x=0;x<l;++x){var p=e[t[x]],g=p[s][1]||0,j=p[s-1][1]||0;h+=g-j}c+=f,d+=h*f}a[s-1][1]+=a[s-1][0]=r,c&&(r-=d/c)}a[s-1][1]+=a[s-1][0]=r,ip(e,t)}}function C0(e){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C0(e)}var D1e=["type","size","sizeType"];function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},LE.apply(this,arguments)}function XR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function QR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(r),!0).forEach(function(s){I1e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function I1e(e,t,r){return t=R1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R1e(e){var t=M1e(e,"string");return C0(t)=="symbol"?t:t+""}function M1e(e,t){if(C0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(C0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F1e(e,t){if(e==null)return{};var r=$1e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function $1e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var $H={symbolCircle:lO,symbolCross:a1e,symbolDiamond:o1e,symbolSquare:l1e,symbolStar:f1e,symbolTriangle:m1e,symbolWye:p1e},L1e=Math.PI/180,B1e=function(t){var r="symbol".concat(m2(t));return $H[r]||lO},U1e=function(t,r,s){if(r==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*L1e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},V1e=function(t,r){$H["symbol".concat(m2(t))]=r},cO=function(t){var r=t.type,s=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=F1e(t,D1e),d=QR(QR({},c),{},{type:s,size:i,sizeType:l}),u=function(){var g=B1e(s),j=x1e().type(g).size(U1e(i,l,s));return j()},f=d.className,m=d.cx,h=d.cy,x=Nt(d,!0);return m===+m&&h===+h&&i===+i?V.createElement("path",LE({},x,{className:Vt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:u()})):null};cO.registerSymbol=V1e;function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function BE(){return BE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},BE.apply(this,arguments)}function ZR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function z1e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(r),!0).forEach(function(s){E0(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function W1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H1e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,BH(s.key),s)}}function q1e(e,t,r){return t&&H1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G1e(e,t,r){return t=P1(t),K1e(e,LH()?Reflect.construct(t,r||[],P1(e).constructor):t.apply(e,r))}function K1e(e,t){if(t&&(op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y1e(e)}function Y1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LH=function(){return!!e})()}function P1(e){return P1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P1(e)}function X1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UE(e,t)}function UE(e,t){return UE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},UE(e,t)}function E0(e,t,r){return t=BH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BH(e){var t=Q1e(e,"string");return op(t)=="symbol"?t:t+""}function Q1e(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(op(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var io=32,dO=function(e){function t(){return W1e(this,t),G1e(this,t,arguments)}return X1e(t,e),q1e(t,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=io/2,o=io/6,l=io/3,c=s.inactive?a:s.color;if(s.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:io,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(io,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return V.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(io/8,"h").concat(io,"v").concat(io*3/4,"h").concat(-io,"z"),className:"recharts-legend-icon"});if(V.isValidElement(s.legendIcon)){var d=z1e({},s);return delete d.legendIcon,V.cloneElement(s.legendIcon,d)}return V.createElement(cO,{fill:c,cx:i,cy:i,size:io,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:io,height:io},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,x){var p=h.formatter||c,g=Vt(E0(E0({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",h.inactive));if(h.type==="none")return null;var j=Dt(h.value)?null:h.value;al(!Dt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=h.inactive?d:h.color;return V.createElement("li",BE({className:g,style:f,key:"legend-item-".concat(x)},Jf(s.props,h,x)),V.createElement(TE,{width:o,height:o,viewBox:u,style:m},s.renderIcon(h)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(j,h,x):j))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);E0(dO,"displayName","Legend");E0(dO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Z1e=e2;function J1e(){this.__data__=new Z1e,this.size=0}var ewe=J1e;function twe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var rwe=twe;function nwe(e){return this.__data__.get(e)}var swe=nwe;function awe(e){return this.__data__.has(e)}var iwe=awe,owe=e2,lwe=QT,cwe=ZT,dwe=200;function uwe(e,t){var r=this.__data__;if(r instanceof owe){var s=r.__data__;if(!lwe||s.length<dwe-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new cwe(s)}return r.set(e,t),this.size=r.size,this}var fwe=uwe,mwe=e2,hwe=ewe,pwe=rwe,xwe=swe,gwe=iwe,vwe=fwe;function ix(e){var t=this.__data__=new mwe(e);this.size=t.size}ix.prototype.clear=hwe;ix.prototype.delete=pwe;ix.prototype.get=xwe;ix.prototype.has=gwe;ix.prototype.set=vwe;var UH=ix,ywe="__lodash_hash_undefined__";function jwe(e){return this.__data__.set(e,ywe),this}var bwe=jwe;function wwe(e){return this.__data__.has(e)}var Nwe=wwe,_we=ZT,Swe=bwe,Cwe=Nwe;function k1(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new _we;++t<r;)this.add(e[t])}k1.prototype.add=k1.prototype.push=Swe;k1.prototype.has=Cwe;var VH=k1;function Ewe(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(t(e[r],r,e))return!0;return!1}var zH=Ewe;function Awe(e,t){return e.has(t)}var WH=Awe,Pwe=VH,kwe=zH,Twe=WH,Owe=1,Dwe=2;function Iwe(e,t,r,s,a,i){var o=r&Owe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var f=-1,m=!0,h=r&Dwe?new Pwe:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var x=e[f],p=t[f];if(s)var g=o?s(p,x,f,t,e,i):s(x,p,f,e,t,i);if(g!==void 0){if(g)continue;m=!1;break}if(h){if(!kwe(t,function(j,y){if(!Twe(h,y)&&(x===j||a(x,j,r,s,i)))return h.push(y)})){m=!1;break}}else if(!(x===p||a(x,p,r,s,i))){m=!1;break}}return i.delete(e),i.delete(t),m}var HH=Iwe,Rwe=dc,Mwe=Rwe.Uint8Array,Fwe=Mwe;function $we(e){var t=-1,r=Array(e.size);return e.forEach(function(s,a){r[++t]=[a,s]}),r}var Lwe=$we;function Bwe(e){var t=-1,r=Array(e.size);return e.forEach(function(s){r[++t]=s}),r}var uO=Bwe,JR=dy,eM=Fwe,Uwe=XT,Vwe=HH,zwe=Lwe,Wwe=uO,Hwe=1,qwe=2,Gwe="[object Boolean]",Kwe="[object Date]",Ywe="[object Error]",Xwe="[object Map]",Qwe="[object Number]",Zwe="[object RegExp]",Jwe="[object Set]",eNe="[object String]",tNe="[object Symbol]",rNe="[object ArrayBuffer]",nNe="[object DataView]",tM=JR?JR.prototype:void 0,PS=tM?tM.valueOf:void 0;function sNe(e,t,r,s,a,i,o){switch(r){case nNe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case rNe:return!(e.byteLength!=t.byteLength||!i(new eM(e),new eM(t)));case Gwe:case Kwe:case Qwe:return Uwe(+e,+t);case Ywe:return e.name==t.name&&e.message==t.message;case Zwe:case eNe:return e==t+"";case Xwe:var l=zwe;case Jwe:var c=s&Hwe;if(l||(l=Wwe),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;s|=qwe,o.set(e,t);var u=Vwe(l(e),l(t),s,a,i,o);return o.delete(e),u;case tNe:if(PS)return PS.call(e)==PS.call(t)}return!1}var aNe=sNe;function iNe(e,t){for(var r=-1,s=t.length,a=e.length;++r<s;)e[a+r]=t[r];return e}var qH=iNe,oNe=qH,lNe=yi;function cNe(e,t,r){var s=t(e);return lNe(e)?s:oNe(s,r(e))}var dNe=cNe;function uNe(e,t){for(var r=-1,s=e==null?0:e.length,a=0,i=[];++r<s;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var fNe=uNe;function mNe(){return[]}var hNe=mNe,pNe=fNe,xNe=hNe,gNe=Object.prototype,vNe=gNe.propertyIsEnumerable,rM=Object.getOwnPropertySymbols,yNe=rM?function(e){return e==null?[]:(e=Object(e),pNe(rM(e),function(t){return vNe.call(e,t)}))}:xNe,jNe=yNe;function bNe(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}var wNe=bNe,NNe=md,_Ne=hd,SNe="[object Arguments]";function CNe(e){return _Ne(e)&&NNe(e)==SNe}var ENe=CNe,nM=ENe,ANe=hd,GH=Object.prototype,PNe=GH.hasOwnProperty,kNe=GH.propertyIsEnumerable,TNe=nM(function(){return arguments}())?nM:function(e){return ANe(e)&&PNe.call(e,"callee")&&!kNe.call(e,"callee")},fO=TNe,T1={exports:{}};function ONe(){return!1}var DNe=ONe;T1.exports;(function(e,t){var r=dc,s=DNe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||s;e.exports=d})(T1,T1.exports);var KH=T1.exports,INe=9007199254740991,RNe=/^(?:0|[1-9]\d*)$/;function MNe(e,t){var r=typeof e;return t=t??INe,!!t&&(r=="number"||r!="symbol"&&RNe.test(e))&&e>-1&&e%1==0&&e<t}var mO=MNe,FNe=9007199254740991;function $Ne(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=FNe}var hO=$Ne,LNe=md,BNe=hO,UNe=hd,VNe="[object Arguments]",zNe="[object Array]",WNe="[object Boolean]",HNe="[object Date]",qNe="[object Error]",GNe="[object Function]",KNe="[object Map]",YNe="[object Number]",XNe="[object Object]",QNe="[object RegExp]",ZNe="[object Set]",JNe="[object String]",e2e="[object WeakMap]",t2e="[object ArrayBuffer]",r2e="[object DataView]",n2e="[object Float32Array]",s2e="[object Float64Array]",a2e="[object Int8Array]",i2e="[object Int16Array]",o2e="[object Int32Array]",l2e="[object Uint8Array]",c2e="[object Uint8ClampedArray]",d2e="[object Uint16Array]",u2e="[object Uint32Array]",tn={};tn[n2e]=tn[s2e]=tn[a2e]=tn[i2e]=tn[o2e]=tn[l2e]=tn[c2e]=tn[d2e]=tn[u2e]=!0;tn[VNe]=tn[zNe]=tn[t2e]=tn[WNe]=tn[r2e]=tn[HNe]=tn[qNe]=tn[GNe]=tn[KNe]=tn[YNe]=tn[XNe]=tn[QNe]=tn[ZNe]=tn[JNe]=tn[e2e]=!1;function f2e(e){return UNe(e)&&BNe(e.length)&&!!tn[LNe(e)]}var m2e=f2e;function h2e(e){return function(t){return e(t)}}var YH=h2e,O1={exports:{}};O1.exports;(function(e,t){var r=tH,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(O1,O1.exports);var p2e=O1.exports,x2e=m2e,g2e=YH,sM=p2e,aM=sM&&sM.isTypedArray,v2e=aM?g2e(aM):x2e,XH=v2e,y2e=wNe,j2e=fO,b2e=yi,w2e=KH,N2e=mO,_2e=XH,S2e=Object.prototype,C2e=S2e.hasOwnProperty;function E2e(e,t){var r=b2e(e),s=!r&&j2e(e),a=!r&&!s&&w2e(e),i=!r&&!s&&!a&&_2e(e),o=r||s||a||i,l=o?y2e(e.length,String):[],c=l.length;for(var d in e)(t||C2e.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||N2e(d,c)))&&l.push(d);return l}var A2e=E2e,P2e=Object.prototype;function k2e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||P2e;return e===r}var T2e=k2e;function O2e(e,t){return function(r){return e(t(r))}}var QH=O2e,D2e=QH,I2e=D2e(Object.keys,Object),R2e=I2e,M2e=T2e,F2e=R2e,$2e=Object.prototype,L2e=$2e.hasOwnProperty;function B2e(e){if(!M2e(e))return F2e(e);var t=[];for(var r in Object(e))L2e.call(e,r)&&r!="constructor"&&t.push(r);return t}var U2e=B2e,V2e=YT,z2e=hO;function W2e(e){return e!=null&&z2e(e.length)&&!V2e(e)}var fy=W2e,H2e=A2e,q2e=U2e,G2e=fy;function K2e(e){return G2e(e)?H2e(e):q2e(e)}var g2=K2e,Y2e=dNe,X2e=jNe,Q2e=g2;function Z2e(e){return Y2e(e,Q2e,X2e)}var J2e=Z2e,iM=J2e,e_e=1,t_e=Object.prototype,r_e=t_e.hasOwnProperty;function n_e(e,t,r,s,a,i){var o=r&e_e,l=iM(e),c=l.length,d=iM(t),u=d.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var m=l[f];if(!(o?m in t:r_e.call(t,m)))return!1}var h=i.get(e),x=i.get(t);if(h&&x)return h==t&&x==e;var p=!0;i.set(e,t),i.set(t,e);for(var g=o;++f<c;){m=l[f];var j=e[m],y=t[m];if(s)var w=o?s(y,j,m,t,e,i):s(j,y,m,e,t,i);if(!(w===void 0?j===y||a(j,y,r,s,i):w)){p=!1;break}g||(g=m=="constructor")}if(p&&!g){var b=e.constructor,N=t.constructor;b!=N&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof N=="function"&&N instanceof N)&&(p=!1)}return i.delete(e),i.delete(t),p}var s_e=n_e,a_e=xm,i_e=dc,o_e=a_e(i_e,"DataView"),l_e=o_e,c_e=xm,d_e=dc,u_e=c_e(d_e,"Promise"),f_e=u_e,m_e=xm,h_e=dc,p_e=m_e(h_e,"Set"),ZH=p_e,x_e=xm,g_e=dc,v_e=x_e(g_e,"WeakMap"),y_e=v_e,VE=l_e,zE=QT,WE=f_e,HE=ZH,qE=y_e,JH=md,ox=nH,oM="[object Map]",j_e="[object Object]",lM="[object Promise]",cM="[object Set]",dM="[object WeakMap]",uM="[object DataView]",b_e=ox(VE),w_e=ox(zE),N_e=ox(WE),__e=ox(HE),S_e=ox(qE),tf=JH;(VE&&tf(new VE(new ArrayBuffer(1)))!=uM||zE&&tf(new zE)!=oM||WE&&tf(WE.resolve())!=lM||HE&&tf(new HE)!=cM||qE&&tf(new qE)!=dM)&&(tf=function(e){var t=JH(e),r=t==j_e?e.constructor:void 0,s=r?ox(r):"";if(s)switch(s){case b_e:return uM;case w_e:return oM;case N_e:return lM;case __e:return cM;case S_e:return dM}return t});var C_e=tf,kS=UH,E_e=HH,A_e=aNe,P_e=s_e,fM=C_e,mM=yi,hM=KH,k_e=XH,T_e=1,pM="[object Arguments]",xM="[object Array]",gj="[object Object]",O_e=Object.prototype,gM=O_e.hasOwnProperty;function D_e(e,t,r,s,a,i){var o=mM(e),l=mM(t),c=o?xM:fM(e),d=l?xM:fM(t);c=c==pM?gj:c,d=d==pM?gj:d;var u=c==gj,f=d==gj,m=c==d;if(m&&hM(e)){if(!hM(t))return!1;o=!0,u=!1}if(m&&!u)return i||(i=new kS),o||k_e(e)?E_e(e,t,r,s,a,i):A_e(e,t,c,r,s,a,i);if(!(r&T_e)){var h=u&&gM.call(e,"__wrapped__"),x=f&&gM.call(t,"__wrapped__");if(h||x){var p=h?e.value():e,g=x?t.value():t;return i||(i=new kS),a(p,g,r,s,i)}}return m?(i||(i=new kS),P_e(e,t,r,s,a,i)):!1}var I_e=D_e,R_e=I_e,vM=hd;function eq(e,t,r,s,a){return e===t?!0:e==null||t==null||!vM(e)&&!vM(t)?e!==e&&t!==t:R_e(e,t,r,s,eq,a)}var pO=eq,M_e=UH,F_e=pO,$_e=1,L_e=2;function B_e(e,t,r,s){var a=r.length,i=a,o=!s;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var f=new M_e;if(s)var m=s(d,u,c,e,t,f);if(!(m===void 0?F_e(u,d,$_e|L_e,s,f):m))return!1}}return!0}var U_e=B_e,V_e=$u;function z_e(e){return e===e&&!V_e(e)}var tq=z_e,W_e=tq,H_e=g2;function q_e(e){for(var t=H_e(e),r=t.length;r--;){var s=t[r],a=e[s];t[r]=[s,a,W_e(a)]}return t}var G_e=q_e;function K_e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var rq=K_e,Y_e=U_e,X_e=G_e,Q_e=rq;function Z_e(e){var t=X_e(e);return t.length==1&&t[0][2]?Q_e(t[0][0],t[0][1]):function(r){return r===e||Y_e(r,e,t)}}var J_e=Z_e;function eSe(e,t){return e!=null&&t in Object(e)}var tSe=eSe,rSe=lH,nSe=fO,sSe=yi,aSe=mO,iSe=hO,oSe=r2;function lSe(e,t,r){t=rSe(t,e);for(var s=-1,a=t.length,i=!1;++s<a;){var o=oSe(t[s]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++s!=a?i:(a=e==null?0:e.length,!!a&&iSe(a)&&aSe(o,a)&&(sSe(e)||nSe(e)))}var cSe=lSe,dSe=tSe,uSe=cSe;function fSe(e,t){return e!=null&&uSe(e,t,dSe)}var mSe=fSe,hSe=pO,pSe=cH,xSe=mSe,gSe=KT,vSe=tq,ySe=rq,jSe=r2,bSe=1,wSe=2;function NSe(e,t){return gSe(e)&&vSe(t)?ySe(jSe(e),t):function(r){var s=pSe(r,e);return s===void 0&&s===t?xSe(r,e):hSe(t,s,bSe|wSe)}}var _Se=NSe;function SSe(e){return e}var lx=SSe;function CSe(e){return function(t){return t==null?void 0:t[e]}}var ESe=CSe,ASe=tO;function PSe(e){return function(t){return ASe(t,e)}}var kSe=PSe,TSe=ESe,OSe=kSe,DSe=KT,ISe=r2;function RSe(e){return DSe(e)?TSe(ISe(e)):OSe(e)}var MSe=RSe,FSe=J_e,$Se=_Se,LSe=lx,BSe=yi,USe=MSe;function VSe(e){return typeof e=="function"?e:e==null?LSe:typeof e=="object"?BSe(e)?$Se(e[0],e[1]):FSe(e):USe(e)}var uc=VSe;function zSe(e,t,r,s){for(var a=e.length,i=r+(s?1:-1);s?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var nq=zSe;function WSe(e){return e!==e}var HSe=WSe;function qSe(e,t,r){for(var s=r-1,a=e.length;++s<a;)if(e[s]===t)return s;return-1}var GSe=qSe,KSe=nq,YSe=HSe,XSe=GSe;function QSe(e,t,r){return t===t?XSe(e,t,r):KSe(e,YSe,r)}var ZSe=QSe,JSe=ZSe;function eCe(e,t){var r=e==null?0:e.length;return!!r&&JSe(e,t,0)>-1}var tCe=eCe;function rCe(e,t,r){for(var s=-1,a=e==null?0:e.length;++s<a;)if(r(t,e[s]))return!0;return!1}var nCe=rCe;function sCe(){}var aCe=sCe,TS=ZH,iCe=aCe,oCe=uO,lCe=1/0,cCe=TS&&1/oCe(new TS([,-0]))[1]==lCe?function(e){return new TS(e)}:iCe,dCe=cCe,uCe=VH,fCe=tCe,mCe=nCe,hCe=WH,pCe=dCe,xCe=uO,gCe=200;function vCe(e,t,r){var s=-1,a=fCe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=mCe;else if(i>=gCe){var d=t?null:pCe(e);if(d)return xCe(d);o=!1,a=hCe,c=new uCe}else c=t?[]:l;e:for(;++s<i;){var u=e[s],f=t?t(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;t&&c.push(f),l.push(u)}else a(c,f,r)||(c!==l&&c.push(f),l.push(u))}return l}var yCe=vCe,jCe=uc,bCe=yCe;function wCe(e,t){return e&&e.length?bCe(e,jCe(t)):[]}var NCe=wCe;const yM=Ar(NCe);function sq(e,t,r){return t===!0?yM(e,r):Dt(t)?yM(e,t):e}function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}var _Ce=["ref"];function jM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function gc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(r),!0).forEach(function(s){v2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function SCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bM(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,iq(s.key),s)}}function CCe(e,t,r){return t&&bM(e.prototype,t),r&&bM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ECe(e,t,r){return t=D1(t),ACe(e,aq()?Reflect.construct(t,r||[],D1(e).constructor):t.apply(e,r))}function ACe(e,t){if(t&&(lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PCe(e)}function PCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aq=function(){return!!e})()}function D1(e){return D1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},D1(e)}function kCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GE(e,t)}function GE(e,t){return GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},GE(e,t)}function v2(e,t,r){return t=iq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iq(e){var t=TCe(e,"string");return lp(t)=="symbol"?t:t+""}function TCe(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(lp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OCe(e,t){if(e==null)return{};var r=DCe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function DCe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function ICe(e){return e.value}function RCe(e,t){if(V.isValidElement(e))return V.cloneElement(e,t);if(typeof e=="function")return V.createElement(e,t);t.ref;var r=OCe(t,_Ce);return V.createElement(dO,r)}var wM=1,il=function(e){function t(){var r;SCe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=ECe(this,t,[].concat(a)),v2(r,"lastBoundingBox",{width:-1,height:-1}),r}return kCe(t,e),CCe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>wM||Math.abs(a.height-this.lastBoundingBox.height)>wM)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?gc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,f,m;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();f={left:((d||0)-h.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();m={top:((u||0)-x.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return gc(gc({},f),m)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,f=gc(gc({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return V.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){s.wrapperNode=h}},RCe(i,gc(gc({},this.props),{},{payload:sq(u,d,ICe)})))}}],[{key:"getWithHeight",value:function(s,a){var i=gc(gc({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&Qe(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])}(v.PureComponent);v2(il,"displayName","Legend");v2(il,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var NM=dy,MCe=fO,FCe=yi,_M=NM?NM.isConcatSpreadable:void 0;function $Ce(e){return FCe(e)||MCe(e)||!!(_M&&e&&e[_M])}var LCe=$Ce,BCe=qH,UCe=LCe;function oq(e,t,r,s,a){var i=-1,o=e.length;for(r||(r=UCe),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?oq(l,t-1,r,s,a):BCe(a,l):s||(a[a.length]=l)}return a}var lq=oq;function VCe(e){return function(t,r,s){for(var a=-1,i=Object(t),o=s(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var zCe=VCe,WCe=zCe,HCe=WCe(),qCe=HCe,GCe=qCe,KCe=g2;function YCe(e,t){return e&&GCe(e,t,KCe)}var cq=YCe,XCe=fy;function QCe(e,t){return function(r,s){if(r==null)return r;if(!XCe(r))return e(r,s);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&s(o[i],i,o)!==!1;);return r}}var ZCe=QCe,JCe=cq,e4e=ZCe,t4e=e4e(JCe),xO=t4e,r4e=xO,n4e=fy;function s4e(e,t){var r=-1,s=n4e(e)?Array(e.length):[];return r4e(e,function(a,i,o){s[++r]=t(a,i,o)}),s}var dq=s4e;function a4e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var i4e=a4e,SM=ex;function o4e(e,t){if(e!==t){var r=e!==void 0,s=e===null,a=e===e,i=SM(e),o=t!==void 0,l=t===null,c=t===t,d=SM(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||s&&o&&c||!r&&c||!a)return 1;if(!s&&!i&&!d&&e<t||d&&r&&a&&!s&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var l4e=o4e,c4e=l4e;function d4e(e,t,r){for(var s=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++s<o;){var c=c4e(a[s],i[s]);if(c){if(s>=l)return c;var d=r[s];return c*(d=="desc"?-1:1)}}return e.index-t.index}var u4e=d4e,OS=eO,f4e=tO,m4e=uc,h4e=dq,p4e=i4e,x4e=YH,g4e=u4e,v4e=lx,y4e=yi;function j4e(e,t,r){t.length?t=OS(t,function(i){return y4e(i)?function(o){return f4e(o,i.length===1?i[0]:i)}:i}):t=[v4e];var s=-1;t=OS(t,x4e(m4e));var a=h4e(e,function(i,o,l){var c=OS(t,function(d){return d(i)});return{criteria:c,index:++s,value:i}});return p4e(a,function(i,o){return g4e(i,o,r)})}var b4e=j4e;function w4e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var N4e=w4e,_4e=N4e,CM=Math.max;function S4e(e,t,r){return t=CM(t===void 0?e.length-1:t,0),function(){for(var s=arguments,a=-1,i=CM(s.length-t,0),o=Array(i);++a<i;)o[a]=s[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=s[a];return l[t]=r(o),_4e(e,this,l)}}var C4e=S4e;function E4e(e){return function(){return e}}var A4e=E4e,P4e=xm,k4e=function(){try{var e=P4e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),uq=k4e,T4e=A4e,EM=uq,O4e=lx,D4e=EM?function(e,t){return EM(e,"toString",{configurable:!0,enumerable:!1,value:T4e(t),writable:!0})}:O4e,I4e=D4e,R4e=800,M4e=16,F4e=Date.now;function $4e(e){var t=0,r=0;return function(){var s=F4e(),a=M4e-(s-r);if(r=s,a>0){if(++t>=R4e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var L4e=$4e,B4e=I4e,U4e=L4e,V4e=U4e(B4e),z4e=V4e,W4e=lx,H4e=C4e,q4e=z4e;function G4e(e,t){return q4e(H4e(e,t,W4e),e+"")}var K4e=G4e,Y4e=XT,X4e=fy,Q4e=mO,Z4e=$u;function J4e(e,t,r){if(!Z4e(r))return!1;var s=typeof t;return(s=="number"?X4e(r)&&Q4e(t,r.length):s=="string"&&t in r)?Y4e(r[t],e):!1}var y2=J4e,eEe=lq,tEe=b4e,rEe=K4e,AM=y2,nEe=rEe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&AM(e,t[0],t[1])?t=[]:r>2&&AM(t[0],t[1],t[2])&&(t=[t[0]]),tEe(e,eEe(t,1),[])}),sEe=nEe;const gO=Ar(sEe);function A0(e){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A0(e)}function KE(){return KE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},KE.apply(this,arguments)}function aEe(e,t){return cEe(e)||lEe(e,t)||oEe(e,t)||iEe()}function iEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oEe(e,t){if(e){if(typeof e=="string")return PM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PM(e,t)}}function PM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function lEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function cEe(e){if(Array.isArray(e))return e}function kM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function DS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kM(Object(r),!0).forEach(function(s){dEe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function dEe(e,t,r){return t=uEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uEe(e){var t=fEe(e,"string");return A0(t)=="symbol"?t:t+""}function fEe(e,t){if(A0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(A0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mEe(e){return Array.isArray(e)&&Ns(e[0])&&Ns(e[1])?e.join(" ~ "):e}var hEe=function(t){var r=t.separator,s=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,f=t.formatter,m=t.itemSorter,h=t.wrapperClassName,x=t.labelClassName,p=t.label,g=t.labelFormatter,j=t.accessibilityLayer,y=j===void 0?!1:j,w=function(){if(u&&u.length){var I={padding:0,margin:0},z=(m?gO(u,m):u).map(function(H,F){if(H.type==="none")return null;var k=DS({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),P=H.formatter||f||mEe,M=H.value,O=H.name,K=M,ne=O;if(P&&K!=null&&ne!=null){var D=P(M,O,H,F,u);if(Array.isArray(D)){var U=aEe(D,2);K=U[0],ne=U[1]}else K=D}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:k},Ns(ne)?V.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,Ns(ne)?V.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,V.createElement("span",{className:"recharts-tooltip-item-value"},K),V.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:I},z)}return null},b=DS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=DS({margin:0},d),S=!Lt(p),_=S?p:"",E=Vt("recharts-default-tooltip",h),A=Vt("recharts-tooltip-label",x);S&&g&&u!==void 0&&u!==null&&(_=g(p,u));var T=y?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",KE({className:E,style:b},T),V.createElement("p",{className:A,style:N},V.isValidElement(_)?_:"".concat(_)),w())};function P0(e){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P0(e)}function vj(e,t,r){return t=pEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pEe(e){var t=xEe(e,"string");return P0(t)=="symbol"?t:t+""}function xEe(e,t){if(P0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(P0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hx="recharts-tooltip-wrapper",gEe={visibility:"hidden"};function vEe(e){var t=e.coordinate,r=e.translateX,s=e.translateY;return Vt(Hx,vj(vj(vj(vj({},"".concat(Hx,"-right"),Qe(r)&&t&&Qe(t.x)&&r>=t.x),"".concat(Hx,"-left"),Qe(r)&&t&&Qe(t.x)&&r<t.x),"".concat(Hx,"-bottom"),Qe(s)&&t&&Qe(t.y)&&s>=t.y),"".concat(Hx,"-top"),Qe(s)&&t&&Qe(t.y)&&s<t.y))}function TM(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&Qe(i[s]))return i[s];var u=r[s]-l-a,f=r[s]+a;if(t[s])return o[s]?u:f;if(o[s]){var m=u,h=c[s];return m<h?Math.max(f,c[s]):Math.max(u,c[s])}var x=f+l,p=c[s]+d;return x>p?Math.max(u,c[s]):Math.max(f,c[s])}function yEe(e){var t=e.translateX,r=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function jEe(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,f;return o.height>0&&o.width>0&&r?(u=TM({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=TM({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=yEe({translateX:u,translateY:f,useTranslate3d:l})):d=gEe,{cssProperties:d,cssClasses:vEe({translateX:u,translateY:f,coordinate:r})}}function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function OM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function DM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(r),!0).forEach(function(s){XE(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function bEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wEe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,mq(s.key),s)}}function NEe(e,t,r){return t&&wEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Ee(e,t,r){return t=I1(t),SEe(e,fq()?Reflect.construct(t,r||[],I1(e).constructor):t.apply(e,r))}function SEe(e,t){if(t&&(cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CEe(e)}function CEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fq=function(){return!!e})()}function I1(e){return I1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I1(e)}function EEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YE(e,t)}function YE(e,t){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},YE(e,t)}function XE(e,t,r){return t=mq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mq(e){var t=AEe(e,"string");return cp(t)=="symbol"?t:t+""}function AEe(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(cp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IM=1,PEe=function(e){function t(){var r;bEe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=_Ee(this,t,[].concat(a)),XE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),XE(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return EEe(t,e),NEe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>IM||Math.abs(s.height-this.state.lastBoundingBox.height)>IM)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,h=a.offset,x=a.position,p=a.reverseDirection,g=a.useTranslate3d,j=a.viewBox,y=a.wrapperStyle,w=jEe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:h,position:x,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:j}),b=w.cssClasses,N=w.cssProperties,S=DM(DM({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return V.createElement("div",{tabIndex:-1,className:b,style:S,ref:function(E){s.wrapperNode=E}},d)}}])}(v.PureComponent),kEe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ol={isSsr:kEe(),get:function(t){return ol[t]},set:function(t,r){if(typeof t=="string")ol[t]=r;else{var s=Object.keys(t);s&&s.length&&s.forEach(function(a){ol[a]=t[a]})}}};function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function RM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function MM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(r),!0).forEach(function(s){vO(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function TEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OEe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,pq(s.key),s)}}function DEe(e,t,r){return t&&OEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IEe(e,t,r){return t=R1(t),REe(e,hq()?Reflect.construct(t,r||[],R1(e).constructor):t.apply(e,r))}function REe(e,t){if(t&&(dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MEe(e)}function MEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hq=function(){return!!e})()}function R1(e){return R1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R1(e)}function FEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QE(e,t)}function QE(e,t){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},QE(e,t)}function vO(e,t,r){return t=pq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pq(e){var t=$Ee(e,"string");return dp(t)=="symbol"?t:t+""}function $Ee(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(dp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LEe(e){return e.dataKey}function BEe(e,t){return V.isValidElement(e)?V.cloneElement(e,t):typeof e=="function"?V.createElement(e,t):V.createElement(hEe,t)}var hr=function(e){function t(){return TEe(this,t),IEe(this,t,arguments)}return FEe(t,e),DEe(t,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,f=a.filterNull,m=a.isAnimationActive,h=a.offset,x=a.payload,p=a.payloadUniqBy,g=a.position,j=a.reverseDirection,y=a.useTranslate3d,w=a.viewBox,b=a.wrapperStyle,N=x??[];f&&N.length&&(N=sq(x.filter(function(_){return _.value!=null&&(_.hide!==!0||s.props.includeHidden)}),p,LEe));var S=N.length>0;return V.createElement(PEe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:u,hasPayload:S,offset:h,position:g,reverseDirection:j,useTranslate3d:y,viewBox:w,wrapperStyle:b},BEe(d,MM(MM({},this.props),{},{payload:N})))}}])}(v.PureComponent);vO(hr,"displayName","Tooltip");vO(hr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ol.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var UEe=dc,VEe=function(){return UEe.Date.now()},zEe=VEe,WEe=/\s/;function HEe(e){for(var t=e.length;t--&&WEe.test(e.charAt(t)););return t}var qEe=HEe,GEe=qEe,KEe=/^\s+/;function YEe(e){return e&&e.slice(0,GEe(e)+1).replace(KEe,"")}var XEe=YEe,QEe=XEe,FM=$u,ZEe=ex,$M=NaN,JEe=/^[-+]0x[0-9a-f]+$/i,eAe=/^0b[01]+$/i,tAe=/^0o[0-7]+$/i,rAe=parseInt;function nAe(e){if(typeof e=="number")return e;if(ZEe(e))return $M;if(FM(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=FM(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=QEe(e);var r=eAe.test(e);return r||tAe.test(e)?rAe(e.slice(2),r?2:8):JEe.test(e)?$M:+e}var xq=nAe,sAe=$u,IS=zEe,LM=xq,aAe="Expected a function",iAe=Math.max,oAe=Math.min;function lAe(e,t,r){var s,a,i,o,l,c,d=0,u=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(aAe);t=LM(t)||0,sAe(r)&&(u=!!r.leading,f="maxWait"in r,i=f?iAe(LM(r.maxWait)||0,t):i,m="trailing"in r?!!r.trailing:m);function h(S){var _=s,E=a;return s=a=void 0,d=S,o=e.apply(E,_),o}function x(S){return d=S,l=setTimeout(j,t),u?h(S):o}function p(S){var _=S-c,E=S-d,A=t-_;return f?oAe(A,i-E):A}function g(S){var _=S-c,E=S-d;return c===void 0||_>=t||_<0||f&&E>=i}function j(){var S=IS();if(g(S))return y(S);l=setTimeout(j,p(S))}function y(S){return l=void 0,m&&s?h(S):(s=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),d=0,s=c=a=l=void 0}function b(){return l===void 0?o:y(IS())}function N(){var S=IS(),_=g(S);if(s=arguments,a=this,c=S,_){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(j,t),h(c)}return l===void 0&&(l=setTimeout(j,t)),o}return N.cancel=w,N.flush=b,N}var cAe=lAe,dAe=cAe,uAe=$u,fAe="Expected a function";function mAe(e,t,r){var s=!0,a=!0;if(typeof e!="function")throw new TypeError(fAe);return uAe(r)&&(s="leading"in r?!!r.leading:s,a="trailing"in r?!!r.trailing:a),dAe(e,t,{leading:s,maxWait:t,trailing:a})}var hAe=mAe;const gq=Ar(hAe);function k0(e){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k0(e)}function BM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function yj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BM(Object(r),!0).forEach(function(s){pAe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function pAe(e,t,r){return t=xAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xAe(e){var t=gAe(e,"string");return k0(t)=="symbol"?t:t+""}function gAe(e,t){if(k0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(k0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vAe(e,t){return wAe(e)||bAe(e,t)||jAe(e,t)||yAe()}function yAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jAe(e,t){if(e){if(typeof e=="string")return UM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UM(e,t)}}function UM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function bAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function wAe(e){if(Array.isArray(e))return e}var un=v.forwardRef(function(e,t){var r=e.aspect,s=e.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,f=e.minHeight,m=e.maxHeight,h=e.children,x=e.debounce,p=x===void 0?0:x,g=e.id,j=e.className,y=e.onResize,w=e.style,b=w===void 0?{}:w,N=v.useRef(null),S=v.useRef();S.current=y,v.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var _=v.useState({containerWidth:a.width,containerHeight:a.height}),E=vAe(_,2),A=E[0],T=E[1],R=v.useCallback(function(z,H){T(function(F){var k=Math.round(z),P=Math.round(H);return F.containerWidth===k&&F.containerHeight===P?F:{containerWidth:k,containerHeight:P}})},[]);v.useEffect(function(){var z=function(O){var K,ne=O[0].contentRect,D=ne.width,U=ne.height;R(D,U),(K=S.current)===null||K===void 0||K.call(S,D,U)};p>0&&(z=gq(z,p,{trailing:!0,leading:!1}));var H=new ResizeObserver(z),F=N.current.getBoundingClientRect(),k=F.width,P=F.height;return R(k,P),H.observe(N.current),function(){H.disconnect()}},[R,p]);var I=v.useMemo(function(){var z=A.containerWidth,H=A.containerHeight;if(z<0||H<0)return null;al(gf(o)||gf(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),al(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=gf(o)?z:o,k=gf(c)?H:c;r&&r>0&&(F?k=F/r:k&&(F=k*r),m&&k>m&&(k=m)),al(F>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,k,o,c,u,f,r);var P=!Array.isArray(h)&&Bc(h.type).endsWith("Chart");return V.Children.map(h,function(M){return fH.isElement(M)?v.cloneElement(M,yj({width:F,height:k},P?{style:yj({height:"100%",width:"100%",maxHeight:k,maxWidth:F},M.props.style)}:{})):M})},[r,h,c,m,f,u,A,o]);return V.createElement("div",{id:g?"".concat(g):void 0,className:Vt("recharts-responsive-container",j),style:yj(yj({},b),{},{width:o,height:c,minWidth:u,minHeight:f,maxHeight:m}),ref:N},I)}),Ca=function(t){return null};Ca.displayName="Cell";function T0(e){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T0(e)}function VM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ZE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(r),!0).forEach(function(s){NAe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function NAe(e,t,r){return t=_Ae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Ae(e){var t=SAe(e,"string");return T0(t)=="symbol"?t:t+""}function SAe(e,t){if(T0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(T0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rm={widthCache:{},cacheCount:0},CAe=2e3,EAe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zM="recharts_measurement_span";function AAe(e){var t=ZE({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Tg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ol.isSsr)return{width:0,height:0};var s=AAe(r),a=JSON.stringify({text:t,copyStyle:s});if(Rm.widthCache[a])return Rm.widthCache[a];try{var i=document.getElementById(zM);i||(i=document.createElement("span"),i.setAttribute("id",zM),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=ZE(ZE({},EAe),s);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Rm.widthCache[a]=c,++Rm.cacheCount>CAe&&(Rm.cacheCount=0,Rm.widthCache={}),c}catch{return{width:0,height:0}}},PAe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function O0(e){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O0(e)}function M1(e,t){return DAe(e)||OAe(e,t)||TAe(e,t)||kAe()}function kAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TAe(e,t){if(e){if(typeof e=="string")return WM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WM(e,t)}}function WM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function OAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function DAe(e){if(Array.isArray(e))return e}function IAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HM(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,MAe(s.key),s)}}function RAe(e,t,r){return t&&HM(e.prototype,t),r&&HM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MAe(e){var t=FAe(e,"string");return O0(t)=="symbol"?t:t+""}function FAe(e,t){if(O0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(O0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$Ae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,LAe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},BAe=Object.keys(vq),sh="NaN";function UAe(e,t){return e*vq[t]}var jj=function(){function e(t,r){IAe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!$Ae.test(r)&&(this.num=NaN,this.unit=""),BAe.includes(r)&&(this.num=UAe(t,r),this.unit="px")}return RAe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var s,a=(s=LAe.exec(r))!==null&&s!==void 0?s:[],i=M1(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function yq(e){if(e.includes(sh))return sh;for(var t=e;t.includes("*")||t.includes("/");){var r,s=(r=qM.exec(t))!==null&&r!==void 0?r:[],a=M1(s,4),i=a[1],o=a[2],l=a[3],c=jj.parse(i??""),d=jj.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return sh;t=t.replace(qM,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=GM.exec(t))!==null&&f!==void 0?f:[],h=M1(m,4),x=h[1],p=h[2],g=h[3],j=jj.parse(x??""),y=jj.parse(g??""),w=p==="+"?j.add(y):j.subtract(y);if(w.isNaN())return sh;t=t.replace(GM,w.toString())}return t}var KM=/\(([^()]*)\)/;function VAe(e){for(var t=e;t.includes("(");){var r=KM.exec(t),s=M1(r,2),a=s[1];t=t.replace(KM,yq(a))}return t}function zAe(e){var t=e.replace(/\s+/g,"");return t=VAe(t),t=yq(t),t}function WAe(e){try{return zAe(e)}catch{return sh}}function RS(e){var t=WAe(e.slice(5,-1));return t===sh?"":t}var HAe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],qAe=["dx","dy","angle","className","breakAll"];function JE(){return JE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},JE.apply(this,arguments)}function YM(e,t){if(e==null)return{};var r=GAe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function GAe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function XM(e,t){return QAe(e)||XAe(e,t)||YAe(e,t)||KAe()}function KAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YAe(e,t){if(e){if(typeof e=="string")return QM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QM(e,t)}}function QM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function XAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function QAe(e){if(Array.isArray(e))return e}var jq=/[ \f\n\r\t\v\u2028\u2029]+/,bq=function(t){var r=t.children,s=t.breakAll,a=t.style;try{var i=[];Lt(r)||(s?i=r.toString().split(""):i=r.toString().split(jq));var o=i.map(function(c){return{word:c,width:Tg(c,a).width}}),l=s?0:Tg("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},ZAe=function(t,r,s,a,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=Qe(o),f=l,m=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(k,P){var M=P.word,O=P.width,K=k[k.length-1];if(K&&(a==null||i||K.width+O+s<Number(a)))K.words.push(M),K.width+=O+s;else{var ne={words:[M],width:O};k.push(ne)}return k},[])},h=m(r),x=function(F){return F.reduce(function(k,P){return k.width>P.width?k:P})};if(!u)return h;for(var p="",g=function(F){var k=f.slice(0,F),P=bq({breakAll:d,style:c,children:k+p}).wordsWithComputedWidth,M=m(P),O=M.length>o||x(M).width>Number(a);return[O,M]},j=0,y=f.length-1,w=0,b;j<=y&&w<=f.length-1;){var N=Math.floor((j+y)/2),S=N-1,_=g(S),E=XM(_,2),A=E[0],T=E[1],R=g(N),I=XM(R,1),z=I[0];if(!A&&!z&&(j=N+1),A&&z&&(y=N-1),!A&&z){b=T;break}w++}return b||h},ZM=function(t){var r=Lt(t)?[]:t.toString().split(jq);return[{words:r}]},JAe=function(t){var r=t.width,s=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||s)&&!ol.isSsr){var c,d,u=bq({breakAll:o,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,m=u.spaceWidth;c=f,d=m}else return ZM(a);return ZAe({breakAll:o,children:a,maxLines:l,style:i},c,d,r,s)}return ZM(a)},JM="#808080",em=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,f=u===void 0?!1:u,m=t.textAnchor,h=m===void 0?"start":m,x=t.verticalAnchor,p=x===void 0?"end":x,g=t.fill,j=g===void 0?JM:g,y=YM(t,HAe),w=v.useMemo(function(){return JAe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),b=y.dx,N=y.dy,S=y.angle,_=y.className,E=y.breakAll,A=YM(y,qAe);if(!Ns(s)||!Ns(i))return null;var T=s+(Qe(b)?b:0),R=i+(Qe(N)?N:0),I;switch(p){case"start":I=RS("calc(".concat(d,")"));break;case"middle":I=RS("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:I=RS("calc(".concat(w.length-1," * -").concat(l,")"));break}var z=[];if(f){var H=w[0].width,F=y.width;z.push("scale(".concat((Qe(F)?F/H:1)/H,")"))}return S&&z.push("rotate(".concat(S,", ").concat(T,", ").concat(R,")")),z.length&&(A.transform=z.join(" ")),V.createElement("text",JE({},Nt(A,!0),{x:T,y:R,className:Vt("recharts-text",_),textAnchor:h,fill:j.includes("url")?JM:j}),w.map(function(k,P){var M=k.words.join(E?"":" ");return V.createElement("tspan",{x:T,dy:P===0?I:l,key:"".concat(M,"-").concat(P)},M)}))};function uu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ePe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yO(e){let t,r,s;e.length!==2?(t=uu,r=(l,c)=>uu(e(l),c),s=(l,c)=>e(l)-c):(t=e===uu||e===ePe?e:tPe,r=e,s=e);function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){const f=a(l,c,d,u-1);return f>d&&s(l[f-1],c)>-s(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function tPe(){return 0}function wq(e){return e===null?NaN:+e}function*rPe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const nPe=yO(uu),my=nPe.right;yO(wq).center;class eF extends Map{constructor(t,r=iPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(tF(this,t))}has(t){return super.has(tF(this,t))}set(t,r){return super.set(sPe(this,t),r)}delete(t){return super.delete(aPe(this,t))}}function tF({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):r}function sPe({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):(e.set(s,r),r)}function aPe({_intern:e,_key:t},r){const s=t(r);return e.has(s)&&(r=e.get(s),e.delete(s)),r}function iPe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function oPe(e=uu){if(e===uu)return Nq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const s=e(t,r);return s||s===0?s:(e(r,r)===0)-(e(t,t)===0)}}function Nq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const lPe=Math.sqrt(50),cPe=Math.sqrt(10),dPe=Math.sqrt(2);function F1(e,t,r){const s=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=lPe?10:i>=cPe?5:i>=dPe?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?F1(e,t,r*2):[l,c,d]}function eA(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const s=t<e,[a,i,o]=s?F1(t,e,r):F1(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function tA(e,t,r){return t=+t,e=+e,r=+r,F1(e,t,r)[2]}function rA(e,t,r){t=+t,e=+e,r=+r;const s=t<e,a=s?tA(t,e,r):tA(e,t,r);return(s?-1:1)*(a<0?1/-a:a)}function rF(e,t){let r;for(const s of e)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);return r}function nF(e,t){let r;for(const s of e)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);return r}function _q(e,t,r=0,s=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(e.length-1,s)),!(r<=t&&t<=s))return e;for(a=a===void 0?Nq:oPe(a);s>r;){if(s-r>600){const c=s-r+1,d=t-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),h=Math.max(r,Math.floor(t-d*f/c+m)),x=Math.min(s,Math.floor(t+(c-d)*f/c+m));_q(e,t,h,x,a)}const i=e[t];let o=r,l=s;for(qx(e,r,t),a(e[s],i)>0&&qx(e,r,s);o<l;){for(qx(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?qx(e,r,l):(++l,qx(e,l,s)),l<=t&&(r=l+1),t<=l&&(s=l-1)}return e}function qx(e,t,r){const s=e[t];e[t]=e[r],e[r]=s}function uPe(e,t,r){if(e=Float64Array.from(rPe(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return nF(e);if(t>=1)return rF(e);var s,a=(s-1)*t,i=Math.floor(a),o=rF(_q(e,i).subarray(0,i+1)),l=nF(e.subarray(i+1));return o+(l-o)*(a-i)}}function fPe(e,t,r=wq){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+r(e[0],0,e);if(t>=1)return+r(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function mPe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++s<a;)i[s]=e+s*r;return i}function Io(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function pd(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const nA=Symbol("implicit");function jO(){var e=new eF,t=[],r=[],s=nA;function a(i){let o=e.get(i);if(o===void 0){if(s!==nA)return s;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new eF;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return jO(t,r).unknown(s)},Io.apply(a,arguments),a}function D0(){var e=jO().unknown(void 0),t=e.domain,r=e.range,s=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var m=t().length,h=a<s,x=h?a:s,p=h?s:a;i=(p-x)/Math.max(1,m-c+d*2),l&&(i=Math.floor(i)),x+=(p-x-i*(m-c))*u,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var g=mPe(m).map(function(j){return x+i*j});return r(h?g.reverse():g)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([s,a]=m,s=+s,a=+a,f()):[s,a]},e.rangeRound=function(m){return[s,a]=m,s=+s,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(d=+m,f()):d},e.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),f()):u},e.copy=function(){return D0(t(),[s,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},Io.apply(f(),arguments)}function Sq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Sq(t())},e}function Og(){return Sq(D0.apply(null,arguments).paddingInner(1))}function bO(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Cq(e,t){var r=Object.create(e.prototype);for(var s in t)r[s]=t[s];return r}function hy(){}var I0=.7,$1=1/I0,_h="\\s*([+-]?\\d+)\\s*",R0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ql="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hPe=/^#([0-9a-f]{3,8})$/,pPe=new RegExp(`^rgb\\(${_h},${_h},${_h}\\)$`),xPe=new RegExp(`^rgb\\(${Ql},${Ql},${Ql}\\)$`),gPe=new RegExp(`^rgba\\(${_h},${_h},${_h},${R0}\\)$`),vPe=new RegExp(`^rgba\\(${Ql},${Ql},${Ql},${R0}\\)$`),yPe=new RegExp(`^hsl\\(${R0},${Ql},${Ql}\\)$`),jPe=new RegExp(`^hsla\\(${R0},${Ql},${Ql},${R0}\\)$`),sF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bO(hy,M0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:aF,formatHex:aF,formatHex8:bPe,formatHsl:wPe,formatRgb:iF,toString:iF});function aF(){return this.rgb().formatHex()}function bPe(){return this.rgb().formatHex8()}function wPe(){return Eq(this).formatHsl()}function iF(){return this.rgb().formatRgb()}function M0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=hPe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?oF(t):r===3?new ni(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bj(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bj(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pPe.exec(e))?new ni(t[1],t[2],t[3],1):(t=xPe.exec(e))?new ni(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=gPe.exec(e))?bj(t[1],t[2],t[3],t[4]):(t=vPe.exec(e))?bj(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=yPe.exec(e))?dF(t[1],t[2]/100,t[3]/100,1):(t=jPe.exec(e))?dF(t[1],t[2]/100,t[3]/100,t[4]):sF.hasOwnProperty(e)?oF(sF[e]):e==="transparent"?new ni(NaN,NaN,NaN,0):null}function oF(e){return new ni(e>>16&255,e>>8&255,e&255,1)}function bj(e,t,r,s){return s<=0&&(e=t=r=NaN),new ni(e,t,r,s)}function NPe(e){return e instanceof hy||(e=M0(e)),e?(e=e.rgb(),new ni(e.r,e.g,e.b,e.opacity)):new ni}function sA(e,t,r,s){return arguments.length===1?NPe(e):new ni(e,t,r,s??1)}function ni(e,t,r,s){this.r=+e,this.g=+t,this.b=+r,this.opacity=+s}bO(ni,sA,Cq(hy,{brighter(e){return e=e==null?$1:Math.pow($1,e),new ni(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?I0:Math.pow(I0,e),new ni(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ni(Df(this.r),Df(this.g),Df(this.b),L1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lF,formatHex:lF,formatHex8:_Pe,formatRgb:cF,toString:cF}));function lF(){return`#${vf(this.r)}${vf(this.g)}${vf(this.b)}`}function _Pe(){return`#${vf(this.r)}${vf(this.g)}${vf(this.b)}${vf((isNaN(this.opacity)?1:this.opacity)*255)}`}function cF(){const e=L1(this.opacity);return`${e===1?"rgb(":"rgba("}${Df(this.r)}, ${Df(this.g)}, ${Df(this.b)}${e===1?")":`, ${e})`}`}function L1(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Df(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vf(e){return e=Df(e),(e<16?"0":"")+e.toString(16)}function dF(e,t,r,s){return s<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Qo(e,t,r,s)}function Eq(e){if(e instanceof Qo)return new Qo(e.h,e.s,e.l,e.opacity);if(e instanceof hy||(e=M0(e)),!e)return new Qo;if(e instanceof Qo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,s=e.b/255,a=Math.min(t,r,s),i=Math.max(t,r,s),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-s)/l+(r<s)*6:r===i?o=(s-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Qo(o,l,c,e.opacity)}function SPe(e,t,r,s){return arguments.length===1?Eq(e):new Qo(e,t,r,s??1)}function Qo(e,t,r,s){this.h=+e,this.s=+t,this.l=+r,this.opacity=+s}bO(Qo,SPe,Cq(hy,{brighter(e){return e=e==null?$1:Math.pow($1,e),new Qo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?I0:Math.pow(I0,e),new Qo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*t,a=2*r-s;return new ni(MS(e>=240?e-240:e+120,a,s),MS(e,a,s),MS(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new Qo(uF(this.h),wj(this.s),wj(this.l),L1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=L1(this.opacity);return`${e===1?"hsl(":"hsla("}${uF(this.h)}, ${wj(this.s)*100}%, ${wj(this.l)*100}%${e===1?")":`, ${e})`}`}}));function uF(e){return e=(e||0)%360,e<0?e+360:e}function wj(e){return Math.max(0,Math.min(1,e||0))}function MS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const wO=e=>()=>e;function CPe(e,t){return function(r){return e+r*t}}function EPe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(s){return Math.pow(e+s*t,r)}}function APe(e){return(e=+e)==1?Aq:function(t,r){return r-t?EPe(t,r,e):wO(isNaN(t)?r:t)}}function Aq(e,t){var r=t-e;return r?CPe(e,r):wO(isNaN(e)?t:e)}const fF=function e(t){var r=APe(t);function s(a,i){var o=r((a=sA(a)).r,(i=sA(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=Aq(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return s.gamma=e,s}(1);function PPe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<r;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function kPe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function TPe(e,t){var r=t?t.length:0,s=e?Math.min(r,e.length):0,a=new Array(s),i=new Array(r),o;for(o=0;o<s;++o)a[o]=cx(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function OPe(e,t){var r=new Date;return e=+e,t=+t,function(s){return r.setTime(e*(1-s)+t*s),r}}function B1(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function DPe(e,t){var r={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=cx(e[a],t[a]):s[a]=t[a];return function(i){for(a in r)s[a]=r[a](i);return s}}var aA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,FS=new RegExp(aA.source,"g");function IPe(e){return function(){return e}}function RPe(e){return function(t){return e(t)+""}}function MPe(e,t){var r=aA.lastIndex=FS.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=aA.exec(e))&&(a=FS.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:B1(s,a)})),r=FS.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?RPe(c[0].x):IPe(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function cx(e,t){var r=typeof t,s;return t==null||r==="boolean"?wO(t):(r==="number"?B1:r==="string"?(s=M0(t))?(t=s,fF):MPe:t instanceof M0?fF:t instanceof Date?OPe:kPe(t)?PPe:Array.isArray(t)?TPe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?DPe:B1)(e,t)}function NO(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function FPe(e,t){t===void 0&&(t=e,e=cx);for(var r=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);r<s;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function $Pe(e){return function(){return e}}function U1(e){return+e}var mF=[0,1];function Ra(e){return e}function iA(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:$Pe(isNaN(t)?NaN:.5)}function LPe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(s){return Math.max(e,Math.min(t,s))}}function BPe(e,t,r){var s=e[0],a=e[1],i=t[0],o=t[1];return a<s?(s=iA(a,s),i=r(o,i)):(s=iA(s,a),i=r(i,o)),function(l){return i(s(l))}}function UPe(e,t,r){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)a[o]=iA(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=my(e,l,1,s)-1;return i[c](a[c](l))}}function py(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function j2(){var e=mF,t=mF,r=cx,s,a,i,o=Ra,l,c,d;function u(){var m=Math.min(e.length,t.length);return o!==Ra&&(o=LPe(e[0],e[m-1])),l=m>2?UPe:BPe,c=d=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(s),t,r)))(s(o(m)))}return f.invert=function(m){return o(a((d||(d=l(t,e.map(s),B1)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,U1),u()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),u()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=NO,u()},f.clamp=function(m){return arguments.length?(o=m?!0:Ra,u()):o!==Ra},f.interpolate=function(m){return arguments.length?(r=m,u()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,h){return s=m,a=h,u()}}function _O(){return j2()(Ra,Ra)}function VPe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function V1(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,s=e.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+e.slice(r+1)]}function up(e){return e=V1(Math.abs(e)),e?e[1]:NaN}function zPe(e,t){return function(r,s){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function WPe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var HPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function F0(e){if(!(t=HPe.exec(e)))throw new Error("invalid format: "+e);var t;return new SO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}F0.prototype=SO.prototype;function SO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}SO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qPe(e){e:for(var t=e.length,r=1,s=-1,a;r<t;++r)switch(e[r]){case".":s=a=r;break;case"0":s===0&&(s=r),a=r;break;default:if(!+e[r])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var Pq;function GPe(e,t){var r=V1(e,t);if(!r)return e+"";var s=r[0],a=r[1],i=a-(Pq=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+V1(e,Math.max(0,t+i-1))[0]}function hF(e,t){var r=V1(e,t);if(!r)return e+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const pF={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:VPe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>hF(e*100,t),r:hF,s:GPe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xF(e){return e}var gF=Array.prototype.map,vF=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function KPe(e){var t=e.grouping===void 0||e.thousands===void 0?xF:zPe(gF.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?xF:WPe(gF.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=F0(f);var m=f.fill,h=f.align,x=f.sign,p=f.symbol,g=f.zero,j=f.width,y=f.comma,w=f.precision,b=f.trim,N=f.type;N==="n"?(y=!0,N="g"):pF[N]||(w===void 0&&(w=12),b=!0,N="g"),(g||m==="0"&&h==="=")&&(g=!0,m="0",h="=");var S=p==="$"?r:p==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",_=p==="$"?s:/[%p]/.test(N)?o:"",E=pF[N],A=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(R){var I=S,z=_,H,F,k;if(N==="c")z=E(R)+z,R="";else{R=+R;var P=R<0||1/R<0;if(R=isNaN(R)?c:E(Math.abs(R),w),b&&(R=qPe(R)),P&&+R==0&&x!=="+"&&(P=!1),I=(P?x==="("?x:l:x==="-"||x==="("?"":x)+I,z=(N==="s"?vF[8+Pq/3]:"")+z+(P&&x==="("?")":""),A){for(H=-1,F=R.length;++H<F;)if(k=R.charCodeAt(H),48>k||k>57){z=(k===46?a+R.slice(H+1):R.slice(H))+z,R=R.slice(0,H);break}}}y&&!g&&(R=t(R,1/0));var M=I.length+R.length+z.length,O=M<j?new Array(j-M+1).join(m):"";switch(y&&g&&(R=t(O+R,O.length?j-z.length:1/0),O=""),h){case"<":R=I+R+z+O;break;case"=":R=I+O+R+z;break;case"^":R=O.slice(0,M=O.length>>1)+I+R+z+O.slice(M);break;default:R=O+I+R+z;break}return i(R)}return T.toString=function(){return f+""},T}function u(f,m){var h=d((f=F0(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(up(m)/3)))*3,p=Math.pow(10,-x),g=vF[8+x/3];return function(j){return h(p*j)+g}}return{format:d,formatPrefix:u}}var Nj,CO,kq;YPe({thousands:",",grouping:[3],currency:["$",""]});function YPe(e){return Nj=KPe(e),CO=Nj.format,kq=Nj.formatPrefix,Nj}function XPe(e){return Math.max(0,-up(Math.abs(e)))}function QPe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(up(t)/3)))*3-up(Math.abs(e)))}function ZPe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,up(t)-up(e))+1}function Tq(e,t,r,s){var a=rA(e,t,r),i;switch(s=F0(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=QPe(a,o))&&(s.precision=i),kq(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=ZPe(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=XPe(a))&&(s.precision=i-(s.type==="%")*2);break}}return CO(s)}function Lu(e){var t=e.domain;return e.ticks=function(r){var s=t();return eA(s[0],s[s.length-1],r??10)},e.tickFormat=function(r,s){var a=t();return Tq(a[0],a[a.length-1],r??10,s)},e.nice=function(r){r==null&&(r=10);var s=t(),a=0,i=s.length-1,o=s[a],l=s[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=tA(o,l,r),d===c)return s[a]=o,s[i]=l,t(s);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function z1(){var e=_O();return e.copy=function(){return py(e,z1())},Io.apply(e,arguments),Lu(e)}function Oq(e){var t;function r(s){return s==null||isNaN(s=+s)?t:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(e=Array.from(s,U1),r):e.slice()},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return Oq(e).unknown(t)},e=arguments.length?Array.from(e,U1):[0,1],Lu(r)}function Dq(e,t){e=e.slice();var r=0,s=e.length-1,a=e[r],i=e[s],o;return i<a&&(o=r,r=s,s=o,o=a,a=i,i=o),e[r]=t.floor(a),e[s]=t.ceil(i),e}function yF(e){return Math.log(e)}function jF(e){return Math.exp(e)}function JPe(e){return-Math.log(-e)}function eke(e){return-Math.exp(-e)}function tke(e){return isFinite(e)?+("1e"+e):e<0?0:e}function rke(e){return e===10?tke:e===Math.E?Math.exp:t=>Math.pow(e,t)}function nke(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function bF(e){return(t,r)=>-e(-t,r)}function EO(e){const t=e(yF,jF),r=t.domain;let s=10,a,i;function o(){return a=nke(s),i=rke(s),r()[0]<0?(a=bF(a),i=bF(i),e(JPe,eke)):e(yF,jF),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let m=a(d),h=a(u),x,p;const g=l==null?10:+l;let j=[];if(!(s%1)&&h-m<g){if(m=Math.floor(m),h=Math.ceil(h),d>0){for(;m<=h;++m)for(x=1;x<s;++x)if(p=m<0?x/i(-m):x*i(m),!(p<d)){if(p>u)break;j.push(p)}}else for(;m<=h;++m)for(x=s-1;x>=1;--x)if(p=m>0?x/i(-m):x*i(m),!(p<d)){if(p>u)break;j.push(p)}j.length*2<g&&(j=eA(d,u,g))}else j=eA(m,h,Math.min(h-m,g)).map(i);return f?j.reverse():j},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=F0(c)).precision==null&&(c.trim=!0),c=CO(c)),l===1/0)return c;const d=Math.max(1,s*l/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*s<s-.5&&(f*=s),f<=d?c(u):""}},t.nice=()=>r(Dq(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function Iq(){const e=EO(j2()).domain([1,10]);return e.copy=()=>py(e,Iq()).base(e.base()),Io.apply(e,arguments),e}function wF(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function NF(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function AO(e){var t=1,r=e(wF(t),NF(t));return r.constant=function(s){return arguments.length?e(wF(t=+s),NF(t)):t},Lu(r)}function Rq(){var e=AO(j2());return e.copy=function(){return py(e,Rq()).constant(e.constant())},Io.apply(e,arguments)}function _F(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ske(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ake(e){return e<0?-e*e:e*e}function PO(e){var t=e(Ra,Ra),r=1;function s(){return r===1?e(Ra,Ra):r===.5?e(ske,ake):e(_F(r),_F(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,s()):r},Lu(t)}function kO(){var e=PO(j2());return e.copy=function(){return py(e,kO()).exponent(e.exponent())},Io.apply(e,arguments),e}function ike(){return kO.apply(null,arguments).exponent(.5)}function SF(e){return Math.sign(e)*e*e}function oke(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Mq(){var e=_O(),t=[0,1],r=!1,s;function a(i){var o=oke(e(i));return isNaN(o)?s:r?Math.round(o):o}return a.invert=function(i){return e.invert(SF(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,U1)).map(SF)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return Mq(e.domain(),t).round(r).clamp(e.clamp()).unknown(s)},Io.apply(a,arguments),Lu(a)}function Fq(){var e=[],t=[],r=[],s;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=fPe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:t[my(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(uu),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return r.slice()},i.copy=function(){return Fq().domain(e).range(t).unknown(s)},Io.apply(i,arguments)}function $q(){var e=0,t=1,r=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[my(s,c,0,r)]:i}function l(){var c=-1;for(s=new Array(r);++c<r;)s[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,s[0]]:d>=r?[s[r-1],t]:[s[d-1],s[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return $q().domain([e,t]).range(a).unknown(i)},Io.apply(Lu(o),arguments)}function Lq(){var e=[.5],t=[0,1],r,s=1;function a(i){return i!=null&&i<=i?t[my(e,i,0,s)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Lq().domain(e).range(t).unknown(r)},Io.apply(a,arguments)}const $S=new Date,LS=new Date;function Ss(e,t,r,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>Ss(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>($S.setTime(+i),LS.setTime(+o),e($S),e(LS),Math.floor(r($S,LS))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const W1=Ss(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);W1.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ss(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):W1);W1.range;const Ic=1e3,jo=Ic*60,Rc=jo*60,nd=Rc*24,TO=nd*7,CF=nd*30,BS=nd*365,yf=Ss(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ic)},(e,t)=>(t-e)/Ic,e=>e.getUTCSeconds());yf.range;const OO=Ss(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ic)},(e,t)=>{e.setTime(+e+t*jo)},(e,t)=>(t-e)/jo,e=>e.getMinutes());OO.range;const DO=Ss(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*jo)},(e,t)=>(t-e)/jo,e=>e.getUTCMinutes());DO.range;const IO=Ss(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ic-e.getMinutes()*jo)},(e,t)=>{e.setTime(+e+t*Rc)},(e,t)=>(t-e)/Rc,e=>e.getHours());IO.range;const RO=Ss(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Rc)},(e,t)=>(t-e)/Rc,e=>e.getUTCHours());RO.range;const xy=Ss(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*jo)/nd,e=>e.getDate()-1);xy.range;const b2=Ss(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/nd,e=>e.getUTCDate()-1);b2.range;const Bq=Ss(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/nd,e=>Math.floor(e/nd));Bq.range;function vm(e){return Ss(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*jo)/TO)}const w2=vm(0),H1=vm(1),lke=vm(2),cke=vm(3),fp=vm(4),dke=vm(5),uke=vm(6);w2.range;H1.range;lke.range;cke.range;fp.range;dke.range;uke.range;function ym(e){return Ss(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/TO)}const N2=ym(0),q1=ym(1),fke=ym(2),mke=ym(3),mp=ym(4),hke=ym(5),pke=ym(6);N2.range;q1.range;fke.range;mke.range;mp.range;hke.range;pke.range;const MO=Ss(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());MO.range;const FO=Ss(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());FO.range;const sd=Ss(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());sd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ss(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});sd.range;const ad=Ss(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ad.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ss(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ad.range;function Uq(e,t,r,s,a,i){const o=[[yf,1,Ic],[yf,5,5*Ic],[yf,15,15*Ic],[yf,30,30*Ic],[i,1,jo],[i,5,5*jo],[i,15,15*jo],[i,30,30*jo],[a,1,Rc],[a,3,3*Rc],[a,6,6*Rc],[a,12,12*Rc],[s,1,nd],[s,2,2*nd],[r,1,TO],[t,1,CF],[t,3,3*CF],[e,1,BS]];function l(d,u,f){const m=u<d;m&&([d,u]=[u,d]);const h=f&&typeof f.range=="function"?f:c(d,u,f),x=h?h.range(d,+u+1):[];return m?x.reverse():x}function c(d,u,f){const m=Math.abs(u-d)/f,h=yO(([,,g])=>g).right(o,m);if(h===o.length)return e.every(rA(d/BS,u/BS,f));if(h===0)return W1.every(Math.max(rA(d,u,f),1));const[x,p]=o[m/o[h-1][2]<o[h][2]/m?h-1:h];return x.every(p)}return[l,c]}const[xke,gke]=Uq(ad,FO,N2,Bq,RO,DO),[vke,yke]=Uq(sd,MO,w2,xy,IO,OO);function US(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function VS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Gx(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function jke(e){var t=e.dateTime,r=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Kx(a),u=Yx(a),f=Kx(i),m=Yx(i),h=Kx(o),x=Yx(o),p=Kx(l),g=Yx(l),j=Kx(c),y=Yx(c),w={a:P,A:M,b:O,B:K,c:null,d:OF,e:OF,f:zke,g:Jke,G:tTe,H:Bke,I:Uke,j:Vke,L:Vq,m:Wke,M:Hke,p:ne,q:D,Q:RF,s:MF,S:qke,u:Gke,U:Kke,V:Yke,w:Xke,W:Qke,x:null,X:null,y:Zke,Y:eTe,Z:rTe,"%":IF},b={a:U,A:L,b:G,B:le,c:null,d:DF,e:DF,f:iTe,g:xTe,G:vTe,H:nTe,I:sTe,j:aTe,L:Wq,m:oTe,M:lTe,p:fe,q:B,Q:RF,s:MF,S:cTe,u:dTe,U:uTe,V:fTe,w:mTe,W:hTe,x:null,X:null,y:pTe,Y:gTe,Z:yTe,"%":IF},N={a:T,A:R,b:I,B:z,c:H,d:kF,e:kF,f:Mke,g:PF,G:AF,H:TF,I:TF,j:Oke,L:Rke,m:Tke,M:Dke,p:A,q:kke,Q:$ke,s:Lke,S:Ike,u:Ske,U:Cke,V:Eke,w:_ke,W:Ake,x:F,X:k,y:PF,Y:AF,Z:Pke,"%":Fke};w.x=S(r,w),w.X=S(s,w),w.c=S(t,w),b.x=S(r,b),b.X=S(s,b),b.c=S(t,b);function S(Y,ie){return function(we){var ue=[],ge=-1,xe=0,_e=Y.length,Re,ke,re;for(we instanceof Date||(we=new Date(+we));++ge<_e;)Y.charCodeAt(ge)===37&&(ue.push(Y.slice(xe,ge)),(ke=EF[Re=Y.charAt(++ge)])!=null?Re=Y.charAt(++ge):ke=Re==="e"?" ":"0",(re=ie[Re])&&(Re=re(we,ke)),ue.push(Re),xe=ge+1);return ue.push(Y.slice(xe,ge)),ue.join("")}}function _(Y,ie){return function(we){var ue=Gx(1900,void 0,1),ge=E(ue,Y,we+="",0),xe,_e;if(ge!=we.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(ie&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(xe=VS(Gx(ue.y,0,1)),_e=xe.getUTCDay(),xe=_e>4||_e===0?q1.ceil(xe):q1(xe),xe=b2.offset(xe,(ue.V-1)*7),ue.y=xe.getUTCFullYear(),ue.m=xe.getUTCMonth(),ue.d=xe.getUTCDate()+(ue.w+6)%7):(xe=US(Gx(ue.y,0,1)),_e=xe.getDay(),xe=_e>4||_e===0?H1.ceil(xe):H1(xe),xe=xy.offset(xe,(ue.V-1)*7),ue.y=xe.getFullYear(),ue.m=xe.getMonth(),ue.d=xe.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),_e="Z"in ue?VS(Gx(ue.y,0,1)).getUTCDay():US(Gx(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(_e+5)%7:ue.w+ue.U*7-(_e+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,VS(ue)):US(ue)}}function E(Y,ie,we,ue){for(var ge=0,xe=ie.length,_e=we.length,Re,ke;ge<xe;){if(ue>=_e)return-1;if(Re=ie.charCodeAt(ge++),Re===37){if(Re=ie.charAt(ge++),ke=N[Re in EF?ie.charAt(ge++):Re],!ke||(ue=ke(Y,we,ue))<0)return-1}else if(Re!=we.charCodeAt(ue++))return-1}return ue}function A(Y,ie,we){var ue=d.exec(ie.slice(we));return ue?(Y.p=u.get(ue[0].toLowerCase()),we+ue[0].length):-1}function T(Y,ie,we){var ue=h.exec(ie.slice(we));return ue?(Y.w=x.get(ue[0].toLowerCase()),we+ue[0].length):-1}function R(Y,ie,we){var ue=f.exec(ie.slice(we));return ue?(Y.w=m.get(ue[0].toLowerCase()),we+ue[0].length):-1}function I(Y,ie,we){var ue=j.exec(ie.slice(we));return ue?(Y.m=y.get(ue[0].toLowerCase()),we+ue[0].length):-1}function z(Y,ie,we){var ue=p.exec(ie.slice(we));return ue?(Y.m=g.get(ue[0].toLowerCase()),we+ue[0].length):-1}function H(Y,ie,we){return E(Y,t,ie,we)}function F(Y,ie,we){return E(Y,r,ie,we)}function k(Y,ie,we){return E(Y,s,ie,we)}function P(Y){return o[Y.getDay()]}function M(Y){return i[Y.getDay()]}function O(Y){return c[Y.getMonth()]}function K(Y){return l[Y.getMonth()]}function ne(Y){return a[+(Y.getHours()>=12)]}function D(Y){return 1+~~(Y.getMonth()/3)}function U(Y){return o[Y.getUTCDay()]}function L(Y){return i[Y.getUTCDay()]}function G(Y){return c[Y.getUTCMonth()]}function le(Y){return l[Y.getUTCMonth()]}function fe(Y){return a[+(Y.getUTCHours()>=12)]}function B(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var ie=S(Y+="",w);return ie.toString=function(){return Y},ie},parse:function(Y){var ie=_(Y+="",!1);return ie.toString=function(){return Y},ie},utcFormat:function(Y){var ie=S(Y+="",b);return ie.toString=function(){return Y},ie},utcParse:function(Y){var ie=_(Y+="",!0);return ie.toString=function(){return Y},ie}}}var EF={"-":"",_:" ",0:"0"},Us=/^\s*\d+/,bke=/^%/,wke=/[\\^$*+?|[\]().{}]/g;function jr(e,t,r){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<r?new Array(r-i+1).join(t)+a:a)}function Nke(e){return e.replace(wke,"\\$&")}function Kx(e){return new RegExp("^(?:"+e.map(Nke).join("|")+")","i")}function Yx(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function _ke(e,t,r){var s=Us.exec(t.slice(r,r+1));return s?(e.w=+s[0],r+s[0].length):-1}function Ske(e,t,r){var s=Us.exec(t.slice(r,r+1));return s?(e.u=+s[0],r+s[0].length):-1}function Cke(e,t,r){var s=Us.exec(t.slice(r,r+2));return s?(e.U=+s[0],r+s[0].length):-1}function Eke(e,t,r){var s=Us.exec(t.slice(r,r+2));return s?(e.V=+s[0],r+s[0].length):-1}function Ake(e,t,r){var s=Us.exec(t.slice(r,r+2));return s?(e.W=+s[0],r+s[0].length):-1}function AF(e,t,r){var s=Us.exec(t.slice(r,r+4));return s?(e.y=+s[0],r+s[0].length):-1}function PF(e,t,r){var s=Us.exec(t.slice(r,r+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function Pke(e,t,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function kke(e,t,r){var s=Us.exec(t.slice(r,r+1));return s?(e.q=s[0]*3-3,r+s[0].length):-1}function Tke(e,t,r){var s=Us.exec(t.slice(r,r+2));return s?(e.m=s[0]-1,r+s[0].length):-1}function kF(e,t,r){var s=Us.exec(t.slice(r,r+2));return s?(e.d=+s[0],r+s[0].length):-1}function Oke(e,t,r){var s=Us.exec(t.slice(r,r+3));return s?(e.m=0,e.d=+s[0],r+s[0].length):-1}function TF(e,t,r){var s=Us.exec(t.slice(r,r+2));return s?(e.H=+s[0],r+s[0].length):-1}function Dke(e,t,r){var s=Us.exec(t.slice(r,r+2));return s?(e.M=+s[0],r+s[0].length):-1}function Ike(e,t,r){var s=Us.exec(t.slice(r,r+2));return s?(e.S=+s[0],r+s[0].length):-1}function Rke(e,t,r){var s=Us.exec(t.slice(r,r+3));return s?(e.L=+s[0],r+s[0].length):-1}function Mke(e,t,r){var s=Us.exec(t.slice(r,r+6));return s?(e.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function Fke(e,t,r){var s=bke.exec(t.slice(r,r+1));return s?r+s[0].length:-1}function $ke(e,t,r){var s=Us.exec(t.slice(r));return s?(e.Q=+s[0],r+s[0].length):-1}function Lke(e,t,r){var s=Us.exec(t.slice(r));return s?(e.s=+s[0],r+s[0].length):-1}function OF(e,t){return jr(e.getDate(),t,2)}function Bke(e,t){return jr(e.getHours(),t,2)}function Uke(e,t){return jr(e.getHours()%12||12,t,2)}function Vke(e,t){return jr(1+xy.count(sd(e),e),t,3)}function Vq(e,t){return jr(e.getMilliseconds(),t,3)}function zke(e,t){return Vq(e,t)+"000"}function Wke(e,t){return jr(e.getMonth()+1,t,2)}function Hke(e,t){return jr(e.getMinutes(),t,2)}function qke(e,t){return jr(e.getSeconds(),t,2)}function Gke(e){var t=e.getDay();return t===0?7:t}function Kke(e,t){return jr(w2.count(sd(e)-1,e),t,2)}function zq(e){var t=e.getDay();return t>=4||t===0?fp(e):fp.ceil(e)}function Yke(e,t){return e=zq(e),jr(fp.count(sd(e),e)+(sd(e).getDay()===4),t,2)}function Xke(e){return e.getDay()}function Qke(e,t){return jr(H1.count(sd(e)-1,e),t,2)}function Zke(e,t){return jr(e.getFullYear()%100,t,2)}function Jke(e,t){return e=zq(e),jr(e.getFullYear()%100,t,2)}function eTe(e,t){return jr(e.getFullYear()%1e4,t,4)}function tTe(e,t){var r=e.getDay();return e=r>=4||r===0?fp(e):fp.ceil(e),jr(e.getFullYear()%1e4,t,4)}function rTe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+jr(t/60|0,"0",2)+jr(t%60,"0",2)}function DF(e,t){return jr(e.getUTCDate(),t,2)}function nTe(e,t){return jr(e.getUTCHours(),t,2)}function sTe(e,t){return jr(e.getUTCHours()%12||12,t,2)}function aTe(e,t){return jr(1+b2.count(ad(e),e),t,3)}function Wq(e,t){return jr(e.getUTCMilliseconds(),t,3)}function iTe(e,t){return Wq(e,t)+"000"}function oTe(e,t){return jr(e.getUTCMonth()+1,t,2)}function lTe(e,t){return jr(e.getUTCMinutes(),t,2)}function cTe(e,t){return jr(e.getUTCSeconds(),t,2)}function dTe(e){var t=e.getUTCDay();return t===0?7:t}function uTe(e,t){return jr(N2.count(ad(e)-1,e),t,2)}function Hq(e){var t=e.getUTCDay();return t>=4||t===0?mp(e):mp.ceil(e)}function fTe(e,t){return e=Hq(e),jr(mp.count(ad(e),e)+(ad(e).getUTCDay()===4),t,2)}function mTe(e){return e.getUTCDay()}function hTe(e,t){return jr(q1.count(ad(e)-1,e),t,2)}function pTe(e,t){return jr(e.getUTCFullYear()%100,t,2)}function xTe(e,t){return e=Hq(e),jr(e.getUTCFullYear()%100,t,2)}function gTe(e,t){return jr(e.getUTCFullYear()%1e4,t,4)}function vTe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?mp(e):mp.ceil(e),jr(e.getUTCFullYear()%1e4,t,4)}function yTe(){return"+0000"}function IF(){return"%"}function RF(e){return+e}function MF(e){return Math.floor(+e/1e3)}var Mm,qq,Gq;jTe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jTe(e){return Mm=jke(e),qq=Mm.format,Mm.parse,Gq=Mm.utcFormat,Mm.utcParse,Mm}function bTe(e){return new Date(e)}function wTe(e){return e instanceof Date?+e:+new Date(+e)}function $O(e,t,r,s,a,i,o,l,c,d){var u=_O(),f=u.invert,m=u.domain,h=d(".%L"),x=d(":%S"),p=d("%I:%M"),g=d("%I %p"),j=d("%a %d"),y=d("%b %d"),w=d("%B"),b=d("%Y");function N(S){return(c(S)<S?h:l(S)<S?x:o(S)<S?p:i(S)<S?g:s(S)<S?a(S)<S?j:y:r(S)<S?w:b)(S)}return u.invert=function(S){return new Date(f(S))},u.domain=function(S){return arguments.length?m(Array.from(S,wTe)):m().map(bTe)},u.ticks=function(S){var _=m();return e(_[0],_[_.length-1],S??10)},u.tickFormat=function(S,_){return _==null?N:d(_)},u.nice=function(S){var _=m();return(!S||typeof S.range!="function")&&(S=t(_[0],_[_.length-1],S??10)),S?m(Dq(_,S)):u},u.copy=function(){return py(u,$O(e,t,r,s,a,i,o,l,c,d))},u}function NTe(){return Io.apply($O(vke,yke,sd,MO,w2,xy,IO,OO,yf,qq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _Te(){return Io.apply($O(xke,gke,ad,FO,N2,b2,RO,DO,yf,Gq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _2(){var e=0,t=1,r,s,a,i,o=Ra,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),s=i(t=+t),a=r===s?0:1/(s-r),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function u(f){return function(m){var h,x;return arguments.length?([h,x]=m,o=f(h,x),d):[o(0),o(1)]}}return d.range=u(cx),d.rangeRound=u(NO),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,r=f(e),s=f(t),a=r===s?0:1/(s-r),d}}function Bu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Kq(){var e=Lu(_2()(Ra));return e.copy=function(){return Bu(e,Kq())},pd.apply(e,arguments)}function Yq(){var e=EO(_2()).domain([1,10]);return e.copy=function(){return Bu(e,Yq()).base(e.base())},pd.apply(e,arguments)}function Xq(){var e=AO(_2());return e.copy=function(){return Bu(e,Xq()).constant(e.constant())},pd.apply(e,arguments)}function LO(){var e=PO(_2());return e.copy=function(){return Bu(e,LO()).exponent(e.exponent())},pd.apply(e,arguments)}function STe(){return LO.apply(null,arguments).exponent(.5)}function Qq(){var e=[],t=Ra;function r(s){if(s!=null&&!isNaN(s=+s))return t((my(e,s,1)-1)/(e.length-1))}return r.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(uu),r},r.interpolator=function(s){return arguments.length?(t=s,r):t},r.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(a,i)=>uPe(e,i/s))},r.copy=function(){return Qq(t).domain(e)},pd.apply(r,arguments)}function S2(){var e=0,t=.5,r=1,s=1,a,i,o,l,c,d=Ra,u,f=!1,m;function h(p){return isNaN(p=+p)?m:(p=.5+((p=+u(p))-i)*(s*p<s*i?l:c),d(f?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t,r]=p,a=u(e=+e),i=u(t=+t),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,h):[e,t,r]},h.clamp=function(p){return arguments.length?(f=!!p,h):f},h.interpolator=function(p){return arguments.length?(d=p,h):d};function x(p){return function(g){var j,y,w;return arguments.length?([j,y,w]=g,d=FPe(p,[j,y,w]),h):[d(0),d(.5),d(1)]}}return h.range=x(cx),h.rangeRound=x(NO),h.unknown=function(p){return arguments.length?(m=p,h):m},function(p){return u=p,a=p(e),i=p(t),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,h}}function Zq(){var e=Lu(S2()(Ra));return e.copy=function(){return Bu(e,Zq())},pd.apply(e,arguments)}function Jq(){var e=EO(S2()).domain([.1,1,10]);return e.copy=function(){return Bu(e,Jq()).base(e.base())},pd.apply(e,arguments)}function eG(){var e=AO(S2());return e.copy=function(){return Bu(e,eG()).constant(e.constant())},pd.apply(e,arguments)}function BO(){var e=PO(S2());return e.copy=function(){return Bu(e,BO()).exponent(e.exponent())},pd.apply(e,arguments)}function CTe(){return BO.apply(null,arguments).exponent(.5)}const FF=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:D0,scaleDiverging:Zq,scaleDivergingLog:Jq,scaleDivergingPow:BO,scaleDivergingSqrt:CTe,scaleDivergingSymlog:eG,scaleIdentity:Oq,scaleImplicit:nA,scaleLinear:z1,scaleLog:Iq,scaleOrdinal:jO,scalePoint:Og,scalePow:kO,scaleQuantile:Fq,scaleQuantize:$q,scaleRadial:Mq,scaleSequential:Kq,scaleSequentialLog:Yq,scaleSequentialPow:LO,scaleSequentialQuantile:Qq,scaleSequentialSqrt:STe,scaleSequentialSymlog:Xq,scaleSqrt:ike,scaleSymlog:Rq,scaleThreshold:Lq,scaleTime:NTe,scaleUtc:_Te,tickFormat:Tq},Symbol.toStringTag,{value:"Module"}));var ETe=ex;function ATe(e,t,r){for(var s=-1,a=e.length;++s<a;){var i=e[s],o=t(i);if(o!=null&&(l===void 0?o===o&&!ETe(o):r(o,l)))var l=o,c=i}return c}var C2=ATe;function PTe(e,t){return e>t}var tG=PTe,kTe=C2,TTe=tG,OTe=lx;function DTe(e){return e&&e.length?kTe(e,OTe,TTe):void 0}var ITe=DTe;const Yd=Ar(ITe);function RTe(e,t){return e<t}var rG=RTe,MTe=C2,FTe=rG,$Te=lx;function LTe(e){return e&&e.length?MTe(e,$Te,FTe):void 0}var BTe=LTe;const E2=Ar(BTe);var UTe=eO,VTe=uc,zTe=dq,WTe=yi;function HTe(e,t){var r=WTe(e)?UTe:zTe;return r(e,VTe(t))}var qTe=HTe,GTe=lq,KTe=qTe;function YTe(e,t){return GTe(KTe(e,t),1)}var XTe=YTe;const QTe=Ar(XTe);var ZTe=pO;function JTe(e,t){return ZTe(e,t)}var eOe=JTe;const tm=Ar(eOe);var dx=1e9,tOe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},VO,xn=!0,Po="[DecimalError] ",If=Po+"Invalid argument: ",UO=Po+"Exponent out of range: ",ux=Math.floor,rf=Math.pow,rOe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mi,Cs=1e7,sn=7,nG=9007199254740991,G1=ux(nG/sn),yt={};yt.absoluteValue=yt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};yt.comparedTo=yt.cmp=function(e){var t,r,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,r=s<a?s:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};yt.decimalPlaces=yt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*sn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};yt.dividedBy=yt.div=function(e){return Uc(this,new this.constructor(e))};yt.dividedToIntegerBy=yt.idiv=function(e){var t=this,r=t.constructor;return Wr(Uc(t,new r(e),0,1),r.precision)};yt.equals=yt.eq=function(e){return!this.cmp(e)};yt.exponent=function(){return ss(this)};yt.greaterThan=yt.gt=function(e){return this.cmp(e)>0};yt.greaterThanOrEqualTo=yt.gte=function(e){return this.cmp(e)>=0};yt.isInteger=yt.isint=function(){return this.e>this.d.length-2};yt.isNegative=yt.isneg=function(){return this.s<0};yt.isPositive=yt.ispos=function(){return this.s>0};yt.isZero=function(){return this.s===0};yt.lessThan=yt.lt=function(e){return this.cmp(e)<0};yt.lessThanOrEqualTo=yt.lte=function(e){return this.cmp(e)<1};yt.logarithm=yt.log=function(e){var t,r=this,s=r.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(Mi))throw Error(Po+"NaN");if(r.s<1)throw Error(Po+(r.s?"NaN":"-Infinity"));return r.eq(Mi)?new s(0):(xn=!1,t=Uc($0(r,i),$0(e,i),i),xn=!0,Wr(t,a))};yt.minus=yt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?iG(t,e):sG(t,(e.s=-e.s,e))};yt.modulo=yt.mod=function(e){var t,r=this,s=r.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(Po+"NaN");return r.s?(xn=!1,t=Uc(r,e,0,1).times(e),xn=!0,r.minus(t)):Wr(new s(r),a)};yt.naturalExponential=yt.exp=function(){return aG(this)};yt.naturalLogarithm=yt.ln=function(){return $0(this)};yt.negated=yt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};yt.plus=yt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?sG(t,e):iG(t,(e.s=-e.s,e))};yt.precision=yt.sd=function(e){var t,r,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(If+e);if(t=ss(a)+1,s=a.d.length-1,r=s*sn+1,s=a.d[s],s){for(;s%10==0;s/=10)r--;for(s=a.d[0];s>=10;s/=10)r++}return e&&t>r?t:r};yt.squareRoot=yt.sqrt=function(){var e,t,r,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Po+"NaN")}for(e=ss(l),xn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=ql(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=ux((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=s,s=i.plus(Uc(l,i,o+2)).times(.5),ql(i.d).slice(0,o)===(t=ql(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Wr(i,r+1,0),i.times(i).eq(l)){s=i;break}}else if(t!="9999")break;o+=4}return xn=!0,Wr(s,r)};yt.times=yt.mul=function(e){var t,r,s,a,i,o,l,c,d,u=this,f=u.constructor,m=u.d,h=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,c=m.length,d=h.length,c<d&&(i=m,m=h,h=i,o=c,c=d,d=o),i=[],o=c+d,s=o;s--;)i.push(0);for(s=d;--s>=0;){for(t=0,a=c+s;a>s;)l=i[a]+h[s]*m[a-s-1]+t,i[a--]=l%Cs|0,t=l/Cs|0;i[a]=(i[a]+t)%Cs|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,xn?Wr(e,f.precision):e};yt.toDecimalPlaces=yt.todp=function(e,t){var r=this,s=r.constructor;return r=new s(r),e===void 0?r:(sc(e,0,dx),t===void 0?t=s.rounding:sc(t,0,8),Wr(r,e+ss(r)+1,t))};yt.toExponential=function(e,t){var r,s=this,a=s.constructor;return e===void 0?r=rm(s,!0):(sc(e,0,dx),t===void 0?t=a.rounding:sc(t,0,8),s=Wr(new a(s),e+1,t),r=rm(s,!0,e+1)),r};yt.toFixed=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?rm(a):(sc(e,0,dx),t===void 0?t=i.rounding:sc(t,0,8),s=Wr(new i(a),e+ss(a)+1,t),r=rm(s.abs(),!1,e+ss(s)+1),a.isneg()&&!a.isZero()?"-"+r:r)};yt.toInteger=yt.toint=function(){var e=this,t=e.constructor;return Wr(new t(e),ss(e)+1,t.rounding)};yt.toNumber=function(){return+this};yt.toPower=yt.pow=function(e){var t,r,s,a,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(Mi);if(l=new c(l),!l.s){if(e.s<1)throw Error(Po+"Infinity");return l}if(l.eq(Mi))return l;if(s=c.precision,e.eq(Mi))return Wr(l,s);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=nG){for(a=new c(Mi),t=Math.ceil(s/sn+4),xn=!1;r%2&&(a=a.times(l),LF(a.d,t)),r=ux(r/2),r!==0;)l=l.times(l),LF(l.d,t);return xn=!0,e.s<0?new c(Mi).div(a):Wr(a,s)}}else if(i<0)throw Error(Po+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,xn=!1,a=e.times($0(l,s+d)),xn=!0,a=aG(a),a.s=i,a};yt.toPrecision=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?(r=ss(a),s=rm(a,r<=i.toExpNeg||r>=i.toExpPos)):(sc(e,1,dx),t===void 0?t=i.rounding:sc(t,0,8),a=Wr(new i(a),e,t),r=ss(a),s=rm(a,e<=r||r<=i.toExpNeg,e)),s};yt.toSignificantDigits=yt.tosd=function(e,t){var r=this,s=r.constructor;return e===void 0?(e=s.precision,t=s.rounding):(sc(e,1,dx),t===void 0?t=s.rounding:sc(t,0,8)),Wr(new s(r),e,t)};yt.toString=yt.valueOf=yt.val=yt.toJSON=yt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ss(e),r=e.constructor;return rm(e,t<=r.toExpNeg||t>=r.toExpPos)};function sG(e,t){var r,s,a,i,o,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),xn?Wr(t,f):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=d.length):(s=d,a=o,l=c.length),o=Math.ceil(f/sn),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,s=d,d=c,c=s),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Cs|0,c[i]%=Cs;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,xn?Wr(t,f):t}function sc(e,t,r){if(e!==~~e||e<t||e>r)throw Error(If+e)}function ql(e){var t,r,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)s=e[t]+"",r=sn-s.length,r&&(i+=Od(r)),i+=s;o=e[t],s=o+"",r=sn-s.length,r&&(i+=Od(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Uc=function(){function e(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%Cs|0,o=i/Cs|0;return o&&s.unshift(o),s}function t(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function r(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*Cs+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,d,u,f,m,h,x,p,g,j,y,w,b,N,S,_,E,A=s.constructor,T=s.s==a.s?1:-1,R=s.d,I=a.d;if(!s.s)return new A(s);if(!a.s)throw Error(Po+"Division by zero");for(c=s.e-a.e,_=I.length,N=R.length,h=new A(T),x=h.d=[],d=0;I[d]==(R[d]||0);)++d;if(I[d]>(R[d]||0)&&--c,i==null?y=i=A.precision:o?y=i+(ss(s)-ss(a))+1:y=i,y<0)return new A(0);if(y=y/sn+2|0,d=0,_==1)for(u=0,I=I[0],y++;(d<N||u)&&y--;d++)w=u*Cs+(R[d]||0),x[d]=w/I|0,u=w%I|0;else{for(u=Cs/(I[0]+1)|0,u>1&&(I=e(I,u),R=e(R,u),_=I.length,N=R.length),b=_,p=R.slice(0,_),g=p.length;g<_;)p[g++]=0;E=I.slice(),E.unshift(0),S=I[0],I[1]>=Cs/2&&++S;do u=0,l=t(I,p,_,g),l<0?(j=p[0],_!=g&&(j=j*Cs+(p[1]||0)),u=j/S|0,u>1?(u>=Cs&&(u=Cs-1),f=e(I,u),m=f.length,g=p.length,l=t(f,p,m,g),l==1&&(u--,r(f,_<m?E:I,m))):(u==0&&(l=u=1),f=I.slice()),m=f.length,m<g&&f.unshift(0),r(p,f,g),l==-1&&(g=p.length,l=t(I,p,_,g),l<1&&(u++,r(p,_<g?E:I,g))),g=p.length):l===0&&(u++,p=[0]),x[d++]=u,l&&p[0]?p[g++]=R[b]||0:(p=[R[b]],g=1);while((b++<N||p[0]!==void 0)&&y--)}return x[0]||x.shift(),h.e=c,Wr(h,o?i+ss(h)+1:i)}}();function aG(e,t){var r,s,a,i,o,l,c=0,d=0,u=e.constructor,f=u.precision;if(ss(e)>16)throw Error(UO+ss(e));if(!e.s)return new u(Mi);for(t==null?(xn=!1,l=f):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(s=Math.log(rf(2,d))/Math.LN10*2+5|0,l+=s,r=a=i=new u(Mi),u.precision=l;;){if(a=Wr(a.times(e),l),r=r.times(++c),o=i.plus(Uc(a,r,l)),ql(o.d).slice(0,l)===ql(i.d).slice(0,l)){for(;d--;)i=Wr(i.times(i),l);return u.precision=f,t==null?(xn=!0,Wr(i,f)):i}i=o}}function ss(e){for(var t=e.e*sn,r=e.d[0];r>=10;r/=10)t++;return t}function zS(e,t,r){if(t>e.LN10.sd())throw xn=!0,r&&(e.precision=r),Error(Po+"LN10 precision limit exceeded");return Wr(new e(e.LN10),t)}function Od(e){for(var t="";e--;)t+="0";return t}function $0(e,t){var r,s,a,i,o,l,c,d,u,f=1,m=10,h=e,x=h.d,p=h.constructor,g=p.precision;if(h.s<1)throw Error(Po+(h.s?"NaN":"-Infinity"));if(h.eq(Mi))return new p(0);if(t==null?(xn=!1,d=g):d=t,h.eq(10))return t==null&&(xn=!0),zS(p,d);if(d+=m,p.precision=d,r=ql(x),s=r.charAt(0),i=ss(h),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&r.charAt(1)>3;)h=h.times(e),r=ql(h.d),s=r.charAt(0),f++;i=ss(h),s>1?(h=new p("0."+r),i++):h=new p(s+"."+r.slice(1))}else return c=zS(p,d+2,g).times(i+""),h=$0(new p(s+"."+r.slice(1)),d-m).plus(c),p.precision=g,t==null?(xn=!0,Wr(h,g)):h;for(l=o=h=Uc(h.minus(Mi),h.plus(Mi),d),u=Wr(h.times(h),d),a=3;;){if(o=Wr(o.times(u),d),c=l.plus(Uc(o,new p(a),d)),ql(c.d).slice(0,d)===ql(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(zS(p,d+2,g).times(i+""))),l=Uc(l,new p(f),d),p.precision=g,t==null?(xn=!0,Wr(l,g)):l;l=c,a+=2}}function $F(e,t){var r,s,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,r=r-s-1,e.e=ux(r/sn),e.d=[],s=(r+1)%sn,r<0&&(s+=sn),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=sn;s<a;)e.d.push(+t.slice(s,s+=sn));t=t.slice(s),s=sn-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),xn&&(e.e>G1||e.e<-G1))throw Error(UO+r)}else e.s=0,e.e=0,e.d=[0];return e}function Wr(e,t,r){var s,a,i,o,l,c,d,u,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(s=t-o,s<0)s+=sn,a=t,d=f[u=0];else{if(u=Math.ceil((s+1)/sn),i=f.length,u>=i)return e;for(d=i=f[u],o=1;i>=10;i/=10)o++;s%=sn,a=s-sn+o}if(r!==void 0&&(i=rf(10,o-a-1),l=d/i%10|0,c=t<0||f[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(s>0?a>0?d/rf(10,o-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=ss(e),f.length=1,t=t-i-1,f[0]=rf(10,(sn-t%sn)%sn),e.e=ux(-t/sn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(s==0?(f.length=u,i=1,u--):(f.length=u+1,i=rf(10,sn-s),f[u]=a>0?(d/rf(10,o-a)%rf(10,a)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==Cs&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Cs)break;f[u--]=0,i=1}for(s=f.length;f[--s]===0;)f.pop();if(xn&&(e.e>G1||e.e<-G1))throw Error(UO+ss(e));return e}function iG(e,t){var r,s,a,i,o,l,c,d,u,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),xn?Wr(t,h):t;if(c=e.d,f=t.d,s=t.e,d=e.e,c=c.slice(),o=d-s,o){for(u=o<0,u?(r=c,o=-o,l=f.length):(r=f,s=d,l=c.length),a=Math.max(Math.ceil(h/sn),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){u=c[a]<f[a];break}o=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Cs-1;--c[i],c[a]+=Cs}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,xn?Wr(t,h):t):new m(0)}function rm(e,t,r){var s,a=ss(e),i=ql(e.d),o=i.length;return t?(r&&(s=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Od(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Od(-a-1)+i,r&&(s=r-o)>0&&(i+=Od(s))):a>=o?(i+=Od(a+1-o),r&&(s=r-a-1)>0&&(i=i+"."+Od(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),r&&(s=r-o)>0&&(a+1===o&&(i+="."),i+=Od(s))),e.s<0?"-"+i:i}function LF(e,t){if(e.length>t)return e.length=t,!0}function oG(e){var t,r,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(If+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return $F(o,i.toString())}else if(typeof i!="string")throw Error(If+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,rOe.test(i))$F(o,i);else throw Error(If+i)}if(a.prototype=yt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=oG,a.config=a.set=nOe,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(r=s[t++])||(e[r]=this[r]);return a.config(e),a}function nOe(e){if(!e||typeof e!="object")throw Error(Po+"Object expected");var t,r,s,a=["precision",1,dx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[r=a[t]])!==void 0)if(ux(s)===s&&s>=a[t+1]&&s<=a[t+2])this[r]=s;else throw Error(If+r+": "+s);if((s=e[r="LN10"])!==void 0)if(s==Math.LN10)this[r]=new this(s);else throw Error(If+r+": "+s);return this}var VO=oG(tOe);Mi=new VO(1);const Lr=VO;function sOe(e){return lOe(e)||oOe(e)||iOe(e)||aOe()}function aOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iOe(e,t){if(e){if(typeof e=="string")return oA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oA(e,t)}}function oOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function lOe(e){if(Array.isArray(e))return oA(e)}function oA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var cOe=function(t){return t},lG={"@@functional/placeholder":!0},cG=function(t){return t===lG},BF=function(t){return function r(){return arguments.length===0||arguments.length===1&&cG(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},dOe=function e(t,r){return t===1?r:BF(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==lG}).length;return o>=t?r.apply(void 0,a):e(t-o,BF(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(f){return cG(f)?c.shift():f});return r.apply(void 0,sOe(u).concat(c))}))})},A2=function(t){return dOe(t.length,t)},lA=function(t,r){for(var s=[],a=t;a<r;++a)s[a-t]=a;return s},uOe=A2(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),fOe=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];if(!r.length)return cOe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},cA=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},dG=function(t){var r=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,s=t.apply(void 0,i)),s}};function mOe(e){var t;return e===0?t=1:t=Math.floor(new Lr(e).abs().log(10).toNumber())+1,t}function hOe(e,t,r){for(var s=new Lr(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(r),a++;return i}var pOe=A2(function(e,t,r){var s=+e,a=+t;return s+r*(a-s)}),xOe=A2(function(e,t,r){var s=t-+e;return s=s||1/0,(r-e)/s}),gOe=A2(function(e,t,r){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(r-e)/s))});const P2={rangeStep:hOe,getDigitCount:mOe,interpolateNumber:pOe,uninterpolateNumber:xOe,uninterpolateTruncation:gOe};function dA(e){return jOe(e)||yOe(e)||uG(e)||vOe()}function vOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function jOe(e){if(Array.isArray(e))return uA(e)}function L0(e,t){return NOe(e)||wOe(e,t)||uG(e,t)||bOe()}function bOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uG(e,t){if(e){if(typeof e=="string")return uA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uA(e,t)}}function uA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function wOe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],s=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));s=!0);}catch(c){a=!0,i=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function NOe(e){if(Array.isArray(e))return e}function fG(e){var t=L0(e,2),r=t[0],s=t[1],a=r,i=s;return r>s&&(a=s,i=r),[a,i]}function mG(e,t,r){if(e.lte(0))return new Lr(0);var s=P2.getDigitCount(e.toNumber()),a=new Lr(10).pow(s),i=e.div(a),o=s!==1?.05:.1,l=new Lr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Lr(Math.ceil(c))}function _Oe(e,t,r){var s=1,a=new Lr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(s=new Lr(10).pow(P2.getDigitCount(e)-1),a=new Lr(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new Lr(Math.floor(e)))}else e===0?a=new Lr(Math.floor((t-1)/2)):r||(a=new Lr(Math.floor(e)));var o=Math.floor((t-1)/2),l=fOe(uOe(function(c){return a.add(new Lr(c-o).mul(s)).toNumber()}),lA);return l(0,t)}function hG(e,t,r,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Lr(0),tickMin:new Lr(0),tickMax:new Lr(0)};var i=mG(new Lr(t).sub(e).div(r-1),s,a),o;e<=0&&t>=0?o=new Lr(0):(o=new Lr(e).add(t).div(2),o=o.sub(new Lr(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Lr(t).sub(o).div(i).toNumber()),d=l+c+1;return d>r?hG(e,t,r,s,a+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:i,tickMin:o.sub(new Lr(l).mul(i)),tickMax:o.add(new Lr(c).mul(i))})}function SOe(e){var t=L0(e,2),r=t[0],s=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=fG([r,s]),c=L0(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var f=u===1/0?[d].concat(dA(lA(0,a-1).map(function(){return 1/0}))):[].concat(dA(lA(0,a-1).map(function(){return-1/0})),[u]);return r>s?cA(f):f}if(d===u)return _Oe(d,a,i);var m=hG(d,u,o,i),h=m.step,x=m.tickMin,p=m.tickMax,g=P2.rangeStep(x,p.add(new Lr(.1).mul(h)),h);return r>s?cA(g):g}function COe(e,t){var r=L0(e,2),s=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=fG([s,a]),l=L0(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[s,a];if(c===d)return[c];var u=Math.max(t,2),f=mG(new Lr(d).sub(c).div(u-1),i,0),m=[].concat(dA(P2.rangeStep(new Lr(c),new Lr(d).sub(new Lr(.99).mul(f)),f)),[d]);return s>a?cA(m):m}var EOe=dG(SOe),AOe=dG(COe),POe="Invariant failed";function Su(e,t){throw new Error(POe)}var kOe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function K1(){return K1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},K1.apply(this,arguments)}function TOe(e,t){return ROe(e)||IOe(e,t)||DOe(e,t)||OOe()}function OOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DOe(e,t){if(e){if(typeof e=="string")return UF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UF(e,t)}}function UF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function IOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function ROe(e){if(Array.isArray(e))return e}function MOe(e,t){if(e==null)return{};var r=FOe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function FOe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function $Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LOe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,gG(s.key),s)}}function BOe(e,t,r){return t&&LOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UOe(e,t,r){return t=Y1(t),VOe(e,pG()?Reflect.construct(t,r||[],Y1(e).constructor):t.apply(e,r))}function VOe(e,t){if(t&&(hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zOe(e)}function zOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pG=function(){return!!e})()}function Y1(e){return Y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y1(e)}function WOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fA(e,t)}function fA(e,t){return fA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},fA(e,t)}function xG(e,t,r){return t=gG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gG(e){var t=HOe(e,"string");return hp(t)=="symbol"?t:t+""}function HOe(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(hp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gy=function(e){function t(){return $Oe(this,t),UOe(this,t,arguments)}return WOe(t,e),BOe(t,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,c=s.data,d=s.dataPointFormatter,u=s.xAxis,f=s.yAxis,m=MOe(s,kOe),h=Nt(m,!1);this.props.direction==="x"&&u.type!=="number"&&Su();var x=c.map(function(p){var g=d(p,l),j=g.x,y=g.y,w=g.value,b=g.errorVal;if(!b)return null;var N=[],S,_;if(Array.isArray(b)){var E=TOe(b,2);S=E[0],_=E[1]}else S=_=b;if(i==="vertical"){var A=u.scale,T=y+a,R=T+o,I=T-o,z=A(w-S),H=A(w+_);N.push({x1:H,y1:R,x2:H,y2:I}),N.push({x1:z,y1:T,x2:H,y2:T}),N.push({x1:z,y1:R,x2:z,y2:I})}else if(i==="horizontal"){var F=f.scale,k=j+a,P=k-o,M=k+o,O=F(w-S),K=F(w+_);N.push({x1:P,y1:K,x2:M,y2:K}),N.push({x1:k,y1:O,x2:k,y2:K}),N.push({x1:P,y1:O,x2:M,y2:O})}return V.createElement(nr,K1({className:"recharts-errorBar",key:"bar-".concat(N.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},h),N.map(function(ne){return V.createElement("line",K1({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return V.createElement(nr,{className:"recharts-errorBars"},x)}}])}(V.Component);xG(gy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});xG(gy,"displayName","ErrorBar");function B0(e){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B0(e)}function VF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Gu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VF(Object(r),!0).forEach(function(s){qOe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function qOe(e,t,r){return t=GOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GOe(e){var t=KOe(e,"string");return B0(t)=="symbol"?t:t+""}function KOe(e,t){if(B0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(B0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vG=function(t){var r=t.children,s=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Ti(r,il);if(!o)return null;var l=il.defaultProps,c=l!==void 0?Gu(Gu({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(s||[]).reduce(function(u,f){var m=f.item,h=f.props,x=h.sectors||h.data||[];return u.concat(x.map(function(p){return{type:o.props.iconType||m.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):d=(s||[]).map(function(u){var f=u.item,m=f.type.defaultProps,h=m!==void 0?Gu(Gu({},m),f.props):{},x=h.dataKey,p=h.name,g=h.legendType,j=h.hide;return{inactive:j,dataKey:x,type:c.iconType||g||"square",color:zO(f),value:p||x,payload:h}}),Gu(Gu(Gu({},c),il.getWithHeight(o,a)),{},{payload:d,item:o})};function U0(e){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U0(e)}function zF(e){return ZOe(e)||QOe(e)||XOe(e)||YOe()}function YOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XOe(e,t){if(e){if(typeof e=="string")return mA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mA(e,t)}}function QOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZOe(e){if(Array.isArray(e))return mA(e)}function mA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function WF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WF(Object(r),!0).forEach(function(s){Sh(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Sh(e,t,r){return t=JOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JOe(e){var t=e3e(e,"string");return U0(t)=="symbol"?t:t+""}function e3e(e,t){if(U0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(U0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gn(e,t,r){return Lt(e)||Lt(t)?r:Ns(t)?Ui(e,t,r):Dt(t)?t(e):r}function Dg(e,t,r,s){var a=QTe(e,function(l){return Gn(l,t)});if(r==="number"){var i=a.filter(function(l){return Qe(l)||parseFloat(l)});return i.length?[E2(i),Yd(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!Lt(l)}):a;return o.map(function(l){return Ns(l)||l instanceof Date?l:""})}var t3e=function(t){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=s==null?void 0:s.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,f=a[d].coordinate,m=d>=l-1?a[0].coordinate:a[d+1].coordinate,h=void 0;if(Da(f-u)!==Da(m-f)){var x=[];if(Da(m-f)===Da(c[1]-c[0])){h=m;var p=f+c[1]-c[0];x[0]=Math.min(p,(p+u)/2),x[1]=Math.max(p,(p+u)/2)}else{h=u;var g=m+c[1]-c[0];x[0]=Math.min(f,(g+f)/2),x[1]=Math.max(f,(g+f)/2)}var j=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>j[0]&&t<=j[1]||t>=x[0]&&t<=x[1]){o=a[d].index;break}}else{var y=Math.min(u,m),w=Math.max(u,m);if(t>(y+f)/2&&t<=(w+f)/2){o=a[d].index;break}}}else for(var b=0;b<l;b++)if(b===0&&t<=(s[b].coordinate+s[b+1].coordinate)/2||b>0&&b<l-1&&t>(s[b].coordinate+s[b-1].coordinate)/2&&t<=(s[b].coordinate+s[b+1].coordinate)/2||b===l-1&&t>(s[b].coordinate+s[b-1].coordinate)/2){o=s[b].index;break}return o},zO=function(t){var r,s=t,a=s.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Mn(Mn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},r3e=function(t){var r=t.barSize,s=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,f=Object.keys(u),m=0,h=f.length;m<h;m++){var x=u[f[m]],p=x.items,g=x.cateAxisId,j=p.filter(function(_){return Bc(_.type).indexOf("Bar")>=0});if(j&&j.length){var y=j[0].type.defaultProps,w=y!==void 0?Mn(Mn({},y),j[0].props):j[0].props,b=w.barSize,N=w[g];o[N]||(o[N]=[]);var S=Lt(b)?r:b;o[N].push({item:j[0],stackList:j.slice(1),barSize:Lt(S)?void 0:Ia(S,s,0)})}}return o},n3e=function(t){var r=t.barGap,s=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=Ia(r,a,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,h=a/c,x=o.reduce(function(b,N){return b+N.barSize||0},0);x+=(c-1)*d,x>=a&&(x-=(c-1)*d,d=0),x>=a&&h>0&&(m=!0,h*=.9,x=c*h);var p=(a-x)/2>>0,g={offset:p-d,size:0};u=o.reduce(function(b,N){var S={item:N.item,position:{offset:g.offset+g.size+d,size:m?h:N.barSize}},_=[].concat(zF(b),[S]);return g=_[_.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(E){_.push({item:E,position:g})}),_},f)}else{var j=Ia(s,a,0,!0);a-2*j-(c-1)*d<=0&&(d=0);var y=(a-2*j-(c-1)*d)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;u=o.reduce(function(b,N,S){var _=[].concat(zF(b),[{item:N.item,position:{offset:j+(y+d)*S+(y-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(E){_.push({item:E,position:_[_.length-1].position})}),_},f)}return u},s3e=function(t,r,s,a){var i=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),d=vG({children:i,legendWidth:c});if(d){var u=a||{},f=u.width,m=u.height,h=d.align,x=d.verticalAlign,p=d.layout;if((p==="vertical"||p==="horizontal"&&x==="middle")&&h!=="center"&&Qe(t[h]))return Mn(Mn({},t),{},Sh({},h,t[h]+(f||0)));if((p==="horizontal"||p==="vertical"&&h==="center")&&x!=="middle"&&Qe(t[x]))return Mn(Mn({},t),{},Sh({},x,t[x]+(m||0)))}return t},a3e=function(t,r,s){return Lt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||s==="x"?r==="xAxis":s==="y"?r==="yAxis":!0},yG=function(t,r,s,a,i){var o=r.props.children,l=Vi(o,gy).filter(function(d){return a3e(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var f=Gn(u,s);if(Lt(f))return d;var m=Array.isArray(f)?[E2(f),Yd(f)]:[f,f],h=c.reduce(function(x,p){var g=Gn(u,p,0),j=m[0]-Math.abs(Array.isArray(g)?g[0]:g),y=m[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(j,x[0]),Math.max(y,x[1])]},[1/0,-1/0]);return[Math.min(h[0],d[0]),Math.max(h[1],d[1])]},[1/0,-1/0])}return null},i3e=function(t,r,s,a,i){var o=r.map(function(l){return yG(t,l,s,i,a)}).filter(function(l){return!Lt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},jG=function(t,r,s,a,i){var o=r.map(function(c){var d=c.props.dataKey;return s==="number"&&d&&yG(t,c,d,a)||Dg(t,d,s,i)});if(s==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,f=d.length;u<f;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},bG=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},wG=function(t,r,s,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===s&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(s),l},Mc=function(t,r,s){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||s)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Da(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var m=i?i.indexOf(f):f;return{coordinate:a(m)+d,value:f,offset:d}});return u.filter(function(f){return!ax(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:a(f)+d,value:f,index:m,offset:d}}):a.ticks&&!s?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+d,value:f,offset:d}}):a.domain().map(function(f,m){return{coordinate:a(f)+d,value:i?i[f]:f,index:m,offset:d}})},WS=new WeakMap,_j=function(t,r){if(typeof r!="function")return t;WS.has(t)||WS.set(t,new WeakMap);var s=WS.get(t);if(s.has(r))return s.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return s.set(r,a),a},NG=function(t,r,s){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:D0(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:z1(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!s)?{scale:Og(),realScaleType:"point"}:i==="category"?{scale:D0(),realScaleType:"band"}:{scale:z1(),realScaleType:"linear"};if(uy(a)){var c="scale".concat(m2(a));return{scale:(FF[c]||Og)(),realScaleType:FF[c]?c:"point"}}return Dt(a)?{scale:a}:{scale:Og(),realScaleType:"point"}},HF=1e-4,_G=function(t){var r=t.domain();if(!(!r||r.length<=2)){var s=r.length,a=t.range(),i=Math.min(a[0],a[1])-HF,o=Math.max(a[0],a[1])+HF,l=t(r[0]),c=t(r[s-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[s-1]])}},o3e=function(t,r){if(!t)return null;for(var s=0,a=t.length;s<a;s++)if(t[s].item===r)return t[s].position;return null},l3e=function(t,r){if(!r||r.length!==2||!Qe(r[0])||!Qe(r[1]))return t;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Qe(t[0])||t[0]<s)&&(i[0]=s),(!Qe(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},c3e=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0,l=0;l<r;++l){var c=ax(t[l][s][1])?t[l][s][0]:t[l][s][1];c>=0?(t[l][s][0]=i,t[l][s][1]=i+c,i=t[l][s][1]):(t[l][s][0]=o,t[l][s][1]=o+c,o=t[l][s][1])}},d3e=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0;o<r;++o){var l=ax(t[o][s][1])?t[o][s][0]:t[o][s][1];l>=0?(t[o][s][0]=i,t[o][s][1]=i+l,i=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},u3e={sign:c3e,expand:k1e,none:ip,silhouette:T1e,wiggle:O1e,positive:d3e},f3e=function(t,r,s){var a=r.map(function(l){return l.props.dataKey}),i=u3e[s],o=P1e().keys(a).value(function(l,c){return+Gn(l,c,0)}).order($E).offset(i);return o(t)},m3e=function(t,r,s,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(f,m){var h,x=(h=m.type)!==null&&h!==void 0&&h.defaultProps?Mn(Mn({},m.type.defaultProps),m.props):m.props,p=x.stackId,g=x.hide;if(g)return f;var j=x[s],y=f[j]||{hasStack:!1,stackGroups:{}};if(Ns(p)){var w=y.stackGroups[p]||{numericAxisId:s,cateAxisId:a,items:[]};w.items.push(m),y.hasStack=!0,y.stackGroups[p]=w}else y.stackGroups[gm("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[m]};return Mn(Mn({},f),{},Sh({},j,y))},c),u={};return Object.keys(d).reduce(function(f,m){var h=d[m];if(h.hasStack){var x={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(p,g){var j=h.stackGroups[g];return Mn(Mn({},p),{},Sh({},g,{numericAxisId:s,cateAxisId:a,items:j.items,stackedData:f3e(t,j.items,i)}))},x)}return Mn(Mn({},f),{},Sh({},m,h))},u)},SG=function(t,r){var s=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=s||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=EOe(d,i,l);return t.domain([E2(u),Yd(u)]),{niceTicks:u}}if(i&&a==="number"){var f=t.domain(),m=AOe(f,i,l);return{niceTicks:m}}return null};function X1(e){var t=e.axis,r=e.ticks,s=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Lt(a[t.dataKey])){var l=w1(r,"value",a[t.dataKey]);if(l)return l.coordinate+s/2}return r[i]?r[i].coordinate+s/2:null}var c=Gn(a,Lt(o)?t.dataKey:o);return Lt(c)?null:t.scale(c)}var qF=function(t){var r=t.axis,s=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return s[l]?s[l].coordinate+a:null;var c=Gn(o,r.dataKey,r.domain[l]);return Lt(c)?null:r.scale(c)-i/2+a},h3e=function(t){var r=t.numericAxis,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},p3e=function(t,r){var s,a=(s=t.type)!==null&&s!==void 0&&s.defaultProps?Mn(Mn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Ns(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},x3e=function(t){return t.reduce(function(r,s){return[E2(s.concat([r[0]]).filter(Qe)),Yd(s.concat([r[1]]).filter(Qe))]},[1/0,-1/0])},CG=function(t,r,s){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,u){var f=x3e(u.slice(r,s+1));return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},GF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hA=function(t,r,s){if(Dt(t))return t(r,s);if(!Array.isArray(t))return r;var a=[];if(Qe(t[0]))a[0]=s?t[0]:Math.min(t[0],r[0]);else if(GF.test(t[0])){var i=+GF.exec(t[0])[1];a[0]=r[0]-i}else Dt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Qe(t[1]))a[1]=s?t[1]:Math.max(t[1],r[1]);else if(KF.test(t[1])){var o=+KF.exec(t[1])[1];a[1]=r[1]+o}else Dt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Q1=function(t,r,s){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!s||a>0)return a}if(t&&r&&r.length>=2){for(var i=gO(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},YF=function(t,r,s){return!t||!t.length||tm(t,Ui(s,"type.defaultProps.domain"))?r:t},EG=function(t,r){var s=t.type.defaultProps?Mn(Mn({},t.type.defaultProps),t.props):t.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,d=s.chartType,u=s.hide;return Mn(Mn({},Nt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:zO(t),value:Gn(r,a),type:c,payload:r,chartType:d,hide:u})};function V0(e){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V0(e)}function XF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XF(Object(r),!0).forEach(function(s){AG(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function AG(e,t,r){return t=g3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g3e(e){var t=v3e(e,"string");return V0(t)=="symbol"?t:t+""}function v3e(e,t){if(V0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(V0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y3e(e,t){return N3e(e)||w3e(e,t)||b3e(e,t)||j3e()}function j3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b3e(e,t){if(e){if(typeof e=="string")return QF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QF(e,t)}}function QF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function w3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function N3e(e){if(Array.isArray(e))return e}var Z1=Math.PI/180,_3e=function(t){return t*180/Math.PI},Xr=function(t,r,s,a){return{x:t+Math.cos(-Z1*a)*s,y:r+Math.sin(-Z1*a)*s}},PG=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(r-(s.top||0)-(s.bottom||0)))/2},S3e=function(t,r,s,a,i){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=Ia(t.cx,o,o/2),f=Ia(t.cy,l,l/2),m=PG(o,l,s),h=Ia(t.innerRadius,m,0),x=Ia(t.outerRadius,m,m*.8),p=Object.keys(r);return p.reduce(function(g,j){var y=r[j],w=y.domain,b=y.reversed,N;if(Lt(y.range))a==="angleAxis"?N=[c,d]:a==="radiusAxis"&&(N=[h,x]),b&&(N=[N[1],N[0]]);else{N=y.range;var S=N,_=y3e(S,2);c=_[0],d=_[1]}var E=NG(y,i),A=E.realScaleType,T=E.scale;T.domain(w).range(N),_G(T);var R=SG(T,Nc(Nc({},y),{},{realScaleType:A})),I=Nc(Nc(Nc({},y),R),{},{range:N,radius:x,realScaleType:A,scale:T,cx:u,cy:f,innerRadius:h,outerRadius:x,startAngle:c,endAngle:d});return Nc(Nc({},g),{},AG({},j,I))},{})},C3e=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},E3e=function(t,r){var s=t.x,a=t.y,i=r.cx,o=r.cy,l=C3e({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(s-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:_3e(d),angleInRadian:d}},A3e=function(t){var r=t.startAngle,s=t.endAngle,a=Math.floor(r/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:s-o*360}},P3e=function(t,r){var s=r.startAngle,a=r.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},ZF=function(t,r){var s=t.x,a=t.y,i=E3e({x:s,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=A3e(r),f=u.startAngle,m=u.endAngle,h=l,x;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;x=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;x=h>=m&&h<=f}return x?Nc(Nc({},r),{},{radius:o,angle:P3e(h,r)}):null},kG=function(t){return!v.isValidElement(t)&&!Dt(t)&&typeof t!="boolean"?t.className:""};function z0(e){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z0(e)}var k3e=["offset"];function T3e(e){return R3e(e)||I3e(e)||D3e(e)||O3e()}function O3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D3e(e,t){if(e){if(typeof e=="string")return pA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pA(e,t)}}function I3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function R3e(e){if(Array.isArray(e))return pA(e)}function pA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function M3e(e,t){if(e==null)return{};var r=F3e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function F3e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function JF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function us(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JF(Object(r),!0).forEach(function(s){$3e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function $3e(e,t,r){return t=L3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L3e(e){var t=B3e(e,"string");return z0(t)=="symbol"?t:t+""}function B3e(e,t){if(z0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(z0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},W0.apply(this,arguments)}var U3e=function(t){var r=t.value,s=t.formatter,a=Lt(t.children)?r:t.children;return Dt(s)?s(a):a},V3e=function(t,r){var s=Da(r-t),a=Math.min(Math.abs(r-t),360);return s*a},z3e=function(t,r,s){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,u=c.cy,f=c.innerRadius,m=c.outerRadius,h=c.startAngle,x=c.endAngle,p=c.clockWise,g=(f+m)/2,j=V3e(h,x),y=j>=0?1:-1,w,b;a==="insideStart"?(w=h+y*o,b=p):a==="insideEnd"?(w=x-y*o,b=!p):a==="end"&&(w=x+y*o,b=p),b=j<=0?b:!b;var N=Xr(d,u,g,w),S=Xr(d,u,g,w+(b?1:-1)*359),_="M".concat(N.x,",").concat(N.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),E=Lt(t.id)?gm("recharts-radial-line-"):t.id;return V.createElement("text",W0({},s,{dominantBaseline:"central",className:Vt("recharts-radial-bar-label",l)}),V.createElement("defs",null,V.createElement("path",{id:E,d:_})),V.createElement("textPath",{xlinkHref:"#".concat(E)},r))},W3e=function(t){var r=t.viewBox,s=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,f=i.endAngle,m=(u+f)/2;if(a==="outside"){var h=Xr(o,l,d+s,m),x=h.x,p=h.y;return{x,y:p,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+d)/2,j=Xr(o,l,g,m),y=j.x,w=j.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},H3e=function(t){var r=t.viewBox,s=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,f=u>=0?1:-1,m=f*a,h=f>0?"end":"start",x=f>0?"start":"end",p=d>=0?1:-1,g=p*a,j=p>0?"end":"start",y=p>0?"start":"end";if(i==="top"){var w={x:l+d/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return us(us({},w),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var b={x:l+d/2,y:c+u+m,textAnchor:"middle",verticalAnchor:x};return us(us({},b),s?{height:Math.max(s.y+s.height-(c+u),0),width:d}:{})}if(i==="left"){var N={x:l-g,y:c+u/2,textAnchor:j,verticalAnchor:"middle"};return us(us({},N),s?{width:Math.max(N.x-s.x,0),height:u}:{})}if(i==="right"){var S={x:l+d+g,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return us(us({},S),s?{width:Math.max(s.x+s.width-S.x,0),height:u}:{})}var _=s?{width:d,height:u}:{};return i==="insideLeft"?us({x:l+g,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},_):i==="insideRight"?us({x:l+d-g,y:c+u/2,textAnchor:j,verticalAnchor:"middle"},_):i==="insideTop"?us({x:l+d/2,y:c+m,textAnchor:"middle",verticalAnchor:x},_):i==="insideBottom"?us({x:l+d/2,y:c+u-m,textAnchor:"middle",verticalAnchor:h},_):i==="insideTopLeft"?us({x:l+g,y:c+m,textAnchor:y,verticalAnchor:x},_):i==="insideTopRight"?us({x:l+d-g,y:c+m,textAnchor:j,verticalAnchor:x},_):i==="insideBottomLeft"?us({x:l+g,y:c+u-m,textAnchor:y,verticalAnchor:h},_):i==="insideBottomRight"?us({x:l+d-g,y:c+u-m,textAnchor:j,verticalAnchor:h},_):tx(i)&&(Qe(i.x)||gf(i.x))&&(Qe(i.y)||gf(i.y))?us({x:l+Ia(i.x,d),y:c+Ia(i.y,u),textAnchor:"end",verticalAnchor:"end"},_):us({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},_)},q3e=function(t){return"cx"in t&&Qe(t.cx)};function As(e){var t=e.offset,r=t===void 0?5:t,s=M3e(e,k3e),a=us({offset:r},s),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,f=u===void 0?"":u,m=a.textBreakAll;if(!i||Lt(l)&&Lt(c)&&!v.isValidElement(d)&&!Dt(d))return null;if(v.isValidElement(d))return v.cloneElement(d,a);var h;if(Dt(d)){if(h=v.createElement(d,a),v.isValidElement(h))return h}else h=U3e(a);var x=q3e(i),p=Nt(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return z3e(a,h,p);var g=x?W3e(a):H3e(a);return V.createElement(em,W0({className:Vt("recharts-label",f)},p,g,{breakAll:m}),h)}As.displayName="Label";var TG=function(t){var r=t.cx,s=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,f=t.x,m=t.y,h=t.top,x=t.left,p=t.width,g=t.height,j=t.clockWise,y=t.labelViewBox;if(y)return y;if(Qe(p)&&Qe(g)){if(Qe(f)&&Qe(m))return{x:f,y:m,width:p,height:g};if(Qe(h)&&Qe(x))return{x:h,y:x,width:p,height:g}}return Qe(f)&&Qe(m)?{x:f,y:m,width:0,height:0}:Qe(r)&&Qe(s)?{cx:r,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:j}:t.viewBox?t.viewBox:{}},G3e=function(t,r){return t?t===!0?V.createElement(As,{key:"label-implicit",viewBox:r}):Ns(t)?V.createElement(As,{key:"label-implicit",viewBox:r,value:t}):v.isValidElement(t)?t.type===As?v.cloneElement(t,{key:"label-implicit",viewBox:r}):V.createElement(As,{key:"label-implicit",content:t,viewBox:r}):Dt(t)?V.createElement(As,{key:"label-implicit",content:t,viewBox:r}):tx(t)?V.createElement(As,W0({viewBox:r},t,{key:"label-implicit"})):null:null},K3e=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var a=t.children,i=TG(t),o=Vi(a,As).map(function(c,d){return v.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!s)return o;var l=G3e(t.label,r||i);return[l].concat(T3e(o))};As.parseViewBox=TG;As.renderCallByParent=K3e;function Y3e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var X3e=Y3e;const Q3e=Ar(X3e);function H0(e){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H0(e)}var Z3e=["valueAccessor"],J3e=["data","dataKey","clockWise","id","textBreakAll"];function eDe(e){return sDe(e)||nDe(e)||rDe(e)||tDe()}function tDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rDe(e,t){if(e){if(typeof e=="string")return xA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xA(e,t)}}function nDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sDe(e){if(Array.isArray(e))return xA(e)}function xA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function J1(){return J1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},J1.apply(this,arguments)}function e6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function t6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e6(Object(r),!0).forEach(function(s){aDe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function aDe(e,t,r){return t=iDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iDe(e){var t=oDe(e,"string");return H0(t)=="symbol"?t:t+""}function oDe(e,t){if(H0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(H0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r6(e,t){if(e==null)return{};var r=lDe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function lDe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var cDe=function(t){return Array.isArray(t.value)?Q3e(t.value):t.value};function Zl(e){var t=e.valueAccessor,r=t===void 0?cDe:t,s=r6(e,Z3e),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,d=r6(s,J3e);return!a||!a.length?null:V.createElement(nr,{className:"recharts-label-list"},a.map(function(u,f){var m=Lt(i)?r(u,f):Gn(u&&u.payload,i),h=Lt(l)?{}:{id:"".concat(l,"-").concat(f)};return V.createElement(As,J1({},Nt(u,!0),d,h,{parentViewBox:u.parentViewBox,value:m,textBreakAll:c,viewBox:As.parseViewBox(Lt(o)?u:t6(t6({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Zl.displayName="LabelList";function dDe(e,t){return e?e===!0?V.createElement(Zl,{key:"labelList-implicit",data:t}):V.isValidElement(e)||Dt(e)?V.createElement(Zl,{key:"labelList-implicit",data:t,content:e}):tx(e)?V.createElement(Zl,J1({data:t},e,{key:"labelList-implicit"})):null:null}function uDe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var s=e.children,a=Vi(s,Zl).map(function(o,l){return v.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=dDe(e.label,t);return[i].concat(eDe(a))}Zl.renderCallByParent=uDe;function q0(e){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q0(e)}function gA(){return gA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},gA.apply(this,arguments)}function n6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function s6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n6(Object(r),!0).forEach(function(s){fDe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function fDe(e,t,r){return t=mDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mDe(e){var t=hDe(e,"string");return q0(t)=="symbol"?t:t+""}function hDe(e,t){if(q0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(q0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pDe=function(t,r){var s=Da(r-t),a=Math.min(Math.abs(r-t),359.999);return s*a},Sj=function(t){var r=t.cx,s=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+a,f=Math.asin(c/u)/Z1,m=d?i:i+o*f,h=Xr(r,s,u,m),x=Xr(r,s,a,m),p=d?i-o*f:i,g=Xr(r,s,u*Math.cos(f*Z1),p);return{center:h,circleTangency:x,lineTangency:g,theta:f}},OG=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=pDe(o,l),d=o+c,u=Xr(r,s,i,o),f=Xr(r,s,i,d),m="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=Xr(r,s,a,o),x=Xr(r,s,a,d);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(r,",").concat(s," Z");return m},xDe=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,f=Da(u-d),m=Sj({cx:r,cy:s,radius:i,angle:d,sign:f,cornerRadius:o,cornerIsExternal:c}),h=m.circleTangency,x=m.lineTangency,p=m.theta,g=Sj({cx:r,cy:s,radius:i,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:c}),j=g.circleTangency,y=g.lineTangency,w=g.theta,b=c?Math.abs(d-u):Math.abs(d-u)-p-w;if(b<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):OG({cx:r,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var N="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var S=Sj({cx:r,cy:s,radius:a,angle:d,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=S.circleTangency,E=S.lineTangency,A=S.theta,T=Sj({cx:r,cy:s,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),R=T.circleTangency,I=T.lineTangency,z=T.theta,H=c?Math.abs(d-u):Math.abs(d-u)-A-z;if(H<0&&o===0)return"".concat(N,"L").concat(r,",").concat(s,"Z");N+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(H>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else N+="L".concat(r,",").concat(s,"Z");return N},gDe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},DG=function(t){var r=s6(s6({},gDe),t),s=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,m=r.className;if(o<i||u===f)return null;var h=Vt("recharts-sector",m),x=o-i,p=Ia(l,x,0,!0),g;return p>0&&Math.abs(u-f)<360?g=xDe({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:f}):g=OG({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:f}),V.createElement("path",gA({},Nt(r,!0),{className:h,d:g,role:"img"}))};function G0(e){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G0(e)}function vA(){return vA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},vA.apply(this,arguments)}function a6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function i6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a6(Object(r),!0).forEach(function(s){vDe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function vDe(e,t,r){return t=yDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yDe(e){var t=jDe(e,"string");return G0(t)=="symbol"?t:t+""}function jDe(e,t){if(G0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(G0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o6={curveBasisClosed:v1e,curveBasisOpen:y1e,curveBasis:g1e,curveBumpX:n1e,curveBumpY:s1e,curveLinearClosed:j1e,curveLinear:p2,curveMonotoneX:b1e,curveMonotoneY:w1e,curveNatural:N1e,curveStep:_1e,curveStepAfter:C1e,curveStepBefore:S1e},Cj=function(t){return t.x===+t.x&&t.y===+t.y},Xx=function(t){return t.x},Qx=function(t){return t.y},bDe=function(t,r){if(Dt(t))return t;var s="curve".concat(m2(t));return(s==="curveMonotone"||s==="curveBump")&&r?o6["".concat(s).concat(r==="vertical"?"Y":"X")]:o6[s]||p2},wDe=function(t){var r=t.type,s=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=bDe(s,l),f=d?i.filter(function(p){return Cj(p)}):i,m;if(Array.isArray(o)){var h=d?o.filter(function(p){return Cj(p)}):o,x=f.map(function(p,g){return i6(i6({},p),{},{base:h[g]})});return l==="vertical"?m=xj().y(Qx).x1(Xx).x0(function(p){return p.base.x}):m=xj().x(Xx).y1(Qx).y0(function(p){return p.base.y}),m.defined(Cj).curve(u),m(x)}return l==="vertical"&&Qe(o)?m=xj().y(Qx).x1(Xx).x0(o):Qe(o)?m=xj().x(Xx).y1(Qx).y0(o):m=EH().x(Xx).y(Qx),m.defined(Cj).curve(u),m(f)},Rf=function(t){var r=t.className,s=t.points,a=t.path,i=t.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?wDe(t):a;return V.createElement("path",vA({},Nt(t,!1),N1(t),{className:Vt("recharts-curve",r),d:o,ref:i}))},IG={exports:{}},NDe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_De=NDe,SDe=_De;function RG(){}function MG(){}MG.resetWarningCache=RG;var CDe=function(){function e(s,a,i,o,l,c){if(c!==SDe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:MG,resetWarningCache:RG};return r.PropTypes=r,r};IG.exports=CDe();var EDe=IG.exports;const Yt=Ar(EDe);var ADe=Object.getOwnPropertyNames,PDe=Object.getOwnPropertySymbols,kDe=Object.prototype.hasOwnProperty;function l6(e,t){return function(s,a,i){return e(s,a,i)&&t(s,a,i)}}function Ej(e){return function(r,s,a){if(!r||!s||typeof r!="object"||typeof s!="object")return e(r,s,a);var i=a.cache,o=i.get(r),l=i.get(s);if(o&&l)return o===s&&l===r;i.set(r,s),i.set(s,r);var c=e(r,s,a);return i.delete(r),i.delete(s),c}}function c6(e){return ADe(e).concat(PDe(e))}var FG=Object.hasOwn||function(e,t){return kDe.call(e,t)};function fx(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var $G="_owner",d6=Object.getOwnPropertyDescriptor,u6=Object.keys;function TDe(e,t,r){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!r.equals(e[s],t[s],s,s,e,t,r))return!1;return!0}function ODe(e,t){return fx(e.getTime(),t.getTime())}function f6(e,t,r){if(e.size!==t.size)return!1;for(var s={},a=e.entries(),i=0,o,l;(o=a.next())&&!o.done;){for(var c=t.entries(),d=!1,u=0;(l=c.next())&&!l.done;){var f=o.value,m=f[0],h=f[1],x=l.value,p=x[0],g=x[1];!d&&!s[u]&&(d=r.equals(m,p,i,u,e,t,r)&&r.equals(h,g,m,p,e,t,r))&&(s[u]=!0),u++}if(!d)return!1;i++}return!0}function DDe(e,t,r){var s=u6(e),a=s.length;if(u6(t).length!==a)return!1;for(var i;a-- >0;)if(i=s[a],i===$G&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!FG(t,i)||!r.equals(e[i],t[i],i,i,e,t,r))return!1;return!0}function Zx(e,t,r){var s=c6(e),a=s.length;if(c6(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=s[a],i===$G&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!FG(t,i)||!r.equals(e[i],t[i],i,i,e,t,r)||(o=d6(e,i),l=d6(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function IDe(e,t){return fx(e.valueOf(),t.valueOf())}function RDe(e,t){return e.source===t.source&&e.flags===t.flags}function m6(e,t,r){if(e.size!==t.size)return!1;for(var s={},a=e.values(),i,o;(i=a.next())&&!i.done;){for(var l=t.values(),c=!1,d=0;(o=l.next())&&!o.done;)!c&&!s[d]&&(c=r.equals(i.value,o.value,i.value,o.value,e,t,r))&&(s[d]=!0),d++;if(!c)return!1}return!0}function MDe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var FDe="[object Arguments]",$De="[object Boolean]",LDe="[object Date]",BDe="[object Map]",UDe="[object Number]",VDe="[object Object]",zDe="[object RegExp]",WDe="[object Set]",HDe="[object String]",qDe=Array.isArray,h6=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,p6=Object.assign,GDe=Object.prototype.toString.call.bind(Object.prototype.toString);function KDe(e){var t=e.areArraysEqual,r=e.areDatesEqual,s=e.areMapsEqual,a=e.areObjectsEqual,i=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(u,f,m){if(u===f)return!0;if(u==null||f==null||typeof u!="object"||typeof f!="object")return u!==u&&f!==f;var h=u.constructor;if(h!==f.constructor)return!1;if(h===Object)return a(u,f,m);if(qDe(u))return t(u,f,m);if(h6!=null&&h6(u))return c(u,f,m);if(h===Date)return r(u,f,m);if(h===RegExp)return o(u,f,m);if(h===Map)return s(u,f,m);if(h===Set)return l(u,f,m);var x=GDe(u);return x===LDe?r(u,f,m):x===zDe?o(u,f,m):x===BDe?s(u,f,m):x===WDe?l(u,f,m):x===VDe?typeof u.then!="function"&&typeof f.then!="function"&&a(u,f,m):x===FDe?a(u,f,m):x===$De||x===UDe||x===HDe?i(u,f,m):!1}}function YDe(e){var t=e.circular,r=e.createCustomConfig,s=e.strict,a={areArraysEqual:s?Zx:TDe,areDatesEqual:ODe,areMapsEqual:s?l6(f6,Zx):f6,areObjectsEqual:s?Zx:DDe,arePrimitiveWrappersEqual:IDe,areRegExpsEqual:RDe,areSetsEqual:s?l6(m6,Zx):m6,areTypedArraysEqual:s?Zx:MDe};if(r&&(a=p6({},a,r(a))),t){var i=Ej(a.areArraysEqual),o=Ej(a.areMapsEqual),l=Ej(a.areObjectsEqual),c=Ej(a.areSetsEqual);a=p6({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function XDe(e){return function(t,r,s,a,i,o,l){return e(t,r,l)}}function QDe(e){var t=e.circular,r=e.comparator,s=e.createState,a=e.equals,i=e.strict;if(s)return function(c,d){var u=s(),f=u.cache,m=f===void 0?t?new WeakMap:void 0:f,h=u.meta;return r(c,d,{cache:m,equals:a,meta:h,strict:i})};if(t)return function(c,d){return r(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var ZDe=Uu();Uu({strict:!0});Uu({circular:!0});Uu({circular:!0,strict:!0});Uu({createInternalComparator:function(){return fx}});Uu({strict:!0,createInternalComparator:function(){return fx}});Uu({circular:!0,createInternalComparator:function(){return fx}});Uu({circular:!0,createInternalComparator:function(){return fx},strict:!0});function Uu(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,s=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=YDe(e),c=KDe(l),d=s?s(c):XDe(c);return QDe({circular:r,comparator:c,createState:a,equals:d,strict:o})}function JDe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function x6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,s=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):JDe(a)};requestAnimationFrame(s)}function yA(e){"@babel/helpers - typeof";return yA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yA(e)}function e5e(e){return s5e(e)||n5e(e)||r5e(e)||t5e()}function t5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r5e(e,t){if(e){if(typeof e=="string")return g6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g6(e,t)}}function g6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function n5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s5e(e){if(Array.isArray(e))return e}function a5e(){var e={},t=function(){return null},r=!1,s=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=e5e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){x6(a.bind(null,d),c);return}a(c),x6(a.bind(null,d));return}yA(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,s(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function K0(e){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K0(e)}function v6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function y6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v6(Object(r),!0).forEach(function(s){LG(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function LG(e,t,r){return t=i5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i5e(e){var t=o5e(e,"string");return K0(t)==="symbol"?t:String(t)}function o5e(e,t){if(K0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(K0(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l5e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},c5e=function(t){return t},d5e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ig=function(t,r){return Object.keys(r).reduce(function(s,a){return y6(y6({},s),{},LG({},a,t(a,r[a])))},{})},j6=function(t,r,s){return t.map(function(a){return"".concat(d5e(a)," ").concat(r,"ms ").concat(s)}).join(",")};function u5e(e,t){return h5e(e)||m5e(e,t)||BG(e,t)||f5e()}function f5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function h5e(e){if(Array.isArray(e))return e}function p5e(e){return v5e(e)||g5e(e)||BG(e)||x5e()}function x5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BG(e,t){if(e){if(typeof e=="string")return jA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jA(e,t)}}function g5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v5e(e){if(Array.isArray(e))return jA(e)}function jA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var ew=1e-4,UG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},VG=function(t,r){return t.map(function(s,a){return s*Math.pow(r,a)}).reduce(function(s,a){return s+a})},b6=function(t,r){return function(s){var a=UG(t,r);return VG(a,s)}},y5e=function(t,r){return function(s){var a=UG(t,r),i=[].concat(p5e(a.map(function(o,l){return o*l}).slice(1)),[0]);return VG(i,s)}},w6=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=u5e(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var f=b6(a,o),m=b6(i,l),h=y5e(a,o),x=function(j){return j>1?1:j<0?0:j},p=function(j){for(var y=j>1?1:j,w=y,b=0;b<8;++b){var N=f(w)-y,S=h(w);if(Math.abs(N-y)<ew||S<ew)return m(w);w=x(w-N/S)}return m(w)};return p.isStepper=!1,p},j5e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,s=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(u,f,m){var h=-(u-f)*s,x=m*i,p=m+(h-x)*l/1e3,g=m*l/1e3+u;return Math.abs(g-f)<ew&&Math.abs(p)<ew?[f,0]:[g,p]};return c.isStepper=!0,c.dt=l,c},b5e=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return w6(a);case"spring":return j5e();default:if(a.split("(")[0]==="cubic-bezier")return w6(a)}return typeof a=="function"?a:null};function Y0(e){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y0(e)}function N6(e){return _5e(e)||N5e(e)||zG(e)||w5e()}function w5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _5e(e){if(Array.isArray(e))return wA(e)}function _6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ws(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_6(Object(r),!0).forEach(function(s){bA(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function bA(e,t,r){return t=S5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S5e(e){var t=C5e(e,"string");return Y0(t)==="symbol"?t:String(t)}function C5e(e,t){if(Y0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Y0(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E5e(e,t){return k5e(e)||P5e(e,t)||zG(e,t)||A5e()}function A5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zG(e,t){if(e){if(typeof e=="string")return wA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wA(e,t)}}function wA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function P5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function k5e(e){if(Array.isArray(e))return e}var tw=function(t,r,s){return t+(r-t)*s},NA=function(t){var r=t.from,s=t.to;return r!==s},T5e=function e(t,r,s){var a=Ig(function(i,o){if(NA(o)){var l=t(o.from,o.to,o.velocity),c=E5e(l,2),d=c[0],u=c[1];return Ws(Ws({},o),{},{from:d,velocity:u})}return o},r);return s<1?Ig(function(i,o){return NA(o)?Ws(Ws({},o),{},{velocity:tw(o.velocity,a[i].velocity,s),from:tw(o.from,a[i].from,s)}):o},r):e(t,a,s-1)};const O5e=function(e,t,r,s,a){var i=l5e(e,t),o=i.reduce(function(g,j){return Ws(Ws({},g),{},bA({},j,[e[j],t[j]]))},{}),l=i.reduce(function(g,j){return Ws(Ws({},g),{},bA({},j,{from:e[j],velocity:0,to:t[j]}))},{}),c=-1,d,u,f=function(){return null},m=function(){return Ig(function(j,y){return y.from},l)},h=function(){return!Object.values(l).filter(NA).length},x=function(j){d||(d=j);var y=j-d,w=y/r.dt;l=T5e(r,l,w),a(Ws(Ws(Ws({},e),t),m())),d=j,h()||(c=requestAnimationFrame(f))},p=function(j){u||(u=j);var y=(j-u)/s,w=Ig(function(N,S){return tw.apply(void 0,N6(S).concat([r(y)]))},o);if(a(Ws(Ws(Ws({},e),t),w)),y<1)c=requestAnimationFrame(f);else{var b=Ig(function(N,S){return tw.apply(void 0,N6(S).concat([r(1)]))},o);a(Ws(Ws(Ws({},e),t),b))}};return f=r.isStepper?x:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}var D5e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function I5e(e,t){if(e==null)return{};var r=R5e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function R5e(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function HS(e){return L5e(e)||$5e(e)||F5e(e)||M5e()}function M5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F5e(e,t){if(e){if(typeof e=="string")return _A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _A(e,t)}}function $5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function L5e(e){if(Array.isArray(e))return _A(e)}function _A(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function S6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S6(Object(r),!0).forEach(function(s){mg(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function mg(e,t,r){return t=WG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U5e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,WG(s.key),s)}}function V5e(e,t,r){return t&&U5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WG(e){var t=z5e(e,"string");return pp(t)==="symbol"?t:String(t)}function z5e(e,t){if(pp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(pp(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SA(e,t)}function SA(e,t){return SA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},SA(e,t)}function H5e(e){var t=q5e();return function(){var s=rw(e),a;if(t){var i=rw(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return CA(this,a)}}function CA(e,t){if(t&&(pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EA(e)}function EA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q5e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rw(e){return rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rw(e)}var ml=function(e){W5e(r,e);var t=H5e(r);function r(s,a){var i;B5e(this,r),i=t.call(this,s,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,f=o.steps,m=o.children,h=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(EA(i)),i.changeStyle=i.changeStyle.bind(EA(i)),!l||h<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:u}),CA(i);if(f&&f.length)i.state={style:f[0].style};else if(d){if(typeof m=="function")return i.state={style:d},CA(i);i.state={style:c?mg({},c,d):d}}else i.state={style:{}};return i}return V5e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,f=i.from,m=this.state.style;if(l){if(!o){var h={style:c?mg({},c,u):u};this.state&&m&&(c&&m[c]!==u||!c&&m!==u)&&this.setState(h);return}if(!(ZDe(a.to,u)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=x||d?f:a.to;if(this.state&&m){var g={style:c?mg({},c,p):p};(c&&m[c]!==p||!c&&m!==p)&&this.setState(g)}this.runAnimation(Lo(Lo({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,h=O5e(o,l,b5e(d),c,this.changeStyle),x=function(){i.stopJSAnimation=h()};this.manager.start([m,u,x,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,f=d.duration,m=f===void 0?0:f,h=function(p,g,j){if(j===0)return p;var y=g.duration,w=g.easing,b=w===void 0?"ease":w,N=g.style,S=g.properties,_=g.onAnimationEnd,E=j>0?o[j-1]:g,A=S||Object.keys(N);if(typeof b=="function"||b==="spring")return[].concat(HS(p),[i.runJSAnimation.bind(i,{from:E.style,to:N,duration:y,easing:b}),y]);var T=j6(A,y,b),R=Lo(Lo(Lo({},E.style),N),{},{transition:T});return[].concat(HS(p),[R,y,_]).filter(c5e)};return this.manager.start([c].concat(HS(o.reduce(h,[u,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=a5e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,h=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof d=="function"||typeof h=="function"||d==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var p=l?mg({},l,c):c,g=j6(Object.keys(p),o,d);x.start([u,i,Lo(Lo({},p),{},{transition:g}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=I5e(a,D5e),d=v.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var f=function(h){var x=h.props,p=x.style,g=p===void 0?{}:p,j=x.className,y=v.cloneElement(h,Lo(Lo({},c),{},{style:Lo(Lo({},g),u),className:j}));return y};return d===1?f(v.Children.only(i)):V.createElement("div",null,v.Children.map(i,function(m){return f(m)}))}}]),r}(v.PureComponent);ml.displayName="Animate";ml.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ml.propTypes={from:Yt.oneOfType([Yt.object,Yt.string]),to:Yt.oneOfType([Yt.object,Yt.string]),attributeName:Yt.string,duration:Yt.number,begin:Yt.number,easing:Yt.oneOfType([Yt.string,Yt.func]),steps:Yt.arrayOf(Yt.shape({duration:Yt.number.isRequired,style:Yt.object.isRequired,easing:Yt.oneOfType([Yt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Yt.func]),properties:Yt.arrayOf("string"),onAnimationEnd:Yt.func})),children:Yt.oneOfType([Yt.node,Yt.func]),isActive:Yt.bool,canBegin:Yt.bool,onAnimationEnd:Yt.func,shouldReAnimate:Yt.bool,onAnimationStart:Yt.func,onAnimationReStart:Yt.func};Yt.object,Yt.object,Yt.object,Yt.element;Yt.object,Yt.object,Yt.object,Yt.oneOfType([Yt.array,Yt.element]),Yt.any;function X0(e){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X0(e)}function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},nw.apply(this,arguments)}function G5e(e,t){return Q5e(e)||X5e(e,t)||Y5e(e,t)||K5e()}function K5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y5e(e,t){if(e){if(typeof e=="string")return C6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C6(e,t)}}function C6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function X5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Q5e(e){if(Array.isArray(e))return e}function E6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function A6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E6(Object(r),!0).forEach(function(s){Z5e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Z5e(e,t,r){return t=J5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J5e(e){var t=eIe(e,"string");return X0(t)=="symbol"?t:t+""}function eIe(e,t){if(X0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(X0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P6=function(t,r,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,u;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],m=0,h=4;m<h;m++)f[m]=i[m]>o?o:i[m];u="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(t+c*f[0],",").concat(r)),u+="L ".concat(t+s-c*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(t+s,",").concat(r+l*f[1])),u+="L ".concat(t+s,",").concat(r+a-l*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(t+s-c*f[2],",").concat(r+a)),u+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+a-l*f[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);u="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+s-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+s,",").concat(r+l*x,`
            L `).concat(t+s,",").concat(r+a-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+s-c*x,",").concat(r+a,`
            L `).concat(t+c*x,",").concat(r+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t,",").concat(r+a-l*x," Z")}else u="M ".concat(t,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return u},tIe=function(t,r){if(!t||!r)return!1;var s=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return s>=d&&s<=u&&a>=f&&a<=m}return!1},rIe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WO=function(t){var r=A6(A6({},rIe),t),s=v.useRef(),a=v.useState(-1),i=G5e(a,2),o=i[0],l=i[1];v.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var b=s.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,d=r.y,u=r.width,f=r.height,m=r.radius,h=r.className,x=r.animationEasing,p=r.animationDuration,g=r.animationBegin,j=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||u===0||f===0)return null;var w=Vt("recharts-rectangle",h);return y?V.createElement(ml,{canBegin:o>0,from:{width:u,height:f,x:c,y:d},to:{width:u,height:f,x:c,y:d},duration:p,animationEasing:x,isActive:y},function(b){var N=b.width,S=b.height,_=b.x,E=b.y;return V.createElement(ml,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,isActive:j,easing:x},V.createElement("path",nw({},Nt(r,!0),{className:w,d:P6(_,E,N,S,m),ref:s})))}):V.createElement("path",nw({},Nt(r,!0),{className:w,d:P6(c,d,u,f,m)}))},nIe=["points","className","baseLinePoints","connectNulls"];function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ah.apply(this,arguments)}function sIe(e,t){if(e==null)return{};var r=aIe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function aIe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function k6(e){return cIe(e)||lIe(e)||oIe(e)||iIe()}function iIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oIe(e,t){if(e){if(typeof e=="string")return AA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AA(e,t)}}function lIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cIe(e){if(Array.isArray(e))return AA(e)}function AA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var T6=function(t){return t&&t.x===+t.x&&t.y===+t.y},dIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(s){T6(s)?r[r.length-1].push(s):r[r.length-1].length>0&&r.push([])}),T6(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Rg=function(t,r){var s=dIe(t);r&&(s=[s.reduce(function(i,o){return[].concat(k6(i),k6(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},uIe=function(t,r,s){var a=Rg(t,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Rg(r.reverse(),s).slice(1))},fIe=function(t){var r=t.points,s=t.className,a=t.baseLinePoints,i=t.connectNulls,o=sIe(t,nIe);if(!r||!r.length)return null;var l=Vt("recharts-polygon",s);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=uIe(r,a,i);return V.createElement("g",{className:l},V.createElement("path",ah({},Nt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?V.createElement("path",ah({},Nt(o,!0),{fill:"none",d:Rg(r,i)})):null,c?V.createElement("path",ah({},Nt(o,!0),{fill:"none",d:Rg(a,i)})):null)}var u=Rg(r,i);return V.createElement("path",ah({},Nt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function PA(){return PA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},PA.apply(this,arguments)}var vy=function(t){var r=t.cx,s=t.cy,a=t.r,i=t.className,o=Vt("recharts-dot",i);return r===+r&&s===+s&&a===+a?V.createElement("circle",PA({},Nt(t,!1),N1(t),{className:o,cx:r,cy:s,r:a})):null};function Q0(e){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q0(e)}var mIe=["x","y","top","left","width","height","className"];function kA(){return kA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},kA.apply(this,arguments)}function O6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function hIe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O6(Object(r),!0).forEach(function(s){pIe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function pIe(e,t,r){return t=xIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xIe(e){var t=gIe(e,"string");return Q0(t)=="symbol"?t:t+""}function gIe(e,t){if(Q0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Q0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vIe(e,t){if(e==null)return{};var r=yIe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function yIe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var jIe=function(t,r,s,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(s)},bIe=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,f=u===void 0?0:u,m=t.height,h=m===void 0?0:m,x=t.className,p=vIe(t,mIe),g=hIe({x:s,y:i,top:l,left:d,width:f,height:h},p);return!Qe(s)||!Qe(i)||!Qe(f)||!Qe(h)||!Qe(l)||!Qe(d)?null:V.createElement("path",kA({},Nt(g,!0),{className:Vt("recharts-cross",x),d:jIe(s,i,f,h,l,d)}))},wIe=C2,NIe=tG,_Ie=uc;function SIe(e,t){return e&&e.length?wIe(e,_Ie(t),NIe):void 0}var CIe=SIe;const EIe=Ar(CIe);var AIe=C2,PIe=uc,kIe=rG;function TIe(e,t){return e&&e.length?AIe(e,PIe(t),kIe):void 0}var OIe=TIe;const DIe=Ar(OIe);var IIe=["cx","cy","angle","ticks","axisLine"],RIe=["ticks","tick","angle","tickFormatter","stroke"];function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Mg.apply(this,arguments)}function D6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ku(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D6(Object(r),!0).forEach(function(s){k2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function I6(e,t){if(e==null)return{};var r=MIe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function MIe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function FIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,qG(s.key),s)}}function $Ie(e,t,r){return t&&R6(e.prototype,t),r&&R6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LIe(e,t,r){return t=sw(t),BIe(e,HG()?Reflect.construct(t,r||[],sw(e).constructor):t.apply(e,r))}function BIe(e,t){if(t&&(xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UIe(e)}function UIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HG=function(){return!!e})()}function sw(e){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sw(e)}function VIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TA(e,t)}function TA(e,t){return TA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},TA(e,t)}function k2(e,t,r){return t=qG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qG(e){var t=zIe(e,"string");return xp(t)=="symbol"?t:t+""}function zIe(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(xp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T2=function(e){function t(){return FIe(this,t),LIe(this,t,arguments)}return VIe(t,e),$Ie(t,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Xr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=EIe(l,function(u){return u.coordinate||0}),d=DIe(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,d=I6(s,IIe),u=l.reduce(function(x,p){return[Math.min(x[0],p.coordinate),Math.max(x[1],p.coordinate)]},[1/0,-1/0]),f=Xr(a,i,u[0],o),m=Xr(a,i,u[1],o),h=Ku(Ku(Ku({},Nt(d,!1)),{},{fill:"none"},Nt(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return V.createElement("line",Mg({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=I6(a,RIe),f=this.getTickTextAnchor(),m=Nt(u,!1),h=Nt(o,!1),x=i.map(function(p,g){var j=s.getTickValueCoord(p),y=Ku(Ku(Ku(Ku({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},m),{},{stroke:"none",fill:d},h),{},{index:g},j),{},{payload:p});return V.createElement(nr,Mg({className:Vt("recharts-polar-radius-axis-tick",kG(o)),key:"tick-".concat(p.coordinate)},Jf(s.props,p,g)),t.renderTickItem(o,y,c?c(p.value,g):p.value))});return V.createElement(nr,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:V.createElement(nr,{className:Vt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),As.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return V.isValidElement(s)?o=V.cloneElement(s,a):Dt(s)?o=s(a):o=V.createElement(em,Mg({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(v.PureComponent);k2(T2,"displayName","PolarRadiusAxis");k2(T2,"axisType","radiusAxis");k2(T2,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},of.apply(this,arguments)}function M6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Yu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M6(Object(r),!0).forEach(function(s){O2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function WIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,KG(s.key),s)}}function HIe(e,t,r){return t&&F6(e.prototype,t),r&&F6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qIe(e,t,r){return t=aw(t),GIe(e,GG()?Reflect.construct(t,r||[],aw(e).constructor):t.apply(e,r))}function GIe(e,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KIe(e)}function KIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GG=function(){return!!e})()}function aw(e){return aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aw(e)}function YIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OA(e,t)}function OA(e,t){return OA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},OA(e,t)}function O2(e,t,r){return t=KG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KG(e){var t=XIe(e,"string");return gp(t)=="symbol"?t:t+""}function XIe(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(gp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QIe=Math.PI/180,$6=1e-5,D2=function(e){function t(){return WIe(this,t),qIe(this,t,arguments)}return YIe(t,e),HIe(t,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,f=Xr(i,o,l,s.coordinate),m=Xr(i,o,l+(c==="inner"?-1:1)*u,s.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*QIe),o;return i>$6?o=a==="outer"?"start":"end":i<-$6?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,d=Yu(Yu({},Nt(this.props,!1)),{},{fill:"none"},Nt(l,!1));if(c==="circle")return V.createElement(vy,of({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,f=u.map(function(m){return Xr(a,i,o,m.coordinate)});return V.createElement(fIe,of({className:"recharts-polar-angle-axis-line"},d,{points:f}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=Nt(this.props,!1),f=Nt(o,!1),m=Yu(Yu({},u),{},{fill:"none"},Nt(l,!1)),h=i.map(function(x,p){var g=s.getTickLineCoord(x),j=s.getTickTextAnchor(x),y=Yu(Yu(Yu({textAnchor:j},u),{},{stroke:"none",fill:d},f),{},{index:p,payload:x,x:g.x2,y:g.y2});return V.createElement(nr,of({className:Vt("recharts-polar-angle-axis-tick",kG(o)),key:"tick-".concat(x.coordinate)},Jf(s.props,x,p)),l&&V.createElement("line",of({className:"recharts-polar-angle-axis-tick-line"},m,g)),o&&t.renderTickItem(o,y,c?c(x.value,p):x.value))});return V.createElement(nr,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:V.createElement(nr,{className:Vt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return V.isValidElement(s)?o=V.cloneElement(s,a):Dt(s)?o=s(a):o=V.createElement(em,of({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(v.PureComponent);O2(D2,"displayName","PolarAngleAxis");O2(D2,"axisType","angleAxis");O2(D2,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ZIe=QH,JIe=ZIe(Object.getPrototypeOf,Object),eRe=JIe,tRe=md,rRe=eRe,nRe=hd,sRe="[object Object]",aRe=Function.prototype,iRe=Object.prototype,YG=aRe.toString,oRe=iRe.hasOwnProperty,lRe=YG.call(Object);function cRe(e){if(!nRe(e)||tRe(e)!=sRe)return!1;var t=rRe(e);if(t===null)return!0;var r=oRe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&YG.call(r)==lRe}var dRe=cRe;const uRe=Ar(dRe);var fRe=md,mRe=hd,hRe="[object Boolean]";function pRe(e){return e===!0||e===!1||mRe(e)&&fRe(e)==hRe}var xRe=pRe;const gRe=Ar(xRe);function Z0(e){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z0(e)}function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},iw.apply(this,arguments)}function vRe(e,t){return wRe(e)||bRe(e,t)||jRe(e,t)||yRe()}function yRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jRe(e,t){if(e){if(typeof e=="string")return L6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L6(e,t)}}function L6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function bRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function wRe(e){if(Array.isArray(e))return e}function B6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function U6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B6(Object(r),!0).forEach(function(s){NRe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function NRe(e,t,r){return t=_Re(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Re(e){var t=SRe(e,"string");return Z0(t)=="symbol"?t:t+""}function SRe(e,t){if(Z0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Z0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V6=function(t,r,s,a,i){var o=s-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+s,",").concat(r),l+="L ".concat(t+s-o/2,",").concat(r+i),l+="L ".concat(t+s-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},CRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ERe=function(t){var r=U6(U6({},CRe),t),s=v.useRef(),a=v.useState(-1),i=vRe(a,2),o=i[0],l=i[1];v.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var w=s.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,f=r.lowerWidth,m=r.height,h=r.className,x=r.animationEasing,p=r.animationDuration,g=r.animationBegin,j=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||m!==+m||u===0&&f===0||m===0)return null;var y=Vt("recharts-trapezoid",h);return j?V.createElement(ml,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:d},to:{upperWidth:u,lowerWidth:f,height:m,x:c,y:d},duration:p,animationEasing:x,isActive:j},function(w){var b=w.upperWidth,N=w.lowerWidth,S=w.height,_=w.x,E=w.y;return V.createElement(ml,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,easing:x},V.createElement("path",iw({},Nt(r,!0),{className:y,d:V6(_,E,b,N,S),ref:s})))}):V.createElement("g",null,V.createElement("path",iw({},Nt(r,!0),{className:y,d:V6(c,d,u,f,m)})))},ARe=["option","shapeType","propTransformer","activeClassName","isActive"];function J0(e){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J0(e)}function PRe(e,t){if(e==null)return{};var r=kRe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function kRe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function z6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ow(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z6(Object(r),!0).forEach(function(s){TRe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function TRe(e,t,r){return t=ORe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ORe(e){var t=DRe(e,"string");return J0(t)=="symbol"?t:t+""}function DRe(e,t){if(J0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(J0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IRe(e,t){return ow(ow({},t),e)}function RRe(e,t){return e==="symbols"}function W6(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return V.createElement(WO,r);case"trapezoid":return V.createElement(ERe,r);case"sector":return V.createElement(DG,r);case"symbols":if(RRe(t))return V.createElement(cO,r);break;default:return null}}function MRe(e){return v.isValidElement(e)?e.props:e}function XG(e){var t=e.option,r=e.shapeType,s=e.propTransformer,a=s===void 0?IRe:s,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=PRe(e,ARe),d;if(v.isValidElement(t))d=v.cloneElement(t,ow(ow({},c),MRe(t)));else if(Dt(t))d=t(c);else if(uRe(t)&&!gRe(t)){var u=a(t,c);d=V.createElement(W6,{shapeType:r,elementProps:u})}else{var f=c;d=V.createElement(W6,{shapeType:r,elementProps:f})}return l?V.createElement(nr,{className:o},d):d}function I2(e,t){return t!=null&&"trapezoids"in e.props}function R2(e,t){return t!=null&&"sectors"in e.props}function ev(e,t){return t!=null&&"points"in e.props}function FRe(e,t){var r,s,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return a&&i}function $Re(e,t){var r=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return r&&s}function LRe(e,t){var r=e.x===t.x,s=e.y===t.y,a=e.z===t.z;return r&&s&&a}function BRe(e,t){var r;return I2(e,t)?r=FRe:R2(e,t)?r=$Re:ev(e,t)&&(r=LRe),r}function URe(e,t){var r;return I2(e,t)?r="trapezoids":R2(e,t)?r="sectors":ev(e,t)&&(r="points"),r}function VRe(e,t){if(I2(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(R2(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return ev(e,t)?t.payload:{}}function zRe(e){var t=e.activeTooltipItem,r=e.graphicalItem,s=e.itemData,a=URe(r,t),i=VRe(r,t),o=s.filter(function(c,d){var u=tm(i,c),f=r.props[a].filter(function(x){var p=BRe(r,t);return p(x,t)}),m=r.props[a].indexOf(f[f.length-1]),h=d===m;return u&&h}),l=s.indexOf(o[o.length-1]);return l}var mb;function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ih.apply(this,arguments)}function H6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H6(Object(r),!0).forEach(function(s){go(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function WRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,ZG(s.key),s)}}function HRe(e,t,r){return t&&q6(e.prototype,t),r&&q6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qRe(e,t,r){return t=lw(t),GRe(e,QG()?Reflect.construct(t,r||[],lw(e).constructor):t.apply(e,r))}function GRe(e,t){if(t&&(vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KRe(e)}function KRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QG=function(){return!!e})()}function lw(e){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lw(e)}function YRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DA(e,t)}function DA(e,t){return DA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},DA(e,t)}function go(e,t,r){return t=ZG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZG(e){var t=XRe(e,"string");return vp(t)=="symbol"?t:t+""}function XRe(e,t){if(vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(vp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zi=function(e){function t(r){var s;return WRe(this,t),s=qRe(this,t,[r]),go(s,"pieRef",null),go(s,"sectorRefs",[]),go(s,"id",gm("recharts-pie-")),go(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),Dt(a)&&a()}),go(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),Dt(a)&&a()}),s.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},s}return YRe(t,e),HRe(t,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=Nt(this.props,!1),f=Nt(o,!1),m=Nt(l,!1),h=o&&o.offsetRadius||20,x=s.map(function(p,g){var j=(p.startAngle+p.endAngle)/2,y=Xr(p.cx,p.cy,p.outerRadius+h,j),w=Gr(Gr(Gr(Gr({},u),p),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(y.x,p.cx)},y),b=Gr(Gr(Gr(Gr({},u),p),{},{fill:"none",stroke:p.fill},m),{},{index:g,points:[Xr(p.cx,p.cy,p.outerRadius,j),y]}),N=c;return Lt(c)&&Lt(d)?N="value":Lt(c)&&(N=d),V.createElement(nr,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(g)},l&&t.renderLabelLineItem(l,b,"line"),t.renderLabelItem(o,w,Gn(p,N)))});return V.createElement(nr,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return s.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&s.length!==1)return null;var f=a.isActiveIndex(u),m=c&&a.hasActiveIndex()?c:null,h=f?o:m,x=Gr(Gr({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return V.createElement(nr,ih({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Jf(a.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),V.createElement(XG,ih({option:h,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,f=this.state,m=f.prevSectors,h=f.prevIsAnimationActive;return V.createElement(ml,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var p=x.t,g=[],j=i&&i[0],y=j.startAngle;return i.forEach(function(w,b){var N=m&&m[b],S=b>0?Ui(w,"paddingAngle",0):0;if(N){var _=vs(N.endAngle-N.startAngle,w.endAngle-w.startAngle),E=Gr(Gr({},w),{},{startAngle:y+S,endAngle:y+_(p)+S});g.push(E),y=E.endAngle}else{var A=w.endAngle,T=w.startAngle,R=vs(0,A-T),I=R(p),z=Gr(Gr({},w),{},{startAngle:y+S,endAngle:y+I+S});g.push(z),y=z.endAngle}}),V.createElement(nr,null,s.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!tm(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,f=a.innerRadius,m=a.outerRadius,h=a.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!Qe(d)||!Qe(u)||!Qe(f)||!Qe(m))return null;var p=Vt("recharts-pie",l);return V.createElement(nr,{tabIndex:this.props.rootTabIndex,className:p,ref:function(j){s.pieRef=j}},this.renderSectors(),c&&this.renderLabels(o),As.renderCallByParent(this.props,null,!1),(!h||x)&&Zl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(V.isValidElement(s))return V.cloneElement(s,a);if(Dt(s))return s(a);var o=Vt("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return V.createElement(Rf,ih({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(V.isValidElement(s))return V.cloneElement(s,a);var o=i;if(Dt(s)&&(o=s(a),V.isValidElement(o)))return o;var l=Vt("recharts-pie-label-text",typeof s!="boolean"&&!Dt(s)?s.className:"");return V.createElement(em,ih({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(v.PureComponent);mb=zi;go(zi,"displayName","Pie");go(zi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ol.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});go(zi,"parseDeltaAngle",function(e,t){var r=Da(t-e),s=Math.min(Math.abs(t-e),360);return r*s});go(zi,"getRealPieData",function(e){var t=e.data,r=e.children,s=Nt(e,!1),a=Vi(r,Ca);return t&&t.length?t.map(function(i,o){return Gr(Gr(Gr({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Gr(Gr({},s),i.props)}):[]});go(zi,"parseCoordinateOfPie",function(e,t){var r=t.top,s=t.left,a=t.width,i=t.height,o=PG(a,i),l=s+Ia(e.cx,a,a/2),c=r+Ia(e.cy,i,i/2),d=Ia(e.innerRadius,o,0),u=Ia(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:f}});go(zi,"getComposedData",function(e){var t=e.item,r=e.offset,s=t.type.defaultProps!==void 0?Gr(Gr({},t.type.defaultProps),t.props):t.props,a=mb.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,d=s.dataKey,u=s.nameKey,f=s.valueKey,m=s.tooltipType,h=Math.abs(s.minAngle),x=mb.parseCoordinateOfPie(s,r),p=mb.parseDeltaAngle(o,l),g=Math.abs(p),j=d;Lt(d)&&Lt(f)?(al(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):Lt(d)&&(al(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=f);var y=a.filter(function(E){return Gn(E,j,0)!==0}).length,w=(g>=360?y:y-1)*c,b=g-y*h-w,N=a.reduce(function(E,A){var T=Gn(A,j,0);return E+(Qe(T)?T:0)},0),S;if(N>0){var _;S=a.map(function(E,A){var T=Gn(E,j,0),R=Gn(E,u,A),I=(Qe(T)?T:0)/N,z;A?z=_.endAngle+Da(p)*c*(T!==0?1:0):z=o;var H=z+Da(p)*((T!==0?h:0)+I*b),F=(z+H)/2,k=(x.innerRadius+x.outerRadius)/2,P=[{name:R,value:T,payload:E,dataKey:j,type:m}],M=Xr(x.cx,x.cy,k,F);return _=Gr(Gr(Gr({percent:I,cornerRadius:i,name:R,tooltipPayload:P,midAngle:F,middleRadius:k,tooltipPosition:M},E),x),{},{value:Gn(E,j),startAngle:z,endAngle:H,payload:E,paddingAngle:Da(p)*c}),_})}return Gr(Gr({},x),{},{sectors:S,data:a})});var QRe=Math.ceil,ZRe=Math.max;function JRe(e,t,r,s){for(var a=-1,i=ZRe(QRe((t-e)/(r||1)),0),o=Array(i);i--;)o[s?i:++a]=e,e+=r;return o}var eMe=JRe,tMe=xq,G6=1/0,rMe=17976931348623157e292;function nMe(e){if(!e)return e===0?e:0;if(e=tMe(e),e===G6||e===-G6){var t=e<0?-1:1;return t*rMe}return e===e?e:0}var JG=nMe,sMe=eMe,aMe=y2,qS=JG;function iMe(e){return function(t,r,s){return s&&typeof s!="number"&&aMe(t,r,s)&&(r=s=void 0),t=qS(t),r===void 0?(r=t,t=0):r=qS(r),s=s===void 0?t<r?1:-1:qS(s),sMe(t,r,s,e)}}var oMe=iMe,lMe=oMe,cMe=lMe(),dMe=cMe;const cw=Ar(dMe);function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}function K6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Y6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K6(Object(r),!0).forEach(function(s){eK(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function eK(e,t,r){return t=uMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uMe(e){var t=fMe(e,"string");return tv(t)=="symbol"?t:t+""}function fMe(e,t){if(tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(tv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mMe=["Webkit","Moz","O","ms"],hMe=function(t,r){var s=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=mMe.reduce(function(i,o){return Y6(Y6({},i),{},eK({},o+s,r))},{});return a[t]=r,a};function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},dw.apply(this,arguments)}function X6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function GS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X6(Object(r),!0).forEach(function(s){Ci(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function pMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,rK(s.key),s)}}function xMe(e,t,r){return t&&Q6(e.prototype,t),r&&Q6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gMe(e,t,r){return t=uw(t),vMe(e,tK()?Reflect.construct(t,r||[],uw(e).constructor):t.apply(e,r))}function vMe(e,t){if(t&&(yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yMe(e)}function yMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tK=function(){return!!e})()}function uw(e){return uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uw(e)}function jMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IA(e,t)}function IA(e,t){return IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},IA(e,t)}function Ci(e,t,r){return t=rK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rK(e){var t=bMe(e,"string");return yp(t)=="symbol"?t:t+""}function bMe(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(yp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wMe=function(t){var r=t.data,s=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=Og().domain(cw(0,c)).range([i,i+o-l]),u=d.domain().map(function(f){return d(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(s),endX:d(a),scale:d,scaleValues:u}},Z6=function(t){return t.changedTouches&&!!t.changedTouches.length},jp=function(e){function t(r){var s;return pMe(this,t),s=gMe(this,t,[r]),Ci(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),Ci(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),Ci(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),Ci(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),Ci(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),Ci(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),Ci(s,"handleSlideDragStart",function(a){var i=Z6(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return jMe(t,e),xMe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,f=Math.min(a,i),m=Math.max(a,i),h=t.getIndexInRange(o,f),x=t.getIndexInRange(o,m);return{startIndex:h-h%c,endIndex:x===u?u:x-x%c}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Gn(i[s],l,s);return Dt(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,f=c.travellerWidth,m=c.startIndex,h=c.endIndex,x=c.onChange,p=s.pageX-i;p>0?p=Math.min(p,d+u-f-l,d+u-f-o):p<0&&(p=Math.max(p,d-o,d-l));var g=this.getIndex({startX:o+p,endX:l+p});(g.startIndex!==m||g.endIndex!==h)&&x&&x(g),this.setState({startX:o+p,endX:l+p,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=Z6(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,f=u.x,m=u.width,h=u.travellerWidth,x=u.onChange,p=u.gap,g=u.data,j={startX:this.state.startX,endX:this.state.endX},y=s.pageX-i;y>0?y=Math.min(y,f+m-h-d):y<0&&(y=Math.max(y,f-d)),j[o]=d+y;var w=this.getIndex(j),b=w.startIndex,N=w.endIndex,S=function(){var E=g.length-1;return o==="startX"&&(l>c?b%p===0:N%p===0)||l<c&&N===E||o==="endX"&&(l>c?N%p===0:b%p===0)||l>c&&N===E};this.setState(Ci(Ci({},o,d+y),"brushMoveStartX",s.pageX),function(){x&&S()&&x(w)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],f=l.indexOf(u);if(f!==-1){var m=f+s;if(!(m===-1||m>=l.length)){var h=l[m];a==="startX"&&h>=d||a==="endX"&&h<=c||this.setState(Ci({},a,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.fill,d=s.stroke;return V.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.data,d=s.children,u=s.padding,f=v.Children.only(d);return f?V.cloneElement(f,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,f=c.height,m=c.traveller,h=c.ariaLabel,x=c.data,p=c.startIndex,g=c.endIndex,j=Math.max(s,this.props.x),y=GS(GS({},Nt(this.props,!1)),{},{x:j,y:d,width:u,height:f}),w=h||"Min value: ".concat((i=x[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[g])===null||o===void 0?void 0:o.name);return V.createElement(nr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,y))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(s,a)+d,f=Math.max(Math.abs(a-s)-d,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:f,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,d=s.stroke,u=this.state,f=u.startX,m=u.endX,h=5,x={pointerEvents:"none",fill:d};return V.createElement(nr,{className:"recharts-brush-texts"},V.createElement(em,dw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-h,y:o+l/2},x),this.getTextOfTick(a)),V.createElement(em,dw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+h,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,c=s.y,d=s.width,u=s.height,f=s.alwaysShowText,m=this.state,h=m.startX,x=m.endX,p=m.isTextActive,g=m.isSlideMoving,j=m.isTravellerMoving,y=m.isTravellerFocused;if(!a||!a.length||!Qe(l)||!Qe(c)||!Qe(d)||!Qe(u)||d<=0||u<=0)return null;var w=Vt("recharts-brush",i),b=V.Children.count(o)===1,N=hMe("userSelect","none");return V.createElement(nr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),b&&this.renderPanorama(),this.renderSlide(h,x),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(x,"endX"),(p||g||j||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.stroke,d=Math.floor(i+l/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),V.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return V.isValidElement(s)?i=V.cloneElement(s,a):Dt(s)?i=s(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,c=s.travellerWidth,d=s.updateId,u=s.startIndex,f=s.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return GS({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?wMe({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var m=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>a?l=c:o=c}return a>=s[l]?l:o}}])}(v.PureComponent);Ci(jp,"displayName","Brush");Ci(jp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var NMe=xO;function _Me(e,t){var r;return NMe(e,function(s,a,i){return r=t(s,a,i),!r}),!!r}var SMe=_Me,CMe=zH,EMe=uc,AMe=SMe,PMe=yi,kMe=y2;function TMe(e,t,r){var s=PMe(e)?CMe:AMe;return r&&kMe(e,t,r)&&(t=void 0),s(e,EMe(t))}var OMe=TMe;const DMe=Ar(OMe);var Jl=function(t,r){var s=t.alwaysShow,a=t.ifOverflow;return s&&(a="extendDomain"),a===r},J6=uq;function IMe(e,t,r){t=="__proto__"&&J6?J6(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var RMe=IMe,MMe=RMe,FMe=cq,$Me=uc;function LMe(e,t){var r={};return t=$Me(t),FMe(e,function(s,a,i){MMe(r,a,t(s,a,i))}),r}var BMe=LMe;const UMe=Ar(BMe);function VMe(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(!t(e[r],r,e))return!1;return!0}var zMe=VMe,WMe=xO;function HMe(e,t){var r=!0;return WMe(e,function(s,a,i){return r=!!t(s,a,i),r}),r}var qMe=HMe,GMe=zMe,KMe=qMe,YMe=uc,XMe=yi,QMe=y2;function ZMe(e,t,r){var s=XMe(e)?GMe:KMe;return r&&QMe(e,t,r)&&(t=void 0),s(e,YMe(t))}var JMe=ZMe;const nK=Ar(JMe);var eFe=["x","y"];function rv(e){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(e)}function RA(){return RA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},RA.apply(this,arguments)}function e$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Jx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e$(Object(r),!0).forEach(function(s){tFe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function tFe(e,t,r){return t=rFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rFe(e){var t=nFe(e,"string");return rv(t)=="symbol"?t:t+""}function nFe(e,t){if(rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(rv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sFe(e,t){if(e==null)return{};var r=aFe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function aFe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function iFe(e,t){var r=e.x,s=e.y,a=sFe(e,eFe),i="".concat(r),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),d="".concat(t.height||a.height),u=parseInt(d,10),f="".concat(t.width||a.width),m=parseInt(f,10);return Jx(Jx(Jx(Jx(Jx({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:m,name:t.name,radius:t.radius})}function t$(e){return V.createElement(XG,RA({shapeType:"rectangle",propTransformer:iFe,activeClassName:"recharts-active-bar"},e))}var oFe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof t=="number")return t;var i=typeof s=="number";return i?t(s,a):(i||Su(),r)}},lFe=["value","background"],sK;function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function cFe(e,t){if(e==null)return{};var r=dFe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function dFe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},fw.apply(this,arguments)}function r$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r$(Object(r),!0).forEach(function(s){Xd(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function uFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,iK(s.key),s)}}function fFe(e,t,r){return t&&n$(e.prototype,t),r&&n$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mFe(e,t,r){return t=mw(t),hFe(e,aK()?Reflect.construct(t,r||[],mw(e).constructor):t.apply(e,r))}function hFe(e,t){if(t&&(bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pFe(e)}function pFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aK=function(){return!!e})()}function mw(e){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(e)}function xFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MA(e,t)}function MA(e,t){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},MA(e,t)}function Xd(e,t,r){return t=iK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iK(e){var t=gFe(e,"string");return bp(t)=="symbol"?t:t+""}function gFe(e,t){if(bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(bp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wn=function(e){function t(){var r;uFe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=mFe(this,t,[].concat(a)),Xd(r,"state",{isAnimationFinished:!1}),Xd(r,"id",gm("recharts-bar-")),Xd(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Xd(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return xFe(t,e),fFe(t,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=Nt(this.props,!1);return s&&s.map(function(f,m){var h=m===c,x=h?d:o,p=rs(rs(rs({},u),f),{},{isActive:h,option:x,index:m,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return V.createElement(nr,fw({className:"recharts-bar-rectangle"},Jf(a.props,f,m),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),V.createElement(t$,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,f=a.animationId,m=this.state.prevData;return V.createElement(ml,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var x=h.t,p=i.map(function(g,j){var y=m&&m[j];if(y){var w=vs(y.x,g.x),b=vs(y.y,g.y),N=vs(y.width,g.width),S=vs(y.height,g.height);return rs(rs({},g),{},{x:w(x),y:b(x),width:N(x),height:S(x)})}if(o==="horizontal"){var _=vs(0,g.height),E=_(x);return rs(rs({},g),{},{y:g.y+g.height-E,height:E})}var A=vs(0,g.width),T=A(x);return rs(rs({},g),{},{width:T})});return V.createElement(nr,null,s.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!tm(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Nt(this.props.background,!1);return i.map(function(d,u){d.value;var f=d.background,m=cFe(d,lFe);if(!f)return null;var h=rs(rs(rs(rs(rs({},m),{},{fill:"#eee"},f),c),Jf(s.props,d,u)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return V.createElement(t$,fw({key:"background-bar-".concat(u),option:s.props.background,isActive:u===l},h))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=Vi(u,gy);if(!f)return null;var m=d==="vertical"?o[0].height/2:o[0].width/2,h=function(g,j){var y=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:y,errorVal:Gn(g,j)}},x={clipPath:s?"url(#clipPath-".concat(a,")"):null};return V.createElement(nr,x,f.map(function(p){return V.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:m,dataPointFormatter:h})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,c=s.yAxis,d=s.left,u=s.top,f=s.width,m=s.height,h=s.isAnimationActive,x=s.background,p=s.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,j=Vt("recharts-bar",o),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,b=y||w,N=Lt(p)?this.id:p;return V.createElement(nr,{className:j},y||w?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(N)},V.createElement("rect",{x:y?d:d-f/2,y:w?u:u-m/2,width:y?f:f*2,height:w?m:m*2}))):null,V.createElement(nr,{className:"recharts-bar-rectangles",clipPath:b?"url(#clipPath-".concat(N,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(b,N),(!h||g)&&Zl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])}(v.PureComponent);sK=wn;Xd(wn,"displayName","Bar");Xd(wn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ol.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xd(wn,"getComposedData",function(e){var t=e.props,r=e.item,s=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,m=e.offset,h=o3e(s,r);if(!h)return null;var x=t.layout,p=r.type.defaultProps,g=p!==void 0?rs(rs({},p),r.props):r.props,j=g.dataKey,y=g.children,w=g.minPointSize,b=x==="horizontal"?o:i,N=d?b.scale.domain():null,S=h3e({numericAxis:b}),_=Vi(y,Ca),E=f.map(function(A,T){var R,I,z,H,F,k;d?R=l3e(d[u+T],N):(R=Gn(A,j),Array.isArray(R)||(R=[S,R]));var P=oFe(w,sK.defaultProps.minPointSize)(R[1],T);if(x==="horizontal"){var M,O=[o.scale(R[0]),o.scale(R[1])],K=O[0],ne=O[1];I=qF({axis:i,ticks:l,bandSize:a,offset:h.offset,entry:A,index:T}),z=(M=ne??K)!==null&&M!==void 0?M:void 0,H=h.size;var D=K-ne;if(F=Number.isNaN(D)?0:D,k={x:I,y:o.y,width:H,height:o.height},Math.abs(P)>0&&Math.abs(F)<Math.abs(P)){var U=Da(F||P)*(Math.abs(P)-Math.abs(F));z-=U,F+=U}}else{var L=[i.scale(R[0]),i.scale(R[1])],G=L[0],le=L[1];if(I=G,z=qF({axis:o,ticks:c,bandSize:a,offset:h.offset,entry:A,index:T}),H=le-G,F=h.size,k={x:i.x,y:z,width:i.width,height:F},Math.abs(P)>0&&Math.abs(H)<Math.abs(P)){var fe=Da(H||P)*(Math.abs(P)-Math.abs(H));H+=fe}}return rs(rs(rs({},A),{},{x:I,y:z,width:H,height:F,value:d?R:R[1],payload:A,background:k},_&&_[T]&&_[T].props),{},{tooltipPayload:[EG(r,A)],tooltipPosition:{x:I+H/2,y:z+F/2}})});return rs({data:E,layout:x},m)});function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function vFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,oK(s.key),s)}}function yFe(e,t,r){return t&&s$(e.prototype,t),r&&s$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a$(Object(r),!0).forEach(function(s){M2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function M2(e,t,r){return t=oK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oK(e){var t=jFe(e,"string");return nv(t)=="symbol"?t:t+""}function jFe(e,t){if(nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(nv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HO=function(t,r,s,a,i){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(r),f={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},m=!!Ti(d,wn);return u.reduce(function(h,x){var p=r[x],g=p.orientation,j=p.domain,y=p.padding,w=y===void 0?{}:y,b=p.mirror,N=p.reversed,S="".concat(g).concat(b?"Mirror":""),_,E,A,T,R;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var I=j[1]-j[0],z=1/0,H=p.categoricalDomain.sort();if(H.forEach(function(L,G){G>0&&(z=Math.min((L||0)-(H[G-1]||0),z))}),Number.isFinite(z)){var F=z/I,k=p.layout==="vertical"?s.height:s.width;if(p.padding==="gap"&&(_=F*k/2),p.padding==="no-gap"){var P=Ia(t.barCategoryGap,F*k),M=F*k/2;_=M-P-(M-P)/k*P}}}a==="xAxis"?E=[s.left+(w.left||0)+(_||0),s.left+s.width-(w.right||0)-(_||0)]:a==="yAxis"?E=c==="horizontal"?[s.top+s.height-(w.bottom||0),s.top+(w.top||0)]:[s.top+(w.top||0)+(_||0),s.top+s.height-(w.bottom||0)-(_||0)]:E=p.range,N&&(E=[E[1],E[0]]);var O=NG(p,i,m),K=O.scale,ne=O.realScaleType;K.domain(j).range(E),_G(K);var D=SG(K,qo(qo({},p),{},{realScaleType:ne}));a==="xAxis"?(R=g==="top"&&!b||g==="bottom"&&b,A=s.left,T=f[S]-R*p.height):a==="yAxis"&&(R=g==="left"&&!b||g==="right"&&b,A=f[S]-R*p.width,T=s.top);var U=qo(qo(qo({},p),D),{},{realScaleType:ne,x:A,y:T,scale:K,width:a==="xAxis"?s.width:p.width,height:a==="yAxis"?s.height:p.height});return U.bandSize=Q1(U,D),!p.hide&&a==="xAxis"?f[S]+=(R?-1:1)*U.height:p.hide||(f[S]+=(R?-1:1)*U.width),qo(qo({},h),{},M2({},x,U))},{})},lK=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},bFe=function(t){var r=t.x1,s=t.y1,a=t.x2,i=t.y2;return lK({x:r,y:s},{x:a,y:i})},cK=function(){function e(t){vFe(this,e),this.scale=t}return yFe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();M2(cK,"EPS",1e-4);var qO=function(t){var r=Object.keys(t).reduce(function(s,a){return qo(qo({},s),{},M2({},a,cK.create(t[a])))},{});return qo(qo({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return UMe(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return nK(a,function(i,o){return r[o].isInRange(i)})}})};function wFe(e){return(e%180+180)%180}var NFe=function(t){var r=t.width,s=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=wFe(a),o=i*Math.PI/180,l=Math.atan(s/r),c=o>l&&o<Math.PI-l?s/Math.sin(o):r/Math.cos(o);return Math.abs(c)},_Fe=uc,SFe=fy,CFe=g2;function EFe(e){return function(t,r,s){var a=Object(t);if(!SFe(t)){var i=_Fe(r);t=CFe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,s);return o>-1?a[i?t[o]:o]:void 0}}var AFe=EFe,PFe=JG;function kFe(e){var t=PFe(e),r=t%1;return t===t?r?t-r:t:0}var TFe=kFe,OFe=nq,DFe=uc,IFe=TFe,RFe=Math.max;function MFe(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var a=r==null?0:IFe(r);return a<0&&(a=RFe(s+a,0)),OFe(e,DFe(t),a)}var FFe=MFe,$Fe=AFe,LFe=FFe,BFe=$Fe(LFe),UFe=BFe;const VFe=Ar(UFe);var zFe=Xye(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),GO=v.createContext(void 0),KO=v.createContext(void 0),dK=v.createContext(void 0),uK=v.createContext({}),fK=v.createContext(void 0),mK=v.createContext(0),hK=v.createContext(0),i$=function(t){var r=t.state,s=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=zFe(i);return V.createElement(GO.Provider,{value:s},V.createElement(KO.Provider,{value:a},V.createElement(uK.Provider,{value:i},V.createElement(dK.Provider,{value:u},V.createElement(fK.Provider,{value:o},V.createElement(mK.Provider,{value:d},V.createElement(hK.Provider,{value:c},l)))))))},WFe=function(){return v.useContext(fK)},pK=function(t){var r=v.useContext(GO);r==null&&Su();var s=r[t];return s==null&&Su(),s},HFe=function(){var t=v.useContext(GO);return Md(t)},qFe=function(){var t=v.useContext(KO),r=VFe(t,function(s){return nK(s.domain,Number.isFinite)});return r||Md(t)},xK=function(t){var r=v.useContext(KO);r==null&&Su();var s=r[t];return s==null&&Su(),s},GFe=function(){var t=v.useContext(dK);return t},KFe=function(){return v.useContext(uK)},YO=function(){return v.useContext(hK)},XO=function(){return v.useContext(mK)};function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function YFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XFe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,vK(s.key),s)}}function QFe(e,t,r){return t&&XFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZFe(e,t,r){return t=hw(t),JFe(e,gK()?Reflect.construct(t,r||[],hw(e).constructor):t.apply(e,r))}function JFe(e,t){if(t&&(wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e6e(e)}function e6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gK=function(){return!!e})()}function hw(e){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hw(e)}function t6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FA(e,t)}function FA(e,t){return FA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},FA(e,t)}function o$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function l$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o$(Object(r),!0).forEach(function(s){QO(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function QO(e,t,r){return t=vK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vK(e){var t=r6e(e,"string");return wp(t)=="symbol"?t:t+""}function r6e(e,t){if(wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(wp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n6e(e,t){return o6e(e)||i6e(e,t)||a6e(e,t)||s6e()}function s6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a6e(e,t){if(e){if(typeof e=="string")return c$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c$(e,t)}}function c$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function i6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function o6e(e){if(Array.isArray(e))return e}function $A(){return $A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},$A.apply(this,arguments)}var l6e=function(t,r){var s;return V.isValidElement(t)?s=V.cloneElement(t,r):Dt(t)?s=t(r):s=V.createElement("line",$A({},r,{className:"recharts-reference-line-line"})),s},c6e=function(t,r,s,a,i,o,l,c,d){var u=i.x,f=i.y,m=i.width,h=i.height;if(s){var x=d.y,p=t.y.apply(x,{position:o});if(Jl(d,"discard")&&!t.y.isInRange(p))return null;var g=[{x:u+m,y:p},{x:u,y:p}];return c==="left"?g.reverse():g}if(r){var j=d.x,y=t.x.apply(j,{position:o});if(Jl(d,"discard")&&!t.x.isInRange(y))return null;var w=[{x:y,y:f+h},{x:y,y:f}];return l==="top"?w.reverse():w}if(a){var b=d.segment,N=b.map(function(S){return t.apply(S,{position:o})});return Jl(d,"discard")&&DMe(N,function(S){return!t.isInRange(S)})?null:N}return null};function d6e(e){var t=e.x,r=e.y,s=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=WFe(),u=pK(a),f=xK(i),m=GFe();if(!d||!m)return null;al(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=qO({x:u.scale,y:f.scale}),x=Ns(t),p=Ns(r),g=s&&s.length===2,j=c6e(h,x,p,g,m,e.position,u.orientation,f.orientation,e);if(!j)return null;var y=n6e(j,2),w=y[0],b=w.x,N=w.y,S=y[1],_=S.x,E=S.y,A=Jl(e,"hidden")?"url(#".concat(d,")"):void 0,T=l$(l$({clipPath:A},Nt(e,!0)),{},{x1:b,y1:N,x2:_,y2:E});return V.createElement(nr,{className:Vt("recharts-reference-line",l)},l6e(o,T),As.renderCallByParent(e,bFe({x1:b,y1:N,x2:_,y2:E})))}var ZO=function(e){function t(){return YFe(this,t),ZFe(this,t,arguments)}return t6e(t,e),QFe(t,[{key:"render",value:function(){return V.createElement(d6e,this.props)}}])}(V.Component);QO(ZO,"displayName","ReferenceLine");QO(ZO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function LA(){return LA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},LA.apply(this,arguments)}function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function d$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function u$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d$(Object(r),!0).forEach(function(s){F2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function u6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f6e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,jK(s.key),s)}}function m6e(e,t,r){return t&&f6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h6e(e,t,r){return t=pw(t),p6e(e,yK()?Reflect.construct(t,r||[],pw(e).constructor):t.apply(e,r))}function p6e(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x6e(e)}function x6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yK=function(){return!!e})()}function pw(e){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pw(e)}function g6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BA(e,t)}function BA(e,t){return BA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},BA(e,t)}function F2(e,t,r){return t=jK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jK(e){var t=v6e(e,"string");return Np(t)=="symbol"?t:t+""}function v6e(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Np(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y6e=function(t){var r=t.x,s=t.y,a=t.xAxis,i=t.yAxis,o=qO({x:a.scale,y:i.scale}),l=o.apply({x:r,y:s},{bandAware:!0});return Jl(t,"discard")&&!o.isInRange(l)?null:l},$2=function(e){function t(){return u6e(this,t),h6e(this,t,arguments)}return g6e(t,e),m6e(t,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,d=Ns(a),u=Ns(i);if(al(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var f=y6e(this.props);if(!f)return null;var m=f.x,h=f.y,x=this.props,p=x.shape,g=x.className,j=Jl(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=u$(u$({clipPath:j},Nt(this.props,!0)),{},{cx:m,cy:h});return V.createElement(nr,{className:Vt("recharts-reference-dot",g)},t.renderDot(p,y),As.renderCallByParent(this.props,{x:m-o,y:h-o,width:2*o,height:2*o}))}}])}(V.Component);F2($2,"displayName","ReferenceDot");F2($2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});F2($2,"renderDot",function(e,t){var r;return V.isValidElement(e)?r=V.cloneElement(e,t):Dt(e)?r=e(t):r=V.createElement(vy,LA({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function UA(){return UA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},UA.apply(this,arguments)}function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function f$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function m$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f$(Object(r),!0).forEach(function(s){L2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function j6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b6e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,wK(s.key),s)}}function w6e(e,t,r){return t&&b6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function N6e(e,t,r){return t=xw(t),_6e(e,bK()?Reflect.construct(t,r||[],xw(e).constructor):t.apply(e,r))}function _6e(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S6e(e)}function S6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bK=function(){return!!e})()}function xw(e){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xw(e)}function C6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VA(e,t)}function VA(e,t){return VA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},VA(e,t)}function L2(e,t,r){return t=wK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=E6e(e,"string");return _p(t)=="symbol"?t:t+""}function E6e(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(_p(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A6e=function(t,r,s,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var m=qO({x:u.scale,y:f.scale}),h={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:s?m.y.apply(c,{position:"start"}):m.y.rangeMin},x={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(d,{position:"end"}):m.y.rangeMax};return Jl(i,"discard")&&(!m.isInRange(h)||!m.isInRange(x))?null:lK(h,x)},B2=function(e){function t(){return j6e(this,t),N6e(this,t,arguments)}return C6e(t,e),w6e(t,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,c=s.className,d=s.alwaysShow,u=s.clipPathId;al(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ns(a),m=Ns(i),h=Ns(o),x=Ns(l),p=this.props.shape;if(!f&&!m&&!h&&!x&&!p)return null;var g=A6e(f,m,h,x,this.props);if(!g&&!p)return null;var j=Jl(this.props,"hidden")?"url(#".concat(u,")"):void 0;return V.createElement(nr,{className:Vt("recharts-reference-area",c)},t.renderRect(p,m$(m$({clipPath:j},Nt(this.props,!0)),g)),As.renderCallByParent(this.props,g))}}])}(V.Component);L2(B2,"displayName","ReferenceArea");L2(B2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});L2(B2,"renderRect",function(e,t){var r;return V.isValidElement(e)?r=V.cloneElement(e,t):Dt(e)?r=e(t):r=V.createElement(WO,UA({},t,{className:"recharts-reference-area-rect"})),r});function NK(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var s=[],a=0;a<e.length;a+=t)s.push(e[a]);return s}function P6e(e,t,r){var s={width:e.width+t.width,height:e.height+t.height};return NFe(s,r)}function k6e(e,t,r){var s=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function gw(e,t,r,s,a){if(e*t<e*s||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-a)<=0}function T6e(e,t){return NK(e,t+1)}function O6e(e,t,r,s,a){for(var i=(s||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,f=function(){var x=s==null?void 0:s[c];if(x===void 0)return{v:NK(s,d)};var p=c,g,j=function(){return g===void 0&&(g=r(x,p)),g},y=x.coordinate,w=c===0||gw(e,y,j,u,l);w||(c=0,u=o,d+=1),w&&(u=y+e*(j()/2+a),c+=d)},m;d<=i.length;)if(m=f(),m)return m.v;return[]}function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function h$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h$(Object(r),!0).forEach(function(s){D6e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function D6e(e,t,r){return t=I6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I6e(e){var t=R6e(e,"string");return sv(t)=="symbol"?t:t+""}function R6e(e,t){if(sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(sv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M6e(e,t,r,s,a){for(var i=(s||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(m){var h=i[m],x,p=function(){return x===void 0&&(x=r(h,m)),x};if(m===o-1){var g=e*(h.coordinate+e*p()/2-c);i[m]=h=ca(ca({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate})}else i[m]=h=ca(ca({},h),{},{tickCoord:h.coordinate});var j=gw(e,h.tickCoord,p,l,c);j&&(c=h.tickCoord-e*(p()/2+a),i[m]=ca(ca({},h),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function F6e(e,t,r,s,a,i){var o=(s||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=s[l-1],f=r(u,l-1),m=e*(u.coordinate+e*f/2-d);o[l-1]=u=ca(ca({},u),{},{tickCoord:m>0?u.coordinate-m*e:u.coordinate});var h=gw(e,u.tickCoord,function(){return f},c,d);h&&(d=u.tickCoord-e*(f/2+a),o[l-1]=ca(ca({},u),{},{isShow:!0}))}for(var x=i?l-1:l,p=function(y){var w=o[y],b,N=function(){return b===void 0&&(b=r(w,y)),b};if(y===0){var S=e*(w.coordinate-e*N()/2-c);o[y]=w=ca(ca({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[y]=w=ca(ca({},w),{},{tickCoord:w.coordinate});var _=gw(e,w.tickCoord,N,c,d);_&&(c=w.tickCoord+e*(N()/2+a),o[y]=ca(ca({},w),{},{isShow:!0}))},g=0;g<x;g++)p(g);return o}function JO(e,t,r){var s=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!s)return[];if(Qe(c)||ol.isSsr)return T6e(a,typeof c=="number"&&Qe(c)?c:0);var m=[],h=l==="top"||l==="bottom"?"width":"height",x=u&&h==="width"?Tg(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,b){var N=Dt(d)?d(w.value,b):w.value;return h==="width"?P6e(Tg(N,{fontSize:t,letterSpacing:r}),x,f):Tg(N,{fontSize:t,letterSpacing:r})[h]},g=a.length>=2?Da(a[1].coordinate-a[0].coordinate):1,j=k6e(i,g,h);return c==="equidistantPreserveStart"?O6e(g,j,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=F6e(g,j,p,a,o,c==="preserveStartEnd"):m=M6e(g,j,p,a,o),m.filter(function(y){return y.isShow}))}var $6e=["viewBox"],L6e=["viewBox"],B6e=["ticks"];function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function oh(){return oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},oh.apply(this,arguments)}function p$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p$(Object(r),!0).forEach(function(s){e3(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function KS(e,t){if(e==null)return{};var r=U6e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function U6e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function V6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,SK(s.key),s)}}function z6e(e,t,r){return t&&x$(e.prototype,t),r&&x$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function W6e(e,t,r){return t=vw(t),H6e(e,_K()?Reflect.construct(t,r||[],vw(e).constructor):t.apply(e,r))}function H6e(e,t){if(t&&(Sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q6e(e)}function q6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _K(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_K=function(){return!!e})()}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vw(e)}function G6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zA(e,t)}function zA(e,t){return zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},zA(e,t)}function e3(e,t,r){return t=SK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SK(e){var t=K6e(e,"string");return Sp(t)=="symbol"?t:t+""}function K6e(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Sp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mx=function(e){function t(r){var s;return V6e(this,t),s=W6e(this,t,[r]),s.state={fontSize:"",letterSpacing:""},s}return G6e(t,e),z6e(t,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=KS(s,$6e),l=this.props,c=l.viewBox,d=KS(l,L6e);return!Nh(i,c)||!Nh(o,d)||!Nh(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,f=a.mirror,m=a.tickMargin,h,x,p,g,j,y,w=f?-1:1,b=s.tickSize||u,N=Qe(s.tickCoord)?s.tickCoord:s.coordinate;switch(d){case"top":h=x=s.coordinate,g=o+ +!f*c,p=g-w*b,y=p-w*m,j=N;break;case"left":p=g=s.coordinate,x=i+ +!f*l,h=x-w*b,j=h-w*m,y=N;break;case"right":p=g=s.coordinate,x=i+ +f*l,h=x+w*b,j=h+w*m,y=N;break;default:h=x=s.coordinate,g=o+ +f*c,p=g+w*b,y=p+w*m,j=N;break}return{line:{x1:h,y1:p,x2:x,y2:g},tick:{x:j,y}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.orientation,d=s.mirror,u=s.axisLine,f=ja(ja(ja({},Nt(this.props,!1)),Nt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!d||c==="bottom"&&d);f=ja(ja({},f),{},{x1:a,y1:i+m*l,x2:a+o,y2:i+m*l})}else{var h=+(c==="left"&&!d||c==="right"&&d);f=ja(ja({},f),{},{x1:a+h*o,y1:i,x2:a+h*o,y2:i+l})}return V.createElement("line",oh({},f,{className:Vt("recharts-cartesian-axis-line",Ui(u,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,f=l.tickFormatter,m=l.unit,h=JO(ja(ja({},this.props),{},{ticks:s}),a,i),x=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),g=Nt(this.props,!1),j=Nt(u,!1),y=ja(ja({},g),{},{fill:"none"},Nt(c,!1)),w=h.map(function(b,N){var S=o.getTickLineCoord(b),_=S.line,E=S.tick,A=ja(ja(ja(ja({textAnchor:x,verticalAnchor:p},g),{},{stroke:"none",fill:d},j),E),{},{index:N,payload:b,visibleTicksCount:h.length,tickFormatter:f});return V.createElement(nr,oh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},Jf(o.props,b,N)),c&&V.createElement("line",oh({},y,_,{className:Vt("recharts-cartesian-axis-tick-line",Ui(c,"className"))})),u&&t.renderTickItem(u,A,"".concat(Dt(f)?f(b.value,N):b.value).concat(m||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var f=this.props,m=f.ticks,h=KS(f,B6e),x=m;return Dt(c)&&(x=m&&m.length>0?c(this.props):c(h)),o<=0||l<=0||!x||!x.length?null:V.createElement(nr,{className:Vt("recharts-cartesian-axis",d),ref:function(g){s.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),As.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return V.isValidElement(s)?o=V.cloneElement(s,a):Dt(s)?o=s(a):o=V.createElement(em,oh({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(v.Component);e3(mx,"displayName","CartesianAxis");e3(mx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Y6e=["x1","y1","x2","y2","key"],X6e=["offset"];function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function g$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g$(Object(r),!0).forEach(function(s){Q6e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Q6e(e,t,r){return t=Z6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z6e(e){var t=J6e(e,"string");return nm(t)=="symbol"?t:t+""}function J6e(e,t){if(nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(nm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},jf.apply(this,arguments)}function v$(e,t){if(e==null)return{};var r=e$e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function e$e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var t$e=function(t){var r=t.fill;if(!r||r==="none")return null;var s=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return V.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function CK(e,t){var r;if(V.isValidElement(e))r=V.cloneElement(e,t);else if(Dt(e))r=e(t);else{var s=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=v$(t,Y6e),d=Nt(c,!1);d.offset;var u=v$(d,X6e);r=V.createElement("line",jf({},u,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function r$e(e){var t=e.x,r=e.width,s=e.horizontal,a=s===void 0?!0:s,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=ua(ua({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return CK(a,d)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function n$e(e){var t=e.y,r=e.height,s=e.vertical,a=s===void 0?!0:s,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=ua(ua({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return CK(a,d)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function s$e(e){var t=e.horizontalFill,r=e.fillOpacity,s=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(m){return Math.round(m+a-a)}).sort(function(m,h){return m-h});a!==u[0]&&u.unshift(0);var f=u.map(function(m,h){var x=!u[h+1],p=x?a+o-m:u[h+1]-m;if(p<=0)return null;var g=h%t.length;return V.createElement("rect",{key:"react-".concat(h),y:m,x:s,height:p,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function a$e(e){var t=e.vertical,r=t===void 0?!0:t,s=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!s||!s.length)return null;var u=d.map(function(m){return Math.round(m+i-i)}).sort(function(m,h){return m-h});i!==u[0]&&u.unshift(0);var f=u.map(function(m,h){var x=!u[h+1],p=x?i+l-m:u[h+1]-m;if(p<=0)return null;var g=h%s.length;return V.createElement("rect",{key:"react-".concat(h),x:m,y:o,width:p,height:c,stroke:"none",fill:s[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var i$e=function(t,r){var s=t.xAxis,a=t.width,i=t.height,o=t.offset;return wG(JO(ua(ua(ua({},mx.defaultProps),s),{},{ticks:Mc(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},o$e=function(t,r){var s=t.yAxis,a=t.width,i=t.height,o=t.offset;return wG(JO(ua(ua(ua({},mx.defaultProps),s),{},{ticks:Mc(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Fm={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function zn(e){var t,r,s,a,i,o,l=YO(),c=XO(),d=KFe(),u=ua(ua({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Fm.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Fm.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:Fm.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Fm.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Fm.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Fm.verticalFill,x:Qe(e.x)?e.x:d.left,y:Qe(e.y)?e.y:d.top,width:Qe(e.width)?e.width:d.width,height:Qe(e.height)?e.height:d.height}),f=u.x,m=u.y,h=u.width,x=u.height,p=u.syncWithTicks,g=u.horizontalValues,j=u.verticalValues,y=HFe(),w=qFe();if(!Qe(h)||h<=0||!Qe(x)||x<=0||!Qe(f)||f!==+f||!Qe(m)||m!==+m)return null;var b=u.verticalCoordinatesGenerator||i$e,N=u.horizontalCoordinatesGenerator||o$e,S=u.horizontalPoints,_=u.verticalPoints;if((!S||!S.length)&&Dt(N)){var E=g&&g.length,A=N({yAxis:w?ua(ua({},w),{},{ticks:E?g:w.ticks}):void 0,width:l,height:c,offset:d},E?!0:p);al(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(nm(A),"]")),Array.isArray(A)&&(S=A)}if((!_||!_.length)&&Dt(b)){var T=j&&j.length,R=b({xAxis:y?ua(ua({},y),{},{ticks:T?j:y.ticks}):void 0,width:l,height:c,offset:d},T?!0:p);al(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(nm(R),"]")),Array.isArray(R)&&(_=R)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(t$e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),V.createElement(r$e,jf({},u,{offset:d,horizontalPoints:S,xAxis:y,yAxis:w})),V.createElement(n$e,jf({},u,{offset:d,verticalPoints:_,xAxis:y,yAxis:w})),V.createElement(s$e,jf({},u,{horizontalPoints:S})),V.createElement(a$e,jf({},u,{verticalPoints:_})))}zn.displayName="CartesianGrid";var l$e=["type","layout","connectNulls","ref"],c$e=["key"];function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function y$(e,t){if(e==null)return{};var r=d$e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function d$e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Fg.apply(this,arguments)}function j$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j$(Object(r),!0).forEach(function(s){Go(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function $m(e){return h$e(e)||m$e(e)||f$e(e)||u$e()}function u$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f$e(e,t){if(e){if(typeof e=="string")return WA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WA(e,t)}}function m$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h$e(e){if(Array.isArray(e))return WA(e)}function WA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function p$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,AK(s.key),s)}}function x$e(e,t,r){return t&&b$(e.prototype,t),r&&b$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g$e(e,t,r){return t=yw(t),v$e(e,EK()?Reflect.construct(t,r||[],yw(e).constructor):t.apply(e,r))}function v$e(e,t){if(t&&(Cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y$e(e)}function y$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EK=function(){return!!e})()}function yw(e){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(e)}function j$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HA(e,t)}function HA(e,t){return HA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},HA(e,t)}function Go(e,t,r){return t=AK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AK(e){var t=b$e(e,"string");return Cp(t)=="symbol"?t:t+""}function b$e(e,t){if(Cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Cp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ac=function(e){function t(){var r;p$e(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=g$e(this,t,[].concat(a)),Go(r,"state",{isAnimationFinished:!0,totalLength:0}),Go(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Go(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(j,y){return j+y});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),f=o%d,m=l-o,h=[],x=0,p=0;x<c.length;p+=c[x],++x)if(p+c[x]>f){h=[].concat($m(c.slice(0,x)),[f-p]);break}var g=h.length%2===0?[0,m]:[m];return[].concat($m(t.repeat(c,u)),$m(h),g).map(function(j){return"".concat(j,"px")}).join(", ")}),Go(r,"id",gm("recharts-line-")),Go(r,"pathRef",function(o){r.mainCurve=o}),Go(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Go(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return j$e(t,e),x$e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=Vi(u,gy);if(!f)return null;var m=function(p,g){return{x:p.x,y:p.y,value:p.value,errorVal:Gn(p.payload,g)}},h={clipPath:s?"url(#clipPath-".concat(a,")"):null};return V.createElement(nr,h,f.map(function(x){return V.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:m})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,f=Nt(this.props,!1),m=Nt(c,!0),h=d.map(function(p,g){var j=Ni(Ni(Ni({key:"dot-".concat(g),r:3},f),m),{},{value:p.value,dataKey:u,cx:p.x,cy:p.y,index:g,payload:p.payload});return t.renderDotItem(c,j)}),x={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return V.createElement(nr,Fg({className:"recharts-line-dots",key:"dots"},x),h)}},{key:"renderCurveStatically",value:function(s,a,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var f=y$(l,l$e),m=Ni(Ni(Ni({},Nt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:c,layout:d,connectNulls:u});return V.createElement(Rf,Fg({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,m=o.animationEasing,h=o.animationId,x=o.animateNewValues,p=o.width,g=o.height,j=this.state,y=j.prevPoints,w=j.totalLength;return V.createElement(ml,{begin:u,duration:f,isActive:d,easing:m,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var N=b.t;if(y){var S=y.length/l.length,_=l.map(function(I,z){var H=Math.floor(z*S);if(y[H]){var F=y[H],k=vs(F.x,I.x),P=vs(F.y,I.y);return Ni(Ni({},I),{},{x:k(N),y:P(N)})}if(x){var M=vs(p*2,I.x),O=vs(g/2,I.y);return Ni(Ni({},I),{},{x:M(N),y:O(N)})}return Ni(Ni({},I),{},{x:I.x,y:I.y})});return i.renderCurveStatically(_,s,a)}var E=vs(0,w),A=E(N),T;if(c){var R="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});T=i.getStrokeDasharray(A,w,R)}else T=i.generateSimpleStrokeDasharray(w,A);return i.renderCurveStatically(l,s,a,{strokeDasharray:T})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!tm(d,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,u=a.yAxis,f=a.top,m=a.left,h=a.width,x=a.height,p=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var j=this.state.isAnimationFinished,y=l.length===1,w=Vt("recharts-line",c),b=d&&d.allowDataOverflow,N=u&&u.allowDataOverflow,S=b||N,_=Lt(g)?this.id:g,E=(s=Nt(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},A=E.r,T=A===void 0?3:A,R=E.strokeWidth,I=R===void 0?2:R,z=hH(o)?o:{},H=z.clipDot,F=H===void 0?!0:H,k=T*2+I;return V.createElement(nr,{className:w},b||N?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(_)},V.createElement("rect",{x:b?m:m-h/2,y:N?f:f-x/2,width:b?h:h*2,height:N?x:x*2})),!F&&V.createElement("clipPath",{id:"clipPath-dots-".concat(_)},V.createElement("rect",{x:m-k/2,y:f-k/2,width:h+k,height:x+k}))):null,!y&&this.renderCurve(S,_),this.renderErrorBar(S,_),(y||o)&&this.renderDots(S,F,_),(!p||j)&&Zl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat($m(s),[0]):s,o=[],l=0;l<a;++l)o=[].concat($m(o),$m(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if(V.isValidElement(s))i=V.cloneElement(s,a);else if(Dt(s))i=s(a);else{var o=a.key,l=y$(a,c$e),c=Vt("recharts-line-dot",typeof s!="boolean"?s.className:"");i=V.createElement(vy,Fg({key:o},l,{className:c}))}return i}}])}(v.PureComponent);Go(ac,"displayName","Line");Go(ac,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ol.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Go(ac,"getComposedData",function(e){var t=e.props,r=e.xAxis,s=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,f=c.map(function(m,h){var x=Gn(m,o);return u==="horizontal"?{x:X1({axis:r,ticks:a,bandSize:l,entry:m,index:h}),y:Lt(x)?null:s.scale(x),value:x,payload:m}:{x:Lt(x)?null:r.scale(x),y:X1({axis:s,ticks:i,bandSize:l,entry:m,index:h}),value:x,payload:m}});return Ni({points:f,layout:u},d)});var w$e=["layout","type","stroke","connectNulls","isRange","ref"],N$e=["key"],PK;function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function kK(e,t){if(e==null)return{};var r=_$e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function _$e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function bf(){return bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},bf.apply(this,arguments)}function w$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w$(Object(r),!0).forEach(function(s){Gl(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function S$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,OK(s.key),s)}}function C$e(e,t,r){return t&&N$(e.prototype,t),r&&N$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function E$e(e,t,r){return t=jw(t),A$e(e,TK()?Reflect.construct(t,r||[],jw(e).constructor):t.apply(e,r))}function A$e(e,t){if(t&&(Ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P$e(e)}function P$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TK=function(){return!!e})()}function jw(e){return jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jw(e)}function k$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qA(e,t)}function qA(e,t){return qA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},qA(e,t)}function Gl(e,t,r){return t=OK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OK(e){var t=T$e(e,"string");return Ep(t)=="symbol"?t:t+""}function T$e(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Ep(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var id=function(e){function t(){var r;S$e(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=E$e(this,t,[].concat(a)),Gl(r,"state",{isAnimationFinished:!0}),Gl(r,"id",gm("recharts-area-")),Gl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Dt(o)&&o()}),Gl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Dt(o)&&o()}),r}return k$e(t,e),C$e(t,[{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,f=c.dataKey,m=Nt(this.props,!1),h=Nt(d,!0),x=u.map(function(g,j){var y=Pd(Pd(Pd({key:"dot-".concat(j),r:3},m),h),{},{index:j,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:u});return t.renderDotItem(d,y)}),p={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return V.createElement(nr,bf({className:"recharts-area-dots"},p),x)}},{key:"renderHorizontalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=s*Math.abs(c-d),f=Yd(o.map(function(m){return m.y||0}));return Qe(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Yd(i.map(function(m){return m.y||0})),f)),Qe(f)?V.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=s*Math.abs(c-d),f=Yd(o.map(function(m){return m.x||0}));return Qe(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Yd(i.map(function(m){return m.x||0})),f)),Qe(f)?V.createElement("rect",{x:0,y:c<d?c:c-u,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(s){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,a,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,f=l.connectNulls,m=l.isRange;l.ref;var h=kK(l,w$e);return V.createElement(nr,{clipPath:i?"url(#clipPath-".concat(o,")"):null},V.createElement(Rf,bf({},Nt(h,!0),{points:s,connectNulls:f,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&V.createElement(Rf,bf({},Nt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:s})),u!=="none"&&m&&V.createElement(Rf,bf({},Nt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,m=o.animationEasing,h=o.animationId,x=this.state,p=x.prevPoints,g=x.prevBaseLine;return V.createElement(ml,{begin:u,duration:f,isActive:d,easing:m,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var y=j.t;if(p){var w=p.length/l.length,b=l.map(function(E,A){var T=Math.floor(A*w);if(p[T]){var R=p[T],I=vs(R.x,E.x),z=vs(R.y,E.y);return Pd(Pd({},E),{},{x:I(y),y:z(y)})}return E}),N;if(Qe(c)&&typeof c=="number"){var S=vs(g,c);N=S(y)}else if(Lt(c)||ax(c)){var _=vs(g,0);N=_(y)}else N=c.map(function(E,A){var T=Math.floor(A*w);if(g[T]){var R=g[T],I=vs(R.x,E.x),z=vs(R.y,E.y);return Pd(Pd({},E),{},{x:I(y),y:z(y)})}return E});return i.renderAreaStatically(b,N,s,a)}return V.createElement(nr,null,V.createElement("defs",null,V.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(y))),V.createElement(nr,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,s,a)))})}},{key:"renderArea",value:function(s,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,f=d.prevBaseLine,m=d.totalLength;return c&&o&&o.length&&(!u&&m>0||!tm(u,o)||!tm(f,l))?this.renderAreaWithAnimation(s,a):this.renderAreaStatically(o,l,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.top,u=a.left,f=a.xAxis,m=a.yAxis,h=a.width,x=a.height,p=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var j=this.state.isAnimationFinished,y=l.length===1,w=Vt("recharts-area",c),b=f&&f.allowDataOverflow,N=m&&m.allowDataOverflow,S=b||N,_=Lt(g)?this.id:g,E=(s=Nt(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},A=E.r,T=A===void 0?3:A,R=E.strokeWidth,I=R===void 0?2:R,z=hH(o)?o:{},H=z.clipDot,F=H===void 0?!0:H,k=T*2+I;return V.createElement(nr,{className:w},b||N?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(_)},V.createElement("rect",{x:b?u:u-h/2,y:N?d:d-x/2,width:b?h:h*2,height:N?x:x*2})),!F&&V.createElement("clipPath",{id:"clipPath-dots-".concat(_)},V.createElement("rect",{x:u-k/2,y:d-k/2,width:h+k,height:x+k}))):null,y?null:this.renderArea(S,_),(o||y)&&this.renderDots(S,F,_),(!p||j)&&Zl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:s.points!==a.curPoints||s.baseLine!==a.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(v.PureComponent);PK=id;Gl(id,"displayName","Area");Gl(id,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ol.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Gl(id,"getBaseValue",function(e,t,r,s){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(Qe(l)&&typeof l=="number")return l;var c=a==="horizontal"?s:r,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),f=Math.min(d[0],d[1]);return l==="dataMin"?f:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});Gl(id,"getComposedData",function(e){var t=e.props,r=e.item,s=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,m=e.offset,h=t.layout,x=d&&d.length,p=PK.getBaseValue(t,r,s,a),g=h==="horizontal",j=!1,y=f.map(function(b,N){var S;x?S=d[u+N]:(S=Gn(b,c),Array.isArray(S)?j=!0:S=[p,S]);var _=S[1]==null||x&&Gn(b,c)==null;return g?{x:X1({axis:s,ticks:i,bandSize:l,entry:b,index:N}),y:_?null:a.scale(S[1]),value:S,payload:b}:{x:_?null:s.scale(S[1]),y:X1({axis:a,ticks:o,bandSize:l,entry:b,index:N}),value:S,payload:b}}),w;return x||j?w=y.map(function(b){var N=Array.isArray(b.value)?b.value[0]:null;return g?{x:b.x,y:N!=null&&b.y!=null?a.scale(N):null}:{x:N!=null?s.scale(N):null,y:b.y}}):w=g?a.scale(p):s.scale(p),Pd({points:y,baseLine:w,layout:h,isRange:j},m)});Gl(id,"renderDotItem",function(e,t){var r;if(V.isValidElement(e))r=V.cloneElement(e,t);else if(Dt(e))r=e(t);else{var s=Vt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=kK(t,N$e);r=V.createElement(vy,bf({},i,{key:a,className:s}))}return r});function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function O$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D$e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,RK(s.key),s)}}function I$e(e,t,r){return t&&D$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function R$e(e,t,r){return t=bw(t),M$e(e,DK()?Reflect.construct(t,r||[],bw(e).constructor):t.apply(e,r))}function M$e(e,t){if(t&&(Ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F$e(e)}function F$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DK=function(){return!!e})()}function bw(e){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(e)}function $$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GA(e,t)}function GA(e,t){return GA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},GA(e,t)}function IK(e,t,r){return t=RK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RK(e){var t=L$e(e,"string");return Ap(t)=="symbol"?t:t+""}function L$e(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Ap(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KA(){return KA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},KA.apply(this,arguments)}function B$e(e){var t=e.xAxisId,r=YO(),s=XO(),a=pK(t);return a==null?null:V.createElement(mx,KA({},a,{className:Vt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(o){return Mc(o,!0)}}))}var rn=function(e){function t(){return O$e(this,t),R$e(this,t,arguments)}return $$e(t,e),I$e(t,[{key:"render",value:function(){return V.createElement(B$e,this.props)}}])}(V.Component);IK(rn,"displayName","XAxis");IK(rn,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function U$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V$e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,$K(s.key),s)}}function z$e(e,t,r){return t&&V$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function W$e(e,t,r){return t=ww(t),H$e(e,MK()?Reflect.construct(t,r||[],ww(e).constructor):t.apply(e,r))}function H$e(e,t){if(t&&(Pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q$e(e)}function q$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MK=function(){return!!e})()}function ww(e){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ww(e)}function G$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YA(e,t)}function YA(e,t){return YA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},YA(e,t)}function FK(e,t,r){return t=$K(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $K(e){var t=K$e(e,"string");return Pp(t)=="symbol"?t:t+""}function K$e(e,t){if(Pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Pp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XA(){return XA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},XA.apply(this,arguments)}var Y$e=function(t){var r=t.yAxisId,s=YO(),a=XO(),i=xK(r);return i==null?null:V.createElement(mx,XA({},i,{className:Vt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return Mc(l,!0)}}))},nn=function(e){function t(){return U$e(this,t),W$e(this,t,arguments)}return G$e(t,e),z$e(t,[{key:"render",value:function(){return V.createElement(Y$e,this.props)}}])}(V.Component);FK(nn,"displayName","YAxis");FK(nn,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _$(e){return J$e(e)||Z$e(e)||Q$e(e)||X$e()}function X$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q$e(e,t){if(e){if(typeof e=="string")return QA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QA(e,t)}}function Z$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J$e(e){if(Array.isArray(e))return QA(e)}function QA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var ZA=function(t,r,s,a,i){var o=Vi(t,ZO),l=Vi(t,$2),c=[].concat(_$(o),_$(l)),d=Vi(t,B2),u="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(p,g){if(g.props[u]===s&&Jl(g.props,"extendDomain")&&Qe(g.props[f])){var j=g.props[f];return[Math.min(p[0],j),Math.max(p[1],j)]}return p},m)),d.length){var h="".concat(f,"1"),x="".concat(f,"2");m=d.reduce(function(p,g){if(g.props[u]===s&&Jl(g.props,"extendDomain")&&Qe(g.props[h])&&Qe(g.props[x])){var j=g.props[h],y=g.props[x];return[Math.min(p[0],j,y),Math.max(p[1],j,y)]}return p},m)}return i&&i.length&&(m=i.reduce(function(p,g){return Qe(g)?[Math.min(p[0],g),Math.max(p[1],g)]:p},m)),m},LK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new a(u,f||c,m),x=r?r+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],h]:c._events[x].push(h):(c._events[x]=h,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,x=new Array(h);m<h;m++)x[m]=f[m].fn;return x},l.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,m,h,x){var p=r?r+d:d;if(!this._events[p])return!1;var g=this._events[p],j=arguments.length,y,w;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),j){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,m),!0;case 5:return g.fn.call(g.context,u,f,m,h),!0;case 6:return g.fn.call(g.context,u,f,m,h,x),!0}for(w=1,y=new Array(j-1);w<j;w++)y[w-1]=arguments[w];g.fn.apply(g.context,y)}else{var b=g.length,N;for(w=0;w<b;w++)switch(g[w].once&&this.removeListener(d,g[w].fn,void 0,!0),j){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,u);break;case 3:g[w].fn.call(g[w].context,u,f);break;case 4:g[w].fn.call(g[w].context,u,f,m);break;default:if(!y)for(N=1,y=new Array(j-1);N<j;N++)y[N-1]=arguments[N];g[w].fn.apply(g[w].context,y)}}return!0},l.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,m){var h=r?r+d:d;if(!this._events[h])return this;if(!u)return o(this,h),this;var x=this._events[h];if(x.fn)x.fn===u&&(!m||x.once)&&(!f||x.context===f)&&o(this,h);else{for(var p=0,g=[],j=x.length;p<j;p++)(x[p].fn!==u||m&&!x[p].once||f&&x[p].context!==f)&&g.push(x[p]);g.length?this._events[h]=g.length===1?g[0]:g:o(this,h)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(LK);var eLe=LK.exports;const tLe=Ar(eLe);var YS=new tLe,XS="recharts.syncMouseEvents";function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}function rLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nLe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,BK(s.key),s)}}function sLe(e,t,r){return t&&nLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QS(e,t,r){return t=BK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BK(e){var t=aLe(e,"string");return av(t)=="symbol"?t:t+""}function aLe(e,t){if(av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(av(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iLe=function(){function e(){rLe(this,e),QS(this,"activeIndex",0),QS(this,"coordinateList",[]),QS(this,"layout","horizontal")}return sLe(e,[{key:"setDetails",value:function(r){var s,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,f=u===void 0?null:u,m=r.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((s=window)===null||s===void 0?void 0:s.scrollY)||0,f=i+c+d,m=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function oLe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var s=e==null?void 0:e[0],a=e==null?void 0:e[1];if(s&&a&&Qe(s)&&Qe(a))return!0}return!1}function lLe(e,t,r,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?s:r.width-1,height:e==="horizontal"?r.height-1:s}}function UK(e){var t=e.cx,r=e.cy,s=e.radius,a=e.startAngle,i=e.endAngle,o=Xr(t,r,s,a),l=Xr(t,r,s,i);return{points:[o,l],cx:t,cy:r,radius:s,startAngle:a,endAngle:i}}function cLe(e,t,r){var s,a,i,o;if(e==="horizontal")s=t.x,i=s,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,s=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,f=t.angle,m=Xr(l,c,d,f),h=Xr(l,c,u,f);s=m.x,a=m.y,i=h.x,o=h.y}else return UK(t);return[{x:s,y:a},{x:i,y:o}]}function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}function S$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Aj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S$(Object(r),!0).forEach(function(s){dLe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function dLe(e,t,r){return t=uLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uLe(e){var t=fLe(e,"string");return iv(t)=="symbol"?t:t+""}function fLe(e,t){if(iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(iv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mLe(e){var t,r,s=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,h=(t=s.props.cursor)!==null&&t!==void 0?t:(r=s.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!s||!h||!i||!o||m!=="ScatterChart"&&a!=="axis")return null;var x,p=Rf;if(m==="ScatterChart")x=o,p=bIe;else if(m==="BarChart")x=lLe(f,o,c,u),p=WO;else if(f==="radial"){var g=UK(o),j=g.cx,y=g.cy,w=g.radius,b=g.startAngle,N=g.endAngle;x={cx:j,cy:y,startAngle:b,endAngle:N,innerRadius:w,outerRadius:w},p=DG}else x={points:cLe(f,o,c)},p=Rf;var S=Aj(Aj(Aj(Aj({stroke:"#ccc",pointerEvents:"none"},c),x),Nt(h,!1)),{},{payload:l,payloadIndex:d,className:Vt("recharts-tooltip-cursor",h.className)});return v.isValidElement(h)?v.cloneElement(h,S):v.createElement(p,S)}var hLe=["item"],pLe=["children","className","width","height","style","compact","title","desc"];function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},$g.apply(this,arguments)}function C$(e,t){return vLe(e)||gLe(e,t)||zK(e,t)||xLe()}function xLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function vLe(e){if(Array.isArray(e))return e}function E$(e,t){if(e==null)return{};var r=yLe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function yLe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function jLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bLe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,WK(s.key),s)}}function wLe(e,t,r){return t&&bLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NLe(e,t,r){return t=Nw(t),_Le(e,VK()?Reflect.construct(t,r||[],Nw(e).constructor):t.apply(e,r))}function _Le(e,t){if(t&&(kp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SLe(e)}function SLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VK=function(){return!!e})()}function Nw(e){return Nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nw(e)}function CLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JA(e,t)}function JA(e,t){return JA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},JA(e,t)}function Tp(e){return PLe(e)||ALe(e)||zK(e)||ELe()}function ELe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zK(e,t){if(e){if(typeof e=="string")return eP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eP(e,t)}}function ALe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PLe(e){if(Array.isArray(e))return eP(e)}function eP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function A$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A$(Object(r),!0).forEach(function(s){Tt(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Tt(e,t,r){return t=WK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WK(e){var t=kLe(e,"string");return kp(t)=="symbol"?t:t+""}function kLe(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(kp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TLe={xAxis:["bottom","top"],yAxis:["left","right"]},OLe={width:"100%",height:"100%"},HK={x:0,y:0};function Pj(e){return e}var DLe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},ILe=function(t,r,s,a){var i=r.find(function(u){return u&&u.index===s});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return Le(Le(Le({},a),Xr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return Le(Le(Le({},a),Xr(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return HK},U2=function(t,r){var s=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(s??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Tp(l),Tp(d)):l},[]);return o.length>0?o:t&&t.length&&Qe(a)&&Qe(i)?t.slice(a,i+1):[]};function qK(e){return e==="number"?[0,"auto"]:void 0}var tP=function(t,r,s,a){var i=t.graphicalItems,o=t.tooltipAxis,l=U2(r,t);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(c,d){var u,f=(u=d.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?l:f;m=w1(h,o.dataKey,a)}else m=f&&f[s]||l[s];return m?[].concat(Tp(c),[EG(d,m)]):c},[])},P$=function(t,r,s,a){var i=a||{x:t.chartX,y:t.chartY},o=DLe(i,s),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=t3e(o,l,d,c);if(u>=0&&d){var f=d[u]&&d[u].value,m=tP(t,r,u,f),h=ILe(s,l,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:m,activeCoordinate:h}}return null},RLe=function(t,r){var s=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,m=t.stackOffset,h=bG(u,i);return s.reduce(function(x,p){var g,j=p.type.defaultProps!==void 0?Le(Le({},p.type.defaultProps),p.props):p.props,y=j.type,w=j.dataKey,b=j.allowDataOverflow,N=j.allowDuplicatedCategory,S=j.scale,_=j.ticks,E=j.includeHidden,A=j[o];if(x[A])return x;var T=U2(t.data,{graphicalItems:a.filter(function(D){var U,L=o in D.props?D.props[o]:(U=D.type.defaultProps)===null||U===void 0?void 0:U[o];return L===A}),dataStartIndex:c,dataEndIndex:d}),R=T.length,I,z,H;oLe(j.domain,b,y)&&(I=hA(j.domain,null,b),h&&(y==="number"||S!=="auto")&&(H=Dg(T,w,"category")));var F=qK(y);if(!I||I.length===0){var k,P=(k=j.domain)!==null&&k!==void 0?k:F;if(w){if(I=Dg(T,w,y),y==="category"&&h){var M=qje(I);N&&M?(z=I,I=cw(0,R)):N||(I=YF(P,I,p).reduce(function(D,U){return D.indexOf(U)>=0?D:[].concat(Tp(D),[U])},[]))}else if(y==="category")N?I=I.filter(function(D){return D!==""&&!Lt(D)}):I=YF(P,I,p).reduce(function(D,U){return D.indexOf(U)>=0||U===""||Lt(U)?D:[].concat(Tp(D),[U])},[]);else if(y==="number"){var O=i3e(T,a.filter(function(D){var U,L,G=o in D.props?D.props[o]:(U=D.type.defaultProps)===null||U===void 0?void 0:U[o],le="hide"in D.props?D.props.hide:(L=D.type.defaultProps)===null||L===void 0?void 0:L.hide;return G===A&&(E||!le)}),w,i,u);O&&(I=O)}h&&(y==="number"||S!=="auto")&&(H=Dg(T,w,"category"))}else h?I=cw(0,R):l&&l[A]&&l[A].hasStack&&y==="number"?I=m==="expand"?[0,1]:CG(l[A].stackGroups,c,d):I=jG(T,a.filter(function(D){var U=o in D.props?D.props[o]:D.type.defaultProps[o],L="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return U===A&&(E||!L)}),y,u,!0);if(y==="number")I=ZA(f,I,A,i,_),P&&(I=hA(P,I,b));else if(y==="category"&&P){var K=P,ne=I.every(function(D){return K.indexOf(D)>=0});ne&&(I=K)}}return Le(Le({},x),{},Tt({},A,Le(Le({},j),{},{axisType:i,domain:I,categoricalDomain:H,duplicateDomain:z,originalDomain:(g=j.domain)!==null&&g!==void 0?g:F,isCategorical:h,layout:u})))},{})},MLe=function(t,r){var s=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,m=U2(t.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:d}),h=m.length,x=bG(u,i),p=-1;return s.reduce(function(g,j){var y=j.type.defaultProps!==void 0?Le(Le({},j.type.defaultProps),j.props):j.props,w=y[o],b=qK("number");if(!g[w]){p++;var N;return x?N=cw(0,h):l&&l[w]&&l[w].hasStack?(N=CG(l[w].stackGroups,c,d),N=ZA(f,N,w,i)):(N=hA(b,jG(m,s.filter(function(S){var _,E,A=o in S.props?S.props[o]:(_=S.type.defaultProps)===null||_===void 0?void 0:_[o],T="hide"in S.props?S.props.hide:(E=S.type.defaultProps)===null||E===void 0?void 0:E.hide;return A===w&&!T}),"number",u),a.defaultProps.allowDataOverflow),N=ZA(f,N,w,i)),Le(Le({},g),{},Tt({},w,Le(Le({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ui(TLe,"".concat(i,".").concat(p%2),null),domain:N,originalDomain:b,isCategorical:x,layout:u})))}return g},{})},FLe=function(t,r){var s=r.axisType,a=s===void 0?"xAxis":s,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),m=Vi(u,i),h={};return m&&m.length?h=RLe(t,{axes:m,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(h=MLe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),h},$Le=function(t){var r=Md(t),s=Mc(r,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:gO(s,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Q1(r,s)}},k$=function(t){var r=t.children,s=t.defaultShowTooltip,a=Ti(r,jp),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},LLe=function(t){return!t||!t.length?!1:t.some(function(r){var s=Bc(r&&r.type);return s&&s.indexOf("Bar")>=0})},T$=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},BLe=function(t,r){var s=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=s.width,u=s.height,f=s.children,m=s.margin||{},h=Ti(f,jp),x=Ti(f,il),p=Object.keys(c).reduce(function(N,S){var _=c[S],E=_.orientation;return!_.mirror&&!_.hide?Le(Le({},N),{},Tt({},E,N[E]+_.width)):N},{left:m.left||0,right:m.right||0}),g=Object.keys(o).reduce(function(N,S){var _=o[S],E=_.orientation;return!_.mirror&&!_.hide?Le(Le({},N),{},Tt({},E,Ui(N,"".concat(E))+_.height)):N},{top:m.top||0,bottom:m.bottom||0}),j=Le(Le({},g),p),y=j.bottom;h&&(j.bottom+=h.props.height||jp.defaultProps.height),x&&r&&(j=s3e(j,a,s,r));var w=d-j.left-j.right,b=u-j.top-j.bottom;return Le(Le({brushBottom:y},j),{},{width:Math.max(w,0),height:Math.max(b,0)})},ULe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},V2=function(t){var r=t.chartName,s=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,m=function(g,j){var y=j.graphicalItems,w=j.stackGroups,b=j.offset,N=j.updateId,S=j.dataStartIndex,_=j.dataEndIndex,E=g.barSize,A=g.layout,T=g.barGap,R=g.barCategoryGap,I=g.maxBarSize,z=T$(A),H=z.numericAxisName,F=z.cateAxisName,k=LLe(y),P=[];return y.forEach(function(M,O){var K=U2(g.data,{graphicalItems:[M],dataStartIndex:S,dataEndIndex:_}),ne=M.type.defaultProps!==void 0?Le(Le({},M.type.defaultProps),M.props):M.props,D=ne.dataKey,U=ne.maxBarSize,L=ne["".concat(H,"Id")],G=ne["".concat(F,"Id")],le={},fe=c.reduce(function(ce,je){var Fe=j["".concat(je.axisType,"Map")],De=ne["".concat(je.axisType,"Id")];Fe&&Fe[De]||je.axisType==="zAxis"||Su();var de=Fe[De];return Le(Le({},ce),{},Tt(Tt({},je.axisType,de),"".concat(je.axisType,"Ticks"),Mc(de)))},le),B=fe[F],Y=fe["".concat(F,"Ticks")],ie=w&&w[L]&&w[L].hasStack&&p3e(M,w[L].stackGroups),we=Bc(M.type).indexOf("Bar")>=0,ue=Q1(B,Y),ge=[],xe=k&&r3e({barSize:E,stackGroups:w,totalSize:ULe(fe,F)});if(we){var _e,Re,ke=Lt(U)?I:U,re=(_e=(Re=Q1(B,Y,!0))!==null&&Re!==void 0?Re:ke)!==null&&_e!==void 0?_e:0;ge=n3e({barGap:T,barCategoryGap:R,bandSize:re!==ue?re:ue,sizeList:xe[G],maxBarSize:ke}),re!==ue&&(ge=ge.map(function(ce){return Le(Le({},ce),{},{position:Le(Le({},ce.position),{},{offset:ce.position.offset-re/2})})}))}var he=M&&M.type&&M.type.getComposedData;he&&P.push({props:Le(Le({},he(Le(Le({},fe),{},{displayedData:K,props:g,dataKey:D,item:M,bandSize:ue,barPosition:ge,offset:b,stackedData:ie,layout:A,dataStartIndex:S,dataEndIndex:_}))),{},Tt(Tt(Tt({key:M.key||"item-".concat(O)},H,fe[H]),F,fe[F]),"animationId",N)),childIndex:nbe(M,g.children),item:M})}),P},h=function(g,j){var y=g.props,w=g.dataStartIndex,b=g.dataEndIndex,N=g.updateId;if(!zR({props:y}))return null;var S=y.children,_=y.layout,E=y.stackOffset,A=y.data,T=y.reverseStackOrder,R=T$(_),I=R.numericAxisName,z=R.cateAxisName,H=Vi(S,s),F=m3e(A,H,"".concat(I,"Id"),"".concat(z,"Id"),E,T),k=c.reduce(function(ne,D){var U="".concat(D.axisType,"Map");return Le(Le({},ne),{},Tt({},U,FLe(y,Le(Le({},D),{},{graphicalItems:H,stackGroups:D.axisType===I&&F,dataStartIndex:w,dataEndIndex:b}))))},{}),P=BLe(Le(Le({},k),{},{props:y,graphicalItems:H}),j==null?void 0:j.legendBBox);Object.keys(k).forEach(function(ne){k[ne]=u(y,k[ne],P,ne.replace("Map",""),r)});var M=k["".concat(z,"Map")],O=$Le(M),K=m(y,Le(Le({},k),{},{dataStartIndex:w,dataEndIndex:b,updateId:N,graphicalItems:H,stackGroups:F,offset:P}));return Le(Le({formattedGraphicalItems:K,graphicalItems:H,offset:P,stackGroups:F},O),k)},x=function(p){function g(j){var y,w,b;return jLe(this,g),b=NLe(this,g,[j]),Tt(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Tt(b,"accessibilityManager",new iLe),Tt(b,"handleLegendBBoxUpdate",function(N){if(N){var S=b.state,_=S.dataStartIndex,E=S.dataEndIndex,A=S.updateId;b.setState(Le({legendBBox:N},h({props:b.props,dataStartIndex:_,dataEndIndex:E,updateId:A},Le(Le({},b.state),{},{legendBBox:N}))))}}),Tt(b,"handleReceiveSyncEvent",function(N,S,_){if(b.props.syncId===N){if(_===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(S)}}),Tt(b,"handleBrushChange",function(N){var S=N.startIndex,_=N.endIndex;if(S!==b.state.dataStartIndex||_!==b.state.dataEndIndex){var E=b.state.updateId;b.setState(function(){return Le({dataStartIndex:S,dataEndIndex:_},h({props:b.props,dataStartIndex:S,dataEndIndex:_,updateId:E},b.state))}),b.triggerSyncEvent({dataStartIndex:S,dataEndIndex:_})}}),Tt(b,"handleMouseEnter",function(N){var S=b.getMouseInfo(N);if(S){var _=Le(Le({},S),{},{isTooltipActive:!0});b.setState(_),b.triggerSyncEvent(_);var E=b.props.onMouseEnter;Dt(E)&&E(_,N)}}),Tt(b,"triggeredAfterMouseMove",function(N){var S=b.getMouseInfo(N),_=S?Le(Le({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(_),b.triggerSyncEvent(_);var E=b.props.onMouseMove;Dt(E)&&E(_,N)}),Tt(b,"handleItemMouseEnter",function(N){b.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Tt(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),Tt(b,"handleMouseMove",function(N){N.persist(),b.throttleTriggeredAfterMouseMove(N)}),Tt(b,"handleMouseLeave",function(N){b.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};b.setState(S),b.triggerSyncEvent(S);var _=b.props.onMouseLeave;Dt(_)&&_(S,N)}),Tt(b,"handleOuterEvent",function(N){var S=rbe(N),_=Ui(b.props,"".concat(S));if(S&&Dt(_)){var E,A;/.*touch.*/i.test(S)?A=b.getMouseInfo(N.changedTouches[0]):A=b.getMouseInfo(N),_((E=A)!==null&&E!==void 0?E:{},N)}}),Tt(b,"handleClick",function(N){var S=b.getMouseInfo(N);if(S){var _=Le(Le({},S),{},{isTooltipActive:!0});b.setState(_),b.triggerSyncEvent(_);var E=b.props.onClick;Dt(E)&&E(_,N)}}),Tt(b,"handleMouseDown",function(N){var S=b.props.onMouseDown;if(Dt(S)){var _=b.getMouseInfo(N);S(_,N)}}),Tt(b,"handleMouseUp",function(N){var S=b.props.onMouseUp;if(Dt(S)){var _=b.getMouseInfo(N);S(_,N)}}),Tt(b,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Tt(b,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.handleMouseDown(N.changedTouches[0])}),Tt(b,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.handleMouseUp(N.changedTouches[0])}),Tt(b,"triggerSyncEvent",function(N){b.props.syncId!==void 0&&YS.emit(XS,b.props.syncId,N,b.eventEmitterSymbol)}),Tt(b,"applySyncEvent",function(N){var S=b.props,_=S.layout,E=S.syncMethod,A=b.state.updateId,T=N.dataStartIndex,R=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)b.setState(Le({dataStartIndex:T,dataEndIndex:R},h({props:b.props,dataStartIndex:T,dataEndIndex:R,updateId:A},b.state)));else if(N.activeTooltipIndex!==void 0){var I=N.chartX,z=N.chartY,H=N.activeTooltipIndex,F=b.state,k=F.offset,P=F.tooltipTicks;if(!k)return;if(typeof E=="function")H=E(P,N);else if(E==="value"){H=-1;for(var M=0;M<P.length;M++)if(P[M].value===N.activeLabel){H=M;break}}var O=Le(Le({},k),{},{x:k.left,y:k.top}),K=Math.min(I,O.x+O.width),ne=Math.min(z,O.y+O.height),D=P[H]&&P[H].value,U=tP(b.state,b.props.data,H),L=P[H]?{x:_==="horizontal"?P[H].coordinate:K,y:_==="horizontal"?ne:P[H].coordinate}:HK;b.setState(Le(Le({},N),{},{activeLabel:D,activeCoordinate:L,activePayload:U,activeTooltipIndex:H}))}else b.setState(N)}),Tt(b,"renderCursor",function(N){var S,_=b.state,E=_.isTooltipActive,A=_.activeCoordinate,T=_.activePayload,R=_.offset,I=_.activeTooltipIndex,z=_.tooltipAxisBandSize,H=b.getTooltipEventType(),F=(S=N.props.active)!==null&&S!==void 0?S:E,k=b.props.layout,P=N.key||"_recharts-cursor";return V.createElement(mLe,{key:P,activeCoordinate:A,activePayload:T,activeTooltipIndex:I,chartName:r,element:N,isActive:F,layout:k,offset:R,tooltipAxisBandSize:z,tooltipEventType:H})}),Tt(b,"renderPolarAxis",function(N,S,_){var E=Ui(N,"type.axisType"),A=Ui(b.state,"".concat(E,"Map")),T=N.type.defaultProps,R=T!==void 0?Le(Le({},T),N.props):N.props,I=A&&A[R["".concat(E,"Id")]];return v.cloneElement(N,Le(Le({},I),{},{className:Vt(E,I.className),key:N.key||"".concat(S,"-").concat(_),ticks:Mc(I,!0)}))}),Tt(b,"renderPolarGrid",function(N){var S=N.props,_=S.radialLines,E=S.polarAngles,A=S.polarRadius,T=b.state,R=T.radiusAxisMap,I=T.angleAxisMap,z=Md(R),H=Md(I),F=H.cx,k=H.cy,P=H.innerRadius,M=H.outerRadius;return v.cloneElement(N,{polarAngles:Array.isArray(E)?E:Mc(H,!0).map(function(O){return O.coordinate}),polarRadius:Array.isArray(A)?A:Mc(z,!0).map(function(O){return O.coordinate}),cx:F,cy:k,innerRadius:P,outerRadius:M,key:N.key||"polar-grid",radialLines:_})}),Tt(b,"renderLegend",function(){var N=b.state.formattedGraphicalItems,S=b.props,_=S.children,E=S.width,A=S.height,T=b.props.margin||{},R=E-(T.left||0)-(T.right||0),I=vG({children:_,formattedGraphicalItems:N,legendWidth:R,legendContent:d});if(!I)return null;var z=I.item,H=E$(I,hLe);return v.cloneElement(z,Le(Le({},H),{},{chartWidth:E,chartHeight:A,margin:T,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),Tt(b,"renderTooltip",function(){var N,S=b.props,_=S.children,E=S.accessibilityLayer,A=Ti(_,hr);if(!A)return null;var T=b.state,R=T.isTooltipActive,I=T.activeCoordinate,z=T.activePayload,H=T.activeLabel,F=T.offset,k=(N=A.props.active)!==null&&N!==void 0?N:R;return v.cloneElement(A,{viewBox:Le(Le({},F),{},{x:F.left,y:F.top}),active:k,label:H,payload:k?z:[],coordinate:I,accessibilityLayer:E})}),Tt(b,"renderBrush",function(N){var S=b.props,_=S.margin,E=S.data,A=b.state,T=A.offset,R=A.dataStartIndex,I=A.dataEndIndex,z=A.updateId;return v.cloneElement(N,{key:N.key||"_recharts-brush",onChange:_j(b.handleBrushChange,N.props.onChange),data:E,x:Qe(N.props.x)?N.props.x:T.left,y:Qe(N.props.y)?N.props.y:T.top+T.height+T.brushBottom-(_.bottom||0),width:Qe(N.props.width)?N.props.width:T.width,startIndex:R,endIndex:I,updateId:"brush-".concat(z)})}),Tt(b,"renderReferenceElement",function(N,S,_){if(!N)return null;var E=b,A=E.clipPathId,T=b.state,R=T.xAxisMap,I=T.yAxisMap,z=T.offset,H=N.type.defaultProps||{},F=N.props,k=F.xAxisId,P=k===void 0?H.xAxisId:k,M=F.yAxisId,O=M===void 0?H.yAxisId:M;return v.cloneElement(N,{key:N.key||"".concat(S,"-").concat(_),xAxis:R[P],yAxis:I[O],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:A})}),Tt(b,"renderActivePoints",function(N){var S=N.item,_=N.activePoint,E=N.basePoint,A=N.childIndex,T=N.isRange,R=[],I=S.props.key,z=S.item.type.defaultProps!==void 0?Le(Le({},S.item.type.defaultProps),S.item.props):S.item.props,H=z.activeDot,F=z.dataKey,k=Le(Le({index:A,dataKey:F,cx:_.x,cy:_.y,r:4,fill:zO(S.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Nt(H,!1)),N1(H));return R.push(g.renderActiveDot(H,k,"".concat(I,"-activePoint-").concat(A))),E?R.push(g.renderActiveDot(H,Le(Le({},k),{},{cx:E.x,cy:E.y}),"".concat(I,"-basePoint-").concat(A))):T&&R.push(null),R}),Tt(b,"renderGraphicChild",function(N,S,_){var E=b.filterFormatItem(N,S,_);if(!E)return null;var A=b.getTooltipEventType(),T=b.state,R=T.isTooltipActive,I=T.tooltipAxis,z=T.activeTooltipIndex,H=T.activeLabel,F=b.props.children,k=Ti(F,hr),P=E.props,M=P.points,O=P.isRange,K=P.baseLine,ne=E.item.type.defaultProps!==void 0?Le(Le({},E.item.type.defaultProps),E.item.props):E.item.props,D=ne.activeDot,U=ne.hide,L=ne.activeBar,G=ne.activeShape,le=!!(!U&&R&&k&&(D||L||G)),fe={};A!=="axis"&&k&&k.props.trigger==="click"?fe={onClick:_j(b.handleItemMouseEnter,N.props.onClick)}:A!=="axis"&&(fe={onMouseLeave:_j(b.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:_j(b.handleItemMouseEnter,N.props.onMouseEnter)});var B=v.cloneElement(N,Le(Le({},E.props),fe));function Y(je){return typeof I.dataKey=="function"?I.dataKey(je.payload):null}if(le)if(z>=0){var ie,we;if(I.dataKey&&!I.allowDuplicatedCategory){var ue=typeof I.dataKey=="function"?Y:"payload.".concat(I.dataKey.toString());ie=w1(M,ue,H),we=O&&K&&w1(K,ue,H)}else ie=M==null?void 0:M[z],we=O&&K&&K[z];if(G||L){var ge=N.props.activeIndex!==void 0?N.props.activeIndex:z;return[v.cloneElement(N,Le(Le(Le({},E.props),fe),{},{activeIndex:ge})),null,null]}if(!Lt(ie))return[B].concat(Tp(b.renderActivePoints({item:E,activePoint:ie,basePoint:we,childIndex:z,isRange:O})))}else{var xe,_e=(xe=b.getItemByXY(b.state.activeCoordinate))!==null&&xe!==void 0?xe:{graphicalItem:B},Re=_e.graphicalItem,ke=Re.item,re=ke===void 0?N:ke,he=Re.childIndex,ce=Le(Le(Le({},E.props),fe),{},{activeIndex:he});return[v.cloneElement(re,ce),null,null]}return O?[B,null,null]:[B,null]}),Tt(b,"renderCustomized",function(N,S,_){return v.cloneElement(N,Le(Le({key:"recharts-customized-".concat(_)},b.props),b.state))}),Tt(b,"renderMap",{CartesianGrid:{handler:Pj,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:Pj},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:Pj},YAxis:{handler:Pj},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((y=j.id)!==null&&y!==void 0?y:gm("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=gq(b.triggeredAfterMouseMove,(w=j.throttleDelay)!==null&&w!==void 0?w:1e3/60),b.state={},b}return CLe(g,p),wLe(g,[{key:"componentDidMount",value:function(){var y,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,w=y.children,b=y.data,N=y.height,S=y.layout,_=Ti(w,hr);if(_){var E=_.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,T=tP(this.state,b,E,A),R=this.state.tooltipTicks[E].coordinate,I=(this.state.offset.top+N)/2,z=S==="horizontal",H=z?{x:R,y:I}:{y:R,x:I},F=this.state.formattedGraphicalItems.find(function(P){var M=P.item;return M.type.name==="Scatter"});F&&(H=Le(Le({},H),F.props.points[E].tooltipPosition),T=F.props.points[E].tooltipPayload);var k={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:A,activePayload:T,activeCoordinate:H};this.setState(k),this.renderCursor(_),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var b,N;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(y){PE([Ti(y.children,hr)],[Ti(this.props.children,hr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Ti(this.props.children,hr);if(y&&typeof y.props.shared=="boolean"){var w=y.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var w=this.container,b=w.getBoundingClientRect(),N=PAe(b),S={chartX:Math.round(y.pageX-N.left),chartY:Math.round(y.pageY-N.top)},_=b.width/w.offsetWidth||1,E=this.inRange(S.chartX,S.chartY,_);if(!E)return null;var A=this.state,T=A.xAxisMap,R=A.yAxisMap,I=this.getTooltipEventType();if(I!=="axis"&&T&&R){var z=Md(T).scale,H=Md(R).scale,F=z&&z.invert?z.invert(S.chartX):null,k=H&&H.invert?H.invert(S.chartY):null;return Le(Le({},S),{},{xValue:F,yValue:k})}var P=P$(this.state,this.props.data,this.props.layout,E);return P?Le(Le({},S),P):null}},{key:"inRange",value:function(y,w){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=y/b,_=w/b;if(N==="horizontal"||N==="vertical"){var E=this.state.offset,A=S>=E.left&&S<=E.left+E.width&&_>=E.top&&_<=E.top+E.height;return A?{x:S,y:_}:null}var T=this.state,R=T.angleAxisMap,I=T.radiusAxisMap;if(R&&I){var z=Md(R);return ZF({x:S,y:_},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,w=this.getTooltipEventType(),b=Ti(y,hr),N={};b&&w==="axis"&&(b.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var S=N1(this.props,this.handleOuterEvent);return Le(Le({},S),N)}},{key:"addListener",value:function(){YS.on(XS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){YS.removeListener(XS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,w,b){for(var N=this.state.formattedGraphicalItems,S=0,_=N.length;S<_;S++){var E=N[S];if(E.item===y||E.props.key===y.key||w===Bc(E.item.type)&&b===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,w=this.state.offset,b=w.left,N=w.top,S=w.height,_=w.width;return V.createElement("defs",null,V.createElement("clipPath",{id:y},V.createElement("rect",{x:b,y:N,height:S,width:_})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(w,b){var N=C$(b,2),S=N[0],_=N[1];return Le(Le({},w),{},Tt({},S,_.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(w,b){var N=C$(b,2),S=N[0],_=N[1];return Le(Le({},w),{},Tt({},S,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(y){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(y){var w=this.state,b=w.formattedGraphicalItems,N=w.activeItem;if(b&&b.length)for(var S=0,_=b.length;S<_;S++){var E=b[S],A=E.props,T=E.item,R=T.type.defaultProps!==void 0?Le(Le({},T.type.defaultProps),T.props):T.props,I=Bc(T.type);if(I==="Bar"){var z=(A.data||[]).find(function(P){return tIe(y,P)});if(z)return{graphicalItem:E,payload:z}}else if(I==="RadialBar"){var H=(A.data||[]).find(function(P){return ZF(y,P)});if(H)return{graphicalItem:E,payload:H}}else if(I2(E,N)||R2(E,N)||ev(E,N)){var F=zRe({graphicalItem:E,activeTooltipItem:N,itemData:R.data}),k=R.activeIndex===void 0?F:R.activeIndex;return{graphicalItem:Le(Le({},E),{},{childIndex:k}),payload:ev(E,N)?R.data[F]:E.props.data[F]}}}return null}},{key:"render",value:function(){var y=this;if(!zR(this))return null;var w=this.props,b=w.children,N=w.className,S=w.width,_=w.height,E=w.style,A=w.compact,T=w.title,R=w.desc,I=E$(w,pLe),z=Nt(I,!1);if(A)return V.createElement(i$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(TE,$g({},z,{width:S,height:_,title:T,desc:R}),this.renderClipPath(),HR(b,this.renderMap)));if(this.props.accessibilityLayer){var H,F;z.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,z.role=(F=this.props.role)!==null&&F!==void 0?F:"application",z.onKeyDown=function(P){y.accessibilityManager.keyboardEvent(P)},z.onFocus=function(){y.accessibilityManager.focus()}}var k=this.parseEventsOfWrapper();return V.createElement(i$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",$g({className:Vt("recharts-wrapper",N),style:Le({position:"relative",cursor:"default",width:S,height:_},E)},k,{ref:function(M){y.container=M}}),V.createElement(TE,$g({},z,{width:S,height:_,title:T,desc:R,style:OLe}),this.renderClipPath(),HR(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);return Tt(x,"displayName",r),Tt(x,"defaultProps",Le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Tt(x,"getDerivedStateFromProps",function(p,g){var j=p.dataKey,y=p.data,w=p.children,b=p.width,N=p.height,S=p.layout,_=p.stackOffset,E=p.margin,A=g.dataStartIndex,T=g.dataEndIndex;if(g.updateId===void 0){var R=k$(p);return Le(Le(Le({},R),{},{updateId:0},h(Le(Le({props:p},R),{},{updateId:0}),g)),{},{prevDataKey:j,prevData:y,prevWidth:b,prevHeight:N,prevLayout:S,prevStackOffset:_,prevMargin:E,prevChildren:w})}if(j!==g.prevDataKey||y!==g.prevData||b!==g.prevWidth||N!==g.prevHeight||S!==g.prevLayout||_!==g.prevStackOffset||!Nh(E,g.prevMargin)){var I=k$(p),z={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},H=Le(Le({},P$(g,y,S)),{},{updateId:g.updateId+1}),F=Le(Le(Le({},I),z),H);return Le(Le(Le({},F),h(Le({props:p},F),g)),{},{prevDataKey:j,prevData:y,prevWidth:b,prevHeight:N,prevLayout:S,prevStackOffset:_,prevMargin:E,prevChildren:w})}if(!PE(w,g.prevChildren)){var k,P,M,O,K=Ti(w,jp),ne=K&&(k=(P=K.props)===null||P===void 0?void 0:P.startIndex)!==null&&k!==void 0?k:A,D=K&&(M=(O=K.props)===null||O===void 0?void 0:O.endIndex)!==null&&M!==void 0?M:T,U=ne!==A||D!==T,L=!Lt(y),G=L&&!U?g.updateId:g.updateId+1;return Le(Le({updateId:G},h(Le(Le({props:p},g),{},{updateId:G,dataStartIndex:ne,dataEndIndex:D}),g)),{},{prevChildren:w,dataStartIndex:ne,dataEndIndex:D})}return null}),Tt(x,"renderActiveDot",function(p,g,j){var y;return v.isValidElement(p)?y=v.cloneElement(p,g):Dt(p)?y=p(g):y=V.createElement(vy,g),V.createElement(nr,{className:"recharts-active-dot",key:j},y)}),function(g){return V.createElement(x,g)}},z2=V2({chartName:"LineChart",GraphicalChild:ac,axisComponents:[{axisType:"xAxis",AxisComp:rn},{axisType:"yAxis",AxisComp:nn}],formatAxisMap:HO}),Sa=V2({chartName:"BarChart",GraphicalChild:wn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:rn},{axisType:"yAxis",AxisComp:nn}],formatAxisMap:HO}),Lg=V2({chartName:"PieChart",GraphicalChild:zi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:D2},{axisType:"radiusAxis",AxisComp:T2}],formatAxisMap:S3e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),VLe=V2({chartName:"AreaChart",GraphicalChild:id,axisComponents:[{axisType:"xAxis",AxisComp:rn},{axisType:"yAxis",AxisComp:nn}],formatAxisMap:HO});const zLe={light:"",dark:".dark"},GK=v.createContext(null);function KK(){const e=v.useContext(GK);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const ov=v.forwardRef(({id:e,className:t,children:r,config:s,...a},i)=>{const o=v.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return n.jsx(GK.Provider,{value:{config:s},children:n.jsxs("div",{"data-chart":l,ref:i,className:ve("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[n.jsx(WLe,{id:l,config:s}),n.jsx(un,{children:r})]})})});ov.displayName="Chart";const WLe=({id:e,config:t})=>{const r=Object.entries(t).filter(([s,a])=>a.theme||a.color);return r.length?n.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(zLe).map(([s,a])=>`
${a} [data-chart=${e}] {
${r.map(([i,o])=>{var c;const l=((c=o.theme)==null?void 0:c[s])||o.color;return l?`  --color-${i}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},O$=hr,lv=v.forwardRef(({active:e,payload:t,className:r,indicator:s="dot",hideLabel:a=!1,hideIndicator:i=!1,label:o,labelFormatter:l,labelClassName:c,formatter:d,color:u,nameKey:f,labelKey:m},h)=>{const{config:x}=KK(),p=v.useMemo(()=>{var N;if(a||!(t!=null&&t.length))return null;const[j]=t,y=`${m||j.dataKey||j.name||"value"}`,w=rP(x,j,y),b=!m&&typeof o=="string"?((N=x[o])==null?void 0:N.label)||o:w==null?void 0:w.label;return l?n.jsx("div",{className:ve("font-medium",c),children:l(b,t)}):b?n.jsx("div",{className:ve("font-medium",c),children:b}):null},[o,l,t,a,c,x,m]);if(!e||!(t!=null&&t.length))return null;const g=t.length===1&&s!=="dot";return n.jsxs("div",{ref:h,className:ve("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[g?null:p,n.jsx("div",{className:"grid gap-1.5",children:t.map((j,y)=>{const w=`${f||j.name||j.dataKey||"value"}`,b=rP(x,j,w),N=u||j.payload.fill||j.color;return n.jsx("div",{className:ve("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",s==="dot"&&"items-center"),children:d&&(j==null?void 0:j.value)!==void 0&&j.name?d(j.value,j.name,j,y,j.payload):n.jsxs(n.Fragment,{children:[b!=null&&b.icon?n.jsx(b.icon,{}):!i&&n.jsx("div",{className:ve("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":s==="dot","w-1":s==="line","w-0 border-[1.5px] border-dashed bg-transparent":s==="dashed","my-0.5":g&&s==="dashed"}),style:{"--color-bg":N,"--color-border":N}}),n.jsxs("div",{className:ve("flex flex-1 justify-between leading-none",g?"items-end":"items-center"),children:[n.jsxs("div",{className:"grid gap-1.5",children:[g?p:null,n.jsx("span",{className:"text-muted-foreground",children:(b==null?void 0:b.label)||j.name})]}),j.value&&n.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:j.value.toLocaleString()})]})]})},j.dataKey)})})]})});lv.displayName="ChartTooltip";const HLe=v.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:s="bottom",nameKey:a},i)=>{const{config:o}=KK();return r!=null&&r.length?n.jsx("div",{ref:i,className:ve("flex items-center justify-center gap-4",s==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,d=rP(o,l,c);return n.jsxs("div",{className:ve("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[d!=null&&d.icon&&!t?n.jsx(d.icon,{}):n.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),d==null?void 0:d.label]},l.value)})}):null});HLe.displayName="ChartLegend";function rP(e,t,r){if(typeof t!="object"||t===null)return;const s="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:s&&r in s&&typeof s[r]=="string"&&(a=s[r]),a in e?e[a]:e[r]}const qLe=[{month:"Jun",ordered:0,delivered:0},{month:"Jul",ordered:0,delivered:0},{month:"Aug",ordered:0,delivered:0},{month:"Sep",ordered:0,delivered:0},{month:"Oct",ordered:0,delivered:0},{month:"Nov",ordered:0,delivered:0}],GLe=[{month:"Jun",amount:0},{month:"Jul",amount:0},{month:"Aug",amount:0},{month:"Sep",amount:0},{month:"Oct",amount:0},{month:"Nov",amount:0}],KLe=()=>{var j,y,w,b,N,S,_,E,A,T,R,I,z,H,F;const{data:e,isLoading:t,refetch:r}=Hpe(),{data:s}=zW(),[a,i]=v.useState(null),[o,l]=v.useState(null),[c,d]=v.useState(null),[u,f]=v.useState(null),m=e==null?void 0:e.kpi,h=(e==null?void 0:e.orders_chart)||qLe,x=(e==null?void 0:e.spending_chart)||GLe,p=(s==null?void 0:s.recent_orders)||[];s!=null&&s.recent_issues;const g=(s==null?void 0:s.recent_payments)||[];return console.log("Recent Data:",s),console.log("Recent Orders:",p),t?n.jsx(ct,{title:"Dashboard Overview",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[1,2,3,4,5].map(k=>n.jsx(X,{children:n.jsxs(Q,{className:"p-6",children:[n.jsx(C,{className:"h-4 w-24 mb-2"}),n.jsx(C,{className:"h-8 w-16 mb-2"}),n.jsx(C,{className:"h-3 w-20"})]})},k))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsx(C,{className:"h-[300px] w-full"})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsx(C,{className:"h-[300px] w-full"})})})]})]})}):n.jsx(ct,{title:"Dashboard Overview",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsx(Ux,{title:"Active Apartments",value:((j=m==null?void 0:m.active_apartments)==null?void 0:j.value)??0,icon:fr,trend:{value:((y=m==null?void 0:m.active_apartments)==null?void 0:y.trend)??0,label:((w=m==null?void 0:m.active_apartments)==null?void 0:w.trend_label)??"vs last month"}}),n.jsx(Ux,{title:"Pending Orders",value:((b=m==null?void 0:m.pending_orders)==null?void 0:b.value)??0,icon:lt,trend:{value:((N=m==null?void 0:m.pending_orders)==null?void 0:N.trend)??0,label:((S=m==null?void 0:m.pending_orders)==null?void 0:S.trend_label)??"vs last week"}}),n.jsx(Ux,{title:"Open Issues",value:((_=m==null?void 0:m.open_issues)==null?void 0:_.value)??0,icon:Et,trend:{value:((E=m==null?void 0:m.open_issues)==null?void 0:E.trend)??0,label:((A=m==null?void 0:m.open_issues)==null?void 0:A.trend_label)??"no change"}}),n.jsx(Ux,{title:"Deliveries This Week",value:((T=m==null?void 0:m.deliveries_this_week)==null?void 0:T.value)??0,icon:_r,trend:{value:((R=m==null?void 0:m.deliveries_this_week)==null?void 0:R.trend)??0,label:((I=m==null?void 0:m.deliveries_this_week)==null?void 0:I.trend_label)??"vs last week"}}),n.jsx(Ux,{title:"Overdue Payments",value:((z=m==null?void 0:m.overdue_payments)==null?void 0:z.value)??0,icon:bs,trend:{value:((H=m==null?void 0:m.overdue_payments)==null?void 0:H.trend)??0,label:((F=m==null?void 0:m.overdue_payments)==null?void 0:F.trend_label)??"vs last month"}})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs(X,{className:"overflow-hidden",children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"flex items-center gap-2 text-base sm:text-lg",children:[n.jsx(lt,{className:"h-4 w-4 sm:h-5 sm:w-5"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Orders Placed vs Delivered"})]})}),n.jsx(Q,{className:"p-2 sm:p-6",children:n.jsx(ov,{config:{ordered:{label:"ordered",color:"hsl(var(--primary))"},delivered:{label:"delivered",color:"hsl(var(--success))"}},className:"h-[280px] sm:h-[320px] w-full",children:n.jsx(un,{width:"100%",height:"100%",children:n.jsxs(Sa,{data:h,margin:{top:10,right:5,left:-20,bottom:5},children:[n.jsx(zn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(rn,{dataKey:"month",tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),n.jsx(nn,{tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),n.jsx(O$,{content:n.jsx(lv,{})}),n.jsx(il,{wrapperStyle:{fontSize:"11px",paddingTop:"10px"},iconSize:10}),n.jsx(wn,{dataKey:"ordered",fill:"hsl(var(--primary))",radius:[6,6,0,0]}),n.jsx(wn,{dataKey:"delivered",fill:"hsl(var(--success))",radius:[6,6,0,0]})]})})})})]}),n.jsxs(X,{className:"overflow-hidden",children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"flex items-center gap-2 text-base sm:text-lg",children:[n.jsx(li,{className:"h-4 w-4 sm:h-5 sm:w-5"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Total Spending Trend"})]})}),n.jsx(Q,{className:"p-2 sm:p-6",children:n.jsx(ov,{config:{amount:{label:"Amount ()",color:"hsl(var(--primary))"}},className:"h-[280px] sm:h-[320px] w-full",children:n.jsx(un,{width:"100%",height:"100%",children:n.jsxs(z2,{data:x,margin:{top:10,right:5,left:-20,bottom:5},children:[n.jsx(zn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(rn,{dataKey:"month",tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),n.jsx(nn,{tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),n.jsx(O$,{content:n.jsx(lv,{})}),n.jsx(ac,{type:"monotone",dataKey:"amount",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",r:3}})]})})})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(X,{className:"overflow-hidden",children:[n.jsx(be,{className:"border-b bg-gradient-to-r from-background to-muted/20",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(lt,{className:"h-5 w-5 text-primary"})}),n.jsx("span",{children:"Recent Orders"})]}),n.jsxs(Ce,{variant:"secondary",className:"font-semibold",children:[p.length," orders"]})]})}),n.jsx(Q,{className:"p-4",children:n.jsx("div",{className:"space-y-3",children:p.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-muted/50 mb-3",children:n.jsx(lt,{className:"h-8 w-8 text-muted-foreground"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No recent orders"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Orders will appear here once placed"})]}):p.slice(0,5).map(k=>{var K,ne;const P=o===k.id,M=a===k.id,O=P||M;return n.jsxs("div",{className:`
                          group relative rounded-xl border-2
                          transition-all duration-500 ease-out cursor-pointer
                          ${O?"bg-gradient-to-br from-primary/5 via-primary/3 to-background shadow-xl border-primary/30":"bg-card/50 hover:bg-card border-border/50 hover:border-border hover:shadow-md"}
                        `,onMouseEnter:()=>!P&&i(k.id),onMouseLeave:()=>!P&&i(null),onClick:()=>l(P?null:k.id),children:[n.jsx("div",{className:`
                          absolute inset-0 bg-gradient-to-r from-primary/5 to-transparent opacity-0 transition-opacity duration-500 pointer-events-none rounded-xl
                          ${O?"opacity-100":""}
                        `}),n.jsx("div",{className:"relative p-4",children:n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:[n.jsx("div",{className:`
                                p-2 rounded-lg transition-all duration-300
                                ${O?"bg-primary/15":"bg-muted/60"}
                              `,children:n.jsx(xh,{className:`h-4 w-4 transition-colors ${O?"text-primary":"text-muted-foreground"}`})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ce,{variant:"outline",className:`text-xs font-bold transition-all ${O?"border-primary/50 bg-primary/5":""}`,children:k.po_number}),n.jsx(Ce,{variant:k.status==="delivered"?"default":k.status==="sent"?"secondary":k.status==="cancelled"?"destructive":"outline",className:"text-xs capitalize",children:k.status})]}),n.jsx("p",{className:"text-sm font-semibold text-foreground truncate",children:k.apartment})]})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsxs("p",{className:`text-base font-bold transition-colors ${O?"text-primary":"text-foreground"}`,children:[k.total.toLocaleString()," Ft"]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[((K=k.items)==null?void 0:K.length)||0," ",((ne=k.items)==null?void 0:ne.length)===1?"item":"items"]})]})]})}),n.jsx("div",{className:`
                          transition-all duration-500 ease-out overflow-hidden
                          ${O?"max-h-[600px]":"max-h-0"}
                        `,children:n.jsx("div",{className:"overflow-visible",children:n.jsxs("div",{className:"px-4 pb-4 pt-2 border-t border-border/50 bg-gradient-to-b from-muted/20 via-muted/5 to-transparent",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4 mt-3",children:[n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(xh,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Order ID"})]}),n.jsxs("p",{className:"text-xs font-mono font-medium text-foreground truncate",title:k.id,children:[k.id.substring(0,8),"..."]})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(ya,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Apartment"})]}),n.jsx("p",{className:"text-xs font-medium text-foreground truncate",title:k.apartment,children:k.apartment})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(La,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Vendor"})]}),n.jsx("p",{className:"text-xs font-medium text-foreground truncate",title:k.vendor,children:k.vendor})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-background/40 border border-border/30",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:n.jsx(on,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Placed On"}),n.jsx("p",{className:"text-xs font-semibold text-foreground",children:k.placed_on?Xt(new Date(k.placed_on),"MMM dd, yyyy"):"N/A"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-background/40 border border-border/30",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:n.jsx(Nr,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-xs font-bold text-primary",children:[k.total.toLocaleString()," Ft"]})]})]})]}),k.items&&k.items.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 px-1",children:[n.jsx("div",{className:"p-1 rounded bg-primary/10",children:n.jsx(lt,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("p",{className:"text-xs font-bold text-foreground uppercase tracking-wide",children:["Products (",k.items.length,")"]})]}),n.jsx("div",{className:"space-y-2 max-h-[240px] overflow-y-auto pr-2",style:{scrollbarWidth:"thin",scrollbarColor:"hsl(var(--primary) / 0.3) transparent"},children:k.items.map((D,U)=>n.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-lg bg-background/80 border border-border/40 hover:bg-background hover:border-primary/30 hover:shadow-sm transition-all duration-200",children:[D.product_image?n.jsx("img",{src:D.product_image,alt:D.product_name,className:"w-10 h-10 rounded-md object-cover flex-shrink-0 border-2 border-border/50"}):n.jsx("div",{className:"w-10 h-10 rounded-md bg-muted/60 flex items-center justify-center flex-shrink-0 border-2 border-border/50",children:n.jsx(lt,{className:"w-5 h-5 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-semibold text-foreground truncate leading-tight mb-1",title:D.product_name,children:D.product_name}),n.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-muted-foreground",children:[n.jsxs("span",{className:"font-medium",children:["Qty: ",n.jsx("span",{className:"text-foreground font-semibold",children:D.quantity})]}),n.jsx("span",{children:""}),n.jsxs("span",{className:"font-medium",children:[D.unit_price.toLocaleString()," Ft/unit"]})]})]}),n.jsx("div",{className:"text-right flex-shrink-0",children:n.jsxs("p",{className:"text-xs font-bold text-foreground",children:[(D.quantity*D.unit_price).toLocaleString()," Ft"]})})]},D.id))})]})]})})})]},k.id)})})})]}),n.jsxs(X,{className:"overflow-hidden",children:[n.jsx(be,{className:"border-b bg-gradient-to-r from-background to-muted/20",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(bs,{className:"h-5 w-5 text-primary"})}),n.jsx("span",{children:"Recent Payments"})]}),n.jsxs(Ce,{variant:"secondary",className:"font-semibold",children:[g.length," payments"]})]})}),n.jsx(Q,{className:"p-4",children:n.jsx("div",{className:"space-y-3",children:g.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-muted/50 mb-3",children:n.jsx(bs,{className:"h-8 w-8 text-muted-foreground"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No recent payments"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Payments will appear here once made"})]}):g.slice(0,5).map(k=>{const P=u===k.id,M=c===k.id,O=P||M;return n.jsxs("div",{className:`
                          group relative rounded-xl border-2
                          transition-all duration-500 ease-out cursor-pointer
                          ${O?"bg-gradient-to-br from-primary/5 via-primary/3 to-background shadow-xl border-primary/30":"bg-card/50 hover:bg-card border-border/50 hover:border-border hover:shadow-md"}
                        `,onMouseEnter:()=>!P&&d(k.id),onMouseLeave:()=>!P&&d(null),onClick:()=>f(P?null:k.id),children:[n.jsx("div",{className:`
                          absolute inset-0 bg-gradient-to-r from-primary/5 to-transparent opacity-0 transition-opacity duration-500 pointer-events-none rounded-xl
                          ${O?"opacity-100":""}
                        `}),n.jsx("div",{className:"relative p-4",children:n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:[n.jsx("div",{className:`
                                p-2 rounded-lg transition-all duration-300
                                ${O?"bg-primary/15":"bg-muted/60"}
                              `,children:n.jsx(bs,{className:`h-4 w-4 transition-colors ${O?"text-primary":"text-muted-foreground"}`})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ce,{variant:"outline",className:`text-xs font-bold transition-all ${O?"border-primary/50 bg-primary/5":""}`,children:k.order_reference}),n.jsx(Ce,{variant:k.status==="Paid"?"default":k.status==="Partial"?"secondary":"destructive",className:"text-xs capitalize",children:k.status})]}),n.jsx("p",{className:"text-sm font-semibold text-foreground truncate",children:k.vendor||"Unknown vendor"})]})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsxs("p",{className:`text-base font-bold transition-colors ${O?"text-primary":"text-foreground"}`,children:[k.amount_paid.toLocaleString()," Ft"]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["of ",k.total_amount.toLocaleString()," Ft"]})]})]})}),n.jsx("div",{className:`
                          transition-all duration-500 ease-out overflow-hidden
                          ${O?"max-h-[600px]":"max-h-0"}
                        `,children:n.jsx("div",{className:"overflow-visible",children:n.jsxs("div",{className:"px-4 pb-4 pt-2 border-t border-border/50 bg-gradient-to-b from-muted/20 via-muted/5 to-transparent",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4 mt-3",children:[n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(xh,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Payment ID"})]}),n.jsxs("p",{className:"text-xs font-mono font-medium text-foreground truncate",title:k.id,children:[k.id.substring(0,8),"..."]})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(lt,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Order Ref"})]}),n.jsx("p",{className:"text-xs font-medium text-foreground truncate",title:k.order_reference,children:k.order_reference})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(La,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Vendor"})]}),n.jsx("p",{className:"text-xs font-medium text-foreground truncate",title:k.vendor,children:k.vendor||"Unknown"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-background/40 border border-border/30",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:n.jsx(Nr,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Amount Paid"}),n.jsxs("p",{className:"text-xs font-bold text-primary",children:[k.amount_paid.toLocaleString()," Ft"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-background/40 border border-border/30",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:n.jsx(Nr,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-xs font-semibold text-foreground",children:[k.total_amount.toLocaleString()," Ft"]})]})]})]}),n.jsxs("div",{className:"space-y-2 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-xs font-semibold text-foreground",children:"Payment Progress"}),n.jsxs("p",{className:"text-xs font-bold text-primary",children:[Math.round(k.amount_paid/k.total_amount*100),"%"]})]}),n.jsx("div",{className:"w-full bg-muted/50 rounded-full h-2 overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-primary/70 rounded-full transition-all duration-500",style:{width:`${k.amount_paid/k.total_amount*100}%`}})}),n.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground",children:[n.jsxs("span",{children:["Paid: ",k.amount_paid.toLocaleString()," Ft"]}),n.jsxs("span",{children:["Remaining: ",(k.total_amount-k.amount_paid).toLocaleString()," Ft"]})]})]})]})})})]},k.id)})})})]})]}),n.jsx(m0e,{})]})})},YLe=()=>{const e=lc();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),n.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),n.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},YK=cr.create({baseURL:ro.replace("/api",""),headers:{"Content-Type":"application/json"}});YK.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const XLe=()=>{const[e,t]=v.useState(!1);return{enhanceText:async(s,a="improve")=>{var i,o;if(!s||!s.trim())return Ue.error("Please enter some text first"),null;t(!0);try{const l=await YK.post("/api/utils/enhance-text/",{text:s,type:a});return Ue.success("Text enhanced successfully"),l.data.enhanced}catch(l){console.error("Failed to enhance text:",l);const c=((o=(i=l.response)==null?void 0:i.data)==null?void 0:o.error)||"Failed to enhance text";return Ue.error(c),null}finally{t(!1)}},isEnhancing:e}},XK=({text:e,onTextEnhanced:t,className:r="",variant:s="outline",size:a="sm"})=>{const{enhanceText:i,isEnhancing:o}=XLe(),[l,c]=v.useState(!1),d=async u=>{c(!1);const f=await i(e,u);f&&t(f)};return n.jsxs(ry,{open:l,onOpenChange:c,children:[n.jsx(ny,{asChild:!0,children:n.jsx(te,{type:"button",variant:s,size:a,className:r,disabled:o||!(e!=null&&e.trim()),children:o?n.jsx(n.Fragment,{children:n.jsx(Ht,{className:"h-4 w-4  animate-spin"})}):n.jsx(n.Fragment,{children:n.jsx(Ec,{className:"h-4 w-4 "})})})}),n.jsxs(Jp,{align:"end",children:[n.jsxs(Rn,{onClick:()=>d("improve"),children:[n.jsx(Ec,{className:"h-4 w-4 mr-2"}),"Improve & Fix"]}),n.jsxs(Rn,{onClick:()=>d("shorten"),children:[n.jsx(Ec,{className:"h-4 w-4 mr-2"}),"Make Shorter"]}),n.jsxs(Rn,{onClick:()=>d("professional"),children:[n.jsx(Ec,{className:"h-4 w-4 mr-2"}),"Professional Tone"]}),n.jsxs(Rn,{onClick:()=>d("friendly"),children:[n.jsx(Ec,{className:"h-4 w-4 mr-2"}),"Friendly Tone"]}),n.jsxs(Rn,{onClick:()=>d("translate"),children:[n.jsx(Ec,{className:"h-4 w-4 mr-2"}),"Translate to English"]})]})]})},pa=v.forwardRef(({className:e,value:t,onChange:r,...s},a)=>{const[i,o]=v.useState(t||"");v.useEffect(()=>{o(t||"")},[t]);const l=d=>{o(d.target.value),r==null||r(d)},c=d=>{const u={target:{value:d}};o(d),r==null||r(u)};return n.jsxs("div",{className:"relative",children:[n.jsx("textarea",{className:ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 pr-24 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,value:i,onChange:l,...s}),n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(XK,{text:i.toString(),onTextEnhanced:c,variant:"ghost",size:"sm"})})]})});pa.displayName="EnhancedTextarea";const Ms=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:ve("w-full caption-bottom text-sm",e),...t})}));Ms.displayName="Table";const Fs=v.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:ve("[&_tr]:border-b",e),...t}));Fs.displayName="TableHeader";const $s=v.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:ve("[&_tr:last-child]:border-0",e),...t}));$s.displayName="TableBody";const QLe=v.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:ve("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));QLe.displayName="TableFooter";const Bt=v.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:ve("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Bt.displayName="TableRow";const Pe=v.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:ve("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Pe.displayName="TableHead";const Ne=v.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:ve("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ne.displayName="TableCell";const ZLe=v.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:ve("mt-4 text-sm text-muted-foreground",e),...t}));ZLe.displayName="TableCaption";function W2(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var JLe=[" ","Enter","ArrowUp","ArrowDown"],e8e=[" ","Enter"],yy="Select",[H2,q2,t8e]=Rv(yy),[hx,Pnt]=na(yy,[t8e,Iu]),G2=Iu(),[r8e,Vu]=hx(yy),[n8e,s8e]=hx(yy),QK=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:m,required:h,form:x}=e,p=G2(t),[g,j]=v.useState(null),[y,w]=v.useState(null),[b,N]=v.useState(!1),S=fm(d),[_=!1,E]=$a({prop:s,defaultProp:a,onChange:i}),[A,T]=$a({prop:o,defaultProp:l,onChange:c}),R=v.useRef(null),I=g?x||!!g.closest("form"):!0,[z,H]=v.useState(new Set),F=Array.from(z).map(k=>k.props.value).join(";");return n.jsx(NN,{...p,children:n.jsxs(r8e,{required:h,scope:t,trigger:g,onTriggerChange:j,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:N,contentId:ci(),value:A,onValueChange:T,open:_,onOpenChange:E,dir:S,triggerPointerDownPosRef:R,disabled:m,children:[n.jsx(H2.Provider,{scope:t,children:n.jsx(n8e,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(k=>{H(P=>new Set(P).add(k))},[]),onNativeOptionRemove:v.useCallback(k=>{H(P=>{const M=new Set(P);return M.delete(k),M})},[]),children:r})}),I?n.jsxs(wY,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:f,value:A,onChange:k=>T(k.target.value),disabled:m,form:x,children:[A===void 0?n.jsx("option",{value:""}):null,Array.from(z)]},F):null]})})};QK.displayName=yy;var ZK="SelectTrigger",JK=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=G2(r),o=Vu(ZK,r),l=o.disabled||s,c=Rt(t,o.onTriggerChange),d=q2(r),u=v.useRef("touch"),[f,m,h]=NY(p=>{const g=d().filter(w=>!w.disabled),j=g.find(w=>w.value===o.value),y=_Y(g,p,j);y!==void 0&&o.onValueChange(y.value)}),x=p=>{l||(o.onOpenChange(!0),h()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return n.jsx(zv,{asChild:!0,...i,children:n.jsx(ft.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":bY(o.value)?"":void 0,...a,ref:c,onClick:He(a.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&x(p)}),onPointerDown:He(a.onPointerDown,p=>{u.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(x(p),p.preventDefault())}),onKeyDown:He(a.onKeyDown,p=>{const g=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&m(p.key),!(g&&p.key===" ")&&JLe.includes(p.key)&&(x(),p.preventDefault())})})})});JK.displayName=ZK;var eY="SelectValue",tY=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...l}=e,c=Vu(eY,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=Rt(t,c.onValueNodeChange);return is(()=>{d(u)},[d,u]),n.jsx(ft.span,{...l,ref:f,style:{pointerEvents:"none"},children:bY(c.value)?n.jsx(n.Fragment,{children:o}):i})});tY.displayName=eY;var a8e="SelectIcon",rY=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(ft.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});rY.displayName=a8e;var i8e="SelectPortal",nY=e=>n.jsx(Up,{asChild:!0,...e});nY.displayName=i8e;var sm="SelectContent",sY=v.forwardRef((e,t)=>{const r=Vu(sm,e.__scopeSelect),[s,a]=v.useState();if(is(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?pl.createPortal(n.jsx(aY,{scope:e.__scopeSelect,children:n.jsx(H2.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(iY,{...e,ref:t})});sY.displayName=sm;var Vo=10,[aY,zu]=hx(sm),o8e="SelectContentImpl",iY=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:x,hideWhenDetached:p,avoidCollisions:g,...j}=e,y=Vu(sm,r),[w,b]=v.useState(null),[N,S]=v.useState(null),_=Rt(t,fe=>b(fe)),[E,A]=v.useState(null),[T,R]=v.useState(null),I=q2(r),[z,H]=v.useState(!1),F=v.useRef(!1);v.useEffect(()=>{if(w)return Zv(w)},[w]),LN();const k=v.useCallback(fe=>{const[B,...Y]=I().map(ue=>ue.ref.current),[ie]=Y.slice(-1),we=document.activeElement;for(const ue of fe)if(ue===we||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===B&&N&&(N.scrollTop=0),ue===ie&&N&&(N.scrollTop=N.scrollHeight),ue==null||ue.focus(),document.activeElement!==we))return},[I,N]),P=v.useCallback(()=>k([E,w]),[k,E,w]);v.useEffect(()=>{z&&P()},[z,P]);const{onOpenChange:M,triggerPointerDownPosRef:O}=y;v.useEffect(()=>{if(w){let fe={x:0,y:0};const B=ie=>{var we,ue;fe={x:Math.abs(Math.round(ie.pageX)-(((we=O.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((ue=O.current)==null?void 0:ue.y)??0))}},Y=ie=>{fe.x<=10&&fe.y<=10?ie.preventDefault():w.contains(ie.target)||M(!1),document.removeEventListener("pointermove",B),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",B),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",Y,{capture:!0})}}},[w,M,O]),v.useEffect(()=>{const fe=()=>M(!1);return window.addEventListener("blur",fe),window.addEventListener("resize",fe),()=>{window.removeEventListener("blur",fe),window.removeEventListener("resize",fe)}},[M]);const[K,ne]=NY(fe=>{const B=I().filter(we=>!we.disabled),Y=B.find(we=>we.ref.current===document.activeElement),ie=_Y(B,fe,Y);ie&&setTimeout(()=>ie.ref.current.focus())}),D=v.useCallback((fe,B,Y)=>{const ie=!F.current&&!Y;(y.value!==void 0&&y.value===B||ie)&&(A(fe),ie&&(F.current=!0))},[y.value]),U=v.useCallback(()=>w==null?void 0:w.focus(),[w]),L=v.useCallback((fe,B,Y)=>{const ie=!F.current&&!Y;(y.value!==void 0&&y.value===B||ie)&&R(fe)},[y.value]),G=s==="popper"?nP:oY,le=G===nP?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:x,hideWhenDetached:p,avoidCollisions:g}:{};return n.jsx(aY,{scope:r,content:w,viewport:N,onViewportChange:S,itemRefCallback:D,selectedItem:E,onItemLeave:U,itemTextRefCallback:L,focusSelectedItem:P,selectedItemText:T,position:s,isPositioned:z,searchRef:K,children:n.jsx(Jv,{as:ec,allowPinchZoom:!0,children:n.jsx(Qv,{asChild:!0,trapped:y.open,onMountAutoFocus:fe=>{fe.preventDefault()},onUnmountAutoFocus:He(a,fe=>{var B;(B=y.trigger)==null||B.focus({preventScroll:!0}),fe.preventDefault()}),children:n.jsx(um,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:fe=>fe.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:n.jsx(G,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:fe=>fe.preventDefault(),...j,...le,onPlaced:()=>H(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:He(j.onKeyDown,fe=>{const B=fe.ctrlKey||fe.altKey||fe.metaKey;if(fe.key==="Tab"&&fe.preventDefault(),!B&&fe.key.length===1&&ne(fe.key),["ArrowUp","ArrowDown","Home","End"].includes(fe.key)){let ie=I().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(fe.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(fe.key)){const we=fe.target,ue=ie.indexOf(we);ie=ie.slice(ue+1)}setTimeout(()=>k(ie)),fe.preventDefault()}})})})})})})});iY.displayName=o8e;var l8e="SelectItemAlignedPosition",oY=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=Vu(sm,r),o=zu(sm,r),[l,c]=v.useState(null),[d,u]=v.useState(null),f=Rt(t,_=>u(_)),m=q2(r),h=v.useRef(!1),x=v.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:j,focusSelectedItem:y}=o,w=v.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&p&&g&&j){const _=i.trigger.getBoundingClientRect(),E=d.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),T=j.getBoundingClientRect();if(i.dir!=="rtl"){const we=T.left-E.left,ue=A.left-we,ge=_.left-ue,xe=_.width+ge,_e=Math.max(xe,E.width),Re=window.innerWidth-Vo,ke=pE(ue,[Vo,Math.max(Vo,Re-_e)]);l.style.minWidth=xe+"px",l.style.left=ke+"px"}else{const we=E.right-T.right,ue=window.innerWidth-A.right-we,ge=window.innerWidth-_.right-ue,xe=_.width+ge,_e=Math.max(xe,E.width),Re=window.innerWidth-Vo,ke=pE(ue,[Vo,Math.max(Vo,Re-_e)]);l.style.minWidth=xe+"px",l.style.right=ke+"px"}const R=m(),I=window.innerHeight-Vo*2,z=p.scrollHeight,H=window.getComputedStyle(d),F=parseInt(H.borderTopWidth,10),k=parseInt(H.paddingTop,10),P=parseInt(H.borderBottomWidth,10),M=parseInt(H.paddingBottom,10),O=F+k+z+M+P,K=Math.min(g.offsetHeight*5,O),ne=window.getComputedStyle(p),D=parseInt(ne.paddingTop,10),U=parseInt(ne.paddingBottom,10),L=_.top+_.height/2-Vo,G=I-L,le=g.offsetHeight/2,fe=g.offsetTop+le,B=F+k+fe,Y=O-B;if(B<=L){const we=R.length>0&&g===R[R.length-1].ref.current;l.style.bottom="0px";const ue=d.clientHeight-p.offsetTop-p.offsetHeight,ge=Math.max(G,le+(we?U:0)+ue+P),xe=B+ge;l.style.height=xe+"px"}else{const we=R.length>0&&g===R[0].ref.current;l.style.top="0px";const ge=Math.max(L,F+p.offsetTop+(we?D:0)+le)+Y;l.style.height=ge+"px",p.scrollTop=B-L+p.offsetTop}l.style.margin=`${Vo}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=I+"px",s==null||s(),requestAnimationFrame(()=>h.current=!0)}},[m,i.trigger,i.valueNode,l,d,p,g,j,i.dir,s]);is(()=>w(),[w]);const[b,N]=v.useState();is(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const S=v.useCallback(_=>{_&&x.current===!0&&(w(),y==null||y(),x.current=!1)},[w,y]);return n.jsx(d8e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:S,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:n.jsx(ft.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});oY.displayName=l8e;var c8e="SelectPopperPosition",nP=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=Vo,...i}=e,o=G2(r);return n.jsx(_N,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});nP.displayName=c8e;var[d8e,t3]=hx(sm,{}),sP="SelectViewport",lY=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,i=zu(sP,r),o=t3(sP,r),l=Rt(t,i.onViewportChange),c=v.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(H2.Slot,{scope:r,children:n.jsx(ft.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:He(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const h=Math.abs(c.current-u.scrollTop);if(h>0){const x=window.innerHeight-Vo*2,p=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),j=Math.max(p,g);if(j<x){const y=j+h,w=Math.min(x,y),b=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(u.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});lY.displayName=sP;var cY="SelectGroup",[u8e,f8e]=hx(cY),m8e=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=ci();return n.jsx(u8e,{scope:r,id:a,children:n.jsx(ft.div,{role:"group","aria-labelledby":a,...s,ref:t})})});m8e.displayName=cY;var dY="SelectLabel",uY=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=f8e(dY,r);return n.jsx(ft.div,{id:a.id,...s,ref:t})});uY.displayName=dY;var _w="SelectItem",[h8e,fY]=hx(_w),mY=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,l=Vu(_w,r),c=zu(_w,r),d=l.value===s,[u,f]=v.useState(i??""),[m,h]=v.useState(!1),x=Rt(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,s,a)}),p=ci(),g=v.useRef("touch"),j=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(h8e,{scope:r,value:s,disabled:a,textId:p,isSelected:d,onItemTextChange:v.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:n.jsx(H2.ItemSlot,{scope:r,value:s,disabled:a,textValue:u,children:n.jsx(ft.div,{role:"option","aria-labelledby":p,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:He(o.onFocus,()=>h(!0)),onBlur:He(o.onBlur,()=>h(!1)),onClick:He(o.onClick,()=>{g.current!=="mouse"&&j()}),onPointerUp:He(o.onPointerUp,()=>{g.current==="mouse"&&j()}),onPointerDown:He(o.onPointerDown,y=>{g.current=y.pointerType}),onPointerMove:He(o.onPointerMove,y=>{var w;g.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):g.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:He(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:He(o.onKeyDown,y=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&y.key===" "||(e8e.includes(y.key)&&j(),y.key===" "&&y.preventDefault())})})})})});mY.displayName=_w;var hg="SelectItemText",hY=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=Vu(hg,r),l=zu(hg,r),c=fY(hg,r),d=s8e(hg,r),[u,f]=v.useState(null),m=Rt(t,j=>f(j),c.onItemTextChange,j=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,j,c.value,c.disabled)}),h=u==null?void 0:u.textContent,x=v.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=d;return is(()=>(p(x),()=>g(x)),[p,g,x]),n.jsxs(n.Fragment,{children:[n.jsx(ft.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?pl.createPortal(i.children,o.valueNode):null]})});hY.displayName=hg;var pY="SelectItemIndicator",xY=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return fY(pY,r).isSelected?n.jsx(ft.span,{"aria-hidden":!0,...s,ref:t}):null});xY.displayName=pY;var aP="SelectScrollUpButton",gY=v.forwardRef((e,t)=>{const r=zu(aP,e.__scopeSelect),s=t3(aP,e.__scopeSelect),[a,i]=v.useState(!1),o=Rt(t,s.onScrollButtonChange);return is(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(yY,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});gY.displayName=aP;var iP="SelectScrollDownButton",vY=v.forwardRef((e,t)=>{const r=zu(iP,e.__scopeSelect),s=t3(iP,e.__scopeSelect),[a,i]=v.useState(!1),o=Rt(t,s.onScrollButtonChange);return is(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(yY,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});vY.displayName=iP;var yY=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=zu("SelectScrollButton",r),o=v.useRef(null),l=q2(r),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),is(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(ft.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:He(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:He(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:He(a.onPointerLeave,()=>{c()})})}),p8e="SelectSeparator",jY=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(ft.div,{"aria-hidden":!0,...s,ref:t})});jY.displayName=p8e;var oP="SelectArrow",x8e=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=G2(r),i=Vu(oP,r),o=zu(oP,r);return i.open&&o.position==="popper"?n.jsx(SN,{...a,...s,ref:t}):null});x8e.displayName=oP;function bY(e){return e===""||e===void 0}var wY=v.forwardRef((e,t)=>{const{value:r,...s}=e,a=v.useRef(null),i=Rt(t,a),o=W2(r);return v.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&u){const f=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(f)}},[o,r]),n.jsx(Mv,{asChild:!0,children:n.jsx("select",{...s,ref:i,defaultValue:r})})});wY.displayName="BubbleSelect";function NY(e){const t=hn(e),r=v.useRef(""),s=v.useRef(0),a=v.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=v.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function _Y(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=g8e(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function g8e(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var v8e=QK,SY=JK,y8e=tY,j8e=rY,b8e=nY,CY=sY,w8e=lY,EY=uY,AY=mY,N8e=hY,_8e=xY,PY=gY,kY=vY,TY=jY;const st=v8e,at=y8e,rt=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(SY,{ref:s,className:ve("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(j8e,{asChild:!0,children:n.jsx(Du,{className:"h-4 w-4 opacity-50"})})]}));rt.displayName=SY.displayName;const OY=v.forwardRef(({className:e,...t},r)=>n.jsx(PY,{ref:r,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(vN,{className:"h-4 w-4"})}));OY.displayName=PY.displayName;const DY=v.forwardRef(({className:e,...t},r)=>n.jsx(kY,{ref:r,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Du,{className:"h-4 w-4"})}));DY.displayName=kY.displayName;const nt=v.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(b8e,{children:n.jsxs(CY,{ref:a,className:ve("relative z-[9999] max-h-96 overflow-hidden rounded-lg border border-border/50 bg-popover backdrop-blur-xl text-popover-foreground shadow-2xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,sideOffset:4,...s,children:[n.jsx(OY,{}),n.jsx(w8e,{className:ve("p-2 min-w-[12rem]",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full"),children:t}),n.jsx(DY,{})]})}));nt.displayName=CY.displayName;const S8e=v.forwardRef(({className:e,...t},r)=>n.jsx(EY,{ref:r,className:ve("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));S8e.displayName=EY.displayName;const J=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(AY,{ref:s,className:ve("relative flex w-full cursor-pointer select-none items-center rounded-md py-2.5 px-3 text-sm font-medium outline-none","hover:bg-accent/80 hover:text-accent-foreground focus:bg-accent/80 focus:text-accent-foreground","data-[disabled]:pointer-events-none data-[disabled]:opacity-50","transition-colors duration-150",e),...r,children:[n.jsx("span",{className:"absolute left-3 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(_8e,{children:n.jsx(yo,{className:"h-4 w-4 text-primary"})})}),n.jsx(N8e,{className:"pl-6",children:t})]}));J.displayName=AY.displayName;const C8e=v.forwardRef(({className:e,...t},r)=>n.jsx(TY,{ref:r,className:ve("my-1.5 h-px bg-border/50",e),...t}));C8e.displayName=TY.displayName;var IY="AlertDialog",[E8e,knt]=na(IY,[$z]),xd=$z(),RY=e=>{const{__scopeAlertDialog:t,...r}=e,s=xd(t);return n.jsx(_T,{...s,...r,modal:!0})};RY.displayName=IY;var A8e="AlertDialogTrigger",MY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=xd(r);return n.jsx(eW,{...a,...s,ref:t})});MY.displayName=A8e;var P8e="AlertDialogPortal",FY=e=>{const{__scopeAlertDialog:t,...r}=e,s=xd(t);return n.jsx(ST,{...s,...r})};FY.displayName=P8e;var k8e="AlertDialogOverlay",$Y=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=xd(r);return n.jsx(sy,{...a,...s,ref:t})});$Y.displayName=k8e;var Ch="AlertDialogContent",[T8e,O8e]=E8e(Ch),LY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...a}=e,i=xd(r),o=v.useRef(null),l=Rt(t,o),c=v.useRef(null);return n.jsx(Vme,{contentName:Ch,titleName:BY,docsSlug:"alert-dialog",children:n.jsx(T8e,{scope:r,cancelRef:c,children:n.jsxs(ay,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:He(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[n.jsx(yk,{children:s}),n.jsx(I8e,{contentRef:o})]})})})});LY.displayName=Ch;var BY="AlertDialogTitle",UY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=xd(r);return n.jsx(iy,{...a,...s,ref:t})});UY.displayName=BY;var VY="AlertDialogDescription",zY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=xd(r);return n.jsx(oy,{...a,...s,ref:t})});zY.displayName=VY;var D8e="AlertDialogAction",WY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=xd(r);return n.jsx(WN,{...a,...s,ref:t})});WY.displayName=D8e;var HY="AlertDialogCancel",qY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=O8e(HY,r),i=xd(r),o=Rt(t,a);return n.jsx(WN,{...i,...s,ref:o})});qY.displayName=HY;var I8e=({contentRef:e})=>{const t=`\`${Ch}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ch}\` by passing a \`${VY}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ch}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},R8e=RY,M8e=MY,F8e=FY,GY=$Y,KY=LY,YY=WY,XY=qY,QY=UY,ZY=zY;const fc=R8e,JY=M8e,$8e=F8e,eX=v.forwardRef(({className:e,...t},r)=>n.jsx(GY,{className:ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));eX.displayName=GY.displayName;const yl=v.forwardRef(({className:e,...t},r)=>n.jsxs($8e,{children:[n.jsx(eX,{}),n.jsx(KY,{ref:r,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));yl.displayName=KY.displayName;const jl=({className:e,...t})=>n.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",e),...t});jl.displayName="AlertDialogHeader";const bl=({className:e,...t})=>n.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});bl.displayName="AlertDialogFooter";const wl=v.forwardRef(({className:e,...t},r)=>n.jsx(QY,{ref:r,className:ve("text-lg font-semibold",e),...t}));wl.displayName=QY.displayName;const Nl=v.forwardRef(({className:e,...t},r)=>n.jsx(ZY,{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));Nl.displayName=ZY.displayName;const _l=v.forwardRef(({className:e,...t},r)=>n.jsx(YY,{ref:r,className:ve(b0(),e),...t}));_l.displayName=YY.displayName;const Sl=v.forwardRef(({className:e,...t},r)=>n.jsx(XY,{ref:r,className:ve(b0({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Sl.displayName=XY.displayName;const Ea=cr.create({baseURL:ro,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1,validateStatus:e=>e<500});Ea.interceptors.request.use(e=>(e.metadata={startTime:Date.now()},e),e=>Promise.reject(e));Ea.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));let kj=!1,lP=[];const ZS=(e,t=null)=>{lP.forEach(r=>{e?r.reject(e):r.resolve(t)}),lP=[]};Ea.interceptors.response.use(e=>e,async e=>{var r,s;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if(kj)return new Promise((i,o)=>{lP.push({resolve:i,reject:o})}).then(i=>(t.headers&&(t.headers.Authorization=`Bearer ${i}`),Ea(t))).catch(i=>Promise.reject(i));t._retry=!0,kj=!0;const a=localStorage.getItem("refresh_token");if(!a)return kj=!1,ZS(e,null),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),Promise.reject(e);try{const i=await cr.post(`${Kv}/refresh/`,{refresh:a},{timeout:1e4}),{access:o}=i.data;return localStorage.setItem("access_token",o),t.headers&&(t.headers.Authorization=`Bearer ${o}`),ZS(null,o),Ea(t)}catch(i){return ZS(i,null),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),Promise.reject(i)}finally{kj=!1}}if((s=e.response)!=null&&s.data){const a=e.response.data,i=a.error||a.detail||a.message||"An error occurred";return Promise.reject(new Error(i))}return Promise.reject(e)});const jy={async getClients(e){return(await Ea.get("/clients/",{params:e,signal:new AbortController().signal})).data},async getClient(e){return(await Ea.get(`/clients/${e}/`,{headers:{"Cache-Control":"max-age=300"}})).data},async createClient(e){return(await Ea.post("/clients/",e)).data},async updateClient(e,t){return(await Ea.patch(`/clients/${e}/`,t)).data},async deleteClient(e){await Ea.delete(`/clients/${e}/`)},async replaceClient(e,t){return(await Ea.put(`/clients/${e}/`,t)).data},async batchGetClients(e){const t=e.map(r=>this.getClient(r));return Promise.all(t)},async checkEmailExists(e){try{return(await Ea.get("/clients/",{params:{search:e}})).data.results.some(r=>r.email===e)}catch{return!1}},async getClientApartments(e){return(await Ea.get(`/clients/${e}/apartments/`)).data},async getClientProducts(e){return(await Ea.get(`/clients/${e}/products/`)).data},async getClientDetails(e){return(await Ea.get(`/clients/${e}/details/`)).data}},Zo={all:["clients"],lists:()=>[...Zo.all,"list"],list:e=>[...Zo.lists(),e],details:()=>[...Zo.all,"detail"],detail:e=>[...Zo.details(),e]};function L8e(e,t){const[r,s]=v.useState(e);return v.useEffect(()=>{const a=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function K2(e,t){const r=L8e(e==null?void 0:e.search,300),s={...e,search:r};return _s({queryKey:Zo.list(s),queryFn:()=>jy.getClients(s),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:a=>a,...t})}function B8e(){const e=Hr(),{toast:t}=gr();return cn({mutationFn:r=>jy.createClient(r),onMutate:async r=>{await e.cancelQueries({queryKey:Zo.all});const s=e.getQueryData(Zo.all),a={id:`temp-${Date.now()}`,...r,apartments_count:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return e.setQueriesData({queryKey:Zo.lists()},i=>i&&{...i,results:[a,...i.results||[]],count:(i.count||0)+1}),{previousClients:s,optimisticClient:a}},onError:(r,s,a)=>{a!=null&&a.previousClients&&e.setQueryData(Zo.all,a.previousClients),t({title:"Error creating client",description:r.message||"Something went wrong",variant:"destructive"})},onSuccess:r=>{t({title:"Client created",description:`${r.name} has been created successfully.`})},onSettled:()=>{e.invalidateQueries({queryKey:Zo.all})}})}function tX(){const e=Hr(),{toast:t}=gr();return cn({mutationFn:({id:r,data:s})=>jy.updateClient(r,s),onSuccess:r=>{e.invalidateQueries({queryKey:Zo.detail(r.id)}),e.invalidateQueries({queryKey:["clients"]}),t({title:"Client updated",description:`${r.name} has been updated successfully.`})},onError:r=>{t({title:"Error updating client",description:r.message||"Something went wrong",variant:"destructive"})}})}function U8e(){const e=Hr(),{toast:t}=gr();return cn({mutationFn:({id:r,name:s})=>jy.deleteClient(r).then(()=>({id:r,name:s})),onSuccess:r=>{e.invalidateQueries({queryKey:["clients"]}),t({title:"Client deleted",description:`${r.name} has been deleted successfully.`})},onError:r=>{t({title:"Error deleting client",description:r.message||"Something went wrong",variant:"destructive"})}})}const V8e=()=>{const e=mr(),{toast:t}=gr(),[r,s]=v.useState(""),[a,i]=v.useState("all"),[o,l]=v.useState("all"),[c,d]=v.useState(!1),[u,f]=v.useState(null),[m,h]=v.useState(!1),[x,p]=v.useState(null),{data:g,isLoading:j,error:y,refetch:w}=K2({search:r||void 0,account_status:a!=="all"?a:void 0,type:o!=="all"?o:void 0}),b=B8e(),N=tX(),S=U8e(),_=v.useMemo(()=>(g==null?void 0:g.results)||[],[g==null?void 0:g.results]),[E,A]=v.useState({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""}),T=_,R=v.useMemo(()=>{const O=(g==null?void 0:g.results)||[],K=O.length,ne=O.filter(fe=>fe.account_status==="Active").length,D=O.filter(fe=>fe.account_status==="Inactive").length,U=O.filter(fe=>fe.type==="Investor").length,L=O.filter(fe=>fe.type==="Buy2Rent Internal").length,G=O.reduce((fe,B)=>fe+(B.apartments_count||0),0),le=K>0?(G/K).toFixed(1):"0";return{totalClients:K,activeClients:ne,inactiveClients:D,investorClients:U,internalClients:L,totalApartments:G,avgApartmentsPerClient:le}},[g==null?void 0:g.results]),I=v.useCallback(O=>{s(O.target.value)},[]),z=O=>{if(O){const K=_.find(ne=>ne.id===O);K&&(f(O),A({name:K.name,email:K.email,phone:K.phone||"",account_status:K.account_status,type:K.type,notes:K.notes||""}))}else f(null),A({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""});d(!0)},H=async O=>{if(O.preventDefault(),console.log("Form submitted with data:",E),!E.name.trim()||!E.email.trim()){t({title:"Validation Error",description:"Name and email are required.",variant:"destructive"});return}try{u?(console.log("Updating client:",u),await N.mutateAsync({id:u,data:E}),t({title:"Success",description:"Client updated successfully"})):(console.log("Creating new client:",E),await b.mutateAsync(E),t({title:"Success",description:"Client created successfully"})),d(!1),f(null),A({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""})}catch(K){console.error("Error submitting form:",K)}},F=(O,K)=>{const ne=_.find(U=>U.id===O),D=(ne==null?void 0:ne.apartments_count)??0;if(D>0){t({title:"Cannot delete client",description:`${K} has ${D} apartment(s) associated. Please reassign or delete the apartments first.`,variant:"destructive"});return}p({id:O,name:K}),h(!0)},k=async()=>{if(x)try{await S.mutateAsync({id:x.id,name:x.name}),t({title:"Success",description:`Client "${x.name}" deleted successfully`})}catch{}finally{h(!1),p(null)}},P=O=>{e(`/clients/${O}`)},M=O=>O==="Active"?"bg-success/10 text-success border-success/20":"bg-muted text-muted-foreground border-border/50";return j?n.jsx(ct,{title:"Clients",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(C,{className:"h-10 w-64"}),n.jsx(C,{className:"h-10 w-32"})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-48"})}),n.jsx(Q,{children:n.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(O=>n.jsx(C,{className:"h-16 w-full"},O))})})]})]})}):y?n.jsx(ct,{title:"Clients",children:n.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[n.jsxs("p",{className:"text-destructive mb-4",children:["Failed to load clients: ",y.message]}),n.jsxs(te,{onClick:()=>w(),variant:"outline",children:[n.jsx(Tf,{className:"mr-2 h-4 w-4"}),"Retry"]})]})}):n.jsx(ct,{title:"Clients",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-muted/20",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Total Clients"}),n.jsx("p",{className:"text-2xl font-bold mt-1",children:R.totalClients})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx(Qc,{className:"h-5 w-5 text-primary"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-green-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Active"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-green-600",children:R.activeClients})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-green-500/10 flex items-center justify-center",children:n.jsx(v7,{className:"h-5 w-5 text-green-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-red-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Inactive"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-red-500",children:R.inactiveClients})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-red-500/10 flex items-center justify-center",children:n.jsx(y7,{className:"h-5 w-5 text-red-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-violet-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Investors"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-violet-600",children:R.investorClients})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-violet-500/10 flex items-center justify-center",children:n.jsx(i7,{className:"h-5 w-5 text-violet-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-emerald-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Apartments"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-emerald-600",children:R.totalApartments})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-500/10 flex items-center justify-center",children:n.jsx(f7,{className:"h-5 w-5 text-emerald-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-amber-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Avg/Client"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-amber-600",children:R.avgApartmentsPerClient})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-amber-500/10 flex items-center justify-center",children:n.jsx(li,{className:"h-5 w-5 text-amber-500"})})]})})})]}),n.jsx("div",{className:"flex flex-col gap-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-stretch sm:items-center",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(ha,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/70 pointer-events-none z-10"}),n.jsx(me,{placeholder:"Search by name or email...",value:r,onChange:I,className:"pl-10 h-11 bg-muted/30 border-border/50 focus:bg-background transition-colors",autoComplete:"off"},"client-search-input")]}),n.jsxs("div",{className:"flex gap-2 flex-wrap sm:flex-nowrap",children:[n.jsxs(st,{value:a,onValueChange:i,children:[n.jsx(rt,{className:"w-full sm:w-[140px] h-11 bg-muted/30 border-border/50",children:n.jsx(at,{placeholder:"Status"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"all",children:"All Status"}),n.jsx(J,{value:"Active",children:"Active"}),n.jsx(J,{value:"Inactive",children:"Inactive"})]})]}),n.jsxs(st,{value:o,onValueChange:l,children:[n.jsx(rt,{className:"w-full sm:w-[160px] h-11 bg-muted/30 border-border/50",children:n.jsx(at,{placeholder:"Type"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"all",children:"All Types"}),n.jsx(J,{value:"Individual",children:"Individual"}),n.jsx(J,{value:"Company",children:"Company"})]})]}),n.jsxs(Pn,{open:c,onOpenChange:d,children:[n.jsx(Rpe,{asChild:!0,children:n.jsxs(te,{onClick:()=>z(),className:"h-11 w-full sm:w-auto",children:[n.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Add Client"]})}),n.jsx(vn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:n.jsxs("form",{onSubmit:H,children:[n.jsx(kn,{className:"pb-4 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsxs("div",{children:[n.jsx(Tn,{className:"text-xl",children:u?"Edit Client":"Add New Client"}),n.jsx(Bs,{className:"text-sm",children:u?"Update client information":"Create a new client profile"})]})]})}),n.jsxs("div",{className:"grid gap-6 py-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Basic Information"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"name",className:"text-sm font-medium",children:"Full Name *"}),n.jsx(me,{id:"name",value:E.name,onChange:O=>A({...E,name:O.target.value}),placeholder:"John Doe",className:"h-11"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Contact Information"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"email",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Email *"]}),n.jsx(me,{id:"email",type:"email",value:E.email,onChange:O=>A({...E,email:O.target.value}),placeholder:"john@example.com",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"phone",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Phone"]}),n.jsx(me,{id:"phone",value:E.phone,onChange:O=>A({...E,phone:O.target.value}),placeholder:"+36 20 123 4567",className:"h-11"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Account Settings"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"type",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Client Type"]}),n.jsxs(st,{value:E.type,onValueChange:O=>A({...E,type:O}),children:[n.jsx(rt,{id:"type",className:"h-11",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"Investor",children:"Investor"}),n.jsx(J,{value:"Buy2Rent Internal",children:"Buy2Rent Internal"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"status",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Account Status"]}),n.jsxs(st,{value:E.account_status,onValueChange:O=>A({...E,account_status:O}),children:[n.jsx(rt,{id:"status",className:"h-11",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"Active",children:"Active"}),n.jsx(J,{value:"Inactive",children:"Inactive"}),n.jsx(J,{value:"Suspended",children:"Suspended"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Additional Information"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"notes",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Notes"]}),n.jsx(pa,{id:"notes",value:E.notes,onChange:O=>A({...E,notes:O.target.value}),placeholder:"Add any additional notes or comments about this client...",rows:4,className:"resize-none"})]})]})]}),n.jsxs(vi,{className:"pt-6 border-t border-border/50 gap-3",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>d(!1),className:"flex-1 h-11",children:"Cancel"}),n.jsxs(te,{type:"submit",className:"flex-1 h-11 bg-primary hover:bg-primary/90",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),u?"Save Changes":"Create Client"]})]})]})})]})]})]})}),n.jsxs(X,{className:"border-border/50",children:[n.jsx(be,{className:"border-b border-border/50 bg-muted/20",children:n.jsxs(Ve,{className:"text-lg font-semibold",children:["All Clients (",T.length,")"]})}),n.jsx(Q,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Bt,{className:"hover:bg-transparent border-b border-border/50",children:[n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Name"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Type"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Email"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Phone"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Status"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Apartments"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Notes"}),n.jsx(Pe,{className:"text-right font-semibold text-foreground/90",children:"Actions"})]})}),n.jsx($s,{children:T.length===0?n.jsx(Bt,{className:"hover:bg-transparent",children:n.jsx(Ne,{colSpan:8,className:"text-center py-12 text-muted-foreground",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(ha,{className:"h-8 w-8 text-muted-foreground/50"}),n.jsx("p",{className:"font-medium",children:"No clients found"}),n.jsx("p",{className:"text-sm",children:"Try adjusting your filters or add a new client."})]})})}):T.map(O=>{const K=O.apartments_count??0;return n.jsxs(Bt,{className:"hover:bg-muted/30 transition-colors border-b border-border/30 last:border-0",children:[n.jsx(Ne,{className:"font-medium text-foreground py-4",children:O.name}),n.jsx(Ne,{className:"py-4",children:n.jsx(Ce,{variant:"outline",className:"capitalize border-border/50 bg-muted/40",children:O.type})}),n.jsx(Ne,{className:"text-muted-foreground py-4",children:O.email}),n.jsx(Ne,{className:"text-muted-foreground py-4",children:O.phone}),n.jsx(Ne,{className:"py-4",children:n.jsx(Ce,{className:M(O.account_status),children:O.account_status})}),n.jsx(Ne,{className:"py-4",children:n.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[n.jsx(fr,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:K})]})}),n.jsx(Ne,{className:"max-w-[200px] truncate text-muted-foreground py-4",children:O.notes||"-"}),n.jsx(Ne,{className:"text-right py-4",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(te,{size:"sm",variant:"ghost",onClick:()=>P(O.id),className:"hover:bg-primary/10 hover:text-primary",title:"View Details",children:n.jsx(oi,{className:"h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",onClick:()=>z(O.id),className:"hover:bg-muted/50 hover:text-foreground",title:"Edit Client",children:n.jsx(Zs,{className:"h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",onClick:()=>F(O.id,O.name),className:"hover:bg-destructive/10 hover:text-destructive",title:"Delete Client",children:n.jsx(pn,{className:"h-4 w-4"})})]})})]},O.id)})})]})})})]}),n.jsx(fc,{open:m,onOpenChange:h,children:n.jsxs(yl,{children:[n.jsx(jl,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(dl,{className:"h-6 w-6 text-destructive"})}),n.jsxs("div",{children:[n.jsx(wl,{className:"text-xl",children:"Delete Client"}),n.jsx(Nl,{className:"mt-1",children:"This action cannot be undone."})]})]})}),n.jsx("div",{className:"py-4",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to delete"," ",n.jsxs("span",{className:"font-semibold text-foreground",children:['"',x==null?void 0:x.name,'"']}),"? This will permanently remove the client from the system."]})}),n.jsxs(bl,{children:[n.jsx(Sl,{autoFocus:!1,children:"Cancel"}),n.jsx(_l,{onClick:k,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",autoFocus:!0,children:"Delete Client"})]})]})})]})})};var r3="Tabs",[z8e,Tnt]=na(r3,[Zp]),rX=Zp(),[W8e,n3]=z8e(r3),nX=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=fm(l),[f,m]=$a({prop:s,onChange:a,defaultProp:i});return n.jsx(W8e,{scope:r,baseId:ci(),value:f,onValueChange:m,orientation:o,dir:u,activationMode:c,children:n.jsx(ft.div,{dir:u,"data-orientation":o,...d,ref:t})})});nX.displayName=r3;var sX="TabsList",aX=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,i=n3(sX,r),o=rX(r);return n.jsx(lT,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(ft.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});aX.displayName=sX;var iX="TabsTrigger",oX=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...i}=e,o=n3(iX,r),l=rX(r),c=dX(o.baseId,s),d=uX(o.baseId,s),u=s===o.value;return n.jsx(cT,{asChild:!0,...l,focusable:!a,active:u,children:n.jsx(ft.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:He(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:He(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:He(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(s)})})})});oX.displayName=iX;var lX="TabsContent",cX=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:i,...o}=e,l=n3(lX,r),c=dX(l.baseId,s),d=uX(l.baseId,s),u=s===l.value,f=v.useRef(u);return v.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),n.jsx(ls,{present:a||u,children:({present:m})=>n.jsx(ft.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});cX.displayName=lX;function dX(e,t){return`${e}-trigger-${t}`}function uX(e,t){return`${e}-content-${t}`}var H8e=nX,fX=aX,mX=oX,hX=cX;const Ro=H8e,no=v.forwardRef(({className:e,...t},r)=>n.jsx(fX,{ref:r,className:ve("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));no.displayName=fX.displayName;const Ut=v.forwardRef(({className:e,...t},r)=>n.jsx(mX,{ref:r,className:ve("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ut.displayName=mX.displayName;const Qt=v.forwardRef(({className:e,...t},r)=>n.jsx(hX,{ref:r,className:ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Qt.displayName=hX.displayName;function q8e(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,G8e(a,...t)]}function G8e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var s3="Progress",a3=100,[K8e,Ont]=q8e(s3),[Y8e,X8e]=K8e(s3),pX=v.forwardRef((e,t)=>{const{__scopeProgress:r,value:s=null,max:a,getValueLabel:i=Q8e,...o}=e;(a||a===0)&&!D$(a)&&console.error(Z8e(`${a}`,"Progress"));const l=D$(a)?a:a3;s!==null&&!I$(s,l)&&console.error(J8e(`${s}`,"Progress"));const c=I$(s,l)?s:null,d=Sw(c)?i(c,l):void 0;return n.jsx(Y8e,{scope:r,value:c,max:l,children:n.jsx(ft.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Sw(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":vX(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});pX.displayName=s3;var xX="ProgressIndicator",gX=v.forwardRef((e,t)=>{const{__scopeProgress:r,...s}=e,a=X8e(xX,r);return n.jsx(ft.div,{"data-state":vX(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});gX.displayName=xX;function Q8e(e,t){return`${Math.round(e/t*100)}%`}function vX(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Sw(e){return typeof e=="number"}function D$(e){return Sw(e)&&!isNaN(e)&&e>0}function I$(e,t){return Sw(e)&&!isNaN(e)&&e<=t&&e>=0}function Z8e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${a3}\`.`}function J8e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${a3} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var yX=pX,eBe=gX;const Y2=v.forwardRef(({className:e,value:t,...r},s)=>n.jsx(yX,{ref:s,className:ve("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:n.jsx(eBe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Y2.displayName=yX.displayName;const Sn=v.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Sn.displayName="Textarea";const Ua=v.forwardRef(({...e},t)=>n.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));Ua.displayName="Breadcrumb";const Va=v.forwardRef(({className:e,...t},r)=>n.jsx("ol",{ref:r,className:ve("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));Va.displayName="BreadcrumbList";const rr=v.forwardRef(({className:e,...t},r)=>n.jsx("li",{ref:r,className:ve("inline-flex items-center gap-1.5",e),...t}));rr.displayName="BreadcrumbItem";const Jn=v.forwardRef(({asChild:e,className:t,...r},s)=>{const a=e?ec:"a";return n.jsx(a,{ref:s,className:ve("transition-colors hover:text-foreground",t),...r})});Jn.displayName="BreadcrumbLink";const ji=v.forwardRef(({className:e,...t},r)=>n.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:ve("font-normal text-foreground",e),...t}));ji.displayName="BreadcrumbPage";const Cn=({children:e,className:t,...r})=>n.jsx("li",{role:"presentation","aria-hidden":"true",className:ve("[&>svg]:size-3.5",t),...r,children:e??n.jsx(gu,{})});Cn.displayName="BreadcrumbSeparator";const tBe=()=>n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-4 w-2"}),n.jsx(C,{className:"h-4 w-32"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-9 w-20 rounded-md"}),n.jsx(C,{className:"h-9 w-24 rounded-md"})]})]}),n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/5 via-primary/3 to-background border border-border/50",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-white/5 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.5))]"}),n.jsxs("div",{className:"relative p-8",children:[n.jsx(C,{className:"h-9 w-24 rounded-md absolute top-4 left-4"}),n.jsxs("div",{className:"flex items-start gap-6 mt-8",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-primary/20 to-primary/10 animate-pulse"}),n.jsx(C,{className:"absolute -bottom-2 -right-2 w-8 h-8 rounded-full border-4 border-background"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(C,{className:"h-9 w-48"}),n.jsx(C,{className:"h-6 w-20 rounded-full"}),n.jsx(C,{className:"h-6 w-24 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-3 gap-6 mt-4",children:[1,2,3].map(e=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C,{className:"w-10 h-10 rounded-lg"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-3 w-12"}),n.jsx(C,{className:"h-4 w-32"})]})]},e))}),n.jsx("div",{className:"mt-4 p-3 rounded-lg bg-background/60 border border-border/50",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(C,{className:"h-4 w-4 mt-0.5"}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsx(C,{className:"h-3 w-full"}),n.jsx(C,{className:"h-3 w-3/4"})]})]})})]})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{gradient:"from-blue-500/5 to-blue-500/0",iconBg:"bg-blue-500/10",accentBg:"bg-blue-500/5"},{gradient:"from-amber-500/5 to-amber-500/0",iconBg:"bg-amber-500/10",accentBg:"bg-amber-500/5"},{gradient:"from-green-500/5 to-green-500/0",iconBg:"bg-green-500/10",accentBg:"bg-green-500/5"},{gradient:"from-orange-500/5 to-orange-500/0",iconBg:"bg-orange-500/10",accentBg:"bg-orange-500/5"}].map((e,t)=>n.jsx(X,{className:`border-border/50 bg-gradient-to-br ${e.gradient} hover:shadow-xl transition-all duration-300 group`,children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:`w-14 h-14 rounded-2xl ${e.iconBg} flex items-center justify-center group-hover:scale-110 transition-transform`,children:n.jsx(C,{className:"w-7 h-7 rounded"})}),n.jsx("div",{className:`w-10 h-10 rounded-xl ${e.accentBg} flex items-center justify-center`,children:n.jsx(C,{className:"w-5 h-5 rounded"})})]}),n.jsxs("div",{children:[n.jsx(C,{className:"h-8 w-24 mb-1"}),n.jsx(C,{className:"h-4 w-32 mb-3"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"w-2 h-2 rounded-full animate-pulse"}),n.jsx(C,{className:"h-3 w-28"})]})})]})]})},t))}),n.jsxs(X,{className:"border-border/50 bg-gradient-to-br from-card to-card/50",children:[n.jsx(be,{className:"pb-3 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(C,{className:"h-6 w-6"}),n.jsx(C,{className:"h-6 w-48"})]}),n.jsx(C,{className:"h-4 w-64 mt-1"})]}),n.jsx(C,{className:"h-6 w-20 rounded-full"})]})}),n.jsxs(Q,{className:"p-0",children:[n.jsx("div",{className:"px-6 pt-4",children:n.jsx("div",{className:"grid w-full grid-cols-3 bg-muted/50 rounded-lg p-1",children:[1,2,3].map(e=>n.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[n.jsx(C,{className:"h-4 w-4"}),n.jsx(C,{className:"h-4 w-16"})]},e))})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{gradient:"from-blue-500/10 to-blue-500/5",border:"border-blue-500/20"},{gradient:"from-green-500/10 to-green-500/5",border:"border-green-500/20"},{gradient:"from-orange-500/10 to-orange-500/5",border:"border-orange-500/20"},{gradient:"from-purple-500/10 to-purple-500/5",border:"border-purple-500/20"}].map((e,t)=>n.jsxs("div",{className:`p-4 rounded-xl bg-gradient-to-br ${e.gradient} border ${e.border}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(C,{className:"w-8 h-8 rounded-lg"}),n.jsx(C,{className:"h-3 w-20"})]}),n.jsx(C,{className:"h-7 w-16"})]},t))}),n.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-4 w-24"})]}),n.jsx(C,{className:"h-3 w-full rounded-full"}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx(C,{className:"h-3 w-20"}),n.jsx(C,{className:"h-3 w-20"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-8 w-20"}),n.jsx(C,{className:"h-8 w-20"}),n.jsx(C,{className:"h-8 w-20"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx(C,{className:"h-4 w-48 mb-3"}),n.jsx("div",{className:"h-[220px] flex items-center justify-center",children:n.jsxs("div",{className:"relative",children:[n.jsx(C,{className:"h-40 w-40 rounded-full"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"h-20 w-20 rounded-full bg-background"})})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx(C,{className:"h-4 w-40 mb-3"}),n.jsx("div",{className:"h-[220px] space-y-3 flex flex-col justify-end",children:[70,90,50,85,60].map((e,t)=>n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx(C,{className:"h-3 w-16"}),n.jsx(C,{className:"h-4 flex-1",style:{height:`${e}%`}})]},t))})]})]}),n.jsxs("div",{children:[n.jsx(C,{className:"h-5 w-32 mb-4"}),n.jsx("div",{className:"space-y-3",children:[1,2,3].map(e=>n.jsxs("div",{className:"p-5 rounded-xl bg-gradient-to-br from-card to-muted/20 border border-border/50 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center",children:n.jsx(C,{className:"w-6 h-6 rounded"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-5 w-40"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-3 w-3 rounded"}),n.jsx(C,{className:"h-3 w-56"})]})]})]}),n.jsx(C,{className:"h-6 w-28 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-4 gap-2 pt-3 border-t border-border/30",children:[1,2,3,4].map(t=>n.jsxs("div",{className:"p-2 rounded-lg bg-gradient-to-br from-muted/60 to-muted/30",children:[n.jsx(C,{className:"h-2 w-16 mb-1"}),n.jsx(C,{className:"h-4 w-20"})]},t))})]},e))})]})]})]})]})]})}),rBe=()=>{var ne,D,U,L,G,le,fe,B,Y,ie,we,ue;const{id:e}=to(),t=mr(),{toast:r}=gr();v.useState("portfolio");const[s,a]=v.useState("overview"),[i,o]=v.useState("financial"),[l,c]=v.useState("status"),[d,u]=v.useState("status"),[f,m]=v.useState(!1),[h,x]=v.useState({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""}),{data:p,isLoading:g,error:j,refetch:y}=_s({queryKey:["clientDetails",e],queryFn:()=>jy.getClientDetails(e),enabled:!!e}),w=tX(),b=p,N=p==null?void 0:p.apartments,S=(N==null?void 0:N.data)||[];N!=null&&N.count;const _=p==null?void 0:p.products,E=(_==null?void 0:_.data)||[];_!=null&&_.count;const A=(p==null?void 0:p.statistics)||{},T=(A==null?void 0:A.apartments)||{},R=(A==null?void 0:A.products)||{},I=(A==null?void 0:A.financial)||{},z=ge=>ge==="Active"?"bg-success/10 text-success border-success/20":"bg-muted text-muted-foreground border-border/50",H=ge=>({"Design Approved":"bg-primary/10 text-primary border-primary/20",Ordering:"bg-warning/10 text-warning border-warning/20",Renovating:"bg-accent/10 text-accent border-accent/20",Completed:"bg-success/10 text-success border-success/20"})[ge]||"bg-muted text-muted-foreground border-border/50",F=()=>{b&&(x({name:b.name,email:b.email,phone:b.phone||"",account_status:b.account_status,type:b.type,notes:b.notes||""}),m(!0))},k=async ge=>{if(ge.preventDefault(),!h.name.trim()||!h.email.trim()){r({title:"Validation Error",description:"Name and email are required.",variant:"destructive"});return}try{await w.mutateAsync({id:e,data:h}),r({title:"Success",description:"Client updated successfully"}),m(!1),y()}catch(xe){console.error("Error updating client:",xe)}},P=T.by_status?Object.entries(T.by_status).map(([ge,xe])=>({name:ge,value:xe,fill:ge==="Completed"?"#10b981":ge==="Renovating"?"#8b5cf6":ge==="Ordering"?"#f59e0b":"#3b82f6"})):[],M=R.by_status?Object.entries(R.by_status).map(([ge,xe])=>({name:ge,value:xe})):[],O=[{name:"Paid",value:I.total_paid||0,fill:"#10b981"},{name:"Outstanding",value:I.outstanding||0,fill:"#f59e0b"}],K=["#3b82f6","#8b5cf6","#f59e0b","#10b981","#ef4444","#06b6d4"];return g?n.jsx(tBe,{}):j||!b?n.jsx(ct,{title:"Client Not Found",children:n.jsx(X,{children:n.jsxs(Q,{className:"p-12 text-center",children:[n.jsx(Et,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Client Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:j instanceof Error?j.message:"The client you're looking for doesn't exist."}),n.jsx(te,{onClick:()=>t("/clients"),children:"Back to Clients"})]})})}):n.jsxs(ct,{title:b.name,children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(Jn,{asChild:!0,children:n.jsx(Yi,{to:"/clients",children:"Clients"})})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(ji,{children:b.name})})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(te,{variant:"outline",size:"sm",onClick:F,children:[n.jsx(Zs,{className:"mr-2 h-4 w-4"}),"Edit"]}),n.jsxs(te,{variant:"destructive",size:"sm",onClick:()=>{window.confirm(`Are you sure you want to delete "${b.name}"?`)&&t("/clients")},children:[n.jsx(pn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/5 via-primary/3 to-background border border-border/50",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-white/5 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.5))]"}),n.jsxs("div",{className:"relative p-8",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>t("/clients"),className:"absolute top-4 left-4 flex items-center gap-1",children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex items-start gap-6 mt-8",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center text-white shadow-xl",children:n.jsx(w4,{className:"h-14 w-14"})}),n.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 rounded-full bg-success border-4 border-background flex items-center justify-center",children:n.jsx(lr,{className:"h-4 w-4 text-white"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h2",{className:"text-3xl font-bold text-foreground",children:b.name}),n.jsx(Ce,{className:z(b.account_status),children:b.account_status}),n.jsxs(Ce,{variant:"secondary",children:[n.jsx(lse,{className:"h-3.5 w-3.5 mr-1"}),b.type]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-6 mt-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:n.jsx(gn,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Email"}),n.jsx("p",{className:"text-sm font-semibold",children:b.email})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-success/10 flex items-center justify-center",children:n.jsx(ko,{className:"h-5 w-5 text-success"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone"}),n.jsx("p",{className:"text-sm font-semibold",children:b.phone})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-500/10 flex items-center justify-center",children:n.jsx(on,{className:"h-5 w-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Member Since"}),n.jsx("p",{className:"text-sm font-semibold",children:Xt(new Date(b.created_at),"MMM dd, yyyy")})]})]})]}),b.notes&&n.jsx("div",{className:"mt-4 p-3 rounded-lg bg-background/60 border border-border/50",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx($n,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.notes})]})})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-blue-500/5 to-blue-500/0 hover:shadow-xl transition-all duration-300 group",children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:n.jsx(fr,{className:"h-7 w-7 text-blue-600"})}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/5 flex items-center justify-center",children:n.jsx(li,{className:"h-5 w-5 text-blue-600/60"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-3xl font-bold text-foreground mb-1",children:T.total}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Total Apartments"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-success",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-success animate-pulse"}),n.jsx("span",{className:"font-medium",children:"Active Properties"})]})})]})]})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-amber-500/5 to-amber-500/0 hover:shadow-xl transition-all duration-300 group",children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-amber-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:n.jsx(lt,{className:"h-7 w-7 text-amber-600"})}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500/5 flex items-center justify-center",children:n.jsx(Cg,{className:"h-5 w-5 text-amber-600/60"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-3xl font-bold text-foreground mb-1",children:R.total}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Total Products"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600",children:[n.jsx(Vb,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium",children:"Across All Properties"})]})})]})]})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-green-500/5 to-green-500/0 hover:shadow-xl transition-all duration-300 group",children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-green-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:n.jsx(Nr,{className:"h-7 w-7 text-green-600"})}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-500/5 flex items-center justify-center",children:n.jsx(j7,{className:"h-5 w-5 text-green-600/60"})})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold text-foreground mb-1",children:[new Intl.NumberFormat("hu-HU").format(R.total_value||0)," Ft"]}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Total Investment"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600",children:[n.jsx(li,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium",children:"Portfolio Value"})]})})]})]})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-orange-500/5 to-orange-500/0 hover:shadow-xl transition-all duration-300 group",children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-orange-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:n.jsx(Et,{className:"h-7 w-7 text-orange-600"})}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-500/5 flex items-center justify-center",children:n.jsx(wr,{className:"h-5 w-5 text-orange-600/60"})})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold text-foreground mb-1",children:[I.outstanding<0?"-":"",new Intl.NumberFormat("hu-HU").format(Math.abs(I.outstanding||0))," Ft"]}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Outstanding Amount"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-orange-600",children:[n.jsx(Vf,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium",children:"Pending Payments"})]})})]})]})})]}),n.jsxs(X,{className:"border-border/50 bg-gradient-to-br from-card to-card/50",children:[n.jsx(be,{className:"pb-3 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Ve,{className:"text-xl flex items-center gap-2",children:[n.jsx(o7,{className:"h-6 w-6 text-primary"}),"Analytics Dashboard"]}),n.jsx(Dr,{className:"mt-1",children:"Comprehensive insights and analytics"})]}),n.jsxs(Ce,{variant:"outline",className:"text-xs",children:[n.jsx(Vf,{className:"h-3 w-3 mr-1"}),"Live Data"]})]})}),n.jsx(Q,{className:"p-0",children:n.jsxs(Ro,{value:s,onValueChange:a,className:"w-full",children:[n.jsx("div",{className:"px-6 pt-4",children:n.jsxs(no,{className:"grid w-full grid-cols-3 bg-muted/50",children:[n.jsxs(Ut,{value:"overview",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[n.jsx(B5,{className:"h-4 w-4 mr-2"}),"Overview"]}),n.jsxs(Ut,{value:"apartments",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[n.jsx(fr,{className:"h-4 w-4 mr-2"}),"Apartments"]}),n.jsxs(Ut,{value:"products",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[n.jsx(lt,{className:"h-4 w-4 mr-2"}),"Products"]})]})}),n.jsxs(Qt,{value:"overview",className:"p-6 space-y-6 mt-0",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center",children:n.jsx(Cg,{className:"h-4 w-4 text-blue-600"})}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Total Orders"})]}),n.jsx("p",{className:"text-xl font-bold text-foreground",children:((ne=p==null?void 0:p.orders)==null?void 0:ne.count)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-500/10 to-green-500/5 border border-green-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-500/20 flex items-center justify-center",children:n.jsx(lt,{className:"h-4 w-4 text-green-600"})}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Deliveries"})]}),n.jsx("p",{className:"text-xl font-bold text-green-600",children:((D=p==null?void 0:p.deliveries)==null?void 0:D.count)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-orange-500/10 to-orange-500/5 border border-orange-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-500/20 flex items-center justify-center",children:n.jsx(Et,{className:"h-4 w-4 text-orange-600"})}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Open Issues"})]}),n.jsx("p",{className:"text-xl font-bold text-orange-600",children:((U=p==null?void 0:p.issues)==null?void 0:U.open_count)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-500/10 to-purple-500/5 border border-purple-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center",children:n.jsx(w4,{className:"h-4 w-4 text-purple-600"})}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Vendors"})]}),n.jsx("p",{className:"text-xl font-bold text-purple-600",children:((L=p==null?void 0:p.vendors)==null?void 0:L.count)||new Set(E.map(ge=>ge.vendor_id).filter(Boolean)).size})]})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Payment Progress"}),n.jsxs("span",{className:"text-sm font-bold text-primary",children:[Math.round((I.total_paid||0)/(I.total_spent||1)*100),"% Complete"]})]}),n.jsx(Y2,{value:Math.min((I.total_paid||0)/(I.total_spent||1)*100,100),className:"h-3"}),n.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-muted-foreground",children:[n.jsxs("span",{children:[new Intl.NumberFormat("hu-HU").format(I.total_paid||0)," Ft paid"]}),n.jsxs("span",{children:[new Intl.NumberFormat("hu-HU").format(I.outstanding||0)," Ft remaining"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Financial Analytics"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(te,{size:"sm",variant:i==="financial"?"default":"outline",onClick:()=>o("financial"),className:"h-8 text-xs",children:[n.jsx(B5,{className:"h-3 w-3 mr-1"}),"Financial"]}),n.jsxs(te,{size:"sm",variant:i==="apartments"?"default":"outline",onClick:()=>o("apartments"),className:"h-8 text-xs",children:[n.jsx(fr,{className:"h-3 w-3 mr-1"}),"Properties"]}),n.jsxs(te,{size:"sm",variant:i==="products"?"default":"outline",onClick:()=>o("products"),className:"h-8 text-xs",children:[n.jsx(lt,{className:"h-3 w-3 mr-1"}),"Products"]})]})]}),i==="financial"&&O.some(ge=>ge.value>0)&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Payment Distribution"}),n.jsx(un,{width:"100%",height:200,children:n.jsxs(Lg,{children:[n.jsx(zi,{data:O,cx:"50%",cy:"50%",labelLine:!1,label:({name:ge,percent:xe})=>`${ge}: ${(xe*100).toFixed(0)}%`,outerRadius:70,fill:"#8884d8",dataKey:"value",children:O.map((ge,xe)=>n.jsx(Ca,{fill:ge.fill},`cell-${xe}`))}),n.jsx(hr,{formatter:ge=>`${new Intl.NumberFormat("hu-HU").format(ge)} Ft`})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Payment Breakdown"}),n.jsx(un,{width:"100%",height:200,children:n.jsxs(Sa,{data:O,layout:"vertical",children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{type:"number",tick:{fontSize:11}}),n.jsx(nn,{dataKey:"name",type:"category",tick:{fontSize:11},width:90}),n.jsx(hr,{formatter:ge=>`${new Intl.NumberFormat("hu-HU").format(ge)} Ft`}),n.jsx(wn,{dataKey:"value",radius:[0,6,6,0],children:O.map((ge,xe)=>n.jsx(Ca,{fill:ge.fill},`cell-${xe}`))})]})})]})]}),i==="apartments"&&P.length>0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Apartment Status Distribution"}),n.jsx(un,{width:"100%",height:200,children:n.jsxs(Lg,{children:[n.jsx(zi,{data:P,cx:"50%",cy:"50%",labelLine:!1,label:({name:ge,percent:xe})=>`${(xe*100).toFixed(0)}%`,outerRadius:70,fill:"#8884d8",dataKey:"value",children:P.map((ge,xe)=>n.jsx(Ca,{fill:ge.fill},`cell-${xe}`))}),n.jsx(hr,{})]})}),n.jsx("div",{className:"grid grid-cols-2 gap-2 mt-3",children:P.map((ge,xe)=>n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/30",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ge.fill}}),n.jsx("span",{className:"text-xs font-medium truncate",children:ge.name}),n.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:ge.value})]},xe))})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Breakdown"}),n.jsx(un,{width:"100%",height:200,children:n.jsxs(Sa,{data:P,children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:70}),n.jsx(nn,{tick:{fontSize:11}}),n.jsx(hr,{}),n.jsx(wn,{dataKey:"value",radius:[6,6,0,0],children:P.map((ge,xe)=>n.jsx(Ca,{fill:ge.fill},`cell-${xe}`))})]})})]})]}),i==="products"&&M.length>0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Product Status Distribution"}),n.jsx(un,{width:"100%",height:200,children:n.jsxs(Sa,{data:M,children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:70}),n.jsx(nn,{tick:{fontSize:11}}),n.jsx(hr,{}),n.jsx(wn,{dataKey:"value",fill:"#8b5cf6",radius:[6,6,0,0],children:M.map((ge,xe)=>n.jsx(Ca,{fill:K[xe%K.length]},`cell-${xe}`))})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Breakdown"}),n.jsx(un,{width:"100%",height:200,children:n.jsxs(Sa,{data:M,layout:"vertical",children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{type:"number",tick:{fontSize:11}}),n.jsx(nn,{dataKey:"name",type:"category",tick:{fontSize:10},width:110}),n.jsx(hr,{}),n.jsx(wn,{dataKey:"value",radius:[0,6,6,0],children:M.map((ge,xe)=>n.jsx(Ca,{fill:K[xe%K.length]},`cell-${xe}`))})]})}),n.jsx("div",{className:"grid grid-cols-2 gap-2 mt-3",children:M.slice(0,6).map((ge,xe)=>n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/30",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:K[xe%K.length]}}),n.jsx("span",{className:"text-xs font-medium truncate",children:ge.name}),n.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:ge.value})]},xe))})]})]})]}),n.jsxs(Qt,{value:"apartments",className:"p-6 space-y-6 mt-0",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(lr,{className:"h-5 w-5 text-blue-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Completed"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((G=T.by_status)==null?void 0:G.Completed)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-amber-500/10 to-amber-500/5 border border-amber-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(wr,{className:"h-5 w-5 text-amber-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"In Progress"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((le=T.by_status)==null?void 0:le.Renovating)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-500/10 to-purple-500/5 border border-purple-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Vb,{className:"h-5 w-5 text-purple-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Planning"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((fe=T.by_status)==null?void 0:fe.Planning)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-500/10 to-green-500/5 border border-green-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(li,{className:"h-5 w-5 text-green-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Avg Progress"})]}),n.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[Math.round(S.reduce((ge,xe)=>ge+(xe.progress||0),0)/(S.length||1)),"%"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Apartment Analytics"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(te,{size:"sm",variant:l==="status"?"default":"outline",onClick:()=>c("status"),className:"h-8 text-xs",children:"Status"}),n.jsx(te,{size:"sm",variant:l==="value"?"default":"outline",onClick:()=>c("value"),className:"h-8 text-xs",children:"Value"}),n.jsx(te,{size:"sm",variant:l==="products"?"default":"outline",onClick:()=>c("products"),className:"h-8 text-xs",children:"Products"})]})]}),l==="status"&&P.length>0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Distribution"}),n.jsx(un,{width:"100%",height:220,children:n.jsxs(Lg,{children:[n.jsx(zi,{data:P,cx:"50%",cy:"50%",labelLine:!1,label:({name:ge,percent:xe})=>`${ge}: ${(xe*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:P.map((ge,xe)=>n.jsx(Ca,{fill:ge.fill},`cell-${xe}`))}),n.jsx(hr,{})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Comparison"}),n.jsx(un,{width:"100%",height:220,children:n.jsxs(Sa,{data:P,children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(nn,{tick:{fontSize:11}}),n.jsx(hr,{}),n.jsx(wn,{dataKey:"value",radius:[8,8,0,0],children:P.map((ge,xe)=>n.jsx(Ca,{fill:ge.fill},`cell-${xe}`))})]})})]})]}),l==="value"&&n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Apartment Value Distribution"}),n.jsx(un,{width:"100%",height:250,children:n.jsxs(Sa,{data:S.map(ge=>{const xe=E.filter(Re=>Re.apartment_id===ge.id),_e=xe.reduce((Re,ke)=>Re+parseFloat(ke.unit_price||0)*ke.qty,0);return{name:ge.name,value:_e,products:xe.length}}),children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(nn,{tick:{fontSize:11}}),n.jsx(hr,{formatter:ge=>`${new Intl.NumberFormat("hu-HU").format(ge)} Ft`}),n.jsx(wn,{dataKey:"value",fill:"#10b981",radius:[8,8,0,0]})]})})]}),l==="products"&&n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Products per Apartment"}),n.jsx(un,{width:"100%",height:250,children:n.jsxs(Sa,{data:S.map(ge=>({name:ge.name,products:E.filter(xe=>xe.apartment_id===ge.id).length})),children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(nn,{tick:{fontSize:11}}),n.jsx(hr,{}),n.jsx(wn,{dataKey:"products",fill:"#f59e0b",radius:[8,8,0,0]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"All Apartments"}),n.jsx("div",{className:"space-y-3",children:S.slice(0,5).map(ge=>{const xe=E.filter(Re=>Re.apartment_id===ge.id),_e=xe.reduce((Re,ke)=>Re+parseFloat(ke.unit_price||0)*ke.qty,0);return n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-card to-muted/20 border border-border/50 hover:border-primary/30 transition-all",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:n.jsx(fr,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-foreground",children:ge.name}),n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(ya,{className:"h-3 w-3"}),ge.address]})]})]}),n.jsx(Ce,{variant:"outline",className:H(ge.status),children:ge.status})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[n.jsxs("div",{className:"p-2 rounded-lg bg-muted/40",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-semibold",children:"Type"}),n.jsx("p",{className:"text-xs font-bold",children:ge.type||"N/A"})]}),n.jsxs("div",{className:"p-2 rounded-lg bg-amber-500/10",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-semibold",children:"Products"}),n.jsx("p",{className:"text-xs font-bold",children:xe.length})]}),n.jsxs("div",{className:"p-2 rounded-lg bg-green-500/10",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-semibold",children:"Value"}),n.jsxs("p",{className:"text-xs font-bold",children:[new Intl.NumberFormat("hu-HU",{notation:"compact"}).format(_e)," Ft"]})]}),n.jsxs("div",{className:"p-2 rounded-lg bg-primary/10",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-semibold",children:"Due Date"}),n.jsx("p",{className:"text-xs font-bold",children:ge.due_date?Xt(new Date(ge.due_date),"MMM dd"):"N/A"})]})]})]},ge.id)})})]})]}),n.jsxs(Qt,{value:"products",className:"p-6 space-y-6 mt-0",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-500/10 to-purple-500/5 border border-purple-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Cg,{className:"h-5 w-5 text-purple-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Ordered"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((B=R.by_status)==null?void 0:B.Ordered)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(lt,{className:"h-5 w-5 text-blue-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Delivered"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((Y=R.by_status)==null?void 0:Y.Delivered)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-amber-500/10 to-amber-500/5 border border-amber-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(wr,{className:"h-5 w-5 text-amber-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Pending"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((ie=R.by_status)==null?void 0:ie.Pending)||((we=R.by_status)==null?void 0:we["Not Ordered"])||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-500/10 to-green-500/5 border border-green-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(lr,{className:"h-5 w-5 text-green-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Installed"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((ue=R.by_status)==null?void 0:ue.Installed)||0})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Product Analytics"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(te,{size:"sm",variant:d==="status"?"default":"outline",onClick:()=>u("status"),className:"h-8 text-xs",children:"Status"}),n.jsx(te,{size:"sm",variant:d==="category"?"default":"outline",onClick:()=>u("category"),className:"h-8 text-xs",children:"Category"}),n.jsx(te,{size:"sm",variant:d==="vendor"?"default":"outline",onClick:()=>u("vendor"),className:"h-8 text-xs",children:"Vendors"})]})]}),d==="status"&&M.length>0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Distribution"}),n.jsx(un,{width:"100%",height:220,children:n.jsxs(Sa,{data:M,children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(nn,{tick:{fontSize:11}}),n.jsx(hr,{}),n.jsx(wn,{dataKey:"value",radius:[8,8,0,0],children:M.map((ge,xe)=>n.jsx(Ca,{fill:K[xe%K.length]},`cell-${xe}`))})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Breakdown"}),n.jsx(un,{width:"100%",height:220,children:n.jsxs(Sa,{data:M,layout:"vertical",children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{type:"number",tick:{fontSize:11}}),n.jsx(nn,{dataKey:"name",type:"category",tick:{fontSize:10},width:110}),n.jsx(hr,{}),n.jsx(wn,{dataKey:"value",radius:[0,8,8,0],children:M.map((ge,xe)=>n.jsx(Ca,{fill:K[xe%K.length]},`cell-${xe}`))})]})})]})]}),d==="category"&&n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Products by Category"}),n.jsx(un,{width:"100%",height:250,children:n.jsxs(Sa,{data:Object.entries(E.reduce((ge,xe)=>{var Re;const _e=xe.category_name||((Re=xe.category_details)==null?void 0:Re.name)||"Uncategorized";return ge[_e]=(ge[_e]||0)+1,ge},{})).map(([ge,xe])=>({name:ge,value:xe})).slice(0,10),children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(nn,{tick:{fontSize:11}}),n.jsx(hr,{}),n.jsx(wn,{dataKey:"value",fill:"#8b5cf6",radius:[8,8,0,0]})]})})]}),d==="vendor"&&n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Products by Vendor"}),n.jsx(un,{width:"100%",height:250,children:n.jsxs(Sa,{data:Object.entries(E.reduce((ge,xe)=>{const _e=xe.vendor_name||"Unknown";return ge[_e]=(ge[_e]||0)+1,ge},{})).map(([ge,xe])=>({name:ge,value:xe})).slice(0,10),children:[n.jsx(zn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(rn,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(nn,{tick:{fontSize:11}}),n.jsx(hr,{}),n.jsx(wn,{dataKey:"value",fill:"#10b981",radius:[8,8,0,0]})]})})]}),M.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Legend"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:M.map((ge,xe)=>n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/30 border border-border/50",children:[n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:K[xe%K.length]}}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium truncate",children:ge.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[ge.value," products"]})]})]},xe))})]})]})]})})]})]}),n.jsx(Pn,{open:f,onOpenChange:m,children:n.jsx(vn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:n.jsxs("form",{onSubmit:k,children:[n.jsx(kn,{className:"pb-4 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsxs("div",{children:[n.jsx(Tn,{className:"text-xl",children:"Edit Client"}),n.jsx(Bs,{className:"text-sm",children:"Update client information"})]})]})}),n.jsxs("div",{className:"grid gap-6 py-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/30",children:[n.jsx(os,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Basic Information"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"name",className:"text-sm font-medium",children:["Full Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(me,{id:"name",value:h.name,onChange:ge=>x({...h,name:ge.target.value}),placeholder:"John Doe",className:"h-11",required:!0})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/30",children:[n.jsx(gn,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Contact Information"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"email",className:"text-sm font-medium",children:["Email ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(me,{id:"email",type:"email",value:h.email,onChange:ge=>x({...h,email:ge.target.value}),placeholder:"john@example.com",className:"h-11",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"phone",className:"text-sm font-medium",children:"Phone"}),n.jsx(me,{id:"phone",type:"tel",value:h.phone,onChange:ge=>x({...h,phone:ge.target.value}),placeholder:"+36 20 123 4567",className:"h-11"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/30",children:[n.jsx(i7,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Account Settings"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"type",className:"text-sm font-medium",children:"Client Type"}),n.jsxs(st,{value:h.type,onValueChange:ge=>x({...h,type:ge}),children:[n.jsx(rt,{id:"type",className:"h-11",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"Investor",children:"Investor"}),n.jsx(J,{value:"Buy2Rent Internal",children:"Buy2Rent Internal"}),n.jsx(J,{value:"Company",children:"Company"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",className:"text-sm font-medium",children:"Account Status"}),n.jsxs(st,{value:h.account_status,onValueChange:ge=>x({...h,account_status:ge}),children:[n.jsx(rt,{id:"status",className:"h-11",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"Active",children:"Active"}),n.jsx(J,{value:"Inactive",children:"Inactive"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/30",children:[n.jsx($n,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Additional Information"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",className:"text-sm font-medium",children:"Notes"}),n.jsx(Sn,{id:"notes",value:h.notes,onChange:ge=>x({...h,notes:ge.target.value}),placeholder:"Add any additional notes or comments about this client...",className:"min-h-[100px] resize-none"})]})]})]}),n.jsxs(vi,{className:"pt-6 border-t border-border/50 gap-3",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>m(!1),className:"flex-1 h-11",children:"Cancel"}),n.jsx(te,{type:"submit",className:"flex-1 h-11 bg-primary hover:bg-primary/90",disabled:w.isPending,children:w.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Changes"]})})]})]})})})]})},Dl=cr.create({baseURL:ro,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});Dl.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Dl.interceptors.response.use(e=>e,async e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const mc={getApartments:async e=>(await Dl.get("/apartments/",{params:e})).data,getApartment:async e=>(await Dl.get(`/apartments/${e}/`)).data,createApartment:async e=>(await Dl.post("/apartments/",e)).data,updateApartment:async(e,t)=>(await Dl.put(`/apartments/${e}/`,t)).data,patchApartment:async(e,t)=>(await Dl.patch(`/apartments/${e}/`,t)).data,deleteApartment:async e=>{await Dl.delete(`/apartments/${e}/`)},getApartmentStatistics:async e=>(await Dl.get(`/apartments/${e}/statistics/`)).data,getApartmentActivities:async e=>(await Dl.get(`/apartments/${e}/activities/`)).data},Ja={all:["apartments"],lists:()=>[...Ja.all,"list"],list:e=>[...Ja.lists(),e],details:()=>[...Ja.all,"detail"],detail:e=>[...Ja.details(),e],statistics:e=>[...Ja.all,"statistics",e],activities:e=>[...Ja.all,"activities",e]};function nBe(e,t){const[r,s]=v.useState(e);return v.useEffect(()=>{const a=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function i3(e){const t=nBe(e==null?void 0:e.search,300),r={...e,search:t};return _s({queryKey:Ja.list(r),queryFn:()=>mc.getApartments(r),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:s=>s})}function o3(e){return _s({queryKey:Ja.detail(e),queryFn:()=>mc.getApartment(e),enabled:!!e,staleTime:5*60*1e3})}function sBe(){const e=Hr(),{toast:t}=gr();return cn({mutationFn:r=>mc.createApartment(r),onSuccess:r=>{e.invalidateQueries({queryKey:Ja.lists()}),t({title:"Success",description:`Apartment "${r.name}" created successfully`})},onError:r=>{t({title:"Error creating apartment",description:r.message||"Something went wrong",variant:"destructive"})}})}function aBe(){const e=Hr(),{toast:t}=gr();return cn({mutationFn:({id:r,data:s})=>mc.updateApartment(r,s),onSuccess:r=>{e.invalidateQueries({queryKey:Ja.lists()}),e.invalidateQueries({queryKey:Ja.detail(r.id)}),t({title:"Success",description:`Apartment "${r.name}" updated successfully`})},onError:r=>{t({title:"Error updating apartment",description:r.message||"Something went wrong",variant:"destructive"})}})}function iBe(){const e=Hr(),{toast:t}=gr();return cn({mutationFn:({id:r})=>mc.deleteApartment(r),onSuccess:(r,s)=>{e.invalidateQueries({queryKey:Ja.lists()}),t({title:"Success",description:`Apartment "${s.name}" deleted successfully`})},onError:r=>{t({title:"Error deleting apartment",description:r.message||"Something went wrong",variant:"destructive"})}})}function oBe(e){return _s({queryKey:Ja.statistics(e),queryFn:()=>mc.getApartmentStatistics(e),enabled:!!e,staleTime:2*60*1e3,refetchOnWindowFocus:!1})}function lBe(e){return _s({queryKey:Ja.activities(e),queryFn:()=>mc.getApartmentActivities(e),enabled:!!e,staleTime:1*60*1e3,refetchOnWindowFocus:!1})}const _c=cr.create({baseURL:ro,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});_c.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));_c.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});const Mo={getVendors:async e=>{const t=e?{search:e}:{};return(await _c.get("/vendors/",{params:t})).data},getVendor:async e=>(await _c.get(`/vendors/${e}/`)).data,createVendor:async e=>(await _c.post("/vendors/",e)).data,updateVendor:async(e,t)=>(await _c.patch(`/vendors/${e}/`,t)).data,deleteVendor:async e=>{await _c.delete(`/vendors/${e}/`)},getVendorProducts:async e=>(await _c.get(`/vendors/${e}/products/`)).data,removeVendorProduct:async(e,t)=>{await _c.delete(`/vendors/${e}/products/${t}/`)}},od={vendors:["vendors"],vendor:e=>["vendors",e],vendorProducts:e=>["vendors",e,"products"]};function jm(e){return _s({queryKey:od.vendors,queryFn:()=>Mo.getVendors(e),staleTime:10*60*1e3,retry:1,refetchOnWindowFocus:!1})}function jX(e){return _s({queryKey:od.vendor(e),queryFn:()=>Mo.getVendor(e),enabled:!!e,staleTime:10*60*1e3,retry:1,refetchOnWindowFocus:!1})}function cBe(){const e=Hr();return cn({mutationFn:t=>Mo.createVendor(t),onSuccess:()=>{e.invalidateQueries({queryKey:od.vendors}),Ue.success("Vendor created successfully")},onError:t=>{var s,a;const r=((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||t.message||"Failed to create vendor";Ue.error(r),console.error("Create vendor error:",t)}})}function dBe(){const e=Hr();return cn({mutationFn:({id:t,data:r})=>Mo.updateVendor(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:od.vendors}),e.invalidateQueries({queryKey:od.vendor(r.id)}),Ue.success("Vendor updated successfully")},onError:t=>{var s,a;const r=((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||t.message||"Failed to update vendor";Ue.error(r),console.error("Update vendor error:",t)}})}function bX(){const e=Hr();return cn({mutationFn:t=>Mo.deleteVendor(t),onSuccess:()=>{e.invalidateQueries({queryKey:od.vendors}),Ue.success("Vendor deleted successfully")},onError:t=>{var s,a;const r=((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||t.message||"Failed to delete vendor";Ue.error(r),console.error("Delete vendor error:",t)}})}function uBe(e){return _s({queryKey:od.vendorProducts(e),queryFn:()=>Mo.getVendorProducts(e),enabled:!!e,staleTime:5*60*1e3,retry:1,refetchOnWindowFocus:!1})}function fBe(e){const t=Hr();return cn({mutationFn:r=>Mo.removeVendorProduct(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:od.vendorProducts(e)}),t.invalidateQueries({queryKey:od.vendor(e)}),Ue.success("Product removed from vendor successfully")},onError:r=>{var a,i;const s=((i=(a=r.response)==null?void 0:a.data)==null?void 0:i.message)||r.message||"Failed to remove product";Ue.error(s),console.error("Remove product error:",r)}})}const Vs=cr.create({baseURL:ro,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});Vs.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Vs.interceptors.response.use(e=>e,async e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const Qi={getProducts:async e=>(await Vs.get("/products/",{params:e})).data,getProductsByApartment:async(e,t)=>(await Vs.get("/products/by_apartment/",{params:{apartment_id:e,...t}})).data,getProductsByCategory:async e=>(await Vs.get("/products/by_category/",{params:e})).data,getProduct:async e=>(await Vs.get(`/products/${e}/`)).data,createProduct:async e=>{const t=e instanceof FormData?{headers:{"Content-Type":void 0}}:{};return(await Vs.post("/products/",e,t)).data},updateProduct:async(e,t)=>{const r=t instanceof FormData?{headers:{"Content-Type":void 0}}:{};return(await Vs.patch(`/products/${e}/`,t,r)).data},deleteProduct:async e=>{await Vs.delete(`/products/${e}/`)},getProductCategories:async e=>(await Vs.get("/products/categories/",{params:{apartment_id:e}})).data,createCategory:async e=>(await Vs.post("/products/create_category/",{...e,sheet_name:e.sheet_name||e.name})).data,importProducts:async(e,t,r)=>{console.log(" DEBUG productApi: Received parameters:",{file:e.name,apartmentId:t,vendorId:r});const s=new FormData;s.append("file",e),s.append("apartment_id",t),s.append("vendor_id",r),console.log(" DEBUG productApi: FormData contents:");for(let[i,o]of s.entries())console.log(`  ${i}:`,o);return(await Vs.post("/products/import_excel/",s,{headers:{"Content-Type":"multipart/form-data"}})).data},getImportSessions:async e=>(await Vs.get("/products/import_sessions/",{params:{apartment:e}})).data,deleteImportSession:async e=>{await Vs.delete(`/products/delete_import_session/${e}/`)},downloadImportTemplate:async()=>(await Vs.get("/products/import_template/",{responseType:"blob"})).data,getProductStatistics:async e=>(await Vs.get("/products/statistics/",{params:e?{apartment:e}:void 0})).data,createApartmentAndImport:async e=>{const t=new FormData;return t.append("file",e.file),t.append("apartment_name",e.apartment_name),e.apartment_type&&t.append("apartment_type",e.apartment_type),e.owner&&t.append("owner",e.owner),e.status&&t.append("status",e.status),e.designer&&t.append("designer",e.designer),e.start_date&&t.append("start_date",e.start_date),e.due_date&&t.append("due_date",e.due_date),e.address&&t.append("address",e.address),e.vendor_id&&t.append("vendor_id",e.vendor_id),(await Vs.post("/products/create_apartment_and_import/",t,{headers:{"Content-Type":"multipart/form-data"}})).data}},mBe=()=>{const e=mr(),[t,r]=TN(),{toast:s}=gr(),[a,i]=v.useState(""),[o,l]=v.useState("all"),[c,d]=v.useState(!1),[u,f]=v.useState([]),[m,h]=v.useState(!1),[x,p]=v.useState(!1),[g,j]=v.useState({}),[y,w]=v.useState({open:!1,id:"",name:""}),[b,N]=v.useState({name:"",type:"furnishing",client:"",address:"",status:"Planning",designer:"",start_date:"",due_date:"",vendor:""}),S=t.get("type")||"furnishing",_=B=>{B&&r({type:B})},{data:E,isLoading:A,error:T,refetch:R}=i3({search:a||void 0,type:S!=="all"?S:void 0,status:o!=="all"?o:void 0}),I=iBe(),{data:z,isLoading:H}=K2({page_size:100,ordering:"name"}),{data:F,isLoading:k}=jm(),P=(F==null?void 0:F.results)||[],M=v.useMemo(()=>(E==null?void 0:E.results)||[],[E==null?void 0:E.results]),O=v.useMemo(()=>{const B=(E==null?void 0:E.results)||[],Y=B.length,ie=B.filter(ke=>ke.type==="furnishing").length,we=B.filter(ke=>ke.type==="renovating").length,ue=B.filter(ke=>ke.status==="Planning").length,ge=B.filter(ke=>ke.status==="Ordering").length,xe=B.filter(ke=>ke.status==="Delivery").length,_e=B.filter(ke=>ke.status==="Completed").length,Re=Y-_e;return{totalApartments:Y,furnishingCount:ie,renovatingCount:we,planningCount:ue,orderingCount:ge,deliveryCount:xe,completeCount:_e,inProgressCount:Re}},[E==null?void 0:E.results]),K=()=>{const B={};if(b.name.trim()?b.name.trim().length<3&&(B.name="Apartment name must be at least 3 characters"):B.name="Apartment name is required",b.client||(B.client="Client selection is required"),b.address.trim()?b.address.trim().length<10&&(B.address="Please provide a complete address (minimum 10 characters)"):B.address="Address is required",b.start_date||(B.start_date="Start date is required"),b.due_date||(B.due_date="Due date is required"),b.start_date&&b.due_date){const Y=new Date(b.start_date);new Date(b.due_date)<=Y&&(B.due_date="Due date must be after start date")}return j(B),Object.keys(B).length===0},ne=B=>{var ue;const Y=(ue=B.name.split(".").pop())==null?void 0:ue.toLowerCase(),ie=["xlsx","xls","csv"],we=50*1024*1024;return ie.includes(Y||"")?B.size>we?{valid:!1,error:`File too large: ${B.name}. Maximum size is 50MB.`}:B.size===0?{valid:!1,error:`Empty file: ${B.name}. Please select a valid file.`}:{valid:!0}:{valid:!1,error:`Invalid file type: ${B.name}. Only Excel (.xlsx, .xls) and CSV (.csv) files are allowed.`}},D=async()=>{var B,Y;if(j({}),!K()){s({title:"Validation Error",description:"Please fix the errors in the form before submitting.",variant:"destructive"});return}if(u.length>0)for(const ie of u){const we=ne(ie);if(!we.valid){s({title:"File Validation Error",description:we.error,variant:"destructive"});return}}p(!0);try{if(u.length===0){s({title:"File Required",description:"Please upload an Excel or CSV file to import products.",variant:"destructive"}),p(!1);return}const ie=await Qi.createApartmentAndImport({file:u[0],apartment_name:b.name,apartment_type:b.type,owner:b.client,status:b.status,designer:b.designer,start_date:b.start_date,due_date:b.due_date,address:b.address,vendor_id:b.vendor||void 0});if(ie.success)s({title:"Success!",description:n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-semibold",children:ie.message}),n.jsxs("p",{className:"text-sm",children:["Apartment: ",ie.data.apartment_name]}),n.jsxs("p",{className:"text-sm",children:["Products imported: ",ie.data.successful_imports," / ",ie.data.total_products]}),ie.data.failed_imports>0&&n.jsxs("p",{className:"text-sm text-yellow-600",children:["Failed: ",ie.data.failed_imports]}),ie.data.errors.length>0&&n.jsxs("p",{className:"text-sm text-red-600",children:["Errors: ",ie.data.errors.join(", ")]})]})}),U(),d(!1),R(),setTimeout(()=>{e(`/apartments/${ie.data.apartment_id}`)},1e3);else throw new Error(ie.message||"Import failed")}catch(ie){console.error("Import error:",ie),s({title:"Error",description:((Y=(B=ie.response)==null?void 0:B.data)==null?void 0:Y.message)||ie.message||"Failed to create apartment and import products. Please try again.",variant:"destructive"})}finally{p(!1)}},U=()=>{N({name:"",type:"furnishing",client:"",address:"",status:"Planning",designer:"",start_date:"",due_date:"",vendor:""}),f([]),j({})},L=B=>{const Y=Array.from(B),ie=[];for(const we of Y){const ue=ne(we);ue.valid?ie.push(we):s({title:"File Validation Error",description:ue.error,variant:"destructive"})}ie.length>0&&f(we=>[...we,...ie])},G=(B,Y)=>{w({open:!0,id:B,name:Y})},le=async()=>{try{await I.mutateAsync({id:y.id,name:y.name}),w({open:!1,id:"",name:""})}catch(B){console.error("Delete failed:",B)}},fe=B=>({Planning:"bg-blue-500/10 text-blue-500",Ordering:"bg-yellow-500/10 text-yellow-500",Delivery:"bg-purple-500/10 text-purple-500",Complete:"bg-green-500/10 text-green-500"})[B]||"bg-gray-500/10 text-gray-500";return n.jsx(ct,{title:"Apartments",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-muted/20",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Total"}),n.jsx("p",{className:"text-2xl font-bold mt-1",children:O.totalApartments})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx(fr,{className:"h-5 w-5 text-primary"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-yellow-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Furnishing"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-yellow-600",children:O.furnishingCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-yellow-500/10 flex items-center justify-center",children:n.jsx(Pse,{className:"h-5 w-5 text-yellow-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-orange-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Renovating"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-orange-600",children:O.renovatingCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-orange-500/10 flex items-center justify-center",children:n.jsx(pse,{className:"h-5 w-5 text-orange-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-blue-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"In Progress"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-blue-600",children:O.inProgressCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-500/10 flex items-center justify-center",children:n.jsx(wr,{className:"h-5 w-5 text-blue-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-green-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Completed"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-green-600",children:O.completeCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-green-500/10 flex items-center justify-center",children:n.jsx(Ur,{className:"h-5 w-5 text-green-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-purple-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Delivery"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-purple-600",children:O.deliveryCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-purple-500/10 flex items-center justify-center",children:n.jsx(lt,{className:"h-5 w-5 text-purple-500"})})]})})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[n.jsxs("div",{className:"flex gap-2 flex-1 max-w-md",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ha,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search apartments...",value:a,onChange:B=>i(B.target.value),className:"pl-9"})]}),n.jsxs(st,{value:o,onValueChange:l,children:[n.jsx(rt,{className:"w-[140px]",children:n.jsx(at,{placeholder:"Status"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"all",children:"All Status"}),n.jsx(J,{value:"Planning",children:"Planning"}),n.jsx(J,{value:"Ordering",children:"Ordering"}),n.jsx(J,{value:"Delivery",children:"Delivery"}),n.jsx(J,{value:"Complete",children:"Complete"}),n.jsx(J,{value:"Design Approved",children:"Design Approved"}),n.jsx(J,{value:"Renovating",children:"Renovating"})]})]})]}),n.jsxs("div",{className:"flex gap-3 items-center",children:[n.jsx(te,{variant:S==="furnishing"?"default":"outline",onClick:()=>_("furnishing"),className:S==="furnishing"?"bg-yellow-500 hover:bg-yellow-600 text-white":"",children:"Furnishing"}),n.jsx(te,{variant:S==="renovating"?"default":"outline",onClick:()=>_("renovating"),children:"Renovating"}),n.jsxs(te,{variant:"outline",onClick:()=>d(!0),children:[n.jsx(Ki,{className:"h-4 w-4 mr-2"}),"Import Data"]}),n.jsxs(te,{onClick:()=>e("/apartments/new"),className:"bg-cyan-500 hover:bg-cyan-600",children:[n.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Add Apartment"]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ve,{children:["All Apartments (",(E==null?void 0:E.count)||0,")"]}),n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>R(),disabled:A,children:n.jsx(Tf,{className:`h-4 w-4 ${A?"animate-spin":""}`})})]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Bt,{children:[n.jsx(Pe,{children:"Apartment Name"}),n.jsx(Pe,{children:"Type"}),n.jsx(Pe,{children:"Clients"}),n.jsx(Pe,{children:"Address"}),n.jsx(Pe,{children:"Status"}),n.jsx(Pe,{children:"Designer"}),n.jsx(Pe,{children:"Start Date"}),n.jsx(Pe,{children:"Due Date"}),n.jsx(Pe,{className:"text-right",children:"Actions"})]})}),n.jsx($s,{children:A?Array.from({length:3}).map((B,Y)=>n.jsxs(Bt,{children:[n.jsx(Ne,{children:n.jsx(C,{className:"h-4 w-32"})}),n.jsx(Ne,{children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx(Ne,{children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx(Ne,{children:n.jsx(C,{className:"h-4 w-40"})}),n.jsx(Ne,{children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx(Ne,{children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx(Ne,{children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx(Ne,{children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx(Ne,{children:n.jsx(C,{className:"h-4 w-16"})}),n.jsx(Ne,{children:n.jsx(C,{className:"h-4 w-20"})})]},Y)):T?n.jsx(Bt,{children:n.jsx(Ne,{colSpan:10,className:"text-center py-8 text-destructive",children:"Error loading apartments. Please try again."})}):M.length===0?n.jsx(Bt,{children:n.jsx(Ne,{colSpan:10,className:"text-center py-8 text-muted-foreground",children:"No apartments found. Try adjusting your filters or add a new apartment."})}):M.map(B=>{var Y;return n.jsxs(Bt,{children:[n.jsx(Ne,{className:"font-medium",children:B.name}),n.jsx(Ne,{children:n.jsx(Ce,{variant:"outline",className:"capitalize",children:B.type})}),n.jsx(Ne,{children:((Y=B.client_details)==null?void 0:Y.name)||"N/A"}),n.jsx(Ne,{className:"max-w-[200px] truncate",children:B.address}),n.jsx(Ne,{children:n.jsx(Ce,{className:fe(B.status),children:B.status})}),n.jsx(Ne,{children:B.designer}),n.jsx(Ne,{children:B.start_date}),n.jsx(Ne,{children:B.due_date}),n.jsx(Ne,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(te,{size:"sm",variant:"ghost",onClick:()=>e(`/apartments/${B.id}`),children:n.jsx(oi,{className:"h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",onClick:()=>e(`/apartments/${B.id}/edit`),children:n.jsx(Zs,{className:"h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",onClick:()=>G(B.id,B.name),children:n.jsx(pn,{className:"h-4 w-4"})})]})})]},B.id)})})]})})})]}),n.jsx(Pn,{open:c,onOpenChange:d,children:n.jsxs(vn,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(kn,{children:[n.jsx(Tn,{className:"text-xl",children:"Create Apartment & Import Data"}),n.jsx(Bs,{children:"Fill in the apartment details and upload Excel (.xlsx, .xls) or CSV (.csv) files to import product data."})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Apartment Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apt-name",children:["Apartment Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(me,{id:"apt-name",placeholder:"Enter apartment name",value:b.name,onChange:B=>{N({...b,name:B.target.value}),g.name&&j({...g,name:""})},className:g.name?"border-destructive":""}),g.name&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apt-type",children:["Type ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(st,{value:b.type,onValueChange:B=>N({...b,type:B}),children:[n.jsx(rt,{id:"apt-type",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"furnishing",children:"Furnishing"}),n.jsx(J,{value:"renovating",children:"Renovating"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apt-owner",children:["Clients ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(st,{value:b.client,onValueChange:B=>{N({...b,client:B}),g.client&&j({...g,client:""})},disabled:H,children:[n.jsx(rt,{id:"apt-client",className:g.client?"border-destructive":"",children:n.jsx(at,{placeholder:H?"Loading clients...":"Select client"})}),n.jsx(nt,{children:z!=null&&z.results&&z.results.length>0?z.results.map(B=>n.jsx(J,{value:B.id,children:B.name},B.id)):n.jsx(J,{value:"no-clients",disabled:!0,children:"No clients available"})})]}),g.client&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.client})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apt-status",children:["Status ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(st,{value:b.status,onValueChange:B=>N({...b,status:B}),children:[n.jsx(rt,{id:"apt-status",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"Planning",children:"Planning"}),n.jsx(J,{value:"Design Approved",children:"Design Approved"}),n.jsx(J,{value:"Ordering",children:"Ordering"}),n.jsx(J,{value:"Delivery",children:"Delivery"}),n.jsx(J,{value:"Installation",children:"Installation"}),n.jsx(J,{value:"Completed",children:"Completed"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"apt-designer",children:"Designer"}),n.jsx(me,{id:"apt-designer",placeholder:"Enter designer name",value:b.designer,onChange:B=>N({...b,designer:B.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apt-start",children:["Start Date ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(me,{id:"apt-start",type:"date",value:b.start_date,onChange:B=>{N({...b,start_date:B.target.value}),g.start_date&&j({...g,start_date:""})},className:g.start_date?"border-destructive":""}),g.start_date&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.start_date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apt-due",children:["Due Date ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(me,{id:"apt-due",type:"date",value:b.due_date,onChange:B=>{N({...b,due_date:B.target.value}),g.due_date&&j({...g,due_date:""})},className:g.due_date?"border-destructive":""}),g.due_date&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.due_date})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apt-address",children:["Address ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(Sn,{id:"apt-address",placeholder:"Enter complete address",value:b.address,onChange:B=>{N({...b,address:B.target.value}),g.address&&j({...g,address:""})},rows:3,className:g.address?"border-destructive":""}),g.address&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.address})]})]}),n.jsxs("div",{className:"space-y-4 bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Import Product Data"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Upload Excel or CSV files containing product information for this apartment."})]}),n.jsxs(te,{variant:"outline",size:"sm",className:"gap-2",onClick:async()=>{try{const B=await Qi.downloadImportTemplate(),Y=window.URL.createObjectURL(B),ie=document.createElement("a");ie.href=Y,ie.download="apartment-template.xlsx",document.body.appendChild(ie),ie.click(),window.URL.revokeObjectURL(Y),document.body.removeChild(ie),s({title:"Success",description:"Template downloaded successfully"})}catch{s({title:"Error",description:"Failed to download template",variant:"destructive"})}},children:[n.jsx(Fv,{className:"h-4 w-4"}),"Download Template"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"apt-vendor",children:"Vendor (Optional)"}),n.jsxs(st,{value:b.vendor,onValueChange:B=>N({...b,vendor:B}),disabled:k,children:[n.jsx(rt,{id:"apt-vendor",children:n.jsx(at,{placeholder:k?"Loading vendors...":"Select a vendor (optional)"})}),n.jsx(nt,{children:P.length>0?P.map(B=>n.jsx(J,{value:B.id,children:B.name},B.id)):n.jsx(J,{value:"no-vendors",disabled:!0,children:"No vendors available"})})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Optionally assign a vendor to all imported products"})]}),n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${m?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onDragEnter:B=>{B.preventDefault(),B.stopPropagation(),h(!0)},onDragLeave:B=>{B.preventDefault(),B.stopPropagation(),h(!1)},onDragOver:B=>{B.preventDefault(),B.stopPropagation()},onDrop:B=>{B.preventDefault(),B.stopPropagation(),h(!1),B.dataTransfer.files&&L(B.dataTransfer.files)},children:[n.jsx(use,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("p",{className:"text-base font-medium mb-1",children:"Drag & drop files here"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"or click to browse"}),n.jsxs("label",{htmlFor:"file-upload",children:[n.jsx(te,{variant:"outline",size:"sm",className:"gap-2",asChild:!0,children:n.jsxs("span",{children:[n.jsx(Ki,{className:"h-4 w-4"}),"Choose Files"]})}),n.jsx("input",{id:"file-upload",type:"file",className:"hidden",accept:".xlsx,.xls,.csv",multiple:!0,onChange:B=>{B.target.files&&L(B.target.files)}})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum file size: 50MB. Supported formats: Excel (.xlsx, .xls) and CSV (.csv)"}),u.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm font-medium",children:["Uploaded Files (",u.length,")"]}),u.map((B,Y)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ur,{className:"h-5 w-5 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:B.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[(B.size/1024).toFixed(2)," KB"]})]})]}),n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>{f(u.filter((ie,we)=>we!==Y))},children:n.jsx(ps,{className:"h-4 w-4"})})]},Y))]})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(te,{variant:"outline",onClick:()=>{d(!1),U()},disabled:x,children:"Cancel"}),n.jsx(te,{variant:"outline",onClick:U,disabled:x,children:"Reset Form"})]}),n.jsx(te,{className:"bg-blue-600 hover:bg-blue-700 gap-2",onClick:D,disabled:x,children:x?n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Xn,{className:"h-4 w-4"}),"Create Apartment & Import Data"]})})]})]})}),n.jsx(fc,{open:y.open,onOpenChange:B=>!B&&w({open:!1,id:"",name:""}),children:n.jsxs(yl,{children:[n.jsx(jl,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(dl,{className:"h-6 w-6 text-destructive"})}),n.jsxs("div",{children:[n.jsx(wl,{className:"text-xl",children:"Delete Apartment"}),n.jsx(Nl,{className:"mt-1",children:"This action cannot be undone."})]})]})}),n.jsx("div",{className:"py-4",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to delete"," ",n.jsxs("span",{className:"font-semibold text-foreground",children:['"',y.name,'"']}),"? This will permanently remove the apartment and all associated products from the system."]})}),n.jsxs(bl,{children:[n.jsx(Sl,{autoFocus:!1,children:"Cancel"}),n.jsx(_l,{onClick:le,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",autoFocus:!0,children:"Delete Apartment"})]})]})})]})})};var l3="Radio",[hBe,wX]=na(l3),[pBe,xBe]=hBe(l3),NX=v.forwardRef((e,t)=>{const{__scopeRadio:r,name:s,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[f,m]=v.useState(null),h=Rt(t,g=>m(g)),x=v.useRef(!1),p=f?d||!!f.closest("form"):!0;return n.jsxs(pBe,{scope:r,checked:a,disabled:o,children:[n.jsx(ft.button,{type:"button",role:"radio","aria-checked":a,"data-state":CX(a),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:h,onClick:He(e.onClick,g=>{a||c==null||c(),p&&(x.current=g.isPropagationStopped(),x.current||g.stopPropagation())})}),p&&n.jsx(gBe,{control:f,bubbles:!x.current,name:s,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});NX.displayName=l3;var _X="RadioIndicator",SX=v.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:s,...a}=e,i=xBe(_X,r);return n.jsx(ls,{present:s||i.checked,children:n.jsx(ft.span,{"data-state":CX(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});SX.displayName=_X;var gBe=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,i=v.useRef(null),o=W2(r),l=wN(t);return v.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&f){const m=new Event("click",{bubbles:s});f.call(c,r),c.dispatchEvent(m)}},[o,r,s]),n.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function CX(e){return e?"checked":"unchecked"}var vBe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],c3="RadioGroup",[yBe,Dnt]=na(c3,[Zp,wX]),EX=Zp(),AX=wX(),[jBe,bBe]=yBe(c3),PX=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:s,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:f,...m}=e,h=EX(r),x=fm(d),[p,g]=$a({prop:i,defaultProp:a,onChange:f});return n.jsx(jBe,{scope:r,name:s,required:o,disabled:l,value:p,onValueChange:g,children:n.jsx(lT,{asChild:!0,...h,orientation:c,dir:x,loop:u,children:n.jsx(ft.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...m,ref:t})})})});PX.displayName=c3;var kX="RadioGroupItem",TX=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:s,...a}=e,i=bBe(kX,r),o=i.disabled||s,l=EX(r),c=AX(r),d=v.useRef(null),u=Rt(t,d),f=i.value===a.value,m=v.useRef(!1);return v.useEffect(()=>{const h=p=>{vBe.includes(p.key)&&(m.current=!0)},x=()=>m.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",x)}},[]),n.jsx(cT,{asChild:!0,...l,focusable:!o,active:f,children:n.jsx(NX,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:He(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:He(a.onFocus,()=>{var h;m.current&&((h=d.current)==null||h.click())})})})});TX.displayName=kX;var wBe="RadioGroupIndicator",OX=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...s}=e,a=AX(r);return n.jsx(SX,{...a,...s,ref:t})});OX.displayName=wBe;var DX=PX,IX=TX,NBe=OX;const d3=v.forwardRef(({className:e,...t},r)=>n.jsx(DX,{className:ve("grid gap-2",e),...t,ref:r}));d3.displayName=DX.displayName;const cv=v.forwardRef(({className:e,...t},r)=>n.jsx(IX,{ref:r,className:ve("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(NBe,{className:"flex items-center justify-center",children:n.jsx(c7,{className:"h-2.5 w-2.5 fill-current text-current"})})}));cv.displayName=IX.displayName;const _Be=()=>{const e=mr(),{toast:t}=gr(),{data:r,isLoading:s}=K2({}),a=(r==null?void 0:r.results)||[],i=sBe(),[o,l]=v.useState({name:"",type:"furnishing",client:"",address:"",designer:"",status:"Planning",start_date:"",due_date:"",progress:0,notes:""}),[c,d]=v.useState({}),u=()=>{const m={};return o.name.trim()||(m.name="Apartment name is required"),o.client||(m.client="Client selection is required"),o.address.trim()||(m.address="Address is required"),o.designer.trim()||(m.designer="Designer is required"),o.start_date||(m.start_date="Start date is required"),o.due_date||(m.due_date="Due date is required"),o.start_date&&o.due_date&&new Date(o.due_date)<new Date(o.start_date)&&(m.due_date="Due date must be after start date"),d(m),Object.keys(m).length===0},f=async m=>{var h,x;if(m.preventDefault(),!u()){t({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{await i.mutateAsync(o),t({title:"Success",description:`${o.name} has been created successfully.`}),e("/apartments?type="+o.type)}catch(p){t({title:"Error",description:((x=(h=p.response)==null?void 0:h.data)==null?void 0:x.message)||"Failed to create apartment. Please try again.",variant:"destructive"})}};return n.jsx(ct,{title:"New Apartment",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(Jn,{href:"/apartments",children:"Apartments"})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(ji,{children:"New Apartment"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>e("/apartments"),children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"New Apartment"})]}),n.jsx("form",{onSubmit:f,children:n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{children:"Apartment Details"})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"name",children:"Apartment Name *"}),n.jsx(me,{id:"name",value:o.name,onChange:m=>l({...o,name:m.target.value}),placeholder:"Izabella utca 3  A/12"}),c.name&&n.jsx("p",{className:"text-sm text-destructive",children:c.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Type *"}),n.jsx(d3,{value:o.type,onValueChange:m=>l({...o,type:m}),children:n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(cv,{value:"furnishing",id:"furnishing"}),n.jsx(q,{htmlFor:"furnishing",className:"font-normal cursor-pointer",children:"Furnishing"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(cv,{value:"renovating",id:"renovating"}),n.jsx(q,{htmlFor:"renovating",className:"font-normal cursor-pointer",children:"Renovating"})]})]})})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"client",children:"Client/Owner *"}),n.jsxs(st,{value:o.client,onValueChange:m=>l({...o,client:m}),disabled:s,children:[n.jsx(rt,{id:"client",children:n.jsx(at,{placeholder:s?"Loading clients...":"Select client"})}),n.jsx(nt,{children:a.map(m=>n.jsxs(J,{value:m.id,children:[m.name," - ",m.type]},m.id))})]}),c.client&&n.jsx("p",{className:"text-sm text-destructive",children:c.client})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"designer",children:"Assigned Designer *"}),n.jsx(me,{id:"designer",value:o.designer,onChange:m=>l({...o,designer:m.target.value}),placeholder:"Enter designer name"}),c.designer&&n.jsx("p",{className:"text-sm text-destructive",children:c.designer})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"address",children:"Address *"}),n.jsx(me,{id:"address",value:o.address,onChange:m=>l({...o,address:m.target.value}),placeholder:"Izabella u. 3, Budapest"}),c.address&&n.jsx("p",{className:"text-sm text-destructive",children:c.address})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",children:"Status"}),n.jsxs(st,{value:o.status,onValueChange:m=>l({...o,status:m}),children:[n.jsx(rt,{id:"status",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"Planning",children:"Planning"}),n.jsx(J,{value:"Design Approved",children:"Design Approved"}),n.jsx(J,{value:"Ordering",children:"Ordering"}),n.jsx(J,{value:"Delivery",children:"Delivery"}),n.jsx(J,{value:"Renovating",children:"Renovating"}),n.jsx(J,{value:"Complete",children:"Complete"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"start_date",children:"Start Date *"}),n.jsx(me,{id:"start_date",type:"date",value:o.start_date,onChange:m=>l({...o,start_date:m.target.value})}),c.start_date&&n.jsx("p",{className:"text-sm text-destructive",children:c.start_date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"due_date",children:"Due Date *"}),n.jsx(me,{id:"due_date",type:"date",value:o.due_date,onChange:m=>l({...o,due_date:m.target.value})}),c.due_date&&n.jsx("p",{className:"text-sm text-destructive",children:c.due_date})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Notes"}),n.jsx(pa,{id:"notes",value:o.notes,onChange:m=>l({...o,notes:m.target.value}),placeholder:"Additional notes about this apartment...",rows:4})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>e("/apartments"),children:"Cancel"}),n.jsx(te,{type:"submit",disabled:i.isPending,children:i.isPending?"Creating...":"Create Apartment"})]})]})]})})]})})},Hn={all:["products"],lists:()=>[...Hn.all,"list"],list:e=>[...Hn.lists(),e],details:()=>[...Hn.all,"detail"],detail:e=>[...Hn.details(),e],byApartment:e=>[...Hn.all,"apartment",e],byCategory:()=>[...Hn.all,"category"],categories:e=>[...Hn.all,"categories",e],statistics:e=>[...Hn.all,"statistics",e],importSessions:e=>[...Hn.all,"importSessions",e]};function RX(e,t){const[r,s]=v.useState(e);return v.useEffect(()=>{const a=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function MX(e){const t=RX(e==null?void 0:e.search,300),r={...e,search:t};return _s({queryKey:Hn.list(r),queryFn:()=>Qi.getProducts(r),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:s=>s})}function SBe(e,t){const r=RX(t==null?void 0:t.search,300),s={...t,search:r};return _s({queryKey:[...Hn.byApartment(e),s],queryFn:async()=>{const a=await Qi.getProductsByApartment(e,s);return Array.isArray(a)?a:[]},enabled:!!e,staleTime:5*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:a=>a})}function FX(e){return _s({queryKey:Hn.detail(e),queryFn:()=>Qi.getProduct(e),enabled:!!e,staleTime:5*60*1e3})}function CBe(){const e=Hr(),{toast:t}=gr();return cn({mutationFn:r=>Qi.createProduct(r),onSuccess:r=>{e.invalidateQueries({queryKey:Hn.lists()}),e.invalidateQueries({queryKey:Hn.byApartment(r.apartment)}),t({title:"Success",description:`Product "${r.product}" created successfully`})},onError:r=>{t({title:"Error creating product",description:r.message||"Something went wrong",variant:"destructive"})}})}function $X(){const e=Hr(),{toast:t}=gr();return cn({mutationFn:({id:r,data:s})=>Qi.updateProduct(r,s),onSuccess:r=>{e.invalidateQueries({queryKey:Hn.lists()}),e.invalidateQueries({queryKey:Hn.detail(r.id)}),e.invalidateQueries({queryKey:Hn.byApartment(r.apartment)}),t({title:"Success",description:`Product "${r.product}" updated successfully`})},onError:r=>{t({title:"Error updating product",description:r.message||"Something went wrong",variant:"destructive"})}})}function EBe(){const e=Hr(),{toast:t}=gr();return cn({mutationFn:({id:r})=>Qi.deleteProduct(r),onSuccess:(r,s)=>{e.invalidateQueries({queryKey:Hn.lists()}),e.invalidateQueries({queryKey:Hn.byApartment(s.apartmentId)}),t({title:"Success",description:`Product "${s.name}" deleted successfully`})},onError:r=>{t({title:"Error deleting product",description:r.message||"Something went wrong",variant:"destructive"})}})}function LX(e){return _s({queryKey:Hn.categories(e),queryFn:()=>Qi.getProductCategories(e),enabled:!!e,staleTime:0,gcTime:0,retry:1,refetchOnWindowFocus:!1})}function BX(){const e=Hr(),{toast:t}=gr();return cn({mutationFn:r=>Qi.createCategory(r),onSuccess:(r,s)=>{e.invalidateQueries({queryKey:Hn.categories(s.apartment)}),t({title:"Success",description:`Category "${r.name}" created successfully`})},onError:r=>{t({title:"Error creating category",description:r.message||"Something went wrong",variant:"destructive"})}})}const Ka=cr.create({baseURL:ro,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});Ka.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Ka.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});const Ps={getOrders:async e=>(await Ka.get("/orders/",{params:e})).data,getOrder:async e=>(await Ka.get(`/orders/${e}/`)).data,createOrder:async e=>(await Ka.post("/orders/",e)).data,updateOrder:async(e,t)=>(await Ka.patch(`/orders/${e}/`,t)).data,deleteOrder:async e=>{await Ka.delete(`/orders/${e}/`)},getStatistics:async()=>(await Ka.get("/orders/statistics/")).data,updateStatus:async(e,t)=>(await Ka.patch(`/orders/${e}/update_status/`,{status:t})).data,markDelivered:async(e,t)=>(await Ka.patch(`/orders/${e}/`,{status:"delivered",actual_delivery:t||new Date().toISOString().split("T")[0],is_delivered:!0})).data,getVendorOrders:async e=>(await Ka.get("/orders/",{params:{vendor:e}})).data,getApartmentOrders:async e=>(await Ka.get("/orders/",{params:{apartment:e}})).data,getDashboardCharts:async()=>(await Ka.get("/dashboard/charts/")).data,importOrder:async e=>{const t=new FormData;return t.append("file",e.file),t.append("apartment_id",e.apartment_id),t.append("vendor_id",e.vendor_id),t.append("po_number",e.po_number),e.status&&t.append("status",e.status),e.confirmation_code&&t.append("confirmation_code",e.confirmation_code),e.tracking_number&&t.append("tracking_number",e.tracking_number),e.expected_delivery&&t.append("expected_delivery",e.expected_delivery),e.shipping_address&&t.append("shipping_address",e.shipping_address),e.notes&&t.append("notes",e.notes),(await Ka.post("/orders/import_order/",t,{headers:{"Content-Type":"multipart/form-data"}})).data}},uo=cr.create({baseURL:ro,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});uo.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));uo.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const gd={getPayments:async e=>(await uo.get("/payments/",{params:e})).data,getPayment:async e=>(await uo.get(`/payments/${e}/`)).data,createPayment:async e=>(await uo.post("/payments/",e)).data,createPaymentFromOrder:async e=>(await uo.post("/payments/from-order/",e)).data,updatePayment:async(e,t)=>(await uo.put(`/payments/${e}/`,t)).data,patchPayment:async(e,t)=>(await uo.patch(`/payments/${e}/`,t)).data,deletePayment:async e=>{await uo.delete(`/payments/${e}/`)},getPaymentHistory:async e=>{const t=e?{payment:e}:{},r=await uo.get("/payment-history/",{params:t});return r.data.results||r.data},createPaymentHistory:async e=>(await uo.post("/payment-history/",e)).data,deletePaymentHistory:async e=>{await uo.delete(`/payment-history/${e}/`)}},ys={all:["payments"],lists:()=>[...ys.all,"list"],list:e=>[...ys.lists(),e],details:()=>[...ys.all,"detail"],detail:e=>[...ys.details(),e],history:e=>[...ys.all,"history",e]},u3=e=>_s({queryKey:ys.list(e),queryFn:()=>gd.getPayments(e)}),UX=e=>_s({queryKey:ys.detail(e),queryFn:()=>gd.getPayment(e),enabled:!!e}),ABe=()=>{const e=Hr();return cn({mutationFn:t=>gd.createPaymentFromOrder(t),onSuccess:()=>{e.invalidateQueries({queryKey:ys.lists()})}})},VX=()=>{const e=Hr();return cn({mutationFn:({id:t,data:r})=>gd.updatePayment(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:ys.lists()}),e.invalidateQueries({queryKey:ys.detail(t.id)})}})},PBe=()=>{const e=Hr();return cn({mutationFn:({id:t,data:r})=>gd.patchPayment(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:ys.lists()}),e.invalidateQueries({queryKey:ys.detail(t.id)})}})},kBe=()=>{const e=Hr();return cn({mutationFn:t=>gd.deletePayment(t),onSuccess:()=>{e.invalidateQueries({queryKey:ys.lists()})}})},f3=()=>{const e=Hr();return cn({mutationFn:t=>gd.createPaymentHistory(t),onSuccess:t=>{e.invalidateQueries({queryKey:ys.history(t.payment)}),e.invalidateQueries({queryKey:ys.lists()}),e.invalidateQueries({queryKey:ys.details()})}})},TBe=()=>{const e=Hr();return cn({mutationFn:t=>gd.deletePaymentHistory(t),onSuccess:()=>{e.invalidateQueries({queryKey:ys.history()}),e.invalidateQueries({queryKey:ys.lists()}),e.invalidateQueries({queryKey:ys.details()})}})},m3=({payment:e,open:t,onOpenChange:r,onSave:s})=>{var w;const[a,i]=v.useState(0),[o,l]=v.useState("Bank Transfer"),[c,d]=v.useState(""),[u,f]=v.useState(""),m=(e==null?void 0:e.total_amount)??(e==null?void 0:e.totalAmount)??0,h=(e==null?void 0:e.amount_paid)??(e==null?void 0:e.amountPaid)??0,x=(e==null?void 0:e.vendor_name)??((w=e==null?void 0:e.vendor_details)==null?void 0:w.name)??(e==null?void 0:e.vendor)??"Unknown",p=(e==null?void 0:e.order_reference)??(e==null?void 0:e.orderReference)??"";if(v.useEffect(()=>{if(t&&e){const b=(e==null?void 0:e.total_amount)??(e==null?void 0:e.totalAmount)??0,N=(e==null?void 0:e.amount_paid)??(e==null?void 0:e.amountPaid)??0,S=b-N;i(S>0?S:0),l("Bank Transfer"),d(""),f("")}},[t,e==null?void 0:e.id]),!e)return n.jsx(Pn,{open:t,onOpenChange:r,children:n.jsx(vn,{className:"max-w-2xl",children:n.jsx(kn,{children:n.jsx(Tn,{children:"Loading..."})})})});const g=m-h,j=g-a,y=()=>{if(!(a<=0)){if(a>g){alert("Payment amount cannot exceed remaining balance");return}s(a,o,c,u)}};return n.jsx(Pn,{open:t,onOpenChange:r,children:n.jsxs(vn,{className:"max-w-2xl",children:[n.jsxs(kn,{children:[n.jsxs(Tn,{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(Nr,{className:"h-5 w-5 text-primary"})}),"Record Payment"]}),n.jsxs(Bs,{children:["Record a new payment for ",n.jsx("span",{className:"font-semibold",children:x})," - ",p]})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-muted/30 rounded-lg border",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-lg font-bold",children:[m.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Already Paid"}),n.jsxs("p",{className:"text-lg font-bold text-success",children:[h.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Remaining"}),n.jsxs("p",{className:"text-lg font-bold text-warning",children:[g.toLocaleString()," HUF"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"amount",className:"text-sm font-semibold",children:"Payment Amount *"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"amount",type:"number",value:a,onChange:b=>i(Number(b.target.value)),placeholder:"Enter amount",className:"text-lg font-semibold pr-16",min:0,max:g}),n.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground font-medium",children:"HUF"})]}),a>0&&n.jsxs("div",{className:"flex items-center justify-between text-sm px-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"New balance after payment:"}),n.jsxs("span",{className:`font-semibold ${j===0?"text-success":"text-warning"}`,children:[j.toLocaleString()," HUF"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paymentMethod",className:"text-sm font-semibold",children:"Payment Method *"}),n.jsxs(st,{value:o,onValueChange:l,children:[n.jsx(rt,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bs,{className:"h-4 w-4"}),n.jsx(at,{})]})}),n.jsxs(nt,{children:[n.jsx(J,{value:"Bank Transfer",children:"Bank Transfer"}),n.jsx(J,{value:"Credit Card",children:"Credit Card"}),n.jsx(J,{value:"Cash",children:"Cash"}),n.jsx(J,{value:"Check",children:"Check"}),n.jsx(J,{value:"Wire Transfer",children:"Wire Transfer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"referenceNo",className:"text-sm font-semibold",children:"Reference Number"}),n.jsx(me,{id:"referenceNo",value:c,onChange:b=>d(b.target.value),placeholder:"Optional",className:"font-mono"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"note",className:"text-sm font-semibold",children:"Notes"}),n.jsx(Sn,{id:"note",value:u,onChange:b=>f(b.target.value),placeholder:"Add any additional notes about this payment...",rows:3,className:"resize-none"})]})]}),n.jsxs(vi,{className:"gap-2",children:[n.jsx(te,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsxs(te,{onClick:y,disabled:a<=0||a>g,className:"min-w-[120px]",children:[n.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]})]})})};function OBe({open:e,onOpenChange:t,payment:r,onUpdate:s}){const[a,i]=v.useState(""),[o,l]=v.useState(!1);v.useEffect(()=>{r!=null&&r.due_date&&i(r.due_date)},[r]);const c=async()=>{if(!(!(r!=null&&r.id)||!a)){l(!0);try{await s(r.id,a),t(!1)}catch(d){console.error("Failed to update payment due date:",d)}finally{l(!1)}}};return r?n.jsx(Pn,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"sm:max-w-[425px]",children:[n.jsxs(kn,{children:[n.jsx(Tn,{children:"Update Payment Due Date"}),n.jsxs(Bs,{children:["Update the payment due date for order ",r.order_reference||"N/A"]})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(q,{htmlFor:"due-date",children:"Due Date"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"due-date",type:"date",value:a,onChange:d=>i(d.target.value),className:"pl-10"}),n.jsx(on,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-muted-foreground",children:"Total Amount"}),n.jsxs("div",{className:"font-medium",children:[((r.total_amount||0)+(r.shipping_cost||0)-(r.discount||0)).toLocaleString()," HUF"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-muted-foreground",children:"Status"}),n.jsx("div",{className:"font-medium",children:r.status||"Unpaid"})]})]})]}),n.jsxs(vi,{children:[n.jsx(te,{variant:"outline",onClick:()=>t(!1),disabled:o,children:"Cancel"}),n.jsx(te,{onClick:c,disabled:o||!a,children:o?"Updating...":"Update Due Date"})]})]})}):null}const Sc=cr.create({baseURL:ro,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});Sc.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Sc.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});const Vc={getDeliveries:async(e={})=>{const t=new URLSearchParams;return e.search&&t.append("search",e.search),e.status&&t.append("status",e.status),e.priority&&t.append("priority",e.priority),e.apartment&&t.append("apartment",e.apartment),e.vendor&&t.append("vendor",e.vendor),e.page&&t.append("page",e.page.toString()),e.page_size&&t.append("page_size",e.page_size.toString()),(await Sc.get(`/deliveries/?${t.toString()}`)).data},getDelivery:async e=>(await Sc.get(`/deliveries/${e}/`)).data,createDelivery:async e=>(await Sc.post("/deliveries/",e)).data,updateDelivery:async(e,t)=>(await Sc.patch(`/deliveries/${e}/`,t)).data,deleteDelivery:async e=>{await Sc.delete(`/deliveries/${e}/`)},updateStatus:async(e,t,r)=>(await Sc.patch(`/deliveries/${e}/update_status/`,{status:t,...r})).data,updateDeliveryField:async(e,t,r)=>(await Sc.patch(`/deliveries/${e}/`,{[t]:r})).data};var Ot=function(){return Ot=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ot.apply(this,arguments)};function DBe(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function zX(e,t,r){for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function by(e){return e.mode==="multiple"}function wy(e){return e.mode==="range"}function X2(e){return e.mode==="single"}var IBe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function RBe(e,t){return Xt(e,"LLLL y",t)}function MBe(e,t){return Xt(e,"d",t)}function FBe(e,t){return Xt(e,"LLLL",t)}function $Be(e){return"".concat(e)}function LBe(e,t){return Xt(e,"cccccc",t)}function BBe(e,t){return Xt(e,"yyyy",t)}var UBe=Object.freeze({__proto__:null,formatCaption:RBe,formatDay:MBe,formatMonthCaption:FBe,formatWeekNumber:$Be,formatWeekdayName:LBe,formatYearCaption:BBe}),VBe=function(e,t,r){return Xt(e,"do MMMM (EEEE)",r)},zBe=function(){return"Month: "},WBe=function(){return"Go to next month"},HBe=function(){return"Go to previous month"},qBe=function(e,t){return Xt(e,"cccc",t)},GBe=function(e){return"Week n. ".concat(e)},KBe=function(){return"Year: "},YBe=Object.freeze({__proto__:null,labelDay:VBe,labelMonthDropdown:zBe,labelNext:WBe,labelPrevious:HBe,labelWeekNumber:GBe,labelWeekday:qBe,labelYearDropdown:KBe});function XBe(){var e="buttons",t=IBe,r=QN,s={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:UBe,labels:YBe,locale:r,modifiersClassNames:s,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function QBe(e){var t=e.fromYear,r=e.toYear,s=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return s?i=fi(s):t&&(i=new Date(t,0,1)),a?o=XN(a):r&&(o=new Date(r,11,31)),{fromDate:i?sp(i):void 0,toDate:o?sp(o):void 0}}var WX=v.createContext(void 0);function ZBe(e){var t,r=e.initialProps,s=XBe(),a=QBe(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:s.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(X2(r)||by(r)||wy(r))&&(c=r.onSelect);var d=Ot(Ot(Ot({},s),r),{captionLayout:l,classNames:Ot(Ot({},s.classNames),r.classNames),components:Ot({},r.components),formatters:Ot(Ot({},s.formatters),r.formatters),fromDate:i,labels:Ot(Ot({},s.labels),r.labels),mode:r.mode||s.mode,modifiers:Ot(Ot({},s.modifiers),r.modifiers),modifiersClassNames:Ot(Ot({},s.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Ot(Ot({},s.styles),r.styles),toDate:o});return n.jsx(WX.Provider,{value:d,children:e.children})}function Qr(){var e=v.useContext(WX);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function HX(e){var t=Qr(),r=t.locale,s=t.classNames,a=t.styles,i=t.formatters.formatCaption;return n.jsx("div",{className:s.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function JBe(e){return n.jsx("svg",Ot({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function qX(e){var t,r,s=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=Qr(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:JBe;return n.jsxs("div",{className:l,style:c,children:[n.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:s,children:i}),n.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,n.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function e9e(e){var t,r=Qr(),s=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!s)return n.jsx(n.Fragment,{});if(!a)return n.jsx(n.Fragment,{});var f=[];if(l0e(s,a))for(var m=fi(s),h=s.getMonth();h<=a.getMonth();h++)f.push(NS(m,h));else for(var m=fi(new Date),h=0;h<=11;h++)f.push(NS(m,h));var x=function(g){var j=Number(g.target.value),y=NS(fi(e.displayMonth),j);e.onChange(y)},p=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:qX;return n.jsx(p,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(g){return n.jsx("option",{value:g.getMonth(),children:l(g,{locale:o})},g.getMonth())})})}function t9e(e){var t,r=e.displayMonth,s=Qr(),a=s.fromDate,i=s.toDate,o=s.locale,l=s.styles,c=s.classNames,d=s.components,u=s.formatters.formatYearCaption,f=s.labels.labelYearDropdown,m=[];if(!a)return n.jsx(n.Fragment,{});if(!i)return n.jsx(n.Fragment,{});for(var h=a.getFullYear(),x=i.getFullYear(),p=h;p<=x;p++)m.push(AR(HW(new Date),p));var g=function(y){var w=AR(fi(r),Number(y.target.value));e.onChange(w)},j=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:qX;return n.jsx(j,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:g,value:r.getFullYear(),caption:u(r,{locale:o}),children:m.map(function(y){return n.jsx("option",{value:y.getFullYear(),children:u(y,{locale:o})},y.getFullYear())})})}function r9e(e,t){var r=v.useState(e),s=r[0],a=r[1],i=t===void 0?s:t;return[i,a]}function n9e(e){var t=e.month,r=e.defaultMonth,s=e.today,a=t||r||s||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&ap(i,a)<0){var d=-1*(c-1);a=Ao(i,d)}return o&&ap(a,o)<0&&(a=o),fi(a)}function s9e(){var e=Qr(),t=n9e(e),r=r9e(t,e.month),s=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=fi(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[s,i]}function a9e(e,t){for(var r=t.reverseMonths,s=t.numberOfMonths,a=fi(e),i=fi(Ao(a,s)),o=ap(i,a),l=[],c=0;c<o;c++){var d=Ao(a,c);l.push(d)}return r&&(l=l.reverse()),l}function i9e(e,t){if(!t.disableNavigation){var r=t.toDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=fi(e);if(!r)return Ao(l,o);var c=ap(r,e);if(!(c<i))return Ao(l,o)}}function o9e(e,t){if(!t.disableNavigation){var r=t.fromDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=fi(e);if(!r)return Ao(l,-o);var c=ap(l,r);if(!(c<=0))return Ao(l,-o)}}var GX=v.createContext(void 0);function l9e(e){var t=Qr(),r=s9e(),s=r[0],a=r[1],i=a9e(s,t),o=i9e(s,t),l=o9e(s,t),c=function(f){return i.some(function(m){return GT(f,m)})},d=function(f,m){c(f)||(m&&XW(f,m)?a(Ao(f,1+t.numberOfMonths*-1)):a(f))},u={currentMonth:s,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return n.jsx(GX.Provider,{value:u,children:e.children})}function Ny(){var e=v.useContext(GX);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function R$(e){var t,r=Qr(),s=r.classNames,a=r.styles,i=r.components,o=Ny().goToMonth,l=function(u){o(Ao(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:HX,d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:s.caption_dropdowns,style:a.caption_dropdowns,children:[n.jsx("div",{className:s.vhidden,children:d}),n.jsx(e9e,{onChange:l,displayMonth:e.displayMonth}),n.jsx(t9e,{onChange:l,displayMonth:e.displayMonth})]})}function c9e(e){return n.jsx("svg",Ot({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function d9e(e){return n.jsx("svg",Ot({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Cw=v.forwardRef(function(e,t){var r=Qr(),s=r.classNames,a=r.styles,i=[s.button_reset,s.button];e.className&&i.push(e.className);var o=i.join(" "),l=Ot(Ot({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),n.jsx("button",Ot({},e,{ref:t,type:"button",className:o,style:l}))});function u9e(e){var t,r,s=Qr(),a=s.dir,i=s.locale,o=s.classNames,l=s.styles,c=s.labels,d=c.labelPrevious,u=c.labelNext,f=s.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var m=d(e.previousMonth,{locale:i}),h=[o.nav_button,o.nav_button_previous].join(" "),x=u(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),g=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:d9e,j=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:c9e;return n.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&n.jsx(Cw,{name:"previous-month","aria-label":m,className:h,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?n.jsx(g,{className:o.nav_icon,style:l.nav_icon}):n.jsx(j,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&n.jsx(Cw,{name:"next-month","aria-label":x,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?n.jsx(j,{className:o.nav_icon,style:l.nav_icon}):n.jsx(g,{className:o.nav_icon,style:l.nav_icon})})]})}function M$(e){var t=Qr().numberOfMonths,r=Ny(),s=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(x){return GT(e.displayMonth,x)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),f=t>1&&(d||!c),m=function(){s&&i(s)},h=function(){a&&i(a)};return n.jsx(u9e,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:a,previousMonth:s,onPreviousClick:m,onNextClick:h})}function f9e(e){var t,r=Qr(),s=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:HX,d;return a?d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=n.jsx(R$,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=n.jsxs(n.Fragment,{children:[n.jsx(R$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx(M$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=n.jsxs(n.Fragment,{children:[n.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(M$,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:s.caption,style:i.caption,children:d})}function m9e(e){var t=Qr(),r=t.footer,s=t.styles,a=t.classNames.tfoot;return r?n.jsx("tfoot",{className:a,style:s.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:r})})}):n.jsx(n.Fragment,{})}function h9e(e,t,r){for(var s=r?rd(new Date):Xi(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Gs(s,i);a.push(o)}return a}function p9e(){var e=Qr(),t=e.classNames,r=e.styles,s=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=h9e(a,i,o);return n.jsxs("tr",{style:r.head_row,className:t.head_row,children:[s&&n.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,f){return n.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},f)})]})}function x9e(){var e,t=Qr(),r=t.classNames,s=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:p9e;return n.jsx("thead",{style:s.head,className:r.head,children:n.jsx(i,{})})}function g9e(e){var t=Qr(),r=t.locale,s=t.formatters.formatDay;return n.jsx(n.Fragment,{children:s(e.date,{locale:r})})}var h3=v.createContext(void 0);function v9e(e){if(!by(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return n.jsx(h3.Provider,{value:t,children:e.children})}return n.jsx(y9e,{initialProps:e.initialProps,children:e.children})}function y9e(e){var t=e.initialProps,r=e.children,s=t.selected,a=t.min,i=t.max,o=function(d,u,f){var m,h;(m=t.onDayClick)===null||m===void 0||m.call(t,d,u,f);var x=!!(u.selected&&a&&(s==null?void 0:s.length)===a);if(!x){var p=!!(!u.selected&&i&&(s==null?void 0:s.length)===i);if(!p){var g=s?zX([],s):[];if(u.selected){var j=g.findIndex(function(y){return ri(d,y)});g.splice(j,1)}else g.push(d);(h=t.onSelect)===null||h===void 0||h.call(t,g,d,u,f)}}},l={disabled:[]};s&&l.disabled.push(function(d){var u=i&&s.length>i-1,f=s.some(function(m){return ri(m,d)});return!!(u&&!f)});var c={selected:s,onDayClick:o,modifiers:l};return n.jsx(h3.Provider,{value:c,children:r})}function p3(){var e=v.useContext(h3);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function j9e(e,t){var r=t||{},s=r.from,a=r.to;return s&&a?ri(a,e)&&ri(s,e)?void 0:ri(a,e)?{from:a,to:void 0}:ri(s,e)?void 0:CE(s,e)?{from:e,to:a}:{from:s,to:e}:a?CE(e,a)?{from:a,to:e}:{from:e,to:a}:s?XW(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var x3=v.createContext(void 0);function b9e(e){if(!wy(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(x3.Provider,{value:t,children:e.children})}return n.jsx(w9e,{initialProps:e.initialProps,children:e.children})}function w9e(e){var t=e.initialProps,r=e.children,s=t.selected,a=s||{},i=a.from,o=a.to,l=t.min,c=t.max,d=function(h,x,p){var g,j;(g=t.onDayClick)===null||g===void 0||g.call(t,h,x,p);var y=j9e(h,s);(j=t.onSelect)===null||j===void 0||j.call(t,y,h,x,p)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],ri(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:Pc(i,l-1),before:Gs(i,l-1)}),i&&o&&u.disabled.push({after:i,before:Gs(i,l-1)}),!i&&o&&u.disabled.push({after:Pc(o,l-1),before:Gs(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:Gs(i,-c+1)}),u.disabled.push({after:Gs(i,c-1)})),i&&o){var f=el(o,i)+1,m=c-f;u.disabled.push({before:Pc(i,m)}),u.disabled.push({after:Gs(o,m)})}!i&&o&&(u.disabled.push({before:Gs(o,-c+1)}),u.disabled.push({after:Gs(o,c-1)}))}return n.jsx(x3.Provider,{value:{selected:s,onDayClick:d,modifiers:u},children:r})}function g3(){var e=v.useContext(x3);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function hb(e){return Array.isArray(e)?zX([],e):e!==void 0?[e]:[]}function N9e(e){var t={};return Object.entries(e).forEach(function(r){var s=r[0],a=r[1];t[s]=hb(a)}),t}var hl;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(hl||(hl={}));var _9e=hl.Selected,vc=hl.Disabled,S9e=hl.Hidden,C9e=hl.Today,JS=hl.RangeEnd,eC=hl.RangeMiddle,tC=hl.RangeStart,E9e=hl.Outside;function A9e(e,t,r){var s,a=(s={},s[_9e]=hb(e.selected),s[vc]=hb(e.disabled),s[S9e]=hb(e.hidden),s[C9e]=[e.today],s[JS]=[],s[eC]=[],s[tC]=[],s[E9e]=[],s);return e.fromDate&&a[vc].push({before:e.fromDate}),e.toDate&&a[vc].push({after:e.toDate}),by(e)?a[vc]=a[vc].concat(t.modifiers[vc]):wy(e)&&(a[vc]=a[vc].concat(r.modifiers[vc]),a[tC]=r.modifiers[tC],a[eC]=r.modifiers[eC],a[JS]=r.modifiers[JS]),a}var KX=v.createContext(void 0);function P9e(e){var t=Qr(),r=p3(),s=g3(),a=A9e(t,r,s),i=N9e(t.modifiers),o=Ot(Ot({},a),i);return n.jsx(KX.Provider,{value:o,children:e.children})}function YX(){var e=v.useContext(KX);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function k9e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function T9e(e){return!!(e&&typeof e=="object"&&"from"in e)}function O9e(e){return!!(e&&typeof e=="object"&&"after"in e)}function D9e(e){return!!(e&&typeof e=="object"&&"before"in e)}function I9e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function R9e(e,t){var r,s=t.from,a=t.to;if(s&&a){var i=el(a,s)<0;i&&(r=[a,s],s=r[0],a=r[1]);var o=el(e,s)>=0&&el(a,e)>=0;return o}return a?ri(a,e):s?ri(s,e):!1}function M9e(e){return BT(e)}function F9e(e){return Array.isArray(e)&&e.every(BT)}function $9e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(M9e(r))return ri(e,r);if(F9e(r))return r.includes(e);if(T9e(r))return R9e(e,r);if(I9e(r))return r.dayOfWeek.includes(e.getDay());if(k9e(r)){var s=el(r.before,e),a=el(r.after,e),i=s>0,o=a<0,l=CE(r.before,r.after);return l?o&&i:i||o}return O9e(r)?el(e,r.after)>0:D9e(r)?el(r.before,e)>0:typeof r=="function"?r(e):!1})}function v3(e,t,r){var s=Object.keys(t).reduce(function(i,o){var l=t[o];return $9e(e,l)&&i.push(o),i},[]),a={};return s.forEach(function(i){return a[i]=!0}),r&&!GT(e,r)&&(a.outside=!0),a}function L9e(e,t){for(var r=fi(e[0]),s=XN(e[e.length-1]),a,i,o=r;o<=s;){var l=v3(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Gs(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Gs(o,1)}return i||a}var B9e=365;function XX(e,t){var r=t.moveBy,s=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,f=a.locale,m={day:Gs,week:NE,month:Ao,year:rxe,startOfWeek:function(g){return a.ISOWeek?rd(g):Xi(g,{locale:f,weekStartsOn:c})},endOfWeek:function(g){return a.ISOWeek?qW(g):UT(g,{locale:f,weekStartsOn:c})}},h=m[r](e,s==="after"?1:-1);s==="before"&&d?h=nxe([d,h]):s==="after"&&u&&(h=sxe([u,h]));var x=!0;if(i){var p=v3(h,i);x=!p.disabled&&!p.hidden}return x?h:l.count>B9e?l.lastFocused:XX(h,{moveBy:r,direction:s,context:a,modifiers:i,retry:Ot(Ot({},l),{count:l.count+1})})}var QX=v.createContext(void 0);function U9e(e){var t=Ny(),r=YX(),s=v.useState(),a=s[0],i=s[1],o=v.useState(),l=o[0],c=o[1],d=L9e(t.displayMonths,r),u=a??(l&&t.isDateDisplayed(l))?l:d,f=function(){c(a),i(void 0)},m=function(g){i(g)},h=Qr(),x=function(g,j){if(a){var y=XX(a,{moveBy:g,direction:j,context:h,modifiers:r});ri(a,y)||(t.goToDate(y,a),m(y))}},p={focusedDay:a,focusTarget:u,blur:f,focus:m,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return n.jsx(QX.Provider,{value:p,children:e.children})}function y3(){var e=v.useContext(QX);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function V9e(e,t){var r=YX(),s=v3(e,r,t);return s}var j3=v.createContext(void 0);function z9e(e){if(!X2(e.initialProps)){var t={selected:void 0};return n.jsx(j3.Provider,{value:t,children:e.children})}return n.jsx(W9e,{initialProps:e.initialProps,children:e.children})}function W9e(e){var t=e.initialProps,r=e.children,s=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:s};return n.jsx(j3.Provider,{value:a,children:r})}function ZX(){var e=v.useContext(j3);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function H9e(e,t){var r=Qr(),s=ZX(),a=p3(),i=g3(),o=y3(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,f=o.blur,m=o.focus,h=o.focusMonthBefore,x=o.focusMonthAfter,p=o.focusYearBefore,g=o.focusYearAfter,j=o.focusStartOfWeek,y=o.focusEndOfWeek,w=function(P){var M,O,K,ne;X2(r)?(M=s.onDayClick)===null||M===void 0||M.call(s,e,t,P):by(r)?(O=a.onDayClick)===null||O===void 0||O.call(a,e,t,P):wy(r)?(K=i.onDayClick)===null||K===void 0||K.call(i,e,t,P):(ne=r.onDayClick)===null||ne===void 0||ne.call(r,e,t,P)},b=function(P){var M;m(e),(M=r.onDayFocus)===null||M===void 0||M.call(r,e,t,P)},N=function(P){var M;f(),(M=r.onDayBlur)===null||M===void 0||M.call(r,e,t,P)},S=function(P){var M;(M=r.onDayMouseEnter)===null||M===void 0||M.call(r,e,t,P)},_=function(P){var M;(M=r.onDayMouseLeave)===null||M===void 0||M.call(r,e,t,P)},E=function(P){var M;(M=r.onDayPointerEnter)===null||M===void 0||M.call(r,e,t,P)},A=function(P){var M;(M=r.onDayPointerLeave)===null||M===void 0||M.call(r,e,t,P)},T=function(P){var M;(M=r.onDayTouchCancel)===null||M===void 0||M.call(r,e,t,P)},R=function(P){var M;(M=r.onDayTouchEnd)===null||M===void 0||M.call(r,e,t,P)},I=function(P){var M;(M=r.onDayTouchMove)===null||M===void 0||M.call(r,e,t,P)},z=function(P){var M;(M=r.onDayTouchStart)===null||M===void 0||M.call(r,e,t,P)},H=function(P){var M;(M=r.onDayKeyUp)===null||M===void 0||M.call(r,e,t,P)},F=function(P){var M;switch(P.key){case"ArrowLeft":P.preventDefault(),P.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":P.preventDefault(),P.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":P.preventDefault(),P.stopPropagation(),d();break;case"ArrowUp":P.preventDefault(),P.stopPropagation(),u();break;case"PageUp":P.preventDefault(),P.stopPropagation(),P.shiftKey?p():h();break;case"PageDown":P.preventDefault(),P.stopPropagation(),P.shiftKey?g():x();break;case"Home":P.preventDefault(),P.stopPropagation(),j();break;case"End":P.preventDefault(),P.stopPropagation(),y();break}(M=r.onDayKeyDown)===null||M===void 0||M.call(r,e,t,P)},k={onClick:w,onFocus:b,onBlur:N,onKeyDown:F,onKeyUp:H,onMouseEnter:S,onMouseLeave:_,onPointerEnter:E,onPointerLeave:A,onTouchCancel:T,onTouchEnd:R,onTouchMove:I,onTouchStart:z};return k}function q9e(){var e=Qr(),t=ZX(),r=p3(),s=g3(),a=X2(e)?t.selected:by(e)?r.selected:wy(e)?s.selected:void 0;return a}function G9e(e){return Object.values(hl).includes(e)}function K9e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(s){var a=e.modifiersClassNames[s];if(a)r.push(a);else if(G9e(s)){var i=e.classNames["day_".concat(s)];i&&r.push(i)}}),r}function Y9e(e,t){var r=Ot({},e.styles.day);return Object.keys(t).forEach(function(s){var a;r=Ot(Ot({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[s])}),r}function X9e(e,t,r){var s,a,i,o=Qr(),l=y3(),c=V9e(e,t),d=H9e(e,c),u=q9e(),f=!!(o.onDayClick||o.mode!=="default");v.useEffect(function(){var S;c.outside||l.focusedDay&&f&&ri(l.focusedDay,e)&&((S=r.current)===null||S===void 0||S.focus())},[l.focusedDay,e,r,f,c.outside]);var m=K9e(o,c).join(" "),h=Y9e(o,c),x=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:g9e,g=n.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),j={style:h,className:m,children:g,role:"gridcell"},y=l.focusTarget&&ri(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&ri(l.focusedDay,e),b=Ot(Ot(Ot({},j),(s={disabled:c.disabled,role:"gridcell"},s["aria-selected"]=c.selected,s.tabIndex=w||y?0:-1,s)),d),N={isButton:f,isHidden:x,activeModifiers:c,selectedDays:u,buttonProps:b,divProps:j};return N}function Q9e(e){var t=v.useRef(null),r=X9e(e.date,e.displayMonth,t);return r.isHidden?n.jsx("div",{role:"gridcell"}):r.isButton?n.jsx(Cw,Ot({name:"day",ref:t},r.buttonProps)):n.jsx("div",Ot({},r.divProps))}function Z9e(e){var t=e.number,r=e.dates,s=Qr(),a=s.onWeekNumberClick,i=s.styles,o=s.classNames,l=s.locale,c=s.labels.labelWeekNumber,d=s.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return n.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var f=c(Number(t),{locale:l}),m=function(h){a(t,r,h)};return n.jsx(Cw,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:m,children:u})}function J9e(e){var t,r,s=Qr(),a=s.styles,i=s.classNames,o=s.showWeekNumber,l=s.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Q9e,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Z9e,u;return o&&(u=n.jsx("td",{className:i.cell,style:a.cell,children:n.jsx(d,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:i.row,style:a.row,children:[u,e.dates.map(function(f){return n.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:n.jsx(c,{displayMonth:e.displayMonth,date:f})},dge(f))})]})}function F$(e,t,r){for(var s=r!=null&&r.ISOWeek?qW(t):UT(t,r),a=r!=null&&r.ISOWeek?rd(e):Xi(e,r),i=el(s,a),o=[],l=0;l<=i;l++)o.push(Gs(a,l));var c=o.reduce(function(d,u){var f=r!=null&&r.ISOWeek?VT(u):WT(u,r),m=d.find(function(h){return h.weekNumber===f});return m?(m.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return c}function e7e(e,t){var r=F$(fi(e),XN(e),t);if(t!=null&&t.useFixedWeeks){var s=fge(e,t);if(s<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=NE(i,6-s),l=F$(NE(i,1),o,t);r.push.apply(r,l)}}return r}function t7e(e){var t,r,s,a=Qr(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,f=a.weekStartsOn,m=a.firstWeekContainsDate,h=a.ISOWeek,x=e7e(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:h,locale:i,weekStartsOn:f,firstWeekContainsDate:m}),p=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:x9e,g=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:J9e,j=(s=u==null?void 0:u.Footer)!==null&&s!==void 0?s:m9e;return n.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&n.jsx(p,{}),n.jsx("tbody",{className:o.tbody,style:l.tbody,children:x.map(function(y){return n.jsx(g,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),n.jsx(j,{displayMonth:e.displayMonth})]})}function r7e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var n7e=r7e()?v.useLayoutEffect:v.useEffect,rC=!1,s7e=0;function $$(){return"react-day-picker-".concat(++s7e)}function a7e(e){var t,r=e??(rC?$$():null),s=v.useState(r),a=s[0],i=s[1];return n7e(function(){a===null&&i($$())},[]),v.useEffect(function(){rC===!1&&(rC=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function i7e(e){var t,r,s=Qr(),a=s.dir,i=s.classNames,o=s.styles,l=s.components,c=Ny().displayMonths,d=a7e(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),u=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],m=o.month,h=e.displayIndex===0,x=e.displayIndex===c.length-1,p=!h&&!x;a==="rtl"&&(t=[h,x],x=t[0],h=t[1]),h&&(f.push(i.caption_start),m=Ot(Ot({},m),o.caption_start)),x&&(f.push(i.caption_end),m=Ot(Ot({},m),o.caption_end)),p&&(f.push(i.caption_between),m=Ot(Ot({},m),o.caption_between));var g=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:f9e;return n.jsxs("div",{className:f.join(" "),style:m,children:[n.jsx(g,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(t7e,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function o7e(e){var t=Qr(),r=t.classNames,s=t.styles;return n.jsx("div",{className:r.months,style:s.months,children:e.children})}function l7e(e){var t,r,s=e.initialProps,a=Qr(),i=y3(),o=Ny(),l=v.useState(!1),c=l[0],d=l[1];v.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var f=Ot(Ot({},a.styles.root),a.style),m=Object.keys(s).filter(function(x){return x.startsWith("data-")}).reduce(function(x,p){var g;return Ot(Ot({},x),(g={},g[p]=s[p],g))},{}),h=(r=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:o7e;return n.jsx("div",Ot({className:u.join(" "),style:f,dir:a.dir,id:a.id,nonce:s.nonce,title:s.title,lang:s.lang},m,{children:n.jsx(h,{children:o.displayMonths.map(function(x,p){return n.jsx(i7e,{displayIndex:p,displayMonth:x},p)})})}))}function c7e(e){var t=e.children,r=DBe(e,["children"]);return n.jsx(ZBe,{initialProps:r,children:n.jsx(l9e,{children:n.jsx(z9e,{initialProps:r,children:n.jsx(v9e,{initialProps:r,children:n.jsx(b9e,{initialProps:r,children:n.jsx(P9e,{children:n.jsx(U9e,{children:t})})})})})})})}function d7e(e){return n.jsx(c7e,Ot({},e,{children:n.jsx(l7e,{initialProps:e})}))}function Ew({className:e,classNames:t,showOutsideDays:r=!0,...s}){return n.jsx(d7e,{showOutsideDays:r,className:ve("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ve(b0({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ve(b0({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>n.jsx(Sk,{className:"h-4 w-4"}),IconRight:({...a})=>n.jsx(gu,{className:"h-4 w-4"})},...s})}Ew.displayName="Calendar";var b3="Popover",[JX,Int]=na(b3,[Iu]),_y=Iu(),[u7e,Wu]=JX(b3),eQ=e=>{const{__scopePopover:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=_y(t),c=v.useRef(null),[d,u]=v.useState(!1),[f=!1,m]=$a({prop:s,defaultProp:a,onChange:i});return n.jsx(NN,{...l,children:n.jsx(u7e,{scope:t,contentId:ci(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(h=>!h),[m]),hasCustomAnchor:d,onCustomAnchorAdd:v.useCallback(()=>u(!0),[]),onCustomAnchorRemove:v.useCallback(()=>u(!1),[]),modal:o,children:r})})};eQ.displayName=b3;var tQ="PopoverAnchor",f7e=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Wu(tQ,r),i=_y(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return v.useEffect(()=>(o(),()=>l()),[o,l]),n.jsx(zv,{...i,...s,ref:t})});f7e.displayName=tQ;var rQ="PopoverTrigger",nQ=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Wu(rQ,r),i=_y(r),o=Rt(t,a.triggerRef),l=n.jsx(ft.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":lQ(a.open),...s,ref:o,onClick:He(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:n.jsx(zv,{asChild:!0,...i,children:l})});nQ.displayName=rQ;var w3="PopoverPortal",[m7e,h7e]=JX(w3,{forceMount:void 0}),sQ=e=>{const{__scopePopover:t,forceMount:r,children:s,container:a}=e,i=Wu(w3,t);return n.jsx(m7e,{scope:t,forceMount:r,children:n.jsx(ls,{present:r||i.open,children:n.jsx(Up,{asChild:!0,container:a,children:s})})})};sQ.displayName=w3;var Op="PopoverContent",aQ=v.forwardRef((e,t)=>{const r=h7e(Op,e.__scopePopover),{forceMount:s=r.forceMount,...a}=e,i=Wu(Op,e.__scopePopover);return n.jsx(ls,{present:s||i.open,children:i.modal?n.jsx(p7e,{...a,ref:t}):n.jsx(x7e,{...a,ref:t})})});aQ.displayName=Op;var p7e=v.forwardRef((e,t)=>{const r=Wu(Op,e.__scopePopover),s=v.useRef(null),a=Rt(t,s),i=v.useRef(!1);return v.useEffect(()=>{const o=s.current;if(o)return Zv(o)},[]),n.jsx(Jv,{as:ec,allowPinchZoom:!0,children:n.jsx(iQ,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:He(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),x7e=v.forwardRef((e,t)=>{const r=Wu(Op,e.__scopePopover),s=v.useRef(!1),a=v.useRef(!1);return n.jsx(iQ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),iQ=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,m=Wu(Op,r),h=_y(r);return LN(),n.jsx(Qv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(um,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:n.jsx(_N,{"data-state":lQ(m.open),role:"dialog",id:m.contentId,...h,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),oQ="PopoverClose",g7e=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Wu(oQ,r);return n.jsx(ft.button,{type:"button",...s,ref:t,onClick:He(e.onClick,()=>a.onOpenChange(!1))})});g7e.displayName=oQ;var v7e="PopoverArrow",y7e=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=_y(r);return n.jsx(SN,{...a,...s,ref:t})});y7e.displayName=v7e;function lQ(e){return e?"open":"closed"}var j7e=eQ,b7e=nQ,w7e=sQ,cQ=aQ;const dv=j7e,uv=b7e,Dp=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...s},a)=>n.jsx(w7e,{children:n.jsx(cQ,{ref:a,align:t,sideOffset:r,className:ve("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Dp.displayName=cQ.displayName;const N7e=({open:e,onOpenChange:t,vendorName:r,productId:s,onVendorUpdated:a,openInEditMode:i=!1})=>{const[o,l]=v.useState(!1),[c,d]=v.useState([]),[u,f]=v.useState(null),[m,h]=v.useState(!1),[x,p]=v.useState("");v.useEffect(()=>{e?(g(),h(i)):(f(null),p(""),h(!1))},[e,i]);const g=async()=>{l(!0);try{const y=await Mo.getVendors();d(y.results);const w=y.results.find(b=>b.name.toLowerCase()===r.toLowerCase());w?(f(w),p(w.id)):(f(null),p(""))}catch(y){console.error("Error fetching vendors:",y),Ue.error("Failed to load vendors")}finally{l(!1)}},j=async()=>{if(!x){Ue.error("Please select a vendor");return}const y=c.find(w=>w.id===x);y&&(a==null||a(y.id,y.name),Ue.success(`Vendor changed to ${y.name}`),t(!1))};return n.jsx(Pn,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(kn,{children:[n.jsxs(Tn,{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-5 w-5"}),"Vendor Details"]}),n.jsx(Bs,{children:"View vendor information and change vendor assignment"})]}),o?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Ht,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsx("div",{className:"space-y-6 py-4",children:u?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Current Vendor"}),n.jsx(te,{variant:"outline",size:"sm",onClick:()=>h(!m),children:m?"Cancel":"Change Vendor"})]}),m?n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[n.jsx(q,{children:"Select New Vendor"}),n.jsxs(st,{value:x,onValueChange:p,children:[n.jsx(rt,{children:n.jsx(at,{placeholder:"Choose a vendor"})}),n.jsx(nt,{children:c.map(y=>n.jsx(J,{value:y.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4"}),n.jsx("span",{children:y.name}),y.company_name&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",y.company_name,")"]})]})},y.id))})]})]}):n.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 border rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Vendor Name"}),n.jsx("p",{className:"font-semibold",children:u.name})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Company Name"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4 text-muted-foreground"}),u.company_name||"N/A"]})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Contact Person"}),n.jsx("p",{children:u.contact_person||"N/A"})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Category"}),n.jsx("p",{children:u.category||"N/A"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Email"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(gn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:`mailto:${u.email}`,className:"text-primary hover:underline",children:u.email})]})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Phone"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(ko,{className:"h-4 w-4 text-muted-foreground"}),u.phone||"N/A"]})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Website"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(tc,{className:"h-4 w-4 text-muted-foreground"}),u.website?n.jsx("a",{href:u.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:u.website}):"N/A"]})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Address"}),n.jsxs("p",{className:"flex items-start gap-2",children:[n.jsx(ya,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsxs("span",{className:"text-sm",children:[u.address||"N/A",u.city&&`, ${u.city}`,u.country&&`, ${u.country}`]})]})]})]}),n.jsxs("div",{className:"col-span-2 grid grid-cols-3 gap-4 pt-4 border-t",children:[n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Lead Time"}),n.jsx("p",{className:"font-semibold",children:u.lead_time||"N/A"})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Reliability"}),n.jsx("p",{className:"font-semibold",children:u.reliability||"N/A"})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Total Orders"}),n.jsx("p",{className:"font-semibold",children:u.orders_count||0})]})]})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"No vendor assigned or vendor not found in the system."}),n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[n.jsx(q,{children:"Assign Vendor"}),n.jsxs(st,{value:x,onValueChange:p,children:[n.jsx(rt,{children:n.jsx(at,{placeholder:"Choose a vendor"})}),n.jsx(nt,{children:c.map(y=>n.jsx(J,{value:y.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4"}),n.jsx("span",{children:y.name}),y.company_name&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",y.company_name,")"]})]})},y.id))})]})]})]})}),n.jsxs(vi,{children:[n.jsx(te,{variant:"outline",onClick:()=>t(!1),children:"Close"}),(m||!u)&&n.jsx(te,{onClick:j,disabled:!x,children:u?"Change Vendor":"Assign Vendor"})]})]})})};var N3="Switch",[_7e,Rnt]=na(N3),[S7e,C7e]=_7e(N3),dQ=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[m,h]=v.useState(null),x=Rt(t,w=>h(w)),p=v.useRef(!1),g=m?u||!!m.closest("form"):!0,[j=!1,y]=$a({prop:a,defaultProp:i,onChange:d});return n.jsxs(S7e,{scope:r,checked:j,disabled:l,children:[n.jsx(ft.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":mQ(j),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:He(e.onClick,w=>{y(b=>!b),g&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),g&&n.jsx(E7e,{control:m,bubbles:!p.current,name:s,value:c,checked:j,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});dQ.displayName=N3;var uQ="SwitchThumb",fQ=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=C7e(uQ,r);return n.jsx(ft.span,{"data-state":mQ(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});fQ.displayName=uQ;var E7e=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,i=v.useRef(null),o=W2(r),l=wN(t);return v.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&f){const m=new Event("click",{bubbles:s});f.call(c,r),c.dispatchEvent(m)}},[o,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function mQ(e){return e?"checked":"unchecked"}var hQ=dQ,A7e=fQ;const Vn=v.forwardRef(({className:e,...t},r)=>n.jsx(hQ,{className:ve("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(A7e,{className:ve("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Vn.displayName=hQ.displayName;var P7e="Separator",L$="horizontal",k7e=["horizontal","vertical"],pQ=v.forwardRef((e,t)=>{const{decorative:r,orientation:s=L$,...a}=e,i=T7e(s)?s:L$,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(ft.div,{"data-orientation":i,...l,...a,ref:t})});pQ.displayName=P7e;function T7e(e){return k7e.includes(e)}var xQ=pQ;const $t=v.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...s},a)=>n.jsx(xQ,{ref:a,decorative:r,orientation:t,className:ve("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));$t.displayName=xQ.displayName;const B$=e=>{let t;const r=new Set,s=(d,u)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const m=t;t=u??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(h=>h(t,m))}},a=()=>t,l={setState:s,getState:a,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d))},c=t=e(s,a,l);return l},O7e=e=>e?B$(e):B$,D7e=e=>e;function I7e(e,t=D7e){const r=V.useSyncExternalStore(e.subscribe,V.useCallback(()=>t(e.getState()),[e,t]),V.useCallback(()=>t(e.getInitialState()),[e,t]));return V.useDebugValue(r),r}const R7e=e=>{const t=O7e(e),r=s=>I7e(t,s);return Object.assign(r,t),r},M7e=e=>R7e;function F7e(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=r.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const cP=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(s){return cP(s)(r)},catch(s){return this}}}catch(r){return{then(s){return this},catch(s){return cP(s)(r)}}}},$7e=(e,t)=>(r,s,a)=>{let i={storage:F7e(()=>localStorage),partialize:p=>p,version:0,merge:(p,g)=>({...g,...p}),...t},o=!1;const l=new Set,c=new Set;let d=i.storage;if(!d)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...p)},s,a);const u=()=>{const p=i.partialize({...s()});return d.setItem(i.name,{state:p,version:i.version})},f=a.setState;a.setState=(p,g)=>(f(p,g),u());const m=e((...p)=>(r(...p),u()),s,a);a.getInitialState=()=>m;let h;const x=()=>{var p,g;if(!d)return;o=!1,l.forEach(y=>{var w;return y((w=s())!=null?w:m)});const j=((g=i.onRehydrateStorage)==null?void 0:g.call(i,(p=s())!=null?p:m))||void 0;return cP(d.getItem.bind(d))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate){const w=i.migrate(y.state,y.version);return w instanceof Promise?w.then(b=>[!0,b]):[!0,w]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var w;const[b,N]=y;if(h=i.merge(N,(w=s())!=null?w:m),r(h,!0),b)return u()}).then(()=>{j==null||j(h,void 0),h=s(),o=!0,c.forEach(y=>y(h))}).catch(y=>{j==null||j(void 0,y)})};return a.persist={setOptions:p=>{i={...i,...p},p.storage&&(d=p.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},i.skipHydration||x(),h||m},L7e=$7e,B7e=()=>({vendors:[{id:"vendor-001",name:"IKEA",companyName:"IKEA Hungary Kft.",contactPerson:"Sales Department",email:"sales@ikea.hu",phone:"+36 1 123 4567",website:"https://www.ikea.com/hu/hu/",notes:"Main furniture supplier"},{id:"vendor-002",name:"Royalty Line",companyName:"Royalty Line Europe",contactPerson:"Customer Service",email:"support@royaltyline.eu",phone:"+36 30 234 5678",website:"https://royaltyline.eu/",notes:"Kitchen and cookware specialist"},{id:"vendor-003",name:"JYSK",companyName:"JYSK Hungary",contactPerson:"B2B Sales",email:"b2b@jysk.hu",phone:"+36 1 345 6789",website:"https://jysk.hu/",notes:"Bedroom furniture and textiles"}],clients:[{id:"client-001",name:"John Doe",email:"john.doe@example.com",phone:"+36 20 123 4567",accountStatus:"Active",type:"Investor",notes:"Long-term investor with multiple properties"},{id:"client-002",name:"Anna Nagy",email:"anna.nagy@example.com",phone:"+36 30 987 6543",accountStatus:"Active",type:"Investor",notes:""},{id:"client-003",name:"Mikls Szab",email:"miklos.szabo@example.com",phone:"+36 70 555 1234",accountStatus:"Active",type:"Investor",notes:""},{id:"client-internal",name:"Buy2Rent Internal",email:"info@buy2rent.com",phone:"+36 1 234 5678",accountStatus:"Active",type:"Buy2Rent Internal",notes:"Internal company projects"}],apartments:[{id:"apt-001",name:"Izabella utca 3  A/12",type:"furnishing",clientId:"client-001",owner:"John Doe",address:"Izabella u. 3, Budapest",status:"Ordering",designer:"Barbara Kovcs",startDate:"2025-10-15",dueDate:"2025-12-05",progress:68,notes:""},{id:"apt-002",name:"Vci t 41  3.em 7",type:"renovating",clientId:"client-002",owner:"Anna Nagy",address:"Vci t 41, Budapest",status:"Renovating",designer:"Barbara Kovcs",startDate:"2025-09-10",dueDate:"2025-11-28",progress:52,notes:""},{id:"apt-003",name:"Andrssy t 25  B/5",type:"furnishing",clientId:"client-003",owner:"Mikls Szab",address:"Andrssy t 25, Budapest",status:"Design Approved",designer:"Barbara Kovcs",startDate:"2025-10-01",dueDate:"2025-12-01",progress:74,notes:""}],products:[{id:"p-1001",apartmentId:"apt-001",product:"Kanap  3 szemlyes",vendor:"IKEA",vendorLink:"https://www.ikea.com/hu/hu/",sku:"IK-SOFA-3",unitPrice:159999,qty:1,availability:"In Stock",status:"Ordered",statusTags:["Ordered"],deliveryStatusTags:["Scheduled"],eta:"2025-11-14",category:"Living Room",room:"Nappali",imageUrl:"",orderedOn:"2025-11-01",expectedDeliveryDate:"2025-11-14",paymentStatus:"Partially Paid",paymentDueDate:"2025-11-12",paymentAmount:159999,paidAmount:63999,issueState:"AI Resolving",issueId:"issue-002",vendorId:"vendor-001"},{id:"p-1002",apartmentId:"apt-001",product:"tkezasztal  Tlgy",vendor:"IKEA",vendorLink:"https://www.ikea.com/hu/hu/",sku:"IK-DINE-OAK",unitPrice:89999,qty:1,availability:"Backorder",status:"Waiting For Stock",statusTags:["Ordered","Waiting For Stock"],deliveryStatusTags:["Scheduled"],eta:"2025-11-25",category:"Dining",room:"tkez",imageUrl:"",orderedOn:"2025-11-02",expectedDeliveryDate:"2025-11-25",paymentStatus:"Partially Paid",paymentDueDate:"2025-11-12",paymentAmount:89999,paidAmount:36001,issueState:"No Issue",vendorId:"vendor-001"},{id:"p-1003",apartmentId:"apt-001",product:"Marble Cookware Set",vendor:"Royalty Line",vendorLink:"https://royaltyline.eu/",sku:"RL-COOK-SET",unitPrice:12999,qty:2,availability:"In Stock",status:"Damaged",statusTags:["Delivered","Damaged"],deliveryStatusTags:["Delivered","Issue Reported"],eta:"2025-11-12",category:"Kitchen",room:"Konyha",imageUrl:"",orderedOn:"2025-10-28",actualDeliveryDate:"2025-11-04",expectedDeliveryDate:"2025-11-04",paymentStatus:"Paid",paymentDueDate:"2025-11-03",paymentAmount:25998,paidAmount:25998,issueState:"AI Resolving",issueId:"issue-001",vendorId:"vendor-002"},{id:"p-1004",apartmentId:"apt-003",product:"King Size gy - Fekete",vendor:"JYSK",vendorLink:"https://jysk.hu/",sku:"JY-BED-KING-BLK",unitPrice:129e3,qty:1,availability:"In Stock",status:"Delivered",statusTags:["Delivered"],deliveryStatusTags:["Delivered"],category:"Bedroom",room:"Hlszoba",imageUrl:"",orderedOn:"2025-10-20",actualDeliveryDate:"2025-11-03",expectedDeliveryDate:"2025-11-03",paymentStatus:"Paid",paymentDueDate:"2025-10-25",paymentAmount:129e3,paidAmount:129e3,issueState:"No Issue",vendorId:"vendor-003"}],deliveries:[{id:"del-001",apartmentId:"apt-001",vendor:"IKEA",orderReference:"IK-ORD-001",expectedDate:"2025-11-14",status:"Scheduled",notes:"Delivery window: 9:00-12:00"},{id:"del-002",apartmentId:"apt-001",vendor:"Royalty Line",orderReference:"RL-ORD-002",expectedDate:"2025-11-04",actualDate:"2025-11-04",receivedBy:"John Doe",status:"Issue Reported",notes:"Items damaged during shipping",proofPhotos:[]}],payments:[{id:"pay-001",apartmentId:"apt-001",vendor:"IKEA",orderReference:"IK-ORD-001",totalAmount:249998,amountPaid:1e5,dueDate:"2025-11-12",status:"Partial",lastPaymentDate:"2025-11-01",paymentHistory:[{date:"2025-11-01",amount:1e5,method:"Bank Transfer",referenceNo:"TRF-20251101-001",note:"Initial payment"}]},{id:"pay-002",apartmentId:"apt-001",vendor:"Royalty Line",orderReference:"RL-ORD-002",totalAmount:25998,amountPaid:25998,dueDate:"2025-11-03",status:"Paid",lastPaymentDate:"2025-10-30",paymentHistory:[{date:"2025-10-30",amount:25998,method:"Credit Card",referenceNo:"CC-20251030-002"}]}],issues:[{id:"issue-001",apartmentId:"apt-001",productId:"p-1003",productName:"Marble Cookware Set",vendor:"Royalty Line",type:"Broken/Damaged",description:"Two pans arrived with cracked marble coating. Product unusable.",reportedOn:"2025-11-04",status:"Pending Vendor Response",photos:[],aiActivated:!0,aiCommunicationLog:[{timestamp:"2025-11-04T16:12:00",sender:"AI",message:`Dear Royalty Line Team,

We received order RL-ORD-002 (Marble Cookware Set, SKU: RL-COOK-SET) on November 4th, 2025. Unfortunately, two pans arrived with cracked marble coating, rendering them unusable.

Kindly confirm the replacement or refund procedure at your earliest convenience.

Best regards,
Buy2Rent FPMS`},{timestamp:"2025-11-04T18:45:00",sender:"Vendor",message:`Hello,

Thank you for contacting us. We apologize for the damaged items. We will arrange a replacement shipment immediately.

Please return the damaged items to our warehouse. RMA #RL-2025-1104.

Expected replacement delivery: November 10th, 2025.

Best regards,
Royalty Line Customer Service`},{timestamp:"2025-11-04T18:46:00",sender:"System",message:" HUMAN ACTION REQUIRED: Vendor requires damaged item to be shipped back. Please arrange pickup or return shipping for damaged cookware set by November 8th, 2025. RMA Number: RL-2025-1104."},{timestamp:"2025-11-04T19:00:00",sender:"AI",message:`Thank you for your prompt response. We acknowledge the replacement shipment scheduled for November 10th. Return shipment will be arranged as per RMA #RL-2025-1104.

Best regards,
Buy2Rent FPMS`}],resolutionStatus:"Resolution Agreed"},{id:"issue-002",apartmentId:"apt-001",productId:"p-1001",productName:"Kanap  3 szemlyes",vendor:"IKEA",type:"Wrong Item/Color",description:"Sofa delivered in wrong color - ordered grey (kivitelben szrke), received beige.",reportedOn:"2025-11-05",status:"Pending Vendor Response",photos:[],aiActivated:!0,aiCommunicationLog:[{timestamp:"2025-11-05T09:15:00",sender:"AI",message:`Dear IKEA Customer Service,

We have an issue with order IK-ORD-001 for the 3-seater sofa (SKU: IK-SOFA-3).

Ordered: Grey color (kivitelben szrke)
Received: Beige color

Could you please advise on the exchange process? We need the correct grey sofa as per our original order.

Best regards,
Buy2Rent Procurement Team`},{timestamp:"2025-11-05T11:30:00",sender:"Vendor",message:`Hello,

Thank you for reporting this issue. We sincerely apologize for the color mix-up.

We have checked our inventory and the grey 3-seater sofa is currently in stock. We can arrange:

1. Pickup of the beige sofa: November 8th, 2025
2. Delivery of the correct grey sofa: November 12th, 2025

No additional charges will apply. We will send you a return label via email within 2 hours.

Reference Number: IKEA-EXCH-20251105-001

Best regards,
IKEA Hungary Customer Service`},{timestamp:"2025-11-05T11:45:00",sender:"AI",message:`Thank you for your prompt response and the proposed solution.

We confirm:
- Pickup of beige sofa: November 8th, 2025 
- Delivery of grey sofa: November 12th, 2025 
- Reference: IKEA-EXCH-20251105-001 

We will ensure the beige sofa is ready for pickup on the 8th. Please send the return label to our registered email address.

Thank you for your cooperation.

Best regards,
Buy2Rent Procurement Team`},{timestamp:"2025-11-05T14:20:00",sender:"Vendor",message:`Perfect! Return label has been sent to your email (info@buy2rent.com).

Pickup scheduled for November 8th between 10:00-14:00.
Delivery scheduled for November 12th between 9:00-13:00.

We have also applied a 10% courtesy discount on your next purchase as an apology for the inconvenience.

Thank you for your understanding!

IKEA Hungary`},{timestamp:"2025-11-05T14:25:00",sender:"AI",message:`Excellent! We have received the return label.

We appreciate the courtesy discount and your professional handling of this matter. Looking forward to receiving the correct grey sofa on November 12th.

Best regards,
Buy2Rent Procurement Team`}],resolutionStatus:"Resolution Agreed"}],activities:[{id:"act-001",apartmentId:"apt-001",timestamp:"2025-11-04T09:15:00",actor:"Admin",icon:"ShoppingCart",summary:'Product "Kanap  3 szemlyes" marked as Ordered',type:"product"},{id:"act-002",apartmentId:"apt-001",timestamp:"2025-11-04T14:30:00",actor:"Admin",icon:"CreditCard",summary:"Partial payment of 100,000 HUF logged for IKEA order (Outstanding: 149,998 HUF)",type:"payment"},{id:"act-003",apartmentId:"apt-001",timestamp:"2025-11-04T16:12:00",actor:"AI Assistant",icon:"Mail",summary:"AI emailed vendor Royalty Line about broken cookware set",type:"ai"},{id:"act-004",apartmentId:"apt-001",timestamp:"2025-11-04T11:45:00",actor:"John Doe",icon:"PackageCheck",summary:"Delivery received from Royalty Line - issue reported",type:"delivery"}],aiNotes:[{id:"ai-001",apartmentId:"apt-001",timestamp:"2025-11-04T16:12:00",sender:"AI",content:`Dear Royalty Line Team,

We received order RL-ORD-002 (Marble Cookware Set, SKU: RL-COOK-SET) on November 4th, 2025. Unfortunately, two pans arrived with cracked marble coating, rendering them unusable.

Kindly confirm the replacement or refund procedure at your earliest convenience.

Best regards,
Buy2Rent FPMS`,emailSubject:"Issue Report: Damaged Items - Order RL-ORD-002",relatedTo:"issue-001"}],manualNotes:{}}),Pl=B7e(),Bl=M7e()(L7e((e,t)=>({clients:Pl.clients,apartments:Pl.apartments,vendors:Pl.vendors,products:Pl.products,deliveries:Pl.deliveries,payments:Pl.payments,issues:Pl.issues,activities:Pl.activities,aiNotes:Pl.aiNotes,manualNotes:Pl.manualNotes,addClient:r=>e(s=>({clients:[...s.clients,{...r,id:`client-${Date.now()}`}]})),updateClient:(r,s)=>e(a=>({clients:a.clients.map(i=>i.id===r?{...i,...s}:i)})),deleteClient:r=>e(s=>({clients:s.clients.filter(a=>a.id!==r)})),getClient:r=>t().clients.find(s=>s.id===r),addVendor:r=>e(s=>({vendors:[...s.vendors,{...r,id:`vendor-${Date.now()}`}]})),updateVendor:(r,s)=>e(a=>({vendors:a.vendors.map(i=>i.id===r?{...i,...s}:i)})),deleteVendor:r=>e(s=>({vendors:s.vendors.filter(a=>a.id!==r)})),getVendor:r=>t().vendors.find(s=>s.id===r),getVendorByName:r=>t().vendors.find(s=>s.name.toLowerCase()===r.toLowerCase()),addApartment:r=>e(s=>({apartments:[...s.apartments,{...r,id:`apt-${Date.now()}`}]})),updateApartment:(r,s)=>e(a=>({apartments:a.apartments.map(i=>i.id===r?{...i,...s}:i)})),deleteApartment:r=>e(s=>({apartments:s.apartments.filter(a=>a.id!==r)})),getApartment:r=>t().apartments.find(s=>s.id===r),getApartmentsByType:r=>t().apartments.filter(s=>s.type===r),getApartmentsByClient:r=>t().apartments.filter(s=>s.clientId===r),addProduct:r=>e(s=>({products:[...s.products,{...r,id:`p-${Date.now()}`}]})),addProducts:r=>e(s=>({products:[...s.products,...r.map((a,i)=>({...a,id:`p-${Date.now()}-${i}`}))]})),updateProduct:(r,s)=>e(a=>({products:a.products.map(i=>i.id===r?{...i,...s}:i)})),deleteProduct:r=>e(s=>({products:s.products.filter(a=>a.id!==r)})),getProduct:r=>t().products.find(s=>s.id===r),getProductsByApartment:r=>t().products.filter(s=>s.apartmentId===r),addDelivery:r=>e(s=>({deliveries:[...s.deliveries,{...r,id:`del-${Date.now()}`}]})),updateDelivery:(r,s)=>e(a=>({deliveries:a.deliveries.map(i=>i.id===r?{...i,...s}:i)})),getDeliveriesByApartment:r=>t().deliveries.filter(s=>s.apartmentId===r),addPayment:r=>e(s=>({payments:[...s.payments,{...r,id:`pay-${Date.now()}`}]})),updatePayment:(r,s)=>e(a=>({payments:a.payments.map(i=>i.id===r?{...i,...s}:i)})),addPaymentToHistory:(r,s)=>e(a=>({payments:a.payments.map(i=>i.id===r?{...i,paymentHistory:[...i.paymentHistory,s],amountPaid:i.amountPaid+s.amount,lastPaymentDate:s.date,status:i.amountPaid+s.amount>=i.totalAmount?"Paid":"Partial"}:i)})),getPaymentsByApartment:r=>t().payments.filter(s=>s.apartmentId===r),addIssue:r=>e(s=>({issues:[...s.issues,{...r,id:`issue-${Date.now()}`}]})),updateIssue:(r,s)=>e(a=>({issues:a.issues.map(i=>i.id===r?{...i,...s}:i)})),getIssuesByApartment:r=>t().issues.filter(s=>s.apartmentId===r),addActivity:r=>e(s=>({activities:[...s.activities,{...r,id:`act-${Date.now()}`,timestamp:new Date().toISOString()}]})),getActivitiesByApartment:r=>t().activities.filter(s=>s.apartmentId===r).sort((s,a)=>new Date(a.timestamp).getTime()-new Date(s.timestamp).getTime()),addAINote:r=>e(s=>({aiNotes:[...s.aiNotes,{...r,id:`ai-${Date.now()}`,timestamp:new Date().toISOString()}]})),getAINotesByApartment:r=>t().aiNotes.filter(s=>s.apartmentId===r).sort((s,a)=>new Date(a.timestamp).getTime()-new Date(s.timestamp).getTime()),setManualNote:(r,s)=>e(a=>({manualNotes:{...a.manualNotes,[r]:s}})),getManualNote:r=>t().manualNotes[r]||""}),{name:"fpms-data-storage"})),gQ=({open:e,onOpenChange:t,product:r,onIssueUpdated:s})=>{const a=Bl(_=>_.getIssuesByApartment),i=Bl(_=>_.addIssue),o=Bl(_=>_.updateIssue),l=Bl(_=>_.updateProduct),c=Bl(_=>_.addActivity),d=Bl(_=>_.addAINote),f=a(r.apartmentId).find(_=>_.id===r.issueId||_.productId===r.id),[m,h]=v.useState(""),[x,p]=v.useState("Broken/Damaged"),[g,j]=v.useState(!1),[y,w]=v.useState("Open");v.useEffect(()=>{f?(h(f.description),p(f.type),j(f.aiActivated||!1),w(f.resolutionStatus||"Open")):(h(""),p("Broken/Damaged"),j(!1),w("Open"))},[f,e]);const b=()=>{if(!m.trim()){Ue.error("Please provide a description of the issue");return}if(f){o(f.id,{description:m,type:x,aiActivated:g,resolutionStatus:y});const _=g?"AI Resolving":y==="Closed"?"Resolved":"Issue Reported";l(r.id,{issueState:_}),Ue.success("Issue updated")}else{const _={apartmentId:r.apartmentId,productId:r.id,productName:r.product,vendor:r.vendor,type:x,description:m,reportedOn:new Date().toISOString(),status:"Open",aiActivated:g,aiCommunicationLog:[],resolutionStatus:"Open"};i(_);const E=g?"AI Resolving":"Issue Reported";l(r.id,{issueState:E}),c({apartmentId:r.apartmentId,actor:"Admin",icon:"AlertCircle",summary:`Issue reported for "${r.product}": ${x}`,type:"issue"}),g&&setTimeout(()=>{d({apartmentId:r.apartmentId,sender:"AI",content:`Automatically analyzing issue with ${r.product}. Preparing vendor communication for ${r.vendor}...`})},500),Ue.success("Issue created"+(g?" - AI activated":""))}s==null||s(),t(!1)},N=()=>{const _=!g;j(_),f&&_&&Ue.info("AI Chatbot activated for this issue")},S=_=>{switch(_){case"Closed":return n.jsx(Ur,{className:"h-4 w-4 text-success"});case"Resolution Agreed":return n.jsx(Ur,{className:"h-4 w-4 text-primary"});case"Pending Vendor Response":return n.jsx(wr,{className:"h-4 w-4 text-warning"});default:return n.jsx(Et,{className:"h-4 w-4 text-danger"})}};return n.jsx(Pn,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs(kn,{children:[n.jsxs(Tn,{children:["Issue Management - ",r.product]}),n.jsx(Bs,{children:"Report and track issues, activate AI assistance for automated vendor communication"})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6 py-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"issueType",children:"Issue Type"}),n.jsxs(st,{value:x,onValueChange:_=>p(_),children:[n.jsx(rt,{children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"Broken/Damaged",children:"Broken/Damaged"}),n.jsx(J,{value:"Wrong Item/Color",children:"Wrong Item/Color"}),n.jsx(J,{value:"Missing Parts",children:"Missing Parts"}),n.jsx(J,{value:"Incorrect Quantity",children:"Incorrect Quantity"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"description",children:"Detailed Description"}),n.jsx(pa,{id:"description",value:m,onChange:_=>h(_.target.value),placeholder:"Describe the issue in detail...",rows:4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"resolutionStatus",children:"Resolution Status"}),n.jsxs(st,{value:y,onValueChange:_=>w(_),children:[n.jsx(rt,{children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"Open",children:"Open"}),n.jsx(J,{value:"Pending Vendor Response",children:"Pending Vendor Response"}),n.jsx(J,{value:"Resolution Agreed",children:"Resolution Agreed"}),n.jsx(J,{value:"Closed",children:"Closed"})]})]})]})]}),n.jsx($t,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/30",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Oa,{className:"h-5 w-5 text-primary"}),n.jsx(q,{htmlFor:"aiActivated",className:"text-base font-semibold cursor-pointer",children:"Activate AI Chatbot for Resolution"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"AI will automatically communicate with vendor to resolve this issue"})]}),n.jsx(Vn,{id:"aiActivated",checked:g,onCheckedChange:N})]}),g&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[n.jsx(p7,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:"AI Chatbot is active"}),n.jsxs(te,{size:"sm",variant:"outline",className:"ml-auto",onClick:()=>Ue.info("AI chatbot paused for this issue"),children:[n.jsx(Sse,{className:"h-3 w-3 mr-1"}),"Pause AI"]})]})]}),f&&f.aiCommunicationLog&&f.aiCommunicationLog.length>0&&n.jsxs(n.Fragment,{children:[n.jsx($t,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(q,{className:"text-base font-semibold",children:"AI Communication Log"}),n.jsxs(Ce,{variant:"outline",children:[f.aiCommunicationLog.length," messages"]})]}),n.jsx(Mu,{className:"h-64 border rounded-lg p-4",children:n.jsx("div",{className:"space-y-4",children:f.aiCommunicationLog.map((_,E)=>{const A=_.message.toLowerCase().includes("please arrange")||_.message.toLowerCase().includes("action required")||_.message.toLowerCase().includes("human action");return n.jsxs("div",{className:ve("flex gap-3 p-3 rounded-lg",_.sender==="AI"?"bg-primary/5":"bg-muted",A&&"border-2 border-warning shadow-sm"),children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:_.sender==="AI"?n.jsx(Oa,{className:"h-4 w-4 text-primary"}):_.sender==="Vendor"?n.jsx(os,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Et,{className:"h-4 w-4 text-warning"})}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ce,{variant:_.sender==="AI"?"default":"outline",className:ve("text-xs",A&&"bg-warning text-warning-foreground"),children:_.sender}),A&&n.jsxs(Ce,{variant:"outline",className:"text-xs bg-warning/10 text-warning border-warning/50",children:[n.jsx(Et,{className:"h-3 w-3 mr-1"}),"Action Required"]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(_.timestamp).toLocaleString()})]}),n.jsx("p",{className:ve("text-sm whitespace-pre-wrap",A&&"font-medium"),children:_.message})]})]},E)})})}),f.aiCommunicationLog.some(_=>_.message.toLowerCase().includes("please arrange")||_.message.toLowerCase().includes("action required"))&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-warning/10 border border-warning/30 rounded-lg",children:[n.jsx(Et,{className:"h-5 w-5 text-warning"}),n.jsx("span",{className:"text-sm font-medium text-warning-foreground",children:"Human action required - please review the communication log above"})]})]})]}),f&&n.jsxs(n.Fragment,{children:[n.jsx($t,{}),n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[S(f.resolutionStatus),n.jsx("span",{className:"font-medium",children:"Current Status:"}),n.jsx(Ce,{children:f.resolutionStatus||"Open"})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Reported: ",new Date(f.reportedOn).toLocaleDateString()]})]})]})]}),n.jsxs(vi,{children:[n.jsx(te,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsxs(te,{onClick:b,children:[f?"Update":"Create"," Issue"]})]})]})})},U7e=({open:e,onOpenChange:t,product:r})=>{if(!r)return null;const s=a=>a!=null&&a.includes("DPD")?"bg-blue-500 text-white":a!=null&&a.includes("GLS")?"bg-yellow-500 text-black":a!=null&&a.includes("Sameday")?"bg-green-500 text-white":"bg-muted text-muted-foreground";return n.jsx(Pn,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(kn,{children:[n.jsxs(Tn,{className:"flex items-center gap-2",children:[n.jsx(_r,{className:"h-5 w-5 text-primary"}),"Delivery Location Details"]}),n.jsxs(Bs,{children:["Complete delivery information for ",r.product]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start gap-4 p-4 bg-muted/50 rounded-lg",children:[r.product_image?n.jsx("img",{src:r.product_image,alt:r.product,className:"h-16 w-16 rounded object-cover"}):n.jsx("div",{className:"h-16 w-16 rounded bg-muted flex items-center justify-center",children:n.jsx(lt,{className:"h-8 w-8 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-lg",children:r.product}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["SKU: ",r.sku]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Vendor: ",r.vendor]})]})]}),n.jsx($t,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(_r,{className:"h-4 w-4 text-primary"}),n.jsx("h4",{className:"font-semibold",children:"Delivery Service"})]}),n.jsx(Ce,{className:s(r.deliveryType),variant:"secondary",children:r.deliveryType||"Not specified"}),r.trackingNumber&&n.jsxs("div",{className:"mt-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Tracking Number:"}),n.jsx("span",{className:"ml-2 font-mono font-medium",children:r.trackingNumber})]})]}),n.jsx($t,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(ya,{className:"h-4 w-4 text-primary"}),n.jsx("h4",{className:"font-semibold",children:"Delivery Address"})]}),n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg space-y-2",children:[n.jsx("p",{className:"font-medium",children:r.deliveryAddress||"Not specified"}),r.deliveryCity&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.deliveryCity,", ",r.deliveryPostalCode||""]}),r.deliveryCountry&&n.jsx("p",{className:"text-sm text-muted-foreground",children:r.deliveryCountry})]})]}),n.jsx($t,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(lt,{className:"h-4 w-4 text-primary"}),n.jsx("h4",{className:"font-semibold",children:"How to Receive"})]}),n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg space-y-3",children:[r.deliveryInstructions?n.jsx("p",{className:"text-sm leading-relaxed",children:r.deliveryInstructions}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No special instructions"}),r.deliveryContactPerson&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(os,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),n.jsx("span",{className:"font-medium",children:r.deliveryContactPerson})]}),r.deliveryContactPhone&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ko,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:r.deliveryContactPhone})]}),r.deliveryContactEmail&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(gn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:r.deliveryContactEmail})]})]})]}),n.jsx($t,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(wr,{className:"h-4 w-4 text-primary"}),n.jsx("h4",{className:"font-semibold",children:"Delivery Schedule"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground mb-1",children:"Expected Delivery"}),n.jsx("p",{className:"font-medium",children:r.expectedDeliveryDate?new Date(r.expectedDeliveryDate).toLocaleDateString():"Not set"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground mb-1",children:"Actual Delivery"}),n.jsx("p",{className:"font-medium",children:r.actualDeliveryDate?new Date(r.actualDeliveryDate).toLocaleDateString():"Pending"})]}),r.deliveryTimeWindow&&n.jsxs("div",{className:"col-span-2",children:[n.jsx("p",{className:"text-muted-foreground mb-1",children:"Time Window"}),n.jsx("p",{className:"font-medium",children:r.deliveryTimeWindow})]})]})]}),r.deliveryNotes&&n.jsxs(n.Fragment,{children:[n.jsx($t,{}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Additional Notes"}),n.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed p-3 bg-muted/30 rounded",children:r.deliveryNotes})]})]})]})]})})},V7e=({open:e,onOpenChange:t,currentSku:r,productId:s,productName:a,onSkuUpdated:i})=>{const[o,l]=v.useState(r||""),[c,d]=v.useState(!1);v.useEffect(()=>{e&&l(r||"")},[e,r]);const u=async()=>{if(!o.trim()){Ue.error("SKU cannot be empty");return}d(!0);try{i==null||i(o.trim()),t(!1)}catch(m){console.error("Error updating SKU:",m),Ue.error("Failed to update SKU")}finally{d(!1)}},f=m=>{m.key==="Enter"&&!c&&u()};return n.jsx(Pn,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-md",children:[n.jsxs(kn,{children:[n.jsxs(Tn,{className:"flex items-center gap-2",children:[n.jsx(lt,{className:"h-5 w-5"}),"Edit SKU"]}),n.jsxs(Bs,{children:['Update the SKU for "',a,'"']})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"sku",children:"SKU (Stock Keeping Unit)"}),n.jsx(me,{id:"sku",value:o,onChange:m=>l(m.target.value),onKeyPress:f,placeholder:"Enter SKU code",className:"font-mono",autoFocus:!0,disabled:c}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter a unique identifier for this product"})]})}),n.jsxs(vi,{children:[n.jsx(te,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),n.jsxs(te,{onClick:u,disabled:c||!o.trim(),children:[c&&n.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Save SKU"]})]})]})})},z7e=({open:e,onOpenChange:t,currentPrice:r,productId:s,productName:a,onPriceUpdated:i})=>{const[o,l]=v.useState((r==null?void 0:r.toString())||""),[c,d]=v.useState(!1);v.useEffect(()=>{if(e){const h=r?Math.round(parseFloat(r.toString())):0;l(h.toString())}},[e,r]);const u=async()=>{const h=parseInt(o);if(!o.trim()||isNaN(h)){Ue.error("Please enter a valid price");return}if(h<0){Ue.error("Price cannot be negative");return}d(!0);try{i==null||i(h.toString()),t(!1)}catch(x){console.error("Error updating unit price:",x),Ue.error("Failed to update unit price")}finally{d(!1)}},f=h=>{h.key==="Enter"&&!c&&u()},m=h=>{const x=h.target.value;(x===""||/^\d+$/.test(x))&&l(x)};return n.jsx(Pn,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-md",children:[n.jsxs(kn,{children:[n.jsxs(Tn,{className:"flex items-center gap-2",children:[n.jsx(Nr,{className:"h-5 w-5"}),"Edit Unit Price"]}),n.jsxs(Bs,{children:['Update the unit price for "',a,'"']})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"price",children:"Unit Price (HUF)"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"price",value:o,onChange:m,onKeyPress:f,placeholder:"Enter unit price",className:"pr-12",autoFocus:!0,disabled:c,type:"text",inputMode:"numeric"}),n.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground",children:"HUF"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the price per unit in Hungarian Forint (whole numbers only)"})]})}),n.jsxs(vi,{children:[n.jsx(te,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),n.jsxs(te,{onClick:u,disabled:c||!o.trim()||isNaN(parseInt(o)),children:[c&&n.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Price"]})]})]})})},W7e=({open:e,onOpenChange:t,currentQuantity:r,productId:s,productName:a,onQuantityUpdated:i})=>{const[o,l]=v.useState((r==null?void 0:r.toString())||"1"),[c,d]=v.useState(!1);v.useEffect(()=>{e&&l((r==null?void 0:r.toString())||"1")},[e,r]);const u=async()=>{const p=parseInt(o);if(!o.trim()||isNaN(p)){Ue.error("Please enter a valid quantity");return}if(p<=0){Ue.error("Quantity must be greater than 0");return}d(!0);try{i==null||i(o.trim()),t(!1)}catch(g){console.error("Error updating quantity:",g),Ue.error("Failed to update quantity")}finally{d(!1)}},f=p=>{p.key==="Enter"&&!c&&u()},m=p=>{const g=p.target.value;(g===""||/^\d+$/.test(g))&&l(g)},h=()=>{const p=parseInt(o)||0;l((p+1).toString())},x=()=>{const p=parseInt(o)||0;p>1&&l((p-1).toString())};return n.jsx(Pn,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-md",children:[n.jsxs(kn,{children:[n.jsxs(Tn,{className:"flex items-center gap-2",children:[n.jsx(xh,{className:"h-5 w-5"}),"Edit Quantity"]}),n.jsxs(Bs,{children:['Update the quantity for "',a,'"']})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"quantity",children:"Quantity"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(te,{type:"button",variant:"outline",size:"icon",onClick:x,disabled:c||parseInt(o)<=1,children:"-"}),n.jsx(me,{id:"quantity",value:o,onChange:m,onKeyPress:f,placeholder:"Enter quantity",className:"text-center",autoFocus:!0,disabled:c,type:"text",inputMode:"numeric"}),n.jsx(te,{type:"button",variant:"outline",size:"icon",onClick:h,disabled:c,children:"+"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the number of units to order"})]})}),n.jsxs(vi,{children:[n.jsx(te,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),n.jsxs(te,{onClick:u,disabled:c||!o.trim()||parseInt(o)<=0,children:[c&&n.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Quantity"]})]})]})})},H7e=[{value:"Confirmed",label:"Confirmed",icon:Ur,color:"text-yellow-500"},{value:"In Transit",label:"In Transit",icon:_r,color:"text-blue-500"},{value:"Delayed",label:"Delayed",icon:wr,color:"text-orange-500"},{value:"Received",label:"Received",icon:lt,color:"text-green-500"},{value:"Cancelled",label:"Cancelled",icon:Vl,color:"text-red-500"},{value:"Returned",label:"Returned",icon:Ese,color:"text-purple-500"}];function vQ({open:e,onOpenChange:t,deliveryId:r,currentStatus:s,orderReference:a,onStatusUpdated:i}){const{toast:o}=gr(),[l,c]=v.useState(s),[d,u]=v.useState(!1),[f,m]=v.useState(!1),[h,x]=v.useState(null),[p,g]=v.useState(""),[j,y]=v.useState(""),[w,b]=v.useState(void 0),[N,S]=v.useState(""),[_,E]=v.useState(""),[A,T]=v.useState(""),[R,I]=v.useState(""),[z,H]=v.useState(""),[F,k]=v.useState("");v.useEffect(()=>{e&&r?(g(""),y(""),b(void 0),S(""),E(""),T(""),I(""),H(""),k(""),x(null),m(!0),Vc.getDelivery(r).then(O=>{if(x(O),c(O.status),O.received_by&&y(O.received_by),O.actual_date)try{const K=i0e(O.actual_date,"yyyy-MM-dd",new Date);b(K)}catch(K){console.error("Error parsing date:",K)}if(O.status_history&&O.status_history.length>0){const K=O.status_history[0];O.status==="Received"&&K.received_by&&y(K.received_by),O.status==="In Transit"&&K.location&&S(K.location),O.status==="Delayed"&&K.delay_reason&&E(K.delay_reason),O.status==="Returned"&&K.notes&&T(K.notes),O.status==="Cancelled"&&K.notes&&I(K.notes),O.status==="Confirmed"&&(K.received_by&&H(K.received_by),K.notes&&k(K.notes))}O.notes&&g(O.notes)}).catch(O=>{console.error("Error fetching delivery details:",O),o({title:"Error",description:"Failed to load delivery details",variant:"destructive"})}).finally(()=>{m(!1)})):e||(g(""),y(""),b(void 0),S(""),E(""),T(""),I(""),H(""),k(""),x(null))},[e,r,o]);const P=async()=>{var O,K;if(!l){o({title:"Error",description:"Please select a status",variant:"destructive"});return}if(l==="Received"&&!j){o({title:"Error",description:"Please enter who received the delivery",variant:"destructive"});return}if(l==="Delayed"&&!_){o({title:"Error",description:"Please enter the delay reason",variant:"destructive"});return}if(l==="Returned"&&!A){o({title:"Error",description:"Please enter the return reason",variant:"destructive"});return}if(l==="Cancelled"&&!R){o({title:"Error",description:"Please enter the cancellation reason",variant:"destructive"});return}try{u(!0);const ne={status_notes:p};l==="Received"&&(ne.received_by=j,w&&(ne.actual_date=Xt(w,"yyyy-MM-dd"))),l==="In Transit"&&(ne.location=N),l==="Delayed"&&(ne.delay_reason=_),l==="Returned"&&(ne.status_notes=A+(p?`

Additional Notes: ${p}`:"")),l==="Cancelled"&&(ne.status_notes=R+(p?`

Additional Notes: ${p}`:"")),l==="Confirmed"&&(ne.received_by=z,ne.status_notes=F||p),await Vc.updateStatus(r,l,ne),o({title:"Success",description:`Delivery status updated to ${l}`}),t(!1),i&&i()}catch(ne){o({title:"Error",description:((K=(O=ne.response)==null?void 0:O.data)==null?void 0:K.error)||"Failed to update delivery status",variant:"destructive"})}finally{u(!1)}},M=()=>{switch(l){case"Received":return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"receivedBy",children:["Received By ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(me,{id:"receivedBy",placeholder:"Enter recipient name",value:j,onChange:O=>y(O.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Delivery Date"}),n.jsxs(dv,{children:[n.jsx(uv,{asChild:!0,children:n.jsxs(te,{variant:"outline",className:ve("w-full justify-start text-left font-normal",!w&&"text-muted-foreground"),children:[n.jsx(on,{className:"mr-2 h-4 w-4"}),w?Xt(w,"PPP"):"Pick a date"]})}),n.jsx(Dp,{className:"w-auto p-0",align:"start",children:n.jsx(Ew,{mode:"single",selected:w,onSelect:b,initialFocus:!0})})]})]})]});case"In Transit":return n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"location",children:"Current Location"}),n.jsx(me,{id:"location",placeholder:"Enter current location",value:N,onChange:O=>S(O.target.value)})]});case"Delayed":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"delayReason",children:["Delay Reason ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Sn,{id:"delayReason",placeholder:"Explain the reason for delay",value:_,onChange:O=>E(O.target.value),rows:3})]});case"Returned":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"returnReason",children:["Return Reason ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Sn,{id:"returnReason",placeholder:"Explain why the delivery was returned",value:A,onChange:O=>T(O.target.value),rows:3})]});case"Cancelled":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"cancellationReason",children:["Cancellation Reason ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(Sn,{id:"cancellationReason",placeholder:"Explain why the delivery was cancelled",value:R,onChange:O=>I(O.target.value),rows:3})]});case"Confirmed":return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"confirmedBy",children:"Confirmed By"}),n.jsx(me,{id:"confirmedBy",placeholder:"Enter name of person who confirmed",value:z,onChange:O=>H(O.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"confirmationNotes",children:"Confirmation Notes"}),n.jsx(Sn,{id:"confirmationNotes",placeholder:"Add any confirmation details",value:F,onChange:O=>k(O.target.value),rows:2})]})]});default:return null}};return n.jsx(Pn,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(kn,{children:[n.jsx(Tn,{children:"Update Delivery Status"}),n.jsxs(Bs,{children:[a,"  ",s]})]}),f?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Ht,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(q,{children:"Select Status"}),n.jsx("div",{className:"grid grid-cols-3 gap-3",children:H7e.map(O=>{const K=O.icon;return n.jsxs("button",{onClick:()=>c(O.value),className:ve("flex flex-col items-center justify-center gap-2 p-4 rounded-lg border-2 transition-all",l===O.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:[n.jsx(K,{className:ve("h-6 w-6",O.color)}),n.jsx("span",{className:"text-sm font-medium",children:O.label})]},O.value)})})]}),M(),l!=="Returned"&&l!=="Cancelled"&&l!=="Confirmed"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(Sn,{id:"notes",placeholder:"Add any additional notes",value:p,onChange:O=>g(O.target.value),rows:3})]})]}),!f&&n.jsxs(vi,{children:[n.jsx(te,{variant:"outline",onClick:()=>t(!1),disabled:d,children:"Cancel"}),n.jsx(te,{onClick:P,disabled:d,children:d?"Updating...":"Update Status"})]})]})})}function q7e(){return n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4 mb-4",children:[n.jsx(C,{className:"h-9 w-24 rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(C,{className:"h-9 w-64 mb-3"}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[n.jsx(C,{className:"h-6 w-24 rounded-full"}),n.jsx(C,{className:"h-6 w-20 rounded-full"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(C,{className:"h-9 w-20 rounded-md"}),n.jsx(C,{className:"h-9 w-24 rounded-md"})]})]})})}function G7e(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-24"})]})}),n.jsxs(Q,{children:[n.jsx(C,{className:"h-8 w-32 mb-2"}),n.jsx(C,{className:"h-3 w-40"})]})]},t))})}function K7e(){return n.jsxs(X,{className:"lg:col-span-2",children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-40"})}),n.jsx(Q,{className:"space-y-3",children:n.jsx("div",{className:"grid grid-cols-2 gap-4",children:[...Array(6)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-20"}),n.jsx(C,{className:"h-4 w-32"})]},t))})})]})}function Y7e(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-32"})}),n.jsx(Q,{children:n.jsx("div",{className:"space-y-3",children:[...Array(5)].map((e,t)=>n.jsxs("div",{className:"flex gap-3",children:[n.jsx(C,{className:"h-4 w-4 rounded-full flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(C,{className:"h-3 w-32"}),n.jsx(C,{className:"h-4 w-full"})]})]},t))})})]})}function X7e(){return n.jsx(X,{children:n.jsx(Q,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-muted/50 border-b",children:n.jsx("tr",{children:[...Array(8)].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(5)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C,{className:"h-12 w-12 rounded-lg flex-shrink-0"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-40"}),n.jsx(C,{className:"h-3 w-24"})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-16"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-24 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"})]})})]},t))})]})})})})}function Q7e(){return n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0",children:n.jsx("div",{className:"grid w-full grid-cols-4 min-w-[600px] sm:min-w-0 lg:w-auto lg:inline-grid bg-muted rounded-lg p-1",children:[...Array(4)].map((e,t)=>n.jsx("div",{className:"flex items-center justify-center py-2 px-4",children:n.jsx(C,{className:"h-4 w-20"})},t))})})})}function Z7e(){return n.jsxs(ct,{title:"Loading...",children:[n.jsx("div",{className:"mb-6 flex items-center gap-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-2"}),n.jsx(C,{className:"h-4 w-32"})]})}),n.jsx(q7e,{}),n.jsx(Q7e,{}),n.jsxs("div",{className:"space-y-6 mt-6",children:[n.jsx(G7e,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx(K7e,{}),n.jsx(Y7e,{})]})]})]})}function J7e(){return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[n.jsx(C,{className:"h-7 w-64"}),n.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[n.jsx(C,{className:"h-9 w-32 rounded-md"}),n.jsx(C,{className:"h-9 w-28 rounded-md"})]})]}),n.jsx(X7e,{})]})}const eUe=()=>{var bi;const{id:e}=to(),t=mr(),{toast:r}=gr(),{data:s,isLoading:a,error:i}=o3(e||null),{data:o,isLoading:l,error:c,refetch:d}=SBe(e||null),u=o||[],{data:f,isLoading:m}=oBe(e||null),{data:h=[],isLoading:x}=lBe(e||null),p=EBe(),g=$X(),[j,y]=v.useState({open:!1,id:"",name:"",apartmentId:""}),w=$e=>{const zt=$e.getFullYear(),Cl=String($e.getMonth()+1).padStart(2,"0"),wt=String($e.getDate()).padStart(2,"0");return`${zt}-${Cl}-${wt}`},b=[],N="";v.useState("");const[S,_]=v.useState(N),[E,A]=v.useState(!1),[T,R]=v.useState(!1),[I,z]=v.useState(""),[H,F]=v.useState(""),[k,P]=v.useState(!1),[M,O]=v.useState(null),[K,ne]=v.useState(!1),[D,U]=v.useState(null),[L,G]=v.useState(!1),[le,fe]=v.useState(null),[B,Y]=v.useState(!1),[ie,we]=v.useState(null),[ue,ge]=v.useState(!1),[xe,_e]=v.useState(null),[Re,ke]=v.useState(!1),[re,he]=v.useState(null),[ce,je]=v.useState(!1),[Fe,De]=v.useState(null),[de,Ie]=v.useState(!1),[it,bt]=v.useState(null),{data:qe}=u3({apartment:e}),ye=f3(),Ge=PBe(),Pt=($e,zt)=>{y({open:!0,id:$e,name:zt,apartmentId:e||""})},kt=async()=>{try{await p.mutateAsync({id:j.id,name:j.name,apartmentId:j.apartmentId}),y({open:!1,id:"",name:"",apartmentId:""})}catch{y({open:!1,id:"",name:"",apartmentId:""})}};if(a)return n.jsx(Z7e,{});if(i)return n.jsx(ct,{title:"Error",children:n.jsx("div",{className:"container mx-auto py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Et,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),n.jsx("h2",{className:"text-2xl font-semibold text-destructive mb-2",children:"Error loading apartment"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Unable to fetch apartment details. Please try again."}),n.jsxs(te,{onClick:()=>t("/apartments"),className:"mt-4",children:[n.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back to Apartments"]})]})})});if(!s)return n.jsx(ct,{title:"Not Found",children:n.jsx("div",{className:"container mx-auto py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground",children:"Apartment not found"}),n.jsxs(te,{onClick:()=>t("/apartments"),className:"mt-4",children:[n.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back to Apartments"]})]})})});const vr=()=>{window.confirm(`Are you sure you want to delete "${s.name}"?`)&&(r({title:"Success",description:"Apartment deleted successfully"}),t("/apartments"))},qr=()=>{r({title:"Success",description:"Note saved"})},Zr=async($e,zt)=>{try{await g.mutateAsync({id:$e,data:zt}),d()}catch{r({title:"Error",description:"Failed to update product",variant:"destructive"})}},Vr=(f==null?void 0:f.total_items)||0,Pr=(f==null?void 0:f.ordered_items)||0,jt=(f==null?void 0:f.delivered_items)||0,Ft=(f==null?void 0:f.open_issues)||0,tr=(f==null?void 0:f.total_value)||0,Un=(f==null?void 0:f.total_paid)||0,ds=(f==null?void 0:f.outstanding_balance)||0,qa=(f==null?void 0:f.overdue_payments)||0,jd=$e=>{const zt=$e.toLowerCase();return zt.includes("delivered")||zt.includes("closed")||zt.includes("paid")||zt.includes("completed")?"bg-green-500/10 text-green-500":zt.includes("issue")||zt.includes("damaged")||zt.includes("wrong")||zt.includes("missing")||zt.includes("overdue")?"bg-red-500/10 text-red-500":zt.includes("waiting")||zt.includes("pending")||zt.includes("partial")?"bg-yellow-500/10 text-yellow-500":zt.includes("ordered")||zt.includes("shipped")||zt.includes("transit")||zt.includes("ordering")?"bg-blue-500/10 text-blue-500":zt.includes("planning")?"bg-purple-500/10 text-purple-500":"bg-gray-500/10 text-gray-500"};return n.jsxs(ct,{title:s.name,children:[n.jsx("div",{className:"mb-6 flex items-center gap-3",children:n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(Jn,{asChild:!0,children:n.jsx(Yi,{to:"/apartments",children:"Apartments"})})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(ji,{children:s.name})})]})})}),n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4 mb-4",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>t("/apartments"),className:"flex items-center gap-1",children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-3",children:s.name}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[n.jsx(Ce,{className:s.type==="furnishing"?"bg-primary":"bg-accent",children:s.type==="furnishing"?"Furnishing":"Renovating"}),n.jsx(Ce,{className:jd(s.status),children:s.status})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(te,{variant:"outline",size:"sm",onClick:()=>t(`/apartments/${s.id}/edit`),children:[n.jsx(Zs,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),n.jsxs(te,{variant:"destructive",size:"sm",onClick:vr,children:[n.jsx(pn,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]})}),n.jsxs(Ro,{defaultValue:"overview",className:"space-y-6",children:[n.jsx("div",{className:"overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0",children:n.jsxs(no,{className:"grid w-full grid-cols-4 min-w-[600px] sm:min-w-0 lg:w-auto lg:inline-grid",children:[n.jsx(Ut,{value:"overview",className:"text-xs sm:text-sm",children:"Overview"}),n.jsx(Ut,{value:"products",className:"text-xs sm:text-sm",children:"Products & Procurement logs"}),n.jsx(Ut,{value:"notes",className:"text-xs sm:text-sm",children:"Notes (AI)"}),n.jsx(Ut,{value:"activity",className:"text-xs sm:text-sm",children:"Activity"})]})}),n.jsxs(Qt,{value:"overview",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(lt,{className:"h-4 w-4 text-primary"}),"Total Items"]})}),n.jsx(Q,{children:m?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-8 w-20 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded mt-2"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold",children:Vr}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Pr," ordered, ",jt," delivered"]})]})})]}),n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(li,{className:"h-4 w-4 text-success"}),"Total Order Value"]})}),n.jsx(Q,{children:m?n.jsx("div",{className:"h-8 w-32 bg-muted animate-pulse rounded"}):n.jsxs("div",{className:"text-2xl font-bold",children:[tr.toLocaleString()," HUF"]})})]}),n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Nr,{className:"h-4 w-4 text-warning"}),"Outstanding Balance"]})}),n.jsx(Q,{children:m?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-8 w-32 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-3 w-28 bg-muted animate-pulse rounded mt-2"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[ds.toLocaleString()," HUF"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Paid: ",Un.toLocaleString()," HUF"]})]})})]}),n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Et,{className:"h-4 w-4 text-red-500"}),"Open Issues"]})}),n.jsx(Q,{children:m?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-8 w-16 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded mt-2"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold",children:Ft}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[qa," overdue payments"]})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(X,{className:"lg:col-span-2",children:[n.jsx(be,{children:n.jsx(Ve,{children:"Apartment Details"})}),n.jsx(Q,{className:"space-y-3",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Client"}),n.jsx("p",{className:"font-medium",children:((bi=s.client_details)==null?void 0:bi.name)||s.owner||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Designer"}),n.jsx("p",{className:"font-medium",children:s.designer||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Address"}),n.jsx("p",{className:"font-medium",children:s.address})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Status"}),n.jsx("p",{className:"font-medium",children:s.status})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Start Date"}),n.jsx("p",{className:"font-medium",children:s.start_date?new Date(s.start_date).toLocaleDateString():"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Due Date"}),n.jsx("p",{className:"font-medium",children:s.due_date?new Date(s.due_date).toLocaleDateString():"N/A"})]})]})})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{children:"Recent Activity"})}),n.jsx(Q,{children:x?n.jsx("div",{className:"space-y-3",children:[...Array(5)].map(($e,zt)=>n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"h-4 w-4 rounded-full bg-muted animate-pulse flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"})]})]},zt))}):n.jsxs("div",{className:"space-y-3",children:[h.slice(0,5).map($e=>n.jsxs("div",{className:"flex gap-3 text-sm",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx(Ur,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:new Date($e.timestamp).toLocaleString()}),n.jsx("p",{className:"leading-tight",children:$e.summary})]})]},$e.id)),h.length===0&&n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No activity yet"})]})})]})]})]}),n.jsxs(Qt,{value:"products",className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[n.jsxs("h2",{className:"text-lg sm:text-xl font-semibold",children:["Product & Procurement Log (",u.length,")"]}),n.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[n.jsxs(te,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",onClick:()=>t(`/products/import?apartmentId=${e}`),children:[n.jsx(Ki,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Import Excel/CSV"}),n.jsx("span",{className:"sm:hidden",children:"Import"})]}),n.jsxs(te,{size:"sm",className:"flex-1 sm:flex-none",onClick:()=>t(`/products/new?apartmentId=${e}`),children:[n.jsx(Xn,{className:"mr-2 h-4 w-4"}),"Add Product"]})]})]}),l?n.jsx(J7e,{}):u.length===0?n.jsx(X,{children:n.jsxs(Q,{className:"py-12 text-center",children:[n.jsx(lt,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No products yet"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first furniture item to get started"}),n.jsxs(te,{onClick:()=>t(`/products/new?apartmentId=${e}`),children:[n.jsx(Xn,{className:"mr-2 h-4 w-4"}),"Add Product"]})]})}):n.jsx(X,{children:n.jsx(Q,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Bt,{children:[n.jsx(Pe,{className:"w-16",children:"Image"}),n.jsx(Pe,{children:"Product Name"}),n.jsx(Pe,{children:"Vendor"}),n.jsx(Pe,{children:"SKU"}),n.jsx(Pe,{className:"text-right",children:"Unit Price"}),n.jsx(Pe,{className:"text-center",children:"Qty"}),n.jsx(Pe,{className:"text-right",children:"Total"}),n.jsx(Pe,{children:"Product Status"}),n.jsx(Pe,{children:"Delivery Status"}),n.jsx(Pe,{className:"min-w-[140px]",children:"Expected Delivery"}),n.jsx(Pe,{className:"min-w-[200px]",children:"Delivery Location"}),n.jsx(Pe,{className:"min-w-[140px]",children:"Actual Delivery"}),n.jsx(Pe,{children:"Payment Status"}),n.jsx(Pe,{children:"Payment Due"}),n.jsx(Pe,{children:"Issue State"}),n.jsx(Pe,{children:"Actions / Chatbot"}),n.jsx(Pe,{children:"Ordered On"}),n.jsx(Pe,{className:"text-right",children:"Actions"})]})}),n.jsx($s,{children:u.map($e=>{const zt=Array.isArray($e.status)?$e.status:[],Cl=zt.includes("Delivered")||zt.includes("Closed")?"bg-green-500/5":zt.includes("Damaged")||zt.includes("Wrong Item")||zt.includes("Missing")?"bg-red-500/5":zt.includes("Shipped")||zt.includes("Ordered")?"bg-blue-500/5":zt.includes("Waiting For Stock")?"bg-yellow-500/5":"";return parseFloat($e.payment_amount||"0")-parseFloat($e.paid_amount||"0"),n.jsxs(Bt,{className:Cl,children:[n.jsx(Ne,{children:$e.product_image?n.jsx("img",{src:$e.product_image,alt:$e.product,className:"h-10 w-10 rounded object-cover"}):n.jsx("div",{className:"h-10 w-10 rounded bg-muted flex items-center justify-center",children:n.jsx(Gi,{className:"h-5 w-5 text-muted-foreground"})})}),n.jsx(Ne,{children:$e.link?n.jsxs("a",{href:$e.link,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-primary hover:underline flex items-center gap-1 cursor-pointer",title:"Click to view product page",children:[$e.product,n.jsx(Ck,{className:"h-3 w-3 flex-shrink-0"})]}):n.jsx("span",{className:"font-medium text-muted-foreground",children:$e.product})}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(te,{variant:"link",className:"p-0 h-auto text-primary hover:underline",onClick:()=>{z($e.vendor_name||"Not Assigned"),F($e.id),R(!1),A(!0)},children:$e.vendor_name||n.jsx("span",{className:"text-muted-foreground italic",children:"Not Assigned"})}),n.jsx(te,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{z($e.vendor_name||"Not Assigned"),F($e.id),R(!0),A(!0)},children:n.jsx(Bv,{className:"h-3 w-3"})})]})}),n.jsx(Ne,{children:n.jsx(te,{variant:"link",className:"p-0 h-auto font-mono text-xs text-primary hover:underline",onClick:()=>{fe($e),G(!0)},children:$e.sku||n.jsx("span",{className:"text-muted-foreground italic",children:"Add SKU"})})}),n.jsx(Ne,{className:"text-right",children:n.jsxs(te,{variant:"link",className:"p-0 h-auto text-primary hover:underline",onClick:()=>{we($e),Y(!0)},children:[parseFloat($e.unit_price).toLocaleString()," HUF"]})}),n.jsx(Ne,{className:"text-center",children:(()=>{const wt=$e.order_status_info&&$e.order_status_info.length>0?$e.order_status_info.reduce((es,yn)=>es+(yn.quantity||0),0):0;return wt>0?n.jsxs("div",{className:"flex flex-col items-center gap-1",children:[n.jsx("span",{className:"font-semibold",children:wt}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"(ordered)"})]}):n.jsx(te,{variant:"link",className:"p-0 h-auto text-primary hover:underline",onClick:()=>{_e($e),ge(!0)},children:$e.qty})})()}),n.jsx(Ne,{className:"text-right font-semibold",children:(()=>{const wt=$e.order_status_info&&$e.order_status_info.length>0?$e.order_status_info.reduce((dn,Ga)=>dn+(Ga.quantity||0),0):0,es=wt>0?wt:$e.qty;return`${(parseFloat($e.unit_price)*es).toLocaleString()} HUF`})()}),n.jsx(Ne,{children:n.jsx("div",{className:"space-y-1 min-w-[200px]",children:$e.order_status_info&&$e.order_status_info.length>0?$e.order_status_info.map((wt,es)=>n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(st,{value:wt.status,onValueChange:async yn=>{try{await Ps.updateStatus(wt.order_id,yn),r({title:"Success",description:`Order status updated to ${yn}`}),d()}catch{r({title:"Error",description:"Failed to update order status",variant:"destructive"})}},children:[n.jsx(rt,{className:"h-7 w-[100px] text-xs",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"draft",children:"Draft"}),n.jsx(J,{value:"sent",children:"Sent"}),n.jsx(J,{value:"cancelled",children:"Cancelled"})]})]}),n.jsx("a",{href:`/orders/${wt.order_id}`,className:"text-xs text-primary hover:underline",title:`View order ${wt.po_number}`,children:wt.po_number}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(Qty: ",wt.quantity,")"]})]},es)):n.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Not ordered yet"})})}),n.jsx(Ne,{children:n.jsx("div",{className:"space-y-1 min-w-[200px]",children:$e.delivery_status_info&&$e.delivery_status_info.length>0?$e.delivery_status_info.map((wt,es)=>n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(te,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>{he(wt),ke(!0)},children:n.jsx(Ce,{variant:wt.status==="Received"?"default":wt.status==="Returned"?"destructive":wt.status==="In Transit"||wt.status==="Delayed"?"secondary":"outline",className:ve("text-xs",wt.status==="Received"&&"bg-green-500/10 text-green-500",wt.status==="In Transit"&&"bg-blue-500/10 text-blue-500",wt.status==="Confirmed"&&"bg-yellow-500/10 text-yellow-500",wt.status==="Delayed"&&"bg-orange-500/10 text-orange-500",wt.status==="Returned"&&"bg-red-500/10 text-red-500"),children:wt.status})}),n.jsx("a",{href:"/deliveries",className:"text-xs text-primary hover:underline",title:`View delivery ${wt.order_reference}`,children:wt.order_reference}),wt.tracking_number&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(Track: ",wt.tracking_number,")"]}),wt.expected_date&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["ETA: ",new Date(wt.expected_date).toLocaleDateString()]})]},es)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})})}),n.jsx(Ne,{children:n.jsx("div",{className:"space-y-1",children:$e.delivery_status_info&&$e.delivery_status_info.length>0?$e.delivery_status_info.map((wt,es)=>n.jsxs(dv,{children:[n.jsx(uv,{asChild:!0,children:n.jsxs(te,{variant:"ghost",size:"sm",className:"h-auto p-1 hover:bg-muted flex items-center gap-2",children:[n.jsx(on,{className:"h-3 w-3 text-muted-foreground"}),n.jsx("span",{className:"text-xs",children:wt.expected_date?Xt(new Date(wt.expected_date),"PP"):"Set date"})]})}),n.jsx(Dp,{className:"w-auto p-0",align:"start",children:n.jsx(Ew,{mode:"single",selected:wt.expected_date?new Date(wt.expected_date):void 0,onSelect:async yn=>{if(yn)try{await Vc.updateDeliveryField(wt.delivery_id,"expected_date",w(yn)),r({title:"Success",description:"Expected delivery date updated"}),d()}catch{r({title:"Error",description:"Failed to update expected delivery date",variant:"destructive"})}},initialFocus:!0})})]},es)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"No delivery"})})}),n.jsx(Ne,{children:n.jsx("div",{className:"space-y-1",children:$e.order_status_info&&$e.order_status_info.length>0?$e.order_status_info.map((wt,es)=>n.jsxs("div",{className:"flex items-center gap-2 w-full",children:[n.jsx(ya,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),n.jsx(me,{className:"h-7 text-xs flex-1",placeholder:"Enter delivery address",defaultValue:wt.shipping_address||"",onBlur:async yn=>{const dn=yn.target.value;if(dn!==wt.shipping_address)try{await Ps.updateOrder(wt.order_id,{shipping_address:dn}),r({title:"Success",description:"Delivery location updated"}),d()}catch{r({title:"Error",description:"Failed to update delivery location",variant:"destructive"})}},onKeyDown:yn=>{yn.key==="Enter"&&yn.currentTarget.blur()}})]},es)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"No order"})})}),n.jsx(Ne,{children:n.jsx("div",{className:"space-y-1",children:$e.delivery_status_info&&$e.delivery_status_info.length>0?$e.delivery_status_info.map((wt,es)=>n.jsxs(dv,{children:[n.jsx(uv,{asChild:!0,children:n.jsxs(te,{variant:"ghost",size:"sm",className:"h-auto p-1 hover:bg-muted flex items-center gap-2",children:[n.jsx(on,{className:"h-3 w-3 text-muted-foreground"}),n.jsx("span",{className:"text-xs",children:wt.actual_date?Xt(new Date(wt.actual_date),"PP"):"Set date"})]})}),n.jsx(Dp,{className:"w-auto p-0",align:"start",children:n.jsx(Ew,{mode:"single",selected:wt.actual_date?new Date(wt.actual_date):void 0,onSelect:async yn=>{if(yn)try{await Vc.updateDeliveryField(wt.delivery_id,"actual_date",w(yn)),r({title:"Success",description:"Actual delivery date updated"}),d()}catch{r({title:"Error",description:"Failed to update actual delivery date",variant:"destructive"})}},initialFocus:!0})})]},es)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"No delivery"})})}),n.jsx(Ne,{children:n.jsx("div",{className:"space-y-1",children:$e.order_status_info&&$e.order_status_info.length>0?$e.order_status_info.map((wt,es)=>{var Cm;const yn=wt.order_id,dn=(Cm=qe==null?void 0:qe.results)==null?void 0:Cm.find(h_=>h_.order===yn),Ga=(dn==null?void 0:dn.status)||"Unpaid";return n.jsxs("div",{className:"flex flex-col gap-0.5",children:[n.jsx(Ce,{variant:Ga==="Paid"?"default":Ga==="Partially Paid"?"secondary":"outline",className:ve("cursor-pointer hover:opacity-80 transition-opacity text-[10px] w-fit",Ga==="Paid"?"bg-green-500/10 text-green-500":Ga==="Partially Paid"?"bg-yellow-500/10 text-yellow-500":"bg-red-500/10 text-red-500"),onClick:()=>{Ga==="Unpaid"?t(`/payments/new?order=${yn}&product=${$e.id}`):dn&&(De(dn),je(!0))},children:Ga}),n.jsx("span",{className:"text-[10px] text-muted-foreground ml-0.5",children:wt.po_number||"N/A"})]},es)}):n.jsx(Ce,{variant:"outline",className:"bg-gray-500/10 text-gray-500 text-[10px]",children:"No Order"})})}),n.jsx(Ne,{children:n.jsx("div",{className:"space-y-1",children:$e.order_status_info&&$e.order_status_info.length>0?$e.order_status_info.map((wt,es)=>{var Ga;const yn=wt.order_id,dn=(Ga=qe==null?void 0:qe.results)==null?void 0:Ga.find(Cm=>Cm.order===yn);return n.jsx("div",{className:"flex flex-col gap-0.5",children:dn!=null&&dn.due_date?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-[10px] font-medium cursor-pointer hover:text-primary hover:underline",onClick:()=>{bt(dn),Ie(!0)},children:new Date(dn.due_date).toLocaleDateString()}),dn.status!=="Paid"&&n.jsx("div",{className:"text-[10px] text-muted-foreground",children:wt.po_number||"N/A"})]}):n.jsx("div",{className:"text-[10px] text-muted-foreground",children:"No payment"})},es)}):n.jsx("span",{className:"text-[10px] text-muted-foreground",children:"-"})})}),n.jsx(Ne,{children:$e.issue_status_info&&$e.issue_status_info.status!=="No Issue"?n.jsx("div",{className:"text-xs text-gray-700",children:$e.issue_status_info.type||"Issue reported"}):n.jsx(Ce,{variant:"outline",className:"bg-green-500/10 text-green-500 text-xs",children:"No Issue"})}),n.jsx(Ne,{children:n.jsxs(te,{size:"sm",variant:$e.issue_state&&$e.issue_state!=="No Issue"?"default":"outline",onClick:()=>{O($e),P(!0)},className:ve($e.issue_state==="AI Resolving"&&"animate-pulse"),children:[n.jsx(Oa,{className:ve("mr-1 h-3 w-3",$e.issue_state==="AI Resolving"&&"animate-spin")}),$e.issue_state==="AI Resolving"?"AI Active":$e.issue_state&&$e.issue_state!=="No Issue"?"Manage Issue":"Report Issue"]})}),n.jsx(Ne,{children:$e.ordered_on?new Date($e.ordered_on).toLocaleDateString():"-"}),n.jsx(Ne,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(te,{size:"sm",variant:"ghost",onClick:()=>t(`/products/${$e.id}`),children:n.jsx(oi,{className:"h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",onClick:()=>t(`/products/${$e.id}/edit`),children:n.jsx(Zs,{className:" h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",onClick:()=>Pt($e.id,$e.product),children:n.jsx(pn,{className:"h-4 w-4"})})]})})]},$e.id)})})]})})})})]}),n.jsx(Qt,{value:"notes",className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Manual Notes"}),n.jsx(Dr,{children:"Add observations or notes about this apartment"})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsx(pa,{value:S,onChange:$e=>_($e.target.value),rows:10,placeholder:"Enter your notes here..."}),n.jsx(te,{onClick:qr,children:"Save Note"})]})]}),n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"AI & Vendor Communication"}),n.jsx(Dr,{children:"AI-generated emails and vendor correspondence"})]}),n.jsx(Q,{children:n.jsxs("div",{className:"space-y-4",children:[b.map($e=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ce,{variant:$e.sender==="AI"?"default":"outline",children:$e.sender}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date($e.timestamp).toLocaleString()})]})}),$e.emailSubject&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Subject:"}),n.jsx("p",{className:"font-medium text-sm",children:$e.emailSubject})]}),n.jsx("div",{className:"text-sm whitespace-pre-wrap bg-muted/30 p-3 rounded",children:$e.content})]},$e.id)),b.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No AI communications yet"})]})})]})]})}),n.jsxs(Qt,{value:"activity",className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Activity Timeline"}),n.jsx(X,{children:n.jsx(Q,{className:"pt-6",children:n.jsxs("div",{className:"space-y-4",children:[h.map($e=>n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsxs("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:[$e.icon==="ShoppingCart"&&n.jsx(lt,{className:"h-5 w-5 text-primary"}),$e.icon==="CreditCard"&&n.jsx(Nr,{className:"h-5 w-5 text-primary"}),$e.icon==="Mail"&&n.jsx(gn,{className:"h-5 w-5 text-primary"}),$e.icon==="PackageCheck"&&n.jsx(Ur,{className:"h-5 w-5 text-primary"}),$e.icon==="Package"&&n.jsx(lt,{className:"h-5 w-5 text-primary"})]})}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"font-medium text-sm",children:$e.summary}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date($e.timestamp).toLocaleString()})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",$e.actor]})]})]},$e.id)),h.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No activity recorded yet"})]})})})]})]}),n.jsx(N7e,{open:E,onOpenChange:A,vendorName:I,productId:H,openInEditMode:T,onVendorUpdated:($e,zt)=>{Zr(H,{vendor:$e,vendor_name:zt}),r({title:"Vendor Updated",description:`Product vendor changed to ${zt}`}),d()}}),M&&n.jsx(gQ,{open:k,onOpenChange:P,product:M,onIssueUpdated:()=>{}}),n.jsx(U7e,{open:K,onOpenChange:ne,product:D}),le&&n.jsx(V7e,{open:L,onOpenChange:G,currentSku:le.sku||"",productId:le.id,productName:le.product,onSkuUpdated:$e=>{Zr(le.id,{sku:$e}),r({title:"Success",description:"SKU updated successfully"}),d()}}),ie&&n.jsx(z7e,{open:B,onOpenChange:Y,currentPrice:ie.unit_price||"0",productId:ie.id,productName:ie.product,onPriceUpdated:$e=>{Zr(ie.id,{unit_price:$e}),r({title:"Success",description:"Unit price updated successfully"}),d()}}),xe&&n.jsx(W7e,{open:ue,onOpenChange:ge,currentQuantity:xe.qty||"1",productId:xe.id,productName:xe.product,onQuantityUpdated:$e=>{Zr(xe.id,{qty:$e}),r({title:"Success",description:"Quantity updated successfully"}),d()}}),re&&n.jsx(vQ,{open:Re,onOpenChange:ke,deliveryId:re.delivery_id,currentStatus:re.status,orderReference:re.order_reference,onStatusUpdated:()=>{d()}}),n.jsx(m3,{payment:Fe,open:ce,onOpenChange:je,onSave:async($e,zt,Cl,wt)=>{try{await ye.mutateAsync({payment:Fe.id,date:new Date().toISOString().split("T")[0],amount:$e,method:zt,reference_no:Cl,note:wt}),r({title:"Success",description:"Payment recorded successfully"}),je(!1),d()}catch{r({title:"Error",description:"Failed to record payment",variant:"destructive"})}}}),n.jsx(OBe,{payment:it,open:de,onOpenChange:Ie,onUpdate:async($e,zt)=>{try{await Ge.mutateAsync({id:$e,data:{due_date:zt}}),r({title:"Success",description:"Payment due date updated successfully"}),d()}catch(Cl){throw r({title:"Error",description:"Failed to update payment due date",variant:"destructive"}),Cl}}}),n.jsx(fc,{open:j.open,onOpenChange:$e=>!$e&&y({open:!1,id:"",name:"",apartmentId:""}),children:n.jsxs(yl,{children:[n.jsx(jl,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(pn,{className:"h-5 w-5 text-destructive"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(wl,{children:"Delete Product"}),n.jsxs(Nl,{children:['Are you sure you want to delete "',j.name,'"? This action cannot be undone.']})]})]})}),n.jsxs(bl,{children:[n.jsx(Sl,{onClick:()=>y({open:!1,id:"",name:"",apartmentId:""}),children:"Cancel"}),n.jsx(_l,{onClick:kt,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",autoFocus:!0,children:"Delete"})]})]})})]})};function tUe(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-12"})]})}function rUe(){return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-10 w-10 rounded-md"}),n.jsx(C,{className:"h-9 w-48"})]})}function nUe(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-40"})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(C,{className:"h-5 w-24 rounded-full"}),n.jsx(C,{className:"h-5 w-24 rounded-full"})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-36"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-24 w-full rounded-md"})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})]})]})}function sUe(){return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(tUe,{}),n.jsx(rUe,{}),n.jsx(nUe,{})]})})}const aUe=()=>{const{id:e}=to(),t=mr(),{toast:r}=gr(),{data:s,isLoading:a,error:i}=o3(e||null),{data:o,isLoading:l}=K2({}),c=(o==null?void 0:o.results)||[],d=aBe(),[u,f]=v.useState({name:"",type:"furnishing",client:"",address:"",designer:"",status:"Planning",start_date:"",due_date:"",notes:"",progress:0}),[m,h]=v.useState({});if(v.useEffect(()=>{s&&f({name:s.name,type:s.type,client:s.client||s.client_id||"",address:s.address,designer:s.designer,status:s.status,start_date:s.start_date,due_date:s.due_date,notes:s.notes||"",progress:s.progress})},[s]),a)return n.jsx(sUe,{});if(i||!s)return n.jsx(ct,{title:"Apartment Not Found",children:n.jsx(X,{children:n.jsxs(Q,{className:"py-8",children:[n.jsx("p",{className:"text-center text-muted-foreground",children:"Apartment not found"}),n.jsx("div",{className:"flex justify-center mt-4",children:n.jsx(te,{onClick:()=>t("/apartments"),children:"Back to Apartments"})})]})})});const x=()=>{const g={};return u.name.trim()||(g.name="Apartment name is required"),u.client||(g.client="Client selection is required"),u.address.trim()||(g.address="Address is required"),u.designer.trim()||(g.designer="Designer is required"),u.start_date||(g.start_date="Start date is required"),u.due_date||(g.due_date="Due date is required"),u.start_date&&u.due_date&&new Date(u.due_date)<new Date(u.start_date)&&(g.due_date="Due date must be after start date"),h(g),Object.keys(g).length===0},p=async g=>{var j,y;if(g.preventDefault(),!x()){r({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{await d.mutateAsync({id:s.id,data:u}),t("/apartments")}catch(w){r({title:"Error",description:((y=(j=w.response)==null?void 0:j.data)==null?void 0:y.message)||"Failed to update apartment. Please try again.",variant:"destructive"})}};return n.jsx(ct,{title:"Edit Apartment",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(Jn,{href:"/apartments",children:"Apartments"})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(Jn,{href:`/apartments/${s.id}`,children:s.name})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(ji,{children:"Edit"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>t(`/apartments/${s.id}`),children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"Edit Apartment"})]}),n.jsx("form",{onSubmit:p,children:n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{children:"Apartment Details"})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"name",children:"Apartment Name *"}),n.jsx(me,{id:"name",value:u.name,onChange:g=>f({...u,name:g.target.value}),placeholder:"Izabella utca 3  A/12"}),m.name&&n.jsx("p",{className:"text-sm text-destructive",children:m.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Type *"}),n.jsx(d3,{value:u.type,onValueChange:g=>f({...u,type:g}),children:n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(cv,{value:"furnishing",id:"furnishing"}),n.jsx(q,{htmlFor:"furnishing",className:"font-normal cursor-pointer",children:"Furnishing"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(cv,{value:"renovating",id:"renovating"}),n.jsx(q,{htmlFor:"renovating",className:"font-normal cursor-pointer",children:"Renovating"})]})]})})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"client",children:"Client/Owner *"}),n.jsxs(st,{value:u.client,onValueChange:g=>f({...u,client:g}),disabled:l,children:[n.jsx(rt,{id:"client",children:n.jsx(at,{placeholder:l?"Loading clients...":"Select client"})}),n.jsx(nt,{children:c.map(g=>n.jsxs(J,{value:g.id,children:[g.name," - ",g.type]},g.id))})]}),m.client&&n.jsx("p",{className:"text-sm text-destructive",children:m.client})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"designer",children:"Assigned Designer *"}),n.jsx(me,{id:"designer",value:u.designer,onChange:g=>f({...u,designer:g.target.value}),placeholder:"Enter designer name"}),m.designer&&n.jsx("p",{className:"text-sm text-destructive",children:m.designer})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"address",children:"Address *"}),n.jsx(me,{id:"address",value:u.address,onChange:g=>f({...u,address:g.target.value}),placeholder:"Izabella u. 3, Budapest"}),m.address&&n.jsx("p",{className:"text-sm text-destructive",children:m.address})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",children:"Status"}),n.jsxs(st,{value:u.status,onValueChange:g=>f({...u,status:g}),children:[n.jsx(rt,{id:"status",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"Planning",children:"Planning"}),n.jsx(J,{value:"Design Approved",children:"Design Approved"}),n.jsx(J,{value:"Ordering",children:"Ordering"}),n.jsx(J,{value:"Delivery",children:"Delivery"}),n.jsx(J,{value:"Renovating",children:"Renovating"}),n.jsx(J,{value:"Complete",children:"Complete"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"start_date",children:"Start Date *"}),n.jsx(me,{id:"start_date",type:"date",value:u.start_date,onChange:g=>f({...u,start_date:g.target.value})}),m.start_date&&n.jsx("p",{className:"text-sm text-destructive",children:m.start_date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"due_date",children:"Due Date *"}),n.jsx(me,{id:"due_date",type:"date",value:u.due_date,onChange:g=>f({...u,due_date:g.target.value})}),m.due_date&&n.jsx("p",{className:"text-sm text-destructive",children:m.due_date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"progress",children:"Progress (%)"}),n.jsx(me,{id:"progress",type:"number",min:"0",max:"100",value:u.progress,onChange:g=>f({...u,progress:Number(g.target.value)})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Notes"}),n.jsx(pa,{id:"notes",value:u.notes,onChange:g=>f({...u,notes:g.target.value}),placeholder:"Additional notes about this apartment...",rows:4})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>t(`/apartments/${s.id}`),children:"Cancel"}),n.jsx(te,{type:"submit",disabled:d.isPending,children:d.isPending?"Saving...":"Save Changes"})]})]})]})})]})})},iUe=()=>{const[e,t]=v.useState("all"),[r,s]=v.useState(""),a=[{id:1,image:"",name:"Modern Sectional Sofa",sku:"SOF-2024-001",vendor:"IKEA",price:1299.99,qty:1,availability:"In Stock",orderStatus:"Ordered",expectedDelivery:"2024-01-20",paymentStatus:"Paid"},{id:2,image:"",name:"Queen Size Bed Frame",sku:"BED-2024-012",vendor:"Wayfair",price:899,qty:1,availability:"Low Stock",orderStatus:"Pending",expectedDelivery:"",paymentStatus:"Due"},{id:3,image:"",name:"Dining Chair Set (4pc)",sku:"CHR-2024-045",vendor:"West Elm",price:599.99,qty:4,availability:"In Stock",orderStatus:"Delivered",expectedDelivery:"2024-01-15",paymentStatus:"Paid"},{id:4,image:"",name:"Floor Lamp Modern",sku:"LMP-2024-078",vendor:"CB2",price:189.99,qty:2,availability:"Out of Stock",orderStatus:"Pending",expectedDelivery:"",paymentStatus:"Partial"},{id:5,image:"",name:"Wall Art Canvas Set",sku:"ART-2024-023",vendor:"Etsy",price:129.99,qty:3,availability:"In Stock",orderStatus:"Ordered",expectedDelivery:"2024-01-18",paymentStatus:"Due"}],i=o=>({Ordered:"bg-primary/10 text-primary",Pending:"bg-warning/10 text-warning",Delivered:"bg-success/10 text-success","In Stock":"bg-success/10 text-success","Low Stock":"bg-warning/10 text-warning","Out of Stock":"bg-danger/10 text-danger",Paid:"bg-success/10 text-success",Partial:"bg-warning/10 text-warning",Due:"bg-danger/10 text-danger"})[o]||"bg-muted";return n.jsx(ct,{title:"Products",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search by name, SKU, or vendor...",className:"pl-10",value:r,onChange:o=>s(o.target.value)})]}),n.jsxs(st,{value:e,onValueChange:t,children:[n.jsx(rt,{className:"w-full md:w-[200px]",children:n.jsx(at,{placeholder:"Filter by status"})}),n.jsxs(nt,{sideOffset:5,children:[n.jsx(J,{value:"all",children:"All Status"}),n.jsx(J,{value:"ordered",children:"Ordered"}),n.jsx(J,{value:"pending",children:"Pending"}),n.jsx(J,{value:"delivered",children:"Delivered"})]})]}),n.jsxs(te,{variant:"outline",onClick:()=>console.log("More filters clicked"),children:[n.jsx($v,{className:"h-4 w-4 mr-2"}),"More Filters"]})]})})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-bold",children:"247"})]}),n.jsx(lt,{className:"h-8 w-8 text-primary"})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Ordered"}),n.jsx("p",{className:"text-2xl font-bold",children:"168"})]}),n.jsx(Ur,{className:"h-8 w-8 text-success"})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Delivered"}),n.jsx("p",{className:"text-2xl font-bold",children:"112"})]}),n.jsx(on,{className:"h-8 w-8 text-warning"})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Issues"}),n.jsx("p",{className:"text-2xl font-bold",children:"12"})]}),n.jsx(Et,{className:"h-8 w-8 text-danger"})]})})})]}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Bt,{children:[n.jsx(Pe,{children:"Image"}),n.jsx(Pe,{children:"Name / SKU"}),n.jsx(Pe,{children:"Vendor"}),n.jsx(Pe,{children:"Price"}),n.jsx(Pe,{children:"Qty"}),n.jsx(Pe,{children:"Availability"}),n.jsx(Pe,{children:"Order Status"}),n.jsx(Pe,{children:"Expected Delivery"}),n.jsx(Pe,{children:"Payment"}),n.jsx(Pe,{children:"Actions"})]})}),n.jsx($s,{children:a.map(o=>n.jsxs(Bt,{children:[n.jsx(Ne,{children:n.jsx("div",{className:"text-3xl",children:o.image})}),n.jsx(Ne,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:o.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:o.sku})]})}),n.jsx(Ne,{children:n.jsx(te,{variant:"link",className:"p-0 h-auto",children:o.vendor})}),n.jsxs(Ne,{children:["$",o.price.toFixed(2)]}),n.jsx(Ne,{children:o.qty}),n.jsx(Ne,{children:n.jsx(Ce,{className:i(o.availability),children:o.availability})}),n.jsx(Ne,{children:n.jsx(Ce,{className:i(o.orderStatus),children:o.orderStatus})}),n.jsx(Ne,{children:o.expectedDelivery||n.jsx(te,{variant:"outline",size:"sm",children:"Set Date"})}),n.jsx(Ne,{children:n.jsx(Ce,{className:i(o.paymentStatus),children:o.paymentStatus})}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(te,{variant:"outline",size:"sm",children:"View"}),n.jsx(te,{variant:"outline",size:"sm",children:"Edit"})]})})]},o.id))})]})})})})]})})};function Aw({options:e,value:t,onValueChange:r,onCreate:s,onNavigateToCreate:a,placeholder:i="Select option...",searchPlaceholder:o="Search...",emptyText:l="No results found.",createText:c="Create new",isLoading:d=!1,disabled:u=!1,className:f}){const[m,h]=v.useState(!1),[x,p]=v.useState(!1),[g,j]=v.useState(""),[y,w]=v.useState(!1),[b,N]=v.useState(""),S=e.find(A=>A.value===t),_=async()=>{if(g.trim()){w(!0);try{if(s){const A=await s(g.trim());r(A.id),p(!1),j(""),h(!1)}}catch(A){console.error("Error creating item:",A)}finally{w(!1)}}},E=()=>{a?(a(),h(!1)):(p(!0),j(b))};return n.jsxs(n.Fragment,{children:[n.jsxs(dv,{open:m,onOpenChange:h,children:[n.jsx(uv,{asChild:!0,children:n.jsxs(te,{variant:"outline",role:"combobox","aria-expanded":m,className:ve("w-full justify-between",f),disabled:u||d,children:[d?"Loading...":S?S.label:n.jsx("span",{className:"text-muted-foreground",children:i}),n.jsx(cse,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),n.jsx(Dp,{className:"w-full p-0",align:"start",children:n.jsxs(DT,{children:[n.jsx(IT,{placeholder:o,value:b,onValueChange:N}),n.jsxs(RT,{children:[n.jsx(UW,{children:n.jsx("div",{className:"text-sm text-muted-foreground py-2",children:l})}),n.jsx(Rl,{children:e.map(A=>n.jsxs(Si,{value:A.value,onSelect:T=>{r(T===t?"":T),h(!1)},children:[n.jsx(yo,{className:ve("mr-2 h-4 w-4",t===A.value?"opacity-100":"opacity-0")}),A.label]},A.value))}),n.jsx(Rl,{children:n.jsxs(Si,{onSelect:E,className:"text-primary",children:[n.jsx(Xn,{className:"mr-2 h-4 w-4"}),c,b&&!a&&` "${b}"`]})})]})]})})]}),n.jsx(Pn,{open:x,onOpenChange:p,children:n.jsxs(vn,{children:[n.jsxs(kn,{children:[n.jsx(Tn,{children:c}),n.jsx(Bs,{children:"Enter a name for the new item. Click create when you're done."})]}),n.jsx("div",{className:"grid gap-4 py-4",children:n.jsxs("div",{className:"grid gap-2",children:[n.jsx(q,{htmlFor:"name",children:"Name"}),n.jsx(me,{id:"name",value:g,onChange:A=>j(A.target.value),placeholder:"Enter name...",onKeyDown:A=>{A.key==="Enter"&&(A.preventDefault(),_())}})]})}),n.jsxs(vi,{children:[n.jsx(te,{variant:"outline",onClick:()=>{p(!1),j("")},disabled:y,children:"Cancel"}),n.jsx(te,{onClick:_,disabled:y||!g.trim(),children:y?"Creating...":"Create"})]})]})})]})}const oUe=()=>{const[e]=TN(),t=e.get("apartmentId"),r=mr(),{toast:s}=gr(),[a,i]=v.useState({product:"",description:"",category:"",vendor:"",vendor_link:"",sku:"",dimensions:"",weight:"",material:"",color:"",model_number:"",brand:"",country_of_origin:"",sn:"",unit_price:"",qty:1,cost:"",total_cost:"",shipping_cost:"0",discount:"0",currency:"HUF",availability:"In Stock",status:"Design Approved",room:"",link:"",size:"",nm:"",plusz_nm:"",price_per_nm:"",price_per_package:"",nm_per_package:"",all_package:"",package_need_to_order:"",all_price:"",eta:"",ordered_on:"",payment_status:"Unpaid",payment_due_date:"",payment_amount:"",paid_amount:"0",delivery_type:"",delivery_status_tags:"",delivery_address:"",delivery_city:"",delivery_postal_code:"",delivery_country:"",delivery_time_window:"",delivery_instructions:"",delivery_contact_person:"",delivery_contact_phone:"",delivery_contact_email:"",delivery_notes:"",tracking_number:"",condition_on_arrival:"",sender:"",sender_address:"",sender_phone:"",recipient:"",recipient_address:"",recipient_phone:"",recipient_email:"",locker_provider:"",locker_id:"",pickup_provider:"",pickup_location:"",customs_description:"",item_value:"",hs_category:"",insurance:"no",cod:"",pickup_time:"",delivery_deadline:"",special_instructions:"",issue_state:"No Issue",issue_type:"",issue_description:"",replacement_requested:!1,replacement_approved:!1,replacement_eta:"",replacement_of:"",gallery_images:"",attachments:"",notes:"",manual_notes:"",ai_summary_notes:""}),[o,l]=v.useState({}),[c,d]=v.useState(null),[u,f]=v.useState(""),[m,h]=v.useState("basic"),{data:x,isLoading:p}=o3(t),{data:g,isLoading:j,error:y}=LX(t),w=Array.isArray(g)?g:[],{data:b,isLoading:N,error:S}=jm(),_=(b==null?void 0:b.results)||[],E=CBe(),A=BX();if(v.useEffect(()=>{t||(s({title:"Error",description:"Apartment ID is required",variant:"destructive"}),r("/apartments"))},[t,r,s]),v.useEffect(()=>{y&&!j&&s({title:"Warning",description:"Failed to load categories. You can still add a product by entering the category ID manually.",variant:"destructive"})},[y,j,s]),v.useEffect(()=>{S&&!N&&s({title:"Warning",description:"Failed to load vendors. You can still add a product by entering the vendor ID manually.",variant:"destructive"})},[S,N,s]),p)return n.jsx(ct,{title:"Loading...",children:n.jsx("div",{className:"container mx-auto py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ht,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground",children:"Loading apartment details..."})]})})});const T=k=>{var M;const P=(M=k.target.files)==null?void 0:M[0];if(P){d(P);const O=new FileReader;O.onloadend=()=>{f(O.result)},O.readAsDataURL(P)}},R=()=>{d(null),f("")},I=()=>{const k={};return a.product.trim()||(k.product="Product name is required"),a.category||(k.category="Category is required"),a.vendor||(k.vendor="Vendor is required"),(!a.unit_price||parseFloat(a.unit_price)<=0)&&(k.unit_price="Valid unit price is required"),(!a.qty||a.qty<=0)&&(k.qty="Valid quantity is required"),l(k),Object.keys(k).length===0},z=async k=>{if(k.preventDefault(),!I()){s({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{if(c){const P=new FormData;P.append("apartment",t),P.append("category",a.category),P.append("product",a.product),P.append("vendor",a.vendor),P.append("unit_price",a.unit_price),P.append("qty",a.qty.toString()),P.append("availability",a.availability),P.append("status",a.status),P.append("payment_status",a.payment_status),P.append("paid_amount",a.paid_amount),P.append("currency",a.currency),P.append("issue_state",a.issue_state),P.append("image_file",c),console.log(" Sending FormData with image:"),console.log("  - Image file:",c),console.log("  - File name:",c.name),console.log("  - File size:",c.size),console.log("  - File type:",c.type);for(let M of P.entries())console.log(`  - ${M[0]}:`,M[1]);a.description&&P.append("description",a.description),a.vendor_link&&P.append("vendor_link",a.vendor_link),a.sku&&P.append("sku",a.sku),a.dimensions&&P.append("dimensions",a.dimensions),a.weight&&P.append("weight",a.weight),a.material&&P.append("material",a.material),a.color&&P.append("color",a.color),a.model_number&&P.append("model_number",a.model_number),a.brand&&P.append("brand",a.brand),a.country_of_origin&&P.append("country_of_origin",a.country_of_origin),a.sn&&P.append("sn",a.sn),a.cost&&P.append("cost",a.cost),a.total_cost&&P.append("total_cost",a.total_cost),a.shipping_cost&&P.append("shipping_cost",a.shipping_cost),a.discount&&P.append("discount",a.discount),a.room&&P.append("room",a.room),a.link&&P.append("link",a.link),a.size&&P.append("size",a.size),a.nm&&P.append("nm",a.nm),a.plusz_nm&&P.append("plusz_nm",a.plusz_nm),a.price_per_nm&&P.append("price_per_nm",a.price_per_nm),a.price_per_package&&P.append("price_per_package",a.price_per_package),a.nm_per_package&&P.append("nm_per_package",a.nm_per_package),a.all_package&&P.append("all_package",a.all_package),a.package_need_to_order&&P.append("package_need_to_order",a.package_need_to_order),a.all_price&&P.append("all_price",a.all_price),a.eta&&P.append("eta",a.eta),a.ordered_on&&P.append("ordered_on",a.ordered_on),a.payment_due_date&&P.append("payment_due_date",a.payment_due_date),a.payment_amount&&P.append("payment_amount",a.payment_amount),a.delivery_type&&P.append("delivery_type",a.delivery_type),a.delivery_status_tags&&P.append("delivery_status_tags",a.delivery_status_tags),a.delivery_address&&P.append("delivery_address",a.delivery_address),a.delivery_city&&P.append("delivery_city",a.delivery_city),a.delivery_postal_code&&P.append("delivery_postal_code",a.delivery_postal_code),a.delivery_country&&P.append("delivery_country",a.delivery_country),a.delivery_time_window&&P.append("delivery_time_window",a.delivery_time_window),a.delivery_instructions&&P.append("delivery_instructions",a.delivery_instructions),a.delivery_contact_person&&P.append("delivery_contact_person",a.delivery_contact_person),a.delivery_contact_phone&&P.append("delivery_contact_phone",a.delivery_contact_phone),a.delivery_contact_email&&P.append("delivery_contact_email",a.delivery_contact_email),a.delivery_notes&&P.append("delivery_notes",a.delivery_notes),a.tracking_number&&P.append("tracking_number",a.tracking_number),a.condition_on_arrival&&P.append("condition_on_arrival",a.condition_on_arrival),a.sender&&P.append("sender",a.sender),a.sender_address&&P.append("sender_address",a.sender_address),a.sender_phone&&P.append("sender_phone",a.sender_phone),a.recipient&&P.append("recipient",a.recipient),a.recipient_address&&P.append("recipient_address",a.recipient_address),a.recipient_phone&&P.append("recipient_phone",a.recipient_phone),a.recipient_email&&P.append("recipient_email",a.recipient_email),a.locker_provider&&P.append("locker_provider",a.locker_provider),a.locker_id&&P.append("locker_id",a.locker_id),a.pickup_provider&&P.append("pickup_provider",a.pickup_provider),a.pickup_location&&P.append("pickup_location",a.pickup_location),a.customs_description&&P.append("customs_description",a.customs_description),a.item_value&&P.append("item_value",a.item_value),a.hs_category&&P.append("hs_category",a.hs_category),a.insurance&&P.append("insurance",a.insurance),a.cod&&P.append("cod",a.cod),a.pickup_time&&P.append("pickup_time",a.pickup_time),a.delivery_deadline&&P.append("delivery_deadline",a.delivery_deadline),a.special_instructions&&P.append("special_instructions",a.special_instructions),a.issue_type&&P.append("issue_type",a.issue_type),a.issue_description&&P.append("issue_description",a.issue_description),P.append("replacement_requested",a.replacement_requested.toString()),P.append("replacement_approved",a.replacement_approved.toString()),a.replacement_eta&&P.append("replacement_eta",a.replacement_eta),a.replacement_of&&P.append("replacement_of",a.replacement_of),a.gallery_images&&P.append("gallery_images",a.gallery_images),a.attachments&&P.append("attachments",a.attachments),a.notes&&P.append("notes",a.notes),a.manual_notes&&P.append("manual_notes",a.manual_notes),a.ai_summary_notes&&P.append("ai_summary_notes",a.ai_summary_notes),await E.mutateAsync(P)}else{const P={apartment:t,category:a.category,product:a.product,description:a.description||void 0,vendor:a.vendor,vendor_link:a.vendor_link||void 0,sku:a.sku||void 0,dimensions:a.dimensions||void 0,weight:a.weight||void 0,material:a.material||void 0,color:a.color||void 0,model_number:a.model_number||void 0,brand:a.brand||void 0,country_of_origin:a.country_of_origin||void 0,sn:a.sn||void 0,unit_price:a.unit_price,qty:a.qty,cost:a.cost||void 0,total_cost:a.total_cost||void 0,shipping_cost:a.shipping_cost||void 0,discount:a.discount||void 0,currency:a.currency,availability:a.availability,status:a.status,room:a.room||void 0,link:a.link||void 0,size:a.size||void 0,nm:a.nm||void 0,plusz_nm:a.plusz_nm||void 0,price_per_nm:a.price_per_nm||void 0,price_per_package:a.price_per_package||void 0,nm_per_package:a.nm_per_package||void 0,all_package:a.all_package||void 0,package_need_to_order:a.package_need_to_order||void 0,all_price:a.all_price||void 0,eta:a.eta||null,ordered_on:a.ordered_on||null,payment_status:a.payment_status,payment_due_date:a.payment_due_date||null,payment_amount:a.payment_amount||null,paid_amount:a.paid_amount,delivery_type:a.delivery_type||void 0,delivery_status_tags:a.delivery_status_tags||void 0,delivery_address:a.delivery_address||void 0,delivery_city:a.delivery_city||void 0,delivery_postal_code:a.delivery_postal_code||void 0,delivery_country:a.delivery_country||void 0,delivery_time_window:a.delivery_time_window||void 0,delivery_instructions:a.delivery_instructions||void 0,delivery_contact_person:a.delivery_contact_person||void 0,delivery_contact_phone:a.delivery_contact_phone||void 0,delivery_contact_email:a.delivery_contact_email||void 0,delivery_notes:a.delivery_notes||void 0,tracking_number:a.tracking_number||void 0,condition_on_arrival:a.condition_on_arrival||void 0,sender:a.sender||void 0,sender_address:a.sender_address||void 0,sender_phone:a.sender_phone||void 0,recipient:a.recipient||void 0,recipient_address:a.recipient_address||void 0,recipient_phone:a.recipient_phone||void 0,recipient_email:a.recipient_email||void 0,locker_provider:a.locker_provider||void 0,locker_id:a.locker_id||void 0,pickup_provider:a.pickup_provider||void 0,pickup_location:a.pickup_location||void 0,customs_description:a.customs_description||void 0,item_value:a.item_value||void 0,hs_category:a.hs_category||void 0,insurance:a.insurance||void 0,cod:a.cod||void 0,pickup_time:a.pickup_time||void 0,delivery_deadline:a.delivery_deadline||void 0,special_instructions:a.special_instructions||void 0,issue_state:a.issue_state,issue_type:a.issue_type||void 0,issue_description:a.issue_description||void 0,replacement_requested:a.replacement_requested,replacement_approved:a.replacement_approved,replacement_eta:a.replacement_eta||null,replacement_of:a.replacement_of||void 0,gallery_images:a.gallery_images||void 0,attachments:a.attachments||void 0,notes:a.notes||void 0,manual_notes:a.manual_notes||void 0,ai_summary_notes:a.ai_summary_notes||void 0};await E.mutateAsync(P)}r(`/apartments/${t}`)}catch{}};if(!x)return n.jsx(ct,{title:"Apartment Not Found",children:n.jsx(X,{children:n.jsxs(Q,{className:"py-8",children:[n.jsx("p",{className:"text-center text-muted-foreground",children:"Apartment not found"}),n.jsx("div",{className:"flex justify-center mt-4",children:n.jsx(te,{onClick:()=>r("/apartments"),children:"Back to Apartments"})})]})})});const H=a.unit_price&&a.qty?parseFloat(a.unit_price)*a.qty+(parseFloat(a.shipping_cost)||0)-(parseFloat(a.discount)||0):0,F=H-(parseFloat(a.paid_amount)||0);return n.jsx(ct,{title:"Add Product",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(Jn,{href:"/apartments",children:"Apartments"})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(Jn,{href:`/apartments/${t}`,children:x.name})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(ji,{children:"Add Product"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>r(`/apartments/${t}`),children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"Add Product"})]}),n.jsx("form",{onSubmit:z,children:n.jsx(X,{children:n.jsxs(Q,{children:[n.jsxs(Ro,{value:m,onValueChange:h,children:[n.jsxs(no,{className:"grid w-full grid-cols-4 mt-6",children:[n.jsx(Ut,{value:"basic",children:"Basic Info"}),n.jsx(Ut,{value:"measurements",children:"Measurements"}),n.jsx(Ut,{value:"pricing",children:"Pricing"}),n.jsx(Ut,{value:"additional",children:"Additional"})]}),n.jsxs(Qt,{value:"basic",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Product Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"product",children:"Product Name *"}),n.jsx(me,{id:"product",value:a.product,onChange:k=>i({...a,product:k.target.value}),placeholder:"Modern Sofa"}),o.product&&n.jsx("p",{className:"text-sm text-destructive",children:o.product})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"category",children:"Category *"}),n.jsx(Aw,{options:w.map(k=>({value:k.id,label:k.name})),value:a.category,onValueChange:k=>i({...a,category:k}),onCreate:async k=>{const P=await A.mutateAsync({name:k,apartment:t,sheet_name:k});return{id:P.id,name:P.name}},placeholder:"Select category",searchPlaceholder:"Search categories...",emptyText:"No categories found.",createText:"Create new category",isLoading:j}),o.category&&n.jsx("p",{className:"text-sm text-destructive",children:o.category})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"vendor",children:"Vendor *"}),n.jsx(Aw,{options:_.map(k=>({value:k.id,label:k.company_name||k.name})),value:a.vendor,onValueChange:k=>i({...a,vendor:k}),onNavigateToCreate:()=>{r("/vendors/new")},placeholder:"Select vendor",searchPlaceholder:"Search vendors...",emptyText:"No vendors found.",createText:"Create new vendor",isLoading:N}),o.vendor&&n.jsx("p",{className:"text-sm text-destructive",children:o.vendor})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"link",children:"Product Link (Optional)"}),n.jsx(me,{id:"link",type:"url",value:a.link,onChange:k=>i({...a,link:k.target.value}),placeholder:"https://example.com/product"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"sku",children:"SKU *"}),n.jsx(me,{id:"sku",value:a.sku,onChange:k=>i({...a,sku:k.target.value}),placeholder:"SOFA-001"}),o.sku&&n.jsx("p",{className:"text-sm text-destructive",children:o.sku})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"room",children:"Room (Optional)"}),n.jsx(me,{id:"room",value:a.room,onChange:k=>i({...a,room:k.target.value}),placeholder:"Living Room, Bedroom, etc."})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"imageFile",children:"Product Image"}),u?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"relative w-full h-48 border rounded-md overflow-hidden bg-muted",children:[n.jsx("img",{src:u,alt:"Product preview",className:"w-full h-full object-contain"}),n.jsx(te,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:R,children:"Remove"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:c==null?void 0:c.name})]}):n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(me,{id:"imageFile",type:"file",accept:"image/*",onChange:T,className:"cursor-pointer"})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload a product image (JPG, PNG, GIF, etc.)"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"unitPrice",children:"Unit Price (HUF) *"}),n.jsx(me,{id:"unitPrice",type:"number",min:"0",step:"0.01",value:a.unit_price,onChange:k=>i({...a,unit_price:k.target.value}),placeholder:"150000"}),o.unitPrice&&n.jsx("p",{className:"text-sm text-destructive",children:o.unitPrice})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"qty",children:"Quantity *"}),n.jsx(me,{id:"qty",type:"number",min:"1",value:a.qty,onChange:k=>i({...a,qty:parseInt(k.target.value)||1}),placeholder:"1"}),o.qty&&n.jsx("p",{className:"text-sm text-destructive",children:o.qty})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"availability",children:"Availability *"}),n.jsxs(st,{value:a.availability,onValueChange:k=>i({...a,availability:k}),children:[n.jsx(rt,{id:"availability",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"In Stock",children:"In Stock"}),n.jsx(J,{value:"Backorder",children:"Backorder"}),n.jsx(J,{value:"Out of Stock",children:"Out of Stock"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",children:"Product Status *"}),n.jsxs(st,{value:a.status,onValueChange:k=>i({...a,status:k}),children:[n.jsx(rt,{id:"status",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"Design Approved",children:"Design Approved"}),n.jsx(J,{value:"Ready To Order",children:"Ready To Order"}),n.jsx(J,{value:"Ordered",children:"Ordered"}),n.jsx(J,{value:"Shipped",children:"Shipped"}),n.jsx(J,{value:"Delivered",children:"Delivered"}),n.jsx(J,{value:"Damaged",children:"Damaged"}),n.jsx(J,{value:"Wrong Item",children:"Wrong Item"}),n.jsx(J,{value:"Missing",children:"Missing"})]})]})]})]})]}),n.jsxs(Qt,{value:"measurements",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Product Specifications"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"dimensions",children:"Dimensions"}),n.jsx(me,{id:"dimensions",value:a.dimensions,onChange:k=>i({...a,dimensions:k.target.value}),placeholder:"120x80x45 cm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"weight",children:"Weight"}),n.jsx(me,{id:"weight",value:a.weight,onChange:k=>i({...a,weight:k.target.value}),placeholder:"25 kg"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"material",children:"Material"}),n.jsx(me,{id:"material",value:a.material,onChange:k=>i({...a,material:k.target.value}),placeholder:"Oak Wood"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"color",children:"Color"}),n.jsx(me,{id:"color",value:a.color,onChange:k=>i({...a,color:k.target.value}),placeholder:"Natural Oak"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"size",children:"Size"}),n.jsx(me,{id:"size",value:a.size,onChange:k=>i({...a,size:k.target.value}),placeholder:"Large"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"NM Measurements (for Flooring/Tiles)"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"nm",children:"NM"}),n.jsx(me,{id:"nm",type:"number",step:"0.01",value:a.nm,onChange:k=>i({...a,nm:k.target.value}),placeholder:"10.5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"plusz_nm",children:"Plus NM"}),n.jsx(me,{id:"plusz_nm",type:"number",step:"0.01",value:a.plusz_nm,onChange:k=>i({...a,plusz_nm:k.target.value}),placeholder:"1.5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"price_per_nm",children:"Price per NM"}),n.jsx(me,{id:"price_per_nm",type:"number",step:"0.01",value:a.price_per_nm,onChange:k=>i({...a,price_per_nm:k.target.value}),placeholder:"5000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"price_per_package",children:"Price per Package"}),n.jsx(me,{id:"price_per_package",type:"number",step:"0.01",value:a.price_per_package,onChange:k=>i({...a,price_per_package:k.target.value}),placeholder:"15000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"nm_per_package",children:"NM per Package"}),n.jsx(me,{id:"nm_per_package",type:"number",step:"0.01",value:a.nm_per_package,onChange:k=>i({...a,nm_per_package:k.target.value}),placeholder:"3"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"package_need_to_order",children:"Package Need to Order"}),n.jsx(me,{id:"package_need_to_order",type:"number",value:a.package_need_to_order,onChange:k=>i({...a,package_need_to_order:k.target.value}),placeholder:"8"})]})]})]})]}),n.jsxs(Qt,{value:"pricing",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Payment Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"total_amount",children:"Total Amount (HUF)"}),n.jsx("div",{className:"h-10 px-3 py-2 rounded-md border border-input bg-muted flex items-center",children:n.jsx("span",{className:"font-semibold text-lg",children:H.toLocaleString()})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: (Unit Price  Qty) + Shipping - Discount"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"shipping_cost",children:"Shipping Cost (Optional)"}),n.jsx(me,{id:"shipping_cost",type:"number",min:"0",step:"0.01",value:a.shipping_cost,onChange:k=>i({...a,shipping_cost:k.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"discount",children:"Discount (Optional)"}),n.jsx(me,{id:"discount",type:"number",min:"0",step:"0.01",value:a.discount,onChange:k=>i({...a,discount:k.target.value}),placeholder:"0"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paid_amount",children:"Paid Amount"}),n.jsx(me,{id:"paid_amount",type:"number",min:"0",step:"0.01",value:a.paid_amount,onChange:k=>i({...a,paid_amount:k.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Outstanding Balance"}),n.jsx("div",{className:`h-10 px-3 py-2 rounded-md border flex items-center ${F>0?"bg-red-50 border-red-200 text-red-700":"bg-green-50 border-green-200 text-green-700"}`,children:n.jsxs("span",{className:"font-semibold text-lg",children:[F.toLocaleString()," HUF"]})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: Total Amount - Paid Amount"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paymentStatus",children:"Payment Status *"}),n.jsxs(st,{value:a.payment_status,onValueChange:k=>i({...a,payment_status:k}),children:[n.jsx(rt,{id:"paymentStatus",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"Unpaid",children:"Unpaid"}),n.jsx(J,{value:"Partially Paid",children:"Partially Paid"}),n.jsx(J,{value:"Paid",children:"Paid"}),n.jsx(J,{value:"Overdue",children:"Overdue"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"currency",children:"Currency"}),n.jsxs(st,{value:a.currency,onValueChange:k=>i({...a,currency:k}),children:[n.jsx(rt,{id:"currency",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"HUF",children:"HUF (Hungarian Forint)"}),n.jsx(J,{value:"EUR",children:"EUR (Euro)"}),n.jsx(J,{value:"USD",children:"USD (US Dollar)"})]})]})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paymentDueDate",children:"Payment Due Date *"}),n.jsx(me,{id:"paymentDueDate",type:"date",value:a.payment_due_date,onChange:k=>i({...a,payment_due_date:k.target.value})})]})})]}),n.jsxs(Qt,{value:"additional",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"brand",children:"Brand"}),n.jsx(me,{id:"brand",value:a.brand,onChange:k=>i({...a,brand:k.target.value}),placeholder:"e.g., IKEA, Samsung, etc."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"country_of_origin",children:"Country of Origin"}),n.jsx(me,{id:"country_of_origin",value:a.country_of_origin,onChange:k=>i({...a,country_of_origin:k.target.value}),placeholder:"e.g., Hungary, China, Germany"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"condition_on_arrival",children:"Condition on Arrival"}),n.jsx(me,{id:"condition_on_arrival",value:a.condition_on_arrival,onChange:k=>i({...a,condition_on_arrival:k.target.value}),placeholder:"Good, Damaged, Needs Inspection, etc."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-semibold",children:"Notes & Documentation"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"General Notes"}),n.jsx(pa,{id:"notes",value:a.notes,onChange:k=>i({...a,notes:k.target.value}),placeholder:"General notes about this product...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"manual_notes",children:"Manual Notes"}),n.jsx(pa,{id:"manual_notes",value:a.manual_notes,onChange:k=>i({...a,manual_notes:k.target.value}),placeholder:"Manual notes added by staff...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"ai_summary_notes",children:"AI Summary Notes"}),n.jsx(pa,{id:"ai_summary_notes",value:a.ai_summary_notes,onChange:k=>i({...a,ai_summary_notes:k.target.value}),placeholder:"AI-generated summary and insights...",rows:3}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"AI-generated summaries and recommendations"})]})]})]})]}),n.jsxs("div",{className:"flex gap-4 justify-between mt-6 border-t pt-6",children:[n.jsx("div",{children:m!=="basic"&&n.jsx(te,{type:"button",variant:"outline",onClick:k=>{k.preventDefault(),k.stopPropagation();const P=["basic","measurements","pricing","additional"],M=P.indexOf(m);M>0&&h(P[M-1])},children:" Previous"})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(te,{type:"button",variant:"outline",onClick:k=>{k.preventDefault(),k.stopPropagation(),r(`/apartments/${t}`)},children:"Cancel"}),m!=="additional"?n.jsx(te,{type:"button",onClick:k=>{k.preventDefault(),k.stopPropagation();const P=["basic","measurements","pricing","additional"],M=P.indexOf(m);M<P.length-1&&h(P[M+1])},children:"Next "}):n.jsxs(te,{type:"submit",disabled:E.isPending,children:[E.isPending&&n.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),E.isPending?"Adding...":"Add Product"]})]})]})]})})})]})})},lUe=()=>{var w;const{id:e}=to(),t=mr(),[r,s]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState({x:0,y:0}),[c,d]=v.useState(!1),{data:u,isLoading:f,error:m}=FX(e||null),h=u==null?void 0:u.apartment_details,x=null,p=[],g=b=>{const N=b.currentTarget.getBoundingClientRect(),S=(b.clientX-N.left)/N.width*100,_=(b.clientY-N.top)/N.height*100;l({x:S,y:_})};if(v.useEffect(()=>{const b=N=>{N.key==="Escape"&&c&&d(!1)};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[c]),f)return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"container mx-auto py-8",children:[n.jsx(Ua,{className:"mb-6",children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(C,{className:"h-4 w-32"})})]})}),n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-8 w-64"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-6 w-20"}),n.jsx(C,{className:"h-6 w-24"}),n.jsx(C,{className:"h-6 w-20"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-9 w-20"}),n.jsx(C,{className:"h-9 w-24"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-primary/5 to-transparent",children:n.jsx(C,{className:"h-6 w-48"})}),n.jsxs(Q,{className:"space-y-4 pt-6",children:[n.jsx(C,{className:"h-20 w-full"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((b,N)=>n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx(C,{className:"h-4 w-16 mb-2"}),n.jsx(C,{className:"h-5 w-24"})]},N))})]})]}),n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-blue-500/5 to-transparent",children:n.jsx(C,{className:"h-6 w-40"})}),n.jsx(Q,{className:"pt-6",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(5)].map((b,N)=>n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx(C,{className:"h-4 w-20 mb-2"}),n.jsx(C,{className:"h-5 w-28"})]},N))})})]}),n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-green-500/5 to-transparent",children:n.jsx(C,{className:"h-6 w-44"})}),n.jsx(Q,{className:"space-y-6 pt-6",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[...Array(3)].map((b,N)=>n.jsxs("div",{className:"p-4 bg-gradient-to-br from-primary/10 to-primary/5 rounded-lg border-2",children:[n.jsx(C,{className:"h-4 w-16 mb-2"}),n.jsx(C,{className:"h-8 w-32"})]},N))})})]}),n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-orange-500/5 to-transparent",children:n.jsx(C,{className:"h-6 w-48"})}),n.jsxs(Q,{className:"space-y-4 pt-6",children:[n.jsx(C,{className:"h-32 w-full"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[...Array(4)].map((b,N)=>n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx(C,{className:"h-4 w-24 mb-2"}),n.jsx(C,{className:"h-5 w-32"})]},N))})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-slate-500/5 to-transparent",children:n.jsx(C,{className:"h-6 w-32"})}),n.jsx(Q,{className:"p-0",children:n.jsx(C,{className:"w-full aspect-square"})})]}),n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-cyan-500/5 to-transparent",children:n.jsx(C,{className:"h-6 w-28"})}),n.jsx(Q,{className:"space-y-3 pt-6",children:[...Array(5)].map((b,N)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-5 w-20"})]},N))})]})]})]})]})});if(m||!u)return n.jsx(ct,{title:"Product Not Found",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground mb-4",children:"Product not found"}),n.jsxs(te,{onClick:()=>t("/apartments"),children:[n.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back to Apartments"]})]})});const j=()=>{window.confirm(`Are you sure you want to delete "${u.product}"?`)&&(Ue.success("Product deleted successfully"),t(`/apartments/${u.apartment}`))},y=b=>{const N=b.toLowerCase();return N.includes("delivered")||N.includes("closed")||N.includes("paid")?"bg-success text-success-foreground":N.includes("issue")||N.includes("damaged")||N.includes("wrong")||N.includes("missing")?"bg-danger text-danger-foreground":N.includes("waiting")||N.includes("pending")||N.includes("partial")?"bg-warning text-warning-foreground":N.includes("ordered")||N.includes("shipped")||N.includes("transit")?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"};return n.jsxs(ct,{title:u.product,children:[n.jsx(Ua,{className:"mb-6",children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(Jn,{asChild:!0,children:n.jsx(Yi,{to:"/apartments",children:"Apartments"})})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(Jn,{asChild:!0,children:n.jsx(Yi,{to:`/apartments/${u.apartment}`,children:(h==null?void 0:h.name)||"Apartment"})})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(ji,{children:u.product})})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-start space-x-2  mb-3",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>t(`/apartments/${u.apartment}`),className:"shrink-0",children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold truncate",children:u.product})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[(w=u.status_tags)==null?void 0:w.map(b=>n.jsx(Ce,{className:y(b),children:b},b)),(u.delivery_status_tags||[]).map(b=>n.jsx(Ce,{variant:"outline",className:y(b),children:b},b))]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 sm:flex-nowrap",children:[p.length>0&&n.jsxs(dv,{open:r,onOpenChange:s,children:[n.jsx(uv,{asChild:!0,children:n.jsxs(te,{variant:"outline",size:"icon",className:"relative shrink-0",children:[n.jsx(mf,{className:"h-4 w-4"}),p.length>0&&n.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-danger text-danger-foreground text-xs flex items-center justify-center",children:p.length})]})}),n.jsx(Dp,{className:"w-80",align:"end",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),n.jsx(Mu,{className:"h-[300px]",children:n.jsx("div",{className:"space-y-3",children:p.map(b=>n.jsxs("div",{className:"p-3 rounded-lg border border-border bg-muted/30 space-y-1",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("p",{className:"font-medium text-sm",children:b.title}),n.jsx(Ce,{variant:"outline",className:b.type==="success"?"bg-success/10 text-success border-success/20":b.type==="warning"?"bg-warning/10 text-warning border-warning/20":"bg-primary/10 text-primary border-primary/20",children:b.type})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.message}),n.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(b.timestamp).toLocaleString()})]},b.id))})})]})})]}),n.jsxs(te,{variant:"outline",size:"sm",onClick:()=>t(`/products/${u.id}/edit`),className:"shrink-0",children:[n.jsx(Zs,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),n.jsxs(te,{variant:"destructive",size:"sm",onClick:j,className:"shrink-0",children:[n.jsx(pn,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-primary/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(lt,{className:"h-5 w-5 text-primary"}),"Product Information"]})}),n.jsxs(Q,{className:"space-y-6 pt-6",children:[u.description&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Description"}),n.jsx("p",{className:"text-sm leading-relaxed",children:u.description})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(fr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Vendor"})]}),n.jsx("p",{className:"font-semibold",children:u.vendor_name||"-"}),u.vendor_link&&n.jsxs("a",{href:u.vendor_link,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline flex items-center gap-1 mt-1",children:["Visit Website",n.jsx(Ck,{className:"h-3 w-3"})]})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx($5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"SKU"})]}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:u.sku||"-"})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(z5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Category"})]}),n.jsx("p",{className:"font-semibold",children:u.category_name||"-"})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(L5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Room"})]}),n.jsx("p",{className:"font-semibold",children:u.room||"-"})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(lr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Availability"})]}),n.jsx(Ce,{variant:u.availability==="In Stock"?"default":"secondary",children:u.availability})]}),u.brand&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(z5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Brand"})]}),n.jsx("p",{className:"font-semibold",children:u.brand})]}),u.model_number&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx($n,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Model Number"})]}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:u.model_number})]}),u.sn&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx($5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Serial Number"})]}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:u.sn})]}),u.country_of_origin&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(tc,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Country of Origin"})]}),n.jsx("p",{className:"font-semibold",children:u.country_of_origin})]})]})]})]}),(u.dimensions||u.weight||u.material||u.color||u.size)&&n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-blue-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(q_,{className:"h-5 w-5 text-blue-600"}),"Specifications"]})}),n.jsx(Q,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.dimensions&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(q_,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Dimensions"})]}),n.jsx("p",{className:"font-semibold",children:u.dimensions})]}),u.weight&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(b7,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Weight"})]}),n.jsx("p",{className:"font-semibold",children:u.weight})]}),u.material&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(L5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Material"})]}),n.jsx("p",{className:"font-semibold",children:u.material})]}),u.color&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(_se,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Color"})]}),n.jsx("p",{className:"font-semibold",children:u.color})]}),u.size&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(q_,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Size"})]}),n.jsx("p",{className:"font-semibold",children:u.size})]})]})})]}),n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-green-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Nr,{className:"h-5 w-5 text-green-600"}),"Pricing & Payment"]})}),n.jsxs(Q,{className:"space-y-6 pt-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-4 bg-gradient-to-br from-primary/10 to-primary/5 rounded-lg border-2 border-primary/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Unit Price"}),n.jsxs("p",{className:"text-2xl font-bold text-primary",children:[parseFloat(u.unit_price).toLocaleString()," ",u.currency]})]}),n.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-500/10 to-blue-500/5 rounded-lg border-2 border-blue-500/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Quantity"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:u.qty})]}),n.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-500/10 to-green-500/5 rounded-lg border-2 border-green-500/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[parseFloat(u.total_amount).toLocaleString()," ",u.currency]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[u.shipping_cost&&parseFloat(u.shipping_cost)>0&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Shipping Cost"}),n.jsxs("p",{className:"font-semibold",children:[parseFloat(u.shipping_cost).toLocaleString()," ",u.currency]})]}),u.discount&&parseFloat(u.discount)>0&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Discount"}),n.jsxs("p",{className:"font-semibold text-green-600",children:["-",parseFloat(u.discount).toLocaleString()," ",u.currency]})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Payment Status"}),n.jsx(Ce,{className:y(u.payment_status),children:u.payment_status})]}),u.payment_status_from_orders&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Order Payment Status"}),n.jsx(Ce,{className:y(u.payment_status_from_orders),children:u.payment_status_from_orders})]})]}),(u.payment_amount||u.paid_amount)&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-3",children:[n.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[n.jsx(bs,{className:"h-4 w-4"}),"Payment Details"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.payment_amount&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Payment Amount"}),n.jsxs("p",{className:"font-semibold",children:[parseFloat(u.payment_amount).toLocaleString()," ",u.currency]})]}),u.paid_amount!==void 0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Paid Amount"}),n.jsxs("p",{className:"font-semibold text-green-600",children:[parseFloat(u.paid_amount).toLocaleString()," ",u.currency]})]}),u.outstanding_balance!==void 0&&n.jsxs("div",{className:"col-span-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Outstanding Balance"}),n.jsxs("p",{className:`text-lg font-bold ${parseFloat(u.outstanding_balance)>0?"text-danger":"text-success"}`,children:[parseFloat(u.outstanding_balance).toLocaleString()," ",u.currency]})]})]})]})]})]}),u.order_status_info&&u.order_status_info.length>0&&n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-purple-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ws,{className:"h-5 w-5 text-purple-600"}),"Order Tracking"]})}),n.jsx(Q,{className:"pt-6",children:n.jsx("div",{className:"space-y-4",children:u.order_status_info.map((b,N)=>n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ce,{className:y(b.status),children:b.status}),b.po_number&&n.jsxs("span",{className:"text-sm font-mono text-muted-foreground",children:["PO: ",b.po_number]})]}),b.quantity&&n.jsxs("span",{className:"text-sm font-semibold",children:["Qty: ",b.quantity]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[b.placed_on&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Placed On"}),n.jsx("p",{className:"font-medium",children:new Date(b.placed_on).toLocaleDateString()})]}),b.expected_delivery&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Delivery"}),n.jsx("p",{className:"font-medium",children:new Date(b.expected_delivery).toLocaleDateString()})]})]}),b.shipping_address&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Shipping Address"}),n.jsx("p",{className:"text-sm",children:b.shipping_address})]})]},N))})})]}),u.delivery_status_info&&u.delivery_status_info.length>0||u.delivery_address||u.tracking_number?n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-orange-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(_r,{className:"h-5 w-5 text-orange-600"}),"Delivery Information"]})}),n.jsxs(Q,{className:"space-y-6 pt-6",children:[u.delivery_status_info&&u.delivery_status_info.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Delivery Tracking"}),u.delivery_status_info.map((b,N)=>n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ce,{className:y(b.status),children:b.status}),b.priority&&n.jsx(Ce,{variant:"outline",children:b.priority})]}),b.tracking_number&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Tracking Number"}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:b.tracking_number})]}),b.location&&n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(ya,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Current Location"}),n.jsx("p",{className:"text-sm font-medium",children:b.location})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[b.expected_date&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Date"}),n.jsx("p",{className:"font-medium",children:new Date(b.expected_date).toLocaleDateString()})]}),b.actual_date&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Actual Date"}),n.jsx("p",{className:"font-medium",children:new Date(b.actual_date).toLocaleDateString()})]})]})]},N))]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.delivery_type&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Delivery Type"}),n.jsx("p",{className:"font-semibold capitalize",children:u.delivery_type.replace("_"," ")})]}),u.tracking_number&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Tracking Number"}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:u.tracking_number})]}),u.ordered_on&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(wr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Ordered On"})]}),n.jsx("p",{className:"font-semibold",children:new Date(u.ordered_on).toLocaleDateString()})]}),u.expected_delivery_date&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(on,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Delivery"})]}),n.jsx("p",{className:"font-semibold",children:new Date(u.expected_delivery_date).toLocaleDateString()})]}),u.actual_delivery_date&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(lr,{className:"h-4 w-4 text-green-600"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Actual Delivery"})]}),n.jsx("p",{className:"font-semibold text-green-600",children:new Date(u.actual_delivery_date).toLocaleDateString()})]}),u.eta&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(wr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"ETA"})]}),n.jsx("p",{className:"font-semibold",children:new Date(u.eta).toLocaleDateString()})]}),u.condition_on_arrival&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Condition on Arrival"}),n.jsx("p",{className:"font-semibold",children:u.condition_on_arrival})]})]}),u.delivery_address&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[n.jsx(ya,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsx("h4",{className:"font-semibold text-sm",children:"Delivery Address"})]}),n.jsx("p",{className:"text-sm mb-1",children:u.delivery_address}),(u.delivery_city||u.delivery_postal_code||u.delivery_country)&&n.jsx("p",{className:"text-sm text-muted-foreground",children:[u.delivery_city,u.delivery_postal_code,u.delivery_country].filter(Boolean).join(", ")})]}),(u.delivery_contact_person||u.delivery_contact_phone||u.delivery_contact_email)&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Delivery Contact"}),u.delivery_contact_person&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(os,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:u.delivery_contact_person})]}),u.delivery_contact_phone&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ko,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:`tel:${u.delivery_contact_phone}`,className:"text-sm text-primary hover:underline",children:u.delivery_contact_phone})]}),u.delivery_contact_email&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:`mailto:${u.delivery_contact_email}`,className:"text-sm text-primary hover:underline",children:u.delivery_contact_email})]})]}),(u.delivery_instructions||u.delivery_notes||u.special_instructions)&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Instructions & Notes"}),u.delivery_instructions&&n.jsxs("div",{className:"mb-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery Instructions"}),n.jsx("p",{className:"text-sm",children:u.delivery_instructions})]}),u.delivery_notes&&n.jsxs("div",{className:"mb-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery Notes"}),n.jsx("p",{className:"text-sm",children:u.delivery_notes})]}),u.special_instructions&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Special Instructions"}),n.jsx("p",{className:"text-sm",children:u.special_instructions})]})]})]})]}):null,(u.notes||u.manual_notes||u.ai_summary_notes)&&n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-indigo-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx($n,{className:"h-5 w-5 text-indigo-600"}),"Notes & Additional Information"]})}),n.jsxs(Q,{className:"space-y-4 pt-6",children:[u.notes&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-semibold",children:"General Notes"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:u.notes})]}),u.manual_notes&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-semibold",children:"Manual Notes"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:u.manual_notes})]}),u.ai_summary_notes&&n.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Oa,{className:"h-4 w-4 text-primary"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"AI Summary"})]}),n.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:u.ai_summary_notes})]})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[u.product_image?n.jsxs(X,{className:"border-2 overflow-hidden",children:[n.jsx(be,{className:"bg-gradient-to-r from-slate-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Gi,{className:"h-5 w-5"}),"Product Image"]})}),n.jsx(Q,{className:"p-0",children:n.jsxs("div",{className:"relative group cursor-pointer overflow-hidden",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onMouseMove:g,onClick:()=>d(!0),children:[n.jsx("img",{src:u.product_image,alt:u.product,className:"w-full object-cover aspect-square transition-transform duration-200",style:{transform:a?"scale(1.5)":"scale(1)",transformOrigin:`${o.x}% ${o.y}%`}}),n.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors duration-200 pointer-events-none"}),n.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/70 text-white text-xs px-3 py-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none flex items-center gap-1.5",children:[n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"})}),"Hover to zoom  Click for fullscreen"]})]})})]}):n.jsx(X,{className:"border-2",children:n.jsxs(Q,{className:"py-24 text-center",children:[n.jsx("div",{className:"mx-auto h-24 w-24 rounded-full bg-muted flex items-center justify-center mb-4",children:n.jsx(Gi,{className:"h-12 w-12 text-muted-foreground"})}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"No image available"})]})}),n.jsxs(X,{className:"border-2",children:[n.jsx(be,{className:"bg-gradient-to-r from-cyan-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(m7,{className:"h-5 w-5 text-cyan-600"}),"Quick Stats"]})}),n.jsxs(Q,{className:"space-y-3 pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Ordered"}),u.is_ordered?n.jsx(lr,{className:"h-5 w-5 text-green-600"}):n.jsx(Vl,{className:"h-5 w-5 text-muted-foreground"})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Active Order"}),u.has_active_order?n.jsx(lr,{className:"h-5 w-5 text-green-600"}):n.jsx(Vl,{className:"h-5 w-5 text-muted-foreground"})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Created"}),n.jsx("span",{className:"text-sm font-medium",children:new Date(u.created_at).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Last Updated"}),n.jsx("span",{className:"text-sm font-medium",children:new Date(u.updated_at).toLocaleDateString()})]}),u.created_by&&n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Created By"}),n.jsx("span",{className:"text-sm font-medium",children:u.created_by})]})]})]}),u.issue_state&&u.issue_state!=="No Issue"&&n.jsxs(X,{className:"border-2 border-danger/50 bg-danger/5",children:[n.jsx(be,{className:"bg-gradient-to-r from-danger/10 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2 text-danger",children:[n.jsx(Et,{className:"h-5 w-5"}),"Issue Status"]})}),n.jsxs(Q,{className:"space-y-4 pt-6",children:[n.jsxs("div",{className:"p-3 bg-background rounded-lg border border-danger/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Current Status"}),n.jsx(Ce,{className:y(u.issue_state),children:u.issue_state})]}),u.issue_status_info&&u.issue_status_info.status!=="No Issue"&&n.jsxs("div",{className:"space-y-3",children:[u.issue_status_info.type&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Issue Type"}),n.jsx("p",{className:"font-semibold",children:u.issue_status_info.type})]}),u.issue_status_info.priority&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Priority"}),n.jsx(Ce,{variant:"outline",children:u.issue_status_info.priority})]}),u.issue_status_info.created_at&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Reported On"}),n.jsx("p",{className:"font-medium",children:new Date(u.issue_status_info.created_at).toLocaleDateString()})]})]}),u.issue_description&&n.jsxs("div",{className:"p-4 bg-background rounded-lg border border-danger/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Description"}),n.jsx("p",{className:"text-sm leading-relaxed",children:u.issue_description})]}),(u.replacement_requested||u.replacement_approved)&&n.jsxs("div",{className:"p-4 bg-warning/10 rounded-lg border border-warning/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-semibold",children:"Replacement Status"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[u.replacement_requested?n.jsx(lr,{className:"h-4 w-4 text-warning"}):n.jsx(Vl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:"Replacement Requested"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[u.replacement_approved?n.jsx(lr,{className:"h-4 w-4 text-success"}):n.jsx(Vl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:"Replacement Approved"})]}),u.replacement_eta&&n.jsxs("div",{className:"mt-2 pt-2 border-t",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Replacement ETA"}),n.jsx("p",{className:"text-sm font-medium",children:new Date(u.replacement_eta).toLocaleDateString()})]})]})]})]})]})]})]}),c&&u.product_image&&n.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:()=>d(!1),children:[n.jsx("button",{onClick:()=>d(!1),className:"absolute top-4 right-4 z-10 h-10 w-10 rounded-full bg-white/10 hover:bg-white/20 backdrop-blur-sm flex items-center justify-center transition-colors duration-200 group","aria-label":"Close fullscreen",children:n.jsx(Vl,{className:"h-6 w-6 text-white group-hover:scale-110 transition-transform"})}),n.jsxs("div",{className:"absolute top-4 left-4 bg-black/50 backdrop-blur-sm text-white px-4 py-2 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium",children:u.product}),n.jsx("p",{className:"text-xs text-white/70 mt-0.5",children:"Press ESC or click outside to close"})]}),n.jsx("img",{src:u.product_image,alt:u.product,className:"max-h-[90vh] max-w-[90vw] object-contain rounded-lg shadow-2xl",onClick:b=>b.stopPropagation()})]}),n.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-3 mt-6 gap-6",children:n.jsx("div",{className:"xl:col-span-2 space-y-6",children:x})})]})};function cUe(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-12"})]})}function dUe(){return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-10 w-10 rounded-md"}),n.jsx(C,{className:"h-9 w-32"})]})}function uUe(){return n.jsx(X,{children:n.jsxs(Q,{children:[n.jsxs("div",{className:"grid w-full grid-cols-4 gap-1 bg-muted p-1 rounded-lg mt-6",children:[n.jsx(C,{className:"h-10 rounded-md"}),n.jsx(C,{className:"h-10 rounded-md"}),n.jsx(C,{className:"h-10 rounded-md"}),n.jsx(C,{className:"h-10 rounded-md"})]}),n.jsxs("div",{className:"space-y-6 mt-6",children:[n.jsx(C,{className:"h-6 w-48"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-36"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-48 w-full rounded-md"}),n.jsx(C,{className:"h-3 w-40"})]})}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"flex gap-4 justify-between mt-6 border-t pt-6",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})]})]})})}function fUe(){return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(cUe,{}),n.jsx(dUe,{}),n.jsx(uUe,{})]})})}const mUe=()=>{const{id:e}=to(),t=mr(),{toast:r}=gr(),{data:s,isLoading:a}=FX(e),i=s==null?void 0:s.apartment,[o,l]=v.useState({product:"",description:"",category:"",vendor:"",vendor_link:"",sku:"",dimensions:"",weight:"",material:"",color:"",model_number:"",brand:"",country_of_origin:"",sn:"",unit_price:"",qty:1,cost:"",total_cost:"",shipping_cost:"0",discount:"0",currency:"HUF",availability:"In Stock",status:"Design Approved",room:"",link:"",size:"",nm:"",plusz_nm:"",price_per_nm:"",price_per_package:"",nm_per_package:"",all_package:"",package_need_to_order:"",all_price:"",eta:"",ordered_on:"",payment_status:"Unpaid",payment_due_date:"",payment_amount:"",paid_amount:"0",delivery_type:"",delivery_status_tags:"",delivery_address:"",delivery_city:"",delivery_postal_code:"",delivery_country:"",delivery_time_window:"",delivery_instructions:"",delivery_contact_person:"",delivery_contact_phone:"",delivery_contact_email:"",delivery_notes:"",tracking_number:"",condition_on_arrival:"",sender:"",sender_address:"",sender_phone:"",recipient:"",recipient_address:"",recipient_phone:"",recipient_email:"",locker_provider:"",locker_id:"",pickup_provider:"",pickup_location:"",customs_description:"",item_value:"",hs_category:"",insurance:"no",cod:"",pickup_time:"",delivery_deadline:"",special_instructions:"",issue_state:"No Issue",issue_type:"",issue_description:"",replacement_requested:!1,replacement_approved:!1,replacement_eta:"",replacement_of:"",gallery_images:"",attachments:"",notes:"",manual_notes:"",ai_summary_notes:""}),[c,d]=v.useState({}),[u,f]=v.useState(null),[m,h]=v.useState(""),[x,p]=v.useState("basic"),{data:g,isLoading:j,error:y}=LX(i),w=Array.isArray(g)?g:[],{data:b,isLoading:N,error:S}=jm(),_=(b==null?void 0:b.results)||[],E=$X(),A=BX();if(v.useEffect(()=>{var k;if(s){const P=s;console.log(" Product data loaded:",s),console.log(" Category ID:",s.category),console.log(" Vendor ID:",s.vendor),l({product:P.product||"",description:P.description||"",category:P.category?String(P.category):"",vendor:P.vendor?String(P.vendor):"",vendor_link:P.vendor_link||"",sku:P.sku||"",dimensions:P.dimensions||"",weight:P.weight||"",material:P.material||"",color:P.color||"",model_number:P.model_number||"",brand:P.brand||"",country_of_origin:P.country_of_origin||"",sn:P.sn||"",unit_price:((k=P.unit_price)==null?void 0:k.toString())||"",qty:P.qty||1,cost:P.cost||"",total_cost:P.total_cost||"",shipping_cost:P.shipping_cost||"0",discount:P.discount||"0",currency:P.currency||"HUF",availability:P.availability||"In Stock",status:Array.isArray(P.status)?P.status[0]||"Design Approved":P.status||"Design Approved",room:P.room||"",link:P.link||"",size:P.size||"",nm:P.nm||"",plusz_nm:P.plusz_nm||"",price_per_nm:P.price_per_nm||"",price_per_package:P.price_per_package||"",nm_per_package:P.nm_per_package||"",all_package:P.all_package||"",package_need_to_order:P.package_need_to_order||"",all_price:P.all_price||"",eta:P.eta||"",ordered_on:P.ordered_on||"",payment_status:P.payment_status||"Unpaid",payment_due_date:P.payment_due_date||"",payment_amount:P.payment_amount||"",paid_amount:P.paid_amount||"0",delivery_type:P.delivery_type||"",delivery_status_tags:P.delivery_status_tags||"",delivery_address:P.delivery_address||"",delivery_city:P.delivery_city||"",delivery_postal_code:P.delivery_postal_code||"",delivery_country:P.delivery_country||"",delivery_time_window:P.delivery_time_window||"",delivery_instructions:P.delivery_instructions||"",delivery_contact_person:P.delivery_contact_person||"",delivery_contact_phone:P.delivery_contact_phone||"",delivery_contact_email:P.delivery_contact_email||"",delivery_notes:P.delivery_notes||"",tracking_number:P.tracking_number||"",condition_on_arrival:P.condition_on_arrival||"",sender:P.sender||"",sender_address:P.sender_address||"",sender_phone:P.sender_phone||"",recipient:P.recipient||"",recipient_address:P.recipient_address||"",recipient_phone:P.recipient_phone||"",recipient_email:P.recipient_email||"",locker_provider:P.locker_provider||"",locker_id:P.locker_id||"",pickup_provider:P.pickup_provider||"",pickup_location:P.pickup_location||"",customs_description:P.customs_description||"",item_value:P.item_value||"",hs_category:P.hs_category||"",insurance:P.insurance||"no",cod:P.cod||"",pickup_time:P.pickup_time||"",delivery_deadline:P.delivery_deadline||"",special_instructions:P.special_instructions||"",issue_state:P.issue_state||"No Issue",issue_type:P.issue_type||"",issue_description:P.issue_description||"",replacement_requested:P.replacement_requested||!1,replacement_approved:P.replacement_approved||!1,replacement_eta:P.replacement_eta||"",replacement_of:P.replacement_of||"",gallery_images:P.gallery_images||"",attachments:P.attachments||"",notes:P.notes||"",manual_notes:P.manual_notes||"",ai_summary_notes:P.ai_summary_notes||""}),s.product_image&&h(s.product_image)}},[s]),v.useEffect(()=>{y&&!j&&r({title:"Warning",description:"Failed to load categories. You can still add a product by entering the category ID manually.",variant:"destructive"})},[y,j,r]),v.useEffect(()=>{S&&!N&&r({title:"Warning",description:"Failed to load vendors. You can still add a product by entering the vendor ID manually.",variant:"destructive"})},[S,N,r]),a)return n.jsx(fUe,{});if(!s)return n.jsx(ct,{title:"Product Not Found",children:n.jsx(X,{children:n.jsxs(Q,{className:"py-8",children:[n.jsx("p",{className:"text-center text-muted-foreground",children:"Product not found"}),n.jsx("div",{className:"flex justify-center mt-4",children:n.jsx(te,{onClick:()=>t("/apartments"),children:"Back to Apartments"})})]})})});const T=k=>{var M;const P=(M=k.target.files)==null?void 0:M[0];if(P){f(P);const O=new FileReader;O.onloadend=()=>{h(O.result)},O.readAsDataURL(P)}},R=()=>{f(null),h("")},I=()=>{const k={};return o.product.trim()||(k.product="Product name is required"),o.category||(k.category="Category is required"),o.vendor||(k.vendor="Vendor is required"),(!o.unit_price||parseFloat(o.unit_price)<=0)&&(k.unit_price="Valid unit price is required"),(!o.qty||o.qty<=0)&&(k.qty="Valid quantity is required"),d(k),Object.keys(k).length===0},z=async k=>{if(k.preventDefault(),!I()){r({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{if(u){const P=new FormData;P.append("category",o.category),P.append("product",o.product),P.append("vendor",o.vendor),P.append("unit_price",o.unit_price),P.append("qty",o.qty.toString()),P.append("availability",o.availability),P.append("status",o.status),P.append("payment_status",o.payment_status),P.append("paid_amount",o.paid_amount),P.append("currency",o.currency),P.append("issue_state",o.issue_state),P.append("image_file",u),console.log(" Sending FormData with image:"),console.log("  - Image file:",u),console.log("  - File name:",u.name),console.log("  - File size:",u.size),console.log("  - File type:",u.type);for(let M of P.entries())console.log(`  - ${M[0]}:`,M[1]);o.description&&P.append("description",o.description),o.vendor_link&&P.append("vendor_link",o.vendor_link),o.sku&&P.append("sku",o.sku),o.dimensions&&P.append("dimensions",o.dimensions),o.weight&&P.append("weight",o.weight),o.material&&P.append("material",o.material),o.color&&P.append("color",o.color),o.model_number&&P.append("model_number",o.model_number),o.brand&&P.append("brand",o.brand),o.country_of_origin&&P.append("country_of_origin",o.country_of_origin),o.sn&&P.append("sn",o.sn),o.cost&&P.append("cost",o.cost),o.total_cost&&P.append("total_cost",o.total_cost),o.shipping_cost&&P.append("shipping_cost",o.shipping_cost),o.discount&&P.append("discount",o.discount),o.room&&P.append("room",o.room),o.link&&P.append("link",o.link),o.size&&P.append("size",o.size),o.nm&&P.append("nm",o.nm),o.plusz_nm&&P.append("plusz_nm",o.plusz_nm),o.price_per_nm&&P.append("price_per_nm",o.price_per_nm),o.price_per_package&&P.append("price_per_package",o.price_per_package),o.nm_per_package&&P.append("nm_per_package",o.nm_per_package),o.all_package&&P.append("all_package",o.all_package),o.package_need_to_order&&P.append("package_need_to_order",o.package_need_to_order),o.all_price&&P.append("all_price",o.all_price),o.eta&&P.append("eta",o.eta),o.ordered_on&&P.append("ordered_on",o.ordered_on),o.payment_due_date&&P.append("payment_due_date",o.payment_due_date),o.payment_amount&&P.append("payment_amount",o.payment_amount),o.delivery_type&&P.append("delivery_type",o.delivery_type),o.delivery_status_tags&&P.append("delivery_status_tags",o.delivery_status_tags),o.delivery_address&&P.append("delivery_address",o.delivery_address),o.delivery_city&&P.append("delivery_city",o.delivery_city),o.delivery_postal_code&&P.append("delivery_postal_code",o.delivery_postal_code),o.delivery_country&&P.append("delivery_country",o.delivery_country),o.delivery_time_window&&P.append("delivery_time_window",o.delivery_time_window),o.delivery_instructions&&P.append("delivery_instructions",o.delivery_instructions),o.delivery_contact_person&&P.append("delivery_contact_person",o.delivery_contact_person),o.delivery_contact_phone&&P.append("delivery_contact_phone",o.delivery_contact_phone),o.delivery_contact_email&&P.append("delivery_contact_email",o.delivery_contact_email),o.delivery_notes&&P.append("delivery_notes",o.delivery_notes),o.tracking_number&&P.append("tracking_number",o.tracking_number),o.condition_on_arrival&&P.append("condition_on_arrival",o.condition_on_arrival),o.sender&&P.append("sender",o.sender),o.sender_address&&P.append("sender_address",o.sender_address),o.sender_phone&&P.append("sender_phone",o.sender_phone),o.recipient&&P.append("recipient",o.recipient),o.recipient_address&&P.append("recipient_address",o.recipient_address),o.recipient_phone&&P.append("recipient_phone",o.recipient_phone),o.recipient_email&&P.append("recipient_email",o.recipient_email),o.locker_provider&&P.append("locker_provider",o.locker_provider),o.locker_id&&P.append("locker_id",o.locker_id),o.pickup_provider&&P.append("pickup_provider",o.pickup_provider),o.pickup_location&&P.append("pickup_location",o.pickup_location),o.customs_description&&P.append("customs_description",o.customs_description),o.item_value&&P.append("item_value",o.item_value),o.hs_category&&P.append("hs_category",o.hs_category),o.insurance&&P.append("insurance",o.insurance),o.cod&&P.append("cod",o.cod),o.pickup_time&&P.append("pickup_time",o.pickup_time),o.delivery_deadline&&P.append("delivery_deadline",o.delivery_deadline),o.special_instructions&&P.append("special_instructions",o.special_instructions),o.issue_type&&P.append("issue_type",o.issue_type),o.issue_description&&P.append("issue_description",o.issue_description),P.append("replacement_requested",o.replacement_requested.toString()),P.append("replacement_approved",o.replacement_approved.toString()),o.replacement_eta&&P.append("replacement_eta",o.replacement_eta),o.replacement_of&&P.append("replacement_of",o.replacement_of),o.notes&&P.append("notes",o.notes),o.manual_notes&&P.append("manual_notes",o.manual_notes),o.ai_summary_notes&&P.append("ai_summary_notes",o.ai_summary_notes),await E.mutateAsync({id:e,data:P})}else{const P={category:o.category,product:o.product,description:o.description||void 0,vendor:o.vendor,vendor_link:o.vendor_link||void 0,sku:o.sku||void 0,dimensions:o.dimensions||void 0,weight:o.weight||void 0,material:o.material||void 0,color:o.color||void 0,model_number:o.model_number||void 0,brand:o.brand||void 0,country_of_origin:o.country_of_origin||void 0,sn:o.sn||void 0,unit_price:o.unit_price,qty:o.qty,shipping_cost:o.shipping_cost||void 0,discount:o.discount||void 0,currency:o.currency,availability:o.availability,status:o.status,room:o.room||void 0,link:o.link||void 0,size:o.size||void 0,nm:o.nm||void 0,price_per_nm:o.price_per_nm||void 0,price_per_package:o.price_per_package||void 0,nm_per_package:o.nm_per_package||void 0,eta:o.eta||null,ordered_on:o.ordered_on||null,payment_status:o.payment_status,payment_due_date:o.payment_due_date||null,payment_amount:o.payment_amount||null,paid_amount:o.paid_amount,delivery_type:o.delivery_type||void 0,delivery_status_tags:o.delivery_status_tags||void 0,delivery_address:o.delivery_address||void 0,delivery_city:o.delivery_city||void 0,delivery_postal_code:o.delivery_postal_code||void 0,delivery_country:o.delivery_country||void 0,delivery_time_window:o.delivery_time_window||void 0,delivery_instructions:o.delivery_instructions||void 0,delivery_contact_person:o.delivery_contact_person||void 0,delivery_contact_phone:o.delivery_contact_phone||void 0,delivery_contact_email:o.delivery_contact_email||void 0,delivery_notes:o.delivery_notes||void 0,tracking_number:o.tracking_number||void 0,condition_on_arrival:o.condition_on_arrival||void 0,delivery_deadline:o.delivery_deadline||void 0,special_instructions:o.special_instructions||void 0,replacement_of:o.replacement_of||void 0,notes:o.notes||void 0,manual_notes:o.manual_notes||void 0,ai_summary_notes:o.ai_summary_notes||void 0};await E.mutateAsync({id:e,data:P})}r({title:"Product Updated",description:"Product has been updated successfully."}),t(`/products/${e}`)}catch{}},H=o.unit_price&&o.qty?parseFloat(o.unit_price)*o.qty+(parseFloat(o.shipping_cost)||0)-(parseFloat(o.discount)||0):0,F=H-(parseFloat(o.paid_amount)||0);return n.jsx(ct,{title:"Edit Product",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(Jn,{href:"/apartments",children:"Apartments"})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(Jn,{href:`/apartments/${i}`,children:"Apartment"})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(Jn,{href:`/products/${e}`,children:s.product})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(ji,{children:"Edit"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>t(`/products/${e}`),children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"Edit Product"})]}),n.jsx("form",{onSubmit:z,children:n.jsx(X,{children:n.jsxs(Q,{children:[n.jsxs(Ro,{value:x,onValueChange:p,children:[n.jsxs(no,{className:"grid w-full grid-cols-4 mt-6",children:[n.jsx(Ut,{value:"basic",children:"Basic Info"}),n.jsx(Ut,{value:"measurements",children:"Measurements"}),n.jsx(Ut,{value:"pricing",children:"Pricing"}),n.jsx(Ut,{value:"additional",children:"Additional"})]}),n.jsxs(Qt,{value:"basic",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Product Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"product",children:"Product Name *"}),n.jsx(me,{id:"product",value:o.product,onChange:k=>l({...o,product:k.target.value}),placeholder:"Modern Sofa"}),c.product&&n.jsx("p",{className:"text-sm text-destructive",children:c.product})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"category",children:"Category *"}),n.jsx(Aw,{options:w.map(k=>({value:k.id,label:k.name})),value:o.category,onValueChange:k=>l({...o,category:k}),onCreate:async k=>{const P=await A.mutateAsync({name:k,apartment:i,sheet_name:k});return{id:P.id,name:P.name}},placeholder:"Select category",searchPlaceholder:"Search categories...",emptyText:"No categories found.",createText:"Create new category",isLoading:j}),c.category&&n.jsx("p",{className:"text-sm text-destructive",children:c.category})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"vendor",children:"Vendor *"}),n.jsx(Aw,{options:_.map(k=>({value:k.id,label:k.company_name||k.name})),value:o.vendor,onValueChange:k=>l({...o,vendor:k}),onNavigateToCreate:()=>{t("/vendors/new")},placeholder:"Select vendor",searchPlaceholder:"Search vendors...",emptyText:"No vendors found.",createText:"Create new vendor",isLoading:N}),c.vendor&&n.jsx("p",{className:"text-sm text-destructive",children:c.vendor})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"link",children:"Product Link (Optional)"}),n.jsx(me,{id:"link",type:"url",value:o.link,onChange:k=>l({...o,link:k.target.value}),placeholder:"https://example.com/product"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"sku",children:"SKU *"}),n.jsx(me,{id:"sku",value:o.sku,onChange:k=>l({...o,sku:k.target.value}),placeholder:"SOFA-001"}),c.sku&&n.jsx("p",{className:"text-sm text-destructive",children:c.sku})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"room",children:"Room (Optional)"}),n.jsx(me,{id:"room",value:o.room,onChange:k=>l({...o,room:k.target.value}),placeholder:"Living Room, Bedroom, etc."})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"imageFile",children:"Product Image"}),m?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"relative w-full h-48 border rounded-md overflow-hidden bg-muted",children:[n.jsx("img",{src:m,alt:"Product preview",className:"w-full h-full object-contain"}),n.jsx(te,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:R,children:"Remove"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:u==null?void 0:u.name})]}):n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(me,{id:"imageFile",type:"file",accept:"image/*",onChange:T,className:"cursor-pointer"})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload a product image (JPG, PNG, GIF, etc.)"})]})}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"unitPrice",children:"Unit Price (HUF) *"}),n.jsx(me,{id:"unitPrice",type:"number",min:"0",step:"0.01",value:o.unit_price,onChange:k=>l({...o,unit_price:k.target.value}),placeholder:"150000"}),c.unitPrice&&n.jsx("p",{className:"text-sm text-destructive",children:c.unitPrice})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"qty",children:"Quantity *"}),n.jsx(me,{id:"qty",type:"number",min:"1",value:o.qty,onChange:k=>l({...o,qty:parseInt(k.target.value)||1}),placeholder:"1"}),c.qty&&n.jsx("p",{className:"text-sm text-destructive",children:c.qty})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"availability",children:"Availability *"}),n.jsxs(st,{value:o.availability,onValueChange:k=>l({...o,availability:k}),children:[n.jsx(rt,{id:"availability",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"In Stock",children:"In Stock"}),n.jsx(J,{value:"Backorder",children:"Backorder"}),n.jsx(J,{value:"Out of Stock",children:"Out of Stock"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",children:"Product Status *"}),n.jsxs(st,{value:o.status,onValueChange:k=>l({...o,status:k}),children:[n.jsx(rt,{id:"status",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"Design Approved",children:"Design Approved"}),n.jsx(J,{value:"Ready To Order",children:"Ready To Order"}),n.jsx(J,{value:"Ordered",children:"Ordered"}),n.jsx(J,{value:"Shipped",children:"Shipped"}),n.jsx(J,{value:"Delivered",children:"Delivered"}),n.jsx(J,{value:"Damaged",children:"Damaged"}),n.jsx(J,{value:"Wrong Item",children:"Wrong Item"}),n.jsx(J,{value:"Missing",children:"Missing"})]})]})]})]})]}),n.jsxs(Qt,{value:"measurements",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Product Specifications"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"dimensions",children:"Dimensions"}),n.jsx(me,{id:"dimensions",value:o.dimensions,onChange:k=>l({...o,dimensions:k.target.value}),placeholder:"120x80x45 cm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"weight",children:"Weight"}),n.jsx(me,{id:"weight",value:o.weight,onChange:k=>l({...o,weight:k.target.value}),placeholder:"25 kg"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"material",children:"Material"}),n.jsx(me,{id:"material",value:o.material,onChange:k=>l({...o,material:k.target.value}),placeholder:"Oak Wood"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"color",children:"Color"}),n.jsx(me,{id:"color",value:o.color,onChange:k=>l({...o,color:k.target.value}),placeholder:"Natural Oak"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"size",children:"Size"}),n.jsx(me,{id:"size",value:o.size,onChange:k=>l({...o,size:k.target.value}),placeholder:"Large"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"NM Measurements (for Flooring/Tiles)"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"nm",children:"NM"}),n.jsx(me,{id:"nm",type:"number",step:"0.01",value:o.nm,onChange:k=>l({...o,nm:k.target.value}),placeholder:"10.5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"plusz_nm",children:"Plus NM"}),n.jsx(me,{id:"plusz_nm",type:"number",step:"0.01",value:o.plusz_nm,onChange:k=>l({...o,plusz_nm:k.target.value}),placeholder:"1.5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"price_per_nm",children:"Price per NM"}),n.jsx(me,{id:"price_per_nm",type:"number",step:"0.01",value:o.price_per_nm,onChange:k=>l({...o,price_per_nm:k.target.value}),placeholder:"5000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"price_per_package",children:"Price per Package"}),n.jsx(me,{id:"price_per_package",type:"number",step:"0.01",value:o.price_per_package,onChange:k=>l({...o,price_per_package:k.target.value}),placeholder:"15000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"nm_per_package",children:"NM per Package"}),n.jsx(me,{id:"nm_per_package",type:"number",step:"0.01",value:o.nm_per_package,onChange:k=>l({...o,nm_per_package:k.target.value}),placeholder:"3"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"package_need_to_order",children:"Package Need to Order"}),n.jsx(me,{id:"package_need_to_order",type:"number",value:o.package_need_to_order,onChange:k=>l({...o,package_need_to_order:k.target.value}),placeholder:"8"})]})]})]})]}),n.jsxs(Qt,{value:"pricing",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Payment Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"total_amount",children:"Total Amount (HUF)"}),n.jsx("div",{className:"h-10 px-3 py-2 rounded-md border border-input bg-muted flex items-center",children:n.jsx("span",{className:"font-semibold text-lg",children:H.toLocaleString()})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: (Unit Price  Qty) + Shipping - Discount"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"shipping_cost",children:"Shipping Cost (Optional)"}),n.jsx(me,{id:"shipping_cost",type:"number",min:"0",step:"0.01",value:o.shipping_cost,onChange:k=>l({...o,shipping_cost:k.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"discount",children:"Discount (Optional)"}),n.jsx(me,{id:"discount",type:"number",min:"0",step:"0.01",value:o.discount,onChange:k=>l({...o,discount:k.target.value}),placeholder:"0"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paid_amount",children:"Paid Amount"}),n.jsx(me,{id:"paid_amount",type:"number",min:"0",step:"0.01",value:o.paid_amount,onChange:k=>l({...o,paid_amount:k.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Outstanding Balance"}),n.jsx("div",{className:`h-10 px-3 py-2 rounded-md border flex items-center ${F>0?"bg-red-50 border-red-200 text-red-700":"bg-green-50 border-green-200 text-green-700"}`,children:n.jsxs("span",{className:"font-semibold text-lg",children:[F.toLocaleString()," HUF"]})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: Total Amount - Paid Amount"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paymentStatus",children:"Payment Status *"}),n.jsxs(st,{value:o.payment_status,onValueChange:k=>l({...o,payment_status:k}),children:[n.jsx(rt,{id:"paymentStatus",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"Unpaid",children:"Unpaid"}),n.jsx(J,{value:"Partially Paid",children:"Partially Paid"}),n.jsx(J,{value:"Paid",children:"Paid"}),n.jsx(J,{value:"Overdue",children:"Overdue"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"currency",children:"Currency"}),n.jsxs(st,{value:o.currency,onValueChange:k=>l({...o,currency:k}),children:[n.jsx(rt,{id:"currency",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"HUF",children:"HUF (Hungarian Forint)"}),n.jsx(J,{value:"EUR",children:"EUR (Euro)"}),n.jsx(J,{value:"USD",children:"USD (US Dollar)"})]})]})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paymentDueDate",children:"Payment Due Date *"}),n.jsx(me,{id:"paymentDueDate",type:"date",value:o.payment_due_date,onChange:k=>l({...o,payment_due_date:k.target.value})})]})})]}),n.jsxs(Qt,{value:"additional",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"brand",children:"Brand"}),n.jsx(me,{id:"brand",value:o.brand,onChange:k=>l({...o,brand:k.target.value}),placeholder:"e.g., IKEA, Samsung, etc."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"country_of_origin",children:"Country of Origin"}),n.jsx(me,{id:"country_of_origin",value:o.country_of_origin,onChange:k=>l({...o,country_of_origin:k.target.value}),placeholder:"e.g., Hungary, China, Germany"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"condition_on_arrival",children:"Condition on Arrival"}),n.jsx(me,{id:"condition_on_arrival",value:o.condition_on_arrival,onChange:k=>l({...o,condition_on_arrival:k.target.value}),placeholder:"Good, Damaged, Needs Inspection, etc."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-semibold",children:"Notes & Documentation"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"General Notes"}),n.jsx(pa,{id:"notes",value:o.notes,onChange:k=>l({...o,notes:k.target.value}),placeholder:"General notes about this product...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"manual_notes",children:"Manual Notes"}),n.jsx(pa,{id:"manual_notes",value:o.manual_notes,onChange:k=>l({...o,manual_notes:k.target.value}),placeholder:"Manual notes added by staff...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"ai_summary_notes",children:"AI Summary Notes"}),n.jsx(pa,{id:"ai_summary_notes",value:o.ai_summary_notes,onChange:k=>l({...o,ai_summary_notes:k.target.value}),placeholder:"AI-generated summary and insights...",rows:3}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"AI-generated summaries and recommendations"})]})]})]})]}),n.jsxs("div",{className:"flex gap-4 justify-between mt-6 border-t pt-6",children:[n.jsx("div",{children:x!=="basic"&&n.jsx(te,{type:"button",variant:"outline",onClick:k=>{k.preventDefault(),k.stopPropagation();const P=["basic","measurements","pricing","additional"],M=P.indexOf(x);M>0&&p(P[M-1])},children:" Previous"})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(te,{type:"button",variant:"outline",onClick:k=>{k.preventDefault(),k.stopPropagation(),t(`/products/${e}`)},children:"Cancel"}),x!=="additional"?n.jsx(te,{type:"button",onClick:k=>{k.preventDefault(),k.stopPropagation();const P=["basic","measurements","pricing","additional"],M=P.indexOf(x);M<P.length-1&&p(P[M+1])},children:"Next "}):n.jsxs(te,{type:"submit",disabled:E.isPending,children:[E.isPending&&n.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),E.isPending?"Saving...":"Save Changes"]})]})]})]})})})]})})},hUe=Vp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Qd=v.forwardRef(({className:e,variant:t,...r},s)=>n.jsx("div",{ref:s,role:"alert",className:ve(hUe({variant:t}),e),...r}));Qd.displayName="Alert";const pUe=v.forwardRef(({className:e,...t},r)=>n.jsx("h5",{ref:r,className:ve("mb-1 font-medium leading-none tracking-tight",e),...t}));pUe.displayName="AlertTitle";const Zd=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ve("text-sm [&_p]:leading-relaxed",e),...t}));Zd.displayName="AlertDescription";const xUe=()=>{const e=mr(),[t]=TN(),r=t.get("apartmentId"),{toast:s}=gr(),[a,i]=v.useState(null),[o,l]=v.useState(!1),[c,d]=v.useState(0),[u,f]=v.useState(null),[m,h]=v.useState(""),[x,p]=v.useState(""),{data:g,isLoading:j}=jm(),y=(g==null?void 0:g.results)||[],w=_=>_<1024?_+" B":_<1024*1024?(_/1024).toFixed(2)+" KB":(_/(1024*1024)).toFixed(2)+" MB",b=_=>{var A;const E=(A=_.target.files)==null?void 0:A[0];if(E){if(!E.name.match(/\.(xlsx|xls|csv)$/i)){Ue.error("Please select a valid Excel or CSV file");return}if(E.size>50*1024*1024){Ue.error("File too large. Maximum size is 50MB");return}i(E),h(w(E.size)),f(null)}},N=async()=>{var _,E;if(!a||!r){Ue.error("Please select a file");return}l(!0),d(0);try{const A=setInterval(()=>{d(R=>R>=90?(clearInterval(A),90):R+10)},200);console.log(" DEBUG: Sending import request with:",{file:a.name,apartmentId:r,selectedVendorId:x||"none"});const T=await Qi.importProducts(a,r,x||"");clearInterval(A),d(100),f(T),s({title:"Import Successful!",description:n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-semibold",children:T.message}),n.jsxs("p",{className:"text-sm",children:["Total products: ",T.total_products]}),n.jsxs("p",{className:"text-sm",children:["Successfully imported: ",T.successful_imports]}),T.failed_imports>0&&n.jsxs("p",{className:"text-sm text-yellow-600",children:["Failed: ",T.failed_imports]})]})}),setTimeout(()=>{e(`/apartments/${r}`)},2e3)}catch(A){console.error("Import error:",A),s({title:"Import Failed",description:((E=(_=A.response)==null?void 0:_.data)==null?void 0:E.message)||A.message||"Failed to import products. Please try again.",variant:"destructive"}),d(0)}finally{l(!1)}},S=async()=>{try{const _=await Qi.downloadImportTemplate(),E=window.URL.createObjectURL(_),A=document.createElement("a");A.href=E,A.download="apartment-template.xlsx",document.body.appendChild(A),A.click(),window.URL.revokeObjectURL(E),document.body.removeChild(A),Ue.success("Template downloaded successfully")}catch{Ue.error("Failed to download template")}};return n.jsx(ct,{title:"Import Products",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(te,{variant:"ghost",onClick:()=>e(-1),disabled:o,children:[n.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back"]}),n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{className:"text-xl",children:"Select Vendor (Optional)"}),n.jsx(Dr,{className:"mt-1",children:"Optionally choose a vendor to assign to all imported products"})]}),n.jsx(Q,{children:n.jsxs(st,{value:x,onValueChange:p,disabled:o,children:[n.jsx(rt,{className:"w-full",children:n.jsx(at,{placeholder:"Select a vendor"})}),n.jsx(nt,{children:j?n.jsx(J,{value:"loading",disabled:!0,children:"Loading vendors..."}):y.length===0?n.jsx(J,{value:"no-vendors",disabled:!0,children:"No vendors available"}):y.map(_=>n.jsx(J,{value:_.id,children:_.name},_.id))})]})})]}),n.jsxs(X,{className:"border-2 border-dashed",children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Upload File"}),n.jsx(Dr,{className:"mt-1",children:"Select an Excel (.xlsx, .xls) or CSV file (max 50MB)"})]}),a&&m&&n.jsx(Ce,{variant:"secondary",className:"text-sm",children:m})]})}),n.jsx(Q,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:b,className:"hidden",disabled:o}),n.jsx(te,{variant:"outline",asChild:!0,disabled:o,className:"relative overflow-hidden",children:n.jsx("span",{children:o?n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ki,{className:"mr-2 h-4 w-4"}),"Choose File"]})})})]}),a&&!o&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ek,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium",children:a.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:m})]})]})]}),o&&c>0&&n.jsxs("div",{className:"space-y-2 p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"font-medium",children:"Uploading and processing..."}),n.jsxs("span",{className:"text-muted-foreground",children:[c.toFixed(0),"%"]})]}),n.jsx(Y2,{value:c,className:"h-2"})]}),n.jsx("div",{className:"flex justify-start",children:n.jsxs(te,{variant:"outline",size:"sm",onClick:S,disabled:o,children:[n.jsx(Fv,{className:"mr-2 h-4 w-4"}),"Download Template"]})})]})})]}),u&&n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Import Results"}),n.jsx(Dr,{children:"Summary of the import operation"})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs(Qd,{children:[n.jsx(Ur,{className:"h-4 w-4 text-success"}),n.jsxs(Zd,{children:[n.jsx("div",{className:"font-semibold",children:"Total Products"}),n.jsx("div",{className:"text-2xl",children:u.total_products})]})]}),n.jsxs(Qd,{children:[n.jsx(Ur,{className:"h-4 w-4 text-success"}),n.jsxs(Zd,{children:[n.jsx("div",{className:"font-semibold",children:"Successfully Imported"}),n.jsx("div",{className:"text-2xl text-green-600",children:u.successful_imports})]})]}),u.failed_imports>0&&n.jsxs(Qd,{variant:"destructive",children:[n.jsx(Et,{className:"h-4 w-4"}),n.jsxs(Zd,{children:[n.jsx("div",{className:"font-semibold",children:"Failed"}),n.jsx("div",{className:"text-2xl",children:u.failed_imports})]})]})]}),u.errors&&u.errors.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Errors:"}),n.jsx("div",{className:"space-y-1",children:u.errors.map((_,E)=>n.jsx("div",{className:"text-sm text-destructive bg-destructive/10 p-2 rounded",children:_},E))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(te,{onClick:()=>e(`/apartments/${r}`),children:[n.jsx(Ur,{className:"mr-2 h-4 w-4"}),"View Products"]})})]})]}),a&&!u&&n.jsx(X,{children:n.jsx(Q,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(te,{variant:"outline",onClick:()=>{i(null),h("")},disabled:o,children:"Clear"}),n.jsx(te,{onClick:N,disabled:!a||o,className:"min-w-[200px]",children:o?n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ki,{className:"mr-2 h-4 w-4"}),"Import Products"]})})]})})})]})})},gUe=({open:e,onOpenChange:t,order:r})=>{const{toast:s}=gr(),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),m=x=>{if(x.preventDefault(),!a){s({title:"Validation Error",description:"Please enter a tracking number",variant:"destructive"});return}s({title:"Tracking Updated",description:`Delivery tracking updated for ${r==null?void 0:r.po_number}`}),t(!1)};if(!r)return null;const h=[{date:"2025-11-06 16:45",status:"Out for Delivery",location:"Local Hub - Budapest",description:"Package is out for delivery and will arrive today",active:!0},{date:"2025-11-06 09:15",status:"In Transit",location:"Distribution Center",description:"Package is on the way to delivery location",active:!1},{date:"2025-11-05 14:30",status:"Package Dispatched",location:"Warehouse - Budapest",description:"Package has been dispatched from warehouse",active:!1}];return n.jsx(Pn,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsx(kn,{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg",children:n.jsx(_r,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx(Tn,{className:"text-lg font-bold",children:"Delivery Tracking"}),n.jsxs(Bs,{className:"text-sm",children:["Track delivery for ",r.po_number]})]})]})}),n.jsx($t,{}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:n.jsxs("div",{className:"space-y-4 p-1",children:[n.jsx(X,{className:"border bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-950/20 dark:to-cyan-950/20",children:n.jsxs(Q,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-blue-600/10 rounded",children:n.jsx(lt,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Status"}),n.jsx("p",{className:"text-sm font-bold",children:r.status})]})]}),n.jsx(Ce,{className:"bg-blue-600 text-white text-xs px-2 py-1",children:r.tracking||"No Tracking"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-blue-200 dark:border-blue-800",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ya,{className:"h-3.5 w-3.5 text-blue-600 dark:text-blue-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"To"}),n.jsx("p",{className:"text-sm font-medium",children:r.apartment})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Nse,{className:"h-3.5 w-3.5 text-blue-600 dark:text-blue-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"From"}),n.jsx("p",{className:"text-sm font-medium",children:r.vendor})]})]})]})]})}),r.tracking&&n.jsx(X,{className:"border",children:n.jsxs(Q,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 mb-3 border-b",children:[n.jsx("div",{className:"p-1 bg-primary/10 rounded",children:n.jsx(wr,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Tracking History"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery updates"})]})]}),n.jsx("div",{className:"space-y-4",children:h.map((x,p)=>n.jsxs("div",{className:"flex gap-3 relative",children:[p!==h.length-1&&n.jsx("div",{className:"absolute left-3.5 top-8 bottom-0 w-0.5 bg-gradient-to-b from-primary to-muted"}),n.jsx("div",{className:"relative flex-shrink-0",children:n.jsx("div",{className:`w-7 h-7 rounded-full border-2 border-background flex items-center justify-center ${x.active?"bg-primary shadow-md":"bg-muted"}`,children:x.active?n.jsx(_r,{className:"h-3.5 w-3.5 text-primary-foreground"}):n.jsx(lr,{className:"h-3.5 w-3.5 text-muted-foreground"})})}),n.jsxs("div",{className:`flex-1 pb-2 ${x.active?"pt-0.5":""}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsx("p",{className:`font-semibold text-sm ${x.active?"text-primary":""}`,children:x.status}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:x.date})]}),n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(ya,{className:"h-3 w-3"}),x.location]})]})]},p))})]})}),n.jsx(X,{className:"border",children:n.jsxs(Q,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 mb-3 border-b",children:[n.jsx("div",{className:"p-1 bg-primary/10 rounded",children:n.jsx(lt,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Update Tracking"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Modify delivery details"})]})]}),n.jsxs("form",{onSubmit:m,className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(q,{htmlFor:"tracking",className:"flex items-center gap-1.5 text-xs font-medium",children:[n.jsx(lt,{className:"h-3 w-3 text-primary"}),"Tracking Number *"]}),n.jsx(me,{id:"tracking",placeholder:"TRK-99234",value:a,onChange:x=>i(x.target.value),defaultValue:r.tracking,className:"h-9 text-sm"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(q,{htmlFor:"estimated",className:"flex items-center gap-1.5 text-xs font-medium",children:[n.jsx(on,{className:"h-3 w-3 text-primary"}),"Delivery Date"]}),n.jsx(me,{id:"estimated",type:"date",value:o,onChange:x=>l(x.target.value),className:"h-9 text-sm"})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(q,{htmlFor:"person",className:"flex items-center gap-1.5 text-xs font-medium",children:[n.jsx(os,{className:"h-3 w-3 text-primary"}),"Courier / Person"]}),n.jsx(me,{id:"person",placeholder:"Delivery person or courier service",value:c,onChange:x=>d(x.target.value),className:"h-9 text-sm"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(q,{htmlFor:"notes",className:"text-xs font-medium",children:"Notes"}),n.jsx(Sn,{id:"notes",placeholder:"Special instructions or notes...",value:u,onChange:x=>f(x.target.value),rows:3,className:"resize-none text-sm"})]}),n.jsx($t,{className:"my-3"}),n.jsxs(vi,{className:"gap-2",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>t(!1),size:"sm",children:"Cancel"}),n.jsxs(te,{type:"submit",className:"gap-1.5",size:"sm",children:[n.jsx(lr,{className:"h-3.5 w-3.5"}),"Update"]})]})]})]})})]})})]})})},U$={draft:"sent",sent:"sent",Draft:"sent",Sent:"sent"},V$={draft:"Draft",sent:"Sent"},vUe=({open:e,onOpenChange:t,order:r,onStatusUpdate:s})=>{const{toast:a}=gr(),[i,o]=v.useState("");if(!r)return null;const l=r.status.toLowerCase(),c=U$[r.status]||U$[l],d=l==="sent",u=V$[l]||r.status,f=V$[c]||c,m=x=>{if(x.preventDefault(),d){a({title:"Already Sent",description:"This order has already been sent to vendor. Track fulfillment in Deliveries page.",variant:"default"});return}s(r.id,c),a({title:"Status Updated",description:`Order ${r.po_number} status changed to ${f}`}),o(""),t(!1)},h=x=>{const p=x.toLowerCase();return{draft:"bg-gray-500/10 text-gray-500",sent:"bg-blue-500/10 text-blue-500"}[p]||"bg-gray-500/10 text-gray-500"};return n.jsx(Pn,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-md",children:[n.jsxs(kn,{children:[n.jsxs(Tn,{className:"flex items-center gap-2",children:[n.jsx(lr,{className:"h-5 w-5"}),"Update Order Status"]}),n.jsxs(Bs,{children:["Change the status of order ",r.po_number]})]}),n.jsxs("form",{onSubmit:m,className:"space-y-4",children:[n.jsx("div",{className:"bg-muted p-4 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-center gap-4",children:[n.jsx(Ce,{className:h(r.status),children:u}),n.jsx(Bb,{className:"h-5 w-5 text-muted-foreground"}),n.jsx(Ce,{className:h(c),children:f})]})}),d?n.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4 text-center",children:[n.jsx(lr,{className:"h-12 w-12 text-blue-500 mx-auto mb-2"}),n.jsx("p",{className:"text-sm font-medium",children:"Order Already Sent"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Track fulfillment in the Deliveries page"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsx("p",{className:"font-medium",children:"What happens next?"}),n.jsx("ul",{className:"space-y-1 text-muted-foreground ml-4 list-disc text-xs",children:c==="sent"&&n.jsxs(n.Fragment,{children:[n.jsx("li",{children:"Order will be marked as sent to vendor"}),n.jsx("li",{children:"Create a delivery record to track fulfillment"}),n.jsx("li",{children:"Vendor will confirm and ship items"})]})})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(q,{htmlFor:"notes",className:"text-sm",children:"Notes (Optional)"}),n.jsx(Sn,{id:"notes",placeholder:"Add any notes about this status change...",value:i,onChange:x=>o(x.target.value),rows:3,className:"text-sm"})]})]}),n.jsxs(vi,{children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>t(!1),size:"sm",children:"Cancel"}),!d&&n.jsxs(te,{type:"submit",size:"sm",children:["Update to ",f]})]})]})]})})},yQ=e=>{const[t,r]=v.useState([]),[s,a]=v.useState(!0),[i,o]=v.useState(null),[l,c]=v.useState(0),[d,u]=v.useState(null),[f,m]=v.useState(null),h=v.useCallback(async()=>{try{a(!0),o(null);const w=await Ps.getOrders(e);r(w.results),c(w.count),u(w.next),m(w.previous)}catch(w){o(w.message||"Failed to fetch orders"),Ue.error("Failed to fetch orders")}finally{a(!1)}},[e==null?void 0:e.search,e==null?void 0:e.status,e==null?void 0:e.vendor,e==null?void 0:e.apartment,e==null?void 0:e.ordering,e==null?void 0:e.page]);return v.useEffect(()=>{h()},[h]),{orders:t,loading:s,error:i,totalCount:l,nextPage:d,previousPage:f,refetch:h,createOrder:async w=>{var b,N;try{const S=await Ps.createOrder(w);return r(_=>[S,..._]),Ue.success("Order created successfully"),S}catch(S){throw Ue.error(((N=(b=S.response)==null?void 0:b.data)==null?void 0:N.message)||"Failed to create order"),S}},updateOrder:async(w,b)=>{var N,S;try{const _=await Ps.updateOrder(w,b);return r(E=>E.map(A=>A.id===w?_:A)),Ue.success("Order updated successfully"),_}catch(_){throw Ue.error(((S=(N=_.response)==null?void 0:N.data)==null?void 0:S.message)||"Failed to update order"),_}},deleteOrder:async w=>{var b,N;try{await Ps.deleteOrder(w),r(S=>S.filter(_=>_.id!==w)),Ue.success("Order deleted successfully")}catch(S){throw Ue.error(((N=(b=S.response)==null?void 0:b.data)==null?void 0:N.message)||"Failed to delete order"),S}},updateStatus:async(w,b)=>{var N,S;try{const _=await Ps.updateStatus(w,b);return r(E=>E.map(A=>A.id===w?_:A)),Ue.success(`Order status updated to ${b}`),_}catch(_){throw Ue.error(((S=(N=_.response)==null?void 0:N.data)==null?void 0:S.message)||"Failed to update order status"),_}},markDelivered:async(w,b)=>{var N,S;try{const _=await Ps.markDelivered(w,b);return r(E=>E.map(A=>A.id===w?_:A)),Ue.success("Order marked as delivered"),_}catch(_){throw Ue.error(((S=(N=_.response)==null?void 0:N.data)==null?void 0:S.message)||"Failed to mark order as delivered"),_}}}},jQ=e=>{const[t,r]=v.useState(null),[s,a]=v.useState(!0),[i,o]=v.useState(null);return v.useEffect(()=>{e&&(async()=>{try{a(!0),o(null);const d=await Ps.getOrder(e);r(d)}catch(d){o(d.message||"Failed to fetch order"),Ue.error("Failed to fetch order details")}finally{a(!1)}})()},[e]),{order:t,loading:s,error:i,updateOrder:async c=>{var d,u;try{const f=await Ps.updateOrder(e,c);return r(f),Ue.success("Order updated successfully"),f}catch(f){throw Ue.error(((u=(d=f.response)==null?void 0:d.data)==null?void 0:u.message)||"Failed to update order"),f}}}},yUe=()=>{const[e,t]=v.useState(null),[r,s]=v.useState(!0),[a,i]=v.useState(null);return v.useEffect(()=>{(async()=>{try{s(!0),i(null);const l=await Ps.getStatistics();t(l)}catch(l){i(l.message||"Failed to fetch statistics"),console.error("Failed to fetch order statistics:",l)}finally{s(!1)}})()},[]),{statistics:e,loading:r,error:a}},jUe=()=>{const[e,t]=v.useState(null),[r,s]=v.useState(!0),[a,i]=v.useState(null);return v.useEffect(()=>{(async()=>{try{s(!0),i(null);const l=await Ps.getDashboardCharts();t(l)}catch(l){i(l.message||"Failed to fetch chart data"),console.error("Failed to fetch order chart data:",l)}finally{s(!1)}})()},[]),{chartData:e,loading:r,error:a}};function bUe(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{iconBg:"bg-primary/10"},{iconBg:"bg-primary/10"},{iconBg:"bg-primary/10"},{iconBg:"bg-primary/10"}].map((e,t)=>n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-8 w-16"}),n.jsx(C,{className:"h-3 w-20"})]}),n.jsx("div",{className:`h-12 w-12 rounded-full ${e.iconBg} flex items-center justify-center`,children:n.jsx(C,{className:"h-6 w-6 rounded"})})]})})},t))})}function wUe(){return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-40"})}),n.jsx(Q,{children:n.jsx("div",{className:"h-[280px] p-4",children:n.jsx("div",{className:"flex items-end justify-between h-full gap-2",children:[...Array(6)].map((e,t)=>n.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center gap-2",children:[n.jsx(C,{className:"w-full rounded-t-lg",style:{height:`${Math.random()*60+40}%`}}),n.jsx(C,{className:"h-3 w-12"})]},t))})})})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-48"})}),n.jsx(Q,{children:n.jsx("div",{className:"h-[280px] p-4",children:n.jsx("div",{className:"h-full flex flex-col justify-between",children:[...Array(5)].map((e,t)=>n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-2 w-12"}),n.jsx(C,{className:"h-2 rounded-full",style:{width:`${Math.random()*60+20}%`}})]},t))})})})]})]})}function NUe(){return n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx(C,{className:"h-10 flex-1 rounded-md"}),n.jsx(C,{className:"h-10 w-[180px] rounded-md"}),n.jsx(C,{className:"h-10 w-[180px] rounded-md"}),n.jsx(C,{className:"h-10 w-36 rounded-md"}),n.jsx(C,{className:"h-10 w-36 rounded-md"})]})}function _Ue(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-6 w-32"}),n.jsx(C,{className:"h-9 w-20 rounded-md"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["PO Number","Apartment","Vendor","Items","Total","Confirmation","Tracking","Status","Placed On","Actions"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(8)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-16"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx(C,{className:"h-8 w-8 rounded ml-auto"})})]},t))})]})})})]})}function SUe(){return n.jsxs("div",{className:"space-y-6",children:[n.jsx(bUe,{}),n.jsx(wUe,{}),n.jsx(NUe,{}),n.jsx(_Ue,{})]})}const CUe=()=>{var D;const e=mr(),{toast:t}=gr(),[r,s]=v.useState(""),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(!1),[u,f]=v.useState(!1),[m,h]=v.useState(!1),[x,p]=v.useState(null),[g,j]=v.useState(!1),{orders:y,loading:w,error:b,totalCount:N,updateStatus:S,markDelivered:_,deleteOrder:E,refetch:A}=yQ({search:r,status:a||void 0,vendor:o||void 0}),{statistics:T,loading:R}=yUe(),{chartData:I,loading:z}=jUe(),H=v.useMemo(()=>{const U=new Set;return y.forEach(L=>{L.vendor_name&&U.add(L.vendor_name)}),Array.from(U)},[y]),F=async(U,L)=>{try{await S(String(U),L),f(!1),p(null)}catch(G){console.error("Failed to update status:",G)}},k=async()=>{if(x)try{j(!0),await E(x.id),h(!1),p(null)}catch(U){console.error("Failed to delete order:",U)}finally{j(!1)}},P=U=>{const L=U.toLowerCase();return{draft:"bg-gray-500/10 text-gray-500",sent:"bg-blue-500/10 text-blue-500"}[L]||"bg-gray-500/10 text-gray-500"},M=(T==null?void 0:T.total_value)||y.reduce((U,L)=>U+Number(L.total),0),O=(T==null?void 0:T.average_order_value)||(y.length>0?M/y.length:0),K=(I==null?void 0:I.vendor_spending)||[],ne=((D=I==null?void 0:I.monthly_orders)==null?void 0:D.map(U=>({month:U.month,orders:U.orders,spending:U.value})))||[];return w?n.jsx(ct,{title:"Orders Management",children:n.jsx(SUe,{})}):n.jsxs(ct,{title:"Orders Management",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),n.jsx("p",{className:"text-2xl font-bold",children:N||y.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]}),n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(lt,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Spending"}),n.jsxs("p",{className:"text-2xl font-bold",children:["",M.toLocaleString()]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg: ",O.toFixed(0)]})]}),n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Nr,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold",children:(T==null?void 0:T.pending_orders)||y.filter(U=>U.status.toLowerCase()==="sent").length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Sent to vendor"})]}),n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(wr,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Received"}),n.jsx("p",{className:"text-2xl font-bold",children:(T==null?void 0:T.delivered_orders)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivered orders"})]}),n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(_r,{className:"h-6 w-6 text-primary"})})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{children:"Spending by Vendor"})}),n.jsx(Q,{children:z?n.jsx("div",{className:"h-[280px] p-4 space-y-4",children:n.jsx("div",{className:"flex items-end justify-between h-full gap-2",children:[...Array(6)].map((U,L)=>n.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center gap-2",children:[n.jsx(C,{className:"w-full rounded-t-lg",style:{height:`${Math.random()*60+40}%`}}),n.jsx(C,{className:"h-3 w-12"})]},L))})}):K.length===0?n.jsxs("div",{className:"h-[280px] flex flex-col items-center justify-center text-center space-y-3",children:[n.jsx(Nr,{className:"h-10 w-10 text-muted-foreground/50"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"No vendor data available"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Create orders to see analytics"})]}),n.jsxs(te,{onClick:()=>e("/orders/new"),size:"sm",variant:"outline",children:[n.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}):n.jsx(ov,{config:{amount:{label:"Amount ()",color:"hsl(var(--primary))"}},className:"h-[280px]",children:n.jsxs(Sa,{data:K,children:[n.jsx(zn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(rn,{dataKey:"vendor",className:"text-xs"}),n.jsx(nn,{className:"text-xs"}),n.jsx(hr,{content:n.jsx(lv,{})}),n.jsx(wn,{dataKey:"amount",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{children:"Monthly Order Trends"})}),n.jsx(Q,{children:z?n.jsx("div",{className:"h-[280px] p-4",children:n.jsx("div",{className:"h-full flex flex-col justify-between",children:[...Array(5)].map((U,L)=>n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-2 w-12"}),n.jsx(C,{className:"h-2 rounded-full",style:{width:`${Math.random()*60+20}%`}})]},L))})}):ne.length===0?n.jsxs("div",{className:"h-[280px] flex flex-col items-center justify-center text-center space-y-3",children:[n.jsx(li,{className:"h-10 w-10 text-muted-foreground/50"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"No trend data available"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Create orders to see trends"})]}),n.jsxs(te,{onClick:()=>e("/orders/new"),size:"sm",variant:"outline",children:[n.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}):n.jsx(ov,{config:{orders:{label:"Orders",color:"hsl(var(--primary))"},spending:{label:"Spending ()",color:"hsl(var(--chart-2))"}},className:"h-[280px]",children:n.jsxs(z2,{data:ne,children:[n.jsx(zn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(rn,{dataKey:"month",className:"text-xs"}),n.jsx(nn,{className:"text-xs"}),n.jsx(hr,{content:n.jsx(lv,{})}),n.jsx(il,{}),n.jsx(ac,{type:"monotone",dataKey:"orders",stroke:"hsl(var(--primary))",strokeWidth:2}),n.jsx(ac,{type:"monotone",dataKey:"spending",stroke:"hsl(var(--chart-2))",strokeWidth:2})]})})})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ha,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search by PO number, apartment, or vendor...",value:r,onChange:U=>s(U.target.value),className:"pl-9"})]}),n.jsxs(st,{value:a,onValueChange:i,children:[n.jsx(rt,{className:"w-[180px]",children:n.jsx(at,{placeholder:"Filter by status"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"all",children:"All Statuses"}),n.jsx(J,{value:"draft",children:"Draft"}),n.jsx(J,{value:"sent",children:"Sent"})]})]}),n.jsxs(st,{value:o,onValueChange:l,children:[n.jsx(rt,{className:"w-[180px]",children:n.jsx(at,{placeholder:"Filter by vendor"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"all",children:"All Vendors"}),H.map(U=>n.jsx(J,{value:U,children:U},U))]})]}),n.jsxs(te,{onClick:()=>e("/orders/import"),variant:"outline",children:[n.jsx(Ki,{className:"h-4 w-4 mr-2"}),"Import Orders"]}),n.jsxs(te,{onClick:()=>e("/orders/new"),children:[n.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ve,{children:["All Orders (",y.length,")"]}),n.jsxs(te,{variant:"outline",size:"sm",children:[n.jsx(F5,{className:"h-4 w-4 mr-2"}),"Sort"]})]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Bt,{children:[n.jsx(Pe,{children:"PO Number"}),n.jsx(Pe,{children:"Apartment"}),n.jsx(Pe,{children:"Vendor"}),n.jsx(Pe,{children:"Items"}),n.jsx(Pe,{children:"Total"}),n.jsx(Pe,{children:"Confirmation"}),n.jsx(Pe,{children:"Tracking"}),n.jsx(Pe,{children:"Status"}),n.jsx(Pe,{children:"Placed On"}),n.jsx(Pe,{className:"text-right",children:"Actions"})]})}),n.jsx($s,{children:y.length===0?n.jsx(Bt,{children:n.jsx(Ne,{colSpan:10,className:"text-center py-8 text-muted-foreground",children:"No orders found"})}):y.map(U=>n.jsxs(Bt,{children:[n.jsx(Ne,{className:"font-medium",children:U.po_number}),n.jsx(Ne,{children:U.apartment_name||"N/A"}),n.jsx(Ne,{children:U.vendor_name||"N/A"}),n.jsxs(Ne,{children:[U.items_count," items"]}),n.jsxs(Ne,{children:["",Number(U.total).toLocaleString()]}),n.jsx(Ne,{children:U.confirmation_code?n.jsx("span",{className:"text-xs font-mono",children:U.confirmation_code}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(Ne,{children:U.tracking_number?n.jsx("span",{className:"text-xs font-mono",children:U.tracking_number}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(Ne,{children:n.jsx(Ce,{className:P(U.status),children:U.status})}),n.jsx(Ne,{children:Xt(new Date(U.placed_on),"yyyy-MM-dd")}),n.jsx(Ne,{className:"text-right",children:n.jsxs(ry,{children:[n.jsx(ny,{asChild:!0,children:n.jsxs(te,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted",children:[n.jsx("span",{className:"sr-only",children:"Open menu"}),n.jsx(d7,{className:"h-4 w-4"})]})}),n.jsxs(Jp,{align:"end",className:"w-56",children:[n.jsx(hE,{className:"font-semibold text-xs text-muted-foreground uppercase tracking-wide",children:"Order Actions"}),n.jsx(Lc,{}),n.jsxs(Rn,{onClick:()=>e(`/orders/${U.id}`),className:"cursor-pointer py-2.5",children:[n.jsx(oi,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"View Details"})]}),n.jsxs(Rn,{onClick:()=>e(`/orders/${U.id}/edit`),className:"cursor-pointer py-2.5",children:[n.jsx(Zs,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"Edit Order"})]}),n.jsxs(Rn,{onClick:()=>{navigator.clipboard.writeText(U.po_number),t({title:"Copied to clipboard",description:`PO Number ${U.po_number} has been copied.`})},className:"cursor-pointer py-2.5",children:[n.jsx(fse,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"Copy PO Number"})]}),n.jsx(Lc,{}),n.jsx(hE,{className:"font-semibold text-xs text-muted-foreground uppercase tracking-wide",children:"Status & Delivery"}),n.jsxs(Rn,{onClick:()=>{p(U),f(!0)},className:"cursor-pointer py-2.5",children:[n.jsx(F5,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"Update Status"})]}),n.jsxs(Rn,{onClick:()=>{p(U),d(!0)},className:"cursor-pointer py-2.5",children:[n.jsx(_r,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"Delivery Tracking"})]}),U.status.toLowerCase()==="draft"&&n.jsxs(Rn,{onClick:()=>S(String(U.id),"sent"),className:"cursor-pointer py-2.5",children:[n.jsx(Ur,{className:"mr-3 h-4 w-4 text-blue-500"}),n.jsx("span",{className:"text-blue-600",children:"Mark as Sent"})]}),n.jsx(Lc,{}),(U.status.toLowerCase()==="draft"||U.status.toLowerCase()==="sent")&&n.jsxs(Rn,{onClick:()=>S(String(U.id),"cancelled"),className:"cursor-pointer py-2.5 text-orange-600 focus:text-orange-600 focus:bg-orange-500/10",children:[n.jsx(Vl,{className:"mr-3 h-4 w-4"}),n.jsx("span",{children:"Cancel Order"})]}),n.jsxs(Rn,{onClick:()=>{p(U),h(!0)},className:"cursor-pointer py-2.5 text-destructive focus:text-destructive focus:bg-destructive/10",children:[n.jsx(pn,{className:"mr-3 h-4 w-4"}),n.jsx("span",{children:"Delete Order"})]})]})]})})]},U.id))})]})})})]})]}),n.jsx(gUe,{open:c,onOpenChange:d,order:x}),n.jsx(vUe,{open:u,onOpenChange:f,order:x,onStatusUpdate:F}),n.jsx(fc,{open:m,onOpenChange:h,children:n.jsxs(yl,{children:[n.jsxs(jl,{children:[n.jsx(wl,{children:"Delete Order"}),n.jsxs(Nl,{children:["Are you sure you want to delete order ",n.jsx("strong",{children:x==null?void 0:x.po_number}),"? This action cannot be undone and will permanently remove the order and all its items."]})]}),n.jsxs(bl,{children:[n.jsx(Sl,{disabled:g,children:"Cancel"}),n.jsx(_l,{onClick:k,disabled:g,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:g?n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):"Delete Order"})]})]})})]})},EUe=()=>{const e=mr(),{toast:t}=gr(),[r,s]=v.useState(""),[a,i]=v.useState("all"),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[m,h]=v.useState("draft"),[x,p]=v.useState(""),[g,j]=v.useState(""),[y,w]=v.useState(""),[b,N]=v.useState([]),[S,_]=v.useState(""),[E,A]=v.useState(""),[T,R]=v.useState([]),[I,z]=v.useState([]),[H,F]=v.useState([]),[k,P]=v.useState([]),[M,O]=v.useState(!0),[K,ne]=v.useState(!1),[D,U]=v.useState(!1),L=v.useMemo(()=>r?H.filter(_e=>!a||a==="all"||_e.vendor===a):[],[H,r,a]);v.useEffect(()=>{let _e=!1;return(async()=>{try{O(!0);const[ke,re]=await Promise.all([mc.getApartments({page_size:100}),Mo.getVendors()]);if(_e)return;R(ke.results||[]),z(re.results||[])}catch(ke){console.error("Failed to load apartments/vendors",ke),t({title:"Failed to load data",description:"Could not load apartments or vendors. Please try again.",variant:"destructive"})}finally{_e||O(!1)}})(),()=>{_e=!0}},[t]),v.useEffect(()=>{let _e=!1;return(async()=>{if(!r){F([]),P([]);return}try{ne(!0);const ke=await Qi.getProducts({apartment:r,page_size:1e3});if(_e)return;F(ke.results||[]),P([])}catch(ke){console.error("Failed to load products",ke),t({title:"Failed to load products",description:"Could not load products for this apartment.",variant:"destructive"})}finally{_e||ne(!1)}})(),()=>{_e=!0}},[r,t]);const G=_e=>{const Re=H.find(he=>he.id===_e);if(!Re)return;if(b.find(he=>he.productId===_e)){t({title:"Product already in order",description:`${Re.product} is already in your order.`,variant:"destructive"});return}const re={productId:Re.id,productName:Re.product,sku:Re.sku||"",quantity:1,unitPrice:Math.round(Number(Re.unit_price)||0)};N(he=>[...he,re]),t({title:"Product added",description:`${Re.product} has been added to the order.`})},le=_e=>{N(b.filter((Re,ke)=>ke!==_e))},fe=(_e,Re,ke)=>{const re=[...b];re[_e]={...re[_e],[Re]:ke},N(re)},B=async _e=>{var Fe,De;if(_e.preventDefault(),!r||b.length===0){t({title:"Validation Error",description:"Please select an apartment and add at least one item",variant:"destructive"});return}let Re=a;if(!Re||Re==="all"){const de=H.find(Ie=>{var it;return Ie.id===((it=b[0])==null?void 0:it.productId)});if(de!=null&&de.vendor)Re=de.vendor;else{t({title:"Validation Error",description:"Unable to determine vendor for this order. Please select a vendor.",variant:"destructive"});return}}if(!o.trim()){t({title:"Validation Error",description:"PO Number is required.",variant:"destructive"});return}if(b.some(de=>!de.productId||de.quantity<=0||de.unitPrice<0)){t({title:"Validation Error",description:"Each item must have a product, quantity > 0 and price  0.",variant:"destructive"});return}const ke=b.reduce((de,Ie)=>de+Ie.quantity*Ie.unitPrice,0),re=parseInt(S||"0",10)||0,he=parseInt(E||"0",10)||0;let ce=ke+re-he;ce<0&&(ce=0);const je=b.reduce((de,Ie)=>de+Ie.quantity,0);try{U(!0);const de=new Date().toISOString().split("T")[0],Ie={apartment:r,vendor:Re,po_number:o.trim(),confirmation_code:c.trim()||void 0,tracking_number:u.trim()||void 0,status:m,expected_delivery:x||void 0,shipping_address:g.trim()||void 0,notes:y.trim()||void 0,items:b.map(it=>({product:it.productId,product_name:it.productName,sku:it.sku,quantity:it.quantity,unit_price:it.unitPrice})),items_count:je,total:ce,placed_on:de};await Ps.createOrder(Ie),t({title:"Order Created",description:`Order created with ${b.length} items. Total: ${ce} HUF`}),e("/orders")}catch(de){console.error("Failed to create order",((Fe=de==null?void 0:de.response)==null?void 0:Fe.data)||de);let Ie="Please check the form and try again.";const it=(De=de==null?void 0:de.response)==null?void 0:De.data;if(it!=null&&it.details&&typeof it.details=="object"){const bt=[];Object.entries(it.details).forEach(([qe,ye])=>{Array.isArray(ye)?bt.push(`${qe}: ${ye.join(", ")}`):typeof ye=="string"&&bt.push(`${qe}: ${ye}`)}),bt.length&&(Ie=bt.join(" | "))}else it!=null&&it.detail&&(Ie=String(it.detail));t({title:"Failed to create order",description:Ie,variant:"destructive"})}finally{U(!1)}},Y=b.reduce((_e,Re)=>_e+Re.quantity*Re.unitPrice,0),ie=parseInt(S||"0",10)||0,we=parseInt(E||"0",10)||0;let ue=Y+ie-we;ue<0&&(ue=0);const ge=T.find(_e=>_e.id===r),xe=I.find(_e=>_e.id===a);return r&&L.length>0,k.length>0,n.jsx(ct,{title:"New Order",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(Jn,{href:"/orders",children:"Orders"})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(ji,{children:"New Order"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>e("/orders"),children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(ws,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Create New Purchase Order"}),n.jsx("p",{className:"text-muted-foreground",children:"Fill in the details to create a new order"})]})]})]}),n.jsx("form",{onSubmit:B,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(lt,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(X,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs(q,{htmlFor:"apartment",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(fr,{className:"h-4 w-4 text-primary"}),"Apartment *"]}),n.jsxs(st,{value:r,onValueChange:s,disabled:M,children:[n.jsx(rt,{className:"h-10",children:n.jsx(at,{placeholder:M?"Loading apartments...":"Select apartment"})}),n.jsx(nt,{children:T.map(_e=>n.jsx(J,{value:_e.id,children:n.jsx("span",{children:_e.name})},_e.id))})]}),ge&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Owner: ",ge.owner]})]})}),n.jsx(X,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs(q,{htmlFor:"vendor",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(La,{className:"h-4 w-4 text-primary"}),"Vendor (Optional Filter)"]}),n.jsxs(st,{value:a,onValueChange:i,disabled:M||!r,children:[n.jsx(rt,{className:"h-10",children:n.jsx(at,{placeholder:r?M?"Loading vendors...":"All vendors":"Select apartment first"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"all",children:"All Vendors"}),I.map(_e=>n.jsx(J,{value:_e.id,children:n.jsx("span",{children:_e.name})},_e.id))]})]}),xe&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Lead time: ",xe.lead_time]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"po_number",children:"PO Number *"}),n.jsx(me,{id:"po_number",value:o,onChange:_e=>l(_e.target.value),placeholder:"e.g., PO-2025-00001"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"confirmation_code",children:"Confirmation"}),n.jsx(me,{id:"confirmation_code",value:c,onChange:_e=>d(_e.target.value),placeholder:"e.g., CONF-8831"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"tracking_number",children:"Tracking"}),n.jsx(me,{id:"tracking_number",value:u,onChange:_e=>f(_e.target.value),placeholder:"e.g., TRK-93234"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",children:"Status"}),n.jsxs(st,{value:m,onValueChange:h,children:[n.jsx(rt,{className:"h-10",children:n.jsx(at,{placeholder:"Select status"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"draft",children:"Draft"}),n.jsx(J,{value:"pending",children:"Pending"}),n.jsx(J,{value:"sent",children:"Sent"}),n.jsx(J,{value:"confirmed",children:"Confirmed"}),n.jsx(J,{value:"in_transit",children:"In Transit"}),n.jsx(J,{value:"delivered",children:"Delivered"}),n.jsx(J,{value:"received",children:"Received"}),n.jsx(J,{value:"cancelled",children:"Cancelled"}),n.jsx(J,{value:"returned",children:"Returned"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"expected_delivery",children:"Expected Delivery"}),n.jsx(me,{id:"expected_delivery",type:"date",value:x,onChange:_e=>p(_e.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"shipping_address",children:"Shipping Address"}),n.jsx(me,{id:"shipping_address",value:g,onChange:_e=>j(_e.target.value),placeholder:"Enter shipping address"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Notes"}),n.jsx(pa,{id:"notes",value:y,onChange:_e=>w(_e.target.value),placeholder:"Add any notes about this order",rows:3})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[n.jsxs(X,{className:"lg:col-span-1",children:[n.jsx(be,{className:"py-3 px-4 border-b",children:n.jsxs(Ve,{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(lt,{className:"h-4 w-4 text-primary"}),"Available Products (",L.length,")"]})}),n.jsx(Q,{className:"p-2",children:K?n.jsx("div",{className:"max-h-[450px]",children:n.jsx("div",{children:[...Array(8)].map((_e,Re)=>n.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 ${Re<7?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 rounded overflow-hidden",children:n.jsx(C,{className:"w-full h-full"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1 mb-0.5",children:[n.jsx(C,{className:"h-3 w-32"}),n.jsx(C,{className:"h-2 w-12 opacity-60"})]}),n.jsx(C,{className:"h-2 w-20 opacity-40"})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsx(C,{className:"h-3 w-14 mb-0.5"}),n.jsx(C,{className:"h-2 w-8 ml-auto opacity-40"})]})]},Re))})}):r?L.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(lt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No products found"}),n.jsx("p",{className:"text-sm",children:a&&a!=="all"?'Try selecting a different vendor or "All Vendors"':"This apartment has no products yet"})]}):n.jsx("div",{className:"max-h-[450px] overflow-y-auto",children:n.jsx("div",{children:L.map((_e,Re)=>{const ke=b.some(re=>re.productId===_e.id);return n.jsxs("div",{onClick:()=>!ke&&G(_e.id),className:`group flex items-center gap-2 px-2 py-1.5 transition-all cursor-pointer ${ke?"opacity-50 cursor-not-allowed bg-muted/30":"hover:bg-accent hover:shadow-sm"} ${Re<L.length-1?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 bg-muted/30 rounded flex items-center justify-center flex-shrink-0",children:_e.product_image?n.jsx("img",{src:_e.product_image,alt:_e.product,className:"w-full h-full object-cover rounded",onError:re=>{re.currentTarget.src="",re.currentTarget.style.display="none"}}):n.jsx(Gi,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("p",{className:"font-medium text-xs truncate flex-1",children:_e.product}),_e.sku&&n.jsx("span",{className:"text-[10px] text-muted-foreground",children:_e.sku})]}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:_e.vendor_name||"No vendor"})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsx("p",{className:"font-semibold text-xs",children:Number(_e.unit_price).toLocaleString()}),ke?n.jsx("span",{className:"text-[10px] text-green-600 dark:text-green-500 font-medium",children:"Added"}):n.jsx("span",{className:"text-[10px] text-muted-foreground",children:"HUF"})]})]},_e.id)})})}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(fr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"Please select an apartment first"}),n.jsx("p",{className:"text-sm",children:"Products will appear here after selecting an apartment"})]})})]}),n.jsxs(X,{className:"lg:col-span-1",children:[n.jsx(be,{className:"py-3 px-4 border-b",children:n.jsxs(Ve,{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(ws,{className:"h-4 w-4 text-primary"}),"Order Items (",b.length,")"]}),b.length>0&&n.jsxs("span",{className:"text-xs font-normal text-muted-foreground",children:["Total: ",b.reduce((_e,Re)=>_e+Re.quantity*Re.unitPrice,0).toLocaleString()," HUF"]})]})}),n.jsx(Q,{className:"p-2",children:K&&b.length===0?n.jsx("div",{className:"max-h-[450px]",children:n.jsx("div",{children:[...Array(3)].map((_e,Re)=>n.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 ${Re<2?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 rounded overflow-hidden",children:n.jsx(C,{className:"w-full h-full"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1 mb-0.5",children:[n.jsx(C,{className:"h-3 w-28"}),n.jsx(C,{className:"h-2 w-10 opacity-60"})]}),n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[n.jsx(C,{className:"w-5 h-5 rounded"}),n.jsx(C,{className:"w-10 h-5 rounded"}),n.jsx(C,{className:"w-5 h-5 rounded"}),n.jsx(C,{className:"h-2 w-16 ml-1 opacity-40"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-right",children:[n.jsx(C,{className:"h-3 w-16 mb-0.5"}),n.jsx(C,{className:"h-2 w-8 ml-auto opacity-40"})]}),n.jsx(C,{className:"w-5 h-5 rounded-full opacity-30"})]})]},Re))})}):b.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(ws,{className:"h-6 w-6 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-xs font-medium",children:"No items in order"}),n.jsx("p",{className:"text-[10px] mt-1",children:"Click products to add them"})]}):n.jsx("div",{className:"max-h-[450px] overflow-y-auto",children:n.jsx("div",{children:b.map((_e,Re)=>{const ke=H.find(re=>re.id===_e.productId);return n.jsxs("div",{className:`group flex items-center gap-2 px-2 py-1.5 hover:bg-accent transition-all ${Re<b.length-1?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 bg-muted/30 rounded flex items-center justify-center flex-shrink-0",children:ke!=null&&ke.product_image?n.jsx("img",{src:ke.product_image,alt:_e.productName,className:"w-full h-full object-cover rounded",onError:re=>{re.currentTarget.src="",re.currentTarget.style.display="none"}}):n.jsx(Gi,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("p",{className:"text-xs font-medium truncate flex-1",children:_e.productName}),_e.sku&&n.jsx("span",{className:"text-[10px] text-muted-foreground",children:_e.sku})]}),n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[n.jsx("button",{type:"button",onClick:()=>fe(Re,"quantity",Math.max(1,_e.quantity-1)),className:"w-5 h-5 rounded bg-muted/50 hover:bg-muted flex items-center justify-center transition-colors",children:n.jsx(h7,{className:"h-3 w-3"})}),n.jsx("input",{type:"number",min:"1",value:_e.quantity,onChange:re=>fe(Re,"quantity",parseInt(re.target.value)||1),className:"w-10 h-5 text-[11px] text-center border border-input bg-background rounded px-1"}),n.jsx("button",{type:"button",onClick:()=>fe(Re,"quantity",_e.quantity+1),className:"w-5 h-5 rounded bg-muted/50 hover:bg-muted flex items-center justify-center transition-colors",children:n.jsx(Xn,{className:"h-3 w-3"})}),n.jsxs("span",{className:"text-[10px] text-muted-foreground ml-1",children:[" ",_e.unitPrice.toLocaleString()]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs font-semibold",children:(_e.quantity*_e.unitPrice).toLocaleString()}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"HUF"})]}),n.jsx("button",{type:"button",onClick:()=>le(Re),className:"opacity-0 group-hover:opacity-100 w-5 h-5 rounded-full bg-destructive/10 hover:bg-destructive/20 flex items-center justify-center transition-all",children:n.jsx(ps,{className:"h-3 w-3 text-destructive"})})]})]},Re)})})})})]})]}),n.jsxs(X,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2 text-primary",children:[n.jsx(Nr,{className:"h-5 w-5"}),"Order Summary"]})}),n.jsx(Q,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Items"}),n.jsx("p",{className:"text-3xl font-bold",children:b.length})]}),n.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Units"}),n.jsx("p",{className:"text-3xl font-bold",children:b.reduce((_e,Re)=>_e+Re.quantity,0)})]}),n.jsxs("div",{className:"space-y-2 p-4 bg-background/50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsx("span",{children:"Items Total"}),n.jsxs("span",{children:[Y," HUF"]})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Shipping Cost"}),n.jsx(me,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:S,onChange:_e=>_(_e.target.value)})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Discount"}),n.jsx(me,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:E,onChange:_e=>A(_e.target.value)})]}),n.jsx($t,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold",children:"Total to Pay"}),n.jsxs("span",{className:"text-2xl font-bold text-primary",children:[ue," HUF"]})]})]})]})})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>e("/orders"),children:"Cancel"}),n.jsx(te,{type:"submit",className:"gap-2",disabled:D,children:D?n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ws,{className:"h-4 w-4"}),"Create Order"]})})]})]})})]})})},AUe=()=>{var L;const e=mr(),{toast:t}=gr(),[r,s]=v.useState(""),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[m,h]=v.useState("draft"),[x,p]=v.useState(""),[g,j]=v.useState(""),[y,w]=v.useState(""),[b,N]=v.useState(null),[S,_]=v.useState(!1),[E,A]=v.useState(0),[T,R]=v.useState(null),[I,z]=v.useState(""),[H,F]=v.useState([]),[k,P]=v.useState([]),[M,O]=v.useState(!1);v.useState(!1),v.useEffect(()=>{(async()=>{try{O(!0);const[le,fe]=await Promise.all([mc.getApartments({page_size:100}),Mo.getVendors()]);F(le.results||[]),P(fe.results||[])}catch(le){console.error("Failed to load data",le),t({title:"Failed to load data",description:"Could not load apartments or vendors. Please try again.",variant:"destructive"})}finally{O(!1)}})()},[t]);const K=G=>G<1024?G+" B":G<1024*1024?(G/1024).toFixed(2)+" KB":(G/(1024*1024)).toFixed(2)+" MB",ne=G=>{var fe;const le=(fe=G.target.files)==null?void 0:fe[0];if(le){if(!le.name.match(/\.(xlsx|xls|csv)$/i)){t({title:"Invalid File Type",description:"Please select a valid Excel or CSV file",variant:"destructive"});return}if(le.size>50*1024*1024){t({title:"File Too Large",description:"Maximum file size is 50MB",variant:"destructive"});return}N(le),z(K(le.size)),R(null)}},D=async()=>{var G,le;if(!r){t({title:"Validation Error",description:"Please select an apartment",variant:"destructive"});return}if(!a){t({title:"Validation Error",description:"Please select a vendor",variant:"destructive"});return}if(!o.trim()){t({title:"Validation Error",description:"PO Number is required",variant:"destructive"});return}if(!b){t({title:"Validation Error",description:"Please select a file to import",variant:"destructive"});return}_(!0),A(0);try{const fe=setInterval(()=>{A(Y=>Y>=90?(clearInterval(fe),90):Y+10)},200),B=await Ps.importOrder({file:b,apartment_id:r,vendor_id:a,po_number:o,status:m,confirmation_code:c,tracking_number:u,expected_delivery:x,shipping_address:g,notes:y});clearInterval(fe),A(100),R(B),t({title:"Import Successful!",description:`Order ${B.po_number} created with ${B.total_items} items.`}),setTimeout(()=>{e("/orders")},2e3)}catch(fe){console.error("Import error:",fe),t({title:"Import Failed",description:((le=(G=fe.response)==null?void 0:G.data)==null?void 0:le.error)||fe.message||"Failed to import order. Please try again.",variant:"destructive"}),A(0)}finally{_(!1)}},U=async()=>{try{const G=await fetch("/api/products/import_template/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(!G.ok)throw new Error("Failed to download template");const le=await G.blob(),fe=window.URL.createObjectURL(le),B=document.createElement("a");B.href=fe,B.download="order-import-template.xlsx",document.body.appendChild(B),B.click(),window.URL.revokeObjectURL(fe),document.body.removeChild(B),t({title:"Success",description:"Template downloaded successfully"})}catch(G){console.error("Template download error:",G),t({title:"Download Failed",description:"Failed to download template. Please try again.",variant:"destructive"})}};return n.jsx(ct,{title:"Import Orders",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(te,{variant:"ghost",onClick:()=>e("/orders"),disabled:S,children:[n.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back"]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(lt,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(X,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs(q,{htmlFor:"apartment",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(fr,{className:"h-4 w-4 text-primary"}),"Apartment *"]}),n.jsxs(st,{value:r,onValueChange:s,disabled:M||S,children:[n.jsx(rt,{className:"h-10",children:n.jsx(at,{placeholder:M?"Loading...":"Select apartment"})}),n.jsx(nt,{children:H.map(G=>n.jsx(J,{value:G.id,children:G.name},G.id))})]})]})}),n.jsx(X,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs(q,{htmlFor:"vendor",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(La,{className:"h-4 w-4 text-primary"}),"Vendor *"]}),n.jsxs(st,{value:a,onValueChange:i,disabled:M||S,children:[n.jsx(rt,{className:"h-10",children:n.jsx(at,{placeholder:M?"Loading...":"Select vendor"})}),n.jsx(nt,{children:k.map(G=>n.jsx(J,{value:G.id,children:G.name},G.id))})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"po_number",children:"PO Number *"}),n.jsx(me,{id:"po_number",value:o,onChange:G=>l(G.target.value),placeholder:"e.g., PO-2025-00001",disabled:S})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"confirmation_code",children:"Confirmation"}),n.jsx(me,{id:"confirmation_code",value:c,onChange:G=>d(G.target.value),placeholder:"e.g., CONF-8831",disabled:S})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"tracking_number",children:"Tracking"}),n.jsx(me,{id:"tracking_number",value:u,onChange:G=>f(G.target.value),placeholder:"e.g., TRK-93234",disabled:S})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",children:"Status"}),n.jsxs(st,{value:m,onValueChange:h,disabled:S,children:[n.jsx(rt,{className:"h-10",children:n.jsx(at,{placeholder:"Select status"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"draft",children:"Draft"}),n.jsx(J,{value:"sent",children:"Sent"}),n.jsx(J,{value:"cancelled",children:"Cancelled"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"expected_delivery",children:"Expected Delivery"}),n.jsx(me,{id:"expected_delivery",type:"date",value:x,onChange:G=>p(G.target.value),disabled:S})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"shipping_address",children:"Shipping Address"}),n.jsx(me,{id:"shipping_address",value:g,onChange:G=>j(G.target.value),placeholder:"Enter shipping address",disabled:S})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Notes"}),n.jsx(pa,{id:"notes",value:y,onChange:G=>w(G.target.value),placeholder:"Add any notes about this order",rows:3,disabled:S})]})]})]}),n.jsxs(X,{className:"border-2 border-dashed",children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Upload File"}),n.jsx(Dr,{className:"mt-1",children:"Select an Excel (.xlsx, .xls) or CSV file (max 50MB)"})]}),b&&I&&n.jsx(Ce,{variant:"secondary",className:"text-sm",children:I})]})}),n.jsx(Q,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:ne,className:"hidden",disabled:S}),n.jsx(te,{variant:"outline",asChild:!0,disabled:S,className:"relative overflow-hidden",children:n.jsx("span",{children:S?n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ki,{className:"mr-2 h-4 w-4"}),"Choose File"]})})})]}),b&&!S&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ek,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium",children:b.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:I})]})]})]}),S&&E>0&&n.jsxs("div",{className:"space-y-2 p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"font-medium",children:"Uploading and processing..."}),n.jsxs("span",{className:"text-muted-foreground",children:[E.toFixed(0),"%"]})]}),n.jsx(Y2,{value:E,className:"h-2"})]}),n.jsx("div",{className:"flex justify-start",children:n.jsxs(te,{variant:"outline",size:"sm",onClick:U,disabled:S,children:[n.jsx(Fv,{className:"mr-2 h-4 w-4"}),"Download Template"]})})]})})]}),T&&n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Import Results"}),n.jsx(Dr,{children:"Summary of the import operation"})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(Qd,{children:[n.jsx(Ur,{className:"h-4 w-4 text-success"}),n.jsxs(Zd,{children:[n.jsx("div",{className:"font-semibold",children:"Order Created"}),n.jsx("div",{className:"text-2xl",children:T.order_created?"Yes":"No"})]})]}),n.jsxs(Qd,{children:[n.jsx(Ur,{className:"h-4 w-4 text-success"}),n.jsxs(Zd,{children:[n.jsx("div",{className:"font-semibold",children:"Total Items"}),n.jsx("div",{className:"text-2xl text-green-600",children:T.total_items})]})]}),n.jsxs(Qd,{children:[n.jsx(Ur,{className:"h-4 w-4 text-success"}),n.jsxs(Zd,{children:[n.jsx("div",{className:"font-semibold",children:"Successfully Imported"}),n.jsx("div",{className:"text-2xl text-green-600",children:T.successful_imports})]})]}),n.jsxs(Qd,{children:[n.jsx(Ur,{className:"h-4 w-4 text-success"}),n.jsxs(Zd,{children:[n.jsx("div",{className:"font-semibold",children:"Total Amount"}),n.jsxs("div",{className:"text-2xl text-green-600",children:["$",((L=T.total_amount)==null?void 0:L.toFixed(2))||"0.00"]})]})]})]}),T.errors&&T.errors.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Errors:"}),n.jsx("div",{className:"space-y-1",children:T.errors.map((G,le)=>n.jsx("div",{className:"text-sm text-destructive bg-destructive/10 p-2 rounded",children:G},le))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(te,{onClick:()=>e("/orders"),children:[n.jsx(Ur,{className:"mr-2 h-4 w-4"}),"View Orders"]})})]})]}),!T&&n.jsx(X,{children:n.jsx(Q,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(te,{variant:"outline",onClick:()=>e("/orders"),disabled:S,children:"Cancel"}),n.jsx(te,{onClick:D,disabled:!r||!a||!o||!b||S,className:"min-w-[200px]",children:S?n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ki,{className:"mr-2 h-4 w-4"}),"Import Order"]})})]})})})]})})};function PUe(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-32"})]})}function kUe(){return n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(C,{className:"h-10 w-10 rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(C,{className:"h-6 w-6 rounded"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-9 w-64"}),n.jsx(C,{className:"h-4 w-48"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[n.jsx(C,{className:"h-6 w-24 rounded-full"}),n.jsx(C,{className:"h-6 w-28 rounded-full"})]})]}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})}function TUe(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{iconBg:"bg-blue-500/10"},{iconBg:"bg-green-500/10"},{iconBg:"bg-purple-500/10"},{iconBg:"bg-orange-500/10"}].map((e,t)=>n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${e.iconBg}`,children:n.jsx(C,{className:"h-5 w-5 rounded"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-8 w-16"})]})]})})},t))})}function OUe(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(2)].map((e,t)=>n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((r,s)=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(C,{className:"h-5 w-5 rounded mt-0.5"}),n.jsxs("div",{className:"space-y-2 flex-1",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-5 w-full"})]})]},s))},t))})})]})}function DUe(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-32"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"w-12 px-4 py-3"}),["Product Name","SKU","Quantity","Unit Price","Total"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))]})}),n.jsx("tbody",{children:[...Array(4)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"w-12 px-4 py-4",children:n.jsx(C,{className:"w-10 h-10 rounded"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-40"}),n.jsx(C,{className:"h-3 w-32"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-12 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-28"})})]},t))})]})})})]})}function IUe(){return n.jsxs(X,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-32"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-28"})]}),n.jsx("div",{className:"h-px bg-border"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(C,{className:"h-5 w-24"}),n.jsx(C,{className:"h-8 w-36"})]})]})]})}function RUe(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-20"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"space-y-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(C,{className:"h-7 w-7 rounded-full"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-3 w-40"})]})]},t))})})]})}function MUe(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-16"})]})}),n.jsxs(Q,{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-full"}),n.jsx(C,{className:"h-4 w-full"}),n.jsx(C,{className:"h-4 w-3/4"})]})]})}function FUe(){return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(PUe,{}),n.jsx(kUe,{}),n.jsx(TUe,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(OUe,{}),n.jsx(DUe,{})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(IUe,{}),n.jsx(RUe,{}),n.jsx(MUe,{})]})]})]})})}const $Ue=()=>{var l,c;const{id:e}=to(),t=mr(),{order:r,loading:s,error:a}=jQ(e||""),i=d=>{const u=d.toLowerCase();return{draft:"bg-gray-500/10 text-gray-500",pending:"bg-yellow-500/10 text-yellow-500",sent:"bg-blue-500/10 text-blue-500",confirmed:"bg-green-500/10 text-green-500",delivered:"bg-purple-500/10 text-purple-500",received:"bg-emerald-500/10 text-emerald-500",cancelled:"bg-red-500/10 text-red-500"}[u]||"bg-gray-500/10 text-gray-500"};if(s)return n.jsx(FUe,{});if(a)return n.jsx(ct,{title:"Error",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Et,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),n.jsx("h2",{className:"text-2xl font-semibold text-destructive mb-2",children:"Error loading order"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:a}),n.jsxs(te,{onClick:()=>t("/orders"),children:[n.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})});if(!r)return n.jsx(ct,{title:"Not Found",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(lt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Order not found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"The order you're looking for doesn't exist."}),n.jsxs(te,{onClick:()=>t("/orders"),children:[n.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})});const o=((l=r.items)==null?void 0:l.reduce((d,u)=>d+Number(u.total_price||0),0))||0;return n.jsx(ct,{title:`Order ${r.po_number}`,children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(Jn,{asChild:!0,children:n.jsx(Yi,{to:"/orders",children:"Orders"})})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(ji,{children:r.po_number})})]})}),n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>t("/orders"),children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(ws,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:r.po_number}),n.jsx("p",{className:"text-muted-foreground",children:"Purchase Order Details"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[n.jsx(Ce,{className:i(r.status),children:r.status}),r.is_delivered&&n.jsxs(Ce,{className:"bg-emerald-500/10 text-emerald-500",children:[n.jsx(lr,{className:"h-3 w-3 mr-1"}),"Delivered"]})]})]}),n.jsxs(te,{variant:"outline",onClick:()=>t(`/orders/${e}/edit`),children:[n.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Edit Order"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:n.jsx(lt,{className:"h-5 w-5 text-blue-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-bold",children:r.items_count})]})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:n.jsx(Nr,{className:"h-5 w-5 text-green-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold",children:[Number(r.total).toLocaleString()," HUF"]})]})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:n.jsx(on,{className:"h-5 w-5 text-purple-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Placed On"}),n.jsx("p",{className:"text-2xl font-bold",children:r.placed_on?Xt(new Date(r.placed_on),"MMM dd"):"-"})]})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg",children:n.jsx(_r,{className:"h-5 w-5 text-orange-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected Delivery"}),n.jsx("p",{className:"text-2xl font-bold",children:r.expected_delivery?Xt(new Date(r.expected_delivery),"MMM dd"):"-"})]})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx($n,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),n.jsx(Q,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(fr,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Apartment"}),n.jsx("p",{className:"font-medium",children:r.apartment_name||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(La,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor"}),n.jsx("p",{className:"font-medium",children:r.vendor_name||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(xh,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"PO Number"}),n.jsx("p",{className:"font-medium font-mono",children:r.po_number})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(dse,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Confirmation Code"}),n.jsx("p",{className:"font-medium font-mono",children:r.confirmation_code||"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(_r,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Tracking Number"}),n.jsx("p",{className:"font-medium font-mono",children:r.tracking_number||"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ya,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Shipping Address"}),n.jsx("p",{className:"font-medium",children:r.shipping_address||"-"})]})]})]})]})})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(lt,{className:"h-5 w-5 text-primary"}),"Order Items (",((c=r.items)==null?void 0:c.length)||0,")"]})}),n.jsx(Q,{children:r.items&&r.items.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Bt,{children:[n.jsx(Pe,{className:"w-12"}),n.jsx(Pe,{children:"Product Name"}),n.jsx(Pe,{children:"SKU"}),n.jsx(Pe,{className:"text-center",children:"Quantity"}),n.jsx(Pe,{className:"text-right",children:"Unit Price"}),n.jsx(Pe,{className:"text-right",children:"Total"})]})}),n.jsx($s,{children:r.items.map((d,u)=>n.jsxs(Bt,{children:[n.jsx(Ne,{className:"w-12",children:n.jsx("div",{className:"w-10 h-10 bg-muted/30 rounded flex items-center justify-center",children:d.product_image?n.jsx("img",{src:d.product_image,alt:d.product_name,className:"w-full h-full object-cover rounded",onError:f=>{var m;f.currentTarget.src="",f.currentTarget.style.display="none",(m=f.currentTarget.parentElement)==null||m.classList.add("bg-muted/30")}}):n.jsx(Gi,{className:"h-5 w-5 text-muted-foreground"})})}),n.jsx(Ne,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:d.product_name}),d.description&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.description})]})}),n.jsx(Ne,{children:n.jsx("span",{className:"font-mono text-sm",children:d.sku||"-"})}),n.jsx(Ne,{className:"text-center",children:n.jsx(Ce,{variant:"secondary",children:d.quantity})}),n.jsxs(Ne,{className:"text-right",children:[Number(d.unit_price).toLocaleString()," HUF"]}),n.jsxs(Ne,{className:"text-right font-semibold",children:[Number(d.total_price).toLocaleString()," HUF"]})]},d.id||u))})]})}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(lt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No items in this order"})]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2 text-primary",children:[n.jsx(Nr,{className:"h-5 w-5"}),"Order Summary"]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Items Total"}),n.jsxs("span",{children:[o.toLocaleString()," HUF"]})]}),n.jsx($t,{}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold",children:"Grand Total"}),n.jsxs("span",{className:"text-2xl font-bold text-primary",children:[Number(r.total).toLocaleString()," HUF"]})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5 text-primary"}),"Timeline"]})}),n.jsx(Q,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-green-500/10 rounded-full",children:n.jsx(lr,{className:"h-4 w-4 text-green-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Order Placed"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.placed_on?Xt(new Date(r.placed_on),"PPP"):"-"})]})]}),r.expected_delivery&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-blue-500/10 rounded-full",children:n.jsx(_r,{className:"h-4 w-4 text-blue-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Expected Delivery"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Xt(new Date(r.expected_delivery),"PPP")})]})]}),r.actual_delivery&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-emerald-500/10 rounded-full",children:n.jsx(lr,{className:"h-4 w-4 text-emerald-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Actual Delivery"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Xt(new Date(r.actual_delivery),"PPP")})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-gray-500/10 rounded-full",children:n.jsx(on,{className:"h-4 w-4 text-gray-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Created"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.created_at?Xt(new Date(r.created_at),"PPP p"):"-"})]})]}),r.updated_at&&r.updated_at!==r.created_at&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-gray-500/10 rounded-full",children:n.jsx(Tf,{className:"h-4 w-4 text-gray-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Last Updated"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Xt(new Date(r.updated_at),"PPP p")})]})]})]})})]}),r.notes&&n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx($n,{className:"h-5 w-5 text-primary"}),"Notes"]})}),n.jsx(Q,{children:n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:r.notes})})]})]})]})]})})};function LUe(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-12"})]})}function BUe(){return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-10 w-10 rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(C,{className:"h-9 w-32 mb-2"}),n.jsx(C,{className:"h-4 w-64"})]})]})}function UUe(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"}),n.jsx(C,{className:"h-3 w-32"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"}),n.jsx(C,{className:"h-3 w-28"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-36"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-20 w-full rounded-md"})]})]})]})}function VUe(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-32"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-9 w-32 rounded-md"}),n.jsx(C,{className:"h-9 w-28 rounded-md"})]})]})}),n.jsx(Q,{children:n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex gap-3 p-4 border rounded-lg",children:[n.jsx(C,{className:"h-16 w-16 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-5 w-48"}),n.jsx(C,{className:"h-8 w-8 rounded"})]}),n.jsx(C,{className:"h-4 w-32"}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-3 w-16"}),n.jsx(C,{className:"h-9 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-3 w-20"}),n.jsx(C,{className:"h-9 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-3 w-12"}),n.jsx(C,{className:"h-9 w-full rounded-md"})]})]})]})]},t))})})]})}function zUe(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-32"})]})}),n.jsxs(Q,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-4 w-28"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-4 w-20"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-20"})]}),n.jsx("div",{className:"h-px bg-border"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(C,{className:"h-5 w-24"}),n.jsx(C,{className:"h-7 w-32"})]})]})]})}function WUe(){return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(LUe,{}),n.jsx(BUe,{}),n.jsx(UUe,{}),n.jsx(VUe,{}),n.jsx(zUe,{}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})]})})}const HUe=()=>{const{id:e}=to(),t=mr(),{toast:r}=gr(),{order:s,loading:a,error:i}=jQ(e||""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[m,h]=v.useState(""),[x,p]=v.useState(""),[g,j]=v.useState("draft"),[y,w]=v.useState([]),[b,N]=v.useState(""),[S,_]=v.useState(""),[E,A]=v.useState(""),[T,R]=v.useState(""),[I,z]=v.useState(""),[H,F]=v.useState([]),[k,P]=v.useState([]),[M,O]=v.useState(!1),[K,ne]=v.useState(!1),[D,U]=v.useState(!1),{data:L,isLoading:G}=MX({apartment:o,page_size:1e3}),le=(L==null?void 0:L.results)||[],fe=v.useMemo(()=>le.filter(ce=>!c||ce.vendor===c),[le,c]);v.useEffect(()=>{let ce=!1;return(async()=>{try{O(!0);const[Fe,De]=await Promise.all([mc.getApartments({page_size:100}),Mo.getVendors()]);if(ce)return;F(Fe.results||[]),P(De.results||[])}catch(Fe){console.error("Failed to load apartments/vendors",Fe),r({title:"Failed to load data",description:"Could not load apartments or vendors. Please try again.",variant:"destructive"})}finally{ce||O(!1)}})(),()=>{ce=!0}},[r]),v.useEffect(()=>{if(s&&!D&&!M&&H.length>0&&k.length>0){const ce=H.some(Fe=>Fe.id===s.apartment);l(ce?s.apartment:"");const je=k.some(Fe=>Fe.id===s.vendor);if(d(je?s.vendor:""),f(s.po_number||""),h(s.confirmation_code||""),p(s.tracking_number||""),j(s.status||"draft"),A(s.notes||""),R(s.shipping_address||""),z(s.expected_delivery||""),s.items&&s.items.length>0){const Fe=s.items.map(De=>({id:De.id,productId:De.product||"",productName:De.product_name||"",sku:De.sku||"",quantity:De.quantity||1,unitPrice:Math.round(Number(De.unit_price)||0)}));w(Fe)}U(!0)}},[s,D,M,H,k]);const B=()=>{const ce=new Set(y.map(De=>De.productId)),je=fe.find(De=>!ce.has(De.id))||fe[0];if(!je)return;const Fe=Math.round(Number(je.unit_price)||0);w(De=>[...De,{productId:je.id,productName:je.product,sku:je.sku||"",quantity:1,unitPrice:Fe}])},Y=ce=>{w(y.filter((je,Fe)=>Fe!==ce))},ie=(ce,je,Fe)=>{const De=[...y];De[ce]={...De[ce],[je]:Fe},w(De)},we=async ce=>{var it,bt;if(ce.preventDefault(),!o||!c||y.length===0){r({title:"Validation Error",description:"Please fill all required fields",variant:"destructive"});return}if(!u.trim()){r({title:"Validation Error",description:"PO Number is required.",variant:"destructive"});return}if(y.some(qe=>!qe.productName||qe.quantity<=0||qe.unitPrice<0)){r({title:"Validation Error",description:"Each item must have a product, quantity > 0 and price  0.",variant:"destructive"});return}const je=y.reduce((qe,ye)=>qe+ye.quantity*ye.unitPrice,0),Fe=parseInt(b||"0",10)||0,De=parseInt(S||"0",10)||0;let de=je+Fe-De;de<0&&(de=0);const Ie=y.reduce((qe,ye)=>qe+ye.quantity,0);try{ne(!0);const qe={apartment:o,vendor:c,po_number:u.trim(),confirmation_code:m.trim()||void 0,tracking_number:x.trim()||void 0,status:g,notes:E.trim()||void 0,shipping_address:T.trim()||void 0,expected_delivery:I||void 0,items:y.map(ye=>({id:ye.id,product_name:ye.productName,sku:ye.sku,quantity:ye.quantity,unit_price:ye.unitPrice})),items_count:Ie,total:de};await Ps.updateOrder(e,qe),r({title:"Order Updated",description:`Order updated successfully. Total: ${de} HUF`}),t(`/orders/${e}`)}catch(qe){console.error("Failed to update order",((it=qe==null?void 0:qe.response)==null?void 0:it.data)||qe);let ye="Please check the form and try again.";const Ge=(bt=qe==null?void 0:qe.response)==null?void 0:bt.data;if(Ge!=null&&Ge.details&&typeof Ge.details=="object"){const Pt=[];Object.entries(Ge.details).forEach(([kt,vr])=>{Array.isArray(vr)?Pt.push(`${kt}: ${vr.join(", ")}`):typeof vr=="string"&&Pt.push(`${kt}: ${vr}`)}),Pt.length&&(ye=Pt.join(" | "))}else Ge!=null&&Ge.detail&&(ye=String(Ge.detail));r({title:"Failed to update order",description:ye,variant:"destructive"})}finally{ne(!1)}},ue=y.reduce((ce,je)=>ce+je.quantity*je.unitPrice,0),ge=parseInt(b||"0",10)||0,xe=parseInt(S||"0",10)||0;let _e=ue+ge-xe;_e<0&&(_e=0);const Re=H.find(ce=>ce.id===o),ke=k.find(ce=>ce.id===c);o&&c&&fe.length>0;const re=[{value:"draft",label:"Draft"},{value:"pending",label:"Pending"},{value:"sent",label:"Sent"},{value:"confirmed",label:"Confirmed"},{value:"in_transit",label:"In Transit"},{value:"delivered",label:"Delivered"},{value:"received",label:"Received"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}];return a||M||s&&!D?n.jsx(WUe,{}):i?n.jsx(ct,{title:"Error",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Et,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),n.jsx("h2",{className:"text-2xl font-semibold text-destructive mb-2",children:"Error loading order"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:i}),n.jsxs(te,{onClick:()=>t("/orders"),children:[n.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})}):s?n.jsx(ct,{title:"Edit Order",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(Jn,{asChild:!0,children:n.jsx(Yi,{to:"/orders",children:"Orders"})})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(Jn,{asChild:!0,children:n.jsx(Yi,{to:`/orders/${e}`,children:s.po_number})})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(ji,{children:"Edit"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>t(`/orders/${e}`),children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(ws,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Edit Order"}),n.jsxs("p",{className:"text-muted-foreground",children:["Update order details for ",s.po_number]})]})]})]}),n.jsx("form",{onSubmit:we,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(lt,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(X,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs(q,{htmlFor:"apartment",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(fr,{className:"h-4 w-4 text-primary"}),"Apartment *"]}),n.jsxs(st,{value:o,onValueChange:l,disabled:M,children:[n.jsx(rt,{className:"h-10",children:n.jsx(at,{placeholder:M?"Loading...":"Select apartment"})}),n.jsx(nt,{children:H.map(ce=>n.jsx(J,{value:ce.id,children:n.jsx("span",{children:ce.name})},ce.id))})]}),Re&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Owner: ",Re.owner]})]})}),n.jsx(X,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs(q,{htmlFor:"vendor",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(La,{className:"h-4 w-4 text-primary"}),"Vendor *"]}),n.jsxs(st,{value:c,onValueChange:d,disabled:M,children:[n.jsx(rt,{className:"h-10",children:n.jsx(at,{placeholder:M?"Loading...":"Select vendor"})}),n.jsx(nt,{children:k.map(ce=>n.jsx(J,{value:ce.id,children:n.jsx("span",{children:ce.name})},ce.id))})]}),ke&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Lead time: ",ke.lead_time]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"po_number",children:"PO Number *"}),n.jsx(me,{id:"po_number",value:u,onChange:ce=>f(ce.target.value),placeholder:"e.g., PO-2025-00001"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"confirmation_code",children:"Confirmation"}),n.jsx(me,{id:"confirmation_code",value:m,onChange:ce=>h(ce.target.value),placeholder:"e.g., CONF-8831"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"tracking_number",children:"Tracking"}),n.jsx(me,{id:"tracking_number",value:x,onChange:ce=>p(ce.target.value),placeholder:"e.g., TRK-93234"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",children:"Status"}),n.jsxs(st,{value:g,onValueChange:j,children:[n.jsx(rt,{className:"h-10",children:n.jsx(at,{placeholder:"Select status"})}),n.jsx(nt,{children:re.map(ce=>n.jsx(J,{value:ce.value,children:ce.label},ce.value))})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"expected_delivery",children:"Expected Delivery"}),n.jsx(me,{id:"expected_delivery",type:"date",value:I,onChange:ce=>z(ce.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"shipping_address",children:"Shipping Address"}),n.jsx(me,{id:"shipping_address",value:T,onChange:ce=>R(ce.target.value),placeholder:"Enter shipping address"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Notes"}),n.jsx(me,{id:"notes",value:E,onChange:ce=>A(ce.target.value),placeholder:"Add any notes about this order"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[n.jsxs(X,{className:"lg:col-span-1",children:[n.jsx(be,{className:"py-3 px-4 border-b",children:n.jsxs(Ve,{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(lt,{className:"h-4 w-4 text-primary"}),"Available Products (",fe.length,")"]})}),n.jsx(Q,{className:"p-2",children:G?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Ht,{className:"h-8 w-8 mx-auto mb-3 opacity-50 animate-spin"}),n.jsx("p",{className:"text-sm",children:"Loading products..."})]}):!o||!c?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(fr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"Please select apartment and vendor"}),n.jsx("p",{className:"text-sm",children:"Products will appear here"})]}):fe.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(lt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No products found"}),n.jsx("p",{className:"text-sm",children:"This apartment/vendor has no products"})]}):n.jsx("div",{className:"max-h-[450px] overflow-y-auto",children:n.jsx("div",{children:fe.map((ce,je)=>{const Fe=y.some(De=>De.productId===ce.id);return n.jsxs("div",{onClick:()=>!Fe&&B(),className:`group flex items-center gap-2 px-2 py-1.5 transition-all cursor-pointer ${Fe?"opacity-50 cursor-not-allowed bg-muted/30":"hover:bg-accent hover:shadow-sm"} ${je<fe.length-1?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 bg-muted/30 rounded flex items-center justify-center flex-shrink-0",children:ce.product_image?n.jsx("img",{src:ce.product_image,alt:ce.product,className:"w-full h-full object-cover rounded",onError:De=>{De.currentTarget.src="",De.currentTarget.style.display="none"}}):n.jsx(Gi,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("p",{className:"font-medium text-xs truncate flex-1",children:ce.product}),ce.sku&&n.jsx("span",{className:"text-[10px] text-muted-foreground",children:ce.sku})]}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:ce.vendor_name||"No vendor"})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsx("p",{className:"font-semibold text-xs",children:Number(ce.unit_price).toLocaleString()}),Fe?n.jsx("span",{className:"text-[10px] text-green-600 dark:text-green-500 font-medium",children:"Added"}):n.jsx("span",{className:"text-[10px] text-muted-foreground",children:"HUF"})]})]},ce.id)})})})})]}),n.jsxs(X,{className:"lg:col-span-1",children:[n.jsx(be,{className:"py-3 px-4 border-b",children:n.jsxs(Ve,{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(ws,{className:"h-4 w-4 text-primary"}),"Order Items (",y.length,")"]}),y.length>0&&n.jsxs("span",{className:"text-xs font-normal text-muted-foreground",children:["Total: ",y.reduce((ce,je)=>ce+je.quantity*je.unitPrice,0).toLocaleString()," HUF"]})]})}),n.jsx(Q,{className:"p-2",children:y.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(ws,{className:"h-6 w-6 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-xs font-medium",children:"No items in order"}),n.jsx("p",{className:"text-[10px] mt-1",children:"Click products to add them"})]}):n.jsx("div",{className:"max-h-[450px] overflow-y-auto",children:n.jsx("div",{children:y.map((ce,je)=>{const Fe=fe.find(De=>De.id===ce.productId);return n.jsxs("div",{className:`group flex items-center gap-2 px-2 py-1.5 hover:bg-accent transition-all ${je<y.length-1?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 bg-muted/30 rounded flex items-center justify-center flex-shrink-0",children:Fe!=null&&Fe.product_image?n.jsx("img",{src:Fe.product_image,alt:ce.productName,className:"w-full h-full object-cover rounded",onError:De=>{De.currentTarget.src="",De.currentTarget.style.display="none"}}):n.jsx(Gi,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("p",{className:"text-xs font-medium truncate flex-1",children:ce.productName}),ce.sku&&n.jsx("span",{className:"text-[10px] text-muted-foreground",children:ce.sku})]}),n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[n.jsx("button",{type:"button",onClick:()=>ie(je,"quantity",Math.max(1,ce.quantity-1)),className:"w-5 h-5 rounded bg-muted/50 hover:bg-muted flex items-center justify-center transition-colors",children:n.jsx(h7,{className:"h-3 w-3"})}),n.jsx("input",{type:"number",min:"1",value:ce.quantity,onChange:De=>ie(je,"quantity",parseInt(De.target.value)||1),className:"w-10 h-5 text-[11px] text-center border border-input bg-background rounded px-1"}),n.jsx("button",{type:"button",onClick:()=>ie(je,"quantity",ce.quantity+1),className:"w-5 h-5 rounded bg-muted/50 hover:bg-muted flex items-center justify-center transition-colors",children:n.jsx(Xn,{className:"h-3 w-3"})}),n.jsxs("span",{className:"text-[10px] text-muted-foreground ml-1",children:[" ",ce.unitPrice.toLocaleString()]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs font-semibold",children:(ce.quantity*ce.unitPrice).toLocaleString()}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"HUF"})]}),n.jsx("button",{type:"button",onClick:()=>Y(je),className:"opacity-0 group-hover:opacity-100 w-5 h-5 rounded-full bg-destructive/10 hover:bg-destructive/20 flex items-center justify-center transition-all",children:n.jsx(ps,{className:"h-3 w-3 text-destructive"})})]})]},je)})})})})]})]}),n.jsxs(X,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2 text-primary",children:[n.jsx(Nr,{className:"h-5 w-5"}),"Order Summary"]})}),n.jsx(Q,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Items"}),n.jsx("p",{className:"text-3xl font-bold",children:y.length})]}),n.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Units"}),n.jsx("p",{className:"text-3xl font-bold",children:y.reduce((ce,je)=>ce+je.quantity,0)})]}),n.jsxs("div",{className:"space-y-2 p-4 bg-background/50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsx("span",{children:"Items Total"}),n.jsxs("span",{children:[ue," HUF"]})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Shipping Cost"}),n.jsx(me,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:b,onChange:ce=>N(ce.target.value)})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Discount"}),n.jsx(me,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:S,onChange:ce=>_(ce.target.value)})]}),n.jsx($t,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold",children:"Total to Pay"}),n.jsxs("span",{className:"text-2xl font-bold text-primary",children:[_e," HUF"]})]})]})]})})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>t(`/orders/${e}`),children:"Cancel"}),n.jsx(te,{type:"submit",className:"gap-2",disabled:K,children:K?n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(vu,{className:"h-4 w-4"}),"Save Changes"]})})]})]})})]})}):n.jsx(ct,{title:"Not Found",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(lt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Order not found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"The order you're looking for doesn't exist."}),n.jsxs(te,{onClick:()=>t("/orders"),children:[n.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})})},qUe=({open:e,onOpenChange:t,delivery:r})=>{const[s,a]=v.useState(null),[i,o]=v.useState(!1);if(v.useEffect(()=>{e&&(r!=null&&r.id)&&(o(!0),Vc.getDelivery(r.id).then(x=>a(x)).catch(x=>console.error("Failed to fetch delivery details:",x)).finally(()=>o(!1)))},[e,r==null?void 0:r.id]),!r)return null;const l=x=>({Scheduled:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/30","In Transit":"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/30",Delivered:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/30",Delayed:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/30",Cancelled:"bg-gray-500/10 text-gray-600 dark:text-gray-400 border-gray-500/30",Returned:"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/30"})[x]||"bg-muted text-muted-foreground",c=x=>({Urgent:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/30",High:"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/30",Medium:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/30",Low:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/30"})[x]||"bg-muted text-muted-foreground",d=s||r,u=s==null?void 0:s.apartment_details,f=s==null?void 0:s.vendor_details,m=u==null?void 0:u.client_details,h=(s==null?void 0:s.order_items)||[];return n.jsx(Pn,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsx(kn,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Tn,{className:"text-lg font-bold",children:"Delivery Details"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-0.5 font-mono",children:d.order_reference})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ce,{className:l(d.status),variant:"outline",children:d.status}),n.jsxs(Ce,{className:c(d.priority),variant:"outline",children:[d.priority," Priority"]})]})]})}),i?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Ht,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs(n.Fragment,{children:[n.jsx($t,{className:"my-2"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(X,{className:"border-border/50",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:n.jsx(ya,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Delivery Address"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(u==null?void 0:u.name)||d.apartment_name}),(u==null?void 0:u.address)&&n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:u.address})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:n.jsx(os,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Contact Person"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(m==null?void 0:m.name)||(u==null?void 0:u.owner)||"Not specified"})]})]}),(m==null?void 0:m.phone)&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:n.jsx(ko,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Contact Phone"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:m.phone})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-orange-500/10",children:n.jsx(_r,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Vendor"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(f==null?void 0:f.name)||d.vendor_name}),(f==null?void 0:f.delivery_terms)&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Carrier: ",f.delivery_terms]})]})]}),(f==null?void 0:f.contact_person)&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-indigo-500/10",children:n.jsx(fr,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Vendor Contact"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:f.contact_person})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/10",children:n.jsx(gn,{className:"h-4 w-4 text-cyan-600 dark:text-cyan-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Vendor Email"}),f!=null&&f.email?n.jsx("a",{href:`mailto:${f.email}`,className:"text-sm font-medium text-primary hover:underline mt-1 block",children:f.email}):n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Not available"})]})]}),(f==null?void 0:f.website)&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-teal-500/10",children:n.jsx(tc,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Website"}),n.jsxs("a",{href:f.website.startsWith("http")?f.website:`https://${f.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-primary hover:underline mt-1 flex items-center gap-1",children:[f.website,n.jsx(Ck,{className:"h-3 w-3"})]})]})]})]})]})})}),n.jsx(X,{className:"border-border/50",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[n.jsx(on,{className:"h-4 w-4 text-primary"}),"Delivery Schedule"]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Delivery"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(s==null?void 0:s.expected_date)||d.expected_date})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Time Slot"}),n.jsxs("p",{className:"text-sm font-semibold mt-1 flex items-center gap-1",children:[n.jsx(wr,{className:"h-3.5 w-3.5 text-muted-foreground"}),(s==null?void 0:s.time_slot)||d.time_slot||"Not specified"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Actual Delivery"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(s==null?void 0:s.actual_date)||n.jsx("span",{className:"text-muted-foreground font-normal",children:"Pending"})})]})]})]})}),n.jsx(X,{className:"border-border/50",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[n.jsx(lt,{className:"h-4 w-4 text-primary"}),"Package Details"]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(xh,{className:"h-3 w-3"}),"Order Number"]}),n.jsx(Ce,{variant:"outline",className:"text-xs mt-1.5 font-mono",children:d.order_reference})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(Cg,{className:"h-3 w-3"}),"Items Count"]}),n.jsxs("p",{className:"text-sm font-semibold mt-1",children:[(s==null?void 0:s.order_items_count)||h.length||"-"," items"]})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(b7,{className:"h-3 w-3"}),"Weight"]}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:"-"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(Nr,{className:"h-3 w-3"}),"Order Total"]}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:s!=null&&s.order_total?`${Number(s.order_total).toFixed(2)}`:"-"})]})]}),((s==null?void 0:s.tracking_number)||d.tracking_number)&&n.jsxs("div",{className:"mt-3 pt-3 border-t",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Tracking Number"}),n.jsx(Ce,{className:"bg-primary/10 text-primary text-xs font-mono mt-1.5",children:(s==null?void 0:s.tracking_number)||d.tracking_number})]})]})}),h.length>0&&n.jsx(X,{className:"border-border/50",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[n.jsx(Cg,{className:"h-4 w-4 text-primary"}),"Delivered Products (",h.length,")"]}),n.jsx("div",{className:"rounded-lg border overflow-hidden",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Bt,{className:"bg-muted/50",children:[n.jsx(Pe,{className:"text-xs font-semibold",children:"Product"}),n.jsx(Pe,{className:"text-xs font-semibold",children:"SKU"}),n.jsx(Pe,{className:"text-xs font-semibold text-center",children:"Qty"}),n.jsx(Pe,{className:"text-xs font-semibold text-right",children:"Unit Price"}),n.jsx(Pe,{className:"text-xs font-semibold text-right",children:"Total"})]})}),n.jsx($s,{children:h.map((x,p)=>n.jsxs(Bt,{children:[n.jsx(Ne,{className:"text-sm font-medium",children:x.product_name}),n.jsx(Ne,{className:"text-xs text-muted-foreground font-mono",children:x.sku||"-"}),n.jsx(Ne,{className:"text-sm text-center",children:x.quantity}),n.jsxs(Ne,{className:"text-sm text-right",children:["",Number(x.unit_price).toFixed(2)]}),n.jsxs(Ne,{className:"text-sm font-semibold text-right",children:["",Number(x.total_price).toFixed(2)]})]},x.id||p))})]})})]})}),n.jsx(X,{className:"border-border/50",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[n.jsx($n,{className:"h-4 w-4 text-primary"}),"Notes & Instructions"]}),(s==null?void 0:s.order_notes)&&n.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-amber-500/5 border border-amber-500/20 mb-4",children:[n.jsx(Et,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-amber-700 dark:text-amber-300",children:"Special Instructions"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:s.order_notes})]})]}),s!=null&&s.status_history&&s.status_history.length>0?n.jsxs("div",{className:"space-y-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-3",children:"Status History"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-[11px] top-3 bottom-3 w-0.5 bg-border"}),n.jsx("div",{className:"space-y-3",children:s.status_history.map((x,p)=>{const g=b=>{switch(b){case"Delivered":return{icon:lr,color:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/30"};case"In Transit":return{icon:_r,color:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/30"};case"Scheduled":return{icon:on,color:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/30"};case"Delayed":return{icon:wr,color:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/30"};case"Cancelled":return{icon:Et,color:"bg-gray-500/10 text-gray-600 dark:text-gray-400 border-gray-500/30"};case"Returned":return{icon:lt,color:"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/30"};default:return{icon:$n,color:"bg-muted text-muted-foreground"}}},{icon:j,color:y}=g(x.status),w=p===0;return n.jsxs("div",{className:"relative flex gap-3 pl-0",children:[n.jsx("div",{className:`relative z-10 flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center ${y} ${w?"ring-2 ring-primary/20":""}`,children:n.jsx(j,{className:"h-3 w-3"})}),n.jsxs("div",{className:`flex-1 pb-3 ${w?"":"opacity-80"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ce,{variant:"outline",className:`text-xs ${y}`,children:x.status}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(x.created_at).toLocaleString()}),x.changed_by&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["by ",x.changed_by]})]}),x.notes&&n.jsx("p",{className:"text-sm mt-1 text-foreground",children:x.notes}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[x.received_by&&n.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(os,{className:"h-3 w-3"}),"Received by: ",x.received_by]}),x.location&&n.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(ya,{className:"h-3 w-3"}),x.location]}),x.delay_reason&&n.jsxs("span",{className:"text-xs text-red-600 dark:text-red-400 flex items-center gap-1",children:[n.jsx(Et,{className:"h-3 w-3"}),"Reason: ",x.delay_reason]})]})]})]},x.id)})})]})]}):(s==null?void 0:s.notes)&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery Notes"}),n.jsx("p",{className:"text-sm mt-1",children:s.notes})]})]})}),(s==null?void 0:s.received_by)&&n.jsx(X,{className:"border-green-500/30 bg-green-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:n.jsx(lr,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Received By"}),n.jsx("p",{className:"text-sm font-semibold",children:s.received_by}),s.actual_date&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["on ",s.actual_date]})]})]})})})]})]})]})})},GUe=({open:e,onOpenChange:t,delivery:r})=>{if(!r)return null;const s=[{date:"2025-11-10 14:30",status:r.status==="Delivered"?"Delivered":r.status==="In Transit"?"Out for Delivery":"Package Ready",location:r.status==="Delivered"?r.apartment_name:"Local Hub",description:r.status==="Delivered"?"Package delivered successfully":r.status==="In Transit"?"Package is out for delivery":"Package is ready for dispatch",active:!0},{date:"2025-11-09 10:15",status:"In Transit",location:"Distribution Center",description:"Package is on the way to delivery location",active:!1},{date:"2025-11-08 16:45",status:"Package Dispatched",location:`${r.vendor_name} Warehouse`,description:"Package has been dispatched from warehouse",active:!1},{date:"2025-11-08 09:00",status:"Order Confirmed",location:r.vendor_name,description:"Order has been confirmed and is being prepared",active:!1}];return n.jsx(Pn,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(kn,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-primary/10 rounded-lg",children:n.jsx(_r,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Tn,{className:"text-base font-bold",children:"Track Delivery"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.order_reference})]})]})}),n.jsx($t,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(X,{className:"border bg-gradient-to-br from-primary/5 to-primary/10",children:n.jsxs(Q,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-primary/10 rounded",children:n.jsx(lt,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Tracking Number"}),n.jsx("p",{className:"text-sm font-bold font-mono",children:r.tracking_number})]})]}),n.jsx(Ce,{className:"bg-primary text-primary-foreground",children:"Carrier"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 pt-2 border-t border-primary/20",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ya,{className:"h-3.5 w-3.5 text-primary flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Destination"}),n.jsx("p",{className:"text-sm font-medium truncate",children:r.apartment_name})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_r,{className:"h-3.5 w-3.5 text-primary flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"From"}),n.jsx("p",{className:"text-sm font-medium truncate",children:r.vendor_name})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(on,{className:"h-3.5 w-3.5 text-primary flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"ETA"}),n.jsx("p",{className:"text-sm font-medium",children:r.expected_date})]})]})]})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b",children:[n.jsx("div",{className:"p-1 bg-primary/10 rounded",children:n.jsx(wr,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold",children:"Tracking History"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Latest updates"})]})]}),n.jsx("div",{className:"space-y-4",children:s.map((a,i)=>n.jsxs("div",{className:"flex gap-3 relative",children:[i!==s.length-1&&n.jsx("div",{className:"absolute left-3.5 top-8 bottom-0 w-0.5 bg-gradient-to-b from-primary/50 to-border"}),n.jsx("div",{className:"relative flex-shrink-0",children:n.jsx("div",{className:`w-7 h-7 rounded-full border-2 border-background flex items-center justify-center ${a.active?"bg-primary shadow-lg shadow-primary/20":"bg-muted"}`,children:a.active?n.jsx(_r,{className:"h-3.5 w-3.5 text-primary-foreground"}):n.jsx(lr,{className:"h-3.5 w-3.5 text-muted-foreground"})})}),n.jsxs("div",{className:"flex-1 pb-2",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsx("p",{className:`text-sm font-semibold ${a.active?"text-primary":""}`,children:a.status}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:a.date})]}),n.jsx("p",{className:"text-xs text-muted-foreground mb-0.5",children:a.description}),n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(ya,{className:"h-3 w-3"}),a.location]})]})]},i))})]})})]})]})})};function KUe(e={}){const[t,r]=v.useState([]),[s,a]=v.useState(!0),[i,o]=v.useState(null),[l,c]=v.useState(0),d=v.useCallback(async()=>{try{a(!0),o(null);const m=await Vc.getDeliveries(e);r(m.results||[]),c(m.count||0)}catch(m){console.error("Failed to fetch deliveries:",m),o(m.message||"Failed to fetch deliveries"),r([])}finally{a(!1)}},[e.search,e.status,e.priority,e.apartment,e.vendor,e.page,e.page_size]);return v.useEffect(()=>{d()},[d]),{deliveries:t,loading:s,error:i,totalCount:l,refetch:d,updateStatus:async(m,h,x)=>{await Vc.updateStatus(m,h,x),await d()},deleteDelivery:async m=>{await Vc.deleteDelivery(m),await d()}}}function YUe(){const[e,t]=v.useState({scheduled:0,in_transit:0,delivered:0,delayed:0,total:0}),[r,s]=v.useState(!0);return v.useEffect(()=>{(async()=>{try{s(!0);const o=(await Vc.getDeliveries({page_size:1e3})).results||[];t({scheduled:o.filter(l=>l.status==="Scheduled").length,in_transit:o.filter(l=>l.status==="In Transit").length,delivered:o.filter(l=>l.status==="Delivered").length,delayed:o.filter(l=>l.status==="Delayed").length,total:o.length})}catch(i){console.error("Failed to fetch delivery statistics:",i)}finally{s(!1)}})()},[]),{statistics:e,loading:r}}function XUe(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{iconBg:"bg-blue-500/10"},{iconBg:"bg-yellow-500/10"},{iconBg:"bg-green-500/10"},{iconBg:"bg-orange-500/10"}].map((e,t)=>n.jsx(X,{className:"card-hover-effect",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-8 w-12"}),n.jsx(C,{className:"h-4 w-24"})]}),n.jsx("div",{className:`p-2.5 rounded-xl ${e.iconBg}`,children:n.jsx(C,{className:"h-5 w-5 rounded"})})]})})},t))})}function QUe(){return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"h-[200px] flex items-end justify-between gap-2 px-4",children:[...Array(5)].map((e,t)=>n.jsxs("div",{className:"flex-1 flex flex-col justify-end gap-2",children:[n.jsx(C,{className:"w-full rounded-t",style:{height:`${Math.random()*60+40}%`}}),n.jsx(C,{className:"h-3 w-full"})]},t))})})]}),n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"h-[200px] flex items-end justify-between gap-3 px-4",children:[70,85,75,95,80,60,50].map((e,t)=>n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end gap-2",children:[n.jsx(C,{className:"h-2 w-2 rounded-full"}),n.jsx(C,{className:"w-0.5",style:{height:`${e}%`}}),n.jsx(C,{className:"h-3 w-8"})]},t))})})]})]})}function ZUe(){return n.jsxs("div",{className:"flex flex-col gap-3 mb-3",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between",children:[n.jsxs("div",{className:"flex gap-1 bg-muted rounded-lg p-1",children:[n.jsx(C,{className:"h-9 w-24 rounded-md"}),n.jsx(C,{className:"h-9 w-32 rounded-md"})]}),n.jsx(C,{className:"h-11 flex-1 max-w-md rounded-md"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-12"})]}),n.jsx(C,{className:"h-11 w-[140px] rounded-md"}),n.jsx(C,{className:"h-11 w-[140px] rounded-md"})]})]})}function JUe(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsx(C,{className:"h-6 w-40"})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Apartment","Vendor","Order No","Priority","ETA","Status","Tracking","Actions"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(8)].map((e,t)=>n.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-32"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-24 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-24 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-28 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"})]})})]},t))})]})})})]})}function eVe(){return n.jsxs("div",{className:"space-y-4",children:[n.jsx(XUe,{}),n.jsx(QUe,{}),n.jsx(ZUe,{}),n.jsx(JUe,{})]})}const tVe=()=>{const[e,t]=v.useState(""),[r,s]=v.useState("all"),[a,i]=v.useState("all"),[o,l]=v.useState(null),[c,d]=v.useState(!1),[u,f]=v.useState(!1),[m,h]=v.useState(!1),{deliveries:x,loading:p,error:g,refetch:j,updateStatus:y}=KUe({search:e||void 0,status:r!=="all"?r:void 0,priority:a!=="all"?a:void 0});YUe();const w=_=>({Confirmed:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400","In Transit":"bg-blue-500/10 text-blue-600 dark:text-blue-400",Delayed:"bg-orange-500/10 text-orange-600 dark:text-orange-400",Received:"bg-green-500/10 text-green-600 dark:text-green-400",Returned:"bg-red-500/10 text-red-600 dark:text-red-400"})[_]||"bg-muted text-muted-foreground",b=_=>({High:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",Medium:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/20",Low:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20"})[_]||"bg-muted text-muted-foreground",N=Object.entries(x.reduce((_,E)=>{const A=E.vendor_name||"Unknown";return _[A]=(_[A]||0)+1,_},{})).map(([_,E])=>({vendor:_.split(" ")[0],deliveries:E})),S=[{day:"Mon",deliveries:8},{day:"Tue",deliveries:12},{day:"Wed",deliveries:10},{day:"Thu",deliveries:15},{day:"Fri",deliveries:11},{day:"Sat",deliveries:5},{day:"Sun",deliveries:3}];return p?n.jsx(ct,{title:"Deliveries",children:n.jsx(eVe,{})}):n.jsx(ct,{title:"Deliveries",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(X,{className:"card-hover-effect",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Confirmed"}),n.jsx("p",{className:"text-2xl font-bold",children:x.filter(_=>_.status==="Confirmed").length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor accepted"})]}),n.jsx("div",{className:"p-2.5 rounded-xl bg-blue-500/10",children:n.jsx(wr,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),n.jsx(X,{className:"card-hover-effect",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"In Transit"}),n.jsx("p",{className:"text-2xl font-bold",children:x.filter(_=>_.status==="In Transit").length}),n.jsxs("p",{className:"text-sm text-success flex items-center gap-1",children:[n.jsx(li,{className:"h-4 w-4"}),"Active"]})]}),n.jsx("div",{className:"p-2.5 rounded-xl bg-yellow-500/10",children:n.jsx(_r,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})})]})})}),n.jsx(X,{className:"card-hover-effect",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Received"}),n.jsx("p",{className:"text-2xl font-bold",children:x.filter(_=>_.status==="Received").length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"})]}),n.jsx("div",{className:"p-2.5 rounded-xl bg-green-500/10",children:n.jsx(lr,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})})}),n.jsx(X,{className:"card-hover-effect",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Issues"}),n.jsx("p",{className:"text-2xl font-bold",children:x.filter(_=>_.status==="Delayed"||_.status==="Returned").length}),n.jsxs("p",{className:"text-sm text-orange-600 dark:text-orange-400 flex items-center gap-1",children:[n.jsx(dl,{className:"h-4 w-4"}),"Delayed/Returned"]})]}),n.jsx("div",{className:"p-2.5 rounded-xl bg-orange-500/10",children:n.jsx(dl,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(lt,{className:"h-5 w-5 text-primary"}),"Deliveries by Vendor"]})}),n.jsx(Q,{children:n.jsx(un,{width:"100%",height:200,children:n.jsxs(Sa,{data:N,children:[n.jsx(zn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(rn,{dataKey:"vendor",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(nn,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(hr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"}}),n.jsx(wn,{dataKey:"deliveries",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})})]}),n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(li,{className:"h-5 w-5 text-primary"}),"Weekly Delivery Trend"]})}),n.jsx(Q,{children:n.jsx(un,{width:"100%",height:200,children:n.jsxs(z2,{data:S,children:[n.jsx(zn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(rn,{dataKey:"day",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(nn,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(hr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"}}),n.jsx(ac,{type:"monotone",dataKey:"deliveries",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",r:4}})]})})})]})]}),n.jsxs(Ro,{defaultValue:"list",className:"w-full",children:[n.jsxs("div",{className:"flex flex-col gap-3 mb-3",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between",children:[n.jsxs(no,{children:[n.jsx(Ut,{value:"list",children:"List View"}),n.jsx(Ut,{value:"calendar",children:"Calendar View"})]}),n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(ha,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/70"}),n.jsx(me,{placeholder:"Search by apartment, vendor, order...",value:e,onChange:_=>t(_.target.value),className:"pl-10 h-11 bg-muted/30 border-border/50 focus:bg-background transition-colors"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($v,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Filters:"})]}),n.jsxs(st,{value:r,onValueChange:s,children:[n.jsx(rt,{className:"w-[140px] h-11 bg-muted/30 border-border/50",children:n.jsx(at,{placeholder:"Status"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"all",children:"All Status"}),n.jsx(J,{value:"Confirmed",children:"Confirmed"}),n.jsx(J,{value:"In Transit",children:"In Transit"}),n.jsx(J,{value:"Delayed",children:"Delayed"}),n.jsx(J,{value:"Received",children:"Received"}),n.jsx(J,{value:"Returned",children:"Returned"})]})]}),n.jsxs(st,{value:a,onValueChange:i,children:[n.jsx(rt,{className:"w-[140px] h-11 bg-muted/30 border-border/50",children:n.jsx(at,{placeholder:"Priority"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"all",children:"All Priority"}),n.jsx(J,{value:"High",children:"High"}),n.jsx(J,{value:"Medium",children:"Medium"}),n.jsx(J,{value:"Low",children:"Low"})]})]}),(r!=="all"||a!=="all")&&n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>{s("all"),i("all")},className:"h-11",children:"Clear Filters"})]})]}),n.jsx(Qt,{value:"list",className:"mt-0",children:n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"text-lg font-semibold",children:["All Deliveries (",x.length,")"]})}),n.jsx(Q,{children:g?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-destructive",children:g}),n.jsx(te,{variant:"outline",className:"mt-4",onClick:j,children:"Try Again"})]}):n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Bt,{children:[n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Apartment"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Vendor"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Order No"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Priority"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"ETA"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Status"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Tracking"}),n.jsx(Pe,{className:"text-right font-semibold text-foreground/90",children:"Actions"})]})}),n.jsx($s,{children:x.length===0?n.jsx(Bt,{children:n.jsx(Ne,{colSpan:9,className:"text-center py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"No deliveries found"})})}):x.map(_=>n.jsxs(Bt,{className:"hover:bg-muted/50",children:[n.jsx(Ne,{className:"font-medium",children:_.apartment_name}),n.jsx(Ne,{className:"text-muted-foreground",children:_.vendor_name}),n.jsx(Ne,{children:n.jsx(Ce,{variant:"outline",className:"font-mono",children:_.order_reference})}),n.jsx(Ne,{children:n.jsx(Ce,{variant:"outline",className:b(_.priority),children:_.priority})}),n.jsx(Ne,{className:"text-muted-foreground",children:_.expected_date}),n.jsx(Ne,{children:n.jsx(Ce,{variant:"outline",className:w(_.status),children:_.status})}),n.jsx(Ne,{children:_.tracking_number?n.jsx(Ce,{variant:"outline",className:"font-mono",children:_.tracking_number}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(Ne,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(te,{size:"sm",variant:"ghost",title:"View Details",onClick:()=>{l(_),d(!0)},children:n.jsx(oi,{className:"h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",title:"Track Delivery",onClick:()=>{l(_),h(!0)},children:n.jsx(jse,{className:"h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",title:"Update Status",onClick:()=>{l(_),f(!0)},children:n.jsx(lr,{className:"h-4 w-4"})})]})})]},_.id))})]})})})]})}),n.jsx(Qt,{value:"calendar",className:"mt-0",children:n.jsx(X,{children:n.jsxs(Q,{className:"p-6",children:[n.jsx("div",{className:"grid grid-cols-7 gap-3 mb-3",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(_=>n.jsx("div",{className:"text-center text-sm font-semibold text-muted-foreground py-2",children:_},_))}),n.jsx("div",{className:"grid grid-cols-7 gap-3",children:Array.from({length:35},(_,E)=>{const A=new Date,R=new Date(A.getFullYear(),A.getMonth(),1).getDay(),I=E-R+1,H=new Date(A.getFullYear(),A.getMonth(),I).toISOString().split("T")[0],F=x.filter(k=>k.expected_date===H);return E<R||I>new Date(A.getFullYear(),A.getMonth()+1,0).getDate()?n.jsx("div",{className:"aspect-square"},E):n.jsxs("div",{className:`aspect-square border rounded-lg p-2 hover:border-primary transition-colors ${F.length>0?"bg-primary/5 border-primary/20":"bg-muted/30"}`,children:[n.jsx("div",{className:"text-sm font-medium mb-1",children:I}),F.length>0&&n.jsxs("div",{className:"space-y-1",children:[F.slice(0,2).map(k=>{var P;return n.jsx("div",{className:`text-[10px] px-1 py-0.5 rounded truncate ${w(k.status)}`,children:(P=k.apartment_name)==null?void 0:P.split(" ")[0]},k.id)}),F.length>2&&n.jsxs("div",{className:"text-[10px] text-muted-foreground",children:["+",F.length-2]})]})]},E)})})]})})})]}),n.jsx(qUe,{open:c,onOpenChange:d,delivery:o}),o&&n.jsx(vQ,{open:u,onOpenChange:f,deliveryId:o.id,currentStatus:o.status,orderReference:o.order_reference,onStatusUpdated:()=>{j()}}),n.jsx(GUe,{open:m,onOpenChange:h,delivery:o})]})})},hs=cr.create({baseURL:ro,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});let Tj=!1,dP=[];const z$=(e=null)=>{dP.forEach(t=>{e?t.reject(e):t.resolve()}),dP=[]};hs.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));hs.interceptors.response.use(e=>e,async e=>{var r,s;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!(t!=null&&t._retry)){if((s=t==null?void 0:t.url)!=null&&s.includes("/refresh/"))return localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(e);if(Tj)return new Promise((i,o)=>{dP.push({resolve:i,reject:o})}).then(()=>hs(t));t._retry=!0,Tj=!0;const a=localStorage.getItem("refresh_token");if(!a)return Tj=!1,localStorage.removeItem("access_token"),window.location.href="/login",Promise.reject(e);try{const i=await cr.post(`${Kv}/refresh/`,{refresh:a}),{access:o}=i.data;return localStorage.setItem("access_token",o),t.headers&&(t.headers.Authorization=`Bearer ${o}`),z$(),hs(t)}catch(i){return z$(i),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(i)}finally{Tj=!1}}return Promise.reject(e)});const ks={getIssues:async(e={})=>{const t=new URLSearchParams;return e.search&&t.append("search",e.search),e.status&&t.append("status",e.status),e.priority&&t.append("priority",e.priority),e.apartment&&t.append("apartment",e.apartment),e.vendor&&t.append("vendor",e.vendor),e.product&&t.append("product",e.product),e.page&&t.append("page",e.page.toString()),e.page_size&&t.append("page_size",e.page_size.toString()),(await hs.get(`/issues/?${t.toString()}`)).data},getIssue:async e=>(await hs.get(`/issues/${e}/`)).data,createIssue:async e=>(await hs.post("/issues/",e)).data,updateIssue:async(e,t)=>(await hs.patch(`/issues/${e}/`,t)).data,deleteIssue:async e=>{await hs.delete(`/issues/${e}/`)},uploadPhoto:async(e,t)=>(await hs.post(`/issues/${e}/photos/`,{url:t})).data,activateAIEmail:async e=>await hs.post(`/issues/${e}/activate_ai_email/`),getEmailThread:async e=>await hs.get(`/issues/${e}/email_thread/`),generateAIReply:async(e,t)=>await hs.post(`/issues/${e}/generate_ai_reply/`,{vendor_message:t}),addVendorResponse:async(e,t)=>await hs.post(`/issues/${e}/add_vendor_response/`,t),analyzeVendorResponse:async(e,t)=>await hs.post(`/issues/${e}/analyze_vendor_response/`,{message:t}),getConversation:async e=>(await hs.get(`/issues/${e}/conversation/`)).data,getSummary:async e=>(await hs.get(`/issues/${e}/summary/`)).data,sendManualMessage:async(e,t)=>(await hs.post(`/issues/${e}/send_manual_message/`,t)).data,sendBulkEmail:async e=>(await hs.post("/issues/bulk-email/",e)).data};function wa(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var rVe=typeof Symbol=="function"&&Symbol.observable||"@@observable",W$=rVe,nC=()=>Math.random().toString(36).substring(7).split("").join("."),nVe={INIT:`@@redux/INIT${nC()}`,REPLACE:`@@redux/REPLACE${nC()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nC()}`},H$=nVe;function sVe(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function bQ(e,t,r){if(typeof e!="function")throw new Error(wa(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(wa(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(wa(1));return r(bQ)(e,t)}let s=e,a=t,i=new Map,o=i,l=0,c=!1;function d(){o===i&&(o=new Map,i.forEach((g,j)=>{o.set(j,g)}))}function u(){if(c)throw new Error(wa(3));return a}function f(g){if(typeof g!="function")throw new Error(wa(4));if(c)throw new Error(wa(5));let j=!0;d();const y=l++;return o.set(y,g),function(){if(j){if(c)throw new Error(wa(6));j=!1,d(),o.delete(y),i=null}}}function m(g){if(!sVe(g))throw new Error(wa(7));if(typeof g.type>"u")throw new Error(wa(8));if(typeof g.type!="string")throw new Error(wa(17));if(c)throw new Error(wa(9));try{c=!0,a=s(a,g)}finally{c=!1}return(i=o).forEach(y=>{y()}),g}function h(g){if(typeof g!="function")throw new Error(wa(10));s=g,m({type:H$.REPLACE})}function x(){const g=f;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(wa(11));function y(){const b=j;b.next&&b.next(u())}return y(),{unsubscribe:g(y)}},[W$](){return this}}}return m({type:H$.INIT}),{dispatch:m,subscribe:f,getState:u,replaceReducer:h,[W$]:x}}function q$(e,t){return function(...r){return t(e.apply(this,r))}}function G$(e,t){if(typeof e=="function")return q$(e,t);if(typeof e!="object"||e===null)throw new Error(wa(16));const r={};for(const s in e){const a=e[s];typeof a=="function"&&(r[s]=q$(a,t))}return r}function wQ(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...s)=>t(r(...s)))}function aVe(...e){return t=>(r,s)=>{const a=t(r,s);let i=()=>{throw new Error(wa(15))};const o={getState:a.getState,dispatch:(c,...d)=>i(c,...d)},l=e.map(c=>c(o));return i=wQ(...l)(a.dispatch),{...a,dispatch:i}}}var iVe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy=v;function oVe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lVe=typeof Object.is=="function"?Object.is:oVe,cVe=Sy.useSyncExternalStore,dVe=Sy.useRef,uVe=Sy.useEffect,fVe=Sy.useMemo,mVe=Sy.useDebugValue;iVe.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var i=dVe(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=fVe(function(){function c(h){if(!d){if(d=!0,u=h,h=s(h),a!==void 0&&o.hasValue){var x=o.value;if(a(x,h))return f=x}return f=h}if(x=f,lVe(u,h))return x;var p=s(h);return a!==void 0&&a(x,p)?(u=h,x):(u=h,f=p)}var d=!1,u,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,s,a]);var l=cVe(e,i[0],i[1]);return uVe(function(){o.hasValue=!0,o.value=l},[l]),mVe(l),l};var hVe=v.version.startsWith("19"),pVe=Symbol.for(hVe?"react.transitional.element":"react.element"),xVe=Symbol.for("react.portal"),gVe=Symbol.for("react.fragment"),vVe=Symbol.for("react.strict_mode"),yVe=Symbol.for("react.profiler"),jVe=Symbol.for("react.consumer"),bVe=Symbol.for("react.context"),NQ=Symbol.for("react.forward_ref"),wVe=Symbol.for("react.suspense"),NVe=Symbol.for("react.suspense_list"),_3=Symbol.for("react.memo"),_Ve=Symbol.for("react.lazy"),SVe=NQ,CVe=_3;function EVe(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case pVe:switch(e=e.type,e){case gVe:case yVe:case vVe:case wVe:case NVe:return e;default:switch(e=e&&e.$$typeof,e){case bVe:case NQ:case _Ve:case _3:return e;case jVe:return e;default:return t}}case xVe:return t}}}function AVe(e){return EVe(e)===_3}function PVe(e,t,r,s,{areStatesEqual:a,areOwnPropsEqual:i,areStatePropsEqual:o}){let l=!1,c,d,u,f,m;function h(y,w){return c=y,d=w,u=e(c,d),f=t(s,d),m=r(u,f,d),l=!0,m}function x(){return u=e(c,d),t.dependsOnOwnProps&&(f=t(s,d)),m=r(u,f,d),m}function p(){return e.dependsOnOwnProps&&(u=e(c,d)),t.dependsOnOwnProps&&(f=t(s,d)),m=r(u,f,d),m}function g(){const y=e(c,d),w=!o(y,u);return u=y,w&&(m=r(u,f,d)),m}function j(y,w){const b=!i(w,d),N=!a(y,c,w,d);return c=y,d=w,b&&N?x():b?p():N?g():m}return function(w,b){return l?j(w,b):h(w,b)}}function kVe(e,{initMapStateToProps:t,initMapDispatchToProps:r,initMergeProps:s,...a}){const i=t(e,a),o=r(e,a),l=s(e,a);return PVe(i,o,l,e,a)}function TVe(e,t){const r={};for(const s in e){const a=e[s];typeof a=="function"&&(r[s]=(...i)=>t(a(...i)))}return r}function uP(e){return function(r){const s=e(r);function a(){return s}return a.dependsOnOwnProps=!1,a}}function K$(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function _Q(e,t){return function(s,{displayName:a}){const i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=K$(e);let d=i(l,c);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=K$(d),d=i(l,c)),d},i}}function S3(e,t){return(r,s)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${s.wrappedComponentName}.`)}}function OVe(e){return e&&typeof e=="object"?uP(t=>TVe(e,t)):e?typeof e=="function"?_Q(e):S3(e,"mapDispatchToProps"):uP(t=>({dispatch:t}))}function DVe(e){return e?typeof e=="function"?_Q(e):S3(e,"mapStateToProps"):uP(()=>({}))}function IVe(e,t,r){return{...r,...e,...t}}function RVe(e){return function(r,{displayName:s,areMergedPropsEqual:a}){let i=!1,o;return function(c,d,u){const f=e(c,d,u);return i?a(f,o)||(o=f):(i=!0,o=f),o}}}function MVe(e){return e?typeof e=="function"?RVe(e):S3(e,"mergeProps"):()=>IVe}function FVe(e){e()}function $Ve(){let e=null,t=null;return{clear(){e=null,t=null},notify(){FVe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!s||e===null||(s=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var Y$={notify(){},get:()=>[]};function SQ(e,t){let r,s=Y$,a=0,i=!1;function o(p){u();const g=s.subscribe(p);let j=!1;return()=>{j||(j=!0,g(),f())}}function l(){s.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return i}function u(){a++,r||(r=t?t.addNestedSub(c):e.subscribe(c),s=$Ve())}function f(){a--,r&&a===0&&(r(),r=void 0,s.clear(),s=Y$)}function m(){i||(i=!0,u())}function h(){i&&(i=!1,f())}const x={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>s};return x}var LVe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BVe=LVe(),UVe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",VVe=UVe(),zVe=()=>BVe||VVe?v.useLayoutEffect:v.useEffect,Pw=zVe();function X$(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function sC(e,t){if(X$(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!X$(e[r[a]],t[r[a]]))return!1;return!0}var WVe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},HVe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},qVe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},CQ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},GVe={[SVe]:qVe,[CVe]:CQ};function Q$(e){return AVe(e)?CQ:GVe[e.$$typeof]||WVe}var KVe=Object.defineProperty,YVe=Object.getOwnPropertyNames,Z$=Object.getOwnPropertySymbols,XVe=Object.getOwnPropertyDescriptor,QVe=Object.getPrototypeOf,J$=Object.prototype;function fP(e,t){if(typeof t!="string"){if(J$){const i=QVe(t);i&&i!==J$&&fP(e,i)}let r=YVe(t);Z$&&(r=r.concat(Z$(t)));const s=Q$(e),a=Q$(t);for(let i=0;i<r.length;++i){const o=r[i];if(!HVe[o]&&!(a&&a[o])&&!(s&&s[o])){const l=XVe(t,o);try{KVe(e,o,l)}catch{}}}}return e}var aC=Symbol.for("react-redux-context"),iC=typeof globalThis<"u"?globalThis:{};function ZVe(){if(!v.createContext)return{};const e=iC[aC]??(iC[aC]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var EQ=ZVe(),JVe=[null,null];function eze(e,t,r){Pw(()=>e(...t),r)}function tze(e,t,r,s,a,i){e.current=s,r.current=!1,a.current&&(a.current=null,i())}function rze(e,t,r,s,a,i,o,l,c,d,u){if(!e)return()=>{};let f=!1,m=null;const h=()=>{if(f||!l.current)return;const p=t.getState();let g,j;try{g=s(p,a.current)}catch(y){j=y,m=y}j||(m=null),g===i.current?o.current||d():(i.current=g,c.current=g,o.current=!0,u())};return r.onStateChange=h,r.trySubscribe(),h(),()=>{if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,m)throw m}}function nze(e,t){return e===t}function sze(e,t,r,{pure:s,areStatesEqual:a=nze,areOwnPropsEqual:i=sC,areStatePropsEqual:o=sC,areMergedPropsEqual:l=sC,forwardRef:c=!1,context:d=EQ}={}){const u=d,f=DVe(e),m=OVe(t),h=MVe(r),x=!!e;return g=>{const j=g.displayName||g.name||"Component",y=`Connect(${j})`,w={shouldHandleStateChanges:x,displayName:y,wrappedComponentName:j,WrappedComponent:g,initMapStateToProps:f,initMapDispatchToProps:m,initMergeProps:h,areStatesEqual:a,areStatePropsEqual:o,areOwnPropsEqual:i,areMergedPropsEqual:l};function b(_){const[E,A,T]=v.useMemo(()=>{const{reactReduxForwardedRef:ue,...ge}=_;return[_.context,ue,ge]},[_]),R=v.useMemo(()=>{let ue=u;return E!=null&&E.Consumer,ue},[E,u]),I=v.useContext(R),z=!!_.store&&!!_.store.getState&&!!_.store.dispatch,H=!!I&&!!I.store,F=z?_.store:I.store,k=H?I.getServerState:F.getState,P=v.useMemo(()=>kVe(F.dispatch,w),[F]),[M,O]=v.useMemo(()=>{if(!x)return JVe;const ue=SQ(F,z?void 0:I.subscription),ge=ue.notifyNestedSubs.bind(ue);return[ue,ge]},[F,z,I]),K=v.useMemo(()=>z?I:{...I,subscription:M},[z,I,M]),ne=v.useRef(void 0),D=v.useRef(T),U=v.useRef(void 0),L=v.useRef(!1),G=v.useRef(!1),le=v.useRef(void 0);Pw(()=>(G.current=!0,()=>{G.current=!1}),[]);const fe=v.useMemo(()=>()=>U.current&&T===D.current?U.current:P(F.getState(),T),[F,T]),B=v.useMemo(()=>ge=>M?rze(x,F,M,P,D,ne,L,G,U,O,ge):()=>{},[M]);eze(tze,[D,ne,L,T,U,O]);let Y;try{Y=v.useSyncExternalStore(B,fe,k?()=>P(k(),T):fe)}catch(ue){throw le.current&&(ue.message+=`
The error may be correlated with this previous error:
${le.current.stack}

`),ue}Pw(()=>{le.current=void 0,U.current=void 0,ne.current=Y});const ie=v.useMemo(()=>v.createElement(g,{...Y,ref:A}),[A,g,Y]);return v.useMemo(()=>x?v.createElement(R.Provider,{value:K},ie):ie,[R,ie,K])}const S=v.memo(b);if(S.WrappedComponent=g,S.displayName=b.displayName=y,c){const E=v.forwardRef(function(T,R){return v.createElement(S,{...T,reactReduxForwardedRef:R})});return E.displayName=y,E.WrappedComponent=g,fP(E,g)}return fP(S,g)}}var AQ=sze;function aze(e){const{children:t,context:r,serverState:s,store:a}=e,i=v.useMemo(()=>{const c=SQ(a);return{store:a,subscription:c,getServerState:s?()=>s:void 0}},[a,s]),o=v.useMemo(()=>a.getState(),[a]);Pw(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||EQ;return v.createElement(l.Provider,{value:i},t)}var ize=aze,tl=function(t){var r=t.top,s=t.right,a=t.bottom,i=t.left,o=s-i,l=a-r,c={top:r,right:s,bottom:a,left:i,width:o,height:l,x:i,y:r,center:{x:(s+i)/2,y:(a+r)/2}};return c},C3=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},eL=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},oze=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},oC={top:0,right:0,bottom:0,left:0},E3=function(t){var r=t.borderBox,s=t.margin,a=s===void 0?oC:s,i=t.border,o=i===void 0?oC:i,l=t.padding,c=l===void 0?oC:l,d=tl(C3(r,a)),u=tl(eL(r,o)),f=tl(eL(u,c));return{marginBox:d,borderBox:tl(r),paddingBox:u,contentBox:f,margin:a,border:o,padding:c}},oo=function(t){var r=t.slice(0,-2),s=t.slice(-2);if(s!=="px")return 0;var a=Number(r);return isNaN(a)&&Su(),a},lze=function(){return{x:window.pageXOffset,y:window.pageYOffset}},kw=function(t,r){var s=t.borderBox,a=t.border,i=t.margin,o=t.padding,l=oze(s,r);return E3({borderBox:l,border:a,margin:i,padding:o})},Tw=function(t,r){return r===void 0&&(r=lze()),kw(t,r)},PQ=function(t,r){var s={top:oo(r.marginTop),right:oo(r.marginRight),bottom:oo(r.marginBottom),left:oo(r.marginLeft)},a={top:oo(r.paddingTop),right:oo(r.paddingRight),bottom:oo(r.paddingBottom),left:oo(r.paddingLeft)},i={top:oo(r.borderTopWidth),right:oo(r.borderRightWidth),bottom:oo(r.borderBottomWidth),left:oo(r.borderLeftWidth)};return E3({borderBox:t,margin:s,padding:a,border:i})},kQ=function(t){var r=t.getBoundingClientRect(),s=window.getComputedStyle(t);return PQ(r,s)},fv=function(t){var r=[],s=null,a=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];r=l,!s&&(s=requestAnimationFrame(function(){s=null,t.apply(void 0,r)}))};return a.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},a};function TQ(e,t){}TQ.bind(null,"warn");TQ.bind(null,"error");function fu(){}function cze(e,t){return{...e,...t}}function bo(e,t,r){const s=t.map(a=>{const i=cze(r,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){s.forEach(i=>{i()})}}const dze="Invariant failed";class Ow extends Error{}Ow.prototype.toString=function(){return this.message};function tt(e,t){throw new Ow(dze)}class uze extends V.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=fu,this.onWindowError=r=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),r.error instanceof Ow&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=bo(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Ow){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const fze=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Dw=e=>e+1,mze=e=>`
  You have lifted an item in position ${Dw(e.source.index)}
`,OQ=(e,t)=>{const r=e.droppableId===t.droppableId,s=Dw(e.index),a=Dw(t.index);return r?`
      You have moved the item from position ${s}
      to position ${a}
    `:`
    You have moved the item from position ${s}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${a}
  `},DQ=(e,t,r)=>t.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,hze=e=>{const t=e.destination;if(t)return OQ(e.source,t);const r=e.combine;return r?DQ(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},tL=e=>`
  The item has returned to its starting position
  of ${Dw(e.index)}
`,pze=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${tL(e.source)}
    `;const t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      ${OQ(e.source,t)}
    `:r?`
      You have dropped the item.
      ${DQ(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${tL(e.source)}
  `},pb={dragHandleUsageInstructions:fze,onDragStart:mze,onDragUpdate:hze,onDragEnd:pze};function xze(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function IQ(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!xze(e[r],t[r]))return!1;return!0}function ur(e,t){const r=v.useState(()=>({inputs:t,result:e()}))[0],s=v.useRef(!0),a=v.useRef(r),o=s.current||!!(t&&a.current.inputs&&IQ(t,a.current.inputs))?a.current:{inputs:t,result:e()};return v.useEffect(()=>{s.current=!1,a.current=o},[o]),o.result}function St(e,t){return ur(()=>e,t)}const Ls={x:0,y:0},Xs=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),$i=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),mu=(e,t)=>e.x===t.x&&e.y===t.y,px=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),am=(e,t,r=0)=>e==="x"?{x:t,y:r}:{x:r,y:t},mv=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),rL=(e,t)=>Math.min(...t.map(r=>mv(e,r))),RQ=e=>t=>({x:e(t.x),y:e(t.y)});var gze=(e,t)=>{const r=tl({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r};const Cy=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),nL=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],vze={top:0,right:0,bottom:0,left:0},yze=(e,t)=>t?Cy(e,t.scroll.diff.displacement):e,jze=(e,t,r)=>r&&r.increasedBy?{...e,[t.end]:e[t.end]+r.increasedBy[t.line]}:e,bze=(e,t)=>t&&t.shouldClipSubject?gze(t.pageMarginBox,e):tl(e);var Ip=({page:e,withPlaceholder:t,axis:r,frame:s})=>{const a=yze(e.marginBox,s),i=jze(a,r,t),o=bze(i,s);return{page:e,withPlaceholder:t,active:o}},A3=(e,t)=>{e.frame||tt();const r=e.frame,s=$i(t,r.scroll.initial),a=px(s),i={...r,scroll:{initial:r.scroll.initial,current:t,diff:{value:s,displacement:a},max:r.scroll.max}},o=Ip({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:o}};function Rs(e,t=IQ){let r=null;function s(...a){if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;const i=e.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return s.clear=function(){r=null},s}const MQ=Rs(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),FQ=Rs(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),Q2=Rs(e=>Object.values(e)),wze=Rs(e=>Object.values(e));var xx=Rs((e,t)=>wze(t).filter(s=>e===s.descriptor.droppableId).sort((s,a)=>s.descriptor.index-a.descriptor.index));function P3(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Z2(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var J2=Rs((e,t)=>t.filter(r=>r.descriptor.id!==e.descriptor.id)),Nze=({isMovingForward:e,draggable:t,destination:r,insideDestination:s,previousImpact:a})=>{if(!r.isCombineEnabled||!P3(a))return null;function o(h){const x={type:"COMBINE",combine:{draggableId:h,droppableId:r.descriptor.id}};return{...a,at:x}}const l=a.displaced.all,c=l.length?l[0]:null;if(e)return c?o(c):null;const d=J2(t,s);if(!c){if(!d.length)return null;const h=d[d.length-1];return o(h.descriptor.id)}const u=d.findIndex(h=>h.descriptor.id===c);u===-1&&tt();const f=u-1;if(f<0)return null;const m=d[f];return o(m.descriptor.id)},gx=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const $Q={point:Ls,value:0},hv={invisible:{},visible:{},all:[]},_ze={displaced:hv,displacedBy:$Q,at:null};var So=(e,t)=>r=>e<=r&&r<=t,LQ=e=>{const t=So(e.top,e.bottom),r=So(e.left,e.right);return s=>{if(t(s.top)&&t(s.bottom)&&r(s.left)&&r(s.right))return!0;const i=t(s.top)||t(s.bottom),o=r(s.left)||r(s.right);if(i&&o)return!0;const c=s.top<e.top&&s.bottom>e.bottom,d=s.left<e.left&&s.right>e.right;return c&&d?!0:c&&o||d&&i}},Sze=e=>{const t=So(e.top,e.bottom),r=So(e.left,e.right);return s=>t(s.top)&&t(s.bottom)&&r(s.left)&&r(s.right)};const k3={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},BQ={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var Cze=e=>t=>{const r=So(t.top,t.bottom),s=So(t.left,t.right);return a=>e===k3?r(a.top)&&r(a.bottom):s(a.left)&&s(a.right)};const Eze=(e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:Ls;return Cy(e,r)},Aze=(e,t,r)=>t.subject.active?r(t.subject.active)(e):!1,Pze=(e,t,r)=>r(t)(e),T3=({target:e,destination:t,viewport:r,withDroppableDisplacement:s,isVisibleThroughFrameFn:a})=>{const i=s?Eze(e,t):e;return Aze(i,t,a)&&Pze(i,r,a)},kze=e=>T3({...e,isVisibleThroughFrameFn:LQ}),UQ=e=>T3({...e,isVisibleThroughFrameFn:Sze}),Tze=e=>T3({...e,isVisibleThroughFrameFn:Cze(e.destination.axis)}),Oze=(e,t,r)=>{if(typeof r=="boolean")return r;if(!t)return!0;const{invisible:s,visible:a}=t;if(s[e])return!1;const i=a[e];return i?i.shouldAnimate:!0};function Dze(e,t){const r=e.page.marginBox,s={top:t.point.y,right:0,bottom:0,left:t.point.x};return tl(C3(r,s))}function pv({afterDragging:e,destination:t,displacedBy:r,viewport:s,forceShouldAnimate:a,last:i}){return e.reduce(function(l,c){const d=Dze(c,r),u=c.descriptor.id;if(l.all.push(u),!kze({target:d,destination:t,viewport:s,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const m=Oze(u,i,a),h={draggableId:u,shouldAnimate:m};return l.visible[u]=h,l},{all:[],visible:{},invisible:{}})}function Ize(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function sL({insideDestination:e,inHomeList:t,displacedBy:r,destination:s}){const a=Ize(e,{inHomeList:t});return{displaced:hv,displacedBy:r,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:a}}}}function Iw({draggable:e,insideDestination:t,destination:r,viewport:s,displacedBy:a,last:i,index:o,forceShouldAnimate:l}){const c=gx(e,r);if(o==null)return sL({insideDestination:t,inHomeList:c,displacedBy:a,destination:r});const d=t.find(x=>x.descriptor.index===o);if(!d)return sL({insideDestination:t,inHomeList:c,displacedBy:a,destination:r});const u=J2(e,t),f=t.indexOf(d),m=u.slice(f);return{displaced:pv({afterDragging:m,destination:r,displacedBy:a,last:i,viewport:s.frame,forceShouldAnimate:l}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function Cu(e,t){return!!t.effected[e]}var Rze=({isMovingForward:e,destination:t,draggables:r,combine:s,afterCritical:a})=>{if(!t.isCombineEnabled)return null;const i=s.draggableId,l=r[i].descriptor.index;return Cu(i,a)?e?l:l-1:e?l+1:l},Mze=({isMovingForward:e,isInHomeList:t,insideDestination:r,location:s})=>{if(!r.length)return null;const a=s.index,i=e?a+1:a-1,o=r[0].descriptor.index,l=r[r.length-1].descriptor.index,c=t?l:l+1;return i<o||i>c?null:i},Fze=({isMovingForward:e,isInHomeList:t,draggable:r,draggables:s,destination:a,insideDestination:i,previousImpact:o,viewport:l,afterCritical:c})=>{const d=o.at;if(d||tt(),d.type==="REORDER"){const f=Mze({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:i});return f==null?null:Iw({draggable:r,insideDestination:i,destination:a,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:f})}const u=Rze({isMovingForward:e,destination:a,displaced:o.displaced,draggables:s,combine:d.combine,afterCritical:c});return u==null?null:Iw({draggable:r,insideDestination:i,destination:a,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:u})},$ze=({displaced:e,afterCritical:t,combineWith:r,displacedBy:s})=>{const a=!!(e.visible[r]||e.invisible[r]);return Cu(r,t)?a?Ls:px(s.point):a?s.point:Ls},Lze=({afterCritical:e,impact:t,draggables:r})=>{const s=Z2(t);s||tt();const a=s.draggableId,i=r[a].page.borderBox.center,o=$ze({displaced:t.displaced,afterCritical:e,combineWith:a,displacedBy:t.displacedBy});return Xs(i,o)};const VQ=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Bze=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,O3=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,aL=({axis:e,moveRelativeTo:t,isMoving:r})=>am(e.line,t.marginBox[e.end]+VQ(e,r),O3(e,t.marginBox,r)),iL=({axis:e,moveRelativeTo:t,isMoving:r})=>am(e.line,t.marginBox[e.start]-Bze(e,r),O3(e,t.marginBox,r)),Uze=({axis:e,moveInto:t,isMoving:r})=>am(e.line,t.contentBox[e.start]+VQ(e,r),O3(e,t.contentBox,r));var Vze=({impact:e,draggable:t,draggables:r,droppable:s,afterCritical:a})=>{const i=xx(s.descriptor.id,r),o=t.page,l=s.axis;if(!i.length)return Uze({axis:l,moveInto:s.page,isMoving:o});const{displaced:c,displacedBy:d}=e,u=c.all[0];if(u){const m=r[u];if(Cu(u,a))return iL({axis:l,moveRelativeTo:m.page,isMoving:o});const h=kw(m.page,d.point);return iL({axis:l,moveRelativeTo:h,isMoving:o})}const f=i[i.length-1];if(f.descriptor.id===t.descriptor.id)return o.borderBox.center;if(Cu(f.descriptor.id,a)){const m=kw(f.page,px(a.displacedBy.point));return aL({axis:l,moveRelativeTo:m,isMoving:o})}return aL({axis:l,moveRelativeTo:f.page,isMoving:o})},mP=(e,t)=>{const r=e.frame;return r?Xs(t,r.scroll.diff.displacement):t};const zze=({impact:e,draggable:t,droppable:r,draggables:s,afterCritical:a})=>{const i=t.page.borderBox.center,o=e.at;return!r||!o?i:o.type==="REORDER"?Vze({impact:e,draggable:t,draggables:s,droppable:r,afterCritical:a}):Lze({impact:e,draggables:s,afterCritical:a})};var e_=e=>{const t=zze(e),r=e.droppable;return r?mP(r,t):t},zQ=(e,t)=>{const r=$i(t,e.scroll.initial),s=px(r);return{frame:tl({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:s}}}};function oL(e,t){return e.map(r=>t[r])}function Wze(e,t){for(let r=0;r<t.length;r++){const s=t[r].visible[e];if(s)return s}return null}var Hze=({impact:e,viewport:t,destination:r,draggables:s,maxScrollChange:a})=>{const i=zQ(t,Xs(t.scroll.current,a)),o=r.frame?A3(r,Xs(r.frame.scroll.current,a)):r,l=e.displaced,c=pv({afterDragging:oL(l.all,s),destination:r,displacedBy:e.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),d=pv({afterDragging:oL(l.all,s),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),u={},f={},m=[l,c,d];return l.all.forEach(x=>{const p=Wze(x,m);if(p){f[x]=p;return}u[x]=!0}),{...e,displaced:{all:l.all,invisible:u,visible:f}}},qze=(e,t)=>Xs(e.scroll.diff.displacement,t),D3=({pageBorderBoxCenter:e,draggable:t,viewport:r})=>{const s=qze(r,e),a=$i(s,t.page.borderBox.center);return Xs(t.client.borderBox.center,a)},WQ=({draggable:e,destination:t,newPageBorderBoxCenter:r,viewport:s,withDroppableDisplacement:a,onlyOnMainAxis:i=!1})=>{const o=$i(r,e.page.borderBox.center),c={target:Cy(e.page.borderBox,o),destination:t,withDroppableDisplacement:a,viewport:s};return i?Tze(c):UQ(c)},Gze=({isMovingForward:e,draggable:t,destination:r,draggables:s,previousImpact:a,viewport:i,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:c})=>{if(!r.isEnabled)return null;const d=xx(r.descriptor.id,s),u=gx(t,r),f=Nze({isMovingForward:e,draggable:t,destination:r,insideDestination:d,previousImpact:a})||Fze({isMovingForward:e,isInHomeList:u,draggable:t,draggables:s,destination:r,insideDestination:d,previousImpact:a,viewport:i,afterCritical:c});if(!f)return null;const m=e_({impact:f,draggable:t,droppable:r,draggables:s,afterCritical:c});if(WQ({draggable:t,destination:r,newPageBorderBoxCenter:m,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:D3({pageBorderBoxCenter:m,draggable:t,viewport:i}),impact:f,scrollJumpRequest:null};const x=$i(m,o),p=Hze({impact:f,viewport:i,destination:r,draggables:s,maxScrollChange:x});return{clientSelection:l,impact:p,scrollJumpRequest:x}};const ba=e=>{const t=e.subject.active;return t||tt(),t};var Kze=({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:s,viewport:a})=>{const i=r.subject.active;if(!i)return null;const o=r.axis,l=So(i[o.start],i[o.end]),c=Q2(s).filter(u=>u!==r).filter(u=>u.isEnabled).filter(u=>!!u.subject.active).filter(u=>LQ(a.frame)(ba(u))).filter(u=>{const f=ba(u);return e?i[o.crossAxisEnd]<f[o.crossAxisEnd]:f[o.crossAxisStart]<i[o.crossAxisStart]}).filter(u=>{const f=ba(u),m=So(f[o.start],f[o.end]);return l(f[o.start])||l(f[o.end])||m(i[o.start])||m(i[o.end])}).sort((u,f)=>{const m=ba(u)[o.crossAxisStart],h=ba(f)[o.crossAxisStart];return e?m-h:h-m}).filter((u,f,m)=>ba(u)[o.crossAxisStart]===ba(m[0])[o.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(u=>So(ba(u)[o.start],ba(u)[o.end])(t[o.line]));return d.length===1?d[0]:d.length>1?d.sort((u,f)=>ba(u)[o.start]-ba(f)[o.start])[0]:c.sort((u,f)=>{const m=rL(t,nL(ba(u))),h=rL(t,nL(ba(f)));return m!==h?m-h:ba(u)[o.start]-ba(f)[o.start]})[0]};const lL=(e,t)=>{const r=e.page.borderBox.center;return Cu(e.descriptor.id,t)?$i(r,t.displacedBy.point):r},Yze=(e,t)=>{const r=e.page.borderBox;return Cu(e.descriptor.id,t)?Cy(r,px(t.displacedBy.point)):r};var Xze=({pageBorderBoxCenter:e,viewport:t,destination:r,insideDestination:s,afterCritical:a})=>s.filter(o=>UQ({target:Yze(o,a),destination:r,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const c=mv(e,mP(r,lL(o,a))),d=mv(e,mP(r,lL(l,a)));return c<d?-1:d<c?1:o.descriptor.index-l.descriptor.index})[0]||null,Ey=Rs(function(t,r){const s=r[t.line];return{value:s,point:am(t.line,s)}});const Qze=(e,t,r)=>{const s=e.axis;if(e.descriptor.mode==="virtual")return am(s.line,t[s.line]);const a=e.subject.page.contentBox[s.size],c=xx(e.descriptor.id,r).reduce((d,u)=>d+u.client.marginBox[s.size],0)+t[s.line]-a;return c<=0?null:am(s.line,c)},HQ=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),qQ=(e,t,r)=>{const s=e.frame;gx(t,e)&&tt(),e.subject.withPlaceholder&&tt();const a=Ey(e.axis,t.displaceBy).point,i=Qze(e,a,r),o={placeholderSize:a,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!s){const u=Ip({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:u}}const l=i?Xs(s.scroll.max,i):s.scroll.max,c=HQ(s,l),d=Ip({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:c});return{...e,subject:d,frame:c}},Zze=e=>{const t=e.subject.withPlaceholder;t||tt();const r=e.frame;if(!r){const o=Ip({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const s=t.oldFrameMaxScroll;s||tt();const a=HQ(r,s),i=Ip({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return{...e,subject:i,frame:a}};var Jze=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:r,draggable:s,draggables:a,destination:i,viewport:o,afterCritical:l})=>{if(!t){if(r.length)return null;const f={displaced:hv,displacedBy:$Q,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},m=e_({impact:f,draggable:s,droppable:i,draggables:a,afterCritical:l}),h=gx(s,i)?i:qQ(i,s,a);return WQ({draggable:s,destination:h,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const c=e[i.axis.line]<=t.page.borderBox.center[i.axis.line],d=(()=>{const f=t.descriptor.index;return t.descriptor.id===s.descriptor.id||c?f:f+1})(),u=Ey(i.axis,s.displaceBy);return Iw({draggable:s,insideDestination:r,destination:i,viewport:o,displacedBy:u,last:hv,index:d})},eWe=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:r,isOver:s,draggables:a,droppables:i,viewport:o,afterCritical:l})=>{const c=Kze({isMovingForward:e,pageBorderBoxCenter:t,source:s,droppables:i,viewport:o});if(!c)return null;const d=xx(c.descriptor.id,a),u=Xze({pageBorderBoxCenter:t,viewport:o,destination:c,insideDestination:d,afterCritical:l}),f=Jze({previousPageBorderBoxCenter:t,destination:c,draggable:r,draggables:a,moveRelativeTo:u,insideDestination:d,viewport:o,afterCritical:l});if(!f)return null;const m=e_({impact:f,draggable:r,droppable:c,draggables:a,afterCritical:l});return{clientSelection:D3({pageBorderBoxCenter:m,draggable:r,viewport:o}),impact:f,scrollJumpRequest:null}},Wi=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const tWe=(e,t)=>{const r=Wi(e);return r?t[r]:null};var rWe=({state:e,type:t})=>{const r=tWe(e.impact,e.dimensions.droppables),s=!!r,a=e.dimensions.droppables[e.critical.droppable.id],i=r||a,o=i.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!s)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],u=e.current.page.borderBoxCenter,{draggables:f,droppables:m}=e.dimensions;return l?Gze({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,destination:i,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):eWe({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,isOver:i,draggables:f,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function nf(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function GQ(e){const t=So(e.top,e.bottom),r=So(e.left,e.right);return function(a){return t(a.y)&&r(a.x)}}function nWe(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function sWe({pageBorderBox:e,draggable:t,candidates:r}){const s=t.page.borderBox.center,a=r.map(i=>{const o=i.axis,l=am(i.axis.line,e.center[o.line],i.page.borderBox.center[o.crossAxisLine]);return{id:i.descriptor.id,distance:mv(s,l)}}).sort((i,o)=>o.distance-i.distance);return a[0]?a[0].id:null}function aWe({pageBorderBox:e,draggable:t,droppables:r}){const s=Q2(r).filter(a=>{if(!a.isEnabled)return!1;const i=a.subject.active;if(!i||!nWe(e,i))return!1;if(GQ(i)(e.center))return!0;const o=a.axis,l=i.center[o.crossAxisLine],c=e[o.crossAxisStart],d=e[o.crossAxisEnd],u=So(i[o.crossAxisStart],i[o.crossAxisEnd]),f=u(c),m=u(d);return!f&&!m?!0:f?c<l:d>l});return s.length?s.length===1?s[0].descriptor.id:sWe({pageBorderBox:e,draggable:t,candidates:s}):null}const KQ=(e,t)=>tl(Cy(e,t));var iWe=(e,t)=>{const r=e.frame;return r?KQ(t,r.scroll.diff.value):t};function YQ({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function oWe({draggable:e,closest:t,inHomeList:r}){return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var lWe=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:r,insideDestination:s,last:a,viewport:i,afterCritical:o})=>{const l=r.axis,c=Ey(r.axis,t.displaceBy),d=c.value,u=e[l.start],f=e[l.end],h=J2(t,s).find(p=>{const g=p.descriptor.id,j=p.page.borderBox.center[l.line],y=Cu(g,o),w=YQ({displaced:a,id:g});return y?w?f<=j:u<j-d:w?f<=j+d:u<j})||null,x=oWe({draggable:t,closest:h,inHomeList:gx(t,r)});return Iw({draggable:t,insideDestination:s,destination:r,viewport:i,last:a,displacedBy:c,index:x})};const cWe=4;var dWe=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:r,destination:s,insideDestination:a,afterCritical:i})=>{if(!s.isCombineEnabled)return null;const o=s.axis,l=Ey(s.axis,e.displaceBy),c=l.value,d=t[o.start],u=t[o.end],m=J2(e,a).find(x=>{const p=x.descriptor.id,g=x.page.borderBox,y=g[o.size]/cWe,w=Cu(p,i),b=YQ({displaced:r.displaced,id:p});return w?b?u>g[o.start]+y&&u<g[o.end]-y:d>g[o.start]-c+y&&d<g[o.end]-c-y:b?u>g[o.start]+c+y&&u<g[o.end]+c-y:d>g[o.start]+y&&d<g[o.end]-y});return m?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:s.descriptor.id}}}:null},XQ=({pageOffset:e,draggable:t,draggables:r,droppables:s,previousImpact:a,viewport:i,afterCritical:o})=>{const l=KQ(t.page.borderBox,e),c=aWe({pageBorderBox:l,draggable:t,droppables:s});if(!c)return _ze;const d=s[c],u=xx(d.descriptor.id,r),f=iWe(d,l);return dWe({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:a,destination:d,insideDestination:u,afterCritical:o})||lWe({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:d,insideDestination:u,last:a.displaced,viewport:i,afterCritical:o})},I3=(e,t)=>({...e,[t.descriptor.id]:t});const uWe=({previousImpact:e,impact:t,droppables:r})=>{const s=Wi(e),a=Wi(t);if(!s||s===a)return r;const i=r[s];if(!i.subject.withPlaceholder)return r;const o=Zze(i);return I3(r,o)};var fWe=({draggable:e,draggables:t,droppables:r,previousImpact:s,impact:a})=>{const i=uWe({previousImpact:s,impact:a,droppables:r}),o=Wi(a);if(!o)return i;const l=r[o];if(gx(e,l)||l.subject.withPlaceholder)return i;const c=qQ(l,e,t);return I3(i,c)},Bg=({state:e,clientSelection:t,dimensions:r,viewport:s,impact:a,scrollJumpRequest:i})=>{const o=s||e.viewport,l=r||e.dimensions,c=t||e.current.client.selection,d=$i(c,e.initial.client.selection),u={offset:d,selection:c,borderBoxCenter:Xs(e.initial.client.borderBoxCenter,d)},f={selection:Xs(u.selection,o.scroll.current),borderBoxCenter:Xs(u.borderBoxCenter,o.scroll.current),offset:Xs(u.offset,o.scroll.diff.value)},m={client:u,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:m};const h=l.draggables[e.critical.draggable.id],x=a||XQ({pageOffset:f.offset,draggable:h,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),p=fWe({draggable:h,impact:x,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:m,dimensions:{draggables:l.draggables,droppables:p},impact:x,viewport:o,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function mWe(e,t){return e.map(r=>t[r])}var QQ=({impact:e,viewport:t,draggables:r,destination:s,forceShouldAnimate:a})=>{const i=e.displaced,o=mWe(i.all,r),l=pv({afterDragging:o,destination:s,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:a,last:i});return{...e,displaced:l}},ZQ=({impact:e,draggable:t,droppable:r,draggables:s,viewport:a,afterCritical:i})=>{const o=e_({impact:e,draggable:t,draggables:s,droppable:r,afterCritical:i});return D3({pageBorderBoxCenter:o,draggable:t,viewport:a})},JQ=({state:e,dimensions:t,viewport:r})=>{e.movementMode!=="SNAP"&&tt();const s=e.impact,a=r||e.viewport,i=t||e.dimensions,{draggables:o,droppables:l}=i,c=o[e.critical.draggable.id],d=Wi(s);d||tt();const u=l[d],f=QQ({impact:s,viewport:a,destination:u,draggables:o}),m=ZQ({impact:f,draggable:c,droppable:u,draggables:o,viewport:a,afterCritical:e.afterCritical});return Bg({impact:f,clientSelection:m,state:e,dimensions:i,viewport:a})},hWe=e=>({index:e.index,droppableId:e.droppableId}),eZ=({draggable:e,home:t,draggables:r,viewport:s})=>{const a=Ey(t.axis,e.displaceBy),i=xx(t.descriptor.id,r),o=i.indexOf(e);o===-1&&tt();const l=i.slice(o+1),c=l.reduce((m,h)=>(m[h.descriptor.id]=!0,m),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:a,effected:c};return{impact:{displaced:pv({afterDragging:l,destination:t,displacedBy:a,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:hWe(e.descriptor)}},afterCritical:d}},pWe=(e,t)=>({draggables:e.draggables,droppables:I3(e.droppables,t)}),xWe=({draggable:e,offset:t,initialWindowScroll:r})=>{const s=kw(e.client,t),a=Tw(s,r);return{...e,placeholder:{...e.placeholder,client:s},client:s,page:a}},gWe=e=>{const t=e.frame;return t||tt(),t},vWe=({additions:e,updatedDroppables:t,viewport:r})=>{const s=r.scroll.diff.value;return e.map(a=>{const i=a.descriptor.droppableId,o=t[i],c=gWe(o).scroll.diff.value,d=Xs(s,c);return xWe({draggable:a,offset:d,initialWindowScroll:r.scroll.initial})})},yWe=({state:e,published:t})=>{const r=t.modified.map(j=>{const y=e.dimensions.droppables[j.droppableId];return A3(y,j.scroll)}),s={...e.dimensions.droppables,...MQ(r)},a=FQ(vWe({additions:t.additions,updatedDroppables:s,viewport:e.viewport})),i={...e.dimensions.draggables,...a};t.removals.forEach(j=>{delete i[j]});const o={droppables:s,draggables:i},l=Wi(e.impact),c=l?o.droppables[l]:null,d=o.draggables[e.critical.draggable.id],u=o.droppables[e.critical.droppable.id],{impact:f,afterCritical:m}=eZ({draggable:d,home:u,draggables:i,viewport:e.viewport}),h=c&&c.isCombineEnabled?e.impact:f,x=XQ({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:h,viewport:e.viewport,afterCritical:m}),p={...e,phase:"DRAGGING",impact:x,onLiftImpact:f,dimensions:o,afterCritical:m,forceShouldAnimate:!1};return e.phase==="COLLECTING"?p:{...p,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const hP=e=>e.movementMode==="SNAP",lC=(e,t,r)=>{const s=pWe(e.dimensions,t);return!hP(e)||r?Bg({state:e,dimensions:s}):JQ({state:e,dimensions:s})};function cC(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const cL={phase:"IDLE",completed:null,shouldFlush:!1};var jWe=(e=cL,t)=>{if(t.type==="FLUSH")return{...cL,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&tt();const{critical:r,clientSelection:s,viewport:a,dimensions:i,movementMode:o}=t.payload,l=i.draggables[r.draggable.id],c=i.droppables[r.droppable.id],d={selection:s,borderBoxCenter:l.client.borderBox.center,offset:Ls},u={client:d,page:{selection:Xs(d.selection,a.scroll.initial),borderBoxCenter:Xs(d.selection,a.scroll.initial),offset:Xs(d.selection,a.scroll.diff.value)}},f=Q2(i.droppables).every(p=>!p.isFixedOnPage),{impact:m,afterCritical:h}=eZ({draggable:l,home:c,draggables:i.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:o,dimensions:i,initial:u,current:u,isWindowScrollAllowed:f,impact:m,afterCritical:h,onLiftImpact:m,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&tt(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||tt(),yWe({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;nf(e)||tt();const{client:r}=t.payload;return mu(r,e.current.client.selection)?e:Bg({state:e,clientSelection:r,impact:hP(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return cC(e);nf(e)||tt();const{id:r,newScroll:s}=t.payload,a=e.dimensions.droppables[r];if(!a)return e;const i=A3(a,s);return lC(e,i,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;nf(e)||tt();const{id:r,isEnabled:s}=t.payload,a=e.dimensions.droppables[r];a||tt(),a.isEnabled===s&&tt();const i={...a,isEnabled:s};return lC(e,i,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;nf(e)||tt();const{id:r,isCombineEnabled:s}=t.payload,a=e.dimensions.droppables[r];a||tt(),a.isCombineEnabled===s&&tt();const i={...a,isCombineEnabled:s};return lC(e,i,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;nf(e)||tt(),e.isWindowScrollAllowed||tt();const r=t.payload.newScroll;if(mu(e.viewport.scroll.current,r))return cC(e);const s=zQ(e.viewport,r);return hP(e)?JQ({state:e,viewport:s}):Bg({state:e,viewport:s})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!nf(e))return e;const r=t.payload.maxScroll;if(mu(r,e.viewport.scroll.max))return e;const s={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:s}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&tt();const r=rWe({state:e,type:t.type});return r?Bg({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const r=t.payload.reason;return e.phase!=="COLLECTING"&&tt(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(t.type==="DROP_ANIMATE"){const{completed:r,dropDuration:s,newHomeClientOffset:a}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||tt(),{phase:"DROP_ANIMATING",completed:r,dropDuration:s,newHomeClientOffset:a,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:r}=t.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};function Cr(e,t){return e instanceof Object&&"type"in e&&e.type===t}const bWe=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),wWe=e=>({type:"LIFT",payload:e}),NWe=e=>({type:"INITIAL_PUBLISH",payload:e}),_We=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),SWe=()=>({type:"COLLECTION_STARTING",payload:null}),CWe=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),EWe=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),AWe=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),tZ=e=>({type:"MOVE",payload:e}),PWe=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),kWe=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),TWe=()=>({type:"MOVE_UP",payload:null}),OWe=()=>({type:"MOVE_DOWN",payload:null}),DWe=()=>({type:"MOVE_RIGHT",payload:null}),IWe=()=>({type:"MOVE_LEFT",payload:null}),R3=()=>({type:"FLUSH",payload:null}),RWe=e=>({type:"DROP_ANIMATE",payload:e}),M3=e=>({type:"DROP_COMPLETE",payload:e}),rZ=e=>({type:"DROP",payload:e}),MWe=e=>({type:"DROP_PENDING",payload:e}),nZ=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var FWe=e=>({getState:t,dispatch:r})=>s=>a=>{if(!Cr(a,"LIFT")){s(a);return}const{id:i,clientSelection:o,movementMode:l}=a.payload,c=t();c.phase==="DROP_ANIMATING"&&r(M3({completed:c.completed})),t().phase!=="IDLE"&&tt(),r(R3()),r(bWe({draggableId:i,movementMode:l}));const u={draggableId:i,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:f,dimensions:m,viewport:h}=e.startPublishing(u);r(NWe({critical:f,dimensions:m,clientSelection:o,movementMode:l,viewport:h}))},$We=e=>()=>t=>r=>{Cr(r,"INITIAL_PUBLISH")&&e.dragging(),Cr(r,"DROP_ANIMATE")&&e.dropping(r.payload.completed.result.reason),(Cr(r,"FLUSH")||Cr(r,"DROP_COMPLETE"))&&e.resting(),t(r)};const F3={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},xv={opacity:{drop:0,combining:.7},scale:{drop:.75}},sZ={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Xu=`${sZ.outOfTheWay}s ${F3.outOfTheWay}`,Ug={fluid:`opacity ${Xu}`,snap:`transform ${Xu}, opacity ${Xu}`,drop:e=>{const t=`${e}s ${F3.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Xu}`,placeholder:`height ${Xu}, width ${Xu}, margin ${Xu}`},dL=e=>mu(e,Ls)?void 0:`translate(${e.x}px, ${e.y}px)`,pP={moveTo:dL,drop:(e,t)=>{const r=dL(e);if(r)return t?`${r} scale(${xv.scale.drop})`:r}},{minDropTime:xP,maxDropTime:aZ}=sZ,LWe=aZ-xP,uL=1500,BWe=.6;var UWe=({current:e,destination:t,reason:r})=>{const s=mv(e,t);if(s<=0)return xP;if(s>=uL)return aZ;const a=s/uL,i=xP+LWe*a,o=r==="CANCEL"?i*BWe:i;return Number(o.toFixed(2))},VWe=({impact:e,draggable:t,dimensions:r,viewport:s,afterCritical:a})=>{const{draggables:i,droppables:o}=r,l=Wi(e),c=l?o[l]:null,d=o[t.descriptor.droppableId],u=ZQ({impact:e,draggable:t,draggables:i,afterCritical:a,droppable:c||d,viewport:s});return $i(u,t.client.borderBox.center)},zWe=({draggables:e,reason:t,lastImpact:r,home:s,viewport:a,onLiftImpact:i})=>!r.at||t!=="DROP"?{impact:QQ({draggables:e,impact:i,destination:s,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:hv},didDropInsideDroppable:!0};const WWe=({getState:e,dispatch:t})=>r=>s=>{if(!Cr(s,"DROP")){r(s);return}const a=e(),i=s.payload.reason;if(a.phase==="COLLECTING"){t(MWe({reason:i}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&tt(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||tt();const l=a.critical,c=a.dimensions,d=c.draggables[a.critical.draggable.id],{impact:u,didDropInsideDroppable:f}=zWe({reason:i,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),m=f?P3(u):null,h=f?Z2(u):null,x={index:l.draggable.index,droppableId:l.droppable.id},p={draggableId:d.descriptor.id,type:d.descriptor.type,source:x,reason:i,mode:a.movementMode,destination:m,combine:h},g=VWe({impact:u,draggable:d,dimensions:c,viewport:a.viewport,afterCritical:a.afterCritical}),j={critical:a.critical,afterCritical:a.afterCritical,result:p,impact:u};if(!(!mu(a.current.client.offset,g)||!!p.combine)){t(M3({completed:j}));return}const w=UWe({current:a.current.client.offset,destination:g,reason:i});t(RWe({newHomeClientOffset:g,dropDuration:w,completed:j}))};var iZ=()=>({x:window.pageXOffset,y:window.pageYOffset});function HWe(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function qWe({onWindowScroll:e}){function t(){e(iZ())}const r=fv(t),s=HWe(r);let a=fu;function i(){return a!==fu}function o(){i()&&tt(),a=bo(window,[s])}function l(){i()||tt(),r.cancel(),a(),a=fu}return{start:o,stop:l,isActive:i}}const GWe=e=>Cr(e,"DROP_COMPLETE")||Cr(e,"DROP_ANIMATE")||Cr(e,"FLUSH"),KWe=e=>{const t=qWe({onWindowScroll:r=>{e.dispatch(PWe({newScroll:r}))}});return r=>s=>{!t.isActive()&&Cr(s,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&GWe(s)&&t.stop(),r(s)}};var YWe=e=>{let t=!1,r=!1;const s=setTimeout(()=>{r=!0}),a=i=>{t||r||(t=!0,e(i),clearTimeout(s))};return a.wasCalled=()=>t,a},XWe=()=>{const e=[],t=a=>{const i=e.findIndex(l=>l.timerId===a);i===-1&&tt();const[o]=e.splice(i,1);o.callback()};return{add:a=>{const i=setTimeout(()=>t(i)),o={timerId:i,callback:a};e.push(o)},flush:()=>{if(!e.length)return;const a=[...e];e.length=0,a.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const QWe=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,ZWe=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,JWe=(e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,s=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&s},eg=(e,t)=>{t()},Oj=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function dC(e,t,r,s){if(!e){r(s(t));return}const a=YWe(r);e(t,{announce:a}),a.wasCalled()||r(s(t))}var eHe=(e,t)=>{const r=XWe();let s=null;const a=(f,m)=>{s&&tt(),eg("onBeforeCapture",()=>{const h=e().onBeforeCapture;h&&h({draggableId:f,mode:m})})},i=(f,m)=>{s&&tt(),eg("onBeforeDragStart",()=>{const h=e().onBeforeDragStart;h&&h(Oj(f,m))})},o=(f,m)=>{s&&tt();const h=Oj(f,m);s={mode:m,lastCritical:f,lastLocation:h.source,lastCombine:null},r.add(()=>{eg("onDragStart",()=>dC(e().onDragStart,h,t,pb.onDragStart))})},l=(f,m)=>{const h=P3(m),x=Z2(m);s||tt();const p=!JWe(f,s.lastCritical);p&&(s.lastCritical=f);const g=!QWe(s.lastLocation,h);g&&(s.lastLocation=h);const j=!ZWe(s.lastCombine,x);if(j&&(s.lastCombine=x),!p&&!g&&!j)return;const y={...Oj(f,s.mode),combine:x,destination:h};r.add(()=>{eg("onDragUpdate",()=>dC(e().onDragUpdate,y,t,pb.onDragUpdate))})},c=()=>{s||tt(),r.flush()},d=f=>{s||tt(),s=null,eg("onDragEnd",()=>dC(e().onDragEnd,f,t,pb.onDragEnd))};return{beforeCapture:a,beforeStart:i,start:o,update:l,flush:c,drop:d,abort:()=>{if(!s)return;const f={...Oj(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};d(f)}}},tHe=(e,t)=>{const r=eHe(e,t);return s=>a=>i=>{if(Cr(i,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(Cr(i,"INITIAL_PUBLISH")){const l=i.payload.critical;r.beforeStart(l,i.payload.movementMode),a(i),r.start(l,i.payload.movementMode);return}if(Cr(i,"DROP_COMPLETE")){const l=i.payload.completed.result;r.flush(),a(i),r.drop(l);return}if(a(i),Cr(i,"FLUSH")){r.abort();return}const o=s.getState();o.phase==="DRAGGING"&&r.update(o.critical,o.impact)}};const rHe=e=>t=>r=>{if(!Cr(r,"DROP_ANIMATION_FINISHED")){t(r);return}const s=e.getState();s.phase!=="DROP_ANIMATING"&&tt(),e.dispatch(M3({completed:s.completed}))},nHe=e=>{let t=null,r=null;function s(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return a=>i=>{if((Cr(i,"FLUSH")||Cr(i,"DROP_COMPLETE")||Cr(i,"DROP_ANIMATION_FINISHED"))&&s(),a(i),!Cr(i,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(nZ())}};r=requestAnimationFrame(()=>{r=null,t=bo(window,[o])})}};var sHe=e=>()=>t=>r=>{(Cr(r,"DROP_COMPLETE")||Cr(r,"FLUSH")||Cr(r,"DROP_ANIMATE"))&&e.stopPublishing(),t(r)},aHe=e=>{let t=!1;return()=>r=>s=>{if(Cr(s,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(s.payload.critical.draggable.id),r(s),e.tryRestoreFocusRecorded();return}if(r(s),!!t){if(Cr(s,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Cr(s,"DROP_COMPLETE")){t=!1;const a=s.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const iHe=e=>Cr(e,"DROP_COMPLETE")||Cr(e,"DROP_ANIMATE")||Cr(e,"FLUSH");var oHe=e=>t=>r=>s=>{if(iHe(s)){e.stop(),r(s);return}if(Cr(s,"INITIAL_PUBLISH")){r(s);const a=t.getState();a.phase!=="DRAGGING"&&tt(),e.start(a);return}r(s),e.scroll(t.getState())};const lHe=e=>t=>r=>{if(t(r),!Cr(r,"PUBLISH_WHILE_DRAGGING"))return;const s=e.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||e.dispatch(rZ({reason:s.reason})))},cHe=wQ;var dHe=({dimensionMarshal:e,focusMarshal:t,styleMarshal:r,getResponders:s,announce:a,autoScroller:i})=>bQ(jWe,cHe(aVe($We(r),sHe(e),FWe(e),WWe,rHe,nHe,lHe,oHe(i),KWe,aHe(t),tHe(s,a))));const uC=()=>({additions:{},removals:{},modified:{}});function uHe({registry:e,callbacks:t}){let r=uC(),s=null;const a=()=>{s||(t.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:c,removals:d,modified:u}=r,f=Object.keys(c).map(x=>e.draggable.getById(x).getDimension(Ls)).sort((x,p)=>x.descriptor.index-p.descriptor.index),m=Object.keys(u).map(x=>{const g=e.droppable.getById(x).callbacks.getScrollWhileDragging();return{droppableId:x,scroll:g}}),h={additions:f,removals:Object.keys(d),modified:m};r=uC(),t.publish(h)}))};return{add:c=>{const d=c.descriptor.id;r.additions[d]=c,r.modified[c.descriptor.droppableId]=!0,r.removals[d]&&delete r.removals[d],a()},remove:c=>{const d=c.descriptor;r.removals[d.id]=!0,r.modified[d.droppableId]=!0,r.additions[d.id]&&delete r.additions[d.id],a()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,r=uC())}}}var oZ=({scrollHeight:e,scrollWidth:t,height:r,width:s})=>{const a=$i({x:t,y:e},{x:s,y:r});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},lZ=()=>{const e=document.documentElement;return e||tt(),e},cZ=()=>{const e=lZ();return oZ({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},fHe=()=>{const e=iZ(),t=cZ(),r=e.y,s=e.x,a=lZ(),i=a.clientWidth,o=a.clientHeight,l=s+i,c=r+o;return{frame:tl({top:r,left:s,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:Ls,displacement:Ls}}}},mHe=({critical:e,scrollOptions:t,registry:r})=>{const s=fHe(),a=s.scroll.current,i=e.droppable,o=r.droppable.getAllByType(i.type).map(u=>u.callbacks.getDimensionAndWatchScroll(a,t)),l=r.draggable.getAllByType(e.draggable.type).map(u=>u.getDimension(a));return{dimensions:{draggables:FQ(l),droppables:MQ(o)},critical:e,viewport:s}};function fL(e,t,r){return!(r.descriptor.id===t.id||r.descriptor.type!==t.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var hHe=(e,t)=>{let r=null;const s=uHe({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=(m,h)=>{e.droppable.exists(m)||tt(),r&&t.updateDroppableIsEnabled({id:m,isEnabled:h})},i=(m,h)=>{r&&(e.droppable.exists(m)||tt(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:h}))},o=(m,h)=>{r&&(e.droppable.exists(m)||tt(),t.updateDroppableScroll({id:m,newScroll:h}))},l=(m,h)=>{r&&e.droppable.getById(m).callbacks.scroll(h)},c=()=>{if(!r)return;s.stop();const m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(h=>h.callbacks.dragStopped()),r.unsubscribe(),r=null},d=m=>{r||tt();const h=r.critical.draggable;m.type==="ADDITION"&&fL(e,h,m.value)&&s.add(m.value),m.type==="REMOVAL"&&fL(e,h,m.value)&&s.remove(m.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:m=>{r&&tt();const h=e.draggable.getById(m.draggableId),x=e.droppable.getById(h.descriptor.droppableId),p={draggable:h.descriptor,droppable:x.descriptor},g=e.subscribe(d);return r={critical:p,unsubscribe:g},mHe({critical:p,registry:e,scrollOptions:m.scrollOptions})},stopPublishing:c}},dZ=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",pHe=e=>{window.scrollBy(e.x,e.y)};const xHe=Rs(e=>Q2(e).filter(t=>!(!t.isEnabled||!t.frame))),gHe=(e,t)=>xHe(t).find(s=>(s.frame||tt(),GQ(s.frame.pageMarginBox)(e)))||null;var vHe=({center:e,destination:t,droppables:r})=>{if(t){const a=r[t];return a.frame?a:null}return gHe(e,r)};const gv={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var yHe=(e,t,r=()=>gv)=>{const s=r(),a=e[t.size]*s.startFromPercentage,i=e[t.size]*s.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:i}},uZ=({startOfRange:e,endOfRange:t,current:r})=>{const s=t-e;return s===0?0:(r-e)/s},$3=1,jHe=(e,t,r=()=>gv)=>{const s=r();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return s.maxPixelScroll;if(e===t.startScrollingFrom)return $3;const i=1-uZ({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=s.maxPixelScroll*s.ease(i);return Math.ceil(o)},bHe=(e,t,r)=>{const s=r(),a=s.durationDampening.accelerateAt,i=s.durationDampening.stopDampeningAt,o=t,l=i,d=Date.now()-o;if(d>=i)return e;if(d<a)return $3;const u=uZ({startOfRange:a,endOfRange:l,current:d}),f=e*s.ease(u);return Math.ceil(f)},mL=({distanceToEdge:e,thresholds:t,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:a})=>{const i=jHe(e,t,a);return i===0?0:s?Math.max(bHe(i,r,a),$3):i},hL=({container:e,distanceToEdges:t,dragStartTime:r,axis:s,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o=yHe(e,s,i);return t[s.end]<t[s.start]?mL({distanceToEdge:t[s.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i}):-1*mL({distanceToEdge:t[s.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i})},wHe=({container:e,subject:t,proposedScroll:r})=>{const s=t.height>e.height,a=t.width>e.width;return!a&&!s?r:a&&s?null:{x:a?0:r.x,y:s?0:r.y}};const NHe=RQ(e=>e===0?0:e);var fZ=({dragStartTime:e,container:t,subject:r,center:s,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o={top:s.y-t.top,right:t.right-s.x,bottom:t.bottom-s.y,left:s.x-t.left},l=hL({container:t,distanceToEdges:o,dragStartTime:e,axis:k3,shouldUseTimeDampening:a,getAutoScrollerOptions:i}),c=hL({container:t,distanceToEdges:o,dragStartTime:e,axis:BQ,shouldUseTimeDampening:a,getAutoScrollerOptions:i}),d=NHe({x:c,y:l});if(mu(d,Ls))return null;const u=wHe({container:t,subject:r,proposedScroll:d});return u?mu(u,Ls)?null:u:null};const _He=RQ(e=>e===0?0:e>0?1:-1),L3=(()=>{const e=(t,r)=>t<0?t:t>r?t-r:0;return({current:t,max:r,change:s})=>{const a=Xs(t,s),i={x:e(a.x,r.x),y:e(a.y,r.y)};return mu(i,Ls)?null:i}})(),mZ=({max:e,current:t,change:r})=>{const s={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},a=_He(r),i=L3({max:s,current:t,change:a});return!i||a.x!==0&&i.x===0||a.y!==0&&i.y===0},B3=(e,t)=>mZ({current:e.scroll.current,max:e.scroll.max,change:t}),SHe=(e,t)=>{if(!B3(e,t))return null;const r=e.scroll.max,s=e.scroll.current;return L3({current:s,max:r,change:t})},U3=(e,t)=>{const r=e.frame;return r?mZ({current:r.scroll.current,max:r.scroll.max,change:t}):!1},CHe=(e,t)=>{const r=e.frame;return!r||!U3(e,t)?null:L3({current:r.scroll.current,max:r.scroll.max,change:t})};var EHe=({viewport:e,subject:t,center:r,dragStartTime:s,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o=fZ({dragStartTime:s,container:e.frame,subject:t,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i});return o&&B3(e,o)?o:null},AHe=({droppable:e,subject:t,center:r,dragStartTime:s,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o=e.frame;if(!o)return null;const l=fZ({dragStartTime:s,container:o.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i});return l&&U3(e,l)?l:null},pL=({state:e,dragStartTime:t,shouldUseTimeDampening:r,scrollWindow:s,scrollDroppable:a,getAutoScrollerOptions:i})=>{const o=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,m=EHe({dragStartTime:t,viewport:f,subject:c,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});if(m){s(m);return}}const d=vHe({center:o,destination:Wi(e.impact),droppables:e.dimensions.droppables});if(!d)return;const u=AHe({dragStartTime:t,droppable:d,subject:c,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});u&&a(d.descriptor.id,u)},PHe=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r=()=>gv})=>{const s=fv(e),a=fv(t);let i=null;const o=d=>{i||tt();const{shouldUseTimeDampening:u,dragStartTime:f}=i;pL({state:d,scrollWindow:s,scrollDroppable:a,dragStartTime:f,shouldUseTimeDampening:u,getAutoScrollerOptions:r})};return{start:d=>{i&&tt();const u=Date.now();let f=!1;const m=()=>{f=!0};pL({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:r}),i={dragStartTime:u,shouldUseTimeDampening:f},f&&o(d)},stop:()=>{i&&(s.cancel(),a.cancel(),i=null)},scroll:o}},kHe=({move:e,scrollDroppable:t,scrollWindow:r})=>{const s=(l,c)=>{const d=Xs(l.current.client.selection,c);e({client:d})},a=(l,c)=>{if(!U3(l,c))return c;const d=CHe(l,c);if(!d)return t(l.descriptor.id,c),null;const u=$i(c,d);return t(l.descriptor.id,u),$i(c,u)},i=(l,c,d)=>{if(!l||!B3(c,d))return d;const u=SHe(c,d);if(!u)return r(d),null;const f=$i(d,u);return r(f),$i(d,f)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const d=Wi(l.impact);d||tt();const u=a(l.dimensions.droppables[d],c);if(!u)return;const f=l.viewport,m=i(l.isWindowScrollAllowed,f,u);m&&s(l,m)}},THe=({scrollDroppable:e,scrollWindow:t,move:r,getAutoScrollerOptions:s})=>{const a=PHe({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:s}),i=kHe({move:r,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(s().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){a.scroll(c);return}c.scrollJumpRequest&&i(c)}},start:a.start,stop:a.stop}};const Rp="data-rfd",Mp=(()=>{const e=`${Rp}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),gP=(()=>{const e=`${Rp}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),OHe=(()=>{const e=`${Rp}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),xL={contextId:`${Rp}-scroll-container-context-id`},DHe=e=>t=>`[${t}="${e}"]`,tg=(e,t)=>e.map(r=>{const s=r.styles[t];return s?`${r.selector} { ${s} }`:""}).join(" "),IHe="pointer-events: none;";var RHe=e=>{const t=DHe(e),r=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Mp.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:IHe,dropAnimating:l}}})(),s=(()=>{const l=`
      transition: ${Ug.outOfTheWay};
    `;return{selector:t(gP.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),a={selector:t(OHe.contextId),styles:{always:"overflow-anchor: none;"}},o=[s,r,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:tg(o,"always"),resting:tg(o,"resting"),dragging:tg(o,"dragging"),dropAnimating:tg(o,"dropAnimating"),userCancel:tg(o,"userCancel")}};const Hi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect,fC=()=>{const e=document.querySelector("head");return e||tt(),e},gL=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function MHe(e,t){const r=ur(()=>RHe(e),[e]),s=v.useRef(null),a=v.useRef(null),i=St(Rs(f=>{const m=a.current;m||tt(),m.textContent=f}),[]),o=St(f=>{const m=s.current;m||tt(),m.textContent=f},[]);Hi(()=>{!s.current&&!a.current||tt();const f=gL(t),m=gL(t);return s.current=f,a.current=m,f.setAttribute(`${Rp}-always`,e),m.setAttribute(`${Rp}-dynamic`,e),fC().appendChild(f),fC().appendChild(m),o(r.always),i(r.resting),()=>{const h=x=>{const p=x.current;p||tt(),fC().removeChild(p),x.current=null};h(s),h(a)}},[t,o,i,r.always,r.resting,e]);const l=St(()=>i(r.dragging),[i,r.dragging]),c=St(f=>{if(f==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),d=St(()=>{a.current&&i(r.resting)},[i,r.resting]);return ur(()=>({dragging:l,dropping:c,resting:d}),[l,c,d])}function hZ(e,t){return Array.from(e.querySelectorAll(t))}var pZ=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function t_(e){return e instanceof pZ(e).HTMLElement}function FHe(e,t){const r=`[${Mp.contextId}="${e}"]`,s=hZ(document,r);if(!s.length)return null;const a=s.find(i=>i.getAttribute(Mp.draggableId)===t);return!a||!t_(a)?null:a}function $He(e){const t=v.useRef({}),r=v.useRef(null),s=v.useRef(null),a=v.useRef(!1),i=St(function(m,h){const x={id:m,focus:h};return t.current[m]=x,function(){const g=t.current;g[m]!==x&&delete g[m]}},[]),o=St(function(m){const h=FHe(e,m);h&&h!==document.activeElement&&h.focus()},[e]),l=St(function(m,h){r.current===m&&(r.current=h)},[]),c=St(function(){s.current||a.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const m=r.current;m&&o(m)}))},[o]),d=St(function(m){r.current=null;const h=document.activeElement;h&&h.getAttribute(Mp.draggableId)===m&&(r.current=m)},[]);return Hi(()=>(a.current=!0,function(){a.current=!1;const m=s.current;m&&cancelAnimationFrame(m)}),[]),ur(()=>({register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[i,d,c,l])}function LHe(){const e={draggables:{},droppables:{}},t=[];function r(f){return t.push(f),function(){const h=t.indexOf(f);h!==-1&&t.splice(h,1)}}function s(f){t.length&&t.forEach(m=>m(f))}function a(f){return e.draggables[f]||null}function i(f){const m=a(f);return m||tt(),m}const o={register:f=>{e.draggables[f.descriptor.id]=f,s({type:"ADDITION",value:f})},update:(f,m)=>{const h=e.draggables[m.descriptor.id];h&&h.uniqueId===f.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:f=>{const m=f.descriptor.id,h=a(m);h&&f.uniqueId===h.uniqueId&&(delete e.draggables[m],e.droppables[f.descriptor.droppableId]&&s({type:"REMOVAL",value:f}))},getById:i,findById:a,exists:f=>!!a(f),getAllByType:f=>Object.values(e.draggables).filter(m=>m.descriptor.type===f)};function l(f){return e.droppables[f]||null}function c(f){const m=l(f);return m||tt(),m}const d={register:f=>{e.droppables[f.descriptor.id]=f},unregister:f=>{const m=l(f.descriptor.id);m&&f.uniqueId===m.uniqueId&&delete e.droppables[f.descriptor.id]},getById:c,findById:l,exists:f=>!!l(f),getAllByType:f=>Object.values(e.droppables).filter(m=>m.descriptor.type===f)};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:r,clean:u}}function BHe(){const e=ur(LHe,[]);return v.useEffect(()=>function(){e.clean()},[e]),e}var V3=V.createContext(null),Rw=()=>{const e=document.body;return e||tt(),e};const UHe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},VHe=e=>`rfd-announcement-${e}`;function zHe(e){const t=ur(()=>VHe(e),[e]),r=v.useRef(null);return v.useEffect(function(){const i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),ta(i.style,UHe),Rw().appendChild(i),function(){setTimeout(function(){const c=Rw();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[t]),St(a=>{const i=r.current;if(i){i.textContent=a;return}},[])}const WHe={separator:"::"};function z3(e,t=WHe){const r=V.useId();return ur(()=>`${e}${t.separator}${r}`,[t.separator,e,r])}function HHe({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function qHe({contextId:e,text:t}){const r=z3("hidden-text",{separator:"-"}),s=ur(()=>HHe({contextId:e,uniqueId:r}),[r,e]);return v.useEffect(function(){const i=document.createElement("div");return i.id=s,i.textContent=t,i.style.display="none",Rw().appendChild(i),function(){const l=Rw();l.contains(i)&&l.removeChild(i)}},[s,t]),s}var r_=V.createContext(null);function xZ(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),t}function GHe(){let e=null;function t(){return!!e}function r(o){return o===e}function s(o){e&&tt();const l={abandon:o};return e=l,l}function a(){e||tt(),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:r,claim:s,release:a,tryAbandon:i}}function vv(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const KHe=9,YHe=13,W3=27,gZ=32,XHe=33,QHe=34,ZHe=35,JHe=36,eqe=37,tqe=38,rqe=39,nqe=40,sqe={[YHe]:!0,[KHe]:!0};var vZ=e=>{sqe[e.keyCode]&&e.preventDefault()};const n_=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(s=>`on${s}`in document)||e})(),yZ=0,vL=5;function aqe(e,t){return Math.abs(t.x-e.x)>=vL||Math.abs(t.y-e.y)>=vL}const yL={type:"IDLE"};function iqe({cancel:e,completed:t,getPhase:r,setPhase:s}){return[{eventName:"mousemove",fn:a=>{const{button:i,clientX:o,clientY:l}=a;if(i!==yZ)return;const c={x:o,y:l},d=r();if(d.type==="DRAGGING"){a.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&tt();const u=d.point;if(!aqe(u,c))return;a.preventDefault();const f=d.actions.fluidLift(c);s({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:a=>{const i=r();if(i.type!=="DRAGGING"){e();return}a.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:a=>{r().type==="DRAGGING"&&a.preventDefault(),e()}},{eventName:"keydown",fn:a=>{if(r().type==="PENDING"){e();return}if(a.keyCode===W3){a.preventDefault(),e();return}vZ(a)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:a=>{const i=r();if(i.type==="IDLE"&&tt(),i.actions.shouldRespectForcePress()){e();return}a.preventDefault()}},{eventName:n_,fn:e}]}function oqe(e){const t=v.useRef(yL),r=v.useRef(fu),s=ur(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==yZ||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const m=e.findClosestDraggableId(f);if(!m)return;const h=e.tryGetLock(m,o,{sourceEvent:f});if(!h)return;f.preventDefault();const x={x:f.clientX,y:f.clientY};r.current(),d(h,x)}}),[e]),a=ur(()=>({eventName:"webkitmouseforcewillbegin",fn:u=>{if(u.defaultPrevented)return;const f=e.findClosestDraggableId(u);if(!f)return;const m=e.findOptionsForDraggable(f);m&&(m.shouldRespectForcePress||e.canGetLock(f)&&u.preventDefault())}}),[e]),i=St(function(){const f={passive:!1,capture:!0};r.current=bo(window,[a,s],f)},[a,s]),o=St(()=>{t.current.type!=="IDLE"&&(t.current=yL,r.current(),i())},[i]),l=St(()=>{const u=t.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),c=St(function(){const f={capture:!0,passive:!1},m=iqe({cancel:l,completed:o,getPhase:()=>t.current,setPhase:h=>{t.current=h}});r.current=bo(window,m,f)},[l,o]),d=St(function(f,m){t.current.type!=="IDLE"&&tt(),t.current={type:"PENDING",point:m,actions:f},c()},[c]);Hi(function(){return i(),function(){r.current()}},[i])}function lqe(){}const cqe={[QHe]:!0,[XHe]:!0,[JHe]:!0,[ZHe]:!0};function dqe(e,t){function r(){t(),e.cancel()}function s(){t(),e.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===W3){a.preventDefault(),r();return}if(a.keyCode===gZ){a.preventDefault(),s();return}if(a.keyCode===nqe){a.preventDefault(),e.moveDown();return}if(a.keyCode===tqe){a.preventDefault(),e.moveUp();return}if(a.keyCode===rqe){a.preventDefault(),e.moveRight();return}if(a.keyCode===eqe){a.preventDefault(),e.moveLeft();return}if(cqe[a.keyCode]){a.preventDefault();return}vZ(a)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:n_,fn:r}]}function uqe(e){const t=v.useRef(lqe),r=ur(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==gZ)return;const o=e.findClosestDraggableId(i);if(!o)return;const l=e.tryGetLock(o,u,{sourceEvent:i});if(!l)return;i.preventDefault();let c=!0;const d=l.snapLift();t.current();function u(){c||tt(),c=!1,t.current(),s()}t.current=bo(window,dqe(d,u),{capture:!0,passive:!1})}}),[e]),s=St(function(){const i={passive:!1,capture:!0};t.current=bo(window,[r],i)},[r]);Hi(function(){return s(),function(){t.current()}},[s])}const mC={type:"IDLE"},fqe=120,mqe=.15;function hqe({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(t().type!=="DRAGGING"){e();return}r.keyCode===W3&&r.preventDefault(),e()}},{eventName:n_,fn:e}]}function pqe({cancel:e,completed:t,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const a=r();if(a.type!=="DRAGGING"){e();return}a.hasMoved=!0;const{clientX:i,clientY:o}=s.touches[0],l={x:i,y:o};s.preventDefault(),a.actions.move(l)}},{eventName:"touchend",fn:s=>{const a=r();if(a.type!=="DRAGGING"){e();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:s=>{if(r().type!=="DRAGGING"){e();return}s.preventDefault(),e()}},{eventName:"touchforcechange",fn:s=>{const a=r();a.type==="IDLE"&&tt();const i=s.touches[0];if(!i||!(i.force>=mqe))return;const l=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){l&&e();return}if(l){if(a.hasMoved){s.preventDefault();return}e();return}s.preventDefault()}},{eventName:n_,fn:e}]}function xqe(e){const t=v.useRef(mC),r=v.useRef(fu),s=St(function(){return t.current},[]),a=St(function(h){t.current=h},[]),i=ur(()=>({eventName:"touchstart",fn:function(h){if(h.defaultPrevented)return;const x=e.findClosestDraggableId(h);if(!x)return;const p=e.tryGetLock(x,l,{sourceEvent:h});if(!p)return;const g=h.touches[0],{clientX:j,clientY:y}=g,w={x:j,y};r.current(),f(p,w)}}),[e]),o=St(function(){const h={capture:!0,passive:!1};r.current=bo(window,[i],h)},[i]),l=St(()=>{const m=t.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),a(mC),r.current(),o())},[o,a]),c=St(()=>{const m=t.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),d=St(function(){const h={capture:!0,passive:!1},x={cancel:c,completed:l,getPhase:s},p=bo(window,pqe(x),h),g=bo(window,hqe(x),h);r.current=function(){p(),g()}},[c,s,l]),u=St(function(){const h=s();h.type!=="PENDING"&&tt();const x=h.actions.fluidLift(h.point);a({type:"DRAGGING",actions:x,hasMoved:!1})},[s,a]),f=St(function(h,x){s().type!=="IDLE"&&tt();const p=setTimeout(u,fqe);a({type:"PENDING",point:x,actions:h,longPressTimerId:p}),d()},[d,s,a,u]);Hi(function(){return o(),function(){r.current();const x=s();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),a(mC))}},[s,o,a]),Hi(function(){return bo(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const gqe=["input","button","textarea","select","option","optgroup","video","audio"];function jZ(e,t){if(t==null)return!1;if(gqe.includes(t.tagName.toLowerCase()))return!0;const s=t.getAttribute("contenteditable");return s==="true"||s===""?!0:t===e?!1:jZ(e,t.parentElement)}function vqe(e,t){const r=t.target;return t_(r)?jZ(e,r):!1}var yqe=e=>tl(e.getBoundingClientRect()).center;function jqe(e){return e instanceof pZ(e).Element}const bqe=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||e})();function bZ(e,t){return e==null?null:e[bqe](t)?e:bZ(e.parentElement,t)}function wqe(e,t){return e.closest?e.closest(t):bZ(e,t)}function Nqe(e){return`[${Mp.contextId}="${e}"]`}function _qe(e,t){const r=t.target;if(!jqe(r))return null;const s=Nqe(e),a=wqe(r,s);return!a||!t_(a)?null:a}function Sqe(e,t){const r=_qe(e,t);return r?r.getAttribute(Mp.draggableId):null}function Cqe(e,t){const r=`[${gP.contextId}="${e}"]`,a=hZ(document,r).find(i=>i.getAttribute(gP.id)===t);return!a||!t_(a)?null:a}function Eqe(e){e.preventDefault()}function Dj({expected:e,phase:t,isLockActive:r,shouldWarn:s}){return!(!r()||e!==t)}function wZ({lockAPI:e,store:t,registry:r,draggableId:s}){if(e.isClaimed())return!1;const a=r.draggable.findById(s);return!(!a||!a.options.isEnabled||!dZ(t.getState(),s))}function Aqe({lockAPI:e,contextId:t,store:r,registry:s,draggableId:a,forceSensorStop:i,sourceEvent:o}){if(!wZ({lockAPI:e,store:r,registry:s,draggableId:a}))return null;const c=s.draggable.getById(a),d=Cqe(t,c.descriptor.id);if(!d||o&&!c.options.canDragInteractiveElements&&vqe(d,o))return null;const u=e.claim(i||fu);let f="PRE_DRAG";function m(){return c.options.shouldRespectForcePress}function h(){return e.isActive(u)}function x(N,S){Dj({expected:N,phase:f,isLockActive:h,shouldWarn:!0})&&r.dispatch(S())}const p=x.bind(null,"DRAGGING");function g(N){function S(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(S(),tt()),r.dispatch(wWe(N.liftActionArgs)),f="DRAGGING";function _(E,A={shouldBlockNextClick:!1}){if(N.cleanup(),A.shouldBlockNextClick){const T=bo(window,[{eventName:"click",fn:Eqe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(T)}S(),r.dispatch(rZ({reason:E}))}return{isActive:()=>Dj({expected:"DRAGGING",phase:f,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:m,drop:E=>_("DROP",E),cancel:E=>_("CANCEL",E),...N.actions}}function j(N){const S=fv(E=>{p(()=>tZ({client:E}))});return{...g({liftActionArgs:{id:a,clientSelection:N,movementMode:"FLUID"},cleanup:()=>S.cancel(),actions:{move:S}}),move:S}}function y(){const N={moveUp:()=>p(TWe),moveRight:()=>p(DWe),moveDown:()=>p(OWe),moveLeft:()=>p(IWe)};return g({liftActionArgs:{id:a,clientSelection:yqe(d),movementMode:"SNAP"},cleanup:fu,actions:N})}function w(){Dj({expected:"PRE_DRAG",phase:f,isLockActive:h,shouldWarn:!0})&&e.release()}return{isActive:()=>Dj({expected:"PRE_DRAG",phase:f,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:j,snapLift:y,abort:w}}const Pqe=[oqe,uqe,xqe];function kqe({contextId:e,store:t,registry:r,customSensors:s,enableDefaultSensors:a}){const i=[...a?Pqe:[],...s||[]],o=v.useState(()=>GHe())[0],l=St(function(g,j){vv(g)&&!vv(j)&&o.tryAbandon()},[o]);Hi(function(){let g=t.getState();return t.subscribe(()=>{const y=t.getState();l(g,y),g=y})},[o,t,l]),Hi(()=>o.tryAbandon,[o.tryAbandon]);const c=St(p=>wZ({lockAPI:o,registry:r,store:t,draggableId:p}),[o,r,t]),d=St((p,g,j)=>Aqe({lockAPI:o,registry:r,contextId:e,store:t,draggableId:p,forceSensorStop:g||null,sourceEvent:j&&j.sourceEvent?j.sourceEvent:null}),[e,o,r,t]),u=St(p=>Sqe(e,p),[e]),f=St(p=>{const g=r.draggable.findById(p);return g?g.options:null},[r.draggable]),m=St(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(R3()))},[o,t]),h=St(()=>o.isClaimed(),[o]),x=ur(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:u,findOptionsForDraggable:f,tryReleaseLock:m,isLockClaimed:h}),[c,d,u,f,m,h]);for(let p=0;p<i.length;p++)i[p](x)}const Tqe=e=>({onBeforeCapture:t=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};pl.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Oqe=e=>({...gv,...e.autoScrollerOptions,durationDampening:{...gv.durationDampening,...e.autoScrollerOptions}});function rg(e){return e.current||tt(),e.current}function Dqe(e){const{contextId:t,setCallbacks:r,sensors:s,nonce:a,dragHandleUsageInstructions:i}=e,o=v.useRef(null),l=xZ(e),c=St(()=>Tqe(l.current),[l]),d=St(()=>Oqe(l.current),[l]),u=zHe(t),f=qHe({contextId:t,text:i}),m=MHe(t,a),h=St(T=>{rg(o).dispatch(T)},[]),x=ur(()=>G$({publishWhileDragging:_We,updateDroppableScroll:CWe,updateDroppableIsEnabled:EWe,updateDroppableIsCombineEnabled:AWe,collectionStarting:SWe},h),[h]),p=BHe(),g=ur(()=>hHe(p,x),[p,x]),j=ur(()=>THe({scrollWindow:pHe,scrollDroppable:g.scrollDroppable,getAutoScrollerOptions:d,...G$({move:tZ},h)}),[g.scrollDroppable,h,d]),y=$He(t),w=ur(()=>dHe({announce:u,autoScroller:j,dimensionMarshal:g,focusMarshal:y,getResponders:c,styleMarshal:m}),[u,j,g,y,c,m]);o.current=w;const b=St(()=>{const T=rg(o);T.getState().phase!=="IDLE"&&T.dispatch(R3())},[]),N=St(()=>{const T=rg(o).getState();return T.phase==="DROP_ANIMATING"?!0:T.phase==="IDLE"?!1:T.isDragging},[]),S=ur(()=>({isDragging:N,tryAbort:b}),[N,b]);r(S);const _=St(T=>dZ(rg(o).getState(),T),[]),E=St(()=>nf(rg(o).getState()),[]),A=ur(()=>({marshal:g,focus:y,contextId:t,canLift:_,isMovementAllowed:E,dragHandleUsageInstructionsId:f,registry:p}),[t,g,f,y,_,E,p]);return kqe({contextId:t,store:w,registry:p,customSensors:s||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),v.useEffect(()=>b,[b]),V.createElement(r_.Provider,{value:A},V.createElement(ize,{context:V3,store:w},e.children))}function Iqe(){return V.useId()}function Rqe(e){const t=Iqe(),r=e.dragHandleUsageInstructions||pb.dragHandleUsageInstructions;return V.createElement(uze,null,s=>V.createElement(Dqe,{nonce:e.nonce,contextId:t,setCallbacks:s,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const jL={dragging:5e3,dropAnimating:4500},Mqe=(e,t)=>t?Ug.drop(t.duration):e?Ug.snap:Ug.fluid,Fqe=(e,t)=>{if(e)return t?xv.opacity.drop:xv.opacity.combining},$qe=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function Lqe(e){const r=e.dimension.client,{offset:s,combineWith:a,dropping:i}=e,o=!!a,l=$qe(e),c=!!i,d=c?pP.drop(s,o):pP.moveTo(s);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:Mqe(l,i),transform:d,opacity:Fqe(o,c),zIndex:c?jL.dropAnimating:jL.dragging,pointerEvents:"none"}}function Bqe(e){return{transform:pP.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function Uqe(e){return e.type==="DRAGGING"?Lqe(e):Bqe(e)}function Vqe(e,t,r=Ls){const s=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=PQ(a,s),o=Tw(i,r),l={client:i,tagName:t.tagName.toLowerCase(),display:s.display},c={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:i,page:o}}function zqe(e){const t=z3("draggable"),{descriptor:r,registry:s,getDraggableRef:a,canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}=e,c=ur(()=>({canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}),[i,l,o]),d=St(h=>{const x=a();return x||tt(),Vqe(r,x,h)},[r,a]),u=ur(()=>({uniqueId:t,descriptor:r,options:c,getDimension:d}),[r,d,c,t]),f=v.useRef(u),m=v.useRef(!0);Hi(()=>(s.draggable.register(f.current),()=>s.draggable.unregister(f.current)),[s.draggable]),Hi(()=>{if(m.current){m.current=!1;return}const h=f.current;f.current=u,s.draggable.update(u,h)},[u,s.draggable])}var H3=V.createContext(null);function Mw(e){const t=v.useContext(e);return t||tt(),t}function Wqe(e){e.preventDefault()}const Hqe=e=>{const t=v.useRef(null),r=St((S=null)=>{t.current=S},[]),s=St(()=>t.current,[]),{contextId:a,dragHandleUsageInstructionsId:i,registry:o}=Mw(r_),{type:l,droppableId:c}=Mw(H3),d=ur(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:u,draggableId:f,isEnabled:m,shouldRespectForcePress:h,canDragInteractiveElements:x,isClone:p,mapped:g,dropAnimationFinished:j}=e;if(!p){const S=ur(()=>({descriptor:d,registry:o,getDraggableRef:s,canDragInteractiveElements:x,shouldRespectForcePress:h,isEnabled:m}),[d,o,s,x,h,m]);zqe(S)}const y=ur(()=>m?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:Wqe}:null,[a,i,f,m]),w=St(S=>{g.type==="DRAGGING"&&g.dropping&&S.propertyName==="transform"&&pl.flushSync(j)},[j,g]),b=ur(()=>{const S=Uqe(g),_=g.type==="DRAGGING"&&g.dropping?w:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":f,style:S,onTransitionEnd:_},dragHandleProps:y}},[a,y,f,g,w,r]),N=ur(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return V.createElement(V.Fragment,null,u(b,g.snapshot,N))};var NZ=(e,t)=>e===t,_Z=e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null};const qqe=e=>e.combine?e.combine.draggableId:null,Gqe=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function Kqe(){const e=Rs((a,i)=>({x:a,y:i})),t=Rs((a,i,o=null,l=null,c=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:o,combineWith:l,combineTargetFor:null})),r=Rs((a,i,o,l,c=null,d=null,u=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:i,offset:a,dimension:o,forceShouldAnimate:u,snapshot:t(i,l,c,d,null)}}));return(a,i)=>{if(vv(a)){if(a.critical.draggable.id!==i.draggableId)return null;const o=a.current.client.offset,l=a.dimensions.draggables[i.draggableId],c=Wi(a.impact),d=Gqe(a.impact),u=a.forceShouldAnimate;return r(e(o.x,o.y),a.movementMode,l,i.isClone,c,d,u)}if(a.phase==="DROP_ANIMATING"){const o=a.completed;if(o.result.draggableId!==i.draggableId)return null;const l=i.isClone,c=a.dimensions.draggables[i.draggableId],d=o.result,u=d.mode,f=_Z(d),m=qqe(d),x={duration:a.dropDuration,curve:F3.drop,moveTo:a.newHomeClientOffset,opacity:m?xv.opacity.drop:null,scale:m?xv.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:c,dropping:x,draggingOver:f,combineWith:m,mode:u,forceShouldAnimate:null,snapshot:t(u,l,f,m,x)}}}return null}}function SZ(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Yqe={mapped:{type:"SECONDARY",offset:Ls,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:SZ(null)}};function Xqe(){const e=Rs((o,l)=>({x:o,y:l})),t=Rs(SZ),r=Rs((o,l=null,c)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),s=o=>o?r(Ls,o,!0):null,a=(o,l,c,d)=>{const u=c.displaced.visible[o],f=!!(d.inVirtualList&&d.effected[o]),m=Z2(c),h=m&&m.draggableId===o?l:null;if(!u){if(!f)return s(h);if(c.displaced.invisible[o])return null;const g=px(d.displacedBy.point),j=e(g.x,g.y);return r(j,h,!0)}if(f)return s(h);const x=c.displacedBy.point,p=e(x.x,x.y);return r(p,h,u.shouldAnimate)};return(o,l)=>{if(vv(o))return o.critical.draggable.id===l.draggableId?null:a(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const c=o.completed;return c.result.draggableId===l.draggableId?null:a(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const Qqe=()=>{const e=Kqe(),t=Xqe();return(s,a)=>e(s,a)||t(s,a)||Yqe},Zqe={dropAnimationFinished:nZ},Jqe=AQ(Qqe,Zqe,null,{context:V3,areStatePropsEqual:NZ})(Hqe);function CZ(e){return Mw(H3).isUsingCloneFor===e.draggableId&&!e.isClone?null:V.createElement(Jqe,e)}function eGe(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,s=!!e.shouldRespectForcePress;return V.createElement(CZ,ta({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:s}))}const EZ=e=>t=>e===t,tGe=EZ("scroll"),rGe=EZ("auto"),bL=(e,t)=>t(e.overflowX)||t(e.overflowY),nGe=e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return bL(r,tGe)||bL(r,rGe)},sGe=()=>!1,AZ=e=>e==null?null:e===document.body?sGe()?e:null:e===document.documentElement?null:nGe(e)?e:AZ(e.parentElement);var vP=e=>({x:e.scrollLeft,y:e.scrollTop});const PZ=e=>e?window.getComputedStyle(e).position==="fixed"?!0:PZ(e.parentElement):!1;var aGe=e=>{const t=AZ(e),r=PZ(e);return{closestScrollable:t,isFixedOnPage:r}},iGe=({descriptor:e,isEnabled:t,isCombineEnabled:r,isFixedOnPage:s,direction:a,client:i,page:o,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:m,client:h}=l,x=oZ({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:h.paddingBox.height,width:h.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:h,scrollSize:m,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:x,diff:{value:Ls,displacement:Ls}}}})(),d=a==="vertical"?k3:BQ,u=Ip({page:o,withPlaceholder:null,axis:d,frame:c});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:s,axis:d,isEnabled:t,client:i,page:o,frame:c,subject:u}};const oGe=(e,t)=>{const r=kQ(e);if(!t||e!==t)return r;const s=r.paddingBox.top-t.scrollTop,a=r.paddingBox.left-t.scrollLeft,i=s+t.scrollHeight,o=a+t.scrollWidth,c=C3({top:s,right:o,bottom:i,left:a},r.border);return E3({borderBox:c,margin:r.margin,border:r.border,padding:r.padding})};var lGe=({ref:e,descriptor:t,env:r,windowScroll:s,direction:a,isDropDisabled:i,isCombineEnabled:o,shouldClipSubject:l})=>{const c=r.closestScrollable,d=oGe(e,c),u=Tw(d,s),f=(()=>{if(!c)return null;const h=kQ(c),x={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:h,page:Tw(h,s),scroll:vP(c),scrollSize:x,shouldClipSubject:l}})();return iGe({descriptor:t,isEnabled:!i,isCombineEnabled:o,isFixedOnPage:r.isFixedOnPage,direction:a,client:d,page:u,closest:f})};const cGe={passive:!1},dGe={passive:!0};var wL=e=>e.shouldPublishImmediately?cGe:dGe;const Ij=e=>e&&e.env.closestScrollable||null;function uGe(e){const t=v.useRef(null),r=Mw(r_),s=z3("droppable"),{registry:a,marshal:i}=r,o=xZ(e),l=ur(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=v.useRef(l),d=ur(()=>Rs((b,N)=>{t.current||tt();const S={x:b,y:N};i.updateDroppableScroll(l.id,S)}),[l.id,i]),u=St(()=>{const b=t.current;return!b||!b.env.closestScrollable?Ls:vP(b.env.closestScrollable)},[]),f=St(()=>{const b=u();d(b.x,b.y)},[u,d]),m=ur(()=>fv(f),[f]),h=St(()=>{const b=t.current,N=Ij(b);if(b&&N||tt(),b.scrollOptions.shouldPublishImmediately){f();return}m()},[m,f]),x=St((b,N)=>{t.current&&tt();const S=o.current,_=S.getDroppableRef();_||tt();const E=aGe(_),A={ref:_,descriptor:l,env:E,scrollOptions:N};t.current=A;const T=lGe({ref:_,descriptor:l,env:E,windowScroll:b,direction:S.direction,isDropDisabled:S.isDropDisabled,isCombineEnabled:S.isCombineEnabled,shouldClipSubject:!S.ignoreContainerClipping}),R=E.closestScrollable;return R&&(R.setAttribute(xL.contextId,r.contextId),R.addEventListener("scroll",h,wL(A.scrollOptions))),T},[r.contextId,l,h,o]),p=St(()=>{const b=t.current,N=Ij(b);return b&&N||tt(),vP(N)},[]),g=St(()=>{const b=t.current;b||tt();const N=Ij(b);t.current=null,N&&(m.cancel(),N.removeAttribute(xL.contextId),N.removeEventListener("scroll",h,wL(b.scrollOptions)))},[h,m]),j=St(b=>{const N=t.current;N||tt();const S=Ij(N);S||tt(),S.scrollTop+=b.y,S.scrollLeft+=b.x},[]),y=ur(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:p,dragStopped:g,scroll:j}),[g,x,p,j]),w=ur(()=>({uniqueId:s,descriptor:l,callbacks:y}),[y,l,s]);Hi(()=>(c.current=w.descriptor,a.droppable.register(w),()=>{t.current&&g(),a.droppable.unregister(w)}),[y,l,g,w,i,a.droppable]),Hi(()=>{t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Hi(()=>{t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function hC(){}const NL={width:0,height:0,margin:vze},fGe=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>e||r==="close"?NL:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},mGe=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>{const s=fGe({isAnimatingOpenOnMount:e,placeholder:t,animate:r});return{display:t.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?Ug.placeholder:null}},hGe=e=>{const t=v.useRef(null),r=St(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:s,onTransitionEnd:a,onClose:i,contextId:o}=e,[l,c]=v.useState(e.animate==="open");v.useEffect(()=>l?s!=="open"?(r(),c(!1),hC):t.current?hC:(t.current=setTimeout(()=>{t.current=null,c(!1)}),r):hC,[s,l,r]);const d=St(f=>{f.propertyName==="height"&&(a(),s==="close"&&i())},[s,i,a]),u=mGe({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return V.createElement(e.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})};var pGe=V.memo(hGe);class xGe extends V.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,r){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const gGe=e=>{const t=v.useContext(r_);t||tt();const{contextId:r,isMovementAllowed:s}=t,a=v.useRef(null),i=v.useRef(null),{children:o,droppableId:l,type:c,mode:d,direction:u,ignoreContainerClipping:f,isDropDisabled:m,isCombineEnabled:h,snapshot:x,useClone:p,updateViewportMaxScroll:g,getContainerForClone:j}=e,y=St(()=>a.current,[]),w=St((R=null)=>{a.current=R},[]);St(()=>i.current,[]);const b=St((R=null)=>{i.current=R},[]),N=St(()=>{s()&&g({maxScroll:cZ()})},[s,g]);uGe({droppableId:l,type:c,mode:d,direction:u,isDropDisabled:m,isCombineEnabled:h,ignoreContainerClipping:f,getDroppableRef:y});const S=ur(()=>V.createElement(xGe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:R,data:I,animate:z})=>V.createElement(pGe,{placeholder:I,onClose:R,innerRef:b,animate:z,contextId:r,onTransitionEnd:N})),[r,N,e.placeholder,e.shouldAnimatePlaceholder,b]),_=ur(()=>({innerRef:w,placeholder:S,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":r}}),[r,l,S,w]),E=p?p.dragging.draggableId:null,A=ur(()=>({droppableId:l,type:c,isUsingCloneFor:E}),[l,E,c]);function T(){if(!p)return null;const{dragging:R,render:I}=p,z=V.createElement(CZ,{draggableId:R.draggableId,index:R.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(H,F)=>I(H,F,R));return hN.createPortal(z,j())}return V.createElement(H3.Provider,{value:A},o(_,x),T())};function vGe(){return document.body||tt(),document.body}const _L={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:vGe},kZ=e=>{let t={...e},r;for(r in _L)e[r]===void 0&&(t={...t,[r]:_L[r]});return t},pC=(e,t)=>e===t.droppable.type,SL=(e,t)=>t.draggables[e.draggable.id],yGe=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=Rs(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),s=Rs((i,o,l,c,d,u)=>{const f=d.descriptor.id;if(d.descriptor.droppableId===i){const x=u?{render:u,dragging:r(d.descriptor)}:null,p={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:p,useClone:x}}if(!o)return t;if(!c)return e;const h={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}});return(i,o)=>{const l=kZ(o),c=l.droppableId,d=l.type,u=!l.isDropDisabled,f=l.renderClone;if(vv(i)){const m=i.critical;if(!pC(d,m))return t;const h=SL(m,i.dimensions),x=Wi(i.impact)===c;return s(c,u,x,x,h,f)}if(i.phase==="DROP_ANIMATING"){const m=i.completed;if(!pC(d,m.critical))return t;const h=SL(m.critical,i.dimensions);return s(c,u,_Z(m.result)===c,Wi(m.impact)===c,h,f)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const m=i.completed;if(!pC(d,m.critical))return t;const h=Wi(m.impact)===c,x=!!(m.impact.at&&m.impact.at.type==="COMBINE"),p=m.critical.droppable.id===c;return h?x?e:t:p?e:t}return t}},jGe={updateViewportMaxScroll:kWe},bGe=AQ(yGe,jGe,(e,t,r)=>({...kZ(r),...e,...t}),{context:V3,areStatePropsEqual:NZ})(gGe);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Fw={};Fw.version="0.18.5";var TZ=1252,wGe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],OZ=function(e){wGe.indexOf(e)!=-1&&(TZ=e)};function NGe(){OZ(1252)}var yv=function(e){OZ(e)};function _Ge(){yv(1200),NGe()}var Rj=function(t){return String.fromCharCode(t)},CL=function(t){return String.fromCharCode(t)},lf,Jd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function jv(e){for(var t="",r=0,s=0,a=0,i=0,o=0,l=0,c=0,d=0;d<e.length;)r=e.charCodeAt(d++),i=r>>2,s=e.charCodeAt(d++),o=(r&3)<<4|s>>4,a=e.charCodeAt(d++),l=(s&15)<<2|a>>6,c=a&63,isNaN(s)?l=c=64:isNaN(a)&&(c=64),t+=Jd.charAt(i)+Jd.charAt(o)+Jd.charAt(l)+Jd.charAt(c);return t}function ld(e){var t="",r=0,s=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=Jd.indexOf(e.charAt(d++)),o=Jd.indexOf(e.charAt(d++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=Jd.indexOf(e.charAt(d++)),s=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(s)),c=Jd.indexOf(e.charAt(d++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var br=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),vd=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function im(e){return br?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function EL(e){return br?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Jo=function(t){return br?vd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function s_(e){if(typeof ArrayBuffer>"u")return Jo(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),s=0;s!=e.length;++s)r[s]=e.charCodeAt(s)&255;return t}function Ay(e){if(Array.isArray(e))return e.map(function(s){return String.fromCharCode(s)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function SGe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Ks=br?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:vd(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var s=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)s.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";s.set(new Uint8Array(e[t]),r)}return s}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function CGe(e){for(var t=[],r=0,s=e.length+250,a=im(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>s&&(t.push(a.slice(0,r)),r=0,a=im(65535),s=65530)}return t.push(a.slice(0,r)),Ks(t)}var Vg=/\u0000/g,Mj=/[\u0001-\u0006]/g;function Eh(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function rl(e,t){var r=""+e;return r.length>=t?r:Fn("0",t-r.length)+r}function q3(e,t){var r=""+e;return r.length>=t?r:Fn(" ",t-r.length)+r}function $w(e,t){var r=""+e;return r.length>=t?r:r+Fn(" ",t-r.length)}function EGe(e,t){var r=""+Math.round(e);return r.length>=t?r:Fn("0",t-r.length)+r}function AGe(e,t){var r=""+e;return r.length>=t?r:Fn("0",t-r.length)+r}var AL=Math.pow(2,32);function Lm(e,t){if(e>AL||e<-AL)return EGe(e,t);var r=Math.round(e);return AGe(r,t)}function Lw(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var PL=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],xC=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function PGe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ln={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},kL={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},kGe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Bw(e,t,r){for(var s=e<0?-1:1,a=e*s,i=0,o=1,l=0,c=1,d=0,u=0,f=Math.floor(a);d<t&&(f=Math.floor(a),l=f*o+i,u=f*d+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=d,d=u;if(u>t&&(d>t?(u=c,l=i):(u=d,l=o)),!r)return[0,s*l,u];var m=Math.floor(s*l/u);return[m,s*l-m*u,u]}function Fj(e,t,r){if(e>2958465||e<0)return null;var s=e|0,a=Math.floor(86400*(e-s)),i=0,o=[],l={D:s,T:a,u:86400*(e-s)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(s+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++s,++l.D)),s===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(s===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{s>60&&--s;var c=new Date(1900,0,1);c.setDate(c.getDate()+s-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),s<60&&(i=(i+6)%7),r&&(i=FGe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var DZ=new Date(1899,11,31,0,0,0),TGe=DZ.getTime(),OGe=new Date(1900,2,1,0,0,0);function IZ(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=OGe&&(r+=24*60*60*1e3),(r-(TGe+(e.getTimezoneOffset()-DZ.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function G3(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function DGe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function IGe(e){var t=e<0?12:11,r=G3(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function RGe(e){var t=G3(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function MGe(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=IGe(e):t===10?r=e.toFixed(10).substr(0,12):r=RGe(e),G3(DGe(r.toUpperCase()))}function yP(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):MGe(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Eu(14,IZ(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function FGe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function $Ge(e,t,r,s){var a="",i=0,o=0,l=r.y,c,d=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,d=t.length;break;case 3:return xC[r.m-1][1];case 5:return xC[r.m-1][0];default:return xC[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,d=t.length;break;case 3:return PL[r.q][0];default:return PL[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?rl(r.S,t.length):(s>=2?o=s===3?1e3:100:o=s===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=rl(i,2+s),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?rl(c,d):"";return u}function eu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,s=e.substr(0,r);r!=e.length;r+=t)s+=(s.length>0?",":"")+e.substr(r,t);return s}var RZ=/%/g;function LGe(e,t,r){var s=t.replace(RZ,""),a=t.length-s.length;return zc(e,s,r*Math.pow(10,2*a))+Fn("%",a)}function BGe(e,t,r){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return zc(e,t.substr(0,s),r/Math.pow(10,3*(t.length-s)))}function MZ(e,t){var r,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+MZ(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(s);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var FZ=/# (\?+)( ?)\/( ?)(\d+)/;function UGe(e,t,r){var s=parseInt(e[4],10),a=Math.round(t*s),i=Math.floor(a/s),o=a-i*s,l=s;return r+(i===0?"":""+i)+" "+(o===0?Fn(" ",e[1].length+1+e[4].length):q3(o,e[1].length)+e[2]+"/"+e[3]+rl(l,e[4].length))}function VGe(e,t,r){return r+(t===0?"":""+t)+Fn(" ",e[1].length+2+e[4].length)}var $Z=/^#*0*\.([0#]+)/,LZ=/\).*[0#]/,BZ=/\(###\) ###\\?-####/;function ka(e){for(var t="",r,s=0;s!=e.length;++s)switch(r=e.charCodeAt(s)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function TL(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function OL(e,t){var r=e-Math.floor(e),s=Math.pow(10,t);return t<(""+Math.round(r*s)).length?0:Math.round(r*s)}function zGe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function WGe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function co(e,t,r){if(e.charCodeAt(0)===40&&!t.match(LZ)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?co("n",s,r):"("+co("n",s,-r)+")"}if(t.charCodeAt(t.length-1)===44)return BGe(e,t,r);if(t.indexOf("%")!==-1)return LGe(e,t,r);if(t.indexOf("E")!==-1)return MZ(t,r);if(t.charCodeAt(0)===36)return"$"+co(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Lm(c,t.length);if(t.match(/^[#?]+$/))return a=Lm(r,0),a==="0"&&(a=""),a.length>t.length?a:ka(t.substr(0,t.length-a.length))+a;if(i=t.match(FZ))return UGe(i,c,d);if(t.match(/^#+0+$/))return d+Lm(c,t.length-t.indexOf("0"));if(i=t.match($Z))return a=TL(r,i[1].length).replace(/^([^\.]+)$/,"$1."+ka(i[1])).replace(/\.$/,"."+ka(i[1])).replace(/\.(\d*)$/,function(x,p){return"."+p+Fn("0",ka(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+TL(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+eu(Lm(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+co(e,t,-r):eu(""+(Math.floor(r)+zGe(r,i[1].length)))+"."+rl(OL(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return co(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Eh(co(e,t.replace(/[\\-]/g,""),r)),o=0,Eh(Eh(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(BZ))return a=co(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Bw(c,Math.pow(10,o)-1,!1),a=""+d,u=zc("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=$w(l[2],o),u.length<i[4].length&&(u=ka(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Bw(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?q3(l[1],o)+i[2]+"/"+i[3]+$w(l[2],o):Fn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Lm(r,0),t.length<=a.length?a:ka(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return ka(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=OL(r,i[1].length),r<0?"-"+co(e,t,-r):eu(WGe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?rl(0,3-x.length):"")+x})+"."+rl(o,i[1].length);switch(t){case"###,##0.00":return co(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=eu(Lm(c,0));return h!=="0"?d+h:"";case"###,###.00":return co(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return co(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function HGe(e,t,r){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return zc(e,t.substr(0,s),r/Math.pow(10,3*(t.length-s)))}function qGe(e,t,r){var s=t.replace(RZ,""),a=t.length-s.length;return zc(e,s,r*Math.pow(10,2*a))+Fn("%",a)}function UZ(e,t){var r,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+UZ(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(s);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function kl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(LZ)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?kl("n",s,r):"("+kl("n",s,-r)+")"}if(t.charCodeAt(t.length-1)===44)return HGe(e,t,r);if(t.indexOf("%")!==-1)return qGe(e,t,r);if(t.indexOf("E")!==-1)return UZ(t,r);if(t.charCodeAt(0)===36)return"$"+kl(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+rl(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:ka(t.substr(0,t.length-a.length))+a;if(i=t.match(FZ))return VGe(i,c,d);if(t.match(/^#+0+$/))return d+rl(c,t.length-t.indexOf("0"));if(i=t.match($Z))return a=(""+r).replace(/^([^\.]+)$/,"$1."+ka(i[1])).replace(/\.$/,"."+ka(i[1])),a=a.replace(/\.(\d*)$/,function(x,p){return"."+p+Fn("0",ka(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+eu(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+kl(e,t,-r):eu(""+r)+"."+Fn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return kl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Eh(kl(e,t.replace(/[\\-]/g,""),r)),o=0,Eh(Eh(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(BZ))return a=kl(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Bw(c,Math.pow(10,o)-1,!1),a=""+d,u=zc("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=$w(l[2],o),u.length<i[4].length&&(u=ka(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Bw(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?q3(l[1],o)+i[2]+"/"+i[3]+$w(l[2],o):Fn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:ka(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return ka(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+kl(e,t,-r):eu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?rl(0,3-x.length):"")+x})+"."+rl(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=eu(""+c);return h!=="0"?d+h:"";default:if(t.match(/\.[0#?]*$/))return kl(e,t.slice(0,t.lastIndexOf(".")),r)+ka(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function zc(e,t,r){return(r|0)===r?kl(e,t,r):co(e,t,r)}function GGe(e){for(var t=[],r=!1,s=0,a=0;s<e.length;++s)switch(e.charCodeAt(s)){case 34:r=!r;break;case 95:case 42:case 92:++s;break;case 59:t[t.length]=e.substr(a,s-a),a=s+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var VZ=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function zZ(e){for(var t=0,r="",s="";t<e.length;)switch(r=e.charAt(t)){case"G":Lw(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(s=r;e.charAt(t++)!=="]"&&t<e.length;)s+=e.charAt(t);if(s.match(VZ))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function KGe(e,t,r,s){for(var a=[],i="",o=0,l="",c="t",d,u,f,m="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!Lw(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var h=e.charAt(++o),x=h==="("||h===")"?h:"t";a[a.length]={t:x,v:h},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(d==null&&(d=Fj(t,r,e.charAt(o+1)==="2"),d==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=Fj(t,r),d==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var p={t:l,v:l};if(d==null&&(d=Fj(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(p.v=d.H>=12?"P":"A"),p.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(p.v=d.H>=12?"PM":"AM"),p.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(d!=null&&(p.v=d.H>=12?"":""),p.t="T",o+=5,m="h"):(p.t="t",++o),d==null&&p.t==="T")return"";a[a.length]=p,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(VZ)){if(d==null&&(d=Fj(t,r),d==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",zZ(e)||(a[a.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:s===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var g=0,j=0,y;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=m,c="h",g<1&&(g=1);break;case"s":(y=a[o].v.match(/\.0+$/))&&(j=Math.max(j,y[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[o].v.match(/[Hh]/)&&(g=1),g<2&&a[o].v.match(/[Mm]/)&&(g=2),g<3&&a[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var w="",b;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=$Ge(a[o].t.charCodeAt(0),a[o].v,d,j),a[o].t="t";break;case"n":case"?":for(b=o+1;a[b]!=null&&((l=a[b].t)==="?"||l==="D"||(l===" "||l==="t")&&a[b+1]!=null&&(a[b+1].t==="?"||a[b+1].t==="t"&&a[b+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[b].v==="/"||a[b].v===" "&&a[b+1]!=null&&a[b+1].t=="?"));)a[o].v+=a[b].v,a[b]={v:"",t:";"},++b;w+=a[o].v,o=b-1;break;case"G":a[o].t="t",a[o].v=yP(t,r);break}var N="",S,_;if(w.length>0){w.charCodeAt(0)==40?(S=t<0&&w.charCodeAt(0)===45?-t:t,_=zc("n",w,S)):(S=t<0&&s>1?-t:t,_=zc("n",w,S),S<0&&a[0]&&a[0].t=="t"&&(_=_.substr(1),a[0].v="-"+a[0].v)),b=_.length-1;var E=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){E=o;break}var A=a.length;if(E===a.length&&_.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(b>=a[o].v.length-1?(b-=a[o].v.length,a[o].v=_.substr(b+1,a[o].v.length)):b<0?a[o].v="":(a[o].v=_.substr(0,b+1),b=-1),a[o].t="t",A=o);b>=0&&A<a.length&&(a[A].v=_.substr(0,b+1)+a[A].v)}else if(E!==a.length&&_.indexOf("E")===-1){for(b=_.indexOf(".")-1,o=E;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(u=a[o].v.indexOf(".")>-1&&o===E?a[o].v.indexOf(".")-1:a[o].v.length-1,N=a[o].v.substr(u+1);u>=0;--u)b>=0&&(a[o].v.charAt(u)==="0"||a[o].v.charAt(u)==="#")&&(N=_.charAt(b--)+N);a[o].v=N,a[o].t="t",A=o}for(b>=0&&A<a.length&&(a[A].v=_.substr(0,b+1)+a[A].v),b=_.indexOf(".")+1,o=E;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==E)){for(u=a[o].v.indexOf(".")>-1&&o===E?a[o].v.indexOf(".")+1:0,N=a[o].v.substr(0,u);u<a[o].v.length;++u)b<_.length&&(N+=_.charAt(b++));a[o].v=N,a[o].t="t",A=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(S=s>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=zc(a[o].t,a[o].v,S),a[o].t="t");var T="";for(o=0;o!==a.length;++o)a[o]!=null&&(T+=a[o].v);return T}var DL=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function IL(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function YGe(e,t){var r=GGe(e),s=r.length,a=r[s-1].indexOf("@");if(s<4&&a>-1&&--s,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[s,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(DL),l=r[1].match(DL);return IL(t,o)?[s,r[0]]:IL(t,l)?[s,r[1]]:[s,r[o!=null&&l!=null?2:1]]}return[s,i]}function Eu(e,t,r){r==null&&(r={});var s="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?s=r.dateNF:s=e;break;case"number":e==14&&r.dateNF?s=r.dateNF:s=(r.table!=null?r.table:Ln)[e],s==null&&(s=r.table&&r.table[kL[e]]||Ln[kL[e]]),s==null&&(s=kGe[e]||"General");break}if(Lw(s,0))return yP(t,r);t instanceof Date&&(t=IZ(t,r.date1904));var a=YGe(s,t);if(Lw(a[1]))return yP(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return KGe(a[1],t,r,a[0])}function WZ(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ln[r]==null){t<0&&(t=r);continue}if(Ln[r]==e){t=r;break}}t<0&&(t=391)}return Ln[t]=e,t}function a_(e){for(var t=0;t!=392;++t)e[t]!==void 0&&WZ(e[t],t)}function i_(){Ln=PGe()}var HZ=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function XGe(e){var t=typeof e=="number"?Ln[e]:e;return t=t.replace(HZ,"(\\d+)"),new RegExp("^"+t+"$")}function QGe(e,t,r){var s=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(HZ)||[]).forEach(function(f,m){var h=parseInt(r[m+1],10);switch(f.toLowerCase().charAt(0)){case"y":s=h;break;case"d":i=h;break;case"h":o=h;break;case"s":c=h;break;case"m":o>=0?l=h:a=h;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var d=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:s==-1&&a==-1&&i==-1?u:d+"T"+u}var ZGe=function(){var e={};e.version="1.2.0";function t(){for(var _=0,E=new Array(256),A=0;A!=256;++A)_=A,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,_=_&1?-306674912^_>>>1:_>>>1,E[A]=_;return typeof Int32Array<"u"?new Int32Array(E):E}var r=t();function s(_){var E=0,A=0,T=0,R=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(T=0;T!=256;++T)R[T]=_[T];for(T=0;T!=256;++T)for(A=_[T],E=256+T;E<4096;E+=256)A=R[E]=A>>>8^_[A&255];var I=[];for(T=1;T!=16;++T)I[T-1]=typeof Int32Array<"u"?R.subarray(T*256,T*256+256):R.slice(T*256,T*256+256);return I}var a=s(r),i=a[0],o=a[1],l=a[2],c=a[3],d=a[4],u=a[5],f=a[6],m=a[7],h=a[8],x=a[9],p=a[10],g=a[11],j=a[12],y=a[13],w=a[14];function b(_,E){for(var A=E^-1,T=0,R=_.length;T<R;)A=A>>>8^r[(A^_.charCodeAt(T++))&255];return~A}function N(_,E){for(var A=E^-1,T=_.length-15,R=0;R<T;)A=w[_[R++]^A&255]^y[_[R++]^A>>8&255]^j[_[R++]^A>>16&255]^g[_[R++]^A>>>24]^p[_[R++]]^x[_[R++]]^h[_[R++]]^m[_[R++]]^f[_[R++]]^u[_[R++]]^d[_[R++]]^c[_[R++]]^l[_[R++]]^o[_[R++]]^i[_[R++]]^r[_[R++]];for(T+=15;R<T;)A=A>>>8^r[(A^_[R++])&255];return~A}function S(_,E){for(var A=E^-1,T=0,R=_.length,I=0,z=0;T<R;)I=_.charCodeAt(T++),I<128?A=A>>>8^r[(A^I)&255]:I<2048?(A=A>>>8^r[(A^(192|I>>6&31))&255],A=A>>>8^r[(A^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,z=_.charCodeAt(T++)&1023,A=A>>>8^r[(A^(240|I>>8&7))&255],A=A>>>8^r[(A^(128|I>>2&63))&255],A=A>>>8^r[(A^(128|z>>6&15|(I&3)<<4))&255],A=A>>>8^r[(A^(128|z&63))&255]):(A=A>>>8^r[(A^(224|I>>12&15))&255],A=A>>>8^r[(A^(128|I>>6&63))&255],A=A>>>8^r[(A^(128|I&63))&255]);return~A}return e.table=r,e.bstr=b,e.buf=N,e.str=S,e}(),Br=function(){var t={};t.version="1.2.1";function r(W,se){for(var Z=W.split("/"),ee=se.split("/"),ae=0,oe=0,Ee=Math.min(Z.length,ee.length);ae<Ee;++ae){if(oe=Z[ae].length-ee[ae].length)return oe;if(Z[ae]!=ee[ae])return Z[ae]<ee[ae]?-1:1}return Z.length-ee.length}function s(W){if(W.charAt(W.length-1)=="/")return W.slice(0,-1).indexOf("/")===-1?W:s(W.slice(0,-1));var se=W.lastIndexOf("/");return se===-1?W:W.slice(0,se+1)}function a(W){if(W.charAt(W.length-1)=="/")return a(W.slice(0,-1));var se=W.lastIndexOf("/");return se===-1?W:W.slice(se+1)}function i(W,se){typeof se=="string"&&(se=new Date(se));var Z=se.getHours();Z=Z<<6|se.getMinutes(),Z=Z<<5|se.getSeconds()>>>1,W.write_shift(2,Z);var ee=se.getFullYear()-1980;ee=ee<<4|se.getMonth()+1,ee=ee<<5|se.getDate(),W.write_shift(2,ee)}function o(W){var se=W.read_shift(2)&65535,Z=W.read_shift(2)&65535,ee=new Date,ae=Z&31;Z>>>=5;var oe=Z&15;Z>>>=4,ee.setMilliseconds(0),ee.setFullYear(Z+1980),ee.setMonth(oe-1),ee.setDate(ae);var Ee=se&31;se>>>=5;var Be=se&63;return se>>>=6,ee.setHours(se),ee.setMinutes(Be),ee.setSeconds(Ee<<1),ee}function l(W){Oi(W,0);for(var se={},Z=0;W.l<=W.length-4;){var ee=W.read_shift(2),ae=W.read_shift(2),oe=W.l+ae,Ee={};switch(ee){case 21589:Z=W.read_shift(1),Z&1&&(Ee.mtime=W.read_shift(4)),ae>5&&(Z&2&&(Ee.atime=W.read_shift(4)),Z&4&&(Ee.ctime=W.read_shift(4))),Ee.mtime&&(Ee.mt=new Date(Ee.mtime*1e3));break}W.l=oe,se[ee]=Ee}return se}var c;function d(){return c||(c={})}function u(W,se){if(W[0]==80&&W[1]==75)return tr(W,se);if((W[0]|32)==109&&(W[1]|32)==105)return wt(W,se);if(W.length<512)throw new Error("CFB file size "+W.length+" < 512");var Z=3,ee=512,ae=0,oe=0,Ee=0,Be=0,Se=0,Ae=[],Te=W.slice(0,512);Oi(Te,0);var Ke=f(Te);switch(Z=Ke[0],Z){case 3:ee=512;break;case 4:ee=4096;break;case 0:if(Ke[1]==0)return tr(W,se);default:throw new Error("Major Version: Expected 3 or 4 saw "+Z)}ee!==512&&(Te=W.slice(0,ee),Oi(Te,28));var ot=W.slice(0,ee);m(Te,Z);var xt=Te.read_shift(4,"i");if(Z===3&&xt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+xt);Te.l+=4,Ee=Te.read_shift(4,"i"),Te.l+=4,Te.chk("00100000","Mini Stream Cutoff Size: "),Be=Te.read_shift(4,"i"),ae=Te.read_shift(4,"i"),Se=Te.read_shift(4,"i"),oe=Te.read_shift(4,"i");for(var Ze=-1,dt=0;dt<109&&(Ze=Te.read_shift(4,"i"),!(Ze<0));++dt)Ae[dt]=Ze;var Wt=h(W,ee);g(Se,oe,Wt,ee,Ae);var jn=y(Wt,Ee,Ae,ee);jn[Ee].name="!Directory",ae>0&&Be!==z&&(jn[Be].name="!MiniFAT"),jn[Ae[0]].name="!FAT",jn.fat_addrs=Ae,jn.ssz=ee;var bn={},sa=[],Nx=[],_x=[];w(Ee,jn,Wt,sa,ae,bn,Nx,Be),x(Nx,_x,sa),sa.shift();var Sx={FileIndex:Nx,FullPaths:_x};return se&&se.raw&&(Sx.raw={header:ot,sectors:Wt}),Sx}function f(W){if(W[W.l]==80&&W[W.l+1]==75)return[0,0];W.chk(H,"Header Signature: "),W.l+=16;var se=W.read_shift(2,"u");return[W.read_shift(2,"u"),se]}function m(W,se){var Z=9;switch(W.l+=2,Z=W.read_shift(2)){case 9:if(se!=3)throw new Error("Sector Shift: Expected 9 saw "+Z);break;case 12:if(se!=4)throw new Error("Sector Shift: Expected 12 saw "+Z);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Z)}W.chk("0600","Mini Sector Shift: "),W.chk("000000000000","Reserved: ")}function h(W,se){for(var Z=Math.ceil(W.length/se)-1,ee=[],ae=1;ae<Z;++ae)ee[ae-1]=W.slice(ae*se,(ae+1)*se);return ee[Z-1]=W.slice(Z*se),ee}function x(W,se,Z){for(var ee=0,ae=0,oe=0,Ee=0,Be=0,Se=Z.length,Ae=[],Te=[];ee<Se;++ee)Ae[ee]=Te[ee]=ee,se[ee]=Z[ee];for(;Be<Te.length;++Be)ee=Te[Be],ae=W[ee].L,oe=W[ee].R,Ee=W[ee].C,Ae[ee]===ee&&(ae!==-1&&Ae[ae]!==ae&&(Ae[ee]=Ae[ae]),oe!==-1&&Ae[oe]!==oe&&(Ae[ee]=Ae[oe])),Ee!==-1&&(Ae[Ee]=ee),ae!==-1&&ee!=Ae[ee]&&(Ae[ae]=Ae[ee],Te.lastIndexOf(ae)<Be&&Te.push(ae)),oe!==-1&&ee!=Ae[ee]&&(Ae[oe]=Ae[ee],Te.lastIndexOf(oe)<Be&&Te.push(oe));for(ee=1;ee<Se;++ee)Ae[ee]===ee&&(oe!==-1&&Ae[oe]!==oe?Ae[ee]=Ae[oe]:ae!==-1&&Ae[ae]!==ae&&(Ae[ee]=Ae[ae]));for(ee=1;ee<Se;++ee)if(W[ee].type!==0){if(Be=ee,Be!=Ae[Be])do Be=Ae[Be],se[ee]=se[Be]+"/"+se[ee];while(Be!==0&&Ae[Be]!==-1&&Be!=Ae[Be]);Ae[ee]=-1}for(se[0]+="/",ee=1;ee<Se;++ee)W[ee].type!==2&&(se[ee]+="/")}function p(W,se,Z){for(var ee=W.start,ae=W.size,oe=[],Ee=ee;Z&&ae>0&&Ee>=0;)oe.push(se.slice(Ee*I,Ee*I+I)),ae-=I,Ee=cf(Z,Ee*4);return oe.length===0?Me(0):Ks(oe).slice(0,W.size)}function g(W,se,Z,ee,ae){var oe=z;if(W===z){if(se!==0)throw new Error("DIFAT chain shorter than expected")}else if(W!==-1){var Ee=Z[W],Be=(ee>>>2)-1;if(!Ee)return;for(var Se=0;Se<Be&&(oe=cf(Ee,Se*4))!==z;++Se)ae.push(oe);g(cf(Ee,ee-4),se-1,Z,ee,ae)}}function j(W,se,Z,ee,ae){var oe=[],Ee=[];ae||(ae=[]);var Be=ee-1,Se=0,Ae=0;for(Se=se;Se>=0;){ae[Se]=!0,oe[oe.length]=Se,Ee.push(W[Se]);var Te=Z[Math.floor(Se*4/ee)];if(Ae=Se*4&Be,ee<4+Ae)throw new Error("FAT boundary crossed: "+Se+" 4 "+ee);if(!W[Te])break;Se=cf(W[Te],Ae)}return{nodes:oe,data:VL([Ee])}}function y(W,se,Z,ee){var ae=W.length,oe=[],Ee=[],Be=[],Se=[],Ae=ee-1,Te=0,Ke=0,ot=0,xt=0;for(Te=0;Te<ae;++Te)if(Be=[],ot=Te+se,ot>=ae&&(ot-=ae),!Ee[ot]){Se=[];var Ze=[];for(Ke=ot;Ke>=0;){Ze[Ke]=!0,Ee[Ke]=!0,Be[Be.length]=Ke,Se.push(W[Ke]);var dt=Z[Math.floor(Ke*4/ee)];if(xt=Ke*4&Ae,ee<4+xt)throw new Error("FAT boundary crossed: "+Ke+" 4 "+ee);if(!W[dt]||(Ke=cf(W[dt],xt),Ze[Ke]))break}oe[ot]={nodes:Be,data:VL([Se])}}return oe}function w(W,se,Z,ee,ae,oe,Ee,Be){for(var Se=0,Ae=ee.length?2:0,Te=se[W].data,Ke=0,ot=0,xt;Ke<Te.length;Ke+=128){var Ze=Te.slice(Ke,Ke+128);Oi(Ze,64),ot=Ze.read_shift(2),xt=Z3(Ze,0,ot-Ae),ee.push(xt);var dt={name:xt,type:Ze.read_shift(1),color:Ze.read_shift(1),L:Ze.read_shift(4,"i"),R:Ze.read_shift(4,"i"),C:Ze.read_shift(4,"i"),clsid:Ze.read_shift(16),state:Ze.read_shift(4,"i"),start:0,size:0},Wt=Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2);Wt!==0&&(dt.ct=b(Ze,Ze.l-8));var jn=Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2);jn!==0&&(dt.mt=b(Ze,Ze.l-8)),dt.start=Ze.read_shift(4,"i"),dt.size=Ze.read_shift(4,"i"),dt.size<0&&dt.start<0&&(dt.size=dt.type=0,dt.start=z,dt.name=""),dt.type===5?(Se=dt.start,ae>0&&Se!==z&&(se[Se].name="!StreamData")):dt.size>=4096?(dt.storage="fat",se[dt.start]===void 0&&(se[dt.start]=j(Z,dt.start,se.fat_addrs,se.ssz)),se[dt.start].name=dt.name,dt.content=se[dt.start].data.slice(0,dt.size)):(dt.storage="minifat",dt.size<0?dt.size=0:Se!==z&&dt.start!==z&&se[Se]&&(dt.content=p(dt,se[Se].data,(se[Be]||{}).data))),dt.content&&Oi(dt.content,0),oe[xt]=dt,Ee.push(dt)}}function b(W,se){return new Date((Ri(W,se+4)/1e7*Math.pow(2,32)+Ri(W,se)/1e7-11644473600)*1e3)}function N(W,se){return d(),u(c.readFileSync(W),se)}function S(W,se){var Z=se&&se.type;switch(Z||br&&Buffer.isBuffer(W)&&(Z="buffer"),Z||"base64"){case"file":return N(W,se);case"base64":return u(Jo(ld(W)),se);case"binary":return u(Jo(W),se)}return u(W,se)}function _(W,se){var Z=se||{},ee=Z.root||"Root Entry";if(W.FullPaths||(W.FullPaths=[]),W.FileIndex||(W.FileIndex=[]),W.FullPaths.length!==W.FileIndex.length)throw new Error("inconsistent CFB structure");W.FullPaths.length===0&&(W.FullPaths[0]=ee+"/",W.FileIndex[0]={name:ee,type:5}),Z.CLSID&&(W.FileIndex[0].clsid=Z.CLSID),E(W)}function E(W){var se="Sh33tJ5";if(!Br.find(W,"/"+se)){var Z=Me(4);Z[0]=55,Z[1]=Z[3]=50,Z[2]=54,W.FileIndex.push({name:se,type:2,content:Z,size:4,L:69,R:69,C:69}),W.FullPaths.push(W.FullPaths[0]+se),A(W)}}function A(W,se){_(W);for(var Z=!1,ee=!1,ae=W.FullPaths.length-1;ae>=0;--ae){var oe=W.FileIndex[ae];switch(oe.type){case 0:ee?Z=!0:(W.FileIndex.pop(),W.FullPaths.pop());break;case 1:case 2:case 5:ee=!0,isNaN(oe.R*oe.L*oe.C)&&(Z=!0),oe.R>-1&&oe.L>-1&&oe.R==oe.L&&(Z=!0);break;default:Z=!0;break}}if(!(!Z&&!se)){var Ee=new Date(1987,1,19),Be=0,Se=Object.create?Object.create(null):{},Ae=[];for(ae=0;ae<W.FullPaths.length;++ae)Se[W.FullPaths[ae]]=!0,W.FileIndex[ae].type!==0&&Ae.push([W.FullPaths[ae],W.FileIndex[ae]]);for(ae=0;ae<Ae.length;++ae){var Te=s(Ae[ae][0]);ee=Se[Te],ee||(Ae.push([Te,{name:a(Te).replace("/",""),type:1,clsid:k,ct:Ee,mt:Ee,content:null}]),Se[Te]=!0)}for(Ae.sort(function(xt,Ze){return r(xt[0],Ze[0])}),W.FullPaths=[],W.FileIndex=[],ae=0;ae<Ae.length;++ae)W.FullPaths[ae]=Ae[ae][0],W.FileIndex[ae]=Ae[ae][1];for(ae=0;ae<Ae.length;++ae){var Ke=W.FileIndex[ae],ot=W.FullPaths[ae];if(Ke.name=a(ot).replace("/",""),Ke.L=Ke.R=Ke.C=-(Ke.color=1),Ke.size=Ke.content?Ke.content.length:0,Ke.start=0,Ke.clsid=Ke.clsid||k,ae===0)Ke.C=Ae.length>1?1:-1,Ke.size=0,Ke.type=5;else if(ot.slice(-1)=="/"){for(Be=ae+1;Be<Ae.length&&s(W.FullPaths[Be])!=ot;++Be);for(Ke.C=Be>=Ae.length?-1:Be,Be=ae+1;Be<Ae.length&&s(W.FullPaths[Be])!=s(ot);++Be);Ke.R=Be>=Ae.length?-1:Be,Ke.type=1}else s(W.FullPaths[ae+1]||"")==s(ot)&&(Ke.R=ae+1),Ke.type=2}}}function T(W,se){var Z=se||{};if(Z.fileType=="mad")return es(W,Z);switch(A(W),Z.fileType){case"zip":return ds(W,Z)}var ee=function(xt){for(var Ze=0,dt=0,Wt=0;Wt<xt.FileIndex.length;++Wt){var jn=xt.FileIndex[Wt];if(jn.content){var bn=jn.content.length;bn>0&&(bn<4096?Ze+=bn+63>>6:dt+=bn+511>>9)}}for(var sa=xt.FullPaths.length+3>>2,Nx=Ze+7>>3,_x=Ze+127>>7,Sx=Nx+dt+sa+_x,qu=Sx+127>>7,p_=qu<=109?0:Math.ceil((qu-109)/127);Sx+qu+p_+127>>7>qu;)p_=++qu<=109?0:Math.ceil((qu-109)/127);var hc=[1,p_,qu,_x,sa,dt,Ze,0];return xt.FileIndex[0].size=Ze<<6,hc[7]=(xt.FileIndex[0].start=hc[0]+hc[1]+hc[2]+hc[3]+hc[4]+hc[5])+(hc[6]+7>>3),hc}(W),ae=Me(ee[7]<<9),oe=0,Ee=0;{for(oe=0;oe<8;++oe)ae.write_shift(1,F[oe]);for(oe=0;oe<8;++oe)ae.write_shift(2,0);for(ae.write_shift(2,62),ae.write_shift(2,3),ae.write_shift(2,65534),ae.write_shift(2,9),ae.write_shift(2,6),oe=0;oe<3;++oe)ae.write_shift(2,0);for(ae.write_shift(4,0),ae.write_shift(4,ee[2]),ae.write_shift(4,ee[0]+ee[1]+ee[2]+ee[3]-1),ae.write_shift(4,0),ae.write_shift(4,4096),ae.write_shift(4,ee[3]?ee[0]+ee[1]+ee[2]-1:z),ae.write_shift(4,ee[3]),ae.write_shift(-4,ee[1]?ee[0]-1:z),ae.write_shift(4,ee[1]),oe=0;oe<109;++oe)ae.write_shift(-4,oe<ee[2]?ee[1]+oe:-1)}if(ee[1])for(Ee=0;Ee<ee[1];++Ee){for(;oe<236+Ee*127;++oe)ae.write_shift(-4,oe<ee[2]?ee[1]+oe:-1);ae.write_shift(-4,Ee===ee[1]-1?z:Ee+1)}var Be=function(xt){for(Ee+=xt;oe<Ee-1;++oe)ae.write_shift(-4,oe+1);xt&&(++oe,ae.write_shift(-4,z))};for(Ee=oe=0,Ee+=ee[1];oe<Ee;++oe)ae.write_shift(-4,P.DIFSECT);for(Ee+=ee[2];oe<Ee;++oe)ae.write_shift(-4,P.FATSECT);Be(ee[3]),Be(ee[4]);for(var Se=0,Ae=0,Te=W.FileIndex[0];Se<W.FileIndex.length;++Se)Te=W.FileIndex[Se],Te.content&&(Ae=Te.content.length,!(Ae<4096)&&(Te.start=Ee,Be(Ae+511>>9)));for(Be(ee[6]+7>>3);ae.l&511;)ae.write_shift(-4,P.ENDOFCHAIN);for(Ee=oe=0,Se=0;Se<W.FileIndex.length;++Se)Te=W.FileIndex[Se],Te.content&&(Ae=Te.content.length,!(!Ae||Ae>=4096)&&(Te.start=Ee,Be(Ae+63>>6)));for(;ae.l&511;)ae.write_shift(-4,P.ENDOFCHAIN);for(oe=0;oe<ee[4]<<2;++oe){var Ke=W.FullPaths[oe];if(!Ke||Ke.length===0){for(Se=0;Se<17;++Se)ae.write_shift(4,0);for(Se=0;Se<3;++Se)ae.write_shift(4,-1);for(Se=0;Se<12;++Se)ae.write_shift(4,0);continue}Te=W.FileIndex[oe],oe===0&&(Te.start=Te.size?Te.start-1:z);var ot=oe===0&&Z.root||Te.name;if(Ae=2*(ot.length+1),ae.write_shift(64,ot,"utf16le"),ae.write_shift(2,Ae),ae.write_shift(1,Te.type),ae.write_shift(1,Te.color),ae.write_shift(-4,Te.L),ae.write_shift(-4,Te.R),ae.write_shift(-4,Te.C),Te.clsid)ae.write_shift(16,Te.clsid,"hex");else for(Se=0;Se<4;++Se)ae.write_shift(4,0);ae.write_shift(4,Te.state||0),ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(4,Te.start),ae.write_shift(4,Te.size),ae.write_shift(4,0)}for(oe=1;oe<W.FileIndex.length;++oe)if(Te=W.FileIndex[oe],Te.size>=4096)if(ae.l=Te.start+1<<9,br&&Buffer.isBuffer(Te.content))Te.content.copy(ae,ae.l,0,Te.size),ae.l+=Te.size+511&-512;else{for(Se=0;Se<Te.size;++Se)ae.write_shift(1,Te.content[Se]);for(;Se&511;++Se)ae.write_shift(1,0)}for(oe=1;oe<W.FileIndex.length;++oe)if(Te=W.FileIndex[oe],Te.size>0&&Te.size<4096)if(br&&Buffer.isBuffer(Te.content))Te.content.copy(ae,ae.l,0,Te.size),ae.l+=Te.size+63&-64;else{for(Se=0;Se<Te.size;++Se)ae.write_shift(1,Te.content[Se]);for(;Se&63;++Se)ae.write_shift(1,0)}if(br)ae.l=ae.length;else for(;ae.l<ae.length;)ae.write_shift(1,0);return ae}function R(W,se){var Z=W.FullPaths.map(function(Se){return Se.toUpperCase()}),ee=Z.map(function(Se){var Ae=Se.split("/");return Ae[Ae.length-(Se.slice(-1)=="/"?2:1)]}),ae=!1;se.charCodeAt(0)===47?(ae=!0,se=Z[0].slice(0,-1)+se):ae=se.indexOf("/")!==-1;var oe=se.toUpperCase(),Ee=ae===!0?Z.indexOf(oe):ee.indexOf(oe);if(Ee!==-1)return W.FileIndex[Ee];var Be=!oe.match(Mj);for(oe=oe.replace(Vg,""),Be&&(oe=oe.replace(Mj,"!")),Ee=0;Ee<Z.length;++Ee)if((Be?Z[Ee].replace(Mj,"!"):Z[Ee]).replace(Vg,"")==oe||(Be?ee[Ee].replace(Mj,"!"):ee[Ee]).replace(Vg,"")==oe)return W.FileIndex[Ee];return null}var I=64,z=-2,H="d0cf11e0a1b11ae1",F=[208,207,17,224,161,177,26,225],k="00000000000000000000000000000000",P={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:z,FREESECT:-1,HEADER_SIGNATURE:H,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:k,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function M(W,se,Z){d();var ee=T(W,Z);c.writeFileSync(se,ee)}function O(W){for(var se=new Array(W.length),Z=0;Z<W.length;++Z)se[Z]=String.fromCharCode(W[Z]);return se.join("")}function K(W,se){var Z=T(W,se);switch(se&&se.type||"buffer"){case"file":return d(),c.writeFileSync(se.filename,Z),Z;case"binary":return typeof Z=="string"?Z:O(Z);case"base64":return jv(typeof Z=="string"?Z:O(Z));case"buffer":if(br)return Buffer.isBuffer(Z)?Z:vd(Z);case"array":return typeof Z=="string"?Jo(Z):Z}return Z}var ne;function D(W){try{var se=W.InflateRaw,Z=new se;if(Z._processChunk(new Uint8Array([3,0]),Z._finishFlushFlag),Z.bytesRead)ne=W;else throw new Error("zlib does not expose bytesRead")}catch(ee){console.error("cannot use native zlib: "+(ee.message||ee))}}function U(W,se){if(!ne)return jt(W,se);var Z=ne.InflateRaw,ee=new Z,ae=ee._processChunk(W.slice(W.l),ee._finishFlushFlag);return W.l+=ee.bytesRead,ae}function L(W){return ne?ne.deflateRawSync(W):Ge(W)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function B(W){var se=(W<<1|W<<11)&139536|(W<<5|W<<15)&558144;return(se>>16|se>>8|se)&255}for(var Y=typeof Uint8Array<"u",ie=Y?new Uint8Array(256):[],we=0;we<256;++we)ie[we]=B(we);function ue(W,se){var Z=ie[W&255];return se<=8?Z>>>8-se:(Z=Z<<8|ie[W>>8&255],se<=16?Z>>>16-se:(Z=Z<<8|ie[W>>16&255],Z>>>24-se))}function ge(W,se){var Z=se&7,ee=se>>>3;return(W[ee]|(Z<=6?0:W[ee+1]<<8))>>>Z&3}function xe(W,se){var Z=se&7,ee=se>>>3;return(W[ee]|(Z<=5?0:W[ee+1]<<8))>>>Z&7}function _e(W,se){var Z=se&7,ee=se>>>3;return(W[ee]|(Z<=4?0:W[ee+1]<<8))>>>Z&15}function Re(W,se){var Z=se&7,ee=se>>>3;return(W[ee]|(Z<=3?0:W[ee+1]<<8))>>>Z&31}function ke(W,se){var Z=se&7,ee=se>>>3;return(W[ee]|(Z<=1?0:W[ee+1]<<8))>>>Z&127}function re(W,se,Z){var ee=se&7,ae=se>>>3,oe=(1<<Z)-1,Ee=W[ae]>>>ee;return Z<8-ee||(Ee|=W[ae+1]<<8-ee,Z<16-ee)||(Ee|=W[ae+2]<<16-ee,Z<24-ee)||(Ee|=W[ae+3]<<24-ee),Ee&oe}function he(W,se,Z){var ee=se&7,ae=se>>>3;return ee<=5?W[ae]|=(Z&7)<<ee:(W[ae]|=Z<<ee&255,W[ae+1]=(Z&7)>>8-ee),se+3}function ce(W,se,Z){var ee=se&7,ae=se>>>3;return Z=(Z&1)<<ee,W[ae]|=Z,se+1}function je(W,se,Z){var ee=se&7,ae=se>>>3;return Z<<=ee,W[ae]|=Z&255,Z>>>=8,W[ae+1]=Z,se+8}function Fe(W,se,Z){var ee=se&7,ae=se>>>3;return Z<<=ee,W[ae]|=Z&255,Z>>>=8,W[ae+1]=Z&255,W[ae+2]=Z>>>8,se+16}function De(W,se){var Z=W.length,ee=2*Z>se?2*Z:se+5,ae=0;if(Z>=se)return W;if(br){var oe=EL(ee);if(W.copy)W.copy(oe);else for(;ae<W.length;++ae)oe[ae]=W[ae];return oe}else if(Y){var Ee=new Uint8Array(ee);if(Ee.set)Ee.set(W);else for(;ae<Z;++ae)Ee[ae]=W[ae];return Ee}return W.length=ee,W}function de(W){for(var se=new Array(W),Z=0;Z<W;++Z)se[Z]=0;return se}function Ie(W,se,Z){var ee=1,ae=0,oe=0,Ee=0,Be=0,Se=W.length,Ae=Y?new Uint16Array(32):de(32);for(oe=0;oe<32;++oe)Ae[oe]=0;for(oe=Se;oe<Z;++oe)W[oe]=0;Se=W.length;var Te=Y?new Uint16Array(Se):de(Se);for(oe=0;oe<Se;++oe)Ae[ae=W[oe]]++,ee<ae&&(ee=ae),Te[oe]=0;for(Ae[0]=0,oe=1;oe<=ee;++oe)Ae[oe+16]=Be=Be+Ae[oe-1]<<1;for(oe=0;oe<Se;++oe)Be=W[oe],Be!=0&&(Te[oe]=Ae[Be+16]++);var Ke=0;for(oe=0;oe<Se;++oe)if(Ke=W[oe],Ke!=0)for(Be=ue(Te[oe],ee)>>ee-Ke,Ee=(1<<ee+4-Ke)-1;Ee>=0;--Ee)se[Be|Ee<<Ke]=Ke&15|oe<<4;return ee}var it=Y?new Uint16Array(512):de(512),bt=Y?new Uint16Array(32):de(32);if(!Y){for(var qe=0;qe<512;++qe)it[qe]=0;for(qe=0;qe<32;++qe)bt[qe]=0}(function(){for(var W=[],se=0;se<32;se++)W.push(5);Ie(W,bt,32);var Z=[];for(se=0;se<=143;se++)Z.push(8);for(;se<=255;se++)Z.push(9);for(;se<=279;se++)Z.push(7);for(;se<=287;se++)Z.push(8);Ie(Z,it,288)})();var ye=function(){for(var se=Y?new Uint8Array(32768):[],Z=0,ee=0;Z<fe.length-1;++Z)for(;ee<fe[Z+1];++ee)se[ee]=Z;for(;ee<32768;++ee)se[ee]=29;var ae=Y?new Uint8Array(259):[];for(Z=0,ee=0;Z<le.length-1;++Z)for(;ee<le[Z+1];++ee)ae[ee]=Z;function oe(Be,Se){for(var Ae=0;Ae<Be.length;){var Te=Math.min(65535,Be.length-Ae),Ke=Ae+Te==Be.length;for(Se.write_shift(1,+Ke),Se.write_shift(2,Te),Se.write_shift(2,~Te&65535);Te-- >0;)Se[Se.l++]=Be[Ae++]}return Se.l}function Ee(Be,Se){for(var Ae=0,Te=0,Ke=Y?new Uint16Array(32768):[];Te<Be.length;){var ot=Math.min(65535,Be.length-Te);if(ot<10){for(Ae=he(Se,Ae,+(Te+ot==Be.length)),Ae&7&&(Ae+=8-(Ae&7)),Se.l=Ae/8|0,Se.write_shift(2,ot),Se.write_shift(2,~ot&65535);ot-- >0;)Se[Se.l++]=Be[Te++];Ae=Se.l*8;continue}Ae=he(Se,Ae,+(Te+ot==Be.length)+2);for(var xt=0;ot-- >0;){var Ze=Be[Te];xt=(xt<<5^Ze)&32767;var dt=-1,Wt=0;if((dt=Ke[xt])&&(dt|=Te&-32768,dt>Te&&(dt-=32768),dt<Te))for(;Be[dt+Wt]==Be[Te+Wt]&&Wt<250;)++Wt;if(Wt>2){Ze=ae[Wt],Ze<=22?Ae=je(Se,Ae,ie[Ze+1]>>1)-1:(je(Se,Ae,3),Ae+=5,je(Se,Ae,ie[Ze-23]>>5),Ae+=3);var jn=Ze<8?0:Ze-4>>2;jn>0&&(Fe(Se,Ae,Wt-le[Ze]),Ae+=jn),Ze=se[Te-dt],Ae=je(Se,Ae,ie[Ze]>>3),Ae-=3;var bn=Ze<4?0:Ze-2>>1;bn>0&&(Fe(Se,Ae,Te-dt-fe[Ze]),Ae+=bn);for(var sa=0;sa<Wt;++sa)Ke[xt]=Te&32767,xt=(xt<<5^Be[Te])&32767,++Te;ot-=Wt-1}else Ze<=143?Ze=Ze+48:Ae=ce(Se,Ae,1),Ae=je(Se,Ae,ie[Ze]),Ke[xt]=Te&32767,++Te}Ae=je(Se,Ae,0)-1}return Se.l=(Ae+7)/8|0,Se.l}return function(Se,Ae){return Se.length<8?oe(Se,Ae):Ee(Se,Ae)}}();function Ge(W){var se=Me(50+Math.floor(W.length*1.1)),Z=ye(W,se);return se.slice(0,Z)}var Pt=Y?new Uint16Array(32768):de(32768),kt=Y?new Uint16Array(32768):de(32768),vr=Y?new Uint16Array(128):de(128),qr=1,Zr=1;function Vr(W,se){var Z=Re(W,se)+257;se+=5;var ee=Re(W,se)+1;se+=5;var ae=_e(W,se)+4;se+=4;for(var oe=0,Ee=Y?new Uint8Array(19):de(19),Be=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Se=1,Ae=Y?new Uint8Array(8):de(8),Te=Y?new Uint8Array(8):de(8),Ke=Ee.length,ot=0;ot<ae;++ot)Ee[G[ot]]=oe=xe(W,se),Se<oe&&(Se=oe),Ae[oe]++,se+=3;var xt=0;for(Ae[0]=0,ot=1;ot<=Se;++ot)Te[ot]=xt=xt+Ae[ot-1]<<1;for(ot=0;ot<Ke;++ot)(xt=Ee[ot])!=0&&(Be[ot]=Te[xt]++);var Ze=0;for(ot=0;ot<Ke;++ot)if(Ze=Ee[ot],Ze!=0){xt=ie[Be[ot]]>>8-Ze;for(var dt=(1<<7-Ze)-1;dt>=0;--dt)vr[xt|dt<<Ze]=Ze&7|ot<<3}var Wt=[];for(Se=1;Wt.length<Z+ee;)switch(xt=vr[ke(W,se)],se+=xt&7,xt>>>=3){case 16:for(oe=3+ge(W,se),se+=2,xt=Wt[Wt.length-1];oe-- >0;)Wt.push(xt);break;case 17:for(oe=3+xe(W,se),se+=3;oe-- >0;)Wt.push(0);break;case 18:for(oe=11+ke(W,se),se+=7;oe-- >0;)Wt.push(0);break;default:Wt.push(xt),Se<xt&&(Se=xt);break}var jn=Wt.slice(0,Z),bn=Wt.slice(Z);for(ot=Z;ot<286;++ot)jn[ot]=0;for(ot=ee;ot<30;++ot)bn[ot]=0;return qr=Ie(jn,Pt,286),Zr=Ie(bn,kt,30),se}function Pr(W,se){if(W[0]==3&&!(W[1]&3))return[im(se),2];for(var Z=0,ee=0,ae=EL(se||1<<18),oe=0,Ee=ae.length>>>0,Be=0,Se=0;!(ee&1);){if(ee=xe(W,Z),Z+=3,ee>>>1)ee>>1==1?(Be=9,Se=5):(Z=Vr(W,Z),Be=qr,Se=Zr);else{Z&7&&(Z+=8-(Z&7));var Ae=W[Z>>>3]|W[(Z>>>3)+1]<<8;if(Z+=32,Ae>0)for(!se&&Ee<oe+Ae&&(ae=De(ae,oe+Ae),Ee=ae.length);Ae-- >0;)ae[oe++]=W[Z>>>3],Z+=8;continue}for(;;){!se&&Ee<oe+32767&&(ae=De(ae,oe+32767),Ee=ae.length);var Te=re(W,Z,Be),Ke=ee>>>1==1?it[Te]:Pt[Te];if(Z+=Ke&15,Ke>>>=4,!(Ke>>>8&255))ae[oe++]=Ke;else{if(Ke==256)break;Ke-=257;var ot=Ke<8?0:Ke-4>>2;ot>5&&(ot=0);var xt=oe+le[Ke];ot>0&&(xt+=re(W,Z,ot),Z+=ot),Te=re(W,Z,Se),Ke=ee>>>1==1?bt[Te]:kt[Te],Z+=Ke&15,Ke>>>=4;var Ze=Ke<4?0:Ke-2>>1,dt=fe[Ke];for(Ze>0&&(dt+=re(W,Z,Ze),Z+=Ze),!se&&Ee<xt&&(ae=De(ae,xt+100),Ee=ae.length);oe<xt;)ae[oe]=ae[oe-dt],++oe}}}return se?[ae,Z+7>>>3]:[ae.slice(0,oe),Z+7>>>3]}function jt(W,se){var Z=W.slice(W.l||0),ee=Pr(Z,se);return W.l+=ee[1],ee[0]}function Ft(W,se){if(W)typeof console<"u"&&console.error(se);else throw new Error(se)}function tr(W,se){var Z=W;Oi(Z,0);var ee=[],ae=[],oe={FileIndex:ee,FullPaths:ae};_(oe,{root:se.root});for(var Ee=Z.length-4;(Z[Ee]!=80||Z[Ee+1]!=75||Z[Ee+2]!=5||Z[Ee+3]!=6)&&Ee>=0;)--Ee;Z.l=Ee+4,Z.l+=4;var Be=Z.read_shift(2);Z.l+=6;var Se=Z.read_shift(4);for(Z.l=Se,Ee=0;Ee<Be;++Ee){Z.l+=20;var Ae=Z.read_shift(4),Te=Z.read_shift(4),Ke=Z.read_shift(2),ot=Z.read_shift(2),xt=Z.read_shift(2);Z.l+=8;var Ze=Z.read_shift(4),dt=l(Z.slice(Z.l+Ke,Z.l+Ke+ot));Z.l+=Ke+ot+xt;var Wt=Z.l;Z.l=Ze+4,Un(Z,Ae,Te,oe,dt),Z.l=Wt}return oe}function Un(W,se,Z,ee,ae){W.l+=2;var oe=W.read_shift(2),Ee=W.read_shift(2),Be=o(W);if(oe&8257)throw new Error("Unsupported ZIP encryption");for(var Se=W.read_shift(4),Ae=W.read_shift(4),Te=W.read_shift(4),Ke=W.read_shift(2),ot=W.read_shift(2),xt="",Ze=0;Ze<Ke;++Ze)xt+=String.fromCharCode(W[W.l++]);if(ot){var dt=l(W.slice(W.l,W.l+ot));(dt[21589]||{}).mt&&(Be=dt[21589].mt),((ae||{})[21589]||{}).mt&&(Be=ae[21589].mt)}W.l+=ot;var Wt=W.slice(W.l,W.l+Ae);switch(Ee){case 8:Wt=U(W,Te);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ee)}var jn=!1;oe&8&&(Se=W.read_shift(4),Se==134695760&&(Se=W.read_shift(4),jn=!0),Ae=W.read_shift(4),Te=W.read_shift(4)),Ae!=se&&Ft(jn,"Bad compressed size: "+se+" != "+Ae),Te!=Z&&Ft(jn,"Bad uncompressed size: "+Z+" != "+Te),dn(ee,xt,Wt,{unsafe:!0,mt:Be})}function ds(W,se){var Z=se||{},ee=[],ae=[],oe=Me(1),Ee=Z.compression?8:0,Be=0,Se=0,Ae=0,Te=0,Ke=0,ot=W.FullPaths[0],xt=ot,Ze=W.FileIndex[0],dt=[],Wt=0;for(Se=1;Se<W.FullPaths.length;++Se)if(xt=W.FullPaths[Se].slice(ot.length),Ze=W.FileIndex[Se],!(!Ze.size||!Ze.content||xt=="Sh33tJ5")){var jn=Te,bn=Me(xt.length);for(Ae=0;Ae<xt.length;++Ae)bn.write_shift(1,xt.charCodeAt(Ae)&127);bn=bn.slice(0,bn.l),dt[Ke]=ZGe.buf(Ze.content,0);var sa=Ze.content;Ee==8&&(sa=L(sa)),oe=Me(30),oe.write_shift(4,67324752),oe.write_shift(2,20),oe.write_shift(2,Be),oe.write_shift(2,Ee),Ze.mt?i(oe,Ze.mt):oe.write_shift(4,0),oe.write_shift(-4,dt[Ke]),oe.write_shift(4,sa.length),oe.write_shift(4,Ze.content.length),oe.write_shift(2,bn.length),oe.write_shift(2,0),Te+=oe.length,ee.push(oe),Te+=bn.length,ee.push(bn),Te+=sa.length,ee.push(sa),oe=Me(46),oe.write_shift(4,33639248),oe.write_shift(2,0),oe.write_shift(2,20),oe.write_shift(2,Be),oe.write_shift(2,Ee),oe.write_shift(4,0),oe.write_shift(-4,dt[Ke]),oe.write_shift(4,sa.length),oe.write_shift(4,Ze.content.length),oe.write_shift(2,bn.length),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(4,0),oe.write_shift(4,jn),Wt+=oe.l,ae.push(oe),Wt+=bn.length,ae.push(bn),++Ke}return oe=Me(22),oe.write_shift(4,101010256),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,Ke),oe.write_shift(2,Ke),oe.write_shift(4,Wt),oe.write_shift(4,Te),oe.write_shift(2,0),Ks([Ks(ee),Ks(ae),oe])}var qa={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function jd(W,se){if(W.ctype)return W.ctype;var Z=W.name||"",ee=Z.match(/\.([^\.]+)$/);return ee&&qa[ee[1]]||se&&(ee=(Z=se).match(/[\.\\]([^\.\\])+$/),ee&&qa[ee[1]])?qa[ee[1]]:"application/octet-stream"}function bi(W){for(var se=jv(W),Z=[],ee=0;ee<se.length;ee+=76)Z.push(se.slice(ee,ee+76));return Z.join(`\r
`)+`\r
`}function $e(W){var se=W.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ae){var Te=Ae.charCodeAt(0).toString(16).toUpperCase();return"="+(Te.length==1?"0"+Te:Te)});se=se.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),se.charAt(0)==`
`&&(se="=0D"+se.slice(1)),se=se.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Z=[],ee=se.split(`\r
`),ae=0;ae<ee.length;++ae){var oe=ee[ae];if(oe.length==0){Z.push("");continue}for(var Ee=0;Ee<oe.length;){var Be=76,Se=oe.slice(Ee,Ee+Be);Se.charAt(Be-1)=="="?Be--:Se.charAt(Be-2)=="="?Be-=2:Se.charAt(Be-3)=="="&&(Be-=3),Se=oe.slice(Ee,Ee+Be),Ee+=Be,Ee<oe.length&&(Se+="="),Z.push(Se)}}return Z.join(`\r
`)}function zt(W){for(var se=[],Z=0;Z<W.length;++Z){for(var ee=W[Z];Z<=W.length&&ee.charAt(ee.length-1)=="=";)ee=ee.slice(0,ee.length-1)+W[++Z];se.push(ee)}for(var ae=0;ae<se.length;++ae)se[ae]=se[ae].replace(/[=][0-9A-Fa-f]{2}/g,function(oe){return String.fromCharCode(parseInt(oe.slice(1),16))});return Jo(se.join(`\r
`))}function Cl(W,se,Z){for(var ee="",ae="",oe="",Ee,Be=0;Be<10;++Be){var Se=se[Be];if(!Se||Se.match(/^\s*$/))break;var Ae=Se.match(/^(.*?):\s*([^\s].*)$/);if(Ae)switch(Ae[1].toLowerCase()){case"content-location":ee=Ae[2].trim();break;case"content-type":oe=Ae[2].trim();break;case"content-transfer-encoding":ae=Ae[2].trim();break}}switch(++Be,ae.toLowerCase()){case"base64":Ee=Jo(ld(se.slice(Be).join("")));break;case"quoted-printable":Ee=zt(se.slice(Be));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ae)}var Te=dn(W,ee.slice(Z.length),Ee,{unsafe:!0});oe&&(Te.ctype=oe)}function wt(W,se){if(O(W.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Z=se&&se.root||"",ee=(br&&Buffer.isBuffer(W)?W.toString("binary"):O(W)).split(`\r
`),ae=0,oe="";for(ae=0;ae<ee.length;++ae)if(oe=ee[ae],!!/^Content-Location:/i.test(oe)&&(oe=oe.slice(oe.indexOf("file")),Z||(Z=oe.slice(0,oe.lastIndexOf("/")+1)),oe.slice(0,Z.length)!=Z))for(;Z.length>0&&(Z=Z.slice(0,Z.length-1),Z=Z.slice(0,Z.lastIndexOf("/")+1),oe.slice(0,Z.length)!=Z););var Ee=(ee[1]||"").match(/boundary="(.*?)"/);if(!Ee)throw new Error("MAD cannot find boundary");var Be="--"+(Ee[1]||""),Se=[],Ae=[],Te={FileIndex:Se,FullPaths:Ae};_(Te);var Ke,ot=0;for(ae=0;ae<ee.length;++ae){var xt=ee[ae];xt!==Be&&xt!==Be+"--"||(ot++&&Cl(Te,ee.slice(Ke,ae),Z),Ke=ae)}return Te}function es(W,se){var Z=se||{},ee=Z.boundary||"SheetJS";ee="------="+ee;for(var ae=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ee.slice(2)+'"',"","",""],oe=W.FullPaths[0],Ee=oe,Be=W.FileIndex[0],Se=1;Se<W.FullPaths.length;++Se)if(Ee=W.FullPaths[Se].slice(oe.length),Be=W.FileIndex[Se],!(!Be.size||!Be.content||Ee=="Sh33tJ5")){Ee=Ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Wt){return"_x"+Wt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Wt){return"_u"+Wt.charCodeAt(0).toString(16)+"_"});for(var Ae=Be.content,Te=br&&Buffer.isBuffer(Ae)?Ae.toString("binary"):O(Ae),Ke=0,ot=Math.min(1024,Te.length),xt=0,Ze=0;Ze<=ot;++Ze)(xt=Te.charCodeAt(Ze))>=32&&xt<128&&++Ke;var dt=Ke>=ot*4/5;ae.push(ee),ae.push("Content-Location: "+(Z.root||"file:///C:/SheetJS/")+Ee),ae.push("Content-Transfer-Encoding: "+(dt?"quoted-printable":"base64")),ae.push("Content-Type: "+jd(Be,Ee)),ae.push(""),ae.push(dt?$e(Te):bi(Te))}return ae.push(ee+`--\r
`),ae.join(`\r
`)}function yn(W){var se={};return _(se,W),se}function dn(W,se,Z,ee){var ae=ee&&ee.unsafe;ae||_(W);var oe=!ae&&Br.find(W,se);if(!oe){var Ee=W.FullPaths[0];se.slice(0,Ee.length)==Ee?Ee=se:(Ee.slice(-1)!="/"&&(Ee+="/"),Ee=(Ee+se).replace("//","/")),oe={name:a(se),type:2},W.FileIndex.push(oe),W.FullPaths.push(Ee),ae||Br.utils.cfb_gc(W)}return oe.content=Z,oe.size=Z?Z.length:0,ee&&(ee.CLSID&&(oe.clsid=ee.CLSID),ee.mt&&(oe.mt=ee.mt),ee.ct&&(oe.ct=ee.ct)),oe}function Ga(W,se){_(W);var Z=Br.find(W,se);if(Z){for(var ee=0;ee<W.FileIndex.length;++ee)if(W.FileIndex[ee]==Z)return W.FileIndex.splice(ee,1),W.FullPaths.splice(ee,1),!0}return!1}function Cm(W,se,Z){_(W);var ee=Br.find(W,se);if(ee){for(var ae=0;ae<W.FileIndex.length;++ae)if(W.FileIndex[ae]==ee)return W.FileIndex[ae].name=a(Z),W.FullPaths[ae]=Z,!0}return!1}function h_(W){A(W,!0)}return t.find=R,t.read=S,t.parse=u,t.write=K,t.writeFile=M,t.utils={cfb_new:yn,cfb_add:dn,cfb_del:Ga,cfb_mov:Cm,cfb_gc:h_,ReadShift:Wg,CheckField:cJ,prep_blob:Oi,bconcat:Ks,use_zlib:D,_deflateRaw:Ge,_inflateRaw:jt,consts:P},t}();function JGe(e){return typeof e=="string"?s_(e):Array.isArray(e)?SGe(e):e}function Py(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=s_(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var s=r=="utf8"?wv(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(s,e);if(typeof Blob<"u"){var a=new Blob([JGe(s)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=Ay(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function ra(e){for(var t=Object.keys(e),r=[],s=0;s<t.length;++s)Object.prototype.hasOwnProperty.call(e,t[s])&&r.push(t[s]);return r}function RL(e,t){for(var r=[],s=ra(e),a=0;a!==s.length;++a)r[e[s[a]][t]]==null&&(r[e[s[a]][t]]=s[a]);return r}function K3(e){for(var t=[],r=ra(e),s=0;s!==r.length;++s)t[e[r[s]]]=r[s];return t}function o_(e){for(var t=[],r=ra(e),s=0;s!==r.length;++s)t[e[r[s]]]=parseInt(r[s],10);return t}function eKe(e){for(var t=[],r=ra(e),s=0;s!==r.length;++s)t[e[r[s]]]==null&&(t[e[r[s]]]=[]),t[e[r[s]]].push(r[s]);return t}var Uw=new Date(1899,11,30,0,0,0);function pi(e,t){var r=e.getTime(),s=Uw.getTime()+(e.getTimezoneOffset()-Uw.getTimezoneOffset())*6e4;return(r-s)/(24*60*60*1e3)}var qZ=new Date,tKe=Uw.getTime()+(qZ.getTimezoneOffset()-Uw.getTimezoneOffset())*6e4,ML=qZ.getTimezoneOffset();function GZ(e){var t=new Date;return t.setTime(e*24*60*60*1e3+tKe),t.getTimezoneOffset()!==ML&&t.setTime(t.getTime()+(t.getTimezoneOffset()-ML)*6e4),t}var FL=new Date("2017-02-19T19:06:09.000Z"),KZ=isNaN(FL.getFullYear())?new Date("2/19/17"):FL,rKe=KZ.getFullYear()==2017;function Fa(e,t){var r=new Date(e);if(rKe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(KZ.getFullYear()==1917&&!isNaN(r.getFullYear())){var s=r.getFullYear();return e.indexOf(""+s)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function l_(e,t){if(br&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var s=[],a=0;a!=e.length;++a)s.push(String.fromCharCode(e[a]));return s.join("")}function xi(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=xi(e[r]));return t}function Fn(e,t){for(var r="";r.length<t;)r+=e;return r}function Wc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,s=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(s))||(s=s.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(s)))?t/r:t}var nKe=["january","february","march","april","may","june","july","august","september","october","november","december"];function bv(e){var t=new Date(e),r=new Date(NaN),s=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&nKe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return s<0||s>8099?r:(a>0||i>1)&&s!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function er(e,t,r){if(e.FullPaths){if(typeof r=="string"){var s;return br?s=vd(r):s=CGe(r),Br.utils.cfb_add(e,t,s)}Br.utils.cfb_add(e,t,r)}else e.file(t,r)}function Y3(){return Br.utils.cfb_new()}var cs=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,sKe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},X3=K3(sKe),Q3=/[&<>'"]/g,aKe=/[\u0000-\u0008\u000b-\u001f]/g;function Ir(e){var t=e+"";return t.replace(Q3,function(r){return X3[r]}).replace(aKe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function $L(e){return Ir(e).replace(/ /g,"_x0020_")}var YZ=/[\u0000-\u001f]/g;function iKe(e){var t=e+"";return t.replace(Q3,function(r){return X3[r]}).replace(/\n/g,"<br/>").replace(YZ,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function oKe(e){var t=e+"";return t.replace(Q3,function(r){return X3[r]}).replace(YZ,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function lKe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function cKe(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function gC(e){for(var t="",r=0,s=0,a=0,i=0,o=0,l=0;r<e.length;){if(s=e.charCodeAt(r++),s<128){t+=String.fromCharCode(s);continue}if(a=e.charCodeAt(r++),s>191&&s<224){o=(s&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),s<240){t+=String.fromCharCode((s&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((s&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function LL(e){var t=im(2*e.length),r,s,a=1,i=0,o=0,l;for(s=0;s<e.length;s+=a)a=1,(l=e.charCodeAt(s))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(s+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(s+1)&63)*64+(e.charCodeAt(s+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(s+1)&63)*4096+(e.charCodeAt(s+2)&63)*64+(e.charCodeAt(s+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function BL(e){return vd(e,"binary").toString("utf8")}var $j="foo bar baz",zg=br&&(BL($j)==gC($j)&&BL||LL($j)==gC($j)&&LL)||gC,wv=br?function(e){return vd(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,s=0,a=0;r<e.length;)switch(s=e.charCodeAt(r++),!0){case s<128:t.push(String.fromCharCode(s));break;case s<2048:t.push(String.fromCharCode(192+(s>>6))),t.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,a=e.charCodeAt(r++)-56320+(s<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(s>>12))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)))}return t.join("")},dKe=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var s=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)s=s.replace(e[a][0],e[a][1]);return s}}(),XZ=/(^\s|\s$|\n)/;function Ys(e,t){return"<"+e+(t.match(XZ)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Nv(e){return ra(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Je(e,t,r){return"<"+e+(r!=null?Nv(r):"")+(t!=null?(t.match(XZ)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function jP(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function uKe(e,t){switch(typeof e){case"string":var r=Je("vt:lpwstr",Ir(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Je((e|0)==e?"vt:i4":"vt:r8",Ir(String(e)));case"boolean":return Je("vt:bool",e?"true":"false")}if(e instanceof Date)return Je("vt:filetime",jP(e));throw new Error("Unable to serialize "+e)}var Ts={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},vx=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ii={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function fKe(e,t){for(var r=1-2*(e[t+7]>>>7),s=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return s==2047?a==0?r*(1/0):NaN:(s==0?s=-1022:(s-=1023,a+=Math.pow(2,52)),r*Math.pow(2,s-52)*a)}function mKe(e,t,r){var s=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=s?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|s}var UL=function(e){for(var t=[],r=10240,s=0;s<e[0].length;++s)if(e[0][s])for(var a=0,i=e[0][s].length;a<i;a+=r)t.push.apply(t,e[0][s].slice(a,a+r));return t},VL=br?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:vd(t)})):UL(e)}:UL,zL=function(e,t,r){for(var s=[],a=t;a<r;a+=2)s.push(String.fromCharCode(pg(e,a)));return s.join("").replace(Vg,"")},Z3=br?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Vg,""):zL(e,t,r)}:zL,WL=function(e,t,r){for(var s=[],a=t;a<t+r;++a)s.push(("0"+e[a].toString(16)).slice(-2));return s.join("")},QZ=br?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):WL(e,t,r)}:WL,HL=function(e,t,r){for(var s=[],a=t;a<r;a++)s.push(String.fromCharCode(Hm(e,a)));return s.join("")},ky=br?function(t,r,s){return Buffer.isBuffer(t)?t.toString("utf8",r,s):HL(t,r,s)}:HL,ZZ=function(e,t){var r=Ri(e,t);return r>0?ky(e,t+4,t+4+r-1):""},JZ=ZZ,eJ=function(e,t){var r=Ri(e,t);return r>0?ky(e,t+4,t+4+r-1):""},tJ=eJ,rJ=function(e,t){var r=2*Ri(e,t);return r>0?ky(e,t+4,t+4+r-1):""},nJ=rJ,sJ=function(t,r){var s=Ri(t,r);return s>0?Z3(t,r+4,r+4+s):""},aJ=sJ,iJ=function(e,t){var r=Ri(e,t);return r>0?ky(e,t+4,t+4+r):""},oJ=iJ,lJ=function(e,t){return fKe(e,t)},Vw=lJ,J3=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};br&&(JZ=function(t,r){if(!Buffer.isBuffer(t))return ZZ(t,r);var s=t.readUInt32LE(r);return s>0?t.toString("utf8",r+4,r+4+s-1):""},tJ=function(t,r){if(!Buffer.isBuffer(t))return eJ(t,r);var s=t.readUInt32LE(r);return s>0?t.toString("utf8",r+4,r+4+s-1):""},nJ=function(t,r){if(!Buffer.isBuffer(t))return rJ(t,r);var s=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+s-1)},aJ=function(t,r){if(!Buffer.isBuffer(t))return sJ(t,r);var s=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+s)},oJ=function(t,r){if(!Buffer.isBuffer(t))return iJ(t,r);var s=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+s)},Vw=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):lJ(t,r)},J3=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Hm=function(e,t){return e[t]},pg=function(e,t){return e[t+1]*256+e[t]},hKe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ri=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},cf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},pKe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Wg(e,t){var r="",s,a,i=[],o,l,c,d;switch(t){case"dbcs":if(d=this.l,br&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(pg(this,d)),d+=2;e*=2;break;case"utf8":r=ky(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Z3(this,this.l,this.l+e);break;case"wstr":return Wg.call(this,e,"dbcs");case"lpstr-ansi":r=JZ(this,this.l),e=4+Ri(this,this.l);break;case"lpstr-cp":r=tJ(this,this.l),e=4+Ri(this,this.l);break;case"lpwstr":r=nJ(this,this.l),e=4+2*Ri(this,this.l);break;case"lpp4":e=4+Ri(this,this.l),r=aJ(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ri(this,this.l),r=oJ(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Hm(this,this.l+e++))!==0;)i.push(Rj(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=pg(this,this.l+e))!==0;)i.push(Rj(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Hm(this,d),this.l=d+1,l=Wg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Rj(pg(this,d))),d+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Hm(this,d),this.l=d+1,l=Wg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Rj(Hm(this,d))),d+=1}r=i.join("");break;default:switch(e){case 1:return s=Hm(this,this.l),this.l++,s;case 2:return s=(t==="i"?hKe:pg)(this,this.l),this.l+=2,s;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(s=(e>0?cf:pKe)(this,this.l),this.l+=4,s):(a=Ri(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Vw(this,this.l):a=Vw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=QZ(this,this.l,e);break}}return this.l+=e,r}var xKe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},gKe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},vKe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function yKe(e,t,r){var s=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)vKe(this,t.charCodeAt(a),this.l+2*a);s=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;s=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:s=1,this[this.l]=t&255;break;case 2:s=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:s=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:s=4,xKe(this,t,this.l);break;case 8:if(s=8,r==="f"){mKe(this,t,this.l);break}case 16:break;case-4:s=4,gKe(this,t,this.l);break}return this.l+=s,this}function cJ(e,t){var r=QZ(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Oi(e,t){e.l=t,e.read_shift=Wg,e.chk=cJ,e.write_shift=yKe}function ic(e,t){e.l+=t}function Me(e){var t=im(e);return Oi(t,0),t}function mi(){var e=[],t=br?256:2048,r=function(d){var u=Me(d);return Oi(u,0),u},s=r(t),a=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&e.push(s),s=null)},i=function(d){return s&&d<s.length-s.l?s:(a(),s=r(Math.max(d+1,t)))},o=function(){return a(),Ks(e)},l=function(d){a(),s=d,s.l==null&&(s.l=s.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function We(e,t,r,s){var a=+t,i;if(!isNaN(a)){s||(s=met[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,s>=128&&++i,s>=16384&&++i,s>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(s>=128)o.write_shift(1,(s&127)+128),s>>=7;else{o.write_shift(1,s);break}s>0&&J3(r)&&e.push(r)}}function Hg(e,t,r){var s=xi(e);if(t.s?(s.cRel&&(s.c+=t.s.c),s.rRel&&(s.r+=t.s.r)):(s.cRel&&(s.c+=t.c),s.rRel&&(s.r+=t.r)),!r||r.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function qL(e,t,r){var s=xi(e);return s.s=Hg(s.s,t.s,r),s.e=Hg(s.e,t.s,r),s}function qg(e,t){if(e.cRel&&e.c<0)for(e=xi(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=xi(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Mr(e);return!e.cRel&&e.cRel!=null&&(r=wKe(r)),!e.rRel&&e.rRel!=null&&(r=jKe(r)),r}function vC(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+xa(e.s.c)+":"+(e.e.cRel?"":"$")+xa(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Js(e.s.r)+":"+(e.e.rRel?"":"$")+Js(e.e.r):qg(e.s,t.biff)+":"+qg(e.e,t.biff)}function eD(e){return parseInt(bKe(e),10)-1}function Js(e){return""+(e+1)}function jKe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function bKe(e){return e.replace(/\$(\d+)$/,"$1")}function tD(e){for(var t=NKe(e),r=0,s=0;s!==t.length;++s)r=26*r+t.charCodeAt(s)-64;return r-1}function xa(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function wKe(e){return e.replace(/^([A-Z])/,"$$$1")}function NKe(e){return e.replace(/^\$([A-Z])/,"$1")}function _Ke(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Os(e){for(var t=0,r=0,s=0;s<e.length;++s){var a=e.charCodeAt(s);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Mr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Zi(e){var t=e.indexOf(":");return t==-1?{s:Os(e),e:Os(e)}:{s:Os(e.slice(0,t)),e:Os(e.slice(t+1))}}function as(e,t){return typeof t>"u"||typeof t=="number"?as(e.s,e.e):(typeof e!="string"&&(e=Mr(e)),typeof t!="string"&&(t=Mr(t)),e==t?e:e+":"+t)}function ln(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,s=0,a=0,i=e.length;for(r=0;s<i&&!((a=e.charCodeAt(s)-64)<1||a>26);++s)r=26*r+a;for(t.s.c=--r,r=0;s<i&&!((a=e.charCodeAt(s)-48)<0||a>9);++s)r=10*r+a;if(t.s.r=--r,s===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++s,r=0;s!=i&&!((a=e.charCodeAt(s)-64)<1||a>26);++s)r=26*r+a;for(t.e.c=--r,r=0;s!=i&&!((a=e.charCodeAt(s)-48)<0||a>9);++s)r=10*r+a;return t.e.r=--r,t}function GL(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Eu(e.z,r?pi(t):t)}catch{}try{return e.w=Eu((e.XF||{}).numFmtId||(r?14:0),r?pi(t):t)}catch{return""+t}}function cd(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Ty[e.v]||e.v:t==null?GL(e,e.v):GL(e,t))}function bm(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",s={};return s[r]=e,{SheetNames:[r],Sheets:s}}function dJ(e,t,r){var s=r||{},a=e?Array.isArray(e):s.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&s.origin!=null){if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?Os(s.origin):s.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=ln(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),o==-1&&(d.e.r=o=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[f].length;++m)if(!(typeof t[f][m]>"u")){var h={v:t[f][m]},x=o+f,p=l+m;if(d.s.r>x&&(d.s.r=x),d.s.c>p&&(d.s.c=p),d.e.r<x&&(d.e.r=x),d.e.c<p&&(d.e.c=p),t[f][m]&&typeof t[f][m]=="object"&&!Array.isArray(t[f][m])&&!(t[f][m]instanceof Date))h=t[f][m];else if(Array.isArray(h.v)&&(h.f=t[f][m][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(s.nullError)h.t="e",h.v=0;else if(s.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=s.dateNF||Ln[14],s.cellDates?(h.t="d",h.w=Eu(h.z,pi(h.v))):(h.t="n",h.v=pi(h.v),h.w=Eu(h.z,h.v))):h.t="s";if(a)i[x]||(i[x]=[]),i[x][p]&&i[x][p].z&&(h.z=i[x][p].z),i[x][p]=h;else{var g=Mr({c:p,r:x});i[g]&&i[g].z&&(h.z=i[g].z),i[g]=h}}}return d.s.c<1e7&&(i["!ref"]=as(d)),i}function yx(e,t){return dJ(null,e,t)}function SKe(e){return e.read_shift(4,"i")}function ll(e,t){return t||(t=Me(4)),t.write_shift(4,e),t}function ga(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ds(e,t){var r=!1;return t==null&&(r=!0,t=Me(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function CKe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function EKe(e,t){return t||(t=Me(4)),t.write_shift(2,0),t.write_shift(2,0),t}function rD(e,t){var r=e.l,s=e.read_shift(1),a=ga(e),i=[],o={t:a,h:a};if(s&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(CKe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function AKe(e,t){var r=!1;return t==null&&(r=!0,t=Me(15+4*e.t.length)),t.write_shift(1,0),Ds(e.t,t),r?t.slice(0,t.l):t}var PKe=rD;function kKe(e,t){var r=!1;return t==null&&(r=!0,t=Me(23+4*e.t.length)),t.write_shift(1,1),Ds(e.t,t),t.write_shift(4,1),EKe({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function Fo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function wm(e,t){return t==null&&(t=Me(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Nm(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function _m(e,t){return t==null&&(t=Me(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var TKe=ga,uJ=Ds;function nD(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function zw(e,t){var r=!1;return t==null&&(r=!0,t=Me(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var OKe=ga,bP=nD,sD=zw;function fJ(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,s=t[0]&2;e.l+=4;var a=s===0?Vw([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):cf(t,0)>>2;return r?a/100:a}function mJ(e,t){t==null&&(t=Me(4));var r=0,s=0,a=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?s=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(s=1,r=1),s)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function hJ(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function DKe(e,t){return t||(t=Me(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Sm=hJ,jx=DKe;function bx(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function om(e,t){return(t||Me(8)).write_shift(8,e,"f")}function IKe(e){var t={},r=e.read_shift(1),s=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,s){case 0:t.auto=1;break;case 1:t.index=a;var d=zKe[a];d&&(t.rgb=s8(d));break;case 2:t.rgb=s8([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Ww(e,t){if(t||(t=Me(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var s=e.rgb||"FFFFFF";typeof s=="number"&&(s=("000000"+s.toString(16)).slice(-6)),t.write_shift(1,parseInt(s.slice(0,2),16)),t.write_shift(1,parseInt(s.slice(2,4),16)),t.write_shift(1,parseInt(s.slice(4,6),16)),t.write_shift(1,255)}return t}function RKe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function MKe(e,t){t||(t=Me(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var pJ=2,Pi=3,Lj=11,Hw=19,Bj=64,FKe=65,$Ke=71,LKe=4108,BKe=4126,qs=80,KL={1:{n:"CodePage",t:pJ},2:{n:"Category",t:qs},3:{n:"PresentationFormat",t:qs},4:{n:"ByteCount",t:Pi},5:{n:"LineCount",t:Pi},6:{n:"ParagraphCount",t:Pi},7:{n:"SlideCount",t:Pi},8:{n:"NoteCount",t:Pi},9:{n:"HiddenCount",t:Pi},10:{n:"MultimediaClipCount",t:Pi},11:{n:"ScaleCrop",t:Lj},12:{n:"HeadingPairs",t:LKe},13:{n:"TitlesOfParts",t:BKe},14:{n:"Manager",t:qs},15:{n:"Company",t:qs},16:{n:"LinksUpToDate",t:Lj},17:{n:"CharacterCount",t:Pi},19:{n:"SharedDoc",t:Lj},22:{n:"HyperlinksChanged",t:Lj},23:{n:"AppVersion",t:Pi,p:"version"},24:{n:"DigSig",t:FKe},26:{n:"ContentType",t:qs},27:{n:"ContentStatus",t:qs},28:{n:"Language",t:qs},29:{n:"Version",t:qs},255:{},2147483648:{n:"Locale",t:Hw},2147483651:{n:"Behavior",t:Hw},1919054434:{}},YL={1:{n:"CodePage",t:pJ},2:{n:"Title",t:qs},3:{n:"Subject",t:qs},4:{n:"Author",t:qs},5:{n:"Keywords",t:qs},6:{n:"Comments",t:qs},7:{n:"Template",t:qs},8:{n:"LastAuthor",t:qs},9:{n:"RevNumber",t:qs},10:{n:"EditTime",t:Bj},11:{n:"LastPrinted",t:Bj},12:{n:"CreatedDate",t:Bj},13:{n:"ModifiedDate",t:Bj},14:{n:"PageCount",t:Pi},15:{n:"WordCount",t:Pi},16:{n:"CharCount",t:Pi},17:{n:"Thumbnail",t:$Ke},18:{n:"Application",t:qs},19:{n:"DocSecurity",t:Pi},255:{},2147483648:{n:"Locale",t:Hw},2147483651:{n:"Behavior",t:Hw},1919054434:{}};function UKe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var VKe=UKe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),zKe=xi(VKe),Ty={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},WKe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Uj={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function xJ(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function gJ(e,t){var r=eKe(WKe),s=[],a;s[s.length]=cs,s[s.length]=Je("Types",null,{xmlns:Ts.CT,"xmlns:xsd":Ts.xsd,"xmlns:xsi":Ts.xsi}),s=s.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Je("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],s[s.length]=Je("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Uj[c][t.bookType]||Uj[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(d){s[s.length]=Je("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:Uj[c][t.bookType]||Uj[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(d){s[s.length]=Je("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),s.length>2&&(s[s.length]="</Types>",s[1]=s[1].replace("/>",">")),s.join("")}var yr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function vJ(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Ah(e){var t=[cs,Je("Relationships",null,{xmlns:Ts.RELS})];return ra(e["!id"]).forEach(function(r){t[t.length]=Je("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Or(e,t,r,s,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=s,a.Target=r,[yr.HLINK,yr.XPATH,yr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function HKe(e){var t=[cs];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function XL(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function qKe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function GKe(e){var t=[cs];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(XL(e[r][0],e[r][1])),t.push(qKe("",e[r][0]));return t.push(XL("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function yJ(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Fw.version+"</meta:generator></office:meta></office:document-meta>"}var Mf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function yC(e,t,r,s,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Ir(t),s[s.length]=r?Je(e,t,r):Ys(e,t))}function jJ(e,t){var r=t||{},s=[cs,Je("cp:coreProperties",null,{"xmlns:cp":Ts.CORE_PROPS,"xmlns:dc":Ts.dc,"xmlns:dcterms":Ts.dcterms,"xmlns:dcmitype":Ts.dcmitype,"xmlns:xsi":Ts.xsi})],a={};if(!e&&!r.Props)return s.join("");e&&(e.CreatedDate!=null&&yC("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:jP(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a),e.ModifiedDate!=null&&yC("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:jP(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a));for(var i=0;i!=Mf.length;++i){var o=Mf[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&yC(o[0],l,null,s,a)}return s.length>2&&(s[s.length]="</cp:coreProperties>",s[1]=s[1].replace("/>",">")),s.join("")}var Ph=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],bJ=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function wJ(e){var t=[],r=Je;return e||(e={}),e.Application="SheetJS",t[t.length]=cs,t[t.length]=Je("Properties",null,{xmlns:Ts.EXT_PROPS,"xmlns:vt":Ts.vt}),Ph.forEach(function(s){if(e[s[1]]!==void 0){var a;switch(s[2]){case"string":a=Ir(String(e[s[1]]));break;case"bool":a=e[s[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(s[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(s){return"<vt:lpstr>"+Ir(s)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function NJ(e){var t=[cs,Je("Properties",null,{xmlns:Ts.CUST_PROPS,"xmlns:vt":Ts.vt})];if(!e)return t.join("");var r=1;return ra(e).forEach(function(a){++r,t[t.length]=Je("property",uKe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Ir(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var QL={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function KKe(e,t){var r=[];return ra(QL).map(function(s){for(var a=0;a<Mf.length;++a)if(Mf[a][1]==s)return Mf[a];for(a=0;a<Ph.length;++a)if(Ph[a][1]==s)return Ph[a];throw s}).forEach(function(s){if(e[s[1]]!=null){var a=t&&t.Props&&t.Props[s[1]]!=null?t.Props[s[1]]:e[s[1]];switch(s[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Ys(QL[s[1]]||s[1],a))}}),Je("DocumentProperties",r.join(""),{xmlns:Ii.o})}function YKe(e,t){var r=["Worksheets","SheetNames"],s="CustomDocumentProperties",a=[];return e&&ra(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Mf.length;++o)if(i==Mf[o][1])return;for(o=0;o<Ph.length;++o)if(i==Ph[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(Je($L(i),l,{"dt:dt":c}))}}),t&&ra(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(Je($L(i),o,{"dt:dt":l}))}}),"<"+s+' xmlns="'+Ii.o+'">'+a.join("")+"</"+s+">"}function XKe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,s=r%Math.pow(2,32),a=(r-s)/Math.pow(2,32);s*=1e7,a*=1e7;var i=s/Math.pow(2,32)|0;i>0&&(s=s%Math.pow(2,32),a+=i);var o=Me(8);return o.write_shift(4,s),o.write_shift(4,a),o}function ZL(e,t){var r=Me(4),s=Me(4);switch(r.write_shift(4,e==80?31:e),e){case 3:s.write_shift(-4,t);break;case 5:s=Me(8),s.write_shift(8,t,"f");break;case 11:s.write_shift(4,t?1:0);break;case 64:s=XKe(t);break;case 31:case 80:for(s=Me(4+2*(t.length+1)+(t.length%2?0:2)),s.write_shift(4,t.length+1),s.write_shift(0,t,"dbcs");s.l!=s.length;)s.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ks([r,s])}var _J=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function QKe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function JL(e,t,r){var s=Me(8),a=[],i=[],o=8,l=0,c=Me(8),d=Me(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),a.push(d),o+=8+c.length,!t){d=Me(8),d.write_shift(4,0),a.unshift(d);var u=[Me(4)];for(u[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=Me(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=Ks(u),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(_J.indexOf(e[l][0])>-1||bJ.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],h=0;if(t){h=+t[e[l][0]];var x=r[h];if(x.p=="version"&&typeof m=="string"){var p=m.split(".");m=(+p[0]<<16)+(+p[1]||0)}c=ZL(x.t,m)}else{var g=QKe(m);g==-1&&(g=31,m=String(m)),c=ZL(g,m)}i.push(c),d=Me(8),d.write_shift(4,t?h:2+l),a.push(d),o+=8+c.length}var j=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,j),j+=i[l].length;return s.write_shift(4,o),s.write_shift(4,i.length),Ks([s].concat(a).concat(i))}function e8(e,t,r,s,a,i){var o=Me(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Br.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=JL(e,r,s);if(l.push(c),a){var d=JL(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(d)}return Ks(l)}function ZKe(e,t){t||(t=Me(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function JKe(e,t){return e.read_shift(t)===1}function Ta(e,t){return t||(t=Me(2)),t.write_shift(2,+!!e),t}function SJ(e){return e.read_shift(2,"u")}function ho(e,t){return t||(t=Me(2)),t.write_shift(2,e),t}function CJ(e,t,r){return r||(r=Me(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function EJ(e,t,r){var s=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=s?e.read_shift(s,a):"";return o}function eYe(e){var t=e.t||"",r=Me(3);r.write_shift(2,t.length),r.write_shift(1,1);var s=Me(2*t.length);s.write_shift(2*t.length,t,"utf16le");var a=[r,s];return Ks(a)}function tYe(e,t,r){var s;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?s=e.read_shift(t,"sbcs-cont"):s=e.read_shift(t,"dbcs-cont"),s}function rYe(e,t,r){var s=e.read_shift(r&&r.biff==2?1:2);return s===0?(e.l++,""):tYe(e,s,r)}function nYe(e,t,r){if(r.biff>5)return rYe(e,t,r);var s=e.read_shift(1);return s===0?(e.l++,""):e.read_shift(s,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function AJ(e,t,r){return r||(r=Me(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function t8(e,t){t||(t=Me(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function sYe(e){var t=Me(512),r=0,s=e.Target;s.slice(0,7)=="file://"&&(s=s.slice(7));var a=s.indexOf("#"),i=a>-1?31:23;switch(s.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)s=s.slice(1),t8(s,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?s.slice(0,a):s;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&t8(a>-1?s.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;s.slice(c*3,c*3+3)=="../"||s.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,s.length-3*c+1),r=0;r<s.length-3*c;++r)t.write_shift(1,s.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function lm(e,t,r,s){return s||(s=Me(6)),s.write_shift(2,e),s.write_shift(2,t),s.write_shift(2,r||0),s}function aYe(e,t,r){var s=r.biff>8?4:2,a=e.read_shift(s),i=e.read_shift(s,"i"),o=e.read_shift(s,"i");return[a,i,o]}function iYe(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2);return{s:{c:s,r:t},e:{c:a,r}}}function PJ(e,t){return t||(t=Me(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function aD(e,t,r){var s=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":s=1280,a=8;break;case"biff4":s=4,a=6;break;case"biff3":s=3,a=6;break;case"biff2":s=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Me(a);return i.write_shift(2,s),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function oYe(e,t){var r=!t||t.biff==8,s=Me(r?112:54);for(s.write_shift(t.biff==8?2:1,7),r&&s.write_shift(1,0),s.write_shift(4,859007059),s.write_shift(4,5458548|(r?0:536870912));s.l<s.length;)s.write_shift(1,r?0:32);return s}function lYe(e,t){var r=!t||t.biff>=8?2:1,s=Me(8+r*e.name.length);s.write_shift(4,e.pos),s.write_shift(1,e.hs||0),s.write_shift(1,e.dt),s.write_shift(1,e.name.length),t.biff>=8&&s.write_shift(1,1),s.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=s.slice(0,s.l);return a.l=s.l,a}function cYe(e,t){var r=Me(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var s=[],a=0;a<e.length;++a)s[a]=eYe(e[a]);var i=Ks([r].concat(s));return i.parts=[r.length].concat(s.map(function(o){return o.length})),i}function dYe(){var e=Me(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function uYe(e){var t=Me(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function fYe(e,t){var r=e.name||"Arial",s=t&&t.biff==5,a=s?15+r.length:16+2*r.length,i=Me(a);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),s||i.write_shift(1,1),i.write_shift((s?1:2)*r.length,r,s?"sbcs":"utf16le"),i}function mYe(e,t,r,s){var a=Me(10);return lm(e,t,s,a),a.write_shift(4,r),a}function hYe(e,t,r,s,a){var i=!a||a.biff==8,o=Me(8+ +i+(1+i)*r.length);return lm(e,t,s,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function pYe(e,t,r,s){var a=r&&r.biff==5;s||(s=Me(a?3+t.length:5+2*t.length)),s.write_shift(2,e),s.write_shift(a?1:2,t.length),a||s.write_shift(1,1),s.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=s.length>s.l?s.slice(0,s.l):s;return i.l==null&&(i.l=i.length),i}function xYe(e,t){var r=t.biff==8||!t.biff?4:2,s=Me(2*r+6);return s.write_shift(r,e.s.r),s.write_shift(r,e.e.r+1),s.write_shift(2,e.s.c),s.write_shift(2,e.e.c+1),s.write_shift(2,0),s}function r8(e,t,r,s){var a=r&&r.biff==5;s||(s=Me(a?16:20)),s.write_shift(2,0),e.style?(s.write_shift(2,e.numFmtId||0),s.write_shift(2,65524)):(s.write_shift(2,e.numFmtId||0),s.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),s.write_shift(4,i),s.write_shift(4,0),a||s.write_shift(4,0),s.write_shift(2,0),s}function gYe(e){var t=Me(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function vYe(e,t,r,s,a,i){var o=Me(8);return lm(e,t,s,o),CJ(r,i,o),o}function yYe(e,t,r,s){var a=Me(14);return lm(e,t,s,a),om(r,a),a}function jYe(e,t,r){if(r.biff<8)return bYe(e,t,r);for(var s=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)s.push(aYe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return s}function bYe(e,t,r){e[e.l+1]==3&&e[e.l]++;var s=EJ(e,t,r);return s.charCodeAt(0)==3?s.slice(1):s}function wYe(e){var t=Me(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)PJ(e[r],t);return t}function NYe(e){var t=Me(24),r=Os(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var s="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(s[a],16));return Ks([t,sYe(e[1])])}function _Ye(e){var t=e[1].Tooltip,r=Me(10+2*(t.length+1));r.write_shift(2,2048);var s=Os(e[0]);r.write_shift(2,s.r),r.write_shift(2,s.r),r.write_shift(2,s.c),r.write_shift(2,s.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function SYe(e){return e||(e=Me(4)),e.write_shift(2,1),e.write_shift(2,1),e}function CYe(e,t,r){if(!r.cellStyles)return ic(e,t);var s=r&&r.biff>=12?4:2,a=e.read_shift(s),i=e.read_shift(s),o=e.read_shift(s),l=e.read_shift(s),c=e.read_shift(2);s==2&&(e.l+=2);var d={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function EYe(e,t){var r=Me(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var s=0;return e.hidden&&(s|=1),r.write_shift(1,s),s=e.level||0,r.write_shift(1,s),r.write_shift(2,0),r}function AYe(e){for(var t=Me(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function PYe(e,t,r){var s=Me(15);return Dy(s,e,t),s.write_shift(8,r,"f"),s}function kYe(e,t,r){var s=Me(9);return Dy(s,e,t),s.write_shift(2,r),s}var TYe=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=K3({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var d=[],u=im(1);switch(c.type){case"base64":u=Jo(ld(l));break;case"binary":u=Jo(l);break;case"buffer":case"array":u=l;break}Oi(u,0);var f=u.read_shift(1),m=!!(f&136),h=!1,x=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,m=!0;break;case 49:h=!0,m=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,g=521;f==2&&(p=u.read_shift(2)),u.l+=3,f!=2&&(p=u.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(g=u.read_shift(2));var j=u.read_shift(2),y=c.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(y=e[u[u.l]]),u.l+=1,u.l+=2),x&&(u.l+=36);for(var w=[],b={},N=Math.min(u.length,f==2?521:g-10-(h?264:0)),S=x?32:11;u.l<N&&u[u.l]!=13;)switch(b={},b.name=lf.utils.decode(y,u.slice(u.l,u.l+S)).replace(/[\u0000\r\n].*$/g,""),u.l+=S,b.type=String.fromCharCode(u.read_shift(1)),f!=2&&!x&&(b.offset=u.read_shift(4)),b.len=u.read_shift(1),f==2&&(b.offset=u.read_shift(2)),b.dec=u.read_shift(1),b.name.length&&w.push(b),f!=2&&(u.l+=x?13:14),b.type){case"B":(!h||b.len!=8)&&c.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+b.type)}if(u[u.l]!==13&&(u.l=g-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=g;var _=0,E=0;for(d[0]=[],E=0;E!=w.length;++E)d[0][E]=w[E].name;for(;p-- >0;){if(u[u.l]===42){u.l+=j;continue}for(++u.l,d[++_]=[],E=0,E=0;E!=w.length;++E){var A=u.slice(u.l,u.l+w[E].len);u.l+=w[E].len,Oi(A,0);var T=lf.utils.decode(y,A);switch(w[E].type){case"C":T.trim().length&&(d[_][E]=T.replace(/\s+$/,""));break;case"D":T.length===8?d[_][E]=new Date(+T.slice(0,4),+T.slice(4,6)-1,+T.slice(6,8)):d[_][E]=T;break;case"F":d[_][E]=parseFloat(T.trim());break;case"+":case"I":d[_][E]=x?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(T.trim().toUpperCase()){case"Y":case"T":d[_][E]=!0;break;case"N":case"F":d[_][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+T+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));d[_][E]="##MEMO##"+(x?parseInt(T.trim(),10):A.read_shift(4));break;case"N":T=T.replace(/\u0000/g,"").trim(),T&&T!="."&&(d[_][E]=+T||0);break;case"@":d[_][E]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":d[_][E]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":d[_][E]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[_][E]=-A.read_shift(-8,"f");break;case"B":if(h&&w[E].len==8){d[_][E]=A.read_shift(8,"f");break}case"G":case"P":A.l+=w[E].len;break;case"0":if(w[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[E].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=w,d}function s(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=yx(r(l,d),d);return u["!cols"]=d.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete d.DBF,u}function a(l,c){try{return bm(s(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&yv(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=mi(),f=Xw(l,{header:1,raw:!0,cellDates:!0}),m=f[0],h=f.slice(1),x=l["!cols"]||[],p=0,g=0,j=0,y=1;for(p=0;p<m.length;++p){if(((x[p]||{}).DBF||{}).name){m[p]=x[p].DBF.name,++j;continue}if(m[p]!=null){if(++j,typeof m[p]=="number"&&(m[p]=m[p].toString(10)),typeof m[p]!="string")throw new Error("DBF Invalid column name "+m[p]+" |"+typeof m[p]+"|");if(m.indexOf(m[p])!==p){for(g=0;g<1024;++g)if(m.indexOf(m[p]+"_"+g)==-1){m[p]+="_"+g;break}}}}var w=ln(l["!ref"]),b=[],N=[],S=[];for(p=0;p<=w.e.c-w.s.c;++p){var _="",E="",A=0,T=[];for(g=0;g<h.length;++g)h[g][p]!=null&&T.push(h[g][p]);if(T.length==0||m[p]==null){b[p]="?";continue}for(g=0;g<T.length;++g){switch(typeof T[g]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=T[g]instanceof Date?"D":"C";break;default:E="C"}A=Math.max(A,String(T[g]).length),_=_&&_!=E?"C":E}A>250&&(A=250),E=((x[p]||{}).DBF||{}).type,E=="C"&&x[p].DBF.len>A&&(A=x[p].DBF.len),_=="B"&&E=="N"&&(_="N",S[p]=x[p].DBF.dec,A=x[p].DBF.len),N[p]=_=="C"||E=="N"?A:i[_]||0,y+=N[p],b[p]=_}var R=u.next(32);for(R.write_shift(4,318902576),R.write_shift(4,h.length),R.write_shift(2,296+32*j),R.write_shift(2,y),p=0;p<4;++p)R.write_shift(4,0);for(R.write_shift(4,0|(+t[TZ]||3)<<8),p=0,g=0;p<m.length;++p)if(m[p]!=null){var I=u.next(32),z=(m[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,z,"sbcs"),I.write_shift(1,b[p]=="?"?"C":b[p],"sbcs"),I.write_shift(4,g),I.write_shift(1,N[p]||i[b[p]]||0),I.write_shift(1,S[p]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),g+=N[p]||i[b[p]]||0}var H=u.next(264);for(H.write_shift(4,13),p=0;p<65;++p)H.write_shift(4,0);for(p=0;p<h.length;++p){var F=u.next(y);for(F.write_shift(1,0),g=0;g<m.length;++g)if(m[g]!=null)switch(b[g]){case"L":F.write_shift(1,h[p][g]==null?63:h[p][g]?84:70);break;case"B":F.write_shift(8,h[p][g]||0,"f");break;case"N":var k="0";for(typeof h[p][g]=="number"&&(k=h[p][g].toFixed(S[g]||0)),j=0;j<N[g]-k.length;++j)F.write_shift(1,32);F.write_shift(1,k,"sbcs");break;case"D":h[p][g]?(F.write_shift(4,("0000"+h[p][g].getFullYear()).slice(-4),"sbcs"),F.write_shift(2,("00"+(h[p][g].getMonth()+1)).slice(-2),"sbcs"),F.write_shift(2,("00"+h[p][g].getDate()).slice(-2),"sbcs")):F.write_shift(8,"00000000","sbcs");break;case"C":var P=String(h[p][g]!=null?h[p][g]:"").slice(0,N[g]);for(F.write_shift(1,P,"sbcs"),j=0;j<N[g]-P.length;++j)F.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:s,from_sheet:o}}(),OYe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ra(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,h){var x=e[h];return typeof x=="number"?CL(x):x},s=function(m,h,x){var p=h.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return p==59?m:CL(p)};e["|"]=254;function a(m,h){switch(h.type){case"base64":return i(ld(m),h);case"binary":return i(m,h);case"buffer":return i(br&&Buffer.isBuffer(m)?m.toString("binary"):Ay(m),h);case"array":return i(l_(m),h)}throw new Error("Unrecognized type "+h.type)}function i(m,h){var x=m.split(/[\n\r]+/),p=-1,g=-1,j=0,y=0,w=[],b=[],N=null,S={},_=[],E=[],A=[],T=0,R;for(+h.codepage>=0&&yv(+h.codepage);j!==x.length;++j){T=0;var I=x[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(t,r),z=I.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),H=z[0],F;if(I.length>0)switch(H){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":z[1].charAt(0)=="P"&&b.push(I.slice(3).replace(/;;/g,";"));break;case"C":var k=!1,P=!1,M=!1,O=!1,K=-1,ne=-1;for(y=1;y<z.length;++y)switch(z[y].charAt(0)){case"A":break;case"X":g=parseInt(z[y].slice(1))-1,P=!0;break;case"Y":for(p=parseInt(z[y].slice(1))-1,P||(g=0),R=w.length;R<=p;++R)w[R]=[];break;case"K":F=z[y].slice(1),F.charAt(0)==='"'?F=F.slice(1,F.length-1):F==="TRUE"?F=!0:F==="FALSE"?F=!1:isNaN(Wc(F))?isNaN(bv(F).getDate())||(F=Fa(F)):(F=Wc(F),N!==null&&zZ(N)&&(F=GZ(F))),k=!0;break;case"E":O=!0;var D=kXe(z[y].slice(1),{r:p,c:g});w[p][g]=[w[p][g],D];break;case"S":M=!0,w[p][g]=[w[p][g],"S5S"];break;case"G":break;case"R":K=parseInt(z[y].slice(1))-1;break;case"C":ne=parseInt(z[y].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+I)}if(k&&(w[p][g]&&w[p][g].length==2?w[p][g][0]=F:w[p][g]=F,N=null),M){if(O)throw new Error("SYLK shared formula cannot have own formula");var U=K>-1&&w[K][ne];if(!U||!U[1])throw new Error("SYLK shared formula cannot find base");w[p][g][1]=TXe(U[1],{r:p-K,c:g-ne})}break;case"F":var L=0;for(y=1;y<z.length;++y)switch(z[y].charAt(0)){case"X":g=parseInt(z[y].slice(1))-1,++L;break;case"Y":for(p=parseInt(z[y].slice(1))-1,R=w.length;R<=p;++R)w[R]=[];break;case"M":T=parseInt(z[y].slice(1))/20;break;case"F":break;case"G":break;case"P":N=b[parseInt(z[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=z[y].slice(1).split(" "),R=parseInt(A[0],10);R<=parseInt(A[1],10);++R)T=parseInt(A[2],10),E[R-1]=T===0?{hidden:!0}:{wch:T},iD(E[R-1]);break;case"C":g=parseInt(z[y].slice(1))-1,E[g]||(E[g]={});break;case"R":p=parseInt(z[y].slice(1))-1,_[p]||(_[p]={}),T>0?(_[p].hpt=T,_[p].hpx=IJ(T)):T===0&&(_[p].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+I)}L<1&&(N=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+I)}}return _.length>0&&(S["!rows"]=_),E.length>0&&(S["!cols"]=E),h&&h.sheetRows&&(w=w.slice(0,h.sheetRows)),[w,S]}function o(m,h){var x=a(m,h),p=x[0],g=x[1],j=yx(p,h);return ra(g).forEach(function(y){j[y]=g[y]}),j}function l(m,h){return bm(o(m,h),h)}function c(m,h,x,p){var g="C;Y"+(x+1)+";X"+(p+1)+";K";switch(m.t){case"n":g+=m.v||0,m.f&&!m.F&&(g+=";E"+lD(m.f,{r:x,c:p}));break;case"b":g+=m.v?"TRUE":"FALSE";break;case"e":g+=m.w||m.v;break;case"d":g+='"'+(m.w||m.v)+'"';break;case"s":g+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function d(m,h){h.forEach(function(x,p){var g="F;W"+(p+1)+" "+(p+1)+" ";x.hidden?g+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=qw(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=Gw(x.wpx)),typeof x.wch=="number"&&(g+=Math.round(x.wch))),g.charAt(g.length-1)!=" "&&m.push(g)})}function u(m,h){h.forEach(function(x,p){var g="F;";x.hidden?g+="M0;":x.hpt?g+="M"+20*x.hpt+";":x.hpx&&(g+="M"+20*Kw(x.hpx)+";"),g.length>2&&m.push(g+"R"+(p+1))})}function f(m,h){var x=["ID;PWXL;N;E"],p=[],g=ln(m["!ref"]),j,y=Array.isArray(m),w=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),m["!cols"]&&d(x,m["!cols"]),m["!rows"]&&u(x,m["!rows"]),x.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var b=g.s.r;b<=g.e.r;++b)for(var N=g.s.c;N<=g.e.c;++N){var S=Mr({r:b,c:N});j=y?(m[b]||[])[N]:m[S],!(!j||j.v==null&&(!j.f||j.F))&&p.push(c(j,m,b,N))}return x.join(w)+w+p.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),DYe=function(){function e(i,o){switch(o.type){case"base64":return t(ld(i),o);case"binary":return t(i,o);case"buffer":return t(br&&Buffer.isBuffer(i)?i.toString("binary"):Ay(i),o);case"array":return t(l_(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,d=-1,u=0,f=[];u!==l.length;++u){if(l[u].trim()==="BOT"){f[++c]=[],d=0;continue}if(!(c<0)){var m=l[u].trim().split(","),h=m[0],x=m[1];++u;for(var p=l[u]||"";(p.match(/["]/g)||[]).length&1&&u<l.length-1;)p+=`
`+l[++u];switch(p=p.trim(),+h){case-1:if(p==="BOT"){f[++c]=[],d=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][d]=!0:p==="FALSE"?f[c][d]=!1:isNaN(Wc(x))?isNaN(bv(x).getDate())?f[c][d]=x:f[c][d]=Fa(x):f[c][d]=Wc(x),++d;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][d++]=p!==""?p:null;break}if(p==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return yx(e(i,o),o)}function s(i,o){return bm(r(i,o),o)}var a=function(){var i=function(c,d,u,f,m){c.push(d),c.push(u+","+f),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,d,u,f){c.push(d+","+u),c.push(d==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var d=[],u=ln(c["!ref"]),f,m=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){o(d,-1,0,"BOT");for(var x=u.s.c;x<=u.e.c;++x){var p=Mr({r:h,c:x});if(f=m?(c[h]||[])[x]:c[p],!f){o(d,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?o(d,1,0,"="+f.f):o(d,1,0,""):o(d,0,g,"V");break;case"b":o(d,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Eu(f.z||Ln[14],pi(Fa(f.v)))),o(d,0,f.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var j=`\r
`,y=d.join(j);return y}}();return{to_workbook:s,to_sheet:r,from_sheet:a}}(),kJ=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,m){for(var h=f.split(`
`),x=-1,p=-1,g=0,j=[];g!==h.length;++g){var y=h[g].trim().split(":");if(y[0]==="cell"){var w=Os(y[1]);if(j.length<=w.r)for(x=j.length;x<=w.r;++x)j[x]||(j[x]=[]);switch(x=w.r,p=w.c,y[2]){case"t":j[x][p]=e(y[3]);break;case"v":j[x][p]=+y[3];break;case"vtf":var b=y[y.length-1];case"vtc":switch(y[3]){case"nl":j[x][p]=!!+y[4];break;default:j[x][p]=+y[4];break}y[2]=="vtf"&&(j[x][p]=[j[x][p],b])}}}return m&&m.sheetRows&&(j=j.slice(0,m.sheetRows)),j}function s(f,m){return yx(r(f,m),m)}function a(f,m){return bm(s(f,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(f){if(!f||!f["!ref"])return"";for(var m=[],h=[],x,p="",g=Zi(f["!ref"]),j=Array.isArray(f),y=g.s.r;y<=g.e.r;++y)for(var w=g.s.c;w<=g.e.c;++w)if(p=Mr({r:y,c:w}),x=j?(f[y]||[])[w]:f[p],!(!x||x.v==null||x.t==="z")){switch(h=["cell",p,"t"],x.t){case"s":case"str":h.push(t(x.v));break;case"n":x.f?(h[2]="vtf",h[3]="n",h[4]=x.v,h[5]=t(x.f)):(h[2]="v",h[3]=x.v);break;case"b":h[2]="vt"+(x.f?"f":"c"),h[3]="nl",h[4]=x.v?"1":"0",h[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var b=pi(Fa(x.v));h[2]="vtc",h[3]="nd",h[4]=""+b,h[5]=x.w||Eu(x.z||Ln[14],b);break;case"e":continue}m.push(h.join(":"))}return m.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function u(f){return[i,o,l,o,d(f),c].join(`
`)}return{to_workbook:a,to_sheet:s,from_sheet:u}}(),IYe=function(){function e(u,f,m,h,x){x.raw?f[m][h]=u:u===""||(u==="TRUE"?f[m][h]=!0:u==="FALSE"?f[m][h]=!1:isNaN(Wc(u))?isNaN(bv(u).getDate())?f[m][h]=u:f[m][h]=Fa(u):f[m][h]=Wc(u))}function t(u,f){var m=f||{},h=[];if(!u||u.length===0)return h;for(var x=u.split(/[\r\n]/),p=x.length-1;p>=0&&x[p].length===0;)--p;for(var g=10,j=0,y=0;y<=p;++y)j=x[y].indexOf(" "),j==-1?j=x[y].length:j++,g=Math.max(g,j);for(y=0;y<=p;++y){h[y]=[];var w=0;for(e(x[y].slice(0,g).trim(),h,y,w,m),w=1;w<=(x[y].length-g)/10+1;++w)e(x[y].slice(g+(w-1)*10,g+w*10).trim(),h,y,w,m)}return m.sheetRows&&(h=h.slice(0,m.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function a(u){for(var f={},m=!1,h=0,x=0;h<u.length;++h)(x=u.charCodeAt(h))==34?m=!m:!m&&x in r&&(f[x]=(f[x]||0)+1);x=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&x.push([f[h],h]);if(!x.length){f=s;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&x.push([f[h],h])}return x.sort(function(p,g){return p[0]-g[0]||s[p[1]]-s[g[1]]}),r[x.pop()[1]]||44}function i(u,f){var m=f||{},h="",x=m.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=a(u.slice(0,1024)):m&&m.FS?h=m.FS:h=a(u.slice(0,1024));var g=0,j=0,y=0,w=0,b=0,N=h.charCodeAt(0),S=!1,_=0,E=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var A=m.dateNF!=null?XGe(m.dateNF):null;function T(){var R=u.slice(w,b),I={};if(R.charAt(0)=='"'&&R.charAt(R.length-1)=='"'&&(R=R.slice(1,-1).replace(/""/g,'"')),R.length===0)I.t="z";else if(m.raw)I.t="s",I.v=R;else if(R.trim().length===0)I.t="s",I.v=R;else if(R.charCodeAt(0)==61)R.charCodeAt(1)==34&&R.charCodeAt(R.length-1)==34?(I.t="s",I.v=R.slice(2,-1).replace(/""/g,'"')):OXe(R)?(I.t="n",I.f=R.slice(1)):(I.t="s",I.v=R);else if(R=="TRUE")I.t="b",I.v=!0;else if(R=="FALSE")I.t="b",I.v=!1;else if(!isNaN(y=Wc(R)))I.t="n",m.cellText!==!1&&(I.w=R),I.v=y;else if(!isNaN(bv(R).getDate())||A&&R.match(A)){I.z=m.dateNF||Ln[14];var z=0;A&&R.match(A)&&(R=QGe(R,m.dateNF,R.match(A)||[]),z=1),m.cellDates?(I.t="d",I.v=Fa(R,z)):(I.t="n",I.v=pi(Fa(R,z))),m.cellText!==!1&&(I.w=Eu(I.z,I.v instanceof Date?pi(I.v):I.v)),m.cellNF||delete I.z}else I.t="s",I.v=R;if(I.t=="z"||(m.dense?(x[g]||(x[g]=[]),x[g][j]=I):x[Mr({c:j,r:g})]=I),w=b+1,E=u.charCodeAt(w),p.e.c<j&&(p.e.c=j),p.e.r<g&&(p.e.r=g),_==N)++j;else if(j=0,++g,m.sheetRows&&m.sheetRows<=g)return!0}e:for(;b<u.length;++b)switch(_=u.charCodeAt(b)){case 34:E===34&&(S=!S);break;case N:case 10:case 13:if(!S&&T())break e;break}return b-w>0&&T(),x["!ref"]=as(p),x}function o(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):yx(t(u,f),f)}function l(u,f){var m="",h=f.type=="string"?[0,0,0,0]:Ket(u,f);switch(f.type){case"base64":m=ld(u);break;case"binary":m=u;break;case"buffer":f.codepage==65001?m=u.toString("utf8"):f.codepage&&typeof lf<"u"?m=lf.utils.decode(f.codepage,u):m=br&&Buffer.isBuffer(u)?u.toString("binary"):Ay(u);break;case"array":m=l_(u);break;case"string":m=u;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?m=zg(m.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?m=zg(m):f.type=="binary"&&typeof lf<"u"&&f.codepage&&(m=lf.utils.decode(f.codepage,lf.utils.encode(28591,m))),m.slice(0,19)=="socialcalc:version:"?kJ.to_sheet(f.type=="string"?m:zg(m),f):o(m,f)}function c(u,f){return bm(l(u,f),f)}function d(u){for(var f=[],m=ln(u["!ref"]),h,x=Array.isArray(u),p=m.s.r;p<=m.e.r;++p){for(var g=[],j=m.s.c;j<=m.e.c;++j){var y=Mr({r:p,c:j});if(h=x?(u[p]||[])[j]:u[y],!h||h.v==null){g.push("          ");continue}for(var w=(h.w||(cd(h),h.w)||"").slice(0,10);w.length<10;)w+=" ";g.push(w+(j===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}}(),n8=function(){function e(D,U,L){if(D){Oi(D,D.l||0);for(var G=L.Enum||K;D.l<D.length;){var le=D.read_shift(2),fe=G[le]||G[65535],B=D.read_shift(2),Y=D.l+B,ie=fe.f&&fe.f(D,B,L);if(D.l=Y,U(ie,fe,le))return}}}function t(D,U){switch(U.type){case"base64":return r(Jo(ld(D)),U);case"binary":return r(Jo(D),U);case"buffer":case"array":return r(D,U)}throw"Unsupported type "+U.type}function r(D,U){if(!D)return D;var L=U||{},G=L.dense?[]:{},le="Sheet1",fe="",B=0,Y={},ie=[],we=[],ue={s:{r:0,c:0},e:{r:0,c:0}},ge=L.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)L.Enum=K,e(D,function(ke,re,he){switch(he){case 0:L.vers=ke,ke>=4096&&(L.qpro=!0);break;case 6:ue=ke;break;case 204:ke&&(fe=ke);break;case 222:fe=ke;break;case 15:case 51:L.qpro||(ke[1].v=ke[1].v.slice(1));case 13:case 14:case 16:he==14&&(ke[2]&112)==112&&(ke[2]&15)>1&&(ke[2]&15)<15&&(ke[1].z=L.dateNF||Ln[14],L.cellDates&&(ke[1].t="d",ke[1].v=GZ(ke[1].v))),L.qpro&&ke[3]>B&&(G["!ref"]=as(ue),Y[le]=G,ie.push(le),G=L.dense?[]:{},ue={s:{r:0,c:0},e:{r:0,c:0}},B=ke[3],le=fe||"Sheet"+(B+1),fe="");var ce=L.dense?(G[ke[0].r]||[])[ke[0].c]:G[Mr(ke[0])];if(ce){ce.t=ke[1].t,ce.v=ke[1].v,ke[1].z!=null&&(ce.z=ke[1].z),ke[1].f!=null&&(ce.f=ke[1].f);break}L.dense?(G[ke[0].r]||(G[ke[0].r]=[]),G[ke[0].r][ke[0].c]=ke[1]):G[Mr(ke[0])]=ke[1];break}},L);else if(D[2]==26||D[2]==14)L.Enum=ne,D[2]==14&&(L.qpro=!0,D.l=0),e(D,function(ke,re,he){switch(he){case 204:le=ke;break;case 22:ke[1].v=ke[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ke[3]>B&&(G["!ref"]=as(ue),Y[le]=G,ie.push(le),G=L.dense?[]:{},ue={s:{r:0,c:0},e:{r:0,c:0}},B=ke[3],le="Sheet"+(B+1)),ge>0&&ke[0].r>=ge)break;L.dense?(G[ke[0].r]||(G[ke[0].r]=[]),G[ke[0].r][ke[0].c]=ke[1]):G[Mr(ke[0])]=ke[1],ue.e.c<ke[0].c&&(ue.e.c=ke[0].c),ue.e.r<ke[0].r&&(ue.e.r=ke[0].r);break;case 27:ke[14e3]&&(we[ke[14e3][0]]=ke[14e3][1]);break;case 1537:we[ke[0]]=ke[1],ke[0]==B&&(le=ke[1]);break}},L);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(G["!ref"]=as(ue),Y[fe||le]=G,ie.push(fe||le),!we.length)return{SheetNames:ie,Sheets:Y};for(var xe={},_e=[],Re=0;Re<we.length;++Re)Y[ie[Re]]?(_e.push(we[Re]||ie[Re]),xe[we[Re]]=Y[we[Re]]||Y[ie[Re]]):(_e.push(we[Re]),xe[we[Re]]={"!ref":"A1"});return{SheetNames:_e,Sheets:xe}}function s(D,U){var L=U||{};if(+L.codepage>=0&&yv(+L.codepage),L.type=="string")throw new Error("Cannot write WK1 to JS string");var G=mi(),le=ln(D["!ref"]),fe=Array.isArray(D),B=[];et(G,0,i(1030)),et(G,6,c(le));for(var Y=Math.min(le.e.r,8191),ie=le.s.r;ie<=Y;++ie)for(var we=Js(ie),ue=le.s.c;ue<=le.e.c;++ue){ie===le.s.r&&(B[ue]=xa(ue));var ge=B[ue]+we,xe=fe?(D[ie]||[])[ue]:D[ge];if(!(!xe||xe.t=="z"))if(xe.t=="n")(xe.v|0)==xe.v&&xe.v>=-32768&&xe.v<=32767?et(G,13,h(ie,ue,xe.v)):et(G,14,p(ie,ue,xe.v));else{var _e=cd(xe);et(G,15,f(ie,ue,_e.slice(0,239)))}}return et(G,1),G.end()}function a(D,U){var L=U||{};if(+L.codepage>=0&&yv(+L.codepage),L.type=="string")throw new Error("Cannot write WK3 to JS string");var G=mi();et(G,0,o(D));for(var le=0,fe=0;le<D.SheetNames.length;++le)(D.Sheets[D.SheetNames[le]]||{})["!ref"]&&et(G,27,O(D.SheetNames[le],fe++));var B=0;for(le=0;le<D.SheetNames.length;++le){var Y=D.Sheets[D.SheetNames[le]];if(!(!Y||!Y["!ref"])){for(var ie=ln(Y["!ref"]),we=Array.isArray(Y),ue=[],ge=Math.min(ie.e.r,8191),xe=ie.s.r;xe<=ge;++xe)for(var _e=Js(xe),Re=ie.s.c;Re<=ie.e.c;++Re){xe===ie.s.r&&(ue[Re]=xa(Re));var ke=ue[Re]+_e,re=we?(Y[xe]||[])[Re]:Y[ke];if(!(!re||re.t=="z"))if(re.t=="n")et(G,23,T(xe,Re,B,re.v));else{var he=cd(re);et(G,22,_(xe,Re,B,he.slice(0,239)))}}++B}}return et(G,1),G.end()}function i(D){var U=Me(2);return U.write_shift(2,D),U}function o(D){var U=Me(26);U.write_shift(2,4096),U.write_shift(2,4),U.write_shift(4,0);for(var L=0,G=0,le=0,fe=0;fe<D.SheetNames.length;++fe){var B=D.SheetNames[fe],Y=D.Sheets[B];if(!(!Y||!Y["!ref"])){++le;var ie=Zi(Y["!ref"]);L<ie.e.r&&(L=ie.e.r),G<ie.e.c&&(G=ie.e.c)}}return L>8191&&(L=8191),U.write_shift(2,L),U.write_shift(1,le),U.write_shift(1,G),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(1,1),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(4,0),U}function l(D,U,L){var G={s:{c:0,r:0},e:{c:0,r:0}};return U==8&&L.qpro?(G.s.c=D.read_shift(1),D.l++,G.s.r=D.read_shift(2),G.e.c=D.read_shift(1),D.l++,G.e.r=D.read_shift(2),G):(G.s.c=D.read_shift(2),G.s.r=D.read_shift(2),U==12&&L.qpro&&(D.l+=2),G.e.c=D.read_shift(2),G.e.r=D.read_shift(2),U==12&&L.qpro&&(D.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function c(D){var U=Me(8);return U.write_shift(2,D.s.c),U.write_shift(2,D.s.r),U.write_shift(2,D.e.c),U.write_shift(2,D.e.r),U}function d(D,U,L){var G=[{c:0,r:0},{t:"n",v:0},0,0];return L.qpro&&L.vers!=20768?(G[0].c=D.read_shift(1),G[3]=D.read_shift(1),G[0].r=D.read_shift(2),D.l+=2):(G[2]=D.read_shift(1),G[0].c=D.read_shift(2),G[0].r=D.read_shift(2)),G}function u(D,U,L){var G=D.l+U,le=d(D,U,L);if(le[1].t="s",L.vers==20768){D.l++;var fe=D.read_shift(1);return le[1].v=D.read_shift(fe,"utf8"),le}return L.qpro&&D.l++,le[1].v=D.read_shift(G-D.l,"cstr"),le}function f(D,U,L){var G=Me(7+L.length);G.write_shift(1,255),G.write_shift(2,U),G.write_shift(2,D),G.write_shift(1,39);for(var le=0;le<G.length;++le){var fe=L.charCodeAt(le);G.write_shift(1,fe>=128?95:fe)}return G.write_shift(1,0),G}function m(D,U,L){var G=d(D,U,L);return G[1].v=D.read_shift(2,"i"),G}function h(D,U,L){var G=Me(7);return G.write_shift(1,255),G.write_shift(2,U),G.write_shift(2,D),G.write_shift(2,L,"i"),G}function x(D,U,L){var G=d(D,U,L);return G[1].v=D.read_shift(8,"f"),G}function p(D,U,L){var G=Me(13);return G.write_shift(1,255),G.write_shift(2,U),G.write_shift(2,D),G.write_shift(8,L,"f"),G}function g(D,U,L){var G=D.l+U,le=d(D,U,L);if(le[1].v=D.read_shift(8,"f"),L.qpro)D.l=G;else{var fe=D.read_shift(2);b(D.slice(D.l,D.l+fe),le),D.l+=fe}return le}function j(D,U,L){var G=U&32768;return U&=-32769,U=(G?D:0)+(U>=8192?U-16384:U),(G?"":"$")+(L?xa(U):Js(U))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function b(D,U){Oi(D,0);for(var L=[],G=0,le="",fe="",B="",Y="";D.l<D.length;){var ie=D[D.l++];switch(ie){case 0:L.push(D.read_shift(8,"f"));break;case 1:fe=j(U[0].c,D.read_shift(2),!0),le=j(U[0].r,D.read_shift(2),!1),L.push(fe+le);break;case 2:{var we=j(U[0].c,D.read_shift(2),!0),ue=j(U[0].r,D.read_shift(2),!1);fe=j(U[0].c,D.read_shift(2),!0),le=j(U[0].r,D.read_shift(2),!1),L.push(we+ue+":"+fe+le)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:L.push("("+L.pop()+")");break;case 5:L.push(D.read_shift(2));break;case 6:{for(var ge="";ie=D[D.l++];)ge+=String.fromCharCode(ie);L.push('"'+ge.replace(/"/g,'""')+'"')}break;case 8:L.push("-"+L.pop());break;case 23:L.push("+"+L.pop());break;case 22:L.push("NOT("+L.pop()+")");break;case 20:case 21:Y=L.pop(),B=L.pop(),L.push(["AND","OR"][ie-20]+"("+B+","+Y+")");break;default:if(ie<32&&w[ie])Y=L.pop(),B=L.pop(),L.push(B+w[ie]+Y);else if(y[ie]){if(G=y[ie][1],G==69&&(G=D[D.l++]),G>L.length){console.error("WK1 bad formula parse 0x"+ie.toString(16)+":|"+L.join("|")+"|");return}var xe=L.slice(-G);L.length-=G,L.push(y[ie][0]+"("+xe.join(",")+")")}else return ie<=7?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=24?console.error("WK1 unsupported op "+ie.toString(16)):ie<=30?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=115?console.error("WK1 unsupported function opcode "+ie.toString(16)):console.error("WK1 unrecognized opcode "+ie.toString(16))}}L.length==1?U[1].f=""+L[0]:console.error("WK1 bad formula parse |"+L.join("|")+"|")}function N(D){var U=[{c:0,r:0},{t:"n",v:0},0];return U[0].r=D.read_shift(2),U[3]=D[D.l++],U[0].c=D[D.l++],U}function S(D,U){var L=N(D);return L[1].t="s",L[1].v=D.read_shift(U-4,"cstr"),L}function _(D,U,L,G){var le=Me(6+G.length);le.write_shift(2,D),le.write_shift(1,L),le.write_shift(1,U),le.write_shift(1,39);for(var fe=0;fe<G.length;++fe){var B=G.charCodeAt(fe);le.write_shift(1,B>=128?95:B)}return le.write_shift(1,0),le}function E(D,U){var L=N(D);L[1].v=D.read_shift(2);var G=L[1].v>>1;if(L[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return L[1].v=G,L}function A(D,U){var L=N(D),G=D.read_shift(4),le=D.read_shift(4),fe=D.read_shift(2);if(fe==65535)return G===0&&le===3221225472?(L[1].t="e",L[1].v=15):G===0&&le===3489660928?(L[1].t="e",L[1].v=42):L[1].v=0,L;var B=fe&32768;return fe=(fe&32767)-16446,L[1].v=(1-B*2)*(le*Math.pow(2,fe+32)+G*Math.pow(2,fe)),L}function T(D,U,L,G){var le=Me(14);if(le.write_shift(2,D),le.write_shift(1,L),le.write_shift(1,U),G==0)return le.write_shift(4,0),le.write_shift(4,0),le.write_shift(2,65535),le;var fe=0,B=0,Y=0,ie=0;return G<0&&(fe=1,G=-G),B=Math.log2(G)|0,G/=Math.pow(2,B-31),ie=G>>>0,ie&2147483648||(G/=2,++B,ie=G>>>0),G-=ie,ie|=2147483648,ie>>>=0,G*=Math.pow(2,32),Y=G>>>0,le.write_shift(4,Y),le.write_shift(4,ie),B+=16383+(fe?32768:0),le.write_shift(2,B),le}function R(D,U){var L=A(D);return D.l+=U-14,L}function I(D,U){var L=N(D),G=D.read_shift(4);return L[1].v=G>>6,L}function z(D,U){var L=N(D),G=D.read_shift(8,"f");return L[1].v=G,L}function H(D,U){var L=z(D);return D.l+=U-10,L}function F(D,U){return D[D.l+U-1]==0?D.read_shift(U,"cstr"):""}function k(D,U){var L=D[D.l++];L>U-1&&(L=U-1);for(var G="";G.length<L;)G+=String.fromCharCode(D[D.l++]);return G}function P(D,U,L){if(!(!L.qpro||U<21)){var G=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var le=D.read_shift(U-21,"cstr");return[G,le]}}function M(D,U){for(var L={},G=D.l+U;D.l<G;){var le=D.read_shift(2);if(le==14e3){for(L[le]=[0,""],L[le][0]=D.read_shift(2);D[D.l];)L[le][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return L}function O(D,U){var L=Me(5+D.length);L.write_shift(2,14e3),L.write_shift(2,U);for(var G=0;G<D.length;++G){var le=D.charCodeAt(G);L[L.l++]=le>127?95:le}return L[L.l++]=0,L}var K={0:{n:"BOF",f:SJ},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:F},222:{n:"SHEETNAMELP",f:k},65535:{n:""}},ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:R},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:M},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:I},38:{n:"??"},39:{n:"NUMBER27",f:z},40:{n:"FORMULA28",f:H},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:F},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:P},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:a,to_workbook:t}}(),RYe=/^\s|\s$|[\t\n\r]/;function TJ(e,t){if(!t.bookSST)return"";var r=[cs];r[r.length]=Je("sst",null,{xmlns:vx[0],count:e.Count,uniqueCount:e.Unique});for(var s=0;s!=e.length;++s)if(e[s]!=null){var a=e[s],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(RYe)&&(i+=' xml:space="preserve"'),i+=">"+Ir(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function MYe(e){return[e.read_shift(4),e.read_shift(4)]}function FYe(e,t){return t||(t=Me(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var $Ye=AKe;function LYe(e){var t=mi();We(t,159,FYe(e));for(var r=0;r<e.length;++r)We(t,19,$Ye(e[r]));return We(t,160),t.end()}function BYe(e){for(var t=[],r=e.split(""),s=0;s<r.length;++s)t[s]=r[s].charCodeAt(0);return t}function OJ(e){var t=0,r,s=BYe(e),a=s.length+1,i,o,l,c,d;for(r=im(a),r[0]=s.length,i=1;i!=a;++i)r[i]=s[i-1];for(i=a-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,d=l|c,t=d^o;return t^52811}var UYe=function(){function e(a,i){switch(i.type){case"base64":return t(ld(a),i);case"binary":return t(a,i);case"buffer":return t(br&&Buffer.isBuffer(a)?a.toString("binary"):Ay(a),i);case"array":return t(l_(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,f){Array.isArray(l)&&(l[f]=[]);for(var m=/\\\w+\b/g,h=0,x,p=-1;x=m.exec(u);){switch(x[0]){case"\\cell":var g=u.slice(h,m.lastIndex-x[0].length);if(g[0]==" "&&(g=g.slice(1)),++p,g.length){var j={v:g,t:"s"};Array.isArray(l)?l[f][p]=j:l[Mr({r:f,c:p})]=j}break}h=m.lastIndex}p>d.e.c&&(d.e.c=p)}),l["!ref"]=as(d),l}function r(a,i){return bm(e(a,i),i)}function s(a){for(var i=["{\\rtf1\\ansi"],o=ln(a["!ref"]),l,c=Array.isArray(a),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var f=Mr({r:d,c:u});l=c?(a[d]||[])[u]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(cd(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:s}}();function s8(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var VYe=6,Hc=VYe;function qw(e){return Math.floor((e+Math.round(128/Hc)/256)*Hc)}function Gw(e){return Math.floor((e-5)/Hc*100+.5)/100}function wP(e){return Math.round((e*Hc+5)/Hc*256)/256}function iD(e){e.width?(e.wpx=qw(e.width),e.wch=Gw(e.wpx),e.MDW=Hc):e.wpx?(e.wch=Gw(e.wpx),e.width=wP(e.wch),e.MDW=Hc):typeof e.wch=="number"&&(e.width=wP(e.wch),e.wpx=qw(e.width),e.MDW=Hc),e.customWidth&&delete e.customWidth}var zYe=96,DJ=zYe;function Kw(e){return e*96/DJ}function IJ(e){return e*DJ/96}function WYe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&(t[t.length]=Je("numFmt",null,{numFmtId:s,formatCode:Ir(e[s])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Je("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function HYe(e){var t=[];return t[t.length]=Je("cellXfs",null),e.forEach(function(r){t[t.length]=Je("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Je("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function RJ(e,t){var r=[cs,Je("styleSheet",null,{xmlns:vx[0],"xmlns:vt":Ts.vt})],s;return e.SSF&&(s=WYe(e.SSF))!=null&&(r[r.length]=s),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(s=HYe(t.cellXfs))&&(r[r.length]=s),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function qYe(e,t){var r=e.read_shift(2),s=ga(e);return[r,s]}function GYe(e,t,r){r||(r=Me(6+4*t.length)),r.write_shift(2,e),Ds(t,r);var s=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),s}function KYe(e,t,r){var s={};s.sz=e.read_shift(2)/20;var a=RKe(e);a.fItalic&&(s.italic=1),a.fCondense&&(s.condense=1),a.fExtend&&(s.extend=1),a.fShadow&&(s.shadow=1),a.fOutline&&(s.outline=1),a.fStrikeout&&(s.strike=1);var i=e.read_shift(2);switch(i===700&&(s.bold=1),e.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(s.underline=o);var l=e.read_shift(1);l>0&&(s.family=l);var c=e.read_shift(1);switch(c>0&&(s.charset=c),e.l++,s.color=IKe(e),e.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=ga(e),s}function YYe(e,t){t||(t=Me(25+4*32)),t.write_shift(2,e.sz*20),MKe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Ww(e.color,t);var s=0;return e.scheme=="major"&&(s=1),e.scheme=="minor"&&(s=2),t.write_shift(1,s),Ds(e.name,t),t.length>t.l?t.slice(0,t.l):t}var XYe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],jC,QYe=ic;function a8(e,t){t||(t=Me(4*3+8*7+16*1)),jC||(jC=K3(XYe));var r=jC[e.patternType];r==null&&(r=40),t.write_shift(4,r);var s=0;if(r!=40)for(Ww({auto:1},t),Ww({auto:1},t);s<12;++s)t.write_shift(4,0);else{for(;s<4;++s)t.write_shift(4,0);for(;s<12;++s)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function ZYe(e,t){var r=e.l+t,s=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:s,numFmtId:a}}function MJ(e,t,r){r||(r=Me(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var s=0;return r.write_shift(1,s),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function ng(e,t){return t||(t=Me(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var JYe=ic;function eXe(e,t){return t||(t=Me(51)),t.write_shift(1,0),ng(null,t),ng(null,t),ng(null,t),ng(null,t),ng(null,t),t.length>t.l?t.slice(0,t.l):t}function tXe(e,t){return t||(t=Me(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),zw(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function rXe(e,t,r){var s=Me(2052);return s.write_shift(4,e),zw(t,s),zw(r,s),s.length>s.l?s.slice(0,s.l):s}function nXe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&++r}),r!=0&&(We(e,615,ll(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&We(e,44,GYe(a,t[a]))}),We(e,616))}}function sXe(e){var t=1;We(e,611,ll(t)),We(e,43,YYe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),We(e,612)}function aXe(e){var t=2;We(e,603,ll(t)),We(e,45,a8({patternType:"none"})),We(e,45,a8({patternType:"gray125"})),We(e,604)}function iXe(e){var t=1;We(e,613,ll(t)),We(e,46,eXe()),We(e,614)}function oXe(e){var t=1;We(e,626,ll(t)),We(e,47,MJ({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),We(e,627)}function lXe(e,t){We(e,617,ll(t.length)),t.forEach(function(r){We(e,47,MJ(r,0))}),We(e,618)}function cXe(e){var t=1;We(e,619,ll(t)),We(e,48,tXe({xfId:0,builtinId:0,name:"Normal"})),We(e,620)}function dXe(e){var t=0;We(e,505,ll(t)),We(e,506)}function uXe(e){var t=0;We(e,508,rXe(t,"TableStyleMedium9","PivotStyleMedium4")),We(e,509)}function fXe(e,t){var r=mi();return We(r,278),nXe(r,e.SSF),sXe(r),aXe(r),iXe(r),oXe(r),lXe(r,t.cellXfs),cXe(r),dXe(r),uXe(r),We(r,279),r.end()}function FJ(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[cs];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function mXe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ga(e)}}function hXe(e){var t=Me(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ds(e.name,t),t.slice(0,t.l)}function pXe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function xXe(e){var t=Me(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function gXe(e,t){var r=Me(8+2*t.length);return r.write_shift(4,e),Ds(t,r),r.slice(0,r.l)}function vXe(e){return e.l+=4,e.read_shift(4)!=0}function yXe(e,t){var r=Me(8);return r.write_shift(4,e),r.write_shift(4,1),r}function jXe(){var e=mi();return We(e,332),We(e,334,ll(1)),We(e,335,hXe({name:"XLDAPR",version:12e4,flags:3496657072})),We(e,336),We(e,339,gXe(1,"XLDAPR")),We(e,52),We(e,35,ll(514)),We(e,4096,ll(0)),We(e,4097,ho(1)),We(e,36),We(e,53),We(e,340),We(e,337,yXe(1)),We(e,51,xXe([[1,0]])),We(e,338),We(e,333),e.end()}function $J(){var e=[cs];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function bXe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Mr(r);var s=e.read_shift(1);return s&2&&(t.l="1"),s&8&&(t.a="1"),t}var lh=1024;function LJ(e,t){for(var r=[21600,21600],s=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Je("xml",null,{"xmlns:v":Ii.v,"xmlns:o":Ii.o,"xmlns:x":Ii.x,"xmlns:mv":Ii.mv}).replace(/\/>/,">"),Je("o:shapelayout",Je("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Je("v:shapetype",[Je("v:stroke",null,{joinstyle:"miter"}),Je("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:s})];lh<e*1e3;)lh+=1e3;return t.forEach(function(i){var o=Os(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Je("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Je("v:fill",c,l),u={on:"t",obscured:"t"};++lh,a=a.concat(["<v:shape"+Nv({id:"_x0000_s"+lh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Je("v:shadow",null,u),Je("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ys("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Ys("x:AutoFill","False"),Ys("x:Row",String(o.r)),Ys("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function BJ(e){var t=[cs,Je("comments",null,{xmlns:vx[0]})],r=[];return t.push("<authors>"),e.forEach(function(s){s[1].forEach(function(a){var i=Ir(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(s){var a=0,i=[];if(s[1][0]&&s[1][0].T&&s[1][0].ID?a=r.indexOf("tc="+s[1][0].ID):s[1].forEach(function(c){c.a&&(a=r.indexOf(Ir(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+s[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Ys("t",Ir(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(Ys("t",Ir(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function wXe(e,t,r){var s=[cs,Je("ThreadedComments",null,{xmlns:Ts.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),s.push(Je("threadedComment",Ys("text",o.t||""),c))})}),s.push("</ThreadedComments>"),s.join("")}function NXe(e){var t=[cs,Je("personList",null,{xmlns:Ts.TCMNT,"xmlns:x":vx[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,s){t.push(Je("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+s).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function _Xe(e){var t={};t.iauthor=e.read_shift(4);var r=Sm(e);return t.rfx=r.s,t.ref=Mr(r.s),e.l+=16,t}function SXe(e,t){return t==null&&(t=Me(36)),t.write_shift(4,e[1].iauthor),jx(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var CXe=ga;function EXe(e){return Ds(e.slice(0,54))}function AXe(e){var t=mi(),r=[];return We(t,628),We(t,630),e.forEach(function(s){s[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),We(t,632,EXe(a.a)))})}),We(t,631),We(t,633),e.forEach(function(s){s[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Os(s[0]),e:Os(s[0])};We(t,635,SXe([i,a])),a.t&&a.t.length>0&&We(t,637,kKe(a)),We(t,636),delete a.iauthor})}),We(t,634),We(t,629),t.end()}function PXe(e,t){t.FullPaths.forEach(function(r,s){if(s!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Br.utils.cfb_add(e,a,t.FileIndex[s].content)}})}var UJ=["xlsb","xlsm","xlam","biff8","xla"],kXe=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(s,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return l?u+=t.c:--u,c?d+=t.r:--d,a+(l?"":"$")+xa(u)+(c?"":"$")+Js(d)}return function(a,i){return t=i,a.replace(e,r)}}(),oD=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,lD=function(){return function(t,r){return t.replace(oD,function(s,a,i,o,l,c){var d=tD(o)-(i?0:r.c),u=eD(c)-(l?0:r.r),f=u==0?"":l?u+1:"["+u+"]",m=d==0?"":i?d+1:"["+d+"]";return a+"R"+f+"C"+m})}}();function TXe(e,t){return e.replace(oD,function(r,s,a,i,o,l){return s+(a=="$"?a+i:xa(tD(i)+t.c))+(o=="$"?o+l:Js(eD(l)+t.r))})}function OXe(e){return e.length!=1}function ts(e){e.l+=1}function Au(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function VJ(e,t,r){var s=2;if(r){if(r.biff>=2&&r.biff<=5)return zJ(e);r.biff==12&&(s=4)}var a=e.read_shift(s),i=e.read_shift(s),o=Au(e),l=Au(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function zJ(e){var t=Au(e),r=Au(e),s=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:s,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function DXe(e,t,r){if(r.biff<8)return zJ(e);var s=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Au(e),o=Au(e);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function WJ(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return IXe(e);var s=e.read_shift(r&&r.biff==12?4:2),a=Au(e);return{r:s,c:a[0],cRel:a[1],rRel:a[2]}}function IXe(e){var t=Au(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function RXe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function MXe(e,t,r){var s=r&&r.biff?r.biff:8;if(s>=2&&s<=5)return FXe(e);var a=e.read_shift(s>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function FXe(e){var t=e.read_shift(2),r=e.read_shift(1),s=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,s==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:s}}function $Xe(e,t,r){var s=(e[e.l++]&96)>>5,a=VJ(e,r.biff>=2&&r.biff<=5?6:8,r);return[s,a]}function LXe(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=VJ(e,i,r);return[s,a,o]}function BXe(e,t,r){var s=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[s]}function UXe(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[s,a]}function VXe(e,t,r){var s=(e[e.l++]&96)>>5,a=DXe(e,t-1,r);return[s,a]}function zXe(e,t,r){var s=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[s]}function i8(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function WXe(e,t,r){e.l+=2;for(var s=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=s;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function HXe(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(r&&r.biff==2?1:2)]}function qXe(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(r&&r.biff==2?1:2)]}function GXe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function KXe(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[s]}function HJ(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function YXe(e){return e.read_shift(2),HJ(e)}function XXe(e){return e.read_shift(2),HJ(e)}function QXe(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=WJ(e,0,r);return[s,a]}function ZXe(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=MXe(e,0,r);return[s,a]}function JXe(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=WJ(e,0,r);return[s,a,i]}function eQe(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[eZe[a],KJ[a],s]}function tQe(e,t,r){var s=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[s==88?-1:0,e.read_shift(1)]:rQe(e);return[a,(i[0]===0?KJ:JQe)[i[1]]]}function rQe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function nQe(e,t,r){e.l+=r&&r.biff==2?3:4}function sQe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var s=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function aQe(e){return e.l++,Ty[e.read_shift(1)]}function iQe(e){return e.l++,e.read_shift(2)}function oQe(e){return e.l++,e.read_shift(1)!==0}function lQe(e){return e.l++,bx(e)}function cQe(e,t,r){return e.l++,EJ(e,t-1,r)}function dQe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=JKe(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Ty[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=bx(e);break;case 2:r[1]=nYe(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function uQe(e,t,r){for(var s=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=s;++i)a.push((r.biff==12?Sm:iYe)(e));return a}function fQe(e,t,r){var s=0,a=0;r.biff==12?(s=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),s=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--s,--a==0&&(a=256));for(var i=0,o=[];i!=s&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=dQe(e,r.biff);return o}function mQe(e,t,r){var s=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[s,0,i]}function hQe(e,t,r){if(r.biff==5)return pQe(e);var s=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[s,a,i]}function pQe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var s=e.read_shift(2);return e.l+=12,[t,r,s]}function xQe(e,t,r){var s=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function gQe(e,t,r){var s=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function vQe(e,t,r){var s=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[s]}function yQe(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[s,a]}var jQe=ic,bQe=ic,wQe=ic;function Oy(e,t,r){return e.l+=2,[RXe(e)]}function cD(e){return e.l+=6,[]}var NQe=Oy,_Qe=cD,SQe=cD,CQe=Oy;function qJ(e){return e.l+=2,[SJ(e),e.read_shift(2)&1]}var EQe=Oy,AQe=qJ,PQe=cD,kQe=Oy,TQe=Oy,OQe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function DQe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=OQe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:s,c:a,C:i}}function IQe(e){return e.l+=2,[e.read_shift(4)]}function RQe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function MQe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function FQe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function $Qe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function LQe(e){return e.l+=4,[0,0]}var o8={1:{n:"PtgExp",f:sQe},2:{n:"PtgTbl",f:wQe},3:{n:"PtgAdd",f:ts},4:{n:"PtgSub",f:ts},5:{n:"PtgMul",f:ts},6:{n:"PtgDiv",f:ts},7:{n:"PtgPower",f:ts},8:{n:"PtgConcat",f:ts},9:{n:"PtgLt",f:ts},10:{n:"PtgLe",f:ts},11:{n:"PtgEq",f:ts},12:{n:"PtgGe",f:ts},13:{n:"PtgGt",f:ts},14:{n:"PtgNe",f:ts},15:{n:"PtgIsect",f:ts},16:{n:"PtgUnion",f:ts},17:{n:"PtgRange",f:ts},18:{n:"PtgUplus",f:ts},19:{n:"PtgUminus",f:ts},20:{n:"PtgPercent",f:ts},21:{n:"PtgParen",f:ts},22:{n:"PtgMissArg",f:ts},23:{n:"PtgStr",f:cQe},26:{n:"PtgSheet",f:RQe},27:{n:"PtgEndSheet",f:MQe},28:{n:"PtgErr",f:aQe},29:{n:"PtgBool",f:oQe},30:{n:"PtgInt",f:iQe},31:{n:"PtgNum",f:lQe},32:{n:"PtgArray",f:zXe},33:{n:"PtgFunc",f:eQe},34:{n:"PtgFuncVar",f:tQe},35:{n:"PtgName",f:mQe},36:{n:"PtgRef",f:QXe},37:{n:"PtgArea",f:$Xe},38:{n:"PtgMemArea",f:xQe},39:{n:"PtgMemErr",f:jQe},40:{n:"PtgMemNoMem",f:bQe},41:{n:"PtgMemFunc",f:gQe},42:{n:"PtgRefErr",f:vQe},43:{n:"PtgAreaErr",f:BXe},44:{n:"PtgRefN",f:ZXe},45:{n:"PtgAreaN",f:VXe},46:{n:"PtgMemAreaN",f:FQe},47:{n:"PtgMemNoMemN",f:$Qe},57:{n:"PtgNameX",f:hQe},58:{n:"PtgRef3d",f:JXe},59:{n:"PtgArea3d",f:LXe},60:{n:"PtgRefErr3d",f:yQe},61:{n:"PtgAreaErr3d",f:UXe},255:{}},BQe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},UQe={1:{n:"PtgElfLel",f:qJ},2:{n:"PtgElfRw",f:kQe},3:{n:"PtgElfCol",f:NQe},6:{n:"PtgElfRwV",f:TQe},7:{n:"PtgElfColV",f:CQe},10:{n:"PtgElfRadical",f:EQe},11:{n:"PtgElfRadicalS",f:PQe},13:{n:"PtgElfColS",f:_Qe},15:{n:"PtgElfColSV",f:SQe},16:{n:"PtgElfRadicalLel",f:AQe},25:{n:"PtgList",f:DQe},29:{n:"PtgSxName",f:IQe},255:{}},VQe={0:{n:"PtgAttrNoop",f:LQe},1:{n:"PtgAttrSemi",f:KXe},2:{n:"PtgAttrIf",f:qXe},4:{n:"PtgAttrChoose",f:WXe},8:{n:"PtgAttrGoto",f:HXe},16:{n:"PtgAttrSum",f:nQe},32:{n:"PtgAttrBaxcel",f:i8},33:{n:"PtgAttrBaxcel",f:i8},64:{n:"PtgAttrSpace",f:YXe},65:{n:"PtgAttrSpaceSemi",f:XXe},128:{n:"PtgAttrIfError",f:GXe},255:{}};function zQe(e,t,r,s){if(s.biff<8)return ic(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=fQe(e,0,s),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=uQe(e,r[o][1],s),i.push(r[o][2]);break;case"PtgExp":s&&s.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(ic(e,t)),i}function WQe(e,t,r){for(var s=e.l+t,a,i,o=[];s!=e.l;)t=s-e.l,i=e[e.l],a=o8[i]||o8[BQe[i]],(i===24||i===25)&&(a=(i===24?UQe:VQe)[e[e.l+1]]),!a||!a.f?ic(e,t):o.push([a.n,a.f(e,t,r)]);return o}function HQe(e){for(var t=[],r=0;r<e.length;++r){for(var s=e[r],a=[],i=0;i<s.length;++i){var o=s[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var qQe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function GQe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function GJ(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var s=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!s)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[s[0]][0]){case 357:return a=s[1]==-1?"#REF":e.SheetNames[s[1]],s[1]==s[2]?a:a+":"+e.SheetNames[s[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[s[0]][0];case 355:default:return"SH33TJSSRC"+e[s[0]][0]}switch(e[s[0]][0][0]){case 1025:return a=s[1]==-1?"#REF":e.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?a:a+":"+e.SheetNames[s[2]];case 14849:return e[s[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[s[0]][0][3]?(a=s[1]==-1?"#REF":e[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?a:a+":"+e[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function l8(e,t,r){var s=GJ(e,t,r);return s=="#REF"?s:GQe(s,r)}function Fp(e,t,r,s,a){var i=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,d,u,f=0,m=0,h,x="";if(!e[0]||!e[0][0])return"";for(var p=-1,g="",j=0,y=e[0].length;j<y;++j){var w=e[0][j];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),p>=0){switch(e[0][p][1][0]){case 0:g=Fn(" ",e[0][p][1][1]);break;case 1:g=Fn("\r",e[0][p][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}d=d+g,p=-1}l.push(d+qQe[w[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Hg(w[1][1],o,a),l.push(qg(u,i));break;case"PtgRefN":u=r?Hg(w[1][1],r,a):w[1][1],l.push(qg(u,i));break;case"PtgRef3d":f=w[1][1],u=Hg(w[1][2],o,a),x=l8(s,f,a),l.push(x+"!"+qg(u,i));break;case"PtgFunc":case"PtgFuncVar":var b=w[1][0],N=w[1][1];b||(b=0),b&=127;var S=b==0?[]:l.slice(-b);l.length-=b,N==="User"&&(N=S.shift()),l.push(N+"("+S.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":h=qL(w[1][1],r?{s:r}:o,a),l.push(vC(h,a));break;case"PtgArea":h=qL(w[1][1],o,a),l.push(vC(h,a));break;case"PtgArea3d":f=w[1][1],h=w[1][2],x=l8(s,f,a),l.push(x+"!"+vC(h,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=w[1][2];var _=(s.names||[])[m-1]||(s[0]||[])[m],E=_?_.Name:"SH33TJSNAME"+String(m);E&&E.slice(0,6)=="_xlfn."&&!a.xlfn&&(E=E.slice(6)),l.push(E);break;case"PtgNameX":var A=w[1][1];m=w[1][2];var T;if(a.biff<=5)A<0&&(A=-A),s[A]&&(T=s[A][m]);else{var R="";if(((s[A]||[])[0]||[])[0]==14849||(((s[A]||[])[0]||[])[0]==1025?s[A][m]&&s[A][m].itab>0&&(R=s.SheetNames[s[A][m].itab-1]+"!"):R=s.SheetNames[m-1]+"!"),s[A]&&s[A][m])R+=s[A][m].Name;else if(s[0]&&s[0][m])R+=s[0][m].Name;else{var I=(GJ(s,A,a)||"").split(";;");I[m-1]?R=I[m-1]:R+="SH33TJSERRX"}l.push(R);break}T||(T={Name:"SH33TJSERRY"}),l.push(T.Name);break;case"PtgParen":var z="(",H=")";if(p>=0){switch(g="",e[0][p][1][0]){case 2:z=Fn(" ",e[0][p][1][1])+z;break;case 3:z=Fn("\r",e[0][p][1][1])+z;break;case 4:H=Fn(" ",e[0][p][1][1])+H;break;case 5:H=Fn("\r",e[0][p][1][1])+H;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}l.push(z+l.pop()+H);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var F={c:r.c,r:r.r};if(s.sharedf[Mr(u)]){var k=s.sharedf[Mr(u)];l.push(Fp(k,o,F,s,a))}else{var P=!1;for(c=0;c!=s.arrayf.length;++c)if(d=s.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push(Fp(d[1],o,F,s,a)),P=!0;break}P||l.push(w[1])}break;case"PtgArray":l.push("{"+HQe(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var M=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&M.indexOf(e[0][j][0])==-1){w=e[0][p];var O=!0;switch(w[1][0]){case 4:O=!1;case 0:g=Fn(" ",w[1][1]);break;case 5:O=!1;case 1:g=Fn("\r",w[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((O?g:"")+l.pop()+(O?"":g)),p=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function KQe(e){if(e==null){var t=Me(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return om(e);return om(0)}function YQe(e,t,r,s,a){var i=lm(t,r,a),o=KQe(e.v),l=Me(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var d=Me(e.bf.length),u=0;u<e.bf.length;++u)d[u]=e.bf[u];var f=Ks([i,o,l,d]);return f}function c_(e,t,r){var s=e.read_shift(4),a=WQe(e,s,r),i=e.read_shift(4),o=i>0?zQe(e,i,a,r):null;return[a,o]}var XQe=c_,d_=c_,QQe=c_,ZQe=c_,JQe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},KJ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},eZe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function tZe(e){var t="of:="+e.replace(oD,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function rZe(e){return e.replace(/\./,"!")}var Gg=typeof Map<"u";function dD(e,t,r){var s=0,a=e.length;if(r){if(Gg?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Gg?r.get(t):r[t];s<i.length;++s)if(e[i[s]].t===t)return e.Count++,i[s]}}else for(;s<a;++s)if(e[s].t===t)return e.Count++,s;return e[a]={t},e.Count++,e.Unique++,r&&(Gg?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function u_(e,t){var r={min:e+1,max:e+1},s=-1;return t.MDW&&(Hc=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?s=Gw(t.wpx):t.wch!=null&&(s=t.wch),s>-1?(r.width=wP(s),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function YJ(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Hu(e,t,r){var s=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(s==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){WZ(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=s=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===s)return a;return e[i]={numFmtId:s,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function nZe(e,t,r){if(e&&e["!ref"]){var s=ln(e["!ref"]);if(s.e.c<s.s.c||s.e.r<s.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function sZe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+as(e[r])+'"/>';return t+"</mergeCells>"}function aZe(e,t,r,s,a){var i=!1,o={},l=null;if(s.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=wv(Ir(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),l=(l||"")+Je("outlinePr",null,d)}!i&&!l||(a[a.length]=Je("sheetPr",l,o))}var iZe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],oZe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function lZe(e){var t={sheet:1};return iZe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),oZe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=OJ(e.password).toString(16).toUpperCase()),Je("sheetProtection",null,t)}function cZe(e){return YJ(e),Je("pageMargins",null,e)}function dZe(e,t){for(var r=["<cols>"],s,a=0;a!=t.length;++a)(s=t[a])&&(r[r.length]=Je("col",null,u_(a,s)));return r[r.length]="</cols>",r.join("")}function uZe(e,t,r,s){var a=typeof e.ref=="string"?e.ref:as(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Zi(a);o.s.r==o.e.r&&(o.e.r=Zi(t["!ref"]).e.r,a=as(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==s){c.Ref="'"+r.SheetNames[s]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+r.SheetNames[s]+"'!"+a}),Je("autoFilter",null,{ref:a})}function fZe(e,t,r,s){var a={workbookViewId:"0"};return(((s||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=s.Workbook.Views[0].RTL?"1":"0"),Je("sheetViews",Je("sheetView",null,a),{})}function mZe(e,t,r,s){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Ty[e.v];break;case"d":s&&s.cellDates?a=Fa(e.v,-1).toISOString():(e=xi(e),e.t="n",a=""+(e.v=pi(Fa(e.v)))),typeof e.z>"u"&&(e.z=Ln[14]);break;default:a=e.v;break}var l=Ys("v",Ir(a)),c={r:t},d=Hu(s.cellXfs,e,s);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(s&&s.bookSST){l=Ys("v",""+dD(s.Strings,e.v,s.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=Je("f",Ir(e.f),u)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Je("c",l,c)}function hZe(e,t,r,s){var a=[],i=[],o=ln(e["!ref"]),l="",c,d="",u=[],f=0,m=0,h=e["!rows"],x=Array.isArray(e),p={r:d},g,j=-1;for(m=o.s.c;m<=o.e.c;++m)u[m]=xa(m);for(f=o.s.r;f<=o.e.r;++f){for(i=[],d=Js(f),m=o.s.c;m<=o.e.c;++m){c=u[m]+d;var y=x?(e[f]||[])[m]:e[c];y!==void 0&&(l=mZe(y,c,e,t))!=null&&i.push(l)}(i.length>0||h&&h[f])&&(p={r:d},h&&h[f]&&(g=h[f],g.hidden&&(p.hidden=1),j=-1,g.hpx?j=Kw(g.hpx):g.hpt&&(j=g.hpt),j>-1&&(p.ht=j,p.customHeight=1),g.level&&(p.outlineLevel=g.level)),a[a.length]=Je("row",i.join(""),p))}if(h)for(;f<h.length;++f)h&&h[f]&&(p={r:f+1},g=h[f],g.hidden&&(p.hidden=1),j=-1,g.hpx?j=Kw(g.hpx):g.hpt&&(j=g.hpt),j>-1&&(p.ht=j,p.customHeight=1),g.level&&(p.outlineLevel=g.level),a[a.length]=Je("row","",p));return a.join("")}function XJ(e,t,r,s){var a=[cs,Je("worksheet",null,{xmlns:vx[0],"xmlns:r":Ts.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=ln(d);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=as(u)}s||(s={}),c["!comments"]=[];var f=[];aZe(c,r,e,t,a),a[a.length]=Je("dimension",null,{ref:d}),a[a.length]=fZe(c,t,e,r),t.sheetFormat&&(a[a.length]=Je("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=dZe(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=hZe(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=lZe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=uZe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=sZe(c["!merges"]));var m=-1,h,x=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(p){p[1].Target&&(h={ref:p[0]},p[1].Target.charAt(0)!="#"&&(x=Or(s,-1,Ir(p[1].Target).replace(/#.*$/,""),yr.HLINK),h["r:id"]="rId"+x),(m=p[1].Target.indexOf("#"))>-1&&(h.location=Ir(p[1].Target.slice(m+1))),p[1].Tooltip&&(h.tooltip=Ir(p[1].Tooltip)),a[a.length]=Je("hyperlink",null,h))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=cZe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Ys("ignoredErrors",Je("ignoredError",null,{numberStoredAsText:1,sqref:d}))),f.length>0&&(x=Or(s,-1,"../drawings/drawing"+(e+1)+".xml",yr.DRAW),a[a.length]=Je("drawing",null,{"r:id":"rId"+x}),c["!drawing"]=f),c["!comments"].length>0&&(x=Or(s,-1,"../drawings/vmlDrawing"+(e+1)+".vml",yr.VML),a[a.length]=Je("legacyDrawing",null,{"r:id":"rId"+x}),c["!legacy"]=x),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function pZe(e,t){var r={},s=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=s,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function xZe(e,t,r){var s=Me(145),a=(r["!rows"]||[])[e]||{};s.write_shift(4,e),s.write_shift(4,0);var i=320;a.hpx?i=Kw(a.hpx)*20:a.hpt&&(i=a.hpt*20),s.write_shift(2,i),s.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),s.write_shift(1,o),s.write_shift(1,0);var l=0,c=s.l;s.l+=4;for(var d={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var f=-1,m=-1,h=u<<10;h<u+1<<10;++h){d.c=h;var x=Array.isArray(r)?(r[d.r]||[])[d.c]:r[Mr(d)];x&&(f<0&&(f=h),m=h)}f<0||(++l,s.write_shift(4,f),s.write_shift(4,m))}var p=s.l;return s.l=c,s.write_shift(4,l),s.l=p,s.length>s.l?s.slice(0,s.l):s}function gZe(e,t,r,s){var a=xZe(s,r,t);(a.length>17||(t["!rows"]||[])[s])&&We(e,0,a)}var vZe=Sm,yZe=jx;function jZe(){}function bZe(e,t){var r={},s=e[e.l];return++e.l,r.above=!(s&64),r.left=!(s&128),e.l+=18,r.name=TKe(e),r}function wZe(e,t,r){r==null&&(r=Me(84+4*e.length));var s=192;t&&(t.above&&(s&=-65),t.left&&(s&=-129)),r.write_shift(1,s);for(var a=1;a<3;++a)r.write_shift(1,0);return Ww({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),uJ(e,r),r.slice(0,r.l)}function NZe(e){var t=Fo(e);return[t]}function _Ze(e,t,r){return r==null&&(r=Me(8)),wm(t,r)}function SZe(e){var t=Nm(e);return[t]}function CZe(e,t,r){return r==null&&(r=Me(4)),_m(t,r)}function EZe(e){var t=Fo(e),r=e.read_shift(1);return[t,r,"b"]}function AZe(e,t,r){return r==null&&(r=Me(9)),wm(t,r),r.write_shift(1,e.v?1:0),r}function PZe(e){var t=Nm(e),r=e.read_shift(1);return[t,r,"b"]}function kZe(e,t,r){return r==null&&(r=Me(5)),_m(t,r),r.write_shift(1,e.v?1:0),r}function TZe(e){var t=Fo(e),r=e.read_shift(1);return[t,r,"e"]}function OZe(e,t,r){return r==null&&(r=Me(9)),wm(t,r),r.write_shift(1,e.v),r}function DZe(e){var t=Nm(e),r=e.read_shift(1);return[t,r,"e"]}function IZe(e,t,r){return r==null&&(r=Me(8)),_m(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function RZe(e){var t=Fo(e),r=e.read_shift(4);return[t,r,"s"]}function MZe(e,t,r){return r==null&&(r=Me(12)),wm(t,r),r.write_shift(4,t.v),r}function FZe(e){var t=Nm(e),r=e.read_shift(4);return[t,r,"s"]}function $Ze(e,t,r){return r==null&&(r=Me(8)),_m(t,r),r.write_shift(4,t.v),r}function LZe(e){var t=Fo(e),r=bx(e);return[t,r,"n"]}function BZe(e,t,r){return r==null&&(r=Me(16)),wm(t,r),om(e.v,r),r}function UZe(e){var t=Nm(e),r=bx(e);return[t,r,"n"]}function VZe(e,t,r){return r==null&&(r=Me(12)),_m(t,r),om(e.v,r),r}function zZe(e){var t=Fo(e),r=fJ(e);return[t,r,"n"]}function WZe(e,t,r){return r==null&&(r=Me(12)),wm(t,r),mJ(e.v,r),r}function HZe(e){var t=Nm(e),r=fJ(e);return[t,r,"n"]}function qZe(e,t,r){return r==null&&(r=Me(8)),_m(t,r),mJ(e.v,r),r}function GZe(e){var t=Fo(e),r=rD(e);return[t,r,"is"]}function KZe(e){var t=Fo(e),r=ga(e);return[t,r,"str"]}function YZe(e,t,r){return r==null&&(r=Me(12+4*e.v.length)),wm(t,r),Ds(e.v,r),r.length>r.l?r.slice(0,r.l):r}function XZe(e){var t=Nm(e),r=ga(e);return[t,r,"str"]}function QZe(e,t,r){return r==null&&(r=Me(8+4*e.v.length)),_m(t,r),Ds(e.v,r),r.length>r.l?r.slice(0,r.l):r}function ZZe(e,t,r){var s=e.l+t,a=Fo(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=d_(e,s-e.l,r);o[3]=Fp(l,null,a,r.supbooks,r)}else e.l=s;return o}function JZe(e,t,r){var s=e.l+t,a=Fo(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=d_(e,s-e.l,r);o[3]=Fp(l,null,a,r.supbooks,r)}else e.l=s;return o}function eJe(e,t,r){var s=e.l+t,a=Fo(e);a.r=r["!row"];var i=bx(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=d_(e,s-e.l,r);o[3]=Fp(l,null,a,r.supbooks,r)}else e.l=s;return o}function tJe(e,t,r){var s=e.l+t,a=Fo(e);a.r=r["!row"];var i=ga(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=d_(e,s-e.l,r);o[3]=Fp(l,null,a,r.supbooks,r)}else e.l=s;return o}var rJe=Sm,nJe=jx;function sJe(e,t){return t==null&&(t=Me(4)),t.write_shift(4,e),t}function aJe(e,t){var r=e.l+t,s=Sm(e),a=nD(e),i=ga(e),o=ga(e),l=ga(e);e.l=r;var c={rfx:s,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function iJe(e,t){var r=Me(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));jx({s:Os(e[0]),e:Os(e[0])},r),sD("rId"+t,r);var s=e[1].Target.indexOf("#"),a=s==-1?"":e[1].Target.slice(s+1);return Ds(a||"",r),Ds(e[1].Tooltip||"",r),Ds("",r),r.slice(0,r.l)}function oJe(){}function lJe(e,t,r){var s=e.l+t,a=hJ(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=XQe(e,s-e.l,r);o[1]=l}else e.l=s;return o}function cJe(e,t,r){var s=e.l+t,a=Sm(e),i=[a];if(r.cellFormula){var o=ZQe(e,s-e.l,r);i[1]=o,e.l=s}else e.l=s;return i}function dJe(e,t,r){r==null&&(r=Me(18));var s=u_(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(s.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof s.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var QJ=["left","right","top","bottom","header","footer"];function uJe(e){var t={};return QJ.forEach(function(r){t[r]=bx(e)}),t}function fJe(e,t){return t==null&&(t=Me(6*8)),YJ(e),QJ.forEach(function(r){om(e[r],t)}),t}function mJe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function hJe(e,t,r){r==null&&(r=Me(30));var s=924;return(((t||{}).Views||[])[0]||{}).RTL&&(s|=32),r.write_shift(2,s),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function pJe(e){var t=Me(24);return t.write_shift(4,4),t.write_shift(4,1),jx(e,t),t}function xJe(e,t){return t==null&&(t=Me(16*4+2)),t.write_shift(2,e.password?OJ(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function gJe(){}function vJe(){}function yJe(e,t,r,s,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=xi(t),t.z=t.z||Ln[14],t.v=pi(Fa(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:s};switch(c.s=Hu(a.cellXfs,t,a),t.l&&i["!links"].push([Mr(c),t.l]),t.c&&i["!comments"].push([Mr(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=dD(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?We(e,18,$Ze(t,c)):We(e,7,MZe(t,c))):(c.t="str",o?We(e,17,QZe(t,c)):We(e,6,YZe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?We(e,13,qZe(t,c)):We(e,2,WZe(t,c)):o?We(e,16,VZe(t,c)):We(e,5,BZe(t,c)),!0;case"b":return c.t="b",o?We(e,15,kZe(t,c)):We(e,4,AZe(t,c)),!0;case"e":return c.t="e",o?We(e,14,IZe(t,c)):We(e,3,OZe(t,c)),!0}return o?We(e,12,CZe(t,c)):We(e,1,_Ze(t,c)),!0}function jJe(e,t,r,s){var a=ln(t["!ref"]||"A1"),i,o="",l=[];We(e,145);var c=Array.isArray(t),d=a.e.r;t["!rows"]&&(d=Math.max(a.e.r,t["!rows"].length-1));for(var u=a.s.r;u<=d;++u){o=Js(u),gZe(e,t,a,u);var f=!1;if(u<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){u===a.s.r&&(l[m]=xa(m)),i=l[m]+o;var h=c?(t[u]||[])[m]:t[i];if(!h){f=!1;continue}f=yJe(e,h,u,m,s,t,f)}}We(e,146)}function bJe(e,t){!t||!t["!merges"]||(We(e,177,sJe(t["!merges"].length)),t["!merges"].forEach(function(r){We(e,176,nJe(r))}),We(e,178))}function wJe(e,t){!t||!t["!cols"]||(We(e,390),t["!cols"].forEach(function(r,s){r&&We(e,60,dJe(s,r))}),We(e,391))}function NJe(e,t){!t||!t["!ref"]||(We(e,648),We(e,649,pJe(ln(t["!ref"]))),We(e,650))}function _Je(e,t,r){t["!links"].forEach(function(s){if(s[1].Target){var a=Or(r,-1,s[1].Target.replace(/#.*$/,""),yr.HLINK);We(e,494,iJe(s,a))}}),delete t["!links"]}function SJe(e,t,r,s){if(t["!comments"].length>0){var a=Or(s,-1,"../drawings/vmlDrawing"+(r+1)+".vml",yr.VML);We(e,551,sD("rId"+a)),t["!legacy"]=a}}function CJe(e,t,r,s){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:as(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Zi(i);l.s.r==l.e.r&&(l.e.r=Zi(t["!ref"]).e.r,i=as(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==s){d.Ref="'"+r.SheetNames[s]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+r.SheetNames[s]+"'!"+i}),We(e,161,jx(ln(i))),We(e,162)}}function EJe(e,t,r){We(e,133),We(e,137,hJe(t,r)),We(e,138),We(e,134)}function AJe(e,t){t["!protect"]&&We(e,535,xJe(t["!protect"]))}function PJe(e,t,r,s){var a=mi(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=ln(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],We(a,129),(r.vbaraw||o["!outline"])&&We(a,147,wZe(l,o["!outline"])),We(a,148,yZe(c)),EJe(a,o,r.Workbook),wJe(a,o),jJe(a,o,e,t),AJe(a,o),CJe(a,o,r,e),bJe(a,o),_Je(a,o,s),o["!margins"]&&We(a,476,fJe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&NJe(a,o),SJe(a,o,e,s),We(a,130),a.end()}function kJe(e,t){e.l+=10;var r=ga(e);return{name:r}}var TJe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function OJe(e){return!e.Workbook||!e.Workbook.WBProps?"false":cKe(e.Workbook.WBProps.date1904)?"true":"false"}var DJe="][*?/\\".split("");function ZJ(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return DJe.forEach(function(s){if(e.indexOf(s)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function IJe(e,t,r){e.forEach(function(s,a){ZJ(s);for(var i=0;i<a;++i)if(s==e[i])throw new Error("Duplicate Sheet Name: "+s);if(r){var o=t&&t[a]&&t[a].CodeName||s;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function RJe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];IJe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)nZe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function JJ(e){var t=[cs];t[t.length]=Je("workbook",null,{xmlns:vx[0],"xmlns:r":Ts.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,s={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(TJe.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(s[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(s.codeName=e.Workbook.WBProps.CodeName,delete s.CodeName)),t[t.length]=Je("workbookPr",null,s);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Ir(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Je("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=Je("definedName",Ir(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function MJe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=bP(e),r.name=ga(e),r}function FJe(e,t){return t||(t=Me(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),sD(e.strRelID,t),Ds(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function $Je(e,t){var r={},s=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?ga(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(s&65536),r.backupFile=!!(s&64),r.checkCompatibility=!!(s&4096),r.date1904=!!(s&1),r.filterPrivacy=!!(s&8),r.hidePivotFieldList=!!(s&1024),r.promptedSolutions=!!(s&16),r.publishItems=!!(s&2048),r.refreshAllConnections=!!(s&262144),r.saveExternalLinkValues=!!(s&128),r.showBorderUnselectedTables=!!(s&4),r.showInkAnnotation=!!(s&32),r.showObjects=["all","placeholders","none"][s>>13&3],r.showPivotChartFilter=!!(s&32768),r.updateLinks=["userSet","never","always"][s>>8&3],r}function LJe(e,t){t||(t=Me(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),uJ(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function BJe(e,t,r){var s=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=OKe(e),o=QQe(e,0,r),l=nD(e);e.l=s;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function UJe(e,t){We(e,143);for(var r=0;r!=t.SheetNames.length;++r){var s=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:s,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};We(e,156,FJe(a))}We(e,144)}function VJe(e,t){t||(t=Me(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Ds("SheetJS",t),Ds(Fw.version,t),Ds(Fw.version,t),Ds("7262",t),t.length>t.l?t.slice(0,t.l):t}function zJe(e,t){t||(t=Me(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function WJe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,s=0,a=-1,i=-1;s<r.length;++s)!r[s]||!r[s].Hidden&&a==-1?a=s:r[s].Hidden==1&&i==-1&&(i=s);i>a||(We(e,135),We(e,158,zJe(a)),We(e,136))}}function HJe(e,t){var r=mi();return We(r,131),We(r,128,VJe()),We(r,153,LJe(e.Workbook&&e.Workbook.WBProps||null)),WJe(r,e),UJe(r,e),We(r,132),r.end()}function qJe(e,t,r){return(t.slice(-4)===".bin"?HJe:JJ)(e)}function GJe(e,t,r,s,a){return(t.slice(-4)===".bin"?PJe:XJ)(e,r,s,a)}function KJe(e,t,r){return(t.slice(-4)===".bin"?fXe:RJ)(e,r)}function YJe(e,t,r){return(t.slice(-4)===".bin"?LYe:TJ)(e,r)}function XJe(e,t,r){return(t.slice(-4)===".bin"?AXe:BJ)(e)}function QJe(e){return(e.slice(-4)===".bin"?jXe:$J)()}function ZJe(e,t){var r=[];return e.Props&&r.push(KKe(e.Props,t)),e.Custprops&&r.push(YKe(e.Props,e.Custprops)),r.join("")}function JJe(){return""}function eet(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(s,a){var i=[];i.push(Je("NumberFormat",null,{"ss:Format":Ir(Ln[s.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(Je("Style",i.join(""),o))}),Je("Styles",r.join(""))}function eee(e){return Je("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+lD(e.Ref,{r:0,c:0})})}function tet(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],s=0;s<t.length;++s){var a=t[s];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(eee(a)))}return Je("Names",r.join(""))}function ret(e,t,r,s){if(!e||!((s||{}).Workbook||{}).Names)return"";for(var a=s.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(eee(l)))}return i.join("")}function net(e,t,r,s){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Je("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Je("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Je("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),s&&s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[r])if(s.Workbook.Sheets[r].Hidden)a.push(Je("Visible",s.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(s.Workbook.Sheets[i]&&!s.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((s||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Ys("ProtectContents","True")),e["!protect"].objects&&a.push(Ys("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Ys("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Ys("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Ys("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":Je("WorksheetOptions",a.join(""),{xmlns:Ii.x})}function set(e){return e.map(function(t){var r=lKe(t.t||""),s=Je("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Je("Comment",s,{"ss:Author":t.a})}).join("")}function aet(e,t,r,s,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Ir(lD(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=Os(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Ir(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Ir(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],u=0;u!=d.length;++u)d[u].s.c!=o.c||d[u].s.r!=o.r||(d[u].e.c>d[u].s.c&&(l["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(l["ss:MergeDown"]=d[u].e.r-d[u].s.r));var f="",m="";switch(e.t){case"z":if(!s.sheetStubs)return"";break;case"n":f="Number",m=String(e.v);break;case"b":f="Boolean",m=e.v?"1":"0";break;case"e":f="Error",m=Ty[e.v];break;case"d":f="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Ln[14]);break;case"s":f="String",m=oKe(e.v||"");break}var h=Hu(s.cellXfs,e,s);l["ss:StyleID"]="s"+(21+h),l["ss:Index"]=o.c+1;var x=e.v!=null?m:"",p=e.t=="z"?"":'<Data ss:Type="'+f+'">'+x+"</Data>";return(e.c||[]).length>0&&(p+=set(e.c)),Je("Cell",p,l)}function iet(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=IJ(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function oet(e,t,r,s){if(!e["!ref"])return"";var a=ln(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(g,j){iD(g);var y=!!g.width,w=u_(j,g),b={"ss:Index":j+1};y&&(b["ss:Width"]=qw(w.width)),g.hidden&&(b["ss:Hidden"]="1"),l.push(Je("Column",null,b))});for(var c=Array.isArray(e),d=a.s.r;d<=a.e.r;++d){for(var u=[iet(d,(e["!rows"]||[])[d])],f=a.s.c;f<=a.e.c;++f){var m=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>d)&&!(i[o].e.c<f)&&!(i[o].e.r<d)){(i[o].s.c!=f||i[o].s.r!=d)&&(m=!0);break}if(!m){var h={r:d,c:f},x=Mr(h),p=c?(e[d]||[])[f]:e[x];u.push(aet(p,x,e,t,r,s,h))}}u.push("</Row>"),u.length>2&&l.push(u.join(""))}return l.join("")}function cet(e,t,r){var s=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?ret(i,t,e,r):"";return o.length>0&&s.push("<Names>"+o+"</Names>"),o=i?oet(i,t,e,r):"",o.length>0&&s.push("<Table>"+o+"</Table>"),s.push(net(i,t,e,r)),s.join("")}function det(e,t){t||(t={}),e.SSF||(e.SSF=xi(Ln)),e.SSF&&(i_(),a_(e.SSF),t.revssf=o_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Hu(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(ZJe(e,t)),r.push(JJe()),r.push(""),r.push("");for(var s=0;s<e.SheetNames.length;++s)r.push(Je("Worksheet",cet(s,t,e),{"ss:Name":Ir(e.SheetNames[s])}));return r[2]=eet(e,t),r[3]=tet(e),cs+Je("Workbook",r.join(""),{xmlns:Ii.ss,"xmlns:o":Ii.o,"xmlns:x":Ii.x,"xmlns:ss":Ii.ss,"xmlns:dt":Ii.dt,"xmlns:html":Ii.html})}var bC={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function uet(e,t){var r=[],s=[],a=[],i=0,o,l=RL(KL,"n"),c=RL(YL,"n");if(e.Props)for(o=ra(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?s:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=ra(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?s:a).push([o[i],e.Custprops[o[i]]]);var d=[];for(i=0;i<a.length;++i)_J.indexOf(a[i][0])>-1||bJ.indexOf(a[i][0])>-1||a[i][1]!=null&&d.push(a[i]);s.length&&Br.utils.cfb_add(t,"/SummaryInformation",e8(s,bC.SI,c,YL)),(r.length||d.length)&&Br.utils.cfb_add(t,"/DocumentSummaryInformation",e8(r,bC.DSI,l,KL,d.length?d:null,bC.UDI))}function fet(e,t){var r=t||{},s=Br.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Br.utils.cfb_add(s,a,tee(e,r)),r.biff==8&&(e.Props||e.Custprops)&&uet(e,s),r.biff==8&&e.vbaraw&&PXe(s,Br.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),s}var met={0:{f:pZe},1:{f:NZe},2:{f:zZe},3:{f:TZe},4:{f:EZe},5:{f:LZe},6:{f:KZe},7:{f:RZe},8:{f:tJe},9:{f:eJe},10:{f:ZZe},11:{f:JZe},12:{f:SZe},13:{f:HZe},14:{f:DZe},15:{f:PZe},16:{f:UZe},17:{f:XZe},18:{f:FZe},19:{f:rD},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:BJe},40:{},42:{},43:{f:KYe},44:{f:qYe},45:{f:QYe},46:{f:JYe},47:{f:ZYe},48:{},49:{f:SKe},50:{},51:{f:pXe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:CYe},62:{f:GZe},63:{f:bXe},64:{f:gJe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ic,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:mJe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:bZe},148:{f:vZe,p:16},151:{f:oJe},152:{},153:{f:$Je},154:{},155:{},156:{f:MJe},157:{},158:{},159:{T:1,f:MYe},160:{T:-1},161:{T:1,f:Sm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:rJe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:mXe},336:{T:-1},337:{f:vXe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:bP},357:{},358:{},359:{},360:{T:1},361:{},362:{f:jYe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:lJe},427:{f:cJe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:uJe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:jZe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:aJe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:bP},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:CXe},633:{T:1},634:{T:-1},635:{T:1,f:_Xe},636:{T:-1},637:{f:PKe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:kJe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:vJe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function et(e,t,r,s){var a=t;if(!isNaN(a)){var i=s||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&J3(r)&&e.push(r)}}function het(e,t,r,s){var a=(r||[]).length||0;if(a<=8224)return et(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d;c<a;){for(u=e.next(4),u.write_shift(2,60),d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d}}}function Dy(e,t,r){return e||(e=Me(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function pet(e,t,r,s){var a=Me(9);return Dy(a,e,t),CJ(r,s||"b",a),a}function xet(e,t,r){var s=Me(8+2*r.length);return Dy(s,e,t),s.write_shift(1,r.length),s.write_shift(r.length,r,"sbcs"),s.l<s.length?s.slice(0,s.l):s}function get(e,t,r,s){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?pi(Fa(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?et(e,2,kYe(r,s,a)):et(e,3,PYe(r,s,a));return;case"b":case"e":et(e,5,pet(r,s,t.v,t.t));return;case"s":case"str":et(e,4,xet(r,s,(t.v||"").slice(0,255)));return}et(e,1,Dy(null,r,s))}function vet(e,t,r,s){var a=Array.isArray(t),i=ln(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(s.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=as(i)}for(var d=i.s.r;d<=i.e.r;++d){l=Js(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=xa(u)),o=c[u]+l;var f=a?(t[d]||[])[u]:t[o];f&&get(e,f,d,u)}}}function yet(e,t){for(var r=t||{},s=mi(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return et(s,r.biff==4?1033:r.biff==3?521:9,aD(e,16,r)),vet(s,e.Sheets[e.SheetNames[a]],a,r),et(s,10),s.end()}function jet(e,t,r){et(e,49,fYe({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function bet(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&et(e,1054,pYe(a,t[a],r))})}function wet(e,t){var r=Me(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),et(e,2151,r),r=Me(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),PJ(ln(t["!ref"]||"A1"),r),r.write_shift(4,4),et(e,2152,r)}function Net(e,t){for(var r=0;r<16;++r)et(e,224,r8({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(s){et(e,224,r8(s,0,t))})}function _et(e,t){for(var r=0;r<t["!links"].length;++r){var s=t["!links"][r];et(e,440,NYe(s)),s[1].Tooltip&&et(e,2048,_Ye(s))}delete t["!links"]}function Cet(e,t){if(t){var r=0;t.forEach(function(s,a){++r<=256&&s&&et(e,125,EYe(u_(a,s),a))})}}function Eet(e,t,r,s,a){var i=16+Hu(a.cellXfs,t,a);if(t.v==null&&!t.bf){et(e,513,lm(r,s,i));return}if(t.bf)et(e,6,YQe(t,r,s,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?pi(Fa(t.v)):t.v;et(e,515,yYe(r,s,o,i));break;case"b":case"e":et(e,517,vYe(r,s,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=dD(a.Strings,t.v,a.revStrings);et(e,253,mYe(r,s,l,i))}else et(e,516,hYe(r,s,(t.v||"").slice(0,255),i,a));break;default:et(e,513,lm(r,s,i))}}function Aet(e,t,r){var s=mi(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,u,f="",m=[],h=ln(i["!ref"]||"A1"),x=d?65536:16384;if(h.e.c>255||h.e.r>=x){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,x-1)}et(s,2057,aD(r,16,t)),et(s,13,ho(1)),et(s,12,ho(100)),et(s,15,Ta(!0)),et(s,17,Ta(!1)),et(s,16,om(.001)),et(s,95,Ta(!0)),et(s,42,Ta(!1)),et(s,43,Ta(!1)),et(s,130,ho(1)),et(s,128,gYe()),et(s,131,Ta(!1)),et(s,132,Ta(!1)),d&&Cet(s,i["!cols"]),et(s,512,xYe(h,t)),d&&(i["!links"]=[]);for(var p=h.s.r;p<=h.e.r;++p){f=Js(p);for(var g=h.s.c;g<=h.e.c;++g){p===h.s.r&&(m[g]=xa(g)),u=m[g]+f;var j=c?(i[p]||[])[g]:i[u];j&&(Eet(s,j,p,g,t),d&&j.l&&i["!links"].push([u,j.l]))}}var y=l.CodeName||l.name||a;return d&&et(s,574,uYe((o.Views||[])[0])),d&&(i["!merges"]||[]).length&&et(s,229,wYe(i["!merges"])),d&&_et(s,i),et(s,442,AJ(y)),d&&wet(s,i),et(s,10),s.end()}function Pet(e,t,r){var s=mi(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(et(s,2057,aD(e,5,r)),r.bookType=="xla"&&et(s,135),et(s,225,l?ho(1200):null),et(s,193,ZKe(2)),c&&et(s,191),c&&et(s,192),et(s,226),et(s,92,oYe("SheetJS",r)),et(s,66,ho(l?1200:1252)),l&&et(s,353,ho(0)),l&&et(s,448),et(s,317,AYe(e.SheetNames.length)),l&&e.vbaraw&&et(s,211),l&&e.vbaraw){var d=o.CodeName||"ThisWorkbook";et(s,442,AJ(d))}et(s,156,ho(17)),et(s,25,Ta(!1)),et(s,18,Ta(!1)),et(s,19,ho(0)),l&&et(s,431,Ta(!1)),l&&et(s,444,ho(0)),et(s,61,dYe()),et(s,64,Ta(!1)),et(s,141,ho(0)),et(s,34,Ta(OJe(e)=="true")),et(s,14,Ta(!0)),l&&et(s,439,Ta(!1)),et(s,218,ho(0)),jet(s,e,r),bet(s,e.SSF,r),Net(s,r),l&&et(s,352,Ta(!1));var u=s.end(),f=mi();l&&et(f,140,SYe()),l&&r.Strings&&het(f,252,cYe(r.Strings)),et(f,10);var m=f.end(),h=mi(),x=0,p=0;for(p=0;p<e.SheetNames.length;++p)x+=(l?12:11)+(l?2:1)*e.SheetNames[p].length;var g=u.length+x+m.length;for(p=0;p<e.SheetNames.length;++p){var j=i[p]||{};et(h,133,lYe({pos:g,hs:j.Hidden||0,dt:0,name:e.SheetNames[p]},r)),g+=t[p].length}var y=h.end();if(x!=y.length)throw new Error("BS8 "+x+" != "+y.length);var w=[];return u.length&&w.push(u),y.length&&w.push(y),m.length&&w.push(m),Ks(w)}function ket(e,t){var r=t||{},s=[];e&&!e.SSF&&(e.SSF=xi(Ln)),e&&e.SSF&&(i_(),a_(e.SSF),r.revssf=o_(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,uD(r),r.cellXfs=[],Hu(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)s[s.length]=Aet(a,r,e);return s.unshift(Pet(e,s,r)),Ks(s)}function tee(e,t){for(var r=0;r<=e.SheetNames.length;++r){var s=e.Sheets[e.SheetNames[r]];if(!(!s||!s["!ref"])){var a=Zi(s["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return ket(e,t);case 4:case 3:case 2:return yet(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function Tet(e,t,r,s){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,d=0;d<a.length;++d)if(!(a[d].s.r>r||a[d].s.c>o)&&!(a[d].e.r<r||a[d].e.c<o)){if(a[d].s.r<r||a[d].s.c<o){l=-1;break}l=a[d].e.r-a[d].s.r+1,c=a[d].e.c-a[d].s.c+1;break}if(!(l<0)){var u=Mr({r,c:o}),f=s.dense?(e[r]||[])[o]:e[u],m=f&&f.v!=null&&(f.h||iKe(f.w||(cd(f),f.w)||""))||"",h={};l>1&&(h.rowspan=l),c>1&&(h.colspan=c),s.editable?m='<span contenteditable="true">'+m+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+f.l.Target+'">'+m+"</a>")),h.id=(s.id||"sjs")+"-"+u,i.push(Je("td",m,h))}}var x="<tr>";return x+i.join("")+"</tr>"}var Oet='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Det="</body></html>";function Iet(e,t,r){var s=[];return s.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function ree(e,t){var r=t||{},s=r.header!=null?r.header:Oet,a=r.footer!=null?r.footer:Det,i=[s],o=Zi(e["!ref"]);r.dense=Array.isArray(e),i.push(Iet(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(Tet(e,o,l,r));return i.push("</table>"+a),i.join("")}function nee(e,t,r){var s=r||{},a=0,i=0;if(s.origin!=null)if(typeof s.origin=="number")a=s.origin;else{var o=typeof s.origin=="string"?Os(s.origin):s.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(s.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=Zi(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),a==-1&&(d.e.r=a=u.e.r+1)}var f=[],m=0,h=e["!rows"]||(e["!rows"]=[]),x=0,p=0,g=0,j=0,y=0,w=0;for(e["!cols"]||(e["!cols"]=[]);x<l.length&&p<c;++x){var b=l[x];if(c8(b)){if(s.display)continue;h[p]={hidden:!0}}var N=b.children;for(g=j=0;g<N.length;++g){var S=N[g];if(!(s.display&&c8(S))){var _=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):dKe(S.innerHTML),E=S.getAttribute("data-z")||S.getAttribute("z");for(m=0;m<f.length;++m){var A=f[m];A.s.c==j+i&&A.s.r<p+a&&p+a<=A.e.r&&(j=A.e.c+1-i,m=-1)}w=+S.getAttribute("colspan")||1,((y=+S.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:p+a,c:j+i},e:{r:p+a+(y||1)-1,c:j+i+(w||1)-1}});var T={t:"s",v:_},R=S.getAttribute("data-t")||S.getAttribute("t")||"";_!=null&&(_.length==0?T.t=R||"z":s.raw||_.trim().length==0||R=="s"||(_==="TRUE"?T={t:"b",v:!0}:_==="FALSE"?T={t:"b",v:!1}:isNaN(Wc(_))?isNaN(bv(_).getDate())||(T={t:"d",v:Fa(_)},s.cellDates||(T={t:"n",v:pi(T.v)}),T.z=s.dateNF||Ln[14]):T={t:"n",v:Wc(_)})),T.z===void 0&&E!=null&&(T.z=E);var I="",z=S.getElementsByTagName("A");if(z&&z.length)for(var H=0;H<z.length&&!(z[H].hasAttribute("href")&&(I=z[H].getAttribute("href"),I.charAt(0)!="#"));++H);I&&I.charAt(0)!="#"&&(T.l={Target:I}),s.dense?(e[p+a]||(e[p+a]=[]),e[p+a][j+i]=T):e[Mr({c:j+i,r:p+a})]=T,d.e.c<j+i&&(d.e.c=j+i),j+=w}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),d.e.r=Math.max(d.e.r,p-1+a),e["!ref"]=as(d),p>=c&&(e["!fullref"]=as((d.e.r=l.length-x+p-1+a,d))),e}function see(e,t){var r=t||{},s=r.dense?[]:{};return nee(s,e,t)}function Ret(e,t){return bm(see(e,t),t)}function c8(e){var t="",r=Met(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Met(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Fet=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Nv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return cs+t}}(),d8=function(){var e=function(i){return Ir(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,s=function(i,o,l){var c=[];c.push('      <table:table table:name="'+Ir(o.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,u=0,f=Zi(i["!ref"]||"A1"),m=i["!merges"]||[],h=0,x=Array.isArray(i);if(i["!cols"])for(u=0;u<=f.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var p="",g=i["!rows"]||[];for(d=0;d<f.s.r;++d)p=g[d]?' table:style-name="ro'+g[d].ods+'"':"",c.push("        <table:table-row"+p+`></table:table-row>
`);for(;d<=f.e.r;++d){for(p=g[d]?' table:style-name="ro'+g[d].ods+'"':"",c.push("        <table:table-row"+p+`>
`),u=0;u<f.s.c;++u)c.push(t);for(;u<=f.e.c;++u){var j=!1,y={},w="";for(h=0;h!=m.length;++h)if(!(m[h].s.c>u)&&!(m[h].s.r>d)&&!(m[h].e.c<u)&&!(m[h].e.r<d)){(m[h].s.c!=u||m[h].s.r!=d)&&(j=!0),y["table:number-columns-spanned"]=m[h].e.c-m[h].s.c+1,y["table:number-rows-spanned"]=m[h].e.r-m[h].s.r+1;break}if(j){c.push(r);continue}var b=Mr({r:d,c:u}),N=x?(i[d]||[])[u]:i[b];if(N&&N.f&&(y["table:formula"]=Ir(tZe(N.f)),N.F&&N.F.slice(0,b.length)==b)){var S=Zi(N.F);y["table:number-matrix-columns-spanned"]=S.e.c-S.s.c+1,y["table:number-matrix-rows-spanned"]=S.e.r-S.s.r+1}if(!N){c.push(t);continue}switch(N.t){case"b":w=N.v?"TRUE":"FALSE",y["office:value-type"]="boolean",y["office:boolean-value"]=N.v?"true":"false";break;case"n":w=N.w||String(N.v||0),y["office:value-type"]="float",y["office:value"]=N.v||0;break;case"s":case"str":w=N.v==null?"":N.v,y["office:value-type"]="string";break;case"d":w=N.w||Fa(N.v).toISOString(),y["office:value-type"]="date",y["office:date-value"]=Fa(N.v).toISOString(),y["table:style-name"]="ce1";break;default:c.push(t);continue}var _=e(w);if(N.l&&N.l.Target){var E=N.l.Target;E=E.charAt(0)=="#"?"#"+rZe(E.slice(1)):E,E.charAt(0)!="#"&&!E.match(/^\w+:/)&&(E="../"+E),_=Je("text:a",_,{"xlink:href":E.replace(/&/g,"&amp;")})}c.push("          "+Je("table:table-cell",Je("text:p",_,{}),y)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var f=d["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;iD(f),f.ods=l;var m=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var f=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[cs],d=Nv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Nv({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(yJ().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(s(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function aee(e,t){if(t.bookType=="fods")return d8(e,t);var r=Y3(),s="",a=[],i=[];return s="mimetype",er(r,s,"application/vnd.oasis.opendocument.spreadsheet"),s="content.xml",er(r,s,d8(e,t)),a.push([s,"text/xml"]),i.push([s,"ContentFile"]),s="styles.xml",er(r,s,Fet(e,t)),a.push([s,"text/xml"]),i.push([s,"StylesFile"]),s="meta.xml",er(r,s,cs+yJ()),a.push([s,"text/xml"]),i.push([s,"MetadataFile"]),s="manifest.rdf",er(r,s,GKe(i)),a.push([s,"application/rdf+xml"]),s="META-INF/manifest.xml",er(r,s,HKe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Yw(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function $et(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Jo(wv(e))}function Let(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var s=0;s<t.length;++s)if(e[r+s]!=t[s])continue e;return!0}return!1}function Pu(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),s=0;return e.forEach(function(a){r.set(a,s),s+=a.length}),r}function Bet(e,t,r){var s=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,s-6176);e[t+15]|=s>>7,e[t+14]|=(s&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function _v(e,t){var r=t?t[0]:0,s=e[r]&127;e:if(e[r++]>=128&&(s|=(e[r]&127)<<7,e[r++]<128||(s|=(e[r]&127)<<14,e[r++]<128)||(s|=(e[r]&127)<<21,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),s}function kr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function kh(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function ms(e){for(var t=[],r=[0];r[0]<e.length;){var s=r[0],a=_v(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=_v(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(s))}var d={data:l,type:i};t[a]==null?t[a]=[d]:t[a].push(d)}return t}function zs(e){var t=[];return e.forEach(function(r,s){r.forEach(function(a){a.data&&(t.push(kr(s*8+a.type)),a.type==2&&t.push(kr(a.data.length)),t.push(a.data))})}),Pu(t)}function Bo(e){for(var t,r=[],s=[0];s[0]<e.length;){var a=_v(e,s),i=ms(e.slice(s[0],s[0]+a));s[0]+=a;var o={id:kh(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=ms(l.data),d=kh(c[3][0].data);o.messages.push({meta:c,data:e.slice(s[0],s[0]+d)}),s[0]+=d}),(t=i[3])!=null&&t[0]&&(o.merge=kh(i[3][0].data)>>>0>0),r.push(o)}return r}function Bm(e){var t=[];return e.forEach(function(r){var s=[];s[1]=[{data:kr(r.id),type:0}],s[2]=[],r.merge!=null&&(s[3]=[{data:kr(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:kr(o.data.length)}],s[2].push({data:zs(o.meta),type:2})});var i=zs(s);t.push(kr(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),Pu(t)}function Uet(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],s=_v(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,d=0;if(i==1?(d=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Pu(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(a.push(a[0].slice(-c)),d-=c;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-c,-c+d))}}var u=Pu(a);if(u.length!=s)throw new Error("Unexpected length: ".concat(u.length," != ").concat(s));return u}function Uo(e){for(var t=[],r=0;r<e.length;){var s=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(Uet(s,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Pu(t)}function Um(e){for(var t=[],r=0;r<e.length;){var s=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=kr(s),o=i.length;t.push(i),s<=60?(o++,t.push(new Uint8Array([s-1<<2]))):s<=256?(o+=2,t.push(new Uint8Array([240,s-1&255]))):s<=65536?(o+=3,t.push(new Uint8Array([244,s-1&255,s-1>>8&255]))):s<=16777216?(o+=4,t.push(new Uint8Array([248,s-1&255,s-1>>8&255,s-1>>16&255]))):s<=4294967296&&(o+=5,t.push(new Uint8Array([252,s-1&255,s-1>>8&255,s-1>>16&255,s-1>>>24&255]))),t.push(e.slice(r,r+s)),o+=s,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=s}return Pu(t)}function wC(e,t){var r=new Uint8Array(32),s=Yw(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Bet(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,s.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,s.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(8,i,!0),r.slice(0,a)}function NC(e,t){var r=new Uint8Array(32),s=Yw(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,s.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,s.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,s.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(4,i,!0),r.slice(0,a)}function Sd(e){var t=ms(e);return _v(t[1][0].data)}function Vet(e,t,r){var s,a,i,o;if(!((s=e[6])!=null&&s[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&kh(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,d=Yw(e[7][0].data),u=0,f=[],m=Yw(e[4][0].data),h=0,x=[],p=0;p<t.length;++p){if(t[p]==null){d.setUint16(p*2,65535,!0),m.setUint16(p*2,65535);continue}d.setUint16(p*2,u,!0),m.setUint16(p*2,h,!0);var g,j;switch(typeof t[p]){case"string":g=wC({t:"s",v:t[p]},r),j=NC({t:"s",v:t[p]},r);break;case"number":g=wC({t:"n",v:t[p]},r),j=NC({t:"n",v:t[p]},r);break;case"boolean":g=wC({t:"b",v:t[p]},r),j=NC({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}f.push(g),u+=g.length,x.push(j),h+=j.length,++c}for(e[2][0].data=kr(c);p<e[7][0].data.length/2;++p)d.setUint16(p*2,65535,!0),m.setUint16(p*2,65535,!0);return e[6][0].data=Pu(f),e[3][0].data=Pu(x),c}function zet(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var s=Zi(r["!ref"]);s.s.r=s.s.c=0;var a=!1;s.e.c>9&&(a=!0,s.e.c=9),s.e.r>49&&(a=!0,s.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(as(s)));var i=Xw(r,{range:s,header:1}),o=["~Sh33tJ5~"];i.forEach(function(U){return U.forEach(function(L){typeof L=="string"&&o.push(L)})});var l={},c=[],d=Br.read(t.numbers,{type:"base64"});d.FileIndex.map(function(U,L){return[U,d.FullPaths[L]]}).forEach(function(U){var L=U[0],G=U[1];if(L.type==2&&L.name.match(/\.iwa/)){var le=L.content,fe=Uo(le),B=Bo(fe);B.forEach(function(Y){c.push(Y.id),l[Y.id]={deps:[],location:G,type:kh(Y.messages[0].meta[1][0].data)}})}}),c.sort(function(U,L){return U-L});var u=c.filter(function(U){return U>1}).map(function(U){return[U,kr(U)]});d.FileIndex.map(function(U,L){return[U,d.FullPaths[L]]}).forEach(function(U){var L=U[0];if(U[1],!!L.name.match(/\.iwa/)){var G=Bo(Uo(L.content));G.forEach(function(le){le.messages.forEach(function(fe){u.forEach(function(B){le.messages.some(function(Y){return kh(Y.meta[1][0].data)!=11006&&Let(Y.data,B[1])})&&l[B[0]].deps.push(le.id)})})})}});for(var f=Br.find(d,l[1].location),m=Bo(Uo(f.content)),h,x=0;x<m.length;++x){var p=m[x];p.id==1&&(h=p)}var g=Sd(ms(h.messages[0].data)[1][0].data);for(f=Br.find(d,l[g].location),m=Bo(Uo(f.content)),x=0;x<m.length;++x)p=m[x],p.id==g&&(h=p);for(g=Sd(ms(h.messages[0].data)[2][0].data),f=Br.find(d,l[g].location),m=Bo(Uo(f.content)),x=0;x<m.length;++x)p=m[x],p.id==g&&(h=p);for(g=Sd(ms(h.messages[0].data)[2][0].data),f=Br.find(d,l[g].location),m=Bo(Uo(f.content)),x=0;x<m.length;++x)p=m[x],p.id==g&&(h=p);var j=ms(h.messages[0].data);{j[6][0].data=kr(s.e.r+1),j[7][0].data=kr(s.e.c+1);var y=Sd(j[46][0].data),w=Br.find(d,l[y].location),b=Bo(Uo(w.content));{for(var N=0;N<b.length&&b[N].id!=y;++N);if(b[N].id!=y)throw"Bad ColumnRowUIDMapArchive";var S=ms(b[N].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var _=0;_<=s.e.c;++_){var E=[];E[1]=E[2]=[{type:0,data:kr(_+420690)}],S[1].push({type:2,data:zs(E)}),S[2].push({type:0,data:kr(_)}),S[3].push({type:0,data:kr(_)})}S[4]=[],S[5]=[],S[6]=[];for(var A=0;A<=s.e.r;++A)E=[],E[1]=E[2]=[{type:0,data:kr(A+726270)}],S[4].push({type:2,data:zs(E)}),S[5].push({type:0,data:kr(A)}),S[6].push({type:0,data:kr(A)});b[N].messages[0].data=zs(S)}w.content=Um(Bm(b)),w.size=w.content.length,delete j[46];var T=ms(j[4][0].data);{T[7][0].data=kr(s.e.r+1);var R=ms(T[1][0].data),I=Sd(R[2][0].data);w=Br.find(d,l[I].location),b=Bo(Uo(w.content));{if(b[0].id!=I)throw"Bad HeaderStorageBucket";var z=ms(b[0].messages[0].data);for(A=0;A<i.length;++A){var H=ms(z[2][0].data);H[1][0].data=kr(A),H[4][0].data=kr(i[A].length),z[2][A]={type:z[2][0].type,data:zs(H)}}b[0].messages[0].data=zs(z)}w.content=Um(Bm(b)),w.size=w.content.length;var F=Sd(T[2][0].data);w=Br.find(d,l[F].location),b=Bo(Uo(w.content));{if(b[0].id!=F)throw"Bad HeaderStorageBucket";for(z=ms(b[0].messages[0].data),_=0;_<=s.e.c;++_)H=ms(z[2][0].data),H[1][0].data=kr(_),H[4][0].data=kr(s.e.r+1),z[2][_]={type:z[2][0].type,data:zs(H)};b[0].messages[0].data=zs(z)}w.content=Um(Bm(b)),w.size=w.content.length;var k=Sd(T[4][0].data);(function(){for(var U=Br.find(d,l[k].location),L=Bo(Uo(U.content)),G,le=0;le<L.length;++le){var fe=L[le];fe.id==k&&(G=fe)}var B=ms(G.messages[0].data);{B[3]=[];var Y=[];o.forEach(function(ue,ge){Y[1]=[{type:0,data:kr(ge)}],Y[2]=[{type:0,data:kr(1)}],Y[3]=[{type:2,data:$et(ue)}],B[3].push({type:2,data:zs(Y)})})}G.messages[0].data=zs(B);var ie=Bm(L),we=Um(ie);U.content=we,U.size=U.content.length})();var P=ms(T[3][0].data);{var M=P[1][0];delete P[2];var O=ms(M.data);{var K=Sd(O[2][0].data);(function(){for(var U=Br.find(d,l[K].location),L=Bo(Uo(U.content)),G,le=0;le<L.length;++le){var fe=L[le];fe.id==K&&(G=fe)}var B=ms(G.messages[0].data);{delete B[6],delete P[7];var Y=new Uint8Array(B[5][0].data);B[5]=[];for(var ie=0,we=0;we<=s.e.r;++we){var ue=ms(Y);ie+=Vet(ue,i[we],o),ue[1][0].data=kr(we),B[5].push({data:zs(ue),type:2})}B[1]=[{type:0,data:kr(s.e.c+1)}],B[2]=[{type:0,data:kr(s.e.r+1)}],B[3]=[{type:0,data:kr(ie)}],B[4]=[{type:0,data:kr(s.e.r+1)}]}G.messages[0].data=zs(B);var ge=Bm(L),xe=Um(ge);U.content=xe,U.size=U.content.length})()}M.data=zs(O)}T[3][0].data=zs(P)}j[4][0].data=zs(T)}h.messages[0].data=zs(j);var ne=Bm(m),D=Um(ne);return f.content=D,f.size=f.content.length,d}function Wet(e){return function(r){for(var s=0;s!=e.length;++s){var a=e[s];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function uD(e){Wet([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Het(e,t){return t.bookType=="ods"?aee(e,t):t.bookType=="numbers"?zet(e,t):t.bookType=="xlsb"?qet(e,t):Get(e,t)}function qet(e,t){lh=1024,e&&!e.SSF&&(e.SSF=xi(Ln)),e&&e.SSF&&(i_(),a_(e.SSF),t.revssf=o_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Gg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",s=UJ.indexOf(t.bookType)>-1,a=xJ();uD(t=t||{});var i=Y3(),o="",l=0;if(t.cellXfs=[],Hu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",er(i,o,jJ(e.Props,t)),a.coreprops.push(o),Or(t.rels,2,o,yr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,er(i,o,wJ(e.Props)),a.extprops.push(o),Or(t.rels,3,o,yr.EXT_PROPS),e.Custprops!==e.Props&&ra(e.Custprops||{}).length>0&&(o="docProps/custom.xml",er(i,o,NJ(e.Custprops)),a.custprops.push(o),Or(t.rels,4,o,yr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var u={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],m=(f||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,er(i,o,GJe(l-1,o,t,e,u)),a.sheets.push(o),Or(t.wbrels,-1,"worksheets/sheet"+l+"."+r,yr.WS[0])}if(f){var h=f["!comments"],x=!1,p="";h&&h.length>0&&(p="xl/comments"+l+"."+r,er(i,p,XJe(h,p)),a.comments.push(p),Or(u,-1,"../comments"+l+"."+r,yr.CMNT),x=!0),f["!legacy"]&&x&&er(i,"xl/drawings/vmlDrawing"+l+".vml",LJ(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&er(i,vJ(o),Ah(u))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,er(i,o,YJe(t.Strings,o,t)),a.strs.push(o),Or(t.wbrels,-1,"sharedStrings."+r,yr.SST)),o="xl/workbook."+r,er(i,o,qJe(e,o)),a.workbooks.push(o),Or(t.rels,1,o,yr.WB),o="xl/theme/theme1.xml",er(i,o,FJ(e.Themes,t)),a.themes.push(o),Or(t.wbrels,-1,"theme/theme1.xml",yr.THEME),o="xl/styles."+r,er(i,o,KJe(e,o,t)),a.styles.push(o),Or(t.wbrels,-1,"styles."+r,yr.STY),e.vbaraw&&s&&(o="xl/vbaProject.bin",er(i,o,e.vbaraw),a.vba.push(o),Or(t.wbrels,-1,"vbaProject.bin",yr.VBA)),o="xl/metadata."+r,er(i,o,QJe(o)),a.metadata.push(o),Or(t.wbrels,-1,"metadata."+r,yr.XLMETA),er(i,"[Content_Types].xml",gJ(a,t)),er(i,"_rels/.rels",Ah(t.rels)),er(i,"xl/_rels/workbook."+r+".rels",Ah(t.wbrels)),delete t.revssf,delete t.ssf,i}function Get(e,t){lh=1024,e&&!e.SSF&&(e.SSF=xi(Ln)),e&&e.SSF&&(i_(),a_(e.SSF),t.revssf=o_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Gg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",s=UJ.indexOf(t.bookType)>-1,a=xJ();uD(t=t||{});var i=Y3(),o="",l=0;if(t.cellXfs=[],Hu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",er(i,o,jJ(e.Props,t)),a.coreprops.push(o),Or(t.rels,2,o,yr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,er(i,o,wJ(e.Props)),a.extprops.push(o),Or(t.rels,3,o,yr.EXT_PROPS),e.Custprops!==e.Props&&ra(e.Custprops||{}).length>0&&(o="docProps/custom.xml",er(i,o,NJ(e.Custprops)),a.custprops.push(o),Or(t.rels,4,o,yr.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],h=(m||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,er(i,o,XJ(l-1,t,e,f)),a.sheets.push(o),Or(t.wbrels,-1,"worksheets/sheet"+l+"."+r,yr.WS[0])}if(m){var x=m["!comments"],p=!1,g="";if(x&&x.length>0){var j=!1;x.forEach(function(y){y[1].forEach(function(w){w.T==!0&&(j=!0)})}),j&&(g="xl/threadedComments/threadedComment"+l+"."+r,er(i,g,wXe(x,u,t)),a.threadedcomments.push(g),Or(f,-1,"../threadedComments/threadedComment"+l+"."+r,yr.TCMNT)),g="xl/comments"+l+"."+r,er(i,g,BJ(x)),a.comments.push(g),Or(f,-1,"../comments"+l+"."+r,yr.CMNT),p=!0}m["!legacy"]&&p&&er(i,"xl/drawings/vmlDrawing"+l+".vml",LJ(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&er(i,vJ(o),Ah(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,er(i,o,TJ(t.Strings,t)),a.strs.push(o),Or(t.wbrels,-1,"sharedStrings."+r,yr.SST)),o="xl/workbook."+r,er(i,o,JJ(e)),a.workbooks.push(o),Or(t.rels,1,o,yr.WB),o="xl/theme/theme1.xml",er(i,o,FJ(e.Themes,t)),a.themes.push(o),Or(t.wbrels,-1,"theme/theme1.xml",yr.THEME),o="xl/styles."+r,er(i,o,RJ(e,t)),a.styles.push(o),Or(t.wbrels,-1,"styles."+r,yr.STY),e.vbaraw&&s&&(o="xl/vbaProject.bin",er(i,o,e.vbaraw),a.vba.push(o),Or(t.wbrels,-1,"vbaProject.bin",yr.VBA)),o="xl/metadata."+r,er(i,o,$J()),a.metadata.push(o),Or(t.wbrels,-1,"metadata."+r,yr.XLMETA),u.length>1&&(o="xl/persons/person.xml",er(i,o,NXe(u)),a.people.push(o),Or(t.wbrels,-1,"persons/person.xml",yr.PEOPLE)),er(i,"[Content_Types].xml",gJ(a,t)),er(i,"_rels/.rels",Ah(t.rels)),er(i,"xl/_rels/workbook."+r+".rels",Ah(t.wbrels)),delete t.revssf,delete t.ssf,i}function Ket(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ld(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function iee(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Py(t.file,Br.write(e,{type:br?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Br.write(e,t)}function Yet(e,t){var r=xi(t||{}),s=Het(e,r);return Xet(s,r)}function Xet(e,t){var r={},s=br?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=s;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=s;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Br.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(s_(a))}return t.password&&typeof encrypt_agile<"u"?iee(encrypt_agile(a,t.password),t):t.type==="file"?Py(t.file,a):t.type=="string"?zg(a):a}function Qet(e,t){var r=t||{},s=fet(e,r);return iee(s,r)}function Tl(e,t,r){r||(r="");var s=r+e;switch(t.type){case"base64":return jv(wv(s));case"binary":return wv(s);case"string":return e;case"file":return Py(t.file,s,"utf8");case"buffer":return br?vd(s,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(s):Tl(s,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Zet(e,t){switch(t.type){case"base64":return jv(e);case"binary":return e;case"string":return e;case"file":return Py(t.file,e,"binary");case"buffer":return br?vd(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Vj(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",s=0;s<e.length;++s)r+=String.fromCharCode(e[s]);return t.type=="base64"?jv(r):t.type=="string"?zg(r):r;case"file":return Py(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function oee(e,t){_Ge(),RJe(e);var r=xi(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var s=oee(e,r);return r.type="array",s_(s)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Tl(det(e,r),r);case"slk":case"sylk":return Tl(OYe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Tl(ree(e.Sheets[e.SheetNames[a]],r),r);case"txt":return Zet(lee(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Tl(fD(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Tl(DYe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Vj(TYe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Tl(IYe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Tl(UYe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Tl(kJ.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Tl(aee(e,r),r);case"wk1":return Vj(n8.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Vj(n8.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Vj(tee(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Qet(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Yet(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Jet(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function ett(e,t,r){var s={};return s.type="file",s.file=t,Jet(s),oee(e,s)}function ttt(e,t,r,s,a,i,o,l){var c=Js(r),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||e[r])for(var h=t.s.c;h<=t.e.c;++h){var x=o?e[r][h]:e[s[h]+c];if(x===void 0||x.t===void 0){if(d===void 0)continue;i[h]!=null&&(m[i[h]]=d);continue}var p=x.v;switch(x.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(i[h]!=null){if(p==null)if(x.t=="e"&&p===null)m[i[h]]=null;else if(d!==void 0)m[i[h]]=d;else if(u&&p===null)m[i[h]]=null;else continue;else m[i[h]]=u&&(x.t!=="n"||x.t==="n"&&l.rawNumbers!==!1)?p:cd(x,p,l);p!=null&&(f=!1)}}return{row:m,isempty:f}}function Xw(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},s=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?s=1:d.header==="A"?s=2:Array.isArray(d.header)?s=3:d.header==null&&(s=0),typeof u){case"string":c=ln(u);break;case"number":c=ln(e["!ref"]),c.s.r=u;break;default:c=u}s>0&&(a=0);var f=Js(c.s.r),m=[],h=[],x=0,p=0,g=Array.isArray(e),j=c.s.r,y=0,w={};g&&!e[j]&&(e[j]=[]);var b=d.skipHidden&&e["!cols"]||[],N=d.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(b[y]||{}).hidden)switch(m[y]=xa(y),r=g?e[j][y]:e[m[y]+f],s){case 1:i[y]=y-c.s.c;break;case 2:i[y]=m[y];break;case 3:i[y]=d.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=cd(r,null,d),p=w[o]||0,!p)w[o]=1;else{do l=o+"_"+p++;while(w[l]);w[o]=p,w[l]=1}i[y]=l}for(j=c.s.r+a;j<=c.e.r;++j)if(!(N[j]||{}).hidden){var S=ttt(e,c,j,m,s,i,g,d);(S.isempty===!1||(s===1?d.blankrows!==!1:d.blankrows))&&(h[x++]=S.row)}return h.length=x,h}var u8=/"/g;function rtt(e,t,r,s,a,i,o,l){for(var c=!0,d=[],u="",f=Js(r),m=t.s.c;m<=t.e.c;++m)if(s[m]){var h=l.dense?(e[r]||[])[m]:e[s[m]+f];if(h==null)u="";else if(h.v!=null){c=!1,u=""+(l.rawNumbers&&h.t=="n"?h.v:cd(h,null,l));for(var x=0,p=0;x!==u.length;++x)if((p=u.charCodeAt(x))===a||p===i||p===34||l.forceQuotes){u='"'+u.replace(u8,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(c=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(u8,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(o)}function fD(e,t){var r=[],s=t??{};if(e==null||e["!ref"]==null)return"";var a=ln(e["!ref"]),i=s.FS!==void 0?s.FS:",",o=i.charCodeAt(0),l=s.RS!==void 0?s.RS:`
`,c=l.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];s.dense=Array.isArray(e);for(var m=s.skipHidden&&e["!cols"]||[],h=s.skipHidden&&e["!rows"]||[],x=a.s.c;x<=a.e.c;++x)(m[x]||{}).hidden||(f[x]=xa(x));for(var p=0,g=a.s.r;g<=a.e.r;++g)(h[g]||{}).hidden||(u=rtt(e,a,g,f,o,c,i,s),u!=null&&(s.strip&&(u=u.replace(d,"")),(u||s.blankrows!==!1)&&r.push((p++?l:"")+u)));return delete s.dense,r.join("")}function lee(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=fD(e,t);return r}function ntt(e){var t="",r,s="";if(e==null||e["!ref"]==null)return[];var a=ln(e["!ref"]),i="",o=[],l,c=[],d=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=xa(l);for(var u=a.s.r;u<=a.e.r;++u)for(i=Js(u),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=d?(e[u]||[])[l]:e[t],s="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;s=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)s=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)s=""+r.v;else if(r.t=="b")s=r.v?"TRUE":"FALSE";else if(r.w!==void 0)s="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?s="'"+r.v:s=""+r.v}}c[c.length]=t+"="+s}return c}function cee(e,t,r){var s=r||{},a=+!s.skipHeader,i=e||{},o=0,l=0;if(i&&s.origin!=null)if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?Os(s.origin):s.origin;o=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var f=ln(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(o=f.e.r+1,u.e.r=o+t.length-1+a)}else o==-1&&(o=0,u.e.r=t.length-1+a);var m=s.header||[],h=0;t.forEach(function(p,g){ra(p).forEach(function(j){(h=m.indexOf(j))==-1&&(m[h=m.length]=j);var y=p[j],w="z",b="",N=Mr({c:l+h,r:o+g+a});d=Sv(i,N),y&&typeof y=="object"&&!(y instanceof Date)?i[N]=y:(typeof y=="number"?w="n":typeof y=="boolean"?w="b":typeof y=="string"?w="s":y instanceof Date?(w="d",s.cellDates||(w="n",y=pi(y)),b=s.dateNF||Ln[14]):y===null&&s.nullError&&(w="e",y=0),d?(d.t=w,d.v=y,delete d.w,delete d.R,b&&(d.z=b)):i[N]=d={t:w,v:y},b&&(d.z=b))})}),u.e.c=Math.max(u.e.c,l+m.length-1);var x=Js(o);if(a)for(h=0;h<m.length;++h)i[xa(h+l)+x]={t:"s",v:m[h]};return i["!ref"]=as(u),i}function stt(e,t){return cee(null,e,t)}function Sv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var s=Os(t);return e[s.r]||(e[s.r]=[]),e[s.r][s.c]||(e[s.r][s.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Sv(e,Mr(t)):Sv(e,Mr({r:t,c:r||0}))}function att(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function itt(){return{SheetNames:[],Sheets:{}}}function ott(e,t,r,s){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(ZJ(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function ltt(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var s=att(e,t);switch(e.Workbook.Sheets[s]||(e.Workbook.Sheets[s]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[s].Hidden=r}function ctt(e,t){return e.z=t,e}function dee(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function dtt(e,t,r){return dee(e,"#"+t,r)}function utt(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function ftt(e,t,r,s){for(var a=typeof t!="string"?t:ln(t),i=typeof t=="string"?t:as(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Sv(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,s&&(c.D=!0))}return e}var _C={encode_col:xa,encode_row:Js,encode_cell:Mr,encode_range:as,decode_col:tD,decode_row:eD,split_cell:_Ke,decode_cell:Os,decode_range:Zi,format_cell:cd,sheet_add_aoa:dJ,sheet_add_json:cee,sheet_add_dom:nee,aoa_to_sheet:yx,json_to_sheet:stt,table_to_sheet:see,table_to_book:Ret,sheet_to_csv:fD,sheet_to_txt:lee,sheet_to_json:Xw,sheet_to_html:ree,sheet_to_formulae:ntt,sheet_to_row_object_array:Xw,sheet_get_cell:Sv,book_new:itt,book_append_sheet:ott,book_set_sheet_visibility:ltt,cell_set_number_format:ctt,cell_set_hyperlink:dee,cell_set_internal_link:dtt,cell_add_comment:utt,sheet_set_array_formula:ftt,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function mtt(){return n.jsx(X,{className:"shadow-sm",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(C,{className:"h-5 w-5 rounded-full"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-20"}),n.jsx(C,{className:"h-8 w-12"})]})]})})}function htt(){return n.jsxs(X,{className:"shadow-md",children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-5 w-32"})]})}),n.jsx(Q,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-end justify-between h-[200px] gap-2",children:[60,80,45,90,70,55,85].map((e,t)=>n.jsx("div",{className:"flex-1 flex flex-col justify-end",children:n.jsx(C,{className:"w-full rounded-t-md",style:{height:`${e}%`}})},t))}),n.jsx("div",{className:"flex justify-between",children:[...Array(7)].map((e,t)=>n.jsx(C,{className:"h-3 w-12"},t))})]})})]})}function ptt(){return n.jsxs(X,{className:"shadow-md",children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-5 w-40"})]})}),n.jsx(Q,{className:"flex items-center justify-center",children:n.jsxs("div",{className:"relative",children:[n.jsx(C,{className:"h-40 w-40 rounded-full"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"h-20 w-20 rounded-full bg-background"})})]})})]})}function xtt(){return n.jsx(X,{className:"shadow-md",children:n.jsx(Q,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsx(C,{className:"flex-1 h-10 rounded-md"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-10 w-[140px] rounded-md"}),n.jsx(C,{className:"h-10 w-[140px] rounded-md"}),n.jsx(C,{className:"h-10 w-[120px] rounded-md"})]})]})})})})}function gtt(){return n.jsxs("div",{className:"flex-1 min-w-[300px]",children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded-full"}),n.jsx(C,{className:"h-5 w-32"})]}),n.jsx(C,{className:"h-6 w-8 rounded-full"})]}),n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>n.jsx(X,{className:"shadow-sm",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx(C,{className:"h-4 w-24 rounded-full"}),n.jsx(C,{className:"h-4 w-16 rounded-full"})]}),n.jsx(C,{className:"h-5 w-full"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-full"}),n.jsx(C,{className:"h-3 w-4/5"})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-3 w-20"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-4 w-12"}),n.jsx(C,{className:"h-4 w-12"})]})]})]})})},t))})]})}function vtt(){return n.jsxs("div",{className:"flex items-center gap-4 p-4 border-b",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-10 w-10 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(C,{className:"h-4 w-full max-w-md"}),n.jsx(C,{className:"h-3 w-3/4 max-w-sm"})]}),n.jsx(C,{className:"h-6 w-20 rounded-full"}),n.jsx(C,{className:"h-6 w-16 rounded-full"}),n.jsx(C,{className:"h-6 w-24 rounded-full"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"})]})]})}function ytt(){return n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx(C,{className:"h-4 w-24 rounded-full"}),n.jsx(C,{className:"h-4 w-16 rounded-full"})]}),n.jsx(C,{className:"h-32 w-full rounded-lg"}),n.jsx(C,{className:"h-5 w-full"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-full"}),n.jsx(C,{className:"h-3 w-4/5"})]}),n.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-3 w-24"})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(C,{className:"h-9 flex-1 rounded"}),n.jsx(C,{className:"h-9 w-9 rounded"})]})]})})})}function jtt({viewMode:e="kanban"}){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-11 w-36 rounded-md"}),n.jsx(C,{className:"h-11 w-32 rounded-md"})]}),n.jsx(C,{className:"h-10 w-24 rounded-md"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[...Array(8)].map((t,r)=>n.jsx(mtt,{},r))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(htt,{}),n.jsx(ptt,{})]}),n.jsx(xtt,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-10 w-64 rounded-md"}),n.jsx(C,{className:"h-9 w-32 rounded-md"})]}),e==="kanban"&&n.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:[...Array(4)].map((t,r)=>n.jsx(gtt,{},r))}),e==="table"&&n.jsx(X,{className:"shadow-md",children:n.jsx(Q,{className:"p-0",children:n.jsxs("div",{className:"space-y-0",children:[n.jsxs("div",{className:"flex items-center gap-4 p-4 border-b bg-muted/50",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-32 flex-1"}),n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-4 w-20"})]}),[...Array(5)].map((t,r)=>n.jsx(vtt,{},r))]})})}),e==="grid"&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[...Array(8)].map((t,r)=>n.jsx(ytt,{},r))})]})}const btt=()=>{var De;const e=mr(),{apartments:t,products:r,vendors:s,updateIssue:a}=Bl(),[i,o]=v.useState([]),[l,c]=v.useState(!0);v.useEffect(()=>{(async()=>{c(!0);try{const Ie=await ks.getIssues({page_size:100});o(Ie.results||[])}catch(Ie){console.error("Failed to fetch issues:",Ie),Ue.error("Failed to load issues")}finally{c(!1)}})()},[]);const d=i,[u,f]=v.useState("kanban"),[m,h]=v.useState(""),[x,p]=v.useState("All"),[g,j]=v.useState("All"),[y,w]=v.useState("All"),[b,N]=v.useState("All"),[S,_]=v.useState("All"),[E,A]=v.useState("All"),[T,R]=v.useState(!1),[I,z]=v.useState(null),[H,F]=v.useState(!1),[k,P]=v.useState(!1),[M,O]=v.useState(null),[K,ne]=v.useState(!1),D=v.useMemo(()=>{const de={};return d.forEach((Ie,it)=>{de[Ie.id]=["Critical","High","Medium","Low"][it%4]}),de},[d]),U=["Admin","Barbara Kovcs","Maria Weber","Unassigned"],L=de=>{const Ie=t.find(it=>it.id===de);return(Ie==null?void 0:Ie.name)||"Unknown"},G=de=>{const Ie={Critical:"bg-danger/10 text-danger border-danger/20",High:"bg-warning/10 text-warning border-warning/20",Medium:"bg-primary/10 text-primary border-primary/20",Low:"bg-muted text-muted-foreground border-border"};return Ie[de]||Ie.Low},le=de=>{const Ie={Open:"bg-danger/10 text-danger border-danger/20","Pending Vendor Response":"bg-warning/10 text-warning border-warning/20","Resolution Agreed":"bg-primary/10 text-primary border-primary/20",Closed:"bg-success/10 text-success border-success/20"};return Ie[de]||Ie.Open},fe=de=>{switch(de){case"Broken/Damaged":return n.jsx(Et,{className:"h-4 w-4"});case"Wrong Item/Color":return n.jsx(Vl,{className:"h-4 w-4"});case"Missing Parts":return n.jsx(lt,{className:"h-4 w-4"});case"Incorrect Quantity":return n.jsx(dl,{className:"h-4 w-4"});default:return n.jsx(Et,{className:"h-4 w-4"})}},B=v.useMemo(()=>d.filter(de=>{var Zr,Vr,Pr,jt;const Ie=((Zr=de.apartment_details)==null?void 0:Zr.name)||de.apartment_name||L(de.apartment),it=de.display_product_name||de.product_name||((Vr=de.product_details)==null?void 0:Vr.product)||"",bt=de.vendor_name||((Pr=de.vendor_details)==null?void 0:Pr.name)||de.vendor||"",qe=de.priority||D[de.id],ye=it.toLowerCase().includes(m.toLowerCase())||de.description.toLowerCase().includes(m.toLowerCase())||bt.toLowerCase().includes(m.toLowerCase())||Ie.toLowerCase().includes(m.toLowerCase()),Ge=x==="All"||de.status===x,Pt=g==="All"||((jt=de.type)==null?void 0:jt.includes(g)),kt=y==="All"||qe===y,vr=b==="All"||de.apartment===b,qr=S==="All"||de.vendor===S||bt===S;return ye&&Ge&&Pt&&kt&&vr&&qr}),[d,m,x,g,y,b,S,D]),Y=v.useMemo(()=>{const de=B.length,Ie=B.filter(kt=>kt.status==="Open").length,it=B.filter(kt=>kt.status==="Pending Vendor Response").length,bt=B.filter(kt=>kt.status==="Resolution Agreed").length,qe=B.filter(kt=>kt.status==="Closed").length,ye=B.filter(kt=>(kt.priority||D[kt.id])==="Critical").length,Ge=B.filter(kt=>kt.ai_activated).length;return{total:de,open:Ie,pending:it,resolved:bt,closed:qe,critical:ye,withAI:Ge,avgResolutionDays:5.2}},[B,D]),ie=v.useMemo(()=>{const de={Open:[],"Pending Vendor Response":[],"Resolution Agreed":[],Closed:[]};return B.forEach(Ie=>{de[Ie.status]&&de[Ie.status].push(Ie)}),de},[B]),we=v.useMemo(()=>{const de=[];for(let Ie=6;Ie>=0;Ie--){const it=Pc(new Date,Ie);de.push({date:Xt(it,"MMM dd"),reported:Math.floor(Math.random()*5)+1,resolved:Math.floor(Math.random()*4)})}return de},[]),ue=v.useMemo(()=>{const de=["Broken/Damaged","Wrong Item/Color","Missing Parts","Incorrect Quantity"];return de.map(Ie=>({name:Ie,value:B.filter(it=>it.type===Ie).length,color:["hsl(var(--danger))","hsl(var(--warning))","hsl(var(--primary))","hsl(var(--success))"][de.indexOf(Ie)]})).filter(Ie=>Ie.value>0)},[B]),ge=Array.from(new Set(d.map(de=>{var Ie;return de.vendor_name||((Ie=de.vendor_details)==null?void 0:Ie.name)||de.vendor}))).filter(Boolean).sort(),xe=()=>{h(""),p("All"),j("All"),w("All"),N("All"),_("All"),A("All")},_e=[m,x!=="All",g!=="All",y!=="All",b!=="All",S!=="All",E!=="All"].filter(Boolean).length,Re=de=>{e(`/issues/${de.id}`)},ke=(de,Ie)=>{de.stopPropagation(),e(`/issues/${Ie.id}/edit`)},re=(de,Ie)=>{de.stopPropagation(),O(Ie),P(!0)},he=async()=>{var de,Ie;if(M){ne(!0);try{await ks.deleteIssue(M.id),Ue.success("Issue deleted successfully");const it=await ks.getIssues({});o(it.results||[])}catch(it){Ue.error(((Ie=(de=it.response)==null?void 0:de.data)==null?void 0:Ie.message)||"Failed to delete issue")}finally{ne(!1),P(!1),O(null)}}},ce=()=>{try{const de=B.map(ye=>{var Ge,Pt,kt,vr,qr;return{"Issue ID":ye.id,Product:ye.display_product_name||ye.product_name||((Ge=ye.product_details)==null?void 0:Ge.product)||"Unknown",Type:ye.type,Priority:ye.priority||D[ye.id],Status:ye.status,Apartment:((Pt=ye.apartment_details)==null?void 0:Pt.name)||ye.apartment_name||L(ye.apartment),Vendor:ye.vendor_name||((kt=ye.vendor_details)==null?void 0:kt.name)||ye.vendor,Description:ye.description,"Reported Date":ye.reported_on?Xt(new Date(ye.reported_on),"yyyy-MM-dd"):"Unknown","Days Open":ye.reported_on?pj(new Date,new Date(ye.reported_on)):0,"AI Active":ye.ai_activated?"Yes":"No",Photos:((vr=ye.photos)==null?void 0:vr.length)||0,Communications:((qr=ye.ai_communication_log)==null?void 0:qr.length)||0}}),Ie=_C.json_to_sheet(de),it=[{wch:15},{wch:30},{wch:20},{wch:10},{wch:20},{wch:20},{wch:20},{wch:40},{wch:12},{wch:10},{wch:10},{wch:8},{wch:15}];Ie["!cols"]=it;const bt=_C.book_new();_C.book_append_sheet(bt,Ie,"Issues");const qe=`Issues_Report_${Xt(new Date,"yyyy-MM-dd_HHmmss")}.xlsx`;ett(bt,qe),Ue.success("Export Complete",{description:`Downloaded ${B.length} issues to ${qe}`})}catch{Ue.error("Export Failed",{description:"Failed to generate the export file"})}},je=()=>{if(B.length===0){Ue.error("No issues to email");return}e("/issues/bulk-email",{state:{selectedIssues:B}})},Fe=v.useCallback(async de=>{const{destination:Ie,source:it,draggableId:bt}=de;if(!Ie||Ie.droppableId===it.droppableId&&Ie.index===it.index)return;const qe=Ie.droppableId,ye=bt,Ge=B.find(Pt=>Pt.id===ye);if(Ge&&Ge.status!==qe)try{Ue.loading(`Moving issue to ${qe}...`,{id:"drag-status"}),await ks.updateIssue(ye,{status:qe});const Pt=await ks.getIssues();o(Pt.results||[]),Ue.success(`Issue moved to ${qe}`,{id:"drag-status"})}catch(Pt){console.error("Failed to update issue status:",Pt),Ue.error("Failed to update issue status",{id:"drag-status"})}},[B]);return l?n.jsx(ct,{title:"Issues Management",children:n.jsx(jtt,{viewMode:u})}):n.jsxs(ct,{title:"Issues Management",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(te,{size:"lg",className:"h-11 shadow-lg hover:shadow-xl transition-shadow",onClick:()=>e("/issues/new"),children:[n.jsx(Xn,{className:"h-5 w-5 mr-2"}),"Report Issue"]}),n.jsxs(te,{variant:"outline",size:"lg",className:"h-11 shadow-sm hover:shadow-md transition-shadow",onClick:je,children:[n.jsx(gn,{className:"h-4 w-4 mr-2"}),"Bulk Email"]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(te,{variant:"outline",onClick:ce,className:"shadow-sm hover:shadow-md transition-shadow",children:[n.jsx(Fv,{className:"h-4 w-4 mr-2"}),"Export"]})})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(o7,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Total Issues"}),n.jsx("p",{className:"text-2xl font-bold",children:Y.total})]})]})}),n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(Et,{className:"h-5 w-5 text-danger"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Open"}),n.jsx("p",{className:"text-2xl font-bold text-danger",children:Y.open})]})]})}),n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(wr,{className:"h-5 w-5 text-warning"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold text-warning",children:Y.pending})]})]})}),n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(Vb,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Resolved"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:Y.resolved})]})]})}),n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(lr,{className:"h-5 w-5 text-success"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Closed"}),n.jsx("p",{className:"text-2xl font-bold text-success",children:Y.closed})]})]})}),n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(f0,{className:"h-5 w-5 text-danger"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Critical"}),n.jsx("p",{className:"text-2xl font-bold text-danger",children:Y.critical})]})]})}),n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow  bg-gradient-to-br from-primary/5 to-transparent",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(Oa,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"AI Active"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:Y.withAI})]})]})}),n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(kse,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Avg Resolution"}),n.jsxs("p",{className:"text-2xl font-bold",children:[Y.avgResolutionDays,"d"]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(X,{className:"shadow-md ",children:[n.jsx(be,{children:n.jsxs(Ve,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(li,{className:"h-5 w-5 text-primary"}),"Issues Trend"]})}),n.jsx(Q,{children:n.jsx(un,{width:"100%",height:250,children:n.jsxs(z2,{data:we,children:[n.jsx(zn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(rn,{dataKey:"date",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(nn,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(hr,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),n.jsx(il,{}),n.jsx(ac,{type:"monotone",dataKey:"reported",stroke:"hsl(var(--danger))",strokeWidth:2,name:"Reported"}),n.jsx(ac,{type:"monotone",dataKey:"resolved",stroke:"hsl(var(--success))",strokeWidth:2,name:"Resolved"})]})})})]}),n.jsxs(X,{className:"shadow-md ",children:[n.jsx(be,{children:n.jsxs(Ve,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(lt,{className:"h-5 w-5 text-primary"}),"Issue Types Distribution"]})}),n.jsx(Q,{children:n.jsx(un,{width:"100%",height:250,children:n.jsxs(Lg,{children:[n.jsx(zi,{data:ue,cx:"50%",cy:"50%",labelLine:!1,label:({name:de,percent:Ie})=>`${de.split("/")[0]}: ${(Ie*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:ue.map((de,Ie)=>n.jsx(Ca,{fill:de.color},`cell-${Ie}`))}),n.jsx(hr,{})]})})})]})]}),n.jsx(X,{className:"shadow-md",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search issues by product, description, vendor, or apartment...",value:m,onChange:de=>h(de.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap lg:flex-nowrap",children:[n.jsxs(st,{value:x,onValueChange:p,children:[n.jsx(rt,{className:"w-full sm:w-[140px]",children:n.jsx(at,{placeholder:"Status"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"All",children:"All Status"}),n.jsx(J,{value:"Open",children:"Open"}),n.jsx(J,{value:"Pending Vendor Response",children:"Pending"}),n.jsx(J,{value:"Resolution Agreed",children:"Resolved"}),n.jsx(J,{value:"Closed",children:"Closed"})]})]}),n.jsxs(st,{value:g,onValueChange:j,children:[n.jsx(rt,{className:"w-full sm:w-[140px]",children:n.jsx(at,{placeholder:"Type"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"All",children:"All Types"}),n.jsx(J,{value:"Broken/Damaged",children:"Damaged"}),n.jsx(J,{value:"Wrong Item/Color",children:"Wrong Item"}),n.jsx(J,{value:"Missing Parts",children:"Missing"}),n.jsx(J,{value:"Incorrect Quantity",children:"Quantity"})]})]}),n.jsxs(te,{variant:T?"default":"outline",onClick:()=>R(!T),className:"relative",children:[n.jsx($v,{className:"h-4 w-4 mr-2"}),"Filters",_e>0&&n.jsx(Ce,{className:"ml-2 h-5 w-5 p-0 flex items-center justify-center bg-primary-foreground text-primary",children:_e}),T?n.jsx(vN,{className:"h-4 w-4 ml-2"}):n.jsx(Du,{className:"h-4 w-4 ml-2"})]})]})]}),T&&n.jsxs("div",{className:"pt-4 border-t space-y-4 animate-slide-down",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-sm font-semibold",children:"Advanced Filters"}),_e>0&&n.jsxs(te,{variant:"ghost",size:"sm",onClick:xe,className:"h-8 text-xs",children:[n.jsx(ps,{className:"h-3 w-3 mr-1"}),"Clear All"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Priority"}),n.jsxs(st,{value:y,onValueChange:w,children:[n.jsx(rt,{children:n.jsx(at,{placeholder:"All Priorities"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"All",children:"All Priorities"}),n.jsx(J,{value:"Critical",children:"Critical"}),n.jsx(J,{value:"High",children:"High"}),n.jsx(J,{value:"Medium",children:"Medium"}),n.jsx(J,{value:"Low",children:"Low"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Apartment"}),n.jsxs(st,{value:b,onValueChange:N,children:[n.jsx(rt,{children:n.jsx(at,{placeholder:"All Apartments"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"All",children:"All Apartments"}),t.map(de=>n.jsx(J,{value:de.id,children:de.name},de.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Vendor"}),n.jsxs(st,{value:S,onValueChange:_,children:[n.jsx(rt,{children:n.jsx(at,{placeholder:"All Vendors"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"All",children:"All Vendors"}),ge.map(de=>n.jsx(J,{value:de,children:de},de))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Assigned To"}),n.jsxs(st,{value:E,onValueChange:A,children:[n.jsx(rt,{children:n.jsx(at,{placeholder:"All Assignees"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"All",children:"All Assignees"}),U.map(de=>n.jsx(J,{value:de,children:de},de))]})]})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",n.jsx("span",{className:"font-semibold text-foreground",children:B.length})," of"," ",n.jsx("span",{className:"font-semibold text-foreground",children:d.length})," issues"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(te,{variant:u==="kanban"?"default":"ghost",size:"sm",onClick:()=>f("kanban"),children:n.jsx(xse,{className:"h-4 w-4"})}),n.jsx(te,{variant:u==="table"?"default":"ghost",size:"sm",onClick:()=>f("table"),children:n.jsx(vse,{className:"h-4 w-4"})}),n.jsx(te,{variant:u==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),children:n.jsx(hse,{className:"h-4 w-4"})})]})]})]})})}),u==="kanban"&&n.jsx(Rqe,{onDragEnd:Fe,children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("div",{className:"flex gap-4 pb-4",style:{minWidth:"min-content"},children:Object.entries(ie).map(([de,Ie])=>n.jsx("div",{className:"flex-shrink-0 w-96",children:n.jsxs(X,{className:"h-full",children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ve,{className:"text-base font-semibold",children:de}),n.jsx(Ce,{className:le(de),children:Ie.length})]})}),n.jsx(bGe,{droppableId:de,children:(it,bt)=>n.jsxs(Q,{ref:it.innerRef,...it.droppableProps,className:ve("space-y-3 max-h-[600px] overflow-y-auto min-h-[100px] transition-colors",bt.isDraggingOver&&"bg-primary/5 border-2 border-dashed border-primary/30 rounded-lg"),children:[Ie.map((qe,ye)=>{const Ge=qe.priority||D[qe.id],Pt=qe.reported_on?pj(new Date,new Date(qe.reported_on)):0;return n.jsx(eGe,{draggableId:qe.id,index:ye,children:(kt,vr)=>n.jsx(X,{ref:kt.innerRef,...kt.draggableProps,...kt.dragHandleProps,className:ve("hover:shadow-md transition-all cursor-grab border-l-4",vr.isDragging&&"shadow-xl rotate-2 cursor-grabbing ring-2 ring-primary"),style:{...kt.draggableProps.style,borderLeftColor:Ge==="Critical"?"hsl(var(--danger))":Ge==="High"?"hsl(var(--warning))":"hsl(var(--border))"},onClick:()=>!vr.isDragging&&Re(qe),children:n.jsx(Q,{className:"p-3 space-y-2",children:(()=>{var Ft,tr,Un,ds,qa,jd;const qr=qe.items||[],Zr=qr.length||qe.items_count||0,Vr=Zr>0?qr.slice(0,4):[],Pr=Math.max(0,Zr-4),jt=((Ft=qr[0])==null?void 0:Ft.product_image)||((tr=qe.order_item_details)==null?void 0:tr.product_image)||((Un=qe.product_details)==null?void 0:Un.product_image);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[fe(qe.type),n.jsx("span",{className:"font-semibold text-sm truncate",children:qe.display_product_name||qe.product_name||((ds=qe.product_details)==null?void 0:ds.product)||"Unknown"})]}),n.jsx(Ce,{className:G(Ge),variant:"outline",children:Ge})]}),n.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:qe.description}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ce,{variant:"outline",className:"text-xs",children:((qa=qe.apartment_details)==null?void 0:qa.name)||qe.apartment_name||L(qe.apartment)}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:qe.vendor_name||((jd=qe.vendor_details)==null?void 0:jd.name)||qe.vendor}),qe.ai_activated&&n.jsxs(Ce,{className:"text-xs bg-primary/10 text-primary border-primary/20",children:[n.jsx(Oa,{className:"h-3 w-3 mr-1"}),"AI"]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[n.jsx(wr,{className:"h-3 w-3"}),Pt,"d ago"]}),n.jsxs("div",{className:"flex items-center gap-0.5",children:[n.jsx("button",{onClick:bi=>ke(bi,qe),className:"p-1 rounded hover:bg-muted transition-colors",title:"Edit Issue",children:n.jsx(Zs,{className:"h-3 w-3 text-muted-foreground hover:text-primary"})}),n.jsx("button",{onClick:bi=>re(bi,qe),className:"p-1 rounded hover:bg-destructive/10 transition-colors",title:"Delete Issue",children:n.jsx(pn,{className:"h-3 w-3 text-muted-foreground hover:text-destructive"})})]})]}),n.jsx("div",{className:"flex items-center -space-x-2",children:Zr>0?n.jsxs(n.Fragment,{children:[Vr.map((bi,$e)=>n.jsx("div",{className:"relative",style:{zIndex:10-$e},children:bi.product_image?n.jsx("img",{src:bi.product_image,alt:bi.product_name||"Product",className:"w-7 h-7 rounded-full object-cover border-2 border-background shadow-sm"}):n.jsx("div",{className:"w-7 h-7 rounded-full bg-muted flex items-center justify-center border-2 border-background shadow-sm",children:n.jsx(lt,{className:"h-3 w-3 text-muted-foreground"})})},bi.id||$e)),Pr>0&&n.jsxs("div",{className:"w-7 h-7 rounded-full bg-primary/10 flex items-center justify-center border-2 border-background shadow-sm text-[10px] font-semibold text-primary",style:{zIndex:1},children:["+",Pr]})]}):jt?n.jsx("img",{src:jt,alt:qe.display_product_name||"Product",className:"w-7 h-7 rounded-full object-cover border-2 border-background shadow-sm"}):n.jsx("div",{className:"w-7 h-7 rounded-full bg-muted flex items-center justify-center border-2 border-background shadow-sm",children:n.jsx(lt,{className:"h-3 w-3 text-muted-foreground"})})})]})]})})()})})},qe.id)}),it.placeholder,Ie.length===0&&!bt.isDraggingOver&&n.jsxs("div",{className:"text-center py-12 text-sm text-muted-foreground",children:[n.jsx(lt,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/30"}),"No issues"]}),Ie.length===0&&bt.isDraggingOver&&n.jsxs("div",{className:"text-center py-8 text-sm text-primary",children:[n.jsx(lt,{className:"h-10 w-10 mx-auto mb-2 text-primary/50"}),"Drop here to move to ",de]})]})})]})},de))})})}),u==="table"&&n.jsx(X,{children:n.jsx(Q,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Bt,{className:"bg-muted/50",children:[n.jsx(Pe,{className:"font-semibold",children:"Issue"}),n.jsx(Pe,{className:"font-semibold",children:"Product"}),n.jsx(Pe,{className:"font-semibold",children:"Type"}),n.jsx(Pe,{className:"font-semibold",children:"Priority"}),n.jsx(Pe,{className:"font-semibold",children:"Status"}),n.jsx(Pe,{className:"font-semibold",children:"Apartment"}),n.jsx(Pe,{className:"font-semibold",children:"Vendor"}),n.jsx(Pe,{className:"font-semibold",children:"Reported"}),n.jsx(Pe,{className:"font-semibold",children:"AI"}),n.jsx(Pe,{className:"font-semibold text-center",children:"Actions"})]})}),n.jsx($s,{children:B.length===0?n.jsx(Bt,{children:n.jsxs(Ne,{colSpan:10,className:"text-center py-12 text-muted-foreground",children:[n.jsx(Et,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/30"}),n.jsx("p",{children:"No issues found"})]})}):B.map(de=>{var bt,qe,ye;const Ie=de.priority||D[de.id],it=de.reported_on?pj(new Date,new Date(de.reported_on)):0;return n.jsxs(Bt,{className:"hover:bg-muted/50",children:[n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[fe(de.type),n.jsxs("span",{className:"font-mono text-xs text-muted-foreground",children:["#",de.id.slice(-6)]})]})}),n.jsx(Ne,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:de.display_product_name||de.product_name||((bt=de.product_details)==null?void 0:bt.product)||"Unknown"}),n.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:de.description})]})}),n.jsx(Ne,{children:n.jsx(Ce,{variant:"outline",className:"text-xs",children:de.type})}),n.jsx(Ne,{children:n.jsx(Ce,{className:G(Ie),variant:"outline",children:Ie})}),n.jsx(Ne,{children:n.jsx(Ce,{className:le(de.status),children:de.status})}),n.jsx(Ne,{children:n.jsx("span",{className:"text-sm",children:((qe=de.apartment_details)==null?void 0:qe.name)||de.apartment_name||L(de.apartment)})}),n.jsx(Ne,{children:n.jsx("span",{className:"text-sm",children:de.vendor_name||((ye=de.vendor_details)==null?void 0:ye.name)||de.vendor})}),n.jsx(Ne,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{children:de.reported_on?Xt(new Date(de.reported_on),"MMM dd, yyyy"):"Unknown"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[it,"d ago"]})]})}),n.jsx(Ne,{children:de.ai_activated?n.jsxs("div",{className:"flex items-center gap-1 text-primary",children:[n.jsx(Oa,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs",children:"Active"})]}):n.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),n.jsx(Ne,{className:"text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-1",children:[n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>Re(de),title:"View",children:n.jsx(oi,{className:"h-4 w-4"})}),n.jsx(te,{variant:"ghost",size:"sm",onClick:Ge=>ke(Ge,de),title:"Edit",children:n.jsx(Zs,{className:"h-4 w-4"})}),n.jsx(te,{variant:"ghost",size:"sm",onClick:Ge=>re(Ge,de),title:"Delete",className:"hover:text-destructive",children:n.jsx(pn,{className:"h-4 w-4"})})]})})]},de.id)})})]})})})}),u==="grid"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[B.map(de=>{var bt,qe,ye;const Ie=de.priority||D[de.id],it=de.reported_on?pj(new Date,new Date(de.reported_on)):0;return n.jsx(X,{className:"hover:shadow-lg transition-all cursor-pointer",onClick:()=>Re(de),children:n.jsxs(Q,{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[fe(de.type),n.jsx(Ce,{className:G(Ie),variant:"outline",children:Ie})]}),n.jsx(Ce,{className:le(de.status),children:de.status})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-1",children:de.display_product_name||de.product_name||((bt=de.product_details)==null?void 0:bt.product)||"Unknown"}),n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:de.description})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ce,{variant:"outline",className:"text-xs",children:((qe=de.apartment_details)==null?void 0:qe.name)||de.apartment_name||L(de.apartment)}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:de.vendor_name||((ye=de.vendor_details)==null?void 0:ye.name)||de.vendor}),de.ai_activated&&n.jsxs(Ce,{className:"text-xs bg-primary/10 text-primary border-primary/20",children:[n.jsx(Oa,{className:"h-3 w-3 mr-1"}),"AI Active"]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(wr,{className:"h-3 w-3"}),it," days ago"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:Ge=>ke(Ge,de),className:"p-1.5 rounded hover:bg-muted transition-colors",title:"Edit Issue",children:n.jsx(Zs,{className:"h-3.5 w-3.5 text-muted-foreground hover:text-primary"})}),n.jsx("button",{onClick:Ge=>re(Ge,de),className:"p-1.5 rounded hover:bg-destructive/10 transition-colors",title:"Delete Issue",children:n.jsx(pn,{className:"h-3.5 w-3.5 text-muted-foreground hover:text-destructive"})})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[de.photos&&de.photos.length>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Gi,{className:"h-3 w-3"}),de.photos.length]}),de.aiCommunicationLog&&de.aiCommunicationLog.length>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(cu,{className:"h-3 w-3"}),de.aiCommunicationLog.length]})]})]})]})},de.id)}),B.length===0&&n.jsxs("div",{className:"col-span-full text-center py-12 text-muted-foreground",children:[n.jsx(Et,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/30"}),n.jsx("p",{children:"No issues found"})]})]})]}),I&&n.jsx(gQ,{product:I,open:H,onOpenChange:F}),n.jsx(fc,{open:k,onOpenChange:P,children:n.jsxs(yl,{className:"sm:max-w-md",children:[n.jsx(jl,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(pn,{className:"h-6 w-6 text-destructive"})}),n.jsxs("div",{children:[n.jsx(wl,{className:"text-lg",children:"Delete Issue"}),n.jsx(Nl,{className:"text-sm",children:"This action cannot be undone."})]})]})}),M&&n.jsx("div",{className:"py-4",children:n.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:M.display_product_name||M.product_name||M.type||"Issue"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:[(De=M.description)==null?void 0:De.slice(0,100),M.description&&M.description.length>100?"...":""]})]})}),n.jsxs(bl,{children:[n.jsx(Sl,{disabled:K,children:"Cancel"}),n.jsx(_l,{onClick:he,disabled:K,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:K?n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(pn,{className:"h-4 w-4 mr-2"}),"Delete Issue"]})})]})]})})]})};function wtt({options:e,value:t=[],onChange:r,placeholder:s="Add status...",className:a,allowCustom:i=!1,customPlaceholder:o="Enter custom value..."}){const[l,c]=v.useState(!1),[d,u]=v.useState(""),[f,m]=v.useState(!1),h=g=>{if(g==="Other (Custom)"&&i){m(!0);return}t.includes(g)?r(t.filter(j=>j!==g)):r([...t,g])},x=()=>{d.trim()&&(r([...t,d.trim()]),u(""),m(!1),c(!1))},p=(g,j)=>{j.stopPropagation(),r(t.filter(y=>y!==g))};return n.jsxs("div",{className:ve("flex flex-col gap-2",a),children:[n.jsx("div",{className:"flex flex-wrap gap-1 min-h-[32px]",children:t.map(g=>n.jsxs(Ce,{variant:"secondary",className:"pl-2 pr-1 py-1 text-xs flex items-center gap-1",children:[g,n.jsx("button",{type:"button",className:"h-4 w-4 p-0 hover:bg-transparent inline-flex items-center justify-center rounded-sm hover:opacity-70",onClick:j=>p(g,j),children:n.jsx(ps,{className:"h-3 w-3"})})]},g))}),n.jsxs(ry,{open:l,onOpenChange:c,children:[n.jsx(ny,{asChild:!0,children:n.jsxs(te,{variant:"outline",size:"sm",className:"w-full justify-start text-left font-normal",type:"button",children:[n.jsx(Xn,{className:"mr-2 h-3 w-3"}),s]})}),n.jsx(Jp,{className:"w-[250px] p-0 max-h-[300px] overflow-hidden",align:"start",side:"bottom",children:f?n.jsxs("div",{className:"p-3 space-y-2",children:[n.jsx("input",{type:"text",value:d,onChange:g=>u(g.target.value),onKeyDown:g=>{g.key==="Enter"?x():g.key==="Escape"&&(m(!1),u(""))},placeholder:o,className:"w-full px-3 py-2 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",autoFocus:!0}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(te,{type:"button",size:"sm",onClick:x,className:"flex-1",children:"Add"}),n.jsx(te,{type:"button",size:"sm",variant:"outline",onClick:()=>{m(!1),u("")},children:"Cancel"})]})]}):n.jsx(Mu,{className:"h-full max-h-[300px]",children:n.jsx("div",{className:"p-1",children:e.map(g=>n.jsxs(Mz,{checked:t.includes(g),onCheckedChange:()=>h(g),onSelect:j=>j.preventDefault(),className:"cursor-pointer",children:[n.jsx("span",{className:"flex-1",children:g}),t.includes(g)&&n.jsx(yo,{className:"h-4 w-4 ml-2"})]},g))})})})]})]})}var mD="Checkbox",[Ntt,Mnt]=na(mD),[_tt,Stt]=Ntt(mD),uee=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[m,h]=v.useState(null),x=Rt(t,b=>h(b)),p=v.useRef(!1),g=m?u||!!m.closest("form"):!0,[j=!1,y]=$a({prop:a,defaultProp:i,onChange:d}),w=v.useRef(j);return v.useEffect(()=>{const b=m==null?void 0:m.form;if(b){const N=()=>y(w.current);return b.addEventListener("reset",N),()=>b.removeEventListener("reset",N)}},[m,y]),n.jsxs(_tt,{scope:r,state:j,disabled:l,children:[n.jsx(ft.button,{type:"button",role:"checkbox","aria-checked":hu(j)?"mixed":j,"aria-required":o,"data-state":hee(j),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onKeyDown:He(e.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:He(e.onClick,b=>{y(N=>hu(N)?!0:!N),g&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),g&&n.jsx(Ctt,{control:m,bubbles:!p.current,name:s,value:c,checked:j,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:hu(i)?!1:i})]})});uee.displayName=mD;var fee="CheckboxIndicator",mee=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,i=Stt(fee,r);return n.jsx(ls,{present:s||hu(i.state)||i.state===!0,children:n.jsx(ft.span,{"data-state":hee(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});mee.displayName=fee;var Ctt=e=>{const{control:t,checked:r,bubbles:s=!0,defaultChecked:a,...i}=e,o=v.useRef(null),l=W2(r),c=wN(t);v.useEffect(()=>{const u=o.current,f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&h){const x=new Event("click",{bubbles:s});u.indeterminate=hu(r),h.call(u,hu(r)?!1:r),u.dispatchEvent(x)}},[l,r,s]);const d=v.useRef(hu(r)?!1:r);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function hu(e){return e==="indeterminate"}function hee(e){return hu(e)?"indeterminate":e?"checked":"unchecked"}var pee=uee,Ett=mee;const dd=v.forwardRef(({className:e,...t},r)=>n.jsx(pee,{ref:r,className:ve("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(Ett,{className:ve("flex items-center justify-center text-current"),children:n.jsx(yo,{className:"h-4 w-4"})})}));dd.displayName=pee.displayName;const Att=()=>{var fe;const e=mr(),{data:t,isLoading:r}=i3(),{data:s,isLoading:a}=jm(),i=(t==null?void 0:t.results)||[],o=(s==null?void 0:s.results)||[],[l,c]=v.useState([]),[d,u]=v.useState(!1),[f,m]=v.useState(null),[h,x]=v.useState(null),[p,g]=v.useState(!1),[j,y]=v.useState(!1),[w,b]=v.useState(1),[N,S]=v.useState(null);v.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[w]);const[_,E]=v.useState({}),[A,T]=v.useState({orderId:"",apartmentId:"all",vendorId:"all",priority:"",impact:"",expectedResolution:"",replacementEta:"",resolutionType:"",resolutionNotes:"",deliveryDate:"",invoiceNumber:"",trackingNumber:"",aiActivated:!1,autoNotifyVendor:!0,photos:[]}),[R,I]=v.useState(""),z=["Other (Custom)","Broken/Damaged","Wrong Item/Color","Missing Parts","Incorrect Quantity","Poor Quality","Late Delivery","Installation Issue","Warranty Claim","Defective Product","Packaging Damage","Wrong Size/Dimensions","Expired Product","Missing Documentation","Safety Hazard"],H=[{value:"Critical",label:"Critical",color:"bg-red-500/10 text-red-600 border-red-200"},{value:"High",label:"High",color:"bg-orange-500/10 text-orange-600 border-orange-200"},{value:"Medium",label:"Medium",color:"bg-yellow-500/10 text-yellow-600 border-yellow-200"},{value:"Low",label:"Low",color:"bg-green-500/10 text-green-600 border-green-200"}],F=["Blocking Progress","Delaying Project","Partial Impact","Minor Inconvenience","No Impact"],k=["Full Replacement","Partial Replacement","Repair","Refund","Credit Note","Exchange","Other"];v.useEffect(()=>{(async()=>{u(!0);try{const ie=(await Ps.getOrders({})).results||[],we=["delivered","received","in_transit","Delivered","Received","In Transit"],ue=ie.filter(ge=>we.includes(ge.status)||ge.is_delivered);c(ue.length>0?ue:ie)}catch{c([])}finally{u(!1)}})()},[]),v.useEffect(()=>{if(!A.orderId){m(null),x(null),E({}),S(null);return}g(!0),Ps.getOrder(A.orderId).then(async B=>{var ie;if(m(B),T(we=>({...we,apartmentId:B.apartment||we.apartmentId,vendorId:B.vendor||we.vendorId,trackingNumber:B.tracking_number||""})),B.vendor)try{const we=await Mo.getVendor(B.vendor);x(we)}catch{x(null)}const Y={};(ie=B.items)==null||ie.forEach(we=>{const ue=we.id||we.product||`item-${Math.random()}`;Y[ue]={issueQuantity:we.quantity,issueTypes:[],customIssueType:"",description:""}}),E(Y),b(2)}).catch(()=>Ue.error("Failed to load order")).finally(()=>g(!1))},[A.orderId]);const P=B=>{S(Y=>Y===B?null:B)},M=(B,Y,ie)=>{E(we=>({...we,[B]:{...we[B],[Y]:ie}}))},O=B=>{const Y=_[B];return Y&&Y.issueTypes.length>0&&Y.description.trim().length>0},K=()=>Object.entries(_).filter(([B,Y])=>Y.issueTypes.length>0&&Y.description.trim().length>0).map(([B,Y])=>{var we;const ie=(we=f==null?void 0:f.items)==null?void 0:we.find(ue=>(ue.id||ue.product)===B);return{itemKey:B,productId:ie==null?void 0:ie.product,...Y,item:ie}}),ne=async B=>{var ie,we,ue,ge,xe,_e;B.preventDefault();const Y=K();if(!A.orderId||Y.length===0||!A.priority){Ue.error("Please complete all required fields");return}y(!0);try{const Re=Y.map(he=>{var je;const ce=he.issueTypes.join(", ");return{order_item:he.itemKey,product:he.productId||null,product_name:((je=he.item)==null?void 0:je.product_name)||"",quantity_affected:he.issueQuantity,issue_types:ce,description:he.description}}),ke=[...new Set(Y.flatMap(he=>he.issueTypes))].join(", "),re=Y.map(he=>{var ce,je;return`[${((ce=he.item)==null?void 0:ce.product_name)||"Product"}] ${he.description} (Qty: ${he.issueQuantity}/${((je=he.item)==null?void 0:je.quantity)||0})`}).join(`

`);await ks.createIssue({apartment:A.apartmentId,vendor:A.vendorId,order:A.orderId,product:((ie=Y[0])==null?void 0:ie.productId)||null,order_item:((we=Y[0])==null?void 0:we.itemKey)||null,product_name:Y.length===1?((ge=(ue=Y[0])==null?void 0:ue.item)==null?void 0:ge.product_name)||"":`${Y.length} Products`,type:ke,description:`Order: ${f==null?void 0:f.po_number}

${re}`,priority:A.priority,expected_resolution:A.expectedResolution||void 0,vendor_contact:(h==null?void 0:h.contact_person)||void 0,impact:A.impact||void 0,replacement_eta:A.replacementEta||void 0,ai_activated:A.aiActivated,resolution_status:"Open",resolution_type:A.resolutionType||void 0,resolution_notes:A.resolutionNotes||void 0,delivery_date:A.deliveryDate||void 0,invoice_number:A.invoiceNumber||void 0,tracking_number:A.trackingNumber||void 0,auto_notify_vendor:A.autoNotifyVendor,items_data:Re}),Ue.success(`Issue reported with ${Y.length} product(s)`),e("/issues")}catch(Re){Ue.error(((_e=(xe=Re.response)==null?void 0:xe.data)==null?void 0:_e.message)||"Failed to report issue")}finally{y(!1)}},D=B=>{const Y=Array.from(B.target.files||[]);if(Y.length+A.photos.length>10){Ue.error("Maximum 10 photos allowed");return}T(ie=>({...ie,photos:[...ie.photos,...Y]}))},U=!!f,L=K(),G=L.length>0,le=l.filter(B=>{var Y,ie,we;if(R){const ue=R.toLowerCase(),ge=(Y=B.po_number)==null?void 0:Y.toLowerCase().includes(ue),xe=(ie=B.apartment_name)==null?void 0:ie.toLowerCase().includes(ue),_e=(we=B.vendor_name)==null?void 0:we.toLowerCase().includes(ue);if(!ge&&!xe&&!_e)return!1}return!(A.apartmentId&&A.apartmentId!=="all"&&B.apartment!==A.apartmentId||A.vendorId&&A.vendorId!=="all"&&B.vendor!==A.vendorId)});return n.jsx(ct,{title:"Report New Issue",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>e("/issues"),className:"hover:bg-muted",children:n.jsx(sr,{className:"h-5 w-5"})}),n.jsx("div",{className:"flex-1",children:n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(Jn,{href:"/issues",className:"text-muted-foreground hover:text-foreground",children:"Issues"})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(ji,{className:"font-medium",children:"Report New Issue"})})]})})})]}),n.jsx(X,{className:"border-none shadow-sm",children:n.jsx(Q,{className:"py-5",children:n.jsx("div",{className:"flex items-center justify-center gap-4",children:[{n:1,l:"Select Order"},{n:2,l:"Select Products"},{n:3,l:"Issue Details"}].map((B,Y)=>n.jsxs(V.Fragment,{children:[n.jsxs("div",{className:`flex items-center gap-2 ${w>=B.n?"text-primary":"text-muted-foreground"}`,children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium border-2 ${w>=B.n?"bg-primary text-primary-foreground border-primary":"bg-muted border-muted-foreground/30"}`,children:w>B.n?n.jsx(lr,{className:"h-5 w-5"}):B.n}),n.jsx("span",{className:"font-medium hidden sm:inline",children:B.l})]}),Y<2&&n.jsx("div",{className:`w-16 h-0.5 ${w>B.n?"bg-primary":"bg-muted"}`})]},B.n))})})}),n.jsxs("form",{onSubmit:ne,children:[w===1&&n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsxs(Ve,{children:[n.jsx($n,{className:"h-5 w-5 inline mr-2"}),"Step 1: Select Order"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Search for an order by PO number, or filter by apartment/vendor to narrow down your search"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx(me,{placeholder:"Search by PO number, apartment, or vendor...",value:R,onChange:B=>I(B.target.value),className:"h-10",disabled:d})}),r?n.jsx(C,{className:"h-10 w-full sm:w-[200px]"}):n.jsxs(st,{value:A.apartmentId,onValueChange:B=>T(Y=>({...Y,apartmentId:B})),children:[n.jsx(rt,{className:"w-full sm:w-[200px]",children:n.jsx(at,{placeholder:"All apartments"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"all",children:"All apartments"}),i.map(B=>n.jsx(J,{value:B.id,children:B.name},B.id))]})]}),a?n.jsx(C,{className:"h-10 w-full sm:w-[200px]"}):n.jsxs(st,{value:A.vendorId,onValueChange:B=>T(Y=>({...Y,vendorId:B})),children:[n.jsx(rt,{className:"w-full sm:w-[200px]",children:n.jsx(at,{placeholder:"All vendors"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"all",children:"All vendors"}),o.map(B=>n.jsx(J,{value:B.id,children:B.name},B.id))]})]}),(R||A.apartmentId&&A.apartmentId!=="all"||A.vendorId&&A.vendorId!=="all")&&n.jsx(te,{type:"button",variant:"ghost",size:"icon",onClick:()=>{I(""),T(B=>({...B,apartmentId:"all",vendorId:"all"}))},title:"Clear all filters",children:n.jsx(ps,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("p",{className:"text-xs text-muted-foreground",children:d?"Loading orders...":`${le.length} order(s)`})}),n.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto pr-2",children:d?n.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(B=>n.jsx(X,{className:"animate-pulse",children:n.jsxs(Q,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[n.jsx(C,{className:"h-5 w-24"}),n.jsx(C,{className:"h-5 w-16"})]}),n.jsx(C,{className:"h-4 w-4 rounded-full"})]}),n.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[n.jsx(C,{className:"h-3 w-28"}),n.jsx(C,{className:"h-3 w-32"}),n.jsx(C,{className:"h-3 w-12"}),n.jsx(C,{className:"h-3 w-16"})]})]})},B))}):le.length===0?n.jsx(X,{className:"border-dashed",children:n.jsxs(Q,{className:"p-8 text-center",children:[n.jsx($n,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),n.jsx("p",{className:"text-muted-foreground",children:R||A.apartmentId!=="all"||A.vendorId!=="all"?"No orders match your search/filters":"No orders found"})]})}):le.map(B=>n.jsx(X,{className:ve("cursor-pointer transition-all hover:shadow-sm",A.orderId===B.id?"ring-2 ring-primary border-primary bg-primary/5":"hover:border-primary/50"),onClick:()=>{T(Y=>({...Y,orderId:B.id}))},children:n.jsxs(Q,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("h4",{className:"font-semibold text-base",children:B.po_number}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:B.status})]}),A.orderId===B.id&&n.jsx(lr,{className:"h-4 w-4 text-primary flex-shrink-0"})]}),n.jsxs("div",{className:"flex items-center gap-4 mt-1.5 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1 truncate",children:[n.jsx(fr,{className:"h-3 w-3 flex-shrink-0"}),B.apartment_name]}),n.jsxs("span",{className:"flex items-center gap-1 truncate",children:[n.jsx(La,{className:"h-3 w-3 flex-shrink-0"}),B.vendor_name]}),n.jsxs("span",{className:"flex items-center gap-1 flex-shrink-0",children:[n.jsx(lt,{className:"h-3 w-3"}),B.items_count]}),n.jsxs("span",{className:"font-medium text-foreground flex-shrink-0",children:["",Number(B.total).toFixed(2)]})]})]})},B.id))}),p&&n.jsx("div",{className:"space-y-3 mt-4",children:n.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Ht,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{children:"Loading order details..."})]})}),n.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>e("/issues"),children:"Cancel"}),n.jsxs(te,{type:"button",onClick:()=>{b(2),window.scrollTo({top:0,behavior:"smooth"})},disabled:!U,children:["Next",n.jsx(Bb,{className:"h-4 w-4 ml-2"})]})]})]})]}),w===2&&!f&&p&&n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2 flex-1",children:[n.jsx(C,{className:"h-6 w-48"}),n.jsx(C,{className:"h-4 w-64"})]}),n.jsx(C,{className:"h-6 w-16"})]})}),n.jsxs(Q,{className:"space-y-3",children:[n.jsx(C,{className:"h-4 w-full"}),n.jsx("div",{className:"space-y-2",children:[1,2,3].map(B=>n.jsx("div",{className:"border rounded-lg p-2 animate-pulse",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"w-12 h-12 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-4 w-16"})]}),n.jsx(C,{className:"h-3 w-24"})]}),n.jsx(C,{className:"h-5 w-5 rounded-full"})]})},B))}),n.jsxs("div",{className:"flex justify-between pt-4",children:[n.jsx(C,{className:"h-10 w-24"}),n.jsx(C,{className:"h-10 w-32"})]})]})]}),w===2&&f&&n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Ve,{className:"text-lg font-semibold",children:"Select Products with Issues"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[f.po_number,"  ",f.vendor_name,"  ",((fe=f.items)==null?void 0:fe.length)||0," items"]})]}),n.jsxs(Ce,{variant:L.length>0?"default":"outline",className:"text-xs",children:[L.length," ready"]})]})}),n.jsxs(Q,{className:"space-y-3",children:[n.jsx("p",{className:"text-xs text-muted-foreground border-l-2 border-primary pl-2",children:"Click products to report issues. Fill in the form to include them in your report."}),n.jsx("div",{className:"space-y-2 max-h-[550px] overflow-y-auto pr-1",children:!f.items||f.items.length===0?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(B=>n.jsx("div",{className:"border rounded-lg p-2 animate-pulse",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"w-12 h-12 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-4 w-16"})]}),n.jsx(C,{className:"h-3 w-24"})]}),n.jsx(C,{className:"h-5 w-5 rounded-full"})]})},B))}):f.items.map(B=>{const Y=B.id||B.product||`item-${Math.random()}`,ie=N===Y,we=_[Y],ue=O(Y);return n.jsxs("div",{className:ve("border rounded-lg overflow-hidden transition-all",ie&&"ring-1 ring-primary border-primary",ue&&!ie&&"border-green-500 bg-green-50/30 dark:bg-green-950/10"),children:[n.jsx("div",{className:ve("p-2 cursor-pointer hover:bg-muted/30 transition-colors",ie&&"bg-muted/50"),onClick:()=>P(Y),children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative flex-shrink-0",children:[B.product_image?n.jsx("img",{src:B.product_image,alt:B.product_name||"Product",className:"w-12 h-12 rounded object-cover border"}):n.jsx("div",{className:"w-12 h-12 rounded flex items-center justify-center border bg-muted",children:n.jsx(lt,{className:"h-5 w-5 text-muted-foreground"})}),ue&&n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:n.jsx(lr,{className:"h-2.5 w-2.5 text-white"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("h4",{className:"font-semibold text-sm truncate",children:B.product_name||"Unknown Product"}),n.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[n.jsx(Ce,{variant:"outline",className:"text-xs px-1.5 py-0",children:B.quantity}),n.jsxs("span",{className:"text-xs font-semibold",children:["",Number(B.total_price).toFixed(2)]})]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-0.5",children:[n.jsxs("span",{className:"text-xs text-muted-foreground truncate",children:[B.sku||"N/A","  ",Number(B.unit_price).toFixed(2)]}),!ie&&ue&&we&&n.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[we.issueTypes.slice(0,2).map(ge=>n.jsx(Ce,{variant:"secondary",className:"text-[10px] px-1 py-0",children:ge},ge)),we.issueTypes.length>2&&n.jsxs(Ce,{variant:"secondary",className:"text-[10px] px-1 py-0",children:["+",we.issueTypes.length-2]})]})]})]}),n.jsx("div",{className:"flex-shrink-0",children:ie?n.jsx(vN,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Du,{className:"h-4 w-4 text-muted-foreground"})})]})}),ie&&we&&n.jsx("div",{className:"p-3 pt-0 border-t bg-gradient-to-b from-muted/20 to-muted/40 animate-in slide-in-from-top-2 duration-300",children:n.jsxs("div",{className:"space-y-3 pt-3",children:[n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background border border-border/50 hover:border-primary/50 transition-all duration-200 hover:shadow-md",children:[n.jsxs(q,{htmlFor:`qty-${Y}`,className:"flex items-center gap-1.5 text-xs font-semibold",children:[n.jsx(gse,{className:"h-3.5 w-3.5 text-primary"}),"Quantity Affected *"]}),n.jsx(me,{id:`qty-${Y}`,type:"number",min:1,max:B.quantity,value:we.issueQuantity,onChange:ge=>M(Y,"issueQuantity",parseInt(ge.target.value)||1),className:"h-9 bg-background border-border/50 focus:border-primary focus:ring-1 focus:ring-primary transition-all"},`qty-${Y}`),n.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Out of ",B.quantity," ordered"]})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background border border-border/50 hover:border-primary/50 transition-all duration-200 hover:shadow-md",children:[n.jsxs(q,{className:"flex items-center gap-1.5 text-xs font-semibold",children:[n.jsx(dl,{className:"h-3.5 w-3.5 text-orange-500"}),"Issue Type(s) *"]}),n.jsx(wtt,{options:z,value:we.issueTypes,onChange:ge=>M(Y,"issueTypes",ge),placeholder:"Select issue types",allowCustom:!0,customPlaceholder:"Enter your custom issue type..."},`types-${Y}`)]})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background border border-border/50 hover:border-primary/50 transition-all duration-200 hover:shadow-md",children:[n.jsxs(q,{htmlFor:`desc-${Y}`,className:"flex items-center gap-1.5 text-xs font-semibold",children:[n.jsx($n,{className:"h-3.5 w-3.5 text-primary"}),"Issue Description *"]}),n.jsxs("div",{className:"relative",children:[n.jsx(Sn,{id:`desc-${Y}`,value:we.description,onChange:ge=>M(Y,"description",ge.target.value),placeholder:"Describe the issue in detail. Include any relevant information such as when you noticed the issue, specific damage locations, etc.",rows:3,className:"bg-background border-0 focus:ring-0 focus:outline-none transition-all resize-none text-sm pr-10"},`desc-${Y}`),n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(XK,{text:we.description,onTextEnhanced:ge=>M(Y,"description",ge),variant:"ghost",size:"sm"})})]}),n.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[we.description.length," characters"]})]}),n.jsx("div",{className:ve("p-2.5 rounded-lg flex items-center gap-2 text-xs font-medium border transition-all duration-300",ue?"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-950/30 dark:to-green-900/30 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800 shadow-sm animate-in fade-in zoom-in duration-300":"bg-gradient-to-r from-yellow-50 to-yellow-100 dark:from-yellow-950/30 dark:to-yellow-900/30 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800"),children:ue?n.jsxs(n.Fragment,{children:[n.jsx(lr,{className:"h-3.5 w-3.5 animate-in zoom-in duration-300"}),"Issue details complete - will be included in report"]}):n.jsxs(n.Fragment,{children:[n.jsx(Et,{className:"h-4 w-4"}),"Please fill in issue type(s) and description to include this product"]})})]})})]},Y)})}),n.jsxs("div",{className:"flex justify-between pt-4",children:[n.jsxs(te,{type:"button",variant:"outline",onClick:()=>{T(B=>({...B,apartmentId:"all",vendorId:"all"})),b(1),window.scrollTo({top:0,behavior:"smooth"})},children:[n.jsx(sr,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>e("/issues"),children:"Cancel"}),n.jsxs(te,{type:"button",onClick:()=>{b(3),window.scrollTo({top:0,behavior:"smooth"})},disabled:!G,children:["Next: Issue Details",n.jsx(Bb,{className:"h-4 w-4 ml-2"})]})]})]})]})]}),w===3&&!f&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[n.jsxs(X,{className:"animate-pulse",children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-48"})}),n.jsxs(Q,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full"})]})]})]}),n.jsxs(X,{className:"animate-pulse",children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-40"})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-24 w-full"})]})]})]})]}),n.jsx("div",{className:"space-y-6",children:n.jsxs(X,{className:"animate-pulse",children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-36"})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsx(C,{className:"h-20 w-full rounded-lg"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-full"}),n.jsx(C,{className:"h-4 w-3/4"})]})]})]})})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"h-10 w-24"}),n.jsx(C,{className:"h-10 w-32"})]})]}),w===3&&f&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{children:[n.jsx(dl,{className:"h-5 w-5 inline mr-2"}),"Priority & Impact"]})}),n.jsxs(Q,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Priority *"}),n.jsxs(st,{value:A.priority,onValueChange:B=>T(Y=>({...Y,priority:B})),children:[n.jsx(rt,{children:n.jsx(at,{placeholder:"Select priority"})}),n.jsx(nt,{children:H.map(B=>n.jsx(J,{value:B.value,children:n.jsx(Ce,{className:B.color,children:B.label})},B.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Impact"}),n.jsxs(st,{value:A.impact,onValueChange:B=>T(Y=>({...Y,impact:B})),children:[n.jsx(rt,{children:n.jsx(at,{placeholder:"Select impact"})}),n.jsx(nt,{children:F.map(B=>n.jsx(J,{value:B,children:B},B))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{children:[n.jsx(on,{className:"h-4 w-4 inline mr-1"}),"Expected Resolution"]}),n.jsx(me,{type:"date",value:A.expectedResolution,onChange:B=>T(Y=>({...Y,expectedResolution:B.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{children:[n.jsx(_r,{className:"h-4 w-4 inline mr-1"}),"Replacement ETA"]}),n.jsx(me,{type:"date",value:A.replacementEta,onChange:B=>T(Y=>({...Y,replacementEta:B.target.value}))})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{children:[n.jsx(lr,{className:"h-5 w-5 inline mr-2"}),"Resolution"]})}),n.jsxs(Q,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Resolution Type"}),n.jsxs(st,{value:A.resolutionType,onValueChange:B=>T(Y=>({...Y,resolutionType:B})),children:[n.jsx(rt,{children:n.jsx(at,{placeholder:"Select type"})}),n.jsx(nt,{children:k.map(B=>n.jsx(J,{value:B,children:B},B))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Notes"}),n.jsx(me,{value:A.resolutionNotes,onChange:B=>T(Y=>({...Y,resolutionNotes:B.target.value}))})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{children:[n.jsx(Ki,{className:"h-5 w-5 inline mr-2"}),"Photos"]})}),n.jsxs(Q,{children:[n.jsxs(te,{type:"button",variant:"outline",onClick:()=>{var B;return(B=document.getElementById("photos"))==null?void 0:B.click()},children:[n.jsx(Ki,{className:"h-4 w-4 mr-2"}),"Upload (max 10)"]}),n.jsx("input",{id:"photos",type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:D}),A.photos.length>0&&n.jsx("div",{className:"grid grid-cols-3 gap-2 mt-4",children:A.photos.map((B,Y)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:URL.createObjectURL(B),className:"w-full h-20 object-cover rounded"}),n.jsx("button",{type:"button",onClick:()=>T(ie=>({...ie,photos:ie.photos.filter((we,ue)=>ue!==Y)})),className:"absolute -top-2 -right-2 bg-destructive text-white rounded-full p-1",children:n.jsx(ps,{className:"h-3 w-3"})})]},Y))})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(dd,{id:"ai",checked:A.aiActivated,onCheckedChange:B=>T(Y=>({...Y,aiActivated:B}))}),n.jsx(q,{htmlFor:"ai",children:"Enable AI-assisted communication"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(dd,{id:"notify",checked:A.autoNotifyVendor,onCheckedChange:B=>T(Y=>({...Y,autoNotifyVendor:B}))}),n.jsx(q,{htmlFor:"notify",children:"Auto-notify vendor"})]})]})]}),n.jsxs("div",{className:"space-y-6 lg:col-span-1",children:[h&&n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{children:[n.jsx(os,{className:"h-5 w-5 inline mr-2"}),"Vendor Contact"]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Contact Person"}),n.jsx("div",{className:"p-2 bg-muted rounded-md text-sm",children:h.contact_person||"Not specified"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{children:[n.jsx(gn,{className:"h-4 w-4 inline mr-1"}),"Email"]}),n.jsx("div",{className:"p-2 bg-muted rounded-md text-sm",children:h.email||"Not specified"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{children:[n.jsx(ko,{className:"h-4 w-4 inline mr-1"}),"Phone"]}),n.jsx("div",{className:"p-2 bg-muted rounded-md text-sm",children:h.phone||"Not specified"})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{children:[n.jsx(m7,{className:"h-5 w-5 inline mr-2"}),"Additional Info"]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Delivery Date"}),n.jsx(me,{type:"date",value:A.deliveryDate,onChange:B=>T(Y=>({...Y,deliveryDate:B.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Invoice #"}),n.jsx(me,{value:A.invoiceNumber,onChange:B=>T(Y=>({...Y,invoiceNumber:B.target.value}))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{children:["Tracking # ",n.jsx("span",{className:"text-xs text-muted-foreground",children:"(from Order)"})]}),n.jsx(me,{value:A.trackingNumber||(f==null?void 0:f.tracking_number)||"",readOnly:!0,disabled:!0,className:"bg-muted cursor-not-allowed",placeholder:"Auto-filled from order"})]})]})]})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(te,{type:"button",variant:"outline",onClick:()=>{b(2),window.scrollTo({top:0,behavior:"smooth"})},children:[n.jsx(sr,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>e("/issues"),children:"Cancel"}),n.jsx(te,{type:"submit",disabled:j,children:j?n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):`Report ${L.length} Issue(s)`})]})]})]})]})]})})};var hD="Collapsible",[Ptt,xee]=na(hD),[ktt,pD]=Ptt(hD),gee=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c=!1,d]=$a({prop:s,defaultProp:a,onChange:o});return n.jsx(ktt,{scope:r,disabled:i,contentId:ci(),open:c,onOpenToggle:v.useCallback(()=>d(u=>!u),[d]),children:n.jsx(ft.div,{"data-state":gD(c),"data-disabled":i?"":void 0,...l,ref:t})})});gee.displayName=hD;var vee="CollapsibleTrigger",yee=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,...s}=e,a=pD(vee,r);return n.jsx(ft.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":gD(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:He(e.onClick,a.onOpenToggle)})});yee.displayName=vee;var xD="CollapsibleContent",jee=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=pD(xD,e.__scopeCollapsible);return n.jsx(ls,{present:r||a.open,children:({present:i})=>n.jsx(Ttt,{...s,ref:t,present:i})})});jee.displayName=xD;var Ttt=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:s,children:a,...i}=e,o=pD(xD,r),[l,c]=v.useState(s),d=v.useRef(null),u=Rt(t,d),f=v.useRef(0),m=f.current,h=v.useRef(0),x=h.current,p=o.open||l,g=v.useRef(p),j=v.useRef();return v.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),is(()=>{const y=d.current;if(y){j.current=j.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();f.current=w.height,h.current=w.width,g.current||(y.style.transitionDuration=j.current.transitionDuration,y.style.animationName=j.current.animationName),c(s)}},[o.open,s]),n.jsx(ft.div,{"data-state":gD(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:p&&a})});function gD(e){return e?"open":"closed"}var Ott=gee,Dtt=yee,Itt=jee,yd="Accordion",Rtt=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[vD,Mtt,Ftt]=Rv(yd),[f_,Fnt]=na(yd,[Ftt,xee]),yD=xee(),bee=V.forwardRef((e,t)=>{const{type:r,...s}=e,a=s,i=s;return n.jsx(vD.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?n.jsx(Utt,{...i,ref:t}):n.jsx(Btt,{...a,ref:t})})});bee.displayName=yd;var[wee,$tt]=f_(yd),[Nee,Ltt]=f_(yd,{collapsible:!1}),Btt=V.forwardRef((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=$a({prop:r,defaultProp:s,onChange:a});return n.jsx(wee,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:V.useCallback(()=>i&&c(""),[i,c]),children:n.jsx(Nee,{scope:e.__scopeAccordion,collapsible:i,children:n.jsx(_ee,{...o,ref:t})})})}),Utt=V.forwardRef((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},...i}=e,[o=[],l]=$a({prop:r,defaultProp:s,onChange:a}),c=V.useCallback(u=>l((f=[])=>[...f,u]),[l]),d=V.useCallback(u=>l((f=[])=>f.filter(m=>m!==u)),[l]);return n.jsx(wee,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:n.jsx(Nee,{scope:e.__scopeAccordion,collapsible:!0,children:n.jsx(_ee,{...i,ref:t})})})}),[Vtt,m_]=f_(yd),_ee=V.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:s,dir:a,orientation:i="vertical",...o}=e,l=V.useRef(null),c=Rt(l,t),d=Mtt(r),f=fm(a)==="ltr",m=He(e.onKeyDown,h=>{var E;if(!Rtt.includes(h.key))return;const x=h.target,p=d().filter(A=>{var T;return!((T=A.ref.current)!=null&&T.disabled)}),g=p.findIndex(A=>A.ref.current===x),j=p.length;if(g===-1)return;h.preventDefault();let y=g;const w=0,b=j-1,N=()=>{y=g+1,y>b&&(y=w)},S=()=>{y=g-1,y<w&&(y=b)};switch(h.key){case"Home":y=w;break;case"End":y=b;break;case"ArrowRight":i==="horizontal"&&(f?N():S());break;case"ArrowDown":i==="vertical"&&N();break;case"ArrowLeft":i==="horizontal"&&(f?S():N());break;case"ArrowUp":i==="vertical"&&S();break}const _=y%j;(E=p[_].ref.current)==null||E.focus()});return n.jsx(Vtt,{scope:r,disabled:s,direction:a,orientation:i,children:n.jsx(vD.Slot,{scope:r,children:n.jsx(ft.div,{...o,"data-orientation":i,ref:c,onKeyDown:s?void 0:m})})})}),Qw="AccordionItem",[ztt,jD]=f_(Qw),See=V.forwardRef((e,t)=>{const{__scopeAccordion:r,value:s,...a}=e,i=m_(Qw,r),o=$tt(Qw,r),l=yD(r),c=ci(),d=s&&o.value.includes(s)||!1,u=i.disabled||e.disabled;return n.jsx(ztt,{scope:r,open:d,disabled:u,triggerId:c,children:n.jsx(Ott,{"data-orientation":i.orientation,"data-state":Tee(d),...l,...a,ref:t,disabled:u,open:d,onOpenChange:f=>{f?o.onItemOpen(s):o.onItemClose(s)}})})});See.displayName=Qw;var Cee="AccordionHeader",Eee=V.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=m_(yd,r),i=jD(Cee,r);return n.jsx(ft.h3,{"data-orientation":a.orientation,"data-state":Tee(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:t})});Eee.displayName=Cee;var NP="AccordionTrigger",Aee=V.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=m_(yd,r),i=jD(NP,r),o=Ltt(NP,r),l=yD(r);return n.jsx(vD.ItemSlot,{scope:r,children:n.jsx(Dtt,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...s,ref:t})})});Aee.displayName=NP;var Pee="AccordionContent",kee=V.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=m_(yd,r),i=jD(Pee,r),o=yD(r);return n.jsx(Itt,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});kee.displayName=Pee;function Tee(e){return e?"open":"closed"}var Wtt=bee,Htt=See,qtt=Eee,Oee=Aee,Dee=kee;const Gtt=Wtt,Iee=v.forwardRef(({className:e,...t},r)=>n.jsx(Htt,{ref:r,className:ve("border-b",e),...t}));Iee.displayName="AccordionItem";const Ree=v.forwardRef(({className:e,children:t,...r},s)=>n.jsx(qtt,{className:"flex",children:n.jsxs(Oee,{ref:s,className:ve("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,n.jsx(Du,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Ree.displayName=Oee.displayName;const Mee=v.forwardRef(({className:e,children:t,...r},s)=>n.jsx(Dee,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:n.jsx("div",{className:ve("pb-4 pt-0",e),children:t})}));Mee.displayName=Dee.displayName;function Ktt({issue:e,onUpdateIssue:t}){const[r,s]=v.useState(""),[a,i]=v.useState(!1),[o,l]=v.useState([]),[c,d]=v.useState(!0),u=x=>{const p=(x||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`);if(!p.trim())return{main:"",quoted:""};const g=[],j=p.search(/\nOn\s.+\swrote:\s*\n/i);j!==-1&&g.push({idx:j});const y=p.search(/\nFrom:\s.+\nSent:\s.+\nTo:\s.+\nSubject:\s.+\n/i);y!==-1&&g.push({idx:y});const w=p.search(/\n>\s?/);if(w!==-1&&g.push({idx:w}),g.length===0)return{main:p.trim(),quoted:""};const b=Math.min(...g.map(_=>_.idx)),N=p.slice(0,b).trim(),S=p.slice(b).trim();return{main:N,quoted:S}};v.useEffect(()=>{let x=!1,p;const g=async j=>{try{j&&d(!0);const y=await ks.getConversation(e.id);x||l(y.conversation||[])}catch(y){j&&(console.error("Failed to fetch conversation:",y),Ue.error("Failed to load conversation"))}finally{j&&!x&&d(!1)}};return g(!0),p=window.setInterval(()=>{g(!1)},8e3),()=>{x=!0,p&&window.clearInterval(p)}},[e.id]);const f=async()=>{var x,p,g;if(r.trim()){i(!0);try{await ks.sendManualMessage(e.id,{subject:`Re: Issue #${e.id}`,message:r,to_email:((x=e.vendor_details)==null?void 0:x.email)||""});const j=await ks.getConversation(e.id);l(j.conversation||[]),s(""),Ue.success("Message sent to vendor successfully")}catch(j){console.error("Failed to send message:",j),Ue.error(((g=(p=j.response)==null?void 0:p.data)==null?void 0:g.message)||"Failed to send message to vendor")}finally{i(!1)}}},h=(()=>{const x=o||[],p=x.filter(y=>y.sender==="AI").length,g=x.filter(y=>y.sender==="Vendor").length,j=x.filter(y=>y.sender==="System"||y.sender==="Admin").length;return{total:x.length,aiMessages:p,vendorMessages:g,systemMessages:j}})();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(X,{children:n.jsxs(Q,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(cu,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-2xl font-bold",children:h.total})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Total Messages"})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Oa,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-2xl font-bold",children:h.aiMessages})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"AI Messages"})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(os,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-2xl font-bold",children:h.vendorMessages})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Vendor Replies"})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Et,{className:"h-4 w-4 text-warning"}),n.jsx("span",{className:"text-2xl font-bold",children:h.systemMessages})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"System Notes"})]})})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(cu,{className:"h-5 w-5"}),"Communication Log"]}),n.jsx(Dr,{children:e.ai_activated?"AI is actively managing this conversation with the vendor":"Manual conversation tracking"})]}),e.ai_activated&&n.jsxs(Ce,{variant:"default",className:"gap-1",children:[n.jsx(Ec,{className:"h-3 w-3"}),"AI Active"]})]})}),n.jsxs(Q,{children:[c?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Ht,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsx(Mu,{className:"h-[500px] pr-4",children:n.jsxs("div",{className:"space-y-4",children:[o&&o.length>0?o.map((x,p)=>{const g=x.message.toLowerCase().includes("please arrange")||x.message.toLowerCase().includes("action required")||x.message.toLowerCase().includes("human action");return n.jsxs("div",{className:ve("flex gap-3 p-4 rounded-lg border transition-all",x.sender==="AI"&&"bg-primary/5 border-primary/20",x.sender==="Vendor"&&"bg-muted border-border",x.sender==="System"&&"bg-accent/50 border-accent",g&&"border-2 border-warning shadow-md"),children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:n.jsx("div",{className:ve("w-8 h-8 rounded-full flex items-center justify-center",x.sender==="AI"&&"bg-primary text-primary-foreground",x.sender==="Vendor"&&"bg-muted-foreground text-background",x.sender==="System"&&"bg-warning text-warning-foreground"),children:x.sender==="AI"?n.jsx(Oa,{className:"h-4 w-4"}):x.sender==="Vendor"?n.jsx(os,{className:"h-4 w-4"}):n.jsx(Et,{className:"h-4 w-4"})})}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ce,{variant:x.sender==="AI"?"default":"outline",className:ve("text-xs",g&&"bg-warning text-warning-foreground"),children:x.sender}),g&&n.jsxs(Ce,{variant:"outline",className:"text-xs bg-warning/10 text-warning border-warning/50",children:[n.jsx(Et,{className:"h-3 w-3 mr-1"}),"Action Required"]}),x.message_type==="email"&&n.jsx(Ce,{variant:"outline",className:"text-xs",children:"Email"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(x.timestamp).toLocaleString()})]}),x.subject&&n.jsx("p",{className:"text-sm font-semibold text-foreground",children:x.subject}),(()=>{const j=x.message_type==="email"||!!x.subject,{main:y,quoted:w}=j?u(x.message):{main:x.message,quoted:""};return n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:ve("text-sm whitespace-pre-wrap leading-relaxed",g&&"font-medium"),children:y}),w&&n.jsx(Gtt,{type:"single",collapsible:!0,children:n.jsxs(Iee,{value:"quoted",children:[n.jsx(Ree,{className:"py-2 text-xs text-muted-foreground hover:no-underline",children:"Replied to previous email"}),n.jsx(Mee,{children:n.jsx("div",{className:"text-xs text-muted-foreground whitespace-pre-wrap leading-relaxed",children:w})})]})})]})})()]})]},p)}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx(cu,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No messages yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Start by adding a message below"})]}),a&&n.jsxs("div",{className:"flex gap-3 p-4 rounded-lg border bg-primary/5 border-primary/20",children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-primary text-primary-foreground",children:n.jsx(Oa,{className:"h-4 w-4 animate-pulse"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Ce,{variant:"default",className:"text-xs mb-2",children:"AI"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"AI is processing..."})]})]})]})}),n.jsxs("div",{className:"flex gap-2 mt-4",children:[n.jsx(me,{placeholder:"Add a message to the log...",value:r,onChange:x=>s(x.target.value),onKeyPress:x=>x.key==="Enter"&&f()}),n.jsx(te,{onClick:f,size:"icon",children:n.jsx(x7,{className:"h-4 w-4"})})]})]})]})]})}function Ytt({photos:e,onAddPhoto:t}){const[r,s]=v.useState(null),a=i=>{var l;const o=(l=i.target.files)==null?void 0:l[0];if(o){const c=new FileReader;c.onloadend=()=>{t({id:`photo-${Date.now()}`,url:c.result,uploadedAt:new Date().toISOString()})},c.readAsDataURL(o)}};return n.jsxs(n.Fragment,{children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Gi,{className:"h-5 w-5"}),"Issue Photos"]}),n.jsx(Dr,{children:"Visual documentation of the issue"})]}),n.jsxs(te,{variant:"outline",size:"sm",onClick:()=>{var i;return(i=document.getElementById("photo-upload"))==null?void 0:i.click()},children:[n.jsx(Ki,{className:"h-4 w-4 mr-2"}),"Upload Photo"]}),n.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",className:"hidden",onChange:a})]})}),n.jsx(Q,{children:e.length>0?n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(i=>n.jsxs("div",{className:"relative group aspect-square rounded-lg overflow-hidden border cursor-pointer hover:shadow-lg transition-all",onClick:()=>s(i.url),children:[n.jsx("img",{src:i.url,alt:"Issue photo",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all flex items-center justify-center",children:n.jsx(Dse,{className:"h-6 w-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},i.id))}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center border-2 border-dashed rounded-lg",children:[n.jsx(Gi,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"No photos uploaded yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Upload photos to document the issue"}),n.jsxs(te,{variant:"outline",onClick:()=>{var i;return(i=document.getElementById("photo-upload"))==null?void 0:i.click()},children:[n.jsx(Ki,{className:"h-4 w-4 mr-2"}),"Upload First Photo"]})]})})]}),n.jsx(Pn,{open:!!r,onOpenChange:()=>s(null),children:n.jsxs(vn,{className:"max-w-4xl",children:[n.jsx(kn,{children:n.jsx(Tn,{children:"Photo Preview"})}),r&&n.jsx("img",{src:r,alt:"Full size preview",className:"w-full h-auto rounded-lg"})]})})]})}function Xtt({issue:e,product:t}){const r=[{id:1,timestamp:e.reportedOn,icon:Et,title:"Issue Reported",description:`${e.type} issue reported for ${t.product}`,color:"text-destructive"},...t.orderedOn?[{id:2,timestamp:t.orderedOn,icon:lt,title:"Product Ordered",description:`Order placed with ${e.vendor}`,color:"text-primary"}]:[],...t.actualDeliveryDate?[{id:3,timestamp:t.actualDeliveryDate,icon:_r,title:"Product Delivered",description:"Product delivered to location",color:"text-primary"}]:[],...e.aiActivated?[{id:4,timestamp:e.reportedOn,icon:cu,title:"AI Chatbot Activated",description:"AI started vendor communication",color:"text-primary"}]:[],...e.aiCommunicationLog&&e.aiCommunicationLog.length>0?e.aiCommunicationLog.map((s,a)=>({id:100+a,timestamp:s.timestamp,icon:s.sender==="AI"?cu:s.sender==="Vendor"?lt:Et,title:`${s.sender} Message`,description:s.message.substring(0,100)+(s.message.length>100?"...":""),color:s.sender==="AI"?"text-primary":"text-muted-foreground"})):[],...e.resolutionStatus==="Closed"?[{id:999,timestamp:new Date().toISOString(),icon:lr,title:"Issue Resolved",description:"Issue has been successfully resolved",color:"text-success"}]:[]].sort((s,a)=>new Date(s.timestamp).getTime()-new Date(a.timestamp).getTime());return n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5"}),"Issue Timeline"]}),n.jsx(Dr,{children:"Complete history of this issue"})]}),n.jsx(Q,{children:n.jsxs("div",{className:"relative space-y-6",children:[n.jsx("div",{className:"absolute left-4 top-2 bottom-2 w-0.5 bg-border"}),r.map((s,a)=>{const i=s.icon;return n.jsxs("div",{className:"relative flex gap-4",children:[n.jsx("div",{className:ve("relative z-10 w-8 h-8 rounded-full flex items-center justify-center bg-background border-2",s.color==="text-destructive"&&"border-destructive",s.color==="text-primary"&&"border-primary",s.color==="text-success"&&"border-success",s.color==="text-muted-foreground"&&"border-muted-foreground"),children:n.jsx(i,{className:ve("h-4 w-4",s.color)})}),n.jsxs("div",{className:"flex-1 pb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h4",{className:"font-semibold",children:s.title}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:new Date(s.timestamp).toLocaleString()})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]})]},s.id)})]})})]})}function Qtt({issue:e,vendor:t,onUpdateIssue:r}){const[s,a]=v.useState(e.ai_activated||!1),[i,o]=v.useState(e.status||"Open");v.useEffect(()=>{a(e.ai_activated||!1),o(e.status||"Open")},[e.ai_activated,e.status]);const l=async()=>{var u,f;const d=!s;a(d);try{if(d){const m=await ks.activateAIEmail(e.id);if((u=m.data)!=null&&u.success)r({ai_activated:!0}),Ue.success("AI Chatbot activated and email sent to vendor");else throw new Error(((f=m.data)==null?void 0:f.message)||"Failed to activate AI")}else await ks.updateIssue(e.id,{ai_activated:!1}),r({ai_activated:!1}),Ue.info("AI Chatbot paused")}catch(m){console.error("Failed to toggle AI:",m),Ue.error(m.message||"Failed to update AI status"),a(!d)}},c=async d=>{o(d);try{await ks.updateIssue(e.id,{status:d}),r({status:d}),Ue.success("Status updated")}catch(u){console.error("Failed to update status:",u),Ue.error("Failed to update status"),o(e.status||"Open")}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Oa,{className:"h-5 w-5"}),"AI Resolution"]}),n.jsx(Dr,{children:"Automate vendor communication"})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/30",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(q,{htmlFor:"ai-toggle",className:"text-base font-semibold cursor-pointer",children:"AI Chatbot"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:s?"Active":"Inactive"})]}),n.jsx(Vn,{id:"ai-toggle",checked:s,onCheckedChange:l})]}),s&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[n.jsx(p7,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:"AI is monitoring this issue"})]}),n.jsxs(te,{variant:"outline",size:"sm",className:"w-full",onClick:()=>Ue.info("AI settings opened"),children:[n.jsx(Bv,{className:"h-4 w-4 mr-2"}),"Configure AI Behavior"]})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(lr,{className:"h-5 w-5"}),"Resolution Status"]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Current Status"}),n.jsxs(st,{value:i,onValueChange:c,children:[n.jsx(rt,{children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"Open",children:"Open"}),n.jsx(J,{value:"Pending Vendor Response",children:"Pending Vendor Response"}),n.jsx(J,{value:"Resolution Agreed",children:"Resolution Agreed"}),n.jsx(J,{value:"Closed",children:"Closed"})]})]})]}),i==="Closed"&&n.jsx("div",{className:"p-3 bg-success/10 border border-success/20 rounded-lg",children:n.jsxs("p",{className:"text-sm text-success flex items-center gap-2",children:[n.jsx(lr,{className:"h-4 w-4"}),"Issue has been resolved"]})})]})]}),t&&n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Vendor Contact"}),n.jsx(Dr,{children:t.companyName||t.name})]}),n.jsxs(Q,{className:"space-y-3",children:[t.email&&n.jsxs("a",{href:`mailto:${t.email}`,className:"flex items-center gap-2 text-sm hover:text-primary transition-colors",children:[n.jsx(gn,{className:"h-4 w-4"}),t.email]}),t.phone&&n.jsxs("a",{href:`tel:${t.phone}`,className:"flex items-center gap-2 text-sm hover:text-primary transition-colors",children:[n.jsx(ko,{className:"h-4 w-4"}),t.phone]}),t.website&&n.jsxs("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm hover:text-primary transition-colors",children:[n.jsx(tc,{className:"h-4 w-4"}),"Visit Website"]}),n.jsx($t,{}),n.jsxs(te,{variant:"outline",size:"sm",className:"w-full",children:[n.jsx(gn,{className:"h-4 w-4 mr-2"}),"Send Manual Email"]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{children:"Quick Actions"})}),n.jsxs(Q,{className:"space-y-2",children:[n.jsx(te,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>Ue.info("Replacement request sent"),children:"Request Replacement"}),n.jsx(te,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>Ue.info("Refund request sent"),children:"Request Refund"}),n.jsx(te,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>Ue.info("Escalation triggered"),children:"Escalate to Manager"})]})]})]})}function Ztt(){return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-8 w-48"}),n.jsx(C,{className:"h-4 w-32"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-24 rounded-full"})]})]})}function Jtt(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-48"})]}),n.jsx(C,{className:"h-4 w-40"})]}),n.jsx(C,{className:"h-6 w-24 rounded-full"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-4 w-full"}),n.jsx(C,{className:"h-4 w-full"}),n.jsx(C,{className:"h-4 w-3/4"})]}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-20"}),n.jsx(C,{className:"h-6 w-24 rounded-full"})]},t))}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-3 w-28"})]}),n.jsx(C,{className:"h-4 w-32"})]},t))})]})]})}function ert(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-56"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-5 w-32"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-24"}),n.jsx(C,{className:"h-4 w-32"})]},t))})]}),n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-8 w-8 rounded-lg"}),n.jsx(C,{className:"h-5 w-36"})]}),n.jsx(C,{className:"h-6 w-16 rounded-full"})]})}),n.jsx(Q,{className:"space-y-3",children:[...Array(2)].map((e,t)=>n.jsxs("div",{className:"flex gap-4 p-4 rounded-xl border",children:[n.jsx(C,{className:"h-20 w-20 rounded-xl flex-shrink-0"}),n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx(C,{className:"h-5 w-48"}),n.jsx(C,{className:"h-6 w-12 rounded-full"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-5 w-24 rounded-full"}),n.jsx(C,{className:"h-5 w-28 rounded-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-full"}),n.jsx(C,{className:"h-3 w-3/4"})]})]})]},t))})]})]})]})}function trt(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-64"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(2)].map((e,t)=>n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-5 w-24"})]}),n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((r,s)=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(C,{className:"h-3 w-3 rounded"}),n.jsx(C,{className:"h-3 w-20"})]}),n.jsx(C,{className:"h-4 w-full"})]},s))})]},t))})})]})}function rrt(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsx(X,{children:n.jsxs(Q,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-8 w-12"})]}),n.jsx(C,{className:"h-3 w-24"})]})},t))})}function nrt(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]}),n.jsx(C,{className:"h-4 w-64"})]}),n.jsx(C,{className:"h-6 w-24 rounded-full"})]})}),n.jsxs(Q,{children:[n.jsx("div",{className:"space-y-4 mb-4",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex gap-3 p-4 rounded-lg border",children:[n.jsx(C,{className:"h-8 w-8 rounded-full flex-shrink-0"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-16 rounded-full"}),n.jsx(C,{className:"h-3 w-32"})]}),n.jsx(C,{className:"h-4 w-full"}),n.jsx(C,{className:"h-4 w-4/5"}),n.jsx(C,{className:"h-4 w-3/5"})]})]},t))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-10 flex-1 rounded-md"}),n.jsx(C,{className:"h-10 w-10 rounded-md"})]})]})]})}function srt(){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-32"})]}),n.jsx(C,{className:"h-4 w-48"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-5 w-24"}),n.jsx(C,{className:"h-4 w-16"})]}),n.jsx(C,{className:"h-6 w-11 rounded-full"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-36"})]})}),n.jsx(Q,{className:"space-y-3",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})})]})]})}function art(){return n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ztt,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(Jtt,{}),n.jsx(ert,{}),n.jsx(trt,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex gap-2 border-b",children:[...Array(3)].map((e,t)=>n.jsx(C,{className:"h-10 w-32 rounded-t-md"},t))}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(rrt,{}),n.jsx(nrt,{})]})]})]}),n.jsx("div",{className:"space-y-6",children:n.jsx(srt,{})})]})]})}function irt(){var f,m,h,x,p,g,j,y,w,b,N,S,_;const{issueId:e}=to(),t=mr(),[r,s]=v.useState(null),[a,i]=v.useState(!0),[o,l]=v.useState(null);v.useEffect(()=>{if(!e){l("No issue ID provided"),i(!1);return}i(!0),ks.getIssue(e).then(E=>{s(E),l(null)}).catch(E=>{console.error("Failed to fetch issue:",E),l("Issue not found")}).finally(()=>i(!1))},[e]);const c=async E=>{if(r)try{const A=await ks.updateIssue(r.id,E);s(A),Ue.success("Issue updated")}catch{Ue.error("Failed to update issue")}};if(a)return n.jsx(ct,{title:"Issue Details",children:n.jsx(art,{})});if(o||!r)return n.jsx(ct,{title:"Issue Not Found",children:n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-4",children:[n.jsx(Et,{className:"h-12 w-12 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold",children:"Issue Not Found"}),n.jsxs(te,{onClick:()=>t("/issues"),children:[n.jsx(sr,{className:"h-4 w-4 mr-2"}),"Back to Issues"]})]})});const d=E=>{switch(E){case"Open":return"destructive";case"Pending Vendor Response":return"secondary";case"Resolution Agreed":return"default";case"Closed":return"outline";default:return"secondary"}},u=E=>{switch(E){case"Closed":return n.jsx(lr,{className:"h-4 w-4"});case"Open":return n.jsx(Vl,{className:"h-4 w-4"});default:return n.jsx(wr,{className:"h-4 w-4"})}};return n.jsx(ct,{title:"Issue Details",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(te,{variant:"ghost",onClick:()=>t("/issues"),children:[n.jsx(sr,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Issue Details"}),n.jsxs("p",{className:"text-muted-foreground",children:["Issue #",r.id]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[u(r.status||"Open"),n.jsx(Ce,{variant:d(r.status||"Open"),children:r.status||"Open"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Et,{className:"h-5 w-5 text-destructive"}),r.type]}),n.jsxs(Dr,{children:["Reported on ",r.reported_on?new Date(r.reported_on).toLocaleDateString():"Unknown"]})]}),r.ai_activated&&n.jsxs(Ce,{variant:"default",className:"gap-1",children:[n.jsx(Oa,{className:"h-3 w-3"}),"AI Active"]})]})}),n.jsxs(Q,{className:"space-y-4",children:[r.items&&r.items.length>0?n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Issue Descriptions by Product"}),r.items.map((E,A)=>n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg  space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("h5",{className:"font-semibold text-sm",children:E.product_name||E.order_item_product_name||"Unknown Product"}),E.quantity_affected&&n.jsxs(Ce,{variant:"outline",className:"flex-shrink-0",children:["Qty: ",E.quantity_affected]})]}),E.issue_types&&n.jsx("div",{className:"flex flex-wrap gap-1.5",children:E.issue_types.split(",").map((T,R)=>n.jsx(Ce,{variant:"destructive",className:"text-xs",children:T.trim()},R))}),E.description&&n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap mt-2",children:E.description})]},E.id||A))]}):n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Description"}),n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:r.description})]}),n.jsx($t,{}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Priority"}),n.jsx(Ce,{variant:r.priority==="Critical"?"destructive":r.priority==="High"?"default":"secondary",children:r.priority||"Medium"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(Ce,{variant:d(r.status||"Open"),children:r.status||"Open"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolution Status"}),n.jsx("p",{className:"font-medium",children:r.resolution_status||"Pending"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Created"}),n.jsx("p",{className:"font-medium",children:r.created_at?new Date(r.created_at).toLocaleDateString():"Unknown"})]})]}),r.impact&&n.jsxs(n.Fragment,{children:[n.jsx($t,{}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(Vb,{className:"h-4 w-4"})," Impact"]}),n.jsx("p",{className:"font-medium",children:r.impact})]})]}),(r.expected_resolution||r.replacement_eta||r.delivery_date)&&n.jsxs(n.Fragment,{children:[n.jsx($t,{}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.expected_resolution&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(on,{className:"h-4 w-4"})," Expected Resolution"]}),n.jsx("p",{className:"font-medium",children:new Date(r.expected_resolution).toLocaleDateString()})]}),r.replacement_eta&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(_r,{className:"h-4 w-4"})," Replacement ETA"]}),n.jsx("p",{className:"font-medium",children:new Date(r.replacement_eta).toLocaleDateString()})]}),r.delivery_date&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(on,{className:"h-4 w-4"})," Delivery Date"]}),n.jsx("p",{className:"font-medium",children:new Date(r.delivery_date).toLocaleDateString()})]})]})]}),(r.invoice_number||r.tracking_number||((f=r.order_details)==null?void 0:f.tracking_number))&&n.jsxs(n.Fragment,{children:[n.jsx($t,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.invoice_number&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx($n,{className:"h-4 w-4"})," Invoice #"]}),n.jsx("p",{className:"font-medium",children:r.invoice_number})]}),(r.tracking_number||((m=r.order_details)==null?void 0:m.tracking_number))&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(_r,{className:"h-4 w-4"})," Tracking #",!r.tracking_number&&((h=r.order_details)==null?void 0:h.tracking_number)&&n.jsx("span",{className:"text-xs",children:"(from Order)"})]}),n.jsx("p",{className:"font-medium",children:r.tracking_number||((x=r.order_details)==null?void 0:x.tracking_number)})]})]})]}),(r.resolution_type||r.resolution_notes)&&n.jsxs(n.Fragment,{children:[n.jsx($t,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-sm font-semibold",children:"Resolution Details"}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.resolution_type&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolution Type"}),n.jsx(Ce,{variant:"outline",children:r.resolution_type})]})}),r.resolution_notes&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolution Notes"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:r.resolution_notes})]})]})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ws,{className:"h-5 w-5"}),"Order & Product Information"]})}),n.jsxs(Q,{className:"space-y-4",children:[r.order_details&&n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx($n,{className:"h-4 w-4"})," Order Details"]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Number"}),n.jsx("p",{className:"font-medium",children:r.order_details.order_number||r.order_details.id})]}),r.order_details.order_date&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Date"}),n.jsx("p",{className:"font-medium",children:new Date(r.order_details.order_date).toLocaleDateString()})]}),r.order_details.status&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Status"}),n.jsx(Ce,{variant:"outline",children:r.order_details.status})]}),r.order_details.total_amount&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),n.jsxs("p",{className:"font-medium",children:["$",r.order_details.total_amount]})]})]})]}),r.items&&r.items.length>0&&n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ve,{className:"text-base flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(lt,{className:"h-4 w-4 text-primary"})}),"Affected Products"]}),n.jsxs(Ce,{variant:"secondary",className:"font-semibold",children:[r.items.length," ",r.items.length===1?"Item":"Items"]})]})}),n.jsx(Q,{className:"space-y-3",children:r.items.map((E,A)=>n.jsxs("div",{className:"flex gap-4 p-4 rounded-xl border bg-gradient-to-r from-background to-muted/20 hover:shadow-sm transition-all",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden border-2 border-muted bg-gradient-to-br from-muted to-muted/50 shadow-sm",children:E.product_image?n.jsx("img",{src:E.product_image,alt:E.product_name||"Product",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(lt,{className:"h-8 w-8 text-muted-foreground/40"})})})}),n.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("h5",{className:"font-semibold text-sm line-clamp-1",children:E.product_name||E.order_item_product_name||"Unknown Product"}),n.jsxs(Ce,{variant:"outline",className:"flex-shrink-0 gap-1",children:[n.jsx(ws,{className:"h-3 w-3"}),E.quantity_affected]})]}),E.issue_types&&n.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[E.issue_types.split(",").slice(0,4).map((T,R)=>n.jsxs(Ce,{variant:"outline",className:"text-xs px-2 py-0.5 bg-destructive/5 text-destructive border-destructive/20 gap-1",children:[n.jsx(Et,{className:"h-3 w-3"}),T.trim()]},R)),E.issue_types.split(",").length>4&&n.jsxs(Ce,{variant:"secondary",className:"text-xs",children:["+",E.issue_types.split(",").length-4," more"]})]}),E.description&&n.jsxs("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[n.jsx($n,{className:"h-3.5 w-3.5 mt-0.5 flex-shrink-0"}),n.jsx("p",{className:"line-clamp-2",children:E.description})]})]})]},E.id||A))})]}),r.order_item_details&&(!r.items||r.items.length===0)&&n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(lt,{className:"h-4 w-4"})," Order Item Details"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:r.order_item_details.product_image||(p=r.product_details)!=null&&p.product_image?n.jsx("img",{src:r.order_item_details.product_image||((g=r.product_details)==null?void 0:g.product_image),alt:r.order_item_details.product_name||"Product",className:"w-24 h-24 rounded-lg object-cover border-2 border-muted"}):n.jsx("div",{className:"w-24 h-24 rounded-lg flex items-center justify-center border-2 border-muted bg-muted",children:n.jsx(lt,{className:"h-10 w-10 text-muted-foreground"})})}),n.jsxs("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Product Name"}),n.jsx("p",{className:"font-medium",children:r.order_item_details.product_name})]}),r.order_item_details.quantity&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Quantity"}),n.jsx("p",{className:"font-medium",children:r.order_item_details.quantity})]}),r.order_item_details.unit_price&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Unit Price"}),n.jsxs("p",{className:"font-medium",children:["$",r.order_item_details.unit_price]})]}),r.order_item_details.total_price&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Price"}),n.jsxs("p",{className:"font-medium",children:["$",r.order_item_details.total_price]})]}),r.order_item_details.sku&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"SKU"}),n.jsx("p",{className:"font-medium",children:r.order_item_details.sku})]})]})]})]}),r.items&&r.items.length>0?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(lt,{className:"h-4 w-4"})," Product Details (",r.items.length,")"]}),r.items.map((E,A)=>n.jsx("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:E.product_image?n.jsx("img",{src:E.product_image,alt:E.product_name||"Product",className:"w-24 h-24 rounded-lg object-cover border-2 border-muted"}):n.jsx("div",{className:"w-24 h-24 rounded-lg flex items-center justify-center border-2 border-muted bg-muted",children:n.jsx(lt,{className:"h-10 w-10 text-muted-foreground"})})}),n.jsxs("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Product Name"}),n.jsx("p",{className:"font-medium",children:E.product_name||E.order_item_product_name||"Unknown"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Quantity Affected"}),n.jsx("p",{className:"font-medium",children:E.quantity_affected||1})]}),E.issue_types&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Issue Types"}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:E.issue_types.split(",").slice(0,2).map((T,R)=>n.jsx(Ce,{variant:"outline",className:"text-xs",children:T.trim()},R))})]})]})]})},E.id||A))]}):r.product_details?n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(lt,{className:"h-4 w-4"})," Product Details"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:r.product_details.product_image?n.jsx("img",{src:r.product_details.product_image,alt:r.product_details.product||"Product",className:"w-24 h-24 rounded-lg object-cover border-2 border-muted"}):n.jsx("div",{className:"w-24 h-24 rounded-lg flex items-center justify-center border-2 border-muted bg-muted",children:n.jsx(lt,{className:"h-10 w-10 text-muted-foreground"})})}),n.jsxs("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Product Name"}),n.jsx("p",{className:"font-medium",children:r.product_details.product})]}),r.product_details.sku&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"SKU"}),n.jsx("p",{className:"font-medium",children:r.product_details.sku})]}),r.product_details.category&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Category"}),n.jsx("p",{className:"font-medium",children:r.product_details.category})]}),r.product_details.unit_price&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Unit Price"}),n.jsxs("p",{className:"font-medium",children:["$",r.product_details.unit_price]})]})]})]})]}):null,!r.order_details&&!r.order_item_details&&!r.product_details&&n.jsxs("div",{className:"flex gap-4 items-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center border-2 border-muted bg-muted flex-shrink-0",children:n.jsx(lt,{className:"h-8 w-8 text-muted-foreground"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Product"}),n.jsx("p",{className:"font-medium",children:r.display_product_name||r.product_name||"Unknown"})]})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-5 w-5"}),"Apartment & Vendor Information"]})}),n.jsx(Q,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4"})," Apartment"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),n.jsx("p",{className:"font-medium",children:((j=r.apartment_details)==null?void 0:j.name)||"Unknown"})]}),((y=r.apartment_details)==null?void 0:y.address)&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),n.jsx("p",{className:"font-medium",children:r.apartment_details.address})]})]})]}),n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(os,{className:"h-4 w-4"})," Vendor"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),n.jsx("p",{className:"font-medium",children:r.vendor_name||((w=r.vendor_details)==null?void 0:w.name)||"Unknown"})]}),((b=r.vendor_details)==null?void 0:b.contact_person)&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(os,{className:"h-3 w-3"})," Contact Person"]}),n.jsx("p",{className:"font-medium",children:r.vendor_details.contact_person})]}),((N=r.vendor_details)==null?void 0:N.email)&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(gn,{className:"h-3 w-3"})," Email"]}),n.jsx("a",{href:`mailto:${r.vendor_details.email}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.email})]}),((S=r.vendor_details)==null?void 0:S.phone)&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(ko,{className:"h-3 w-3"})," Phone"]}),n.jsx("a",{href:`tel:${r.vendor_details.phone}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.phone})]}),r.vendor_contact&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor Contact"}),n.jsx("p",{className:"font-medium",children:r.vendor_contact})]})]})]})]})})]}),n.jsxs(Ro,{defaultValue:"conversation",className:"w-full",children:[n.jsxs(no,{className:"grid w-full grid-cols-3",children:[n.jsxs(Ut,{value:"conversation",className:"gap-2",children:[n.jsx(cu,{className:"h-4 w-4"}),"Conversation"]}),n.jsxs(Ut,{value:"photos",className:"gap-2",children:[n.jsx(Gi,{className:"h-4 w-4"}),"Photos (",((_=r.photos)==null?void 0:_.length)||0,")"]}),n.jsxs(Ut,{value:"timeline",className:"gap-2",children:[n.jsx(wr,{className:"h-4 w-4"}),"Timeline"]})]}),n.jsx(Qt,{value:"conversation",className:"mt-6",children:n.jsx(Ktt,{issue:r,onUpdateIssue:c})}),n.jsx(Qt,{value:"photos",className:"mt-6",children:n.jsx(Ytt,{photos:r.photos||[],onAddPhoto:async E=>{Ue.info("Photo upload feature coming soon")}})}),n.jsx(Qt,{value:"timeline",className:"mt-6",children:n.jsx(Xtt,{issue:r,product:r.product_details})})]})]}),n.jsx("div",{className:"space-y-6",children:n.jsx(Qtt,{issue:r,vendor:r.vendor_details,onUpdateIssue:c})})]})]})})}function ort(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-12"})]})}function lrt(){return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-10 w-10 rounded-md"}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(C,{className:"h-6 w-6 rounded"}),n.jsx(C,{className:"h-8 w-32"})]}),n.jsx(C,{className:"h-4 w-28"})]})]}),n.jsx(C,{className:"h-9 w-32 rounded-md"})]})}function crt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-24 w-full rounded-md"})]})]})]})}function drt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-36"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]})}function urt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-36"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-36"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-20 w-full rounded-md"})]})]})]})}function frt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-36"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-4 w-48"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-4 w-56"})]})]})]})]})}function mrt(){return n.jsx(ct,{title:"Edit Issue",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(ort,{}),n.jsx(lrt,{}),n.jsx(crt,{}),n.jsx(drt,{}),n.jsx(urt,{}),n.jsx(frt,{}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})]})})}const hrt=()=>{var b;const e=mr(),{issueId:t}=to(),[r,s]=v.useState(null),[a,i]=v.useState(!0),[o,l]=v.useState(!1),[c,d]=v.useState(!1),[u,f]=v.useState(!1),[m,h]=v.useState({type:"",description:"",status:"Open",priority:"Medium",impact:"",expectedResolution:"",replacementEta:"",resolutionType:"",resolutionNotes:"",deliveryDate:"",invoiceNumber:"",trackingNumber:"",aiActivated:!1,autoNotifyVendor:!0}),x=["Open","Pending Vendor Response","Resolution Agreed","Closed"],p=[{value:"Critical",label:"Critical",color:"bg-red-500/10 text-red-600 border-red-200"},{value:"High",label:"High",color:"bg-orange-500/10 text-orange-600 border-orange-200"},{value:"Medium",label:"Medium",color:"bg-yellow-500/10 text-yellow-600 border-yellow-200"},{value:"Low",label:"Low",color:"bg-green-500/10 text-green-600 border-green-200"}],g=["Blocking Progress","Delaying Project","Partial Impact","Minor Inconvenience","No Impact"],j=["Full Replacement","Partial Replacement","Repair","Refund","Credit Note","Exchange","Other"];v.useEffect(()=>{if(!t){Ue.error("No issue ID provided"),e("/issues");return}i(!0),ks.getIssue(t).then(N=>{s(N),h({type:N.type||"",description:N.description||"",status:N.status||"Open",priority:N.priority||"Medium",impact:N.impact||"",expectedResolution:N.expected_resolution||"",replacementEta:N.replacement_eta||"",resolutionType:N.resolution_type||"",resolutionNotes:N.resolution_notes||"",deliveryDate:N.delivery_date||"",invoiceNumber:N.invoice_number||"",trackingNumber:N.tracking_number||"",aiActivated:N.ai_activated||!1,autoNotifyVendor:N.auto_notify_vendor??!0})}).catch(N=>{console.error("Failed to fetch issue:",N),Ue.error("Failed to load issue"),e("/issues")}).finally(()=>i(!1))},[t,e]);const y=async N=>{var S,_;if(N.preventDefault(),!!r){l(!0);try{await ks.updateIssue(r.id,{type:m.type,description:m.description,status:m.status,priority:m.priority,impact:m.impact||void 0,expected_resolution:m.expectedResolution||void 0,replacement_eta:m.replacementEta||void 0,resolution_type:m.resolutionType||void 0,resolution_notes:m.resolutionNotes||void 0,delivery_date:m.deliveryDate||void 0,invoice_number:m.invoiceNumber||void 0,tracking_number:m.trackingNumber||void 0,ai_activated:m.aiActivated,auto_notify_vendor:m.autoNotifyVendor}),Ue.success("Issue updated successfully"),e(`/issues/${r.id}`)}catch(E){Ue.error(((_=(S=E.response)==null?void 0:S.data)==null?void 0:_.message)||"Failed to update issue")}finally{l(!1)}}},w=async()=>{var N,S;if(r){d(!0);try{await ks.deleteIssue(r.id),Ue.success("Issue deleted successfully"),e("/issues")}catch(_){Ue.error(((S=(N=_.response)==null?void 0:N.data)==null?void 0:S.message)||"Failed to delete issue")}finally{d(!1),f(!1)}}};return a?n.jsx(mrt,{}):r?n.jsx(ct,{title:"Edit Issue",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ua,{children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(Jn,{href:"/issues",children:"Issues"})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(Jn,{href:`/issues/${r.id}`,children:"Issue Details"})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(ji,{children:"Edit"})})]})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>e(`/issues/${r.id}`),children:n.jsx(sr,{className:"h-4 w-4"})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Et,{className:"h-6 w-6 text-primary"}),"Edit Issue"]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Issue #",r.id.slice(-8)]})]})]}),n.jsxs(fc,{open:u,onOpenChange:f,children:[n.jsxs(te,{variant:"destructive",size:"sm",onClick:()=>f(!0),disabled:c,children:[c?n.jsx(Ht,{className:"h-4 w-4 animate-spin mr-2"}):n.jsx(pn,{className:"h-4 w-4 mr-2"}),"Delete Issue"]}),n.jsxs(yl,{className:"sm:max-w-md",children:[n.jsx(jl,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(pn,{className:"h-6 w-6 text-destructive"})}),n.jsxs("div",{children:[n.jsx(wl,{className:"text-lg",children:"Delete Issue"}),n.jsx(Nl,{className:"text-sm",children:"This action cannot be undone."})]})]})}),n.jsx("div",{className:"py-4",children:n.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:r.type||"Issue"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:[(b=r.description)==null?void 0:b.slice(0,100),r.description&&r.description.length>100?"...":""]})]})}),n.jsxs(bl,{children:[n.jsx(Sl,{disabled:c,children:"Cancel"}),n.jsx(_l,{onClick:w,disabled:c,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:c?n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(pn,{className:"h-4 w-4 mr-2"}),"Delete Issue"]})})]})]})]})]}),n.jsxs("form",{onSubmit:y,className:"space-y-6",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(dl,{className:"h-5 w-5"}),"Issue Information"]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Issue Type *"}),n.jsx(me,{value:m.type,onChange:N=>h(S=>({...S,type:N.target.value})),placeholder:"e.g., Broken/Damaged, Wrong Item"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Status *"}),n.jsxs(st,{value:m.status,onValueChange:N=>h(S=>({...S,status:N})),children:[n.jsx(rt,{children:n.jsx(at,{})}),n.jsx(nt,{children:x.map(N=>n.jsx(J,{value:N,children:N},N))})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Description *"}),n.jsx(Sn,{value:m.description,onChange:N=>h(S=>({...S,description:N.target.value})),rows:4,placeholder:"Describe the issue in detail..."})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(dl,{className:"h-5 w-5"}),"Priority & Impact"]})}),n.jsxs(Q,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Priority *"}),n.jsxs(st,{value:m.priority,onValueChange:N=>h(S=>({...S,priority:N})),children:[n.jsx(rt,{children:n.jsx(at,{})}),n.jsx(nt,{children:p.map(N=>n.jsx(J,{value:N.value,children:n.jsx(Ce,{className:N.color,children:N.label})},N.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Impact"}),n.jsxs(st,{value:m.impact,onValueChange:N=>h(S=>({...S,impact:N})),children:[n.jsx(rt,{children:n.jsx(at,{placeholder:"Select impact level"})}),n.jsx(nt,{children:g.map(N=>n.jsx(J,{value:N,children:N},N))})]})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(on,{className:"h-5 w-5"}),"Timeline"]})}),n.jsxs(Q,{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Expected Resolution"}),n.jsx(me,{type:"date",value:m.expectedResolution,onChange:N=>h(S=>({...S,expectedResolution:N.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Replacement ETA"}),n.jsx(me,{type:"date",value:m.replacementEta,onChange:N=>h(S=>({...S,replacementEta:N.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Delivery Date"}),n.jsx(me,{type:"date",value:m.deliveryDate,onChange:N=>h(S=>({...S,deliveryDate:N.target.value}))})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(lr,{className:"h-5 w-5"}),"Resolution"]})}),n.jsxs(Q,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Resolution Type"}),n.jsxs(st,{value:m.resolutionType,onValueChange:N=>h(S=>({...S,resolutionType:N})),children:[n.jsx(rt,{children:n.jsx(at,{placeholder:"Select resolution type"})}),n.jsx(nt,{children:j.map(N=>n.jsx(J,{value:N,children:N},N))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Resolution Notes"}),n.jsx(me,{value:m.resolutionNotes,onChange:N=>h(S=>({...S,resolutionNotes:N.target.value})),placeholder:"Add notes about the resolution..."})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(_r,{className:"h-5 w-5"}),"Tracking Information"]})}),n.jsxs(Q,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Invoice Number"}),n.jsx(me,{value:m.invoiceNumber,onChange:N=>h(S=>({...S,invoiceNumber:N.target.value})),placeholder:"Enter invoice number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Tracking Number"}),n.jsx(me,{value:m.trackingNumber,onChange:N=>h(S=>({...S,trackingNumber:N.target.value})),placeholder:"Enter tracking number"})]})]})]}),n.jsx(X,{children:n.jsxs(Q,{className:"py-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(dd,{id:"ai",checked:m.aiActivated,onCheckedChange:N=>h(S=>({...S,aiActivated:N}))}),n.jsx(q,{htmlFor:"ai",children:"Enable AI-assisted communication"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(dd,{id:"notify",checked:m.autoNotifyVendor,onCheckedChange:N=>h(S=>({...S,autoNotifyVendor:N}))}),n.jsx(q,{htmlFor:"notify",children:"Auto-notify vendor"})]})]})}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(te,{type:"button",variant:"outline",onClick:()=>e(`/issues/${r.id}`),children:[n.jsx(sr,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsx(te,{type:"submit",disabled:o,children:o?n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(vu,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})]})}):n.jsx(ct,{title:"Edit Issue",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Et,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),n.jsx("p",{className:"text-lg font-medium",children:"Issue not found"}),n.jsx(te,{onClick:()=>e("/issues"),className:"mt-4",children:"Back to Issues"})]})})},prt=({payment:e,open:t,onOpenChange:r})=>{var f;const s=m=>({Paid:"bg-success/10 text-success border-success/20",Partial:"bg-warning/10 text-warning border-warning/20",Unpaid:"bg-muted text-muted-foreground border-border",Overdue:"bg-danger/10 text-danger border-danger/20"})[m]||"bg-muted";if(!e)return n.jsx(Pn,{open:t,onOpenChange:r,children:n.jsx(vn,{className:"max-w-3xl",children:n.jsx(kn,{children:n.jsx(Tn,{children:"Loading..."})})})});const a=e.total_amount??e.totalAmount??0,i=e.amount_paid??e.amountPaid??0,o=e.vendor_name??((f=e.vendor_details)==null?void 0:f.name)??e.vendor??"Unknown",l=e.order_reference??e.orderReference??"",c=e.due_date??e.dueDate??"",d=e.last_payment_date??e.lastPaymentDate,u=e.payment_history??e.paymentHistory??[];return n.jsx(Pn,{open:t,onOpenChange:r,children:n.jsxs(vn,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[n.jsxs(kn,{children:[n.jsxs(Tn,{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx($n,{className:"h-5 w-5 text-primary"})}),"Payment History"]}),n.jsxs(Bs,{children:["Complete payment record for ",n.jsx("span",{className:"font-semibold",children:o})," - ",l]})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-muted/30 rounded-lg border",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-xl font-bold",children:[a.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Amount Paid"}),n.jsxs("p",{className:"text-xl font-bold text-success",children:[i.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Balance"}),n.jsxs("p",{className:"text-xl font-bold text-warning",children:[(a-i).toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Status"}),n.jsx(Ce,{className:s(e.status),children:e.status})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Order Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 rounded-lg border bg-card",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Due Date"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(on,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-sm font-medium",children:c?Xt(new Date(c),"MMMM dd, yyyy"):"N/A"})]})]}),d&&n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Last Payment"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ur,{className:"h-4 w-4 text-success"}),n.jsx("p",{className:"text-sm font-medium",children:Xt(new Date(d),"MMMM dd, yyyy")})]})]}),e.notes&&n.jsxs("div",{className:"col-span-2 space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Notes"}),n.jsx("p",{className:"text-sm",children:e.notes})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Transaction History"}),u&&u.length>0?n.jsx("div",{className:"space-y-3",children:u.map((m,h)=>n.jsxs("div",{className:"relative",children:[h!==u.length-1&&n.jsx("div",{className:"absolute left-5 top-12 bottom-0 w-px bg-border"}),n.jsxs("div",{className:"flex gap-4 p-4 rounded-lg border bg-card hover:bg-muted/30 transition-colors",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"p-2 bg-success/10 rounded-full",children:n.jsx(Ur,{className:"h-5 w-5 text-success"})})}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("p",{className:"font-semibold text-lg",children:[(m.amount||0).toLocaleString()," HUF"]}),n.jsxs(Ce,{variant:"outline",className:"text-xs",children:[n.jsx(bs,{className:"h-3 w-3 mr-1"}),m.method]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:m.date?Xt(new Date(m.date),"MMMM dd, yyyy"):"N/A"})]})}),(m.referenceNo||m.reference_no)&&n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"Ref:"}),n.jsx("span",{className:"font-mono bg-muted px-2 py-0.5 rounded",children:m.referenceNo||m.reference_no})]}),m.note&&n.jsx("p",{className:"text-sm text-muted-foreground italic",children:m.note})]})]})]},m.id||h))}):n.jsxs("div",{className:"text-center py-12 border rounded-lg bg-muted/20",children:[n.jsx($n,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-3"}),n.jsx("p",{className:"text-muted-foreground",children:"No payment transactions recorded yet"})]})]})]})]})})},xrt=({open:e,onOpenChange:t})=>{const{apartments:r,vendors:s,addPayment:a}=Bl(),[i,o]=v.useState({apartmentId:"",vendorId:"",orderReference:"",totalAmount:"",amountPaid:"",dueDate:"",paymentMethod:"",notes:"",bankName:"",accountNumber:"",accountHolder:"",swift:"",iban:"",cardNumber:"",cardHolder:"",expiryDate:"",cvv:""}),[l,c]=v.useState("bank"),d=(j,y)=>{o(w=>({...w,[j]:y}))},u=()=>{const j=parseFloat(i.totalAmount)||0,y=parseFloat(i.amountPaid)||0;return j-y},f=()=>{if(!i.apartmentId||!i.vendorId||!i.orderReference||!i.totalAmount||!i.dueDate){Ue.error("Missing Required Fields",{description:"Please fill in all required fields"});return}const j=parseFloat(i.totalAmount),y=parseFloat(i.amountPaid)||0;if(isNaN(j)||j<=0){Ue.error("Invalid Amount",{description:"Please enter a valid total amount"});return}const w=s.find(S=>S.id===i.vendorId);if(!w)return;let b="Unpaid";y>=j?b="Paid":y>0&&(b="Partial");const N=y>0?[{date:new Date().toISOString().split("T")[0],amount:y,method:i.paymentMethod||l,referenceNo:i.orderReference,note:"Initial payment"}]:[];a({apartmentId:i.apartmentId,vendor:w.name,orderReference:i.orderReference,totalAmount:j,amountPaid:y,dueDate:i.dueDate,status:b,lastPaymentDate:y>0?new Date().toISOString().split("T")[0]:void 0,notes:i.notes,paymentHistory:N}),Ue.success("Payment Created",{description:`Payment record for ${w.name} has been created successfully`}),o({apartmentId:"",vendorId:"",orderReference:"",totalAmount:"",amountPaid:"",dueDate:"",paymentMethod:"",notes:"",bankName:"",accountNumber:"",accountHolder:"",swift:"",iban:"",cardNumber:"",cardHolder:"",expiryDate:"",cvv:""}),t(!1)},m=s.find(j=>j.id===i.vendorId),h=r.find(j=>j.id===i.apartmentId),x=u(),p=parseFloat(i.totalAmount)||0,g=parseFloat(i.amountPaid)||0;return n.jsx(Pn,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(kn,{children:[n.jsx(Tn,{className:"text-2xl font-bold",children:"Create New Payment"}),n.jsx(Bs,{children:"Create a comprehensive payment record with all necessary details"})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsx(X,{children:n.jsxs(Q,{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx($n,{className:"h-5 w-5 text-primary"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Order Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apartment",className:"flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4 text-muted-foreground"}),"Apartment ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsxs(st,{value:i.apartmentId,onValueChange:j=>d("apartmentId",j),children:[n.jsx(rt,{id:"apartment",children:n.jsx(at,{placeholder:"Select apartment"})}),n.jsx(nt,{children:r.map(j=>n.jsx(J,{value:j.id,children:j.name},j.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"vendor",className:"flex items-center gap-2",children:[n.jsx(La,{className:"h-4 w-4 text-muted-foreground"}),"Vendor ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsxs(st,{value:i.vendorId,onValueChange:j=>d("vendorId",j),children:[n.jsx(rt,{id:"vendor",children:n.jsx(at,{placeholder:"Select vendor"})}),n.jsx(nt,{children:s.map(j=>n.jsx(J,{value:j.id,children:j.name},j.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"orderRef",children:["Order Reference ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsx(me,{id:"orderRef",placeholder:"e.g., ORD-2025-001",value:i.orderReference,onChange:j=>d("orderReference",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"dueDate",className:"flex items-center gap-2",children:[n.jsx(on,{className:"h-4 w-4 text-muted-foreground"}),"Due Date ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsx(me,{id:"dueDate",type:"date",value:i.dueDate,onChange:j=>d("dueDate",j.target.value)})]})]})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Nr,{className:"h-5 w-5 text-primary"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Payment Amount"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"totalAmount",children:["Total Amount (HUF) ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsx(me,{id:"totalAmount",type:"number",placeholder:"0.00",value:i.totalAmount,onChange:j=>d("totalAmount",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"amountPaid",children:"Amount Paid (HUF)"}),n.jsx(me,{id:"amountPaid",type:"number",placeholder:"0.00",value:i.amountPaid,onChange:j=>d("amountPaid",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Balance (HUF)"}),n.jsx("div",{className:ve("h-10 px-3 rounded-md border flex items-center font-semibold",x>0?"bg-warning/10 text-warning border-warning/20":"bg-success/10 text-success border-success/20"),children:x.toFixed(2)})]})]}),p>0&&n.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Amount:"}),n.jsxs("span",{className:"font-semibold",children:[p.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Amount Paid:"}),n.jsxs("span",{className:"font-semibold text-success",children:[g.toLocaleString()," HUF"]})]}),n.jsx($t,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-semibold",children:"Outstanding Balance:"}),n.jsxs("span",{className:ve("text-lg font-bold",x>0?"text-warning":"text-success"),children:[x.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[x===0&&n.jsxs(Ce,{className:"bg-success/10 text-success border-success/20",children:[n.jsx(lr,{className:"h-3 w-3 mr-1"}),"Fully Paid"]}),x>0&&g>0&&n.jsxs(Ce,{className:"bg-warning/10 text-warning border-warning/20",children:[n.jsx(Et,{className:"h-3 w-3 mr-1"}),"Partial Payment"]}),x>0&&g===0&&n.jsx(Ce,{variant:"outline",children:"Unpaid"})]})]})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(bs,{className:"h-5 w-5 text-primary"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Payment Details"})]}),n.jsxs(Ro,{value:l,onValueChange:j=>c(j),children:[n.jsxs(no,{className:"grid w-full grid-cols-3",children:[n.jsxs(Ut,{value:"bank",className:"flex items-center gap-2",children:[n.jsx(u0,{className:"h-4 w-4"}),"Bank Transfer"]}),n.jsxs(Ut,{value:"card",className:"flex items-center gap-2",children:[n.jsx(bs,{className:"h-4 w-4"}),"Card Payment"]}),n.jsxs(Ut,{value:"cash",className:"flex items-center gap-2",children:[n.jsx(Nr,{className:"h-4 w-4"}),"Cash"]})]}),n.jsx(Qt,{value:"bank",className:"space-y-4 mt-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"bankName",children:"Bank Name"}),n.jsx(me,{id:"bankName",placeholder:"e.g., OTP Bank",value:i.bankName,onChange:j=>d("bankName",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"accountHolder",children:"Account Holder"}),n.jsx(me,{id:"accountHolder",placeholder:"Full name",value:i.accountHolder,onChange:j=>d("accountHolder",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"accountNumber",children:"Account Number"}),n.jsx(me,{id:"accountNumber",placeholder:"XXXX-XXXX-XXXX-XXXX",value:i.accountNumber,onChange:j=>d("accountNumber",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"iban",children:"IBAN"}),n.jsx(me,{id:"iban",placeholder:"HU42 1177 3016 1111 1018 0000 0000",value:i.iban,onChange:j=>d("iban",j.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"swift",children:"SWIFT/BIC Code"}),n.jsx(me,{id:"swift",placeholder:"e.g., OTPVHUHB",value:i.swift,onChange:j=>d("swift",j.target.value)})]})]})}),n.jsx(Qt,{value:"card",className:"space-y-4 mt-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"cardNumber",children:"Card Number"}),n.jsx(me,{id:"cardNumber",placeholder:"XXXX XXXX XXXX XXXX",maxLength:19,value:i.cardNumber,onChange:j=>d("cardNumber",j.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"cardHolder",children:"Card Holder Name"}),n.jsx(me,{id:"cardHolder",placeholder:"Name as on card",value:i.cardHolder,onChange:j=>d("cardHolder",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"expiryDate",children:"Expiry Date"}),n.jsx(me,{id:"expiryDate",placeholder:"MM/YY",maxLength:5,value:i.expiryDate,onChange:j=>d("expiryDate",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"cvv",children:"CVV"}),n.jsx(me,{id:"cvv",type:"password",placeholder:"XXX",maxLength:4,value:i.cvv,onChange:j=>d("cvv",j.target.value)})]})]})}),n.jsx(Qt,{value:"cash",className:"mt-4",children:n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg text-center text-muted-foreground",children:[n.jsx(u0,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/50"}),n.jsx("p",{className:"text-sm",children:"Cash payment selected. No additional details required."})]})})]})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"p-6 space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(Sn,{id:"notes",placeholder:"Add any additional payment notes or instructions...",rows:3,value:i.notes,onChange:j=>d("notes",j.target.value)})]})}),(h||m)&&n.jsx(X,{className:"bg-primary/5 border-primary/20",children:n.jsxs(Q,{className:"p-6",children:[n.jsx("h3",{className:"font-semibold mb-3 text-primary",children:"Payment Summary"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[h&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Apartment:"}),n.jsx("span",{className:"font-medium",children:h.name})]}),m&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Vendor:"}),n.jsx("span",{className:"font-medium",children:m.name})]}),i.orderReference&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Order Reference:"}),n.jsx("span",{className:"font-mono font-medium",children:i.orderReference})]}),i.dueDate&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Due Date:"}),n.jsx("span",{className:"font-medium",children:new Date(i.dueDate).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Payment Method:"}),n.jsx(Ce,{variant:"outline",children:l.toUpperCase()})]})]})]})})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(te,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(te,{onClick:f,className:"px-8",children:"Create Payment"})]})]})})};function grt(){return n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(C,{className:"h-11 w-40 rounded-md"}),n.jsx(C,{className:"h-10 w-36 rounded-md"})]})}function vrt(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{iconBg:"bg-primary/10"},{iconBg:"bg-green-500/10"},{iconBg:"bg-yellow-500/10"},{iconBg:"bg-red-500/10"}].map((e,t)=>n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-24"}),n.jsx(C,{className:"h-8 w-32"}),t===3&&n.jsx(C,{className:"h-3 w-20 mt-1"})]}),n.jsx("div",{className:`p-3 rounded-lg ${e.iconBg}`,children:n.jsx(C,{className:"h-6 w-6 rounded"})})]})})},t))})}function yrt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-6 w-40"}),n.jsx(C,{className:"h-4 w-64"})]}),n.jsx(C,{className:"h-10 w-[130px] rounded-md"})]})}),n.jsxs(Q,{children:[n.jsx("div",{className:"grid w-full grid-cols-3 bg-muted rounded-lg p-1 mb-6",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-24"})]},t))}),n.jsx("div",{className:"h-[350px] flex items-end justify-between gap-2 px-4",children:[...Array(12)].map((e,t)=>n.jsxs("div",{className:"flex-1 flex flex-col justify-end gap-1",children:[n.jsx(C,{className:"w-full rounded-t",style:{height:`${Math.random()*60+40}%`}}),n.jsx(C,{className:"h-3 w-full"})]},t))})]})]})}function jrt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-6 w-32"}),n.jsx(C,{className:"h-9 w-28 rounded-md"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsx(C,{className:"h-10 flex-1 rounded-md"}),n.jsx(C,{className:"h-10 w-[140px] rounded-md"}),n.jsx(C,{className:"h-10 w-[140px] rounded-md"}),n.jsx(C,{className:"h-10 w-[140px] rounded-md"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]},t))})]})]})}function brt(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-6 w-48"}),n.jsx(C,{className:"h-9 w-32 rounded-md"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Order Ref","Vendor","Apartment","Due Date","Total","Paid","Outstanding","Status","Actions"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(8)].map((e,t)=>n.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-3 w-32"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-3 w-36"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-32"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-5 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"})]})})]},t))})]})})})]})}function wrt(){return n.jsxs("div",{className:"space-y-6",children:[n.jsx(grt,{}),n.jsx(vrt,{}),n.jsx(yrt,{}),n.jsx(jrt,{}),n.jsx(brt,{})]})}const Nrt=()=>{var bt,qe;const e=mr(),{apartments:t,vendors:r,updatePayment:s,addPaymentToHistory:a}=Bl(),{data:i,isLoading:o,error:l,refetch:c}=u3({page_size:100}),d=kBe();VX();const u=f3(),f=(i==null?void 0:i.results)||[],[m,h]=v.useState(""),[x,p]=v.useState("All"),[g,j]=v.useState("All"),[y,w]=v.useState("All"),[b,N]=v.useState(""),[S,_]=v.useState(""),[E,A]=v.useState(""),[T,R]=v.useState(""),[I,z]=v.useState(null),[H,F]=v.useState(!1),[k,P]=v.useState(!1),[M,O]=v.useState(!1),[K,ne]=v.useState("30d"),[D,U]=v.useState("trends"),[L,G]=v.useState(!1),[le,fe]=v.useState(!1),[B,Y]=v.useState(null),ie=ye=>{var Ge;return((Ge=ye.apartment_details)==null?void 0:Ge.name)||"Unknown"},we=ye=>({Paid:"bg-success/10 text-success border-success/20",Partial:"bg-warning/10 text-warning border-warning/20",Unpaid:"bg-muted text-muted-foreground border-border",Overdue:"bg-danger/10 text-danger border-danger/20"})[ye]||"bg-muted",ue=ye=>{switch(ye){case"Paid":return n.jsx(Ur,{className:"h-3.5 w-3.5"});case"Partial":return n.jsx(wr,{className:"h-3.5 w-3.5"});case"Overdue":return n.jsx(Et,{className:"h-3.5 w-3.5"});default:return n.jsx(Nr,{className:"h-3.5 w-3.5"})}},ge=v.useMemo(()=>f.filter(ye=>{var jt;const Ge=ie(ye),Pt=ye.vendor_name||((jt=ye.vendor_details)==null?void 0:jt.name)||"",kt=Pt.toLowerCase().includes(m.toLowerCase())||ye.order_reference.toLowerCase().includes(m.toLowerCase())||Ge.toLowerCase().includes(m.toLowerCase()),vr=x==="All"||ye.status===x,qr=g==="All"||Pt===g,Zr=y==="All"||ye.apartment===y;let Vr=!0;if(b||S){const Ft=new Date(ye.due_date);b&&(Vr=Vr&&Ft>=new Date(b)),S&&(Vr=Vr&&Ft<=new Date(S))}let Pr=!0;if(E||T){const Ft=ye.total_amount||0;E&&(Pr=Pr&&Ft>=parseFloat(E)),T&&(Pr=Pr&&Ft<=parseFloat(T))}return kt&&vr&&qr&&Zr&&Vr&&Pr}),[f,m,x,g,y,b,S,E,T]),xe=ge.reduce((ye,Ge)=>ye+(Ge.total_amount||0),0),_e=ge.reduce((ye,Ge)=>ye+(Ge.amount_paid||0),0),Re=xe-_e,ke=ge.filter(ye=>ye.status==="Overdue").length,re=ge.filter(ye=>ye.status==="Partial").length,he=Array.from(new Set(f.map(ye=>{var Ge;return ye.vendor_name||((Ge=ye.vendor_details)==null?void 0:Ge.name)||""}))).filter(Boolean).sort(),ce=()=>{h(""),p("All"),j("All"),w("All"),N(""),_(""),A(""),R("")},je=[m,x!=="All",g!=="All",y!=="All",b,S,E,T].filter(Boolean).length,Fe=ye=>{z(ye),F(!0)},De=()=>{Ue.success("Export Started",{description:"Your payment report is being generated..."})},de=v.useMemo(()=>{const ye=new Date;let Ge;switch(K){case"7d":Pc(ye,7),Ge=7;break;case"30d":Pc(ye,30),Ge=30;break;case"90d":Pc(ye,90),Ge=90;break;case"1y":c0e(ye,12),Ge=365;break;default:Pc(ye,30),Ge=30}const Pt=[];for(let kt=Ge;kt>=0;kt--){const vr=Pc(ye,kt),qr=Xt(vr,"yyyy-MM-dd"),Vr=f.filter(Pr=>{var jt;return Pr.last_payment_date===qr?!0:(jt=Pr.payment_history)==null?void 0:jt.some(Ft=>Ft.date===qr)}).reduce((Pr,jt)=>{var tr;const Ft=((tr=jt.payment_history)==null?void 0:tr.filter(Un=>Un.date===qr))||[];return Pr+Ft.reduce((Un,ds)=>Un+(ds.amount||0),0)},0);Pt.push({date:Xt(vr,"MMM dd"),fullDate:qr,paid:Vr,pending:f.filter(Pr=>Pr.due_date===qr&&Pr.status!=="Paid").reduce((Pr,jt)=>Pr+(jt.outstanding_amount||0),0)})}return Pt},[f,K]),Ie=v.useMemo(()=>{const ye={Paid:f.filter(Ge=>Ge.status==="Paid").length,Partial:f.filter(Ge=>Ge.status==="Partial").length,Unpaid:f.filter(Ge=>Ge.status==="Unpaid").length,Overdue:f.filter(Ge=>Ge.status==="Overdue").length};return[{name:"Paid",value:ye.Paid,color:"hsl(var(--success))"},{name:"Partial",value:ye.Partial,color:"hsl(var(--warning))"},{name:"Unpaid",value:ye.Unpaid,color:"hsl(var(--muted-foreground))"},{name:"Overdue",value:ye.Overdue,color:"hsl(var(--danger))"}].filter(Ge=>Ge.value>0)},[f]),it=v.useMemo(()=>{const ye={};return f.forEach(Ge=>{var kt;const Pt=Ge.vendor_name||((kt=Ge.vendor_details)==null?void 0:kt.name)||"Unknown";ye[Pt]||(ye[Pt]={total:0,paid:0,pending:0}),ye[Pt].total+=Ge.total_amount||0,ye[Pt].paid+=Ge.amount_paid||0,ye[Pt].pending+=Ge.outstanding_amount||0}),Object.entries(ye).map(([Ge,Pt])=>({vendor:Ge,...Pt})).sort((Ge,Pt)=>Pt.total-Ge.total).slice(0,5)},[f]);return o?n.jsx(ct,{title:"Payments",children:n.jsx(wrt,{})}):n.jsxs(ct,{title:"Payments",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs(te,{onClick:()=>e("/payments/new"),size:"lg",className:"h-11",children:[n.jsx(Xn,{className:"h-5 w-5 mr-2"}),"Create Payment"]}),n.jsxs(te,{variant:"outline",onClick:De,children:[n.jsx(Fv,{className:"h-4 w-4 mr-2"}),"Export Report"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold tracking-tight",children:[xe.toLocaleString()," HUF"]})]}),n.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:n.jsx(Nr,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Total Paid"}),n.jsxs("p",{className:"text-2xl font-bold tracking-tight text-success",children:[_e.toLocaleString()," HUF"]})]}),n.jsx("div",{className:"p-3 bg-success/10 rounded-lg",children:n.jsx(Ur,{className:"h-6 w-6 text-success"})})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Outstanding"}),n.jsxs("p",{className:"text-2xl font-bold tracking-tight text-warning",children:[Re.toLocaleString()," HUF"]})]}),n.jsx("div",{className:"p-3 bg-warning/10 rounded-lg",children:n.jsx(wr,{className:"h-6 w-6 text-warning"})})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Overdue"}),n.jsx("p",{className:"text-2xl font-bold tracking-tight text-danger",children:ke}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[re," Partial"]})]}),n.jsx("div",{className:"p-3 bg-danger/10 rounded-lg",children:n.jsx(Et,{className:"h-6 w-6 text-danger"})})]})})})]}),n.jsxs(X,{children:[n.jsx(be,{className:"pb-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(Ve,{className:"text-lg font-semibold",children:"Payment Analytics"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Visual insights into payment trends and status"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(st,{value:K,onValueChange:ye=>ne(ye),children:[n.jsx(rt,{className:"w-[130px]",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"7d",children:"Last 7 days"}),n.jsx(J,{value:"30d",children:"Last 30 days"}),n.jsx(J,{value:"90d",children:"Last 90 days"}),n.jsx(J,{value:"1y",children:"Last year"})]})]})})]})}),n.jsx(Q,{children:n.jsxs(Ro,{value:D,onValueChange:ye=>U(ye),children:[n.jsxs(no,{className:"grid w-full grid-cols-3 mb-6",children:[n.jsxs(Ut,{value:"trends",className:"flex items-center gap-2",children:[n.jsx(Vf,{className:"h-4 w-4"}),"Payment Trends"]}),n.jsxs(Ut,{value:"status",className:"flex items-center gap-2",children:[n.jsx(Ur,{className:"h-4 w-4"}),"Status Distribution"]}),n.jsxs(Ut,{value:"vendors",className:"flex items-center gap-2",children:[n.jsx(li,{className:"h-4 w-4"}),"Vendor Comparison"]})]}),n.jsx(Qt,{value:"trends",className:"mt-0",children:n.jsx(un,{width:"100%",height:350,children:n.jsxs(VLe,{data:de,children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorPaid",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"hsl(var(--success))",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"hsl(var(--success))",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorPending",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"hsl(var(--warning))",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"hsl(var(--warning))",stopOpacity:0})]})]}),n.jsx(zn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(rn,{dataKey:"date",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(nn,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:ye=>`${(ye/1e3).toFixed(0)}k`}),n.jsx(hr,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:ye=>[`${ye.toLocaleString()} HUF`,""]}),n.jsx(il,{}),n.jsx(id,{type:"monotone",dataKey:"paid",stroke:"hsl(var(--success))",fillOpacity:1,fill:"url(#colorPaid)",name:"Paid"}),n.jsx(id,{type:"monotone",dataKey:"pending",stroke:"hsl(var(--warning))",fillOpacity:1,fill:"url(#colorPending)",name:"Pending"})]})})}),n.jsx(Qt,{value:"status",className:"mt-0",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(un,{width:"100%",height:350,children:n.jsxs(Lg,{children:[n.jsx(zi,{data:Ie,cx:"50%",cy:"50%",labelLine:!1,label:({name:ye,percent:Ge})=>`${ye}: ${(Ge*100).toFixed(0)}%`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:Ie.map((ye,Ge)=>n.jsx(Ca,{fill:ye.color},`cell-${Ge}`))}),n.jsx(hr,{})]})}),n.jsx("div",{className:"flex flex-col justify-center space-y-4",children:Ie.map(ye=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:ye.color}}),n.jsx("span",{className:"font-medium",children:ye.name})]}),n.jsx("span",{className:"text-2xl font-bold",children:ye.value})]},ye.name))})]})}),n.jsx(Qt,{value:"vendors",className:"mt-0",children:n.jsx(un,{width:"100%",height:350,children:n.jsxs(Sa,{data:it,children:[n.jsx(zn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(rn,{dataKey:"vendor",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(nn,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:ye=>`${(ye/1e3).toFixed(0)}k`}),n.jsx(hr,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:ye=>[`${ye.toLocaleString()} HUF`,""]}),n.jsx(il,{}),n.jsx(wn,{dataKey:"paid",fill:"hsl(var(--success))",name:"Paid",radius:[4,4,0,0]}),n.jsx(wn,{dataKey:"pending",fill:"hsl(var(--warning))",name:"Pending",radius:[4,4,0,0]})]})})})]})})]}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search by vendor, order reference, or apartment...",value:m,onChange:ye=>h(ye.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap lg:flex-nowrap",children:[n.jsxs(st,{value:x,onValueChange:p,children:[n.jsx(rt,{className:"w-full sm:w-[140px]",children:n.jsx(at,{placeholder:"Status"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"All",children:"All Status"}),n.jsx(J,{value:"Paid",children:"Paid"}),n.jsx(J,{value:"Partial",children:"Partial"}),n.jsx(J,{value:"Unpaid",children:"Unpaid"}),n.jsx(J,{value:"Overdue",children:"Overdue"})]})]}),n.jsxs(st,{value:g,onValueChange:j,children:[n.jsx(rt,{className:"w-full sm:w-[140px]",children:n.jsx(at,{placeholder:"Vendor"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"All",children:"All Vendors"}),he.map(ye=>n.jsx(J,{value:ye,children:ye},ye))]})]}),n.jsxs(te,{variant:L?"default":"outline",onClick:()=>G(!L),className:"relative",children:[n.jsx($v,{className:"h-4 w-4 mr-2"}),"Filters",je>0&&n.jsx(Ce,{className:"ml-2 h-5 w-5 p-0 flex items-center justify-center bg-primary text-primary-foreground",children:je}),L?n.jsx(vN,{className:"h-4 w-4 ml-2"}):n.jsx(Du,{className:"h-4 w-4 ml-2"})]})]})]}),L&&n.jsxs("div",{className:"pt-4 border-t space-y-4 animate-slide-down",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Advanced Filters"}),je>0&&n.jsxs(te,{variant:"ghost",size:"sm",onClick:ce,className:"h-8 text-xs",children:[n.jsx(ps,{className:"h-3 w-3 mr-1"}),"Clear All"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Apartment"}),n.jsxs(st,{value:y,onValueChange:w,children:[n.jsx(rt,{children:n.jsx(at,{placeholder:"All Apartments"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"All",children:"All Apartments"}),t.map(ye=>n.jsx(J,{value:ye.id,children:ye.name},ye.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Due Date From"}),n.jsx(me,{type:"date",value:b,onChange:ye=>N(ye.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Due Date To"}),n.jsx(me,{type:"date",value:S,onChange:ye=>_(ye.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Min Amount (HUF)"}),n.jsx(me,{type:"number",placeholder:"0",value:E,onChange:ye=>A(ye.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Max Amount (HUF)"}),n.jsx(me,{type:"number",placeholder:"1000000",value:T,onChange:ye=>R(ye.target.value)})]})]}),je>0&&n.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[m&&n.jsxs(Ce,{variant:"secondary",className:"gap-1",children:["Search: ",m,n.jsx(ps,{className:"h-3 w-3 cursor-pointer",onClick:()=>h("")})]}),x!=="All"&&n.jsxs(Ce,{variant:"secondary",className:"gap-1",children:["Status: ",x,n.jsx(ps,{className:"h-3 w-3 cursor-pointer",onClick:()=>p("All")})]}),g!=="All"&&n.jsxs(Ce,{variant:"secondary",className:"gap-1",children:["Vendor: ",g,n.jsx(ps,{className:"h-3 w-3 cursor-pointer",onClick:()=>j("All")})]}),y!=="All"&&n.jsxs(Ce,{variant:"secondary",className:"gap-1",children:["Apartment: ",((bt=t.find(ye=>ye.id===y))==null?void 0:bt.name)||y,n.jsx(ps,{className:"h-3 w-3 cursor-pointer",onClick:()=>w("All")})]}),b&&n.jsxs(Ce,{variant:"secondary",className:"gap-1",children:["From: ",Xt(new Date(b),"MMM dd, yyyy"),n.jsx(ps,{className:"h-3 w-3 cursor-pointer",onClick:()=>N("")})]}),S&&n.jsxs(Ce,{variant:"secondary",className:"gap-1",children:["To: ",Xt(new Date(S),"MMM dd, yyyy"),n.jsx(ps,{className:"h-3 w-3 cursor-pointer",onClick:()=>_("")})]}),E&&n.jsxs(Ce,{variant:"secondary",className:"gap-1",children:["Min: ",parseFloat(E).toLocaleString()," HUF",n.jsx(ps,{className:"h-3 w-3 cursor-pointer",onClick:()=>A("")})]}),T&&n.jsxs(Ce,{variant:"secondary",className:"gap-1",children:["Max: ",parseFloat(T).toLocaleString()," HUF",n.jsx(ps,{className:"h-3 w-3 cursor-pointer",onClick:()=>R("")})]})]})]}),n.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",n.jsx("span",{className:"font-semibold text-foreground",children:ge.length})," of"," ",n.jsx("span",{className:"font-semibold text-foreground",children:f.length})," payments"]})})]})})}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{className:"text-lg font-semibold",children:"Payment Records"})}),n.jsx(Q,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Bt,{className:"bg-muted/50",children:[n.jsx(Pe,{className:"font-semibold",children:"Vendor"}),n.jsx(Pe,{className:"font-semibold",children:"Order Ref"}),n.jsx(Pe,{className:"font-semibold",children:"Apartment"}),n.jsx(Pe,{className:"font-semibold text-right",children:"Total Amount"}),n.jsx(Pe,{className:"font-semibold text-right",children:"Paid"}),n.jsx(Pe,{className:"font-semibold text-right",children:"Balance"}),n.jsx(Pe,{className:"font-semibold",children:"Due Date"}),n.jsx(Pe,{className:"font-semibold",children:"Status"}),n.jsx(Pe,{className:"font-semibold text-center",children:"Actions"})]})}),n.jsx($s,{children:ge.length===0?n.jsx(Bt,{children:n.jsx(Ne,{colSpan:9,className:"text-center py-12 text-muted-foreground",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(Ub,{className:"h-12 w-12 text-muted-foreground/50"}),n.jsx("p",{children:"No payments found matching your filters"})]})})}):ge.map(ye=>{var jt;const Ge=ye.total_amount||0,Pt=ye.amount_paid||0,kt=ye.outstanding_amount||0,vr=ye.status==="Overdue",Vr=new Date(ye.due_date)<new Date&&ye.status!=="Paid",Pr=ye.vendor_name||((jt=ye.vendor_details)==null?void 0:jt.name)||"Unknown";return n.jsxs(Bt,{className:ve("transition-colors cursor-pointer hover:bg-muted/50",vr&&"bg-danger/5 hover:bg-danger/10"),onClick:()=>e(`/payments/${ye.id}`),children:[n.jsxs(Ne,{children:[n.jsx("div",{className:"font-medium text-foreground",children:Pr}),ye.notes&&n.jsx("div",{className:"text-xs text-muted-foreground mt-0.5 max-w-[200px] truncate",children:ye.notes})]}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Ub,{className:"h-3.5 w-3.5 text-muted-foreground"}),n.jsx("span",{className:"font-mono text-sm",children:ye.order_reference})]})}),n.jsx(Ne,{children:n.jsx(Ce,{variant:"outline",className:"font-normal",children:ie(ye)})}),n.jsx(Ne,{className:"text-right",children:n.jsxs("span",{className:"font-semibold",children:[Ge.toLocaleString()," HUF"]})}),n.jsx(Ne,{className:"text-right",children:Pt>0?n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs("div",{className:"font-semibold text-success",children:[Pt.toLocaleString()," HUF"]}),ye.last_payment_date&&n.jsx("div",{className:"text-xs text-muted-foreground",children:Xt(new Date(ye.last_payment_date),"MMM dd")})]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(Ne,{className:"text-right",children:kt>0?n.jsxs("span",{className:ve("font-semibold",vr?"text-danger":"text-warning"),children:[kt.toLocaleString()," HUF"]}):n.jsx("span",{className:"text-success",children:" Paid"})}),n.jsx(Ne,{children:n.jsx("div",{className:ve("text-sm",Vr&&"text-danger font-semibold"),children:Xt(new Date(ye.due_date),"MMM dd, yyyy")})}),n.jsx(Ne,{children:n.jsxs(Ce,{className:we(ye.status),children:[ue(ye.status),n.jsx("span",{className:"ml-1",children:ye.status})]})}),n.jsx(Ne,{className:"text-center",onClick:Ft=>Ft.stopPropagation(),children:n.jsx("div",{className:"flex items-center justify-center gap-1",children:n.jsxs(ry,{children:[n.jsx(ny,{asChild:!0,children:n.jsx(te,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(d7,{className:"h-4 w-4"})})}),n.jsxs(Jp,{align:"end",children:[n.jsxs(Rn,{onClick:()=>e(`/payments/${ye.id}`),children:[n.jsx(oi,{className:"h-4 w-4 mr-2"}),"View Details"]}),ye.status!=="Paid"&&n.jsxs(n.Fragment,{children:[n.jsx(Lc,{}),n.jsxs(Rn,{onClick:()=>Fe(ye),className:"text-success focus:text-success",children:[n.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]}),n.jsx(Lc,{}),n.jsxs(Rn,{onClick:()=>e(`/payments/${ye.id}/edit`),children:[n.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Edit Payment"]}),n.jsx(Lc,{}),n.jsxs(Rn,{className:"text-danger focus:text-danger",onClick:()=>{Y(ye),fe(!0)},children:[n.jsx(pn,{className:"h-4 w-4 mr-2"}),"Delete Payment"]})]})]})})})]},ye.id)})})]})})})]})]}),n.jsx(m3,{payment:I,open:H,onOpenChange:F,onSave:async(ye,Ge,Pt,kt)=>{if(I)try{await u.mutateAsync({payment:I.id,date:new Date().toISOString().split("T")[0],amount:ye,method:Ge,reference_no:Pt,note:kt}),Ue.success("Payment Recorded",{description:`${ye.toLocaleString()} HUF recorded successfully`}),F(!1),c()}catch{Ue.error("Failed to record payment")}}}),n.jsx(prt,{payment:I,open:k,onOpenChange:P}),n.jsx(xrt,{open:M,onOpenChange:O}),n.jsx(fc,{open:le,onOpenChange:fe,children:n.jsxs(yl,{className:"max-w-md",onKeyDown:async ye=>{if(ye.key==="Enter"&&B&&!d.isPending){ye.preventDefault();try{await d.mutateAsync(B.id),Ue.success("Payment Deleted",{description:`Payment ${B.order_reference} has been deleted.`}),fe(!1),Y(null),c()}catch{Ue.error("Failed to delete payment")}}},children:[n.jsxs(jl,{className:"space-y-4",children:[n.jsx("div",{className:"mx-auto w-14 h-14 rounded-full bg-danger/10 flex items-center justify-center",children:n.jsx(dl,{className:"h-7 w-7 text-danger"})}),n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx(wl,{className:"text-xl",children:"Delete Payment"}),n.jsx(Nl,{className:"text-base",children:"Are you sure you want to delete this payment record?"})]}),B&&n.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 border space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Order Reference"}),n.jsx("span",{className:"font-semibold",children:B.order_reference})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Vendor"}),n.jsx("span",{className:"font-medium",children:B.vendor_name||((qe=B.vendor_details)==null?void 0:qe.name)||"N/A"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Amount"}),n.jsxs("span",{className:"font-semibold text-primary",children:[(B.total_amount||0).toLocaleString()," HUF"]})]})]}),n.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:[n.jsx(dl,{className:"h-3.5 w-3.5 inline mr-1 text-warning"}),"This action cannot be undone. All payment history will be lost."]})]}),n.jsxs(bl,{className:"sm:space-x-3 mt-2",children:[n.jsxs(Sl,{className:"flex-1 sm:flex-none",children:[n.jsx(Vl,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsx(_l,{className:"flex-1 sm:flex-none bg-danger text-danger-foreground hover:bg-danger/90",disabled:d.isPending,onClick:async()=>{if(B)try{await d.mutateAsync(B.id),Ue.success("Payment Deleted",{description:`Payment ${B.order_reference} has been deleted.`}),fe(!1),Y(null),c()}catch{Ue.error("Failed to delete payment")}},children:d.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(pn,{className:"h-4 w-4 mr-2"}),"Delete Payment"]})})]})]})})]})},_rt=()=>{var k,P,M;const e=mr(),[t]=TN(),[r,s]=v.useState("select-order"),[a,i]=v.useState(null),[o,l]=v.useState([]),[c,d]=v.useState({due_date:"",total_amount:"",needs_to_pay:"",shipping_cost:"",discount:"",payment_method:"Bank Transfer",reference_number:"",notes:"",bank_name:"",account_holder:"",account_number:"",iban:"",card_holder:"",card_last_four:""}),[u,f]=v.useState(""),[m,h]=v.useState(!1),{orders:x,loading:p}=yQ({page_size:100}),{data:g}=u3({page_size:200}),j=(g==null?void 0:g.results)||[],y=ABe(),w=v.useMemo(()=>{const O=new Map;return j.forEach(K=>{K.order&&(!O.get(K.order)||K.status==="Paid")&&O.set(K.order,{status:K.status,paymentId:K.id})}),O},[j]),b=v.useMemo(()=>x.filter(O=>{const K=w.get(O.id);return!K||K.status!=="Paid"}),[x,w]),N=v.useMemo(()=>{if(!u.trim())return b;const O=u.toLowerCase();return b.filter(K=>{var ne,D,U;return((ne=K.po_number)==null?void 0:ne.toLowerCase().includes(O))||((D=K.vendor_name)==null?void 0:D.toLowerCase().includes(O))||((U=K.apartment_name)==null?void 0:U.toLowerCase().includes(O))})},[b,u]),S=v.useMemo(()=>!a||!a.items||o.length===0?0:a.items.filter(O=>o.includes(O.id||"")).reduce((O,K)=>{const ne=parseFloat(String(K.unit_price||0)),D=K.quantity||1;return O+ne*D},0),[a,o]);v.useEffect(()=>{if(a&&a.items){const O=t.get("product");if(O){const ne=a.items.find(D=>D.product===O);ne&&ne.id?l([ne.id]):l(a.items.map(D=>D.id||"").filter(Boolean))}else l(a.items.map(ne=>ne.id||"").filter(Boolean));let K;a.expected_delivery?K=new Date(a.expected_delivery):(K=new Date,K.setDate(K.getDate()+30)),d(ne=>({...ne,due_date:K.toISOString().split("T")[0],total_amount:"",needs_to_pay:"0",shipping_cost:"0",discount:"0"}))}},[a,t]),v.useEffect(()=>{S>0&&d(O=>({...O,total_amount:Math.round(S).toString()}))},[S]),v.useEffect(()=>{const O=t.get("order");if(O&&x.length>0&&!a){const K=x.find(ne=>ne.id===O);K&&A(K)}},[t,x,a]);const _=v.useMemo(()=>{const O=parseInt(c.total_amount)||0,K=parseInt(c.shipping_cost)||0,ne=parseInt(c.discount)||0;return O+K-ne},[c.total_amount,c.shipping_cost,c.discount]),E=v.useMemo(()=>{const O=parseInt(c.needs_to_pay)||0;return _-O},[_,c.needs_to_pay]),A=async O=>{h(!0);try{const K=await Ps.getOrder(O.id);i(K),s("review-items")}catch(K){console.error("Error fetching order details:",K),Ue.error("Failed to load order details")}finally{h(!1)}},T=O=>{l(K=>K.includes(O)?K.filter(ne=>ne!==O):[...K,O])},R=()=>{if(!a||!a.items)return;const O=a.items.map(K=>K.id||"").filter(Boolean);o.length===O.length?l([]):l(O)},I=async()=>{var O,K;if(!a){Ue.error("Please select an order");return}if(o.length===0){Ue.error("Please select at least one item");return}if(!c.due_date){Ue.error("Please set a due date");return}try{const ne=parseInt(c.needs_to_pay)||0,D={order:a.id,order_items:o,due_date:c.due_date,total_amount:parseInt(c.total_amount)||0,shipping_cost:parseInt(c.shipping_cost)||0,discount:parseInt(c.discount)||0,amount_paid:0,payment_method:c.payment_method,reference_number:c.reference_number,notes:c.notes,bank_name:c.bank_name,account_holder:c.account_holder,account_number:c.account_number,iban:c.iban,card_holder:c.card_holder,card_last_four:c.card_last_four},U=await y.mutateAsync(D);ne>0&&await gd.createPaymentHistory({payment:U.id,date:new Date().toISOString().split("T")[0],amount:ne,method:c.payment_method||"Bank Transfer",reference_no:c.reference_number||"",note:"Initial payment when creating payment record"}),Ue.success("Payment created successfully!"),e("/payments")}catch(ne){console.error("Error creating payment:",ne),Ue.error(((K=(O=ne.response)==null?void 0:O.data)==null?void 0:K.message)||"Failed to create payment")}},z=O=>({pending:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",confirmed:"bg-blue-500/10 text-blue-600 border-blue-500/20",processing:"bg-purple-500/10 text-purple-600 border-purple-500/20",shipped:"bg-indigo-500/10 text-indigo-600 border-indigo-500/20",delivered:"bg-green-500/10 text-green-600 border-green-500/20",cancelled:"bg-red-500/10 text-red-600 border-red-500/20"})[O==null?void 0:O.toLowerCase()]||"bg-gray-500/10 text-gray-600",H=[{id:"select-order",label:"Select Order",icon:ws},{id:"review-items",label:"Review Items",icon:lt},{id:"payment-details",label:"Payment Details",icon:bs}],F=H.findIndex(O=>O.id===r);return n.jsx(ct,{title:"Create Payment",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:()=>e("/payments"),className:"h-10 w-10 rounded-full",children:n.jsx(sr,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Payment"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Create a payment record from an existing order"})]})]}),n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between relative",children:[n.jsx("div",{className:"absolute top-5 left-0 right-0 h-0.5 bg-muted",children:n.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${F/(H.length-1)*100}%`}})}),H.map((O,K)=>{const ne=O.icon,D=K<F,U=O.id===r;return n.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[n.jsx("div",{className:ve("w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300",D&&"bg-primary text-primary-foreground",U&&"bg-primary text-primary-foreground ring-4 ring-primary/20",!D&&!U&&"bg-muted text-muted-foreground"),children:D?n.jsx(yo,{className:"h-5 w-5"}):n.jsx(ne,{className:"h-5 w-5"})}),n.jsx("span",{className:ve("mt-2 text-sm font-medium",U?"text-primary":"text-muted-foreground"),children:O.label})]},O.id)})]})}),r==="select-order"&&n.jsxs(X,{className:"border-0 shadow-lg",children:[n.jsx(be,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:n.jsx(ws,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Select an Order"}),n.jsx(Dr,{children:"Choose an order to create a payment record"})]})]})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx(ha,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search by PO number, vendor, or apartment...",value:u,onChange:O=>f(O.target.value),className:"pl-10 h-11"})]}),p||m?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(Ht,{className:"h-6 w-6 animate-spin text-muted-foreground mr-2"}),n.jsx("span",{className:"text-muted-foreground",children:m?"Loading order details...":"Loading orders..."})]}):N.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[n.jsx(ws,{className:"h-10 w-10 mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No orders found"})]}):n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Bt,{className:"bg-muted/50 hover:bg-muted/50",children:[n.jsx(Pe,{className:"font-semibold",children:"PO Number"}),n.jsx(Pe,{className:"font-semibold",children:"Apartment"}),n.jsx(Pe,{className:"font-semibold",children:"Vendor"}),n.jsx(Pe,{className:"font-semibold text-center",children:"Items"}),n.jsx(Pe,{className:"font-semibold",children:"Date"}),n.jsx(Pe,{className:"font-semibold text-right",children:"Total"}),n.jsx(Pe,{className:"w-10"})]})}),n.jsx($s,{children:N.map(O=>{var ne,D;const K=parseFloat(String(O.total||0));return n.jsxs(Bt,{onClick:()=>A(O),className:ve("cursor-pointer transition-colors",(a==null?void 0:a.id)===O.id?"bg-primary/5":"hover:bg-muted/50"),children:[n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-semibold",children:O.po_number}),n.jsx(Ce,{variant:"outline",className:ve("text-xs",z(O.status)),children:O.status}),((ne=w.get(O.id))==null?void 0:ne.status)==="Partial"&&n.jsx(Ce,{variant:"outline",className:"text-xs bg-warning/10 text-warning border-warning/20",children:"Has Payment"})]})}),n.jsx(Ne,{children:n.jsx("span",{className:"text-muted-foreground",children:O.apartment_name||"N/A"})}),n.jsx(Ne,{children:n.jsx("span",{className:"text-muted-foreground",children:O.vendor_name||"N/A"})}),n.jsx(Ne,{className:"text-center",children:n.jsx("span",{className:"text-muted-foreground",children:O.items_count||((D=O.items)==null?void 0:D.length)||0})}),n.jsx(Ne,{children:n.jsx("span",{className:"text-muted-foreground",children:O.placed_on?Xt(new Date(O.placed_on),"MMM dd, yyyy"):"N/A"})}),n.jsx(Ne,{className:"text-right",children:n.jsxs("span",{className:"font-semibold text-primary",children:[K.toLocaleString()," HUF"]})}),n.jsx(Ne,{children:n.jsx(gu,{className:"h-4 w-4 text-muted-foreground"})})]},O.id)})})]})})]})]}),r==="review-items"&&a&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(X,{className:"border-0 shadow-lg bg-gradient-to-br from-primary/5 to-primary/10",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Selected Order"}),n.jsx("h2",{className:"text-2xl font-bold",children:a.po_number}),n.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(fr,{className:"h-4 w-4"}),a.apartment_name]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(os,{className:"h-4 w-4"}),a.vendor_name]})]})]}),n.jsx(te,{variant:"outline",onClick:()=>s("select-order"),children:"Change Order"})]})})}),n.jsxs(X,{className:"border-0 shadow-lg",children:[n.jsx(be,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:n.jsx(lt,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Order Items"}),n.jsx(Dr,{children:"Select items to include in this payment"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dd,{id:"select-all",checked:o.length===(((k=a.items)==null?void 0:k.length)||0),onCheckedChange:R}),n.jsxs(q,{htmlFor:"select-all",className:"cursor-pointer text-sm font-medium",children:["Select All (",o.length,"/",((P=a.items)==null?void 0:P.length)||0,")"]})]})]})}),n.jsxs(Q,{children:[n.jsx("div",{className:"rounded-xl border overflow-hidden",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Bt,{className:"bg-muted/50",children:[n.jsx(Pe,{className:"w-12"}),n.jsx(Pe,{children:"Product"}),n.jsx(Pe,{children:"Category"}),n.jsx(Pe,{className:"text-center",children:"Quantity"}),n.jsx(Pe,{className:"text-right",children:"Unit Price"}),n.jsx(Pe,{className:"text-right",children:"Total"})]})}),n.jsx($s,{children:(a.items||[]).map(O=>{const K=o.includes(O.id||""),ne=parseFloat(String(O.unit_price||0)),D=ne*(O.quantity||1);return n.jsxs(Bt,{className:ve("cursor-pointer transition-colors",K?"bg-primary/5":"hover:bg-muted/50"),onClick:()=>T(O.id||""),children:[n.jsx(Ne,{onClick:U=>U.stopPropagation(),children:n.jsx(dd,{checked:K,onCheckedChange:()=>T(O.id||"")})}),n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[O.product_image||O.product_image_url?n.jsx("img",{src:O.product_image||O.product_image_url,alt:O.product_name||"Product",className:"w-10 h-10 rounded-lg object-cover border"}):n.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:n.jsx(lt,{className:"h-5 w-5 text-muted-foreground"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:O.product_name||"Unknown Product"}),O.sku&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",O.sku]})]})]})}),n.jsx(Ne,{children:n.jsx(Ce,{variant:"outline",className:"font-normal",children:O.category_name||"N/A"})}),n.jsx(Ne,{className:"text-center font-medium",children:O.quantity}),n.jsxs(Ne,{className:"text-right",children:[ne.toLocaleString()," HUF"]}),n.jsxs(Ne,{className:"text-right font-semibold",children:[D.toLocaleString()," HUF"]})]},O.id)})})]})}),n.jsx("div",{className:"mt-6 p-4 rounded-xl bg-gradient-to-r from-primary/10 to-primary/5 border border-primary/20",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:n.jsx(lr,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.length," item",o.length!==1?"s":""," selected"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready for payment"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),n.jsxs("p",{className:"text-3xl font-bold text-primary",children:[S.toLocaleString()," ",n.jsx("span",{className:"text-lg",children:"HUF"})]})]})]})})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(te,{variant:"outline",onClick:()=>s("select-order"),className:"gap-2",children:[n.jsx(sr,{className:"h-4 w-4"}),"Back"]}),n.jsxs(te,{onClick:()=>s("payment-details"),disabled:o.length===0,className:"gap-2",children:["Continue",n.jsx(gu,{className:"h-4 w-4"})]})]})]}),r==="payment-details"&&a&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(X,{className:"border-0 shadow-lg",children:[n.jsx(be,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 bg-green-500/10 rounded-xl",children:n.jsx(Nr,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Payment Amount"}),n.jsx(Dr,{children:"Set the payment amounts"})]})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"total_amount",className:"text-sm font-medium",children:["Total Amount (HUF) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(me,{id:"total_amount",type:"number",step:"1",min:"0",value:c.total_amount,onChange:O=>d(K=>({...K,total_amount:O.target.value})),placeholder:"0",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"needs_to_pay",className:"text-sm font-medium",children:"Amount Paid (HUF)"}),n.jsx(me,{id:"needs_to_pay",type:"number",step:"1",min:"0",value:c.needs_to_pay,onChange:O=>d(K=>({...K,needs_to_pay:O.target.value})),placeholder:"0",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-sm font-medium",children:"Outstanding Balance (HUF)"}),n.jsx("div",{className:ve("h-11 px-3 flex items-center rounded-md border bg-muted/50 font-semibold",E>0?"text-red-600":E<0?"text-green-600":"text-muted-foreground"),children:E.toLocaleString()})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"shipping_cost",className:"text-sm font-medium",children:["Shipping Cost (HUF) ",n.jsx("span",{className:"text-muted-foreground text-xs",children:"(Optional)"})]}),n.jsx(me,{id:"shipping_cost",type:"number",step:"1",min:"0",value:c.shipping_cost,onChange:O=>d(K=>({...K,shipping_cost:O.target.value})),placeholder:"0",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"discount",className:"text-sm font-medium",children:["Discount (HUF) ",n.jsx("span",{className:"text-muted-foreground text-xs",children:"(Optional)"})]}),n.jsx(me,{id:"discount",type:"number",step:"1",min:"0",value:c.discount,onChange:O=>d(K=>({...K,discount:O.target.value})),placeholder:"0",className:"h-11"})]})]}),(parseInt(c.shipping_cost)>0||parseInt(c.discount)>0)&&n.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),n.jsxs("span",{children:[parseInt(c.total_amount||"0").toLocaleString()," HUF"]})]}),parseInt(c.shipping_cost)>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"+ Shipping"}),n.jsxs("span",{children:[parseInt(c.shipping_cost).toLocaleString()," HUF"]})]}),parseInt(c.discount)>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"- Discount"}),n.jsxs("span",{className:"text-green-600",children:["-",parseInt(c.discount).toLocaleString()," HUF"]})]}),n.jsx($t,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between font-semibold",children:[n.jsx("span",{children:"Final Total"}),n.jsxs("span",{className:"text-primary",children:[_.toLocaleString()," HUF"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"due_date",className:"flex items-center gap-2 text-sm font-medium",children:[n.jsx(on,{className:"h-4 w-4 text-muted-foreground"}),"Due Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(me,{id:"due_date",type:"date",value:c.due_date,onChange:O=>d(K=>({...K,due_date:O.target.value})),className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{className:"flex items-center gap-2 text-sm font-medium",children:[n.jsx($n,{className:"h-4 w-4 text-muted-foreground"}),"Order Reference"]}),n.jsx("div",{className:"h-11 px-3 flex items-center rounded-md border bg-muted/50 text-muted-foreground",children:a.po_number})]})]})]})]}),n.jsxs(X,{className:"border-0 shadow-lg",children:[n.jsx(be,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:n.jsx(bs,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Payment Details"}),n.jsx(Dr,{children:"Configure payment method and details"})]})]})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsx("div",{className:"space-y-3",children:n.jsx("div",{className:"grid grid-cols-3 gap-2 p-1 bg-muted rounded-lg",children:[{value:"Bank Transfer",icon:_k,label:"Bank Transfer"},{value:"Card Payment",icon:bs,label:"Card Payment"},{value:"Cash",icon:u0,label:"Cash"}].map(O=>{const K=O.icon,ne=c.payment_method===O.value;return n.jsxs("button",{type:"button",onClick:()=>d(D=>({...D,payment_method:O.value})),className:ve("py-2.5 px-4 rounded-md transition-all duration-200 flex items-center justify-center gap-2",ne?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[n.jsx(K,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:O.label})]},O.value)})})}),c.payment_method==="Bank Transfer"&&n.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"bank_name",className:"text-sm font-medium",children:"Bank Name"}),n.jsx(me,{id:"bank_name",value:c.bank_name,onChange:O=>d(K=>({...K,bank_name:O.target.value})),placeholder:"e.g., OTP Bank",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"account_holder",className:"text-sm font-medium",children:"Account Holder"}),n.jsx(me,{id:"account_holder",value:c.account_holder,onChange:O=>d(K=>({...K,account_holder:O.target.value})),placeholder:"Full name",className:"h-11"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"account_number",className:"text-sm font-medium",children:"Account Number"}),n.jsx(me,{id:"account_number",value:c.account_number,onChange:O=>d(K=>({...K,account_number:O.target.value})),placeholder:"XXXX-XXXX-XXXX-XXXX",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"iban",className:"text-sm font-medium",children:"IBAN"}),n.jsx(me,{id:"iban",value:c.iban,onChange:O=>d(K=>({...K,iban:O.target.value})),placeholder:"HU42 1177 3016 1111 1018 0000 0000",className:"h-11"})]})]})]}),c.payment_method==="Card Payment"&&n.jsx("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"card_holder",className:"text-sm font-medium",children:"Card Holder Name"}),n.jsx(me,{id:"card_holder",value:c.card_holder,onChange:O=>d(K=>({...K,card_holder:O.target.value})),placeholder:"Name on card",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"card_last_four",className:"text-sm font-medium",children:"Card Last 4 Digits"}),n.jsx(me,{id:"card_last_four",value:c.card_last_four,onChange:O=>d(K=>({...K,card_last_four:O.target.value.slice(0,4)})),placeholder:"1234",maxLength:4,className:"h-11"})]})]})}),c.payment_method==="Cash"&&n.jsx("div",{className:"p-4 bg-muted/30 rounded-lg border",children:n.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"No additional details required for cash payment"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"reference",className:"text-sm font-medium",children:"Reference Number (Optional)"}),n.jsx(me,{id:"reference",value:c.reference_number,onChange:O=>d(K=>({...K,reference_number:O.target.value})),placeholder:"e.g., INV-2025-001",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",className:"text-sm font-medium",children:"Notes (Optional)"}),n.jsx(Sn,{id:"notes",value:c.notes,onChange:O=>d(K=>({...K,notes:O.target.value})),placeholder:"Add any additional notes...",rows:3})]})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(te,{variant:"outline",onClick:()=>s("review-items"),className:"gap-2",children:[n.jsx(sr,{className:"h-4 w-4"}),"Back"]}),n.jsx(te,{onClick:I,disabled:y.isPending||!c.due_date||!c.total_amount,className:"gap-2 px-8",children:y.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(vu,{className:"h-4 w-4"}),"Create Payment"]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{className:"border-0 shadow-lg",children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"text-base flex items-center gap-2",children:[n.jsx(ws,{className:"h-4 w-4"}),"Order Summary"]})}),n.jsx(Q,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Order Number"}),n.jsx("span",{className:"font-medium",children:a.po_number})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Apartment"}),n.jsx("span",{className:"font-medium",children:a.apartment_name})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Vendor"}),n.jsx("span",{className:"font-medium",children:a.vendor_name})]}),n.jsx($t,{}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Items Selected"}),n.jsxs("span",{className:"font-medium",children:[o.length," of ",((M=a.items)==null?void 0:M.length)||0]})]})]})})]}),n.jsxs(X,{className:"border-0 shadow-lg bg-gradient-to-br from-primary/5 to-primary/10",children:[n.jsx(be,{className:"pb-3",children:n.jsxs(Ve,{className:"text-base flex items-center gap-2",children:[n.jsx(Nr,{className:"h-4 w-4"}),"Payment Summary"]})}),n.jsx(Q,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),n.jsxs("span",{className:"font-medium",children:[parseInt(c.total_amount||"0").toLocaleString()," HUF"]})]}),parseInt(c.shipping_cost)>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),n.jsxs("span",{className:"font-medium",children:["+",parseInt(c.shipping_cost).toLocaleString()," HUF"]})]}),parseInt(c.discount)>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Discount"}),n.jsxs("span",{className:"font-medium text-green-600",children:["-",parseInt(c.discount).toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Final Total"}),n.jsxs("span",{className:"font-medium",children:[_.toLocaleString()," HUF"]})]}),n.jsx($t,{}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Amount Paid"}),n.jsxs("span",{className:"font-medium text-green-600",children:[parseInt(c.needs_to_pay||"0").toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Outstanding"}),n.jsxs("span",{className:ve("font-medium",E>0?"text-red-600":"text-green-600"),children:[E.toLocaleString()," HUF"]})]}),n.jsx($t,{}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Due Date"}),n.jsx("span",{className:"font-medium",children:c.due_date?Xt(new Date(c.due_date),"MMM dd, yyyy"):"Not set"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Method"}),n.jsx("span",{className:"font-medium",children:c.payment_method})]}),n.jsx($t,{}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold",children:"Outstanding Balance"}),n.jsxs("span",{className:"text-2xl font-bold text-primary",children:[E.toLocaleString()," HUF"]})]})]})})]}),n.jsx(X,{className:"border-0 shadow-lg",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:ve("p-2 rounded-lg",parseInt(c.needs_to_pay||"0")>0?parseInt(c.needs_to_pay||"0")>=_?"bg-green-500/10":"bg-blue-500/10":"bg-yellow-500/10"),children:n.jsx(wr,{className:ve("h-5 w-5",parseInt(c.needs_to_pay||"0")>0?parseInt(c.needs_to_pay||"0")>=_?"text-green-600":"text-blue-600":"text-yellow-600")})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Payment Status"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:parseInt(c.needs_to_pay||"0")<=0?"Will be created as Unpaid":parseInt(c.needs_to_pay||"0")>=_?"Will be created as Paid":"Will be created as Partial"})]})]})})})]})]})]})})};function Srt(){return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-9 w-24 rounded-md"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-9 w-48"}),n.jsx(C,{className:"h-4 w-32"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C,{className:"h-6 w-20 rounded-full"}),n.jsx(C,{className:"h-9 w-24 rounded-md"})]})]})}function Crt(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]}),n.jsx(C,{className:"h-4 w-48"})]})})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{bg:"bg-muted/50"},{bg:"bg-green-500/10"},{bg:"bg-yellow-500/10"}].map((e,t)=>n.jsxs("div",{className:`p-4 rounded-lg ${e.bg} border`,children:[n.jsx(C,{className:"h-4 w-24 mb-1"}),n.jsx(C,{className:"h-8 w-32"})]},t))}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-4 w-12"})]}),n.jsx(C,{className:"h-3 w-full rounded-full"})]}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-5 w-24"})]},t))})]})]})}function Ert(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-32"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Product","SKU","Unit Price","Qty","Total"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(3)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C,{className:"w-10 h-10 rounded"}),n.jsx(C,{className:"h-4 w-32"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-8"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-28"})})]},t))})]})})})]})}function Art(){return n.jsxs(X,{children:[n.jsxs(be,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-36"})]}),n.jsx(C,{className:"h-9 w-36 rounded-md"})]}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Date","Amount","Method","Reference","Note",""].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-16"})},t))})}),n.jsx("tbody",{children:[...Array(3)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-28 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-32"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-8 w-8 rounded"})})]},t))})]})})})]})}function Prt(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-5 w-24"})]})}),n.jsxs(Q,{className:"space-y-3",children:[[...Array(5)].map((e,t)=>n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-3 w-16"}),n.jsx(C,{className:"h-4 w-full"})]},t)),n.jsx(C,{className:"h-9 w-full rounded-md mt-4"})]})]})}function krt(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-5 w-20"})]})}),n.jsxs(Q,{className:"space-y-3",children:[[...Array(5)].map((e,t)=>n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-3 w-20"}),n.jsx(C,{className:"h-4 w-full"})]},t)),n.jsx(C,{className:"h-9 w-full rounded-md mt-4"})]})]})}function Trt(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(C,{className:"h-5 w-28"})}),n.jsxs(Q,{className:"space-y-2",children:[n.jsx(C,{className:"h-10 w-full rounded-md"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})}function Ort(){return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Srt,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(Crt,{}),n.jsx(Ert,{}),n.jsx(Art,{})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(Prt,{}),n.jsx(krt,{}),n.jsx(Trt,{})]})]})]})})}function Drt(){var y,w,b,N;const{id:e}=to(),t=mr(),{data:r,isLoading:s,error:a,refetch:i}=UX(e||""),o=f3(),l=TBe(),[c,d]=v.useState(!1),u=a?"Payment not found":e?null:"No payment ID provided";if(s)return n.jsx(Ort,{});if(u||!r)return n.jsx(ct,{title:"Payment Not Found",children:n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-4",children:[n.jsx(Et,{className:"h-12 w-12 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold",children:"Payment Not Found"}),n.jsx("p",{className:"text-muted-foreground",children:u}),n.jsxs(te,{onClick:()=>t("/payments"),children:[n.jsx(sr,{className:"h-4 w-4 mr-2"}),"Back to Payments"]})]})});const f=S=>({Paid:"bg-success/10 text-success border-success/20",Partial:"bg-warning/10 text-warning border-warning/20",Unpaid:"bg-muted text-muted-foreground border-border",Overdue:"bg-danger/10 text-danger border-danger/20"})[S]||"bg-muted",m=S=>{switch(S){case"Paid":return n.jsx(Ur,{className:"h-4 w-4"});case"Partial":return n.jsx(wr,{className:"h-4 w-4"});case"Overdue":return n.jsx(Et,{className:"h-4 w-4"});default:return n.jsx(Nr,{className:"h-4 w-4"})}},h=r.total_amount||0,x=r.amount_paid||0,p=r.outstanding_amount||0;r.shipping_cost,r.discount;const g=r.final_total||h,j=g>0?x/g*100:0;return n.jsxs(ct,{title:"Payment Details",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(te,{variant:"ghost",onClick:()=>t("/payments"),children:[n.jsx(sr,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Payment Details"}),n.jsxs("p",{className:"text-muted-foreground",children:["Order Ref: ",r.order_reference]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(Ce,{className:f(r.status),children:[m(r.status),n.jsx("span",{className:"ml-1",children:r.status})]}),n.jsxs(te,{variant:"outline",onClick:()=>t(`/payments/${r.id}/edit`),children:[n.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Ub,{className:"h-5 w-5 text-primary"}),"Payment Overview"]}),n.jsxs(Dr,{children:["Created on ",r.created_at?Xt(new Date(r.created_at),"MMM dd, yyyy"):"Unknown"]})]})})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold",children:[h.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"p-4 rounded-lg bg-success/10 border border-success/20",children:[n.jsx("p",{className:"text-sm text-success mb-1",children:"Amount Paid"}),n.jsxs("p",{className:"text-2xl font-bold text-success",children:[x.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"p-4 rounded-lg bg-warning/10 border border-warning/20",children:[n.jsx("p",{className:"text-sm text-warning mb-1",children:"Outstanding"}),n.jsxs("p",{className:"text-2xl font-bold text-warning",children:[p.toLocaleString()," HUF"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Payment Progress"}),n.jsxs("span",{className:"font-medium",children:[j.toFixed(1),"%"]})]}),n.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-success transition-all duration-500",style:{width:`${Math.min(j,100)}%`}})})]}),n.jsx($t,{}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(on,{className:"h-3 w-3"})," Due Date"]}),n.jsx("p",{className:"font-medium",children:r.due_date?Xt(new Date(r.due_date),"MMM dd, yyyy"):"Not set"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(wr,{className:"h-3 w-3"})," Last Payment"]}),n.jsx("p",{className:"font-medium",children:r.last_payment_date?Xt(new Date(r.last_payment_date),"MMM dd, yyyy"):"No payments yet"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(lt,{className:"h-3 w-3"})," Products"]}),n.jsxs("p",{className:"font-medium",children:[r.order_items_count||((y=r.order_item_details)==null?void 0:y.length)||r.product_count||0," items"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(Ce,{className:f(r.status),children:r.status})]})]}),r.notes&&n.jsxs(n.Fragment,{children:[n.jsx($t,{}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mb-2",children:[n.jsx($n,{className:"h-3 w-3"})," Notes"]}),n.jsx("p",{className:"text-sm whitespace-pre-wrap bg-muted/50 p-3 rounded-lg",children:r.notes})]})]})]})]}),(r.order_item_details&&r.order_item_details.length>0||r.product_details&&r.product_details.length>0)&&n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(lt,{className:"h-5 w-5"}),"Products (",((w=r.order_item_details)==null?void 0:w.length)||((b=r.product_details)==null?void 0:b.length)||0,")"]})}),n.jsx(Q,{children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Bt,{children:[n.jsx(Pe,{children:"Product"}),n.jsx(Pe,{children:"SKU"}),n.jsx(Pe,{className:"text-right",children:"Unit Price"}),n.jsx(Pe,{className:"text-center",children:"Qty"}),n.jsx(Pe,{className:"text-right",children:"Total"})]})}),n.jsx($s,{children:r.order_item_details&&r.order_item_details.length>0?r.order_item_details.map(S=>n.jsxs(Bt,{children:[n.jsx(Ne,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[S.product_image&&n.jsx("img",{src:S.product_image,alt:S.product_name,className:"w-10 h-10 rounded object-cover"}),n.jsx("span",{className:"font-medium",children:S.product_name})]})}),n.jsx(Ne,{children:n.jsx("span",{className:"text-muted-foreground font-mono text-sm",children:S.sku||"N/A"})}),n.jsxs(Ne,{className:"text-right",children:[parseFloat(String(S.unit_price)).toLocaleString()," HUF"]}),n.jsx(Ne,{className:"text-center",children:S.quantity}),n.jsxs(Ne,{className:"text-right font-medium",children:[parseFloat(String(S.total_price)).toLocaleString()," HUF"]})]},S.id)):(N=r.product_details)==null?void 0:N.map(S=>n.jsxs(Bt,{children:[n.jsx(Ne,{className:"font-medium",children:S.product}),n.jsx(Ne,{children:n.jsx(Ce,{variant:"outline",children:S.category_name||"N/A"})}),n.jsxs(Ne,{className:"text-right",children:[parseFloat(S.unit_price).toLocaleString()," HUF"]}),n.jsx(Ne,{className:"text-center",children:S.qty}),n.jsxs(Ne,{className:"text-right font-medium",children:[(parseFloat(S.unit_price)*S.qty).toLocaleString()," HUF"]})]},S.id))})]})})]}),n.jsxs(X,{children:[n.jsxs(be,{className:"flex flex-row items-center justify-between",children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(U5,{className:"h-5 w-5"}),"Payment History"]}),r.status!=="Paid"&&n.jsxs(te,{size:"sm",onClick:()=>d(!0),children:[n.jsx(Xn,{className:"h-4 w-4 mr-1"}),"Record Payment"]})]}),n.jsx(Q,{children:r.payment_history&&r.payment_history.length>0?n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Bt,{children:[n.jsx(Pe,{children:"Date"}),n.jsx(Pe,{children:"Amount"}),n.jsx(Pe,{children:"Method"}),n.jsx(Pe,{children:"Reference"}),n.jsx(Pe,{children:"Note"}),n.jsx(Pe,{className:"w-[50px]"})]})}),n.jsx($s,{children:r.payment_history.map(S=>n.jsxs(Bt,{children:[n.jsx(Ne,{children:S.date?Xt(new Date(S.date),"MMM dd, yyyy"):"N/A"}),n.jsxs(Ne,{className:"font-medium text-success",children:["+",(S.amount||0).toLocaleString()," HUF"]}),n.jsx(Ne,{children:n.jsxs(Ce,{variant:"outline",className:"gap-1",children:[S.method==="Bank Transfer"&&n.jsx(u0,{className:"h-3 w-3"}),S.method==="Credit Card"&&n.jsx(bs,{className:"h-3 w-3"}),S.method]})}),n.jsx(Ne,{className:"font-mono text-sm",children:S.reference_no||"-"}),n.jsx(Ne,{className:"text-muted-foreground max-w-[200px] truncate",children:S.note||"-"}),n.jsx(Ne,{children:n.jsx(te,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground hover:text-danger",onClick:async()=>{if(confirm("Are you sure you want to delete this payment record?"))try{await l.mutateAsync(S.id),Ue.success("Payment record deleted"),i()}catch{Ue.error("Failed to delete payment record")}},children:n.jsx(pn,{className:"h-4 w-4"})})})]},S.id))})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[n.jsx(U5,{className:"h-12 w-12 mb-2 opacity-50"}),n.jsx("p",{children:"No payment history yet"}),r.status!=="Paid"&&n.jsxs(te,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>d(!0),children:[n.jsx(Xn,{className:"h-4 w-4 mr-1"}),"Record First Payment"]})]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2 text-base",children:[n.jsx(fr,{className:"h-4 w-4"}),"Apartment"]})}),n.jsx(Q,{className:"space-y-3",children:r.apartment_details?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),n.jsx("p",{className:"font-medium",children:r.apartment_details.name})]}),r.apartment_details.address&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),n.jsx("p",{className:"font-medium",children:r.apartment_details.address})]}),r.apartment_details.type&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),n.jsx(Ce,{variant:"outline",children:r.apartment_details.type})]}),r.apartment_details.status&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(Ce,{variant:"secondary",children:r.apartment_details.status})]}),r.apartment_details.designer&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Designer"}),n.jsx("p",{className:"font-medium",children:r.apartment_details.designer})]}),n.jsx(te,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>{var S;return t(`/apartments/${(S=r.apartment_details)==null?void 0:S.id}`)},children:"View Apartment"})]}):n.jsx("p",{className:"text-muted-foreground",children:"No apartment details available"})})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2 text-base",children:[n.jsx(os,{className:"h-4 w-4"}),"Vendor"]})}),n.jsx(Q,{className:"space-y-3",children:r.vendor_details?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Company"}),n.jsx("p",{className:"font-medium",children:r.vendor_details.name})]}),r.vendor_details.contact_person&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(os,{className:"h-3 w-3"})," Contact Person"]}),n.jsx("p",{className:"font-medium",children:r.vendor_details.contact_person})]}),r.vendor_details.email&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(gn,{className:"h-3 w-3"})," Email"]}),n.jsx("a",{href:`mailto:${r.vendor_details.email}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.email})]}),r.vendor_details.phone&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(ko,{className:"h-3 w-3"})," Phone"]}),n.jsx("a",{href:`tel:${r.vendor_details.phone}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.phone})]}),r.vendor_details.address&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),n.jsxs("p",{className:"font-medium text-sm",children:[r.vendor_details.address,r.vendor_details.city&&`, ${r.vendor_details.city}`,r.vendor_details.country&&`, ${r.vendor_details.country}`]})]}),n.jsx(te,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>{var S;return t(`/vendors/${(S=r.vendor_details)==null?void 0:S.id}`)},children:"View Vendor"})]}):n.jsx("p",{className:"text-muted-foreground",children:"No vendor details available"})})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{className:"text-base",children:"Quick Actions"})}),n.jsxs(Q,{className:"space-y-2",children:[r.status!=="Paid"&&n.jsxs(te,{className:"w-full",onClick:()=>d(!0),children:[n.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Record Payment"]}),n.jsxs(te,{variant:"outline",className:"w-full",onClick:()=>t(`/payments/${r.id}/edit`),children:[n.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Edit Payment"]})]})]})]})]})]}),n.jsx(m3,{payment:r,open:c,onOpenChange:d,onSave:async(S,_,E,A)=>{try{await o.mutateAsync({payment:r.id,date:new Date().toISOString().split("T")[0],amount:S,method:_,reference_no:E,note:A}),Ue.success("Payment Recorded",{description:`${S.toLocaleString()} HUF recorded successfully`}),d(!1),i()}catch{Ue.error("Failed to record payment")}}})]})}function Irt(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-28"})]})}function Rrt(){return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-10 w-10 rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(C,{className:"h-9 w-32 mb-2"}),n.jsx(C,{className:"h-4 w-64"})]})]})}function Mrt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]})]})}function Frt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-36"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md bg-muted"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-36"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]})]})}function $rt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-32"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[n.jsx(C,{className:"h-5 w-48"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-24 w-full rounded-md"})]})]})]})}function Lrt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-48"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["","Product Name","SKU","Quantity","Unit Price","Total"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(4)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-5 w-5 rounded"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-40"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-12"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-28"})})]},t))})]})})})]})}function Brt(){return n.jsx(ct,{title:"Loading...",children:n.jsx("div",{className:"container px-0 py-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Irt,{}),n.jsx(Rrt,{}),n.jsx(Mrt,{}),n.jsx(Frt,{}),n.jsx($rt,{}),n.jsx(Lrt,{}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})]})})})}const Urt=()=>{const e=mr(),{id:t}=to(),[r,s]=v.useState({apartment:"",vendor:"",order_reference:"",due_date:"",total_amount:"",amount_paid:"0",status:"Unpaid",last_payment_date:"",payment_method:"Bank Transfer",bank_name:"",account_holder:"",account_number:"",iban:"",swift_bic_code:"",card_number:"",card_holder_name:"",expiry_date:"",cvv:"",notes:""}),[a,i]=v.useState({}),[o,l]=v.useState([]),{data:c,isLoading:d}=UX(t||""),u=VX(),{data:f,isLoading:m}=i3(),h=(f==null?void 0:f.results)||[],{data:x,isLoading:p}=jm(),g=(x==null?void 0:x.results)||[],{data:j,isLoading:y}=MX();j!=null&&j.results,v.useEffect(()=>{c&&(s({apartment:c.apartment,vendor:c.vendor,order_reference:c.order_reference,due_date:c.due_date,total_amount:String(c.total_amount),amount_paid:String(c.amount_paid),status:c.status,last_payment_date:c.last_payment_date||"",payment_method:"Bank Transfer",bank_name:"",account_holder:"",account_number:"",iban:"",swift_bic_code:"",card_number:"",card_holder_name:"",expiry_date:"",cvv:"",notes:c.notes}),l(c.products||[]))},[c]);const w=r.total_amount&&r.amount_paid?(parseFloat(r.total_amount)-parseFloat(r.amount_paid)).toFixed(2):"0.00",b=(E,A)=>{s(T=>({...T,[E]:A})),a[E]&&i(T=>{const R={...T};return delete R[E],R})},N=()=>{const E={};return r.apartment||(E.apartment="Apartment is required"),r.vendor||(E.vendor="Vendor is required"),r.order_reference.trim()||(E.order_reference="Order reference is required"),r.due_date||(E.due_date="Due date is required"),(!r.total_amount||parseFloat(r.total_amount)<=0)&&(E.total_amount="Valid total amount is required"),r.amount_paid&&parseFloat(r.amount_paid)<0&&(E.amount_paid="Amount paid cannot be negative"),r.amount_paid&&r.total_amount&&parseFloat(r.amount_paid)>parseFloat(r.total_amount)&&(E.amount_paid="Amount paid cannot exceed total amount"),i(E),Object.keys(E).length===0},S=async E=>{var A,T;if(E.preventDefault(),!N()){Ue.error("Please fix the errors in the form");return}if(!t){Ue.error("Payment ID is required");return}try{const R={apartment:r.apartment,vendor:r.vendor,order_reference:r.order_reference,due_date:r.due_date,total_amount:r.total_amount,amount_paid:r.amount_paid||"0",status:r.status,last_payment_date:r.last_payment_date||null,notes:r.notes,products:o};await u.mutateAsync({id:t,data:R}),Ue.success("Payment updated successfully"),e("/payments")}catch(R){console.error("Error updating payment:",R),Ue.error(((T=(A=R.response)==null?void 0:A.data)==null?void 0:T.message)||"Failed to update payment")}},_=()=>{e("/payments")};return d||m||p?n.jsx(Brt,{}):n.jsx(ct,{title:"Edit Payment",children:n.jsxs("div",{className:"container px-0 py-6 ",children:[n.jsx(Ua,{className:"mb-6",children:n.jsxs(Va,{children:[n.jsx(rr,{children:n.jsx(Jn,{href:"/payments",children:"Payments"})}),n.jsx(Cn,{}),n.jsx(rr,{children:n.jsx(ji,{children:"Edit Payment"})})]})}),n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(te,{variant:"ghost",size:"icon",onClick:_,className:"h-10 w-10",children:n.jsx(sr,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Payment"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Update payment information and details"})]})]})}),n.jsxs("form",{onSubmit:S,className:"space-y-6",children:[n.jsxs(X,{children:[n.jsx(be,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx($n,{className:"h-5 w-5 text-primary"})}),n.jsx(Ve,{className:"text-lg font-semibold",children:"Order Information"})]})}),n.jsx(Q,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apartment",className:"required flex items-center gap-2",children:[n.jsx(fr,{className:"h-4 w-4 text-muted-foreground"}),"Apartment"]}),n.jsxs(st,{value:r.apartment,onValueChange:E=>b("apartment",E),children:[n.jsx(rt,{id:"apartment",className:a.apartment?"border-destructive":"",children:n.jsx(at,{placeholder:"Select apartment"})}),n.jsx(nt,{children:m?n.jsx(J,{value:"loading",disabled:!0,children:"Loading apartments..."}):h.length===0?n.jsx(J,{value:"empty",disabled:!0,children:"No apartments found"}):h.map(E=>n.jsx(J,{value:E.id,children:E.name},E.id))})]}),a.apartment&&n.jsx("p",{className:"text-sm text-destructive",children:a.apartment})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"vendor",className:"required flex items-center gap-2",children:[n.jsx(La,{className:"h-4 w-4 text-muted-foreground"}),"Vendor"]}),n.jsxs(st,{value:r.vendor,onValueChange:E=>b("vendor",E),children:[n.jsx(rt,{id:"vendor",className:a.vendor?"border-destructive":"",children:n.jsx(at,{placeholder:"Select vendor"})}),n.jsx(nt,{children:p?n.jsx(J,{value:"loading",disabled:!0,children:"Loading vendors..."}):g.length===0?n.jsx(J,{value:"empty",disabled:!0,children:"No vendors found"}):g.map(E=>n.jsx(J,{value:E.id,children:E.name},E.id))})]}),a.vendor&&n.jsx("p",{className:"text-sm text-destructive",children:a.vendor})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"order_reference",className:"required flex items-center gap-2",children:[n.jsx(Ub,{className:"h-4 w-4 text-muted-foreground"}),"Order Reference"]}),n.jsx(me,{id:"order_reference",value:r.order_reference,onChange:E=>b("order_reference",E.target.value),placeholder:"e.g., ORD-2025-001",className:a.order_reference?"border-destructive":""}),a.order_reference&&n.jsx("p",{className:"text-sm text-destructive",children:a.order_reference})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"due_date",className:"required flex items-center gap-2",children:[n.jsx(on,{className:"h-4 w-4 text-muted-foreground"}),"Due Date"]}),n.jsx(me,{id:"due_date",type:"date",value:r.due_date,onChange:E=>b("due_date",E.target.value),className:a.due_date?"border-destructive":""}),a.due_date&&n.jsx("p",{className:"text-sm text-destructive",children:a.due_date})]})]})})]}),n.jsxs(X,{children:[n.jsx(be,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(Nr,{className:"h-5 w-5 text-primary"})}),n.jsx(Ve,{className:"text-lg font-semibold",children:"Payment Amount"})]})}),n.jsx(Q,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"total_amount",className:"required",children:"Total Amount (HUF)"}),n.jsx(me,{id:"total_amount",type:"number",step:"0.01",min:"0",value:r.total_amount,onChange:E=>b("total_amount",E.target.value),placeholder:"0.00",className:a.total_amount?"border-destructive":""}),a.total_amount&&n.jsx("p",{className:"text-sm text-destructive",children:a.total_amount})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"amount_paid",children:"Amount Paid (HUF)"}),n.jsx(me,{id:"amount_paid",type:"number",step:"0.01",min:"0",value:r.amount_paid,onChange:E=>b("amount_paid",E.target.value),placeholder:"0.00",className:a.amount_paid?"border-destructive":""}),a.amount_paid&&n.jsx("p",{className:"text-sm text-destructive",children:a.amount_paid})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"balance",children:"Balance (HUF)"}),n.jsx(me,{id:"balance",value:w,readOnly:!0,className:"bg-muted text-primary font-semibold"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically calculated"})]})]})})]}),n.jsxs(X,{children:[n.jsx(be,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(bs,{className:"h-5 w-5 text-primary"})}),n.jsx(Ve,{className:"text-lg font-semibold",children:"Payment Details"})]})}),n.jsx(Q,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(q,{children:"Payment Method"}),n.jsx(Ro,{value:r.payment_method,onValueChange:E=>b("payment_method",E),children:n.jsxs(no,{className:"grid w-full grid-cols-3",children:[n.jsxs(Ut,{value:"Bank Transfer",children:[n.jsx(_k,{className:"h-4 w-4 mr-2"}),"Bank Transfer"]}),n.jsxs(Ut,{value:"Card Payment",children:[n.jsx(bs,{className:"h-4 w-4 mr-2"}),"Card Payment"]}),n.jsxs(Ut,{value:"Cash",children:[n.jsx(u0,{className:"h-4 w-4 mr-2"}),"Cash"]})]})})]}),r.payment_method==="Bank Transfer"&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Bank Transfer Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"bank_name",children:"Bank Name"}),n.jsx(me,{id:"bank_name",value:r.bank_name,onChange:E=>b("bank_name",E.target.value),placeholder:"e.g., OTP Bank"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"account_holder",children:"Account Holder"}),n.jsx(me,{id:"account_holder",value:r.account_holder,onChange:E=>b("account_holder",E.target.value),placeholder:"Full name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"account_number",children:"Account Number"}),n.jsx(me,{id:"account_number",value:r.account_number,onChange:E=>b("account_number",E.target.value),placeholder:"XXXX-XXXX-XXXX-XXXX"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"iban",children:"IBAN"}),n.jsx(me,{id:"iban",value:r.iban,onChange:E=>b("iban",E.target.value),placeholder:"HU42 1177 3016 1111 1018 0000 0000"})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"swift_bic_code",children:"SWIFT/BIC Code"}),n.jsx(me,{id:"swift_bic_code",value:r.swift_bic_code,onChange:E=>b("swift_bic_code",E.target.value),placeholder:"e.g., OTPVHUHB"})]})]})]}),r.payment_method==="Card Payment"&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Card Payment Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"card_number",children:"Card Number"}),n.jsx(me,{id:"card_number",value:r.card_number,onChange:E=>b("card_number",E.target.value),placeholder:"XXXX XXXX XXXX XXXX",maxLength:19})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"card_holder_name",children:"Card Holder Name"}),n.jsx(me,{id:"card_holder_name",value:r.card_holder_name,onChange:E=>b("card_holder_name",E.target.value),placeholder:"Name as on card"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"expiry_date",children:"Expiry Date"}),n.jsx(me,{id:"expiry_date",value:r.expiry_date,onChange:E=>b("expiry_date",E.target.value),placeholder:"MM/YY",maxLength:5})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"cvv",children:"CVV"}),n.jsx(me,{id:"cvv",value:r.cvv,onChange:E=>b("cvv",E.target.value),placeholder:"XXX",maxLength:4,type:"password"})]})]})]}),r.payment_method==="Cash"&&n.jsxs("div",{className:"p-6 border rounded-lg bg-muted/50 text-center",children:[n.jsx(j7,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cash payment selected. No additional details required."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(pa,{id:"notes",value:r.notes,onChange:E=>b("notes",E.target.value),placeholder:"Add any additional payment notes or instructions...",rows:4})]})]})})]}),n.jsxs("div",{className:"flex items-center justify-end gap-4 mt-6",children:[n.jsx(te,{type:"button",variant:"outline",onClick:_,disabled:u.isPending,children:"Cancel"}),n.jsx(te,{type:"submit",disabled:u.isPending,children:u.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(vu,{className:"mr-2 h-4 w-4"}),"Update Payment"]})})]})]})]})})};function Vrt(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{iconBg:"bg-primary/10"},{iconBg:"bg-green-500/10"},{iconBg:"bg-blue-500/10"},{iconBg:"bg-yellow-500/10"}].map((e,t)=>n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-9 w-16"})]}),n.jsx("div",{className:`h-10 w-10 rounded-lg ${e.iconBg} flex items-center justify-center`,children:n.jsx(C,{className:"h-6 w-6 rounded"})})]})})},t))})}function zrt(){return n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsx("div",{className:"relative flex-1",children:n.jsx(C,{className:"h-10 w-full rounded-md"})}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsx(C,{className:"h-10 w-[150px] rounded-md"}),n.jsx(C,{className:"h-10 w-[150px] rounded-md"}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})]})})})}function Wrt(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{className:"flex items-center justify-between",children:n.jsx(C,{className:"h-6 w-40"})})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-12"})}),n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-16"})}),n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("th",{className:"px-4 py-3 text-center",children:n.jsx(C,{className:"h-4 w-14 mx-auto"})}),n.jsx("th",{className:"px-4 py-3 text-center",children:n.jsx(C,{className:"h-4 w-14 mx-auto"})}),n.jsx("th",{className:"px-4 py-3 text-right",children:n.jsx(C,{className:"h-4 w-16 ml-auto"})})]})}),n.jsx("tbody",{children:[...Array(8)].map((e,t)=>n.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"flex items-center justify-center bg-muted rounded-lg w-12 h-12",children:n.jsx(C,{className:"w-10 h-10 rounded-lg"})})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-3 w-40"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-36"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((r,s)=>n.jsx(C,{className:"h-3 w-3 rounded-sm"},s)),n.jsx(C,{className:"h-4 w-8 ml-1"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"flex justify-center",children:n.jsx(C,{className:"h-6 w-8 rounded-full"})})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"flex justify-center",children:n.jsx(C,{className:"h-6 w-8 rounded-full"})})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"})]})})]},t))})]})})})]})}function Hrt(){return n.jsxs("div",{className:"space-y-6",children:[n.jsx(Vrt,{}),n.jsx(zrt,{}),n.jsx(Wrt,{})]})}const qrt=()=>{const e=mr(),[t,r]=v.useState(""),[s,a]=v.useState("all"),[i,o]=v.useState("all"),[l,c]=v.useState(!1),[d,u]=v.useState(null),{data:f,isLoading:m,error:h}=jm(),x=bX(),p=(f==null?void 0:f.results)||[],g=v.useMemo(()=>p.filter(b=>{const N=b.name.toLowerCase().includes(t.toLowerCase())||b.email.toLowerCase().includes(t.toLowerCase())||b.contact_person.toLowerCase().includes(t.toLowerCase()),S=s==="all"||s==="active"&&b.active_issues===0||s==="issues"&&b.active_issues>0,_=parseFloat(b.reliability),E=i==="all"||i==="high"&&_>=4.5||i==="medium"&&_>=3.5&&_<4.5||i==="low"&&_<3.5;return N&&S&&E}),[p,t,s,i]),j=b=>{const N=typeof b=="string"?parseFloat(b):b;return n.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((S,_)=>n.jsx(sb,{className:`h-3 w-3 ${_<Math.floor(N)?"fill-yellow-500 text-yellow-500":"text-muted-foreground"}`},_)),n.jsx("span",{className:"text-sm font-medium ml-1",children:N.toFixed(1)})]})},y=(b,N)=>{u({id:b,name:N}),c(!0)},w=()=>{d&&x.mutate(d.id,{onSuccess:()=>{c(!1),u(null)}})};return m?n.jsx(ct,{title:"Vendors",children:n.jsx(Hrt,{})}):n.jsx(ct,{title:"Vendors",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(X,{className:"",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Vendors"}),n.jsx("p",{className:"text-3xl font-bold",children:p.length})]}),n.jsx(fr,{className:"h-10 w-10 text-primary opacity-20"})]})})}),n.jsx(X,{className:"",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Vendors"}),n.jsx("p",{className:"text-3xl font-bold",children:p.filter(b=>b.active_issues===0).length})]}),n.jsx(li,{className:"h-10 w-10 text-green-500 opacity-20"})]})})}),n.jsx(X,{className:"",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Orders"}),n.jsx("p",{className:"text-3xl font-bold",children:p.reduce((b,N)=>b+N.orders_count,0)})]}),n.jsx(lt,{className:"h-10 w-10 text-blue-500 opacity-20"})]})})}),n.jsx(X,{className:"",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Reliability"}),n.jsx("p",{className:"text-3xl font-bold",children:p.length>0?(p.reduce((b,N)=>b+parseFloat(N.reliability),0)/p.length).toFixed(1):"0.0"})]}),n.jsx(sb,{className:"h-10 w-10 text-yellow-500 opacity-20"})]})})})]}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ha,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search by vendor name or email...",value:t,onChange:b=>r(b.target.value),className:"pl-9"})]}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs(st,{value:s,onValueChange:a,children:[n.jsxs(rt,{className:"w-[150px]",children:[n.jsx($v,{className:"h-4 w-4 mr-2"}),n.jsx(at,{placeholder:"Status"})]}),n.jsxs(nt,{children:[n.jsx(J,{value:"all",children:"All Status"}),n.jsx(J,{value:"active",children:"Active"}),n.jsx(J,{value:"issues",children:"With Issues"})]})]}),n.jsxs(st,{value:i,onValueChange:o,children:[n.jsxs(rt,{className:"w-[150px]",children:[n.jsx(sb,{className:"h-4 w-4 mr-2"}),n.jsx(at,{placeholder:"Reliability"})]}),n.jsxs(nt,{children:[n.jsx(J,{value:"all",children:"All Ratings"}),n.jsx(J,{value:"high",children:"High (4.5+)"}),n.jsx(J,{value:"medium",children:"Medium (3.5-4.5)"}),n.jsx(J,{value:"low",children:"Low (<3.5)"})]})]}),n.jsxs(te,{onClick:()=>e("/vendors/new"),className:"gap-2",children:[n.jsx(Xn,{className:"h-4 w-4"}),"Add Vendor"]})]})]})})}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center justify-between",children:[n.jsxs("span",{children:["All Vendors (",g.length,")"]}),t&&n.jsx(te,{variant:"ghost",size:"sm",onClick:()=>{r(""),a("all"),o("all")},children:"Clear Filters"})]})}),n.jsx(Q,{children:g.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Et,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No vendors found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filters"}),n.jsxs(te,{onClick:()=>e("/vendors/new"),children:[n.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Add Your First Vendor"]})]}):n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Bt,{children:[n.jsx(Pe,{className:"w-[80px]",children:"Logo"}),n.jsx(Pe,{children:"Vendor Name"}),n.jsx(Pe,{children:"Contact"}),n.jsx(Pe,{children:"Lead Time"}),n.jsx(Pe,{children:"Reliability"}),n.jsx(Pe,{className:"text-center",children:"Orders"}),n.jsx(Pe,{className:"text-center",children:"Issues"}),n.jsx(Pe,{className:"text-right",children:"Actions"})]})}),n.jsx($s,{children:g.map(b=>n.jsxs(Bt,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>e(`/vendors/${b.id}`),children:[n.jsx(Ne,{children:n.jsx("div",{className:"flex items-center justify-center bg-muted rounded-lg w-12 h-12 overflow-hidden",children:b.website?n.jsx(n.Fragment,{children:n.jsx("img",{src:`https://logo.clearbit.com/${new URL(b.website).hostname}`,alt:`${b.name} logo`,className:"w-10 h-10 object-contain",onError:N=>{const S=N.currentTarget;if(!S.dataset.fallbackAttempted)S.dataset.fallbackAttempted="true",S.src=`https://www.google.com/s2/favicons?domain=${new URL(b.website).hostname}&sz=128`;else{S.style.display="none";const _=S.parentElement;if(_){const E=document.createElement("span");E.className="text-2xl",E.textContent=b.logo||b.name.charAt(0).toUpperCase(),_.appendChild(E)}}}})}):n.jsx("span",{className:"text-2xl",children:b.logo||b.name.charAt(0).toUpperCase()})})}),n.jsx(Ne,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:b.name}),n.jsx("a",{href:b.website,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline",onClick:N=>N.stopPropagation(),children:b.website.replace("https://","")})]})}),n.jsx(Ne,{children:n.jsx("div",{className:"text-sm",children:n.jsx("p",{children:b.email})})}),n.jsx(Ne,{children:n.jsx(Ce,{variant:"outline",className:"font-mono",children:b.lead_time})}),n.jsx(Ne,{children:j(b.reliability)}),n.jsx(Ne,{className:"text-center",children:n.jsx(Ce,{variant:"secondary",className:"font-semibold",children:b.orders_count})}),n.jsx(Ne,{className:"text-center",children:n.jsx(Ce,{variant:b.active_issues>0?"destructive":"default",className:"font-semibold",children:b.active_issues})}),n.jsx(Ne,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(te,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),e(`/vendors/${b.id}`)},title:"View Details",children:n.jsx(oi,{className:"h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),e(`/vendors/${b.id}/edit`)},title:"Edit Vendor",children:n.jsx(Zs,{className:"h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),y(b.id,b.name)},title:"Delete Vendor",disabled:x.isPending,children:n.jsx(pn,{className:"h-4 w-4"})})]})})]},b.id))})]})})})]}),h&&n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Et,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Failed to load vendors"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:h instanceof Error?h.message:"An error occurred while fetching vendors"}),n.jsx(te,{onClick:()=>window.location.reload(),children:"Try Again"})]})})}),n.jsx(fc,{open:l,onOpenChange:c,children:n.jsxs(yl,{children:[n.jsxs(jl,{children:[n.jsx(wl,{children:"Are you sure?"}),n.jsxs(Nl,{children:["This will permanently delete ",n.jsx("strong",{children:d==null?void 0:d.name}),". This action cannot be undone."]})]}),n.jsxs(bl,{children:[n.jsx(Sl,{disabled:x.isPending,children:"Cancel"}),n.jsx(_l,{onClick:w,disabled:x.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:x.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})})]})})},Grt=()=>{const e=mr(),t=cBe(),[r,s]=v.useState("basic"),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[m,h]=v.useState(""),[x,p]=v.useState(""),[g,j]=v.useState(""),[y,w]=v.useState(""),[b,N]=v.useState(""),[S,_]=v.useState(""),[E,A]=v.useState(""),[T,R]=v.useState(""),[I,z]=v.useState(""),[H,F]=v.useState(""),[k,P]=v.useState(""),[M,O]=v.useState(""),[K,ne]=v.useState(""),[D,U]=v.useState(""),[L,G]=v.useState(""),[le,fe]=v.useState(""),B=()=>{if(!a||!c||!o){Ue.error("Please fill in all required fields (Company Name, Contact Person, Email)"),s("basic");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)){Ue.error("Please enter a valid email address"),s("basic");return}const _e={name:a,company_name:a,contact_person:o,email:c,phone:u||"",website:m||"",logo:"",lead_time:M||"7-14 days",address:g||"",city:y||"",country:b||"",postal_code:S||"",tax_id:E||"",business_type:T||"",year_established:I||"",employee_count:H||"",category:x||"",product_categories:"",certifications:"",specializations:"",payment_terms:k||"",delivery_terms:M||"",warranty_period:K||"",return_policy:D||"",minimum_order:L||"",notes:le||""};t.mutate(_e,{onSuccess:()=>{e("/vendors")}})},Y=xe=>{Ue.info(`Import from ${xe.toUpperCase()} coming soon!`)},ie=["basic","address","business","terms"],we=ie.indexOf(r),ue=()=>{we<ie.length-1&&s(ie[we+1])},ge=()=>{we>0&&s(ie[we-1])};return n.jsx(ct,{title:"Add New Vendor",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(te,{variant:"ghost",onClick:()=>e("/vendors"),className:"gap-2",children:[n.jsx(sr,{className:"h-4 w-4"}),"Back to Vendors"]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(te,{variant:"outline",className:"gap-2",children:[n.jsx(Ki,{className:"h-4 w-4"}),"Import Data"]}),n.jsx(te,{onClick:B,className:"gap-2",disabled:t.isPending,children:t.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(vu,{className:"h-4 w-4"}),"Save Vendor"]})})]})]}),n.jsx(X,{className:"border-dashed",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h3",{className:"font-semibold",children:"Quick Import"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Import vendor data from existing files"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(te,{variant:"outline",size:"sm",onClick:()=>Y("excel"),className:"gap-2",children:[n.jsx(Ek,{className:"h-4 w-4"}),"Excel"]}),n.jsxs(te,{variant:"outline",size:"sm",onClick:()=>Y("csv"),className:"gap-2",children:[n.jsx($n,{className:"h-4 w-4"}),"CSV"]}),n.jsxs(te,{variant:"outline",size:"sm",onClick:()=>Y("docs"),className:"gap-2",children:[n.jsx(mse,{className:"h-4 w-4"}),"Docs"]})]})]})})}),n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Vendor Information"}),n.jsx(Dr,{children:"Fill in the vendor details below. Fields marked with * are required."})]}),n.jsxs(Q,{children:[n.jsxs(Ro,{value:r,onValueChange:s,children:[n.jsxs(no,{className:"grid w-full grid-cols-4",children:[n.jsx(Ut,{value:"basic",children:"Basic Info"}),n.jsx(Ut,{value:"address",children:"Address"}),n.jsx(Ut,{value:"business",children:"Business"}),n.jsx(Ut,{value:"terms",children:"Terms"})]}),n.jsx(Qt,{value:"basic",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"companyName",children:["Company Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(fr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"companyName",placeholder:"Enter company name",value:a,onChange:xe=>i(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"category",children:"Category"}),n.jsxs(st,{value:x,onValueChange:p,children:[n.jsx(rt,{children:n.jsx(at,{placeholder:"Select category"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"furniture",children:"Furniture"}),n.jsx(J,{value:"electronics",children:"Electronics"}),n.jsx(J,{value:"lighting",children:"Lighting"}),n.jsx(J,{value:"appliances",children:"Appliances"}),n.jsx(J,{value:"textiles",children:"Textiles"}),n.jsx(J,{value:"construction",children:"Construction"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"contactPerson",children:["Contact Person ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(os,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"contactPerson",placeholder:"Primary contact name",value:o,onChange:xe=>l(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"email",children:["Email ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(gn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"email",type:"email",placeholder:"contact@company.com",value:c,onChange:xe=>d(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"phone",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(ko,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"phone",placeholder:"+1 (555) 000-0000",value:u,onChange:xe=>f(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"website",children:"Website"}),n.jsxs("div",{className:"relative",children:[n.jsx(tc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"website",placeholder:"https://company.com",value:m,onChange:xe=>h(xe.target.value),className:"pl-9"})]})]})]})}),n.jsx(Qt,{value:"address",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"address",children:"Street Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(ya,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"address",placeholder:"123 Main Street",value:g,onChange:xe=>j(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"city",children:"City"}),n.jsx(me,{id:"city",placeholder:"City",value:y,onChange:xe=>w(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"postalCode",children:"Postal Code"}),n.jsx(me,{id:"postalCode",placeholder:"10001",value:S,onChange:xe=>_(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"country",children:"Country"}),n.jsx(me,{id:"country",placeholder:"Country",value:b,onChange:xe=>N(xe.target.value)})]})]})}),n.jsx(Qt,{value:"business",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"taxId",children:"Tax ID / VAT Number"}),n.jsx(me,{id:"taxId",placeholder:"XX-XXXXXXX",value:E,onChange:xe=>A(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"businessType",children:"Business Type"}),n.jsxs(st,{value:T,onValueChange:R,children:[n.jsx(rt,{children:n.jsx(at,{placeholder:"Select type"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"manufacturer",children:"Manufacturer"}),n.jsx(J,{value:"distributor",children:"Distributor"}),n.jsx(J,{value:"wholesaler",children:"Wholesaler"}),n.jsx(J,{value:"retailer",children:"Retailer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"yearEstablished",children:"Year Established"}),n.jsx(me,{id:"yearEstablished",placeholder:"2020",value:I,onChange:xe=>z(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"employeeCount",children:"Number of Employees"}),n.jsx(me,{id:"employeeCount",placeholder:"50",value:H,onChange:xe=>F(xe.target.value)})]})]})}),n.jsx(Qt,{value:"terms",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paymentTerms",children:"Payment Terms"}),n.jsxs(st,{value:k,onValueChange:P,children:[n.jsx(rt,{children:n.jsx(at,{placeholder:"Select payment terms"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"net-30",children:"Net 30"}),n.jsx(J,{value:"net-60",children:"Net 60"}),n.jsx(J,{value:"net-90",children:"Net 90"}),n.jsx(J,{value:"cod",children:"Cash on Delivery"}),n.jsx(J,{value:"advance",children:"Advance Payment"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"deliveryTerms",children:"Delivery Terms"}),n.jsx(me,{id:"deliveryTerms",placeholder:"E.g., 7-14 business days",value:M,onChange:xe=>O(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"warrantyPeriod",children:"Warranty Period"}),n.jsx(me,{id:"warrantyPeriod",placeholder:"E.g., 12 months",value:K,onChange:xe=>ne(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"minimumOrder",children:"Minimum Order Value"}),n.jsxs("div",{className:"relative",children:[n.jsx(Nr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"minimumOrder",placeholder:"500",value:L,onChange:xe=>G(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"returnPolicy",children:"Return Policy"}),n.jsx(Sn,{id:"returnPolicy",placeholder:"Describe return and refund policy",value:D,onChange:xe=>U(xe.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(Sn,{id:"notes",placeholder:"Any additional information about the vendor",value:le,onChange:xe=>fe(xe.target.value),rows:4})]})]})})]}),n.jsxs("div",{className:"flex justify-between mt-6 pt-6 border-t",children:[n.jsxs(te,{type:"button",variant:"outline",onClick:ge,disabled:we===0,className:"gap-2",children:[n.jsx(Sk,{className:"h-4 w-4"}),"Previous"]}),n.jsx("div",{className:"flex gap-2",children:we===ie.length-1?n.jsx(te,{type:"button",onClick:B,disabled:t.isPending,className:"gap-2",children:t.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(vu,{className:"h-4 w-4"}),"Save Vendor"]})}):n.jsxs(te,{type:"button",variant:"outline",onClick:ue,className:"gap-2",children:["Next",n.jsx(gu,{className:"h-4 w-4"})]})})]})]})]})]})})};function Krt(){return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-9 w-40 rounded-md"}),n.jsx(C,{className:"h-9 w-32 rounded-md"})]})}function Yrt(){return n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsx("div",{className:"flex items-center justify-center bg-muted rounded-full w-24 h-24",children:n.jsx(C,{className:"w-20 h-20 rounded-full"})}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-9 w-48"}),n.jsx(C,{className:"h-4 w-32"})]}),n.jsx(C,{className:"h-6 w-16 rounded-full"})]}),n.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[[...Array(5)].map((e,t)=>n.jsx(C,{className:"h-4 w-4 rounded-sm"},t)),n.jsx(C,{className:"h-4 w-8 ml-1"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-32"})]},t))})]})]})})})}function Xrt(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{iconBg:"bg-primary/10"},{iconBg:"bg-red-500/10"},{iconBg:"bg-primary/10"},{iconBg:"bg-green-500/10"}].map((e,t)=>n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-9 w-16"})]}),n.jsx("div",{className:`h-8 w-8 rounded-lg ${e.iconBg} flex items-center justify-center`,children:n.jsx(C,{className:"h-5 w-5 rounded"})})]})})},t))})}function Qrt(){return n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-32"})}),n.jsxs(Q,{children:[n.jsx("div",{className:"grid w-full grid-cols-5 bg-muted rounded-lg p-1 mb-6",children:[...Array(5)].map((e,t)=>n.jsx("div",{className:"flex items-center justify-center py-2",children:n.jsx(C,{className:"h-4 w-16"})},t))}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(C,{className:"h-6 w-40"}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"space-y-3",children:[...Array(2)].map((e,t)=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-48"})]},t))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(C,{className:"h-6 w-32"}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-4 w-20"})]},t))})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(C,{className:"h-6 w-40"}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[...Array(3)].map((e,t)=>n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx(C,{className:"h-8 w-8 rounded-lg mx-auto"}),n.jsx(C,{className:"h-7 w-16 mx-auto"}),n.jsx(C,{className:"h-3 w-28 mx-auto"})]})})},t))})]})]})]})]})}function Zrt(){return n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Image","Product Details","Category","Client","Apartment","Room","Qty","Unit Price","Total","Payment","Availability","Actions"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(5)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"w-16 h-16 rounded-md"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2 min-w-[200px]",children:[n.jsx(C,{className:"h-4 w-40"}),n.jsx(C,{className:"h-3 w-32"}),n.jsx(C,{className:"h-3 w-28"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-24 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2 min-w-[150px]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-24"})]}),n.jsx(C,{className:"h-3 w-32"}),n.jsx(C,{className:"h-3 w-28"}),n.jsx(C,{className:"h-5 w-16 rounded-full"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2 min-w-[150px]",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-3 w-24"}),n.jsx(C,{className:"h-3 w-28"}),n.jsx(C,{className:"h-5 w-20 rounded-full"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-16"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx(C,{className:"h-4 w-12 ml-auto"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx(C,{className:"h-4 w-24 ml-auto"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28 ml-auto"}),n.jsx(C,{className:"h-3 w-20 ml-auto"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2 min-w-[120px]",children:[n.jsx(C,{className:"h-6 w-16 rounded-full"}),n.jsx(C,{className:"h-3 w-24"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx(C,{className:"h-8 w-8 rounded ml-auto"})})]},t))})]})})}function Jrt(){return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Krt,{}),n.jsx(Yrt,{}),n.jsx(Xrt,{}),n.jsx(Qrt,{})]})})}const ent=()=>{const{id:e}=to(),t=mr(),[r,s]=v.useState("overview"),{data:a,isLoading:i,error:o}=jX(e||null),{data:l=[],isLoading:c}=uBe(e||null),d=fBe(e||"");if(i)return n.jsx(Jrt,{});if(o||!a)return n.jsx(ct,{title:"Vendor Not Found",children:n.jsx(X,{children:n.jsxs(Q,{className:"p-12 text-center",children:[n.jsx(Et,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Vendor Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:o instanceof Error?o.message:"The vendor you're looking for doesn't exist."}),n.jsx(te,{onClick:()=>t("/vendors"),children:"Back to Vendors"})]})})});const u=f=>{const m=typeof f=="string"?parseFloat(f):f;return n.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((h,x)=>n.jsx(sb,{className:`h-4 w-4 ${x<Math.floor(m)?"fill-yellow-500 text-yellow-500":"text-muted-foreground"}`},x)),n.jsx("span",{className:"text-sm font-medium ml-1",children:m.toFixed(1)})]})};return n.jsx(ct,{title:a.name,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(te,{variant:"ghost",onClick:()=>t("/vendors"),className:"gap-2",children:[n.jsx(sr,{className:"h-4 w-4"}),"Back to Vendors"]}),n.jsxs(te,{onClick:()=>t(`/vendors/${e}/edit`),className:"gap-2",children:[n.jsx(Zs,{className:"h-4 w-4"}),"Edit Vendor"]})]}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsx("div",{className:"flex items-center justify-center bg-muted rounded-full w-24 h-24 overflow-hidden",children:a.website?n.jsx("img",{src:`https://logo.clearbit.com/${new URL(a.website).hostname}`,alt:`${a.name} logo`,className:"w-20 h-20 object-contain",onError:f=>{const m=f.currentTarget;if(!m.dataset.fallbackAttempted)m.dataset.fallbackAttempted="true",m.src=`https://www.google.com/s2/favicons?domain=${new URL(a.website).hostname}&sz=128`;else{m.style.display="none";const h=m.parentElement;if(h){const x=document.createElement("span");x.className="text-4xl",x.textContent=a.logo||a.name.charAt(0).toUpperCase(),h.appendChild(x)}}}}):n.jsx("span",{className:"text-4xl",children:a.logo||a.name.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold",children:a.name}),n.jsx("p",{className:"text-muted-foreground",children:"Verified Vendor"})]}),n.jsx(Ce,{variant:"secondary",className:"text-sm",children:"Active"})]}),n.jsx("div",{className:"flex items-center gap-2 mb-4",children:u(a.reliability)})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(gn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:`mailto:${a.email}`,className:"hover:underline",children:a.email})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(tc,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:a.website.replace("https://","")})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(wr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:["Lead Time: ",a.lead_time]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(lt,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[a.orders_count," Total Orders"]})]})]})]})]})})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),n.jsx("p",{className:"text-3xl font-bold mt-1",children:a.orders_count})]}),n.jsx(lt,{className:"h-8 w-8 text-primary"})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Issues"}),n.jsx("p",{className:"text-3xl font-bold mt-1",children:a.active_issues})]}),n.jsx(Et,{className:`h-8 w-8 ${a.active_issues>0?"text-destructive":"text-green-500"}`})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Products"}),n.jsx("p",{className:"text-3xl font-bold mt-1",children:c?n.jsx("span",{className:"inline-block h-9 w-12 bg-muted animate-pulse rounded"}):l.length})]}),n.jsx(lt,{className:"h-8 w-8 text-primary"})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Reliability"}),n.jsx("p",{className:"text-3xl font-bold mt-1",children:(typeof a.reliability=="string"?parseFloat(a.reliability):a.reliability).toFixed(1)})]}),n.jsx(li,{className:"h-8 w-8 text-green-500"})]})})})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{children:"Vendor Details"})}),n.jsx(Q,{children:n.jsxs(Ro,{value:r,onValueChange:s,children:[n.jsxs(no,{className:"grid w-full grid-cols-5",children:[n.jsx(Ut,{value:"overview",children:"Overview"}),n.jsx(Ut,{value:"products",children:"Products"}),n.jsx(Ut,{value:"orders",children:"Orders"}),n.jsx(Ut,{value:"issues",children:"Issues"}),n.jsx(Ut,{value:"payments",children:"Payments"})]}),n.jsxs(Qt,{value:"overview",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Contact Information"}),n.jsx($t,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(gn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:a.email})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(tc,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm hover:underline",children:a.website})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Business Details"}),n.jsx($t,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Lead Time"}),n.jsx("span",{className:"text-sm font-medium",children:a.lead_time})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Reliability Score"}),n.jsxs("span",{className:"text-sm font-medium",children:[a.reliability,"/5.0"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Orders"}),n.jsx("span",{className:"text-sm font-medium",children:a.orders_count})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Performance Metrics"}),n.jsx($t,{}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ur,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold",children:"95%"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"On-Time Delivery"})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(li,{className:"h-8 w-8 text-primary mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold",children:"4.5"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Quality Rating"})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(lt,{className:"h-8 w-8 text-primary mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold",children:"98%"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Accuracy"})]})})})]})]})]}),n.jsx(Qt,{value:"products",className:"mt-6",children:c?n.jsx(Zrt,{}):l.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(lt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Products"}),n.jsx("p",{className:"text-muted-foreground",children:"This vendor hasn't supplied any products yet."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Bt,{children:[n.jsx(Pe,{className:"w-[80px]",children:"Image"}),n.jsx(Pe,{children:"Product Details"}),n.jsx(Pe,{children:"Category"}),n.jsx(Pe,{children:"Client"}),n.jsx(Pe,{children:"Apartment"}),n.jsx(Pe,{children:"Room"}),n.jsx(Pe,{className:"text-right",children:"Qty"}),n.jsx(Pe,{className:"text-right",children:"Unit Price"}),n.jsx(Pe,{className:"text-right",children:"Total"}),n.jsx(Pe,{children:"Payment"}),n.jsx(Pe,{children:"Availability"}),n.jsx(Pe,{className:"text-right",children:"Actions"})]})}),n.jsx($s,{children:l.map(f=>{var m;return n.jsxs(Bt,{children:[n.jsxs(Ne,{children:[f.product_image?n.jsx("img",{src:f.product_image,alt:f.product,className:"w-16 h-16 object-cover rounded-md",onError:h=>{var x;h.currentTarget.style.display="none",(x=h.currentTarget.nextElementSibling)==null||x.classList.remove("hidden")}}):null,n.jsx("div",{className:`w-16 h-16 bg-muted rounded-md flex items-center justify-center ${f.product_image?"hidden":""}`,children:n.jsx(Gi,{className:"h-6 w-6 text-muted-foreground"})})]}),n.jsx(Ne,{children:n.jsxs("div",{className:"space-y-1 min-w-[200px]",children:[n.jsx("p",{className:"font-medium",children:f.product}),f.description&&n.jsx("p",{className:"text-xs text-muted-foreground",children:f.description}),f.dimensions&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.dimensions]}),f.material&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.material]}),f.color&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.color]}),f.brand&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.brand]})]})}),n.jsx(Ne,{children:n.jsx(Ce,{variant:"outline",children:f.category_name})}),n.jsx(Ne,{children:(m=f.apartment_details)!=null&&m.client_details?n.jsxs("div",{className:"space-y-1 min-w-[150px]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(os,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium",children:f.apartment_details.client_details.name})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f.apartment_details.client_details.email}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f.apartment_details.client_details.phone}),n.jsx(Ce,{variant:"secondary",className:"text-xs",children:f.apartment_details.client_details.type})]}):n.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),n.jsx(Ne,{children:f.apartment_details?n.jsxs("div",{className:"space-y-1 min-w-[150px]",children:[n.jsx("p",{className:"text-sm font-medium",children:f.apartment_details.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f.apartment_details.type}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.apartment_details.owner]}),n.jsx(Ce,{variant:f.apartment_details.status==="Delivery"?"default":f.apartment_details.status==="In Progress"?"secondary":"outline",className:"text-xs",children:f.apartment_details.status})]}):n.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),n.jsx(Ne,{children:n.jsx("span",{className:"text-sm",children:f.room||"-"})}),n.jsx(Ne,{className:"text-right",children:n.jsx("span",{className:"font-medium",children:f.qty||"-"})}),n.jsx(Ne,{className:"text-right",children:f.unit_price?n.jsx("div",{className:"space-y-1",children:n.jsx("span",{className:"font-medium",children:typeof f.unit_price=="number"?`${f.unit_price.toFixed(2)} ${f.currency||""}`:`${f.unit_price} ${f.currency||""}`})}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(Ne,{className:"text-right",children:f.total_amount||f.total_cost?n.jsxs("div",{className:"space-y-1",children:[n.jsxs("span",{className:"font-semibold text-primary",children:[f.total_amount||f.total_cost," ",f.currency||""]}),f.outstanding_balance&&parseFloat(f.outstanding_balance)>0&&n.jsxs("p",{className:"text-xs text-destructive",children:["Due: ",f.outstanding_balance," ",f.currency]})]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(Ne,{children:n.jsxs("div",{className:"space-y-1 min-w-[120px]",children:[n.jsx(Ce,{variant:f.payment_status==="Paid"?"default":f.payment_status==="Unpaid"?"destructive":f.payment_status==="Partial"?"secondary":"outline",children:f.payment_status||"Unknown"}),f.paid_amount&&parseFloat(f.paid_amount)>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Paid: ",f.paid_amount," ",f.currency]})]})}),n.jsx(Ne,{children:n.jsx(Ce,{variant:f.availability==="In Stock"?"default":f.availability==="Out of Stock"?"destructive":f.availability==="Pre-order"?"secondary":"outline",children:f.availability||"Unknown"})}),n.jsx(Ne,{className:"text-right",children:n.jsxs(fc,{children:[n.jsx(JY,{asChild:!0,children:n.jsx(te,{variant:"ghost",size:"sm",disabled:d.isPending,className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:n.jsx(pn,{className:"h-4 w-4"})})}),n.jsxs(yl,{children:[n.jsxs(jl,{children:[n.jsx(wl,{children:"Remove Product?"}),n.jsxs(Nl,{children:['Are you sure you want to remove "',f.product,'" from this vendor? This action cannot be undone.']})]}),n.jsxs(bl,{children:[n.jsx(Sl,{children:"Cancel"}),n.jsx(_l,{onClick:()=>d.mutate(f.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remove"})]})]})]})})]},f.id)})})]})})}),n.jsx(Qt,{value:"orders",className:"mt-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(_r,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Orders"}),n.jsx("p",{className:"text-muted-foreground",children:"Order history for this vendor will be displayed here."})]})}),n.jsx(Qt,{value:"issues",className:"mt-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Et,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Issues"}),n.jsx("p",{className:"text-muted-foreground",children:"Issue tracking for this vendor will be displayed here."})]})}),n.jsx(Qt,{value:"payments",className:"mt-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Nr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payments"}),n.jsx("p",{className:"text-muted-foreground",children:"Payment history for this vendor will be displayed here."})]})})]})})]})]})})};function tnt(){return n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsx(C,{className:"h-10 w-32 rounded-md"})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})]})}function rnt(){return n.jsxs(X,{children:[n.jsx(be,{className:"pb-3",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-7 w-48"}),n.jsx(C,{className:"h-4 w-96"})]})}),n.jsxs(Q,{children:[n.jsx("div",{className:"flex gap-1 border-b mb-6",children:["Basic Info","Address","Business","Products","Terms"].map((e,t)=>n.jsx(C,{className:"h-10 w-28 rounded-t-md"},t))}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx(C,{className:"h-5 w-32"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-12"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx(C,{className:"h-5 w-36"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx(C,{className:"h-5 w-40"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-36"}),n.jsx(C,{className:"h-20 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-20 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-20 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx(C,{className:"h-5 w-44"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-24 w-full rounded-md"})]})]})]})]})}function nnt(){return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(tnt,{}),n.jsx(rnt,{})]})})}const snt=()=>{const{id:e}=to(),t=mr(),[r,s]=v.useState("basic"),{data:a,isLoading:i,error:o}=jX(e||null),l=dBe(),c=bX(),[d,u]=v.useState(""),[f,m]=v.useState(""),[h,x]=v.useState(""),[p,g]=v.useState(""),[j,y]=v.useState(""),[w,b]=v.useState(""),[N,S]=v.useState(""),[_,E]=v.useState(""),[A,T]=v.useState(""),[R,I]=v.useState(""),[z,H]=v.useState(""),[F,k]=v.useState(""),[P,M]=v.useState(""),[O,K]=v.useState(""),[ne,D]=v.useState(""),[U,L]=v.useState(""),[G,le]=v.useState(""),[fe,B]=v.useState(""),[Y,ie]=v.useState(""),[we,ue]=v.useState(""),[ge,xe]=v.useState(""),[_e,Re]=v.useState(""),[ke,re]=v.useState("");if(v.useEffect(()=>{a&&(u(a.name||""),m(a.contact_person||""),x(a.email||""),g(a.phone||""),y(a.website||""),b(a.category||""),S(a.address||""),E(a.city||""),T(a.country||""),I(a.postal_code||""),H(a.tax_id||""),k(a.business_type||""),M(a.year_established||""),K(a.employee_count||""),D(a.product_categories||""),L(a.certifications||""),le(a.specializations||""),B(a.payment_terms||""),ie(a.delivery_terms||""),ue(a.warranty_period||""),xe(a.return_policy||""),Re(a.minimum_order||""),re(a.notes||""))},[a]),i)return n.jsx(nnt,{});if(o||!a)return n.jsx(ct,{title:"Vendor Not Found",children:n.jsx(X,{children:n.jsxs(Q,{className:"p-12 text-center",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Vendor Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:o instanceof Error?o.message:"The vendor you're trying to edit doesn't exist."}),n.jsx(te,{onClick:()=>t("/vendors"),children:"Back to Vendors"})]})})});const he=()=>{if(!d||!h||!f){Ue.error("Please fill in all required fields (Company Name, Contact Person, Email)"),s("basic");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h)){Ue.error("Please enter a valid email address"),s("basic");return}const Fe={name:d,company_name:d,contact_person:f,email:h,phone:p||"",website:j||"",category:w||"",address:N||"",city:_||"",country:A||"",postal_code:R||"",tax_id:z||"",business_type:F||"",year_established:P||"",employee_count:O||"",product_categories:ne||"",certifications:U||"",specializations:G||"",payment_terms:fe||"",delivery_terms:Y||"",warranty_period:we||"",return_policy:ge||"",minimum_order:_e||"",notes:ke||""};l.mutate({id:e,data:Fe},{onSuccess:()=>{t(`/vendors/${e}`)}})},ce=()=>{c.mutate(e,{onSuccess:()=>{t("/vendors")}})};return n.jsx(ct,{title:`Edit ${a.name}`,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(te,{variant:"ghost",onClick:()=>t(`/vendors/${e}`),className:"gap-2",children:[n.jsx(sr,{className:"h-4 w-4"}),"Back to Vendor"]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(fc,{children:[n.jsx(JY,{asChild:!0,children:n.jsxs(te,{variant:"destructive",className:"gap-2",children:[n.jsx(pn,{className:"h-4 w-4"}),"Delete"]})}),n.jsxs(yl,{children:[n.jsxs(jl,{children:[n.jsx(wl,{children:"Are you sure?"}),n.jsx(Nl,{children:"This will permanently delete this vendor and all associated data. This action cannot be undone."})]}),n.jsxs(bl,{children:[n.jsx(Sl,{disabled:c.isPending,children:"Cancel"}),n.jsx(_l,{onClick:ce,disabled:c.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:c.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})]}),n.jsx(te,{onClick:he,className:"gap-2",disabled:l.isPending,children:l.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Ht,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(vu,{className:"h-4 w-4"}),"Save Changes"]})})]})]}),n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Vendor Information"}),n.jsx(Dr,{children:"Update the vendor details below. Fields marked with * are required."})]}),n.jsx(Q,{children:n.jsxs(Ro,{value:r,onValueChange:s,children:[n.jsxs(no,{className:"grid w-full grid-cols-5",children:[n.jsx(Ut,{value:"basic",children:"Basic Info"}),n.jsx(Ut,{value:"address",children:"Address"}),n.jsx(Ut,{value:"business",children:"Business"}),n.jsx(Ut,{value:"products",children:"Products"}),n.jsx(Ut,{value:"terms",children:"Terms"})]}),n.jsx(Qt,{value:"basic",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"companyName",children:["Company Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(fr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"companyName",placeholder:"Enter company name",value:d,onChange:je=>u(je.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"category",children:"Category"}),n.jsxs(st,{value:w,onValueChange:b,children:[n.jsx(rt,{children:n.jsx(at,{placeholder:"Select category"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"furniture",children:"Furniture"}),n.jsx(J,{value:"electronics",children:"Electronics"}),n.jsx(J,{value:"lighting",children:"Lighting"}),n.jsx(J,{value:"appliances",children:"Appliances"}),n.jsx(J,{value:"textiles",children:"Textiles"}),n.jsx(J,{value:"construction",children:"Construction"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"contactPerson",children:["Contact Person ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(os,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"contactPerson",placeholder:"Primary contact name",value:f,onChange:je=>m(je.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"email",children:["Email ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(gn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"email",type:"email",placeholder:"contact@company.com",value:h,onChange:je=>x(je.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"phone",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(ko,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"phone",placeholder:"+1 (555) 000-0000",value:p,onChange:je=>g(je.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"website",children:"Website"}),n.jsxs("div",{className:"relative",children:[n.jsx(tc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"website",placeholder:"https://company.com",value:j,onChange:je=>y(je.target.value),className:"pl-9"})]})]})]})}),n.jsx(Qt,{value:"address",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"address",children:"Street Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(ya,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"address",placeholder:"123 Main Street",value:N,onChange:je=>S(je.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"city",children:"City"}),n.jsx(me,{id:"city",placeholder:"City",value:_,onChange:je=>E(je.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"postalCode",children:"Postal Code"}),n.jsx(me,{id:"postalCode",placeholder:"10001",value:R,onChange:je=>I(je.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"country",children:"Country"}),n.jsx(me,{id:"country",placeholder:"Country",value:A,onChange:je=>T(je.target.value)})]})]})}),n.jsx(Qt,{value:"business",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"taxId",children:"Tax ID / VAT Number"}),n.jsx(me,{id:"taxId",placeholder:"XX-XXXXXXX",value:z,onChange:je=>H(je.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"businessType",children:"Business Type"}),n.jsxs(st,{value:F,onValueChange:k,children:[n.jsx(rt,{children:n.jsx(at,{placeholder:"Select type"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"manufacturer",children:"Manufacturer"}),n.jsx(J,{value:"distributor",children:"Distributor"}),n.jsx(J,{value:"wholesaler",children:"Wholesaler"}),n.jsx(J,{value:"retailer",children:"Retailer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"yearEstablished",children:"Year Established"}),n.jsx(me,{id:"yearEstablished",placeholder:"2020",value:P,onChange:je=>M(je.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"employeeCount",children:"Number of Employees"}),n.jsx(me,{id:"employeeCount",placeholder:"50",value:O,onChange:je=>K(je.target.value)})]})]})}),n.jsx(Qt,{value:"products",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"productCategories",children:"Product Categories"}),n.jsx(Sn,{id:"productCategories",placeholder:"E.g., Furniture, Lighting, Appliances (comma-separated)",value:ne,onChange:je=>D(je.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"specializations",children:"Specializations"}),n.jsx(Sn,{id:"specializations",placeholder:"What makes this vendor unique?",value:G,onChange:je=>le(je.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"certifications",children:"Certifications & Compliance"}),n.jsx(Sn,{id:"certifications",placeholder:"ISO, Quality certifications, etc.",value:U,onChange:je=>L(je.target.value),rows:3})]})]})}),n.jsx(Qt,{value:"terms",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paymentTerms",children:"Payment Terms"}),n.jsxs(st,{value:fe,onValueChange:B,children:[n.jsx(rt,{children:n.jsx(at,{placeholder:"Select payment terms"})}),n.jsxs(nt,{children:[n.jsx(J,{value:"net-30",children:"Net 30"}),n.jsx(J,{value:"net-60",children:"Net 60"}),n.jsx(J,{value:"net-90",children:"Net 90"}),n.jsx(J,{value:"cod",children:"Cash on Delivery"}),n.jsx(J,{value:"advance",children:"Advance Payment"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"deliveryTerms",children:"Delivery Terms"}),n.jsx(me,{id:"deliveryTerms",placeholder:"E.g., 7-14 business days",value:Y,onChange:je=>ie(je.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"warrantyPeriod",children:"Warranty Period"}),n.jsx(me,{id:"warrantyPeriod",placeholder:"E.g., 12 months",value:we,onChange:je=>ue(je.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"minimumOrder",children:"Minimum Order Value"}),n.jsxs("div",{className:"relative",children:[n.jsx(Nr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"minimumOrder",placeholder:"500",value:_e,onChange:je=>Re(je.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"returnPolicy",children:"Return Policy"}),n.jsx(Sn,{id:"returnPolicy",placeholder:"Describe return and refund policy",value:ge,onChange:je=>xe(je.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(Sn,{id:"notes",placeholder:"Any additional information about the vendor",value:ke,onChange:je=>re(je.target.value),rows:4})]})]})})]})})]})]})})},zj=[{id:1,name:"Barbara Kovacs",role:"Designer",email:"barbara@buy2rent.com",phone:"+36 20 123 4567",assigned_apartments:2,status:"Active",last_active:"2025-11-05 14:30"},{id:2,name:"Maria Weber",role:"Designer",email:"maria@buy2rent.com",phone:"+43 664 987 6543",assigned_apartments:2,status:"Active",last_active:"2025-11-05 09:15"},{id:3,name:"Admin User",role:"System Admin",email:"admin@buy2rent.com",phone:"+36 30 555 1234",assigned_apartments:0,status:"Active",last_active:"2025-11-05 15:45"}],f8=[{id:1,name:"Supplier Issue Email",enabled:!0,template:{subject:"Issue Report - {{product}} - Order {{order_no}}",body:`Dear {{vendor}},

We have identified an issue with the following product:

Product: {{product}}
Apartment: {{apartment}}
Issue Type: {{issue_type}}
Description: {{description}}

Please advise on next steps for resolution.

Best regards,
Buy2Rent Team`}},{id:2,name:"Payment Reminder",enabled:!0,template:{subject:"Payment Reminder - Invoice {{invoice_no}}",body:`Dear {{vendor}},

This is a reminder that payment for invoice {{invoice_no}} is due on {{due_date}}.

Amount: {{amount}}
Order: {{order_no}}

Thank you,
Buy2Rent Finance Team`}},{id:3,name:"Out-of-Stock Replacement",enabled:!1,template:{subject:"Product Replacement Request - {{product}}",body:`Dear {{vendor}},

The product {{product}} is currently out of stock. Could you please suggest a suitable replacement?

Original Product: {{product}}
Apartment: {{apartment}}
Budget: {{price}}

Thank you,
Buy2Rent Procurement`}}],ant=()=>{const[e,t]=v.useState(""),r=zj.filter(a=>a.name.toLowerCase().includes(e.toLowerCase())||a.email.toLowerCase().includes(e.toLowerCase())||a.role.toLowerCase().includes(e.toLowerCase())),s=a=>({"System Admin":"bg-purple-500/10 text-purple-500",Designer:"bg-blue-500/10 text-blue-500",Manager:"bg-green-500/10 text-green-500"})[a]||"bg-gray-500/10 text-gray-500";return n.jsx(ct,{title:"Users",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),n.jsx("p",{className:"text-3xl font-bold",children:zj.length})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Users"}),n.jsx("p",{className:"text-3xl font-bold",children:zj.filter(a=>a.status==="Active").length})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Designers"}),n.jsx("p",{className:"text-3xl font-bold",children:zj.filter(a=>a.role==="Designer").length})]})})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(ha,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search users...",value:e,onChange:a=>t(a.target.value),className:"pl-9"})]}),n.jsxs(te,{children:[n.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{children:["All Users (",r.length,")"]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ms,{children:[n.jsx(Fs,{children:n.jsxs(Bt,{children:[n.jsx(Pe,{children:"Name"}),n.jsx(Pe,{children:"Role"}),n.jsx(Pe,{children:"Email"}),n.jsx(Pe,{children:"Phone"}),n.jsx(Pe,{children:"Assigned Apartments"}),n.jsx(Pe,{children:"Status"}),n.jsx(Pe,{children:"Last Active"}),n.jsx(Pe,{className:"text-right",children:"Actions"})]})}),n.jsx($s,{children:r.map(a=>n.jsxs(Bt,{children:[n.jsx(Ne,{className:"font-medium",children:a.name}),n.jsx(Ne,{children:n.jsx(Ce,{className:s(a.role),children:a.role})}),n.jsx(Ne,{children:a.email}),n.jsx(Ne,{children:a.phone}),n.jsx(Ne,{children:a.assigned_apartments>0?n.jsx(Ce,{variant:"secondary",children:a.assigned_apartments}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(Ne,{children:n.jsx(Ce,{variant:a.status==="Active"?"default":"secondary",children:a.status})}),n.jsx(Ne,{className:"text-sm text-muted-foreground",children:a.last_active}),n.jsx(Ne,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(te,{size:"sm",variant:"ghost",children:n.jsx(Zs,{className:"h-4 w-4"})}),n.jsx(te,{size:"sm",variant:"ghost",children:n.jsx(y7,{className:"h-4 w-4"})})]})})]},a.id))})]})})})]})]})})},int=()=>{const[e,t]=v.useState(f8.reduce((i,o)=>({...i,[o.id]:o.enabled}),{})),{toast:r}=gr(),s=i=>{t(o=>({...o,[i]:!o[i]})),r({title:"Automation Updated",description:`Automation ${e[i]?"disabled":"enabled"} successfully.`})},a=i=>{r({title:"Template Saved",description:"Email template has been updated successfully."})};return n.jsx(ct,{title:"Automations",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(X,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 rounded-2xl bg-primary/10",children:n.jsx(f0,{className:"h-8 w-8 text-primary"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"AI Workflow Automation"}),n.jsx("p",{className:"text-muted-foreground",children:"Configure automated email templates and workflows to streamline vendor communication, payment reminders, and issue resolution."})]})]})})}),f8.map(i=>n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ve,{children:i.name}),n.jsx(Ce,{variant:e[i.id]?"default":"secondary",children:e[i.id]?"Active":"Inactive"})]}),n.jsx(Dr,{children:"Automatically send emails when triggered by system events"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(q,{htmlFor:`toggle-${i.id}`,className:"text-sm text-muted-foreground",children:e[i.id]?"Enabled":"Disabled"}),n.jsx(Vn,{id:`toggle-${i.id}`,checked:e[i.id],onCheckedChange:()=>s(i.id)})]})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:`subject-${i.id}`,className:"flex items-center gap-2",children:[n.jsx(gn,{className:"h-4 w-4"}),"Email Subject"]}),n.jsx(me,{id:`subject-${i.id}`,defaultValue:i.template.subject,placeholder:"Email subject line...",disabled:!e[i.id]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:`body-${i.id}`,children:"Email Body"}),n.jsx(pa,{id:`body-${i.id}`,defaultValue:i.template.body,placeholder:"Email template body...",rows:8,disabled:!e[i.id],className:"font-mono text-sm"}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[n.jsx(Ce,{variant:"outline",className:"text-xs",children:"{{vendor}}"}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:"{{product}}"}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:"{{apartment}}"}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:"{{order_no}}"}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:"{{due_date}}"}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:"{{amount}}"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(te,{onClick:()=>a(i.id),disabled:!e[i.id],children:[n.jsx(vu,{className:"h-4 w-4 mr-2"}),"Save Template"]})})]})]},i.id)),n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5"}),"Recent Automation Events"]})}),n.jsx(Q,{children:n.jsx("div",{className:"space-y-3",children:[{event:"Issue email sent to IKEA Hungary",time:"2 hours ago",type:"issue"},{event:"Payment reminder sent to Royalty Line",time:"5 hours ago",type:"payment"},{event:"Stock check email sent to Philips",time:"1 day ago",type:"stock"},{event:"RMA request email sent to Home Depot",time:"2 days ago",type:"issue"}].map((i,o)=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(gn,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:i.event}),n.jsx("p",{className:"text-xs text-muted-foreground",children:i.time})]})]}),n.jsx(Ce,{variant:"outline",children:i.type})]},o))})})]})]})})},ont=Kv.replace("/auth",""),_i=cr.create({baseURL:ont,headers:{"Content-Type":"application/json"}});_i.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});_i.interceptors.response.use(e=>e,async e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const wx={getSettings:async()=>(await _i.get("/auth/settings/")).data,updateSettings:async e=>(await _i.put("/auth/settings/",e)).data,resetSettings:async()=>(await _i.delete("/auth/settings/")).data,getNotificationSettings:async()=>(await _i.get("/auth/settings/notifications/")).data,updateNotificationSettings:async e=>(await _i.put("/auth/settings/notifications/",e)).data,getDisplaySettings:async()=>(await _i.get("/auth/settings/display/")).data,updateDisplaySettings:async e=>(await _i.put("/auth/settings/display/",e)).data,getRegionalSettings:async()=>(await _i.get("/auth/settings/regional/")).data,updateRegionalSettings:async e=>(await _i.put("/auth/settings/regional/",e)).data,getProfileSettings:async()=>(await _i.get("/auth/settings/profile/")).data,updateProfileSettings:async e=>(await _i.put("/auth/settings/profile/",e)).data},ei={all:["settings"],notifications:["settings","notifications"],display:["settings","display"],regional:["settings","regional"],profile:["settings","profile"]},lnt={company:"",job_title:"",email_notifications:!0,push_notifications:!0,sms_notifications:!1,order_updates:!0,payment_alerts:!0,delivery_notifications:!0,vendor_messages:!0,system_alerts:!0,weekly_reports:!1,monthly_reports:!0,sound_enabled:!0,desktop_notifications:!0,theme:"light",compact_view:!1,sidebar_collapsed:!1,show_avatars:!0,animations_enabled:!0,language:"en",timezone:"UTC+1",date_format:"YYYY-MM-DD",time_format:"24h",currency:"HUF",number_format:"hu-HU",two_factor_enabled:!1},cnt=()=>_s({queryKey:ei.all,queryFn:async()=>{try{return await wx.getSettings()}catch(e){return console.warn("Failed to fetch settings, using defaults:",e),lnt}},staleTime:5*60*1e3,retry:1}),dnt=()=>{const e=Hr();return cn({mutationFn:t=>wx.updateSettings(t),onSuccess:t=>{e.setQueryData(ei.all,t.settings),e.invalidateQueries({queryKey:ei.notifications}),e.invalidateQueries({queryKey:ei.display}),e.invalidateQueries({queryKey:ei.regional}),e.invalidateQueries({queryKey:ei.profile})}})},unt=()=>{const e=Hr();return cn({mutationFn:wx.resetSettings,onSuccess:t=>{e.setQueryData(ei.all,t.settings),e.invalidateQueries({queryKey:ei.all})}})},fnt=()=>{const e=Hr();return cn({mutationFn:t=>wx.updateNotificationSettings(t),onSuccess:t=>{e.setQueryData(ei.notifications,t.settings),e.invalidateQueries({queryKey:ei.all})}})},mnt=()=>{const e=Hr();return cn({mutationFn:t=>wx.updateDisplaySettings(t),onSuccess:t=>{e.setQueryData(ei.display,t.settings),e.invalidateQueries({queryKey:ei.all})}})},hnt=()=>{const e=Hr();return cn({mutationFn:t=>wx.updateRegionalSettings(t),onSuccess:t=>{e.setQueryData(ei.regional,t.settings),e.invalidateQueries({queryKey:ei.all})}})},pnt=()=>{const{theme:e,setTheme:t}=Wp(),{toast:r}=gr(),{user:s}=Yv(),[a,i]=v.useState("account"),{data:o,isLoading:l,refetch:c}=cnt(),d=dnt(),u=unt(),f=fnt(),m=mnt(),h=hnt(),[x,p]=v.useState({firstName:"",lastName:"",email:"",phone:"",company:"",jobTitle:""}),[g,j]=v.useState(!1),[y,w]=v.useState(!1),[b,N]=v.useState(!1),[S,_]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[E,A]=v.useState({emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,orderUpdates:!0,paymentAlerts:!0,deliveryNotifications:!0,vendorMessages:!0,systemAlerts:!0,weeklyReports:!1,monthlyReports:!0,soundEnabled:!0,desktopNotifications:!0}),[T,R]=v.useState({compactView:!1,sidebarCollapsed:localStorage.getItem("sidebarCollapsed")==="true",showAvatars:!0,animationsEnabled:!0}),[I,z]=v.useState({language:"en",timezone:"UTC+1",dateFormat:"YYYY-MM-DD",timeFormat:"24h",currency:"HUF",numberFormat:"hu-HU"}),[H,F]=v.useState(!1);v.useEffect(()=>{o&&(p({firstName:(s==null?void 0:s.first_name)||"",lastName:(s==null?void 0:s.last_name)||"",email:(s==null?void 0:s.email)||o.user_email||"",phone:(s==null?void 0:s.phone)||"",company:o.company||"",jobTitle:o.job_title||""}),A({emailNotifications:o.email_notifications,pushNotifications:o.push_notifications,smsNotifications:o.sms_notifications,orderUpdates:o.order_updates,paymentAlerts:o.payment_alerts,deliveryNotifications:o.delivery_notifications,vendorMessages:o.vendor_messages,systemAlerts:o.system_alerts,weeklyReports:o.weekly_reports,monthlyReports:o.monthly_reports,soundEnabled:o.sound_enabled,desktopNotifications:o.desktop_notifications}),R({compactView:o.compact_view,sidebarCollapsed:o.sidebar_collapsed,showAvatars:o.show_avatars,animationsEnabled:o.animations_enabled}),z({language:o.language,timezone:o.timezone,dateFormat:o.date_format,timeFormat:o.time_format,currency:o.currency,numberFormat:o.number_format}),F(o.two_factor_enabled))},[o,s]);const k=async()=>{try{await d.mutateAsync({company:x.company,job_title:x.jobTitle}),r({title:"Account Updated",description:"Your account information has been saved successfully."})}catch{r({title:"Error",description:"Failed to save account settings.",variant:"destructive"})}},P=()=>{if(S.newPassword!==S.confirmPassword){r({title:"Error",description:"New passwords do not match.",variant:"destructive"});return}r({title:"Password Changed",description:"Your password has been updated successfully."}),_({currentPassword:"",newPassword:"",confirmPassword:""})},M=async()=>{try{await f.mutateAsync({email_notifications:E.emailNotifications,push_notifications:E.pushNotifications,sms_notifications:E.smsNotifications,order_updates:E.orderUpdates,payment_alerts:E.paymentAlerts,delivery_notifications:E.deliveryNotifications,vendor_messages:E.vendorMessages,system_alerts:E.systemAlerts,weekly_reports:E.weeklyReports,monthly_reports:E.monthlyReports,sound_enabled:E.soundEnabled,desktop_notifications:E.desktopNotifications}),r({title:"Preferences Saved",description:"Your notification preferences have been updated."})}catch{r({title:"Error",description:"Failed to save notification settings.",variant:"destructive"})}},O=async()=>{try{await m.mutateAsync({theme:e,compact_view:T.compactView,sidebar_collapsed:T.sidebarCollapsed,show_avatars:T.showAvatars,animations_enabled:T.animationsEnabled}),localStorage.setItem("sidebarCollapsed",String(T.sidebarCollapsed)),window.dispatchEvent(new CustomEvent("sidebarPreferenceChanged",{detail:{collapsed:T.sidebarCollapsed}})),r({title:"Display Settings Saved",description:"Your display preferences have been updated."})}catch{r({title:"Error",description:"Failed to save display settings.",variant:"destructive"})}},K=async()=>{try{await h.mutateAsync({language:I.language,timezone:I.timezone,date_format:I.dateFormat,time_format:I.timeFormat,currency:I.currency,number_format:I.numberFormat}),r({title:"Regional Settings Saved",description:"Your regional preferences have been updated."})}catch{r({title:"Error",description:"Failed to save regional settings.",variant:"destructive"})}},ne=async L=>{try{await u.mutateAsync(),r({title:"Settings Reset",description:"All settings have been reset to defaults."}),c()}catch{r({title:"Error",description:"Failed to reset settings.",variant:"destructive"})}},D=async L=>{try{await d.mutateAsync({two_factor_enabled:L}),F(L),r({title:L?"2FA Enabled":"2FA Disabled",description:L?"Two-factor authentication has been enabled.":"Two-factor authentication has been disabled."})}catch{r({title:"Error",description:"Failed to update 2FA settings.",variant:"destructive"})}};if(l)return n.jsx(ct,{title:"Settings",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(C,{className:"h-6 w-24"})}),n.jsx(Q,{className:"space-y-2",children:[1,2,3,4,5].map(L=>n.jsx(C,{className:"h-10 w-full"},L))})]})}),n.jsx("div",{className:"lg:col-span-3",children:n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(C,{className:"h-6 w-48"}),n.jsx(C,{className:"h-4 w-64"})]}),n.jsx(Q,{className:"space-y-4",children:[1,2,3,4].map(L=>n.jsx(C,{className:"h-12 w-full"},L))})]})})]})});const U=[{id:"account",icon:os,label:"Account"},{id:"security",icon:V5,label:"Security"},{id:"notifications",icon:mf,label:"Notifications"},{id:"display",icon:wse,label:"Display"},{id:"regional",icon:tc,label:"Regional Settings"}];return n.jsx(ct,{title:"Settings",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs(X,{children:[n.jsx(be,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Bv,{className:"h-5 w-5"}),"Settings"]})}),n.jsx(Q,{className:"p-2",children:n.jsx("nav",{className:"space-y-1",children:U.map(L=>n.jsxs(te,{variant:a===L.id?"secondary":"ghost",className:"w-full justify-start",onClick:()=>i(L.id),children:[n.jsx(L.icon,{className:"mr-2 h-4 w-4"}),L.label]},L.id))})})]})}),n.jsxs("div",{className:"lg:col-span-3",children:[a==="account"&&n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Personal Information"}),n.jsx(Dr,{children:"Update your personal details and contact information"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"firstName",children:"First Name"}),n.jsx(me,{id:"firstName",value:x.firstName,onChange:L=>p({...x,firstName:L.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"lastName",children:"Last Name"}),n.jsx(me,{id:"lastName",value:x.lastName,onChange:L=>p({...x,lastName:L.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"email",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(gn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"email",type:"email",className:"pl-10",value:x.email,onChange:L=>p({...x,email:L.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"phone",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(ko,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"phone",type:"tel",className:"pl-10",value:x.phone,onChange:L=>p({...x,phone:L.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"company",children:"Company"}),n.jsx(me,{id:"company",value:x.company,onChange:L=>p({...x,company:L.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"jobTitle",children:"Job Title"}),n.jsx(me,{id:"jobTitle",value:x.jobTitle,onChange:L=>p({...x,jobTitle:L.target.value})})]})]}),n.jsx($t,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(te,{variant:"outline",onClick:()=>p({firstName:"John",lastName:"Smith",email:"john.smith@example.com",phone:"+1 (555) 123-4567",company:"Tech Solutions Inc.",jobTitle:"Property Manager"}),children:"Cancel"}),n.jsxs(te,{onClick:k,disabled:d.isPending,children:[d.isPending?n.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(yo,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})]}),a==="security"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Change Password"}),n.jsx(Dr,{children:"Update your password to keep your account secure"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"currentPassword",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"currentPassword",type:g?"text":"password",value:S.currentPassword,onChange:L=>_({...S,currentPassword:L.target.value})}),n.jsx(te,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>j(!g),children:g?n.jsx(ph,{className:"h-4 w-4"}):n.jsx(oi,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"newPassword",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"newPassword",type:y?"text":"password",value:S.newPassword,onChange:L=>_({...S,newPassword:L.target.value})}),n.jsx(te,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>w(!y),children:y?n.jsx(ph,{className:"h-4 w-4"}):n.jsx(oi,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"confirmPassword",children:"Confirm New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"confirmPassword",type:b?"text":"password",value:S.confirmPassword,onChange:L=>_({...S,confirmPassword:L.target.value})}),n.jsx(te,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>N(!b),children:b?n.jsx(ph,{className:"h-4 w-4"}):n.jsx(oi,{className:"h-4 w-4"})})]})]})]}),n.jsx($t,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(te,{variant:"outline",onClick:()=>_({currentPassword:"",newPassword:"",confirmPassword:""}),children:"Cancel"}),n.jsxs(te,{onClick:P,children:[n.jsx(V5,{className:"mr-2 h-4 w-4"}),"Update Password"]})]})]})]}),n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Two-Factor Authentication"}),n.jsx(Dr,{children:"Add an extra layer of security to your account"})]}),n.jsx(Q,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ase,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium",children:"Enable 2FA"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Require a verification code in addition to your password"})]})]}),n.jsx(Vn,{checked:H,onCheckedChange:D,disabled:d.isPending})]})})]})]}),a==="notifications"&&n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Notification Preferences"}),n.jsx(Dr,{children:"Manage how and when you receive notifications"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Notification Channels"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(gn,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Email Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]})]}),n.jsx(Vn,{checked:E.emailNotifications,onCheckedChange:L=>A({...E,emailNotifications:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(mf,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Push Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive browser push notifications"})]})]}),n.jsx(Vn,{checked:E.pushNotifications,onCheckedChange:L=>A({...E,pushNotifications:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(cu,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"SMS Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via text message"})]})]}),n.jsx(Vn,{checked:E.smsNotifications,onCheckedChange:L=>A({...E,smsNotifications:L})})]})]})]}),n.jsx($t,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Activity Notifications"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Order Updates"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified about order status changes"})]}),n.jsx(Vn,{checked:E.orderUpdates,onCheckedChange:L=>A({...E,orderUpdates:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Payment Alerts"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications for payment activities"})]}),n.jsx(Vn,{checked:E.paymentAlerts,onCheckedChange:L=>A({...E,paymentAlerts:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Delivery Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Updates on delivery status and schedules"})]}),n.jsx(Vn,{checked:E.deliveryNotifications,onCheckedChange:L=>A({...E,deliveryNotifications:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Vendor Messages"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Messages and updates from vendors"})]}),n.jsx(Vn,{checked:E.vendorMessages,onCheckedChange:L=>A({...E,vendorMessages:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"System Alerts"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Important system notifications and updates"})]}),n.jsx(Vn,{checked:E.systemAlerts,onCheckedChange:L=>A({...E,systemAlerts:L})})]})]})]}),n.jsx($t,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Report Notifications"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Weekly Reports"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive weekly summary reports"})]}),n.jsx(Vn,{checked:E.weeklyReports,onCheckedChange:L=>A({...E,weeklyReports:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Monthly Reports"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive monthly summary reports"})]}),n.jsx(Vn,{checked:E.monthlyReports,onCheckedChange:L=>A({...E,monthlyReports:L})})]})]})]}),n.jsx($t,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Sound & Desktop"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[E.soundEnabled?n.jsx(Tse,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Ose,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Sound Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Play sounds for notifications"})]})]}),n.jsx(Vn,{checked:E.soundEnabled,onCheckedChange:L=>A({...E,soundEnabled:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Desktop Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Show notifications on desktop"})]}),n.jsx(Vn,{checked:E.desktopNotifications,onCheckedChange:L=>A({...E,desktopNotifications:L})})]})]})]})]}),n.jsx($t,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsxs(te,{variant:"outline",onClick:()=>ne(),disabled:u.isPending,children:[u.isPending?n.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Tf,{className:"mr-2 h-4 w-4"}),"Reset to Default"]}),n.jsxs(te,{onClick:M,disabled:f.isPending,children:[f.isPending?n.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(yo,{className:"mr-2 h-4 w-4"}),"Save Preferences"]})]})]})]}),a==="display"&&n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Appearance"}),n.jsx(Dr,{children:"Customize how the application looks and feels"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[e==="dark"?n.jsx(Lv,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Uv,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Theme"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your preferred color scheme"})]})]}),n.jsxs(st,{value:e,onValueChange:t,children:[n.jsx(rt,{className:"w-32",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"light",children:"Light"}),n.jsx(J,{value:"dark",children:"Dark"}),n.jsx(J,{value:"system",children:"System"})]})]})]}),n.jsx($t,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Compact View"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Display more content with reduced spacing"})]}),n.jsx(Vn,{checked:T.compactView,onCheckedChange:L=>R({...T,compactView:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Collapsed Sidebar"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Show sidebar in collapsed state by default"})]}),n.jsx(Vn,{checked:T.sidebarCollapsed,onCheckedChange:L=>{R({...T,sidebarCollapsed:L}),localStorage.setItem("sidebarCollapsed",String(L)),window.dispatchEvent(new CustomEvent("sidebarPreferenceChanged",{detail:{collapsed:L}})),r({title:"Sidebar Preference Updated",description:`Sidebar will be ${L?"collapsed":"expanded"} by default.`})}})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Show Avatars"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Display user avatars throughout the app"})]}),n.jsx(Vn,{checked:T.showAvatars,onCheckedChange:L=>R({...T,showAvatars:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Enable Animations"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Show smooth transitions and animations"})]}),n.jsx(Vn,{checked:T.animationsEnabled,onCheckedChange:L=>R({...T,animationsEnabled:L})})]})]}),n.jsx($t,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsxs(te,{variant:"outline",onClick:()=>ne(),disabled:u.isPending,children:[u.isPending?n.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Tf,{className:"mr-2 h-4 w-4"}),"Reset to Default"]}),n.jsxs(te,{onClick:O,disabled:m.isPending,children:[m.isPending?n.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(yo,{className:"mr-2 h-4 w-4"}),"Save Settings"]})]})]})]}),a==="regional"&&n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsx(Ve,{children:"Regional Preferences"}),n.jsx(Dr,{children:"Configure language, timezone, and formatting options"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"language",children:"Language"}),n.jsxs(st,{value:I.language,onValueChange:L=>z({...I,language:L}),children:[n.jsx(rt,{id:"language",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"en",children:"English"}),n.jsx(J,{value:"es",children:"Spanish"}),n.jsx(J,{value:"fr",children:"French"}),n.jsx(J,{value:"de",children:"German"}),n.jsx(J,{value:"zh",children:"Chinese"}),n.jsx(J,{value:"ja",children:"Japanese"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"timezone",children:"Timezone"}),n.jsxs("div",{className:"relative",children:[n.jsx(tc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground z-10"}),n.jsxs(st,{value:I.timezone,onValueChange:L=>z({...I,timezone:L}),children:[n.jsx(rt,{id:"timezone",className:"pl-10",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"UTC-12",children:"UTC-12:00 Baker Island"}),n.jsx(J,{value:"UTC-11",children:"UTC-11:00 American Samoa"}),n.jsx(J,{value:"UTC-10",children:"UTC-10:00 Hawaii"}),n.jsx(J,{value:"UTC-9",children:"UTC-09:00 Alaska"}),n.jsx(J,{value:"UTC-8",children:"UTC-08:00 Pacific Time"}),n.jsx(J,{value:"UTC-7",children:"UTC-07:00 Mountain Time"}),n.jsx(J,{value:"UTC-6",children:"UTC-06:00 Central Time"}),n.jsx(J,{value:"UTC-5",children:"UTC-05:00 Eastern Time"}),n.jsx(J,{value:"UTC-4",children:"UTC-04:00 Atlantic Time"}),n.jsx(J,{value:"UTC-3",children:"UTC-03:00 Buenos Aires"}),n.jsx(J,{value:"UTC-2",children:"UTC-02:00 Mid-Atlantic"}),n.jsx(J,{value:"UTC-1",children:"UTC-01:00 Azores"}),n.jsx(J,{value:"UTC+0",children:"UTC+00:00 London"}),n.jsx(J,{value:"UTC+1",children:"UTC+01:00 Paris"}),n.jsx(J,{value:"UTC+2",children:"UTC+02:00 Cairo"}),n.jsx(J,{value:"UTC+3",children:"UTC+03:00 Moscow"}),n.jsx(J,{value:"UTC+4",children:"UTC+04:00 Dubai"}),n.jsx(J,{value:"UTC+5",children:"UTC+05:00 Pakistan"}),n.jsx(J,{value:"UTC+6",children:"UTC+06:00 Bangladesh"}),n.jsx(J,{value:"UTC+7",children:"UTC+07:00 Bangkok"}),n.jsx(J,{value:"UTC+8",children:"UTC+08:00 Singapore"}),n.jsx(J,{value:"UTC+9",children:"UTC+09:00 Tokyo"}),n.jsx(J,{value:"UTC+10",children:"UTC+10:00 Sydney"}),n.jsx(J,{value:"UTC+11",children:"UTC+11:00 Solomon Islands"}),n.jsx(J,{value:"UTC+12",children:"UTC+12:00 New Zealand"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"dateFormat",children:"Date Format"}),n.jsxs("div",{className:"relative",children:[n.jsx(on,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground z-10"}),n.jsxs(st,{value:I.dateFormat,onValueChange:L=>z({...I,dateFormat:L}),children:[n.jsx(rt,{id:"dateFormat",className:"pl-10",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"MM/DD/YYYY",children:"MM/DD/YYYY (12/31/2024)"}),n.jsx(J,{value:"DD/MM/YYYY",children:"DD/MM/YYYY (31/12/2024)"}),n.jsx(J,{value:"YYYY-MM-DD",children:"YYYY-MM-DD (2024-12-31)"}),n.jsx(J,{value:"DD.MM.YYYY",children:"DD.MM.YYYY (31.12.2024)"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"timeFormat",children:"Time Format"}),n.jsxs(st,{value:I.timeFormat,onValueChange:L=>z({...I,timeFormat:L}),children:[n.jsx(rt,{id:"timeFormat",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"12h",children:"12-hour (3:30 PM)"}),n.jsx(J,{value:"24h",children:"24-hour (15:30)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"currency",children:"Currency"}),n.jsxs("div",{className:"relative",children:[n.jsx(Nr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground z-10"}),n.jsxs(st,{value:I.currency,onValueChange:L=>z({...I,currency:L}),children:[n.jsx(rt,{id:"currency",className:"pl-10",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"HUF",children:"HUF - Hungarian Forint (Ft)"}),n.jsx(J,{value:"USD",children:"USD - US Dollar ($)"}),n.jsx(J,{value:"EUR",children:"EUR - Euro ()"}),n.jsx(J,{value:"GBP",children:"GBP - British Pound ()"}),n.jsx(J,{value:"JPY",children:"JPY - Japanese Yen ()"}),n.jsx(J,{value:"CNY",children:"CNY - Chinese Yuan ()"}),n.jsx(J,{value:"INR",children:"INR - Indian Rupee ()"}),n.jsx(J,{value:"CAD",children:"CAD - Canadian Dollar ($)"}),n.jsx(J,{value:"AUD",children:"AUD - Australian Dollar ($)"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"numberFormat",children:"Number Format"}),n.jsxs(st,{value:I.numberFormat,onValueChange:L=>z({...I,numberFormat:L}),children:[n.jsx(rt,{id:"numberFormat",children:n.jsx(at,{})}),n.jsxs(nt,{children:[n.jsx(J,{value:"en-US",children:"1,234.56 (US)"}),n.jsx(J,{value:"de-DE",children:"1.234,56 (German)"}),n.jsx(J,{value:"fr-FR",children:"1 234,56 (French)"}),n.jsx(J,{value:"en-IN",children:"1,23,456.78 (Indian)"})]})]})]})]}),n.jsx($t,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsxs(te,{variant:"outline",onClick:()=>ne(),disabled:u.isPending,children:[u.isPending?n.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Tf,{className:"mr-2 h-4 w-4"}),"Reset to Default"]}),n.jsxs(te,{onClick:K,disabled:h.isPending,children:[h.isPending?n.jsx(Ht,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(yo,{className:"mr-2 h-4 w-4"}),"Save Settings"]})]})]})]})]})]})})},xnt=()=>{var g;const e=lc(),t=mr(),{issues:r,vendors:s}=Bl(),a=((g=e.state)==null?void 0:g.selectedIssues)||[],[i,o]=v.useState({subject:"",message:"",includeIssueDetails:!0,includePhotos:!0}),[l,c]=v.useState(!1),[d,u]=v.useState(new Set),f=v.useMemo(()=>{const j={};return a.forEach(y=>{const w=y.vendor,b=y.vendor_details||s.find(N=>N.id===w);j[w]||(j[w]={vendor:b||{id:w,name:"Unknown Vendor"},issues:[]}),j[w].issues.push(y)}),j},[a,s]),m=Object.keys(f).length,h=a.length,x=j=>{u(y=>{const w=new Set(y);return w.has(j)?w.delete(j):w.add(j),w})},p=async()=>{var j,y;if(!i.subject||!i.message){Ue.error("Please provide email subject and message");return}c(!0);try{const w=a.map(N=>N.id),b=await ks.sendBulkEmail({issue_ids:w,subject:i.subject,message:i.message,include_issue_details:i.includeIssueDetails,include_photos:i.includePhotos});b.success?(Ue.success("Emails Sent Successfully",{description:`Sent ${b.results.sent} emails to vendors about ${b.results.total_issues} issues.`}),t("/issues")):Ue.error("Failed to send some emails",{description:b.message||"Please check the details and try again."})}catch(w){console.error("Bulk email error:",w),Ue.error("Failed to send emails",{description:((y=(j=w.response)==null?void 0:j.data)==null?void 0:y.message)||w.message||"An error occurred while sending emails."})}finally{c(!1)}};return n.jsx(ct,{title:"Send Bulk Email to Vendors",subtitle:"Send a standardized email to all vendors with open issues. Each vendor will receive information about their specific issues.",actions:n.jsxs(te,{variant:"outline",onClick:()=>t("/issues"),children:[n.jsx(sr,{className:"h-4 w-4 mr-2"}),"Back to Issues"]}),children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(X,{children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(Qc,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Recipients"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:m})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Vendors"})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-danger/10 rounded-lg",children:n.jsx(lt,{className:"h-5 w-5 text-danger"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Issues"}),n.jsx("p",{className:"text-2xl font-bold text-danger",children:h})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Items"})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-warning/10 rounded-lg",children:n.jsx(gn,{className:"h-5 w-5 text-warning"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Emails"}),n.jsx("p",{className:"text-2xl font-bold text-warning",children:m})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"To Send"})]})})]}),n.jsxs(X,{children:[n.jsxs(be,{children:[n.jsxs(Ve,{className:"text-lg flex items-center gap-2",children:[n.jsx(Qc,{className:"h-5 w-5"}),"Recipients by Vendor"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Click on a vendor to view their issues"})]}),n.jsx(Q,{children:n.jsx("div",{className:"space-y-3",children:Object.entries(f).map(([j,{vendor:y,issues:w}])=>n.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[n.jsxs("button",{onClick:()=>x(j),className:"w-full flex items-center justify-between p-4 bg-muted/30 hover:bg-muted/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[d.has(j)?n.jsx(Du,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(gu,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"font-semibold text-base",children:y.name}),y.email&&n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-0.5",children:[n.jsx(gn,{className:"h-3 w-3"}),y.email]})]})]}),n.jsxs(Ce,{variant:"outline",className:"ml-2",children:[w.length," ",w.length===1?"issue":"issues"]})]}),d.has(j)&&n.jsx("div",{className:"p-4 bg-background border-t space-y-2",children:w.map((b,N)=>n.jsx("div",{className:"p-3 rounded-lg border bg-card hover:bg-accent/5 transition-colors",children:n.jsx("div",{className:"flex items-start justify-between gap-3",children:n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ce,{variant:"secondary",className:"text-xs",children:["#",N+1]}),n.jsx("span",{className:"text-sm font-medium",children:b.display_product_name||b.product_name||"Product Issue"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx(Et,{className:"h-3 w-3"}),n.jsx("span",{className:"font-medium",children:b.type}),n.jsx("span",{children:""}),n.jsx(Ce,{variant:b.priority==="Critical"?"destructive":b.priority==="High"?"default":"secondary",className:"text-xs",children:b.priority})]}),b.description&&n.jsxs("p",{className:"text-xs text-muted-foreground line-clamp-2 flex items-start gap-1",children:[n.jsx($n,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),b.description]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx(on,{className:"h-3 w-3"}),n.jsxs("span",{children:["Reported: ",new Date(b.reported_on).toLocaleDateString()]}),n.jsx("span",{children:""}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:b.status})]})]})})},b.id))})]},j))})})]}),n.jsx($t,{}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{className:"text-lg",children:"Compose Email"})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"subject",children:"Email Subject *"}),n.jsx("input",{id:"subject",type:"text",placeholder:"e.g., Urgent: Product Issues Requiring Resolution",value:i.subject,onChange:j=>o(y=>({...y,subject:j.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"message",children:"Email Message *"}),n.jsx(Sn,{id:"message",placeholder:`Dear Vendor Team,

We have identified several issues with the products delivered. Please review the details below and provide a resolution plan at your earliest convenience.

Best regards,
Procurement Team`,value:i.message,onChange:j=>o(y=>({...y,message:j.target.value})),rows:10,className:"resize-none"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"This message will be sent to all vendors. Issue-specific details will be automatically appended."})]}),n.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[n.jsx(q,{className:"text-sm font-semibold",children:"Email Options"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dd,{id:"includeDetails",checked:i.includeIssueDetails,onCheckedChange:j=>o(y=>({...y,includeIssueDetails:j}))}),n.jsx("label",{htmlFor:"includeDetails",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Include detailed issue information (product names, SKUs, descriptions)"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(dd,{id:"includePhotos",checked:i.includePhotos,onCheckedChange:j=>o(y=>({...y,includePhotos:j}))}),n.jsx("label",{htmlFor:"includePhotos",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Attach issue photos to emails"})]})]})]})]}),n.jsxs(X,{children:[n.jsx(be,{children:n.jsx(Ve,{className:"text-lg",children:"Email Preview"})}),n.jsx(Q,{children:n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-3 text-sm",children:[n.jsxs("div",{className:"font-semibold",children:["Subject: ",i.subject||"(No subject)"]}),n.jsx($t,{}),n.jsx("div",{className:"whitespace-pre-wrap",children:i.message||"(No message)"}),i.includeIssueDetails&&n.jsxs(n.Fragment,{children:[n.jsx($t,{}),n.jsx("div",{className:"text-xs text-muted-foreground italic",children:"[Vendor-specific issue details will be inserted here]"})]})]})})]}),n.jsxs("div",{className:"flex justify-end gap-3 pb-6",children:[n.jsx(te,{type:"button",variant:"outline",onClick:()=>t("/issues"),children:"Cancel"}),n.jsxs(te,{onClick:p,disabled:l||!i.subject||!i.message,size:"lg",children:[n.jsx(x7,{className:"h-4 w-4 mr-2"}),l?"Sending...":`Send ${m} Emails`]})]})]})})},gnt=new Foe,vnt=()=>n.jsx(Voe,{client:gnt,children:n.jsx(Ade,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:n.jsxs(sU,{children:[n.jsx(pae,{}),n.jsx(Gae,{}),n.jsx(Yle,{children:n.jsx(Ede,{children:n.jsxs(Ule,{children:[n.jsx(Jt,{path:"/login",element:n.jsx(gue,{})}),n.jsx(Jt,{path:"/signup",element:n.jsx(yue,{})}),n.jsx(Jt,{path:"/forgot-password",element:n.jsx(bue,{})}),n.jsx(Jt,{path:"/",element:n.jsx(PU,{to:"/overview",replace:!0})}),n.jsx(Jt,{path:"/clients",element:n.jsx(dr,{children:n.jsx(V8e,{})})}),n.jsx(Jt,{path:"/clients/:id",element:n.jsx(dr,{children:n.jsx(rBe,{})})}),n.jsx(Jt,{path:"/apartments",element:n.jsx(dr,{children:n.jsx(mBe,{})})}),n.jsx(Jt,{path:"/apartments/new",element:n.jsx(dr,{children:n.jsx(_Be,{})})}),n.jsx(Jt,{path:"/apartments/:id",element:n.jsx(dr,{children:n.jsx(eUe,{})})}),n.jsx(Jt,{path:"/apartments/:id/edit",element:n.jsx(dr,{children:n.jsx(aUe,{})})}),n.jsx(Jt,{path:"/products",element:n.jsx(dr,{children:n.jsx(iUe,{})})}),n.jsx(Jt,{path:"/products/new",element:n.jsx(dr,{children:n.jsx(oUe,{})})}),n.jsx(Jt,{path:"/products/import",element:n.jsx(dr,{children:n.jsx(xUe,{})})}),n.jsx(Jt,{path:"/products/:id",element:n.jsx(dr,{children:n.jsx(lUe,{})})}),n.jsx(Jt,{path:"/products/:id/edit",element:n.jsx(dr,{children:n.jsx(mUe,{})})}),n.jsx(Jt,{path:"/orders",element:n.jsx(dr,{children:n.jsx(CUe,{})})}),n.jsx(Jt,{path:"/orders/new",element:n.jsx(dr,{children:n.jsx(EUe,{})})}),n.jsx(Jt,{path:"/orders/import",element:n.jsx(dr,{children:n.jsx(AUe,{})})}),n.jsx(Jt,{path:"/orders/:id",element:n.jsx(dr,{children:n.jsx($Ue,{})})}),n.jsx(Jt,{path:"/orders/:id/edit",element:n.jsx(dr,{children:n.jsx(HUe,{})})}),n.jsx(Jt,{path:"/deliveries",element:n.jsx(dr,{children:n.jsx(tVe,{})})}),n.jsx(Jt,{path:"/issues",element:n.jsx(dr,{children:n.jsx(btt,{})})}),n.jsx(Jt,{path:"/issues/new",element:n.jsx(dr,{children:n.jsx(Att,{})})}),n.jsx(Jt,{path:"/issues/bulk-email",element:n.jsx(dr,{children:n.jsx(xnt,{})})}),n.jsx(Jt,{path:"/issues/:issueId",element:n.jsx(dr,{children:n.jsx(irt,{})})}),n.jsx(Jt,{path:"/issues/:issueId/edit",element:n.jsx(dr,{children:n.jsx(hrt,{})})}),n.jsx(Jt,{path:"/payments",element:n.jsx(dr,{children:n.jsx(Nrt,{})})}),n.jsx(Jt,{path:"/payments/new",element:n.jsx(dr,{children:n.jsx(_rt,{})})}),n.jsx(Jt,{path:"/payments/:id",element:n.jsx(dr,{children:n.jsx(Drt,{})})}),n.jsx(Jt,{path:"/payments/:id/edit",element:n.jsx(dr,{children:n.jsx(Urt,{})})}),n.jsx(Jt,{path:"/vendors",element:n.jsx(dr,{children:n.jsx(qrt,{})})}),n.jsx(Jt,{path:"/vendors/new",element:n.jsx(dr,{children:n.jsx(Grt,{})})}),n.jsx(Jt,{path:"/vendors/:id",element:n.jsx(dr,{children:n.jsx(ent,{})})}),n.jsx(Jt,{path:"/vendors/:id/edit",element:n.jsx(dr,{children:n.jsx(snt,{})})}),n.jsx(Jt,{path:"/users",element:n.jsx(dr,{children:n.jsx(ant,{})})}),n.jsx(Jt,{path:"/automations",element:n.jsx(dr,{children:n.jsx(int,{})})}),n.jsx(Jt,{path:"/settings",element:n.jsx(dr,{children:n.jsx(pnt,{})})}),n.jsx(Jt,{path:"/overview",element:n.jsx(dr,{children:n.jsx(KLe,{})})}),n.jsx(Jt,{path:"*",element:n.jsx(YLe,{})})]})})})]})})});R9(document.getElementById("root")).render(n.jsx(vnt,{}));
