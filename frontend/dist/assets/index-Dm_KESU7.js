var kD=e=>{throw TypeError(e)};var W_=(e,t,r)=>t.has(e)||kD("Cannot "+r);var me=(e,t,r)=>(W_(e,t,"read from private field"),r?r.call(e):t.get(e)),Ct=(e,t,r)=>t.has(e)?kD("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ct=(e,t,r,n)=>(W_(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),qt=(e,t,r)=>(W_(e,t,"access private method"),r);var iy=(e,t,r,n)=>({set _(a){ct(e,t,a,r)},get _(){return me(e,t,n)}});function TJ(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function br(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var O6={exports:{}},Sj={},D6={exports:{}},tr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0=Symbol.for("react.element"),kJ=Symbol.for("react.portal"),OJ=Symbol.for("react.fragment"),DJ=Symbol.for("react.strict_mode"),IJ=Symbol.for("react.profiler"),RJ=Symbol.for("react.provider"),MJ=Symbol.for("react.context"),FJ=Symbol.for("react.forward_ref"),LJ=Symbol.for("react.suspense"),$J=Symbol.for("react.memo"),BJ=Symbol.for("react.lazy"),OD=Symbol.iterator;function UJ(e){return e===null||typeof e!="object"?null:(e=OD&&e[OD]||e["@@iterator"],typeof e=="function"?e:null)}var I6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R6=Object.assign,M6={};function cp(e,t,r){this.props=e,this.context=t,this.refs=M6,this.updater=r||I6}cp.prototype.isReactComponent={};cp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F6(){}F6.prototype=cp.prototype;function KP(e,t,r){this.props=e,this.context=t,this.refs=M6,this.updater=r||I6}var XP=KP.prototype=new F6;XP.constructor=KP;R6(XP,cp.prototype);XP.isPureReactComponent=!0;var DD=Array.isArray,L6=Object.prototype.hasOwnProperty,YP={current:null},$6={key:!0,ref:!0,__self:!0,__source:!0};function B6(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)L6.call(t,n)&&!$6.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:r0,type:e,key:i,ref:o,props:a,_owner:YP.current}}function VJ(e,t){return{$$typeof:r0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function QP(e){return typeof e=="object"&&e!==null&&e.$$typeof===r0}function zJ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ID=/\/+/g;function H_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zJ(""+e.key):t.toString(36)}function g1(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case r0:case kJ:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+H_(o,0):n,DD(a)?(r="",e!=null&&(r=e.replace(ID,"$&/")+"/"),g1(a,t,r,"",function(d){return d})):a!=null&&(QP(a)&&(a=VJ(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(ID,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",DD(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+H_(i,l);o+=g1(i,t,r,c,a)}else if(c=UJ(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+H_(i,l++),o+=g1(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ly(e,t,r){if(e==null)return e;var n=[],a=0;return g1(e,n,"","",function(i){return t.call(r,i,a++)}),n}function WJ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ga={current:null},v1={transition:null},HJ={ReactCurrentDispatcher:ga,ReactCurrentBatchConfig:v1,ReactCurrentOwner:YP};function U6(){throw Error("act(...) is not supported in production builds of React.")}tr.Children={map:ly,forEach:function(e,t,r){ly(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ly(e,function(){t++}),t},toArray:function(e){return ly(e,function(t){return t})||[]},only:function(e){if(!QP(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};tr.Component=cp;tr.Fragment=OJ;tr.Profiler=IJ;tr.PureComponent=KP;tr.StrictMode=DJ;tr.Suspense=LJ;tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HJ;tr.act=U6;tr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=R6({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=YP.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)L6.call(t,c)&&!$6.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:r0,type:e.type,key:a,ref:i,props:n,_owner:o}};tr.createContext=function(e){return e={$$typeof:MJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:RJ,_context:e},e.Consumer=e};tr.createElement=B6;tr.createFactory=function(e){var t=B6.bind(null,e);return t.type=e,t};tr.createRef=function(){return{current:null}};tr.forwardRef=function(e){return{$$typeof:FJ,render:e}};tr.isValidElement=QP;tr.lazy=function(e){return{$$typeof:BJ,_payload:{_status:-1,_result:e},_init:WJ}};tr.memo=function(e,t){return{$$typeof:$J,type:e,compare:t===void 0?null:t}};tr.startTransition=function(e){var t=v1.transition;v1.transition={};try{e()}finally{v1.transition=t}};tr.unstable_act=U6;tr.useCallback=function(e,t){return ga.current.useCallback(e,t)};tr.useContext=function(e){return ga.current.useContext(e)};tr.useDebugValue=function(){};tr.useDeferredValue=function(e){return ga.current.useDeferredValue(e)};tr.useEffect=function(e,t){return ga.current.useEffect(e,t)};tr.useId=function(){return ga.current.useId()};tr.useImperativeHandle=function(e,t,r){return ga.current.useImperativeHandle(e,t,r)};tr.useInsertionEffect=function(e,t){return ga.current.useInsertionEffect(e,t)};tr.useLayoutEffect=function(e,t){return ga.current.useLayoutEffect(e,t)};tr.useMemo=function(e,t){return ga.current.useMemo(e,t)};tr.useReducer=function(e,t,r){return ga.current.useReducer(e,t,r)};tr.useRef=function(e){return ga.current.useRef(e)};tr.useState=function(e){return ga.current.useState(e)};tr.useSyncExternalStore=function(e,t,r){return ga.current.useSyncExternalStore(e,t,r)};tr.useTransition=function(){return ga.current.useTransition()};tr.version="18.3.1";D6.exports=tr;var v=D6.exports;const B=br(v),ZP=TJ({__proto__:null,default:B},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GJ=v,qJ=Symbol.for("react.element"),KJ=Symbol.for("react.fragment"),XJ=Object.prototype.hasOwnProperty,YJ=GJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QJ={key:!0,ref:!0,__self:!0,__source:!0};function V6(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)XJ.call(t,n)&&!QJ.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:qJ,type:e,key:i,ref:o,props:a,_owner:YJ.current}}Sj.Fragment=KJ;Sj.jsx=V6;Sj.jsxs=V6;O6.exports=Sj;var s=O6.exports,z6={exports:{}},bi={},W6={exports:{}},H6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,W){var fe=k.length;k.push(W);e:for(;0<fe;){var de=fe-1>>>1,T=k[de];if(0<a(T,W))k[de]=W,k[fe]=T,fe=de;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var W=k[0],fe=k.pop();if(fe!==W){k[0]=fe;e:for(var de=0,T=k.length,L=T>>>1;de<L;){var R=2*(de+1)-1,K=k[R],q=R+1,Z=k[q];if(0>a(K,fe))q<T&&0>a(Z,K)?(k[de]=Z,k[q]=fe,de=q):(k[de]=K,k[R]=fe,de=R);else if(q<T&&0>a(Z,fe))k[de]=Z,k[q]=fe,de=q;else break e}}return W}function a(k,W){var fe=k.sortIndex-W.sortIndex;return fe!==0?fe:k.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,h=3,m=!1,x=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(k){for(var W=r(d);W!==null;){if(W.callback===null)n(d);else if(W.startTime<=k)n(d),W.sortIndex=W.expirationTime,t(c,W);else break;W=r(d)}}function w(k){if(p=!1,j(k),!x)if(r(c)!==null)x=!0,O(N);else{var W=r(d);W!==null&&A(w,W.startTime-k)}}function N(k,W){x=!1,p&&(p=!1,b(S),S=-1),m=!0;var fe=h;try{for(j(W),f=r(c);f!==null&&(!(f.expirationTime>W)||k&&!I());){var de=f.callback;if(typeof de=="function"){f.callback=null,h=f.priorityLevel;var T=de(f.expirationTime<=W);W=e.unstable_now(),typeof T=="function"?f.callback=T:f===r(c)&&n(c),j(W)}else n(c);f=r(c)}if(f!==null)var L=!0;else{var R=r(d);R!==null&&A(w,R.startTime-W),L=!1}return L}finally{f=null,h=fe,m=!1}}var _=!1,C=null,S=-1,E=5,P=-1;function I(){return!(e.unstable_now()-P<E)}function D(){if(C!==null){var k=e.unstable_now();P=k;var W=!0;try{W=C(!0,k)}finally{W?U():(_=!1,C=null)}}else _=!1}var U;if(typeof y=="function")U=function(){y(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,M=F.port2;F.port1.onmessage=D,U=function(){M.postMessage(null)}}else U=function(){g(D,0)};function O(k){C=k,_||(_=!0,U())}function A(k,W){S=g(function(){k(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,O(N))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(k){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var fe=h;h=W;try{return k()}finally{h=fe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,W){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var fe=h;h=k;try{return W()}finally{h=fe}},e.unstable_scheduleCallback=function(k,W,fe){var de=e.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?de+fe:de):fe=de,k){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=fe+T,k={id:u++,callback:W,priorityLevel:k,startTime:fe,expirationTime:T,sortIndex:-1},fe>de?(k.sortIndex=fe,t(d,k),r(c)===null&&k===r(d)&&(p?(b(S),S=-1):p=!0,A(w,fe-de))):(k.sortIndex=T,t(c,k),x||m||(x=!0,O(N))),k},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(k){var W=h;return function(){var fe=h;h=W;try{return k.apply(this,arguments)}finally{h=fe}}}})(H6);W6.exports=H6;var ZJ=W6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JJ=v,xi=ZJ;function ze(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var G6=new Set,bg={};function If(e,t){pm(e,t),pm(e+"Capture",t)}function pm(e,t){for(bg[e]=t,e=0;e<t.length;e++)G6.add(t[e])}var _c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ZS=Object.prototype.hasOwnProperty,eee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,RD={},MD={};function tee(e){return ZS.call(MD,e)?!0:ZS.call(RD,e)?!1:eee.test(e)?MD[e]=!0:(RD[e]=!0,!1)}function ree(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nee(e,t,r,n){if(t===null||typeof t>"u"||ree(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function va(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ts={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ts[e]=new va(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ts[t]=new va(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ts[e]=new va(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ts[e]=new va(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ts[e]=new va(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ts[e]=new va(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ts[e]=new va(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ts[e]=new va(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ts[e]=new va(e,5,!1,e.toLowerCase(),null,!1,!1)});var JP=/[\-:]([a-z])/g;function eT(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(JP,eT);Ts[t]=new va(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(JP,eT);Ts[t]=new va(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(JP,eT);Ts[t]=new va(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ts[e]=new va(e,1,!1,e.toLowerCase(),null,!1,!1)});Ts.xlinkHref=new va("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ts[e]=new va(e,1,!1,e.toLowerCase(),null,!0,!0)});function tT(e,t,r,n){var a=Ts.hasOwnProperty(t)?Ts[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nee(t,r,a,n)&&(r=null),n||a===null?tee(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Uc=JJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cy=Symbol.for("react.element"),vh=Symbol.for("react.portal"),yh=Symbol.for("react.fragment"),rT=Symbol.for("react.strict_mode"),JS=Symbol.for("react.profiler"),q6=Symbol.for("react.provider"),K6=Symbol.for("react.context"),nT=Symbol.for("react.forward_ref"),eC=Symbol.for("react.suspense"),tC=Symbol.for("react.suspense_list"),sT=Symbol.for("react.memo"),sd=Symbol.for("react.lazy"),X6=Symbol.for("react.offscreen"),FD=Symbol.iterator;function Jp(e){return e===null||typeof e!="object"?null:(e=FD&&e[FD]||e["@@iterator"],typeof e=="function"?e:null)}var cn=Object.assign,G_;function kx(e){if(G_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);G_=t&&t[1]||""}return`
`+G_+e}var q_=!1;function K_(e,t){if(!e||q_)return"";q_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{q_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?kx(e):""}function see(e){switch(e.tag){case 5:return kx(e.type);case 16:return kx("Lazy");case 13:return kx("Suspense");case 19:return kx("SuspenseList");case 0:case 2:case 15:return e=K_(e.type,!1),e;case 11:return e=K_(e.type.render,!1),e;case 1:return e=K_(e.type,!0),e;default:return""}}function rC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yh:return"Fragment";case vh:return"Portal";case JS:return"Profiler";case rT:return"StrictMode";case eC:return"Suspense";case tC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case K6:return(e.displayName||"Context")+".Consumer";case q6:return(e._context.displayName||"Context")+".Provider";case nT:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sT:return t=e.displayName||null,t!==null?t:rC(e.type)||"Memo";case sd:t=e._payload,e=e._init;try{return rC(e(t))}catch{}}return null}function aee(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rC(t);case 8:return t===rT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zd(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Y6(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iee(e){var t=Y6(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dy(e){e._valueTracker||(e._valueTracker=iee(e))}function Q6(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Y6(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function H1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nC(e,t){var r=t.checked;return cn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function LD(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=zd(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Z6(e,t){t=t.checked,t!=null&&tT(e,"checked",t,!1)}function sC(e,t){Z6(e,t);var r=zd(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?aC(e,t.type,r):t.hasOwnProperty("defaultValue")&&aC(e,t.type,zd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $D(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function aC(e,t,r){(t!=="number"||H1(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ox=Array.isArray;function Rh(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+zd(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function iC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ze(91));return cn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function BD(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ze(92));if(Ox(r)){if(1<r.length)throw Error(ze(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:zd(r)}}function J6(e,t){var r=zd(t.value),n=zd(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function UD(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function e8(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?e8(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uy,t8=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(uy=uy||document.createElement("div"),uy.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=uy.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var zx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oee=["Webkit","ms","Moz","O"];Object.keys(zx).forEach(function(e){oee.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zx[t]=zx[e]})});function r8(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||zx.hasOwnProperty(e)&&zx[e]?(""+t).trim():t+"px"}function n8(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=r8(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var lee=cn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lC(e,t){if(t){if(lee[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ze(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ze(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ze(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ze(62))}}function cC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dC=null;function aT(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uC=null,Mh=null,Fh=null;function VD(e){if(e=a0(e)){if(typeof uC!="function")throw Error(ze(280));var t=e.stateNode;t&&(t=Tj(t),uC(e.stateNode,e.type,t))}}function s8(e){Mh?Fh?Fh.push(e):Fh=[e]:Mh=e}function a8(){if(Mh){var e=Mh,t=Fh;if(Fh=Mh=null,VD(e),t)for(e=0;e<t.length;e++)VD(t[e])}}function i8(e,t){return e(t)}function o8(){}var X_=!1;function l8(e,t,r){if(X_)return e(t,r);X_=!0;try{return i8(e,t,r)}finally{X_=!1,(Mh!==null||Fh!==null)&&(o8(),a8())}}function jg(e,t){var r=e.stateNode;if(r===null)return null;var n=Tj(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ze(231,t,typeof r));return r}var fC=!1;if(_c)try{var ex={};Object.defineProperty(ex,"passive",{get:function(){fC=!0}}),window.addEventListener("test",ex,ex),window.removeEventListener("test",ex,ex)}catch{fC=!1}function cee(e,t,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Wx=!1,G1=null,q1=!1,hC=null,dee={onError:function(e){Wx=!0,G1=e}};function uee(e,t,r,n,a,i,o,l,c){Wx=!1,G1=null,cee.apply(dee,arguments)}function fee(e,t,r,n,a,i,o,l,c){if(uee.apply(this,arguments),Wx){if(Wx){var d=G1;Wx=!1,G1=null}else throw Error(ze(198));q1||(q1=!0,hC=d)}}function Rf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function c8(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zD(e){if(Rf(e)!==e)throw Error(ze(188))}function hee(e){var t=e.alternate;if(!t){if(t=Rf(e),t===null)throw Error(ze(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return zD(a),e;if(i===n)return zD(a),t;i=i.sibling}throw Error(ze(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(ze(189))}}if(r.alternate!==n)throw Error(ze(190))}if(r.tag!==3)throw Error(ze(188));return r.stateNode.current===r?e:t}function d8(e){return e=hee(e),e!==null?u8(e):null}function u8(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=u8(e);if(t!==null)return t;e=e.sibling}return null}var f8=xi.unstable_scheduleCallback,WD=xi.unstable_cancelCallback,mee=xi.unstable_shouldYield,pee=xi.unstable_requestPaint,Cn=xi.unstable_now,xee=xi.unstable_getCurrentPriorityLevel,iT=xi.unstable_ImmediatePriority,h8=xi.unstable_UserBlockingPriority,K1=xi.unstable_NormalPriority,gee=xi.unstable_LowPriority,m8=xi.unstable_IdlePriority,Cj=null,Nl=null;function vee(e){if(Nl&&typeof Nl.onCommitFiberRoot=="function")try{Nl.onCommitFiberRoot(Cj,e,void 0,(e.current.flags&128)===128)}catch{}}var ko=Math.clz32?Math.clz32:wee,yee=Math.log,bee=Math.LN2;function wee(e){return e>>>=0,e===0?32:31-(yee(e)/bee|0)|0}var fy=64,hy=4194304;function Dx(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function X1(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Dx(l):(i&=o,i!==0&&(n=Dx(i)))}else o=r&~a,o!==0?n=Dx(o):i!==0&&(n=Dx(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ko(t),a=1<<r,n|=e[r],t&=~a;return n}function jee(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nee(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ko(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=jee(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function mC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function p8(){var e=fy;return fy<<=1,!(fy&4194240)&&(fy=64),e}function Y_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function n0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ko(t),e[t]=r}function _ee(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ko(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function oT(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ko(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Cr=0;function x8(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var g8,lT,v8,y8,b8,pC=!1,my=[],Pd=null,Td=null,kd=null,Ng=new Map,_g=new Map,cd=[],See="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function HD(e,t){switch(e){case"focusin":case"focusout":Pd=null;break;case"dragenter":case"dragleave":Td=null;break;case"mouseover":case"mouseout":kd=null;break;case"pointerover":case"pointerout":Ng.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_g.delete(t.pointerId)}}function tx(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=a0(t),t!==null&&lT(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Cee(e,t,r,n,a){switch(t){case"focusin":return Pd=tx(Pd,e,t,r,n,a),!0;case"dragenter":return Td=tx(Td,e,t,r,n,a),!0;case"mouseover":return kd=tx(kd,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Ng.set(i,tx(Ng.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,_g.set(i,tx(_g.get(i)||null,e,t,r,n,a)),!0}return!1}function w8(e){var t=Iu(e.target);if(t!==null){var r=Rf(t);if(r!==null){if(t=r.tag,t===13){if(t=c8(r),t!==null){e.blockedOn=t,b8(e.priority,function(){v8(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function y1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=xC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);dC=n,r.target.dispatchEvent(n),dC=null}else return t=a0(r),t!==null&&lT(t),e.blockedOn=r,!1;t.shift()}return!0}function GD(e,t,r){y1(e)&&r.delete(t)}function Eee(){pC=!1,Pd!==null&&y1(Pd)&&(Pd=null),Td!==null&&y1(Td)&&(Td=null),kd!==null&&y1(kd)&&(kd=null),Ng.forEach(GD),_g.forEach(GD)}function rx(e,t){e.blockedOn===t&&(e.blockedOn=null,pC||(pC=!0,xi.unstable_scheduleCallback(xi.unstable_NormalPriority,Eee)))}function Sg(e){function t(a){return rx(a,e)}if(0<my.length){rx(my[0],e);for(var r=1;r<my.length;r++){var n=my[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Pd!==null&&rx(Pd,e),Td!==null&&rx(Td,e),kd!==null&&rx(kd,e),Ng.forEach(t),_g.forEach(t),r=0;r<cd.length;r++)n=cd[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<cd.length&&(r=cd[0],r.blockedOn===null);)w8(r),r.blockedOn===null&&cd.shift()}var Lh=Uc.ReactCurrentBatchConfig,Y1=!0;function Aee(e,t,r,n){var a=Cr,i=Lh.transition;Lh.transition=null;try{Cr=1,cT(e,t,r,n)}finally{Cr=a,Lh.transition=i}}function Pee(e,t,r,n){var a=Cr,i=Lh.transition;Lh.transition=null;try{Cr=4,cT(e,t,r,n)}finally{Cr=a,Lh.transition=i}}function cT(e,t,r,n){if(Y1){var a=xC(e,t,r,n);if(a===null)i2(e,t,n,Q1,r),HD(e,n);else if(Cee(a,e,t,r,n))n.stopPropagation();else if(HD(e,n),t&4&&-1<See.indexOf(e)){for(;a!==null;){var i=a0(a);if(i!==null&&g8(i),i=xC(e,t,r,n),i===null&&i2(e,t,n,Q1,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else i2(e,t,n,null,r)}}var Q1=null;function xC(e,t,r,n){if(Q1=null,e=aT(n),e=Iu(e),e!==null)if(t=Rf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=c8(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Q1=e,null}function j8(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xee()){case iT:return 1;case h8:return 4;case K1:case gee:return 16;case m8:return 536870912;default:return 16}default:return 16}}var jd=null,dT=null,b1=null;function N8(){if(b1)return b1;var e,t=dT,r=t.length,n,a="value"in jd?jd.value:jd.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return b1=a.slice(e,1<n?1-n:void 0)}function w1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function py(){return!0}function qD(){return!1}function wi(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?py:qD,this.isPropagationStopped=qD,this}return cn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=py)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=py)},persist:function(){},isPersistent:py}),t}var dp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uT=wi(dp),s0=cn({},dp,{view:0,detail:0}),Tee=wi(s0),Q_,Z_,nx,Ej=cn({},s0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fT,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nx&&(nx&&e.type==="mousemove"?(Q_=e.screenX-nx.screenX,Z_=e.screenY-nx.screenY):Z_=Q_=0,nx=e),Q_)},movementY:function(e){return"movementY"in e?e.movementY:Z_}}),KD=wi(Ej),kee=cn({},Ej,{dataTransfer:0}),Oee=wi(kee),Dee=cn({},s0,{relatedTarget:0}),J_=wi(Dee),Iee=cn({},dp,{animationName:0,elapsedTime:0,pseudoElement:0}),Ree=wi(Iee),Mee=cn({},dp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fee=wi(Mee),Lee=cn({},dp,{data:0}),XD=wi(Lee),$ee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vee(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Uee[e])?!!t[e]:!1}function fT(){return Vee}var zee=cn({},s0,{key:function(e){if(e.key){var t=$ee[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=w1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bee[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fT,charCode:function(e){return e.type==="keypress"?w1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?w1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wee=wi(zee),Hee=cn({},Ej,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YD=wi(Hee),Gee=cn({},s0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fT}),qee=wi(Gee),Kee=cn({},dp,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xee=wi(Kee),Yee=cn({},Ej,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qee=wi(Yee),Zee=[9,13,27,32],hT=_c&&"CompositionEvent"in window,Hx=null;_c&&"documentMode"in document&&(Hx=document.documentMode);var Jee=_c&&"TextEvent"in window&&!Hx,_8=_c&&(!hT||Hx&&8<Hx&&11>=Hx),QD=" ",ZD=!1;function S8(e,t){switch(e){case"keyup":return Zee.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bh=!1;function ete(e,t){switch(e){case"compositionend":return C8(t);case"keypress":return t.which!==32?null:(ZD=!0,QD);case"textInput":return e=t.data,e===QD&&ZD?null:e;default:return null}}function tte(e,t){if(bh)return e==="compositionend"||!hT&&S8(e,t)?(e=N8(),b1=dT=jd=null,bh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _8&&t.locale!=="ko"?null:t.data;default:return null}}var rte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rte[e.type]:t==="textarea"}function E8(e,t,r,n){s8(n),t=Z1(t,"onChange"),0<t.length&&(r=new uT("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Gx=null,Cg=null;function nte(e){L8(e,0)}function Aj(e){var t=Nh(e);if(Q6(t))return e}function ste(e,t){if(e==="change")return t}var A8=!1;if(_c){var e2;if(_c){var t2="oninput"in document;if(!t2){var eI=document.createElement("div");eI.setAttribute("oninput","return;"),t2=typeof eI.oninput=="function"}e2=t2}else e2=!1;A8=e2&&(!document.documentMode||9<document.documentMode)}function tI(){Gx&&(Gx.detachEvent("onpropertychange",P8),Cg=Gx=null)}function P8(e){if(e.propertyName==="value"&&Aj(Cg)){var t=[];E8(t,Cg,e,aT(e)),l8(nte,t)}}function ate(e,t,r){e==="focusin"?(tI(),Gx=t,Cg=r,Gx.attachEvent("onpropertychange",P8)):e==="focusout"&&tI()}function ite(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Aj(Cg)}function ote(e,t){if(e==="click")return Aj(t)}function lte(e,t){if(e==="input"||e==="change")return Aj(t)}function cte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lo=typeof Object.is=="function"?Object.is:cte;function Eg(e,t){if(Lo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!ZS.call(t,a)||!Lo(e[a],t[a]))return!1}return!0}function rI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nI(e,t){var r=rI(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rI(r)}}function T8(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?T8(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function k8(){for(var e=window,t=H1();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=H1(e.document)}return t}function mT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dte(e){var t=k8(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&T8(r.ownerDocument.documentElement,r)){if(n!==null&&mT(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=nI(r,i);var o=nI(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ute=_c&&"documentMode"in document&&11>=document.documentMode,wh=null,gC=null,qx=null,vC=!1;function sI(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vC||wh==null||wh!==H1(n)||(n=wh,"selectionStart"in n&&mT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qx&&Eg(qx,n)||(qx=n,n=Z1(gC,"onSelect"),0<n.length&&(t=new uT("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=wh)))}function xy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jh={animationend:xy("Animation","AnimationEnd"),animationiteration:xy("Animation","AnimationIteration"),animationstart:xy("Animation","AnimationStart"),transitionend:xy("Transition","TransitionEnd")},r2={},O8={};_c&&(O8=document.createElement("div").style,"AnimationEvent"in window||(delete jh.animationend.animation,delete jh.animationiteration.animation,delete jh.animationstart.animation),"TransitionEvent"in window||delete jh.transitionend.transition);function Pj(e){if(r2[e])return r2[e];if(!jh[e])return e;var t=jh[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in O8)return r2[e]=t[r];return e}var D8=Pj("animationend"),I8=Pj("animationiteration"),R8=Pj("animationstart"),M8=Pj("transitionend"),F8=new Map,aI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nu(e,t){F8.set(e,t),If(t,[e])}for(var n2=0;n2<aI.length;n2++){var s2=aI[n2],fte=s2.toLowerCase(),hte=s2[0].toUpperCase()+s2.slice(1);nu(fte,"on"+hte)}nu(D8,"onAnimationEnd");nu(I8,"onAnimationIteration");nu(R8,"onAnimationStart");nu("dblclick","onDoubleClick");nu("focusin","onFocus");nu("focusout","onBlur");nu(M8,"onTransitionEnd");pm("onMouseEnter",["mouseout","mouseover"]);pm("onMouseLeave",["mouseout","mouseover"]);pm("onPointerEnter",["pointerout","pointerover"]);pm("onPointerLeave",["pointerout","pointerover"]);If("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));If("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));If("onBeforeInput",["compositionend","keypress","textInput","paste"]);If("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));If("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));If("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ix="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mte=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ix));function iI(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,fee(n,t,void 0,e),e.currentTarget=null}function L8(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;iI(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;iI(a,l,d),i=c}}}if(q1)throw e=hC,q1=!1,hC=null,e}function Gr(e,t){var r=t[NC];r===void 0&&(r=t[NC]=new Set);var n=e+"__bubble";r.has(n)||($8(t,e,2,!1),r.add(n))}function a2(e,t,r){var n=0;t&&(n|=4),$8(r,e,n,t)}var gy="_reactListening"+Math.random().toString(36).slice(2);function Ag(e){if(!e[gy]){e[gy]=!0,G6.forEach(function(r){r!=="selectionchange"&&(mte.has(r)||a2(r,!1,e),a2(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gy]||(t[gy]=!0,a2("selectionchange",!1,t))}}function $8(e,t,r,n){switch(j8(t)){case 1:var a=Aee;break;case 4:a=Pee;break;default:a=cT}r=a.bind(null,t,r,e),a=void 0,!fC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function i2(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Iu(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}l8(function(){var d=i,u=aT(r),f=[];e:{var h=F8.get(e);if(h!==void 0){var m=uT,x=e;switch(e){case"keypress":if(w1(r)===0)break e;case"keydown":case"keyup":m=Wee;break;case"focusin":x="focus",m=J_;break;case"focusout":x="blur",m=J_;break;case"beforeblur":case"afterblur":m=J_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=KD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Oee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=qee;break;case D8:case I8:case R8:m=Ree;break;case M8:m=Xee;break;case"scroll":m=Tee;break;case"wheel":m=Qee;break;case"copy":case"cut":case"paste":m=Fee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=YD}var p=(t&4)!==0,g=!p&&e==="scroll",b=p?h!==null?h+"Capture":null:h;p=[];for(var y=d,j;y!==null;){j=y;var w=j.stateNode;if(j.tag===5&&w!==null&&(j=w,b!==null&&(w=jg(y,b),w!=null&&p.push(Pg(y,w,j)))),g)break;y=y.return}0<p.length&&(h=new m(h,x,null,r,u),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==dC&&(x=r.relatedTarget||r.fromElement)&&(Iu(x)||x[Sc]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=d,x=x?Iu(x):null,x!==null&&(g=Rf(x),x!==g||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=d),m!==x)){if(p=KD,w="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=YD,w="onPointerLeave",b="onPointerEnter",y="pointer"),g=m==null?h:Nh(m),j=x==null?h:Nh(x),h=new p(w,y+"leave",m,r,u),h.target=g,h.relatedTarget=j,w=null,Iu(u)===d&&(p=new p(b,y+"enter",x,r,u),p.target=j,p.relatedTarget=g,w=p),g=w,m&&x)t:{for(p=m,b=x,y=0,j=p;j;j=Jf(j))y++;for(j=0,w=b;w;w=Jf(w))j++;for(;0<y-j;)p=Jf(p),y--;for(;0<j-y;)b=Jf(b),j--;for(;y--;){if(p===b||b!==null&&p===b.alternate)break t;p=Jf(p),b=Jf(b)}p=null}else p=null;m!==null&&oI(f,h,m,p,!1),x!==null&&g!==null&&oI(f,g,x,p,!0)}}e:{if(h=d?Nh(d):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var N=ste;else if(JD(h))if(A8)N=lte;else{N=ite;var _=ate}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=ote);if(N&&(N=N(e,d))){E8(f,N,r,u);break e}_&&_(e,h,d),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&aC(h,"number",h.value)}switch(_=d?Nh(d):window,e){case"focusin":(JD(_)||_.contentEditable==="true")&&(wh=_,gC=d,qx=null);break;case"focusout":qx=gC=wh=null;break;case"mousedown":vC=!0;break;case"contextmenu":case"mouseup":case"dragend":vC=!1,sI(f,r,u);break;case"selectionchange":if(ute)break;case"keydown":case"keyup":sI(f,r,u)}var C;if(hT)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else bh?S8(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(_8&&r.locale!=="ko"&&(bh||S!=="onCompositionStart"?S==="onCompositionEnd"&&bh&&(C=N8()):(jd=u,dT="value"in jd?jd.value:jd.textContent,bh=!0)),_=Z1(d,S),0<_.length&&(S=new XD(S,e,null,r,u),f.push({event:S,listeners:_}),C?S.data=C:(C=C8(r),C!==null&&(S.data=C)))),(C=Jee?ete(e,r):tte(e,r))&&(d=Z1(d,"onBeforeInput"),0<d.length&&(u=new XD("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=C))}L8(f,t)})}function Pg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Z1(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=jg(e,r),i!=null&&n.unshift(Pg(e,i,a)),i=jg(e,t),i!=null&&n.push(Pg(e,i,a))),e=e.return}return n}function Jf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function oI(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=jg(r,i),c!=null&&o.unshift(Pg(r,c,l))):a||(c=jg(r,i),c!=null&&o.push(Pg(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var pte=/\r\n?/g,xte=/\u0000|\uFFFD/g;function lI(e){return(typeof e=="string"?e:""+e).replace(pte,`
`).replace(xte,"")}function vy(e,t,r){if(t=lI(t),lI(e)!==t&&r)throw Error(ze(425))}function J1(){}var yC=null,bC=null;function wC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jC=typeof setTimeout=="function"?setTimeout:void 0,gte=typeof clearTimeout=="function"?clearTimeout:void 0,cI=typeof Promise=="function"?Promise:void 0,vte=typeof queueMicrotask=="function"?queueMicrotask:typeof cI<"u"?function(e){return cI.resolve(null).then(e).catch(yte)}:jC;function yte(e){setTimeout(function(){throw e})}function o2(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Sg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Sg(t)}function Od(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dI(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var up=Math.random().toString(36).slice(2),vl="__reactFiber$"+up,Tg="__reactProps$"+up,Sc="__reactContainer$"+up,NC="__reactEvents$"+up,bte="__reactListeners$"+up,wte="__reactHandles$"+up;function Iu(e){var t=e[vl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Sc]||r[vl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=dI(e);e!==null;){if(r=e[vl])return r;e=dI(e)}return t}e=r,r=e.parentNode}return null}function a0(e){return e=e[vl]||e[Sc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ze(33))}function Tj(e){return e[Tg]||null}var _C=[],_h=-1;function su(e){return{current:e}}function Yr(e){0>_h||(e.current=_C[_h],_C[_h]=null,_h--)}function $r(e,t){_h++,_C[_h]=e.current,e.current=t}var Wd={},Ks=su(Wd),Ta=su(!1),of=Wd;function xm(e,t){var r=e.type.contextTypes;if(!r)return Wd;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ka(e){return e=e.childContextTypes,e!=null}function eb(){Yr(Ta),Yr(Ks)}function uI(e,t,r){if(Ks.current!==Wd)throw Error(ze(168));$r(Ks,t),$r(Ta,r)}function B8(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ze(108,aee(e)||"Unknown",a));return cn({},r,n)}function tb(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wd,of=Ks.current,$r(Ks,e),$r(Ta,Ta.current),!0}function fI(e,t,r){var n=e.stateNode;if(!n)throw Error(ze(169));r?(e=B8(e,t,of),n.__reactInternalMemoizedMergedChildContext=e,Yr(Ta),Yr(Ks),$r(Ks,e)):Yr(Ta),$r(Ta,r)}var sc=null,kj=!1,l2=!1;function U8(e){sc===null?sc=[e]:sc.push(e)}function jte(e){kj=!0,U8(e)}function au(){if(!l2&&sc!==null){l2=!0;var e=0,t=Cr;try{var r=sc;for(Cr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}sc=null,kj=!1}catch(a){throw sc!==null&&(sc=sc.slice(e+1)),f8(iT,au),a}finally{Cr=t,l2=!1}}return null}var Sh=[],Ch=0,rb=null,nb=0,Fi=[],Li=0,lf=null,lc=1,cc="";function ju(e,t){Sh[Ch++]=nb,Sh[Ch++]=rb,rb=e,nb=t}function V8(e,t,r){Fi[Li++]=lc,Fi[Li++]=cc,Fi[Li++]=lf,lf=e;var n=lc;e=cc;var a=32-ko(n)-1;n&=~(1<<a),r+=1;var i=32-ko(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,lc=1<<32-ko(t)+a|r<<a|n,cc=i+e}else lc=1<<i|r<<a|n,cc=e}function pT(e){e.return!==null&&(ju(e,1),V8(e,1,0))}function xT(e){for(;e===rb;)rb=Sh[--Ch],Sh[Ch]=null,nb=Sh[--Ch],Sh[Ch]=null;for(;e===lf;)lf=Fi[--Li],Fi[Li]=null,cc=Fi[--Li],Fi[Li]=null,lc=Fi[--Li],Fi[Li]=null}var di=null,li=null,Jr=!1,jo=null;function z8(e,t){var r=Bi(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function hI(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,di=e,li=Od(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,di=e,li=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=lf!==null?{id:lc,overflow:cc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Bi(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,di=e,li=null,!0):!1;default:return!1}}function SC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function CC(e){if(Jr){var t=li;if(t){var r=t;if(!hI(e,t)){if(SC(e))throw Error(ze(418));t=Od(r.nextSibling);var n=di;t&&hI(e,t)?z8(n,r):(e.flags=e.flags&-4097|2,Jr=!1,di=e)}}else{if(SC(e))throw Error(ze(418));e.flags=e.flags&-4097|2,Jr=!1,di=e}}}function mI(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;di=e}function yy(e){if(e!==di)return!1;if(!Jr)return mI(e),Jr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wC(e.type,e.memoizedProps)),t&&(t=li)){if(SC(e))throw W8(),Error(ze(418));for(;t;)z8(e,t),t=Od(t.nextSibling)}if(mI(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ze(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){li=Od(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}li=null}}else li=di?Od(e.stateNode.nextSibling):null;return!0}function W8(){for(var e=li;e;)e=Od(e.nextSibling)}function gm(){li=di=null,Jr=!1}function gT(e){jo===null?jo=[e]:jo.push(e)}var Nte=Uc.ReactCurrentBatchConfig;function sx(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ze(309));var n=r.stateNode}if(!n)throw Error(ze(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ze(284));if(!r._owner)throw Error(ze(290,e))}return e}function by(e,t){throw e=Object.prototype.toString.call(t),Error(ze(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pI(e){var t=e._init;return t(e._payload)}function H8(e){function t(b,y){if(e){var j=b.deletions;j===null?(b.deletions=[y],b.flags|=16):j.push(y)}}function r(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function n(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function a(b,y){return b=Md(b,y),b.index=0,b.sibling=null,b}function i(b,y,j){return b.index=j,e?(j=b.alternate,j!==null?(j=j.index,j<y?(b.flags|=2,y):j):(b.flags|=2,y)):(b.flags|=1048576,y)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,y,j,w){return y===null||y.tag!==6?(y=p2(j,b.mode,w),y.return=b,y):(y=a(y,j),y.return=b,y)}function c(b,y,j,w){var N=j.type;return N===yh?u(b,y,j.props.children,w,j.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===sd&&pI(N)===y.type)?(w=a(y,j.props),w.ref=sx(b,y,j),w.return=b,w):(w=A1(j.type,j.key,j.props,null,b.mode,w),w.ref=sx(b,y,j),w.return=b,w)}function d(b,y,j,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==j.containerInfo||y.stateNode.implementation!==j.implementation?(y=x2(j,b.mode,w),y.return=b,y):(y=a(y,j.children||[]),y.return=b,y)}function u(b,y,j,w,N){return y===null||y.tag!==7?(y=ef(j,b.mode,w,N),y.return=b,y):(y=a(y,j),y.return=b,y)}function f(b,y,j){if(typeof y=="string"&&y!==""||typeof y=="number")return y=p2(""+y,b.mode,j),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case cy:return j=A1(y.type,y.key,y.props,null,b.mode,j),j.ref=sx(b,null,y),j.return=b,j;case vh:return y=x2(y,b.mode,j),y.return=b,y;case sd:var w=y._init;return f(b,w(y._payload),j)}if(Ox(y)||Jp(y))return y=ef(y,b.mode,j,null),y.return=b,y;by(b,y)}return null}function h(b,y,j,w){var N=y!==null?y.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return N!==null?null:l(b,y,""+j,w);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case cy:return j.key===N?c(b,y,j,w):null;case vh:return j.key===N?d(b,y,j,w):null;case sd:return N=j._init,h(b,y,N(j._payload),w)}if(Ox(j)||Jp(j))return N!==null?null:u(b,y,j,w,null);by(b,j)}return null}function m(b,y,j,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return b=b.get(j)||null,l(y,b,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cy:return b=b.get(w.key===null?j:w.key)||null,c(y,b,w,N);case vh:return b=b.get(w.key===null?j:w.key)||null,d(y,b,w,N);case sd:var _=w._init;return m(b,y,j,_(w._payload),N)}if(Ox(w)||Jp(w))return b=b.get(j)||null,u(y,b,w,N,null);by(y,w)}return null}function x(b,y,j,w){for(var N=null,_=null,C=y,S=y=0,E=null;C!==null&&S<j.length;S++){C.index>S?(E=C,C=null):E=C.sibling;var P=h(b,C,j[S],w);if(P===null){C===null&&(C=E);break}e&&C&&P.alternate===null&&t(b,C),y=i(P,y,S),_===null?N=P:_.sibling=P,_=P,C=E}if(S===j.length)return r(b,C),Jr&&ju(b,S),N;if(C===null){for(;S<j.length;S++)C=f(b,j[S],w),C!==null&&(y=i(C,y,S),_===null?N=C:_.sibling=C,_=C);return Jr&&ju(b,S),N}for(C=n(b,C);S<j.length;S++)E=m(C,b,S,j[S],w),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?S:E.key),y=i(E,y,S),_===null?N=E:_.sibling=E,_=E);return e&&C.forEach(function(I){return t(b,I)}),Jr&&ju(b,S),N}function p(b,y,j,w){var N=Jp(j);if(typeof N!="function")throw Error(ze(150));if(j=N.call(j),j==null)throw Error(ze(151));for(var _=N=null,C=y,S=y=0,E=null,P=j.next();C!==null&&!P.done;S++,P=j.next()){C.index>S?(E=C,C=null):E=C.sibling;var I=h(b,C,P.value,w);if(I===null){C===null&&(C=E);break}e&&C&&I.alternate===null&&t(b,C),y=i(I,y,S),_===null?N=I:_.sibling=I,_=I,C=E}if(P.done)return r(b,C),Jr&&ju(b,S),N;if(C===null){for(;!P.done;S++,P=j.next())P=f(b,P.value,w),P!==null&&(y=i(P,y,S),_===null?N=P:_.sibling=P,_=P);return Jr&&ju(b,S),N}for(C=n(b,C);!P.done;S++,P=j.next())P=m(C,b,S,P.value,w),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?S:P.key),y=i(P,y,S),_===null?N=P:_.sibling=P,_=P);return e&&C.forEach(function(D){return t(b,D)}),Jr&&ju(b,S),N}function g(b,y,j,w){if(typeof j=="object"&&j!==null&&j.type===yh&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case cy:e:{for(var N=j.key,_=y;_!==null;){if(_.key===N){if(N=j.type,N===yh){if(_.tag===7){r(b,_.sibling),y=a(_,j.props.children),y.return=b,b=y;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===sd&&pI(N)===_.type){r(b,_.sibling),y=a(_,j.props),y.ref=sx(b,_,j),y.return=b,b=y;break e}r(b,_);break}else t(b,_);_=_.sibling}j.type===yh?(y=ef(j.props.children,b.mode,w,j.key),y.return=b,b=y):(w=A1(j.type,j.key,j.props,null,b.mode,w),w.ref=sx(b,y,j),w.return=b,b=w)}return o(b);case vh:e:{for(_=j.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===j.containerInfo&&y.stateNode.implementation===j.implementation){r(b,y.sibling),y=a(y,j.children||[]),y.return=b,b=y;break e}else{r(b,y);break}else t(b,y);y=y.sibling}y=x2(j,b.mode,w),y.return=b,b=y}return o(b);case sd:return _=j._init,g(b,y,_(j._payload),w)}if(Ox(j))return x(b,y,j,w);if(Jp(j))return p(b,y,j,w);by(b,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,y!==null&&y.tag===6?(r(b,y.sibling),y=a(y,j),y.return=b,b=y):(r(b,y),y=p2(j,b.mode,w),y.return=b,b=y),o(b)):r(b,y)}return g}var vm=H8(!0),G8=H8(!1),sb=su(null),ab=null,Eh=null,vT=null;function yT(){vT=Eh=ab=null}function bT(e){var t=sb.current;Yr(sb),e._currentValue=t}function EC(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $h(e,t){ab=e,vT=Eh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ca=!0),e.firstContext=null)}function Xi(e){var t=e._currentValue;if(vT!==e)if(e={context:e,memoizedValue:t,next:null},Eh===null){if(ab===null)throw Error(ze(308));Eh=e,ab.dependencies={lanes:0,firstContext:e}}else Eh=Eh.next=e;return t}var Ru=null;function wT(e){Ru===null?Ru=[e]:Ru.push(e)}function q8(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,wT(t)):(r.next=a.next,a.next=r),t.interleaved=r,Cc(e,n)}function Cc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ad=!1;function jT(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K8(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dd(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,lr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Cc(e,r)}return a=n.interleaved,a===null?(t.next=t,wT(n)):(t.next=a.next,a.next=t),n.interleaved=t,Cc(e,r)}function j1(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,oT(e,r)}}function xI(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ib(e,t,r,n){var a=e.updateQueue;ad=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,p=l;switch(h=t,m=r,p.tag){case 1:if(x=p.payload,typeof x=="function"){f=x.call(m,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,h=typeof x=="function"?x.call(m,f,h):x,h==null)break e;f=cn({},f,h);break e;case 2:ad=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=f):u=u.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);df|=o,e.lanes=o,e.memoizedState=f}}function gI(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ze(191,a));a.call(n)}}}var i0={},_l=su(i0),kg=su(i0),Og=su(i0);function Mu(e){if(e===i0)throw Error(ze(174));return e}function NT(e,t){switch($r(Og,t),$r(kg,e),$r(_l,i0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=oC(t,e)}Yr(_l),$r(_l,t)}function ym(){Yr(_l),Yr(kg),Yr(Og)}function X8(e){Mu(Og.current);var t=Mu(_l.current),r=oC(t,e.type);t!==r&&($r(kg,e),$r(_l,r))}function _T(e){kg.current===e&&(Yr(_l),Yr(kg))}var on=su(0);function ob(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var c2=[];function ST(){for(var e=0;e<c2.length;e++)c2[e]._workInProgressVersionPrimary=null;c2.length=0}var N1=Uc.ReactCurrentDispatcher,d2=Uc.ReactCurrentBatchConfig,cf=0,ln=null,Wn=null,rs=null,lb=!1,Kx=!1,Dg=0,_te=0;function Rs(){throw Error(ze(321))}function CT(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Lo(e[r],t[r]))return!1;return!0}function ET(e,t,r,n,a,i){if(cf=i,ln=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N1.current=e===null||e.memoizedState===null?Ate:Pte,e=r(n,a),Kx){i=0;do{if(Kx=!1,Dg=0,25<=i)throw Error(ze(301));i+=1,rs=Wn=null,t.updateQueue=null,N1.current=Tte,e=r(n,a)}while(Kx)}if(N1.current=cb,t=Wn!==null&&Wn.next!==null,cf=0,rs=Wn=ln=null,lb=!1,t)throw Error(ze(300));return e}function AT(){var e=Dg!==0;return Dg=0,e}function dl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rs===null?ln.memoizedState=rs=e:rs=rs.next=e,rs}function Yi(){if(Wn===null){var e=ln.alternate;e=e!==null?e.memoizedState:null}else e=Wn.next;var t=rs===null?ln.memoizedState:rs.next;if(t!==null)rs=t,Wn=e;else{if(e===null)throw Error(ze(310));Wn=e,e={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},rs===null?ln.memoizedState=rs=e:rs=rs.next=e}return rs}function Ig(e,t){return typeof t=="function"?t(e):t}function u2(e){var t=Yi(),r=t.queue;if(r===null)throw Error(ze(311));r.lastRenderedReducer=e;var n=Wn,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((cf&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,ln.lanes|=u,df|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,Lo(n,t.memoizedState)||(Ca=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,ln.lanes|=i,df|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function f2(e){var t=Yi(),r=t.queue;if(r===null)throw Error(ze(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Lo(i,t.memoizedState)||(Ca=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Y8(){}function Q8(e,t){var r=ln,n=Yi(),a=t(),i=!Lo(n.memoizedState,a);if(i&&(n.memoizedState=a,Ca=!0),n=n.queue,PT(eB.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||rs!==null&&rs.memoizedState.tag&1){if(r.flags|=2048,Rg(9,J8.bind(null,r,n,a,t),void 0,null),ls===null)throw Error(ze(349));cf&30||Z8(r,t,a)}return a}function Z8(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ln.updateQueue,t===null?(t={lastEffect:null,stores:null},ln.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function J8(e,t,r,n){t.value=r,t.getSnapshot=n,tB(t)&&rB(e)}function eB(e,t,r){return r(function(){tB(t)&&rB(e)})}function tB(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Lo(e,r)}catch{return!0}}function rB(e){var t=Cc(e,1);t!==null&&Oo(t,e,1,-1)}function vI(e){var t=dl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ig,lastRenderedState:e},t.queue=e,e=e.dispatch=Ete.bind(null,ln,e),[t.memoizedState,e]}function Rg(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ln.updateQueue,t===null?(t={lastEffect:null,stores:null},ln.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function nB(){return Yi().memoizedState}function _1(e,t,r,n){var a=dl();ln.flags|=e,a.memoizedState=Rg(1|t,r,void 0,n===void 0?null:n)}function Oj(e,t,r,n){var a=Yi();n=n===void 0?null:n;var i=void 0;if(Wn!==null){var o=Wn.memoizedState;if(i=o.destroy,n!==null&&CT(n,o.deps)){a.memoizedState=Rg(t,r,i,n);return}}ln.flags|=e,a.memoizedState=Rg(1|t,r,i,n)}function yI(e,t){return _1(8390656,8,e,t)}function PT(e,t){return Oj(2048,8,e,t)}function sB(e,t){return Oj(4,2,e,t)}function aB(e,t){return Oj(4,4,e,t)}function iB(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oB(e,t,r){return r=r!=null?r.concat([e]):null,Oj(4,4,iB.bind(null,t,e),r)}function TT(){}function lB(e,t){var r=Yi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&CT(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function cB(e,t){var r=Yi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&CT(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function dB(e,t,r){return cf&21?(Lo(r,t)||(r=p8(),ln.lanes|=r,df|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ca=!0),e.memoizedState=r)}function Ste(e,t){var r=Cr;Cr=r!==0&&4>r?r:4,e(!0);var n=d2.transition;d2.transition={};try{e(!1),t()}finally{Cr=r,d2.transition=n}}function uB(){return Yi().memoizedState}function Cte(e,t,r){var n=Rd(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fB(e))hB(t,r);else if(r=q8(e,t,r,n),r!==null){var a=fa();Oo(r,e,n,a),mB(r,t,n)}}function Ete(e,t,r){var n=Rd(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fB(e))hB(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Lo(l,o)){var c=t.interleaved;c===null?(a.next=a,wT(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=q8(e,t,a,n),r!==null&&(a=fa(),Oo(r,e,n,a),mB(r,t,n))}}function fB(e){var t=e.alternate;return e===ln||t!==null&&t===ln}function hB(e,t){Kx=lb=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function mB(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,oT(e,r)}}var cb={readContext:Xi,useCallback:Rs,useContext:Rs,useEffect:Rs,useImperativeHandle:Rs,useInsertionEffect:Rs,useLayoutEffect:Rs,useMemo:Rs,useReducer:Rs,useRef:Rs,useState:Rs,useDebugValue:Rs,useDeferredValue:Rs,useTransition:Rs,useMutableSource:Rs,useSyncExternalStore:Rs,useId:Rs,unstable_isNewReconciler:!1},Ate={readContext:Xi,useCallback:function(e,t){return dl().memoizedState=[e,t===void 0?null:t],e},useContext:Xi,useEffect:yI,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,_1(4194308,4,iB.bind(null,t,e),r)},useLayoutEffect:function(e,t){return _1(4194308,4,e,t)},useInsertionEffect:function(e,t){return _1(4,2,e,t)},useMemo:function(e,t){var r=dl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=dl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Cte.bind(null,ln,e),[n.memoizedState,e]},useRef:function(e){var t=dl();return e={current:e},t.memoizedState=e},useState:vI,useDebugValue:TT,useDeferredValue:function(e){return dl().memoizedState=e},useTransition:function(){var e=vI(!1),t=e[0];return e=Ste.bind(null,e[1]),dl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ln,a=dl();if(Jr){if(r===void 0)throw Error(ze(407));r=r()}else{if(r=t(),ls===null)throw Error(ze(349));cf&30||Z8(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,yI(eB.bind(null,n,i,e),[e]),n.flags|=2048,Rg(9,J8.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=dl(),t=ls.identifierPrefix;if(Jr){var r=cc,n=lc;r=(n&~(1<<32-ko(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Dg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=_te++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pte={readContext:Xi,useCallback:lB,useContext:Xi,useEffect:PT,useImperativeHandle:oB,useInsertionEffect:sB,useLayoutEffect:aB,useMemo:cB,useReducer:u2,useRef:nB,useState:function(){return u2(Ig)},useDebugValue:TT,useDeferredValue:function(e){var t=Yi();return dB(t,Wn.memoizedState,e)},useTransition:function(){var e=u2(Ig)[0],t=Yi().memoizedState;return[e,t]},useMutableSource:Y8,useSyncExternalStore:Q8,useId:uB,unstable_isNewReconciler:!1},Tte={readContext:Xi,useCallback:lB,useContext:Xi,useEffect:PT,useImperativeHandle:oB,useInsertionEffect:sB,useLayoutEffect:aB,useMemo:cB,useReducer:f2,useRef:nB,useState:function(){return f2(Ig)},useDebugValue:TT,useDeferredValue:function(e){var t=Yi();return Wn===null?t.memoizedState=e:dB(t,Wn.memoizedState,e)},useTransition:function(){var e=f2(Ig)[0],t=Yi().memoizedState;return[e,t]},useMutableSource:Y8,useSyncExternalStore:Q8,useId:uB,unstable_isNewReconciler:!1};function go(e,t){if(e&&e.defaultProps){t=cn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function AC(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:cn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Dj={isMounted:function(e){return(e=e._reactInternals)?Rf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=fa(),a=Rd(e),i=pc(n,a);i.payload=t,r!=null&&(i.callback=r),t=Dd(e,i,a),t!==null&&(Oo(t,e,a,n),j1(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=fa(),a=Rd(e),i=pc(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Dd(e,i,a),t!==null&&(Oo(t,e,a,n),j1(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=fa(),n=Rd(e),a=pc(r,n);a.tag=2,t!=null&&(a.callback=t),t=Dd(e,a,n),t!==null&&(Oo(t,e,n,r),j1(t,e,n))}};function bI(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Eg(r,n)||!Eg(a,i):!0}function pB(e,t,r){var n=!1,a=Wd,i=t.contextType;return typeof i=="object"&&i!==null?i=Xi(i):(a=ka(t)?of:Ks.current,n=t.contextTypes,i=(n=n!=null)?xm(e,a):Wd),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dj,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function wI(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Dj.enqueueReplaceState(t,t.state,null)}function PC(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},jT(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Xi(i):(i=ka(t)?of:Ks.current,a.context=xm(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(AC(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Dj.enqueueReplaceState(a,a.state,null),ib(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function bm(e,t){try{var r="",n=t;do r+=see(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function h2(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function TC(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kte=typeof WeakMap=="function"?WeakMap:Map;function xB(e,t,r){r=pc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ub||(ub=!0,BC=n),TC(e,t)},r}function gB(e,t,r){r=pc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){TC(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){TC(e,t),typeof n!="function"&&(Id===null?Id=new Set([this]):Id.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function jI(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new kte;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Hte.bind(null,e,t,r),t.then(e,e))}function NI(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _I(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=pc(-1,1),t.tag=2,Dd(r,t,1))),r.lanes|=1),e)}var Ote=Uc.ReactCurrentOwner,Ca=!1;function ra(e,t,r,n){t.child=e===null?G8(t,null,r,n):vm(t,e.child,r,n)}function SI(e,t,r,n,a){r=r.render;var i=t.ref;return $h(t,a),n=ET(e,t,r,n,i,a),r=AT(),e!==null&&!Ca?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ec(e,t,a)):(Jr&&r&&pT(t),t.flags|=1,ra(e,t,n,a),t.child)}function CI(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!LT(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,vB(e,t,i,n,a)):(e=A1(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Eg,r(o,n)&&e.ref===t.ref)return Ec(e,t,a)}return t.flags|=1,e=Md(i,n),e.ref=t.ref,e.return=t,t.child=e}function vB(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Eg(i,n)&&e.ref===t.ref)if(Ca=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Ca=!0);else return t.lanes=e.lanes,Ec(e,t,a)}return kC(e,t,r,n,a)}function yB(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$r(Ph,ti),ti|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$r(Ph,ti),ti|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,$r(Ph,ti),ti|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,$r(Ph,ti),ti|=n;return ra(e,t,a,r),t.child}function bB(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function kC(e,t,r,n,a){var i=ka(r)?of:Ks.current;return i=xm(t,i),$h(t,a),r=ET(e,t,r,n,i,a),n=AT(),e!==null&&!Ca?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ec(e,t,a)):(Jr&&n&&pT(t),t.flags|=1,ra(e,t,r,a),t.child)}function EI(e,t,r,n,a){if(ka(r)){var i=!0;tb(t)}else i=!1;if($h(t,a),t.stateNode===null)S1(e,t),pB(t,r,n),PC(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Xi(d):(d=ka(r)?of:Ks.current,d=xm(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&wI(t,o,n,d),ad=!1;var h=t.memoizedState;o.state=h,ib(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Ta.current||ad?(typeof u=="function"&&(AC(t,r,u,n),c=t.memoizedState),(l=ad||bI(t,r,l,n,h,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,K8(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:go(t.type,l),o.props=d,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Xi(c):(c=ka(r)?of:Ks.current,c=xm(t,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&wI(t,o,n,c),ad=!1,h=t.memoizedState,o.state=h,ib(t,n,o,a);var x=t.memoizedState;l!==f||h!==x||Ta.current||ad?(typeof m=="function"&&(AC(t,r,m,n),x=t.memoizedState),(d=ad||bI(t,r,d,n,h,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return OC(e,t,r,n,i,a)}function OC(e,t,r,n,a,i){bB(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&fI(t,r,!1),Ec(e,t,i);n=t.stateNode,Ote.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=vm(t,e.child,null,i),t.child=vm(t,null,l,i)):ra(e,t,l,i),t.memoizedState=n.state,a&&fI(t,r,!0),t.child}function wB(e){var t=e.stateNode;t.pendingContext?uI(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uI(e,t.context,!1),NT(e,t.containerInfo)}function AI(e,t,r,n,a){return gm(),gT(a),t.flags|=256,ra(e,t,r,n),t.child}var DC={dehydrated:null,treeContext:null,retryLane:0};function IC(e){return{baseLanes:e,cachePool:null,transitions:null}}function jB(e,t,r){var n=t.pendingProps,a=on.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),$r(on,a&1),e===null)return CC(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Mj(o,n,0,null),e=ef(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=IC(r),t.memoizedState=DC,e):kT(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Dte(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Md(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Md(l,i):(i=ef(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?IC(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=DC,n}return i=e.child,e=i.sibling,n=Md(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function kT(e,t){return t=Mj({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wy(e,t,r,n){return n!==null&&gT(n),vm(t,e.child,null,r),e=kT(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dte(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=h2(Error(ze(422))),wy(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Mj({mode:"visible",children:n.children},a,0,null),i=ef(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&vm(t,e.child,null,o),t.child.memoizedState=IC(o),t.memoizedState=DC,i);if(!(t.mode&1))return wy(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ze(419)),n=h2(i,n,void 0),wy(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ca||l){if(n=ls,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Cc(e,a),Oo(n,e,a,-1))}return FT(),n=h2(Error(ze(421))),wy(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Gte.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,li=Od(a.nextSibling),di=t,Jr=!0,jo=null,e!==null&&(Fi[Li++]=lc,Fi[Li++]=cc,Fi[Li++]=lf,lc=e.id,cc=e.overflow,lf=t),t=kT(t,n.children),t.flags|=4096,t)}function PI(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),EC(e.return,t,r)}function m2(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function NB(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ra(e,t,n.children,r),n=on.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&PI(e,r,t);else if(e.tag===19)PI(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if($r(on,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ob(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),m2(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ob(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}m2(t,!0,r,null,i);break;case"together":m2(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function S1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ec(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),df|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ze(153));if(t.child!==null){for(e=t.child,r=Md(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Md(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ite(e,t,r){switch(t.tag){case 3:wB(t),gm();break;case 5:X8(t);break;case 1:ka(t.type)&&tb(t);break;case 4:NT(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;$r(sb,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?($r(on,on.current&1),t.flags|=128,null):r&t.child.childLanes?jB(e,t,r):($r(on,on.current&1),e=Ec(e,t,r),e!==null?e.sibling:null);$r(on,on.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return NB(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),$r(on,on.current),n)break;return null;case 22:case 23:return t.lanes=0,yB(e,t,r)}return Ec(e,t,r)}var _B,RC,SB,CB;_B=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};RC=function(){};SB=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Mu(_l.current);var i=null;switch(r){case"input":a=nC(e,a),n=nC(e,n),i=[];break;case"select":a=cn({},a,{value:void 0}),n=cn({},n,{value:void 0}),i=[];break;case"textarea":a=iC(e,a),n=iC(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=J1)}lC(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(bg.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(bg.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Gr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};CB=function(e,t,r,n){r!==n&&(t.flags|=4)};function ax(e,t){if(!Jr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ms(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Rte(e,t,r){var n=t.pendingProps;switch(xT(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ms(t),null;case 1:return ka(t.type)&&eb(),Ms(t),null;case 3:return n=t.stateNode,ym(),Yr(Ta),Yr(Ks),ST(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(yy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jo!==null&&(zC(jo),jo=null))),RC(e,t),Ms(t),null;case 5:_T(t);var a=Mu(Og.current);if(r=t.type,e!==null&&t.stateNode!=null)SB(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ze(166));return Ms(t),null}if(e=Mu(_l.current),yy(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[vl]=t,n[Tg]=i,e=(t.mode&1)!==0,r){case"dialog":Gr("cancel",n),Gr("close",n);break;case"iframe":case"object":case"embed":Gr("load",n);break;case"video":case"audio":for(a=0;a<Ix.length;a++)Gr(Ix[a],n);break;case"source":Gr("error",n);break;case"img":case"image":case"link":Gr("error",n),Gr("load",n);break;case"details":Gr("toggle",n);break;case"input":LD(n,i),Gr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Gr("invalid",n);break;case"textarea":BD(n,i),Gr("invalid",n)}lC(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&vy(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&vy(n.textContent,l,e),a=["children",""+l]):bg.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Gr("scroll",n)}switch(r){case"input":dy(n),$D(n,i,!0);break;case"textarea":dy(n),UD(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=J1)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=e8(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[vl]=t,e[Tg]=n,_B(e,t,!1,!1),t.stateNode=e;e:{switch(o=cC(r,n),r){case"dialog":Gr("cancel",e),Gr("close",e),a=n;break;case"iframe":case"object":case"embed":Gr("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ix.length;a++)Gr(Ix[a],e);a=n;break;case"source":Gr("error",e),a=n;break;case"img":case"image":case"link":Gr("error",e),Gr("load",e),a=n;break;case"details":Gr("toggle",e),a=n;break;case"input":LD(e,n),a=nC(e,n),Gr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=cn({},n,{value:void 0}),Gr("invalid",e);break;case"textarea":BD(e,n),a=iC(e,n),Gr("invalid",e);break;default:a=n}lC(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?n8(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&t8(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&wg(e,c):typeof c=="number"&&wg(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bg.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Gr("scroll",e):c!=null&&tT(e,i,c,o))}switch(r){case"input":dy(e),$D(e,n,!1);break;case"textarea":dy(e),UD(e);break;case"option":n.value!=null&&e.setAttribute("value",""+zd(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Rh(e,!!n.multiple,i,!1):n.defaultValue!=null&&Rh(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=J1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ms(t),null;case 6:if(e&&t.stateNode!=null)CB(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ze(166));if(r=Mu(Og.current),Mu(_l.current),yy(t)){if(n=t.stateNode,r=t.memoizedProps,n[vl]=t,(i=n.nodeValue!==r)&&(e=di,e!==null))switch(e.tag){case 3:vy(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vy(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[vl]=t,t.stateNode=n}return Ms(t),null;case 13:if(Yr(on),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Jr&&li!==null&&t.mode&1&&!(t.flags&128))W8(),gm(),t.flags|=98560,i=!1;else if(i=yy(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ze(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ze(317));i[vl]=t}else gm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ms(t),i=!1}else jo!==null&&(zC(jo),jo=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||on.current&1?Kn===0&&(Kn=3):FT())),t.updateQueue!==null&&(t.flags|=4),Ms(t),null);case 4:return ym(),RC(e,t),e===null&&Ag(t.stateNode.containerInfo),Ms(t),null;case 10:return bT(t.type._context),Ms(t),null;case 17:return ka(t.type)&&eb(),Ms(t),null;case 19:if(Yr(on),i=t.memoizedState,i===null)return Ms(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)ax(i,!1);else{if(Kn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ob(e),o!==null){for(t.flags|=128,ax(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $r(on,on.current&1|2),t.child}e=e.sibling}i.tail!==null&&Cn()>wm&&(t.flags|=128,n=!0,ax(i,!1),t.lanes=4194304)}else{if(!n)if(e=ob(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ax(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Jr)return Ms(t),null}else 2*Cn()-i.renderingStartTime>wm&&r!==1073741824&&(t.flags|=128,n=!0,ax(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Cn(),t.sibling=null,r=on.current,$r(on,n?r&1|2:r&1),t):(Ms(t),null);case 22:case 23:return MT(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ti&1073741824&&(Ms(t),t.subtreeFlags&6&&(t.flags|=8192)):Ms(t),null;case 24:return null;case 25:return null}throw Error(ze(156,t.tag))}function Mte(e,t){switch(xT(t),t.tag){case 1:return ka(t.type)&&eb(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ym(),Yr(Ta),Yr(Ks),ST(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _T(t),null;case 13:if(Yr(on),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ze(340));gm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Yr(on),null;case 4:return ym(),null;case 10:return bT(t.type._context),null;case 22:case 23:return MT(),null;case 24:return null;default:return null}}var jy=!1,Us=!1,Fte=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Ah(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){hn(e,t,n)}else r.current=null}function MC(e,t,r){try{r()}catch(n){hn(e,t,n)}}var TI=!1;function Lte(e,t){if(yC=Y1,e=k8(),mT(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++d===a&&(l=o),h===i&&++u===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(bC={focusedElem:e,selectionRange:r},Y1=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){t=pt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,g=x.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:go(t.type,p),g);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(w){hn(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}return x=TI,TI=!1,x}function Xx(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&MC(t,r,i)}a=a.next}while(a!==n)}}function Ij(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function FC(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function EB(e){var t=e.alternate;t!==null&&(e.alternate=null,EB(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vl],delete t[Tg],delete t[NC],delete t[bte],delete t[wte])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function AB(e){return e.tag===5||e.tag===3||e.tag===4}function kI(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||AB(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function LC(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=J1));else if(n!==4&&(e=e.child,e!==null))for(LC(e,t,r),e=e.sibling;e!==null;)LC(e,t,r),e=e.sibling}function $C(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for($C(e,t,r),e=e.sibling;e!==null;)$C(e,t,r),e=e.sibling}var bs=null,yo=!1;function Xc(e,t,r){for(r=r.child;r!==null;)PB(e,t,r),r=r.sibling}function PB(e,t,r){if(Nl&&typeof Nl.onCommitFiberUnmount=="function")try{Nl.onCommitFiberUnmount(Cj,r)}catch{}switch(r.tag){case 5:Us||Ah(r,t);case 6:var n=bs,a=yo;bs=null,Xc(e,t,r),bs=n,yo=a,bs!==null&&(yo?(e=bs,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):bs.removeChild(r.stateNode));break;case 18:bs!==null&&(yo?(e=bs,r=r.stateNode,e.nodeType===8?o2(e.parentNode,r):e.nodeType===1&&o2(e,r),Sg(e)):o2(bs,r.stateNode));break;case 4:n=bs,a=yo,bs=r.stateNode.containerInfo,yo=!0,Xc(e,t,r),bs=n,yo=a;break;case 0:case 11:case 14:case 15:if(!Us&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&MC(r,t,o),a=a.next}while(a!==n)}Xc(e,t,r);break;case 1:if(!Us&&(Ah(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){hn(r,t,l)}Xc(e,t,r);break;case 21:Xc(e,t,r);break;case 22:r.mode&1?(Us=(n=Us)||r.memoizedState!==null,Xc(e,t,r),Us=n):Xc(e,t,r);break;default:Xc(e,t,r)}}function OI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Fte),t.forEach(function(n){var a=qte.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function fo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:bs=l.stateNode,yo=!1;break e;case 3:bs=l.stateNode.containerInfo,yo=!0;break e;case 4:bs=l.stateNode.containerInfo,yo=!0;break e}l=l.return}if(bs===null)throw Error(ze(160));PB(i,o,a),bs=null,yo=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){hn(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)TB(t,e),t=t.sibling}function TB(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fo(t,e),al(e),n&4){try{Xx(3,e,e.return),Ij(3,e)}catch(p){hn(e,e.return,p)}try{Xx(5,e,e.return)}catch(p){hn(e,e.return,p)}}break;case 1:fo(t,e),al(e),n&512&&r!==null&&Ah(r,r.return);break;case 5:if(fo(t,e),al(e),n&512&&r!==null&&Ah(r,r.return),e.flags&32){var a=e.stateNode;try{wg(a,"")}catch(p){hn(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Z6(a,i),cC(l,o);var d=cC(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?n8(a,f):u==="dangerouslySetInnerHTML"?t8(a,f):u==="children"?wg(a,f):tT(a,u,f,d)}switch(l){case"input":sC(a,i);break;case"textarea":J6(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Rh(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Rh(a,!!i.multiple,i.defaultValue,!0):Rh(a,!!i.multiple,i.multiple?[]:"",!1))}a[Tg]=i}catch(p){hn(e,e.return,p)}}break;case 6:if(fo(t,e),al(e),n&4){if(e.stateNode===null)throw Error(ze(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){hn(e,e.return,p)}}break;case 3:if(fo(t,e),al(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Sg(t.containerInfo)}catch(p){hn(e,e.return,p)}break;case 4:fo(t,e),al(e);break;case 13:fo(t,e),al(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(IT=Cn())),n&4&&OI(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Us=(d=Us)||u,fo(t,e),Us=d):fo(t,e),al(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(pt=e,u=e.child;u!==null;){for(f=pt=u;pt!==null;){switch(h=pt,m=h.child,h.tag){case 0:case 11:case 14:case 15:Xx(4,h,h.return);break;case 1:Ah(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(p){hn(n,r,p)}}break;case 5:Ah(h,h.return);break;case 22:if(h.memoizedState!==null){II(f);continue}}m!==null?(m.return=h,pt=m):II(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=r8("display",o))}catch(p){hn(e,e.return,p)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(p){hn(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fo(t,e),al(e),n&4&&OI(e);break;case 21:break;default:fo(t,e),al(e)}}function al(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(AB(r)){var n=r;break e}r=r.return}throw Error(ze(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(wg(a,""),n.flags&=-33);var i=kI(e);$C(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=kI(e);LC(e,l,o);break;default:throw Error(ze(161))}}catch(c){hn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $te(e,t,r){pt=e,kB(e)}function kB(e,t,r){for(var n=(e.mode&1)!==0;pt!==null;){var a=pt,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||jy;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Us;l=jy;var d=Us;if(jy=o,(Us=c)&&!d)for(pt=a;pt!==null;)o=pt,c=o.child,o.tag===22&&o.memoizedState!==null?RI(a):c!==null?(c.return=o,pt=c):RI(a);for(;i!==null;)pt=i,kB(i),i=i.sibling;pt=a,jy=l,Us=d}DI(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,pt=i):DI(e)}}function DI(e){for(;pt!==null;){var t=pt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Us||Ij(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Us)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:go(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&gI(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}gI(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Sg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}Us||t.flags&512&&FC(t)}catch(h){hn(t,t.return,h)}}if(t===e){pt=null;break}if(r=t.sibling,r!==null){r.return=t.return,pt=r;break}pt=t.return}}function II(e){for(;pt!==null;){var t=pt;if(t===e){pt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,pt=r;break}pt=t.return}}function RI(e){for(;pt!==null;){var t=pt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ij(4,t)}catch(c){hn(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){hn(t,a,c)}}var i=t.return;try{FC(t)}catch(c){hn(t,i,c)}break;case 5:var o=t.return;try{FC(t)}catch(c){hn(t,o,c)}}}catch(c){hn(t,t.return,c)}if(t===e){pt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,pt=l;break}pt=t.return}}var Bte=Math.ceil,db=Uc.ReactCurrentDispatcher,OT=Uc.ReactCurrentOwner,Wi=Uc.ReactCurrentBatchConfig,lr=0,ls=null,Dn=null,Es=0,ti=0,Ph=su(0),Kn=0,Mg=null,df=0,Rj=0,DT=0,Yx=null,_a=null,IT=0,wm=1/0,ec=null,ub=!1,BC=null,Id=null,Ny=!1,Nd=null,fb=0,Qx=0,UC=null,C1=-1,E1=0;function fa(){return lr&6?Cn():C1!==-1?C1:C1=Cn()}function Rd(e){return e.mode&1?lr&2&&Es!==0?Es&-Es:Nte.transition!==null?(E1===0&&(E1=p8()),E1):(e=Cr,e!==0||(e=window.event,e=e===void 0?16:j8(e.type)),e):1}function Oo(e,t,r,n){if(50<Qx)throw Qx=0,UC=null,Error(ze(185));n0(e,r,n),(!(lr&2)||e!==ls)&&(e===ls&&(!(lr&2)&&(Rj|=r),Kn===4&&dd(e,Es)),Oa(e,n),r===1&&lr===0&&!(t.mode&1)&&(wm=Cn()+500,kj&&au()))}function Oa(e,t){var r=e.callbackNode;Nee(e,t);var n=X1(e,e===ls?Es:0);if(n===0)r!==null&&WD(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&WD(r),t===1)e.tag===0?jte(MI.bind(null,e)):U8(MI.bind(null,e)),vte(function(){!(lr&6)&&au()}),r=null;else{switch(x8(n)){case 1:r=iT;break;case 4:r=h8;break;case 16:r=K1;break;case 536870912:r=m8;break;default:r=K1}r=$B(r,OB.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function OB(e,t){if(C1=-1,E1=0,lr&6)throw Error(ze(327));var r=e.callbackNode;if(Bh()&&e.callbackNode!==r)return null;var n=X1(e,e===ls?Es:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=hb(e,n);else{t=n;var a=lr;lr|=2;var i=IB();(ls!==e||Es!==t)&&(ec=null,wm=Cn()+500,Ju(e,t));do try{zte();break}catch(l){DB(e,l)}while(!0);yT(),db.current=i,lr=a,Dn!==null?t=0:(ls=null,Es=0,t=Kn)}if(t!==0){if(t===2&&(a=mC(e),a!==0&&(n=a,t=VC(e,a))),t===1)throw r=Mg,Ju(e,0),dd(e,n),Oa(e,Cn()),r;if(t===6)dd(e,n);else{if(a=e.current.alternate,!(n&30)&&!Ute(a)&&(t=hb(e,n),t===2&&(i=mC(e),i!==0&&(n=i,t=VC(e,i))),t===1))throw r=Mg,Ju(e,0),dd(e,n),Oa(e,Cn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ze(345));case 2:Nu(e,_a,ec);break;case 3:if(dd(e,n),(n&130023424)===n&&(t=IT+500-Cn(),10<t)){if(X1(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){fa(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=jC(Nu.bind(null,e,_a,ec),t);break}Nu(e,_a,ec);break;case 4:if(dd(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-ko(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Cn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Bte(n/1960))-n,10<n){e.timeoutHandle=jC(Nu.bind(null,e,_a,ec),n);break}Nu(e,_a,ec);break;case 5:Nu(e,_a,ec);break;default:throw Error(ze(329))}}}return Oa(e,Cn()),e.callbackNode===r?OB.bind(null,e):null}function VC(e,t){var r=Yx;return e.current.memoizedState.isDehydrated&&(Ju(e,t).flags|=256),e=hb(e,t),e!==2&&(t=_a,_a=r,t!==null&&zC(t)),e}function zC(e){_a===null?_a=e:_a.push.apply(_a,e)}function Ute(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Lo(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dd(e,t){for(t&=~DT,t&=~Rj,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ko(t),n=1<<r;e[r]=-1,t&=~n}}function MI(e){if(lr&6)throw Error(ze(327));Bh();var t=X1(e,0);if(!(t&1))return Oa(e,Cn()),null;var r=hb(e,t);if(e.tag!==0&&r===2){var n=mC(e);n!==0&&(t=n,r=VC(e,n))}if(r===1)throw r=Mg,Ju(e,0),dd(e,t),Oa(e,Cn()),r;if(r===6)throw Error(ze(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nu(e,_a,ec),Oa(e,Cn()),null}function RT(e,t){var r=lr;lr|=1;try{return e(t)}finally{lr=r,lr===0&&(wm=Cn()+500,kj&&au())}}function uf(e){Nd!==null&&Nd.tag===0&&!(lr&6)&&Bh();var t=lr;lr|=1;var r=Wi.transition,n=Cr;try{if(Wi.transition=null,Cr=1,e)return e()}finally{Cr=n,Wi.transition=r,lr=t,!(lr&6)&&au()}}function MT(){ti=Ph.current,Yr(Ph)}function Ju(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,gte(r)),Dn!==null)for(r=Dn.return;r!==null;){var n=r;switch(xT(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&eb();break;case 3:ym(),Yr(Ta),Yr(Ks),ST();break;case 5:_T(n);break;case 4:ym();break;case 13:Yr(on);break;case 19:Yr(on);break;case 10:bT(n.type._context);break;case 22:case 23:MT()}r=r.return}if(ls=e,Dn=e=Md(e.current,null),Es=ti=t,Kn=0,Mg=null,DT=Rj=df=0,_a=Yx=null,Ru!==null){for(t=0;t<Ru.length;t++)if(r=Ru[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Ru=null}return e}function DB(e,t){do{var r=Dn;try{if(yT(),N1.current=cb,lb){for(var n=ln.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}lb=!1}if(cf=0,rs=Wn=ln=null,Kx=!1,Dg=0,OT.current=null,r===null||r.return===null){Kn=1,Mg=t,Dn=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Es,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=NI(o);if(m!==null){m.flags&=-257,_I(m,o,l,i,t),m.mode&1&&jI(i,d,t),t=m,c=d;var x=t.updateQueue;if(x===null){var p=new Set;p.add(c),t.updateQueue=p}else x.add(c);break e}else{if(!(t&1)){jI(i,d,t),FT();break e}c=Error(ze(426))}}else if(Jr&&l.mode&1){var g=NI(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),_I(g,o,l,i,t),gT(bm(c,l));break e}}i=c=bm(c,l),Kn!==4&&(Kn=2),Yx===null?Yx=[i]:Yx.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=xB(i,c,t);xI(i,b);break e;case 1:l=c;var y=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Id===null||!Id.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=gB(i,l,t);xI(i,w);break e}}i=i.return}while(i!==null)}MB(r)}catch(N){t=N,Dn===r&&r!==null&&(Dn=r=r.return);continue}break}while(!0)}function IB(){var e=db.current;return db.current=cb,e===null?cb:e}function FT(){(Kn===0||Kn===3||Kn===2)&&(Kn=4),ls===null||!(df&268435455)&&!(Rj&268435455)||dd(ls,Es)}function hb(e,t){var r=lr;lr|=2;var n=IB();(ls!==e||Es!==t)&&(ec=null,Ju(e,t));do try{Vte();break}catch(a){DB(e,a)}while(!0);if(yT(),lr=r,db.current=n,Dn!==null)throw Error(ze(261));return ls=null,Es=0,Kn}function Vte(){for(;Dn!==null;)RB(Dn)}function zte(){for(;Dn!==null&&!mee();)RB(Dn)}function RB(e){var t=LB(e.alternate,e,ti);e.memoizedProps=e.pendingProps,t===null?MB(e):Dn=t,OT.current=null}function MB(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Mte(r,t),r!==null){r.flags&=32767,Dn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Kn=6,Dn=null;return}}else if(r=Rte(r,t,ti),r!==null){Dn=r;return}if(t=t.sibling,t!==null){Dn=t;return}Dn=t=e}while(t!==null);Kn===0&&(Kn=5)}function Nu(e,t,r){var n=Cr,a=Wi.transition;try{Wi.transition=null,Cr=1,Wte(e,t,r,n)}finally{Wi.transition=a,Cr=n}return null}function Wte(e,t,r,n){do Bh();while(Nd!==null);if(lr&6)throw Error(ze(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ze(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(_ee(e,i),e===ls&&(Dn=ls=null,Es=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ny||(Ny=!0,$B(K1,function(){return Bh(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Wi.transition,Wi.transition=null;var o=Cr;Cr=1;var l=lr;lr|=4,OT.current=null,Lte(e,r),TB(r,e),dte(bC),Y1=!!yC,bC=yC=null,e.current=r,$te(r),pee(),lr=l,Cr=o,Wi.transition=i}else e.current=r;if(Ny&&(Ny=!1,Nd=e,fb=a),i=e.pendingLanes,i===0&&(Id=null),vee(r.stateNode),Oa(e,Cn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ub)throw ub=!1,e=BC,BC=null,e;return fb&1&&e.tag!==0&&Bh(),i=e.pendingLanes,i&1?e===UC?Qx++:(Qx=0,UC=e):Qx=0,au(),null}function Bh(){if(Nd!==null){var e=x8(fb),t=Wi.transition,r=Cr;try{if(Wi.transition=null,Cr=16>e?16:e,Nd===null)var n=!1;else{if(e=Nd,Nd=null,fb=0,lr&6)throw Error(ze(331));var a=lr;for(lr|=4,pt=e.current;pt!==null;){var i=pt,o=i.child;if(pt.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(pt=d;pt!==null;){var u=pt;switch(u.tag){case 0:case 11:case 15:Xx(8,u,i)}var f=u.child;if(f!==null)f.return=u,pt=f;else for(;pt!==null;){u=pt;var h=u.sibling,m=u.return;if(EB(u),u===d){pt=null;break}if(h!==null){h.return=m,pt=h;break}pt=m}}}var x=i.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}pt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,pt=o;else e:for(;pt!==null;){if(i=pt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xx(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,pt=b;break e}pt=i.return}}var y=e.current;for(pt=y;pt!==null;){o=pt;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,pt=j;else e:for(o=y;pt!==null;){if(l=pt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ij(9,l)}}catch(N){hn(l,l.return,N)}if(l===o){pt=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,pt=w;break e}pt=l.return}}if(lr=a,au(),Nl&&typeof Nl.onPostCommitFiberRoot=="function")try{Nl.onPostCommitFiberRoot(Cj,e)}catch{}n=!0}return n}finally{Cr=r,Wi.transition=t}}return!1}function FI(e,t,r){t=bm(r,t),t=xB(e,t,1),e=Dd(e,t,1),t=fa(),e!==null&&(n0(e,1,t),Oa(e,t))}function hn(e,t,r){if(e.tag===3)FI(e,e,r);else for(;t!==null;){if(t.tag===3){FI(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Id===null||!Id.has(n))){e=bm(r,e),e=gB(t,e,1),t=Dd(t,e,1),e=fa(),t!==null&&(n0(t,1,e),Oa(t,e));break}}t=t.return}}function Hte(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=fa(),e.pingedLanes|=e.suspendedLanes&r,ls===e&&(Es&r)===r&&(Kn===4||Kn===3&&(Es&130023424)===Es&&500>Cn()-IT?Ju(e,0):DT|=r),Oa(e,t)}function FB(e,t){t===0&&(e.mode&1?(t=hy,hy<<=1,!(hy&130023424)&&(hy=4194304)):t=1);var r=fa();e=Cc(e,t),e!==null&&(n0(e,t,r),Oa(e,r))}function Gte(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),FB(e,r)}function qte(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ze(314))}n!==null&&n.delete(t),FB(e,r)}var LB;LB=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ta.current)Ca=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ca=!1,Ite(e,t,r);Ca=!!(e.flags&131072)}else Ca=!1,Jr&&t.flags&1048576&&V8(t,nb,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;S1(e,t),e=t.pendingProps;var a=xm(t,Ks.current);$h(t,r),a=ET(null,t,n,e,a,r);var i=AT();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ka(n)?(i=!0,tb(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,jT(t),a.updater=Dj,t.stateNode=a,a._reactInternals=t,PC(t,n,e,r),t=OC(null,t,n,!0,i,r)):(t.tag=0,Jr&&i&&pT(t),ra(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(S1(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Xte(n),e=go(n,e),a){case 0:t=kC(null,t,n,e,r);break e;case 1:t=EI(null,t,n,e,r);break e;case 11:t=SI(null,t,n,e,r);break e;case 14:t=CI(null,t,n,go(n.type,e),r);break e}throw Error(ze(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:go(n,a),kC(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:go(n,a),EI(e,t,n,a,r);case 3:e:{if(wB(t),e===null)throw Error(ze(387));n=t.pendingProps,i=t.memoizedState,a=i.element,K8(e,t),ib(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=bm(Error(ze(423)),t),t=AI(e,t,n,r,a);break e}else if(n!==a){a=bm(Error(ze(424)),t),t=AI(e,t,n,r,a);break e}else for(li=Od(t.stateNode.containerInfo.firstChild),di=t,Jr=!0,jo=null,r=G8(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gm(),n===a){t=Ec(e,t,r);break e}ra(e,t,n,r)}t=t.child}return t;case 5:return X8(t),e===null&&CC(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,wC(n,a)?o=null:i!==null&&wC(n,i)&&(t.flags|=32),bB(e,t),ra(e,t,o,r),t.child;case 6:return e===null&&CC(t),null;case 13:return jB(e,t,r);case 4:return NT(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=vm(t,null,n,r):ra(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:go(n,a),SI(e,t,n,a,r);case 7:return ra(e,t,t.pendingProps,r),t.child;case 8:return ra(e,t,t.pendingProps.children,r),t.child;case 12:return ra(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,$r(sb,n._currentValue),n._currentValue=o,i!==null)if(Lo(i.value,o)){if(i.children===a.children&&!Ta.current){t=Ec(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=pc(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),EC(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ze(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),EC(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ra(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,$h(t,r),a=Xi(a),n=n(a),t.flags|=1,ra(e,t,n,r),t.child;case 14:return n=t.type,a=go(n,t.pendingProps),a=go(n.type,a),CI(e,t,n,a,r);case 15:return vB(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:go(n,a),S1(e,t),t.tag=1,ka(n)?(e=!0,tb(t)):e=!1,$h(t,r),pB(t,n,a),PC(t,n,a,r),OC(null,t,n,!0,e,r);case 19:return NB(e,t,r);case 22:return yB(e,t,r)}throw Error(ze(156,t.tag))};function $B(e,t){return f8(e,t)}function Kte(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bi(e,t,r,n){return new Kte(e,t,r,n)}function LT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xte(e){if(typeof e=="function")return LT(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nT)return 11;if(e===sT)return 14}return 2}function Md(e,t){var r=e.alternate;return r===null?(r=Bi(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function A1(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")LT(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case yh:return ef(r.children,a,i,t);case rT:o=8,a|=8;break;case JS:return e=Bi(12,r,t,a|2),e.elementType=JS,e.lanes=i,e;case eC:return e=Bi(13,r,t,a),e.elementType=eC,e.lanes=i,e;case tC:return e=Bi(19,r,t,a),e.elementType=tC,e.lanes=i,e;case X6:return Mj(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q6:o=10;break e;case K6:o=9;break e;case nT:o=11;break e;case sT:o=14;break e;case sd:o=16,n=null;break e}throw Error(ze(130,e==null?e:typeof e,""))}return t=Bi(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function ef(e,t,r,n){return e=Bi(7,e,n,t),e.lanes=r,e}function Mj(e,t,r,n){return e=Bi(22,e,n,t),e.elementType=X6,e.lanes=r,e.stateNode={isHidden:!1},e}function p2(e,t,r){return e=Bi(6,e,null,t),e.lanes=r,e}function x2(e,t,r){return t=Bi(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yte(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Y_(0),this.expirationTimes=Y_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Y_(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function $T(e,t,r,n,a,i,o,l,c){return e=new Yte(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Bi(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jT(i),e}function Qte(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vh,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function BB(e){if(!e)return Wd;e=e._reactInternals;e:{if(Rf(e)!==e||e.tag!==1)throw Error(ze(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ka(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ze(171))}if(e.tag===1){var r=e.type;if(ka(r))return B8(e,r,t)}return t}function UB(e,t,r,n,a,i,o,l,c){return e=$T(r,n,!0,e,a,i,o,l,c),e.context=BB(null),r=e.current,n=fa(),a=Rd(r),i=pc(n,a),i.callback=t??null,Dd(r,i,a),e.current.lanes=a,n0(e,a,n),Oa(e,n),e}function Fj(e,t,r,n){var a=t.current,i=fa(),o=Rd(a);return r=BB(r),t.context===null?t.context=r:t.pendingContext=r,t=pc(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Dd(a,t,o),e!==null&&(Oo(e,a,o,i),j1(e,a,o)),o}function mb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function LI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function BT(e,t){LI(e,t),(e=e.alternate)&&LI(e,t)}function Zte(){return null}var VB=typeof reportError=="function"?reportError:function(e){console.error(e)};function UT(e){this._internalRoot=e}Lj.prototype.render=UT.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ze(409));Fj(e,t,null,null)};Lj.prototype.unmount=UT.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;uf(function(){Fj(null,e,null,null)}),t[Sc]=null}};function Lj(e){this._internalRoot=e}Lj.prototype.unstable_scheduleHydration=function(e){if(e){var t=y8();e={blockedOn:null,target:e,priority:t};for(var r=0;r<cd.length&&t!==0&&t<cd[r].priority;r++);cd.splice(r,0,e),r===0&&w8(e)}};function VT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $j(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $I(){}function Jte(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=mb(o);i.call(d)}}var o=UB(t,n,e,0,null,!1,!1,"",$I);return e._reactRootContainer=o,e[Sc]=o.current,Ag(e.nodeType===8?e.parentNode:e),uf(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=mb(c);l.call(d)}}var c=$T(e,0,!1,null,null,!1,!1,"",$I);return e._reactRootContainer=c,e[Sc]=c.current,Ag(e.nodeType===8?e.parentNode:e),uf(function(){Fj(t,c,r,n)}),c}function Bj(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=mb(o);l.call(c)}}Fj(t,o,e,a)}else o=Jte(r,t,e,a,n);return mb(o)}g8=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Dx(t.pendingLanes);r!==0&&(oT(t,r|1),Oa(t,Cn()),!(lr&6)&&(wm=Cn()+500,au()))}break;case 13:uf(function(){var n=Cc(e,1);if(n!==null){var a=fa();Oo(n,e,1,a)}}),BT(e,1)}};lT=function(e){if(e.tag===13){var t=Cc(e,134217728);if(t!==null){var r=fa();Oo(t,e,134217728,r)}BT(e,134217728)}};v8=function(e){if(e.tag===13){var t=Rd(e),r=Cc(e,t);if(r!==null){var n=fa();Oo(r,e,t,n)}BT(e,t)}};y8=function(){return Cr};b8=function(e,t){var r=Cr;try{return Cr=e,t()}finally{Cr=r}};uC=function(e,t,r){switch(t){case"input":if(sC(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Tj(n);if(!a)throw Error(ze(90));Q6(n),sC(n,a)}}}break;case"textarea":J6(e,r);break;case"select":t=r.value,t!=null&&Rh(e,!!r.multiple,t,!1)}};i8=RT;o8=uf;var ere={usingClientEntryPoint:!1,Events:[a0,Nh,Tj,s8,a8,RT]},ix={findFiberByHostInstance:Iu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tre={bundleType:ix.bundleType,version:ix.version,rendererPackageName:ix.rendererPackageName,rendererConfig:ix.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Uc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=d8(e),e===null?null:e.stateNode},findFiberByHostInstance:ix.findFiberByHostInstance||Zte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _y=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_y.isDisabled&&_y.supportsFiber)try{Cj=_y.inject(tre),Nl=_y}catch{}}bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ere;bi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!VT(t))throw Error(ze(200));return Qte(e,t,null,r)};bi.createRoot=function(e,t){if(!VT(e))throw Error(ze(299));var r=!1,n="",a=VB;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=$T(e,1,!1,null,null,r,!1,n,a),e[Sc]=t.current,Ag(e.nodeType===8?e.parentNode:e),new UT(t)};bi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ze(188)):(e=Object.keys(e).join(","),Error(ze(268,e)));return e=d8(t),e=e===null?null:e.stateNode,e};bi.flushSync=function(e){return uf(e)};bi.hydrate=function(e,t,r){if(!$j(t))throw Error(ze(200));return Bj(null,e,t,!0,r)};bi.hydrateRoot=function(e,t,r){if(!VT(e))throw Error(ze(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=VB;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=UB(t,null,e,1,r??null,a,!1,i,o),e[Sc]=t.current,Ag(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Lj(t)};bi.render=function(e,t,r){if(!$j(t))throw Error(ze(200));return Bj(null,e,t,!1,r)};bi.unmountComponentAtNode=function(e){if(!$j(e))throw Error(ze(40));return e._reactRootContainer?(uf(function(){Bj(null,null,e,!1,function(){e._reactRootContainer=null,e[Sc]=null})}),!0):!1};bi.unstable_batchedUpdates=RT;bi.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!$j(r))throw Error(ze(200));if(e==null||e._reactInternals===void 0)throw Error(ze(38));return Bj(e,t,r,!1,n)};bi.version="18.3.1-next-f1338f8080-20240426";function zB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zB)}catch(e){console.error(e)}}zB(),z6.exports=bi;var no=z6.exports;const Uj=br(no);var WB,BI=no;WB=BI.createRoot,BI.hydrateRoot;const rre=1,nre=1e6;let g2=0;function sre(){return g2=(g2+1)%Number.MAX_SAFE_INTEGER,g2.toString()}const v2=new Map,UI=e=>{if(v2.has(e))return;const t=setTimeout(()=>{v2.delete(e),Zx({type:"REMOVE_TOAST",toastId:e})},nre);v2.set(e,t)},are=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,rre)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?UI(r):e.toasts.forEach(n=>{UI(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},P1=[];let T1={toasts:[]};function Zx(e){T1=are(T1,e),P1.forEach(t=>{t(T1)})}function ire({...e}){const t=sre(),r=a=>Zx({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Zx({type:"DISMISS_TOAST",toastId:t});return Zx({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function pr(){const[e,t]=v.useState(T1);return v.useEffect(()=>(P1.push(t),()=>{const r=P1.indexOf(t);r>-1&&P1.splice(r,1)}),[e]),{...e,toast:ire,dismiss:r=>Zx({type:"DISMISS_TOAST",toastId:r})}}function Ue(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function ore(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Vj(...e){return t=>e.forEach(r=>ore(r,t))}function Ft(...e){return v.useCallback(Vj(...e),e)}function lre(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:h,children:m,...x}=f,p=(h==null?void 0:h[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return s.jsx(p.Provider,{value:g,children:m})}function u(f,h){const m=(h==null?void 0:h[e][c])||l,x=v.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,cre(a,...t)]}function cre(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Tl=v.forwardRef((e,t)=>{const{children:r,...n}=e,a=v.Children.toArray(r),i=a.find(dre);if(i){const o=i.props.children,l=a.map(c=>c===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return s.jsx(WC,{...n,ref:t,children:v.isValidElement(o)?v.cloneElement(o,void 0,l):null})}return s.jsx(WC,{...n,ref:t,children:r})});Tl.displayName="Slot";var WC=v.forwardRef((e,t)=>{const{children:r,...n}=e;if(v.isValidElement(r)){const a=fre(r);return v.cloneElement(r,{...ure(n,r.props),ref:t?Vj(t,a):a})}return v.Children.count(r)>1?v.Children.only(null):null});WC.displayName="SlotClone";var zT=({children:e})=>s.jsx(s.Fragment,{children:e});function dre(e){return v.isValidElement(e)&&e.type===zT}function ure(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function fre(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function zj(e){const t=e+"CollectionProvider",[r,n]=lre(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:x,children:p}=m,g=B.useRef(null),b=B.useRef(new Map).current;return s.jsx(a,{scope:x,itemMap:b,collectionRef:g,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=B.forwardRef((m,x)=>{const{scope:p,children:g}=m,b=i(l,p),y=Ft(x,b.collectionRef);return s.jsx(Tl,{ref:y,children:g})});c.displayName=l;const d=e+"CollectionItemSlot",u="data-radix-collection-item",f=B.forwardRef((m,x)=>{const{scope:p,children:g,...b}=m,y=B.useRef(null),j=Ft(x,y),w=i(d,p);return B.useEffect(()=>(w.itemMap.set(y,{ref:y,...b}),()=>void w.itemMap.delete(y))),s.jsx(Tl,{[u]:"",ref:j,children:g})});f.displayName=d;function h(m){const x=i(e+"CollectionConsumer",m);return B.useCallback(()=>{const g=x.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${u}]`));return Array.from(x.itemMap.values()).sort((w,N)=>b.indexOf(w.ref.current)-b.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},h,n]}function hre(e,t){const r=v.createContext(t),n=i=>{const{children:o,...l}=i,c=v.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function ya(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];const d=f=>{var b;const{scope:h,children:m,...x}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,g=v.useMemo(()=>x,Object.values(x));return s.jsx(p.Provider,{value:g,children:m})};d.displayName=i+"Provider";function u(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,x=v.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,mre(a,...t)]}function mre(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var pre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],gt=pre.reduce((e,t)=>{const r=v.forwardRef((n,a)=>{const{asChild:i,...o}=n,l=i?Tl:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function WT(e,t){e&&no.flushSync(()=>e.dispatchEvent(t))}function en(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function xre(e,t=globalThis==null?void 0:globalThis.document){const r=en(e);v.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var gre="DismissableLayer",HC="dismissableLayer.update",vre="dismissableLayer.pointerDownOutside",yre="dismissableLayer.focusOutside",VI,HB=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mf=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=v.useContext(HB),[u,f]=v.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),x=Ft(t,C=>f(C)),p=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(g),y=u?p.indexOf(u):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,w=y>=b,N=wre(C=>{const S=C.target,E=[...d.branches].some(P=>P.contains(S));!w||E||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},h),_=jre(C=>{const S=C.target;[...d.branches].some(P=>P.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},h);return xre(C=>{y===d.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),v.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(VI=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),zI(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=VI)}},[u,h,r,d]),v.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),zI())},[u,d]),v.useEffect(()=>{const C=()=>m({});return document.addEventListener(HC,C),()=>document.removeEventListener(HC,C)},[]),s.jsx(gt.div,{...c,ref:x,style:{pointerEvents:j?w?"auto":"none":void 0,...e.style},onFocusCapture:Ue(e.onFocusCapture,_.onFocusCapture),onBlurCapture:Ue(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Ue(e.onPointerDownCapture,N.onPointerDownCapture)})});Mf.displayName=gre;var bre="DismissableLayerBranch",GB=v.forwardRef((e,t)=>{const r=v.useContext(HB),n=v.useRef(null),a=Ft(t,n);return v.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(gt.div,{...e,ref:a})});GB.displayName=bre;function wre(e,t=globalThis==null?void 0:globalThis.document){const r=en(e),n=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){qB(vre,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function jre(e,t=globalThis==null?void 0:globalThis.document){const r=en(e),n=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!n.current&&qB(yre,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function zI(){const e=new CustomEvent(HC);document.dispatchEvent(e)}function qB(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?WT(a,i):a.dispatchEvent(i)}var Nre=Mf,_re=GB,Qn=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},Sre="Portal",fp=v.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=v.useState(!1);Qn(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Uj.createPortal(s.jsx(gt.div,{...n,ref:t}),o):null});fp.displayName=Sre;function Cre(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var Jn=e=>{const{present:t,children:r}=e,n=Ere(t),a=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),i=Ft(n.ref,Are(a));return typeof r=="function"||n.isPresent?v.cloneElement(a,{ref:i}):null};Jn.displayName="Presence";function Ere(e){const[t,r]=v.useState(),n=v.useRef({}),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Cre(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=Sy(n.current);i.current=l==="mounted"?d:"none"},[l]),Qn(()=>{const d=n.current,u=a.current;if(u!==e){const h=i.current,m=Sy(d);e?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Qn(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=m=>{const p=Sy(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=m=>{m.target===t&&(i.current=Sy(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function Sy(e){return(e==null?void 0:e.animationName)||"none"}function Are(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Qi({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=Pre({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=en(r),c=v.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else a(d)},[i,e,a,l]);return[o,c]}function Pre({defaultProp:e,onChange:t}){const r=v.useState(e),[n]=r,a=v.useRef(n),i=en(t);return v.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}var Tre="VisuallyHidden",o0=v.forwardRef((e,t)=>s.jsx(gt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));o0.displayName=Tre;var kre=o0,HT="ToastProvider",[GT,Ore,Dre]=zj("Toast"),[KB,wJe]=ya("Toast",[Dre]),[Ire,Wj]=KB(HT),XB=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=v.useState(null),[d,u]=v.useState(0),f=v.useRef(!1),h=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${HT}\`. Expected non-empty \`string\`.`),s.jsx(GT.Provider,{scope:t,children:s.jsx(Ire,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>u(m=>m+1),[]),onToastRemove:v.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};XB.displayName=HT;var YB="ToastViewport",Rre=["F8"],GC="toast.viewportPause",qC="toast.viewportResume",QB=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Rre,label:a="Notifications ({hotkey})",...i}=e,o=Wj(YB,r),l=Ore(r),c=v.useRef(null),d=v.useRef(null),u=v.useRef(null),f=v.useRef(null),h=Ft(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;v.useEffect(()=>{const g=b=>{var j;n.length!==0&&n.every(w=>b[w]||b.code===w)&&((j=f.current)==null||j.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),v.useEffect(()=>{const g=c.current,b=f.current;if(x&&g&&b){const y=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(GC);b.dispatchEvent(_),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(qC);b.dispatchEvent(_),o.isClosePausedRef.current=!1}},w=_=>{!g.contains(_.relatedTarget)&&j()},N=()=>{g.contains(document.activeElement)||j()};return g.addEventListener("focusin",y),g.addEventListener("focusout",w),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",j),()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",w),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",j)}}},[x,o.isClosePausedRef]);const p=v.useCallback(({tabbingDirection:g})=>{const y=l().map(j=>{const w=j.ref.current,N=[w,...Kre(w)];return g==="forwards"?N:N.reverse()});return(g==="forwards"?y.reverse():y).flat()},[l]);return v.useEffect(()=>{const g=f.current;if(g){const b=y=>{var N,_,C;const j=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!j){const S=document.activeElement,E=y.shiftKey;if(y.target===g&&E){(N=d.current)==null||N.focus();return}const D=p({tabbingDirection:E?"backwards":"forwards"}),U=D.findIndex(F=>F===S);y2(D.slice(U+1))?y.preventDefault():E?(_=d.current)==null||_.focus():(C=u.current)==null||C.focus()}};return g.addEventListener("keydown",b),()=>g.removeEventListener("keydown",b)}},[l,p]),s.jsxs(_re,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(KC,{ref:d,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"forwards"});y2(g)}}),s.jsx(GT.Slot,{scope:r,children:s.jsx(gt.ol,{tabIndex:-1,...i,ref:h})}),x&&s.jsx(KC,{ref:u,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"backwards"});y2(g)}})]})});QB.displayName=YB;var ZB="ToastFocusProxy",KC=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=Wj(ZB,r);return s.jsx(o0,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});KC.displayName=ZB;var Hj="Toast",Mre="toast.swipeStart",Fre="toast.swipeMove",Lre="toast.swipeCancel",$re="toast.swipeEnd",JB=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=Qi({prop:n,defaultProp:a,onChange:i});return s.jsx(Jn,{present:r||l,children:s.jsx(Vre,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:en(e.onPause),onResume:en(e.onResume),onSwipeStart:Ue(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ue(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ue(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ue(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});JB.displayName=Hj;var[Bre,Ure]=KB(Hj,{onClose(){}}),Vre=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...x}=e,p=Wj(Hj,r),[g,b]=v.useState(null),y=Ft(t,F=>b(F)),j=v.useRef(null),w=v.useRef(null),N=a||p.duration,_=v.useRef(0),C=v.useRef(N),S=v.useRef(0),{onToastAdd:E,onToastRemove:P}=p,I=en(()=>{var M;(g==null?void 0:g.contains(document.activeElement))&&((M=p.viewport)==null||M.focus()),o()}),D=v.useCallback(F=>{!F||F===1/0||(window.clearTimeout(S.current),_.current=new Date().getTime(),S.current=window.setTimeout(I,F))},[I]);v.useEffect(()=>{const F=p.viewport;if(F){const M=()=>{D(C.current),d==null||d()},O=()=>{const A=new Date().getTime()-_.current;C.current=C.current-A,window.clearTimeout(S.current),c==null||c()};return F.addEventListener(GC,O),F.addEventListener(qC,M),()=>{F.removeEventListener(GC,O),F.removeEventListener(qC,M)}}},[p.viewport,N,c,d,D]),v.useEffect(()=>{i&&!p.isClosePausedRef.current&&D(N)},[i,N,p.isClosePausedRef,D]),v.useEffect(()=>(E(),()=>P()),[E,P]);const U=v.useMemo(()=>g?i9(g):null,[g]);return p.viewport?s.jsxs(s.Fragment,{children:[U&&s.jsx(zre,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),s.jsx(Bre,{scope:r,onClose:I,children:no.createPortal(s.jsx(GT.ItemSlot,{scope:r,children:s.jsx(Nre,{asChild:!0,onEscapeKeyDown:Ue(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||I(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(gt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ue(e.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Ue(e.onPointerDown,F=>{F.button===0&&(j.current={x:F.clientX,y:F.clientY})}),onPointerMove:Ue(e.onPointerMove,F=>{if(!j.current)return;const M=F.clientX-j.current.x,O=F.clientY-j.current.y,A=!!w.current,k=["left","right"].includes(p.swipeDirection),W=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,fe=k?W(0,M):0,de=k?0:W(0,O),T=F.pointerType==="touch"?10:2,L={x:fe,y:de},R={originalEvent:F,delta:L};A?(w.current=L,Cy(Fre,f,R,{discrete:!1})):WI(L,p.swipeDirection,T)?(w.current=L,Cy(Mre,u,R,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(M)>T||Math.abs(O)>T)&&(j.current=null)}),onPointerUp:Ue(e.onPointerUp,F=>{const M=w.current,O=F.target;if(O.hasPointerCapture(F.pointerId)&&O.releasePointerCapture(F.pointerId),w.current=null,j.current=null,M){const A=F.currentTarget,k={originalEvent:F,delta:M};WI(M,p.swipeDirection,p.swipeThreshold)?Cy($re,m,k,{discrete:!0}):Cy(Lre,h,k,{discrete:!0}),A.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),zre=e=>{const{__scopeToast:t,children:r,...n}=e,a=Wj(Hj,t),[i,o]=v.useState(!1),[l,c]=v.useState(!1);return Gre(()=>o(!0)),v.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(fp,{asChild:!0,children:s.jsx(o0,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},Wre="ToastTitle",e9=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(gt.div,{...n,ref:t})});e9.displayName=Wre;var Hre="ToastDescription",t9=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(gt.div,{...n,ref:t})});t9.displayName=Hre;var r9="ToastAction",n9=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(a9,{altText:r,asChild:!0,children:s.jsx(qT,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${r9}\`. Expected non-empty \`string\`.`),null)});n9.displayName=r9;var s9="ToastClose",qT=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=Ure(s9,r);return s.jsx(a9,{asChild:!0,children:s.jsx(gt.button,{type:"button",...n,ref:t,onClick:Ue(e.onClick,a.onClose)})})});qT.displayName=s9;var a9=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(gt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function i9(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),qre(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...i9(n))}}),t}function Cy(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?WT(a,i):a.dispatchEvent(i)}var WI=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function Gre(e=()=>{}){const t=en(e);Qn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function qre(e){return e.nodeType===e.ELEMENT_NODE}function Kre(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function y2(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Xre=XB,o9=QB,l9=JB,c9=e9,d9=t9,u9=n9,f9=qT;function h9(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=h9(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Lt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=h9(e))&&(n&&(n+=" "),n+=t);return n}const HI=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,GI=Lt,hp=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return GI(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],f=i==null?void 0:i[d];if(u===null)return null;const h=HI(u)||HI(f);return a[d][h]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,h]=u;return h===void 0||(d[f]=h),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:f,className:h,...m}=u;return Object.entries(m).every(x=>{let[p,g]=x;return Array.isArray(g)?g.includes({...i,...l}[p]):{...i,...l}[p]===g})?[...d,f,h]:d},[]);return GI(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m9=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zre=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...Qre,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:m9("lucide",a),...l},[...o.map(([d,u])=>v.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(e,t)=>{const r=v.forwardRef(({className:n,...a},i)=>v.createElement(Zre,{ref:i,iconNode:t,className:m9(`lucide-${Yre(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=Be("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=Be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=Be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=Be("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=Be("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=Be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Be("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=Be("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=Be("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=Be("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=Be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=Be("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=Be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=Be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=Be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=Be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=Be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=Be("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=Be("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=Be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=Be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=Be("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rne=Be("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=Be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=Be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=Be("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=Be("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=Be("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=Be("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=Be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=Be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=Be("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=Be("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=Be("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=Be("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=Be("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=Be("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=Be("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=Be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=Be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=Be("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=Be("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lne=Be("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=Be("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=Be("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=Be("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=Be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=Be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dne=Be("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=Be("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const une=Be("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=Be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fne=Be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Be("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hne=Be("MapPinned",[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mne=Be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pne=Be("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=Be("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xne=Be("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=Be("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=Be("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=Be("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yne=Be("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=Be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=Be("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=Be("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=Be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=Be("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=Be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=Be("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=Be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bne=Be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=Be("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Be("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wne=Be("Sofa",[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=Be("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=Be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=Be("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=Be("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=Be("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=Be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=Be("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=Be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=Be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Be("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=Be("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=Be("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=Be("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nne=Be("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=Be("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sne=Be("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=Be("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=Be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ene=Be("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),YT="-",Ane=e=>{const t=Tne(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(YT);return l[0]===""&&l.length!==1&&l.shift(),E9(l,t)||Pne(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},E9=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?E9(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(YT);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},ZI=/^\[(.+)\]$/,Pne=e=>{if(ZI.test(e)){const t=ZI.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Tne=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return One(Object.entries(e.classGroups),r).forEach(([i,o])=>{XC(o,n,i,t)}),n},XC=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:JI(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(kne(a)){XC(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{XC(o,JI(t,i),r,n)})})},JI=(e,t)=>{let r=e;return t.split(YT).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},kne=e=>e.isThemeGetter,One=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,Dne=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},A9="!",Ine=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let g=0;g<l.length;g++){let b=l[g];if(d===0){if(b===a&&(n||l.slice(g,g+i)===t)){c.push(l.slice(u,g)),u=g+i;continue}if(b==="/"){f=g;continue}}b==="["?d++:b==="]"&&d--}const h=c.length===0?l:l.substring(u),m=h.startsWith(A9),x=m?h.substring(1):h,p=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},Rne=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Mne=e=>({cache:Dne(e.cacheSize),parseClassName:Ine(e),...Ane(e)}),Fne=/\s+/,Lne=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(Fne);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(d);let x=!!m,p=n(x?h.substring(0,m):h);if(!p){if(!x){l=d+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=d+(l.length>0?" "+l:l);continue}x=!1}const g=Rne(u).join(":"),b=f?g+A9:g,y=b+p;if(i.includes(y))continue;i.push(y);const j=a(p,x);for(let w=0;w<j.length;++w){const N=j[w];i.push(b+N)}l=d+(l.length>0?" "+l:l)}return l};function $ne(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=P9(t))&&(n&&(n+=" "),n+=r);return n}const P9=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=P9(e[n]))&&(r&&(r+=" "),r+=t);return r};function Bne(e,...t){let r,n,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return r=Mne(d),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=Lne(c,r);return a(c,u),u}return function(){return i($ne.apply(null,arguments))}}const Hr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},T9=/^\[(?:([a-z-]+):)?(.+)\]$/i,Une=/^\d+\/\d+$/,Vne=new Set(["px","full","screen"]),zne=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Wne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Hne=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Gne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Kl=e=>Vh(e)||Vne.has(e)||Une.test(e),Yc=e=>mp(e,"length",tse),Vh=e=>!!e&&!Number.isNaN(Number(e)),b2=e=>mp(e,"number",Vh),ox=e=>!!e&&Number.isInteger(Number(e)),Kne=e=>e.endsWith("%")&&Vh(e.slice(0,-1)),Wt=e=>T9.test(e),Qc=e=>zne.test(e),Xne=new Set(["length","size","percentage"]),Yne=e=>mp(e,Xne,k9),Qne=e=>mp(e,"position",k9),Zne=new Set(["image","url"]),Jne=e=>mp(e,Zne,nse),ese=e=>mp(e,"",rse),lx=()=>!0,mp=(e,t,r)=>{const n=T9.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},tse=e=>Wne.test(e)&&!Hne.test(e),k9=()=>!1,rse=e=>Gne.test(e),nse=e=>qne.test(e),sse=()=>{const e=Hr("colors"),t=Hr("spacing"),r=Hr("blur"),n=Hr("brightness"),a=Hr("borderColor"),i=Hr("borderRadius"),o=Hr("borderSpacing"),l=Hr("borderWidth"),c=Hr("contrast"),d=Hr("grayscale"),u=Hr("hueRotate"),f=Hr("invert"),h=Hr("gap"),m=Hr("gradientColorStops"),x=Hr("gradientColorStopPositions"),p=Hr("inset"),g=Hr("margin"),b=Hr("opacity"),y=Hr("padding"),j=Hr("saturate"),w=Hr("scale"),N=Hr("sepia"),_=Hr("skew"),C=Hr("space"),S=Hr("translate"),E=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",Wt,t],D=()=>[Wt,t],U=()=>["",Kl,Yc],F=()=>["auto",Vh,Wt],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],A=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",Wt],fe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],de=()=>[Vh,Wt];return{cacheSize:500,separator:":",theme:{colors:[lx],spacing:[Kl,Yc],blur:["none","",Qc,Wt],brightness:de(),borderColor:[e],borderRadius:["none","","full",Qc,Wt],borderSpacing:D(),borderWidth:U(),contrast:de(),grayscale:W(),hueRotate:de(),invert:W(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[Kne,Yc],inset:I(),margin:I(),opacity:de(),padding:D(),saturate:de(),scale:de(),sepia:W(),skew:de(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Wt]}],container:["container"],columns:[{columns:[Qc]}],"break-after":[{"break-after":fe()}],"break-before":[{"break-before":fe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),Wt]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ox,Wt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Wt]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",ox,Wt]}],"grid-cols":[{"grid-cols":[lx]}],"col-start-end":[{col:["auto",{span:["full",ox,Wt]},Wt]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[lx]}],"row-start-end":[{row:["auto",{span:[ox,Wt]},Wt]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Wt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Wt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Wt,t]}],"min-w":[{"min-w":[Wt,t,"min","max","fit"]}],"max-w":[{"max-w":[Wt,t,"none","full","min","max","fit","prose",{screen:[Qc]},Qc]}],h:[{h:[Wt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Wt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Wt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Wt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Qc,Yc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",b2]}],"font-family":[{font:[lx]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Wt]}],"line-clamp":[{"line-clamp":["none",Vh,b2]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Kl,Wt]}],"list-image":[{"list-image":["none",Wt]}],"list-style-type":[{list:["none","disc","decimal",Wt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Kl,Yc]}],"underline-offset":[{"underline-offset":["auto",Kl,Wt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Wt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Wt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),Qne]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Yne]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Jne]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:O()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[Kl,Wt]}],"outline-w":[{outline:[Kl,Yc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Kl,Yc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Qc,ese]}],"shadow-color":[{shadow:[lx]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...A(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":A()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Qc,Wt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[j]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Wt]}],duration:[{duration:de()}],ease:[{ease:["linear","in","out","in-out",Wt]}],delay:[{delay:de()}],animate:[{animate:["none","spin","ping","pulse","bounce",Wt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[ox,Wt]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Wt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Wt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Wt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Kl,Yc,b2]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ase=Bne(sse);function pe(...e){return ase(Lt(e))}const ise=Xre,O9=v.forwardRef(({className:e,...t},r)=>s.jsx(o9,{ref:r,className:pe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));O9.displayName=o9.displayName;const ose=hp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),D9=v.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(l9,{ref:n,className:pe(ose({variant:t}),e),...r}));D9.displayName=l9.displayName;const lse=v.forwardRef(({className:e,...t},r)=>s.jsx(u9,{ref:r,className:pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));lse.displayName=u9.displayName;const I9=v.forwardRef(({className:e,...t},r)=>s.jsx(f9,{ref:r,className:pe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Bs,{className:"h-4 w-4"})}));I9.displayName=f9.displayName;const R9=v.forwardRef(({className:e,...t},r)=>s.jsx(c9,{ref:r,className:pe("text-sm font-semibold",e),...t}));R9.displayName=c9.displayName;const M9=v.forwardRef(({className:e,...t},r)=>s.jsx(d9,{ref:r,className:pe("text-sm opacity-90",e),...t}));M9.displayName=d9.displayName;function cse(){const{toasts:e}=pr();return s.jsxs(ise,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(D9,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(R9,{children:r}),n&&s.jsx(M9,{children:n})]}),a,s.jsx(I9,{})]},t)}),s.jsx(O9,{})]})}var gb=["light","dark"],QT="(prefers-color-scheme: dark)",dse=typeof window>"u",ZT=v.createContext(void 0),use={setTheme:e=>{},themes:[]},pp=()=>{var e;return(e=v.useContext(ZT))!=null?e:use},fse=e=>v.useContext(ZT)?e.children:v.createElement(mse,{...e}),hse=["light","dark"],mse=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:i=hse,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:d,nonce:u})=>{let[f,h]=v.useState(()=>eR(a,o)),[m,x]=v.useState(()=>eR(a)),p=c?Object.values(c):i,g=v.useCallback(w=>{let N=w;if(!N)return;w==="system"&&r&&(N=tR());let _=c?c[N]:N,C=t?xse():null,S=document.documentElement;if(l==="class"?(S.classList.remove(...p),_&&S.classList.add(_)):_?S.setAttribute(l,_):S.removeAttribute(l),n){let E=gb.includes(o)?o:null,P=gb.includes(N)?N:E;S.style.colorScheme=P}C==null||C()},[]),b=v.useCallback(w=>{let N=typeof w=="function"?w(w):w;h(N);try{localStorage.setItem(a,N)}catch{}},[e]),y=v.useCallback(w=>{let N=tR(w);x(N),f==="system"&&r&&!e&&g("system")},[f,e]);v.useEffect(()=>{let w=window.matchMedia(QT);return w.addListener(y),y(w),()=>w.removeListener(y)},[y]),v.useEffect(()=>{let w=N=>{if(N.key!==a)return;let _=N.newValue||o;b(_)};return window.addEventListener("storage",w),()=>window.removeEventListener("storage",w)},[b]),v.useEffect(()=>{g(e??f)},[e,f]);let j=v.useMemo(()=>({theme:f,setTheme:b,forcedTheme:e,resolvedTheme:f==="system"?m:f,themes:r?[...i,"system"]:i,systemTheme:r?m:void 0}),[f,b,e,m,r,i]);return v.createElement(ZT.Provider,{value:j},v.createElement(pse,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:i,defaultTheme:o,attribute:l,value:c,children:d,attrs:p,nonce:u}),d)},pse=v.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?gb.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(x,p=!1,g=!0)=>{let b=o?o[x]:x,y=p?x+"|| ''":`'${b}'`,j="";return a&&g&&!p&&gb.includes(x)&&(j+=`d.style.colorScheme = '${x}';`),r==="class"?p||b?j+=`c.add(${y})`:j+="null":b&&(j+=`d[s](n,${y})`),j},m=e?`!function(){${u}${h(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${QT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${d?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})}),eR=(e,t)=>{if(dse)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},xse=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},tR=e=>(e||(e=window.matchMedia(QT)),e.matches?"dark":"light"),gse=e=>{switch(e){case"success":return bse;case"info":return jse;case"warning":return wse;case"error":return Nse;default:return null}},vse=Array(12).fill(0),yse=({visible:e})=>B.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},B.createElement("div",{className:"sonner-spinner"},vse.map((t,r)=>B.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),bse=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),wse=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),jse=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Nse=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),_se=()=>{let[e,t]=B.useState(document.hidden);return B.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},YC=1,Sse=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:YC++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0;return n.then(async i=>{if(Ese(i)&&!i.ok){a=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:r,type:"error",message:o,description:l})}else if(t.success!==void 0){a=!1;let o=typeof t.success=="function"?await t.success(i):t.success,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async i=>{if(t.error!==void 0){a=!1;let o=typeof t.error=="function"?await t.error(i):t.error,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var i;a&&(this.dismiss(r),r=void 0),(i=t.finally)==null||i.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||YC++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Ja=new Sse,Cse=(e,t)=>{let r=(t==null?void 0:t.id)||YC++;return Ja.addToast({title:e,...t,id:r}),r},Ese=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Ase=Cse,Pse=()=>Ja.toasts,Me=Object.assign(Ase,{success:Ja.success,info:Ja.info,warning:Ja.warning,error:Ja.error,custom:Ja.custom,message:Ja.message,promise:Ja.promise,dismiss:Ja.dismiss,loading:Ja.loading},{getHistory:Pse});function Tse(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Tse(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ey(e){return e.label!==void 0}var kse=3,Ose="32px",Dse=4e3,Ise=356,Rse=14,Mse=20,Fse=200;function Lse(...e){return e.filter(Boolean).join(" ")}var $se=e=>{var t,r,n,a,i,o,l,c,d,u;let{invert:f,toast:h,unstyled:m,interacting:x,setHeights:p,visibleToasts:g,heights:b,index:y,toasts:j,expanded:w,removeToast:N,defaultRichColors:_,closeButton:C,style:S,cancelButtonStyle:E,actionButtonStyle:P,className:I="",descriptionClassName:D="",duration:U,position:F,gap:M,loadingIcon:O,expandByDefault:A,classNames:k,icons:W,closeButtonAriaLabel:fe="Close toast",pauseWhenPageIsHidden:de,cn:T}=e,[L,R]=B.useState(!1),[K,q]=B.useState(!1),[Z,X]=B.useState(!1),[ee,ie]=B.useState(!1),[be,he]=B.useState(0),[Ge,ke]=B.useState(0),bt=B.useRef(null),rt=B.useRef(null),Oe=y===0,G=y+1<=g,ce=h.type,xe=h.dismissible!==!1,ve=h.className||"",ge=h.descriptionClassName||"",Ae=B.useMemo(()=>b.findIndex(wt=>wt.toastId===h.id)||0,[b,h.id]),ae=B.useMemo(()=>{var wt;return(wt=h.closeButton)!=null?wt:C},[h.closeButton,C]),we=B.useMemo(()=>h.duration||U||Dse,[h.duration,U]),lt=B.useRef(0),Je=B.useRef(0),qe=B.useRef(0),z=B.useRef(null),[je,ut]=F.split("-"),vt=B.useMemo(()=>b.reduce((wt,Bt,rr)=>rr>=Ae?wt:wt+Bt.height,0),[b,Ae]),Ye=_se(),$t=h.invert||f,Pr=ce==="loading";Je.current=B.useMemo(()=>Ae*M+vt,[Ae,vt]),B.useEffect(()=>{R(!0)},[]),B.useLayoutEffect(()=>{if(!L)return;let wt=rt.current,Bt=wt.style.height;wt.style.height="auto";let rr=wt.getBoundingClientRect().height;wt.style.height=Bt,ke(rr),p(Bn=>Bn.find(ps=>ps.toastId===h.id)?Bn.map(ps=>ps.toastId===h.id?{...ps,height:rr}:ps):[{toastId:h.id,height:rr,position:h.position},...Bn])},[L,h.title,h.description,p,h.id]);let Dr=B.useCallback(()=>{q(!0),he(Je.current),p(wt=>wt.filter(Bt=>Bt.toastId!==h.id)),setTimeout(()=>{N(h)},Fse)},[h,N,p,Je]);B.useEffect(()=>{if(h.promise&&ce==="loading"||h.duration===1/0||h.type==="loading")return;let wt,Bt=we;return w||x||de&&Ye?(()=>{if(qe.current<lt.current){let rr=new Date().getTime()-lt.current;Bt=Bt-rr}qe.current=new Date().getTime()})():Bt!==1/0&&(lt.current=new Date().getTime(),wt=setTimeout(()=>{var rr;(rr=h.onAutoClose)==null||rr.call(h,h),Dr()},Bt)),()=>clearTimeout(wt)},[w,x,A,h,we,Dr,h.promise,ce,de,Ye]),B.useEffect(()=>{let wt=rt.current;if(wt){let Bt=wt.getBoundingClientRect().height;return ke(Bt),p(rr=>[{toastId:h.id,height:Bt,position:h.position},...rr]),()=>p(rr=>rr.filter(Bn=>Bn.toastId!==h.id))}},[p,h.id]),B.useEffect(()=>{h.delete&&Dr()},[Dr,h.delete]);function wr(){return W!=null&&W.loading?B.createElement("div",{className:"sonner-loader","data-visible":ce==="loading"},W.loading):O?B.createElement("div",{className:"sonner-loader","data-visible":ce==="loading"},O):B.createElement(yse,{visible:ce==="loading"})}return B.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:rt,className:T(I,ve,k==null?void 0:k.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,k==null?void 0:k.default,k==null?void 0:k[ce],(r=h==null?void 0:h.classNames)==null?void 0:r[ce]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:_,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":L,"data-promise":!!h.promise,"data-removed":K,"data-visible":G,"data-y-position":je,"data-x-position":ut,"data-index":y,"data-front":Oe,"data-swiping":Z,"data-dismissible":xe,"data-type":ce,"data-invert":$t,"data-swipe-out":ee,"data-expanded":!!(w||A&&L),style:{"--index":y,"--toasts-before":y,"--z-index":j.length-y,"--offset":`${K?be:Je.current}px`,"--initial-height":A?"auto":`${Ge}px`,...S,...h.style},onPointerDown:wt=>{Pr||!xe||(bt.current=new Date,he(Je.current),wt.target.setPointerCapture(wt.pointerId),wt.target.tagName!=="BUTTON"&&(X(!0),z.current={x:wt.clientX,y:wt.clientY}))},onPointerUp:()=>{var wt,Bt,rr,Bn;if(ee||!xe)return;z.current=null;let ps=Number(((wt=rt.current)==null?void 0:wt.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ci=new Date().getTime()-((Bt=bt.current)==null?void 0:Bt.getTime()),Zf=Math.abs(ps)/Ci;if(Math.abs(ps)>=Mse||Zf>.11){he(Je.current),(rr=h.onDismiss)==null||rr.call(h,h),Dr(),ie(!0);return}(Bn=rt.current)==null||Bn.style.setProperty("--swipe-amount","0px"),X(!1)},onPointerMove:wt=>{var Bt;if(!z.current||!xe)return;let rr=wt.clientY-z.current.y,Bn=wt.clientX-z.current.x,ps=(je==="top"?Math.min:Math.max)(0,rr),Ci=wt.pointerType==="touch"?10:2;Math.abs(ps)>Ci?(Bt=rt.current)==null||Bt.style.setProperty("--swipe-amount",`${rr}px`):Math.abs(Bn)>Ci&&(z.current=null)}},ae&&!h.jsx?B.createElement("button",{"aria-label":fe,"data-disabled":Pr,"data-close-button":!0,onClick:Pr||!xe?()=>{}:()=>{var wt;Dr(),(wt=h.onDismiss)==null||wt.call(h,h)},className:T(k==null?void 0:k.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},B.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||B.isValidElement(h.title)?h.jsx||h.title:B.createElement(B.Fragment,null,ce||h.icon||h.promise?B.createElement("div",{"data-icon":"",className:T(k==null?void 0:k.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||wr():null,h.type!=="loading"?h.icon||(W==null?void 0:W[ce])||gse(ce):null):null,B.createElement("div",{"data-content":"",className:T(k==null?void 0:k.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},B.createElement("div",{"data-title":"",className:T(k==null?void 0:k.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?B.createElement("div",{"data-description":"",className:T(D,ge,k==null?void 0:k.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),B.isValidElement(h.cancel)?h.cancel:h.cancel&&Ey(h.cancel)?B.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||E,onClick:wt=>{var Bt,rr;Ey(h.cancel)&&xe&&((rr=(Bt=h.cancel).onClick)==null||rr.call(Bt,wt),Dr())},className:T(k==null?void 0:k.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,B.isValidElement(h.action)?h.action:h.action&&Ey(h.action)?B.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||P,onClick:wt=>{var Bt,rr;Ey(h.action)&&(wt.defaultPrevented||((rr=(Bt=h.action).onClick)==null||rr.call(Bt,wt),Dr()))},className:T(k==null?void 0:k.actionButton,(u=h==null?void 0:h.classNames)==null?void 0:u.actionButton)},h.action.label):null))};function rR(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Bse=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:i,className:o,offset:l,theme:c="light",richColors:d,duration:u,style:f,visibleToasts:h=kse,toastOptions:m,dir:x=rR(),gap:p=Rse,loadingIcon:g,icons:b,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:j,cn:w=Lse}=e,[N,_]=B.useState([]),C=B.useMemo(()=>Array.from(new Set([r].concat(N.filter(de=>de.position).map(de=>de.position)))),[N,r]),[S,E]=B.useState([]),[P,I]=B.useState(!1),[D,U]=B.useState(!1),[F,M]=B.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=B.useRef(null),A=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=B.useRef(null),W=B.useRef(!1),fe=B.useCallback(de=>{var T;(T=N.find(L=>L.id===de.id))!=null&&T.delete||Ja.dismiss(de.id),_(L=>L.filter(({id:R})=>R!==de.id))},[N]);return B.useEffect(()=>Ja.subscribe(de=>{if(de.dismiss){_(T=>T.map(L=>L.id===de.id?{...L,delete:!0}:L));return}setTimeout(()=>{Uj.flushSync(()=>{_(T=>{let L=T.findIndex(R=>R.id===de.id);return L!==-1?[...T.slice(0,L),{...T[L],...de},...T.slice(L+1)]:[de,...T]})})})}),[]),B.useEffect(()=>{if(c!=="system"){M(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:de})=>{M(de?"dark":"light")})},[c]),B.useEffect(()=>{N.length<=1&&I(!1)},[N]),B.useEffect(()=>{let de=T=>{var L,R;n.every(K=>T[K]||T.code===K)&&(I(!0),(L=O.current)==null||L.focus()),T.code==="Escape"&&(document.activeElement===O.current||(R=O.current)!=null&&R.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",de),()=>document.removeEventListener("keydown",de)},[n]),B.useEffect(()=>{if(O.current)return()=>{k.current&&(k.current.focus({preventScroll:!0}),k.current=null,W.current=!1)}},[O.current]),N.length?B.createElement("section",{"aria-label":`${y} ${A}`,tabIndex:-1},C.map((de,T)=>{var L;let[R,K]=de.split("-");return B.createElement("ol",{key:de,dir:x==="auto"?rR():x,tabIndex:-1,ref:O,className:o,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":R,"data-x-position":K,style:{"--front-toast-height":`${((L=S[0])==null?void 0:L.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||Ose,"--width":`${Ise}px`,"--gap":`${p}px`,...f},onBlur:q=>{W.current&&!q.currentTarget.contains(q.relatedTarget)&&(W.current=!1,k.current&&(k.current.focus({preventScroll:!0}),k.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||W.current||(W.current=!0,k.current=q.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{D||I(!1)},onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},N.filter(q=>!q.position&&T===0||q.position===de).map((q,Z)=>{var X,ee;return B.createElement($se,{key:q.id,icons:b,index:Z,toast:q,defaultRichColors:d,duration:(X=m==null?void 0:m.duration)!=null?X:u,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:h,closeButton:(ee=m==null?void 0:m.closeButton)!=null?ee:i,interacting:D,position:de,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:fe,toasts:N.filter(ie=>ie.position==q.position),heights:S.filter(ie=>ie.position==q.position),setHeights:E,expandByDefault:a,gap:p,loadingIcon:g,expanded:P,pauseWhenPageIsHidden:j,cn:w})}))})):null};const Use=({...e})=>{const{theme:t="system"}=pp();return s.jsx(Bse,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Vse=ZP.useId||(()=>{}),zse=0;function Hi(e){const[t,r]=v.useState(Vse());return Qn(()=>{r(n=>n??String(zse++))},[e]),t?`radix-${t}`:""}const Wse=["top","right","bottom","left"],qd=Math.min,si=Math.max,vb=Math.round,Ay=Math.floor,Kd=e=>({x:e,y:e}),Hse={left:"right",right:"left",bottom:"top",top:"bottom"},Gse={start:"end",end:"start"};function QC(e,t,r){return si(e,qd(t,r))}function Tc(e,t){return typeof e=="function"?e(t):e}function kc(e){return e.split("-")[0]}function xp(e){return e.split("-")[1]}function JT(e){return e==="x"?"y":"x"}function ek(e){return e==="y"?"height":"width"}function Xd(e){return["top","bottom"].includes(kc(e))?"y":"x"}function tk(e){return JT(Xd(e))}function qse(e,t,r){r===void 0&&(r=!1);const n=xp(e),a=tk(e),i=ek(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=yb(o)),[o,yb(o)]}function Kse(e){const t=yb(e);return[ZC(e),t,ZC(t)]}function ZC(e){return e.replace(/start|end/g,t=>Gse[t])}function Xse(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:o;default:return[]}}function Yse(e,t,r,n){const a=xp(e);let i=Xse(kc(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(ZC)))),i}function yb(e){return e.replace(/left|right|bottom|top/g,t=>Hse[t])}function Qse(e){return{top:0,right:0,bottom:0,left:0,...e}}function F9(e){return typeof e!="number"?Qse(e):{top:e,right:e,bottom:e,left:e}}function bb(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function nR(e,t,r){let{reference:n,floating:a}=e;const i=Xd(t),o=tk(t),l=ek(o),c=kc(t),d=i==="y",u=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:u,y:n.y-a.height};break;case"bottom":m={x:u,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(xp(t)){case"start":m[o]-=h*(r&&d?-1:1);break;case"end":m[o]+=h*(r&&d?-1:1);break}return m}const Zse=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=nR(d,n,c),h=n,m={},x=0;for(let p=0;p<l.length;p++){const{name:g,fn:b}=l[p],{x:y,y:j,data:w,reset:N}=await b({x:u,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:d,platform:o,elements:{reference:e,floating:t}});u=y??u,f=j??f,m={...m,[g]:{...m[g],...w}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:u,y:f}=nR(d,h,c)),p=-1)}return{x:u,y:f,placement:h,strategy:a,middlewareData:m}};async function Bg(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Tc(t,e),x=F9(m),g=l[h?f==="floating"?"reference":"floating":f],b=bb(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),w=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},N=bb(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:j,strategy:c}):y);return{top:(b.top-N.top+x.top)/w.y,bottom:(N.bottom-b.bottom+x.bottom)/w.y,left:(b.left-N.left+x.left)/w.x,right:(N.right-b.right+x.right)/w.x}}const Jse=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Tc(e,t)||{};if(d==null)return{};const f=F9(u),h={x:r,y:n},m=tk(a),x=ek(m),p=await o.getDimensions(d),g=m==="y",b=g?"top":"left",y=g?"bottom":"right",j=g?"clientHeight":"clientWidth",w=i.reference[x]+i.reference[m]-h[m]-i.floating[x],N=h[m]-i.reference[m],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=_?_[j]:0;(!C||!await(o.isElement==null?void 0:o.isElement(_)))&&(C=l.floating[j]||i.floating[x]);const S=w/2-N/2,E=C/2-p[x]/2-1,P=qd(f[b],E),I=qd(f[y],E),D=P,U=C-p[x]-I,F=C/2-p[x]/2+S,M=QC(D,F,U),O=!c.arrow&&xp(a)!=null&&F!==M&&i.reference[x]/2-(F<D?P:I)-p[x]/2<0,A=O?F<D?F-D:F-U:0;return{[m]:h[m]+A,data:{[m]:M,centerOffset:F-M-A,...O&&{alignmentOffset:A}},reset:O}}}),eae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...g}=Tc(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=kc(a),y=Xd(l),j=kc(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=h||(j||!p?[yb(l)]:Kse(l)),_=x!=="none";!h&&_&&N.push(...Yse(l,p,x,w));const C=[l,...N],S=await Bg(t,g),E=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&E.push(S[b]),f){const F=qse(a,o,w);E.push(S[F[0]],S[F[1]])}if(P=[...P,{placement:a,overflows:E}],!E.every(F=>F<=0)){var I,D;const F=(((I=i.flip)==null?void 0:I.index)||0)+1,M=C[F];if(M)return{data:{index:F,overflows:P},reset:{placement:M}};let O=(D=P.filter(A=>A.overflows[0]<=0).sort((A,k)=>A.overflows[1]-k.overflows[1])[0])==null?void 0:D.placement;if(!O)switch(m){case"bestFit":{var U;const A=(U=P.filter(k=>{if(_){const W=Xd(k.placement);return W===y||W==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(W=>W>0).reduce((W,fe)=>W+fe,0)]).sort((k,W)=>k[1]-W[1])[0])==null?void 0:U[0];A&&(O=A);break}case"initialPlacement":O=l;break}if(a!==O)return{reset:{placement:O}}}return{}}}};function sR(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function aR(e){return Wse.some(t=>e[t]>=0)}const tae=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Tc(e,t);switch(n){case"referenceHidden":{const i=await Bg(t,{...a,elementContext:"reference"}),o=sR(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:aR(o)}}}case"escaped":{const i=await Bg(t,{...a,altBoundary:!0}),o=sR(i,r.floating);return{data:{escapedOffsets:o,escaped:aR(o)}}}default:return{}}}}};async function rae(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=kc(r),l=xp(r),c=Xd(r)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,f=Tc(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),c?{x:m*u,y:h*d}:{x:h*d,y:m*u}}const nae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await rae(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},sae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:b,y}=g;return{x:b,y}}},...c}=Tc(e,t),d={x:r,y:n},u=await Bg(t,c),f=Xd(kc(a)),h=JT(f);let m=d[h],x=d[f];if(i){const g=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=m+u[g],j=m-u[b];m=QC(y,m,j)}if(o){const g=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=x+u[g],j=x-u[b];x=QC(y,x,j)}const p=l.fn({...t,[h]:m,[f]:x});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:i,[f]:o}}}}}},aae=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Tc(e,t),u={x:r,y:n},f=Xd(a),h=JT(f);let m=u[h],x=u[f];const p=Tc(l,t),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const j=h==="y"?"height":"width",w=i.reference[h]-i.floating[j]+g.mainAxis,N=i.reference[h]+i.reference[j]-g.mainAxis;m<w?m=w:m>N&&(m=N)}if(d){var b,y;const j=h==="y"?"width":"height",w=["top","left"].includes(kc(a)),N=i.reference[f]-i.floating[j]+(w&&((b=o.offset)==null?void 0:b[f])||0)+(w?0:g.crossAxis),_=i.reference[f]+i.reference[j]+(w?0:((y=o.offset)==null?void 0:y[f])||0)-(w?g.crossAxis:0);x<N?x=N:x>_&&(x=_)}return{[h]:m,[f]:x}}}},iae=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Tc(e,t),u=await Bg(t,d),f=kc(a),h=xp(a),m=Xd(a)==="y",{width:x,height:p}=i.floating;let g,b;f==="top"||f==="bottom"?(g=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,g=h==="end"?"top":"bottom");const y=p-u.top-u.bottom,j=x-u.left-u.right,w=qd(p-u[g],y),N=qd(x-u[b],j),_=!t.middlewareData.shift;let C=w,S=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(S=j),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=y),_&&!h){const P=si(u.left,0),I=si(u.right,0),D=si(u.top,0),U=si(u.bottom,0);m?S=x-2*(P!==0||I!==0?P+I:si(u.left,u.right)):C=p-2*(D!==0||U!==0?D+U:si(u.top,u.bottom))}await c({...t,availableWidth:S,availableHeight:C});const E=await o.getDimensions(l.floating);return x!==E.width||p!==E.height?{reset:{rects:!0}}:{}}}};function Yj(){return typeof window<"u"}function gp(e){return L9(e)?(e.nodeName||"").toLowerCase():"#document"}function ui(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Bl(e){var t;return(t=(L9(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function L9(e){return Yj()?e instanceof Node||e instanceof ui(e).Node:!1}function Bo(e){return Yj()?e instanceof Element||e instanceof ui(e).Element:!1}function Ol(e){return Yj()?e instanceof HTMLElement||e instanceof ui(e).HTMLElement:!1}function iR(e){return!Yj()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ui(e).ShadowRoot}function h0(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Uo(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function oae(e){return["table","td","th"].includes(gp(e))}function Qj(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function rk(e){const t=nk(),r=Bo(e)?Uo(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function lae(e){let t=Yd(e);for(;Ol(t)&&!jm(t);){if(rk(t))return t;if(Qj(t))return null;t=Yd(t)}return null}function nk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jm(e){return["html","body","#document"].includes(gp(e))}function Uo(e){return ui(e).getComputedStyle(e)}function Zj(e){return Bo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Yd(e){if(gp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||iR(e)&&e.host||Bl(e);return iR(t)?t.host:t}function $9(e){const t=Yd(e);return jm(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ol(t)&&h0(t)?t:$9(t)}function Ug(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=$9(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=ui(a);if(i){const l=JC(o);return t.concat(o,o.visualViewport||[],h0(a)?a:[],l&&r?Ug(l):[])}return t.concat(a,Ug(a,[],r))}function JC(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function B9(e){const t=Uo(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Ol(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=vb(r)!==i||vb(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function sk(e){return Bo(e)?e:e.contextElement}function zh(e){const t=sk(e);if(!Ol(t))return Kd(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=B9(t);let o=(i?vb(r.width):r.width)/n,l=(i?vb(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const cae=Kd(0);function U9(e){const t=ui(e);return!nk()||!t.visualViewport?cae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function dae(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ui(e)?!1:t}function hf(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=sk(e);let o=Kd(1);t&&(n?Bo(n)&&(o=zh(n)):o=zh(e));const l=dae(i,r,n)?U9(i):Kd(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const h=ui(i),m=n&&Bo(n)?ui(n):n;let x=h,p=JC(x);for(;p&&n&&m!==x;){const g=zh(p),b=p.getBoundingClientRect(),y=Uo(p),j=b.left+(p.clientLeft+parseFloat(y.paddingLeft))*g.x,w=b.top+(p.clientTop+parseFloat(y.paddingTop))*g.y;c*=g.x,d*=g.y,u*=g.x,f*=g.y,c+=j,d+=w,x=ui(p),p=JC(x)}}return bb({width:u,height:f,x:c,y:d})}function uae(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Bl(n),l=t?Qj(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Kd(1);const u=Kd(0),f=Ol(n);if((f||!f&&!i)&&((gp(n)!=="body"||h0(o))&&(c=Zj(n)),Ol(n))){const h=hf(n);d=zh(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x,y:r.y*d.y-c.scrollTop*d.y+u.y}}function fae(e){return Array.from(e.getClientRects())}function eE(e,t){const r=Zj(e).scrollLeft;return t?t.left+r:hf(Bl(e)).left+r}function hae(e){const t=Bl(e),r=Zj(e),n=e.ownerDocument.body,a=si(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=si(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+eE(e);const l=-r.scrollTop;return Uo(n).direction==="rtl"&&(o+=si(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function mae(e,t){const r=ui(e),n=Bl(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=nk();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function pae(e,t){const r=hf(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Ol(e)?zh(e):Kd(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function oR(e,t,r){let n;if(t==="viewport")n=mae(e,r);else if(t==="document")n=hae(Bl(e));else if(Bo(t))n=pae(t,r);else{const a=U9(e);n={...t,x:t.x-a.x,y:t.y-a.y}}return bb(n)}function V9(e,t){const r=Yd(e);return r===t||!Bo(r)||jm(r)?!1:Uo(r).position==="fixed"||V9(r,t)}function xae(e,t){const r=t.get(e);if(r)return r;let n=Ug(e,[],!1).filter(l=>Bo(l)&&gp(l)!=="body"),a=null;const i=Uo(e).position==="fixed";let o=i?Yd(e):e;for(;Bo(o)&&!jm(o);){const l=Uo(o),c=rk(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||h0(o)&&!c&&V9(e,o))?n=n.filter(u=>u!==o):a=l,o=Yd(o)}return t.set(e,n),n}function gae(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Qj(t)?[]:xae(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const f=oR(t,u,a);return d.top=si(f.top,d.top),d.right=qd(f.right,d.right),d.bottom=qd(f.bottom,d.bottom),d.left=si(f.left,d.left),d},oR(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function vae(e){const{width:t,height:r}=B9(e);return{width:t,height:r}}function yae(e,t,r){const n=Ol(t),a=Bl(t),i=r==="fixed",o=hf(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Kd(0);if(n||!n&&!i)if((gp(t)!=="body"||h0(a))&&(l=Zj(t)),n){const m=hf(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&(c.x=eE(a));let d=0,u=0;if(a&&!n&&!i){const m=a.getBoundingClientRect();u=m.top+l.scrollTop,d=m.left+l.scrollLeft-eE(a,m)}const f=o.left+l.scrollLeft-c.x-d,h=o.top+l.scrollTop-c.y-u;return{x:f,y:h,width:o.width,height:o.height}}function w2(e){return Uo(e).position==="static"}function lR(e,t){if(!Ol(e)||Uo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Bl(e)===r&&(r=r.ownerDocument.body),r}function z9(e,t){const r=ui(e);if(Qj(e))return r;if(!Ol(e)){let a=Yd(e);for(;a&&!jm(a);){if(Bo(a)&&!w2(a))return a;a=Yd(a)}return r}let n=lR(e,t);for(;n&&oae(n)&&w2(n);)n=lR(n,t);return n&&jm(n)&&w2(n)&&!rk(n)?r:n||lae(e)||r}const bae=async function(e){const t=this.getOffsetParent||z9,r=this.getDimensions,n=await r(e.floating);return{reference:yae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function wae(e){return Uo(e).direction==="rtl"}const jae={convertOffsetParentRelativeRectToViewportRelativeRect:uae,getDocumentElement:Bl,getClippingRect:gae,getOffsetParent:z9,getElementRects:bae,getClientRects:fae,getDimensions:vae,getScale:zh,isElement:Bo,isRTL:wae};function Nae(e,t){let r=null,n;const a=Bl(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:u,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const m=Ay(u),x=Ay(a.clientWidth-(d+f)),p=Ay(a.clientHeight-(u+h)),g=Ay(d),y={rootMargin:-m+"px "+-x+"px "+-p+"px "+-g+"px",threshold:si(0,qd(1,c))||1};let j=!0;function w(N){const _=N[0].intersectionRatio;if(_!==c){if(!j)return o();_?o(!1,_):n=setTimeout(()=>{o(!1,1e-7)},1e3)}j=!1}try{r=new IntersectionObserver(w,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(w,y)}r.observe(e)}return o(!0),i}function _ae(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=sk(e),u=a||i?[...d?Ug(d):[],...Ug(t)]:[];u.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=d&&l?Nae(d,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[y]=b;y&&y.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var j;(j=m)==null||j.observe(t)})),r()}),d&&!c&&m.observe(d),m.observe(t));let x,p=c?hf(e):null;c&&g();function g(){const b=hf(e);p&&(b.x!==p.x||b.y!==p.y||b.width!==p.width||b.height!==p.height)&&r(),p=b,x=requestAnimationFrame(g)}return r(),()=>{var b;u.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const Sae=nae,Cae=sae,Eae=eae,Aae=iae,Pae=tae,cR=Jse,Tae=aae,kae=(e,t,r)=>{const n=new Map,a={platform:jae,...r},i={...a.platform,_c:n};return Zse(e,t,{...a,platform:i})};var O1=typeof document<"u"?v.useLayoutEffect:v.useEffect;function wb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!wb(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!wb(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function W9(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dR(e,t){const r=W9(e);return Math.round(t*r)/r}function j2(e){const t=v.useRef(e);return O1(()=>{t.current=e}),t}function Oae(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=v.useState(n);wb(h,n)||m(n);const[x,p]=v.useState(null),[g,b]=v.useState(null),y=v.useCallback(k=>{k!==_.current&&(_.current=k,p(k))},[]),j=v.useCallback(k=>{k!==C.current&&(C.current=k,b(k))},[]),w=i||x,N=o||g,_=v.useRef(null),C=v.useRef(null),S=v.useRef(u),E=c!=null,P=j2(c),I=j2(a),D=j2(d),U=v.useCallback(()=>{if(!_.current||!C.current)return;const k={placement:t,strategy:r,middleware:h};I.current&&(k.platform=I.current),kae(_.current,C.current,k).then(W=>{const fe={...W,isPositioned:D.current!==!1};F.current&&!wb(S.current,fe)&&(S.current=fe,no.flushSync(()=>{f(fe)}))})},[h,t,r,I,D]);O1(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(k=>({...k,isPositioned:!1})))},[d]);const F=v.useRef(!1);O1(()=>(F.current=!0,()=>{F.current=!1}),[]),O1(()=>{if(w&&(_.current=w),N&&(C.current=N),w&&N){if(P.current)return P.current(w,N,U);U()}},[w,N,U,P,E]);const M=v.useMemo(()=>({reference:_,floating:C,setReference:y,setFloating:j}),[y,j]),O=v.useMemo(()=>({reference:w,floating:N}),[w,N]),A=v.useMemo(()=>{const k={position:r,left:0,top:0};if(!O.floating)return k;const W=dR(O.floating,u.x),fe=dR(O.floating,u.y);return l?{...k,transform:"translate("+W+"px, "+fe+"px)",...W9(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:W,top:fe}},[r,l,O.floating,u.x,u.y]);return v.useMemo(()=>({...u,update:U,refs:M,elements:O,floatingStyles:A}),[u,U,M,O,A])}const Dae=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?cR({element:n.current,padding:a}).fn(r):{}:n?cR({element:n,padding:a}).fn(r):{}}}},Iae=(e,t)=>({...Sae(e),options:[e,t]}),Rae=(e,t)=>({...Cae(e),options:[e,t]}),Mae=(e,t)=>({...Tae(e),options:[e,t]}),Fae=(e,t)=>({...Eae(e),options:[e,t]}),Lae=(e,t)=>({...Aae(e),options:[e,t]}),$ae=(e,t)=>({...Pae(e),options:[e,t]}),Bae=(e,t)=>({...Dae(e),options:[e,t]});var Uae="Arrow",H9=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(gt.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});H9.displayName=Uae;var Vae=H9;function zae(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:h,children:m,...x}=f,p=(h==null?void 0:h[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return s.jsx(p.Provider,{value:g,children:m})}function u(f,h){const m=(h==null?void 0:h[e][c])||l,x=v.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Wae(a,...t)]}function Wae(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Jj(e){const[t,r]=v.useState(void 0);return Qn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var ak="Popper",[G9,iu]=zae(ak),[Hae,q9]=G9(ak),K9=e=>{const{__scopePopper:t,children:r}=e,[n,a]=v.useState(null);return s.jsx(Hae,{scope:t,anchor:n,onAnchorChange:a,children:r})};K9.displayName=ak;var X9="PopperAnchor",Y9=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=q9(X9,r),o=v.useRef(null),l=Ft(t,o);return v.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(gt.div,{...a,ref:l})});Y9.displayName=X9;var ik="PopperContent",[Gae,qae]=G9(ik),Q9=v.forwardRef((e,t)=>{var Z,X,ee,ie,be,he;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:x,...p}=e,g=q9(ik,r),[b,y]=v.useState(null),j=Ft(t,Ge=>y(Ge)),[w,N]=v.useState(null),_=Jj(w),C=(_==null?void 0:_.width)??0,S=(_==null?void 0:_.height)??0,E=n+(i!=="center"?"-"+i:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},I=Array.isArray(d)?d:[d],D=I.length>0,U={padding:P,boundary:I.filter(Xae),altBoundary:D},{refs:F,floatingStyles:M,placement:O,isPositioned:A,middlewareData:k}=Oae({strategy:"fixed",placement:E,whileElementsMounted:(...Ge)=>_ae(...Ge,{animationFrame:m==="always"}),elements:{reference:g.anchor},middleware:[Iae({mainAxis:a+S,alignmentAxis:o}),c&&Rae({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Mae():void 0,...U}),c&&Fae({...U}),Lae({...U,apply:({elements:Ge,rects:ke,availableWidth:bt,availableHeight:rt})=>{const{width:Oe,height:G}=ke.reference,ce=Ge.floating.style;ce.setProperty("--radix-popper-available-width",`${bt}px`),ce.setProperty("--radix-popper-available-height",`${rt}px`),ce.setProperty("--radix-popper-anchor-width",`${Oe}px`),ce.setProperty("--radix-popper-anchor-height",`${G}px`)}}),w&&Bae({element:w,padding:l}),Yae({arrowWidth:C,arrowHeight:S}),h&&$ae({strategy:"referenceHidden",...U})]}),[W,fe]=e7(O),de=en(x);Qn(()=>{A&&(de==null||de())},[A,de]);const T=(Z=k.arrow)==null?void 0:Z.x,L=(X=k.arrow)==null?void 0:X.y,R=((ee=k.arrow)==null?void 0:ee.centerOffset)!==0,[K,q]=v.useState();return Qn(()=>{b&&q(window.getComputedStyle(b).zIndex)},[b]),s.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:A?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(ie=k.transformOrigin)==null?void 0:ie.x,(be=k.transformOrigin)==null?void 0:be.y].join(" "),...((he=k.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Gae,{scope:r,placedSide:W,onArrowChange:N,arrowX:T,arrowY:L,shouldHideArrow:R,children:s.jsx(gt.div,{"data-side":W,"data-align":fe,...p,ref:j,style:{...p.style,animation:A?void 0:"none"}})})})});Q9.displayName=ik;var Z9="PopperArrow",Kae={top:"bottom",right:"left",bottom:"top",left:"right"},J9=v.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=qae(Z9,n),o=Kae[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(Vae,{...a,ref:r,style:{...a.style,display:"block"}})})});J9.displayName=Z9;function Xae(e){return e!==null}var Yae=e=>({name:"transformOrigin",options:e,fn(t){var g,b,y;const{placement:r,rects:n,middlewareData:a}=t,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=e7(r),f={start:"0%",center:"50%",end:"100%"}[u],h=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,m=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let x="",p="";return d==="bottom"?(x=o?f:`${h}px`,p=`${-c}px`):d==="top"?(x=o?f:`${h}px`,p=`${n.floating.height+c}px`):d==="right"?(x=`${-c}px`,p=o?f:`${m}px`):d==="left"&&(x=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x,y:p}}}});function e7(e){const[t,r="center"]=e.split("-");return[t,r]}var eN=K9,m0=Y9,tN=Q9,rN=J9,[nN,jJe]=ya("Tooltip",[iu]),sN=iu(),t7="TooltipProvider",Qae=700,tE="tooltip.open",[Zae,ok]=nN(t7),r7=e=>{const{__scopeTooltip:t,delayDuration:r=Qae,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,[o,l]=v.useState(!0),c=v.useRef(!1),d=v.useRef(0);return v.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),s.jsx(Zae,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(u=>{c.current=u},[]),disableHoverableContent:a,children:i})};r7.displayName=t7;var aN="Tooltip",[Jae,iN]=nN(aN),n7=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=ok(aN,e.__scopeTooltip),d=sN(t),[u,f]=v.useState(null),h=Hi(),m=v.useRef(0),x=o??c.disableHoverableContent,p=l??c.delayDuration,g=v.useRef(!1),[b=!1,y]=Qi({prop:n,defaultProp:a,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(tE))):c.onClose(),i==null||i(C)}}),j=v.useMemo(()=>b?g.current?"delayed-open":"instant-open":"closed",[b]),w=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,g.current=!1,y(!0)},[y]),N=v.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y(!1)},[y]),_=v.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{g.current=!0,y(!0),m.current=0},p)},[p,y]);return v.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),s.jsx(eN,{...d,children:s.jsx(Jae,{scope:t,contentId:h,open:b,stateAttribute:j,trigger:u,onTriggerChange:f,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayed?_():w()},[c.isOpenDelayed,_,w]),onTriggerLeave:v.useCallback(()=>{x?N():(window.clearTimeout(m.current),m.current=0)},[N,x]),onOpen:w,onClose:N,disableHoverableContent:x,children:r})})};n7.displayName=aN;var rE="TooltipTrigger",s7=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=iN(rE,r),i=ok(rE,r),o=sN(r),l=v.useRef(null),c=Ft(t,l,a.onTriggerChange),d=v.useRef(!1),u=v.useRef(!1),f=v.useCallback(()=>d.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(m0,{asChild:!0,...o,children:s.jsx(gt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Ue(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ue(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:Ue(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ue(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:Ue(e.onBlur,a.onClose),onClick:Ue(e.onClick,a.onClose)})})});s7.displayName=rE;var eie="TooltipPortal",[NJe,tie]=nN(eie,{forceMount:void 0}),Nm="TooltipContent",a7=v.forwardRef((e,t)=>{const r=tie(Nm,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=iN(Nm,e.__scopeTooltip);return s.jsx(Jn,{present:n||o.open,children:o.disableHoverableContent?s.jsx(i7,{side:a,...i,ref:t}):s.jsx(rie,{side:a,...i,ref:t})})}),rie=v.forwardRef((e,t)=>{const r=iN(Nm,e.__scopeTooltip),n=ok(Nm,e.__scopeTooltip),a=v.useRef(null),i=Ft(t,a),[o,l]=v.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:f}=n,h=v.useCallback(()=>{l(null),f(!1)},[f]),m=v.useCallback((x,p)=>{const g=x.currentTarget,b={x:x.clientX,y:x.clientY},y=iie(b,g.getBoundingClientRect()),j=oie(b,y),w=lie(p.getBoundingClientRect()),N=die([...j,...w]);l(N),f(!0)},[f]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(c&&u){const x=g=>m(g,u),p=g=>m(g,c);return c.addEventListener("pointerleave",x),u.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",p)}}},[c,u,m,h]),v.useEffect(()=>{if(o){const x=p=>{const g=p.target,b={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(g))||(u==null?void 0:u.contains(g)),j=!cie(b,o);y?h():j&&(h(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,u,o,d,h]),s.jsx(i7,{...e,ref:i})}),[nie,sie]=nN(aN,{isInside:!1}),i7=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=iN(Nm,r),d=sN(r),{onClose:u}=c;return v.useEffect(()=>(document.addEventListener(tE,u),()=>document.removeEventListener(tE,u)),[u]),v.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),s.jsx(Mf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:s.jsxs(tN,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(zT,{children:n}),s.jsx(nie,{scope:r,isInside:!0,children:s.jsx(kre,{id:c.contentId,role:"tooltip",children:a||n})})]})})});a7.displayName=Nm;var o7="TooltipArrow",aie=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=sN(r);return sie(o7,r).isInside?null:s.jsx(rN,{...a,...n,ref:t})});aie.displayName=o7;function iie(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function oie(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function lie(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function cie(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>n!=u>n&&r<(d-l)*(n-c)/(u-c)+l&&(a=!a)}return a}function die(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),uie(t)}function uie(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var fie=r7,hie=n7,mie=s7,l7=a7;const c7=fie,pie=hie,xie=mie,d7=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(l7,{ref:n,sideOffset:t,className:pe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));d7.displayName=l7.displayName;var vp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mf=typeof window>"u"||"Deno"in globalThis;function Ri(){}function gie(e,t){return typeof e=="function"?e(t):e}function nE(e){return typeof e=="number"&&e>=0&&e!==1/0}function u7(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Wh(e,t){return typeof e=="function"?e(t):e}function No(e,t){return typeof e=="function"?e(t):e}function uR(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==lk(o,t.options))return!1}else if(!Vg(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function fR(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(pf(t.options.mutationKey)!==pf(i))return!1}else if(!Vg(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function lk(e,t){return((t==null?void 0:t.queryKeyHashFn)||pf)(e)}function pf(e){return JSON.stringify(e,(t,r)=>sE(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Vg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Vg(e[r],t[r])):!1}function f7(e,t){if(e===t)return e;const r=hR(e)&&hR(t);if(r||sE(e)&&sE(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d];(!r&&n.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=f7(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function jb(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function hR(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function sE(e){if(!mR(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!mR(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function mR(e){return Object.prototype.toString.call(e)==="[object Object]"}function vie(e){return new Promise(t=>{setTimeout(t,e)})}function aE(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?f7(e,t):t}function yie(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function bie(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var ck=Symbol();function h7(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ck?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Gu,hd,rm,j6,wie=(j6=class extends vp{constructor(){super();Ct(this,Gu);Ct(this,hd);Ct(this,rm);ct(this,rm,t=>{if(!mf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){me(this,hd)||this.setEventListener(me(this,rm))}onUnsubscribe(){var t;this.hasListeners()||((t=me(this,hd))==null||t.call(this),ct(this,hd,void 0))}setEventListener(t){var r;ct(this,rm,t),(r=me(this,hd))==null||r.call(this),ct(this,hd,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){me(this,Gu)!==t&&(ct(this,Gu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof me(this,Gu)=="boolean"?me(this,Gu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Gu=new WeakMap,hd=new WeakMap,rm=new WeakMap,j6),dk=new wie,nm,md,sm,N6,jie=(N6=class extends vp{constructor(){super();Ct(this,nm,!0);Ct(this,md);Ct(this,sm);ct(this,sm,t=>{if(!mf&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){me(this,md)||this.setEventListener(me(this,sm))}onUnsubscribe(){var t;this.hasListeners()||((t=me(this,md))==null||t.call(this),ct(this,md,void 0))}setEventListener(t){var r;ct(this,sm,t),(r=me(this,md))==null||r.call(this),ct(this,md,t(this.setOnline.bind(this)))}setOnline(t){me(this,nm)!==t&&(ct(this,nm,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return me(this,nm)}},nm=new WeakMap,md=new WeakMap,sm=new WeakMap,N6),Nb=new jie;function iE(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function Nie(e){return Math.min(1e3*2**e,3e4)}function m7(e){return(e??"online")==="online"?Nb.isOnline():!0}var p7=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function N2(e){return e instanceof p7}function x7(e){let t=!1,r=0,n=!1,a;const i=iE(),o=p=>{var g;n||(h(new p7(p)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>dk.isFocused()&&(e.networkMode==="always"||Nb.isOnline())&&e.canRun(),u=()=>m7(e.networkMode)&&e.canRun(),f=p=>{var g;n||(n=!0,(g=e.onSuccess)==null||g.call(e,p),a==null||a(),i.resolve(p))},h=p=>{var g;n||(n=!0,(g=e.onError)==null||g.call(e,p),a==null||a(),i.reject(p))},m=()=>new Promise(p=>{var g;a=b=>{(n||d())&&p(b)},(g=e.onPause)==null||g.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),x=()=>{if(n)return;let p;const g=r===0?e.initialPromise:void 0;try{p=g??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(f).catch(b=>{var _;if(n)return;const y=e.retry??(mf?0:3),j=e.retryDelay??Nie,w=typeof j=="function"?j(r,b):j,N=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,b);if(t||!N){h(b);return}r++,(_=e.onFail)==null||_.call(e,r,b),vie(w).then(()=>d()?void 0:m()).then(()=>{t?h(b):x()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?x():m().then(x),i)}}function _ie(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Gn=_ie(),qu,_6,g7=(_6=class{constructor(){Ct(this,qu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),nE(this.gcTime)&&ct(this,qu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(mf?1/0:5*60*1e3))}clearGcTimeout(){me(this,qu)&&(clearTimeout(me(this,qu)),ct(this,qu,void 0))}},qu=new WeakMap,_6),am,im,Ii,Fs,Zv,Ku,vo,Zl,S6,Sie=(S6=class extends g7{constructor(t){super();Ct(this,vo);Ct(this,am);Ct(this,im);Ct(this,Ii);Ct(this,Fs);Ct(this,Zv);Ct(this,Ku);ct(this,Ku,!1),ct(this,Zv,t.defaultOptions),this.setOptions(t.options),this.observers=[],ct(this,Ii,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ct(this,am,Cie(this.options)),this.state=t.state??me(this,am),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=me(this,Fs))==null?void 0:t.promise}setOptions(t){this.options={...me(this,Zv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&me(this,Ii).remove(this)}setData(t,r){const n=aE(this.state.data,t,this.options);return qt(this,vo,Zl).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){qt(this,vo,Zl).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=me(this,Fs))==null?void 0:n.promise;return(a=me(this,Fs))==null||a.cancel(t),r?r.then(Ri).catch(Ri):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(me(this,am))}isActive(){return this.observers.some(t=>No(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ck||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!u7(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=me(this,Fs))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=me(this,Fs))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),me(this,Ii).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(me(this,Fs)&&(me(this,Ku)?me(this,Fs).cancel({revert:!0}):me(this,Fs).cancelRetry()),this.scheduleGc()),me(this,Ii).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qt(this,vo,Zl).call(this,{type:"invalidate"})}fetch(t,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(me(this,Fs))return me(this,Fs).continueRetry(),me(this,Fs).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ct(this,Ku,!0),n.signal)})},i=()=>{const f=h7(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),ct(this,Ku,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),ct(this,im,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&qt(this,vo,Zl).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=f=>{var h,m,x,p;N2(f)&&f.silent||qt(this,vo,Zl).call(this,{type:"error",error:f}),N2(f)||((m=(h=me(this,Ii).config).onError)==null||m.call(h,f,this),(p=(x=me(this,Ii).config).onSettled)==null||p.call(x,this.state.data,f,this)),this.scheduleGc()};return ct(this,Fs,x7({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,m,x,p;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(g){l(g);return}(m=(h=me(this,Ii).config).onSuccess)==null||m.call(h,f,this),(p=(x=me(this,Ii).config).onSettled)==null||p.call(x,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{qt(this,vo,Zl).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{qt(this,vo,Zl).call(this,{type:"pause"})},onContinue:()=>{qt(this,vo,Zl).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),me(this,Fs).start()}},am=new WeakMap,im=new WeakMap,Ii=new WeakMap,Fs=new WeakMap,Zv=new WeakMap,Ku=new WeakMap,vo=new WeakSet,Zl=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...v7(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return N2(a)&&a.revert&&me(this,im)?{...me(this,im),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Gn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),me(this,Ii).notify({query:this,type:"updated",action:t})})},S6);function v7(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:m7(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Cie(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var hl,C6,Eie=(C6=class extends vp{constructor(t={}){super();Ct(this,hl);this.config=t,ct(this,hl,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??lk(a,r);let o=this.get(i);return o||(o=new Sie({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){me(this,hl).has(t.queryHash)||(me(this,hl).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=me(this,hl).get(t.queryHash);r&&(t.destroy(),r===t&&me(this,hl).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Gn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return me(this,hl).get(t)}getAll(){return[...me(this,hl).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>uR(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>uR(t,n)):r}notify(t){Gn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Gn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Gn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},hl=new WeakMap,C6),ml,Js,Xu,pl,ed,E6,Aie=(E6=class extends g7{constructor(t){super();Ct(this,pl);Ct(this,ml);Ct(this,Js);Ct(this,Xu);this.mutationId=t.mutationId,ct(this,Js,t.mutationCache),ct(this,ml,[]),this.state=t.state||y7(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){me(this,ml).includes(t)||(me(this,ml).push(t),this.clearGcTimeout(),me(this,Js).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ct(this,ml,me(this,ml).filter(r=>r!==t)),this.scheduleGc(),me(this,Js).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){me(this,ml).length||(this.state.status==="pending"?this.scheduleGc():me(this,Js).remove(this))}continue(){var t;return((t=me(this,Xu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,d,u,f,h,m,x,p,g,b,y,j,w,N,_,C;ct(this,Xu,x7({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(S,E)=>{qt(this,pl,ed).call(this,{type:"failed",failureCount:S,error:E})},onPause:()=>{qt(this,pl,ed).call(this,{type:"pause"})},onContinue:()=>{qt(this,pl,ed).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>me(this,Js).canRun(this)}));const r=this.state.status==="pending",n=!me(this,Xu).canStart();try{if(!r){qt(this,pl,ed).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(a=me(this,Js).config).onMutate)==null?void 0:i.call(a,t,this));const E=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));E!==this.state.context&&qt(this,pl,ed).call(this,{type:"pending",context:E,variables:t,isPaused:n})}const S=await me(this,Xu).start();return await((d=(c=me(this,Js).config).onSuccess)==null?void 0:d.call(c,S,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,S,t,this.state.context)),await((m=(h=me(this,Js).config).onSettled)==null?void 0:m.call(h,S,null,this.state.variables,this.state.context,this)),await((p=(x=this.options).onSettled)==null?void 0:p.call(x,S,null,t,this.state.context)),qt(this,pl,ed).call(this,{type:"success",data:S}),S}catch(S){try{throw await((b=(g=me(this,Js).config).onError)==null?void 0:b.call(g,S,t,this.state.context,this)),await((j=(y=this.options).onError)==null?void 0:j.call(y,S,t,this.state.context)),await((N=(w=me(this,Js).config).onSettled)==null?void 0:N.call(w,void 0,S,this.state.variables,this.state.context,this)),await((C=(_=this.options).onSettled)==null?void 0:C.call(_,void 0,S,t,this.state.context)),S}finally{qt(this,pl,ed).call(this,{type:"error",error:S})}}finally{me(this,Js).runNext(this)}}},ml=new WeakMap,Js=new WeakMap,Xu=new WeakMap,pl=new WeakSet,ed=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Gn.batch(()=>{me(this,ml).forEach(n=>{n.onMutationUpdate(t)}),me(this,Js).notify({mutation:this,type:"updated",action:t})})},E6);function y7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Za,Jv,A6,Pie=(A6=class extends vp{constructor(t={}){super();Ct(this,Za);Ct(this,Jv);this.config=t,ct(this,Za,new Map),ct(this,Jv,Date.now())}build(t,r,n){const a=new Aie({mutationCache:this,mutationId:++iy(this,Jv)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){const r=Py(t),n=me(this,Za).get(r)??[];n.push(t),me(this,Za).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Py(t);if(me(this,Za).has(r)){const a=(n=me(this,Za).get(r))==null?void 0:n.filter(i=>i!==t);a&&(a.length===0?me(this,Za).delete(r):me(this,Za).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=me(this,Za).get(Py(t)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=me(this,Za).get(Py(t)))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Gn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...me(this,Za).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>fR(r,n))}findAll(t={}){return this.getAll().filter(r=>fR(t,r))}notify(t){Gn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Gn.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ri))))}},Za=new WeakMap,Jv=new WeakMap,A6);function Py(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function pR(e){return{onFetch:(t,r)=>{var u,f,h,m,x;const n=t.options,a=(h=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const g=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},b=h7(t.options,t.fetchOptions),y=async(j,w,N)=>{if(p)return Promise.reject();if(w==null&&j.pages.length)return Promise.resolve(j);const _={queryKey:t.queryKey,pageParam:w,direction:N?"backward":"forward",meta:t.options.meta};g(_);const C=await b(_),{maxPages:S}=t.options,E=N?bie:yie;return{pages:E(j.pages,C,S),pageParams:E(j.pageParams,w,S)}};if(a&&i.length){const j=a==="backward",w=j?Tie:xR,N={pages:i,pageParams:o},_=w(n,N);l=await y(N,_,j)}else{const j=e??i.length;do{const w=c===0?o[0]??n.initialPageParam:xR(n,l);if(c>0&&w==null)break;l=await y(l,w),c++}while(c<j)}return l};t.options.persister?t.fetchFn=()=>{var p,g;return(g=(p=t.options).persister)==null?void 0:g.call(p,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function xR(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Tie(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var un,pd,xd,om,lm,gd,cm,dm,P6,kie=(P6=class{constructor(e={}){Ct(this,un);Ct(this,pd);Ct(this,xd);Ct(this,om);Ct(this,lm);Ct(this,gd);Ct(this,cm);Ct(this,dm);ct(this,un,e.queryCache||new Eie),ct(this,pd,e.mutationCache||new Pie),ct(this,xd,e.defaultOptions||{}),ct(this,om,new Map),ct(this,lm,new Map),ct(this,gd,0)}mount(){iy(this,gd)._++,me(this,gd)===1&&(ct(this,cm,dk.subscribe(async e=>{e&&(await this.resumePausedMutations(),me(this,un).onFocus())})),ct(this,dm,Nb.subscribe(async e=>{e&&(await this.resumePausedMutations(),me(this,un).onOnline())})))}unmount(){var e,t;iy(this,gd)._--,me(this,gd)===0&&((e=me(this,cm))==null||e.call(this),ct(this,cm,void 0),(t=me(this,dm))==null||t.call(this),ct(this,dm,void 0))}isFetching(e){return me(this,un).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return me(this,pd).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=me(this,un).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=me(this,un).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Wh(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return me(this,un).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=me(this,un).get(n.queryHash),i=a==null?void 0:a.state.data,o=gie(t,i);if(o!==void 0)return me(this,un).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Gn.batch(()=>me(this,un).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=me(this,un).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=me(this,un);Gn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=me(this,un),n={type:"active",...e};return Gn.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Gn.batch(()=>me(this,un).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Ri).catch(Ri)}invalidateQueries(e={},t={}){return Gn.batch(()=>{if(me(this,un).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Gn.batch(()=>me(this,un).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ri)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ri)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=me(this,un).build(this,t);return r.isStaleByTime(Wh(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ri).catch(Ri)}fetchInfiniteQuery(e){return e.behavior=pR(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ri).catch(Ri)}ensureInfiniteQueryData(e){return e.behavior=pR(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Nb.isOnline()?me(this,pd).resumePausedMutations():Promise.resolve()}getQueryCache(){return me(this,un)}getMutationCache(){return me(this,pd)}getDefaultOptions(){return me(this,xd)}setDefaultOptions(e){ct(this,xd,e)}setQueryDefaults(e,t){me(this,om).set(pf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...me(this,om).values()];let r={};return t.forEach(n=>{Vg(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){me(this,lm).set(pf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...me(this,lm).values()];let r={};return t.forEach(n=>{Vg(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...me(this,xd).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=lk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===ck&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...me(this,xd).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){me(this,un).clear(),me(this,pd).clear()}},un=new WeakMap,pd=new WeakMap,xd=new WeakMap,om=new WeakMap,lm=new WeakMap,gd=new WeakMap,cm=new WeakMap,dm=new WeakMap,P6),wa,nr,e0,ea,Yu,um,vd,xl,t0,fm,hm,Qu,Zu,yd,mm,vr,Rx,oE,lE,cE,dE,uE,fE,hE,b7,T6,Oie=(T6=class extends vp{constructor(t,r){super();Ct(this,vr);Ct(this,wa);Ct(this,nr);Ct(this,e0);Ct(this,ea);Ct(this,Yu);Ct(this,um);Ct(this,vd);Ct(this,xl);Ct(this,t0);Ct(this,fm);Ct(this,hm);Ct(this,Qu);Ct(this,Zu);Ct(this,yd);Ct(this,mm,new Set);this.options=r,ct(this,wa,t),ct(this,xl,null),ct(this,vd,iE()),this.options.experimental_prefetchInRender||me(this,vd).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(me(this,nr).addObserver(this),gR(me(this,nr),this.options)?qt(this,vr,Rx).call(this):this.updateResult(),qt(this,vr,dE).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return mE(me(this,nr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return mE(me(this,nr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,qt(this,vr,uE).call(this),qt(this,vr,fE).call(this),me(this,nr).removeObserver(this)}setOptions(t,r){const n=this.options,a=me(this,nr);if(this.options=me(this,wa).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof No(this.options.enabled,me(this,nr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");qt(this,vr,hE).call(this),me(this,nr).setOptions(this.options),n._defaulted&&!jb(this.options,n)&&me(this,wa).getQueryCache().notify({type:"observerOptionsUpdated",query:me(this,nr),observer:this});const i=this.hasListeners();i&&vR(me(this,nr),a,this.options,n)&&qt(this,vr,Rx).call(this),this.updateResult(r),i&&(me(this,nr)!==a||No(this.options.enabled,me(this,nr))!==No(n.enabled,me(this,nr))||Wh(this.options.staleTime,me(this,nr))!==Wh(n.staleTime,me(this,nr)))&&qt(this,vr,oE).call(this);const o=qt(this,vr,lE).call(this);i&&(me(this,nr)!==a||No(this.options.enabled,me(this,nr))!==No(n.enabled,me(this,nr))||o!==me(this,yd))&&qt(this,vr,cE).call(this,o)}getOptimisticResult(t){const r=me(this,wa).getQueryCache().build(me(this,wa),t),n=this.createResult(r,t);return Iie(this,n)&&(ct(this,ea,n),ct(this,um,this.options),ct(this,Yu,me(this,nr).state)),n}getCurrentResult(){return me(this,ea)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){me(this,mm).add(t)}getCurrentQuery(){return me(this,nr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=me(this,wa).defaultQueryOptions(t),n=me(this,wa).getQueryCache().build(me(this,wa),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return qt(this,vr,Rx).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),me(this,ea)))}createResult(t,r){var S;const n=me(this,nr),a=this.options,i=me(this,ea),o=me(this,Yu),l=me(this,um),d=t!==n?t.state:me(this,e0),{state:u}=t;let f={...u},h=!1,m;if(r._optimisticResults){const E=this.hasListeners(),P=!E&&gR(t,r),I=E&&vR(t,n,r,a);(P||I)&&(f={...f,...v7(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:p,status:g}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&r.select===me(this,t0))m=me(this,fm);else try{ct(this,t0,r.select),m=r.select(f.data),m=aE(i==null?void 0:i.data,m,r),ct(this,fm,m),ct(this,xl,null)}catch(E){ct(this,xl,E)}else m=f.data;if(r.placeholderData!==void 0&&m===void 0&&g==="pending"){let E;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))E=i.data;else if(E=typeof r.placeholderData=="function"?r.placeholderData((S=me(this,hm))==null?void 0:S.state.data,me(this,hm)):r.placeholderData,r.select&&E!==void 0)try{E=r.select(E),ct(this,xl,null)}catch(P){ct(this,xl,P)}E!==void 0&&(g="success",m=aE(i==null?void 0:i.data,E,r),h=!0)}me(this,xl)&&(x=me(this,xl),m=me(this,fm),p=Date.now(),g="error");const b=f.fetchStatus==="fetching",y=g==="pending",j=g==="error",w=y&&b,N=m!==void 0,C={status:g,fetchStatus:f.fetchStatus,isPending:y,isSuccess:g==="success",isError:j,isInitialLoading:w,isLoading:w,data:m,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:b,isRefetching:b&&!y,isLoadingError:j&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&N,isStale:uk(t,r),refetch:this.refetch,promise:me(this,vd)};if(this.options.experimental_prefetchInRender){const E=D=>{C.status==="error"?D.reject(C.error):C.data!==void 0&&D.resolve(C.data)},P=()=>{const D=ct(this,vd,C.promise=iE());E(D)},I=me(this,vd);switch(I.status){case"pending":t.queryHash===n.queryHash&&E(I);break;case"fulfilled":(C.status==="error"||C.data!==I.value)&&P();break;case"rejected":(C.status!=="error"||C.error!==I.reason)&&P();break}}return C}updateResult(t){const r=me(this,ea),n=this.createResult(me(this,nr),this.options);if(ct(this,Yu,me(this,nr).state),ct(this,um,this.options),me(this,Yu).data!==void 0&&ct(this,hm,me(this,nr)),jb(n,r))return;ct(this,ea,n);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!me(this,mm).size)return!0;const c=new Set(l??me(this,mm));return this.options.throwOnError&&c.add("error"),Object.keys(me(this,ea)).some(d=>{const u=d;return me(this,ea)[u]!==r[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),qt(this,vr,b7).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&qt(this,vr,dE).call(this)}},wa=new WeakMap,nr=new WeakMap,e0=new WeakMap,ea=new WeakMap,Yu=new WeakMap,um=new WeakMap,vd=new WeakMap,xl=new WeakMap,t0=new WeakMap,fm=new WeakMap,hm=new WeakMap,Qu=new WeakMap,Zu=new WeakMap,yd=new WeakMap,mm=new WeakMap,vr=new WeakSet,Rx=function(t){qt(this,vr,hE).call(this);let r=me(this,nr).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ri)),r},oE=function(){qt(this,vr,uE).call(this);const t=Wh(this.options.staleTime,me(this,nr));if(mf||me(this,ea).isStale||!nE(t))return;const n=u7(me(this,ea).dataUpdatedAt,t)+1;ct(this,Qu,setTimeout(()=>{me(this,ea).isStale||this.updateResult()},n))},lE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(me(this,nr)):this.options.refetchInterval)??!1},cE=function(t){qt(this,vr,fE).call(this),ct(this,yd,t),!(mf||No(this.options.enabled,me(this,nr))===!1||!nE(me(this,yd))||me(this,yd)===0)&&ct(this,Zu,setInterval(()=>{(this.options.refetchIntervalInBackground||dk.isFocused())&&qt(this,vr,Rx).call(this)},me(this,yd)))},dE=function(){qt(this,vr,oE).call(this),qt(this,vr,cE).call(this,qt(this,vr,lE).call(this))},uE=function(){me(this,Qu)&&(clearTimeout(me(this,Qu)),ct(this,Qu,void 0))},fE=function(){me(this,Zu)&&(clearInterval(me(this,Zu)),ct(this,Zu,void 0))},hE=function(){const t=me(this,wa).getQueryCache().build(me(this,wa),this.options);if(t===me(this,nr))return;const r=me(this,nr);ct(this,nr,t),ct(this,e0,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},b7=function(t){Gn.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(me(this,ea))}),me(this,wa).getQueryCache().notify({query:me(this,nr),type:"observerResultsUpdated"})})},T6);function Die(e,t){return No(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function gR(e,t){return Die(e,t)||e.state.data!==void 0&&mE(e,t,t.refetchOnMount)}function mE(e,t,r){if(No(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&uk(e,t)}return!1}function vR(e,t,r,n){return(e!==t||No(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&uk(e,r)}function uk(e,t){return No(t.enabled,e)!==!1&&e.isStaleByTime(Wh(t.staleTime,e))}function Iie(e,t){return!jb(e.getCurrentResult(),t)}var bd,wd,ja,ic,Nc,D1,pE,k6,Rie=(k6=class extends vp{constructor(r,n){super();Ct(this,Nc);Ct(this,bd);Ct(this,wd);Ct(this,ja);Ct(this,ic);ct(this,bd,r),this.setOptions(n),this.bindMethods(),qt(this,Nc,D1).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=me(this,bd).defaultMutationOptions(r),jb(this.options,n)||me(this,bd).getMutationCache().notify({type:"observerOptionsUpdated",mutation:me(this,ja),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&pf(n.mutationKey)!==pf(this.options.mutationKey)?this.reset():((a=me(this,ja))==null?void 0:a.state.status)==="pending"&&me(this,ja).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=me(this,ja))==null||r.removeObserver(this)}onMutationUpdate(r){qt(this,Nc,D1).call(this),qt(this,Nc,pE).call(this,r)}getCurrentResult(){return me(this,wd)}reset(){var r;(r=me(this,ja))==null||r.removeObserver(this),ct(this,ja,void 0),qt(this,Nc,D1).call(this),qt(this,Nc,pE).call(this)}mutate(r,n){var a;return ct(this,ic,n),(a=me(this,ja))==null||a.removeObserver(this),ct(this,ja,me(this,bd).getMutationCache().build(me(this,bd),this.options)),me(this,ja).addObserver(this),me(this,ja).execute(r)}},bd=new WeakMap,wd=new WeakMap,ja=new WeakMap,ic=new WeakMap,Nc=new WeakSet,D1=function(){var n;const r=((n=me(this,ja))==null?void 0:n.state)??y7();ct(this,wd,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},pE=function(r){Gn.batch(()=>{var n,a,i,o,l,c,d,u;if(me(this,ic)&&this.hasListeners()){const f=me(this,wd).variables,h=me(this,wd).context;(r==null?void 0:r.type)==="success"?((a=(n=me(this,ic)).onSuccess)==null||a.call(n,r.data,f,h),(o=(i=me(this,ic)).onSettled)==null||o.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=me(this,ic)).onError)==null||c.call(l,r.error,f,h),(u=(d=me(this,ic)).onSettled)==null||u.call(d,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(me(this,wd))})})},k6),w7=v.createContext(void 0),zr=e=>{const t=v.useContext(w7);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Mie=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(w7.Provider,{value:e,children:t})),j7=v.createContext(!1),Fie=()=>v.useContext(j7);j7.Provider;function Lie(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var $ie=v.createContext(Lie()),Bie=()=>v.useContext($ie);function N7(e,t){return typeof e=="function"?e(...t):!!e}function _7(){}var Uie=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Vie=e=>{v.useEffect(()=>{e.clearReset()},[e])},zie=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&N7(r,[e.error,n]),Wie=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Hie=(e,t)=>e.isLoading&&e.isFetching&&!t,Gie=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,yR=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function qie(e,t,r){var u,f,h,m,x;const n=zr(),a=Fie(),i=Bie(),o=n.defaultQueryOptions(e);(f=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,o),o._optimisticResults=a?"isRestoring":"optimistic",Wie(o),Uie(o,i),Vie(i);const l=!n.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new t(n,o)),d=c.getOptimisticResult(o);if(v.useSyncExternalStore(v.useCallback(p=>{const g=a?()=>{}:c.subscribe(Gn.batchCalls(p));return c.updateResult(),g},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),Gie(o,d))throw yR(o,c,i);if(zie({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw d.error;if((m=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||m.call(h,o,d),o.experimental_prefetchInRender&&!mf&&Hie(d,a)){const p=l?yR(o,c,i):(x=n.getQueryCache().get(o.queryHash))==null?void 0:x.promise;p==null||p.catch(_7).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Ds(e,t){return qie(e,Oie)}function nn(e,t){const r=zr(),[n]=v.useState(()=>new Rie(r,e));v.useEffect(()=>{n.setOptions(e)},[n,e]);const a=v.useSyncExternalStore(v.useCallback(o=>n.subscribe(Gn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=v.useCallback((o,l)=>{n.mutate(o,l).catch(_7)},[n]);if(a.error&&N7(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zg.apply(this,arguments)}var _d;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(_d||(_d={}));const bR="popstate";function Kie(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return xE("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:_b(a)}return Yie(t,r,null,e)}function Pn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function S7(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Xie(){return Math.random().toString(36).substr(2,8)}function wR(e,t){return{usr:e.state,key:e.key,idx:t}}function xE(e,t,r,n){return r===void 0&&(r=null),zg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?yp(t):t,{state:r,key:t&&t.key||n||Xie()})}function _b(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function yp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Yie(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=_d.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(zg({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=_d.Pop;let g=u(),b=g==null?null:g-d;d=g,c&&c({action:l,location:p.location,delta:b})}function h(g,b){l=_d.Push;let y=xE(p.location,g,b);d=u()+1;let j=wR(y,d),w=p.createHref(y);try{o.pushState(j,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(w)}i&&c&&c({action:l,location:p.location,delta:1})}function m(g,b){l=_d.Replace;let y=xE(p.location,g,b);d=u();let j=wR(y,d),w=p.createHref(y);o.replaceState(j,"",w),i&&c&&c({action:l,location:p.location,delta:0})}function x(g){let b=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof g=="string"?g:_b(g);return y=y.replace(/ $/,"%20"),Pn(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let p={get action(){return l},get location(){return e(a,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(bR,f),c=g,()=>{a.removeEventListener(bR,f),c=null}},createHref(g){return t(a,g)},createURL:x,encodeLocation(g){let b=x(g);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(g){return o.go(g)}};return p}var jR;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(jR||(jR={}));function Qie(e,t,r){return r===void 0&&(r="/"),Zie(e,t,r,!1)}function Zie(e,t,r,n){let a=typeof t=="string"?yp(t):t,i=fk(a.pathname||"/",r);if(i==null)return null;let o=C7(e);Jie(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=doe(i);l=loe(o[c],d,n)}return l}function C7(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Pn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Ld([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Pn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),C7(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:ioe(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of E7(i.path))a(i,o,c)}),t}function E7(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=E7(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Jie(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ooe(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const eoe=/^:[\w-]+$/,toe=3,roe=2,noe=1,soe=10,aoe=-2,NR=e=>e==="*";function ioe(e,t){let r=e.split("/"),n=r.length;return r.some(NR)&&(n+=aoe),t&&(n+=roe),r.filter(a=>!NR(a)).reduce((a,i)=>a+(eoe.test(i)?toe:i===""?noe:soe),n)}function ooe(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function loe(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=_R({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!f&&d&&r&&!n[n.length-1].route.index&&(f=_R({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Ld([i,f.pathname]),pathnameBase:moe(Ld([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Ld([i,f.pathnameBase]))}return o}function _R(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=coe(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:h,isOptional:m}=u;if(h==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const x=l[f];return m&&!x?d[h]=void 0:d[h]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function coe(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),S7(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function doe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return S7(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function fk(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function uoe(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?yp(e):e;return{pathname:r?r.startsWith("/")?r:foe(r,t):t,search:poe(n),hash:xoe(a)}}function foe(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function _2(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hoe(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function hk(e,t){let r=hoe(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function mk(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=yp(e):(a=zg({},e),Pn(!a.pathname||!a.pathname.includes("?"),_2("?","pathname","search",a)),Pn(!a.pathname||!a.pathname.includes("#"),_2("#","pathname","hash",a)),Pn(!a.search||!a.search.includes("#"),_2("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=uoe(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Ld=e=>e.join("/").replace(/\/\/+/g,"/"),moe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),poe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xoe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function goe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const A7=["post","put","patch","delete"];new Set(A7);const voe=["get",...A7];new Set(voe);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wg.apply(this,arguments)}const pk=v.createContext(null),yoe=v.createContext(null),ou=v.createContext(null),oN=v.createContext(null),Vc=v.createContext({outlet:null,matches:[],isDataRoute:!1}),P7=v.createContext(null);function boe(e,t){let{relative:r}=t===void 0?{}:t;bp()||Pn(!1);let{basename:n,navigator:a}=v.useContext(ou),{hash:i,pathname:o,search:l}=k7(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ld([n,o])),a.createHref({pathname:c,search:l,hash:i})}function bp(){return v.useContext(oN)!=null}function Ul(){return bp()||Pn(!1),v.useContext(oN).location}function T7(e){v.useContext(ou).static||v.useLayoutEffect(e)}function cr(){let{isDataRoute:e}=v.useContext(Vc);return e?Doe():woe()}function woe(){bp()||Pn(!1);let e=v.useContext(pk),{basename:t,future:r,navigator:n}=v.useContext(ou),{matches:a}=v.useContext(Vc),{pathname:i}=Ul(),o=JSON.stringify(hk(a,r.v7_relativeSplatPath)),l=v.useRef(!1);return T7(()=>{l.current=!0}),v.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=mk(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ld([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,i,e])}function so(){let{matches:e}=v.useContext(Vc),t=e[e.length-1];return t?t.params:{}}function k7(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=v.useContext(ou),{matches:a}=v.useContext(Vc),{pathname:i}=Ul(),o=JSON.stringify(hk(a,n.v7_relativeSplatPath));return v.useMemo(()=>mk(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function joe(e,t){return Noe(e,t)}function Noe(e,t,r,n){bp()||Pn(!1);let{navigator:a}=v.useContext(ou),{matches:i}=v.useContext(Vc),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Ul(),u;if(t){var f;let g=typeof t=="string"?yp(t):t;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||Pn(!1),u=g}else u=d;let h=u.pathname||"/",m=h;if(c!=="/"){let g=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=Qie(e,{pathname:m}),p=Aoe(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:Ld([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:Ld([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n);return t&&p?v.createElement(oN.Provider,{value:{location:Wg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:_d.Pop}},p):p}function _oe(){let e=Ooe(),t=goe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:a},r):null,null)}const Soe=v.createElement(_oe,null);class Coe extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(Vc.Provider,{value:this.props.routeContext},v.createElement(P7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Eoe(e){let{routeContext:t,match:r,children:n}=e,a=v.useContext(pk);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Vc.Provider,{value:t},n)}function Aoe(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||Pn(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:h,errors:m}=r,x=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let m,x=!1,p=null,g=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||Soe,c&&(d<0&&h===0?(x=!0,g=null):d===h&&(x=!0,g=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),y=()=>{let j;return m?j=p:x?j=g:f.route.Component?j=v.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=u,v.createElement(Eoe,{match:f,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:j})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?v.createElement(Coe,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var O7=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(O7||{}),Sb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Sb||{});function Poe(e){let t=v.useContext(pk);return t||Pn(!1),t}function Toe(e){let t=v.useContext(yoe);return t||Pn(!1),t}function koe(e){let t=v.useContext(Vc);return t||Pn(!1),t}function D7(e){let t=koe(),r=t.matches[t.matches.length-1];return r.route.id||Pn(!1),r.route.id}function Ooe(){var e;let t=v.useContext(P7),r=Toe(Sb.UseRouteError),n=D7(Sb.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Doe(){let{router:e}=Poe(O7.UseNavigateStable),t=D7(Sb.UseNavigateStable),r=v.useRef(!1);return T7(()=>{r.current=!0}),v.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Wg({fromRouteId:t},i)))},[e,t])}function I7(e){let{to:t,replace:r,state:n,relative:a}=e;bp()||Pn(!1);let{future:i,static:o}=v.useContext(ou),{matches:l}=v.useContext(Vc),{pathname:c}=Ul(),d=cr(),u=mk(t,hk(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(u);return v.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:a}),[d,f,a,r,n]),null}function Yt(e){Pn(!1)}function Ioe(e){let{basename:t="/",children:r=null,location:n,navigationType:a=_d.Pop,navigator:i,static:o=!1,future:l}=e;bp()&&Pn(!1);let c=t.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:c,navigator:i,static:o,future:Wg({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=yp(n));let{pathname:u="/",search:f="",hash:h="",state:m=null,key:x="default"}=n,p=v.useMemo(()=>{let g=fk(u,c);return g==null?null:{location:{pathname:g,search:f,hash:h,state:m,key:x},navigationType:a}},[c,u,f,h,m,x,a]);return p==null?null:v.createElement(ou.Provider,{value:d},v.createElement(oN.Provider,{children:r,value:p}))}function Roe(e){let{children:t,location:r}=e;return joe(gE(t),r)}new Promise(()=>{});function gE(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,a)=>{if(!v.isValidElement(n))return;let i=[...t,a];if(n.type===v.Fragment){r.push.apply(r,gE(n.props.children,i));return}n.type!==Yt&&Pn(!1),!n.props.index||!n.props.children||Pn(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=gE(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vE(){return vE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vE.apply(this,arguments)}function Moe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Foe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Loe(e,t){return e.button===0&&(!t||t==="_self")&&!Foe(e)}function yE(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function $oe(e,t){let r=yE(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Boe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Uoe="6";try{window.__reactRouterVersion=Uoe}catch{}const Voe="startTransition",SR=ZP[Voe];function zoe(e){let{basename:t,children:r,future:n,window:a}=e,i=v.useRef();i.current==null&&(i.current=Kie({window:a,v5Compat:!0}));let o=i.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=v.useCallback(f=>{d&&SR?SR(()=>c(f)):c(f)},[c,d]);return v.useLayoutEffect(()=>o.listen(u),[o,u]),v.createElement(Ioe,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Woe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Hoe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ji=v.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,h=Moe(t,Boe),{basename:m}=v.useContext(ou),x,p=!1;if(typeof d=="string"&&Hoe.test(d)&&(x=d,Woe))try{let j=new URL(window.location.href),w=d.startsWith("//")?new URL(j.protocol+d):new URL(d),N=fk(w.pathname,m);w.origin===j.origin&&N!=null?d=N+w.search+w.hash:p=!0}catch{}let g=boe(d,{relative:a}),b=Goe(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function y(j){n&&n(j),j.defaultPrevented||b(j)}return v.createElement("a",vE({},h,{href:x||g,onClick:p||i?n:y,ref:r,target:c}))});var CR;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(CR||(CR={}));var ER;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ER||(ER={}));function Goe(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=cr(),d=Ul(),u=k7(e,{relative:o});return v.useCallback(f=>{if(Loe(f,r)){f.preventDefault();let h=n!==void 0?n:_b(d)===_b(u);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,r,e,i,o,l])}function xk(e){let t=v.useRef(yE(e)),r=v.useRef(!1),n=Ul(),a=v.useMemo(()=>$oe(n.search,r.current?null:t.current),[n.search]),i=cr(),o=v.useCallback((l,c)=>{const d=yE(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}function R7(e,t){return function(){return e.apply(t,arguments)}}const{toString:qoe}=Object.prototype,{getPrototypeOf:gk}=Object,{iterator:lN,toStringTag:M7}=Symbol,cN=(e=>t=>{const r=qoe.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ho=e=>(e=e.toLowerCase(),t=>cN(t)===e),dN=e=>t=>typeof t===e,{isArray:wp}=Array,_m=dN("undefined");function p0(e){return e!==null&&!_m(e)&&e.constructor!==null&&!_m(e.constructor)&&Ia(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const F7=Ho("ArrayBuffer");function Koe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&F7(e.buffer),t}const Xoe=dN("string"),Ia=dN("function"),L7=dN("number"),x0=e=>e!==null&&typeof e=="object",Yoe=e=>e===!0||e===!1,I1=e=>{if(cN(e)!=="object")return!1;const t=gk(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(M7 in e)&&!(lN in e)},Qoe=e=>{if(!x0(e)||p0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Zoe=Ho("Date"),Joe=Ho("File"),ele=Ho("Blob"),tle=Ho("FileList"),rle=e=>x0(e)&&Ia(e.pipe),nle=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ia(e.append)&&((t=cN(e))==="formdata"||t==="object"&&Ia(e.toString)&&e.toString()==="[object FormData]"))},sle=Ho("URLSearchParams"),[ale,ile,ole,lle]=["ReadableStream","Request","Response","Headers"].map(Ho),cle=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function g0(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),wp(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(p0(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function $7(e,t){if(p0(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Lu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,B7=e=>!_m(e)&&e!==Lu;function bE(){const{caseless:e,skipUndefined:t}=B7(this)&&this||{},r={},n=(a,i)=>{const o=e&&$7(r,i)||i;I1(r[o])&&I1(a)?r[o]=bE(r[o],a):I1(a)?r[o]=bE({},a):wp(a)?r[o]=a.slice():(!t||!_m(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&g0(arguments[a],n);return r}const dle=(e,t,r,{allOwnKeys:n}={})=>(g0(t,(a,i)=>{r&&Ia(a)?e[i]=R7(a,r):e[i]=a},{allOwnKeys:n}),e),ule=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),fle=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},hle=(e,t,r,n)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&gk(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},mle=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},ple=e=>{if(!e)return null;if(wp(e))return e;let t=e.length;if(!L7(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},xle=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&gk(Uint8Array)),gle=(e,t)=>{const n=(e&&e[lN]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},vle=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},yle=Ho("HTMLFormElement"),ble=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),AR=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),wle=Ho("RegExp"),U7=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};g0(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(n[i]=o||a)}),Object.defineProperties(e,n)},jle=e=>{U7(e,(t,r)=>{if(Ia(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Ia(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Nle=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return wp(e)?n(e):n(String(e).split(t)),r},_le=()=>{},Sle=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Cle(e){return!!(e&&Ia(e.append)&&e[M7]==="FormData"&&e[lN])}const Ele=e=>{const t=new Array(10),r=(n,a)=>{if(x0(n)){if(t.indexOf(n)>=0)return;if(p0(n))return n;if(!("toJSON"in n)){t[a]=n;const i=wp(n)?[]:{};return g0(n,(o,l)=>{const c=r(o,a+1);!_m(c)&&(i[l]=c)}),t[a]=void 0,i}}return n};return r(e,0)},Ale=Ho("AsyncFunction"),Ple=e=>e&&(x0(e)||Ia(e))&&Ia(e.then)&&Ia(e.catch),V7=((e,t)=>e?setImmediate:t?((r,n)=>(Lu.addEventListener("message",({source:a,data:i})=>{a===Lu&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Lu.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ia(Lu.postMessage)),Tle=typeof queueMicrotask<"u"?queueMicrotask.bind(Lu):typeof process<"u"&&process.nextTick||V7,kle=e=>e!=null&&Ia(e[lN]),Te={isArray:wp,isArrayBuffer:F7,isBuffer:p0,isFormData:nle,isArrayBufferView:Koe,isString:Xoe,isNumber:L7,isBoolean:Yoe,isObject:x0,isPlainObject:I1,isEmptyObject:Qoe,isReadableStream:ale,isRequest:ile,isResponse:ole,isHeaders:lle,isUndefined:_m,isDate:Zoe,isFile:Joe,isBlob:ele,isRegExp:wle,isFunction:Ia,isStream:rle,isURLSearchParams:sle,isTypedArray:xle,isFileList:tle,forEach:g0,merge:bE,extend:dle,trim:cle,stripBOM:ule,inherits:fle,toFlatObject:hle,kindOf:cN,kindOfTest:Ho,endsWith:mle,toArray:ple,forEachEntry:gle,matchAll:vle,isHTMLForm:yle,hasOwnProperty:AR,hasOwnProp:AR,reduceDescriptors:U7,freezeMethods:jle,toObjectSet:Nle,toCamelCase:ble,noop:_le,toFiniteNumber:Sle,findKey:$7,global:Lu,isContextDefined:B7,isSpecCompliantForm:Cle,toJSONObject:Ele,isAsyncFn:Ale,isThenable:Ple,setImmediate:V7,asap:Tle,isIterable:kle};function Vt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Te.inherits(Vt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Te.toJSONObject(this.config),code:this.code,status:this.status}}});const z7=Vt.prototype,W7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{W7[e]={value:e}});Object.defineProperties(Vt,W7);Object.defineProperty(z7,"isAxiosError",{value:!0});Vt.from=(e,t,r,n,a,i)=>{const o=Object.create(z7);Te.toFlatObject(e,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Vt.call(o,l,c,r,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const Ole=null;function wE(e){return Te.isPlainObject(e)||Te.isArray(e)}function H7(e){return Te.endsWith(e,"[]")?e.slice(0,-2):e}function PR(e,t,r){return e?e.concat(t).map(function(a,i){return a=H7(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function Dle(e){return Te.isArray(e)&&!e.some(wE)}const Ile=Te.toFlatObject(Te,{},null,function(t){return/^is[A-Z]/.test(t)});function uN(e,t,r){if(!Te.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Te.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,g){return!Te.isUndefined(g[p])});const n=r.metaTokens,a=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Te.isSpecCompliantForm(t);if(!Te.isFunction(a))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(Te.isDate(x))return x.toISOString();if(Te.isBoolean(x))return x.toString();if(!c&&Te.isBlob(x))throw new Vt("Blob is not supported. Use a Buffer instead.");return Te.isArrayBuffer(x)||Te.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,p,g){let b=x;if(x&&!g&&typeof x=="object"){if(Te.endsWith(p,"{}"))p=n?p:p.slice(0,-2),x=JSON.stringify(x);else if(Te.isArray(x)&&Dle(x)||(Te.isFileList(x)||Te.endsWith(p,"[]"))&&(b=Te.toArray(x)))return p=H7(p),b.forEach(function(j,w){!(Te.isUndefined(j)||j===null)&&t.append(o===!0?PR([p],w,i):o===null?p:p+"[]",d(j))}),!1}return wE(x)?!0:(t.append(PR(g,p,i),d(x)),!1)}const f=[],h=Object.assign(Ile,{defaultVisitor:u,convertValue:d,isVisitable:wE});function m(x,p){if(!Te.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(x),Te.forEach(x,function(b,y){(!(Te.isUndefined(b)||b===null)&&a.call(t,b,Te.isString(y)?y.trim():y,p,h))===!0&&m(b,p?p.concat(y):[y])}),f.pop()}}if(!Te.isObject(e))throw new TypeError("data must be an object");return m(e),t}function TR(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function vk(e,t){this._pairs=[],e&&uN(e,this,t)}const G7=vk.prototype;G7.append=function(t,r){this._pairs.push([t,r])};G7.toString=function(t){const r=t?function(n){return t.call(this,n,TR)}:TR;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Rle(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function q7(e,t,r){if(!t)return e;const n=r&&r.encode||Rle;Te.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=Te.isURLSearchParams(t)?t.toString():new vk(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class kR{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Te.forEach(this.handlers,function(n){n!==null&&t(n)})}}const K7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mle=typeof URLSearchParams<"u"?URLSearchParams:vk,Fle=typeof FormData<"u"?FormData:null,Lle=typeof Blob<"u"?Blob:null,$le={isBrowser:!0,classes:{URLSearchParams:Mle,FormData:Fle,Blob:Lle},protocols:["http","https","file","blob","url","data"]},yk=typeof window<"u"&&typeof document<"u",jE=typeof navigator=="object"&&navigator||void 0,Ble=yk&&(!jE||["ReactNative","NativeScript","NS"].indexOf(jE.product)<0),Ule=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vle=yk&&window.location.href||"http://localhost",zle=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yk,hasStandardBrowserEnv:Ble,hasStandardBrowserWebWorkerEnv:Ule,navigator:jE,origin:Vle},Symbol.toStringTag,{value:"Module"})),zs={...zle,...$le};function Wle(e,t){return uN(e,new zs.classes.URLSearchParams,{visitor:function(r,n,a,i){return zs.isNode&&Te.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Hle(e){return Te.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Gle(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function X7(e){function t(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&Te.isArray(a)?a.length:o,c?(Te.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!Te.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],i)&&Te.isArray(a[o])&&(a[o]=Gle(a[o])),!l)}if(Te.isFormData(e)&&Te.isFunction(e.entries)){const r={};return Te.forEachEntry(e,(n,a)=>{t(Hle(n),a,r,0)}),r}return null}function qle(e,t,r){if(Te.isString(e))try{return(t||JSON.parse)(e),Te.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const v0={transitional:K7,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=Te.isObject(t);if(i&&Te.isHTMLForm(t)&&(t=new FormData(t)),Te.isFormData(t))return a?JSON.stringify(X7(t)):t;if(Te.isArrayBuffer(t)||Te.isBuffer(t)||Te.isStream(t)||Te.isFile(t)||Te.isBlob(t)||Te.isReadableStream(t))return t;if(Te.isArrayBufferView(t))return t.buffer;if(Te.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Wle(t,this.formSerializer).toString();if((l=Te.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return uN(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),qle(t)):t}],transformResponse:[function(t){const r=this.transitional||v0.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Te.isResponse(t)||Te.isReadableStream(t))return t;if(t&&Te.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Vt.from(l,Vt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zs.classes.FormData,Blob:zs.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Te.forEach(["delete","get","head","post","put","patch"],e=>{v0.headers[e]={}});const Kle=Te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xle=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&Kle[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},OR=Symbol("internals");function cx(e){return e&&String(e).trim().toLowerCase()}function R1(e){return e===!1||e==null?e:Te.isArray(e)?e.map(R1):String(e)}function Yle(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Qle=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function S2(e,t,r,n,a){if(Te.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!Te.isString(t)){if(Te.isString(n))return t.indexOf(n)!==-1;if(Te.isRegExp(n))return n.test(t)}}function Zle(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Jle(e,t){const r=Te.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,o){return this[n].call(this,t,a,i,o)},configurable:!0})})}class Ra{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(l,c,d){const u=cx(c);if(!u)throw new Error("header name must be a non-empty string");const f=Te.findKey(a,u);(!f||a[f]===void 0||d===!0||d===void 0&&a[f]!==!1)&&(a[f||c]=R1(l))}const o=(l,c)=>Te.forEach(l,(d,u)=>i(d,u,c));if(Te.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Te.isString(t)&&(t=t.trim())&&!Qle(t))o(Xle(t),r);else if(Te.isObject(t)&&Te.isIterable(t)){let l={},c,d;for(const u of t){if(!Te.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?Te.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=cx(t),t){const n=Te.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return Yle(a);if(Te.isFunction(r))return r.call(this,a,n);if(Te.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=cx(t),t){const n=Te.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||S2(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(o){if(o=cx(o),o){const l=Te.findKey(n,o);l&&(!r||S2(n,n[l],l,r))&&(delete n[l],a=!0)}}return Te.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||S2(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return Te.forEach(this,(a,i)=>{const o=Te.findKey(n,i);if(o){r[o]=R1(a),delete r[i];return}const l=t?Zle(i):String(i).trim();l!==i&&delete r[i],r[l]=R1(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Te.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&Te.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[OR]=this[OR]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=cx(o);n[l]||(Jle(a,o),n[l]=!0)}return Te.isArray(t)?t.forEach(i):i(t),this}}Ra.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Te.reduceDescriptors(Ra.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Te.freezeMethods(Ra);function C2(e,t){const r=this||v0,n=t||r,a=Ra.from(n.headers);let i=n.data;return Te.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function Y7(e){return!!(e&&e.__CANCEL__)}function jp(e,t,r){Vt.call(this,e??"canceled",Vt.ERR_CANCELED,t,r),this.name="CanceledError"}Te.inherits(jp,Vt,{__CANCEL__:!0});function Q7(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Vt("Request failed with status code "+r.status,[Vt.ERR_BAD_REQUEST,Vt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ece(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function tce(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[i];o||(o=d),r[a]=c,n[a]=d;let f=i,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<t)return;const m=u&&d-u;return m?Math.round(h*1e3/m):void 0}}function rce(e,t){let r=0,n=1e3/t,a,i;const o=(d,u=Date.now())=>{r=u,a=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),f=u-r;f>=n?o(d,u):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},n-f)))},()=>a&&o(a)]}const Cb=(e,t,r=3)=>{let n=0;const a=tce(50,250);return rce(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,d=a(c),u=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},DR=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},IR=e=>(...t)=>Te.asap(()=>e(...t)),nce=zs.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,zs.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(zs.origin),zs.navigator&&/(msie|trident)/i.test(zs.navigator.userAgent)):()=>!0,sce=zs.hasStandardBrowserEnv?{write(e,t,r,n,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];Te.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),Te.isString(n)&&l.push(`path=${n}`),Te.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),Te.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ace(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ice(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Z7(e,t,r){let n=!ace(t);return e&&(n||r==!1)?ice(e,t):t}const RR=e=>e instanceof Ra?{...e}:e;function xf(e,t){t=t||{};const r={};function n(d,u,f,h){return Te.isPlainObject(d)&&Te.isPlainObject(u)?Te.merge.call({caseless:h},d,u):Te.isPlainObject(u)?Te.merge({},u):Te.isArray(u)?u.slice():u}function a(d,u,f,h){if(Te.isUndefined(u)){if(!Te.isUndefined(d))return n(void 0,d,f,h)}else return n(d,u,f,h)}function i(d,u){if(!Te.isUndefined(u))return n(void 0,u)}function o(d,u){if(Te.isUndefined(u)){if(!Te.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function l(d,u,f){if(f in t)return n(d,u);if(f in e)return n(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,f)=>a(RR(d),RR(u),f,!0)};return Te.forEach(Object.keys({...e,...t}),function(u){const f=c[u]||a,h=f(e[u],t[u],u);Te.isUndefined(h)&&f!==l||(r[u]=h)}),r}const J7=e=>{const t=xf({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Ra.from(o),t.url=q7(Z7(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Te.isFormData(r)){if(zs.hasStandardBrowserEnv||zs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Te.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{d.includes(u.toLowerCase())&&o.set(u,f)})}}if(zs.hasStandardBrowserEnv&&(n&&Te.isFunction(n)&&(n=n(t)),n||n!==!1&&nce(t.url))){const c=a&&i&&sce.read(i);c&&o.set(a,c)}return t},oce=typeof XMLHttpRequest<"u",lce=oce&&function(e){return new Promise(function(r,n){const a=J7(e);let i=a.data;const o=Ra.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,f,h,m,x;function p(){m&&m(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function b(){if(!g)return;const j=Ra.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:j,config:e,request:g};Q7(function(C){r(C),p()},function(C){n(C),p()},N),g=null}"onloadend"in g?g.onloadend=b:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(b)},g.onabort=function(){g&&(n(new Vt("Request aborted",Vt.ECONNABORTED,e,g)),g=null)},g.onerror=function(w){const N=w&&w.message?w.message:"Network Error",_=new Vt(N,Vt.ERR_NETWORK,e,g);_.event=w||null,n(_),g=null},g.ontimeout=function(){let w=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||K7;a.timeoutErrorMessage&&(w=a.timeoutErrorMessage),n(new Vt(w,N.clarifyTimeoutError?Vt.ETIMEDOUT:Vt.ECONNABORTED,e,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&Te.forEach(o.toJSON(),function(w,N){g.setRequestHeader(N,w)}),Te.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),l&&l!=="json"&&(g.responseType=a.responseType),d&&([h,x]=Cb(d,!0),g.addEventListener("progress",h)),c&&g.upload&&([f,m]=Cb(c),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(u=j=>{g&&(n(!j||j.type?new jp(null,e,g):j),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const y=ece(a.url);if(y&&zs.protocols.indexOf(y)===-1){n(new Vt("Unsupported protocol "+y+":",Vt.ERR_BAD_REQUEST,e));return}g.send(i||null)})},cce=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;n.abort(u instanceof Vt?u:new jp(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new Vt(`timeout ${t} of ms exceeded`,Vt.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>Te.asap(l),c}},dce=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},uce=async function*(e,t){for await(const r of fce(e))yield*dce(r,t)},fce=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},MR=(e,t,r,n)=>{const a=uce(e,t);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let f=u.byteLength;if(r){let h=i+=f;r(h)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},FR=64*1024,{isFunction:Ty}=Te,hce=(({Request:e,Response:t})=>({Request:e,Response:t}))(Te.global),{ReadableStream:LR,TextEncoder:$R}=Te.global,BR=(e,...t)=>{try{return!!e(...t)}catch{return!1}},mce=e=>{e=Te.merge.call({skipUndefined:!0},hce,e);const{fetch:t,Request:r,Response:n}=e,a=t?Ty(t):typeof fetch=="function",i=Ty(r),o=Ty(n);if(!a)return!1;const l=a&&Ty(LR),c=a&&(typeof $R=="function"?(x=>p=>x.encode(p))(new $R):async x=>new Uint8Array(await new r(x).arrayBuffer())),d=i&&l&&BR(()=>{let x=!1;const p=new r(zs.origin,{body:new LR,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!p}),u=o&&l&&BR(()=>Te.isReadableStream(new n("").body)),f={stream:u&&(x=>x.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!f[x]&&(f[x]=(p,g)=>{let b=p&&p[x];if(b)return b.call(p);throw new Vt(`Response type '${x}' is not supported`,Vt.ERR_NOT_SUPPORT,g)})});const h=async x=>{if(x==null)return 0;if(Te.isBlob(x))return x.size;if(Te.isSpecCompliantForm(x))return(await new r(zs.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(Te.isArrayBufferView(x)||Te.isArrayBuffer(x))return x.byteLength;if(Te.isURLSearchParams(x)&&(x=x+""),Te.isString(x))return(await c(x)).byteLength},m=async(x,p)=>{const g=Te.toFiniteNumber(x.getContentLength());return g??h(p)};return async x=>{let{url:p,method:g,data:b,signal:y,cancelToken:j,timeout:w,onDownloadProgress:N,onUploadProgress:_,responseType:C,headers:S,withCredentials:E="same-origin",fetchOptions:P}=J7(x),I=t||fetch;C=C?(C+"").toLowerCase():"text";let D=cce([y,j&&j.toAbortSignal()],w),U=null;const F=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let M;try{if(_&&d&&g!=="get"&&g!=="head"&&(M=await m(S,b))!==0){let de=new r(p,{method:"POST",body:b,duplex:"half"}),T;if(Te.isFormData(b)&&(T=de.headers.get("content-type"))&&S.setContentType(T),de.body){const[L,R]=DR(M,Cb(IR(_)));b=MR(de.body,FR,L,R)}}Te.isString(E)||(E=E?"include":"omit");const O=i&&"credentials"in r.prototype,A={...P,signal:D,method:g.toUpperCase(),headers:S.normalize().toJSON(),body:b,duplex:"half",credentials:O?E:void 0};U=i&&new r(p,A);let k=await(i?I(U,P):I(p,A));const W=u&&(C==="stream"||C==="response");if(u&&(N||W&&F)){const de={};["status","statusText","headers"].forEach(K=>{de[K]=k[K]});const T=Te.toFiniteNumber(k.headers.get("content-length")),[L,R]=N&&DR(T,Cb(IR(N),!0))||[];k=new n(MR(k.body,FR,L,()=>{R&&R(),F&&F()}),de)}C=C||"text";let fe=await f[Te.findKey(f,C)||"text"](k,x);return!W&&F&&F(),await new Promise((de,T)=>{Q7(de,T,{data:fe,headers:Ra.from(k.headers),status:k.status,statusText:k.statusText,config:x,request:U})})}catch(O){throw F&&F(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new Vt("Network Error",Vt.ERR_NETWORK,x,U),{cause:O.cause||O}):Vt.from(O,O&&O.code,x,U)}}},pce=new Map,eU=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,i=[n,a,r];let o=i.length,l=o,c,d,u=pce;for(;l--;)c=i[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:mce(t)),u=d;return d};eU();const bk={http:Ole,xhr:lce,fetch:{get:eU}};Te.forEach(bk,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const UR=e=>`- ${e}`,xce=e=>Te.isFunction(e)||e===null||e===!1;function gce(e,t){e=Te.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!xce(n)&&(a=bk[(l=String(n)).toLowerCase()],a===void 0))throw new Vt(`Unknown adapter '${l}'`);if(a&&(Te.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(UR).join(`
`):" "+UR(o[0]):"as no adapter specified";throw new Vt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const tU={getAdapter:gce,adapters:bk};function E2(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new jp(null,e)}function VR(e){return E2(e),e.headers=Ra.from(e.headers),e.data=C2.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),tU.getAdapter(e.adapter||v0.adapter,e)(e).then(function(n){return E2(e),n.data=C2.call(e,e.transformResponse,n),n.headers=Ra.from(n.headers),n},function(n){return Y7(n)||(E2(e),n&&n.response&&(n.response.data=C2.call(e,e.transformResponse,n.response),n.response.headers=Ra.from(n.response.headers))),Promise.reject(n)})}const rU="1.13.2",fN={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{fN[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const zR={};fN.transitional=function(t,r,n){function a(i,o){return"[Axios v"+rU+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new Vt(a(o," has been removed"+(r?" in "+r:"")),Vt.ERR_DEPRECATED);return r&&!zR[o]&&(zR[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};fN.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function vce(e,t,r){if(typeof e!="object")throw new Vt("options must be an object",Vt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new Vt("option "+i+" must be "+c,Vt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Vt("Unknown option "+i,Vt.ERR_BAD_OPTION)}}const M1={assertOptions:vce,validators:fN},il=M1.validators;class tf{constructor(t){this.defaults=t||{},this.interceptors={request:new kR,response:new kR}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=xf(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&M1.assertOptions(n,{silentJSONParsing:il.transitional(il.boolean),forcedJSONParsing:il.transitional(il.boolean),clarifyTimeoutError:il.transitional(il.boolean)},!1),a!=null&&(Te.isFunction(a)?r.paramsSerializer={serialize:a}:M1.assertOptions(a,{encode:il.function,serialize:il.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),M1.assertOptions(r,{baseUrl:il.spelling("baseURL"),withXsrfToken:il.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Te.merge(i.common,i[r.method]);i&&Te.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),r.headers=Ra.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,f=0,h;if(!c){const x=[VR.bind(this),void 0];for(x.unshift(...l),x.push(...d),h=x.length,u=Promise.resolve(r);f<h;)u=u.then(x[f++],x[f++]);return u}h=l.length;let m=r;for(;f<h;){const x=l[f++],p=l[f++];try{m=x(m)}catch(g){p.call(this,g);break}}try{u=VR.call(this,m)}catch(x){return Promise.reject(x)}for(f=0,h=d.length;f<h;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=xf(this.defaults,t);const r=Z7(t.baseURL,t.url,t.allowAbsoluteUrls);return q7(r,t.params,t.paramsSerializer)}}Te.forEach(["delete","get","head","options"],function(t){tf.prototype[t]=function(r,n){return this.request(xf(n||{},{method:t,url:r,data:(n||{}).data}))}});Te.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(xf(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}tf.prototype[t]=r(),tf.prototype[t+"Form"]=r(!0)});class wk{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new jp(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new wk(function(a){t=a}),cancel:t}}}function yce(e){return function(r){return e.apply(null,r)}}function bce(e){return Te.isObject(e)&&e.isAxiosError===!0}const NE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(NE).forEach(([e,t])=>{NE[t]=e});function nU(e){const t=new tf(e),r=R7(tf.prototype.request,t);return Te.extend(r,tf.prototype,t,{allOwnKeys:!0}),Te.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return nU(xf(e,a))},r}const ir=nU(v0);ir.Axios=tf;ir.CanceledError=jp;ir.CancelToken=wk;ir.isCancel=Y7;ir.VERSION=rU;ir.toFormData=uN;ir.AxiosError=Vt;ir.Cancel=ir.CanceledError;ir.all=function(t){return Promise.all(t)};ir.spread=yce;ir.isAxiosError=bce;ir.mergeConfig=xf;ir.AxiosHeaders=Ra;ir.formToJSON=e=>X7(Te.isHTMLForm(e)?new FormData(e):e);ir.getAdapter=tU.getAdapter;ir.HttpStatusCode=NE;ir.default=ir;const ji="https://procurement.buy2rent.eu/api",hN="https://procurement.buy2rent.eu/auth";console.log("API Configuration:",{API_BASE_URL:ji,AUTH_BASE_URL:hN,mode:"production"});const Ls=ir.create({baseURL:hN,timeout:1e4,headers:{"Content-Type":"application/json"}});let dx=!1,_E=[];const ky=(e=null)=>{_E.forEach(t=>{e?t.reject(e):t.resolve()}),_E=[]};Ls.interceptors.response.use(e=>e,async e=>{var r,n;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if((n=t.url)!=null&&n.includes("/refresh/"))return Zr.clearTokens(),dx=!1,ky(e),Promise.reject(e);if(dx)return new Promise((i,o)=>{_E.push({resolve:i,reject:o})}).then(()=>Ls(t)).catch(i=>Promise.reject(i));t._retry=!0,dx=!0;const a=Zr.getRefreshToken();if(!a)return dx=!1,Zr.clearTokens(),ky(e),Promise.reject(e);try{const i=await Ls.post("/refresh/",{refresh:a}),{access:o}=i.data,l=Zr.getRefreshToken();return l&&Zr.setTokens(o,l),t.headers.Authorization=`Bearer ${o}`,ky(),Ls(t)}catch(i){return ky(i),Zr.clearTokens(),Promise.reject(i)}finally{dx=!1}}return Promise.reject(e)});const tc={async login(e){return(await Ls.post("/login/",e)).data},async register(e){const r=(await Ls.post("/register/",e)).data;return{access:r.tokens.access,refresh:r.tokens.refresh,user:r.user}},async refreshToken(e){return(await Ls.post("/refresh/",{refresh:e})).data},async logout(e){const t=localStorage.getItem("access_token");await Ls.post("/logout/",{refresh:e},{headers:t?{Authorization:`Bearer ${t}`}:{}})},async getProfile(){const e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found");return(await Ls.get("/profile/",{headers:{Authorization:`Bearer ${e}`}})).data},async updateProfile(e){const t=localStorage.getItem("access_token");if(!t)throw new Error("No access token found");return(await Ls.put("/profile/",e,{headers:{Authorization:`Bearer ${t}`}})).data},async requestPasswordReset(e){await Ls.post("/password-reset/",e)},async confirmPasswordReset(e){await Ls.post("/password-reset-confirm/",e)},async changePassword(e){const t=localStorage.getItem("access_token");if(!t)throw new Error("No access token found");await Ls.post("/change-password/",e,{headers:{Authorization:`Bearer ${t}`}})},async getSessions(){const e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found");return(await Ls.get("/sessions/",{headers:{Authorization:`Bearer ${e}`}})).data},async terminateSession(e){const t=localStorage.getItem("access_token");if(!t)throw new Error("No access token found");await Ls.delete(`/sessions/${e}/`,{headers:{Authorization:`Bearer ${t}`}})},async terminateAllSessions(){const e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found");await Ls.delete("/sessions/",{headers:{Authorization:`Bearer ${e}`}})}},Zr={getAccessToken(){return localStorage.getItem("access_token")},getRefreshToken(){return localStorage.getItem("refresh_token")},setTokens(e,t){localStorage.setItem("access_token",e),localStorage.setItem("refresh_token",t)},clearTokens(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},isAuthenticated(){return!!this.getAccessToken()}},sU=v.createContext(void 0);function wce({children:e}){const[t,r]=v.useState(null),[n,a]=v.useState(!0);v.useEffect(()=>{const p=setTimeout(()=>{console.warn("Auth check timed out after 15 seconds"),a(!1)},15e3);return i().finally(()=>{clearTimeout(p)}),()=>clearTimeout(p)},[]);const i=async()=>{try{const p=Zr.getAccessToken(),g=Zr.getRefreshToken();if(!p&&!g){a(!1);return}if(!p&&g)try{const b=await tc.refreshToken(g);Zr.setTokens(b.access,g)}catch(b){console.error("Token refresh failed during auth check:",b),Zr.clearTokens(),a(!1);return}if(Zr.getAccessToken())try{const b=await tc.getProfile();r({...b,name:b.first_name&&b.last_name?`${b.first_name} ${b.last_name}`:b.username})}catch(b){console.error("Profile fetch failed:",b),Zr.clearTokens(),r(null)}}catch(p){console.error("Auth check failed:",p),Zr.clearTokens(),r(null)}finally{a(!1)}},o=async()=>{try{const p=await tc.getProfile();r({...p,name:p.first_name&&p.last_name?`${p.first_name} ${p.last_name}`:p.username})}catch(p){throw console.error("Failed to refresh user:",p),p}},l=async(p,g)=>{var b,y,j,w,N,_;try{const C=await tc.login({email:p,password:g});Zr.setTokens(C.access,C.refresh),r({...C.user,name:C.user.first_name&&C.user.last_name?`${C.user.first_name} ${C.user.last_name}`:C.user.username})}catch(C){console.error("Login failed:",C);const S=((y=(b=C.response)==null?void 0:b.data)==null?void 0:y.message)||((w=(j=C.response)==null?void 0:j.data)==null?void 0:w.detail)||((_=(N=C.response)==null?void 0:N.data)==null?void 0:_.error)||C.message||"Login failed";throw new Error(S)}},c=async(p,g,b)=>{var y,j,w,N,_,C,S,E,P,I;try{const D=(b==null?void 0:b.split(" "))||[],U=D[0]||"User",F=D.slice(1).join(" ")||"Name",M=await tc.register({username:p.split("@")[0],email:p,password:g,password_confirm:g,first_name:U,last_name:F});Zr.setTokens(M.access,M.refresh),r({...M.user,name:M.user.first_name&&M.user.last_name?`${M.user.first_name} ${M.user.last_name}`:M.user.username})}catch(D){console.error("Signup failed:",D);const U=((j=(y=D.response)==null?void 0:y.data)==null?void 0:j.details)||((N=(w=D.response)==null?void 0:w.data)==null?void 0:N.errors);let F=((C=(_=D.response)==null?void 0:_.data)==null?void 0:C.message)||((E=(S=D.response)==null?void 0:S.data)==null?void 0:E.detail)||((I=(P=D.response)==null?void 0:P.data)==null?void 0:I.error)||D.message||"Signup failed";if(U&&typeof U=="object"){const M=Object.values(U)[0];Array.isArray(M)?F=M[0]:typeof M=="string"&&(F=M)}throw new Error(F)}},d=async()=>{try{window.location.href="/api/auth/google"}catch(p){throw p}},u=async()=>{try{window.location.href="/api/auth/facebook"}catch(p){throw p}},f=async()=>{try{window.location.href="/api/auth/twitter"}catch(p){throw p}},h=async()=>{try{const p=Zr.getRefreshToken();p&&await tc.logout(p),Zr.clearTokens(),r(null)}catch(p){console.error("Logout failed:",p),Zr.clearTokens(),r(null)}},m=async p=>{var g,b;try{await tc.requestPasswordReset({email:p})}catch(y){throw console.error("Password reset failed:",y),new Error(((b=(g=y.response)==null?void 0:g.data)==null?void 0:b.detail)||y.message||"Password reset failed")}},x=async p=>{try{console.warn("Email verification not implemented yet")}catch(g){throw g}};return s.jsx(sU.Provider,{value:{user:t,loading:n,login:l,signup:c,loginWithGoogle:d,loginWithFacebook:u,loginWithTwitter:f,logout:h,resetPassword:m,verifyEmail:x,refreshUser:o},children:e})}function y0(){const e=v.useContext(sU);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function dr({children:e}){const{user:t,loading:r}=y0(),n=Ul();if(r)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});const a=Zr.isAuthenticated();return!t&&!a?s.jsx(I7,{to:"/login",state:{from:n},replace:!0}):a&&!t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Authenticating..."})]})}):s.jsx(s.Fragment,{children:e})}function jce({children:e,...t}){return s.jsx(fse,{...t,children:e})}var b0=e=>e.type==="checkbox",$u=e=>e instanceof Date,na=e=>e==null;const aU=e=>typeof e=="object";var Tn=e=>!na(e)&&!Array.isArray(e)&&aU(e)&&!$u(e),Nce=e=>Tn(e)&&e.target?b0(e.target)?e.target.checked:e.target.value:e,_ce=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Sce=(e,t)=>e.has(_ce(t)),Cce=e=>{const t=e.constructor&&e.constructor.prototype;return Tn(t)&&t.hasOwnProperty("isPrototypeOf")},jk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ki(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(jk&&(e instanceof Blob||e instanceof FileList))&&(r||Tn(e)))if(t=r?[]:{},!r&&!Cce(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=ki(e[n]));else return e;return t}var mN=e=>Array.isArray(e)?e.filter(Boolean):[],_n=e=>e===void 0,ht=(e,t,r)=>{if(!t||!Tn(e))return r;const n=mN(t.split(/[,[\].]+?/)).reduce((a,i)=>na(a)?a:a[i],e);return _n(n)||n===e?_n(e[t])?r:e[t]:n},ul=e=>typeof e=="boolean",Nk=e=>/^\w*$/.test(e),iU=e=>mN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Tr=(e,t,r)=>{let n=-1;const a=Nk(t)?[t]:iU(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const d=e[l];c=Tn(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const WR={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},_o={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Xl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};B.createContext(null);var Ece=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==_o.all&&(t._proxyFormState[o]=!n||_o.all),e[o]}});return a},Na=e=>Tn(e)&&!Object.keys(e).length,Ace=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Na(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===_o.all)},F1=e=>Array.isArray(e)?e:[e];function Pce(e){const t=B.useRef(e);t.current=e,B.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var yl=e=>typeof e=="string",Tce=(e,t,r,n,a)=>yl(e)?(n&&t.watch.add(e),ht(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),ht(r,i))):(n&&(t.watchAll=!0),r),oU=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},HR=e=>({isOnSubmit:!e||e===_o.onSubmit,isOnBlur:e===_o.onBlur,isOnChange:e===_o.onChange,isOnAll:e===_o.all,isOnTouch:e===_o.onTouched}),GR=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Jx=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=ht(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Jx(l,t))break}else if(Tn(l)&&Jx(l,t))break}}};var kce=(e,t,r)=>{const n=F1(ht(e,r));return Tr(n,"root",t[r]),Tr(e,r,n),e},_k=e=>e.type==="file",dc=e=>typeof e=="function",Eb=e=>{if(!jk)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},L1=e=>yl(e),Sk=e=>e.type==="radio",Ab=e=>e instanceof RegExp;const qR={value:!1,isValid:!1},KR={value:!0,isValid:!0};var lU=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!_n(e[0].attributes.value)?_n(e[0].value)||e[0].value===""?KR:{value:e[0].value,isValid:!0}:KR:qR}return qR};const XR={isValid:!1,value:null};var cU=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,XR):XR;function YR(e,t,r="validate"){if(L1(e)||Array.isArray(e)&&e.every(L1)||ul(e)&&!e)return{type:r,message:L1(e)?e:"",ref:t}}var eh=e=>Tn(e)&&!Ab(e)?e:{value:e,message:""},QR=async(e,t,r,n,a)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:d,min:u,max:f,pattern:h,validate:m,name:x,valueAsNumber:p,mount:g,disabled:b}=e._f,y=ht(t,x);if(!g||b)return{};const j=o?o[0]:i,w=D=>{n&&j.reportValidity&&(j.setCustomValidity(ul(D)?"":D||""),j.reportValidity())},N={},_=Sk(i),C=b0(i),S=_||C,E=(p||_k(i))&&_n(i.value)&&_n(y)||Eb(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,P=oU.bind(null,x,r,N),I=(D,U,F,M=Xl.maxLength,O=Xl.minLength)=>{const A=D?U:F;N[x]={type:D?M:O,message:A,ref:i,...P(D?M:O,A)}};if(a?!Array.isArray(y)||!y.length:l&&(!S&&(E||na(y))||ul(y)&&!y||C&&!lU(o).isValid||_&&!cU(o).isValid)){const{value:D,message:U}=L1(l)?{value:!!l,message:l}:eh(l);if(D&&(N[x]={type:Xl.required,message:U,ref:j,...P(Xl.required,U)},!r))return w(U),N}if(!E&&(!na(u)||!na(f))){let D,U;const F=eh(f),M=eh(u);if(!na(y)&&!isNaN(y)){const O=i.valueAsNumber||y&&+y;na(F.value)||(D=O>F.value),na(M.value)||(U=O<M.value)}else{const O=i.valueAsDate||new Date(y),A=fe=>new Date(new Date().toDateString()+" "+fe),k=i.type=="time",W=i.type=="week";yl(F.value)&&y&&(D=k?A(y)>A(F.value):W?y>F.value:O>new Date(F.value)),yl(M.value)&&y&&(U=k?A(y)<A(M.value):W?y<M.value:O<new Date(M.value))}if((D||U)&&(I(!!D,F.message,M.message,Xl.max,Xl.min),!r))return w(N[x].message),N}if((c||d)&&!E&&(yl(y)||a&&Array.isArray(y))){const D=eh(c),U=eh(d),F=!na(D.value)&&y.length>+D.value,M=!na(U.value)&&y.length<+U.value;if((F||M)&&(I(F,D.message,U.message),!r))return w(N[x].message),N}if(h&&!E&&yl(y)){const{value:D,message:U}=eh(h);if(Ab(D)&&!y.match(D)&&(N[x]={type:Xl.pattern,message:U,ref:i,...P(Xl.pattern,U)},!r))return w(U),N}if(m){if(dc(m)){const D=await m(y,t),U=YR(D,j);if(U&&(N[x]={...U,...P(Xl.validate,U.message)},!r))return w(U.message),N}else if(Tn(m)){let D={};for(const U in m){if(!Na(D)&&!r)break;const F=YR(await m[U](y,t),j,U);F&&(D={...F,...P(U,F.message)},w(F.message),r&&(N[x]=D))}if(!Na(D)&&(N[x]={ref:j,...D},!r))return N}}return w(!0),N};function Oce(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=_n(e)?n++:e[t[n++]];return e}function Dce(e){for(const t in e)if(e.hasOwnProperty(t)&&!_n(e[t]))return!1;return!0}function Vn(e,t){const r=Array.isArray(t)?t:Nk(t)?[t]:iU(t),n=r.length===1?e:Oce(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Tn(n)&&Na(n)||Array.isArray(n)&&Dce(n))&&Vn(e,r.slice(0,-1)),e}var A2=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},SE=e=>na(e)||!aU(e);function ud(e,t){if(SE(e)||SE(t))return e===t;if($u(e)&&$u(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=t[a];if($u(i)&&$u(o)||Tn(i)&&Tn(o)||Array.isArray(i)&&Array.isArray(o)?!ud(i,o):i!==o)return!1}}return!0}var dU=e=>e.type==="select-multiple",Ice=e=>Sk(e)||b0(e),P2=e=>Eb(e)&&e.isConnected,uU=e=>{for(const t in e)if(dc(e[t]))return!0;return!1};function Pb(e,t={}){const r=Array.isArray(e);if(Tn(e)||r)for(const n in e)Array.isArray(e[n])||Tn(e[n])&&!uU(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Pb(e[n],t[n])):na(e[n])||(t[n]=!0);return t}function fU(e,t,r){const n=Array.isArray(e);if(Tn(e)||n)for(const a in e)Array.isArray(e[a])||Tn(e[a])&&!uU(e[a])?_n(t)||SE(r[a])?r[a]=Array.isArray(e[a])?Pb(e[a],[]):{...Pb(e[a])}:fU(e[a],na(t)?{}:t[a],r[a]):r[a]=!ud(e[a],t[a]);return r}var ux=(e,t)=>fU(e,t,Pb(t)),hU=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>_n(e)?e:t?e===""?NaN:e&&+e:r&&yl(e)?new Date(e):n?n(e):e;function T2(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return _k(t)?t.files:Sk(t)?cU(e.refs).value:dU(t)?[...t.selectedOptions].map(({value:r})=>r):b0(t)?lU(e.refs).value:hU(_n(t.value)?e.ref.value:t.value,e)}var Rce=(e,t,r,n)=>{const a={};for(const i of e){const o=ht(t,i);o&&Tr(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},fx=e=>_n(e)?e:Ab(e)?e.source:Tn(e)?Ab(e.value)?e.value.source:e.value:e;const ZR="AsyncFunction";var Mce=e=>(!e||!e.validate)&&!!(dc(e.validate)&&e.validate.constructor.name===ZR||Tn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===ZR)),Fce=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function JR(e,t,r){const n=ht(e,r);if(n||Nk(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=ht(t,i),l=ht(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var Lce=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,$ce=(e,t)=>!mN(ht(e,t)).length&&Vn(e,t);const Bce={mode:_o.onSubmit,reValidateMode:_o.onChange,shouldFocusError:!0};function Uce(e={}){let t={...Bce,...e},r={submitCount:0,isDirty:!1,isLoading:dc(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Tn(t.defaultValues)||Tn(t.values)?ki(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:ki(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:A2(),array:A2(),state:A2()},h=HR(t.mode),m=HR(t.reValidateMode),x=t.criteriaMode===_o.all,p=G=>ce=>{clearTimeout(d),d=setTimeout(G,ce)},g=async G=>{if(!e.disabled&&(u.isValid||G)){const ce=t.resolver?Na((await S()).errors):await P(n,!0);ce!==r.isValid&&f.state.next({isValid:ce})}},b=(G,ce)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((G||Array.from(l.mount)).forEach(xe=>{xe&&(ce?Tr(r.validatingFields,xe,ce):Vn(r.validatingFields,xe))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Na(r.validatingFields)}))},y=(G,ce=[],xe,ve,ge=!0,Ae=!0)=>{if(ve&&xe&&!e.disabled){if(o.action=!0,Ae&&Array.isArray(ht(n,G))){const ae=xe(ht(n,G),ve.argA,ve.argB);ge&&Tr(n,G,ae)}if(Ae&&Array.isArray(ht(r.errors,G))){const ae=xe(ht(r.errors,G),ve.argA,ve.argB);ge&&Tr(r.errors,G,ae),$ce(r.errors,G)}if(u.touchedFields&&Ae&&Array.isArray(ht(r.touchedFields,G))){const ae=xe(ht(r.touchedFields,G),ve.argA,ve.argB);ge&&Tr(r.touchedFields,G,ae)}u.dirtyFields&&(r.dirtyFields=ux(a,i)),f.state.next({name:G,isDirty:D(G,ce),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Tr(i,G,ce)},j=(G,ce)=>{Tr(r.errors,G,ce),f.state.next({errors:r.errors})},w=G=>{r.errors=G,f.state.next({errors:r.errors,isValid:!1})},N=(G,ce,xe,ve)=>{const ge=ht(n,G);if(ge){const Ae=ht(i,G,_n(xe)?ht(a,G):xe);_n(Ae)||ve&&ve.defaultChecked||ce?Tr(i,G,ce?Ae:T2(ge._f)):M(G,Ae),o.mount&&g()}},_=(G,ce,xe,ve,ge)=>{let Ae=!1,ae=!1;const we={name:G};if(!e.disabled){const lt=!!(ht(n,G)&&ht(n,G)._f&&ht(n,G)._f.disabled);if(!xe||ve){u.isDirty&&(ae=r.isDirty,r.isDirty=we.isDirty=D(),Ae=ae!==we.isDirty);const Je=lt||ud(ht(a,G),ce);ae=!!(!lt&&ht(r.dirtyFields,G)),Je||lt?Vn(r.dirtyFields,G):Tr(r.dirtyFields,G,!0),we.dirtyFields=r.dirtyFields,Ae=Ae||u.dirtyFields&&ae!==!Je}if(xe){const Je=ht(r.touchedFields,G);Je||(Tr(r.touchedFields,G,xe),we.touchedFields=r.touchedFields,Ae=Ae||u.touchedFields&&Je!==xe)}Ae&&ge&&f.state.next(we)}return Ae?we:{}},C=(G,ce,xe,ve)=>{const ge=ht(r.errors,G),Ae=u.isValid&&ul(ce)&&r.isValid!==ce;if(e.delayError&&xe?(c=p(()=>j(G,xe)),c(e.delayError)):(clearTimeout(d),c=null,xe?Tr(r.errors,G,xe):Vn(r.errors,G)),(xe?!ud(ge,xe):ge)||!Na(ve)||Ae){const ae={...ve,...Ae&&ul(ce)?{isValid:ce}:{},errors:r.errors,name:G};r={...r,...ae},f.state.next(ae)}},S=async G=>{b(G,!0);const ce=await t.resolver(i,t.context,Rce(G||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(G),ce},E=async G=>{const{errors:ce}=await S(G);if(G)for(const xe of G){const ve=ht(ce,xe);ve?Tr(r.errors,xe,ve):Vn(r.errors,xe)}else r.errors=ce;return ce},P=async(G,ce,xe={valid:!0})=>{for(const ve in G){const ge=G[ve];if(ge){const{_f:Ae,...ae}=ge;if(Ae){const we=l.array.has(Ae.name),lt=ge._f&&Mce(ge._f);lt&&u.validatingFields&&b([ve],!0);const Je=await QR(ge,i,x,t.shouldUseNativeValidation&&!ce,we);if(lt&&u.validatingFields&&b([ve]),Je[Ae.name]&&(xe.valid=!1,ce))break;!ce&&(ht(Je,Ae.name)?we?kce(r.errors,Je,Ae.name):Tr(r.errors,Ae.name,Je[Ae.name]):Vn(r.errors,Ae.name))}!Na(ae)&&await P(ae,ce,xe)}}return xe.valid},I=()=>{for(const G of l.unMount){const ce=ht(n,G);ce&&(ce._f.refs?ce._f.refs.every(xe=>!P2(xe)):!P2(ce._f.ref))&&q(G)}l.unMount=new Set},D=(G,ce)=>!e.disabled&&(G&&ce&&Tr(i,G,ce),!ud(de(),a)),U=(G,ce,xe)=>Tce(G,l,{...o.mount?i:_n(ce)?a:yl(G)?{[G]:ce}:ce},xe,ce),F=G=>mN(ht(o.mount?i:a,G,e.shouldUnregister?ht(a,G,[]):[])),M=(G,ce,xe={})=>{const ve=ht(n,G);let ge=ce;if(ve){const Ae=ve._f;Ae&&(!Ae.disabled&&Tr(i,G,hU(ce,Ae)),ge=Eb(Ae.ref)&&na(ce)?"":ce,dU(Ae.ref)?[...Ae.ref.options].forEach(ae=>ae.selected=ge.includes(ae.value)):Ae.refs?b0(Ae.ref)?Ae.refs.length>1?Ae.refs.forEach(ae=>(!ae.defaultChecked||!ae.disabled)&&(ae.checked=Array.isArray(ge)?!!ge.find(we=>we===ae.value):ge===ae.value)):Ae.refs[0]&&(Ae.refs[0].checked=!!ge):Ae.refs.forEach(ae=>ae.checked=ae.value===ge):_k(Ae.ref)?Ae.ref.value="":(Ae.ref.value=ge,Ae.ref.type||f.values.next({name:G,values:{...i}})))}(xe.shouldDirty||xe.shouldTouch)&&_(G,ge,xe.shouldTouch,xe.shouldDirty,!0),xe.shouldValidate&&fe(G)},O=(G,ce,xe)=>{for(const ve in ce){const ge=ce[ve],Ae=`${G}.${ve}`,ae=ht(n,Ae);(l.array.has(G)||Tn(ge)||ae&&!ae._f)&&!$u(ge)?O(Ae,ge,xe):M(Ae,ge,xe)}},A=(G,ce,xe={})=>{const ve=ht(n,G),ge=l.array.has(G),Ae=ki(ce);Tr(i,G,Ae),ge?(f.array.next({name:G,values:{...i}}),(u.isDirty||u.dirtyFields)&&xe.shouldDirty&&f.state.next({name:G,dirtyFields:ux(a,i),isDirty:D(G,Ae)})):ve&&!ve._f&&!na(Ae)?O(G,Ae,xe):M(G,Ae,xe),GR(G,l)&&f.state.next({...r}),f.values.next({name:o.mount?G:void 0,values:{...i}})},k=async G=>{o.mount=!0;const ce=G.target;let xe=ce.name,ve=!0;const ge=ht(n,xe),Ae=()=>ce.type?T2(ge._f):Nce(G),ae=we=>{ve=Number.isNaN(we)||$u(we)&&isNaN(we.getTime())||ud(we,ht(i,xe,we))};if(ge){let we,lt;const Je=Ae(),qe=G.type===WR.BLUR||G.type===WR.FOCUS_OUT,z=!Fce(ge._f)&&!t.resolver&&!ht(r.errors,xe)&&!ge._f.deps||Lce(qe,ht(r.touchedFields,xe),r.isSubmitted,m,h),je=GR(xe,l,qe);Tr(i,xe,Je),qe?(ge._f.onBlur&&ge._f.onBlur(G),c&&c(0)):ge._f.onChange&&ge._f.onChange(G);const ut=_(xe,Je,qe,!1),vt=!Na(ut)||je;if(!qe&&f.values.next({name:xe,type:G.type,values:{...i}}),z)return u.isValid&&(e.mode==="onBlur"?qe&&g():g()),vt&&f.state.next({name:xe,...je?{}:ut});if(!qe&&je&&f.state.next({...r}),t.resolver){const{errors:Ye}=await S([xe]);if(ae(Je),ve){const $t=JR(r.errors,n,xe),Pr=JR(Ye,n,$t.name||xe);we=Pr.error,xe=Pr.name,lt=Na(Ye)}}else b([xe],!0),we=(await QR(ge,i,x,t.shouldUseNativeValidation))[xe],b([xe]),ae(Je),ve&&(we?lt=!1:u.isValid&&(lt=await P(n,!0)));ve&&(ge._f.deps&&fe(ge._f.deps),C(xe,lt,we,ut))}},W=(G,ce)=>{if(ht(r.errors,ce)&&G.focus)return G.focus(),1},fe=async(G,ce={})=>{let xe,ve;const ge=F1(G);if(t.resolver){const Ae=await E(_n(G)?G:ge);xe=Na(Ae),ve=G?!ge.some(ae=>ht(Ae,ae)):xe}else G?(ve=(await Promise.all(ge.map(async Ae=>{const ae=ht(n,Ae);return await P(ae&&ae._f?{[Ae]:ae}:ae)}))).every(Boolean),!(!ve&&!r.isValid)&&g()):ve=xe=await P(n);return f.state.next({...!yl(G)||u.isValid&&xe!==r.isValid?{}:{name:G},...t.resolver||!G?{isValid:xe}:{},errors:r.errors}),ce.shouldFocus&&!ve&&Jx(n,W,G?ge:l.mount),ve},de=G=>{const ce={...o.mount?i:a};return _n(G)?ce:yl(G)?ht(ce,G):G.map(xe=>ht(ce,xe))},T=(G,ce)=>({invalid:!!ht((ce||r).errors,G),isDirty:!!ht((ce||r).dirtyFields,G),error:ht((ce||r).errors,G),isValidating:!!ht(r.validatingFields,G),isTouched:!!ht((ce||r).touchedFields,G)}),L=G=>{G&&F1(G).forEach(ce=>Vn(r.errors,ce)),f.state.next({errors:G?r.errors:{}})},R=(G,ce,xe)=>{const ve=(ht(n,G,{_f:{}})._f||{}).ref,ge=ht(r.errors,G)||{},{ref:Ae,message:ae,type:we,...lt}=ge;Tr(r.errors,G,{...lt,...ce,ref:ve}),f.state.next({name:G,errors:r.errors,isValid:!1}),xe&&xe.shouldFocus&&ve&&ve.focus&&ve.focus()},K=(G,ce)=>dc(G)?f.values.subscribe({next:xe=>G(U(void 0,ce),xe)}):U(G,ce,!0),q=(G,ce={})=>{for(const xe of G?F1(G):l.mount)l.mount.delete(xe),l.array.delete(xe),ce.keepValue||(Vn(n,xe),Vn(i,xe)),!ce.keepError&&Vn(r.errors,xe),!ce.keepDirty&&Vn(r.dirtyFields,xe),!ce.keepTouched&&Vn(r.touchedFields,xe),!ce.keepIsValidating&&Vn(r.validatingFields,xe),!t.shouldUnregister&&!ce.keepDefaultValue&&Vn(a,xe);f.values.next({values:{...i}}),f.state.next({...r,...ce.keepDirty?{isDirty:D()}:{}}),!ce.keepIsValid&&g()},Z=({disabled:G,name:ce,field:xe,fields:ve,value:ge})=>{if(ul(G)&&o.mount||G){const Ae=G?void 0:_n(ge)?T2(xe?xe._f:ht(ve,ce)._f):ge;Tr(i,ce,Ae),_(ce,Ae,!1,!1,!0)}},X=(G,ce={})=>{let xe=ht(n,G);const ve=ul(ce.disabled)||ul(e.disabled);return Tr(n,G,{...xe||{},_f:{...xe&&xe._f?xe._f:{ref:{name:G}},name:G,mount:!0,...ce}}),l.mount.add(G),xe?Z({field:xe,disabled:ul(ce.disabled)?ce.disabled:e.disabled,name:G,value:ce.value}):N(G,!0,ce.value),{...ve?{disabled:ce.disabled||e.disabled}:{},...t.progressive?{required:!!ce.required,min:fx(ce.min),max:fx(ce.max),minLength:fx(ce.minLength),maxLength:fx(ce.maxLength),pattern:fx(ce.pattern)}:{},name:G,onChange:k,onBlur:k,ref:ge=>{if(ge){X(G,ce),xe=ht(n,G);const Ae=_n(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,ae=Ice(Ae),we=xe._f.refs||[];if(ae?we.find(lt=>lt===Ae):Ae===xe._f.ref)return;Tr(n,G,{_f:{...xe._f,...ae?{refs:[...we.filter(P2),Ae,...Array.isArray(ht(a,G))?[{}]:[]],ref:{type:Ae.type,name:G}}:{ref:Ae}}}),N(G,!1,void 0,Ae)}else xe=ht(n,G,{}),xe._f&&(xe._f.mount=!1),(t.shouldUnregister||ce.shouldUnregister)&&!(Sce(l.array,G)&&o.action)&&l.unMount.add(G)}}},ee=()=>t.shouldFocusError&&Jx(n,W,l.mount),ie=G=>{ul(G)&&(f.state.next({disabled:G}),Jx(n,(ce,xe)=>{const ve=ht(n,xe);ve&&(ce.disabled=ve._f.disabled||G,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(ge=>{ge.disabled=ve._f.disabled||G}))},0,!1))},be=(G,ce)=>async xe=>{let ve;xe&&(xe.preventDefault&&xe.preventDefault(),xe.persist&&xe.persist());let ge=ki(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:Ae,values:ae}=await S();r.errors=Ae,ge=ae}else await P(n);if(Vn(r.errors,"root"),Na(r.errors)){f.state.next({errors:{}});try{await G(ge,xe)}catch(Ae){ve=Ae}}else ce&&await ce({...r.errors},xe),ee(),setTimeout(ee);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Na(r.errors)&&!ve,submitCount:r.submitCount+1,errors:r.errors}),ve)throw ve},he=(G,ce={})=>{ht(n,G)&&(_n(ce.defaultValue)?A(G,ki(ht(a,G))):(A(G,ce.defaultValue),Tr(a,G,ki(ce.defaultValue))),ce.keepTouched||Vn(r.touchedFields,G),ce.keepDirty||(Vn(r.dirtyFields,G),r.isDirty=ce.defaultValue?D(G,ki(ht(a,G))):D()),ce.keepError||(Vn(r.errors,G),u.isValid&&g()),f.state.next({...r}))},Ge=(G,ce={})=>{const xe=G?ki(G):a,ve=ki(xe),ge=Na(G),Ae=ge?a:ve;if(ce.keepDefaultValues||(a=xe),!ce.keepValues){if(ce.keepDirtyValues){const ae=new Set([...l.mount,...Object.keys(ux(a,i))]);for(const we of Array.from(ae))ht(r.dirtyFields,we)?Tr(Ae,we,ht(i,we)):A(we,ht(Ae,we))}else{if(jk&&_n(G))for(const ae of l.mount){const we=ht(n,ae);if(we&&we._f){const lt=Array.isArray(we._f.refs)?we._f.refs[0]:we._f.ref;if(Eb(lt)){const Je=lt.closest("form");if(Je){Je.reset();break}}}}n={}}i=e.shouldUnregister?ce.keepDefaultValues?ki(a):{}:ki(Ae),f.array.next({values:{...Ae}}),f.values.next({values:{...Ae}})}l={mount:ce.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!ce.keepIsValid||!!ce.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:ce.keepSubmitCount?r.submitCount:0,isDirty:ge?!1:ce.keepDirty?r.isDirty:!!(ce.keepDefaultValues&&!ud(G,a)),isSubmitted:ce.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ge?{}:ce.keepDirtyValues?ce.keepDefaultValues&&i?ux(a,i):r.dirtyFields:ce.keepDefaultValues&&G?ux(a,G):ce.keepDirty?r.dirtyFields:{},touchedFields:ce.keepTouched?r.touchedFields:{},errors:ce.keepErrors?r.errors:{},isSubmitSuccessful:ce.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ke=(G,ce)=>Ge(dc(G)?G(i):G,ce);return{control:{register:X,unregister:q,getFieldState:T,handleSubmit:be,setError:R,_executeSchema:S,_getWatch:U,_getDirty:D,_updateValid:g,_removeUnmounted:I,_updateFieldArray:y,_updateDisabledField:Z,_getFieldArray:F,_reset:Ge,_resetDefaultValues:()=>dc(t.defaultValues)&&t.defaultValues().then(G=>{ke(G,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:G=>{r={...r,...G}},_disableForm:ie,_subjects:f,_proxyFormState:u,_setErrors:w,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(G){o=G},get _defaultValues(){return a},get _names(){return l},set _names(G){l=G},get _formState(){return r},set _formState(G){r=G},get _options(){return t},set _options(G){t={...t,...G}}},trigger:fe,register:X,handleSubmit:be,watch:K,setValue:A,getValues:de,reset:ke,resetField:he,clearErrors:L,unregister:q,setError:R,setFocus:(G,ce={})=>{const xe=ht(n,G),ve=xe&&xe._f;if(ve){const ge=ve.refs?ve.refs[0]:ve.ref;ge.focus&&(ge.focus(),ce.shouldSelect&&ge.select())}},getFieldState:T}}function Ck(e={}){const t=B.useRef(),r=B.useRef(),[n,a]=B.useState({isDirty:!1,isValidating:!1,isLoading:dc(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:dc(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Uce(e),formState:n});const i=t.current.control;return i._options=e,Pce({subject:i._subjects.state,next:o=>{Ace(o,i._proxyFormState,i._updateFormState)&&a({...i._formState})}}),B.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),B.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),B.useEffect(()=>{e.values&&!ud(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),B.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),B.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),B.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),B.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=Ece(n,i),t.current}const e3=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ht(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},mU=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?e3(n.ref,r,e):n.refs&&n.refs.forEach(a=>e3(a,r,e))}},Vce=(e,t)=>{t.shouldUseNativeValidation&&mU(e,t);const r={};for(const n in e){const a=ht(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(zce(t.names||Object.keys(e),n)){const o=Object.assign({},ht(r,n));Tr(o,"root",i),Tr(r,n,o)}else Tr(r,n,i)}return r},zce=(e,t)=>e.some(r=>r.startsWith(t+"."));var Wce=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,d=c&&c[n.code];r[o]=oU(o,t,r,a,d?[].concat(d,n.message):n.message)}e.shift()}return r},Ek=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(d){return i.shouldUseNativeValidation&&mU({},i),{errors:{},values:r.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Vce(Wce(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},or;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(or||(or={}));var t3;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(t3||(t3={}));const dt=or.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Pu=e=>{switch(typeof e){case"undefined":return dt.undefined;case"string":return dt.string;case"number":return isNaN(e)?dt.nan:dt.number;case"boolean":return dt.boolean;case"function":return dt.function;case"bigint":return dt.bigint;case"symbol":return dt.symbol;case"object":return Array.isArray(e)?dt.array:e===null?dt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?dt.promise:typeof Map<"u"&&e instanceof Map?dt.map:typeof Set<"u"&&e instanceof Set?dt.set:typeof Date<"u"&&e instanceof Date?dt.date:dt.object;default:return dt.unknown}},We=or.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Gi extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),n}static assert(t){if(!(t instanceof Gi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,or.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Gi.create=e=>new Gi(e);const Hg=(e,t)=>{let r;switch(e.code){case We.invalid_type:e.received===dt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case We.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,or.jsonStringifyReplacer)}`;break;case We.unrecognized_keys:r=`Unrecognized key(s) in object: ${or.joinValues(e.keys,", ")}`;break;case We.invalid_union:r="Invalid input";break;case We.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${or.joinValues(e.options)}`;break;case We.invalid_enum_value:r=`Invalid enum value. Expected ${or.joinValues(e.options)}, received '${e.received}'`;break;case We.invalid_arguments:r="Invalid function arguments";break;case We.invalid_return_type:r="Invalid function return type";break;case We.invalid_date:r="Invalid date";break;case We.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:or.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case We.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case We.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case We.custom:r="Invalid input";break;case We.invalid_intersection_types:r="Intersection results could not be merged";break;case We.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case We.not_finite:r="Number must be finite";break;default:r=t.defaultError,or.assertNever(e)}return{message:r}};let Hce=Hg;function CE(){return Hce}const EE=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function ot(e,t){const r=CE(),n=EE({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Hg?void 0:Hg].filter(a=>!!a)});e.common.issues.push(n)}class xa{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return It;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return xa.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return It;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const It=Object.freeze({status:"aborted"}),Mx=e=>({status:"dirty",value:e}),La=e=>({status:"valid",value:e}),r3=e=>e.status==="aborted",n3=e=>e.status==="dirty",Tb=e=>e.status==="valid",kb=e=>typeof Promise<"u"&&e instanceof Promise;function Ob(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function pU(e,t,r,n,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Nt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Nt||(Nt={}));var Fx,Lx;class Dl{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const s3=(e,t)=>{if(Tb(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Gi(e.common.issues);return this._error=r,this._error}}};function zt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??r)!==null&&d!==void 0?d:l.defaultError}},description:a}}class er{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Pu(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Pu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new xa,ctx:{common:t.parent.common,data:t.data,parsedType:Pu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(kb(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Pu(t)},i=this._parseSync({data:t,path:a.path,parent:a});return s3(a,i)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Pu(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(kb(a)?a:Promise.resolve(a));return s3(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:We.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Dc({schema:this,typeName:Ot.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return xc.create(this,this._def)}nullable(){return vf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Sl.create(this,this._def)}promise(){return qg.create(this,this._def)}or(t){return Rb.create([this,t],this._def)}and(t){return Mb.create(this,t,this._def)}transform(t){return new Dc({...zt(this._def),schema:this,typeName:Ot.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Ub({...zt(this._def),innerType:this,defaultValue:r,typeName:Ot.ZodDefault})}brand(){return new yU({typeName:Ot.ZodBranded,type:this,...zt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Vb({...zt(this._def),innerType:this,catchValue:r,typeName:Ot.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return pN.create(this,t)}readonly(){return zb.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Gce=/^c[^\s-]{8,}$/i,qce=/^[0-9a-z]+$/,Kce=/^[0-9A-HJKMNP-TV-Z]{26}$/,Xce=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Yce=/^[a-z0-9_-]{21}$/i,Qce=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Zce=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Jce="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let k2;const ede=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tde=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,rde=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,xU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",nde=new RegExp(`^${xU}$`);function gU(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function sde(e){return new RegExp(`^${gU(e)}$`)}function ade(e){let t=`${xU}T${gU(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function ide(e,t){return!!((t==="v4"||!t)&&ede.test(e)||(t==="v6"||!t)&&tde.test(e))}class uc extends er{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==dt.string){const i=this._getOrReturnCtx(t);return ot(i,{code:We.invalid_type,expected:dt.string,received:i.parsedType}),It}const n=new xa;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),ot(a,{code:We.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),ot(a,{code:We.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?ot(a,{code:We.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ot(a,{code:We.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Zce.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"email",code:We.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")k2||(k2=new RegExp(Jce,"u")),k2.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"emoji",code:We.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Xce.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"uuid",code:We.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Yce.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"nanoid",code:We.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Gce.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"cuid",code:We.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")qce.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"cuid2",code:We.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Kce.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"ulid",code:We.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),ot(a,{validation:"url",code:We.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"regex",code:We.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),ot(a,{code:We.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),ot(a,{code:We.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),ot(a,{code:We.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?ade(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{code:We.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?nde.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{code:We.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?sde(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{code:We.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Qce.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"duration",code:We.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?ide(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"ip",code:We.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?rde.test(t.data)||(a=this._getOrReturnCtx(t,a),ot(a,{validation:"base64",code:We.invalid_string,message:i.message}),n.dirty()):or.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:We.invalid_string,...Nt.errToObj(n)})}_addCheck(t){return new uc({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Nt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Nt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Nt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Nt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Nt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Nt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Nt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Nt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Nt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Nt.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Nt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Nt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Nt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Nt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Nt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Nt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Nt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Nt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Nt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Nt.errToObj(r)})}nonempty(t){return this.min(1,Nt.errToObj(t))}trim(){return new uc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new uc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new uc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}uc.create=e=>{var t;return new uc({checks:[],typeName:Ot.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...zt(e)})};function ode(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class Sm extends er{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==dt.number){const i=this._getOrReturnCtx(t);return ot(i,{code:We.invalid_type,expected:dt.number,received:i.parsedType}),It}let n;const a=new xa;for(const i of this._def.checks)i.kind==="int"?or.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ot(n,{code:We.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:We.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:We.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?ode(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),ot(n,{code:We.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ot(n,{code:We.not_finite,message:i.message}),a.dirty()):or.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Nt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Nt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Nt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Nt.toString(r))}setLimit(t,r,n,a){return new Sm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Nt.toString(a)}]})}_addCheck(t){return new Sm({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Nt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Nt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Nt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Nt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Nt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Nt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Nt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Nt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Nt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&or.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Sm.create=e=>new Sm({checks:[],typeName:Ot.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...zt(e)});class Cm extends er{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==dt.bigint){const i=this._getOrReturnCtx(t);return ot(i,{code:We.invalid_type,expected:dt.bigint,received:i.parsedType}),It}let n;const a=new xa;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:We.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:We.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:We.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):or.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Nt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Nt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Nt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Nt.toString(r))}setLimit(t,r,n,a){return new Cm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Nt.toString(a)}]})}_addCheck(t){return new Cm({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Nt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Nt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Nt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Nt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Nt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Cm.create=e=>{var t;return new Cm({checks:[],typeName:Ot.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...zt(e)})};class AE extends er{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==dt.boolean){const n=this._getOrReturnCtx(t);return ot(n,{code:We.invalid_type,expected:dt.boolean,received:n.parsedType}),It}return La(t.data)}}AE.create=e=>new AE({typeName:Ot.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...zt(e)});class Gg extends er{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==dt.date){const i=this._getOrReturnCtx(t);return ot(i,{code:We.invalid_type,expected:dt.date,received:i.parsedType}),It}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ot(i,{code:We.invalid_date}),It}const n=new xa;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),ot(a,{code:We.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),ot(a,{code:We.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):or.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Gg({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Nt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Nt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Gg.create=e=>new Gg({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ot.ZodDate,...zt(e)});class PE extends er{_parse(t){if(this._getType(t)!==dt.symbol){const n=this._getOrReturnCtx(t);return ot(n,{code:We.invalid_type,expected:dt.symbol,received:n.parsedType}),It}return La(t.data)}}PE.create=e=>new PE({typeName:Ot.ZodSymbol,...zt(e)});class Db extends er{_parse(t){if(this._getType(t)!==dt.undefined){const n=this._getOrReturnCtx(t);return ot(n,{code:We.invalid_type,expected:dt.undefined,received:n.parsedType}),It}return La(t.data)}}Db.create=e=>new Db({typeName:Ot.ZodUndefined,...zt(e)});class Ib extends er{_parse(t){if(this._getType(t)!==dt.null){const n=this._getOrReturnCtx(t);return ot(n,{code:We.invalid_type,expected:dt.null,received:n.parsedType}),It}return La(t.data)}}Ib.create=e=>new Ib({typeName:Ot.ZodNull,...zt(e)});class TE extends er{constructor(){super(...arguments),this._any=!0}_parse(t){return La(t.data)}}TE.create=e=>new TE({typeName:Ot.ZodAny,...zt(e)});class Hh extends er{constructor(){super(...arguments),this._unknown=!0}_parse(t){return La(t.data)}}Hh.create=e=>new Hh({typeName:Ot.ZodUnknown,...zt(e)});class Qd extends er{_parse(t){const r=this._getOrReturnCtx(t);return ot(r,{code:We.invalid_type,expected:dt.never,received:r.parsedType}),It}}Qd.create=e=>new Qd({typeName:Ot.ZodNever,...zt(e)});class kE extends er{_parse(t){if(this._getType(t)!==dt.undefined){const n=this._getOrReturnCtx(t);return ot(n,{code:We.invalid_type,expected:dt.void,received:n.parsedType}),It}return La(t.data)}}kE.create=e=>new kE({typeName:Ot.ZodVoid,...zt(e)});class Sl extends er{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==dt.array)return ot(r,{code:We.invalid_type,expected:dt.array,received:r.parsedType}),It;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(ot(r,{code:o?We.too_big:We.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(ot(r,{code:We.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(ot(r,{code:We.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Dl(r,o,r.path,l)))).then(o=>xa.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Dl(r,o,r.path,l)));return xa.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Sl({...this._def,minLength:{value:t,message:Nt.toString(r)}})}max(t,r){return new Sl({...this._def,maxLength:{value:t,message:Nt.toString(r)}})}length(t,r){return new Sl({...this._def,exactLength:{value:t,message:Nt.toString(r)}})}nonempty(t){return this.min(1,t)}}Sl.create=(e,t)=>new Sl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ot.ZodArray,...zt(t)});function mh(e){if(e instanceof fn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=xc.create(mh(n))}return new fn({...e._def,shape:()=>t})}else return e instanceof Sl?new Sl({...e._def,type:mh(e.element)}):e instanceof xc?xc.create(mh(e.unwrap())):e instanceof vf?vf.create(mh(e.unwrap())):e instanceof Oc?Oc.create(e.items.map(t=>mh(t))):e}class fn extends er{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=or.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==dt.object){const d=this._getOrReturnCtx(t);return ot(d,{code:We.invalid_type,expected:dt.object,received:d.parsedType}),It}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Qd&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Dl(a,f,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Qd){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(ot(a,{code:We.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Dl(a,f,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,h=await u.value;d.push({key:f,value:h,alwaysSet:u.alwaysSet})}return d}).then(d=>xa.mergeObjectSync(n,d)):xa.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Nt.errToObj,new fn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=Nt.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new fn({...this._def,unknownKeys:"strip"})}passthrough(){return new fn({...this._def,unknownKeys:"passthrough"})}extend(t){return new fn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new fn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ot.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new fn({...this._def,catchall:t})}pick(t){const r={};return or.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new fn({...this._def,shape:()=>r})}omit(t){const r={};return or.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new fn({...this._def,shape:()=>r})}deepPartial(){return mh(this)}partial(t){const r={};return or.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}),new fn({...this._def,shape:()=>r})}required(t){const r={};return or.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof xc;)i=i._def.innerType;r[n]=i}}),new fn({...this._def,shape:()=>r})}keyof(){return vU(or.objectKeys(this.shape))}}fn.create=(e,t)=>new fn({shape:()=>e,unknownKeys:"strip",catchall:Qd.create(),typeName:Ot.ZodObject,...zt(t)});fn.strictCreate=(e,t)=>new fn({shape:()=>e,unknownKeys:"strict",catchall:Qd.create(),typeName:Ot.ZodObject,...zt(t)});fn.lazycreate=(e,t)=>new fn({shape:e,unknownKeys:"strip",catchall:Qd.create(),typeName:Ot.ZodObject,...zt(t)});class Rb extends er{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Gi(l.ctx.common.issues));return ot(r,{code:We.invalid_union,unionErrors:o}),It}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Gi(c));return ot(r,{code:We.invalid_union,unionErrors:l}),It}}get options(){return this._def.options}}Rb.create=(e,t)=>new Rb({options:e,typeName:Ot.ZodUnion,...zt(t)});const Jl=e=>e instanceof Lb?Jl(e.schema):e instanceof Dc?Jl(e.innerType()):e instanceof $b?[e.value]:e instanceof gf?e.options:e instanceof Bb?or.objectValues(e.enum):e instanceof Ub?Jl(e._def.innerType):e instanceof Db?[void 0]:e instanceof Ib?[null]:e instanceof xc?[void 0,...Jl(e.unwrap())]:e instanceof vf?[null,...Jl(e.unwrap())]:e instanceof yU||e instanceof zb?Jl(e.unwrap()):e instanceof Vb?Jl(e._def.innerType):[];class Ak extends er{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==dt.object)return ot(r,{code:We.invalid_type,expected:dt.object,received:r.parsedType}),It;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(ot(r,{code:We.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),It)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const a=new Map;for(const i of r){const o=Jl(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new Ak({typeName:Ot.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...zt(n)})}}function OE(e,t){const r=Pu(e),n=Pu(t);if(e===t)return{valid:!0,data:e};if(r===dt.object&&n===dt.object){const a=or.objectKeys(t),i=or.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=OE(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===dt.array&&n===dt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=OE(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===dt.date&&n===dt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Mb extends er{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(r3(i)||r3(o))return It;const l=OE(i.value,o.value);return l.valid?((n3(i)||n3(o))&&r.dirty(),{status:r.value,value:l.data}):(ot(n,{code:We.invalid_intersection_types}),It)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Mb.create=(e,t,r)=>new Mb({left:e,right:t,typeName:Ot.ZodIntersection,...zt(r)});class Oc extends er{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.array)return ot(n,{code:We.invalid_type,expected:dt.array,received:n.parsedType}),It;if(n.data.length<this._def.items.length)return ot(n,{code:We.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),It;!this._def.rest&&n.data.length>this._def.items.length&&(ot(n,{code:We.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Dl(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>xa.mergeArray(r,o)):xa.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Oc({...this._def,rest:t})}}Oc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Oc({items:e,typeName:Ot.ZodTuple,rest:null,...zt(t)})};class Fb extends er{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.object)return ot(n,{code:We.invalid_type,expected:dt.object,received:n.parsedType}),It;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in n.data)a.push({key:i._parse(new Dl(n,l,n.path,l)),value:o._parse(new Dl(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?xa.mergeObjectAsync(r,a):xa.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof er?new Fb({keyType:t,valueType:r,typeName:Ot.ZodRecord,...zt(n)}):new Fb({keyType:uc.create(),valueType:t,typeName:Ot.ZodRecord,...zt(r)})}}class DE extends er{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.map)return ot(n,{code:We.invalid_type,expected:dt.map,received:n.parsedType}),It;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:a._parse(new Dl(n,l,n.path,[d,"key"])),value:i._parse(new Dl(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return It;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return It;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}DE.create=(e,t,r)=>new DE({valueType:t,keyType:e,typeName:Ot.ZodMap,...zt(r)});class Em extends er{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.set)return ot(n,{code:We.invalid_type,expected:dt.set,received:n.parsedType}),It;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(ot(n,{code:We.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(ot(n,{code:We.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return It;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>i._parse(new Dl(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Em({...this._def,minSize:{value:t,message:Nt.toString(r)}})}max(t,r){return new Em({...this._def,maxSize:{value:t,message:Nt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Em.create=(e,t)=>new Em({valueType:e,minSize:null,maxSize:null,typeName:Ot.ZodSet,...zt(t)});class eg extends er{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==dt.function)return ot(r,{code:We.invalid_type,expected:dt.function,received:r.parsedType}),It;function n(l,c){return EE({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,CE(),Hg].filter(d=>!!d),issueData:{code:We.invalid_arguments,argumentsError:c}})}function a(l,c){return EE({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,CE(),Hg].filter(d=>!!d),issueData:{code:We.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof qg){const l=this;return La(async function(...c){const d=new Gi([]),u=await l._def.args.parseAsync(c,i).catch(m=>{throw d.addIssue(n(c,m)),d}),f=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(f,i).catch(m=>{throw d.addIssue(a(f,m)),d})})}else{const l=this;return La(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new Gi([n(c,d.error)]);const u=Reflect.apply(o,this,d.data),f=l._def.returns.safeParse(u,i);if(!f.success)throw new Gi([a(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new eg({...this._def,args:Oc.create(t).rest(Hh.create())})}returns(t){return new eg({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new eg({args:t||Oc.create([]).rest(Hh.create()),returns:r||Hh.create(),typeName:Ot.ZodFunction,...zt(n)})}}class Lb extends er{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Lb.create=(e,t)=>new Lb({getter:e,typeName:Ot.ZodLazy,...zt(t)});class $b extends er{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ot(r,{received:r.data,code:We.invalid_literal,expected:this._def.value}),It}return{status:"valid",value:t.data}}get value(){return this._def.value}}$b.create=(e,t)=>new $b({value:e,typeName:Ot.ZodLiteral,...zt(t)});function vU(e,t){return new gf({values:e,typeName:Ot.ZodEnum,...zt(t)})}class gf extends er{constructor(){super(...arguments),Fx.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return ot(r,{expected:or.joinValues(n),received:r.parsedType,code:We.invalid_type}),It}if(Ob(this,Fx)||pU(this,Fx,new Set(this._def.values)),!Ob(this,Fx).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return ot(r,{received:r.data,code:We.invalid_enum_value,options:n}),It}return La(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return gf.create(t,{...this._def,...r})}exclude(t,r=this._def){return gf.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Fx=new WeakMap;gf.create=vU;class Bb extends er{constructor(){super(...arguments),Lx.set(this,void 0)}_parse(t){const r=or.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==dt.string&&n.parsedType!==dt.number){const a=or.objectValues(r);return ot(n,{expected:or.joinValues(a),received:n.parsedType,code:We.invalid_type}),It}if(Ob(this,Lx)||pU(this,Lx,new Set(or.getValidEnumValues(this._def.values))),!Ob(this,Lx).has(t.data)){const a=or.objectValues(r);return ot(n,{received:n.data,code:We.invalid_enum_value,options:a}),It}return La(t.data)}get enum(){return this._def.values}}Lx=new WeakMap;Bb.create=(e,t)=>new Bb({values:e,typeName:Ot.ZodNativeEnum,...zt(t)});class qg extends er{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==dt.promise&&r.common.async===!1)return ot(r,{code:We.invalid_type,expected:dt.promise,received:r.parsedType}),It;const n=r.parsedType===dt.promise?r.data:Promise.resolve(r.data);return La(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}qg.create=(e,t)=>new qg({type:e,typeName:Ot.ZodPromise,...zt(t)});class Dc extends er{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ot.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{ot(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return It;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?It:c.status==="dirty"||r.value==="dirty"?Mx(c.value):c});{if(r.value==="aborted")return It;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?It:l.status==="dirty"||r.value==="dirty"?Mx(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?It:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?It:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Tb(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Tb(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);or.assertNever(a)}}Dc.create=(e,t,r)=>new Dc({schema:e,typeName:Ot.ZodEffects,effect:t,...zt(r)});Dc.createWithPreprocess=(e,t,r)=>new Dc({schema:t,effect:{type:"preprocess",transform:e},typeName:Ot.ZodEffects,...zt(r)});class xc extends er{_parse(t){return this._getType(t)===dt.undefined?La(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}xc.create=(e,t)=>new xc({innerType:e,typeName:Ot.ZodOptional,...zt(t)});class vf extends er{_parse(t){return this._getType(t)===dt.null?La(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}vf.create=(e,t)=>new vf({innerType:e,typeName:Ot.ZodNullable,...zt(t)});class Ub extends er{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===dt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Ub.create=(e,t)=>new Ub({innerType:e,typeName:Ot.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...zt(t)});class Vb extends er{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return kb(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Gi(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Gi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Vb.create=(e,t)=>new Vb({innerType:e,typeName:Ot.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...zt(t)});class IE extends er{_parse(t){if(this._getType(t)!==dt.nan){const n=this._getOrReturnCtx(t);return ot(n,{code:We.invalid_type,expected:dt.nan,received:n.parsedType}),It}return{status:"valid",value:t.data}}}IE.create=e=>new IE({typeName:Ot.ZodNaN,...zt(e)});class yU extends er{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class pN extends er{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?It:i.status==="dirty"?(r.dirty(),Mx(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?It:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new pN({in:t,out:r,typeName:Ot.ZodPipeline})}}class zb extends er{_parse(t){const r=this._def.innerType._parse(t),n=a=>(Tb(a)&&(a.value=Object.freeze(a.value)),a);return kb(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}zb.create=(e,t)=>new zb({innerType:e,typeName:Ot.ZodReadonly,...zt(t)});fn.lazycreate;var Ot;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ot||(Ot={}));const Bu=uc.create;Sm.create;IE.create;Cm.create;AE.create;Gg.create;PE.create;Db.create;Ib.create;TE.create;Hh.create;Qd.create;kE.create;Sl.create;const Pk=fn.create;fn.strictCreate;Rb.create;Ak.create;Mb.create;Oc.create;Fb.create;DE.create;Em.create;eg.create;Lb.create;$b.create;gf.create;Bb.create;qg.create;Dc.create;xc.create;vf.create;Dc.createWithPreprocess;pN.create;const Kg=hp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?Tl:"button";return s.jsx(o,{className:pe(Kg({variant:t,size:r,className:e})),ref:i,...a})});re.displayName="Button";const ue=v.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:pe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ue.displayName="Input";var lde="Label",bU=v.forwardRef((e,t)=>s.jsx(gt.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));bU.displayName=lde;var wU=bU;const cde=hp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),H=v.forwardRef(({className:e,...t},r)=>s.jsx(wU,{ref:r,className:pe(cde(),e),...t}));H.displayName=wU.displayName;const dde=Pk({email:Bu().email("Please enter a valid email address"),password:Bu().min(6,"Password must be at least 6 characters")});function ude(){const[e,t]=v.useState(!1),[r,n]=v.useState(!1),{login:a,loginWithGoogle:i,loginWithFacebook:o,loginWithTwitter:l}=y0(),{toast:c}=pr(),d=cr(),{theme:u,setTheme:f}=pp(),{register:h,handleSubmit:m,formState:{errors:x}}=Ck({resolver:Ek(dde)}),p=async b=>{n(!0);try{await a(b.email,b.password),c({title:"Welcome back!",description:"You have successfully logged in."}),d("/overview")}catch(y){c({title:"Login failed",description:y.message||"Please check your credentials and try again.",variant:"destructive"})}finally{n(!1)}},g=async b=>{n(!0);try{b==="google"?await i():b==="facebook"?await o():await l()}catch(y){c({title:"Login failed",description:y.message||"Something went wrong. Please try again.",variant:"destructive"}),n(!1)}};return s.jsxs("div",{className:"min-h-screen flex",children:[s.jsxs("div",{className:"flex-1 flex items-center justify-center p-8 lg:p-12 bg-background relative",children:[s.jsx(re,{variant:"ghost",size:"icon",onClick:()=>f(u==="dark"?"light":"dark"),className:"absolute top-4 right-4 z-10",children:u==="dark"?s.jsx(f0,{className:"h-5 w-5"}):s.jsx(d0,{className:"h-5 w-5"})}),s.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Welcome back"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Sign in to continue to your account"})]}),s.jsxs("form",{onSubmit:m(p),className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"email",className:"text-sm font-semibold",children:"Email address"}),s.jsx(ue,{id:"email",type:"email",placeholder:"name@example.com",...h("email"),className:`h-12 text-base ${x.email?"border-destructive":""}`}),x.email&&s.jsx("p",{className:"text-sm text-destructive font-medium",children:x.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(H,{htmlFor:"password",className:"text-sm font-semibold",children:"Password"}),s.jsx(Ji,{to:"/forgot-password",className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:"Forgot?"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ue,{id:"password",type:e?"text":"password",placeholder:"Enter your password",...h("password"),className:`h-12 text-base pr-12 ${x.password?"border-destructive":""}`}),s.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:e?s.jsx(Uh,{className:"h-5 w-5"}):s.jsx(Da,{className:"h-5 w-5"})})]}),x.password&&s.jsx("p",{className:"text-sm text-destructive font-medium",children:x.password.message})]}),s.jsx(re,{type:"submit",className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all shadow-md",disabled:r,children:r?"Signing in...":"Sign in"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t border-border"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"bg-background px-4 text-muted-foreground font-medium",children:"or"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(re,{type:"button",variant:"outline",className:"w-full h-12 text-base font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>g("google"),disabled:r,children:[s.jsx(p9,{className:"mr-3 h-5 w-5"}),"Continue with Google"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(re,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>g("facebook"),disabled:r,children:[s.jsx(v9,{className:"mr-2 h-5 w-5"}),"Facebook"]}),s.jsxs(re,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>g("twitter"),disabled:r,children:[s.jsx(_9,{className:"mr-2 h-5 w-5"}),"Twitter"]})]})]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:["Don't have an account?"," ",s.jsx(Ji,{to:"/signup",className:"text-primary font-semibold hover:text-primary/80 transition-colors",children:"Create account"})]})})]})]}),s.jsxs("div",{className:"hidden lg:flex lg:flex-1 bg-gradient-to-br from-primary via-primary/90 to-accent relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"}),s.jsx("div",{className:"relative flex flex-col items-center justify-center p-12 text-white",children:s.jsxs("div",{className:"max-w-md space-y-6 animate-fade-in",children:[s.jsx("h2",{className:"text-5xl font-bold leading-tight",children:"Manage your business with ease"}),s.jsx("p",{className:"text-xl text-white/90 leading-relaxed",children:"Streamline your operations, track your inventory, and grow your business with our all-in-one platform."}),s.jsxs("div",{className:"flex items-center gap-2 pt-8",children:[s.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(b=>s.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 border-2 border-white flex items-center justify-center backdrop-blur-sm",children:s.jsx("span",{className:"text-sm font-semibold",children:b})},b))}),s.jsx("p",{className:"text-sm text-white/80 font-medium",children:"Trusted by 1000+ businesses"})]})]})}),s.jsx("div",{className:"absolute top-20 right-20 w-72 h-72 bg-white/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 bg-accent/20 rounded-full blur-3xl"})]})]})}const fde=Pk({name:Bu().min(2,"Name must be at least 2 characters").max(100,"Name is too long"),email:Bu().email("Please enter a valid email address").max(255,"Email is too long"),password:Bu().min(8,"Password must be at least 8 characters").max(100,"Password is too long").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:Bu()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function hde(){const[e,t]=v.useState(!1),[r,n]=v.useState(!1),[a,i]=v.useState(!1),{signup:o,loginWithGoogle:l,loginWithFacebook:c,loginWithTwitter:d}=y0(),{toast:u}=pr(),f=cr(),{theme:h,setTheme:m}=pp(),{register:x,handleSubmit:p,formState:{errors:g},watch:b}=Ck({resolver:Ek(fde)}),y=b("password",""),j=[{label:"At least 8 characters",met:y.length>=8},{label:"One uppercase letter",met:/[A-Z]/.test(y)},{label:"One lowercase letter",met:/[a-z]/.test(y)},{label:"One number",met:/[0-9]/.test(y)}],w=async _=>{i(!0);try{await o(_.email,_.password,_.name),u({title:"Account created!",description:"Please check your email to verify your account."}),f("/overview")}catch(C){u({title:"Signup failed",description:C.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{i(!1)}},N=async _=>{i(!0);try{_==="google"?await l():_==="facebook"?await c():await d()}catch(C){u({title:"Signup failed",description:C.message||"Something went wrong. Please try again.",variant:"destructive"}),i(!1)}};return s.jsxs("div",{className:"min-h-screen flex",children:[s.jsxs("div",{className:"hidden lg:flex lg:flex-1 bg-gradient-to-br from-accent via-accent/90 to-primary relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"}),s.jsx("div",{className:"relative flex flex-col items-center justify-center p-12 text-white",children:s.jsxs("div",{className:"max-w-md space-y-6 animate-fade-in",children:[s.jsx("h2",{className:"text-5xl font-bold leading-tight",children:"Start your journey today"}),s.jsx("p",{className:"text-xl text-white/90 leading-relaxed",children:"Join thousands of businesses already using our platform to streamline their operations and boost productivity."}),s.jsx("div",{className:"grid grid-cols-2 gap-6 pt-8",children:[{label:"Active Users",value:"10,000+"},{label:"Success Rate",value:"99.9%"},{label:"Countries",value:"50+"},{label:"Support 24/7",value:"Available"}].map(_=>s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-3xl font-bold",children:_.value}),s.jsx("p",{className:"text-sm text-white/80",children:_.label})]},_.label))})]})}),s.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-white/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-primary/20 rounded-full blur-3xl"})]}),s.jsxs("div",{className:"flex-1 flex items-center justify-center p-8 lg:p-12 bg-background overflow-y-auto relative",children:[s.jsx(re,{variant:"ghost",size:"icon",onClick:()=>m(h==="dark"?"light":"dark"),className:"absolute top-4 right-4 z-10",children:h==="dark"?s.jsx(f0,{className:"h-5 w-5"}):s.jsx(d0,{className:"h-5 w-5"})}),s.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Create account"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Start your free trial today"})]}),s.jsxs("form",{onSubmit:p(w),className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"name",className:"text-sm font-semibold",children:"Full name"}),s.jsx(ue,{id:"name",type:"text",placeholder:"John Doe",...x("name"),className:`h-12 text-base ${g.name?"border-destructive":""}`}),g.name&&s.jsx("p",{className:"text-sm text-destructive font-medium",children:g.name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"email",className:"text-sm font-semibold",children:"Email address"}),s.jsx(ue,{id:"email",type:"email",placeholder:"name@example.com",...x("email"),className:`h-12 text-base ${g.email?"border-destructive":""}`}),g.email&&s.jsx("p",{className:"text-sm text-destructive font-medium",children:g.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"password",className:"text-sm font-semibold",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ue,{id:"password",type:e?"text":"password",placeholder:"Create a strong password",...x("password"),className:`h-12 text-base pr-12 ${g.password?"border-destructive":""}`}),s.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:e?s.jsx(Uh,{className:"h-5 w-5"}):s.jsx(Da,{className:"h-5 w-5"})})]}),y&&s.jsx("div",{className:"space-y-2 pt-2",children:j.map(_=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Br,{className:`h-4 w-4 ${_.met?"text-success":"text-muted-foreground"}`}),s.jsx("span",{className:_.met?"text-success":"text-muted-foreground",children:_.label})]},_.label))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"confirmPassword",className:"text-sm font-semibold",children:"Confirm password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ue,{id:"confirmPassword",type:r?"text":"password",placeholder:"Confirm your password",...x("confirmPassword"),className:`h-12 text-base pr-12 ${g.confirmPassword?"border-destructive":""}`}),s.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:r?s.jsx(Uh,{className:"h-5 w-5"}):s.jsx(Da,{className:"h-5 w-5"})})]}),g.confirmPassword&&s.jsx("p",{className:"text-sm text-destructive font-medium",children:g.confirmPassword.message})]}),s.jsx(re,{type:"submit",className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all shadow-md",disabled:a,children:a?"Creating account...":"Create account"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t border-border"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"bg-background px-4 text-muted-foreground font-medium",children:"or"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(re,{type:"button",variant:"outline",className:"w-full h-12 text-base font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>N("google"),disabled:a,children:[s.jsx(p9,{className:"mr-3 h-5 w-5"}),"Continue with Google"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(re,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>N("facebook"),disabled:a,children:[s.jsx(v9,{className:"mr-2 h-5 w-5"}),"Facebook"]}),s.jsxs(re,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>N("twitter"),disabled:a,children:[s.jsx(_9,{className:"mr-2 h-5 w-5"}),"Twitter"]})]})]}),s.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["By creating an account, you agree to our"," ",s.jsx("a",{href:"#",className:"text-primary hover:underline font-medium",children:"Terms of Service"})," ","and"," ",s.jsx("a",{href:"#",className:"text-primary hover:underline font-medium",children:"Privacy Policy"})]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",s.jsx(Ji,{to:"/login",className:"text-primary font-semibold hover:text-primary/80 transition-colors",children:"Sign in"})]})})]})]})]})}const mde=Pk({email:Bu().email("Please enter a valid email address").max(255,"Email is too long")});function pde(){const[e,t]=v.useState(!1),[r,n]=v.useState(!1),{resetPassword:a}=y0(),{toast:i}=pr(),{theme:o,setTheme:l}=pp(),{register:c,handleSubmit:d,formState:{errors:u},getValues:f}=Ck({resolver:Ek(mde)}),h=async m=>{t(!0);try{await a(m.email),n(!0),i({title:"Email sent!",description:"Check your inbox for password reset instructions."})}catch(x){i({title:"Failed to send email",description:x.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{t(!1)}};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-accent/5 p-4 relative",children:[s.jsx(re,{variant:"ghost",size:"icon",onClick:()=>l(o==="dark"?"light":"dark"),className:"absolute top-4 right-4 z-10",children:o==="dark"?s.jsx(f0,{className:"h-5 w-5"}):s.jsx(d0,{className:"h-5 w-5"})}),s.jsx("div",{className:"w-full max-w-md",children:s.jsx("div",{className:"bg-card rounded-3xl shadow-2xl border border-border p-8 lg:p-10 animate-fade-in",children:r?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-success/10 mb-6",children:s.jsx(gn,{className:"h-10 w-10 text-success"})}),s.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-foreground mb-3",children:"Check your email"}),s.jsx("p",{className:"text-muted-foreground text-base mb-6 leading-relaxed",children:"We've sent password reset instructions to"}),s.jsx("p",{className:"font-semibold text-foreground text-lg mb-6",children:f("email")}),s.jsx("div",{className:"bg-muted/50 rounded-xl p-4 mb-6",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Didn't receive the email? Check your spam folder or"," ",s.jsx("button",{type:"button",onClick:()=>n(!1),className:"text-primary hover:underline font-medium",children:"try another email address"})]})}),s.jsx(Ji,{to:"/login",children:s.jsx(re,{className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all",children:"Back to login"})})]})}):s.jsxs(s.Fragment,{children:[s.jsxs(Ji,{to:"/login",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-8 transition-colors group",children:[s.jsx(sr,{className:"mr-2 h-4 w-4 group-hover:-translate-x-1 transition-transform"}),"Back to login"]}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary/10 mb-6",children:s.jsx(yn,{className:"h-8 w-8 text-primary"})}),s.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-foreground mb-3",children:"Forgot password?"}),s.jsx("p",{className:"text-muted-foreground text-base lg:text-lg leading-relaxed",children:"No worries! Enter your email and we'll send you reset instructions."})]}),s.jsxs("form",{onSubmit:d(h),className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"email",className:"text-sm font-semibold",children:"Email address"}),s.jsx(ue,{id:"email",type:"email",placeholder:"name@example.com",...c("email"),className:`h-12 text-base ${u.email?"border-destructive":""}`}),u.email&&s.jsx("p",{className:"text-sm text-destructive font-medium",children:u.email.message})]}),s.jsx(re,{type:"submit",className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all shadow-md",disabled:e,children:e?"Sending...":"Send reset instructions"})]})]})})})]})}var Tk="Avatar",[xde,SJe]=ya(Tk),[gde,jU]=xde(Tk),NU=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=v.useState("idle");return s.jsx(gde,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(gt.span,{...n,ref:t})})});NU.displayName=Tk;var _U="AvatarImage",SU=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=jU(_U,r),l=vde(n,i.referrerPolicy),c=en(d=>{a(d),o.onImageLoadingStatusChange(d)});return Qn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(gt.img,{...i,ref:t,src:n}):null});SU.displayName=_U;var CU="AvatarFallback",EU=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=jU(CU,r),[o,l]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(gt.span,{...a,ref:t}):null});EU.displayName=CU;function vde(e,t){const[r,n]=v.useState("idle");return Qn(()=>{if(!e){n("error");return}let a=!0;const i=new window.Image,o=l=>()=>{a&&n(l)};return n("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{a=!1}},[e,t]),r}var AU=NU,PU=SU,TU=EU;const RE=v.forwardRef(({className:e,...t},r)=>s.jsx(AU,{ref:r,className:pe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));RE.displayName=AU.displayName;const yde=v.forwardRef(({className:e,...t},r)=>s.jsx(PU,{ref:r,className:pe("aspect-square h-full w-full",e),...t}));yde.displayName=PU.displayName;const ME=v.forwardRef(({className:e,...t},r)=>s.jsx(TU,{ref:r,className:pe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));ME.displayName=TU.displayName;var bde=v.createContext(void 0);function Np(e){const t=v.useContext(bde);return e||t||"ltr"}var O2=0;function xN(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??a3()),document.body.insertAdjacentElement("beforeend",e[1]??a3()),O2++,()=>{O2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),O2--}},[])}function a3(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var D2="focusScope.autoFocusOnMount",I2="focusScope.autoFocusOnUnmount",i3={bubbles:!1,cancelable:!0},wde="FocusScope",w0=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),d=en(a),u=en(i),f=v.useRef(null),h=Ft(t,p=>c(p)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let p=function(j){if(m.paused||!l)return;const w=j.target;l.contains(w)?f.current=w:td(f.current,{select:!0})},g=function(j){if(m.paused||!l)return;const w=j.relatedTarget;w!==null&&(l.contains(w)||td(f.current,{select:!0}))},b=function(j){if(document.activeElement===document.body)for(const N of j)N.removedNodes.length>0&&td(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const y=new MutationObserver(b);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),y.disconnect()}}},[n,l,m.paused]),v.useEffect(()=>{if(l){l3.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(D2,i3);l.addEventListener(D2,d),l.dispatchEvent(b),b.defaultPrevented||(jde(Ede(kU(l)),{select:!0}),document.activeElement===p&&td(l))}return()=>{l.removeEventListener(D2,d),setTimeout(()=>{const b=new CustomEvent(I2,i3);l.addEventListener(I2,u),l.dispatchEvent(b),b.defaultPrevented||td(p??document.body,{select:!0}),l.removeEventListener(I2,u),l3.remove(m)},0)}}},[l,d,u,m]);const x=v.useCallback(p=>{if(!r&&!n||m.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(g&&b){const y=p.currentTarget,[j,w]=Nde(y);j&&w?!p.shiftKey&&b===w?(p.preventDefault(),r&&td(j,{select:!0})):p.shiftKey&&b===j&&(p.preventDefault(),r&&td(w,{select:!0})):b===y&&p.preventDefault()}},[r,n,m.paused]);return s.jsx(gt.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});w0.displayName=wde;function jde(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(td(n,{select:t}),document.activeElement!==r)return}function Nde(e){const t=kU(e),r=o3(t,e),n=o3(t.reverse(),e);return[r,n]}function kU(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function o3(e,t){for(const r of e)if(!_de(r,{upTo:t}))return r}function _de(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Sde(e){return e instanceof HTMLInputElement&&"select"in e}function td(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Sde(e)&&t&&e.select()}}var l3=Cde();function Cde(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=c3(e,t),e.unshift(t)},remove(t){var r;e=c3(e,t),(r=e[0])==null||r.resume()}}}function c3(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Ede(e){return e.filter(t=>t.tagName!=="A")}function Ade(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:h,children:m,...x}=f,p=(h==null?void 0:h[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return s.jsx(p.Provider,{value:g,children:m})}function u(f,h){const m=(h==null?void 0:h[e][c])||l,x=v.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Pde(a,...t)]}function Pde(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var R2="rovingFocusGroup.onEntryFocus",Tde={bubbles:!1,cancelable:!0},gN="RovingFocusGroup",[FE,OU,kde]=zj(gN),[Ode,_p]=Ade(gN,[kde]),[Dde,Ide]=Ode(gN),DU=v.forwardRef((e,t)=>s.jsx(FE.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(FE.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Rde,{...e,ref:t})})}));DU.displayName=gN;var Rde=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,h=v.useRef(null),m=Ft(t,h),x=Np(i),[p=null,g]=Qi({prop:o,defaultProp:l,onChange:c}),[b,y]=v.useState(!1),j=en(d),w=OU(r),N=v.useRef(!1),[_,C]=v.useState(0);return v.useEffect(()=>{const S=h.current;if(S)return S.addEventListener(R2,j),()=>S.removeEventListener(R2,j)},[j]),s.jsx(Dde,{scope:r,orientation:n,dir:x,loop:a,currentTabStopId:p,onItemFocus:v.useCallback(S=>g(S),[g]),onItemShiftTab:v.useCallback(()=>y(!0),[]),onFocusableItemAdd:v.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:v.useCallback(()=>C(S=>S-1),[]),children:s.jsx(gt.div,{tabIndex:b||_===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Ue(e.onMouseDown,()=>{N.current=!0}),onFocus:Ue(e.onFocus,S=>{const E=!N.current;if(S.target===S.currentTarget&&E&&!b){const P=new CustomEvent(R2,Tde);if(S.currentTarget.dispatchEvent(P),!P.defaultPrevented){const I=w().filter(O=>O.focusable),D=I.find(O=>O.active),U=I.find(O=>O.id===p),M=[D,U,...I].filter(Boolean).map(O=>O.ref.current);MU(M,u)}}N.current=!1}),onBlur:Ue(e.onBlur,()=>y(!1))})})}),IU="RovingFocusGroupItem",RU=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,...o}=e,l=Hi(),c=i||l,d=Ide(IU,r),u=d.currentTabStopId===c,f=OU(r),{onFocusableItemAdd:h,onFocusableItemRemove:m}=d;return v.useEffect(()=>{if(n)return h(),()=>m()},[n,h,m]),s.jsx(FE.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:s.jsx(gt.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Ue(e.onMouseDown,x=>{n?d.onItemFocus(c):x.preventDefault()}),onFocus:Ue(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Ue(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const p=Lde(x,d.orientation,d.dir);if(p!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=f().filter(y=>y.focusable).map(y=>y.ref.current);if(p==="last")b.reverse();else if(p==="prev"||p==="next"){p==="prev"&&b.reverse();const y=b.indexOf(x.currentTarget);b=d.loop?$de(b,y+1):b.slice(y+1)}setTimeout(()=>MU(b))}})})})});RU.displayName=IU;var Mde={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Fde(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Lde(e,t,r){const n=Fde(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Mde[n]}function MU(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function $de(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var kk=DU,Ok=RU,Bde=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},th=new WeakMap,Oy=new WeakMap,Dy={},M2=0,FU=function(e){return e&&(e.host||FU(e.parentNode))},Ude=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=FU(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Vde=function(e,t,r,n){var a=Ude(t,Array.isArray(e)?e:[e]);Dy[r]||(Dy[r]=new WeakMap);var i=Dy[r],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))u(h);else try{var m=h.getAttribute(n),x=m!==null&&m!=="false",p=(th.get(h)||0)+1,g=(i.get(h)||0)+1;th.set(h,p),i.set(h,g),o.push(h),p===1&&x&&Oy.set(h,!0),g===1&&h.setAttribute(r,"true"),x||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return u(t),l.clear(),M2++,function(){o.forEach(function(f){var h=th.get(f)-1,m=i.get(f)-1;th.set(f,h),i.set(f,m),h||(Oy.has(f)||f.removeAttribute(n),Oy.delete(f)),m||f.removeAttribute(r)}),M2--,M2||(th=new WeakMap,th=new WeakMap,Oy=new WeakMap,Dy={})}},j0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Bde(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Vde(n,a,r,"aria-hidden")):function(){return null}},Ws=function(){return Ws=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ws.apply(this,arguments)};function Dk(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function LU(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var tg="right-scroll-bar-position",rg="width-before-scroll-bar",zde="with-scroll-bars-hidden",Wde="--removed-body-scroll-bar-size";function F2(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Hde(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Gde=typeof window<"u"?v.useLayoutEffect:v.useEffect,d3=new WeakMap;function $U(e,t){var r=Hde(null,function(n){return e.forEach(function(a){return F2(a,n)})});return Gde(function(){var n=d3.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||F2(l,null)}),i.forEach(function(l){a.has(l)||F2(l,o)})}d3.set(r,e)},[e]),r}function qde(e){return e}function Kde(e,t){t===void 0&&(t=qde);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function BU(e){e===void 0&&(e={});var t=Kde(null);return t.options=Ws({async:!0,ssr:!1},e),t}var UU=function(e){var t=e.sideCar,r=Dk(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,Ws({},r))};UU.isSideCarExport=!0;function VU(e,t){return e.useMedium(t),UU}var zU=BU(),L2=function(){},vN=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:L2,onWheelCapture:L2,onTouchMoveCapture:L2}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,x=e.inert,p=e.allowPinchZoom,g=e.as,b=g===void 0?"div":g,y=e.gapMode,j=Dk(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,N=$U([r,t]),_=Ws(Ws({},j),a);return v.createElement(v.Fragment,null,u&&v.createElement(w,{sideCar:zU,removeScrollBar:d,shards:f,noIsolation:m,inert:x,setCallbacks:i,allowPinchZoom:!!p,lockRef:r,gapMode:y}),o?v.cloneElement(v.Children.only(l),Ws(Ws({},_),{ref:N})):v.createElement(b,Ws({},_,{className:c,ref:N}),l))});vN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vN.classNames={fullWidth:rg,zeroRight:tg};var Xde=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Yde(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Xde();return t&&e.setAttribute("nonce",t),e}function Qde(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Zde(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Jde=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Yde())&&(Qde(t,r),Zde(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},eue=function(){var e=Jde();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Ik=function(){var e=eue(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},tue={left:0,top:0,right:0,gap:0},$2=function(e){return parseInt(e||"",10)||0},rue=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[$2(r),$2(n),$2(a)]},nue=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return tue;var t=rue(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},sue=Ik(),Gh="data-scroll-locked",aue=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(zde,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Gh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(tg,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(rg,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(tg," .").concat(tg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(rg," .").concat(rg,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Gh,`] {
    `).concat(Wde,": ").concat(l,`px;
  }
`)},u3=function(){var e=parseInt(document.body.getAttribute(Gh)||"0",10);return isFinite(e)?e:0},iue=function(){v.useEffect(function(){return document.body.setAttribute(Gh,(u3()+1).toString()),function(){var e=u3()-1;e<=0?document.body.removeAttribute(Gh):document.body.setAttribute(Gh,e.toString())}},[])},WU=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;iue();var i=v.useMemo(function(){return nue(a)},[a]);return v.createElement(sue,{styles:aue(i,!t,a,r?"":"!important")})},LE=!1;if(typeof window<"u")try{var Iy=Object.defineProperty({},"passive",{get:function(){return LE=!0,!0}});window.addEventListener("test",Iy,Iy),window.removeEventListener("test",Iy,Iy)}catch{LE=!1}var rh=LE?{passive:!1}:!1,oue=function(e){return e.tagName==="TEXTAREA"},HU=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!oue(e)&&r[t]==="visible")},lue=function(e){return HU(e,"overflowY")},cue=function(e){return HU(e,"overflowX")},f3=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=GU(e,n);if(a){var i=qU(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},due=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},uue=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},GU=function(e,t){return e==="v"?lue(t):cue(t)},qU=function(e,t){return e==="v"?due(t):uue(t)},fue=function(e,t){return e==="h"&&t==="rtl"?-1:1},hue=function(e,t,r,n,a){var i=fue(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,h=0;do{var m=qU(e,l),x=m[0],p=m[1],g=m[2],b=p-g-i*x;(x||b)&&GU(e,l)&&(f+=b,h+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!a)||!u&&(Math.abs(h)<1||!a))&&(d=!0),d},Ry=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},h3=function(e){return[e.deltaX,e.deltaY]},m3=function(e){return e&&"current"in e?e.current:e},mue=function(e,t){return e[0]===t[0]&&e[1]===t[1]},pue=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},xue=0,nh=[];function gue(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),a=v.useState(xue++)[0],i=v.useState(Ik)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=LU([e.lockRef.current],(e.shards||[]).map(m3),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=Ry(p),y=r.current,j="deltaX"in p?p.deltaX:y[0]-b[0],w="deltaY"in p?p.deltaY:y[1]-b[1],N,_=p.target,C=Math.abs(j)>Math.abs(w)?"h":"v";if("touches"in p&&C==="h"&&_.type==="range")return!1;var S=f3(C,_);if(!S)return!0;if(S?N=C:(N=C==="v"?"h":"v",S=f3(C,_)),!S)return!1;if(!n.current&&"changedTouches"in p&&(j||w)&&(n.current=N),!N)return!0;var E=n.current||N;return hue(E,g,p,E==="h"?j:w,!0)},[]),c=v.useCallback(function(p){var g=p;if(!(!nh.length||nh[nh.length-1]!==i)){var b="deltaY"in g?h3(g):Ry(g),y=t.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&mue(N.delta,b)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var j=(o.current.shards||[]).map(m3).filter(Boolean).filter(function(N){return N.contains(g.target)}),w=j.length>0?l(g,j[0]):!o.current.noIsolation;w&&g.cancelable&&g.preventDefault()}}},[]),d=v.useCallback(function(p,g,b,y){var j={name:p,delta:g,target:b,should:y,shadowParent:vue(b)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(w){return w!==j})},1)},[]),u=v.useCallback(function(p){r.current=Ry(p),n.current=void 0},[]),f=v.useCallback(function(p){d(p.type,h3(p),p.target,l(p,e.lockRef.current))},[]),h=v.useCallback(function(p){d(p.type,Ry(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return nh.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,rh),document.addEventListener("touchmove",c,rh),document.addEventListener("touchstart",u,rh),function(){nh=nh.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,rh),document.removeEventListener("touchmove",c,rh),document.removeEventListener("touchstart",u,rh)}},[]);var m=e.removeScrollBar,x=e.inert;return v.createElement(v.Fragment,null,x?v.createElement(i,{styles:pue(a)}):null,m?v.createElement(WU,{gapMode:e.gapMode}):null)}function vue(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const yue=VU(zU,gue);var N0=v.forwardRef(function(e,t){return v.createElement(vN,Ws({},e,{ref:t,sideCar:yue}))});N0.classNames=vN.classNames;var $E=["Enter"," "],bue=["ArrowDown","PageUp","Home"],KU=["ArrowUp","PageDown","End"],wue=[...bue,...KU],jue={ltr:[...$E,"ArrowRight"],rtl:[...$E,"ArrowLeft"]},Nue={ltr:["ArrowLeft"],rtl:["ArrowRight"]},_0="Menu",[Xg,_ue,Sue]=zj(_0),[Lf,XU]=ya(_0,[Sue,iu,_p]),yN=iu(),YU=_p(),[Cue,$f]=Lf(_0),[Eue,S0]=Lf(_0),QU=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=yN(t),[c,d]=v.useState(null),u=v.useRef(!1),f=en(i),h=Np(a);return v.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),s.jsx(eN,{...l,children:s.jsx(Cue,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:d,children:s.jsx(Eue,{scope:t,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:h,modal:o,children:n})})})};QU.displayName=_0;var Aue="MenuAnchor",Rk=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=yN(r);return s.jsx(m0,{...a,...n,ref:t})});Rk.displayName=Aue;var Mk="MenuPortal",[Pue,ZU]=Lf(Mk,{forceMount:void 0}),JU=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=$f(Mk,t);return s.jsx(Pue,{scope:t,forceMount:r,children:s.jsx(Jn,{present:r||i.open,children:s.jsx(fp,{asChild:!0,container:a,children:n})})})};JU.displayName=Mk;var qi="MenuContent",[Tue,Fk]=Lf(qi),eV=v.forwardRef((e,t)=>{const r=ZU(qi,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=$f(qi,e.__scopeMenu),o=S0(qi,e.__scopeMenu);return s.jsx(Xg.Provider,{scope:e.__scopeMenu,children:s.jsx(Jn,{present:n||i.open,children:s.jsx(Xg.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(kue,{...a,ref:t}):s.jsx(Oue,{...a,ref:t})})})})}),kue=v.forwardRef((e,t)=>{const r=$f(qi,e.__scopeMenu),n=v.useRef(null),a=Ft(t,n);return v.useEffect(()=>{const i=n.current;if(i)return j0(i)},[]),s.jsx(Lk,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ue(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Oue=v.forwardRef((e,t)=>{const r=$f(qi,e.__scopeMenu);return s.jsx(Lk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Lk=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:x,...p}=e,g=$f(qi,r),b=S0(qi,r),y=yN(r),j=YU(r),w=_ue(r),[N,_]=v.useState(null),C=v.useRef(null),S=Ft(t,C,g.onContentChange),E=v.useRef(0),P=v.useRef(""),I=v.useRef(0),D=v.useRef(null),U=v.useRef("right"),F=v.useRef(0),M=x?N0:v.Fragment,O=x?{as:Tl,allowPinchZoom:!0}:void 0,A=W=>{var Z,X;const fe=P.current+W,de=w().filter(ee=>!ee.disabled),T=document.activeElement,L=(Z=de.find(ee=>ee.ref.current===T))==null?void 0:Z.textValue,R=de.map(ee=>ee.textValue),K=Wue(R,fe,L),q=(X=de.find(ee=>ee.textValue===K))==null?void 0:X.ref.current;(function ee(ie){P.current=ie,window.clearTimeout(E.current),ie!==""&&(E.current=window.setTimeout(()=>ee(""),1e3))})(fe),q&&setTimeout(()=>q.focus())};v.useEffect(()=>()=>window.clearTimeout(E.current),[]),xN();const k=v.useCallback(W=>{var de,T;return U.current===((de=D.current)==null?void 0:de.side)&&Gue(W,(T=D.current)==null?void 0:T.area)},[]);return s.jsx(Tue,{scope:r,searchRef:P,onItemEnter:v.useCallback(W=>{k(W)&&W.preventDefault()},[k]),onItemLeave:v.useCallback(W=>{var fe;k(W)||((fe=C.current)==null||fe.focus(),_(null))},[k]),onTriggerLeave:v.useCallback(W=>{k(W)&&W.preventDefault()},[k]),pointerGraceTimerRef:I,onPointerGraceIntentChange:v.useCallback(W=>{D.current=W},[]),children:s.jsx(M,{...O,children:s.jsx(w0,{asChild:!0,trapped:a,onMountAutoFocus:Ue(i,W=>{var fe;W.preventDefault(),(fe=C.current)==null||fe.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Mf,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:s.jsx(kk,{asChild:!0,...j,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:_,onEntryFocus:Ue(c,W=>{b.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(tN,{role:"menu","aria-orientation":"vertical","data-state":xV(g.open),"data-radix-menu-content":"",dir:b.dir,...y,...p,ref:S,style:{outline:"none",...p.style},onKeyDown:Ue(p.onKeyDown,W=>{const de=W.target.closest("[data-radix-menu-content]")===W.currentTarget,T=W.ctrlKey||W.altKey||W.metaKey,L=W.key.length===1;de&&(W.key==="Tab"&&W.preventDefault(),!T&&L&&A(W.key));const R=C.current;if(W.target!==R||!wue.includes(W.key))return;W.preventDefault();const q=w().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);KU.includes(W.key)&&q.reverse(),Vue(q)}),onBlur:Ue(e.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(E.current),P.current="")}),onPointerMove:Ue(e.onPointerMove,Yg(W=>{const fe=W.target,de=F.current!==W.clientX;if(W.currentTarget.contains(fe)&&de){const T=W.clientX>F.current?"right":"left";U.current=T,F.current=W.clientX}}))})})})})})})});eV.displayName=qi;var Due="MenuGroup",$k=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(gt.div,{role:"group",...n,ref:t})});$k.displayName=Due;var Iue="MenuLabel",tV=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(gt.div,{...n,ref:t})});tV.displayName=Iue;var Wb="MenuItem",p3="menu.itemSelect",bN=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=v.useRef(null),o=S0(Wb,e.__scopeMenu),l=Fk(Wb,e.__scopeMenu),c=Ft(t,i),d=v.useRef(!1),u=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(p3,{bubbles:!0,cancelable:!0});f.addEventListener(p3,m=>n==null?void 0:n(m),{once:!0}),WT(f,h),h.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(rV,{...a,ref:c,disabled:r,onClick:Ue(e.onClick,u),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),d.current=!0},onPointerUp:Ue(e.onPointerUp,f=>{var h;d.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ue(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||$E.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});bN.displayName=Wb;var rV=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=Fk(Wb,r),l=YU(r),c=v.useRef(null),d=Ft(t,c),[u,f]=v.useState(!1),[h,m]=v.useState("");return v.useEffect(()=>{const x=c.current;x&&m((x.textContent??"").trim())},[i.children]),s.jsx(Xg.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:s.jsx(Ok,{asChild:!0,...l,focusable:!n,children:s.jsx(gt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:Ue(e.onPointerMove,Yg(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ue(e.onPointerLeave,Yg(x=>o.onItemLeave(x))),onFocus:Ue(e.onFocus,()=>f(!0)),onBlur:Ue(e.onBlur,()=>f(!1))})})})}),Rue="MenuCheckboxItem",nV=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(lV,{scope:e.__scopeMenu,checked:r,children:s.jsx(bN,{role:"menuitemcheckbox","aria-checked":Hb(r)?"mixed":r,...a,ref:t,"data-state":Uk(r),onSelect:Ue(a.onSelect,()=>n==null?void 0:n(Hb(r)?!0:!r),{checkForDefaultPrevented:!1})})})});nV.displayName=Rue;var sV="MenuRadioGroup",[Mue,Fue]=Lf(sV,{value:void 0,onValueChange:()=>{}}),aV=v.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=en(n);return s.jsx(Mue,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx($k,{...a,ref:t})})});aV.displayName=sV;var iV="MenuRadioItem",oV=v.forwardRef((e,t)=>{const{value:r,...n}=e,a=Fue(iV,e.__scopeMenu),i=r===a.value;return s.jsx(lV,{scope:e.__scopeMenu,checked:i,children:s.jsx(bN,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":Uk(i),onSelect:Ue(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});oV.displayName=iV;var Bk="MenuItemIndicator",[lV,Lue]=Lf(Bk,{checked:!1}),cV=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=Lue(Bk,r);return s.jsx(Jn,{present:n||Hb(i.checked)||i.checked===!0,children:s.jsx(gt.span,{...a,ref:t,"data-state":Uk(i.checked)})})});cV.displayName=Bk;var $ue="MenuSeparator",dV=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(gt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});dV.displayName=$ue;var Bue="MenuArrow",uV=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=yN(r);return s.jsx(rN,{...a,...n,ref:t})});uV.displayName=Bue;var Uue="MenuSub",[CJe,fV]=Lf(Uue),$x="MenuSubTrigger",hV=v.forwardRef((e,t)=>{const r=$f($x,e.__scopeMenu),n=S0($x,e.__scopeMenu),a=fV($x,e.__scopeMenu),i=Fk($x,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>u,[u]),v.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(Rk,{asChild:!0,...d,children:s.jsx(rV,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":xV(r.open),...e,ref:Vj(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ue(e.onPointerMove,Yg(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:Ue(e.onPointerLeave,Yg(f=>{var m,x;u();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(x=r.content)==null?void 0:x.dataset.side,g=p==="right",b=g?-5:5,y=h[g?"left":"right"],j=h[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:y,y:h.top},{x:j,y:h.top},{x:j,y:h.bottom},{x:y,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ue(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||jue[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});hV.displayName=$x;var mV="MenuSubContent",pV=v.forwardRef((e,t)=>{const r=ZU(qi,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=$f(qi,e.__scopeMenu),o=S0(qi,e.__scopeMenu),l=fV(mV,e.__scopeMenu),c=v.useRef(null),d=Ft(t,c);return s.jsx(Xg.Provider,{scope:e.__scopeMenu,children:s.jsx(Jn,{present:n||i.open,children:s.jsx(Xg.Slot,{scope:e.__scopeMenu,children:s.jsx(Lk,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Ue(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ue(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Ue(e.onKeyDown,u=>{var m;const f=u.currentTarget.contains(u.target),h=Nue[o.dir].includes(u.key);f&&h&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),u.preventDefault())})})})})})});pV.displayName=mV;function xV(e){return e?"open":"closed"}function Hb(e){return e==="indeterminate"}function Uk(e){return Hb(e)?"indeterminate":e?"checked":"unchecked"}function Vue(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function zue(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Wue(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=zue(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Hue(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>n!=u>n&&r<(d-l)*(n-c)/(u-c)+l&&(a=!a)}return a}function Gue(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Hue(r,t)}function Yg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var que=QU,Kue=Rk,Xue=JU,Yue=eV,Que=$k,Zue=tV,Jue=bN,efe=nV,tfe=aV,rfe=oV,nfe=cV,sfe=dV,afe=uV,ife=hV,ofe=pV,Vk="DropdownMenu",[lfe,EJe]=ya(Vk,[XU]),ba=XU(),[cfe,gV]=lfe(Vk),vV=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=ba(t),d=v.useRef(null),[u=!1,f]=Qi({prop:a,defaultProp:i,onChange:o});return s.jsx(cfe,{scope:t,triggerId:Hi(),triggerRef:d,contentId:Hi(),open:u,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(h=>!h),[f]),modal:l,children:s.jsx(que,{...c,open:u,onOpenChange:f,dir:n,modal:l,children:r})})};vV.displayName=Vk;var yV="DropdownMenuTrigger",bV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=gV(yV,r),o=ba(r);return s.jsx(Kue,{asChild:!0,...o,children:s.jsx(gt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Vj(t,i.triggerRef),onPointerDown:Ue(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ue(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});bV.displayName=yV;var dfe="DropdownMenuPortal",wV=e=>{const{__scopeDropdownMenu:t,...r}=e,n=ba(t);return s.jsx(Xue,{...n,...r})};wV.displayName=dfe;var jV="DropdownMenuContent",NV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=gV(jV,r),i=ba(r),o=v.useRef(!1);return s.jsx(Yue,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:Ue(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ue(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});NV.displayName=jV;var ufe="DropdownMenuGroup",ffe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(Que,{...a,...n,ref:t})});ffe.displayName=ufe;var hfe="DropdownMenuLabel",_V=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(Zue,{...a,...n,ref:t})});_V.displayName=hfe;var mfe="DropdownMenuItem",SV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(Jue,{...a,...n,ref:t})});SV.displayName=mfe;var pfe="DropdownMenuCheckboxItem",CV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(efe,{...a,...n,ref:t})});CV.displayName=pfe;var xfe="DropdownMenuRadioGroup",gfe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(tfe,{...a,...n,ref:t})});gfe.displayName=xfe;var vfe="DropdownMenuRadioItem",EV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(rfe,{...a,...n,ref:t})});EV.displayName=vfe;var yfe="DropdownMenuItemIndicator",AV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(nfe,{...a,...n,ref:t})});AV.displayName=yfe;var bfe="DropdownMenuSeparator",PV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(sfe,{...a,...n,ref:t})});PV.displayName=bfe;var wfe="DropdownMenuArrow",jfe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(afe,{...a,...n,ref:t})});jfe.displayName=wfe;var Nfe="DropdownMenuSubTrigger",TV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(ife,{...a,...n,ref:t})});TV.displayName=Nfe;var _fe="DropdownMenuSubContent",kV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ba(r);return s.jsx(ofe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});kV.displayName=_fe;var Sfe=vV,Cfe=bV,Efe=wV,OV=NV,DV=_V,IV=SV,RV=CV,MV=EV,FV=AV,LV=PV,$V=TV,BV=kV;const C0=Sfe,E0=Cfe,Afe=v.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs($V,{ref:a,className:pe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(Hd,{className:"ml-auto h-4 w-4"})]}));Afe.displayName=$V.displayName;const Pfe=v.forwardRef(({className:e,...t},r)=>s.jsx(BV,{ref:r,className:pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Pfe.displayName=BV.displayName;const Sp=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(Efe,{children:s.jsx(OV,{ref:n,sideOffset:t,className:pe("z-[9999] min-w-[12rem] overflow-hidden rounded-lg border border-border/50 bg-popover backdrop-blur-xl p-2 text-popover-foreground shadow-2xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Sp.displayName=OV.displayName;const mn=v.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(IV,{ref:n,className:pe("relative flex cursor-pointer select-none items-center rounded-md px-3 py-2.5 text-sm font-medium outline-none transition-colors","hover:bg-accent/80 hover:text-accent-foreground focus:bg-accent/80 focus:text-accent-foreground","data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));mn.displayName=IV.displayName;const UV=v.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(RV,{ref:a,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(FV,{children:s.jsx(Ui,{className:"h-4 w-4"})})}),t]}));UV.displayName=RV.displayName;const Tfe=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(MV,{ref:n,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(FV,{children:s.jsx(x9,{className:"h-2 w-2 fill-current"})})}),t]}));Tfe.displayName=MV.displayName;const BE=v.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(DV,{ref:n,className:pe("px-3 py-2 text-xs font-bold text-muted-foreground uppercase tracking-wider",t&&"pl-8",e),...r}));BE.displayName=DV.displayName;const gc=v.forwardRef(({className:e,...t},r)=>s.jsx(LV,{ref:r,className:pe("my-1.5 h-px bg-border/50",e),...t}));gc.displayName=LV.displayName;var zk="Dialog",[VV,zV]=ya(zk),[kfe,Go]=VV(zk),WV=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[d=!1,u]=Qi({prop:n,defaultProp:a,onChange:i});return s.jsx(kfe,{scope:t,triggerRef:l,contentRef:c,contentId:Hi(),titleId:Hi(),descriptionId:Hi(),open:d,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};WV.displayName=zk;var HV="DialogTrigger",GV=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Go(HV,r),i=Ft(t,a.triggerRef);return s.jsx(gt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Gk(a.open),...n,ref:i,onClick:Ue(e.onClick,a.onOpenToggle)})});GV.displayName=HV;var Wk="DialogPortal",[Ofe,qV]=VV(Wk,{forceMount:void 0}),KV=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Go(Wk,t);return s.jsx(Ofe,{scope:t,forceMount:r,children:v.Children.map(n,o=>s.jsx(Jn,{present:r||i.open,children:s.jsx(fp,{asChild:!0,container:a,children:o})}))})};KV.displayName=Wk;var Gb="DialogOverlay",XV=v.forwardRef((e,t)=>{const r=qV(Gb,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Go(Gb,e.__scopeDialog);return i.modal?s.jsx(Jn,{present:n||i.open,children:s.jsx(Dfe,{...a,ref:t})}):null});XV.displayName=Gb;var Dfe=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Go(Gb,r);return s.jsx(N0,{as:Tl,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(gt.div,{"data-state":Gk(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),yf="DialogContent",YV=v.forwardRef((e,t)=>{const r=qV(yf,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Go(yf,e.__scopeDialog);return s.jsx(Jn,{present:n||i.open,children:i.modal?s.jsx(Ife,{...a,ref:t}):s.jsx(Rfe,{...a,ref:t})})});YV.displayName=yf;var Ife=v.forwardRef((e,t)=>{const r=Go(yf,e.__scopeDialog),n=v.useRef(null),a=Ft(t,r.contentRef,n);return v.useEffect(()=>{const i=n.current;if(i)return j0(i)},[]),s.jsx(QV,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ue(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ue(e.onFocusOutside,i=>i.preventDefault())})}),Rfe=v.forwardRef((e,t)=>{const r=Go(yf,e.__scopeDialog),n=v.useRef(!1),a=v.useRef(!1);return s.jsx(QV,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),QV=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Go(yf,r),c=v.useRef(null),d=Ft(t,c);return xN(),s.jsxs(s.Fragment,{children:[s.jsx(w0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Mf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Gk(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Ffe,{titleId:l.titleId}),s.jsx($fe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Hk="DialogTitle",ZV=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Go(Hk,r);return s.jsx(gt.h2,{id:a.titleId,...n,ref:t})});ZV.displayName=Hk;var JV="DialogDescription",ez=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Go(JV,r);return s.jsx(gt.p,{id:a.descriptionId,...n,ref:t})});ez.displayName=JV;var tz="DialogClose",rz=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Go(tz,r);return s.jsx(gt.button,{type:"button",...n,ref:t,onClick:Ue(e.onClick,()=>a.onOpenChange(!1))})});rz.displayName=tz;function Gk(e){return e?"open":"closed"}var nz="DialogTitleWarning",[Mfe,sz]=hre(nz,{contentName:yf,titleName:Hk,docsSlug:"dialog"}),Ffe=({titleId:e})=>{const t=sz(nz),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Lfe="DialogDescriptionWarning",$fe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sz(Lfe).contentName}}.`;return v.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},qk=WV,az=GV,Kk=KV,A0=XV,P0=YV,T0=ZV,k0=ez,wN=rz;const Bfe=qk,Ufe=Kk,iz=v.forwardRef(({className:e,...t},r)=>s.jsx(A0,{className:pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));iz.displayName=A0.displayName;const Vfe=hp("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),oz=v.forwardRef(({side:e="right",className:t,children:r,...n},a)=>s.jsxs(Ufe,{children:[s.jsx(iz,{}),s.jsxs(P0,{ref:a,className:pe(Vfe({side:e}),t),...n,children:[r,s.jsxs(wN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Bs,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));oz.displayName=P0.displayName;const lz=({className:e,...t})=>s.jsx("div",{className:pe("flex flex-col space-y-2 text-center sm:text-left",e),...t});lz.displayName="SheetHeader";const cz=v.forwardRef(({className:e,...t},r)=>s.jsx(T0,{ref:r,className:pe("text-lg font-semibold text-foreground",e),...t}));cz.displayName=T0.displayName;const zfe=v.forwardRef(({className:e,...t},r)=>s.jsx(k0,{ref:r,className:pe("text-sm text-muted-foreground",e),...t}));zfe.displayName=k0.displayName;function UE(e,[t,r]){return Math.min(r,Math.max(t,e))}function Wfe(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var Xk="ScrollArea",[dz,AJe]=ya(Xk),[Hfe,ao]=dz(Xk),uz=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=v.useState(null),[d,u]=v.useState(null),[f,h]=v.useState(null),[m,x]=v.useState(null),[p,g]=v.useState(null),[b,y]=v.useState(0),[j,w]=v.useState(0),[N,_]=v.useState(!1),[C,S]=v.useState(!1),E=Ft(t,I=>c(I)),P=Np(a);return s.jsx(Hfe,{scope:r,type:n,dir:P,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:N,onScrollbarXEnabledChange:_,scrollbarY:p,onScrollbarYChange:g,scrollbarYEnabled:C,onScrollbarYEnabledChange:S,onCornerWidthChange:y,onCornerHeightChange:w,children:s.jsx(gt.div,{dir:P,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});uz.displayName=Xk;var fz="ScrollAreaViewport",hz=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:a,nonce:i,...o}=e,l=ao(fz,r),c=v.useRef(null),d=Ft(t,c,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),s.jsx(gt.div,{"data-radix-scroll-area-viewport":"",...o,asChild:a,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:the({asChild:a,children:n},u=>s.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});hz.displayName=fz;var Vl="ScrollAreaScrollbar",Yk=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ao(Vl,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return v.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(Gfe,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(qfe,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(mz,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(Qk,{...n,ref:t}):null});Yk.displayName=Vl;var Gfe=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ao(Vl,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Jn,{present:r||i,children:s.jsx(mz,{"data-state":i?"visible":"hidden",...n,ref:t})})}),qfe=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ao(Vl,e.__scopeScrollArea),i=e.orientation==="horizontal",o=NN(()=>c("SCROLL_END"),100),[l,c]=Wfe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),v.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let f=d[u];const h=()=>{const m=d[u];f!==m&&(c("SCROLL"),o()),f=m};return d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(Jn,{present:r||l!=="hidden",children:s.jsx(Qk,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ue(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ue(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),mz=v.forwardRef((e,t)=>{const r=ao(Vl,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=v.useState(!1),l=e.orientation==="horizontal",c=NN(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return Am(r.viewport,c),Am(r.content,c),s.jsx(Jn,{present:n||i,children:s.jsx(Qk,{"data-state":i?"visible":"hidden",...a,ref:t})})}),Qk=v.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=ao(Vl,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=yz(l.viewport,l.content),u={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return Jfe(h,o.current,l,m)}return r==="horizontal"?s.jsx(Kfe,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,m=x3(h,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?s.jsx(Xfe,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,m=x3(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),Kfe=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ao(Vl,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),d=Ft(t,c,i.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(xz,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":jN(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),wz(h,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Kb(o.paddingLeft),paddingEnd:Kb(o.paddingRight)}})}})}),Xfe=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ao(Vl,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),d=Ft(t,c,i.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(xz,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":jN(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const h=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),wz(h,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Kb(o.paddingTop),paddingEnd:Kb(o.paddingBottom)}})}})}),[Yfe,pz]=dz(Vl),xz=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...h}=e,m=ao(Vl,r),[x,p]=v.useState(null),g=Ft(t,E=>p(E)),b=v.useRef(null),y=v.useRef(""),j=m.viewport,w=n.content-n.viewport,N=en(u),_=en(c),C=NN(f,10);function S(E){if(b.current){const P=E.clientX-b.current.left,I=E.clientY-b.current.top;d({x:P,y:I})}}return v.useEffect(()=>{const E=P=>{const I=P.target;(x==null?void 0:x.contains(I))&&N(P,w)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[j,x,w,N]),v.useEffect(_,[n,_]),Am(x,C),Am(m.content,C),s.jsx(Yfe,{scope:r,scrollbar:x,hasThumb:a,onThumbChange:en(i),onThumbPointerUp:en(o),onThumbPositionChange:_,onThumbPointerDown:en(l),children:s.jsx(gt.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:Ue(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),b.current=x.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),S(E))}),onPointerMove:Ue(e.onPointerMove,S),onPointerUp:Ue(e.onPointerUp,E=>{const P=E.target;P.hasPointerCapture(E.pointerId)&&P.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),qb="ScrollAreaThumb",gz=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=pz(qb,e.__scopeScrollArea);return s.jsx(Jn,{present:r||a.hasThumb,children:s.jsx(Qfe,{ref:t,...n})})}),Qfe=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=ao(qb,r),o=pz(qb,r),{onThumbPositionChange:l}=o,c=Ft(t,f=>o.onThumbChange(f)),d=v.useRef(),u=NN(()=>{d.current&&(d.current(),d.current=void 0)},100);return v.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(u(),!d.current){const m=ehe(f,l);d.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,u,l]),s.jsx(gt.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ue(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),x=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x,y:p})}),onPointerUp:Ue(e.onPointerUp,o.onThumbPointerUp)})});gz.displayName=qb;var Zk="ScrollAreaCorner",vz=v.forwardRef((e,t)=>{const r=ao(Zk,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(Zfe,{...e,ref:t}):null});vz.displayName=Zk;var Zfe=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=ao(Zk,r),[i,o]=v.useState(0),[l,c]=v.useState(0),d=!!(i&&l);return Am(a.scrollbarX,()=>{var f;const u=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),Am(a.scrollbarY,()=>{var f;const u=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?s.jsx(gt.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Kb(e){return e?parseInt(e,10):0}function yz(e,t){const r=e/t;return isNaN(r)?0:r}function jN(e){const t=yz(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Jfe(e,t,r,n="ltr"){const a=jN(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return bz([c,d],f)(e)}function x3(e,t,r="ltr"){const n=jN(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],d=UE(e,c);return bz([0,o],[0,l])(d)}function bz(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function wz(e,t){return e>0&&e<t}var ehe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function NN(e,t){const r=en(e),n=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),v.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Am(e,t){const r=en(t);Qn(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}function the(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const a=v.Children.only(n);return v.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var jz=uz,rhe=hz,nhe=vz;const zc=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(jz,{ref:n,className:pe("relative overflow-hidden",e),...r,children:[s.jsx(rhe,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(Nz,{}),s.jsx(nhe,{})]}));zc.displayName=jz.displayName;const Nz=v.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(Yk,{ref:n,orientation:t,className:pe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(gz,{className:"relative flex-1 rounded-full bg-border"})}));Nz.displayName=Yk.displayName;var g3=1,she=.9,ahe=.8,ihe=.17,B2=.1,U2=.999,ohe=.9999,lhe=.99,che=/[\\\/_+.#"@\[\(\{&]/,dhe=/[\\\/_+.#"@\[\(\{&]/g,uhe=/[\s-]/,_z=/[\s-]/g;function VE(e,t,r,n,a,i,o){if(i===t.length)return a===e.length?g3:lhe;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),d=r.indexOf(c,a),u=0,f,h,m,x;d>=0;)f=VE(e,t,r,n,d+1,i+1,o),f>u&&(d===a?f*=g3:che.test(e.charAt(d-1))?(f*=ahe,m=e.slice(a,d-1).match(dhe),m&&a>0&&(f*=Math.pow(U2,m.length))):uhe.test(e.charAt(d-1))?(f*=she,x=e.slice(a,d-1).match(_z),x&&a>0&&(f*=Math.pow(U2,x.length))):(f*=ihe,a>0&&(f*=Math.pow(U2,d-a))),e.charAt(d)!==t.charAt(i)&&(f*=ohe)),(f<B2&&r.charAt(d-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(d-1)!==n.charAt(i))&&(h=VE(e,t,r,n,d+1,i+2,o),h*B2>f&&(f=h*B2)),f>u&&(u=f),d=r.indexOf(c,d+1);return o[l]=u,u}function v3(e){return e.toLowerCase().replace(_z," ")}function fhe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,VE(e,t,v3(e),v3(t),0,0,{})}function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ks.apply(null,arguments)}function qh(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function hhe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Sz(...e){return t=>e.forEach(r=>hhe(r,t))}function O0(...e){return v.useCallback(Sz(...e),e)}function mhe(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:h,children:m,...x}=f,p=(h==null?void 0:h[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return v.createElement(p.Provider,{value:g},m)}function u(f,h){const m=(h==null?void 0:h[e][c])||l,x=v.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,phe(a,...t)]}function phe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}const zE=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},xhe=ZP.useId||(()=>{});let ghe=0;function V2(e){const[t,r]=v.useState(xhe());return zE(()=>{e||r(n=>n??String(ghe++))},[e]),e||(t?`radix-${t}`:"")}function bf(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}function vhe({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=yhe({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=bf(r),c=v.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else a(d)},[i,e,a,l]);return[o,c]}function yhe({defaultProp:e,onChange:t}){const r=v.useState(e),[n]=r,a=v.useRef(n),i=bf(t);return v.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}const Jk=v.forwardRef((e,t)=>{const{children:r,...n}=e,a=v.Children.toArray(r),i=a.find(whe);if(i){const o=i.props.children,l=a.map(c=>c===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return v.createElement(WE,ks({},n,{ref:t}),v.isValidElement(o)?v.cloneElement(o,void 0,l):null)}return v.createElement(WE,ks({},n,{ref:t}),r)});Jk.displayName="Slot";const WE=v.forwardRef((e,t)=>{const{children:r,...n}=e;return v.isValidElement(r)?v.cloneElement(r,{...jhe(n,r.props),ref:t?Sz(t,r.ref):r.ref}):v.Children.count(r)>1?v.Children.only(null):null});WE.displayName="SlotClone";const bhe=({children:e})=>v.createElement(v.Fragment,null,e);function whe(e){return v.isValidElement(e)&&e.type===bhe}function jhe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}const Nhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],io=Nhe.reduce((e,t)=>{const r=v.forwardRef((n,a)=>{const{asChild:i,...o}=n,l=i?Jk:t;return v.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),v.createElement(l,ks({},o,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function _he(e,t){e&&no.flushSync(()=>e.dispatchEvent(t))}function She(e,t=globalThis==null?void 0:globalThis.document){const r=bf(e);v.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n),()=>t.removeEventListener("keydown",n)},[r,t])}const HE="dismissableLayer.update",Che="dismissableLayer.pointerDownOutside",Ehe="dismissableLayer.focusOutside";let y3;const Ahe=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Phe=v.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=e,u=v.useContext(Ahe),[f,h]=v.useState(null),m=(r=f==null?void 0:f.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,x]=v.useState({}),p=O0(t,S=>h(S)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(b),j=f?g.indexOf(f):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,N=j>=y,_=The(S=>{const E=S.target,P=[...u.branches].some(I=>I.contains(E));!N||P||(i==null||i(S),l==null||l(S),S.defaultPrevented||c==null||c())},m),C=khe(S=>{const E=S.target;[...u.branches].some(I=>I.contains(E))||(o==null||o(S),l==null||l(S),S.defaultPrevented||c==null||c())},m);return She(S=>{j===u.layers.size-1&&(a==null||a(S),!S.defaultPrevented&&c&&(S.preventDefault(),c()))},m),v.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(y3=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),b3(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=y3)}},[f,m,n,u]),v.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),b3())},[f,u]),v.useEffect(()=>{const S=()=>x({});return document.addEventListener(HE,S),()=>document.removeEventListener(HE,S)},[]),v.createElement(io.div,ks({},d,{ref:p,style:{pointerEvents:w?N?"auto":"none":void 0,...e.style},onFocusCapture:qh(e.onFocusCapture,C.onFocusCapture),onBlurCapture:qh(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:qh(e.onPointerDownCapture,_.onPointerDownCapture)}))});function The(e,t=globalThis==null?void 0:globalThis.document){const r=bf(e),n=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let u=function(){Cz(Che,r,d,{discrete:!0})};var c=u;const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function khe(e,t=globalThis==null?void 0:globalThis.document){const r=bf(e),n=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!n.current&&Cz(Ehe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function b3(){const e=new CustomEvent(HE);document.dispatchEvent(e)}function Cz(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?_he(a,i):a.dispatchEvent(i)}const z2="focusScope.autoFocusOnMount",W2="focusScope.autoFocusOnUnmount",w3={bubbles:!1,cancelable:!0},Ohe=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),d=bf(a),u=bf(i),f=v.useRef(null),h=O0(t,p=>c(p)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let y=function(_){if(m.paused||!l)return;const C=_.target;l.contains(C)?f.current=C:rd(f.current,{select:!0})},j=function(_){if(m.paused||!l)return;const C=_.relatedTarget;C!==null&&(l.contains(C)||rd(f.current,{select:!0}))},w=function(_){if(document.activeElement===document.body)for(const S of _)S.removedNodes.length>0&&rd(l)};var p=y,g=j,b=w;document.addEventListener("focusin",y),document.addEventListener("focusout",j);const N=new MutationObserver(w);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",j),N.disconnect()}}},[n,l,m.paused]),v.useEffect(()=>{if(l){N3.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(z2,w3);l.addEventListener(z2,d),l.dispatchEvent(b),b.defaultPrevented||(Dhe(Lhe(Ez(l)),{select:!0}),document.activeElement===p&&rd(l))}return()=>{l.removeEventListener(z2,d),setTimeout(()=>{const b=new CustomEvent(W2,w3);l.addEventListener(W2,u),l.dispatchEvent(b),b.defaultPrevented||rd(p??document.body,{select:!0}),l.removeEventListener(W2,u),N3.remove(m)},0)}}},[l,d,u,m]);const x=v.useCallback(p=>{if(!r&&!n||m.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(g&&b){const y=p.currentTarget,[j,w]=Ihe(y);j&&w?!p.shiftKey&&b===w?(p.preventDefault(),r&&rd(j,{select:!0})):p.shiftKey&&b===j&&(p.preventDefault(),r&&rd(w,{select:!0})):b===y&&p.preventDefault()}},[r,n,m.paused]);return v.createElement(io.div,ks({tabIndex:-1},o,{ref:h,onKeyDown:x}))});function Dhe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(rd(n,{select:t}),document.activeElement!==r)return}function Ihe(e){const t=Ez(e),r=j3(t,e),n=j3(t.reverse(),e);return[r,n]}function Ez(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function j3(e,t){for(const r of e)if(!Rhe(r,{upTo:t}))return r}function Rhe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Mhe(e){return e instanceof HTMLInputElement&&"select"in e}function rd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Mhe(e)&&t&&e.select()}}const N3=Fhe();function Fhe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=_3(e,t),e.unshift(t)},remove(t){var r;e=_3(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function _3(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Lhe(e){return e.filter(t=>t.tagName!=="A")}const $he=v.forwardRef((e,t)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...a}=e;return n?Uj.createPortal(v.createElement(io.div,ks({},a,{ref:t})),n):null});function Bhe(e,t){return v.useReducer((r,n)=>{const a=t[r][n];return a??r},e)}const _N=e=>{const{present:t,children:r}=e,n=Uhe(t),a=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),i=O0(n.ref,a.ref);return typeof r=="function"||n.isPresent?v.cloneElement(a,{ref:i}):null};_N.displayName="Presence";function Uhe(e){const[t,r]=v.useState(),n=v.useRef({}),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Bhe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=My(n.current);i.current=l==="mounted"?d:"none"},[l]),zE(()=>{const d=n.current,u=a.current;if(u!==e){const h=i.current,m=My(d);e?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),zE(()=>{if(t){const d=f=>{const m=My(n.current).includes(f.animationName);f.target===t&&m&&no.flushSync(()=>c("ANIMATION_END"))},u=f=>{f.target===t&&(i.current=My(n.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function My(e){return(e==null?void 0:e.animationName)||"none"}let H2=0;function Vhe(){v.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:S3()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:S3()),H2++,()=>{H2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),H2--}},[])}function S3(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Az=BU(),G2=function(){},SN=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:G2,onWheelCapture:G2,onTouchMoveCapture:G2}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,x=e.inert,p=e.allowPinchZoom,g=e.as,b=g===void 0?"div":g,y=Dk(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),j=h,w=$U([r,t]),N=Ws(Ws({},y),a);return v.createElement(v.Fragment,null,u&&v.createElement(j,{sideCar:Az,removeScrollBar:d,shards:f,noIsolation:m,inert:x,setCallbacks:i,allowPinchZoom:!!p,lockRef:r}),o?v.cloneElement(v.Children.only(l),Ws(Ws({},N),{ref:w})):v.createElement(b,Ws({},N,{className:c,ref:w}),l))});SN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};SN.classNames={fullWidth:rg,zeroRight:tg};var GE=!1;if(typeof window<"u")try{var Fy=Object.defineProperty({},"passive",{get:function(){return GE=!0,!0}});window.addEventListener("test",Fy,Fy),window.removeEventListener("test",Fy,Fy)}catch{GE=!1}var sh=GE?{passive:!1}:!1,zhe=function(e){return e.tagName==="TEXTAREA"},Pz=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!zhe(e)&&r[t]==="visible")},Whe=function(e){return Pz(e,"overflowY")},Hhe=function(e){return Pz(e,"overflowX")},C3=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=Tz(e,r);if(n){var a=kz(e,r),i=a[1],o=a[2];if(i>o)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},Ghe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},qhe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Tz=function(e,t){return e==="v"?Whe(t):Hhe(t)},kz=function(e,t){return e==="v"?Ghe(t):qhe(t)},Khe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Xhe=function(e,t,r,n,a){var i=Khe(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,h=0;do{var m=kz(e,l),x=m[0],p=m[1],g=m[2],b=p-g-i*x;(x||b)&&Tz(e,l)&&(f+=b,h+=x),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(f===0||!a)||!u&&(h===0||!a))&&(d=!0),d},Ly=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},E3=function(e){return[e.deltaX,e.deltaY]},A3=function(e){return e&&"current"in e?e.current:e},Yhe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Qhe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Zhe=0,ah=[];function Jhe(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),a=v.useState(Zhe++)[0],i=v.useState(function(){return Ik()})[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=LU([e.lockRef.current],(e.shards||[]).map(A3),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,g){if("touches"in p&&p.touches.length===2)return!o.current.allowPinchZoom;var b=Ly(p),y=r.current,j="deltaX"in p?p.deltaX:y[0]-b[0],w="deltaY"in p?p.deltaY:y[1]-b[1],N,_=p.target,C=Math.abs(j)>Math.abs(w)?"h":"v";if("touches"in p&&C==="h"&&_.type==="range")return!1;var S=C3(C,_);if(!S)return!0;if(S?N=C:(N=C==="v"?"h":"v",S=C3(C,_)),!S)return!1;if(!n.current&&"changedTouches"in p&&(j||w)&&(n.current=N),!N)return!0;var E=n.current||N;return Xhe(E,g,p,E==="h"?j:w,!0)},[]),c=v.useCallback(function(p){var g=p;if(!(!ah.length||ah[ah.length-1]!==i)){var b="deltaY"in g?E3(g):Ly(g),y=t.current.filter(function(N){return N.name===g.type&&N.target===g.target&&Yhe(N.delta,b)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var j=(o.current.shards||[]).map(A3).filter(Boolean).filter(function(N){return N.contains(g.target)}),w=j.length>0?l(g,j[0]):!o.current.noIsolation;w&&g.cancelable&&g.preventDefault()}}},[]),d=v.useCallback(function(p,g,b,y){var j={name:p,delta:g,target:b,should:y};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(w){return w!==j})},1)},[]),u=v.useCallback(function(p){r.current=Ly(p),n.current=void 0},[]),f=v.useCallback(function(p){d(p.type,E3(p),p.target,l(p,e.lockRef.current))},[]),h=v.useCallback(function(p){d(p.type,Ly(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return ah.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,sh),document.addEventListener("touchmove",c,sh),document.addEventListener("touchstart",u,sh),function(){ah=ah.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,sh),document.removeEventListener("touchmove",c,sh),document.removeEventListener("touchstart",u,sh)}},[]);var m=e.removeScrollBar,x=e.inert;return v.createElement(v.Fragment,null,x?v.createElement(i,{styles:Qhe(a)}):null,m?v.createElement(WU,{gapMode:"margin"}):null)}const eme=VU(Az,Jhe);var Oz=v.forwardRef(function(e,t){return v.createElement(SN,Ws({},e,{ref:t,sideCar:eme}))});Oz.classNames=SN.classNames;const Dz="Dialog",[Iz,PJe]=mhe(Dz),[tme,Bf]=Iz(Dz),rme=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[d=!1,u]=vhe({prop:n,defaultProp:a,onChange:i});return v.createElement(tme,{scope:t,triggerRef:l,contentRef:c,contentId:V2(),titleId:V2(),descriptionId:V2(),open:d,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(f=>!f),[u]),modal:o},r)},Rz="DialogPortal",[nme,Mz]=Iz(Rz,{forceMount:void 0}),sme=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Bf(Rz,t);return v.createElement(nme,{scope:t,forceMount:r},v.Children.map(n,o=>v.createElement(_N,{present:r||i.open},v.createElement($he,{asChild:!0,container:a},o))))},qE="DialogOverlay",ame=v.forwardRef((e,t)=>{const r=Mz(qE,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Bf(qE,e.__scopeDialog);return i.modal?v.createElement(_N,{present:n||i.open},v.createElement(ime,ks({},a,{ref:t}))):null}),ime=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Bf(qE,r);return v.createElement(Oz,{as:Jk,allowPinchZoom:!0,shards:[a.contentRef]},v.createElement(io.div,ks({"data-state":Lz(a.open)},n,{ref:t,style:{pointerEvents:"auto",...n.style}})))}),Qg="DialogContent",ome=v.forwardRef((e,t)=>{const r=Mz(Qg,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Bf(Qg,e.__scopeDialog);return v.createElement(_N,{present:n||i.open},i.modal?v.createElement(lme,ks({},a,{ref:t})):v.createElement(cme,ks({},a,{ref:t})))}),lme=v.forwardRef((e,t)=>{const r=Bf(Qg,e.__scopeDialog),n=v.useRef(null),a=O0(t,r.contentRef,n);return v.useEffect(()=>{const i=n.current;if(i)return j0(i)},[]),v.createElement(Fz,ks({},e,{ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qh(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)===null||o===void 0||o.focus()}),onPointerDownOutside:qh(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:qh(e.onFocusOutside,i=>i.preventDefault())}))}),cme=v.forwardRef((e,t)=>{const r=Bf(Qg,e.__scopeDialog),n=v.useRef(!1),a=v.useRef(!1);return v.createElement(Fz,ks({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o;if((o=e.onCloseAutoFocus)===null||o===void 0||o.call(e,i),!i.defaultPrevented){var l;n.current||(l=r.triggerRef.current)===null||l===void 0||l.focus(),i.preventDefault()}n.current=!1,a.current=!1},onInteractOutside:i=>{var o,l;(o=e.onInteractOutside)===null||o===void 0||o.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;((l=r.triggerRef.current)===null||l===void 0?void 0:l.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),Fz=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Bf(Qg,r),c=v.useRef(null),d=O0(t,c);return Vhe(),v.createElement(v.Fragment,null,v.createElement(Ohe,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i},v.createElement(Phe,ks({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Lz(l.open)},o,{ref:d,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function Lz(e){return e?"open":"closed"}const dme=rme,ume=sme,fme=ame,hme=ome;var hx='[cmdk-group=""]',q2='[cmdk-group-items=""]',mme='[cmdk-group-heading=""]',eO='[cmdk-item=""]',P3=`${eO}:not([aria-disabled="true"])`,KE="cmdk-item-select",Tu="data-value",pme=(e,t,r)=>fhe(e,t,r),$z=v.createContext(void 0),D0=()=>v.useContext($z),Bz=v.createContext(void 0),tO=()=>v.useContext(Bz),Uz=v.createContext(void 0),Vz=v.forwardRef((e,t)=>{let r=ph(()=>{var T,L;return{search:"",value:(L=(T=e.value)!=null?T:e.defaultValue)!=null?L:"",filtered:{count:0,items:new Map,groups:new Set}}}),n=ph(()=>new Set),a=ph(()=>new Map),i=ph(()=>new Map),o=ph(()=>new Set),l=zz(e),{label:c,children:d,value:u,onValueChange:f,filter:h,shouldFilter:m,loop:x,disablePointerSelection:p=!1,vimBindings:g=!0,...b}=e,y=v.useId(),j=v.useId(),w=v.useId(),N=v.useRef(null),_=Cme();wf(()=>{if(u!==void 0){let T=u.trim();r.current.value=T,C.emit()}},[u]),wf(()=>{_(6,U)},[]);let C=v.useMemo(()=>({subscribe:T=>(o.current.add(T),()=>o.current.delete(T)),snapshot:()=>r.current,setState:(T,L,R)=>{var K,q,Z;if(!Object.is(r.current[T],L)){if(r.current[T]=L,T==="search")D(),P(),_(1,I);else if(T==="value"&&(R||_(5,U),((K=l.current)==null?void 0:K.value)!==void 0)){let X=L??"";(Z=(q=l.current).onValueChange)==null||Z.call(q,X);return}C.emit()}},emit:()=>{o.current.forEach(T=>T())}}),[]),S=v.useMemo(()=>({value:(T,L,R)=>{var K;L!==((K=i.current.get(T))==null?void 0:K.value)&&(i.current.set(T,{value:L,keywords:R}),r.current.filtered.items.set(T,E(L,R)),_(2,()=>{P(),C.emit()}))},item:(T,L)=>(n.current.add(T),L&&(a.current.has(L)?a.current.get(L).add(T):a.current.set(L,new Set([T]))),_(3,()=>{D(),P(),r.current.value||I(),C.emit()}),()=>{i.current.delete(T),n.current.delete(T),r.current.filtered.items.delete(T);let R=F();_(4,()=>{D(),(R==null?void 0:R.getAttribute("id"))===T&&I(),C.emit()})}),group:T=>(a.current.has(T)||a.current.set(T,new Set),()=>{i.current.delete(T),a.current.delete(T)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],disablePointerSelection:p,listId:y,inputId:w,labelId:j,listInnerRef:N}),[]);function E(T,L){var R,K;let q=(K=(R=l.current)==null?void 0:R.filter)!=null?K:pme;return T?q(T,r.current.search,L):0}function P(){if(!r.current.search||l.current.shouldFilter===!1)return;let T=r.current.filtered.items,L=[];r.current.filtered.groups.forEach(K=>{let q=a.current.get(K),Z=0;q.forEach(X=>{let ee=T.get(X);Z=Math.max(ee,Z)}),L.push([K,Z])});let R=N.current;M().sort((K,q)=>{var Z,X;let ee=K.getAttribute("id"),ie=q.getAttribute("id");return((Z=T.get(ie))!=null?Z:0)-((X=T.get(ee))!=null?X:0)}).forEach(K=>{let q=K.closest(q2);q?q.appendChild(K.parentElement===q?K:K.closest(`${q2} > *`)):R.appendChild(K.parentElement===R?K:K.closest(`${q2} > *`))}),L.sort((K,q)=>q[1]-K[1]).forEach(K=>{let q=N.current.querySelector(`${hx}[${Tu}="${encodeURIComponent(K[0])}"]`);q==null||q.parentElement.appendChild(q)})}function I(){let T=M().find(R=>R.getAttribute("aria-disabled")!=="true"),L=T==null?void 0:T.getAttribute(Tu);C.setState("value",L||void 0)}function D(){var T,L,R,K;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let q=0;for(let Z of n.current){let X=(L=(T=i.current.get(Z))==null?void 0:T.value)!=null?L:"",ee=(K=(R=i.current.get(Z))==null?void 0:R.keywords)!=null?K:[],ie=E(X,ee);r.current.filtered.items.set(Z,ie),ie>0&&q++}for(let[Z,X]of a.current)for(let ee of X)if(r.current.filtered.items.get(ee)>0){r.current.filtered.groups.add(Z);break}r.current.filtered.count=q}function U(){var T,L,R;let K=F();K&&(((T=K.parentElement)==null?void 0:T.firstChild)===K&&((R=(L=K.closest(hx))==null?void 0:L.querySelector(mme))==null||R.scrollIntoView({block:"nearest"})),K.scrollIntoView({block:"nearest"}))}function F(){var T;return(T=N.current)==null?void 0:T.querySelector(`${eO}[aria-selected="true"]`)}function M(){var T;return Array.from((T=N.current)==null?void 0:T.querySelectorAll(P3))}function O(T){let L=M()[T];L&&C.setState("value",L.getAttribute(Tu))}function A(T){var L;let R=F(),K=M(),q=K.findIndex(X=>X===R),Z=K[q+T];(L=l.current)!=null&&L.loop&&(Z=q+T<0?K[K.length-1]:q+T===K.length?K[0]:K[q+T]),Z&&C.setState("value",Z.getAttribute(Tu))}function k(T){let L=F(),R=L==null?void 0:L.closest(hx),K;for(;R&&!K;)R=T>0?_me(R,hx):Sme(R,hx),K=R==null?void 0:R.querySelector(P3);K?C.setState("value",K.getAttribute(Tu)):A(T)}let W=()=>O(M().length-1),fe=T=>{T.preventDefault(),T.metaKey?W():T.altKey?k(1):A(1)},de=T=>{T.preventDefault(),T.metaKey?O(0):T.altKey?k(-1):A(-1)};return v.createElement(io.div,{ref:t,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:T=>{var L;if((L=b.onKeyDown)==null||L.call(b,T),!T.defaultPrevented)switch(T.key){case"n":case"j":{g&&T.ctrlKey&&fe(T);break}case"ArrowDown":{fe(T);break}case"p":case"k":{g&&T.ctrlKey&&de(T);break}case"ArrowUp":{de(T);break}case"Home":{T.preventDefault(),O(0);break}case"End":{T.preventDefault(),W();break}case"Enter":if(!T.nativeEvent.isComposing&&T.keyCode!==229){T.preventDefault();let R=F();if(R){let K=new Event(KE);R.dispatchEvent(K)}}}}},v.createElement("label",{"cmdk-label":"",htmlFor:S.inputId,id:S.labelId,style:Ame},c),CN(e,T=>v.createElement(Bz.Provider,{value:C},v.createElement($z.Provider,{value:S},T))))}),xme=v.forwardRef((e,t)=>{var r,n;let a=v.useId(),i=v.useRef(null),o=v.useContext(Uz),l=D0(),c=zz(e),d=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;wf(()=>{if(!d)return l.item(a,o==null?void 0:o.id)},[d]);let u=Wz(a,i,[e.value,e.children,i],e.keywords),f=tO(),h=jf(_=>_.value&&_.value===u.current),m=jf(_=>d||l.filter()===!1?!0:_.search?_.filtered.items.get(a)>0:!0);v.useEffect(()=>{let _=i.current;if(!(!_||e.disabled))return _.addEventListener(KE,x),()=>_.removeEventListener(KE,x)},[m,e.onSelect,e.disabled]);function x(){var _,C;p(),(C=(_=c.current).onSelect)==null||C.call(_,u.current)}function p(){f.setState("value",u.current,!0)}if(!m)return null;let{disabled:g,value:b,onSelect:y,forceMount:j,keywords:w,...N}=e;return v.createElement(io.div,{ref:Zg([i,t]),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!h,"data-disabled":!!g,"data-selected":!!h,onPointerMove:g||l.disablePointerSelection?void 0:p,onClick:g?void 0:x},e.children)}),gme=v.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...i}=e,o=v.useId(),l=v.useRef(null),c=v.useRef(null),d=v.useId(),u=D0(),f=jf(m=>a||u.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);wf(()=>u.group(o),[]),Wz(o,l,[e.value,e.heading,c]);let h=v.useMemo(()=>({id:o,forceMount:a}),[a]);return v.createElement(io.div,{ref:Zg([l,t]),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&v.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),CN(e,m=>v.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},v.createElement(Uz.Provider,{value:h},m))))}),vme=v.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=v.useRef(null),i=jf(o=>!o.search);return!r&&!i?null:v.createElement(io.div,{ref:Zg([a,t]),...n,"cmdk-separator":"",role:"separator"})}),yme=v.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,i=tO(),o=jf(u=>u.search),l=jf(u=>u.value),c=D0(),d=v.useMemo(()=>{var u;let f=(u=c.listInnerRef.current)==null?void 0:u.querySelector(`${eO}[${Tu}="${encodeURIComponent(l)}"]`);return f==null?void 0:f.getAttribute("id")},[]);return v.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),v.createElement(io.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":d,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),bme=v.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,i=v.useRef(null),o=v.useRef(null),l=D0();return v.useEffect(()=>{if(o.current&&i.current){let c=o.current,d=i.current,u,f=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let h=c.offsetHeight;d.style.setProperty("--cmdk-list-height",h.toFixed(1)+"px")})});return f.observe(c),()=>{cancelAnimationFrame(u),f.unobserve(c)}}},[]),v.createElement(io.div,{ref:Zg([i,t]),...a,"cmdk-list":"",role:"listbox","aria-label":n,id:l.listId},CN(e,c=>v.createElement("div",{ref:Zg([o,l.listInnerRef]),"cmdk-list-sizer":""},c)))}),wme=v.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:o,...l}=e;return v.createElement(dme,{open:r,onOpenChange:n},v.createElement(ume,{container:o},v.createElement(fme,{"cmdk-overlay":"",className:a}),v.createElement(hme,{"aria-label":e.label,"cmdk-dialog":"",className:i},v.createElement(Vz,{ref:t,...l}))))}),jme=v.forwardRef((e,t)=>jf(r=>r.filtered.count===0)?v.createElement(io.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Nme=v.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...i}=e;return v.createElement(io.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},CN(e,o=>v.createElement("div",{"aria-hidden":!0},o)))}),Wa=Object.assign(Vz,{List:bme,Item:xme,Input:yme,Group:gme,Separator:vme,Dialog:wme,Empty:jme,Loading:Nme});function _me(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Sme(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function zz(e){let t=v.useRef(e);return wf(()=>{t.current=e}),t}var wf=typeof window>"u"?v.useEffect:v.useLayoutEffect;function ph(e){let t=v.useRef();return t.current===void 0&&(t.current=e()),t}function Zg(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}function jf(e){let t=tO(),r=()=>e(t.snapshot());return v.useSyncExternalStore(t.subscribe,r,r)}function Wz(e,t,r,n=[]){let a=v.useRef(),i=D0();return wf(()=>{var o;let l=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=n.map(d=>d.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(Tu,l),a.current=l}),a}var Cme=()=>{let[e,t]=v.useState(),r=ph(()=>new Map);return wf(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function Eme(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function CN({asChild:e,children:t},r){return e&&v.isValidElement(t)?v.cloneElement(Eme(t),{ref:t.ref},r(t.props.children)):r(t)}var Ame={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const bn=qk,Pme=az,Tme=Kk,Hz=v.forwardRef(({className:e,...t},r)=>s.jsx(A0,{ref:r,className:pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Hz.displayName=A0.displayName;const dn=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Tme,{children:[s.jsx(Hz,{}),s.jsxs(P0,{ref:n,className:pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(wN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Bs,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dn.displayName=P0.displayName;const wn=({className:e,...t})=>s.jsx("div",{className:pe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});wn.displayName="DialogHeader";const qo=({className:e,...t})=>s.jsx("div",{className:pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});qo.displayName="DialogFooter";const jn=v.forwardRef(({className:e,...t},r)=>s.jsx(T0,{ref:r,className:pe("text-lg font-semibold leading-none tracking-tight",e),...t}));jn.displayName=T0.displayName;const Xs=v.forwardRef(({className:e,...t},r)=>s.jsx(k0,{ref:r,className:pe("text-sm text-muted-foreground",e),...t}));Xs.displayName=k0.displayName;const rO=v.forwardRef(({className:e,...t},r)=>s.jsx(Wa,{ref:r,className:pe("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));rO.displayName=Wa.displayName;const kme=({children:e,shouldFilter:t=!0,...r})=>s.jsx(bn,{...r,children:s.jsx(dn,{className:"overflow-hidden p-0 shadow-2xl border-border/50 max-w-2xl",children:s.jsx(rO,{shouldFilter:t,className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-semibold [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:uppercase [&_[cmdk-group-heading]]:tracking-wider [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-3 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),nO=v.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b border-border/50 px-4 bg-muted/30","cmdk-input-wrapper":"",children:[s.jsx(Ss,{className:"mr-3 h-5 w-5 shrink-0 text-primary/70"}),s.jsx(Wa.Input,{ref:r,className:pe("flex h-14 w-full rounded-md bg-transparent py-3 text-base outline-none placeholder:text-muted-foreground/70 disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));nO.displayName=Wa.Input.displayName;const sO=v.forwardRef(({className:e,...t},r)=>s.jsx(Wa.List,{ref:r,className:pe("max-h-[400px] overflow-y-auto overflow-x-hidden p-2",e),...t}));sO.displayName=Wa.List.displayName;const Gz=v.forwardRef((e,t)=>s.jsx(Wa.Empty,{ref:t,className:"py-12 text-center text-sm text-muted-foreground",...e}));Gz.displayName=Wa.Empty.displayName;const fl=v.forwardRef(({className:e,...t},r)=>s.jsx(Wa.Group,{ref:r,className:pe("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-3 [&_[cmdk-group-heading]]:py-2 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-semibold [&_[cmdk-group-heading]]:text-muted-foreground/80 [&_[cmdk-group-heading]]:uppercase [&_[cmdk-group-heading]]:tracking-wider",e),...t}));fl.displayName=Wa.Group.displayName;const Ome=v.forwardRef(({className:e,...t},r)=>s.jsx(Wa.Separator,{ref:r,className:pe("-mx-1 h-px bg-border",e),...t}));Ome.displayName=Wa.Separator.displayName;const Ya=v.forwardRef(({className:e,...t},r)=>s.jsx(Wa.Item,{ref:r,className:pe("relative flex cursor-pointer select-none items-center rounded-lg px-3 py-2.5 text-sm outline-none transition-all duration-150 data-[disabled=true]:pointer-events-none data-[selected='true']:bg-primary/10 data-[selected='true']:text-primary data-[selected=true]:shadow-sm data-[disabled=true]:opacity-50 hover:bg-muted/50",e),...t}));Ya.displayName=Wa.Item.displayName;const Ga=ir.create({baseURL:ji,timeout:3e4,headers:{"Content-Type":"application/json"}});Ga.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const $y={async getNotifications(e){return(await Ga.get("/notifications/",{params:e})).data},async getRecentNotifications(){return(await Ga.get("/notifications/recent/")).data},async getNotification(e){return(await Ga.get(`/notifications/${e}/`)).data},async getUnreadCount(){return(await Ga.get("/notifications/unread_count/")).data.unread_count},async markAsRead(e){return(await Ga.post(`/notifications/${e}/mark_read/`)).data},async markAllAsRead(){return(await Ga.post("/notifications/mark_all_read/")).data},async deleteNotification(e){await Ga.delete(`/notifications/${e}/`)},async clearReadNotifications(){return(await Ga.delete("/notifications/clear_read/")).data},async getByType(e){return(await Ga.get("/notifications/by_type/",{params:{type:e}})).data},async createNotification(e){return(await Ga.post("/notifications/",e)).data},async getPreferences(){return(await Ga.get("/notification-preferences/")).data},async updatePreferences(e){return(await Ga.post("/notification-preferences/",e)).data}},Dme=e=>({info:"text-blue-500",success:"text-green-500",warning:"text-amber-500",error:"text-red-500",order:"text-blue-500",delivery:"text-cyan-500",payment:"text-green-500",issue:"text-orange-500",system:"text-purple-500"})[e]||"text-muted-foreground",Ime=e=>{const t=new Date(e),n=new Date().getTime()-t.getTime(),a=Math.floor(n/6e4),i=Math.floor(n/36e5),o=Math.floor(n/864e5);return a<1?"Just now":a<60?`${a} min ago`:i<24?`${i} hour${i>1?"s":""} ago`:o<7?`${o} day${o>1?"s":""} ago`:t.toLocaleDateString()},aO=ir.create({baseURL:ji,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});aO.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));aO.interceptors.response.use(e=>e,e=>{var t,r;return console.error("Search API error:",(t=e.response)==null?void 0:t.status,(r=e.response)==null?void 0:r.data),Promise.reject(e)});const Rme={async globalSearch(e,t=5){return(await aO.get("/search/",{params:{q:e,limit:t}})).data}};function Mme({className:e,onMenuToggle:t}){const[r,n]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState(""),[c,d]=v.useState(null),[u,f]=v.useState(!1),[h,m]=v.useState([]),[x,p]=v.useState(0),[g,b]=v.useState(!1),[y,j]=v.useState(null),[w,N]=v.useState(!1),_=cr(),{toast:C}=pr();v.useEffect(()=>{(async()=>{try{if(Zr.isAuthenticated()){const O=await tc.getProfile();d(O)}}catch(O){console.error("Failed to fetch profile:",O)}})()},[]),v.useEffect(()=>{const M=async()=>{try{if(Zr.isAuthenticated()){b(!0);const[A,k]=await Promise.all([$y.getRecentNotifications(),$y.getUnreadCount()]);m(A),p(k)}}catch(A){console.error("Failed to fetch notifications:",A)}finally{b(!1)}};M();const O=setInterval(M,3e4);return()=>clearInterval(O)},[]);const S=v.useCallback(async()=>{try{await $y.markAllAsRead(),m(M=>M.map(O=>({...O,is_read:!0}))),p(0),C({title:"Notifications marked as read",description:"All notifications have been marked as read."})}catch(M){console.error("Failed to mark all as read:",M)}},[C]),E=v.useCallback(async M=>{try{await $y.markAsRead(M),m(O=>O.map(A=>A.id===M?{...A,is_read:!0}:A)),p(O=>Math.max(0,O-1))}catch(O){console.error("Failed to mark as read:",O)}},[]),P=v.useCallback(async()=>{f(!0);try{const M=Zr.getRefreshToken();M&&await tc.logout(M),Zr.clearTokens(),C({title:"Logged out",description:"You have been successfully logged out."}),_("/login")}catch(M){console.error("Logout failed:",M),Zr.clearTokens(),_("/login")}finally{f(!1)}},[_,C]),I=v.useMemo(()=>{var A,k,W,fe;if(!c)return"U";const M=((A=c.first_name)==null?void 0:A[0])||"",O=((k=c.last_name)==null?void 0:k[0])||"";return M||O?(M+O).toUpperCase():((fe=(W=c.username)==null?void 0:W[0])==null?void 0:fe.toUpperCase())||"U"},[c]),D=v.useMemo(()=>c?c.first_name&&c.last_name?`${c.first_name} ${c.last_name}`:c.username||"User":"User",[c]);v.useEffect(()=>{const M=O=>{O.key==="k"&&(O.metaKey||O.ctrlKey)&&(O.preventDefault(),n(A=>!A))};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[]);const U=M=>{switch(M){case"order":return la;case"payment":return As;case"delivery":return yr;case"issue":return Et;case"warning":return Et;case"success":return Ui;default:return Fu}};v.useEffect(()=>{const M=setTimeout(async()=>{var A,k;const O=o.trim();if(O.length>=2){N(!0);try{console.log("Searching for:",O);const W=await Rme.globalSearch(O,5);console.log("Search results:",W),j(W)}catch(W){console.error("Search failed:",W),console.error("Error response:",(A=W.response)==null?void 0:A.data),console.error("Error status:",(k=W.response)==null?void 0:k.status),j(null)}finally{N(!1)}}else j(null)},300);return()=>clearTimeout(M)},[o]);const F=(M,O,A)=>{n(!1),l(""),j(null),M==="apartment"?_(`/apartments/${O}`):M==="client"?_("/clients"):M==="vendor"?_("/vendors"):M==="delivery"?_("/deliveries"):M==="issue"?_(A?`/apartments/${A}`:"/issues"):M==="product"&&A&&_(`/apartments/${A}`)};return s.jsxs(s.Fragment,{children:[s.jsx("header",{className:pe("sticky top-0 z-20 w-full","bg-background/80 backdrop-blur-xl","border-b border-border/40","supports-[backdrop-filter]:bg-background/60",e),children:s.jsxs("div",{className:"flex items-center justify-between h-16 px-4 lg:px-6",children:[s.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[s.jsx(re,{variant:"ghost",size:"icon",className:"md:hidden h-9 w-9 hover:bg-muted/80",onClick:t,children:s.jsx(mne,{className:"h-5 w-5"})}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center shadow-lg shadow-primary/20",children:s.jsx(ac,{className:"h-4 w-4 text-primary-foreground"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-bold tracking-tight text-foreground",children:"Buy2Rent"}),s.jsx("span",{className:"text-[10px] text-muted-foreground -mt-0.5",children:"Procurement"})]})]})}),s.jsxs(re,{variant:"outline",className:pe("relative hidden lg:flex items-center gap-3","h-10 rounded-xl px-4","bg-muted/30 hover:bg-muted/50","border-border/50 hover:border-primary/30","text-sm text-muted-foreground","transition-all duration-300","min-w-[280px] lg:min-w-[360px]","justify-start","group"),onClick:()=>n(!0),children:[s.jsx(Ss,{className:"h-4 w-4 text-muted-foreground/70 group-hover:text-primary transition-colors"}),s.jsx("span",{className:"flex-1 text-left text-muted-foreground/70",children:"Search apartments, clients, products..."}),s.jsxs("kbd",{className:pe("hidden lg:inline-flex h-5 select-none items-center gap-1","rounded-md border border-border/50 bg-background/80","px-1.5 font-mono text-[10px] font-medium text-muted-foreground/70"),children:[s.jsx("span",{className:"text-xs",children:""}),"K"]})]})]}),s.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[s.jsx(re,{variant:"ghost",size:"icon",className:"lg:hidden h-9 w-9 hover:bg-muted/80",onClick:()=>n(!0),children:s.jsx(Ss,{className:"h-5 w-5"})}),s.jsxs(re,{variant:"ghost",size:"icon",className:pe("relative h-9 w-9 rounded-xl","hover:bg-muted/80 transition-all duration-200","group"),onClick:()=>i(!0),children:[s.jsx(Fu,{className:"h-5 w-5 text-muted-foreground group-hover:text-foreground transition-colors"}),x>0&&s.jsx("span",{className:pe("absolute -top-0.5 -right-0.5","flex h-5 min-w-5 items-center justify-center","rounded-full bg-primary px-1","text-[10px] font-bold text-primary-foreground","shadow-lg shadow-primary/30","animate-in zoom-in-50"),children:x})]}),s.jsx("div",{className:"hidden lg:block h-6 w-px bg-border/50 mx-2"}),s.jsxs(C0,{children:[s.jsx(E0,{asChild:!0,children:s.jsxs(re,{variant:"ghost",className:pe("h-10 gap-2 px-2 lg:px-3 rounded-xl","hover:bg-muted/80 transition-all duration-200"),children:[s.jsx(RE,{className:pe("h-8 w-8","ring-2 ring-primary/20 ring-offset-2 ring-offset-background","transition-all duration-300"),children:s.jsx(ME,{className:"bg-gradient-to-br from-primary via-primary to-primary/80 text-primary-foreground text-xs font-semibold",children:I})}),s.jsxs("div",{className:"hidden lg:flex flex-col items-start",children:[s.jsx("span",{className:"text-sm font-medium",children:D}),s.jsx("span",{className:"text-[10px] text-muted-foreground",children:(c==null?void 0:c.username)||"User"})]}),s.jsx(Ff,{className:"hidden lg:block h-4 w-4 text-muted-foreground"})]})}),s.jsxs(Sp,{align:"end",className:pe("w-64 p-2","bg-popover/95 backdrop-blur-xl","border-border/50","shadow-xl"),children:[s.jsxs("div",{className:"flex items-center gap-3 p-2 mb-2",children:[s.jsx(RE,{className:"h-10 w-10 ring-2 ring-primary/20",children:s.jsx(ME,{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground font-semibold",children:I})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-semibold",children:D}),s.jsx("span",{className:"text-xs text-muted-foreground",children:(c==null?void 0:c.email)||"user@example.com"})]})]}),s.jsx(gc,{className:"bg-border/50"}),s.jsxs(mn,{className:"cursor-pointer rounded-lg h-10 gap-3",children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-muted/50 flex items-center justify-center",children:s.jsx(rne,{className:"h-4 w-4 text-muted-foreground"})}),s.jsx("span",{children:"Profile"})]}),s.jsxs(mn,{className:"cursor-pointer rounded-lg h-10 gap-3",onClick:()=>_("/settings"),children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-muted/50 flex items-center justify-center",children:s.jsx(u0,{className:"h-4 w-4 text-muted-foreground"})}),s.jsx("span",{children:"Settings"})]}),s.jsxs(mn,{className:"cursor-pointer rounded-lg h-10 gap-3",children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-muted/50 flex items-center justify-center",children:s.jsx(Pc,{className:"h-4 w-4 text-muted-foreground"})}),s.jsx("span",{children:"Team"})]}),s.jsx(gc,{className:"bg-border/50"}),s.jsxs(mn,{className:"cursor-pointer rounded-lg h-10 gap-3 text-red-500 hover:text-red-500 hover:bg-red-500/10",onClick:P,disabled:u,children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-red-500/10 flex items-center justify-center",children:s.jsx(fne,{className:pe("h-4 w-4",u&&"animate-spin")})}),s.jsx("span",{children:u?"Logging out...":"Log out"})]})]})]})]})]})}),s.jsxs(kme,{open:r,onOpenChange:M=>{n(M),M||l("")},shouldFilter:!1,children:[s.jsxs("div",{className:"flex items-center border-b px-3",children:[s.jsx(Ss,{className:"h-4 w-4 text-muted-foreground mr-2"}),s.jsx(nO,{placeholder:"Search apartments, clients, vendors, products...",className:"h-14 text-base border-0 focus:ring-0",value:o,onValueChange:l})]}),s.jsxs(sO,{className:"min-h-[350px] max-h-[450px]",children:[w&&s.jsx("div",{className:"py-12 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Searching..."})]})}),!w&&o.length>=2&&y&&y.total_results===0&&s.jsx("div",{className:"py-12 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(Ss,{className:"h-10 w-10 text-muted-foreground/30"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No results found"}),s.jsx("p",{className:"text-xs text-muted-foreground/70",children:"Try searching for apartments, clients, vendors, or products"})]})}),y&&y.apartments.length>0&&s.jsx(fl,{heading:`Apartments (${y.apartments.length})`,children:y.apartments.map(M=>s.jsxs(Ya,{value:`apartment-${M.id}`,onSelect:()=>F("apartment",M.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[s.jsx("div",{className:"h-9 w-9 rounded-lg bg-emerald-500/10 flex items-center justify-center mr-3",children:s.jsx(xr,{className:"h-4 w-4 text-emerald-500"})}),s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsx("span",{className:"font-medium",children:M.name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:M.address})]}),s.jsx("span",{className:pe("text-[10px] px-2 py-0.5 rounded-full",M.status==="In Progress"?"bg-blue-500/10 text-blue-500":M.status==="Completed"?"bg-green-500/10 text-green-500":"bg-muted text-muted-foreground"),children:M.status})]},M.id))}),y&&y.clients.length>0&&s.jsx(fl,{heading:`Clients (${y.clients.length})`,children:y.clients.map(M=>s.jsxs(Ya,{value:`client-${M.id}`,onSelect:()=>F("client",M.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[s.jsx("div",{className:"h-9 w-9 rounded-lg bg-violet-500/10 flex items-center justify-center mr-3",children:s.jsx(S9,{className:"h-4 w-4 text-violet-500"})}),s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsx("span",{className:"font-medium",children:M.name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:M.email})]}),s.jsx("span",{className:pe("text-[10px] px-2 py-0.5 rounded-full",M.account_status==="Active"?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"),children:M.account_status})]},M.id))}),y&&y.vendors.length>0&&s.jsx(fl,{heading:`Vendors (${y.vendors.length})`,children:y.vendors.map(M=>s.jsxs(Ya,{value:`vendor-${M.id}`,onSelect:()=>F("vendor",M.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[s.jsx("div",{className:"h-9 w-9 rounded-lg bg-amber-500/10 flex items-center justify-center mr-3",children:s.jsx(gi,{className:"h-4 w-4 text-amber-500"})}),s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsx("span",{className:"font-medium",children:M.name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:M.company_name||M.email||"No details"})]})]},M.id))}),y&&y.products.length>0&&s.jsx(fl,{heading:`Products (${y.products.length})`,children:y.products.map(M=>s.jsxs(Ya,{value:`product-${M.id}`,onSelect:()=>F("product",M.id,M.apartment_id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[s.jsx("div",{className:"h-9 w-9 rounded-lg bg-orange-500/10 flex items-center justify-center mr-3",children:s.jsx(mt,{className:"h-4 w-4 text-orange-500"})}),s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsx("span",{className:"font-medium",children:M.product}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[M.vendor,"  ",M.category||"Uncategorized"]})]}),s.jsx("span",{className:pe("text-[10px] px-2 py-0.5 rounded-full",M.status==="Delivered"?"bg-green-500/10 text-green-500":M.status==="Ordered"?"bg-blue-500/10 text-blue-500":"bg-muted text-muted-foreground"),children:M.status})]},M.id))}),y&&y.deliveries.length>0&&s.jsx(fl,{heading:`Deliveries (${y.deliveries.length})`,children:y.deliveries.map(M=>s.jsxs(Ya,{value:`delivery-${M.id}`,onSelect:()=>F("delivery",M.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[s.jsx("div",{className:"h-9 w-9 rounded-lg bg-cyan-500/10 flex items-center justify-center mr-3",children:s.jsx(yr,{className:"h-4 w-4 text-cyan-500"})}),s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsx("span",{className:"font-medium",children:M.order_reference||`Delivery #${M.id.slice(0,8)}`}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[M.vendor,"  ",M.expected_date||"No date"]})]}),s.jsx("span",{className:pe("text-[10px] px-2 py-0.5 rounded-full",M.status==="Delivered"?"bg-green-500/10 text-green-500":M.status==="In Transit"?"bg-blue-500/10 text-blue-500":M.status==="Scheduled"?"bg-amber-500/10 text-amber-500":"bg-muted text-muted-foreground"),children:M.status})]},M.id))}),y&&y.issues.length>0&&s.jsx(fl,{heading:`Issues (${y.issues.length})`,children:y.issues.map(M=>s.jsxs(Ya,{value:`issue-${M.id}`,onSelect:()=>F("issue",M.id,M.apartment_id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[s.jsx("div",{className:"h-9 w-9 rounded-lg bg-red-500/10 flex items-center justify-center mr-3",children:s.jsx(Et,{className:"h-4 w-4 text-red-500"})}),s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsx("span",{className:"font-medium",children:M.product_name}),s.jsxs("span",{className:"text-xs text-muted-foreground line-clamp-1",children:[M.type,"  ",M.priority]})]}),s.jsx("span",{className:pe("text-[10px] px-2 py-0.5 rounded-full",M.status==="Closed"?"bg-green-500/10 text-green-500":M.status==="Open"?"bg-red-500/10 text-red-500":"bg-amber-500/10 text-amber-500"),children:M.status})]},M.id))}),!o&&s.jsxs(fl,{heading:"Quick Actions",children:[s.jsxs(Ya,{value:"go-to-apartments",onSelect:()=>{n(!1),_("/apartments")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[s.jsx("div",{className:"h-9 w-9 rounded-lg bg-emerald-500/10 flex items-center justify-center mr-3",children:s.jsx(xr,{className:"h-4 w-4 text-emerald-500"})}),s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsx("span",{className:"font-medium",children:"View All Apartments"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse apartments"})]})]}),s.jsxs(Ya,{value:"go-to-clients",onSelect:()=>{n(!1),_("/clients")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[s.jsx("div",{className:"h-9 w-9 rounded-lg bg-violet-500/10 flex items-center justify-center mr-3",children:s.jsx(Pc,{className:"h-4 w-4 text-violet-500"})}),s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsx("span",{className:"font-medium",children:"View All Clients"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse clients"})]})]}),s.jsxs(Ya,{value:"go-to-vendors",onSelect:()=>{n(!1),_("/vendors")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[s.jsx("div",{className:"h-9 w-9 rounded-lg bg-amber-500/10 flex items-center justify-center mr-3",children:s.jsx(gi,{className:"h-4 w-4 text-amber-500"})}),s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsx("span",{className:"font-medium",children:"View All Vendors"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse vendors"})]})]}),s.jsxs(Ya,{value:"go-to-deliveries",onSelect:()=>{n(!1),_("/deliveries")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[s.jsx("div",{className:"h-9 w-9 rounded-lg bg-cyan-500/10 flex items-center justify-center mr-3",children:s.jsx(yr,{className:"h-4 w-4 text-cyan-500"})}),s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsx("span",{className:"font-medium",children:"View All Deliveries"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse deliveries"})]})]})]})]})]}),s.jsx(Bfe,{open:a,onOpenChange:i,children:s.jsxs(oz,{className:"w-full sm:w-[420px] p-0 border-l-border/50",children:[s.jsx(lz,{className:"p-6 pb-4 border-b border-border/50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:s.jsx(Fu,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(cz,{className:"text-lg",children:"Notifications"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[x," unread messages"]})]})]}),x>0&&s.jsxs(re,{variant:"ghost",size:"sm",className:"text-xs text-primary hover:text-primary",onClick:S,children:[s.jsx(Ui,{className:"h-3 w-3 mr-1"}),"Mark all read"]})]})}),s.jsx(zc,{className:"h-[calc(100vh-120px)]",children:s.jsx("div",{className:"p-4 space-y-2",children:g?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full"})}):h.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx("div",{className:"h-12 w-12 rounded-xl bg-muted/50 flex items-center justify-center mb-3",children:s.jsx(Fu,{className:"h-6 w-6 text-muted-foreground/50"})}),s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No notifications"}),s.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:"You're all caught up!"})]}):h.map(M=>{const O=U(M.notification_type);return s.jsx("div",{className:pe("group relative p-4 rounded-xl border transition-all duration-200 cursor-pointer","hover:shadow-md hover:scale-[1.01]",M.is_read?"bg-card border-border/50 hover:bg-muted/50":"bg-primary/5 border-primary/20 hover:bg-primary/10"),onClick:()=>{M.is_read||E(M.id),M.action_url&&(_(M.action_url),i(!1))},children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:pe("h-10 w-10 rounded-xl flex items-center justify-center flex-shrink-0",M.is_read?"bg-muted/50":"bg-background"),children:s.jsx(O,{className:pe("h-5 w-5",Dme(M.notification_type))})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("p",{className:"font-medium text-sm",children:M.title}),!M.is_read&&s.jsx("span",{className:"h-2 w-2 rounded-full bg-primary flex-shrink-0 mt-1.5"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:M.message}),s.jsxs("div",{className:"flex items-center gap-1 mt-2 text-[10px] text-muted-foreground/70",children:[s.jsx(Vr,{className:"h-3 w-3"}),s.jsx("span",{children:Ime(M.created_at)})]})]})]})},M.id)})})})]})})]})}const K2=768;function qz(){const[e,t]=v.useState(void 0);return v.useEffect(()=>{const r=window.matchMedia(`(max-width: ${K2-1}px)`),n=()=>{t(window.innerWidth<K2)};return r.addEventListener("change",n),t(window.innerWidth<K2),()=>r.removeEventListener("change",n)},[]),!!e}const Fme="/assets/buy2rent-CUbASZeg.png",Lme="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAAyCAYAAACauW+fAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADwZJREFUeNrsWwlYVdUW3ne+gDiWQw6pDyXLPmdNqLwKjljyKrG0TCtnM8vZ0rSytKeYiebwyinQcAiVckBDK3DAAVBfaQ6k4ggoCNz53vevc/e5Hi6XQYLv63vvrO9b3z5nn7X3Xmf/e6299jr3MiaTTDLJJJNMMskkk0wyySSTTDLJJJNMMv39SCFe/Gt88EQULR6suVPoQqVWspp1m7D6AV1YkyfDmN1qZA67taI6nQafAf/crl07GaEqIrV40aJxjX4oni035MBcpQToGhXTaNVM56NkfsoLzOfuXvZomxeZyufhiupUwDk7JSUlBuXiTp062WSoqgh4q82hQ6ErD+BKAlylZAq1GsCrmRKlk9mZqTCbZV1OYab8a+yRx/qymo26VkQn0qE2uHHHjh2bogxLSkqaERwcfEiGq/JIKbl2lGulaJRMo9PAwnVM56tjeirBel898/HzFa6dliyWk7GLFWSd/qv61QR3CwoKWp+YmNhFhqtqgC91LycrFwDXu8DWFwHdVQrXYB8/P2wDJpZ/bTdzOqyVoWeAwWBYn5CQ8JAMWSW7eu9unQBXInhTwdLVrGH9GkyDUqPVMDX29Tt5ZsHV07VG45JR056v0biulfnMlneCaWpWirG2DA0NnYXyHRm2qgIe+7gC8b4AqtoVvKnU6k3j5+/fpIDlk/UrFEoW+2VES61OOzIr1xhAwKsAuLAwhIBPg71fycx3T3sC/wfn45I6f3AH8DNl6PtGXFzcgvDw8GsydFUAvBKBm5pbsIZbNBZAWnJa5nap3OtTv1dD9uCK+S98A9knXN6AZBHsOR3MYraCr7JqTYt0vysiIuJLlNcldVpwg9jY2DA6WZaib7UBAwbQ4vhOhq4SgSdrVqtU3HWrXcBrXcDD3es9G+/59Twds47q9bqvIBtFsnSut1ltANzCTCYAbzJ7Nru9efPmCx51heC7Q4YMOR8dHR2K696l6BwqA1+JwR25dLhtd4B2v9Qyvd7FJZGPn88fWgR+DoeTmYxmVnCvkBXkGcFU5pc7roiJiaFIcEUZOjeXYatEi6fInFy0WqtyW7vU8mHxZm8dLPkonILAEVaLjZmNFmY2m5nFaBUs3gxX71RoK3KOL41UMmyVCDxZuCsiV7v3dpUEeHCLz6b3e4b2f0rRKhH92WyOh99+45neN2/m/lPYz+HWzULpAp7u6zbv4DmmvSRloqKihACuzLOlTFULvBDU8Sgd1/2mTwjpwBCtA3XGrA7mMFtqZmZmNyFLdwVyFmYF6GaLlVlxb0XZIDDEc0zfRYsW1fSii++4ceNeRWkoQ2e9DFtlunoOvBt0TVG3j7LevXxLPafTLABqhjs3C1Z9H3SL2eYG3OFUsYAuQ1j1uv/wHPP59957z9vHIB8euJW1N/xHhq1SgdeKLr2I5fOjnCBjs9kBONw5gS26cwF0F9M+byNrR1TvcKiYzq+utzEf51xRipFhq0xXr78PvEZLlu/KvtERzw7ACVg36KJblwBOVu4CHmy3Mwf41E9fM61PdfZQ4yfEYeK4RZN1N+J19EGmTjn1vfjxxx8ny7A9OM2aRUlP1hjzd0U4uosPrhyemQhLN1DGjaxdgSDO6XAwC7n1QgFss59OZRGidRF8k8X/dna+YOE2gQlwh5DqFaI4q5nVbvgY6zZkPi2Ay6jaD36ED9mEl/T9trw5+IEKhWKLZ+W0adPaliB/bcGCBbeqelLDn21GBtRaUnUH/Gfcz5dE/V6RvK8nGZnrNwg/Qdcq0Q/jB8yfP/8lmmfM3+QiwN9Kn5sIwA0UsVPcLBzPTASyWXDruN+xduuJHTabDR7AwewA2G61PT6kT2Bw9p3CLmThdI73JJvFyDr0m2Bq0fkFytb1ADekLF0F9F8aGRk5YdKkScXDfKczWXLUU0qi//OQT6DtAW3NVTGpzz3dtNs7g9rQpIbW8BMyWCy3wEKI7/hiU9rX8UkZRuiXjvsnS+mGUthzAUp0VeiI8b9grm8chzBGUBHg8859lkgRtR0AEtCUiBH3cTqiwaKndR747889Ox0Z3rp9r06NvsUst/J66FZrWd169RcGv74yftmyZTSeDtF73ANE55QdjEHb0ePHjzeW8GJlHfFm4YU/qewJ7fNUk5ZThrTfkZNnCqzup90bu//8DaqPCAkIyyuw1Knlr3s7dML2KKiXKJ5W8B7LxPaYh/oowvhcZOP9AvE4mz+jIgAcyMX/JM8gNsdzPxTN+LO74EeZ6zO2CXwWcle5XBiOyUtwSVH2KYwxg8ZyA3/3908TrWaLwWR0u3FJtC4AP7fb8Og53iZg87w+r6NY6+1ZzRr+h2N3p/Xs9PxkNnLkyHwO1GIUE8sxt5fh/pbVrl17KdoaS1nRIvC7Vq9evYtf+40YMeJFlB2FFQ7CPSUV2tM95FaL7VEfxregaxjrck5OTlfuMfZC7E+JXG/usnWoj9q/NHwWQP+I9NyXcrXlyrjTglcZFd46LLRTo2h4UFP41Pj6UuBJD7E/uF8V3DB9m3iXVz2Nx0kYp+GqVate4R6yG392DLwT87ARY2eiT9revuDPboLbcW+aA06G3GLIHYZcHh2VuTekHAqlx39xT17m0fcTL/4y1fn7vonO9PhxzuNbRzoPxQxzHlz7qnPfqpede5a9NKekiQfwfcBOL5w59oXWxSL4NWvW+EOhNGfZlNqzZ8/yuDKR3vaonyY+4PeR0nuJ3GlefXrv3r29JP25PdywYcM0uM/i9UISalfkc2PA2eCvPXXaHfVi8qGNw8VxE72NS++Gqnck4/XCODqUayR11ziLtIbLhHiZL6ncGcj5orSCHbzOwe/3uaN6yq8XOZrRmdxqdUfriOwt3ib96TYNaDWN8PLI7Oejmb182+li5+7hw4ff02q1owcPHrwXt9VKwbQNgBgEKyjvRxkD+syWbsG8TBJ3tBLa3RbLXr167cXEnOCeIQL9zYmJiSnEYg2SnD5mCuAevryV36cUSVSEtqrftGWjhv61/IsNhP4Gi9fR0dEBEmu3YpwrGIc81DBet3758uUb6GLs2LEkR7+LHAaZtR4Z0KNouxvlSXQ/EmVfOjJDrgXqZ6JuFHf1F3G/kjyU2+2cjBuTaLVYDBY6jhH4kjM5HecQuK1ZtPHkNx7voZ036qme2bmm6cXScHr1iv3Hro6J3JjKuj5Zf6BkgimKP3Do1I3bmOB54iSWQtcjIiLab968+UY5XH1JNAOLZz7EyGt96OlyJa74AKq7434AP3oKWzbqNqOOFl8EReHQ5XHolOE5SP+QVpTObvX9qqEfYE4G+1fTReubT39V6upLIHLVGzDOFMguxfV4MYwICgrKpIvk5GRqv5TX0zv8DE4UnQfa7uPvQttUsrQedWRg5DoTcN+ryDneWGB0W7fL0gE4jmcUvVO0jmkaCJD7eSjsjxf0LZaC06kPHTx5bQaBToR2sfwR/WyaDvV9eoyP27N9+/YPBwwYECzZx7wRfaefHR4ePhbyZVn8Vc4iUfDUlMbDOFvKG7RhnO2Q/425AtbJuE7g1kb0ozfQ+/Zo5bNz3Zt9mEY105hr7Kiw22PXbTo61kMsi8cO4k+QyYt+v2HDhj3Vq1dfw+s6SeTXA3Axk1kgqff8kGWSXGs8AmNpnaZYAkcAnp/FRSt38uMZt41qALlaOebtdlL69Qmff3virliBdp4uVQiCAKYtPj5+VFhY2BHc1iilzzFxcXHrsFqPlDH2ph9++GGReJOfn99u0KBB62hhoT1lMDLK8+EHeolHIHKLndF2mmRLWuLZuLfhsYAfY8e8lpV5Z7bS6biw7ce0yXa7c9HoWcUW6nHotw3vO4/nLmgeYhcuXLgtPT1dlLF6AOeQHFUv8sVyo6REHCvn7yjdQsZCi+uzKqJ5SsY4HRX6CObUa1XzPlt//FiRrypalcg+vHR/Wu3fv/9ZFAtZ2V/dloSGhvqWIZOF/m6IPGfOHIrwz/FnLSSTyNCXmpfipBahffv2RXMLJRK3snOoL5I5NAQFtN29ZczKa5duzc7Jyo3fGHe874iZcd5AFywVeq1CH+SqKRahIGBrWlraaFEfiXEQ0db6JhbeMDCdnN5nrh+hHHtAXESc7fyd/dwrxWI2M4fd6QJcUbFzrU6jij9+9nYxi0DdAX6ZyjNV0gCMHThw4BODwRDEg5KSqEtCQsJb3bt3/xLyJcm0Qj/uvZT/JLszvz3Fz8ICoa9h6OsIymaS9LE04i6A1dNRS5pOW4J6d1DVtf2jNRNjR8efS81omJtz71u73f7a3MgE1rp5HT13I6YzF7OZl76XQzcVVJ3DU9ZfQQ8b9FnLj8XPcSsm3XdPmTKFti9feCIKBgfz/d3xANAU8rIOzQ/GCnRDHPtJn1/h0oMrmszQalRXT13IbvvBysPZFWmflJTUDIHMEcn+V1Iypy1c/pkHDO7+wF5JE3YLY6TxRAfjLrO+VA30/bTE6n1DQkJo0mvRHos+GgQHB98Tn+emze5z/sLNXXl38ljunfyJiIu0dWv5KZwEuVPQK3NC5MHv0s9n0UoN9uwf7/wu9Jkt0Yei7018O3lZkuSi4K+eJMVr4FvPfl4Xgn5/4nPRw7MedVM9FvAp9X3glJRmrFtR4H/LyHm3oqATYUIvSaPuEohc8luSI5A05emNzMeOHTtPfaJ/YRNNSUn5tGPHjm/wPZYW/u+Svi9JGw8dOtSYmZlJQR55ozgp6ETpqRfvmArMt+gHJyqFYqFap1HkFZpd3ypcwLMJA9vs5P3W9ewf/S2GPmroM4K7Y3LlKdB5OMp7qO/OP2hRUHYR9RSj0LEtHc/aSN5bGvgVeNaj3UbIPy/J9J2Q/mmyAfsLP3KYEpV06a+mQE+ePEn6DClDrFq7du1WeLRrVoLsFcjavIxTh28rl/lJg6g6RceQv962bVuyQA3k6FckG8mQUlNTn8Kzo0WCjkkGPU49L3FL41GKU/RCxLlTopJ3oh9xboX+vejTTLIXF0DmBq8nw2wsyqH+kqSNXvLN4zqemcqop9OB+CPW/fL3Su95geng9ZIs2AF5Vv4/gN/CAc8Dnzx79myD/7V3VMswF6eMjIz19MGGbwVfBQYGFsizIpNMMskkk0wyySSTTDLJJNPfgP4rwAAac5xZmi8mLQAAAABJRU5ErkJggg==",xh=ir.create({baseURL:ji,headers:{"Content-Type":"application/json"}});xh.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const iO={getOverview:async()=>(await xh.get("/dashboard/overview/")).data,getStats:async()=>(await xh.get("/dashboard/stats/")).data,getCharts:async()=>(await xh.get("/dashboard/charts/")).data,getRecentActivities:async()=>(await xh.get("/dashboard/recent-activities/")).data,getQuickStats:async()=>(await xh.get("/dashboard/quick-stats/")).data},oO={all:["dashboard"],overview:["dashboard","overview"],stats:["dashboard","stats"],charts:["dashboard","charts"],recentActivities:["dashboard","recent-activities"],quickStats:["dashboard","quick-stats"]},$me=()=>Ds({queryKey:oO.overview,queryFn:iO.getOverview,staleTime:60*1e3,refetchInterval:5*60*1e3}),Kz=()=>Ds({queryKey:oO.recentActivities,queryFn:iO.getRecentActivities,staleTime:30*1e3}),Bme=()=>Ds({queryKey:oO.quickStats,queryFn:iO.getQuickStats,staleTime:60*1e3});function Ume({isCollapsed:e,onToggle:t,className:r,isMobileOpen:n=!1}){const a=Ul(),i=qz(),{theme:o,setTheme:l}=pp(),c=o==="dark",{data:d,isLoading:u}=Bme(),f=()=>{l(c?"light":"dark")},h=v.useMemo(()=>{var w,N,_;const p=((w=d==null?void 0:d.active_apartments)==null?void 0:w.value)??0,g=((N=d==null?void 0:d.deliveries_this_week)==null?void 0:N.value)??0,b=((_=d==null?void 0:d.open_issues)==null?void 0:_.value)??0,y=(d==null?void 0:d.total_clients)??0,j=(d==null?void 0:d.total_vendors)??0;return{totalApartments:p,pendingDeliveries:g,openIssues:b,totalClients:y,totalVendors:j}},[d]),m=[{title:"Main",items:[{title:"Overview",icon:b9,href:"/overview",color:"text-blue-500"}]},{title:"Management",items:[{title:"Clients",icon:Pc,href:"/clients",color:"text-violet-500"},{title:"Apartments",icon:KT,href:"/apartments",color:"text-emerald-500"},{title:"Orders",icon:la,href:"/orders",color:"text-orange-500"},{title:"Deliveries",icon:yr,href:"/deliveries",badge:h.pendingDeliveries>0?h.pendingDeliveries:void 0,color:"text-cyan-500"},{title:"Payments",icon:As,href:"/payments",color:"text-green-500"},{title:"Issues",icon:Et,href:"/issues",badge:h.openIssues>0?h.openIssues:void 0,color:"text-red-500"},{title:"Vendors",icon:gi,href:"/vendors",color:"text-amber-500"}]},{title:"System",items:[{title:"Automations",icon:$g,href:"/automations",color:"text-yellow-500"},{title:"Settings",icon:u0,href:"/settings",color:"text-slate-500"}]}],x=({item:p,isActive:g})=>{const b=s.jsxs(Ji,{to:p.href,className:pe("group relative flex items-center gap-3 rounded-xl px-3 py-2.5 transition-all duration-300 ease-out","hover:bg-gradient-to-r hover:from-sidebar-accent hover:to-sidebar-accent/50",g?"bg-gradient-to-r from-primary/15 to-primary/5 text-primary shadow-sm":"text-sidebar-foreground/80 hover:text-sidebar-foreground",e&&!i&&"justify-center px-2.5"),children:[s.jsxs("div",{className:pe("relative flex items-center justify-center transition-transform duration-300","group-hover:scale-110",g&&"scale-110"),children:[s.jsx(p.icon,{className:pe("h-[18px] w-[18px] shrink-0 transition-colors duration-300",g?"text-primary":p.color||"text-sidebar-foreground/70","group-hover:text-primary")}),g&&s.jsx("div",{className:pe("absolute inset-0 blur-lg opacity-50",p.color||"bg-primary")})]}),s.jsx("span",{className:pe("text-sm font-medium transition-all duration-300 whitespace-nowrap",e&&!i?"opacity-0 w-0 hidden":"opacity-100",g&&"font-semibold"),children:p.title}),p.badge&&!e&&s.jsx("span",{className:pe("ml-auto flex h-5 min-w-5 items-center justify-center rounded-full px-1.5","text-[10px] font-semibold","bg-primary/10 text-primary","animate-pulse"),children:p.badge}),p.badge&&e&&!i&&s.jsx("span",{className:"absolute -top-0.5 -right-0.5 h-2 w-2 rounded-full bg-primary animate-pulse"})]});return e&&!i?s.jsxs(pie,{delayDuration:0,children:[s.jsx(xie,{asChild:!0,children:b}),s.jsxs(d7,{side:"right",sideOffset:12,className:"z-[100] flex items-center gap-2 bg-popover/95 backdrop-blur-sm shadow-lg border-border/50",children:[p.title,p.badge&&s.jsx("span",{className:"flex h-5 min-w-5 items-center justify-center rounded-full bg-primary/10 text-primary text-[10px] font-semibold px-1.5",children:p.badge})]})]}):b};return s.jsx(c7,{delayDuration:0,children:s.jsxs("aside",{className:pe("fixed top-0 left-0 flex flex-col h-screen","bg-gradient-to-b from-sidebar via-sidebar to-sidebar/95","border-r border-sidebar-border/50","transition-all duration-300 ease-out","backdrop-blur-xl",i?pe("w-72 z-50 shadow-2xl",n?"translate-x-0":"-translate-x-full"):pe(e?"w-[72px]":"w-72","z-40"),r),children:[s.jsxs("div",{className:pe("flex items-center shrink-0 relative","h-16 px-4","border-b border-sidebar-border/50","bg-gradient-to-r from-sidebar to-sidebar/80"),children:[s.jsx("div",{className:pe("flex items-center gap-3 transition-all duration-300",e&&!i?"justify-center w-full":""),children:s.jsx("div",{className:pe("relative flex items-center justify-center","transition-all duration-300",e&&!i?"w-10 h-10":"w-auto h-10"),children:s.jsx("img",{src:c?Lme:Fme,alt:"Buy2Rent",className:pe("transition-all duration-300 object-contain",e&&!i?"h-8 w-8":"h-9 max-w-[160px]")})})}),!i&&s.jsx(re,{variant:"outline",size:"icon",onClick:t,className:pe("absolute -right-4 top-1/2 -translate-y-1/2 z-50","h-7 w-7 rounded-full","bg-background border-2 border-border shadow-lg","hover:bg-primary hover:text-primary-foreground hover:border-primary","hover:scale-110","transition-all duration-300","flex items-center justify-center"),children:e?s.jsx(Hd,{className:"h-4 w-4"}):s.jsx(XT,{className:"h-4 w-4"})})]}),s.jsx(zc,{className:"flex-1 py-1",children:s.jsx("nav",{className:"px-3 ",children:m.map((p,g)=>s.jsx("div",{children:s.jsx("div",{className:"",children:p.items.map((b,y)=>{const j=a.pathname===b.href;return s.jsx(x,{item:b,isActive:j},y)})})},g))})}),s.jsxs("div",{className:pe("mt-auto shrink-0","border-t border-sidebar-border/50","bg-gradient-to-t from-sidebar/50 to-transparent"),children:[s.jsx("div",{className:pe("p-3",e&&!i?"px-2":"px-4"),children:s.jsxs("button",{onClick:f,className:pe("w-full flex items-center gap-3 rounded-xl p-2.5 transition-all duration-300","bg-sidebar-accent/30 hover:bg-sidebar-accent/50","group",e&&!i&&"justify-center"),children:[s.jsxs("div",{className:pe("relative flex items-center justify-center","h-8 w-8 rounded-lg","bg-gradient-to-br transition-all duration-500",c?"from-indigo-500/20 to-purple-500/20":"from-amber-500/20 to-orange-500/20","group-hover:scale-110"),children:[s.jsx(f0,{className:pe("h-4 w-4 absolute transition-all duration-500",c?"opacity-0 rotate-90 scale-0":"opacity-100 rotate-0 scale-100 text-amber-500")}),s.jsx(d0,{className:pe("h-4 w-4 absolute transition-all duration-500",c?"opacity-100 rotate-0 scale-100 text-indigo-400":"opacity-0 -rotate-90 scale-0")})]}),(!e||i)&&s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("p",{className:"text-xs font-medium text-sidebar-foreground",children:c?"Dark Mode":"Light Mode"}),s.jsx("p",{className:"text-[10px] text-sidebar-foreground/50",children:"Click to switch"})]})]})}),(!e||i)&&s.jsx("div",{className:"p-4 pt-0",children:s.jsxs("div",{className:pe("relative overflow-hidden rounded-xl p-4","bg-gradient-to-br from-primary/10 via-primary/5 to-transparent","border border-primary/10"),children:[s.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full blur-2xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-primary/5 rounded-full blur-xl"}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"p-1.5 rounded-lg bg-primary/10",children:s.jsx(ac,{className:"h-3.5 w-3.5 text-primary"})}),s.jsx("span",{className:"text-xs font-semibold text-sidebar-foreground",children:"Project Overview"})]}),s.jsxs("div",{className:"space-y-0",children:[s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsx("span",{className:"text-2xl font-bold text-sidebar-foreground",children:h.totalApartments}),s.jsx("span",{className:"text-xs text-sidebar-foreground/60",children:"Apartments"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-sidebar-border/30",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(yr,{className:"h-3 w-3 text-cyan-500"}),s.jsxs("span",{className:"text-[10px] text-sidebar-foreground/70",children:[s.jsx("span",{className:"font-semibold text-sidebar-foreground",children:h.pendingDeliveries})," Deliveries"]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Et,{className:"h-3 w-3 text-red-500"}),s.jsxs("span",{className:"text-[10px] text-sidebar-foreground/70",children:[s.jsx("span",{className:"font-semibold text-sidebar-foreground",children:h.openIssues})," Issues"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-sidebar-border/30",children:[s.jsxs("p",{className:"text-[10px] text-sidebar-foreground/50 flex items-center gap-1",children:[s.jsx(Pc,{className:"h-3 w-3"}),h.totalClients," Clients"]}),s.jsxs("p",{className:"text-[10px] text-sidebar-foreground/50 flex items-center gap-1",children:[s.jsx(gi,{className:"h-3 w-3"}),h.totalVendors," Vendors"]})]})]})]})]})})]})]})})}function yt({children:e,title:t,subtitle:r,actions:n,fullWidth:a=!1,noPadding:i=!1}){const o=qz(),[l,c]=v.useState(()=>localStorage.getItem("sidebarCollapsed")==="true"),[d,u]=v.useState(!1);B.useEffect(()=>{const h=m=>{c(m.detail.collapsed)};return window.addEventListener("sidebarPreferenceChanged",h),()=>{window.removeEventListener("sidebarPreferenceChanged",h)}},[]);const f=()=>{o?u(h=>!h):c(h=>{const m=!h;return localStorage.setItem("sidebarCollapsed",String(m)),m})};return s.jsxs("div",{className:"h-screen flex bg-background overflow-hidden",children:[o&&d&&s.jsx("div",{className:pe("fixed inset-0 z-40 lg:hidden","bg-background/80 backdrop-blur-sm","animate-in fade-in-0 duration-200"),onClick:()=>u(!1)}),s.jsx(Ume,{isCollapsed:l,onToggle:f,isMobileOpen:d}),s.jsxs("div",{className:pe("flex-1 flex flex-col min-w-0 w-full lg:w-auto h-screen","transition-all duration-300 ease-out","relative z-10"),style:{marginLeft:o?0:l?"72px":"288px"},children:[s.jsx(Mme,{onMenuToggle:f}),s.jsx("main",{className:"flex-1 overflow-y-auto overflow-x-hidden bg-gradient-to-br from-background via-background to-muted/20",children:s.jsxs("div",{className:pe("animate-in fade-in-0  slide-in-from-bottom-4 duration-500",!i&&"p-4 lg:p-6 xl:p-8",!a&&"max-w-[1600px] mx-auto"),children:[(t||n)&&s.jsxs("div",{className:pe("flex flex-col sm:flex-row sm:items-center justify-between gap-4","mb-6 lg:mb-8"),children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h1",{className:pe("text-2xl lg:text-3xl font-bold tracking-tight","bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text"),children:t}),r&&s.jsx("p",{className:"text-sm text-muted-foreground",children:r})]}),n&&s.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:n})]}),s.jsx("div",{className:"relative",children:e})]})})]})]})}const oe=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:pe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));oe.displayName="Card";const Fe=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:pe("flex flex-col space-y-1.5 p-6",e),...t}));Fe.displayName="CardHeader";const $e=v.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:pe("text-2xl font-semibold leading-none tracking-tight",e),...t}));$e.displayName="CardTitle";const Lr=v.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:pe("text-sm text-muted-foreground",e),...t}));Lr.displayName="CardDescription";const le=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:pe("p-6 pt-0",e),...t}));le.displayName="CardContent";const Vme=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:pe("flex items-center p-6 pt-0",e),...t}));Vme.displayName="CardFooter";function mx({title:e,value:t,icon:r,trend:n,className:a}){return s.jsx(oe,{className:pe("overflow-hidden",a),children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:e}),s.jsx("p",{className:"text-3xl font-bold",children:t}),n&&s.jsxs("p",{className:pe("text-xs font-medium",n.value>0?"text-success":n.value<0?"text-danger":"text-muted-foreground"),children:[n.value>0?"+":"",n.value,"% ",n.label]})]}),s.jsx("div",{className:"p-3 rounded-2xl bg-primary/10",children:s.jsx(r,{className:"h-6 w-6 text-primary"})})]})})})}const zme=hp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pe({className:e,variant:t,...r}){return s.jsx("div",{className:pe(zme({variant:t}),e),...r})}function Xt({className:e,...t}){return s.jsx("div",{className:pe("animate-pulse rounded-md bg-muted",e),...t})}function Dt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function $a(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function sa(e,t){const r=Dt(e);return isNaN(t)?$a(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function eo(e,t){const r=Dt(e);if(isNaN(t))return $a(e,NaN);if(!t)return r;const n=r.getDate(),a=$a(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const lO=6048e5,Wme=864e5,By=43200,T3=1440;let Hme={};function Cp(){return Hme}function Il(e,t){var l,c,d,u;const r=Cp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Dt(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Nf(e){return Il(e,{weekStartsOn:1})}function Xz(e){const t=Dt(e),r=t.getFullYear(),n=$a(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Nf(n),i=$a(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Nf(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Pm(e){const t=Dt(e);return t.setHours(0,0,0,0),t}function Tm(e){const t=Dt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ao(e,t){const r=Pm(e),n=Pm(t),a=+r-Tm(r),i=+n-Tm(n);return Math.round((a-i)/Wme)}function Gme(e){const t=Xz(e),r=$a(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Nf(r)}function XE(e,t){const r=t*7;return sa(e,r)}function qme(e,t){return eo(e,t*12)}function Kme(e){let t;return e.forEach(function(r){const n=Dt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Xme(e){let t;return e.forEach(r=>{const n=Dt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function $1(e,t){const r=Dt(e),n=Dt(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Yme(e){return $a(e,Date.now())}function Aa(e,t){const r=Pm(e),n=Pm(t);return+r==+n}function cO(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Qme(e){if(!cO(e)&&typeof e!="number")return!1;const t=Dt(e);return!isNaN(Number(t))}function km(e,t){const r=Dt(e),n=Dt(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Zme(e,t,r){const n=Il(e,r),a=Il(t,r),i=+n-Tm(n),o=+a-Tm(a);return Math.round((i-o)/lO)}function Uy(e,t){const r=Dt(e),n=Dt(t),a=k3(r,n),i=Math.abs(Ao(r,n));r.setDate(r.getDate()-a*i);const o=+(k3(r,n)===-a),l=a*(i-o);return l===0?0:l}function k3(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Jme(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function epe(e,t){return+Dt(e)-+Dt(t)}function tpe(e){const t=Dt(e);return t.setHours(23,59,59,999),t}function EN(e){const t=Dt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function rpe(e){const t=Dt(e);return+tpe(t)==+EN(t)}function npe(e,t){const r=Dt(e),n=Dt(t),a=$1(r,n),i=Math.abs(km(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=$1(r,n)===-a;rpe(Dt(e))&&i===1&&$1(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function spe(e,t,r){const n=epe(e,t)/1e3;return Jme(r==null?void 0:r.roundingMethod)(n)}function Ma(e){const t=Dt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Yz(e){const t=Dt(e),r=$a(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function dO(e,t){var l,c,d,u;const r=Cp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Dt(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function Qz(e){return dO(e,{weekStartsOn:1})}const ape={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ipe=(e,t,r)=>{let n;const a=ape[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function X2(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const ope={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lpe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cpe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dpe={date:X2({formats:ope,defaultWidth:"full"}),time:X2({formats:lpe,defaultWidth:"full"}),dateTime:X2({formats:cpe,defaultWidth:"full"})},upe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fpe=(e,t,r,n)=>upe[e];function px(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const hpe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mpe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ppe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xpe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ype=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},bpe={ordinalNumber:ype,era:px({values:hpe,defaultWidth:"wide"}),quarter:px({values:mpe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:px({values:ppe,defaultWidth:"wide"}),day:px({values:xpe,defaultWidth:"wide"}),dayPeriod:px({values:gpe,defaultWidth:"wide",formattingValues:vpe,defaultFormattingWidth:"wide"})};function xx(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?jpe(l,f=>f.test(o)):wpe(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function wpe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function jpe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Npe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const _pe=/^(\d+)(th|st|nd|rd)?/i,Spe=/\d+/i,Cpe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Epe={any:[/^b/i,/^(a|c)/i]},Ape={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ppe={any:[/1/i,/2/i,/3/i,/4/i]},Tpe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kpe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ope={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Dpe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ipe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rpe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Mpe={ordinalNumber:Npe({matchPattern:_pe,parsePattern:Spe,valueCallback:e=>parseInt(e,10)}),era:xx({matchPatterns:Cpe,defaultMatchWidth:"wide",parsePatterns:Epe,defaultParseWidth:"any"}),quarter:xx({matchPatterns:Ape,defaultMatchWidth:"wide",parsePatterns:Ppe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:xx({matchPatterns:Tpe,defaultMatchWidth:"wide",parsePatterns:kpe,defaultParseWidth:"any"}),day:xx({matchPatterns:Ope,defaultMatchWidth:"wide",parsePatterns:Dpe,defaultParseWidth:"any"}),dayPeriod:xx({matchPatterns:Ipe,defaultMatchWidth:"any",parsePatterns:Rpe,defaultParseWidth:"any"})},uO={code:"en-US",formatDistance:ipe,formatLong:dpe,formatRelative:fpe,localize:bpe,match:Mpe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Fpe(e){const t=Dt(e);return Ao(t,Yz(t))+1}function Zz(e){const t=Dt(e),r=+Nf(t)-+Gme(t);return Math.round(r/lO)+1}function Jz(e,t){var u,f,h,m;const r=Dt(e),n=r.getFullYear(),a=Cp(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=$a(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Il(o,t),c=$a(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=Il(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function Lpe(e,t){var l,c,d,u;const r=Cp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=Jz(e,t),i=$a(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Il(i,t)}function eW(e,t){const r=Dt(e),n=+Il(r,t)-+Lpe(r,t);return Math.round(n/lO)+1}function Nr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Zc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Nr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Nr(r+1,2)},d(e,t){return Nr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Nr(e.getHours()%12||12,t.length)},H(e,t){return Nr(e.getHours(),t.length)},m(e,t){return Nr(e.getMinutes(),t.length)},s(e,t){return Nr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Nr(a,t.length)}},ih={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},O3={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Zc.y(e,t)},Y:function(e,t,r,n){const a=Jz(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Nr(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Nr(i,t.length)},R:function(e,t){const r=Xz(e);return Nr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Nr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Nr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Nr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Zc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Nr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=eW(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Nr(a,t.length)},I:function(e,t,r){const n=Zz(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Nr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Zc.d(e,t)},D:function(e,t,r){const n=Fpe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Nr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Nr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Nr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Nr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=ih.noon:n===0?a=ih.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=ih.evening:n>=12?a=ih.afternoon:n>=4?a=ih.morning:a=ih.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Zc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Zc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Nr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Nr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Zc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Zc.s(e,t)},S:function(e,t){return Zc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return I3(n);case"XXXX":case"XX":return _u(n);case"XXXXX":case"XXX":default:return _u(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return I3(n);case"xxxx":case"xx":return _u(n);case"xxxxx":case"xxx":default:return _u(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+D3(n,":");case"OOOO":default:return"GMT"+_u(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+D3(n,":");case"zzzz":default:return"GMT"+_u(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Nr(n,t.length)},T:function(e,t,r){const n=e.getTime();return Nr(n,t.length)}};function D3(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Nr(i,2)}function I3(e,t){return e%60===0?(e>0?"-":"+")+Nr(Math.abs(e)/60,2):_u(e,t)}function _u(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Nr(Math.trunc(n/60),2),i=Nr(n%60,2);return r+a+t+i}const R3=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},tW=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},$pe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return R3(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",R3(n,t)).replace("{{time}}",tW(a,t))},Bpe={p:tW,P:$pe},Upe=/^D+$/,Vpe=/^Y+$/,zpe=["D","DD","YY","YYYY"];function Wpe(e){return Upe.test(e)}function Hpe(e){return Vpe.test(e)}function Gpe(e,t,r){const n=qpe(e,t,r);if(console.warn(n),zpe.includes(e))throw new RangeError(n)}function qpe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Kpe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xpe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ype=/^'([^]*?)'?$/,Qpe=/''/g,Zpe=/[a-zA-Z]/;function Qt(e,t,r){var u,f,h,m,x,p,g,b;const n=Cp(),a=(r==null?void 0:r.locale)??n.locale??uO,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((b=(g=n.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??0,l=Dt(e);if(!Qme(l))throw new RangeError("Invalid time value");let c=t.match(Xpe).map(y=>{const j=y[0];if(j==="p"||j==="P"){const w=Bpe[j];return w(y,a.formatLong)}return y}).join("").match(Kpe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const j=y[0];if(j==="'")return{isToken:!1,value:Jpe(y)};if(O3[j])return{isToken:!0,value:y};if(j.match(Zpe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const j=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Hpe(j)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Wpe(j))&&Gpe(j,t,String(e));const w=O3[j[0]];return w(l,j,a.localize,d)}).join("")}function Jpe(e){const t=e.match(Ype);return t?t[1].replace(Qpe,"'"):e}function exe(e,t,r){const n=Cp(),a=(r==null?void 0:r.locale)??n.locale??uO,i=2520,o=$1(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=Dt(t),d=Dt(e)):(c=Dt(e),d=Dt(t));const u=spe(d,c),f=(Tm(d)-Tm(c))/1e3,h=Math.round((u-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<T3){const x=Math.round(h/60);return a.formatDistance("aboutXHours",x,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<By){const x=Math.round(h/T3);return a.formatDistance("xDays",x,l)}else if(h<By*2)return m=Math.round(h/By),a.formatDistance("aboutXMonths",m,l)}if(m=npe(d,c),m<12){const x=Math.round(h/By);return a.formatDistance("xMonths",x,l)}else{const x=m%12,p=Math.trunc(m/12);return x<3?a.formatDistance("aboutXYears",p,l):x<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function txe(e,t){return exe(e,Yme(e),t)}function rxe(e){const t=Dt(e),r=t.getFullYear(),n=t.getMonth(),a=$a(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function nxe(e){return Math.trunc(+Dt(e)/1e3)}function sxe(e){const t=Dt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function axe(e,t){return Zme(sxe(e),Ma(e),t)+1}function YE(e,t){const r=Dt(e),n=Dt(t);return r.getTime()>n.getTime()}function rW(e,t){const r=Dt(e),n=Dt(t);return+r<+n}function fO(e,t){const r=Dt(e),n=Dt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function ixe(e,t){const r=Dt(e),n=Dt(t);return r.getFullYear()===n.getFullYear()}function oc(e,t){return sa(e,-t)}function Y2(e,t){const r=Dt(e),n=r.getFullYear(),a=r.getDate(),i=$a(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=rxe(i);return r.setMonth(t,Math.min(a,o)),r}function M3(e,t){const r=Dt(e);return isNaN(+r)?$a(e,NaN):(r.setFullYear(t),r)}function oxe(e,t){return eo(e,-t)}const F3={order:la,"shopping-cart":la,payment:As,"credit-card":As,delivery:yr,truck:yr,issue:Et,"alert-circle":Et,product:mt,package:mt,apartment:xr,building:xr,client:Pc,users:Pc,vendor:gi,store:gi,user:Zn,status:Fg,activity:Fg,ai:Ea,bot:Ea},lxe={created:An,updated:yne,deleted:Xr,delivered:gn,payment_received:gn,completed:gn,cancelled:Xr,status_changed:pb},cxe=(e,t)=>({created:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},updated:{bg:"bg-blue-500/5 dark:bg-blue-500/10",border:"border-blue-500/20",icon:"text-blue-500",badge:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/20",glow:"shadow-blue-500/5"},deleted:{bg:"bg-red-500/5 dark:bg-red-500/10",border:"border-red-500/20",icon:"text-red-500",badge:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",glow:"shadow-red-500/5"},delivered:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},payment_received:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},completed:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},cancelled:{bg:"bg-red-500/5 dark:bg-red-500/10",border:"border-red-500/20",icon:"text-red-500",badge:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",glow:"shadow-red-500/5"},status_changed:{bg:"bg-amber-500/5 dark:bg-amber-500/10",border:"border-amber-500/20",icon:"text-amber-500",badge:"bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-500/20",glow:"shadow-amber-500/5"}})[e]||{bg:"bg-slate-500/5 dark:bg-slate-500/10",border:"border-slate-500/20",icon:"text-slate-500",badge:"bg-slate-500/10 text-slate-600 dark:text-slate-400 border-slate-500/20",glow:"shadow-slate-500/5"},dxe=e=>({order:"Order",payment:"Payment",delivery:"Delivery",issue:"Issue",product:"Product",apartment:"Apartment",client:"Client",vendor:"Vendor",user:"User"})[e]||e;function uxe(){const{data:e,isLoading:t,refetch:r}=Kz(),n=(e==null?void 0:e.activities)||[],a=i=>{try{return txe(new Date(i),{addSuffix:!0})}catch{return"recently"}};return t?s.jsxs(oe,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/80",children:[s.jsx(Fe,{className:"pb-3",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx($g,{className:"h-4 w-4 text-primary"})}),s.jsx($e,{className:"text-lg font-semibold",children:"Recent Activity"})]})})}),s.jsx(le,{children:s.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(i=>s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-muted/30",children:[s.jsx(Xt,{className:"h-10 w-10 rounded-xl"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Xt,{className:"h-4 w-40"}),s.jsx(Xt,{className:"h-3 w-56"}),s.jsx(Xt,{className:"h-3 w-24"})]})]},i))})})]}):s.jsxs(oe,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/80 overflow-hidden",children:[s.jsx(Fe,{className:"pb-3 border-b border-border/50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-primary/20 to-primary/5 shadow-sm",children:s.jsx($g,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx($e,{className:"text-lg font-semibold",children:"Recent Activity"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[n.length," activities tracked"]})]})]}),s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>r(),className:"h-9 w-9 p-0 hover:bg-primary/10 hover:text-primary transition-colors",children:s.jsx(Do,{className:"h-4 w-4"})})]})}),s.jsx(le,{className:"p-0",children:s.jsx(zc,{className:"h-[480px]",children:s.jsx("div",{className:"p-4 space-y-2",children:n.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx("div",{className:"p-4 rounded-full bg-muted/50 mb-4",children:s.jsx(Fg,{className:"h-8 w-8 text-muted-foreground/50"})}),s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No recent activities"}),s.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1 max-w-[200px]",children:"Activities will appear here when you create, update, or delete records"})]}):n.slice(0,15).map((i,o)=>{const l=F3[i.icon]||F3[i.type]||Fg,c=lxe[i.action]||An,d=cxe(i.action,i.type);return s.jsxs("div",{className:pe("group relative flex items-start gap-3 p-3 rounded-xl transition-all duration-200","hover:shadow-md cursor-pointer",d.bg,`border ${d.border}`,`hover:${d.glow}`),children:[o<n.slice(0,15).length-1&&s.jsx("div",{className:"absolute left-[26px] top-[52px] w-[2px] h-[calc(100%-20px)] bg-gradient-to-b from-border to-transparent"}),s.jsxs("div",{className:pe("relative flex-shrink-0 p-2.5 rounded-xl shadow-sm transition-transform group-hover:scale-105","bg-background border",d.border),children:[s.jsx(l,{className:pe("h-4 w-4",d.icon)}),s.jsx("div",{className:pe("absolute -bottom-1 -right-1 p-0.5 rounded-full bg-background border",d.border),children:s.jsx(c,{className:pe("h-2.5 w-2.5",d.icon)})})]}),s.jsxs("div",{className:"flex-1 min-w-0 space-y-1.5",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"font-medium text-sm text-foreground leading-tight",children:i.title}),s.jsx(Pe,{variant:"outline",className:pe("text-[10px] px-1.5 py-0 h-4 font-medium border",d.badge),children:i.action})]}),s.jsx(Pe,{variant:"secondary",className:"text-[10px] px-1.5 py-0 h-4 font-normal bg-muted/50 text-muted-foreground flex-shrink-0",children:dxe(i.type)})]}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 leading-relaxed",children:i.description}),s.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground/70",children:[s.jsx(Vr,{className:"h-3 w-3"}),s.jsx("span",{children:a(i.created_at)}),i.apartment&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-muted-foreground/30",children:""}),s.jsx(xr,{className:"h-3 w-3"}),s.jsx("span",{className:"truncate max-w-[100px]",children:i.apartment})]})]})]})]},i.id)})})})})]})}var fxe=Array.isArray,Ha=fxe,hxe=typeof oy=="object"&&oy&&oy.Object===Object&&oy,nW=hxe,mxe=nW,pxe=typeof self=="object"&&self&&self.Object===Object&&self,xxe=mxe||pxe||Function("return this")(),zl=xxe,gxe=zl,vxe=gxe.Symbol,I0=vxe,L3=I0,sW=Object.prototype,yxe=sW.hasOwnProperty,bxe=sW.toString,gx=L3?L3.toStringTag:void 0;function wxe(e){var t=yxe.call(e,gx),r=e[gx];try{e[gx]=void 0;var n=!0}catch{}var a=bxe.call(e);return n&&(t?e[gx]=r:delete e[gx]),a}var jxe=wxe,Nxe=Object.prototype,_xe=Nxe.toString;function Sxe(e){return _xe.call(e)}var Cxe=Sxe,$3=I0,Exe=jxe,Axe=Cxe,Pxe="[object Null]",Txe="[object Undefined]",B3=$3?$3.toStringTag:void 0;function kxe(e){return e==null?e===void 0?Txe:Pxe:B3&&B3 in Object(e)?Exe(e):Axe(e)}var Wc=kxe;function Oxe(e){return e!=null&&typeof e=="object"}var Hc=Oxe,Dxe=Wc,Ixe=Hc,Rxe="[object Symbol]";function Mxe(e){return typeof e=="symbol"||Ixe(e)&&Dxe(e)==Rxe}var Ep=Mxe,Fxe=Ha,Lxe=Ep,$xe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bxe=/^\w*$/;function Uxe(e,t){if(Fxe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Lxe(e)?!0:Bxe.test(e)||!$xe.test(e)||t!=null&&e in Object(t)}var hO=Uxe;function Vxe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var lu=Vxe;const Ap=br(lu);var zxe=Wc,Wxe=lu,Hxe="[object AsyncFunction]",Gxe="[object Function]",qxe="[object GeneratorFunction]",Kxe="[object Proxy]";function Xxe(e){if(!Wxe(e))return!1;var t=zxe(e);return t==Gxe||t==qxe||t==Hxe||t==Kxe}var mO=Xxe;const kt=br(mO);var Yxe=zl,Qxe=Yxe["__core-js_shared__"],Zxe=Qxe,Q2=Zxe,U3=function(){var e=/[^.]+$/.exec(Q2&&Q2.keys&&Q2.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Jxe(e){return!!U3&&U3 in e}var ege=Jxe,tge=Function.prototype,rge=tge.toString;function nge(e){if(e!=null){try{return rge.call(e)}catch{}try{return e+""}catch{}}return""}var aW=nge,sge=mO,age=ege,ige=lu,oge=aW,lge=/[\\^$.*+?()[\]{}|]/g,cge=/^\[object .+?Constructor\]$/,dge=Function.prototype,uge=Object.prototype,fge=dge.toString,hge=uge.hasOwnProperty,mge=RegExp("^"+fge.call(hge).replace(lge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pge(e){if(!ige(e)||age(e))return!1;var t=sge(e)?mge:cge;return t.test(oge(e))}var xge=pge;function gge(e,t){return e==null?void 0:e[t]}var vge=gge,yge=xge,bge=vge;function wge(e,t){var r=bge(e,t);return yge(r)?r:void 0}var Uf=wge,jge=Uf,Nge=jge(Object,"create"),AN=Nge,V3=AN;function _ge(){this.__data__=V3?V3(null):{},this.size=0}var Sge=_ge;function Cge(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ege=Cge,Age=AN,Pge="__lodash_hash_undefined__",Tge=Object.prototype,kge=Tge.hasOwnProperty;function Oge(e){var t=this.__data__;if(Age){var r=t[e];return r===Pge?void 0:r}return kge.call(t,e)?t[e]:void 0}var Dge=Oge,Ige=AN,Rge=Object.prototype,Mge=Rge.hasOwnProperty;function Fge(e){var t=this.__data__;return Ige?t[e]!==void 0:Mge.call(t,e)}var Lge=Fge,$ge=AN,Bge="__lodash_hash_undefined__";function Uge(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=$ge&&t===void 0?Bge:t,this}var Vge=Uge,zge=Sge,Wge=Ege,Hge=Dge,Gge=Lge,qge=Vge;function Pp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Pp.prototype.clear=zge;Pp.prototype.delete=Wge;Pp.prototype.get=Hge;Pp.prototype.has=Gge;Pp.prototype.set=qge;var Kge=Pp;function Xge(){this.__data__=[],this.size=0}var Yge=Xge;function Qge(e,t){return e===t||e!==e&&t!==t}var pO=Qge,Zge=pO;function Jge(e,t){for(var r=e.length;r--;)if(Zge(e[r][0],t))return r;return-1}var PN=Jge,eve=PN,tve=Array.prototype,rve=tve.splice;function nve(e){var t=this.__data__,r=eve(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():rve.call(t,r,1),--this.size,!0}var sve=nve,ave=PN;function ive(e){var t=this.__data__,r=ave(t,e);return r<0?void 0:t[r][1]}var ove=ive,lve=PN;function cve(e){return lve(this.__data__,e)>-1}var dve=cve,uve=PN;function fve(e,t){var r=this.__data__,n=uve(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var hve=fve,mve=Yge,pve=sve,xve=ove,gve=dve,vve=hve;function Tp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Tp.prototype.clear=mve;Tp.prototype.delete=pve;Tp.prototype.get=xve;Tp.prototype.has=gve;Tp.prototype.set=vve;var TN=Tp,yve=Uf,bve=zl,wve=yve(bve,"Map"),xO=wve,z3=Kge,jve=TN,Nve=xO;function _ve(){this.size=0,this.__data__={hash:new z3,map:new(Nve||jve),string:new z3}}var Sve=_ve;function Cve(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Eve=Cve,Ave=Eve;function Pve(e,t){var r=e.__data__;return Ave(t)?r[typeof t=="string"?"string":"hash"]:r.map}var kN=Pve,Tve=kN;function kve(e){var t=Tve(this,e).delete(e);return this.size-=t?1:0,t}var Ove=kve,Dve=kN;function Ive(e){return Dve(this,e).get(e)}var Rve=Ive,Mve=kN;function Fve(e){return Mve(this,e).has(e)}var Lve=Fve,$ve=kN;function Bve(e,t){var r=$ve(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Uve=Bve,Vve=Sve,zve=Ove,Wve=Rve,Hve=Lve,Gve=Uve;function kp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}kp.prototype.clear=Vve;kp.prototype.delete=zve;kp.prototype.get=Wve;kp.prototype.has=Hve;kp.prototype.set=Gve;var gO=kp,iW=gO,qve="Expected a function";function vO(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(qve);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(vO.Cache||iW),r}vO.Cache=iW;var oW=vO;const Kve=br(oW);var Xve=oW,Yve=500;function Qve(e){var t=Xve(e,function(n){return r.size===Yve&&r.clear(),n}),r=t.cache;return t}var Zve=Qve,Jve=Zve,e0e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t0e=/\\(\\)?/g,r0e=Jve(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(e0e,function(r,n,a,i){t.push(a?i.replace(t0e,"$1"):n||r)}),t}),n0e=r0e;function s0e(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var yO=s0e,W3=I0,a0e=yO,i0e=Ha,o0e=Ep,l0e=1/0,H3=W3?W3.prototype:void 0,G3=H3?H3.toString:void 0;function lW(e){if(typeof e=="string")return e;if(i0e(e))return a0e(e,lW)+"";if(o0e(e))return G3?G3.call(e):"";var t=e+"";return t=="0"&&1/e==-l0e?"-0":t}var c0e=lW,d0e=c0e;function u0e(e){return e==null?"":d0e(e)}var cW=u0e,f0e=Ha,h0e=hO,m0e=n0e,p0e=cW;function x0e(e,t){return f0e(e)?e:h0e(e,t)?[e]:m0e(p0e(e))}var dW=x0e,g0e=Ep,v0e=1/0;function y0e(e){if(typeof e=="string"||g0e(e))return e;var t=e+"";return t=="0"&&1/e==-v0e?"-0":t}var ON=y0e,b0e=dW,w0e=ON;function j0e(e,t){t=b0e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[w0e(t[r++])];return r&&r==n?e:void 0}var bO=j0e,N0e=bO;function _0e(e,t,r){var n=e==null?void 0:N0e(e,t);return n===void 0?r:n}var uW=_0e;const fi=br(uW);function S0e(e){return e==null}var C0e=S0e;const Mt=br(C0e);var E0e=Wc,A0e=Ha,P0e=Hc,T0e="[object String]";function k0e(e){return typeof e=="string"||!A0e(e)&&P0e(e)&&E0e(e)==T0e}var O0e=k0e;const R0=br(O0e);var fW={exports:{}},Ar={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wO=Symbol.for("react.element"),jO=Symbol.for("react.portal"),DN=Symbol.for("react.fragment"),IN=Symbol.for("react.strict_mode"),RN=Symbol.for("react.profiler"),MN=Symbol.for("react.provider"),FN=Symbol.for("react.context"),D0e=Symbol.for("react.server_context"),LN=Symbol.for("react.forward_ref"),$N=Symbol.for("react.suspense"),BN=Symbol.for("react.suspense_list"),UN=Symbol.for("react.memo"),VN=Symbol.for("react.lazy"),I0e=Symbol.for("react.offscreen"),hW;hW=Symbol.for("react.module.reference");function oo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wO:switch(e=e.type,e){case DN:case RN:case IN:case $N:case BN:return e;default:switch(e=e&&e.$$typeof,e){case D0e:case FN:case LN:case VN:case UN:case MN:return e;default:return t}}case jO:return t}}}Ar.ContextConsumer=FN;Ar.ContextProvider=MN;Ar.Element=wO;Ar.ForwardRef=LN;Ar.Fragment=DN;Ar.Lazy=VN;Ar.Memo=UN;Ar.Portal=jO;Ar.Profiler=RN;Ar.StrictMode=IN;Ar.Suspense=$N;Ar.SuspenseList=BN;Ar.isAsyncMode=function(){return!1};Ar.isConcurrentMode=function(){return!1};Ar.isContextConsumer=function(e){return oo(e)===FN};Ar.isContextProvider=function(e){return oo(e)===MN};Ar.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wO};Ar.isForwardRef=function(e){return oo(e)===LN};Ar.isFragment=function(e){return oo(e)===DN};Ar.isLazy=function(e){return oo(e)===VN};Ar.isMemo=function(e){return oo(e)===UN};Ar.isPortal=function(e){return oo(e)===jO};Ar.isProfiler=function(e){return oo(e)===RN};Ar.isStrictMode=function(e){return oo(e)===IN};Ar.isSuspense=function(e){return oo(e)===$N};Ar.isSuspenseList=function(e){return oo(e)===BN};Ar.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===DN||e===RN||e===IN||e===$N||e===BN||e===I0e||typeof e=="object"&&e!==null&&(e.$$typeof===VN||e.$$typeof===UN||e.$$typeof===MN||e.$$typeof===FN||e.$$typeof===LN||e.$$typeof===hW||e.getModuleId!==void 0)};Ar.typeOf=oo;fW.exports=Ar;var mW=fW.exports,R0e=Wc,M0e=Hc,F0e="[object Number]";function L0e(e){return typeof e=="number"||M0e(e)&&R0e(e)==F0e}var pW=L0e;const $0e=br(pW);var B0e=pW;function U0e(e){return B0e(e)&&e!=+e}var V0e=U0e;const Op=br(V0e);var ca=function(t){return t===0?0:t>0?1:-1},Uu=function(t){return R0(t)&&t.indexOf("%")===t.length-1},He=function(t){return $0e(t)&&!Op(t)},Xn=function(t){return He(t)||R0(t)},z0e=0,Vf=function(t){var r=++z0e;return"".concat(t||"").concat(r)},da=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!He(t)&&!R0(t))return n;var i;if(Uu(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Op(i)&&(i=n),a&&i>r&&(i=r),i},fd=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},W0e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},qn=function(t,r){return He(t)&&He(r)?function(n){return t+n*(r-t)}:function(){return r}};function Xb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):fi(n,t))===r})}function Kh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function QE(e){"@babel/helpers - typeof";return QE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QE(e)}var H0e=["viewBox","children"],G0e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],q3=["points","pathLength"],Z2={svg:H0e,polygon:q3,polyline:q3},NO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Yb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(v.isValidElement(t)&&(n=t.props),!Ap(n))return null;var a={};return Object.keys(n).forEach(function(i){NO.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},q0e=function(t,r,n){return function(a){return t(r,n,a),null}},_f=function(t,r,n){if(!Ap(t)||QE(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];NO.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=q0e(o,r,n))}),a},K0e=["children"],X0e=["children"];function K3(e,t){if(e==null)return{};var r=Y0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Y0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZE(e){"@babel/helpers - typeof";return ZE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZE(e)}var X3={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},vc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Y3=null,J2=null,_O=function e(t){if(t===Y3&&Array.isArray(J2))return J2;var r=[];return v.Children.forEach(t,function(n){Mt(n)||(mW.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),J2=r,Y3=t,r};function hi(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return vc(a)}):n=[vc(t)],_O(e).forEach(function(a){var i=fi(a,"type.displayName")||fi(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ri(e,t){var r=hi(e,t);return r&&r[0]}var Q3=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!He(n)||n<=0||!He(a)||a<=0)},Q0e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Z0e=function(t){return t&&t.type&&R0(t.type)&&Q0e.indexOf(t.type)>=0},xW=function(t){return t&&ZE(t)==="object"&&"clipDot"in t},J0e=function(t,r,n,a){var i,o=(i=Z2==null?void 0:Z2[a])!==null&&i!==void 0?i:[];return!kt(t)&&(a&&o.includes(r)||G0e.includes(r))||n&&NO.includes(r)},jt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(v.isValidElement(t)&&(a=t.props),!Ap(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;J0e((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},JE=function e(t,r){if(t===r)return!0;var n=v.Children.count(t);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Z3(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Z3(i,o))return!1}return!0},Z3=function(t,r){if(Mt(t)&&Mt(r))return!0;if(!Mt(t)&&!Mt(r)){var n=t.props||{},a=n.children,i=K3(n,K0e),o=r.props||{},l=o.children,c=K3(o,X0e);return a&&l?Kh(i,c)&&JE(a,l):!a&&!l?Kh(i,c):!1}return!1},J3=function(t,r){var n=[],a={};return _O(t).forEach(function(i,o){if(Z0e(i))n.push(i);else if(i){var l=vc(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var f=d(i,l,o);n.push(f),a[l]=!0}}}),n},eye=function(t){var r=t&&t.type;return r&&X3[r]?X3[r]:null},tye=function(t,r){return _O(r).indexOf(t)},rye=["children","width","height","viewBox","className","style","title","desc"];function eA(){return eA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eA.apply(this,arguments)}function nye(e,t){if(e==null)return{};var r=sye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tA(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=nye(e,rye),u=a||{width:r,height:n,x:0,y:0},f=Lt("recharts-surface",i);return B.createElement("svg",eA({},jt(d,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),B.createElement("title",null,l),B.createElement("desc",null,c),t)}var aye=["children","className"];function rA(){return rA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rA.apply(this,arguments)}function iye(e,t){if(e==null)return{};var r=oye(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Jt=B.forwardRef(function(e,t){var r=e.children,n=e.className,a=iye(e,aye),i=Lt("recharts-layer",n);return B.createElement("g",rA({className:i},jt(a,!0),{ref:t}),r)}),Io=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function lye(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var cye=lye,dye=cye;function uye(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:dye(e,t,r)}var fye=uye,hye="\\ud800-\\udfff",mye="\\u0300-\\u036f",pye="\\ufe20-\\ufe2f",xye="\\u20d0-\\u20ff",gye=mye+pye+xye,vye="\\ufe0e\\ufe0f",yye="\\u200d",bye=RegExp("["+yye+hye+gye+vye+"]");function wye(e){return bye.test(e)}var gW=wye;function jye(e){return e.split("")}var Nye=jye,vW="\\ud800-\\udfff",_ye="\\u0300-\\u036f",Sye="\\ufe20-\\ufe2f",Cye="\\u20d0-\\u20ff",Eye=_ye+Sye+Cye,Aye="\\ufe0e\\ufe0f",Pye="["+vW+"]",nA="["+Eye+"]",sA="\\ud83c[\\udffb-\\udfff]",Tye="(?:"+nA+"|"+sA+")",yW="[^"+vW+"]",bW="(?:\\ud83c[\\udde6-\\uddff]){2}",wW="[\\ud800-\\udbff][\\udc00-\\udfff]",kye="\\u200d",jW=Tye+"?",NW="["+Aye+"]?",Oye="(?:"+kye+"(?:"+[yW,bW,wW].join("|")+")"+NW+jW+")*",Dye=NW+jW+Oye,Iye="(?:"+[yW+nA+"?",nA,bW,wW,Pye].join("|")+")",Rye=RegExp(sA+"(?="+sA+")|"+Iye+Dye,"g");function Mye(e){return e.match(Rye)||[]}var Fye=Mye,Lye=Nye,$ye=gW,Bye=Fye;function Uye(e){return $ye(e)?Bye(e):Lye(e)}var Vye=Uye,zye=fye,Wye=gW,Hye=Vye,Gye=cW;function qye(e){return function(t){t=Gye(t);var r=Wye(t)?Hye(t):void 0,n=r?r[0]:t.charAt(0),a=r?zye(r,1).join(""):t.slice(1);return n[e]()+a}}var Kye=qye,Xye=Kye,Yye=Xye("toUpperCase"),Qye=Yye;const zN=br(Qye);function Fr(e){return function(){return e}}const _W=Math.cos,Qb=Math.sin,Ko=Math.sqrt,Zb=Math.PI,WN=2*Zb,aA=Math.PI,iA=2*aA,Su=1e-6,Zye=iA-Su;function SW(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Jye(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return SW;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class e1e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?SW:Jye(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,d=a-r,u=o-t,f=l-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Su)if(!(Math.abs(f*c-d*u)>Su)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,x=a-l,p=c*c+d*d,g=m*m+x*x,b=Math.sqrt(p),y=Math.sqrt(h),j=i*Math.tan((aA-Math.acos((p+h-g)/(2*b*y)))/2),w=j/y,N=j/b;Math.abs(w-1)>Su&&this._append`L${t+w*u},${r+w*f}`,this._append`A${i},${i},0,0,${+(f*m>u*x)},${this._x1=t+N*c},${this._y1=r+N*d}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),d=t+l,u=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Su||Math.abs(this._y1-u)>Su)&&this._append`L${d},${u}`,n&&(h<0&&(h=h%iA+iA),h>Zye?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=d},${this._y1=u}`:h>Su&&this._append`A${n},${n},0,${+(h>=aA)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function SO(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new e1e(t)}function CO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function CW(e){this._context=e}CW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function HN(e){return new CW(e)}function EW(e){return e[0]}function AW(e){return e[1]}function PW(e,t){var r=Fr(!0),n=null,a=HN,i=null,o=SO(l);e=typeof e=="function"?e:e===void 0?EW:Fr(e),t=typeof t=="function"?t:t===void 0?AW:Fr(t);function l(c){var d,u=(c=CO(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),d=0;d<=u;++d)!(d<u&&r(f=c[d],d,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,d,c),+t(f,d,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Fr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Fr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Fr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Vy(e,t,r){var n=null,a=Fr(!0),i=null,o=HN,l=null,c=SO(d);e=typeof e=="function"?e:e===void 0?EW:Fr(+e),t=typeof t=="function"?t:Fr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?AW:Fr(+r);function d(f){var h,m,x,p=(f=CO(f)).length,g,b=!1,y,j=new Array(p),w=new Array(p);for(i==null&&(l=o(y=c())),h=0;h<=p;++h){if(!(h<p&&a(g=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=h-1;x>=m;--x)l.point(j[x],w[x]);l.lineEnd(),l.areaEnd()}b&&(j[h]=+e(g,h,f),w[h]=+t(g,h,f),l.point(n?+n(g,h,f):j[h],r?+r(g,h,f):w[h]))}if(y)return l=null,y+""||null}function u(){return PW().defined(a).curve(o).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Fr(+f),n=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Fr(+f),d):e},d.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Fr(+f),d):n},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Fr(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Fr(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Fr(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Fr(!!f),d):a},d.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),d):o},d.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),d):i},d}class TW{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function t1e(e){return new TW(e,!0)}function r1e(e){return new TW(e,!1)}const EO={draw(e,t){const r=Ko(t/Zb);e.moveTo(r,0),e.arc(0,0,r,0,WN)}},n1e={draw(e,t){const r=Ko(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},kW=Ko(1/3),s1e=kW*2,a1e={draw(e,t){const r=Ko(t/s1e),n=r*kW;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},i1e={draw(e,t){const r=Ko(t),n=-r/2;e.rect(n,n,r,r)}},o1e=.8908130915292852,OW=Qb(Zb/10)/Qb(7*Zb/10),l1e=Qb(WN/10)*OW,c1e=-_W(WN/10)*OW,d1e={draw(e,t){const r=Ko(t*o1e),n=l1e*r,a=c1e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=WN*i/5,l=_W(o),c=Qb(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},eS=Ko(3),u1e={draw(e,t){const r=-Ko(t/(eS*3));e.moveTo(0,r*2),e.lineTo(-eS*r,-r),e.lineTo(eS*r,-r),e.closePath()}},Ei=-.5,Ai=Ko(3)/2,oA=1/Ko(12),f1e=(oA/2+1)*3,h1e={draw(e,t){const r=Ko(t/f1e),n=r/2,a=r*oA,i=n,o=r*oA+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Ei*n-Ai*a,Ai*n+Ei*a),e.lineTo(Ei*i-Ai*o,Ai*i+Ei*o),e.lineTo(Ei*l-Ai*c,Ai*l+Ei*c),e.lineTo(Ei*n+Ai*a,Ei*a-Ai*n),e.lineTo(Ei*i+Ai*o,Ei*o-Ai*i),e.lineTo(Ei*l+Ai*c,Ei*c-Ai*l),e.closePath()}};function m1e(e,t){let r=null,n=SO(a);e=typeof e=="function"?e:Fr(e||EO),t=typeof t=="function"?t:Fr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Fr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Fr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Jb(){}function ew(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function DW(e){this._context=e}DW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ew(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ew(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function p1e(e){return new DW(e)}function IW(e){this._context=e}IW.prototype={areaStart:Jb,areaEnd:Jb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ew(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function x1e(e){return new IW(e)}function RW(e){this._context=e}RW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ew(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function g1e(e){return new RW(e)}function MW(e){this._context=e}MW.prototype={areaStart:Jb,areaEnd:Jb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function v1e(e){return new MW(e)}function e5(e){return e<0?-1:1}function t5(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(e5(i)+e5(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function r5(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function tS(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function tw(e){this._context=e}tw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tS(this,this._t0,r5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,tS(this,r5(this,r=t5(this,e,t)),r);break;default:tS(this,this._t0,r=t5(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function FW(e){this._context=new LW(e)}(FW.prototype=Object.create(tw.prototype)).point=function(e,t){tw.prototype.point.call(this,t,e)};function LW(e){this._context=e}LW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function y1e(e){return new tw(e)}function b1e(e){return new FW(e)}function $W(e){this._context=e}$W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=n5(e),a=n5(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function n5(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function w1e(e){return new $W(e)}function GN(e,t){this._context=e,this._t=t}GN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function j1e(e){return new GN(e,.5)}function N1e(e){return new GN(e,0)}function _1e(e){return new GN(e,1)}function Om(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function lA(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function S1e(e,t){return e[t]}function C1e(e){const t=[];return t.key=e,t}function E1e(){var e=Fr([]),t=lA,r=Om,n=S1e;function a(i){var o=Array.from(e.apply(this,arguments),C1e),l,c=o.length,d=-1,u;for(const f of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(f,o[l].key,d,i)]).data=f;for(l=0,u=CO(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Fr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Fr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?lA:typeof i=="function"?i:Fr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Om,a):r},a}function A1e(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Om(e,t)}}function P1e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Om(e,t)}}function T1e(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],f=u[n][1]||0,h=u[n-1][1]||0,m=(f-h)/2,x=0;x<l;++x){var p=e[t[x]],g=p[n][1]||0,b=p[n-1][1]||0;m+=g-b}c+=f,d+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=d/c)}a[n-1][1]+=a[n-1][0]=r,Om(e,t)}}function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}var k1e=["type","size","sizeType"];function cA(){return cA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cA.apply(this,arguments)}function s5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s5(Object(r),!0).forEach(function(n){O1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O1e(e,t,r){return t=D1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D1e(e){var t=I1e(e,"string");return Jg(t)=="symbol"?t:t+""}function I1e(e,t){if(Jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R1e(e,t){if(e==null)return{};var r=M1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function M1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var BW={symbolCircle:EO,symbolCross:n1e,symbolDiamond:a1e,symbolSquare:i1e,symbolStar:d1e,symbolTriangle:u1e,symbolWye:h1e},F1e=Math.PI/180,L1e=function(t){var r="symbol".concat(zN(t));return BW[r]||EO},$1e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*F1e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},B1e=function(t,r){BW["symbol".concat(zN(t))]=r},AO=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=R1e(t,k1e),d=a5(a5({},c),{},{type:n,size:i,sizeType:l}),u=function(){var g=L1e(n),b=m1e().type(g).size($1e(i,l,n));return b()},f=d.className,h=d.cx,m=d.cy,x=jt(d,!0);return h===+h&&m===+m&&i===+i?B.createElement("path",cA({},x,{className:Lt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:u()})):null};AO.registerSymbol=B1e;function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function dA(){return dA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dA.apply(this,arguments)}function i5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U1e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i5(Object(r),!0).forEach(function(n){ev(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VW(n.key),n)}}function W1e(e,t,r){return t&&z1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H1e(e,t,r){return t=rw(t),G1e(e,UW()?Reflect.construct(t,r||[],rw(e).constructor):t.apply(e,r))}function G1e(e,t){if(t&&(Dm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q1e(e)}function q1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UW=function(){return!!e})()}function rw(e){return rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rw(e)}function K1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uA(e,t)}function uA(e,t){return uA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uA(e,t)}function ev(e,t,r){return t=VW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VW(e){var t=X1e(e,"string");return Dm(t)=="symbol"?t:t+""}function X1e(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pi=32,PO=function(e){function t(){return V1e(this,t),H1e(this,t,arguments)}return K1e(t,e),W1e(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Pi/2,o=Pi/6,l=Pi/3,c=n.inactive?a:n.color;if(n.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Pi,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Pi,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return B.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Pi/8,"h").concat(Pi,"v").concat(Pi*3/4,"h").concat(-Pi,"z"),className:"recharts-legend-icon"});if(B.isValidElement(n.legendIcon)){var d=U1e({},n);return delete d.legendIcon,B.cloneElement(n.legendIcon,d)}return B.createElement(AO,{fill:c,cx:i,cy:i,size:Pi,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:Pi,height:Pi},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,x){var p=m.formatter||c,g=Lt(ev(ev({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=kt(m.value)?null:m.value;Io(!kt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?d:m.color;return B.createElement("li",dA({className:g,style:f,key:"legend-item-".concat(x)},_f(n.props,m,x)),B.createElement(tA,{width:o,height:o,viewBox:u,style:h},n.renderIcon(m)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(b,m,x):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);ev(PO,"displayName","Legend");ev(PO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Y1e=TN;function Q1e(){this.__data__=new Y1e,this.size=0}var Z1e=Q1e;function J1e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var ebe=J1e;function tbe(e){return this.__data__.get(e)}var rbe=tbe;function nbe(e){return this.__data__.has(e)}var sbe=nbe,abe=TN,ibe=xO,obe=gO,lbe=200;function cbe(e,t){var r=this.__data__;if(r instanceof abe){var n=r.__data__;if(!ibe||n.length<lbe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new obe(n)}return r.set(e,t),this.size=r.size,this}var dbe=cbe,ube=TN,fbe=Z1e,hbe=ebe,mbe=rbe,pbe=sbe,xbe=dbe;function Dp(e){var t=this.__data__=new ube(e);this.size=t.size}Dp.prototype.clear=fbe;Dp.prototype.delete=hbe;Dp.prototype.get=mbe;Dp.prototype.has=pbe;Dp.prototype.set=xbe;var zW=Dp,gbe="__lodash_hash_undefined__";function vbe(e){return this.__data__.set(e,gbe),this}var ybe=vbe;function bbe(e){return this.__data__.has(e)}var wbe=bbe,jbe=gO,Nbe=ybe,_be=wbe;function nw(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new jbe;++t<r;)this.add(e[t])}nw.prototype.add=nw.prototype.push=Nbe;nw.prototype.has=_be;var WW=nw;function Sbe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var HW=Sbe;function Cbe(e,t){return e.has(t)}var GW=Cbe,Ebe=WW,Abe=HW,Pbe=GW,Tbe=1,kbe=2;function Obe(e,t,r,n,a,i){var o=r&Tbe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var f=-1,h=!0,m=r&kbe?new Ebe:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var x=e[f],p=t[f];if(n)var g=o?n(p,x,f,t,e,i):n(x,p,f,e,t,i);if(g!==void 0){if(g)continue;h=!1;break}if(m){if(!Abe(t,function(b,y){if(!Pbe(m,y)&&(x===b||a(x,b,r,n,i)))return m.push(y)})){h=!1;break}}else if(!(x===p||a(x,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var qW=Obe,Dbe=zl,Ibe=Dbe.Uint8Array,Rbe=Ibe;function Mbe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Fbe=Mbe;function Lbe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var TO=Lbe,o5=I0,l5=Rbe,$be=pO,Bbe=qW,Ube=Fbe,Vbe=TO,zbe=1,Wbe=2,Hbe="[object Boolean]",Gbe="[object Date]",qbe="[object Error]",Kbe="[object Map]",Xbe="[object Number]",Ybe="[object RegExp]",Qbe="[object Set]",Zbe="[object String]",Jbe="[object Symbol]",ewe="[object ArrayBuffer]",twe="[object DataView]",c5=o5?o5.prototype:void 0,rS=c5?c5.valueOf:void 0;function rwe(e,t,r,n,a,i,o){switch(r){case twe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ewe:return!(e.byteLength!=t.byteLength||!i(new l5(e),new l5(t)));case Hbe:case Gbe:case Xbe:return $be(+e,+t);case qbe:return e.name==t.name&&e.message==t.message;case Ybe:case Zbe:return e==t+"";case Kbe:var l=Ube;case Qbe:var c=n&zbe;if(l||(l=Vbe),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;n|=Wbe,o.set(e,t);var u=Bbe(l(e),l(t),n,a,i,o);return o.delete(e),u;case Jbe:if(rS)return rS.call(e)==rS.call(t)}return!1}var nwe=rwe;function swe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var KW=swe,awe=KW,iwe=Ha;function owe(e,t,r){var n=t(e);return iwe(e)?n:awe(n,r(e))}var lwe=owe;function cwe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var dwe=cwe;function uwe(){return[]}var fwe=uwe,hwe=dwe,mwe=fwe,pwe=Object.prototype,xwe=pwe.propertyIsEnumerable,d5=Object.getOwnPropertySymbols,gwe=d5?function(e){return e==null?[]:(e=Object(e),hwe(d5(e),function(t){return xwe.call(e,t)}))}:mwe,vwe=gwe;function ywe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var bwe=ywe,wwe=Wc,jwe=Hc,Nwe="[object Arguments]";function _we(e){return jwe(e)&&wwe(e)==Nwe}var Swe=_we,u5=Swe,Cwe=Hc,XW=Object.prototype,Ewe=XW.hasOwnProperty,Awe=XW.propertyIsEnumerable,Pwe=u5(function(){return arguments}())?u5:function(e){return Cwe(e)&&Ewe.call(e,"callee")&&!Awe.call(e,"callee")},kO=Pwe,sw={exports:{}};function Twe(){return!1}var kwe=Twe;sw.exports;(function(e,t){var r=zl,n=kwe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;e.exports=d})(sw,sw.exports);var YW=sw.exports,Owe=9007199254740991,Dwe=/^(?:0|[1-9]\d*)$/;function Iwe(e,t){var r=typeof e;return t=t??Owe,!!t&&(r=="number"||r!="symbol"&&Dwe.test(e))&&e>-1&&e%1==0&&e<t}var OO=Iwe,Rwe=9007199254740991;function Mwe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Rwe}var DO=Mwe,Fwe=Wc,Lwe=DO,$we=Hc,Bwe="[object Arguments]",Uwe="[object Array]",Vwe="[object Boolean]",zwe="[object Date]",Wwe="[object Error]",Hwe="[object Function]",Gwe="[object Map]",qwe="[object Number]",Kwe="[object Object]",Xwe="[object RegExp]",Ywe="[object Set]",Qwe="[object String]",Zwe="[object WeakMap]",Jwe="[object ArrayBuffer]",eje="[object DataView]",tje="[object Float32Array]",rje="[object Float64Array]",nje="[object Int8Array]",sje="[object Int16Array]",aje="[object Int32Array]",ije="[object Uint8Array]",oje="[object Uint8ClampedArray]",lje="[object Uint16Array]",cje="[object Uint32Array]",qr={};qr[tje]=qr[rje]=qr[nje]=qr[sje]=qr[aje]=qr[ije]=qr[oje]=qr[lje]=qr[cje]=!0;qr[Bwe]=qr[Uwe]=qr[Jwe]=qr[Vwe]=qr[eje]=qr[zwe]=qr[Wwe]=qr[Hwe]=qr[Gwe]=qr[qwe]=qr[Kwe]=qr[Xwe]=qr[Ywe]=qr[Qwe]=qr[Zwe]=!1;function dje(e){return $we(e)&&Lwe(e.length)&&!!qr[Fwe(e)]}var uje=dje;function fje(e){return function(t){return e(t)}}var QW=fje,aw={exports:{}};aw.exports;(function(e,t){var r=nW,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(aw,aw.exports);var hje=aw.exports,mje=uje,pje=QW,f5=hje,h5=f5&&f5.isTypedArray,xje=h5?pje(h5):mje,ZW=xje,gje=bwe,vje=kO,yje=Ha,bje=YW,wje=OO,jje=ZW,Nje=Object.prototype,_je=Nje.hasOwnProperty;function Sje(e,t){var r=yje(e),n=!r&&vje(e),a=!r&&!n&&bje(e),i=!r&&!n&&!a&&jje(e),o=r||n||a||i,l=o?gje(e.length,String):[],c=l.length;for(var d in e)(t||_je.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||wje(d,c)))&&l.push(d);return l}var Cje=Sje,Eje=Object.prototype;function Aje(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Eje;return e===r}var Pje=Aje;function Tje(e,t){return function(r){return e(t(r))}}var JW=Tje,kje=JW,Oje=kje(Object.keys,Object),Dje=Oje,Ije=Pje,Rje=Dje,Mje=Object.prototype,Fje=Mje.hasOwnProperty;function Lje(e){if(!Ije(e))return Rje(e);var t=[];for(var r in Object(e))Fje.call(e,r)&&r!="constructor"&&t.push(r);return t}var $je=Lje,Bje=mO,Uje=DO;function Vje(e){return e!=null&&Uje(e.length)&&!Bje(e)}var M0=Vje,zje=Cje,Wje=$je,Hje=M0;function Gje(e){return Hje(e)?zje(e):Wje(e)}var qN=Gje,qje=lwe,Kje=vwe,Xje=qN;function Yje(e){return qje(e,Xje,Kje)}var Qje=Yje,m5=Qje,Zje=1,Jje=Object.prototype,eNe=Jje.hasOwnProperty;function tNe(e,t,r,n,a,i){var o=r&Zje,l=m5(e),c=l.length,d=m5(t),u=d.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:eNe.call(t,h)))return!1}var m=i.get(e),x=i.get(t);if(m&&x)return m==t&&x==e;var p=!0;i.set(e,t),i.set(t,e);for(var g=o;++f<c;){h=l[f];var b=e[h],y=t[h];if(n)var j=o?n(y,b,h,t,e,i):n(b,y,h,e,t,i);if(!(j===void 0?b===y||a(b,y,r,n,i):j)){p=!1;break}g||(g=h=="constructor")}if(p&&!g){var w=e.constructor,N=t.constructor;w!=N&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof N=="function"&&N instanceof N)&&(p=!1)}return i.delete(e),i.delete(t),p}var rNe=tNe,nNe=Uf,sNe=zl,aNe=nNe(sNe,"DataView"),iNe=aNe,oNe=Uf,lNe=zl,cNe=oNe(lNe,"Promise"),dNe=cNe,uNe=Uf,fNe=zl,hNe=uNe(fNe,"Set"),eH=hNe,mNe=Uf,pNe=zl,xNe=mNe(pNe,"WeakMap"),gNe=xNe,fA=iNe,hA=xO,mA=dNe,pA=eH,xA=gNe,tH=Wc,Ip=aW,p5="[object Map]",vNe="[object Object]",x5="[object Promise]",g5="[object Set]",v5="[object WeakMap]",y5="[object DataView]",yNe=Ip(fA),bNe=Ip(hA),wNe=Ip(mA),jNe=Ip(pA),NNe=Ip(xA),Cu=tH;(fA&&Cu(new fA(new ArrayBuffer(1)))!=y5||hA&&Cu(new hA)!=p5||mA&&Cu(mA.resolve())!=x5||pA&&Cu(new pA)!=g5||xA&&Cu(new xA)!=v5)&&(Cu=function(e){var t=tH(e),r=t==vNe?e.constructor:void 0,n=r?Ip(r):"";if(n)switch(n){case yNe:return y5;case bNe:return p5;case wNe:return x5;case jNe:return g5;case NNe:return v5}return t});var _Ne=Cu,nS=zW,SNe=qW,CNe=nwe,ENe=rNe,b5=_Ne,w5=Ha,j5=YW,ANe=ZW,PNe=1,N5="[object Arguments]",_5="[object Array]",zy="[object Object]",TNe=Object.prototype,S5=TNe.hasOwnProperty;function kNe(e,t,r,n,a,i){var o=w5(e),l=w5(t),c=o?_5:b5(e),d=l?_5:b5(t);c=c==N5?zy:c,d=d==N5?zy:d;var u=c==zy,f=d==zy,h=c==d;if(h&&j5(e)){if(!j5(t))return!1;o=!0,u=!1}if(h&&!u)return i||(i=new nS),o||ANe(e)?SNe(e,t,r,n,a,i):CNe(e,t,c,r,n,a,i);if(!(r&PNe)){var m=u&&S5.call(e,"__wrapped__"),x=f&&S5.call(t,"__wrapped__");if(m||x){var p=m?e.value():e,g=x?t.value():t;return i||(i=new nS),a(p,g,r,n,i)}}return h?(i||(i=new nS),ENe(e,t,r,n,a,i)):!1}var ONe=kNe,DNe=ONe,C5=Hc;function rH(e,t,r,n,a){return e===t?!0:e==null||t==null||!C5(e)&&!C5(t)?e!==e&&t!==t:DNe(e,t,r,n,rH,a)}var IO=rH,INe=zW,RNe=IO,MNe=1,FNe=2;function LNe(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var f=new INe;if(n)var h=n(d,u,c,e,t,f);if(!(h===void 0?RNe(u,d,MNe|FNe,n,f):h))return!1}}return!0}var $Ne=LNe,BNe=lu;function UNe(e){return e===e&&!BNe(e)}var nH=UNe,VNe=nH,zNe=qN;function WNe(e){for(var t=zNe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,VNe(a)]}return t}var HNe=WNe;function GNe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var sH=GNe,qNe=$Ne,KNe=HNe,XNe=sH;function YNe(e){var t=KNe(e);return t.length==1&&t[0][2]?XNe(t[0][0],t[0][1]):function(r){return r===e||qNe(r,e,t)}}var QNe=YNe;function ZNe(e,t){return e!=null&&t in Object(e)}var JNe=ZNe,e_e=dW,t_e=kO,r_e=Ha,n_e=OO,s_e=DO,a_e=ON;function i_e(e,t,r){t=e_e(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=a_e(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&s_e(a)&&n_e(o,a)&&(r_e(e)||t_e(e)))}var o_e=i_e,l_e=JNe,c_e=o_e;function d_e(e,t){return e!=null&&c_e(e,t,l_e)}var u_e=d_e,f_e=IO,h_e=uW,m_e=u_e,p_e=hO,x_e=nH,g_e=sH,v_e=ON,y_e=1,b_e=2;function w_e(e,t){return p_e(e)&&x_e(t)?g_e(v_e(e),t):function(r){var n=h_e(r,e);return n===void 0&&n===t?m_e(r,e):f_e(t,n,y_e|b_e)}}var j_e=w_e;function N_e(e){return e}var Rp=N_e;function __e(e){return function(t){return t==null?void 0:t[e]}}var S_e=__e,C_e=bO;function E_e(e){return function(t){return C_e(t,e)}}var A_e=E_e,P_e=S_e,T_e=A_e,k_e=hO,O_e=ON;function D_e(e){return k_e(e)?P_e(O_e(e)):T_e(e)}var I_e=D_e,R_e=QNe,M_e=j_e,F_e=Rp,L_e=Ha,$_e=I_e;function B_e(e){return typeof e=="function"?e:e==null?F_e:typeof e=="object"?L_e(e)?M_e(e[0],e[1]):R_e(e):$_e(e)}var Wl=B_e;function U_e(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var aH=U_e;function V_e(e){return e!==e}var z_e=V_e;function W_e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var H_e=W_e,G_e=aH,q_e=z_e,K_e=H_e;function X_e(e,t,r){return t===t?K_e(e,t,r):G_e(e,q_e,r)}var Y_e=X_e,Q_e=Y_e;function Z_e(e,t){var r=e==null?0:e.length;return!!r&&Q_e(e,t,0)>-1}var J_e=Z_e;function e2e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var t2e=e2e;function r2e(){}var n2e=r2e,sS=eH,s2e=n2e,a2e=TO,i2e=1/0,o2e=sS&&1/a2e(new sS([,-0]))[1]==i2e?function(e){return new sS(e)}:s2e,l2e=o2e,c2e=WW,d2e=J_e,u2e=t2e,f2e=GW,h2e=l2e,m2e=TO,p2e=200;function x2e(e,t,r){var n=-1,a=d2e,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=u2e;else if(i>=p2e){var d=t?null:h2e(e);if(d)return m2e(d);o=!1,a=f2e,c=new c2e}else c=t?[]:l;e:for(;++n<i;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(u)}else a(c,f,r)||(c!==l&&c.push(f),l.push(u))}return l}var g2e=x2e,v2e=Wl,y2e=g2e;function b2e(e,t){return e&&e.length?y2e(e,v2e(t)):[]}var w2e=b2e;const E5=br(w2e);function iH(e,t,r){return t===!0?E5(e,r):kt(t)?E5(e,t):e}function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}var j2e=["ref"];function A5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A5(Object(r),!0).forEach(function(n){KN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lH(n.key),n)}}function _2e(e,t,r){return t&&P5(e.prototype,t),r&&P5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function S2e(e,t,r){return t=iw(t),C2e(e,oH()?Reflect.construct(t,r||[],iw(e).constructor):t.apply(e,r))}function C2e(e,t){if(t&&(Im(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E2e(e)}function E2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oH=function(){return!!e})()}function iw(e){return iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iw(e)}function A2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gA(e,t)}function gA(e,t){return gA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gA(e,t)}function KN(e,t,r){return t=lH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lH(e){var t=P2e(e,"string");return Im(t)=="symbol"?t:t+""}function P2e(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T2e(e,t){if(e==null)return{};var r=k2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function O2e(e){return e.value}function D2e(e,t){if(B.isValidElement(e))return B.cloneElement(e,t);if(typeof e=="function")return B.createElement(e,t);t.ref;var r=T2e(t,j2e);return B.createElement(PO,r)}var T5=1,Ro=function(e){function t(){var r;N2e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=S2e(this,t,[].concat(a)),KN(r,"lastBoundingBox",{width:-1,height:-1}),r}return A2e(t,e),_2e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>T5||Math.abs(a.height-this.lastBoundingBox.height)>T5)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Yl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((d||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();h={top:((u||0)-x.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Yl(Yl({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,f=Yl(Yl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return B.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},D2e(i,Yl(Yl({},this.props),{},{payload:iH(u,d,O2e)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Yl(Yl({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&He(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(v.PureComponent);KN(Ro,"displayName","Legend");KN(Ro,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var k5=I0,I2e=kO,R2e=Ha,O5=k5?k5.isConcatSpreadable:void 0;function M2e(e){return R2e(e)||I2e(e)||!!(O5&&e&&e[O5])}var F2e=M2e,L2e=KW,$2e=F2e;function cH(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=$2e),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?cH(l,t-1,r,n,a):L2e(a,l):n||(a[a.length]=l)}return a}var dH=cH;function B2e(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var U2e=B2e,V2e=U2e,z2e=V2e(),W2e=z2e,H2e=W2e,G2e=qN;function q2e(e,t){return e&&H2e(e,t,G2e)}var uH=q2e,K2e=M0;function X2e(e,t){return function(r,n){if(r==null)return r;if(!K2e(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var Y2e=X2e,Q2e=uH,Z2e=Y2e,J2e=Z2e(Q2e),RO=J2e,eSe=RO,tSe=M0;function rSe(e,t){var r=-1,n=tSe(e)?Array(e.length):[];return eSe(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var fH=rSe;function nSe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var sSe=nSe,D5=Ep;function aSe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=D5(e),o=t!==void 0,l=t===null,c=t===t,d=D5(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!d&&e<t||d&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var iSe=aSe,oSe=iSe;function lSe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=oSe(a[n],i[n]);if(c){if(n>=l)return c;var d=r[n];return c*(d=="desc"?-1:1)}}return e.index-t.index}var cSe=lSe,aS=yO,dSe=bO,uSe=Wl,fSe=fH,hSe=sSe,mSe=QW,pSe=cSe,xSe=Rp,gSe=Ha;function vSe(e,t,r){t.length?t=aS(t,function(i){return gSe(i)?function(o){return dSe(o,i.length===1?i[0]:i)}:i}):t=[xSe];var n=-1;t=aS(t,mSe(uSe));var a=fSe(e,function(i,o,l){var c=aS(t,function(d){return d(i)});return{criteria:c,index:++n,value:i}});return hSe(a,function(i,o){return pSe(i,o,r)})}var ySe=vSe;function bSe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var wSe=bSe,jSe=wSe,I5=Math.max;function NSe(e,t,r){return t=I5(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=I5(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),jSe(e,this,l)}}var _Se=NSe;function SSe(e){return function(){return e}}var CSe=SSe,ESe=Uf,ASe=function(){try{var e=ESe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),hH=ASe,PSe=CSe,R5=hH,TSe=Rp,kSe=R5?function(e,t){return R5(e,"toString",{configurable:!0,enumerable:!1,value:PSe(t),writable:!0})}:TSe,OSe=kSe,DSe=800,ISe=16,RSe=Date.now;function MSe(e){var t=0,r=0;return function(){var n=RSe(),a=ISe-(n-r);if(r=n,a>0){if(++t>=DSe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var FSe=MSe,LSe=OSe,$Se=FSe,BSe=$Se(LSe),USe=BSe,VSe=Rp,zSe=_Se,WSe=USe;function HSe(e,t){return WSe(zSe(e,t,VSe),e+"")}var GSe=HSe,qSe=pO,KSe=M0,XSe=OO,YSe=lu;function QSe(e,t,r){if(!YSe(r))return!1;var n=typeof t;return(n=="number"?KSe(r)&&XSe(t,r.length):n=="string"&&t in r)?qSe(r[t],e):!1}var XN=QSe,ZSe=dH,JSe=ySe,eCe=GSe,M5=XN,tCe=eCe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&M5(e,t[0],t[1])?t=[]:r>2&&M5(t[0],t[1],t[2])&&(t=[t[0]]),JSe(e,ZSe(t,1),[])}),rCe=tCe;const MO=br(rCe);function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}function vA(){return vA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vA.apply(this,arguments)}function nCe(e,t){return oCe(e)||iCe(e,t)||aCe(e,t)||sCe()}function sCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aCe(e,t){if(e){if(typeof e=="string")return F5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F5(e,t)}}function F5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function oCe(e){if(Array.isArray(e))return e}function L5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L5(Object(r),!0).forEach(function(n){lCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lCe(e,t,r){return t=cCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cCe(e){var t=dCe(e,"string");return tv(t)=="symbol"?t:t+""}function dCe(e,t){if(tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uCe(e){return Array.isArray(e)&&Xn(e[0])&&Xn(e[1])?e.join(" ~ "):e}var fCe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,x=t.labelClassName,p=t.label,g=t.labelFormatter,b=t.accessibilityLayer,y=b===void 0?!1:b,j=function(){if(u&&u.length){var D={padding:0,margin:0},U=(h?MO(u,h):u).map(function(F,M){if(F.type==="none")return null;var O=iS({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},l),A=F.formatter||f||uCe,k=F.value,W=F.name,fe=k,de=W;if(A&&fe!=null&&de!=null){var T=A(k,W,F,M,u);if(Array.isArray(T)){var L=nCe(T,2);fe=L[0],de=L[1]}else fe=T}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:O},Xn(de)?B.createElement("span",{className:"recharts-tooltip-item-name"},de):null,Xn(de)?B.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,B.createElement("span",{className:"recharts-tooltip-item-value"},fe),B.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:D},U)}return null},w=iS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=iS({margin:0},d),_=!Mt(p),C=_?p:"",S=Lt("recharts-default-tooltip",m),E=Lt("recharts-tooltip-label",x);_&&g&&u!==void 0&&u!==null&&(C=g(p,u));var P=y?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",vA({className:S,style:w},P),B.createElement("p",{className:E,style:N},B.isValidElement(C)?C:"".concat(C)),j())};function rv(e){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(e)}function Wy(e,t,r){return t=hCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hCe(e){var t=mCe(e,"string");return rv(t)=="symbol"?t:t+""}function mCe(e,t){if(rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vx="recharts-tooltip-wrapper",pCe={visibility:"hidden"};function xCe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Lt(vx,Wy(Wy(Wy(Wy({},"".concat(vx,"-right"),He(r)&&t&&He(t.x)&&r>=t.x),"".concat(vx,"-left"),He(r)&&t&&He(t.x)&&r<t.x),"".concat(vx,"-bottom"),He(n)&&t&&He(t.y)&&n>=t.y),"".concat(vx,"-top"),He(n)&&t&&He(t.y)&&n<t.y))}function $5(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&He(i[n]))return i[n];var u=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?u:f;if(o[n]){var h=u,m=c[n];return h<m?Math.max(f,c[n]):Math.max(u,c[n])}var x=f+l,p=c[n]+d;return x>p?Math.max(u,c[n]):Math.max(f,c[n])}function gCe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function vCe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,f;return o.height>0&&o.width>0&&r?(u=$5({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=$5({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=gCe({translateX:u,translateY:f,useTranslate3d:l})):d=pCe,{cssProperties:d,cssClasses:xCe({translateX:u,translateY:f,coordinate:r})}}function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function B5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B5(Object(r),!0).forEach(function(n){bA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pH(n.key),n)}}function wCe(e,t,r){return t&&bCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jCe(e,t,r){return t=ow(t),NCe(e,mH()?Reflect.construct(t,r||[],ow(e).constructor):t.apply(e,r))}function NCe(e,t){if(t&&(Rm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ce(e)}function _Ce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mH=function(){return!!e})()}function ow(e){return ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ow(e)}function SCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yA(e,t)}function yA(e,t){return yA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yA(e,t)}function bA(e,t,r){return t=pH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pH(e){var t=CCe(e,"string");return Rm(t)=="symbol"?t:t+""}function CCe(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V5=1,ECe=function(e){function t(){var r;yCe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=jCe(this,t,[].concat(a)),bA(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),bA(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return SCe(t,e),wCe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>V5||Math.abs(n.height-this.state.lastBoundingBox.height)>V5)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,x=a.position,p=a.reverseDirection,g=a.useTranslate3d,b=a.viewBox,y=a.wrapperStyle,j=vCe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:m,position:x,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:b}),w=j.cssClasses,N=j.cssProperties,_=U5(U5({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return B.createElement("div",{tabIndex:-1,className:w,style:_,ref:function(S){n.wrapperNode=S}},d)}}])}(v.PureComponent),ACe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Mo={isSsr:ACe(),get:function(t){return Mo[t]},set:function(t,r){if(typeof t=="string")Mo[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Mo[a]=t[a]})}}};function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function z5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z5(Object(r),!0).forEach(function(n){FO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gH(n.key),n)}}function kCe(e,t,r){return t&&TCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OCe(e,t,r){return t=lw(t),DCe(e,xH()?Reflect.construct(t,r||[],lw(e).constructor):t.apply(e,r))}function DCe(e,t){if(t&&(Mm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ICe(e)}function ICe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xH=function(){return!!e})()}function lw(e){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lw(e)}function RCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wA(e,t)}function wA(e,t){return wA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wA(e,t)}function FO(e,t,r){return t=gH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gH(e){var t=MCe(e,"string");return Mm(t)=="symbol"?t:t+""}function MCe(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FCe(e){return e.dataKey}function LCe(e,t){return B.isValidElement(e)?B.cloneElement(e,t):typeof e=="function"?B.createElement(e,t):B.createElement(fCe,t)}var Hn=function(e){function t(){return PCe(this,t),OCe(this,t,arguments)}return RCe(t,e),kCe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,x=a.payload,p=a.payloadUniqBy,g=a.position,b=a.reverseDirection,y=a.useTranslate3d,j=a.viewBox,w=a.wrapperStyle,N=x??[];f&&N.length&&(N=iH(x.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),p,FCe));var _=N.length>0;return B.createElement(ECe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:u,hasPayload:_,offset:m,position:g,reverseDirection:b,useTranslate3d:y,viewBox:j,wrapperStyle:w},LCe(d,W5(W5({},this.props),{},{payload:N})))}}])}(v.PureComponent);FO(Hn,"displayName","Tooltip");FO(Hn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Mo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var $Ce=zl,BCe=function(){return $Ce.Date.now()},UCe=BCe,VCe=/\s/;function zCe(e){for(var t=e.length;t--&&VCe.test(e.charAt(t)););return t}var WCe=zCe,HCe=WCe,GCe=/^\s+/;function qCe(e){return e&&e.slice(0,HCe(e)+1).replace(GCe,"")}var KCe=qCe,XCe=KCe,H5=lu,YCe=Ep,G5=NaN,QCe=/^[-+]0x[0-9a-f]+$/i,ZCe=/^0b[01]+$/i,JCe=/^0o[0-7]+$/i,eEe=parseInt;function tEe(e){if(typeof e=="number")return e;if(YCe(e))return G5;if(H5(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=H5(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=XCe(e);var r=ZCe.test(e);return r||JCe.test(e)?eEe(e.slice(2),r?2:8):QCe.test(e)?G5:+e}var vH=tEe,rEe=lu,oS=UCe,q5=vH,nEe="Expected a function",sEe=Math.max,aEe=Math.min;function iEe(e,t,r){var n,a,i,o,l,c,d=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(nEe);t=q5(t)||0,rEe(r)&&(u=!!r.leading,f="maxWait"in r,i=f?sEe(q5(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(_){var C=n,S=a;return n=a=void 0,d=_,o=e.apply(S,C),o}function x(_){return d=_,l=setTimeout(b,t),u?m(_):o}function p(_){var C=_-c,S=_-d,E=t-C;return f?aEe(E,i-S):E}function g(_){var C=_-c,S=_-d;return c===void 0||C>=t||C<0||f&&S>=i}function b(){var _=oS();if(g(_))return y(_);l=setTimeout(b,p(_))}function y(_){return l=void 0,h&&n?m(_):(n=a=void 0,o)}function j(){l!==void 0&&clearTimeout(l),d=0,n=c=a=l=void 0}function w(){return l===void 0?o:y(oS())}function N(){var _=oS(),C=g(_);if(n=arguments,a=this,c=_,C){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),o}return N.cancel=j,N.flush=w,N}var oEe=iEe,lEe=oEe,cEe=lu,dEe="Expected a function";function uEe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(dEe);return cEe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),lEe(e,t,{leading:n,maxWait:t,trailing:a})}var fEe=uEe;const yH=br(fEe);function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function K5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K5(Object(r),!0).forEach(function(n){hEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hEe(e,t,r){return t=mEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mEe(e){var t=pEe(e,"string");return nv(t)=="symbol"?t:t+""}function pEe(e,t){if(nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xEe(e,t){return bEe(e)||yEe(e,t)||vEe(e,t)||gEe()}function gEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vEe(e,t){if(e){if(typeof e=="string")return X5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X5(e,t)}}function X5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function bEe(e){if(Array.isArray(e))return e}var Cl=v.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,f=e.minHeight,h=e.maxHeight,m=e.children,x=e.debounce,p=x===void 0?0:x,g=e.id,b=e.className,y=e.onResize,j=e.style,w=j===void 0?{}:j,N=v.useRef(null),_=v.useRef();_.current=y,v.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var C=v.useState({containerWidth:a.width,containerHeight:a.height}),S=xEe(C,2),E=S[0],P=S[1],I=v.useCallback(function(U,F){P(function(M){var O=Math.round(U),A=Math.round(F);return M.containerWidth===O&&M.containerHeight===A?M:{containerWidth:O,containerHeight:A}})},[]);v.useEffect(function(){var U=function(W){var fe,de=W[0].contentRect,T=de.width,L=de.height;I(T,L),(fe=_.current)===null||fe===void 0||fe.call(_,T,L)};p>0&&(U=yH(U,p,{trailing:!0,leading:!1}));var F=new ResizeObserver(U),M=N.current.getBoundingClientRect(),O=M.width,A=M.height;return I(O,A),F.observe(N.current),function(){F.disconnect()}},[I,p]);var D=v.useMemo(function(){var U=E.containerWidth,F=E.containerHeight;if(U<0||F<0)return null;Io(Uu(o)||Uu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Io(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=Uu(o)?U:o,O=Uu(c)?F:c;r&&r>0&&(M?O=M/r:O&&(M=O*r),h&&O>h&&(O=h)),Io(M>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,O,o,c,u,f,r);var A=!Array.isArray(m)&&vc(m.type).endsWith("Chart");return B.Children.map(m,function(k){return mW.isElement(k)?v.cloneElement(k,Hy({width:M,height:O},A?{style:Hy({height:"100%",width:"100%",maxHeight:O,maxWidth:M},k.props.style)}:{})):k})},[r,m,c,h,f,u,E,o]);return B.createElement("div",{id:g?"".concat(g):void 0,className:Lt("recharts-responsive-container",b),style:Hy(Hy({},w),{},{width:o,height:c,minWidth:u,minHeight:f,maxHeight:h}),ref:N},D)}),F0=function(t){return null};F0.displayName="Cell";function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function Y5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y5(Object(r),!0).forEach(function(n){wEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wEe(e,t,r){return t=jEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jEe(e){var t=NEe(e,"string");return sv(t)=="symbol"?t:t+""}function NEe(e,t){if(sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oh={widthCache:{},cacheCount:0},_Ee=2e3,SEe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Q5="recharts_measurement_span";function CEe(e){var t=jA({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ng=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Mo.isSsr)return{width:0,height:0};var n=CEe(r),a=JSON.stringify({text:t,copyStyle:n});if(oh.widthCache[a])return oh.widthCache[a];try{var i=document.getElementById(Q5);i||(i=document.createElement("span"),i.setAttribute("id",Q5),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=jA(jA({},SEe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return oh.widthCache[a]=c,++oh.cacheCount>_Ee&&(oh.cacheCount=0,oh.widthCache={}),c}catch{return{width:0,height:0}}},EEe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}function cw(e,t){return kEe(e)||TEe(e,t)||PEe(e,t)||AEe()}function AEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PEe(e,t){if(e){if(typeof e=="string")return Z5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z5(e,t)}}function Z5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function kEe(e){if(Array.isArray(e))return e}function OEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IEe(n.key),n)}}function DEe(e,t,r){return t&&J5(e.prototype,t),r&&J5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IEe(e){var t=REe(e,"string");return av(t)=="symbol"?t:t+""}function REe(e,t){if(av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MEe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,FEe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},LEe=Object.keys(bH),Th="NaN";function $Ee(e,t){return e*bH[t]}var Gy=function(){function e(t,r){OEe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!MEe.test(r)&&(this.num=NaN,this.unit=""),LEe.includes(r)&&(this.num=$Ee(t,r),this.unit="px")}return DEe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=FEe.exec(r))!==null&&n!==void 0?n:[],i=cw(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function wH(e){if(e.includes(Th))return Th;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=eM.exec(t))!==null&&r!==void 0?r:[],a=cw(n,4),i=a[1],o=a[2],l=a[3],c=Gy.parse(i??""),d=Gy.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Th;t=t.replace(eM,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=tM.exec(t))!==null&&f!==void 0?f:[],m=cw(h,4),x=m[1],p=m[2],g=m[3],b=Gy.parse(x??""),y=Gy.parse(g??""),j=p==="+"?b.add(y):b.subtract(y);if(j.isNaN())return Th;t=t.replace(tM,j.toString())}return t}var rM=/\(([^()]*)\)/;function BEe(e){for(var t=e;t.includes("(");){var r=rM.exec(t),n=cw(r,2),a=n[1];t=t.replace(rM,wH(a))}return t}function UEe(e){var t=e.replace(/\s+/g,"");return t=BEe(t),t=wH(t),t}function VEe(e){try{return UEe(e)}catch{return Th}}function lS(e){var t=VEe(e.slice(5,-1));return t===Th?"":t}var zEe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],WEe=["dx","dy","angle","className","breakAll"];function NA(){return NA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NA.apply(this,arguments)}function nM(e,t){if(e==null)return{};var r=HEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sM(e,t){return XEe(e)||KEe(e,t)||qEe(e,t)||GEe()}function GEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qEe(e,t){if(e){if(typeof e=="string")return aM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aM(e,t)}}function aM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function XEe(e){if(Array.isArray(e))return e}var jH=/[ \f\n\r\t\v\u2028\u2029]+/,NH=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Mt(r)||(n?i=r.toString().split(""):i=r.toString().split(jH));var o=i.map(function(c){return{word:c,width:ng(c,a).width}}),l=n?0:ng("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},YEe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=He(o),f=l,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(O,A){var k=A.word,W=A.width,fe=O[O.length-1];if(fe&&(a==null||i||fe.width+W+n<Number(a)))fe.words.push(k),fe.width+=W+n;else{var de={words:[k],width:W};O.push(de)}return O},[])},m=h(r),x=function(M){return M.reduce(function(O,A){return O.width>A.width?O:A})};if(!u)return m;for(var p="",g=function(M){var O=f.slice(0,M),A=NH({breakAll:d,style:c,children:O+p}).wordsWithComputedWidth,k=h(A),W=k.length>o||x(k).width>Number(a);return[W,k]},b=0,y=f.length-1,j=0,w;b<=y&&j<=f.length-1;){var N=Math.floor((b+y)/2),_=N-1,C=g(_),S=sM(C,2),E=S[0],P=S[1],I=g(N),D=sM(I,1),U=D[0];if(!E&&!U&&(b=N+1),E&&U&&(y=N-1),!E&&U){w=P;break}j++}return w||m},iM=function(t){var r=Mt(t)?[]:t.toString().split(jH);return[{words:r}]},QEe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Mo.isSsr){var c,d,u=NH({breakAll:o,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;c=f,d=h}else return iM(a);return YEe({breakAll:o,children:a,maxLines:l,style:i},c,d,r,n)}return iM(a)},oM="#808080",Sf=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,m=h===void 0?"start":h,x=t.verticalAnchor,p=x===void 0?"end":x,g=t.fill,b=g===void 0?oM:g,y=nM(t,zEe),j=v.useMemo(function(){return QEe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),w=y.dx,N=y.dy,_=y.angle,C=y.className,S=y.breakAll,E=nM(y,WEe);if(!Xn(n)||!Xn(i))return null;var P=n+(He(w)?w:0),I=i+(He(N)?N:0),D;switch(p){case"start":D=lS("calc(".concat(d,")"));break;case"middle":D=lS("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:D=lS("calc(".concat(j.length-1," * -").concat(l,")"));break}var U=[];if(f){var F=j[0].width,M=y.width;U.push("scale(".concat((He(M)?M/F:1)/F,")"))}return _&&U.push("rotate(".concat(_,", ").concat(P,", ").concat(I,")")),U.length&&(E.transform=U.join(" ")),B.createElement("text",NA({},jt(E,!0),{x:P,y:I,className:Lt("recharts-text",C),textAnchor:m,fill:b.includes("url")?oM:b}),j.map(function(O,A){var k=O.words.join(S?"":" ");return B.createElement("tspan",{x:P,dy:A===0?D:l,key:"".concat(k,"-").concat(A)},k)}))};function $d(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ZEe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function LO(e){let t,r,n;e.length!==2?(t=$d,r=(l,c)=>$d(e(l),c),n=(l,c)=>e(l)-c):(t=e===$d||e===ZEe?e:JEe,r=e,n=e);function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){const f=a(l,c,d,u-1);return f>d&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function JEe(){return 0}function _H(e){return e===null?NaN:+e}function*eAe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const tAe=LO($d),L0=tAe.right;LO(_H).center;class lM extends Map{constructor(t,r=sAe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(cM(this,t))}has(t){return super.has(cM(this,t))}set(t,r){return super.set(rAe(this,t),r)}delete(t){return super.delete(nAe(this,t))}}function cM({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function rAe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function nAe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function sAe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function aAe(e=$d){if(e===$d)return SH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function SH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const iAe=Math.sqrt(50),oAe=Math.sqrt(10),lAe=Math.sqrt(2);function dw(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=iAe?10:i>=oAe?5:i>=lAe?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?dw(e,t,r*2):[l,c,d]}function _A(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?dw(t,e,r):dw(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function SA(e,t,r){return t=+t,e=+e,r=+r,dw(e,t,r)[2]}function CA(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?SA(t,e,r):SA(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function dM(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function uM(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function CH(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?SH:aAe(a);n>r;){if(n-r>600){const c=n-r+1,d=t-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),m=Math.max(r,Math.floor(t-d*f/c+h)),x=Math.min(n,Math.floor(t+(c-d)*f/c+h));CH(e,t,m,x,a)}const i=e[t];let o=r,l=n;for(yx(e,r,t),a(e[n],i)>0&&yx(e,r,n);o<l;){for(yx(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?yx(e,r,l):(++l,yx(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function yx(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function cAe(e,t,r){if(e=Float64Array.from(eAe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return uM(e);if(t>=1)return dM(e);var n,a=(n-1)*t,i=Math.floor(a),o=dM(CH(e,i).subarray(0,i+1)),l=uM(e.subarray(i+1));return o+(l-o)*(a-i)}}function dAe(e,t,r=_H){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function uAe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function lo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Gc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const EA=Symbol("implicit");function $O(){var e=new lM,t=[],r=[],n=EA;function a(i){let o=e.get(i);if(o===void 0){if(n!==EA)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new lM;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return $O(t,r).unknown(n)},lo.apply(a,arguments),a}function iv(){var e=$O().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var h=t().length,m=a<n,x=m?a:n,p=m?n:a;i=(p-x)/Math.max(1,h-c+d*2),l&&(i=Math.floor(i)),x+=(p-x-i*(h-c))*u,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var g=uAe(h).map(function(b){return x+i*b});return r(m?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(d=+h,f()):d},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return iv(t(),[n,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},lo.apply(f(),arguments)}function EH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return EH(t())},e}function sg(){return EH(iv.apply(null,arguments).paddingInner(1))}function BO(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function AH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function $0(){}var ov=.7,uw=1/ov,Xh="\\s*([+-]?\\d+)\\s*",lv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",El="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fAe=/^#([0-9a-f]{3,8})$/,hAe=new RegExp(`^rgb\\(${Xh},${Xh},${Xh}\\)$`),mAe=new RegExp(`^rgb\\(${El},${El},${El}\\)$`),pAe=new RegExp(`^rgba\\(${Xh},${Xh},${Xh},${lv}\\)$`),xAe=new RegExp(`^rgba\\(${El},${El},${El},${lv}\\)$`),gAe=new RegExp(`^hsl\\(${lv},${El},${El}\\)$`),vAe=new RegExp(`^hsla\\(${lv},${El},${El},${lv}\\)$`),fM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BO($0,cv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:hM,formatHex:hM,formatHex8:yAe,formatHsl:bAe,formatRgb:mM,toString:mM});function hM(){return this.rgb().formatHex()}function yAe(){return this.rgb().formatHex8()}function bAe(){return PH(this).formatHsl()}function mM(){return this.rgb().formatRgb()}function cv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=fAe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?pM(t):r===3?new Pa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?qy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?qy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hAe.exec(e))?new Pa(t[1],t[2],t[3],1):(t=mAe.exec(e))?new Pa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pAe.exec(e))?qy(t[1],t[2],t[3],t[4]):(t=xAe.exec(e))?qy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=gAe.exec(e))?vM(t[1],t[2]/100,t[3]/100,1):(t=vAe.exec(e))?vM(t[1],t[2]/100,t[3]/100,t[4]):fM.hasOwnProperty(e)?pM(fM[e]):e==="transparent"?new Pa(NaN,NaN,NaN,0):null}function pM(e){return new Pa(e>>16&255,e>>8&255,e&255,1)}function qy(e,t,r,n){return n<=0&&(e=t=r=NaN),new Pa(e,t,r,n)}function wAe(e){return e instanceof $0||(e=cv(e)),e?(e=e.rgb(),new Pa(e.r,e.g,e.b,e.opacity)):new Pa}function AA(e,t,r,n){return arguments.length===1?wAe(e):new Pa(e,t,r,n??1)}function Pa(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}BO(Pa,AA,AH($0,{brighter(e){return e=e==null?uw:Math.pow(uw,e),new Pa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ov:Math.pow(ov,e),new Pa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Pa(rf(this.r),rf(this.g),rf(this.b),fw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xM,formatHex:xM,formatHex8:jAe,formatRgb:gM,toString:gM}));function xM(){return`#${Vu(this.r)}${Vu(this.g)}${Vu(this.b)}`}function jAe(){return`#${Vu(this.r)}${Vu(this.g)}${Vu(this.b)}${Vu((isNaN(this.opacity)?1:this.opacity)*255)}`}function gM(){const e=fw(this.opacity);return`${e===1?"rgb(":"rgba("}${rf(this.r)}, ${rf(this.g)}, ${rf(this.b)}${e===1?")":`, ${e})`}`}function fw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function rf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vu(e){return e=rf(e),(e<16?"0":"")+e.toString(16)}function vM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new So(e,t,r,n)}function PH(e){if(e instanceof So)return new So(e.h,e.s,e.l,e.opacity);if(e instanceof $0||(e=cv(e)),!e)return new So;if(e instanceof So)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new So(o,l,c,e.opacity)}function NAe(e,t,r,n){return arguments.length===1?PH(e):new So(e,t,r,n??1)}function So(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}BO(So,NAe,AH($0,{brighter(e){return e=e==null?uw:Math.pow(uw,e),new So(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ov:Math.pow(ov,e),new So(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Pa(cS(e>=240?e-240:e+120,a,n),cS(e,a,n),cS(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new So(yM(this.h),Ky(this.s),Ky(this.l),fw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fw(this.opacity);return`${e===1?"hsl(":"hsla("}${yM(this.h)}, ${Ky(this.s)*100}%, ${Ky(this.l)*100}%${e===1?")":`, ${e})`}`}}));function yM(e){return e=(e||0)%360,e<0?e+360:e}function Ky(e){return Math.max(0,Math.min(1,e||0))}function cS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const UO=e=>()=>e;function _Ae(e,t){return function(r){return e+r*t}}function SAe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function CAe(e){return(e=+e)==1?TH:function(t,r){return r-t?SAe(t,r,e):UO(isNaN(t)?r:t)}}function TH(e,t){var r=t-e;return r?_Ae(e,r):UO(isNaN(e)?t:e)}const bM=function e(t){var r=CAe(t);function n(a,i){var o=r((a=AA(a)).r,(i=AA(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=TH(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return n.gamma=e,n}(1);function EAe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function AAe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function PAe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Mp(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function TAe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function hw(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function kAe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Mp(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var PA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dS=new RegExp(PA.source,"g");function OAe(e){return function(){return e}}function DAe(e){return function(t){return e(t)+""}}function IAe(e,t){var r=PA.lastIndex=dS.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=PA.exec(e))&&(a=dS.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:hw(n,a)})),r=dS.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?DAe(c[0].x):OAe(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function Mp(e,t){var r=typeof t,n;return t==null||r==="boolean"?UO(t):(r==="number"?hw:r==="string"?(n=cv(t))?(t=n,bM):IAe:t instanceof cv?bM:t instanceof Date?TAe:AAe(t)?EAe:Array.isArray(t)?PAe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kAe:hw)(e,t)}function VO(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function RAe(e,t){t===void 0&&(t=e,e=Mp);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function MAe(e){return function(){return e}}function mw(e){return+e}var wM=[0,1];function ua(e){return e}function TA(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:MAe(isNaN(t)?NaN:.5)}function FAe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function LAe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=TA(a,n),i=r(o,i)):(n=TA(n,a),i=r(i,o)),function(l){return i(n(l))}}function $Ae(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=TA(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=L0(e,l,1,n)-1;return i[c](a[c](l))}}function B0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function YN(){var e=wM,t=wM,r=Mp,n,a,i,o=ua,l,c,d;function u(){var h=Math.min(e.length,t.length);return o!==ua&&(o=FAe(e[0],e[h-1])),l=h>2?$Ae:LAe,c=d=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((d||(d=l(t,e.map(n),hw)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,mw),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=VO,u()},f.clamp=function(h){return arguments.length?(o=h?!0:ua,u()):o!==ua},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,u()}}function zO(){return YN()(ua,ua)}function BAe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function pw(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Fm(e){return e=pw(Math.abs(e)),e?e[1]:NaN}function UAe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function VAe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var zAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dv(e){if(!(t=zAe.exec(e)))throw new Error("invalid format: "+e);var t;return new WO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dv.prototype=WO.prototype;function WO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}WO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function WAe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var kH;function HAe(e,t){var r=pw(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(kH=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+pw(e,Math.max(0,t+i-1))[0]}function jM(e,t){var r=pw(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const NM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:BAe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>jM(e*100,t),r:jM,s:HAe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _M(e){return e}var SM=Array.prototype.map,CM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function GAe(e){var t=e.grouping===void 0||e.thousands===void 0?_M:UAe(SM.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?_M:VAe(SM.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=dv(f);var h=f.fill,m=f.align,x=f.sign,p=f.symbol,g=f.zero,b=f.width,y=f.comma,j=f.precision,w=f.trim,N=f.type;N==="n"?(y=!0,N="g"):NM[N]||(j===void 0&&(j=12),w=!0,N="g"),(g||h==="0"&&m==="=")&&(g=!0,h="0",m="=");var _=p==="$"?r:p==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",C=p==="$"?n:/[%p]/.test(N)?o:"",S=NM[N],E=/[defgprs%]/.test(N);j=j===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function P(I){var D=_,U=C,F,M,O;if(N==="c")U=S(I)+U,I="";else{I=+I;var A=I<0||1/I<0;if(I=isNaN(I)?c:S(Math.abs(I),j),w&&(I=WAe(I)),A&&+I==0&&x!=="+"&&(A=!1),D=(A?x==="("?x:l:x==="-"||x==="("?"":x)+D,U=(N==="s"?CM[8+kH/3]:"")+U+(A&&x==="("?")":""),E){for(F=-1,M=I.length;++F<M;)if(O=I.charCodeAt(F),48>O||O>57){U=(O===46?a+I.slice(F+1):I.slice(F))+U,I=I.slice(0,F);break}}}y&&!g&&(I=t(I,1/0));var k=D.length+I.length+U.length,W=k<b?new Array(b-k+1).join(h):"";switch(y&&g&&(I=t(W+I,W.length?b-U.length:1/0),W=""),m){case"<":I=D+I+U+W;break;case"=":I=D+W+I+U;break;case"^":I=W.slice(0,k=W.length>>1)+D+I+U+W.slice(k);break;default:I=W+D+I+U;break}return i(I)}return P.toString=function(){return f+""},P}function u(f,h){var m=d((f=dv(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(Fm(h)/3)))*3,p=Math.pow(10,-x),g=CM[8+x/3];return function(b){return m(p*b)+g}}return{format:d,formatPrefix:u}}var Xy,HO,OH;qAe({thousands:",",grouping:[3],currency:["$",""]});function qAe(e){return Xy=GAe(e),HO=Xy.format,OH=Xy.formatPrefix,Xy}function KAe(e){return Math.max(0,-Fm(Math.abs(e)))}function XAe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fm(t)/3)))*3-Fm(Math.abs(e)))}function YAe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fm(t)-Fm(e))+1}function DH(e,t,r,n){var a=CA(e,t,r),i;switch(n=dv(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=XAe(a,o))&&(n.precision=i),OH(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=YAe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=KAe(a))&&(n.precision=i-(n.type==="%")*2);break}}return HO(n)}function cu(e){var t=e.domain;return e.ticks=function(r){var n=t();return _A(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return DH(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=SA(o,l,r),d===c)return n[a]=o,n[i]=l,t(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function xw(){var e=zO();return e.copy=function(){return B0(e,xw())},lo.apply(e,arguments),cu(e)}function IH(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,mw),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return IH(e).unknown(t)},e=arguments.length?Array.from(e,mw):[0,1],cu(r)}function RH(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function EM(e){return Math.log(e)}function AM(e){return Math.exp(e)}function QAe(e){return-Math.log(-e)}function ZAe(e){return-Math.exp(-e)}function JAe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ePe(e){return e===10?JAe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function tPe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function PM(e){return(t,r)=>-e(-t,r)}function GO(e){const t=e(EM,AM),r=t.domain;let n=10,a,i;function o(){return a=tPe(n),i=ePe(n),r()[0]<0?(a=PM(a),i=PM(i),e(QAe,ZAe)):e(EM,AM),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let h=a(d),m=a(u),x,p;const g=l==null?10:+l;let b=[];if(!(n%1)&&m-h<g){if(h=Math.floor(h),m=Math.ceil(m),d>0){for(;h<=m;++h)for(x=1;x<n;++x)if(p=h<0?x/i(-h):x*i(h),!(p<d)){if(p>u)break;b.push(p)}}else for(;h<=m;++h)for(x=n-1;x>=1;--x)if(p=h>0?x/i(-h):x*i(h),!(p<d)){if(p>u)break;b.push(p)}b.length*2<g&&(b=_A(d,u,g))}else b=_A(h,m,Math.min(m-h,g)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=dv(c)).precision==null&&(c.trim=!0),c=HO(c)),l===1/0)return c;const d=Math.max(1,n*l/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=d?c(u):""}},t.nice=()=>r(RH(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function MH(){const e=GO(YN()).domain([1,10]);return e.copy=()=>B0(e,MH()).base(e.base()),lo.apply(e,arguments),e}function TM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function kM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function qO(e){var t=1,r=e(TM(t),kM(t));return r.constant=function(n){return arguments.length?e(TM(t=+n),kM(t)):t},cu(r)}function FH(){var e=qO(YN());return e.copy=function(){return B0(e,FH()).constant(e.constant())},lo.apply(e,arguments)}function OM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function rPe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function nPe(e){return e<0?-e*e:e*e}function KO(e){var t=e(ua,ua),r=1;function n(){return r===1?e(ua,ua):r===.5?e(rPe,nPe):e(OM(r),OM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},cu(t)}function XO(){var e=KO(YN());return e.copy=function(){return B0(e,XO()).exponent(e.exponent())},lo.apply(e,arguments),e}function sPe(){return XO.apply(null,arguments).exponent(.5)}function DM(e){return Math.sign(e)*e*e}function aPe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function LH(){var e=zO(),t=[0,1],r=!1,n;function a(i){var o=aPe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(DM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,mw)).map(DM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return LH(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},lo.apply(a,arguments),cu(a)}function $H(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=dAe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[L0(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort($d),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return $H().domain(e).range(t).unknown(n)},lo.apply(i,arguments)}function BH(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[L0(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return BH().domain([e,t]).range(a).unknown(i)},lo.apply(cu(o),arguments)}function UH(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[L0(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return UH().domain(e).range(t).unknown(r)},lo.apply(a,arguments)}const uS=new Date,fS=new Date;function es(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>es(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(uS.setTime(+i),fS.setTime(+o),e(uS),e(fS),Math.floor(r(uS,fS))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const gw=es(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);gw.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?es(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):gw);gw.range;const fc=1e3,Vi=fc*60,hc=Vi*60,Ic=hc*24,YO=Ic*7,IM=Ic*30,hS=Ic*365,zu=es(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*fc)},(e,t)=>(t-e)/fc,e=>e.getUTCSeconds());zu.range;const QO=es(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fc)},(e,t)=>{e.setTime(+e+t*Vi)},(e,t)=>(t-e)/Vi,e=>e.getMinutes());QO.range;const ZO=es(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Vi)},(e,t)=>(t-e)/Vi,e=>e.getUTCMinutes());ZO.range;const JO=es(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*fc-e.getMinutes()*Vi)},(e,t)=>{e.setTime(+e+t*hc)},(e,t)=>(t-e)/hc,e=>e.getHours());JO.range;const e4=es(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*hc)},(e,t)=>(t-e)/hc,e=>e.getUTCHours());e4.range;const U0=es(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Vi)/Ic,e=>e.getDate()-1);U0.range;const QN=es(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ic,e=>e.getUTCDate()-1);QN.range;const VH=es(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ic,e=>Math.floor(e/Ic));VH.range;function zf(e){return es(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Vi)/YO)}const ZN=zf(0),vw=zf(1),iPe=zf(2),oPe=zf(3),Lm=zf(4),lPe=zf(5),cPe=zf(6);ZN.range;vw.range;iPe.range;oPe.range;Lm.range;lPe.range;cPe.range;function Wf(e){return es(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/YO)}const JN=Wf(0),yw=Wf(1),dPe=Wf(2),uPe=Wf(3),$m=Wf(4),fPe=Wf(5),hPe=Wf(6);JN.range;yw.range;dPe.range;uPe.range;$m.range;fPe.range;hPe.range;const t4=es(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());t4.range;const r4=es(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());r4.range;const Rc=es(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Rc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:es(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Rc.range;const Mc=es(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Mc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:es(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Mc.range;function zH(e,t,r,n,a,i){const o=[[zu,1,fc],[zu,5,5*fc],[zu,15,15*fc],[zu,30,30*fc],[i,1,Vi],[i,5,5*Vi],[i,15,15*Vi],[i,30,30*Vi],[a,1,hc],[a,3,3*hc],[a,6,6*hc],[a,12,12*hc],[n,1,Ic],[n,2,2*Ic],[r,1,YO],[t,1,IM],[t,3,3*IM],[e,1,hS]];function l(d,u,f){const h=u<d;h&&([d,u]=[u,d]);const m=f&&typeof f.range=="function"?f:c(d,u,f),x=m?m.range(d,+u+1):[];return h?x.reverse():x}function c(d,u,f){const h=Math.abs(u-d)/f,m=LO(([,,g])=>g).right(o,h);if(m===o.length)return e.every(CA(d/hS,u/hS,f));if(m===0)return gw.every(Math.max(CA(d,u,f),1));const[x,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return x.every(p)}return[l,c]}const[mPe,pPe]=zH(Mc,r4,JN,VH,e4,ZO),[xPe,gPe]=zH(Rc,t4,ZN,U0,JO,QO);function mS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function pS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function bx(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function vPe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=wx(a),u=jx(a),f=wx(i),h=jx(i),m=wx(o),x=jx(o),p=wx(l),g=jx(l),b=wx(c),y=jx(c),j={a:A,A:k,b:W,B:fe,c:null,d:BM,e:BM,f:UPe,g:QPe,G:JPe,H:LPe,I:$Pe,j:BPe,L:WH,m:VPe,M:zPe,p:de,q:T,Q:zM,s:WM,S:WPe,u:HPe,U:GPe,V:qPe,w:KPe,W:XPe,x:null,X:null,y:YPe,Y:ZPe,Z:eTe,"%":VM},w={a:L,A:R,b:K,B:q,c:null,d:UM,e:UM,f:sTe,g:mTe,G:xTe,H:tTe,I:rTe,j:nTe,L:GH,m:aTe,M:iTe,p:Z,q:X,Q:zM,s:WM,S:oTe,u:lTe,U:cTe,V:dTe,w:uTe,W:fTe,x:null,X:null,y:hTe,Y:pTe,Z:gTe,"%":VM},N={a:P,A:I,b:D,B:U,c:F,d:LM,e:LM,f:IPe,g:FM,G:MM,H:$M,I:$M,j:TPe,L:DPe,m:PPe,M:kPe,p:E,q:APe,Q:MPe,s:FPe,S:OPe,u:NPe,U:_Pe,V:SPe,w:jPe,W:CPe,x:M,X:O,y:FM,Y:MM,Z:EPe,"%":RPe};j.x=_(r,j),j.X=_(n,j),j.c=_(t,j),w.x=_(r,w),w.X=_(n,w),w.c=_(t,w);function _(ee,ie){return function(be){var he=[],Ge=-1,ke=0,bt=ee.length,rt,Oe,G;for(be instanceof Date||(be=new Date(+be));++Ge<bt;)ee.charCodeAt(Ge)===37&&(he.push(ee.slice(ke,Ge)),(Oe=RM[rt=ee.charAt(++Ge)])!=null?rt=ee.charAt(++Ge):Oe=rt==="e"?" ":"0",(G=ie[rt])&&(rt=G(be,Oe)),he.push(rt),ke=Ge+1);return he.push(ee.slice(ke,Ge)),he.join("")}}function C(ee,ie){return function(be){var he=bx(1900,void 0,1),Ge=S(he,ee,be+="",0),ke,bt;if(Ge!=be.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(ie&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(ke=pS(bx(he.y,0,1)),bt=ke.getUTCDay(),ke=bt>4||bt===0?yw.ceil(ke):yw(ke),ke=QN.offset(ke,(he.V-1)*7),he.y=ke.getUTCFullYear(),he.m=ke.getUTCMonth(),he.d=ke.getUTCDate()+(he.w+6)%7):(ke=mS(bx(he.y,0,1)),bt=ke.getDay(),ke=bt>4||bt===0?vw.ceil(ke):vw(ke),ke=U0.offset(ke,(he.V-1)*7),he.y=ke.getFullYear(),he.m=ke.getMonth(),he.d=ke.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),bt="Z"in he?pS(bx(he.y,0,1)).getUTCDay():mS(bx(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(bt+5)%7:he.w+he.U*7-(bt+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,pS(he)):mS(he)}}function S(ee,ie,be,he){for(var Ge=0,ke=ie.length,bt=be.length,rt,Oe;Ge<ke;){if(he>=bt)return-1;if(rt=ie.charCodeAt(Ge++),rt===37){if(rt=ie.charAt(Ge++),Oe=N[rt in RM?ie.charAt(Ge++):rt],!Oe||(he=Oe(ee,be,he))<0)return-1}else if(rt!=be.charCodeAt(he++))return-1}return he}function E(ee,ie,be){var he=d.exec(ie.slice(be));return he?(ee.p=u.get(he[0].toLowerCase()),be+he[0].length):-1}function P(ee,ie,be){var he=m.exec(ie.slice(be));return he?(ee.w=x.get(he[0].toLowerCase()),be+he[0].length):-1}function I(ee,ie,be){var he=f.exec(ie.slice(be));return he?(ee.w=h.get(he[0].toLowerCase()),be+he[0].length):-1}function D(ee,ie,be){var he=b.exec(ie.slice(be));return he?(ee.m=y.get(he[0].toLowerCase()),be+he[0].length):-1}function U(ee,ie,be){var he=p.exec(ie.slice(be));return he?(ee.m=g.get(he[0].toLowerCase()),be+he[0].length):-1}function F(ee,ie,be){return S(ee,t,ie,be)}function M(ee,ie,be){return S(ee,r,ie,be)}function O(ee,ie,be){return S(ee,n,ie,be)}function A(ee){return o[ee.getDay()]}function k(ee){return i[ee.getDay()]}function W(ee){return c[ee.getMonth()]}function fe(ee){return l[ee.getMonth()]}function de(ee){return a[+(ee.getHours()>=12)]}function T(ee){return 1+~~(ee.getMonth()/3)}function L(ee){return o[ee.getUTCDay()]}function R(ee){return i[ee.getUTCDay()]}function K(ee){return c[ee.getUTCMonth()]}function q(ee){return l[ee.getUTCMonth()]}function Z(ee){return a[+(ee.getUTCHours()>=12)]}function X(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var ie=_(ee+="",j);return ie.toString=function(){return ee},ie},parse:function(ee){var ie=C(ee+="",!1);return ie.toString=function(){return ee},ie},utcFormat:function(ee){var ie=_(ee+="",w);return ie.toString=function(){return ee},ie},utcParse:function(ee){var ie=C(ee+="",!0);return ie.toString=function(){return ee},ie}}}var RM={"-":"",_:" ",0:"0"},ms=/^\s*\d+/,yPe=/^%/,bPe=/[\\^$*+?|[\]().{}]/g;function hr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function wPe(e){return e.replace(bPe,"\\$&")}function wx(e){return new RegExp("^(?:"+e.map(wPe).join("|")+")","i")}function jx(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function jPe(e,t,r){var n=ms.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function NPe(e,t,r){var n=ms.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function _Pe(e,t,r){var n=ms.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function SPe(e,t,r){var n=ms.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function CPe(e,t,r){var n=ms.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function MM(e,t,r){var n=ms.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function FM(e,t,r){var n=ms.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function EPe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function APe(e,t,r){var n=ms.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function PPe(e,t,r){var n=ms.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function LM(e,t,r){var n=ms.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function TPe(e,t,r){var n=ms.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function $M(e,t,r){var n=ms.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function kPe(e,t,r){var n=ms.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function OPe(e,t,r){var n=ms.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function DPe(e,t,r){var n=ms.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function IPe(e,t,r){var n=ms.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function RPe(e,t,r){var n=yPe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function MPe(e,t,r){var n=ms.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function FPe(e,t,r){var n=ms.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function BM(e,t){return hr(e.getDate(),t,2)}function LPe(e,t){return hr(e.getHours(),t,2)}function $Pe(e,t){return hr(e.getHours()%12||12,t,2)}function BPe(e,t){return hr(1+U0.count(Rc(e),e),t,3)}function WH(e,t){return hr(e.getMilliseconds(),t,3)}function UPe(e,t){return WH(e,t)+"000"}function VPe(e,t){return hr(e.getMonth()+1,t,2)}function zPe(e,t){return hr(e.getMinutes(),t,2)}function WPe(e,t){return hr(e.getSeconds(),t,2)}function HPe(e){var t=e.getDay();return t===0?7:t}function GPe(e,t){return hr(ZN.count(Rc(e)-1,e),t,2)}function HH(e){var t=e.getDay();return t>=4||t===0?Lm(e):Lm.ceil(e)}function qPe(e,t){return e=HH(e),hr(Lm.count(Rc(e),e)+(Rc(e).getDay()===4),t,2)}function KPe(e){return e.getDay()}function XPe(e,t){return hr(vw.count(Rc(e)-1,e),t,2)}function YPe(e,t){return hr(e.getFullYear()%100,t,2)}function QPe(e,t){return e=HH(e),hr(e.getFullYear()%100,t,2)}function ZPe(e,t){return hr(e.getFullYear()%1e4,t,4)}function JPe(e,t){var r=e.getDay();return e=r>=4||r===0?Lm(e):Lm.ceil(e),hr(e.getFullYear()%1e4,t,4)}function eTe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+hr(t/60|0,"0",2)+hr(t%60,"0",2)}function UM(e,t){return hr(e.getUTCDate(),t,2)}function tTe(e,t){return hr(e.getUTCHours(),t,2)}function rTe(e,t){return hr(e.getUTCHours()%12||12,t,2)}function nTe(e,t){return hr(1+QN.count(Mc(e),e),t,3)}function GH(e,t){return hr(e.getUTCMilliseconds(),t,3)}function sTe(e,t){return GH(e,t)+"000"}function aTe(e,t){return hr(e.getUTCMonth()+1,t,2)}function iTe(e,t){return hr(e.getUTCMinutes(),t,2)}function oTe(e,t){return hr(e.getUTCSeconds(),t,2)}function lTe(e){var t=e.getUTCDay();return t===0?7:t}function cTe(e,t){return hr(JN.count(Mc(e)-1,e),t,2)}function qH(e){var t=e.getUTCDay();return t>=4||t===0?$m(e):$m.ceil(e)}function dTe(e,t){return e=qH(e),hr($m.count(Mc(e),e)+(Mc(e).getUTCDay()===4),t,2)}function uTe(e){return e.getUTCDay()}function fTe(e,t){return hr(yw.count(Mc(e)-1,e),t,2)}function hTe(e,t){return hr(e.getUTCFullYear()%100,t,2)}function mTe(e,t){return e=qH(e),hr(e.getUTCFullYear()%100,t,2)}function pTe(e,t){return hr(e.getUTCFullYear()%1e4,t,4)}function xTe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?$m(e):$m.ceil(e),hr(e.getUTCFullYear()%1e4,t,4)}function gTe(){return"+0000"}function VM(){return"%"}function zM(e){return+e}function WM(e){return Math.floor(+e/1e3)}var lh,KH,XH;vTe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vTe(e){return lh=vPe(e),KH=lh.format,lh.parse,XH=lh.utcFormat,lh.utcParse,lh}function yTe(e){return new Date(e)}function bTe(e){return e instanceof Date?+e:+new Date(+e)}function n4(e,t,r,n,a,i,o,l,c,d){var u=zO(),f=u.invert,h=u.domain,m=d(".%L"),x=d(":%S"),p=d("%I:%M"),g=d("%I %p"),b=d("%a %d"),y=d("%b %d"),j=d("%B"),w=d("%Y");function N(_){return(c(_)<_?m:l(_)<_?x:o(_)<_?p:i(_)<_?g:n(_)<_?a(_)<_?b:y:r(_)<_?j:w)(_)}return u.invert=function(_){return new Date(f(_))},u.domain=function(_){return arguments.length?h(Array.from(_,bTe)):h().map(yTe)},u.ticks=function(_){var C=h();return e(C[0],C[C.length-1],_??10)},u.tickFormat=function(_,C){return C==null?N:d(C)},u.nice=function(_){var C=h();return(!_||typeof _.range!="function")&&(_=t(C[0],C[C.length-1],_??10)),_?h(RH(C,_)):u},u.copy=function(){return B0(u,n4(e,t,r,n,a,i,o,l,c,d))},u}function wTe(){return lo.apply(n4(xPe,gPe,Rc,t4,ZN,U0,JO,QO,zu,KH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function jTe(){return lo.apply(n4(mPe,pPe,Mc,r4,JN,QN,e4,ZO,zu,XH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function e_(){var e=0,t=1,r,n,a,i,o=ua,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function u(f){return function(h){var m,x;return arguments.length?([m,x]=h,o=f(m,x),d):[o(0),o(1)]}}return d.range=u(Mp),d.rangeRound=u(VO),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),d}}function du(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function YH(){var e=cu(e_()(ua));return e.copy=function(){return du(e,YH())},Gc.apply(e,arguments)}function QH(){var e=GO(e_()).domain([1,10]);return e.copy=function(){return du(e,QH()).base(e.base())},Gc.apply(e,arguments)}function ZH(){var e=qO(e_());return e.copy=function(){return du(e,ZH()).constant(e.constant())},Gc.apply(e,arguments)}function s4(){var e=KO(e_());return e.copy=function(){return du(e,s4()).exponent(e.exponent())},Gc.apply(e,arguments)}function NTe(){return s4.apply(null,arguments).exponent(.5)}function JH(){var e=[],t=ua;function r(n){if(n!=null&&!isNaN(n=+n))return t((L0(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort($d),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>cAe(e,i/n))},r.copy=function(){return JH(t).domain(e)},Gc.apply(r,arguments)}function t_(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,d=ua,u,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+u(p))-i)*(n*p<n*i?l:c),d(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=u(e=+e),i=u(t=+t),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(d=p,m):d};function x(p){return function(g){var b,y,j;return arguments.length?([b,y,j]=g,d=RAe(p,[b,y,j]),m):[d(0),d(.5),d(1)]}}return m.range=x(Mp),m.rangeRound=x(VO),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return u=p,a=p(e),i=p(t),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function eG(){var e=cu(t_()(ua));return e.copy=function(){return du(e,eG())},Gc.apply(e,arguments)}function tG(){var e=GO(t_()).domain([.1,1,10]);return e.copy=function(){return du(e,tG()).base(e.base())},Gc.apply(e,arguments)}function rG(){var e=qO(t_());return e.copy=function(){return du(e,rG()).constant(e.constant())},Gc.apply(e,arguments)}function a4(){var e=KO(t_());return e.copy=function(){return du(e,a4()).exponent(e.exponent())},Gc.apply(e,arguments)}function _Te(){return a4.apply(null,arguments).exponent(.5)}const HM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:iv,scaleDiverging:eG,scaleDivergingLog:tG,scaleDivergingPow:a4,scaleDivergingSqrt:_Te,scaleDivergingSymlog:rG,scaleIdentity:IH,scaleImplicit:EA,scaleLinear:xw,scaleLog:MH,scaleOrdinal:$O,scalePoint:sg,scalePow:XO,scaleQuantile:$H,scaleQuantize:BH,scaleRadial:LH,scaleSequential:YH,scaleSequentialLog:QH,scaleSequentialPow:s4,scaleSequentialQuantile:JH,scaleSequentialSqrt:NTe,scaleSequentialSymlog:ZH,scaleSqrt:sPe,scaleSymlog:FH,scaleThreshold:UH,scaleTime:wTe,scaleUtc:jTe,tickFormat:DH},Symbol.toStringTag,{value:"Module"}));var STe=Ep;function CTe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!STe(o):r(o,l)))var l=o,c=i}return c}var r_=CTe;function ETe(e,t){return e>t}var nG=ETe,ATe=r_,PTe=nG,TTe=Rp;function kTe(e){return e&&e.length?ATe(e,TTe,PTe):void 0}var OTe=kTe;const Sd=br(OTe);function DTe(e,t){return e<t}var sG=DTe,ITe=r_,RTe=sG,MTe=Rp;function FTe(e){return e&&e.length?ITe(e,MTe,RTe):void 0}var LTe=FTe;const n_=br(LTe);var $Te=yO,BTe=Wl,UTe=fH,VTe=Ha;function zTe(e,t){var r=VTe(e)?$Te:UTe;return r(e,BTe(t))}var WTe=zTe,HTe=dH,GTe=WTe;function qTe(e,t){return HTe(GTe(e,t),1)}var KTe=qTe;const XTe=br(KTe);var YTe=IO;function QTe(e,t){return YTe(e,t)}var ZTe=QTe;const Cf=br(ZTe);var Fp=1e9,JTe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o4,rn=!0,to="[DecimalError] ",nf=to+"Invalid argument: ",i4=to+"Exponent out of range: ",Lp=Math.floor,Eu=Math.pow,eke=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,oi,ts=1e7,Kr=7,aG=9007199254740991,bw=Lp(aG/Kr),xt={};xt.absoluteValue=xt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};xt.comparedTo=xt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};xt.decimalPlaces=xt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Kr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};xt.dividedBy=xt.div=function(e){return yc(this,new this.constructor(e))};xt.dividedToIntegerBy=xt.idiv=function(e){var t=this,r=t.constructor;return Ir(yc(t,new r(e),0,1),r.precision)};xt.equals=xt.eq=function(e){return!this.cmp(e)};xt.exponent=function(){return Rn(this)};xt.greaterThan=xt.gt=function(e){return this.cmp(e)>0};xt.greaterThanOrEqualTo=xt.gte=function(e){return this.cmp(e)>=0};xt.isInteger=xt.isint=function(){return this.e>this.d.length-2};xt.isNegative=xt.isneg=function(){return this.s<0};xt.isPositive=xt.ispos=function(){return this.s>0};xt.isZero=function(){return this.s===0};xt.lessThan=xt.lt=function(e){return this.cmp(e)<0};xt.lessThanOrEqualTo=xt.lte=function(e){return this.cmp(e)<1};xt.logarithm=xt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(oi))throw Error(to+"NaN");if(r.s<1)throw Error(to+(r.s?"NaN":"-Infinity"));return r.eq(oi)?new n(0):(rn=!1,t=yc(uv(r,i),uv(e,i),i),rn=!0,Ir(t,a))};xt.minus=xt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?lG(t,e):iG(t,(e.s=-e.s,e))};xt.modulo=xt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(to+"NaN");return r.s?(rn=!1,t=yc(r,e,0,1).times(e),rn=!0,r.minus(t)):Ir(new n(r),a)};xt.naturalExponential=xt.exp=function(){return oG(this)};xt.naturalLogarithm=xt.ln=function(){return uv(this)};xt.negated=xt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};xt.plus=xt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?iG(t,e):lG(t,(e.s=-e.s,e))};xt.precision=xt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(nf+e);if(t=Rn(a)+1,n=a.d.length-1,r=n*Kr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};xt.squareRoot=xt.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(to+"NaN")}for(e=Rn(l),rn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=bl(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Lp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(yc(l,i,o+2)).times(.5),bl(i.d).slice(0,o)===(t=bl(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ir(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return rn=!0,Ir(n,r)};xt.times=xt.mul=function(e){var t,r,n,a,i,o,l,c,d,u=this,f=u.constructor,h=u.d,m=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,c=h.length,d=m.length,c<d&&(i=h,h=m,m=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%ts|0,t=l/ts|0;i[a]=(i[a]+t)%ts|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,rn?Ir(e,f.precision):e};xt.toDecimalPlaces=xt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Rl(e,0,Fp),t===void 0?t=n.rounding:Rl(t,0,8),Ir(r,e+Rn(r)+1,t))};xt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Ef(n,!0):(Rl(e,0,Fp),t===void 0?t=a.rounding:Rl(t,0,8),n=Ir(new a(n),e+1,t),r=Ef(n,!0,e+1)),r};xt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Ef(a):(Rl(e,0,Fp),t===void 0?t=i.rounding:Rl(t,0,8),n=Ir(new i(a),e+Rn(a)+1,t),r=Ef(n.abs(),!1,e+Rn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};xt.toInteger=xt.toint=function(){var e=this,t=e.constructor;return Ir(new t(e),Rn(e)+1,t.rounding)};xt.toNumber=function(){return+this};xt.toPower=xt.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(oi);if(l=new c(l),!l.s){if(e.s<1)throw Error(to+"Infinity");return l}if(l.eq(oi))return l;if(n=c.precision,e.eq(oi))return Ir(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=aG){for(a=new c(oi),t=Math.ceil(n/Kr+4),rn=!1;r%2&&(a=a.times(l),qM(a.d,t)),r=Lp(r/2),r!==0;)l=l.times(l),qM(l.d,t);return rn=!0,e.s<0?new c(oi).div(a):Ir(a,n)}}else if(i<0)throw Error(to+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,rn=!1,a=e.times(uv(l,n+d)),rn=!0,a=oG(a),a.s=i,a};xt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Rn(a),n=Ef(a,r<=i.toExpNeg||r>=i.toExpPos)):(Rl(e,1,Fp),t===void 0?t=i.rounding:Rl(t,0,8),a=Ir(new i(a),e,t),r=Rn(a),n=Ef(a,e<=r||r<=i.toExpNeg,e)),n};xt.toSignificantDigits=xt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Rl(e,1,Fp),t===void 0?t=n.rounding:Rl(t,0,8)),Ir(new n(r),e,t)};xt.toString=xt.valueOf=xt.val=xt.toJSON=xt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Rn(e),r=e.constructor;return Ef(e,t<=r.toExpNeg||t>=r.toExpPos)};function iG(e,t){var r,n,a,i,o,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),rn?Ir(t,f):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,a=o,l=c.length),o=Math.ceil(f/Kr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/ts|0,c[i]%=ts;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,rn?Ir(t,f):t}function Rl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(nf+e)}function bl(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Kr-n.length,r&&(i+=id(r)),i+=n;o=e[t],n=o+"",r=Kr-n.length,r&&(i+=id(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var yc=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%ts|0,o=i/ts|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*ts+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,d,u,f,h,m,x,p,g,b,y,j,w,N,_,C,S,E=n.constructor,P=n.s==a.s?1:-1,I=n.d,D=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(to+"Division by zero");for(c=n.e-a.e,C=D.length,N=I.length,m=new E(P),x=m.d=[],d=0;D[d]==(I[d]||0);)++d;if(D[d]>(I[d]||0)&&--c,i==null?y=i=E.precision:o?y=i+(Rn(n)-Rn(a))+1:y=i,y<0)return new E(0);if(y=y/Kr+2|0,d=0,C==1)for(u=0,D=D[0],y++;(d<N||u)&&y--;d++)j=u*ts+(I[d]||0),x[d]=j/D|0,u=j%D|0;else{for(u=ts/(D[0]+1)|0,u>1&&(D=e(D,u),I=e(I,u),C=D.length,N=I.length),w=C,p=I.slice(0,C),g=p.length;g<C;)p[g++]=0;S=D.slice(),S.unshift(0),_=D[0],D[1]>=ts/2&&++_;do u=0,l=t(D,p,C,g),l<0?(b=p[0],C!=g&&(b=b*ts+(p[1]||0)),u=b/_|0,u>1?(u>=ts&&(u=ts-1),f=e(D,u),h=f.length,g=p.length,l=t(f,p,h,g),l==1&&(u--,r(f,C<h?S:D,h))):(u==0&&(l=u=1),f=D.slice()),h=f.length,h<g&&f.unshift(0),r(p,f,g),l==-1&&(g=p.length,l=t(D,p,C,g),l<1&&(u++,r(p,C<g?S:D,g))),g=p.length):l===0&&(u++,p=[0]),x[d++]=u,l&&p[0]?p[g++]=I[w]||0:(p=[I[w]],g=1);while((w++<N||p[0]!==void 0)&&y--)}return x[0]||x.shift(),m.e=c,Ir(m,o?i+Rn(m)+1:i)}}();function oG(e,t){var r,n,a,i,o,l,c=0,d=0,u=e.constructor,f=u.precision;if(Rn(e)>16)throw Error(i4+Rn(e));if(!e.s)return new u(oi);for(t==null?(rn=!1,l=f):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(n=Math.log(Eu(2,d))/Math.LN10*2+5|0,l+=n,r=a=i=new u(oi),u.precision=l;;){if(a=Ir(a.times(e),l),r=r.times(++c),o=i.plus(yc(a,r,l)),bl(o.d).slice(0,l)===bl(i.d).slice(0,l)){for(;d--;)i=Ir(i.times(i),l);return u.precision=f,t==null?(rn=!0,Ir(i,f)):i}i=o}}function Rn(e){for(var t=e.e*Kr,r=e.d[0];r>=10;r/=10)t++;return t}function xS(e,t,r){if(t>e.LN10.sd())throw rn=!0,r&&(e.precision=r),Error(to+"LN10 precision limit exceeded");return Ir(new e(e.LN10),t)}function id(e){for(var t="";e--;)t+="0";return t}function uv(e,t){var r,n,a,i,o,l,c,d,u,f=1,h=10,m=e,x=m.d,p=m.constructor,g=p.precision;if(m.s<1)throw Error(to+(m.s?"NaN":"-Infinity"));if(m.eq(oi))return new p(0);if(t==null?(rn=!1,d=g):d=t,m.eq(10))return t==null&&(rn=!0),xS(p,d);if(d+=h,p.precision=d,r=bl(x),n=r.charAt(0),i=Rn(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=bl(m.d),n=r.charAt(0),f++;i=Rn(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=xS(p,d+2,g).times(i+""),m=uv(new p(n+"."+r.slice(1)),d-h).plus(c),p.precision=g,t==null?(rn=!0,Ir(m,g)):m;for(l=o=m=yc(m.minus(oi),m.plus(oi),d),u=Ir(m.times(m),d),a=3;;){if(o=Ir(o.times(u),d),c=l.plus(yc(o,new p(a),d)),bl(c.d).slice(0,d)===bl(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(xS(p,d+2,g).times(i+""))),l=yc(l,new p(f),d),p.precision=g,t==null?(rn=!0,Ir(l,g)):l;l=c,a+=2}}function GM(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Lp(r/Kr),e.d=[],n=(r+1)%Kr,r<0&&(n+=Kr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Kr;n<a;)e.d.push(+t.slice(n,n+=Kr));t=t.slice(n),n=Kr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),rn&&(e.e>bw||e.e<-bw))throw Error(i4+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ir(e,t,r){var n,a,i,o,l,c,d,u,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Kr,a=t,d=f[u=0];else{if(u=Math.ceil((n+1)/Kr),i=f.length,u>=i)return e;for(d=i=f[u],o=1;i>=10;i/=10)o++;n%=Kr,a=n-Kr+o}if(r!==void 0&&(i=Eu(10,o-a-1),l=d/i%10|0,c=t<0||f[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?d/Eu(10,o-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Rn(e),f.length=1,t=t-i-1,f[0]=Eu(10,(Kr-t%Kr)%Kr),e.e=Lp(-t/Kr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=Eu(10,Kr-n),f[u]=a>0?(d/Eu(10,o-a)%Eu(10,a)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==ts&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=ts)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(rn&&(e.e>bw||e.e<-bw))throw Error(i4+Rn(e));return e}function lG(e,t){var r,n,a,i,o,l,c,d,u,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),rn?Ir(t,m):t;if(c=e.d,f=t.d,n=t.e,d=e.e,c=c.slice(),o=d-n,o){for(u=o<0,u?(r=c,o=-o,l=f.length):(r=f,n=d,l=c.length),a=Math.max(Math.ceil(m/Kr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){u=c[a]<f[a];break}o=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=ts-1;--c[i],c[a]+=ts}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,rn?Ir(t,m):t):new h(0)}function Ef(e,t,r){var n,a=Rn(e),i=bl(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+id(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+id(-a-1)+i,r&&(n=r-o)>0&&(i+=id(n))):a>=o?(i+=id(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+id(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=id(n))),e.s<0?"-"+i:i}function qM(e,t){if(e.length>t)return e.length=t,!0}function cG(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(nf+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return GM(o,i.toString())}else if(typeof i!="string")throw Error(nf+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,eke.test(i))GM(o,i);else throw Error(nf+i)}if(a.prototype=xt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=cG,a.config=a.set=tke,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function tke(e){if(!e||typeof e!="object")throw Error(to+"Object expected");var t,r,n,a=["precision",1,Fp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Lp(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(nf+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(nf+r+": "+n);return this}var o4=cG(JTe);oi=new o4(1);const kr=o4;function rke(e){return ike(e)||ake(e)||ske(e)||nke()}function nke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ske(e,t){if(e){if(typeof e=="string")return kA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kA(e,t)}}function ake(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ike(e){if(Array.isArray(e))return kA(e)}function kA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var oke=function(t){return t},dG={"@@functional/placeholder":!0},uG=function(t){return t===dG},KM=function(t){return function r(){return arguments.length===0||arguments.length===1&&uG(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},lke=function e(t,r){return t===1?r:KM(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==dG}).length;return o>=t?r.apply(void 0,a):e(t-o,KM(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(f){return uG(f)?c.shift():f});return r.apply(void 0,rke(u).concat(c))}))})},s_=function(t){return lke(t.length,t)},OA=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},cke=s_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),dke=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return oke;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},DA=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},fG=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function uke(e){var t;return e===0?t=1:t=Math.floor(new kr(e).abs().log(10).toNumber())+1,t}function fke(e,t,r){for(var n=new kr(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var hke=s_(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),mke=s_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),pke=s_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const a_={rangeStep:fke,getDigitCount:uke,interpolateNumber:hke,uninterpolateNumber:mke,uninterpolateTruncation:pke};function IA(e){return vke(e)||gke(e)||hG(e)||xke()}function xke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function vke(e){if(Array.isArray(e))return RA(e)}function fv(e,t){return wke(e)||bke(e,t)||hG(e,t)||yke()}function yke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hG(e,t){if(e){if(typeof e=="string")return RA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RA(e,t)}}function RA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bke(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function wke(e){if(Array.isArray(e))return e}function mG(e){var t=fv(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function pG(e,t,r){if(e.lte(0))return new kr(0);var n=a_.getDigitCount(e.toNumber()),a=new kr(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new kr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new kr(Math.ceil(c))}function jke(e,t,r){var n=1,a=new kr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new kr(10).pow(a_.getDigitCount(e)-1),a=new kr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new kr(Math.floor(e)))}else e===0?a=new kr(Math.floor((t-1)/2)):r||(a=new kr(Math.floor(e)));var o=Math.floor((t-1)/2),l=dke(cke(function(c){return a.add(new kr(c-o).mul(n)).toNumber()}),OA);return l(0,t)}function xG(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new kr(0),tickMin:new kr(0),tickMax:new kr(0)};var i=pG(new kr(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new kr(0):(o=new kr(e).add(t).div(2),o=o.sub(new kr(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new kr(t).sub(o).div(i).toNumber()),d=l+c+1;return d>r?xG(e,t,r,n,a+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:i,tickMin:o.sub(new kr(l).mul(i)),tickMax:o.add(new kr(c).mul(i))})}function Nke(e){var t=fv(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=mG([r,n]),c=fv(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var f=u===1/0?[d].concat(IA(OA(0,a-1).map(function(){return 1/0}))):[].concat(IA(OA(0,a-1).map(function(){return-1/0})),[u]);return r>n?DA(f):f}if(d===u)return jke(d,a,i);var h=xG(d,u,o,i),m=h.step,x=h.tickMin,p=h.tickMax,g=a_.rangeStep(x,p.add(new kr(.1).mul(m)),m);return r>n?DA(g):g}function _ke(e,t){var r=fv(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=mG([n,a]),l=fv(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,a];if(c===d)return[c];var u=Math.max(t,2),f=pG(new kr(d).sub(c).div(u-1),i,0),h=[].concat(IA(a_.rangeStep(new kr(c),new kr(d).sub(new kr(.99).mul(f)),f)),[d]);return n>a?DA(h):h}var Ske=fG(Nke),Cke=fG(_ke),Eke="Invariant failed";function Zd(e,t){throw new Error(Eke)}var Ake=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ww.apply(this,arguments)}function Pke(e,t){return Dke(e)||Oke(e,t)||kke(e,t)||Tke()}function Tke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kke(e,t){if(e){if(typeof e=="string")return XM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XM(e,t)}}function XM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Dke(e){if(Array.isArray(e))return e}function Ike(e,t){if(e==null)return{};var r=Rke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yG(n.key),n)}}function Lke(e,t,r){return t&&Fke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ke(e,t,r){return t=jw(t),Bke(e,gG()?Reflect.construct(t,r||[],jw(e).constructor):t.apply(e,r))}function Bke(e,t){if(t&&(Bm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uke(e)}function Uke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gG=function(){return!!e})()}function jw(e){return jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jw(e)}function Vke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MA(e,t)}function MA(e,t){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},MA(e,t)}function vG(e,t,r){return t=yG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yG(e){var t=zke(e,"string");return Bm(t)=="symbol"?t:t+""}function zke(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V0=function(e){function t(){return Mke(this,t),$ke(this,t,arguments)}return Vke(t,e),Lke(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=Ike(n,Ake),m=jt(h,!1);this.props.direction==="x"&&u.type!=="number"&&Zd();var x=c.map(function(p){var g=d(p,l),b=g.x,y=g.y,j=g.value,w=g.errorVal;if(!w)return null;var N=[],_,C;if(Array.isArray(w)){var S=Pke(w,2);_=S[0],C=S[1]}else _=C=w;if(i==="vertical"){var E=u.scale,P=y+a,I=P+o,D=P-o,U=E(j-_),F=E(j+C);N.push({x1:F,y1:I,x2:F,y2:D}),N.push({x1:U,y1:P,x2:F,y2:P}),N.push({x1:U,y1:I,x2:U,y2:D})}else if(i==="horizontal"){var M=f.scale,O=b+a,A=O-o,k=O+o,W=M(j-_),fe=M(j+C);N.push({x1:A,y1:fe,x2:k,y2:fe}),N.push({x1:O,y1:W,x2:O,y2:fe}),N.push({x1:A,y1:W,x2:k,y2:W})}return B.createElement(Jt,ww({className:"recharts-errorBar",key:"bar-".concat(N.map(function(de){return"".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))},m),N.map(function(de){return B.createElement("line",ww({},de,{key:"line-".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))}))});return B.createElement(Jt,{className:"recharts-errorBars"},x)}}])}(B.Component);vG(V0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});vG(V0,"displayName","ErrorBar");function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function YM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(r),!0).forEach(function(n){Wke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wke(e,t,r){return t=Hke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hke(e){var t=Gke(e,"string");return hv(t)=="symbol"?t:t+""}function Gke(e,t){if(hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bG=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=ri(r,Ro);if(!o)return null;var l=Ro.defaultProps,c=l!==void 0?vu(vu({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(n||[]).reduce(function(u,f){var h=f.item,m=f.props,x=m.sectors||m.data||[];return u.concat(x.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):d=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,m=h!==void 0?vu(vu({},h),f.props):{},x=m.dataKey,p=m.name,g=m.legendType,b=m.hide;return{inactive:b,dataKey:x,type:c.iconType||g||"square",color:l4(f),value:p||x,payload:m}}),vu(vu(vu({},c),Ro.getWithHeight(o,a)),{},{payload:d,item:o})};function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function QM(e){return Yke(e)||Xke(e)||Kke(e)||qke()}function qke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kke(e,t){if(e){if(typeof e=="string")return FA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FA(e,t)}}function Xke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yke(e){if(Array.isArray(e))return FA(e)}function FA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(r),!0).forEach(function(n){Yh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yh(e,t,r){return t=Qke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qke(e){var t=Zke(e,"string");return mv(t)=="symbol"?t:t+""}function Zke(e,t){if(mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function En(e,t,r){return Mt(e)||Mt(t)?r:Xn(t)?fi(e,t,r):kt(t)?t(e):r}function ag(e,t,r,n){var a=XTe(e,function(l){return En(l,t)});if(r==="number"){var i=a.filter(function(l){return He(l)||parseFloat(l)});return i.length?[n_(i),Sd(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Mt(l)}):a;return o.map(function(l){return Xn(l)||l instanceof Date?l:""})}var Jke=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,f=a[d].coordinate,h=d>=l-1?a[0].coordinate:a[d+1].coordinate,m=void 0;if(ca(f-u)!==ca(h-f)){var x=[];if(ca(h-f)===ca(c[1]-c[0])){m=h;var p=f+c[1]-c[0];x[0]=Math.min(p,(p+u)/2),x[1]=Math.max(p,(p+u)/2)}else{m=u;var g=h+c[1]-c[0];x[0]=Math.min(f,(g+f)/2),x[1]=Math.max(f,(g+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=x[0]&&t<=x[1]){o=a[d].index;break}}else{var y=Math.min(u,h),j=Math.max(u,h);if(t>(y+f)/2&&t<=(j+f)/2){o=a[d].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2&&t<=(n[w].coordinate+n[w+1].coordinate)/2||w===l-1&&t>(n[w].coordinate+n[w-1].coordinate)/2){o=n[w].index;break}return o},l4=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?pn(pn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},eOe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,f=Object.keys(u),h=0,m=f.length;h<m;h++){var x=u[f[h]],p=x.items,g=x.cateAxisId,b=p.filter(function(C){return vc(C.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,j=y!==void 0?pn(pn({},y),b[0].props):b[0].props,w=j.barSize,N=j[g];o[N]||(o[N]=[]);var _=Mt(w)?r:w;o[N].push({item:b[0],stackList:b.slice(1),barSize:Mt(_)?void 0:da(_,n,0)})}}return o},tOe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=da(r,a,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,x=o.reduce(function(w,N){return w+N.barSize||0},0);x+=(c-1)*d,x>=a&&(x-=(c-1)*d,d=0),x>=a&&m>0&&(h=!0,m*=.9,x=c*m);var p=(a-x)/2>>0,g={offset:p-d,size:0};u=o.reduce(function(w,N){var _={item:N.item,position:{offset:g.offset+g.size+d,size:h?m:N.barSize}},C=[].concat(QM(w),[_]);return g=C[C.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(S){C.push({item:S,position:g})}),C},f)}else{var b=da(n,a,0,!0);a-2*b-(c-1)*d<=0&&(d=0);var y=(a-2*b-(c-1)*d)/c;y>1&&(y>>=0);var j=l===+l?Math.min(y,l):y;u=o.reduce(function(w,N,_){var C=[].concat(QM(w),[{item:N.item,position:{offset:b+(y+d)*_+(y-j)/2,size:j}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(S){C.push({item:S,position:C[C.length-1].position})}),C},f)}return u},rOe=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=bG({children:i,legendWidth:c});if(d){var u=a||{},f=u.width,h=u.height,m=d.align,x=d.verticalAlign,p=d.layout;if((p==="vertical"||p==="horizontal"&&x==="middle")&&m!=="center"&&He(t[m]))return pn(pn({},t),{},Yh({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&x!=="middle"&&He(t[x]))return pn(pn({},t),{},Yh({},x,t[x]+(h||0)))}return t},nOe=function(t,r,n){return Mt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},wG=function(t,r,n,a,i){var o=r.props.children,l=hi(o,V0).filter(function(d){return nOe(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var f=En(u,n);if(Mt(f))return d;var h=Array.isArray(f)?[n_(f),Sd(f)]:[f,f],m=c.reduce(function(x,p){var g=En(u,p,0),b=h[0]-Math.abs(Array.isArray(g)?g[0]:g),y=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(b,x[0]),Math.max(y,x[1])]},[1/0,-1/0]);return[Math.min(m[0],d[0]),Math.max(m[1],d[1])]},[1/0,-1/0])}return null},sOe=function(t,r,n,a,i){var o=r.map(function(l){return wG(t,l,n,i,a)}).filter(function(l){return!Mt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},jG=function(t,r,n,a,i){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&wG(t,c,d,a)||ag(t,d,n,i)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,f=d.length;u<f;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},NG=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},_G=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},mc=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ca(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+d,value:f,offset:d}});return u.filter(function(f){return!Op(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+d,value:f,index:h,offset:d}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+d,value:f,offset:d}}):a.domain().map(function(f,h){return{coordinate:a(f)+d,value:i?i[f]:f,index:h,offset:d}})},gS=new WeakMap,Yy=function(t,r){if(typeof r!="function")return t;gS.has(t)||gS.set(t,new WeakMap);var n=gS.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},SG=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:iv(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:xw(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:sg(),realScaleType:"point"}:i==="category"?{scale:iv(),realScaleType:"band"}:{scale:xw(),realScaleType:"linear"};if(R0(a)){var c="scale".concat(zN(a));return{scale:(HM[c]||sg)(),realScaleType:HM[c]?c:"point"}}return kt(a)?{scale:a}:{scale:sg(),realScaleType:"point"}},JM=1e-4,CG=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-JM,o=Math.max(a[0],a[1])+JM,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},aOe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},iOe=function(t,r){if(!r||r.length!==2||!He(r[0])||!He(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!He(t[0])||t[0]<n)&&(i[0]=n),(!He(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},oOe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Op(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},lOe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=Op(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},cOe={sign:oOe,expand:A1e,none:Om,silhouette:P1e,wiggle:T1e,positive:lOe},dOe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=cOe[n],o=E1e().keys(a).value(function(l,c){return+En(l,c,0)}).order(lA).offset(i);return o(t)},uOe=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(f,h){var m,x=(m=h.type)!==null&&m!==void 0&&m.defaultProps?pn(pn({},h.type.defaultProps),h.props):h.props,p=x.stackId,g=x.hide;if(g)return f;var b=x[n],y=f[b]||{hasStack:!1,stackGroups:{}};if(Xn(p)){var j=y.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};j.items.push(h),y.hasStack=!0,y.stackGroups[p]=j}else y.stackGroups[Vf("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return pn(pn({},f),{},Yh({},b,y))},c),u={};return Object.keys(d).reduce(function(f,h){var m=d[h];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,g){var b=m.stackGroups[g];return pn(pn({},p),{},Yh({},g,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:dOe(t,b.items,i)}))},x)}return pn(pn({},f),{},Yh({},h,m))},u)},EG=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=Ske(d,i,l);return t.domain([n_(u),Sd(u)]),{niceTicks:u}}if(i&&a==="number"){var f=t.domain(),h=Cke(f,i,l);return{niceTicks:h}}return null};function Nw(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Mt(a[t.dataKey])){var l=Xb(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=En(a,Mt(o)?t.dataKey:o);return Mt(c)?null:t.scale(c)}var eF=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=En(o,r.dataKey,r.domain[l]);return Mt(c)?null:r.scale(c)-i/2+a},fOe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},hOe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?pn(pn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Xn(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},mOe=function(t){return t.reduce(function(r,n){return[n_(n.concat([r[0]]).filter(He)),Sd(n.concat([r[1]]).filter(He))]},[1/0,-1/0])},AG=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,u){var f=mOe(u.slice(r,n+1));return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},tF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LA=function(t,r,n){if(kt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(He(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(tF.test(t[0])){var i=+tF.exec(t[0])[1];a[0]=r[0]-i}else kt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(He(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(rF.test(t[1])){var o=+rF.exec(t[1])[1];a[1]=r[1]+o}else kt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},_w=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=MO(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},nF=function(t,r,n){return!t||!t.length||Cf(t,fi(n,"type.defaultProps.domain"))?r:t},PG=function(t,r){var n=t.type.defaultProps?pn(pn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,u=n.hide;return pn(pn({},jt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:l4(t),value:En(r,a),type:c,payload:r,chartType:d,hide:u})};function pv(e){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(e)}function sF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sF(Object(r),!0).forEach(function(n){TG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TG(e,t,r){return t=pOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pOe(e){var t=xOe(e,"string");return pv(t)=="symbol"?t:t+""}function xOe(e,t){if(pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gOe(e,t){return wOe(e)||bOe(e,t)||yOe(e,t)||vOe()}function vOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yOe(e,t){if(e){if(typeof e=="string")return aF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aF(e,t)}}function aF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function wOe(e){if(Array.isArray(e))return e}var Sw=Math.PI/180,jOe=function(t){return t*180/Math.PI},Ur=function(t,r,n,a){return{x:t+Math.cos(-Sw*a)*n,y:r+Math.sin(-Sw*a)*n}},kG=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},NOe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=da(t.cx,o,o/2),f=da(t.cy,l,l/2),h=kG(o,l,n),m=da(t.innerRadius,h,0),x=da(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(g,b){var y=r[b],j=y.domain,w=y.reversed,N;if(Mt(y.range))a==="angleAxis"?N=[c,d]:a==="radiusAxis"&&(N=[m,x]),w&&(N=[N[1],N[0]]);else{N=y.range;var _=N,C=gOe(_,2);c=C[0],d=C[1]}var S=SG(y,i),E=S.realScaleType,P=S.scale;P.domain(j).range(N),CG(P);var I=EG(P,rc(rc({},y),{},{realScaleType:E})),D=rc(rc(rc({},y),I),{},{range:N,radius:x,realScaleType:E,scale:P,cx:u,cy:f,innerRadius:m,outerRadius:x,startAngle:c,endAngle:d});return rc(rc({},g),{},TG({},b,D))},{})},_Oe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},SOe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=_Oe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:jOe(d),angleInRadian:d}},COe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},EOe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},iF=function(t,r){var n=t.x,a=t.y,i=SOe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=COe(r),f=u.startAngle,h=u.endAngle,m=l,x;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;x=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;x=m>=h&&m<=f}return x?rc(rc({},r),{},{radius:o,angle:EOe(m,r)}):null},OG=function(t){return!v.isValidElement(t)&&!kt(t)&&typeof t!="boolean"?t.className:""};function xv(e){"@babel/helpers - typeof";return xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xv(e)}var AOe=["offset"];function POe(e){return DOe(e)||OOe(e)||kOe(e)||TOe()}function TOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kOe(e,t){if(e){if(typeof e=="string")return $A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $A(e,t)}}function OOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DOe(e){if(Array.isArray(e))return $A(e)}function $A(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IOe(e,t){if(e==null)return{};var r=ROe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ROe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oF(Object(r),!0).forEach(function(n){MOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MOe(e,t,r){return t=FOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FOe(e){var t=LOe(e,"string");return xv(t)=="symbol"?t:t+""}function LOe(e,t){if(xv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gv.apply(this,arguments)}var $Oe=function(t){var r=t.value,n=t.formatter,a=Mt(t.children)?r:t.children;return kt(n)?n(a):a},BOe=function(t,r){var n=ca(r-t),a=Math.min(Math.abs(r-t),360);return n*a},UOe=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,u=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,x=c.endAngle,p=c.clockWise,g=(f+h)/2,b=BOe(m,x),y=b>=0?1:-1,j,w;a==="insideStart"?(j=m+y*o,w=p):a==="insideEnd"?(j=x-y*o,w=!p):a==="end"&&(j=x+y*o,w=p),w=b<=0?w:!w;var N=Ur(d,u,g,j),_=Ur(d,u,g,j+(w?1:-1)*359),C="M".concat(N.x,",").concat(N.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(w?0:1,`,
    `).concat(_.x,",").concat(_.y),S=Mt(t.id)?Vf("recharts-radial-line-"):t.id;return B.createElement("text",gv({},n,{dominantBaseline:"central",className:Lt("recharts-radial-bar-label",l)}),B.createElement("defs",null,B.createElement("path",{id:S,d:C})),B.createElement("textPath",{xlinkHref:"#".concat(S)},r))},VOe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,f=i.endAngle,h=(u+f)/2;if(a==="outside"){var m=Ur(o,l,d+n,h),x=m.x,p=m.y;return{x,y:p,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+d)/2,b=Ur(o,l,g,h),y=b.x,j=b.y;return{x:y,y:j,textAnchor:"middle",verticalAnchor:"middle"}},zOe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,f=u>=0?1:-1,h=f*a,m=f>0?"end":"start",x=f>0?"start":"end",p=d>=0?1:-1,g=p*a,b=p>0?"end":"start",y=p>0?"start":"end";if(i==="top"){var j={x:l+d/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return Un(Un({},j),n?{height:Math.max(c-n.y,0),width:d}:{})}if(i==="bottom"){var w={x:l+d/2,y:c+u+h,textAnchor:"middle",verticalAnchor:x};return Un(Un({},w),n?{height:Math.max(n.y+n.height-(c+u),0),width:d}:{})}if(i==="left"){var N={x:l-g,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return Un(Un({},N),n?{width:Math.max(N.x-n.x,0),height:u}:{})}if(i==="right"){var _={x:l+d+g,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return Un(Un({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:u}:{})}var C=n?{width:d,height:u}:{};return i==="insideLeft"?Un({x:l+g,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},C):i==="insideRight"?Un({x:l+d-g,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},C):i==="insideTop"?Un({x:l+d/2,y:c+h,textAnchor:"middle",verticalAnchor:x},C):i==="insideBottom"?Un({x:l+d/2,y:c+u-h,textAnchor:"middle",verticalAnchor:m},C):i==="insideTopLeft"?Un({x:l+g,y:c+h,textAnchor:y,verticalAnchor:x},C):i==="insideTopRight"?Un({x:l+d-g,y:c+h,textAnchor:b,verticalAnchor:x},C):i==="insideBottomLeft"?Un({x:l+g,y:c+u-h,textAnchor:y,verticalAnchor:m},C):i==="insideBottomRight"?Un({x:l+d-g,y:c+u-h,textAnchor:b,verticalAnchor:m},C):Ap(i)&&(He(i.x)||Uu(i.x))&&(He(i.y)||Uu(i.y))?Un({x:l+da(i.x,d),y:c+da(i.y,u),textAnchor:"end",verticalAnchor:"end"},C):Un({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},C)},WOe=function(t){return"cx"in t&&He(t.cx)};function ns(e){var t=e.offset,r=t===void 0?5:t,n=IOe(e,AOe),a=Un({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,f=u===void 0?"":u,h=a.textBreakAll;if(!i||Mt(l)&&Mt(c)&&!v.isValidElement(d)&&!kt(d))return null;if(v.isValidElement(d))return v.cloneElement(d,a);var m;if(kt(d)){if(m=v.createElement(d,a),v.isValidElement(m))return m}else m=$Oe(a);var x=WOe(i),p=jt(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return UOe(a,m,p);var g=x?VOe(a):zOe(a);return B.createElement(Sf,gv({className:Lt("recharts-label",f)},p,g,{breakAll:h}),m)}ns.displayName="Label";var DG=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,m=t.top,x=t.left,p=t.width,g=t.height,b=t.clockWise,y=t.labelViewBox;if(y)return y;if(He(p)&&He(g)){if(He(f)&&He(h))return{x:f,y:h,width:p,height:g};if(He(m)&&He(x))return{x:m,y:x,width:p,height:g}}return He(f)&&He(h)?{x:f,y:h,width:0,height:0}:He(r)&&He(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},HOe=function(t,r){return t?t===!0?B.createElement(ns,{key:"label-implicit",viewBox:r}):Xn(t)?B.createElement(ns,{key:"label-implicit",viewBox:r,value:t}):v.isValidElement(t)?t.type===ns?v.cloneElement(t,{key:"label-implicit",viewBox:r}):B.createElement(ns,{key:"label-implicit",content:t,viewBox:r}):kt(t)?B.createElement(ns,{key:"label-implicit",content:t,viewBox:r}):Ap(t)?B.createElement(ns,gv({viewBox:r},t,{key:"label-implicit"})):null:null},GOe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=DG(t),o=hi(a,ns).map(function(c,d){return v.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!n)return o;var l=HOe(t.label,r||i);return[l].concat(POe(o))};ns.parseViewBox=DG;ns.renderCallByParent=GOe;function qOe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var KOe=qOe;const XOe=br(KOe);function vv(e){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(e)}var YOe=["valueAccessor"],QOe=["data","dataKey","clockWise","id","textBreakAll"];function ZOe(e){return r4e(e)||t4e(e)||e4e(e)||JOe()}function JOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e4e(e,t){if(e){if(typeof e=="string")return BA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BA(e,t)}}function t4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function r4e(e){if(Array.isArray(e))return BA(e)}function BA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cw.apply(this,arguments)}function lF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lF(Object(r),!0).forEach(function(n){n4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n4e(e,t,r){return t=s4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s4e(e){var t=a4e(e,"string");return vv(t)=="symbol"?t:t+""}function a4e(e,t){if(vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dF(e,t){if(e==null)return{};var r=i4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var o4e=function(t){return Array.isArray(t.value)?XOe(t.value):t.value};function Al(e){var t=e.valueAccessor,r=t===void 0?o4e:t,n=dF(e,YOe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=dF(n,QOe);return!a||!a.length?null:B.createElement(Jt,{className:"recharts-label-list"},a.map(function(u,f){var h=Mt(i)?r(u,f):En(u&&u.payload,i),m=Mt(l)?{}:{id:"".concat(l,"-").concat(f)};return B.createElement(ns,Cw({},jt(u,!0),d,m,{parentViewBox:u.parentViewBox,value:h,textBreakAll:c,viewBox:ns.parseViewBox(Mt(o)?u:cF(cF({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Al.displayName="LabelList";function l4e(e,t){return e?e===!0?B.createElement(Al,{key:"labelList-implicit",data:t}):B.isValidElement(e)||kt(e)?B.createElement(Al,{key:"labelList-implicit",data:t,content:e}):Ap(e)?B.createElement(Al,Cw({data:t},e,{key:"labelList-implicit"})):null:null}function c4e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=hi(n,Al).map(function(o,l){return v.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=l4e(e.label,t);return[i].concat(ZOe(a))}Al.renderCallByParent=c4e;function yv(e){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yv(e)}function UA(){return UA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UA.apply(this,arguments)}function uF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uF(Object(r),!0).forEach(function(n){d4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d4e(e,t,r){return t=u4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u4e(e){var t=f4e(e,"string");return yv(t)=="symbol"?t:t+""}function f4e(e,t){if(yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h4e=function(t,r){var n=ca(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Qy=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+a,f=Math.asin(c/u)/Sw,h=d?i:i+o*f,m=Ur(r,n,u,h),x=Ur(r,n,a,h),p=d?i-o*f:i,g=Ur(r,n,u*Math.cos(f*Sw),p);return{center:m,circleTangency:x,lineTangency:g,theta:f}},IG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=h4e(o,l),d=o+c,u=Ur(r,n,i,o),f=Ur(r,n,i,d),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Ur(r,n,a,o),x=Ur(r,n,a,d);h+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},m4e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,f=ca(u-d),h=Qy({cx:r,cy:n,radius:i,angle:d,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,x=h.lineTangency,p=h.theta,g=Qy({cx:r,cy:n,radius:i,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=g.circleTangency,y=g.lineTangency,j=g.theta,w=c?Math.abs(d-u):Math.abs(d-u)-p-j;if(w<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):IG({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var N="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var _=Qy({cx:r,cy:n,radius:a,angle:d,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=_.circleTangency,S=_.lineTangency,E=_.theta,P=Qy({cx:r,cy:n,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=P.circleTangency,D=P.lineTangency,U=P.theta,F=c?Math.abs(d-u):Math.abs(d-u)-E-U;if(F<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},p4e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RG=function(t){var r=fF(fF({},p4e),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(o<i||u===f)return null;var m=Lt("recharts-sector",h),x=o-i,p=da(l,x,0,!0),g;return p>0&&Math.abs(u-f)<360?g=m4e({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:f}):g=IG({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:f}),B.createElement("path",UA({},jt(r,!0),{className:m,d:g,role:"img"}))};function bv(e){"@babel/helpers - typeof";return bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bv(e)}function VA(){return VA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VA.apply(this,arguments)}function hF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hF(Object(r),!0).forEach(function(n){x4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x4e(e,t,r){return t=g4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g4e(e){var t=v4e(e,"string");return bv(t)=="symbol"?t:t+""}function v4e(e,t){if(bv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pF={curveBasisClosed:x1e,curveBasisOpen:g1e,curveBasis:p1e,curveBumpX:t1e,curveBumpY:r1e,curveLinearClosed:v1e,curveLinear:HN,curveMonotoneX:y1e,curveMonotoneY:b1e,curveNatural:w1e,curveStep:j1e,curveStepAfter:_1e,curveStepBefore:N1e},Zy=function(t){return t.x===+t.x&&t.y===+t.y},Nx=function(t){return t.x},_x=function(t){return t.y},y4e=function(t,r){if(kt(t))return t;var n="curve".concat(zN(t));return(n==="curveMonotone"||n==="curveBump")&&r?pF["".concat(n).concat(r==="vertical"?"Y":"X")]:pF[n]||HN},b4e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=y4e(n,l),f=d?i.filter(function(p){return Zy(p)}):i,h;if(Array.isArray(o)){var m=d?o.filter(function(p){return Zy(p)}):o,x=f.map(function(p,g){return mF(mF({},p),{},{base:m[g]})});return l==="vertical"?h=Vy().y(_x).x1(Nx).x0(function(p){return p.base.x}):h=Vy().x(Nx).y1(_x).y0(function(p){return p.base.y}),h.defined(Zy).curve(u),h(x)}return l==="vertical"&&He(o)?h=Vy().y(_x).x1(Nx).x0(o):He(o)?h=Vy().x(Nx).y1(_x).y0(o):h=PW().x(Nx).y(_x),h.defined(Zy).curve(u),h(f)},sf=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?b4e(t):a;return B.createElement("path",VA({},jt(t,!1),Yb(t),{className:Lt("recharts-curve",r),d:o,ref:i}))},MG={exports:{}},w4e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",j4e=w4e,N4e=j4e;function FG(){}function LG(){}LG.resetWarningCache=FG;var _4e=function(){function e(n,a,i,o,l,c){if(c!==N4e){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:LG,resetWarningCache:FG};return r.PropTypes=r,r};MG.exports=_4e();var S4e=MG.exports;const Ht=br(S4e);var C4e=Object.getOwnPropertyNames,E4e=Object.getOwnPropertySymbols,A4e=Object.prototype.hasOwnProperty;function xF(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Jy(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function gF(e){return C4e(e).concat(E4e(e))}var $G=Object.hasOwn||function(e,t){return A4e.call(e,t)};function $p(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var BG="_owner",vF=Object.getOwnPropertyDescriptor,yF=Object.keys;function P4e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function T4e(e,t){return $p(e.getTime(),t.getTime())}function bF(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.entries(),i=0,o,l;(o=a.next())&&!o.done;){for(var c=t.entries(),d=!1,u=0;(l=c.next())&&!l.done;){var f=o.value,h=f[0],m=f[1],x=l.value,p=x[0],g=x[1];!d&&!n[u]&&(d=r.equals(h,p,i,u,e,t,r)&&r.equals(m,g,h,p,e,t,r))&&(n[u]=!0),u++}if(!d)return!1;i++}return!0}function k4e(e,t,r){var n=yF(e),a=n.length;if(yF(t).length!==a)return!1;for(var i;a-- >0;)if(i=n[a],i===BG&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!$G(t,i)||!r.equals(e[i],t[i],i,i,e,t,r))return!1;return!0}function Sx(e,t,r){var n=gF(e),a=n.length;if(gF(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],i===BG&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!$G(t,i)||!r.equals(e[i],t[i],i,i,e,t,r)||(o=vF(e,i),l=vF(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function O4e(e,t){return $p(e.valueOf(),t.valueOf())}function D4e(e,t){return e.source===t.source&&e.flags===t.flags}function wF(e,t,r){if(e.size!==t.size)return!1;for(var n={},a=e.values(),i,o;(i=a.next())&&!i.done;){for(var l=t.values(),c=!1,d=0;(o=l.next())&&!o.done;)!c&&!n[d]&&(c=r.equals(i.value,o.value,i.value,o.value,e,t,r))&&(n[d]=!0),d++;if(!c)return!1}return!0}function I4e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var R4e="[object Arguments]",M4e="[object Boolean]",F4e="[object Date]",L4e="[object Map]",$4e="[object Number]",B4e="[object Object]",U4e="[object RegExp]",V4e="[object Set]",z4e="[object String]",W4e=Array.isArray,jF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,NF=Object.assign,H4e=Object.prototype.toString.call.bind(Object.prototype.toString);function G4e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,a=e.areObjectsEqual,i=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(u,f,h){if(u===f)return!0;if(u==null||f==null||typeof u!="object"||typeof f!="object")return u!==u&&f!==f;var m=u.constructor;if(m!==f.constructor)return!1;if(m===Object)return a(u,f,h);if(W4e(u))return t(u,f,h);if(jF!=null&&jF(u))return c(u,f,h);if(m===Date)return r(u,f,h);if(m===RegExp)return o(u,f,h);if(m===Map)return n(u,f,h);if(m===Set)return l(u,f,h);var x=H4e(u);return x===F4e?r(u,f,h):x===U4e?o(u,f,h):x===L4e?n(u,f,h):x===V4e?l(u,f,h):x===B4e?typeof u.then!="function"&&typeof f.then!="function"&&a(u,f,h):x===R4e?a(u,f,h):x===M4e||x===$4e||x===z4e?i(u,f,h):!1}}function q4e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Sx:P4e,areDatesEqual:T4e,areMapsEqual:n?xF(bF,Sx):bF,areObjectsEqual:n?Sx:k4e,arePrimitiveWrappersEqual:O4e,areRegExpsEqual:D4e,areSetsEqual:n?xF(wF,Sx):wF,areTypedArraysEqual:n?Sx:I4e};if(r&&(a=NF({},a,r(a))),t){var i=Jy(a.areArraysEqual),o=Jy(a.areMapsEqual),l=Jy(a.areObjectsEqual),c=Jy(a.areSetsEqual);a=NF({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function K4e(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function X4e(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,d){var u=n(),f=u.cache,h=f===void 0?t?new WeakMap:void 0:f,m=u.meta;return r(c,d,{cache:h,equals:a,meta:m,strict:i})};if(t)return function(c,d){return r(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var Y4e=uu();uu({strict:!0});uu({circular:!0});uu({circular:!0,strict:!0});uu({createInternalComparator:function(){return $p}});uu({strict:!0,createInternalComparator:function(){return $p}});uu({circular:!0,createInternalComparator:function(){return $p}});uu({circular:!0,createInternalComparator:function(){return $p},strict:!0});function uu(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=q4e(e),c=G4e(l),d=n?n(c):K4e(c);return X4e({circular:r,comparator:c,createState:a,equals:d,strict:o})}function Q4e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function _F(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Q4e(a)};requestAnimationFrame(n)}function zA(e){"@babel/helpers - typeof";return zA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zA(e)}function Z4e(e){return rDe(e)||tDe(e)||eDe(e)||J4e()}function J4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eDe(e,t){if(e){if(typeof e=="string")return SF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SF(e,t)}}function SF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rDe(e){if(Array.isArray(e))return e}function nDe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Z4e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){_F(a.bind(null,d),c);return}a(c),_F(a.bind(null,d));return}zA(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function wv(e){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wv(e)}function CF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CF(Object(r),!0).forEach(function(n){UG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UG(e,t,r){return t=sDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sDe(e){var t=aDe(e,"string");return wv(t)==="symbol"?t:String(t)}function aDe(e,t){if(wv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iDe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},oDe=function(t){return t},lDe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ig=function(t,r){return Object.keys(r).reduce(function(n,a){return EF(EF({},n),{},UG({},a,t(a,r[a])))},{})},AF=function(t,r,n){return t.map(function(a){return"".concat(lDe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function cDe(e,t){return fDe(e)||uDe(e,t)||VG(e,t)||dDe()}function dDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function fDe(e){if(Array.isArray(e))return e}function hDe(e){return xDe(e)||pDe(e)||VG(e)||mDe()}function mDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VG(e,t){if(e){if(typeof e=="string")return WA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WA(e,t)}}function pDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xDe(e){if(Array.isArray(e))return WA(e)}function WA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ew=1e-4,zG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},WG=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},PF=function(t,r){return function(n){var a=zG(t,r);return WG(a,n)}},gDe=function(t,r){return function(n){var a=zG(t,r),i=[].concat(hDe(a.map(function(o,l){return o*l}).slice(1)),[0]);return WG(i,n)}},TF=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=cDe(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var f=PF(a,o),h=PF(i,l),m=gDe(a,o),x=function(b){return b>1?1:b<0?0:b},p=function(b){for(var y=b>1?1:b,j=y,w=0;w<8;++w){var N=f(j)-y,_=m(j);if(Math.abs(N-y)<Ew||_<Ew)return h(j);j=x(j-N/_)}return h(j)};return p.isStepper=!1,p},vDe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(u,f,h){var m=-(u-f)*n,x=h*i,p=h+(m-x)*l/1e3,g=h*l/1e3+u;return Math.abs(g-f)<Ew&&Math.abs(p)<Ew?[f,0]:[g,p]};return c.isStepper=!0,c.dt=l,c},yDe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TF(a);case"spring":return vDe();default:if(a.split("(")[0]==="cubic-bezier")return TF(a)}return typeof a=="function"?a:null};function jv(e){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(e)}function kF(e){return jDe(e)||wDe(e)||HG(e)||bDe()}function bDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jDe(e){if(Array.isArray(e))return GA(e)}function OF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OF(Object(r),!0).forEach(function(n){HA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HA(e,t,r){return t=NDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NDe(e){var t=_De(e,"string");return jv(t)==="symbol"?t:String(t)}function _De(e,t){if(jv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SDe(e,t){return ADe(e)||EDe(e,t)||HG(e,t)||CDe()}function CDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HG(e,t){if(e){if(typeof e=="string")return GA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GA(e,t)}}function GA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function ADe(e){if(Array.isArray(e))return e}var Aw=function(t,r,n){return t+(r-t)*n},qA=function(t){var r=t.from,n=t.to;return r!==n},PDe=function e(t,r,n){var a=ig(function(i,o){if(qA(o)){var l=t(o.from,o.to,o.velocity),c=SDe(l,2),d=c[0],u=c[1];return ys(ys({},o),{},{from:d,velocity:u})}return o},r);return n<1?ig(function(i,o){return qA(o)?ys(ys({},o),{},{velocity:Aw(o.velocity,a[i].velocity,n),from:Aw(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const TDe=function(e,t,r,n,a){var i=iDe(e,t),o=i.reduce(function(g,b){return ys(ys({},g),{},HA({},b,[e[b],t[b]]))},{}),l=i.reduce(function(g,b){return ys(ys({},g),{},HA({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,d,u,f=function(){return null},h=function(){return ig(function(b,y){return y.from},l)},m=function(){return!Object.values(l).filter(qA).length},x=function(b){d||(d=b);var y=b-d,j=y/r.dt;l=PDe(r,l,j),a(ys(ys(ys({},e),t),h())),d=b,m()||(c=requestAnimationFrame(f))},p=function(b){u||(u=b);var y=(b-u)/n,j=ig(function(N,_){return Aw.apply(void 0,kF(_).concat([r(y)]))},o);if(a(ys(ys(ys({},e),t),j)),y<1)c=requestAnimationFrame(f);else{var w=ig(function(N,_){return Aw.apply(void 0,kF(_).concat([r(1)]))},o);a(ys(ys(ys({},e),t),w))}};return f=r.isStepper?x:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}var kDe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ODe(e,t){if(e==null)return{};var r=DDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DDe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function vS(e){return FDe(e)||MDe(e)||RDe(e)||IDe()}function IDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RDe(e,t){if(e){if(typeof e=="string")return KA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KA(e,t)}}function MDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FDe(e){if(Array.isArray(e))return KA(e)}function KA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DF(Object(r),!0).forEach(function(n){Bx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bx(e,t,r){return t=GG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $De(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GG(n.key),n)}}function BDe(e,t,r){return t&&$De(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GG(e){var t=UDe(e,"string");return Um(t)==="symbol"?t:String(t)}function UDe(e,t){if(Um(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Um(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XA(e,t)}function XA(e,t){return XA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},XA(e,t)}function zDe(e){var t=WDe();return function(){var n=Pw(e),a;if(t){var i=Pw(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return YA(this,a)}}function YA(e,t){if(t&&(Um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QA(e)}function QA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WDe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pw(e){return Pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pw(e)}var Vo=function(e){VDe(r,e);var t=zDe(r);function r(n,a){var i;LDe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(QA(i)),i.changeStyle=i.changeStyle.bind(QA(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),YA(i);if(f&&f.length)i.state={style:f[0].style};else if(d){if(typeof h=="function")return i.state={style:d},YA(i);i.state={style:c?Bx({},c,d):d}}else i.state={style:{}};return i}return BDe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?Bx({},c,u):u};this.state&&h&&(c&&h[c]!==u||!c&&h!==u)&&this.setState(m);return}if(!(Y4e(a.to,u)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=x||d?f:a.to;if(this.state&&h){var g={style:c?Bx({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(g)}this.runAnimation(ho(ho({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=TDe(o,l,yDe(d),c,this.changeStyle),x=function(){i.stopJSAnimation=m()};this.manager.start([h,u,x,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,f=d.duration,h=f===void 0?0:f,m=function(p,g,b){if(b===0)return p;var y=g.duration,j=g.easing,w=j===void 0?"ease":j,N=g.style,_=g.properties,C=g.onAnimationEnd,S=b>0?o[b-1]:g,E=_||Object.keys(N);if(typeof w=="function"||w==="spring")return[].concat(vS(p),[i.runJSAnimation.bind(i,{from:S.style,to:N,duration:y,easing:w}),y]);var P=AF(E,y,w),I=ho(ho(ho({},S.style),N),{},{transition:P});return[].concat(vS(p),[I,y,C]).filter(oDe)};return this.manager.start([c].concat(vS(o.reduce(m,[u,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=nDe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof d=="function"||typeof m=="function"||d==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?Bx({},l,c):c,g=AF(Object.keys(p),o,d);x.start([u,i,ho(ho({},p),{},{transition:g}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=ODe(a,kDe),d=v.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var f=function(m){var x=m.props,p=x.style,g=p===void 0?{}:p,b=x.className,y=v.cloneElement(m,ho(ho({},c),{},{style:ho(ho({},g),u),className:b}));return y};return d===1?f(v.Children.only(i)):B.createElement("div",null,v.Children.map(i,function(h){return f(h)}))}}]),r}(v.PureComponent);Vo.displayName="Animate";Vo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Vo.propTypes={from:Ht.oneOfType([Ht.object,Ht.string]),to:Ht.oneOfType([Ht.object,Ht.string]),attributeName:Ht.string,duration:Ht.number,begin:Ht.number,easing:Ht.oneOfType([Ht.string,Ht.func]),steps:Ht.arrayOf(Ht.shape({duration:Ht.number.isRequired,style:Ht.object.isRequired,easing:Ht.oneOfType([Ht.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ht.func]),properties:Ht.arrayOf("string"),onAnimationEnd:Ht.func})),children:Ht.oneOfType([Ht.node,Ht.func]),isActive:Ht.bool,canBegin:Ht.bool,onAnimationEnd:Ht.func,shouldReAnimate:Ht.bool,onAnimationStart:Ht.func,onAnimationReStart:Ht.func};Ht.object,Ht.object,Ht.object,Ht.element;Ht.object,Ht.object,Ht.object,Ht.oneOfType([Ht.array,Ht.element]),Ht.any;function Nv(e){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nv(e)}function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tw.apply(this,arguments)}function HDe(e,t){return XDe(e)||KDe(e,t)||qDe(e,t)||GDe()}function GDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qDe(e,t){if(e){if(typeof e=="string")return IF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IF(e,t)}}function IF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function XDe(e){if(Array.isArray(e))return e}function RF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RF(Object(r),!0).forEach(function(n){YDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YDe(e,t,r){return t=QDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QDe(e){var t=ZDe(e,"string");return Nv(t)=="symbol"?t:t+""}function ZDe(e,t){if(Nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FF=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,d=a>=0&&n>=0||a<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];u="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(t+c*f[0],",").concat(r)),u+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(r+l*f[1])),u+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),u+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+a-l*f[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);u="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n,",").concat(r+l*x,`
            L `).concat(t+n,",").concat(r+a-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+n-c*x,",").concat(r+a,`
            L `).concat(t+c*x,",").concat(r+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t,",").concat(r+a-l*x," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},JDe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=d&&n<=u&&a>=f&&a<=h}return!1},eIe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},c4=function(t){var r=MF(MF({},eIe),t),n=v.useRef(),a=v.useState(-1),i=HDe(a,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,d=r.y,u=r.width,f=r.height,h=r.radius,m=r.className,x=r.animationEasing,p=r.animationDuration,g=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||u===0||f===0)return null;var j=Lt("recharts-rectangle",m);return y?B.createElement(Vo,{canBegin:o>0,from:{width:u,height:f,x:c,y:d},to:{width:u,height:f,x:c,y:d},duration:p,animationEasing:x,isActive:y},function(w){var N=w.width,_=w.height,C=w.x,S=w.y;return B.createElement(Vo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,isActive:b,easing:x},B.createElement("path",Tw({},jt(r,!0),{className:j,d:FF(C,S,N,_,h),ref:n})))}):B.createElement("path",Tw({},jt(r,!0),{className:j,d:FF(c,d,u,f,h)}))},tIe=["points","className","baseLinePoints","connectNulls"];function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kh.apply(this,arguments)}function rIe(e,t){if(e==null)return{};var r=nIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LF(e){return oIe(e)||iIe(e)||aIe(e)||sIe()}function sIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aIe(e,t){if(e){if(typeof e=="string")return ZA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZA(e,t)}}function iIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oIe(e){if(Array.isArray(e))return ZA(e)}function ZA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $F=function(t){return t&&t.x===+t.x&&t.y===+t.y},lIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){$F(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),$F(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},og=function(t,r){var n=lIe(t);r&&(n=[n.reduce(function(i,o){return[].concat(LF(i),LF(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},cIe=function(t,r,n){var a=og(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(og(r.reverse(),n).slice(1))},dIe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=rIe(t,tIe);if(!r||!r.length)return null;var l=Lt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=cIe(r,a,i);return B.createElement("g",{className:l},B.createElement("path",kh({},jt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?B.createElement("path",kh({},jt(o,!0),{fill:"none",d:og(r,i)})):null,c?B.createElement("path",kh({},jt(o,!0),{fill:"none",d:og(a,i)})):null)}var u=og(r,i);return B.createElement("path",kh({},jt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function JA(){return JA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JA.apply(this,arguments)}var z0=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=Lt("recharts-dot",i);return r===+r&&n===+n&&a===+a?B.createElement("circle",JA({},jt(t,!1),Yb(t),{className:o,cx:r,cy:n,r:a})):null};function _v(e){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_v(e)}var uIe=["x","y","top","left","width","height","className"];function eP(){return eP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eP.apply(this,arguments)}function BF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fIe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BF(Object(r),!0).forEach(function(n){hIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hIe(e,t,r){return t=mIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mIe(e){var t=pIe(e,"string");return _v(t)=="symbol"?t:t+""}function pIe(e,t){if(_v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xIe(e,t){if(e==null)return{};var r=gIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vIe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},yIe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,f=u===void 0?0:u,h=t.height,m=h===void 0?0:h,x=t.className,p=xIe(t,uIe),g=fIe({x:n,y:i,top:l,left:d,width:f,height:m},p);return!He(n)||!He(i)||!He(f)||!He(m)||!He(l)||!He(d)?null:B.createElement("path",eP({},jt(g,!0),{className:Lt("recharts-cross",x),d:vIe(n,i,f,m,l,d)}))},bIe=r_,wIe=nG,jIe=Wl;function NIe(e,t){return e&&e.length?bIe(e,jIe(t),wIe):void 0}var _Ie=NIe;const SIe=br(_Ie);var CIe=r_,EIe=Wl,AIe=sG;function PIe(e,t){return e&&e.length?CIe(e,EIe(t),AIe):void 0}var TIe=PIe;const kIe=br(TIe);var OIe=["cx","cy","angle","ticks","axisLine"],DIe=["ticks","tick","angle","tickFormatter","stroke"];function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lg.apply(this,arguments)}function UF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UF(Object(r),!0).forEach(function(n){i_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VF(e,t){if(e==null)return{};var r=IIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KG(n.key),n)}}function MIe(e,t,r){return t&&zF(e.prototype,t),r&&zF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FIe(e,t,r){return t=kw(t),LIe(e,qG()?Reflect.construct(t,r||[],kw(e).constructor):t.apply(e,r))}function LIe(e,t){if(t&&(Vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ie(e)}function $Ie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qG=function(){return!!e})()}function kw(e){return kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kw(e)}function BIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tP(e,t)}function tP(e,t){return tP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tP(e,t)}function i_(e,t,r){return t=KG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KG(e){var t=UIe(e,"string");return Vm(t)=="symbol"?t:t+""}function UIe(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o_=function(e){function t(){return RIe(this,t),FIe(this,t,arguments)}return BIe(t,e),MIe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Ur(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=SIe(l,function(u){return u.coordinate||0}),d=kIe(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=VF(n,OIe),u=l.reduce(function(x,p){return[Math.min(x[0],p.coordinate),Math.max(x[1],p.coordinate)]},[1/0,-1/0]),f=Ur(a,i,u[0],o),h=Ur(a,i,u[1],o),m=yu(yu(yu({},jt(d,!1)),{},{fill:"none"},jt(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return B.createElement("line",lg({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=VF(a,DIe),f=this.getTickTextAnchor(),h=jt(u,!1),m=jt(o,!1),x=i.map(function(p,g){var b=n.getTickValueCoord(p),y=yu(yu(yu(yu({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:d},m),{},{index:g},b),{},{payload:p});return B.createElement(Jt,lg({className:Lt("recharts-polar-radius-axis-tick",OG(o)),key:"tick-".concat(p.coordinate)},_f(n.props,p,g)),t.renderTickItem(o,y,c?c(p.value,g):p.value))});return B.createElement(Jt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:B.createElement(Jt,{className:Lt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),ns.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return B.isValidElement(n)?o=B.cloneElement(n,a):kt(n)?o=n(a):o=B.createElement(Sf,lg({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(v.PureComponent);i_(o_,"displayName","PolarRadiusAxis");i_(o_,"axisType","radiusAxis");i_(o_,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ku.apply(this,arguments)}function WF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WF(Object(r),!0).forEach(function(n){l_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YG(n.key),n)}}function zIe(e,t,r){return t&&HF(e.prototype,t),r&&HF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WIe(e,t,r){return t=Ow(t),HIe(e,XG()?Reflect.construct(t,r||[],Ow(e).constructor):t.apply(e,r))}function HIe(e,t){if(t&&(zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GIe(e)}function GIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XG=function(){return!!e})()}function Ow(e){return Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ow(e)}function qIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rP(e,t)}function rP(e,t){return rP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rP(e,t)}function l_(e,t,r){return t=YG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YG(e){var t=KIe(e,"string");return zm(t)=="symbol"?t:t+""}function KIe(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XIe=Math.PI/180,GF=1e-5,c_=function(e){function t(){return VIe(this,t),WIe(this,t,arguments)}return qIe(t,e),zIe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,f=Ur(i,o,l,n.coordinate),h=Ur(i,o,l+(c==="inner"?-1:1)*u,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*XIe),o;return i>GF?o=a==="outer"?"start":"end":i<-GF?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=bu(bu({},jt(this.props,!1)),{},{fill:"none"},jt(l,!1));if(c==="circle")return B.createElement(z0,ku({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,f=u.map(function(h){return Ur(a,i,o,h.coordinate)});return B.createElement(dIe,ku({className:"recharts-polar-angle-axis-line"},d,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=jt(this.props,!1),f=jt(o,!1),h=bu(bu({},u),{},{fill:"none"},jt(l,!1)),m=i.map(function(x,p){var g=n.getTickLineCoord(x),b=n.getTickTextAnchor(x),y=bu(bu(bu({textAnchor:b},u),{},{stroke:"none",fill:d},f),{},{index:p,payload:x,x:g.x2,y:g.y2});return B.createElement(Jt,ku({className:Lt("recharts-polar-angle-axis-tick",OG(o)),key:"tick-".concat(x.coordinate)},_f(n.props,x,p)),l&&B.createElement("line",ku({className:"recharts-polar-angle-axis-tick-line"},h,g)),o&&t.renderTickItem(o,y,c?c(x.value,p):x.value))});return B.createElement(Jt,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:B.createElement(Jt,{className:Lt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return B.isValidElement(n)?o=B.cloneElement(n,a):kt(n)?o=n(a):o=B.createElement(Sf,ku({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(v.PureComponent);l_(c_,"displayName","PolarAngleAxis");l_(c_,"axisType","angleAxis");l_(c_,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var YIe=JW,QIe=YIe(Object.getPrototypeOf,Object),ZIe=QIe,JIe=Wc,eRe=ZIe,tRe=Hc,rRe="[object Object]",nRe=Function.prototype,sRe=Object.prototype,QG=nRe.toString,aRe=sRe.hasOwnProperty,iRe=QG.call(Object);function oRe(e){if(!tRe(e)||JIe(e)!=rRe)return!1;var t=eRe(e);if(t===null)return!0;var r=aRe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&QG.call(r)==iRe}var lRe=oRe;const cRe=br(lRe);var dRe=Wc,uRe=Hc,fRe="[object Boolean]";function hRe(e){return e===!0||e===!1||uRe(e)&&dRe(e)==fRe}var mRe=hRe;const pRe=br(mRe);function Sv(e){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sv(e)}function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dw.apply(this,arguments)}function xRe(e,t){return bRe(e)||yRe(e,t)||vRe(e,t)||gRe()}function gRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vRe(e,t){if(e){if(typeof e=="string")return qF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qF(e,t)}}function qF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function bRe(e){if(Array.isArray(e))return e}function KF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KF(Object(r),!0).forEach(function(n){wRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wRe(e,t,r){return t=jRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jRe(e){var t=NRe(e,"string");return Sv(t)=="symbol"?t:t+""}function NRe(e,t){if(Sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YF=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},_Re={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SRe=function(t){var r=XF(XF({},_Re),t),n=v.useRef(),a=v.useState(-1),i=xRe(a,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,x=r.animationEasing,p=r.animationDuration,g=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var y=Lt("recharts-trapezoid",m);return b?B.createElement(Vo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:d},to:{upperWidth:u,lowerWidth:f,height:h,x:c,y:d},duration:p,animationEasing:x,isActive:b},function(j){var w=j.upperWidth,N=j.lowerWidth,_=j.height,C=j.x,S=j.y;return B.createElement(Vo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,easing:x},B.createElement("path",Dw({},jt(r,!0),{className:y,d:YF(C,S,w,N,_),ref:n})))}):B.createElement("g",null,B.createElement("path",Dw({},jt(r,!0),{className:y,d:YF(c,d,u,f,h)})))},CRe=["option","shapeType","propTransformer","activeClassName","isActive"];function Cv(e){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cv(e)}function ERe(e,t){if(e==null)return{};var r=ARe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ARe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Iw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QF(Object(r),!0).forEach(function(n){PRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PRe(e,t,r){return t=TRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TRe(e){var t=kRe(e,"string");return Cv(t)=="symbol"?t:t+""}function kRe(e,t){if(Cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ORe(e,t){return Iw(Iw({},t),e)}function DRe(e,t){return e==="symbols"}function ZF(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return B.createElement(c4,r);case"trapezoid":return B.createElement(SRe,r);case"sector":return B.createElement(RG,r);case"symbols":if(DRe(t))return B.createElement(AO,r);break;default:return null}}function IRe(e){return v.isValidElement(e)?e.props:e}function ZG(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?ORe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=ERe(e,CRe),d;if(v.isValidElement(t))d=v.cloneElement(t,Iw(Iw({},c),IRe(t)));else if(kt(t))d=t(c);else if(cRe(t)&&!pRe(t)){var u=a(t,c);d=B.createElement(ZF,{shapeType:r,elementProps:u})}else{var f=c;d=B.createElement(ZF,{shapeType:r,elementProps:f})}return l?B.createElement(Jt,{className:o},d):d}function d_(e,t){return t!=null&&"trapezoids"in e.props}function u_(e,t){return t!=null&&"sectors"in e.props}function Ev(e,t){return t!=null&&"points"in e.props}function RRe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function MRe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function FRe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function LRe(e,t){var r;return d_(e,t)?r=RRe:u_(e,t)?r=MRe:Ev(e,t)&&(r=FRe),r}function $Re(e,t){var r;return d_(e,t)?r="trapezoids":u_(e,t)?r="sectors":Ev(e,t)&&(r="points"),r}function BRe(e,t){if(d_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(u_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ev(e,t)?t.payload:{}}function URe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=$Re(r,t),i=BRe(r,t),o=n.filter(function(c,d){var u=Cf(i,c),f=r.props[a].filter(function(x){var p=LRe(r,t);return p(x,t)}),h=r.props[a].indexOf(f[f.length-1]),m=d===h;return u&&m}),l=n.indexOf(o[o.length-1]);return l}var B1;function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oh.apply(this,arguments)}function JF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JF(Object(r),!0).forEach(function(n){$i(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eq(n.key),n)}}function zRe(e,t,r){return t&&eL(e.prototype,t),r&&eL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function WRe(e,t,r){return t=Rw(t),HRe(e,JG()?Reflect.construct(t,r||[],Rw(e).constructor):t.apply(e,r))}function HRe(e,t){if(t&&(Wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GRe(e)}function GRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JG=function(){return!!e})()}function Rw(e){return Rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rw(e)}function qRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nP(e,t)}function nP(e,t){return nP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nP(e,t)}function $i(e,t,r){return t=eq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eq(e){var t=KRe(e,"string");return Wm(t)=="symbol"?t:t+""}function KRe(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hl=function(e){function t(r){var n;return VRe(this,t),n=WRe(this,t,[r]),$i(n,"pieRef",null),$i(n,"sectorRefs",[]),$i(n,"id",Vf("recharts-pie-")),$i(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),kt(a)&&a()}),$i(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),kt(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return qRe(t,e),zRe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=jt(this.props,!1),f=jt(o,!1),h=jt(l,!1),m=o&&o.offsetRadius||20,x=n.map(function(p,g){var b=(p.startAngle+p.endAngle)/2,y=Ur(p.cx,p.cy,p.outerRadius+m,b),j=Mr(Mr(Mr(Mr({},u),p),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(y.x,p.cx)},y),w=Mr(Mr(Mr(Mr({},u),p),{},{fill:"none",stroke:p.fill},h),{},{index:g,points:[Ur(p.cx,p.cy,p.outerRadius,b),y]}),N=c;return Mt(c)&&Mt(d)?N="value":Mt(c)&&(N=d),B.createElement(Jt,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(g)},l&&t.renderLabelLineItem(l,w,"line"),t.renderLabelItem(o,j,En(p,N)))});return B.createElement(Jt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(u),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,x=Mr(Mr({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return B.createElement(Jt,Oh({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},_f(a.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),B.createElement(ZG,Oh({option:m,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return B.createElement(Vo,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var p=x.t,g=[],b=i&&i[0],y=b.startAngle;return i.forEach(function(j,w){var N=h&&h[w],_=w>0?fi(j,"paddingAngle",0):0;if(N){var C=qn(N.endAngle-N.startAngle,j.endAngle-j.startAngle),S=Mr(Mr({},j),{},{startAngle:y+_,endAngle:y+C(p)+_});g.push(S),y=S.endAngle}else{var E=j.endAngle,P=j.startAngle,I=qn(0,E-P),D=I(p),U=Mr(Mr({},j),{},{startAngle:y+_,endAngle:y+D+_});g.push(U),y=U.endAngle}}),B.createElement(Jt,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Cf(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!He(d)||!He(u)||!He(f)||!He(h))return null;var p=Lt("recharts-pie",l);return B.createElement(Jt,{tabIndex:this.props.rootTabIndex,className:p,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),ns.renderCallByParent(this.props,null,!1),(!m||x)&&Al.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(B.isValidElement(n))return B.cloneElement(n,a);if(kt(n))return n(a);var o=Lt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return B.createElement(sf,Oh({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(B.isValidElement(n))return B.cloneElement(n,a);var o=i;if(kt(n)&&(o=n(a),B.isValidElement(o)))return o;var l=Lt("recharts-pie-label-text",typeof n!="boolean"&&!kt(n)?n.className:"");return B.createElement(Sf,Oh({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(v.PureComponent);B1=Hl;$i(Hl,"displayName","Pie");$i(Hl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Mo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});$i(Hl,"parseDeltaAngle",function(e,t){var r=ca(t-e),n=Math.min(Math.abs(t-e),360);return r*n});$i(Hl,"getRealPieData",function(e){var t=e.data,r=e.children,n=jt(e,!1),a=hi(r,F0);return t&&t.length?t.map(function(i,o){return Mr(Mr(Mr({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Mr(Mr({},n),i.props)}):[]});$i(Hl,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=kG(a,i),l=n+da(e.cx,a,a/2),c=r+da(e.cy,i,i/2),d=da(e.innerRadius,o,0),u=da(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:f}});$i(Hl,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Mr(Mr({},t.type.defaultProps),t.props):t.props,a=B1.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,u=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),x=B1.parseCoordinateOfPie(n,r),p=B1.parseDeltaAngle(o,l),g=Math.abs(p),b=d;Mt(d)&&Mt(f)?(Io(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Mt(d)&&(Io(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var y=a.filter(function(S){return En(S,b,0)!==0}).length,j=(g>=360?y:y-1)*c,w=g-y*m-j,N=a.reduce(function(S,E){var P=En(E,b,0);return S+(He(P)?P:0)},0),_;if(N>0){var C;_=a.map(function(S,E){var P=En(S,b,0),I=En(S,u,E),D=(He(P)?P:0)/N,U;E?U=C.endAngle+ca(p)*c*(P!==0?1:0):U=o;var F=U+ca(p)*((P!==0?m:0)+D*w),M=(U+F)/2,O=(x.innerRadius+x.outerRadius)/2,A=[{name:I,value:P,payload:S,dataKey:b,type:h}],k=Ur(x.cx,x.cy,O,M);return C=Mr(Mr(Mr({percent:D,cornerRadius:i,name:I,tooltipPayload:A,midAngle:M,middleRadius:O,tooltipPosition:k},S),x),{},{value:En(S,b),startAngle:U,endAngle:F,payload:S,paddingAngle:ca(p)*c}),C})}return Mr(Mr({},x),{},{sectors:_,data:a})});var XRe=Math.ceil,YRe=Math.max;function QRe(e,t,r,n){for(var a=-1,i=YRe(XRe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var ZRe=QRe,JRe=vH,tL=1/0,e3e=17976931348623157e292;function t3e(e){if(!e)return e===0?e:0;if(e=JRe(e),e===tL||e===-tL){var t=e<0?-1:1;return t*e3e}return e===e?e:0}var tq=t3e,r3e=ZRe,n3e=XN,yS=tq;function s3e(e){return function(t,r,n){return n&&typeof n!="number"&&n3e(t,r,n)&&(r=n=void 0),t=yS(t),r===void 0?(r=t,t=0):r=yS(r),n=n===void 0?t<r?1:-1:yS(n),r3e(t,r,n,e)}}var a3e=s3e,i3e=a3e,o3e=i3e(),l3e=o3e;const Mw=br(l3e);function Av(e){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(e)}function rL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rL(Object(r),!0).forEach(function(n){rq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rq(e,t,r){return t=c3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c3e(e){var t=d3e(e,"string");return Av(t)=="symbol"?t:t+""}function d3e(e,t){if(Av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u3e=["Webkit","Moz","O","ms"],f3e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=u3e.reduce(function(i,o){return nL(nL({},i),{},rq({},o+n,r))},{});return a[t]=r,a};function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function Fw(){return Fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fw.apply(this,arguments)}function sL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sL(Object(r),!0).forEach(function(n){Qa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sq(n.key),n)}}function m3e(e,t,r){return t&&aL(e.prototype,t),r&&aL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p3e(e,t,r){return t=Lw(t),x3e(e,nq()?Reflect.construct(t,r||[],Lw(e).constructor):t.apply(e,r))}function x3e(e,t){if(t&&(Hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g3e(e)}function g3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nq=function(){return!!e})()}function Lw(e){return Lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lw(e)}function v3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sP(e,t)}function sP(e,t){return sP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sP(e,t)}function Qa(e,t,r){return t=sq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sq(e){var t=y3e(e,"string");return Hm(t)=="symbol"?t:t+""}function y3e(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b3e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=sg().domain(Mw(0,c)).range([i,i+o-l]),u=d.domain().map(function(f){return d(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(a),scale:d,scaleValues:u}},iL=function(t){return t.changedTouches&&!!t.changedTouches.length},Gm=function(e){function t(r){var n;return h3e(this,t),n=p3e(this,t,[r]),Qa(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Qa(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Qa(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Qa(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Qa(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Qa(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Qa(n,"handleSlideDragStart",function(a){var i=iL(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return v3e(t,e),m3e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,f=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(o,f),x=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:x===u?u:x-x%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=En(i[n],l,n);return kt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,x=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,d+u-f-l,d+u-f-o):p<0&&(p=Math.max(p,d-o,d-l));var g=this.getIndex({startX:o+p,endX:l+p});(g.startIndex!==h||g.endIndex!==m)&&x&&x(g),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=iL(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,f=u.x,h=u.width,m=u.travellerWidth,x=u.onChange,p=u.gap,g=u.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-m-d):y<0&&(y=Math.max(y,f-d)),b[o]=d+y;var j=this.getIndex(b),w=j.startIndex,N=j.endIndex,_=function(){var S=g.length-1;return o==="startX"&&(l>c?w%p===0:N%p===0)||l<c&&N===S||o==="endX"&&(l>c?N%p===0:w%p===0)||l>c&&N===S};this.setState(Qa(Qa({},o,d+y),"brushMoveStartX",n.pageX),function(){x&&_()&&x(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],f=l.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=d||a==="endX"&&m<=c||this.setState(Qa({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return B.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,d=n.children,u=n.padding,f=v.Children.only(d);return f?B.cloneElement(f,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,x=c.data,p=c.startIndex,g=c.endIndex,b=Math.max(n,this.props.x),y=bS(bS({},jt(this.props,!1)),{},{x:b,y:d,width:u,height:f}),j=m||"Min value: ".concat((i=x[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[g])===null||o===void 0?void 0:o.name);return B.createElement(Jt,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(n,a)+d,f=Math.max(Math.abs(a-n)-d,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,u=this.state,f=u.startX,h=u.endX,m=5,x={pointerEvents:"none",fill:d};return B.createElement(Jt,{className:"recharts-brush-texts"},B.createElement(Sf,Fw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},x),this.getTextOfTick(a)),B.createElement(Sf,Fw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,d=n.width,u=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,x=h.endX,p=h.isTextActive,g=h.isSlideMoving,b=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!He(l)||!He(c)||!He(d)||!He(u)||d<=0||u<=0)return null;var j=Lt("recharts-brush",i),w=B.Children.count(o)===1,N=f3e("userSelect","none");return B.createElement(Jt,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(p||g||b||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(i+l/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),B.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return B.isValidElement(n)?i=B.cloneElement(n,a):kt(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,u=n.startIndex,f=n.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return bS({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?b3e({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(v.PureComponent);Qa(Gm,"displayName","Brush");Qa(Gm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var w3e=RO;function j3e(e,t){var r;return w3e(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var N3e=j3e,_3e=HW,S3e=Wl,C3e=N3e,E3e=Ha,A3e=XN;function P3e(e,t,r){var n=E3e(e)?_3e:C3e;return r&&A3e(e,t,r)&&(t=void 0),n(e,S3e(t))}var T3e=P3e;const k3e=br(T3e);var Pl=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},oL=hH;function O3e(e,t,r){t=="__proto__"&&oL?oL(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var D3e=O3e,I3e=D3e,R3e=uH,M3e=Wl;function F3e(e,t){var r={};return t=M3e(t),R3e(e,function(n,a,i){I3e(r,a,t(n,a,i))}),r}var L3e=F3e;const $3e=br(L3e);function B3e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var U3e=B3e,V3e=RO;function z3e(e,t){var r=!0;return V3e(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var W3e=z3e,H3e=U3e,G3e=W3e,q3e=Wl,K3e=Ha,X3e=XN;function Y3e(e,t,r){var n=K3e(e)?H3e:G3e;return r&&X3e(e,t,r)&&(t=void 0),n(e,q3e(t))}var Q3e=Y3e;const aq=br(Q3e);var Z3e=["x","y"];function Pv(e){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pv(e)}function aP(){return aP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aP.apply(this,arguments)}function lL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lL(Object(r),!0).forEach(function(n){J3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J3e(e,t,r){return t=e5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e5e(e){var t=t5e(e,"string");return Pv(t)=="symbol"?t:t+""}function t5e(e,t){if(Pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r5e(e,t){if(e==null)return{};var r=n5e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function n5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function s5e(e,t){var r=e.x,n=e.y,a=r5e(e,Z3e),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),d="".concat(t.height||a.height),u=parseInt(d,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Cx(Cx(Cx(Cx(Cx({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function cL(e){return B.createElement(ZG,aP({shapeType:"rectangle",propTransformer:s5e,activeClassName:"recharts-active-bar"},e))}var a5e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||Zd(),r)}},i5e=["value","background"],iq;function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function o5e(e,t){if(e==null)return{};var r=l5e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $w(){return $w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$w.apply(this,arguments)}function dL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function On(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dL(Object(r),!0).forEach(function(n){Cd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lq(n.key),n)}}function d5e(e,t,r){return t&&uL(e.prototype,t),r&&uL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u5e(e,t,r){return t=Bw(t),f5e(e,oq()?Reflect.construct(t,r||[],Bw(e).constructor):t.apply(e,r))}function f5e(e,t){if(t&&(qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h5e(e)}function h5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oq=function(){return!!e})()}function Bw(e){return Bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bw(e)}function m5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iP(e,t)}function iP(e,t){return iP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iP(e,t)}function Cd(e,t,r){return t=lq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lq(e){var t=p5e(e,"string");return qm(t)=="symbol"?t:t+""}function p5e(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ro=function(e){function t(){var r;c5e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=u5e(this,t,[].concat(a)),Cd(r,"state",{isAnimationFinished:!1}),Cd(r,"id",Vf("recharts-bar-")),Cd(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Cd(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return m5e(t,e),d5e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=jt(this.props,!1);return n&&n.map(function(f,h){var m=h===c,x=m?d:o,p=On(On(On({},u),f),{},{isActive:m,option:x,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return B.createElement(Jt,$w({className:"recharts-bar-rectangle"},_f(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),B.createElement(cL,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,f=a.animationId,h=this.state.prevData;return B.createElement(Vo,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var x=m.t,p=i.map(function(g,b){var y=h&&h[b];if(y){var j=qn(y.x,g.x),w=qn(y.y,g.y),N=qn(y.width,g.width),_=qn(y.height,g.height);return On(On({},g),{},{x:j(x),y:w(x),width:N(x),height:_(x)})}if(o==="horizontal"){var C=qn(0,g.height),S=C(x);return On(On({},g),{},{y:g.y+g.height-S,height:S})}var E=qn(0,g.width),P=E(x);return On(On({},g),{},{width:P})});return B.createElement(Jt,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Cf(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=jt(this.props.background,!1);return i.map(function(d,u){d.value;var f=d.background,h=o5e(d,i5e);if(!f)return null;var m=On(On(On(On(On({},h),{},{fill:"#eee"},f),c),_f(n.props,d,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return B.createElement(cL,$w({key:"background-bar-".concat(u),option:n.props.background,isActive:u===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=hi(u,V0);if(!f)return null;var h=d==="vertical"?o[0].height/2:o[0].width/2,m=function(g,b){var y=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:y,errorVal:En(g,b)}},x={clipPath:n?"url(#clipPath-".concat(a,")"):null};return B.createElement(Jt,x,f.map(function(p){return B.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,u=n.top,f=n.width,h=n.height,m=n.isAnimationActive,x=n.background,p=n.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,b=Lt("recharts-bar",o),y=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,w=y||j,N=Mt(p)?this.id:p;return B.createElement(Jt,{className:b},y||j?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(N)},B.createElement("rect",{x:y?d:d-f/2,y:j?u:u-h/2,width:y?f:f*2,height:j?h:h*2}))):null,B.createElement(Jt,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(N,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,N),(!m||g)&&Al.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(v.PureComponent);iq=ro;Cd(ro,"displayName","Bar");Cd(ro,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Mo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Cd(ro,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,m=aOe(n,r);if(!m)return null;var x=t.layout,p=r.type.defaultProps,g=p!==void 0?On(On({},p),r.props):r.props,b=g.dataKey,y=g.children,j=g.minPointSize,w=x==="horizontal"?o:i,N=d?w.scale.domain():null,_=fOe({numericAxis:w}),C=hi(y,F0),S=f.map(function(E,P){var I,D,U,F,M,O;d?I=iOe(d[u+P],N):(I=En(E,b),Array.isArray(I)||(I=[_,I]));var A=a5e(j,iq.defaultProps.minPointSize)(I[1],P);if(x==="horizontal"){var k,W=[o.scale(I[0]),o.scale(I[1])],fe=W[0],de=W[1];D=eF({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:E,index:P}),U=(k=de??fe)!==null&&k!==void 0?k:void 0,F=m.size;var T=fe-de;if(M=Number.isNaN(T)?0:T,O={x:D,y:o.y,width:F,height:o.height},Math.abs(A)>0&&Math.abs(M)<Math.abs(A)){var L=ca(M||A)*(Math.abs(A)-Math.abs(M));U-=L,M+=L}}else{var R=[i.scale(I[0]),i.scale(I[1])],K=R[0],q=R[1];if(D=K,U=eF({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:E,index:P}),F=q-K,M=m.size,O={x:i.x,y:U,width:i.width,height:M},Math.abs(A)>0&&Math.abs(F)<Math.abs(A)){var Z=ca(F||A)*(Math.abs(A)-Math.abs(F));F+=Z}}return On(On(On({},E),{},{x:D,y:U,width:F,height:M,value:d?I:I[1],payload:E,background:O},C&&C[P]&&C[P].props),{},{tooltipPayload:[PG(r,E)],tooltipPosition:{x:D+F/2,y:U+M/2}})});return On({data:S,layout:x},h)});function Tv(e){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tv(e)}function x5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cq(n.key),n)}}function g5e(e,t,r){return t&&fL(e.prototype,t),r&&fL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hL(Object(r),!0).forEach(function(n){f_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f_(e,t,r){return t=cq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cq(e){var t=v5e(e,"string");return Tv(t)=="symbol"?t:t+""}function v5e(e,t){if(Tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d4=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!ri(d,ro);return u.reduce(function(m,x){var p=r[x],g=p.orientation,b=p.domain,y=p.padding,j=y===void 0?{}:y,w=p.mirror,N=p.reversed,_="".concat(g).concat(w?"Mirror":""),C,S,E,P,I;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var D=b[1]-b[0],U=1/0,F=p.categoricalDomain.sort();if(F.forEach(function(R,K){K>0&&(U=Math.min((R||0)-(F[K-1]||0),U))}),Number.isFinite(U)){var M=U/D,O=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(C=M*O/2),p.padding==="no-gap"){var A=da(t.barCategoryGap,M*O),k=M*O/2;C=k-A-(k-A)/O*A}}}a==="xAxis"?S=[n.left+(j.left||0)+(C||0),n.left+n.width-(j.right||0)-(C||0)]:a==="yAxis"?S=c==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(C||0),n.top+n.height-(j.bottom||0)-(C||0)]:S=p.range,N&&(S=[S[1],S[0]]);var W=SG(p,i,h),fe=W.scale,de=W.realScaleType;fe.domain(b).range(S),CG(fe);var T=EG(fe,bo(bo({},p),{},{realScaleType:de}));a==="xAxis"?(I=g==="top"&&!w||g==="bottom"&&w,E=n.left,P=f[_]-I*p.height):a==="yAxis"&&(I=g==="left"&&!w||g==="right"&&w,E=f[_]-I*p.width,P=n.top);var L=bo(bo(bo({},p),T),{},{realScaleType:de,x:E,y:P,scale:fe,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return L.bandSize=_w(L,T),!p.hide&&a==="xAxis"?f[_]+=(I?-1:1)*L.height:p.hide||(f[_]+=(I?-1:1)*L.width),bo(bo({},m),{},f_({},x,L))},{})},dq=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},y5e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return dq({x:r,y:n},{x:a,y:i})},uq=function(){function e(t){x5e(this,e),this.scale=t}return g5e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();f_(uq,"EPS",1e-4);var u4=function(t){var r=Object.keys(t).reduce(function(n,a){return bo(bo({},n),{},f_({},a,uq.create(t[a])))},{});return bo(bo({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return $3e(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return aq(a,function(i,o){return r[o].isInRange(i)})}})};function b5e(e){return(e%180+180)%180}var w5e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=b5e(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},j5e=Wl,N5e=M0,_5e=qN;function S5e(e){return function(t,r,n){var a=Object(t);if(!N5e(t)){var i=j5e(r);t=_5e(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var C5e=S5e,E5e=tq;function A5e(e){var t=E5e(e),r=t%1;return t===t?r?t-r:t:0}var P5e=A5e,T5e=aH,k5e=Wl,O5e=P5e,D5e=Math.max;function I5e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:O5e(r);return a<0&&(a=D5e(n+a,0)),T5e(e,k5e(t),a)}var R5e=I5e,M5e=C5e,F5e=R5e,L5e=M5e(F5e),$5e=L5e;const B5e=br($5e);var U5e=Kve(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),f4=v.createContext(void 0),h4=v.createContext(void 0),fq=v.createContext(void 0),hq=v.createContext({}),mq=v.createContext(void 0),pq=v.createContext(0),xq=v.createContext(0),mL=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=U5e(i);return B.createElement(f4.Provider,{value:n},B.createElement(h4.Provider,{value:a},B.createElement(hq.Provider,{value:i},B.createElement(fq.Provider,{value:u},B.createElement(mq.Provider,{value:o},B.createElement(pq.Provider,{value:d},B.createElement(xq.Provider,{value:c},l)))))))},V5e=function(){return v.useContext(mq)},gq=function(t){var r=v.useContext(f4);r==null&&Zd();var n=r[t];return n==null&&Zd(),n},z5e=function(){var t=v.useContext(f4);return fd(t)},W5e=function(){var t=v.useContext(h4),r=B5e(t,function(n){return aq(n.domain,Number.isFinite)});return r||fd(t)},vq=function(t){var r=v.useContext(h4);r==null&&Zd();var n=r[t];return n==null&&Zd(),n},H5e=function(){var t=v.useContext(fq);return t},G5e=function(){return v.useContext(hq)},m4=function(){return v.useContext(xq)},p4=function(){return v.useContext(pq)};function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function q5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K5e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bq(n.key),n)}}function X5e(e,t,r){return t&&K5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y5e(e,t,r){return t=Uw(t),Q5e(e,yq()?Reflect.construct(t,r||[],Uw(e).constructor):t.apply(e,r))}function Q5e(e,t){if(t&&(Km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z5e(e)}function Z5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yq=function(){return!!e})()}function Uw(e){return Uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uw(e)}function J5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oP(e,t)}function oP(e,t){return oP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oP(e,t)}function pL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pL(Object(r),!0).forEach(function(n){x4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x4(e,t,r){return t=bq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bq(e){var t=eMe(e,"string");return Km(t)=="symbol"?t:t+""}function eMe(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tMe(e,t){return aMe(e)||sMe(e,t)||nMe(e,t)||rMe()}function rMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nMe(e,t){if(e){if(typeof e=="string")return gL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gL(e,t)}}function gL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function aMe(e){if(Array.isArray(e))return e}function lP(){return lP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lP.apply(this,arguments)}var iMe=function(t,r){var n;return B.isValidElement(t)?n=B.cloneElement(t,r):kt(t)?n=t(r):n=B.createElement("line",lP({},r,{className:"recharts-reference-line-line"})),n},oMe=function(t,r,n,a,i,o,l,c,d){var u=i.x,f=i.y,h=i.width,m=i.height;if(n){var x=d.y,p=t.y.apply(x,{position:o});if(Pl(d,"discard")&&!t.y.isInRange(p))return null;var g=[{x:u+h,y:p},{x:u,y:p}];return c==="left"?g.reverse():g}if(r){var b=d.x,y=t.x.apply(b,{position:o});if(Pl(d,"discard")&&!t.x.isInRange(y))return null;var j=[{x:y,y:f+m},{x:y,y:f}];return l==="top"?j.reverse():j}if(a){var w=d.segment,N=w.map(function(_){return t.apply(_,{position:o})});return Pl(d,"discard")&&k3e(N,function(_){return!t.isInRange(_)})?null:N}return null};function lMe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=V5e(),u=gq(a),f=vq(i),h=H5e();if(!d||!h)return null;Io(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=u4({x:u.scale,y:f.scale}),x=Xn(t),p=Xn(r),g=n&&n.length===2,b=oMe(m,x,p,g,h,e.position,u.orientation,f.orientation,e);if(!b)return null;var y=tMe(b,2),j=y[0],w=j.x,N=j.y,_=y[1],C=_.x,S=_.y,E=Pl(e,"hidden")?"url(#".concat(d,")"):void 0,P=xL(xL({clipPath:E},jt(e,!0)),{},{x1:w,y1:N,x2:C,y2:S});return B.createElement(Jt,{className:Lt("recharts-reference-line",l)},iMe(o,P),ns.renderCallByParent(e,y5e({x1:w,y1:N,x2:C,y2:S})))}var g4=function(e){function t(){return q5e(this,t),Y5e(this,t,arguments)}return J5e(t,e),X5e(t,[{key:"render",value:function(){return B.createElement(lMe,this.props)}}])}(B.Component);x4(g4,"displayName","ReferenceLine");x4(g4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function cP(){return cP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cP.apply(this,arguments)}function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function vL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vL(Object(r),!0).forEach(function(n){h_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jq(n.key),n)}}function uMe(e,t,r){return t&&dMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fMe(e,t,r){return t=Vw(t),hMe(e,wq()?Reflect.construct(t,r||[],Vw(e).constructor):t.apply(e,r))}function hMe(e,t){if(t&&(Xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mMe(e)}function mMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wq=function(){return!!e})()}function Vw(e){return Vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vw(e)}function pMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dP(e,t)}function dP(e,t){return dP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dP(e,t)}function h_(e,t,r){return t=jq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(e){var t=xMe(e,"string");return Xm(t)=="symbol"?t:t+""}function xMe(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gMe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=u4({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Pl(t,"discard")&&!o.isInRange(l)?null:l},m_=function(e){function t(){return cMe(this,t),fMe(this,t,arguments)}return pMe(t,e),uMe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=Xn(a),u=Xn(i);if(Io(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var f=gMe(this.props);if(!f)return null;var h=f.x,m=f.y,x=this.props,p=x.shape,g=x.className,b=Pl(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=yL(yL({clipPath:b},jt(this.props,!0)),{},{cx:h,cy:m});return B.createElement(Jt,{className:Lt("recharts-reference-dot",g)},t.renderDot(p,y),ns.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(B.Component);h_(m_,"displayName","ReferenceDot");h_(m_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});h_(m_,"renderDot",function(e,t){var r;return B.isValidElement(e)?r=B.cloneElement(e,t):kt(e)?r=e(t):r=B.createElement(z0,cP({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function uP(){return uP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uP.apply(this,arguments)}function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function bL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bL(Object(r),!0).forEach(function(n){p_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_q(n.key),n)}}function bMe(e,t,r){return t&&yMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wMe(e,t,r){return t=zw(t),jMe(e,Nq()?Reflect.construct(t,r||[],zw(e).constructor):t.apply(e,r))}function jMe(e,t){if(t&&(Ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NMe(e)}function NMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nq=function(){return!!e})()}function zw(e){return zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zw(e)}function _Me(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fP(e,t)}function fP(e,t){return fP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fP(e,t)}function p_(e,t,r){return t=_q(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _q(e){var t=SMe(e,"string");return Ym(t)=="symbol"?t:t+""}function SMe(e,t){if(Ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CMe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var h=u4({x:u.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},x={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(d,{position:"end"}):h.y.rangeMax};return Pl(i,"discard")&&(!h.isInRange(m)||!h.isInRange(x))?null:dq(m,x)},x_=function(e){function t(){return vMe(this,t),wMe(this,t,arguments)}return _Me(t,e),bMe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,u=n.clipPathId;Io(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Xn(a),h=Xn(i),m=Xn(o),x=Xn(l),p=this.props.shape;if(!f&&!h&&!m&&!x&&!p)return null;var g=CMe(f,h,m,x,this.props);if(!g&&!p)return null;var b=Pl(this.props,"hidden")?"url(#".concat(u,")"):void 0;return B.createElement(Jt,{className:Lt("recharts-reference-area",c)},t.renderRect(p,wL(wL({clipPath:b},jt(this.props,!0)),g)),ns.renderCallByParent(this.props,g))}}])}(B.Component);p_(x_,"displayName","ReferenceArea");p_(x_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});p_(x_,"renderRect",function(e,t){var r;return B.isValidElement(e)?r=B.cloneElement(e,t):kt(e)?r=e(t):r=B.createElement(c4,uP({},t,{className:"recharts-reference-area-rect"})),r});function Sq(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function EMe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return w5e(n,r)}function AMe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Ww(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function PMe(e,t){return Sq(e,t+1)}function TMe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,f=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:Sq(n,d)};var p=c,g,b=function(){return g===void 0&&(g=r(x,p)),g},y=x.coordinate,j=c===0||Ww(e,y,b,u,l);j||(c=0,u=o,d+=1),j&&(u=y+e*(b()/2+a),c+=d)},h;d<=i.length;)if(h=f(),h)return h.v;return[]}function kv(e){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kv(e)}function jL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jL(Object(r),!0).forEach(function(n){kMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kMe(e,t,r){return t=OMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OMe(e){var t=DMe(e,"string");return kv(t)=="symbol"?t:t+""}function DMe(e,t){if(kv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IMe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(h){var m=i[h],x,p=function(){return x===void 0&&(x=r(m,h)),x};if(h===o-1){var g=e*(m.coordinate+e*p()/2-c);i[h]=m=$s($s({},m),{},{tickCoord:g>0?m.coordinate-g*e:m.coordinate})}else i[h]=m=$s($s({},m),{},{tickCoord:m.coordinate});var b=Ww(e,m.tickCoord,p,l,c);b&&(c=m.tickCoord-e*(p()/2+a),i[h]=$s($s({},m),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function RMe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=n[l-1],f=r(u,l-1),h=e*(u.coordinate+e*f/2-d);o[l-1]=u=$s($s({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var m=Ww(e,u.tickCoord,function(){return f},c,d);m&&(d=u.tickCoord-e*(f/2+a),o[l-1]=$s($s({},u),{},{isShow:!0}))}for(var x=i?l-1:l,p=function(y){var j=o[y],w,N=function(){return w===void 0&&(w=r(j,y)),w};if(y===0){var _=e*(j.coordinate-e*N()/2-c);o[y]=j=$s($s({},j),{},{tickCoord:_<0?j.coordinate-_*e:j.coordinate})}else o[y]=j=$s($s({},j),{},{tickCoord:j.coordinate});var C=Ww(e,j.tickCoord,N,c,d);C&&(c=j.tickCoord+e*(N()/2+a),o[y]=$s($s({},j),{},{isShow:!0}))},g=0;g<x;g++)p(g);return o}function v4(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(He(c)||Mo.isSsr)return PMe(a,typeof c=="number"&&He(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",x=u&&m==="width"?ng(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(j,w){var N=kt(d)?d(j.value,w):j.value;return m==="width"?EMe(ng(N,{fontSize:t,letterSpacing:r}),x,f):ng(N,{fontSize:t,letterSpacing:r})[m]},g=a.length>=2?ca(a[1].coordinate-a[0].coordinate):1,b=AMe(i,g,m);return c==="equidistantPreserveStart"?TMe(g,b,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=RMe(g,b,p,a,o,c==="preserveStartEnd"):h=IMe(g,b,p,a,o),h.filter(function(y){return y.isShow}))}var MMe=["viewBox"],FMe=["viewBox"],LMe=["ticks"];function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dh.apply(this,arguments)}function NL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NL(Object(r),!0).forEach(function(n){y4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wS(e,t){if(e==null)return{};var r=$Me(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Me(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Eq(n.key),n)}}function UMe(e,t,r){return t&&_L(e.prototype,t),r&&_L(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VMe(e,t,r){return t=Hw(t),zMe(e,Cq()?Reflect.construct(t,r||[],Hw(e).constructor):t.apply(e,r))}function zMe(e,t){if(t&&(Qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WMe(e)}function WMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cq=function(){return!!e})()}function Hw(e){return Hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hw(e)}function HMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hP(e,t)}function hP(e,t){return hP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hP(e,t)}function y4(e,t,r){return t=Eq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eq(e){var t=GMe(e,"string");return Qm(t)=="symbol"?t:t+""}function GMe(e,t){if(Qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bp=function(e){function t(r){var n;return BMe(this,t),n=VMe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return HMe(t,e),UMe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=wS(n,MMe),l=this.props,c=l.viewBox,d=wS(l,FMe);return!Kh(i,c)||!Kh(o,d)||!Kh(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,f=a.mirror,h=a.tickMargin,m,x,p,g,b,y,j=f?-1:1,w=n.tickSize||u,N=He(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":m=x=n.coordinate,g=o+ +!f*c,p=g-j*w,y=p-j*h,b=N;break;case"left":p=g=n.coordinate,x=i+ +!f*l,m=x-j*w,b=m-j*h,y=N;break;case"right":p=g=n.coordinate,x=i+ +f*l,m=x+j*w,b=m+j*h,y=N;break;default:m=x=n.coordinate,g=o+ +f*c,p=g+j*w,y=p+j*h,b=N;break}return{line:{x1:m,y1:p,x2:x,y2:g},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,u=n.axisLine,f=Ys(Ys(Ys({},jt(this.props,!1)),jt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!d||c==="bottom"&&d);f=Ys(Ys({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var m=+(c==="left"&&!d||c==="right"&&d);f=Ys(Ys({},f),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return B.createElement("line",Dh({},f,{className:Lt("recharts-cartesian-axis-line",fi(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,f=l.tickFormatter,h=l.unit,m=v4(Ys(Ys({},this.props),{},{ticks:n}),a,i),x=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),g=jt(this.props,!1),b=jt(u,!1),y=Ys(Ys({},g),{},{fill:"none"},jt(c,!1)),j=m.map(function(w,N){var _=o.getTickLineCoord(w),C=_.line,S=_.tick,E=Ys(Ys(Ys(Ys({textAnchor:x,verticalAnchor:p},g),{},{stroke:"none",fill:d},b),S),{},{index:N,payload:w,visibleTicksCount:m.length,tickFormatter:f});return B.createElement(Jt,Dh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},_f(o.props,w,N)),c&&B.createElement("line",Dh({},y,C,{className:Lt("recharts-cartesian-axis-tick-line",fi(c,"className"))})),u&&t.renderTickItem(u,E,"".concat(kt(f)?f(w.value,N):w.value).concat(h||"")))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var f=this.props,h=f.ticks,m=wS(f,LMe),x=h;return kt(c)&&(x=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!x||!x.length?null:B.createElement(Jt,{className:Lt("recharts-cartesian-axis",d),ref:function(g){n.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),ns.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return B.isValidElement(n)?o=B.cloneElement(n,a):kt(n)?o=n(a):o=B.createElement(Sf,Dh({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(v.Component);y4(Bp,"displayName","CartesianAxis");y4(Bp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var qMe=["x1","y1","x2","y2","key"],KMe=["offset"];function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function SL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SL(Object(r),!0).forEach(function(n){XMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XMe(e,t,r){return t=YMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YMe(e){var t=QMe(e,"string");return Af(t)=="symbol"?t:t+""}function QMe(e,t){if(Af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wu.apply(this,arguments)}function CL(e,t){if(e==null)return{};var r=ZMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var JMe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return B.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Aq(e,t){var r;if(B.isValidElement(e))r=B.cloneElement(e,t);else if(kt(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=CL(t,qMe),d=jt(c,!1);d.offset;var u=CL(d,KMe);r=B.createElement("line",Wu({},u,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function eFe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=Vs(Vs({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Aq(a,d)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function tFe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=Vs(Vs({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Aq(a,d)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function rFe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==u[0]&&u.unshift(0);var f=u.map(function(h,m){var x=!u[m+1],p=x?a+o-h:u[m+1]-h;if(p<=0)return null;var g=m%t.length;return B.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function nFe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!n||!n.length)return null;var u=d.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==u[0]&&u.unshift(0);var f=u.map(function(h,m){var x=!u[m+1],p=x?i+l-h:u[m+1]-h;if(p<=0)return null;var g=m%n.length;return B.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var sFe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return _G(v4(Vs(Vs(Vs({},Bp.defaultProps),n),{},{ticks:mc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},aFe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return _G(v4(Vs(Vs(Vs({},Bp.defaultProps),n),{},{ticks:mc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},ch={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ml(e){var t,r,n,a,i,o,l=m4(),c=p4(),d=G5e(),u=Vs(Vs({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ch.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ch.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ch.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:ch.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:ch.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:ch.verticalFill,x:He(e.x)?e.x:d.left,y:He(e.y)?e.y:d.top,width:He(e.width)?e.width:d.width,height:He(e.height)?e.height:d.height}),f=u.x,h=u.y,m=u.width,x=u.height,p=u.syncWithTicks,g=u.horizontalValues,b=u.verticalValues,y=z5e(),j=W5e();if(!He(m)||m<=0||!He(x)||x<=0||!He(f)||f!==+f||!He(h)||h!==+h)return null;var w=u.verticalCoordinatesGenerator||sFe,N=u.horizontalCoordinatesGenerator||aFe,_=u.horizontalPoints,C=u.verticalPoints;if((!_||!_.length)&&kt(N)){var S=g&&g.length,E=N({yAxis:j?Vs(Vs({},j),{},{ticks:S?g:j.ticks}):void 0,width:l,height:c,offset:d},S?!0:p);Io(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Af(E),"]")),Array.isArray(E)&&(_=E)}if((!C||!C.length)&&kt(w)){var P=b&&b.length,I=w({xAxis:y?Vs(Vs({},y),{},{ticks:P?b:y.ticks}):void 0,width:l,height:c,offset:d},P?!0:p);Io(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Af(I),"]")),Array.isArray(I)&&(C=I)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(JMe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),B.createElement(eFe,Wu({},u,{offset:d,horizontalPoints:_,xAxis:y,yAxis:j})),B.createElement(tFe,Wu({},u,{offset:d,verticalPoints:C,xAxis:y,yAxis:j})),B.createElement(rFe,Wu({},u,{horizontalPoints:_})),B.createElement(nFe,Wu({},u,{verticalPoints:C})))}Ml.displayName="CartesianGrid";var iFe=["type","layout","connectNulls","ref"],oFe=["key"];function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function EL(e,t){if(e==null)return{};var r=lFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cg(){return cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cg.apply(this,arguments)}function AL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AL(Object(r),!0).forEach(function(n){wo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dh(e){return fFe(e)||uFe(e)||dFe(e)||cFe()}function cFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dFe(e,t){if(e){if(typeof e=="string")return mP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mP(e,t)}}function uFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fFe(e){if(Array.isArray(e))return mP(e)}function mP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tq(n.key),n)}}function mFe(e,t,r){return t&&PL(e.prototype,t),r&&PL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pFe(e,t,r){return t=Gw(t),xFe(e,Pq()?Reflect.construct(t,r||[],Gw(e).constructor):t.apply(e,r))}function xFe(e,t){if(t&&(Zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gFe(e)}function gFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pq=function(){return!!e})()}function Gw(e){return Gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gw(e)}function vFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pP(e,t)}function pP(e,t){return pP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pP(e,t)}function wo(e,t,r){return t=Tq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tq(e){var t=yFe(e,"string");return Zm(t)=="symbol"?t:t+""}function yFe(e,t){if(Zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fl=function(e){function t(){var r;hFe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=pFe(this,t,[].concat(a)),wo(r,"state",{isAnimationFinished:!0,totalLength:0}),wo(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),wo(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(b,y){return b+y});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),f=o%d,h=l-o,m=[],x=0,p=0;x<c.length;p+=c[x],++x)if(p+c[x]>f){m=[].concat(dh(c.slice(0,x)),[f-p]);break}var g=m.length%2===0?[0,h]:[h];return[].concat(dh(t.repeat(c,u)),dh(m),g).map(function(b){return"".concat(b,"px")}).join(", ")}),wo(r,"id",Vf("recharts-line-")),wo(r,"pathRef",function(o){r.mainCurve=o}),wo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),wo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return vFe(t,e),mFe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=hi(u,V0);if(!f)return null;var h=function(p,g){return{x:p.x,y:p.y,value:p.value,errorVal:En(p.payload,g)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return B.createElement(Jt,m,f.map(function(x){return B.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,f=jt(this.props,!1),h=jt(c,!0),m=d.map(function(p,g){var b=qa(qa(qa({key:"dot-".concat(g),r:3},f),h),{},{value:p.value,dataKey:u,cx:p.x,cy:p.y,index:g,payload:p.payload});return t.renderDotItem(c,b)}),x={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return B.createElement(Jt,cg({className:"recharts-line-dots",key:"dots"},x),m)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var f=EL(l,iFe),h=qa(qa(qa({},jt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:d,connectNulls:u});return B.createElement(sf,cg({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,x=o.animateNewValues,p=o.width,g=o.height,b=this.state,y=b.prevPoints,j=b.totalLength;return B.createElement(Vo,{begin:u,duration:f,isActive:d,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var N=w.t;if(y){var _=y.length/l.length,C=l.map(function(D,U){var F=Math.floor(U*_);if(y[F]){var M=y[F],O=qn(M.x,D.x),A=qn(M.y,D.y);return qa(qa({},D),{},{x:O(N),y:A(N)})}if(x){var k=qn(p*2,D.x),W=qn(g/2,D.y);return qa(qa({},D),{},{x:k(N),y:W(N)})}return qa(qa({},D),{},{x:D.x,y:D.y})});return i.renderCurveStatically(C,n,a)}var S=qn(0,j),E=S(N),P;if(c){var I="".concat(c).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});P=i.getStrokeDasharray(E,j,I)}else P=i.generateSimpleStrokeDasharray(j,E);return i.renderCurveStatically(l,n,a,{strokeDasharray:P})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!Cf(d,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,u=a.yAxis,f=a.top,h=a.left,m=a.width,x=a.height,p=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,j=Lt("recharts-line",c),w=d&&d.allowDataOverflow,N=u&&u.allowDataOverflow,_=w||N,C=Mt(g)?this.id:g,S=(n=jt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=S.r,P=E===void 0?3:E,I=S.strokeWidth,D=I===void 0?2:I,U=xW(o)?o:{},F=U.clipDot,M=F===void 0?!0:F,O=P*2+D;return B.createElement(Jt,{className:j},w||N?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(C)},B.createElement("rect",{x:w?h:h-m/2,y:N?f:f-x/2,width:w?m:m*2,height:N?x:x*2})),!M&&B.createElement("clipPath",{id:"clipPath-dots-".concat(C)},B.createElement("rect",{x:h-O/2,y:f-O/2,width:m+O,height:x+O}))):null,!y&&this.renderCurve(_,C),this.renderErrorBar(_,C),(y||o)&&this.renderDots(_,M,C),(!p||b)&&Al.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(dh(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(dh(o),dh(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(B.isValidElement(n))i=B.cloneElement(n,a);else if(kt(n))i=n(a);else{var o=a.key,l=EL(a,oFe),c=Lt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=B.createElement(z0,cg({key:o},l,{className:c}))}return i}}])}(v.PureComponent);wo(Fl,"displayName","Line");wo(Fl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Mo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});wo(Fl,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,f=c.map(function(h,m){var x=En(h,o);return u==="horizontal"?{x:Nw({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:Mt(x)?null:n.scale(x),value:x,payload:h}:{x:Mt(x)?null:r.scale(x),y:Nw({axis:n,ticks:i,bandSize:l,entry:h,index:m}),value:x,payload:h}});return qa({points:f,layout:u},d)});var bFe=["layout","type","stroke","connectNulls","isRange","ref"],wFe=["key"],kq;function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function Oq(e,t){if(e==null)return{};var r=jFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hu.apply(this,arguments)}function TL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TL(Object(r),!0).forEach(function(n){wl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Iq(n.key),n)}}function _Fe(e,t,r){return t&&kL(e.prototype,t),r&&kL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SFe(e,t,r){return t=qw(t),CFe(e,Dq()?Reflect.construct(t,r||[],qw(e).constructor):t.apply(e,r))}function CFe(e,t){if(t&&(Jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EFe(e)}function EFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dq=function(){return!!e})()}function qw(e){return qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qw(e)}function AFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xP(e,t)}function xP(e,t){return xP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xP(e,t)}function wl(e,t,r){return t=Iq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iq(e){var t=PFe(e,"string");return Jm(t)=="symbol"?t:t+""}function PFe(e,t){if(Jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fc=function(e){function t(){var r;NFe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=SFe(this,t,[].concat(a)),wl(r,"state",{isAnimationFinished:!0}),wl(r,"id",Vf("recharts-area-")),wl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),kt(o)&&o()}),wl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),kt(o)&&o()}),r}return AFe(t,e),_Fe(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,f=c.dataKey,h=jt(this.props,!1),m=jt(d,!0),x=u.map(function(g,b){var y=nd(nd(nd({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:u});return t.renderDotItem(d,y)}),p={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return B.createElement(Jt,Hu({className:"recharts-area-dots"},p),x)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=n*Math.abs(c-d),f=Sd(o.map(function(h){return h.y||0}));return He(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Sd(i.map(function(h){return h.y||0})),f)),He(f)?B.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=n*Math.abs(c-d),f=Sd(o.map(function(h){return h.x||0}));return He(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Sd(i.map(function(h){return h.x||0})),f)),He(f)?B.createElement("rect",{x:0,y:c<d?c:c-u,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=Oq(l,bFe);return B.createElement(Jt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},B.createElement(sf,Hu({},jt(m,!0),{points:n,connectNulls:f,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&B.createElement(sf,Hu({},jt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:n})),u!=="none"&&h&&B.createElement(sf,Hu({},jt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,x=this.state,p=x.prevPoints,g=x.prevBaseLine;return B.createElement(Vo,{begin:u,duration:f,isActive:d,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var y=b.t;if(p){var j=p.length/l.length,w=l.map(function(S,E){var P=Math.floor(E*j);if(p[P]){var I=p[P],D=qn(I.x,S.x),U=qn(I.y,S.y);return nd(nd({},S),{},{x:D(y),y:U(y)})}return S}),N;if(He(c)&&typeof c=="number"){var _=qn(g,c);N=_(y)}else if(Mt(c)||Op(c)){var C=qn(g,0);N=C(y)}else N=c.map(function(S,E){var P=Math.floor(E*j);if(g[P]){var I=g[P],D=qn(I.x,S.x),U=qn(I.y,S.y);return nd(nd({},S),{},{x:D(y),y:U(y)})}return S});return i.renderAreaStatically(w,N,n,a)}return B.createElement(Jt,null,B.createElement("defs",null,B.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(y))),B.createElement(Jt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,f=d.prevBaseLine,h=d.totalLength;return c&&o&&o.length&&(!u&&h>0||!Cf(u,o)||!Cf(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.top,u=a.left,f=a.xAxis,h=a.yAxis,m=a.width,x=a.height,p=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,j=Lt("recharts-area",c),w=f&&f.allowDataOverflow,N=h&&h.allowDataOverflow,_=w||N,C=Mt(g)?this.id:g,S=(n=jt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=S.r,P=E===void 0?3:E,I=S.strokeWidth,D=I===void 0?2:I,U=xW(o)?o:{},F=U.clipDot,M=F===void 0?!0:F,O=P*2+D;return B.createElement(Jt,{className:j},w||N?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(C)},B.createElement("rect",{x:w?u:u-m/2,y:N?d:d-x/2,width:w?m:m*2,height:N?x:x*2})),!M&&B.createElement("clipPath",{id:"clipPath-dots-".concat(C)},B.createElement("rect",{x:u-O/2,y:d-O/2,width:m+O,height:x+O}))):null,y?null:this.renderArea(_,C),(o||y)&&this.renderDots(_,M,C),(!p||b)&&Al.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(v.PureComponent);kq=Fc;wl(Fc,"displayName","Area");wl(Fc,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Mo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});wl(Fc,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(He(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),f=Math.min(d[0],d[1]);return l==="dataMin"?f:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});wl(Fc,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,x=d&&d.length,p=kq.getBaseValue(t,r,n,a),g=m==="horizontal",b=!1,y=f.map(function(w,N){var _;x?_=d[u+N]:(_=En(w,c),Array.isArray(_)?b=!0:_=[p,_]);var C=_[1]==null||x&&En(w,c)==null;return g?{x:Nw({axis:n,ticks:i,bandSize:l,entry:w,index:N}),y:C?null:a.scale(_[1]),value:_,payload:w}:{x:C?null:n.scale(_[1]),y:Nw({axis:a,ticks:o,bandSize:l,entry:w,index:N}),value:_,payload:w}}),j;return x||b?j=y.map(function(w){var N=Array.isArray(w.value)?w.value[0]:null;return g?{x:w.x,y:N!=null&&w.y!=null?a.scale(N):null}:{x:N!=null?n.scale(N):null,y:w.y}}):j=g?a.scale(p):n.scale(p),nd({points:y,baseLine:j,layout:m,isRange:b},h)});wl(Fc,"renderDotItem",function(e,t){var r;if(B.isValidElement(e))r=B.cloneElement(e,t);else if(kt(e))r=e(t);else{var n=Lt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=Oq(t,wFe);r=B.createElement(z0,Hu({},i,{key:a,className:n}))}return r});function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function TFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fq(n.key),n)}}function OFe(e,t,r){return t&&kFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DFe(e,t,r){return t=Kw(t),IFe(e,Rq()?Reflect.construct(t,r||[],Kw(e).constructor):t.apply(e,r))}function IFe(e,t){if(t&&(ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RFe(e)}function RFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rq=function(){return!!e})()}function Kw(e){return Kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kw(e)}function MFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gP(e,t)}function gP(e,t){return gP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gP(e,t)}function Mq(e,t,r){return t=Fq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fq(e){var t=FFe(e,"string");return ep(t)=="symbol"?t:t+""}function FFe(e,t){if(ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vP(){return vP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vP.apply(this,arguments)}function LFe(e){var t=e.xAxisId,r=m4(),n=p4(),a=gq(t);return a==null?null:B.createElement(Bp,vP({},a,{className:Lt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return mc(o,!0)}}))}var Ba=function(e){function t(){return TFe(this,t),DFe(this,t,arguments)}return MFe(t,e),OFe(t,[{key:"render",value:function(){return B.createElement(LFe,this.props)}}])}(B.Component);Mq(Ba,"displayName","XAxis");Mq(Ba,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function $Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bq(n.key),n)}}function UFe(e,t,r){return t&&BFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VFe(e,t,r){return t=Xw(t),zFe(e,Lq()?Reflect.construct(t,r||[],Xw(e).constructor):t.apply(e,r))}function zFe(e,t){if(t&&(tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WFe(e)}function WFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lq=function(){return!!e})()}function Xw(e){return Xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xw(e)}function HFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yP(e,t)}function yP(e,t){return yP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yP(e,t)}function $q(e,t,r){return t=Bq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bq(e){var t=GFe(e,"string");return tp(t)=="symbol"?t:t+""}function GFe(e,t){if(tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bP(){return bP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bP.apply(this,arguments)}var qFe=function(t){var r=t.yAxisId,n=m4(),a=p4(),i=vq(r);return i==null?null:B.createElement(Bp,bP({},i,{className:Lt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return mc(l,!0)}}))},Ua=function(e){function t(){return $Fe(this,t),VFe(this,t,arguments)}return HFe(t,e),UFe(t,[{key:"render",value:function(){return B.createElement(qFe,this.props)}}])}(B.Component);$q(Ua,"displayName","YAxis");$q(Ua,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function OL(e){return QFe(e)||YFe(e)||XFe(e)||KFe()}function KFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XFe(e,t){if(e){if(typeof e=="string")return wP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wP(e,t)}}function YFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QFe(e){if(Array.isArray(e))return wP(e)}function wP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jP=function(t,r,n,a,i){var o=hi(t,g4),l=hi(t,m_),c=[].concat(OL(o),OL(l)),d=hi(t,x_),u="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(p,g){if(g.props[u]===n&&Pl(g.props,"extendDomain")&&He(g.props[f])){var b=g.props[f];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},h)),d.length){var m="".concat(f,"1"),x="".concat(f,"2");h=d.reduce(function(p,g){if(g.props[u]===n&&Pl(g.props,"extendDomain")&&He(g.props[m])&&He(g.props[x])){var b=g.props[m],y=g.props[x];return[Math.min(p[0],b,y),Math.max(p[1],b,y)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,g){return He(g)?[Math.min(p[0],g),Math.max(p[1],g)]:p},h)),h},Uq={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new a(u,f||c,h),x=r?r+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,x=new Array(m);h<m;h++)x[h]=f[h].fn;return x},l.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,h,m,x){var p=r?r+d:d;if(!this._events[p])return!1;var g=this._events[p],b=arguments.length,y,j;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,h),!0;case 5:return g.fn.call(g.context,u,f,h,m),!0;case 6:return g.fn.call(g.context,u,f,h,m,x),!0}for(j=1,y=new Array(b-1);j<b;j++)y[j-1]=arguments[j];g.fn.apply(g.context,y)}else{var w=g.length,N;for(j=0;j<w;j++)switch(g[j].once&&this.removeListener(d,g[j].fn,void 0,!0),b){case 1:g[j].fn.call(g[j].context);break;case 2:g[j].fn.call(g[j].context,u);break;case 3:g[j].fn.call(g[j].context,u,f);break;case 4:g[j].fn.call(g[j].context,u,f,h);break;default:if(!y)for(N=1,y=new Array(b-1);N<b;N++)y[N-1]=arguments[N];g[j].fn.apply(g[j].context,y)}}return!0},l.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,h){var m=r?r+d:d;if(!this._events[m])return this;if(!u)return o(this,m),this;var x=this._events[m];if(x.fn)x.fn===u&&(!h||x.once)&&(!f||x.context===f)&&o(this,m);else{for(var p=0,g=[],b=x.length;p<b;p++)(x[p].fn!==u||h&&!x[p].once||f&&x[p].context!==f)&&g.push(x[p]);g.length?this._events[m]=g.length===1?g[0]:g:o(this,m)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Uq);var ZFe=Uq.exports;const JFe=br(ZFe);var jS=new JFe,NS="recharts.syncMouseEvents";function Ov(e){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ov(e)}function eLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vq(n.key),n)}}function rLe(e,t,r){return t&&tLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _S(e,t,r){return t=Vq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vq(e){var t=nLe(e,"string");return Ov(t)=="symbol"?t:t+""}function nLe(e,t){if(Ov(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sLe=function(){function e(){eLe(this,e),_S(this,"activeIndex",0),_S(this,"coordinateList",[]),_S(this,"layout","horizontal")}return rLe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+d,h=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function aLe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&He(n)&&He(a))return!0}return!1}function iLe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function zq(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Ur(t,r,n,a),l=Ur(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function oLe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,f=t.angle,h=Ur(l,c,d,f),m=Ur(l,c,u,f);n=h.x,a=h.y,i=m.x,o=m.y}else return zq(t);return[{x:n,y:a},{x:i,y:o}]}function Dv(e){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dv(e)}function DL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DL(Object(r),!0).forEach(function(n){lLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lLe(e,t,r){return t=cLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cLe(e){var t=dLe(e,"string");return Dv(t)=="symbol"?t:t+""}function dLe(e,t){if(Dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uLe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var x,p=sf;if(h==="ScatterChart")x=o,p=yIe;else if(h==="BarChart")x=iLe(f,o,c,u),p=c4;else if(f==="radial"){var g=zq(o),b=g.cx,y=g.cy,j=g.radius,w=g.startAngle,N=g.endAngle;x={cx:b,cy:y,startAngle:w,endAngle:N,innerRadius:j,outerRadius:j},p=RG}else x={points:oLe(f,o,c)},p=sf;var _=e1(e1(e1(e1({stroke:"#ccc",pointerEvents:"none"},c),x),jt(m,!1)),{},{payload:l,payloadIndex:d,className:Lt("recharts-tooltip-cursor",m.className)});return v.isValidElement(m)?v.cloneElement(m,_):v.createElement(p,_)}var fLe=["item"],hLe=["children","className","width","height","style","compact","title","desc"];function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dg.apply(this,arguments)}function IL(e,t){return xLe(e)||pLe(e,t)||Hq(e,t)||mLe()}function mLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function xLe(e){if(Array.isArray(e))return e}function RL(e,t){if(e==null)return{};var r=gLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gq(n.key),n)}}function bLe(e,t,r){return t&&yLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wLe(e,t,r){return t=Yw(t),jLe(e,Wq()?Reflect.construct(t,r||[],Yw(e).constructor):t.apply(e,r))}function jLe(e,t){if(t&&(rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NLe(e)}function NLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wq=function(){return!!e})()}function Yw(e){return Yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yw(e)}function _Le(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NP(e,t)}function NP(e,t){return NP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NP(e,t)}function np(e){return ELe(e)||CLe(e)||Hq(e)||SLe()}function SLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hq(e,t){if(e){if(typeof e=="string")return _P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _P(e,t)}}function CLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ELe(e){if(Array.isArray(e))return _P(e)}function _P(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ML(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ML(Object(r),!0).forEach(function(n){At(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ML(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function At(e,t,r){return t=Gq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gq(e){var t=ALe(e,"string");return rp(t)=="symbol"?t:t+""}function ALe(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PLe={xAxis:["bottom","top"],yAxis:["left","right"]},TLe={width:"100%",height:"100%"},qq={x:0,y:0};function t1(e){return e}var kLe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},OLe=function(t,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return Ie(Ie(Ie({},a),Ur(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return Ie(Ie(Ie({},a),Ur(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return qq},g_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(np(l),np(d)):l},[]);return o.length>0?o:t&&t.length&&He(a)&&He(i)?t.slice(a,i+1):[]};function Kq(e){return e==="number"?[0,"auto"]:void 0}var SP=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=g_(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,d){var u,f=(u=d.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=Xb(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(np(c),[PG(d,h)]):c},[])},FL=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=kLe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=Jke(o,l,d,c);if(u>=0&&d){var f=d[u]&&d[u].value,h=SP(t,r,u,f),m=OLe(n,l,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},DLe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,m=NG(u,i);return n.reduce(function(x,p){var g,b=p.type.defaultProps!==void 0?Ie(Ie({},p.type.defaultProps),p.props):p.props,y=b.type,j=b.dataKey,w=b.allowDataOverflow,N=b.allowDuplicatedCategory,_=b.scale,C=b.ticks,S=b.includeHidden,E=b[o];if(x[E])return x;var P=g_(t.data,{graphicalItems:a.filter(function(T){var L,R=o in T.props?T.props[o]:(L=T.type.defaultProps)===null||L===void 0?void 0:L[o];return R===E}),dataStartIndex:c,dataEndIndex:d}),I=P.length,D,U,F;aLe(b.domain,w,y)&&(D=LA(b.domain,null,w),m&&(y==="number"||_!=="auto")&&(F=ag(P,j,"category")));var M=Kq(y);if(!D||D.length===0){var O,A=(O=b.domain)!==null&&O!==void 0?O:M;if(j){if(D=ag(P,j,y),y==="category"&&m){var k=W0e(D);N&&k?(U=D,D=Mw(0,I)):N||(D=nF(A,D,p).reduce(function(T,L){return T.indexOf(L)>=0?T:[].concat(np(T),[L])},[]))}else if(y==="category")N?D=D.filter(function(T){return T!==""&&!Mt(T)}):D=nF(A,D,p).reduce(function(T,L){return T.indexOf(L)>=0||L===""||Mt(L)?T:[].concat(np(T),[L])},[]);else if(y==="number"){var W=sOe(P,a.filter(function(T){var L,R,K=o in T.props?T.props[o]:(L=T.type.defaultProps)===null||L===void 0?void 0:L[o],q="hide"in T.props?T.props.hide:(R=T.type.defaultProps)===null||R===void 0?void 0:R.hide;return K===E&&(S||!q)}),j,i,u);W&&(D=W)}m&&(y==="number"||_!=="auto")&&(F=ag(P,j,"category"))}else m?D=Mw(0,I):l&&l[E]&&l[E].hasStack&&y==="number"?D=h==="expand"?[0,1]:AG(l[E].stackGroups,c,d):D=jG(P,a.filter(function(T){var L=o in T.props?T.props[o]:T.type.defaultProps[o],R="hide"in T.props?T.props.hide:T.type.defaultProps.hide;return L===E&&(S||!R)}),y,u,!0);if(y==="number")D=jP(f,D,E,i,C),A&&(D=LA(A,D,w));else if(y==="category"&&A){var fe=A,de=D.every(function(T){return fe.indexOf(T)>=0});de&&(D=fe)}}return Ie(Ie({},x),{},At({},E,Ie(Ie({},b),{},{axisType:i,domain:D,categoricalDomain:F,duplicateDomain:U,originalDomain:(g=b.domain)!==null&&g!==void 0?g:M,isCategorical:m,layout:u})))},{})},ILe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,h=g_(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),m=h.length,x=NG(u,i),p=-1;return n.reduce(function(g,b){var y=b.type.defaultProps!==void 0?Ie(Ie({},b.type.defaultProps),b.props):b.props,j=y[o],w=Kq("number");if(!g[j]){p++;var N;return x?N=Mw(0,m):l&&l[j]&&l[j].hasStack?(N=AG(l[j].stackGroups,c,d),N=jP(f,N,j,i)):(N=LA(w,jG(h,n.filter(function(_){var C,S,E=o in _.props?_.props[o]:(C=_.type.defaultProps)===null||C===void 0?void 0:C[o],P="hide"in _.props?_.props.hide:(S=_.type.defaultProps)===null||S===void 0?void 0:S.hide;return E===j&&!P}),"number",u),a.defaultProps.allowDataOverflow),N=jP(f,N,j,i)),Ie(Ie({},g),{},At({},j,Ie(Ie({axisType:i},a.defaultProps),{},{hide:!0,orientation:fi(PLe,"".concat(i,".").concat(p%2),null),domain:N,originalDomain:w,isCategorical:x,layout:u})))}return g},{})},RLe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),h=hi(u,i),m={};return h&&h.length?m=DLe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(m=ILe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),m},MLe=function(t){var r=fd(t),n=mc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:MO(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:_w(r,n)}},LL=function(t){var r=t.children,n=t.defaultShowTooltip,a=ri(r,Gm),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},FLe=function(t){return!t||!t.length?!1:t.some(function(r){var n=vc(r&&r.type);return n&&n.indexOf("Bar")>=0})},$L=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},LLe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=n.width,u=n.height,f=n.children,h=n.margin||{},m=ri(f,Gm),x=ri(f,Ro),p=Object.keys(c).reduce(function(N,_){var C=c[_],S=C.orientation;return!C.mirror&&!C.hide?Ie(Ie({},N),{},At({},S,N[S]+C.width)):N},{left:h.left||0,right:h.right||0}),g=Object.keys(o).reduce(function(N,_){var C=o[_],S=C.orientation;return!C.mirror&&!C.hide?Ie(Ie({},N),{},At({},S,fi(N,"".concat(S))+C.height)):N},{top:h.top||0,bottom:h.bottom||0}),b=Ie(Ie({},g),p),y=b.bottom;m&&(b.bottom+=m.props.height||Gm.defaultProps.height),x&&r&&(b=rOe(b,a,n,r));var j=d-b.left-b.right,w=u-b.top-b.bottom;return Ie(Ie({brushBottom:y},b),{},{width:Math.max(j,0),height:Math.max(w,0)})},$Le=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},v_=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(g,b){var y=b.graphicalItems,j=b.stackGroups,w=b.offset,N=b.updateId,_=b.dataStartIndex,C=b.dataEndIndex,S=g.barSize,E=g.layout,P=g.barGap,I=g.barCategoryGap,D=g.maxBarSize,U=$L(E),F=U.numericAxisName,M=U.cateAxisName,O=FLe(y),A=[];return y.forEach(function(k,W){var fe=g_(g.data,{graphicalItems:[k],dataStartIndex:_,dataEndIndex:C}),de=k.type.defaultProps!==void 0?Ie(Ie({},k.type.defaultProps),k.props):k.props,T=de.dataKey,L=de.maxBarSize,R=de["".concat(F,"Id")],K=de["".concat(M,"Id")],q={},Z=c.reduce(function(xe,ve){var ge=b["".concat(ve.axisType,"Map")],Ae=de["".concat(ve.axisType,"Id")];ge&&ge[Ae]||ve.axisType==="zAxis"||Zd();var ae=ge[Ae];return Ie(Ie({},xe),{},At(At({},ve.axisType,ae),"".concat(ve.axisType,"Ticks"),mc(ae)))},q),X=Z[M],ee=Z["".concat(M,"Ticks")],ie=j&&j[R]&&j[R].hasStack&&hOe(k,j[R].stackGroups),be=vc(k.type).indexOf("Bar")>=0,he=_w(X,ee),Ge=[],ke=O&&eOe({barSize:S,stackGroups:j,totalSize:$Le(Z,M)});if(be){var bt,rt,Oe=Mt(L)?D:L,G=(bt=(rt=_w(X,ee,!0))!==null&&rt!==void 0?rt:Oe)!==null&&bt!==void 0?bt:0;Ge=tOe({barGap:P,barCategoryGap:I,bandSize:G!==he?G:he,sizeList:ke[K],maxBarSize:Oe}),G!==he&&(Ge=Ge.map(function(xe){return Ie(Ie({},xe),{},{position:Ie(Ie({},xe.position),{},{offset:xe.position.offset-G/2})})}))}var ce=k&&k.type&&k.type.getComposedData;ce&&A.push({props:Ie(Ie({},ce(Ie(Ie({},Z),{},{displayedData:fe,props:g,dataKey:T,item:k,bandSize:he,barPosition:Ge,offset:w,stackedData:ie,layout:E,dataStartIndex:_,dataEndIndex:C}))),{},At(At(At({key:k.key||"item-".concat(W)},F,Z[F]),M,Z[M]),"animationId",N)),childIndex:tye(k,g.children),item:k})}),A},m=function(g,b){var y=g.props,j=g.dataStartIndex,w=g.dataEndIndex,N=g.updateId;if(!Q3({props:y}))return null;var _=y.children,C=y.layout,S=y.stackOffset,E=y.data,P=y.reverseStackOrder,I=$L(C),D=I.numericAxisName,U=I.cateAxisName,F=hi(_,n),M=uOe(E,F,"".concat(D,"Id"),"".concat(U,"Id"),S,P),O=c.reduce(function(de,T){var L="".concat(T.axisType,"Map");return Ie(Ie({},de),{},At({},L,RLe(y,Ie(Ie({},T),{},{graphicalItems:F,stackGroups:T.axisType===D&&M,dataStartIndex:j,dataEndIndex:w}))))},{}),A=LLe(Ie(Ie({},O),{},{props:y,graphicalItems:F}),b==null?void 0:b.legendBBox);Object.keys(O).forEach(function(de){O[de]=u(y,O[de],A,de.replace("Map",""),r)});var k=O["".concat(U,"Map")],W=MLe(k),fe=h(y,Ie(Ie({},O),{},{dataStartIndex:j,dataEndIndex:w,updateId:N,graphicalItems:F,stackGroups:M,offset:A}));return Ie(Ie({formattedGraphicalItems:fe,graphicalItems:F,offset:A,stackGroups:M},W),O)},x=function(p){function g(b){var y,j,w;return vLe(this,g),w=wLe(this,g,[b]),At(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),At(w,"accessibilityManager",new sLe),At(w,"handleLegendBBoxUpdate",function(N){if(N){var _=w.state,C=_.dataStartIndex,S=_.dataEndIndex,E=_.updateId;w.setState(Ie({legendBBox:N},m({props:w.props,dataStartIndex:C,dataEndIndex:S,updateId:E},Ie(Ie({},w.state),{},{legendBBox:N}))))}}),At(w,"handleReceiveSyncEvent",function(N,_,C){if(w.props.syncId===N){if(C===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(_)}}),At(w,"handleBrushChange",function(N){var _=N.startIndex,C=N.endIndex;if(_!==w.state.dataStartIndex||C!==w.state.dataEndIndex){var S=w.state.updateId;w.setState(function(){return Ie({dataStartIndex:_,dataEndIndex:C},m({props:w.props,dataStartIndex:_,dataEndIndex:C,updateId:S},w.state))}),w.triggerSyncEvent({dataStartIndex:_,dataEndIndex:C})}}),At(w,"handleMouseEnter",function(N){var _=w.getMouseInfo(N);if(_){var C=Ie(Ie({},_),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var S=w.props.onMouseEnter;kt(S)&&S(C,N)}}),At(w,"triggeredAfterMouseMove",function(N){var _=w.getMouseInfo(N),C=_?Ie(Ie({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(C),w.triggerSyncEvent(C);var S=w.props.onMouseMove;kt(S)&&S(C,N)}),At(w,"handleItemMouseEnter",function(N){w.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),At(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),At(w,"handleMouseMove",function(N){N.persist(),w.throttleTriggeredAfterMouseMove(N)}),At(w,"handleMouseLeave",function(N){w.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};w.setState(_),w.triggerSyncEvent(_);var C=w.props.onMouseLeave;kt(C)&&C(_,N)}),At(w,"handleOuterEvent",function(N){var _=eye(N),C=fi(w.props,"".concat(_));if(_&&kt(C)){var S,E;/.*touch.*/i.test(_)?E=w.getMouseInfo(N.changedTouches[0]):E=w.getMouseInfo(N),C((S=E)!==null&&S!==void 0?S:{},N)}}),At(w,"handleClick",function(N){var _=w.getMouseInfo(N);if(_){var C=Ie(Ie({},_),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var S=w.props.onClick;kt(S)&&S(C,N)}}),At(w,"handleMouseDown",function(N){var _=w.props.onMouseDown;if(kt(_)){var C=w.getMouseInfo(N);_(C,N)}}),At(w,"handleMouseUp",function(N){var _=w.props.onMouseUp;if(kt(_)){var C=w.getMouseInfo(N);_(C,N)}}),At(w,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),At(w,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.handleMouseDown(N.changedTouches[0])}),At(w,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.handleMouseUp(N.changedTouches[0])}),At(w,"triggerSyncEvent",function(N){w.props.syncId!==void 0&&jS.emit(NS,w.props.syncId,N,w.eventEmitterSymbol)}),At(w,"applySyncEvent",function(N){var _=w.props,C=_.layout,S=_.syncMethod,E=w.state.updateId,P=N.dataStartIndex,I=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)w.setState(Ie({dataStartIndex:P,dataEndIndex:I},m({props:w.props,dataStartIndex:P,dataEndIndex:I,updateId:E},w.state)));else if(N.activeTooltipIndex!==void 0){var D=N.chartX,U=N.chartY,F=N.activeTooltipIndex,M=w.state,O=M.offset,A=M.tooltipTicks;if(!O)return;if(typeof S=="function")F=S(A,N);else if(S==="value"){F=-1;for(var k=0;k<A.length;k++)if(A[k].value===N.activeLabel){F=k;break}}var W=Ie(Ie({},O),{},{x:O.left,y:O.top}),fe=Math.min(D,W.x+W.width),de=Math.min(U,W.y+W.height),T=A[F]&&A[F].value,L=SP(w.state,w.props.data,F),R=A[F]?{x:C==="horizontal"?A[F].coordinate:fe,y:C==="horizontal"?de:A[F].coordinate}:qq;w.setState(Ie(Ie({},N),{},{activeLabel:T,activeCoordinate:R,activePayload:L,activeTooltipIndex:F}))}else w.setState(N)}),At(w,"renderCursor",function(N){var _,C=w.state,S=C.isTooltipActive,E=C.activeCoordinate,P=C.activePayload,I=C.offset,D=C.activeTooltipIndex,U=C.tooltipAxisBandSize,F=w.getTooltipEventType(),M=(_=N.props.active)!==null&&_!==void 0?_:S,O=w.props.layout,A=N.key||"_recharts-cursor";return B.createElement(uLe,{key:A,activeCoordinate:E,activePayload:P,activeTooltipIndex:D,chartName:r,element:N,isActive:M,layout:O,offset:I,tooltipAxisBandSize:U,tooltipEventType:F})}),At(w,"renderPolarAxis",function(N,_,C){var S=fi(N,"type.axisType"),E=fi(w.state,"".concat(S,"Map")),P=N.type.defaultProps,I=P!==void 0?Ie(Ie({},P),N.props):N.props,D=E&&E[I["".concat(S,"Id")]];return v.cloneElement(N,Ie(Ie({},D),{},{className:Lt(S,D.className),key:N.key||"".concat(_,"-").concat(C),ticks:mc(D,!0)}))}),At(w,"renderPolarGrid",function(N){var _=N.props,C=_.radialLines,S=_.polarAngles,E=_.polarRadius,P=w.state,I=P.radiusAxisMap,D=P.angleAxisMap,U=fd(I),F=fd(D),M=F.cx,O=F.cy,A=F.innerRadius,k=F.outerRadius;return v.cloneElement(N,{polarAngles:Array.isArray(S)?S:mc(F,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(E)?E:mc(U,!0).map(function(W){return W.coordinate}),cx:M,cy:O,innerRadius:A,outerRadius:k,key:N.key||"polar-grid",radialLines:C})}),At(w,"renderLegend",function(){var N=w.state.formattedGraphicalItems,_=w.props,C=_.children,S=_.width,E=_.height,P=w.props.margin||{},I=S-(P.left||0)-(P.right||0),D=bG({children:C,formattedGraphicalItems:N,legendWidth:I,legendContent:d});if(!D)return null;var U=D.item,F=RL(D,fLe);return v.cloneElement(U,Ie(Ie({},F),{},{chartWidth:S,chartHeight:E,margin:P,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),At(w,"renderTooltip",function(){var N,_=w.props,C=_.children,S=_.accessibilityLayer,E=ri(C,Hn);if(!E)return null;var P=w.state,I=P.isTooltipActive,D=P.activeCoordinate,U=P.activePayload,F=P.activeLabel,M=P.offset,O=(N=E.props.active)!==null&&N!==void 0?N:I;return v.cloneElement(E,{viewBox:Ie(Ie({},M),{},{x:M.left,y:M.top}),active:O,label:F,payload:O?U:[],coordinate:D,accessibilityLayer:S})}),At(w,"renderBrush",function(N){var _=w.props,C=_.margin,S=_.data,E=w.state,P=E.offset,I=E.dataStartIndex,D=E.dataEndIndex,U=E.updateId;return v.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Yy(w.handleBrushChange,N.props.onChange),data:S,x:He(N.props.x)?N.props.x:P.left,y:He(N.props.y)?N.props.y:P.top+P.height+P.brushBottom-(C.bottom||0),width:He(N.props.width)?N.props.width:P.width,startIndex:I,endIndex:D,updateId:"brush-".concat(U)})}),At(w,"renderReferenceElement",function(N,_,C){if(!N)return null;var S=w,E=S.clipPathId,P=w.state,I=P.xAxisMap,D=P.yAxisMap,U=P.offset,F=N.type.defaultProps||{},M=N.props,O=M.xAxisId,A=O===void 0?F.xAxisId:O,k=M.yAxisId,W=k===void 0?F.yAxisId:k;return v.cloneElement(N,{key:N.key||"".concat(_,"-").concat(C),xAxis:I[A],yAxis:D[W],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:E})}),At(w,"renderActivePoints",function(N){var _=N.item,C=N.activePoint,S=N.basePoint,E=N.childIndex,P=N.isRange,I=[],D=_.props.key,U=_.item.type.defaultProps!==void 0?Ie(Ie({},_.item.type.defaultProps),_.item.props):_.item.props,F=U.activeDot,M=U.dataKey,O=Ie(Ie({index:E,dataKey:M,cx:C.x,cy:C.y,r:4,fill:l4(_.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},jt(F,!1)),Yb(F));return I.push(g.renderActiveDot(F,O,"".concat(D,"-activePoint-").concat(E))),S?I.push(g.renderActiveDot(F,Ie(Ie({},O),{},{cx:S.x,cy:S.y}),"".concat(D,"-basePoint-").concat(E))):P&&I.push(null),I}),At(w,"renderGraphicChild",function(N,_,C){var S=w.filterFormatItem(N,_,C);if(!S)return null;var E=w.getTooltipEventType(),P=w.state,I=P.isTooltipActive,D=P.tooltipAxis,U=P.activeTooltipIndex,F=P.activeLabel,M=w.props.children,O=ri(M,Hn),A=S.props,k=A.points,W=A.isRange,fe=A.baseLine,de=S.item.type.defaultProps!==void 0?Ie(Ie({},S.item.type.defaultProps),S.item.props):S.item.props,T=de.activeDot,L=de.hide,R=de.activeBar,K=de.activeShape,q=!!(!L&&I&&O&&(T||R||K)),Z={};E!=="axis"&&O&&O.props.trigger==="click"?Z={onClick:Yy(w.handleItemMouseEnter,N.props.onClick)}:E!=="axis"&&(Z={onMouseLeave:Yy(w.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Yy(w.handleItemMouseEnter,N.props.onMouseEnter)});var X=v.cloneElement(N,Ie(Ie({},S.props),Z));function ee(ve){return typeof D.dataKey=="function"?D.dataKey(ve.payload):null}if(q)if(U>=0){var ie,be;if(D.dataKey&&!D.allowDuplicatedCategory){var he=typeof D.dataKey=="function"?ee:"payload.".concat(D.dataKey.toString());ie=Xb(k,he,F),be=W&&fe&&Xb(fe,he,F)}else ie=k==null?void 0:k[U],be=W&&fe&&fe[U];if(K||R){var Ge=N.props.activeIndex!==void 0?N.props.activeIndex:U;return[v.cloneElement(N,Ie(Ie(Ie({},S.props),Z),{},{activeIndex:Ge})),null,null]}if(!Mt(ie))return[X].concat(np(w.renderActivePoints({item:S,activePoint:ie,basePoint:be,childIndex:U,isRange:W})))}else{var ke,bt=(ke=w.getItemByXY(w.state.activeCoordinate))!==null&&ke!==void 0?ke:{graphicalItem:X},rt=bt.graphicalItem,Oe=rt.item,G=Oe===void 0?N:Oe,ce=rt.childIndex,xe=Ie(Ie(Ie({},S.props),Z),{},{activeIndex:ce});return[v.cloneElement(G,xe),null,null]}return W?[X,null,null]:[X,null]}),At(w,"renderCustomized",function(N,_,C){return v.cloneElement(N,Ie(Ie({key:"recharts-customized-".concat(C)},w.props),w.state))}),At(w,"renderMap",{CartesianGrid:{handler:t1,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:t1},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:t1},YAxis:{handler:t1},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((y=b.id)!==null&&y!==void 0?y:Vf("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=yH(w.triggeredAfterMouseMove,(j=b.throttleDelay)!==null&&j!==void 0?j:1e3/60),w.state={},w}return _Le(g,p),bLe(g,[{key:"componentDidMount",value:function(){var y,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,j=y.children,w=y.data,N=y.height,_=y.layout,C=ri(j,Hn);if(C){var S=C.props.defaultIndex;if(!(typeof S!="number"||S<0||S>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[S]&&this.state.tooltipTicks[S].value,P=SP(this.state,w,S,E),I=this.state.tooltipTicks[S].coordinate,D=(this.state.offset.top+N)/2,U=_==="horizontal",F=U?{x:I,y:D}:{y:I,x:D},M=this.state.formattedGraphicalItems.find(function(A){var k=A.item;return k.type.name==="Scatter"});M&&(F=Ie(Ie({},F),M.props.points[S].tooltipPosition),P=M.props.points[S].tooltipPayload);var O={activeTooltipIndex:S,isTooltipActive:!0,activeLabel:E,activePayload:P,activeCoordinate:F};this.setState(O),this.renderCursor(C),this.accessibilityManager.setIndex(S)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var w,N;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(y){JE([ri(y.children,Hn)],[ri(this.props.children,Hn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=ri(this.props.children,Hn);if(y&&typeof y.props.shared=="boolean"){var j=y.props.shared?"axis":"item";return l.indexOf(j)>=0?j:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var j=this.container,w=j.getBoundingClientRect(),N=EEe(w),_={chartX:Math.round(y.pageX-N.left),chartY:Math.round(y.pageY-N.top)},C=w.width/j.offsetWidth||1,S=this.inRange(_.chartX,_.chartY,C);if(!S)return null;var E=this.state,P=E.xAxisMap,I=E.yAxisMap,D=this.getTooltipEventType();if(D!=="axis"&&P&&I){var U=fd(P).scale,F=fd(I).scale,M=U&&U.invert?U.invert(_.chartX):null,O=F&&F.invert?F.invert(_.chartY):null;return Ie(Ie({},_),{},{xValue:M,yValue:O})}var A=FL(this.state,this.props.data,this.props.layout,S);return A?Ie(Ie({},_),A):null}},{key:"inRange",value:function(y,j){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,_=y/w,C=j/w;if(N==="horizontal"||N==="vertical"){var S=this.state.offset,E=_>=S.left&&_<=S.left+S.width&&C>=S.top&&C<=S.top+S.height;return E?{x:_,y:C}:null}var P=this.state,I=P.angleAxisMap,D=P.radiusAxisMap;if(I&&D){var U=fd(I);return iF({x:_,y:C},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,j=this.getTooltipEventType(),w=ri(y,Hn),N={};w&&j==="axis"&&(w.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var _=Yb(this.props,this.handleOuterEvent);return Ie(Ie({},_),N)}},{key:"addListener",value:function(){jS.on(NS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){jS.removeListener(NS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,j,w){for(var N=this.state.formattedGraphicalItems,_=0,C=N.length;_<C;_++){var S=N[_];if(S.item===y||S.props.key===y.key||j===vc(S.item.type)&&w===S.childIndex)return S}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,j=this.state.offset,w=j.left,N=j.top,_=j.height,C=j.width;return B.createElement("defs",null,B.createElement("clipPath",{id:y},B.createElement("rect",{x:w,y:N,height:_,width:C})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(j,w){var N=IL(w,2),_=N[0],C=N[1];return Ie(Ie({},j),{},At({},_,C.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(j,w){var N=IL(w,2),_=N[0],C=N[1];return Ie(Ie({},j),{},At({},_,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[y])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(y){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[y])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(y){var j=this.state,w=j.formattedGraphicalItems,N=j.activeItem;if(w&&w.length)for(var _=0,C=w.length;_<C;_++){var S=w[_],E=S.props,P=S.item,I=P.type.defaultProps!==void 0?Ie(Ie({},P.type.defaultProps),P.props):P.props,D=vc(P.type);if(D==="Bar"){var U=(E.data||[]).find(function(A){return JDe(y,A)});if(U)return{graphicalItem:S,payload:U}}else if(D==="RadialBar"){var F=(E.data||[]).find(function(A){return iF(y,A)});if(F)return{graphicalItem:S,payload:F}}else if(d_(S,N)||u_(S,N)||Ev(S,N)){var M=URe({graphicalItem:S,activeTooltipItem:N,itemData:I.data}),O=I.activeIndex===void 0?M:I.activeIndex;return{graphicalItem:Ie(Ie({},S),{},{childIndex:O}),payload:Ev(S,N)?I.data[M]:S.props.data[M]}}}return null}},{key:"render",value:function(){var y=this;if(!Q3(this))return null;var j=this.props,w=j.children,N=j.className,_=j.width,C=j.height,S=j.style,E=j.compact,P=j.title,I=j.desc,D=RL(j,hLe),U=jt(D,!1);if(E)return B.createElement(mL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(tA,dg({},U,{width:_,height:C,title:P,desc:I}),this.renderClipPath(),J3(w,this.renderMap)));if(this.props.accessibilityLayer){var F,M;U.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,U.role=(M=this.props.role)!==null&&M!==void 0?M:"application",U.onKeyDown=function(A){y.accessibilityManager.keyboardEvent(A)},U.onFocus=function(){y.accessibilityManager.focus()}}var O=this.parseEventsOfWrapper();return B.createElement(mL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",dg({className:Lt("recharts-wrapper",N),style:Ie({position:"relative",cursor:"default",width:_,height:C},S)},O,{ref:function(k){y.container=k}}),B.createElement(tA,dg({},U,{width:_,height:C,title:P,desc:I,style:TLe}),this.renderClipPath(),J3(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);return At(x,"displayName",r),At(x,"defaultProps",Ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),At(x,"getDerivedStateFromProps",function(p,g){var b=p.dataKey,y=p.data,j=p.children,w=p.width,N=p.height,_=p.layout,C=p.stackOffset,S=p.margin,E=g.dataStartIndex,P=g.dataEndIndex;if(g.updateId===void 0){var I=LL(p);return Ie(Ie(Ie({},I),{},{updateId:0},m(Ie(Ie({props:p},I),{},{updateId:0}),g)),{},{prevDataKey:b,prevData:y,prevWidth:w,prevHeight:N,prevLayout:_,prevStackOffset:C,prevMargin:S,prevChildren:j})}if(b!==g.prevDataKey||y!==g.prevData||w!==g.prevWidth||N!==g.prevHeight||_!==g.prevLayout||C!==g.prevStackOffset||!Kh(S,g.prevMargin)){var D=LL(p),U={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},F=Ie(Ie({},FL(g,y,_)),{},{updateId:g.updateId+1}),M=Ie(Ie(Ie({},D),U),F);return Ie(Ie(Ie({},M),m(Ie({props:p},M),g)),{},{prevDataKey:b,prevData:y,prevWidth:w,prevHeight:N,prevLayout:_,prevStackOffset:C,prevMargin:S,prevChildren:j})}if(!JE(j,g.prevChildren)){var O,A,k,W,fe=ri(j,Gm),de=fe&&(O=(A=fe.props)===null||A===void 0?void 0:A.startIndex)!==null&&O!==void 0?O:E,T=fe&&(k=(W=fe.props)===null||W===void 0?void 0:W.endIndex)!==null&&k!==void 0?k:P,L=de!==E||T!==P,R=!Mt(y),K=R&&!L?g.updateId:g.updateId+1;return Ie(Ie({updateId:K},m(Ie(Ie({props:p},g),{},{updateId:K,dataStartIndex:de,dataEndIndex:T}),g)),{},{prevChildren:j,dataStartIndex:de,dataEndIndex:T})}return null}),At(x,"renderActiveDot",function(p,g,b){var y;return v.isValidElement(p)?y=v.cloneElement(p,g):kt(p)?y=p(g):y=B.createElement(z0,g),B.createElement(Jt,{className:"recharts-active-dot",key:b},y)}),function(g){return B.createElement(x,g)}},y_=v_({chartName:"LineChart",GraphicalChild:Fl,axisComponents:[{axisType:"xAxis",AxisComp:Ba},{axisType:"yAxis",AxisComp:Ua}],formatAxisMap:d4}),b_=v_({chartName:"BarChart",GraphicalChild:ro,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ba},{axisType:"yAxis",AxisComp:Ua}],formatAxisMap:d4}),Xq=v_({chartName:"PieChart",GraphicalChild:Hl,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:c_},{axisType:"radiusAxis",AxisComp:o_}],formatAxisMap:NOe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),BLe=v_({chartName:"AreaChart",GraphicalChild:Fc,axisComponents:[{axisType:"xAxis",AxisComp:Ba},{axisType:"yAxis",AxisComp:Ua}],formatAxisMap:d4});const ULe={light:"",dark:".dark"},Yq=v.createContext(null);function Qq(){const e=v.useContext(Yq);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const Iv=v.forwardRef(({id:e,className:t,children:r,config:n,...a},i)=>{const o=v.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return s.jsx(Yq.Provider,{value:{config:n},children:s.jsxs("div",{"data-chart":l,ref:i,className:pe("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[s.jsx(VLe,{id:l,config:n}),s.jsx(Cl,{children:r})]})})});Iv.displayName="Chart";const VLe=({id:e,config:t})=>{const r=Object.entries(t).filter(([n,a])=>a.theme||a.color);return r.length?s.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(ULe).map(([n,a])=>`
${a} [data-chart=${e}] {
${r.map(([i,o])=>{var c;const l=((c=o.theme)==null?void 0:c[n])||o.color;return l?`  --color-${i}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},BL=Hn,Rv=v.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:i=!1,label:o,labelFormatter:l,labelClassName:c,formatter:d,color:u,nameKey:f,labelKey:h},m)=>{const{config:x}=Qq(),p=v.useMemo(()=>{var N;if(a||!(t!=null&&t.length))return null;const[b]=t,y=`${h||b.dataKey||b.name||"value"}`,j=CP(x,b,y),w=!h&&typeof o=="string"?((N=x[o])==null?void 0:N.label)||o:j==null?void 0:j.label;return l?s.jsx("div",{className:pe("font-medium",c),children:l(w,t)}):w?s.jsx("div",{className:pe("font-medium",c),children:w}):null},[o,l,t,a,c,x,h]);if(!e||!(t!=null&&t.length))return null;const g=t.length===1&&n!=="dot";return s.jsxs("div",{ref:m,className:pe("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[g?null:p,s.jsx("div",{className:"grid gap-1.5",children:t.map((b,y)=>{const j=`${f||b.name||b.dataKey||"value"}`,w=CP(x,b,j),N=u||b.payload.fill||b.color;return s.jsx("div",{className:pe("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:d&&(b==null?void 0:b.value)!==void 0&&b.name?d(b.value,b.name,b,y,b.payload):s.jsxs(s.Fragment,{children:[w!=null&&w.icon?s.jsx(w.icon,{}):!i&&s.jsx("div",{className:pe("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":g&&n==="dashed"}),style:{"--color-bg":N,"--color-border":N}}),s.jsxs("div",{className:pe("flex flex-1 justify-between leading-none",g?"items-end":"items-center"),children:[s.jsxs("div",{className:"grid gap-1.5",children:[g?p:null,s.jsx("span",{className:"text-muted-foreground",children:(w==null?void 0:w.label)||b.name})]}),b.value&&s.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:b.value.toLocaleString()})]})]})},b.dataKey)})})]})});Rv.displayName="ChartTooltip";const zLe=v.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:a},i)=>{const{config:o}=Qq();return r!=null&&r.length?s.jsx("div",{ref:i,className:pe("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,d=CP(o,l,c);return s.jsxs("div",{className:pe("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[d!=null&&d.icon&&!t?s.jsx(d.icon,{}):s.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),d==null?void 0:d.label]},l.value)})}):null});zLe.displayName="ChartLegend";function CP(e,t,r){if(typeof t!="object"||t===null)return;const n="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in e?e[a]:e[r]}const WLe=[{month:"Jun",ordered:0,delivered:0},{month:"Jul",ordered:0,delivered:0},{month:"Aug",ordered:0,delivered:0},{month:"Sep",ordered:0,delivered:0},{month:"Oct",ordered:0,delivered:0},{month:"Nov",ordered:0,delivered:0}],HLe=[{month:"Jun",amount:0},{month:"Jul",amount:0},{month:"Aug",amount:0},{month:"Sep",amount:0},{month:"Oct",amount:0},{month:"Nov",amount:0}],GLe=()=>{var d,u,f,h,m,x,p,g,b,y,j,w,N,_,C;const{data:e,isLoading:t,refetch:r}=$me(),{data:n}=Kz(),a=e==null?void 0:e.kpi,i=(e==null?void 0:e.orders_chart)||WLe,o=(e==null?void 0:e.spending_chart)||HLe,l=(n==null?void 0:n.recent_orders)||[];n!=null&&n.recent_issues;const c=(n==null?void 0:n.recent_payments)||[];return t?s.jsx(yt,{title:"Dashboard Overview",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[1,2,3,4,5].map(S=>s.jsx(oe,{children:s.jsxs(le,{className:"p-6",children:[s.jsx(Xt,{className:"h-4 w-24 mb-2"}),s.jsx(Xt,{className:"h-8 w-16 mb-2"}),s.jsx(Xt,{className:"h-3 w-20"})]})},S))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsx(Xt,{className:"h-[300px] w-full"})})}),s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsx(Xt,{className:"h-[300px] w-full"})})})]})]})}):s.jsx(yt,{title:"Dashboard Overview",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx(mx,{title:"Active Apartments",value:((d=a==null?void 0:a.active_apartments)==null?void 0:d.value)??0,icon:xr,trend:{value:((u=a==null?void 0:a.active_apartments)==null?void 0:u.trend)??0,label:((f=a==null?void 0:a.active_apartments)==null?void 0:f.trend_label)??"vs last month"}}),s.jsx(mx,{title:"Pending Orders",value:((h=a==null?void 0:a.pending_orders)==null?void 0:h.value)??0,icon:mt,trend:{value:((m=a==null?void 0:a.pending_orders)==null?void 0:m.trend)??0,label:((x=a==null?void 0:a.pending_orders)==null?void 0:x.trend_label)??"vs last week"}}),s.jsx(mx,{title:"Open Issues",value:((p=a==null?void 0:a.open_issues)==null?void 0:p.value)??0,icon:Et,trend:{value:((g=a==null?void 0:a.open_issues)==null?void 0:g.trend)??0,label:((b=a==null?void 0:a.open_issues)==null?void 0:b.trend_label)??"no change"}}),s.jsx(mx,{title:"Deliveries This Week",value:((y=a==null?void 0:a.deliveries_this_week)==null?void 0:y.value)??0,icon:yr,trend:{value:((j=a==null?void 0:a.deliveries_this_week)==null?void 0:j.trend)??0,label:((w=a==null?void 0:a.deliveries_this_week)==null?void 0:w.trend_label)??"vs last week"}}),s.jsx(mx,{title:"Overdue Payments",value:((N=a==null?void 0:a.overdue_payments)==null?void 0:N.value)??0,icon:As,trend:{value:((_=a==null?void 0:a.overdue_payments)==null?void 0:_.trend)??0,label:((C=a==null?void 0:a.overdue_payments)==null?void 0:C.trend_label)??"vs last month"}})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs(oe,{className:"overflow-hidden",children:[s.jsx(Fe,{className:"pb-3",children:s.jsxs($e,{className:"flex items-center gap-2 text-base sm:text-lg",children:[s.jsx(mt,{className:"h-4 w-4 sm:h-5 sm:w-5"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Orders Placed vs Delivered"})]})}),s.jsx(le,{className:"p-2 sm:p-6",children:s.jsx(Iv,{config:{ordered:{label:"ordered",color:"hsl(var(--primary))"},delivered:{label:"delivered",color:"hsl(var(--success))"}},className:"h-[280px] sm:h-[320px] w-full",children:s.jsx(Cl,{width:"100%",height:"100%",children:s.jsxs(b_,{data:i,margin:{top:10,right:5,left:-20,bottom:5},children:[s.jsx(Ml,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(Ba,{dataKey:"month",tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),s.jsx(Ua,{tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),s.jsx(BL,{content:s.jsx(Rv,{})}),s.jsx(Ro,{wrapperStyle:{fontSize:"11px",paddingTop:"10px"},iconSize:10}),s.jsx(ro,{dataKey:"ordered",fill:"hsl(var(--primary))",radius:[6,6,0,0]}),s.jsx(ro,{dataKey:"delivered",fill:"hsl(var(--success))",radius:[6,6,0,0]})]})})})})]}),s.jsxs(oe,{className:"overflow-hidden",children:[s.jsx(Fe,{className:"pb-3",children:s.jsxs($e,{className:"flex items-center gap-2 text-base sm:text-lg",children:[s.jsx($o,{className:"h-4 w-4 sm:h-5 sm:w-5"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Total Spending Trend"})]})}),s.jsx(le,{className:"p-2 sm:p-6",children:s.jsx(Iv,{config:{amount:{label:"Amount ()",color:"hsl(var(--primary))"}},className:"h-[280px] sm:h-[320px] w-full",children:s.jsx(Cl,{width:"100%",height:"100%",children:s.jsxs(y_,{data:o,margin:{top:10,right:5,left:-20,bottom:5},children:[s.jsx(Ml,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(Ba,{dataKey:"month",tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),s.jsx(Ua,{tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),s.jsx(BL,{content:s.jsx(Rv,{})}),s.jsx(Fl,{type:"monotone",dataKey:"amount",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",r:3}})]})})})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"h-5 w-5"}),"Recent Orders"]}),s.jsxs(Pe,{variant:"outline",children:[l.length," orders"]})]})}),s.jsx(le,{children:s.jsx("div",{className:"space-y-3",children:l.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No recent orders"}):l.slice(0,5).map(S=>s.jsx("div",{className:"flex items-start justify-between p-3 rounded-lg border hover:bg-muted/50 transition-colors",children:s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pe,{variant:"outline",className:"text-xs",children:S.po_number}),s.jsx(Pe,{variant:S.status==="delivered"?"default":S.status==="processing"?"secondary":"outline",className:"text-xs",children:S.status})]}),s.jsx("p",{className:"text-sm font-medium",children:S.apartment}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[S.vendor,"  ",S.total.toLocaleString()," Ft"]})]})},S.id))})})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(As,{className:"h-5 w-5"}),"Recent Payments"]}),s.jsxs(Pe,{variant:"outline",children:[c.length," payments"]})]})}),s.jsx(le,{children:s.jsx("div",{className:"space-y-3",children:c.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No recent payments"}):c.slice(0,5).map(S=>s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(As,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium",children:S.order_reference}),s.jsx(Pe,{variant:S.status==="Paid"?"default":S.status==="Partial"?"secondary":"destructive",className:"text-xs",children:S.status})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:S.vendor||"Unknown vendor"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[S.amount_paid.toLocaleString()," / ",S.total_amount.toLocaleString()," Ft"]})]})]},S.id))})})]})]}),s.jsx(uxe,{})]})})},qLe=()=>{const e=Ul();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Zq=ir.create({baseURL:ji.replace("/api",""),headers:{"Content-Type":"application/json"}});Zq.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const KLe=()=>{const[e,t]=v.useState(!1);return{enhanceText:async(n,a="improve")=>{var i,o;if(!n||!n.trim())return Me.error("Please enter some text first"),null;t(!0);try{const l=await Zq.post("/api/utils/enhance-text/",{text:n,type:a});return Me.success("Text enhanced successfully"),l.data.enhanced}catch(l){console.error("Failed to enhance text:",l);const c=((o=(i=l.response)==null?void 0:i.data)==null?void 0:o.error)||"Failed to enhance text";return Me.error(c),null}finally{t(!1)}},isEnhancing:e}},XLe=({text:e,onTextEnhanced:t,className:r="",variant:n="outline",size:a="sm"})=>{const{enhanceText:i,isEnhancing:o}=KLe(),[l,c]=v.useState(!1),d=async u=>{c(!1);const f=await i(e,u);f&&t(f)};return s.jsxs(C0,{open:l,onOpenChange:c,children:[s.jsx(E0,{asChild:!0,children:s.jsx(re,{type:"button",variant:n,size:a,className:r,disabled:o||!(e!=null&&e.trim()),children:o?s.jsx(s.Fragment,{children:s.jsx(St,{className:"h-4 w-4  animate-spin"})}):s.jsx(s.Fragment,{children:s.jsx(ac,{className:"h-4 w-4 "})})})}),s.jsxs(Sp,{align:"end",children:[s.jsxs(mn,{onClick:()=>d("improve"),children:[s.jsx(ac,{className:"h-4 w-4 mr-2"}),"Improve & Fix"]}),s.jsxs(mn,{onClick:()=>d("shorten"),children:[s.jsx(ac,{className:"h-4 w-4 mr-2"}),"Make Shorter"]}),s.jsxs(mn,{onClick:()=>d("professional"),children:[s.jsx(ac,{className:"h-4 w-4 mr-2"}),"Professional Tone"]}),s.jsxs(mn,{onClick:()=>d("friendly"),children:[s.jsx(ac,{className:"h-4 w-4 mr-2"}),"Friendly Tone"]}),s.jsxs(mn,{onClick:()=>d("translate"),children:[s.jsx(ac,{className:"h-4 w-4 mr-2"}),"Translate to English"]})]})]})},ma=v.forwardRef(({className:e,value:t,onChange:r,...n},a)=>{const[i,o]=v.useState(t||"");v.useEffect(()=>{o(t||"")},[t]);const l=d=>{o(d.target.value),r==null||r(d)},c=d=>{const u={target:{value:d}};o(d),r==null||r(u)};return s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{className:pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 pr-24 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,value:i,onChange:l,...n}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(XLe,{text:i.toString(),onTextEnhanced:c,variant:"ghost",size:"sm"})})]})});ma.displayName="EnhancedTextarea";const ds=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:pe("w-full caption-bottom text-sm",e),...t})}));ds.displayName="Table";const us=v.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:pe("[&_tr]:border-b",e),...t}));us.displayName="TableHeader";const fs=v.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:pe("[&_tr:last-child]:border-0",e),...t}));fs.displayName="TableBody";const YLe=v.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:pe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));YLe.displayName="TableFooter";const Rt=v.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:pe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Rt.displayName="TableRow";const Ee=v.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:pe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ee.displayName="TableHead";const ye=v.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:pe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ye.displayName="TableCell";const QLe=v.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:pe("mt-4 text-sm text-muted-foreground",e),...t}));QLe.displayName="TableCaption";function w_(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ZLe=[" ","Enter","ArrowUp","ArrowDown"],JLe=[" ","Enter"],W0="Select",[j_,N_,e$e]=zj(W0),[Up,TJe]=ya(W0,[e$e,iu]),__=iu(),[t$e,fu]=Up(W0),[r$e,n$e]=Up(W0),Jq=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:h,required:m,form:x}=e,p=__(t),[g,b]=v.useState(null),[y,j]=v.useState(null),[w,N]=v.useState(!1),_=Np(d),[C=!1,S]=Qi({prop:n,defaultProp:a,onChange:i}),[E,P]=Qi({prop:o,defaultProp:l,onChange:c}),I=v.useRef(null),D=g?x||!!g.closest("form"):!0,[U,F]=v.useState(new Set),M=Array.from(U).map(O=>O.props.value).join(";");return s.jsx(eN,{...p,children:s.jsxs(t$e,{required:m,scope:t,trigger:g,onTriggerChange:b,valueNode:y,onValueNodeChange:j,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:Hi(),value:E,onValueChange:P,open:C,onOpenChange:S,dir:_,triggerPointerDownPosRef:I,disabled:h,children:[s.jsx(j_.Provider,{scope:t,children:s.jsx(r$e,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(O=>{F(A=>new Set(A).add(O))},[]),onNativeOptionRemove:v.useCallback(O=>{F(A=>{const k=new Set(A);return k.delete(O),k})},[]),children:r})}),D?s.jsxs(_K,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:f,value:E,onChange:O=>P(O.target.value),disabled:h,form:x,children:[E===void 0?s.jsx("option",{value:""}):null,Array.from(U)]},M):null]})})};Jq.displayName=W0;var eK="SelectTrigger",tK=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=__(r),o=fu(eK,r),l=o.disabled||n,c=Ft(t,o.onTriggerChange),d=N_(r),u=v.useRef("touch"),[f,h,m]=SK(p=>{const g=d().filter(j=>!j.disabled),b=g.find(j=>j.value===o.value),y=CK(g,p,b);y!==void 0&&o.onValueChange(y.value)}),x=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(m0,{asChild:!0,...i,children:s.jsx(gt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":NK(o.value)?"":void 0,...a,ref:c,onClick:Ue(a.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&x(p)}),onPointerDown:Ue(a.onPointerDown,p=>{u.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(x(p),p.preventDefault())}),onKeyDown:Ue(a.onKeyDown,p=>{const g=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(g&&p.key===" ")&&ZLe.includes(p.key)&&(x(),p.preventDefault())})})})});tK.displayName=eK;var rK="SelectValue",nK=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=fu(rK,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=Ft(t,c.onValueNodeChange);return Qn(()=>{d(u)},[d,u]),s.jsx(gt.span,{...l,ref:f,style:{pointerEvents:"none"},children:NK(c.value)?s.jsx(s.Fragment,{children:o}):i})});nK.displayName=rK;var s$e="SelectIcon",sK=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(gt.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});sK.displayName=s$e;var a$e="SelectPortal",aK=e=>s.jsx(fp,{asChild:!0,...e});aK.displayName=a$e;var Pf="SelectContent",iK=v.forwardRef((e,t)=>{const r=fu(Pf,e.__scopeSelect),[n,a]=v.useState();if(Qn(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?no.createPortal(s.jsx(oK,{scope:e.__scopeSelect,children:s.jsx(j_.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(lK,{...e,ref:t})});iK.displayName=Pf;var xo=10,[oK,hu]=Up(Pf),i$e="SelectContentImpl",lK=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:p,avoidCollisions:g,...b}=e,y=fu(Pf,r),[j,w]=v.useState(null),[N,_]=v.useState(null),C=Ft(t,Z=>w(Z)),[S,E]=v.useState(null),[P,I]=v.useState(null),D=N_(r),[U,F]=v.useState(!1),M=v.useRef(!1);v.useEffect(()=>{if(j)return j0(j)},[j]),xN();const O=v.useCallback(Z=>{const[X,...ee]=D().map(he=>he.ref.current),[ie]=ee.slice(-1),be=document.activeElement;for(const he of Z)if(he===be||(he==null||he.scrollIntoView({block:"nearest"}),he===X&&N&&(N.scrollTop=0),he===ie&&N&&(N.scrollTop=N.scrollHeight),he==null||he.focus(),document.activeElement!==be))return},[D,N]),A=v.useCallback(()=>O([S,j]),[O,S,j]);v.useEffect(()=>{U&&A()},[U,A]);const{onOpenChange:k,triggerPointerDownPosRef:W}=y;v.useEffect(()=>{if(j){let Z={x:0,y:0};const X=ie=>{var be,he;Z={x:Math.abs(Math.round(ie.pageX)-(((be=W.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((he=W.current)==null?void 0:he.y)??0))}},ee=ie=>{Z.x<=10&&Z.y<=10?ie.preventDefault():j.contains(ie.target)||k(!1),document.removeEventListener("pointermove",X),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",X),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",ee,{capture:!0})}}},[j,k,W]),v.useEffect(()=>{const Z=()=>k(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[k]);const[fe,de]=SK(Z=>{const X=D().filter(be=>!be.disabled),ee=X.find(be=>be.ref.current===document.activeElement),ie=CK(X,Z,ee);ie&&setTimeout(()=>ie.ref.current.focus())}),T=v.useCallback((Z,X,ee)=>{const ie=!M.current&&!ee;(y.value!==void 0&&y.value===X||ie)&&(E(Z),ie&&(M.current=!0))},[y.value]),L=v.useCallback(()=>j==null?void 0:j.focus(),[j]),R=v.useCallback((Z,X,ee)=>{const ie=!M.current&&!ee;(y.value!==void 0&&y.value===X||ie)&&I(Z)},[y.value]),K=n==="popper"?EP:cK,q=K===EP?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:p,avoidCollisions:g}:{};return s.jsx(oK,{scope:r,content:j,viewport:N,onViewportChange:_,itemRefCallback:T,selectedItem:S,onItemLeave:L,itemTextRefCallback:R,focusSelectedItem:A,selectedItemText:P,position:n,isPositioned:U,searchRef:fe,children:s.jsx(N0,{as:Tl,allowPinchZoom:!0,children:s.jsx(w0,{asChild:!0,trapped:y.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:Ue(a,Z=>{var X;(X=y.trigger)==null||X.focus({preventScroll:!0}),Z.preventDefault()}),children:s.jsx(Mf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(K,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:Z=>Z.preventDefault(),...b,...q,onPlaced:()=>F(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ue(b.onKeyDown,Z=>{const X=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!X&&Z.key.length===1&&de(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let ie=D().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const be=Z.target,he=ie.indexOf(be);ie=ie.slice(he+1)}setTimeout(()=>O(ie)),Z.preventDefault()}})})})})})})});lK.displayName=i$e;var o$e="SelectItemAlignedPosition",cK=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=fu(Pf,r),o=hu(Pf,r),[l,c]=v.useState(null),[d,u]=v.useState(null),f=Ft(t,C=>u(C)),h=N_(r),m=v.useRef(!1),x=v.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:b,focusSelectedItem:y}=o,j=v.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&p&&g&&b){const C=i.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),P=b.getBoundingClientRect();if(i.dir!=="rtl"){const be=P.left-S.left,he=E.left-be,Ge=C.left-he,ke=C.width+Ge,bt=Math.max(ke,S.width),rt=window.innerWidth-xo,Oe=UE(he,[xo,Math.max(xo,rt-bt)]);l.style.minWidth=ke+"px",l.style.left=Oe+"px"}else{const be=S.right-P.right,he=window.innerWidth-E.right-be,Ge=window.innerWidth-C.right-he,ke=C.width+Ge,bt=Math.max(ke,S.width),rt=window.innerWidth-xo,Oe=UE(he,[xo,Math.max(xo,rt-bt)]);l.style.minWidth=ke+"px",l.style.right=Oe+"px"}const I=h(),D=window.innerHeight-xo*2,U=p.scrollHeight,F=window.getComputedStyle(d),M=parseInt(F.borderTopWidth,10),O=parseInt(F.paddingTop,10),A=parseInt(F.borderBottomWidth,10),k=parseInt(F.paddingBottom,10),W=M+O+U+k+A,fe=Math.min(g.offsetHeight*5,W),de=window.getComputedStyle(p),T=parseInt(de.paddingTop,10),L=parseInt(de.paddingBottom,10),R=C.top+C.height/2-xo,K=D-R,q=g.offsetHeight/2,Z=g.offsetTop+q,X=M+O+Z,ee=W-X;if(X<=R){const be=I.length>0&&g===I[I.length-1].ref.current;l.style.bottom="0px";const he=d.clientHeight-p.offsetTop-p.offsetHeight,Ge=Math.max(K,q+(be?L:0)+he+A),ke=X+Ge;l.style.height=ke+"px"}else{const be=I.length>0&&g===I[0].ref.current;l.style.top="0px";const Ge=Math.max(R,M+p.offsetTop+(be?T:0)+q)+ee;l.style.height=Ge+"px",p.scrollTop=X-R+p.offsetTop}l.style.margin=`${xo}px 0`,l.style.minHeight=fe+"px",l.style.maxHeight=D+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,d,p,g,b,i.dir,n]);Qn(()=>j(),[j]);const[w,N]=v.useState();Qn(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const _=v.useCallback(C=>{C&&x.current===!0&&(j(),y==null||y(),x.current=!1)},[j,y]);return s.jsx(c$e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:_,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:s.jsx(gt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});cK.displayName=o$e;var l$e="SelectPopperPosition",EP=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=xo,...i}=e,o=__(r);return s.jsx(tN,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});EP.displayName=l$e;var[c$e,b4]=Up(Pf,{}),AP="SelectViewport",dK=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=hu(AP,r),o=b4(AP,r),l=Ft(t,i.onViewportChange),c=v.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(j_.Slot,{scope:r,children:s.jsx(gt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ue(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-u.scrollTop);if(m>0){const x=window.innerHeight-xo*2,p=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),b=Math.max(p,g);if(b<x){const y=b+m,j=Math.min(x,y),w=y-j;f.style.height=j+"px",f.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});dK.displayName=AP;var uK="SelectGroup",[d$e,u$e]=Up(uK),f$e=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Hi();return s.jsx(d$e,{scope:r,id:a,children:s.jsx(gt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});f$e.displayName=uK;var fK="SelectLabel",hK=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=u$e(fK,r);return s.jsx(gt.div,{id:a.id,...n,ref:t})});hK.displayName=fK;var Qw="SelectItem",[h$e,mK]=Up(Qw),pK=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=fu(Qw,r),c=hu(Qw,r),d=l.value===n,[u,f]=v.useState(i??""),[h,m]=v.useState(!1),x=Ft(t,y=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,y,n,a)}),p=Hi(),g=v.useRef("touch"),b=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(h$e,{scope:r,value:n,disabled:a,textId:p,isSelected:d,onItemTextChange:v.useCallback(y=>{f(j=>j||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(j_.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:s.jsx(gt.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:Ue(o.onFocus,()=>m(!0)),onBlur:Ue(o.onBlur,()=>m(!1)),onClick:Ue(o.onClick,()=>{g.current!=="mouse"&&b()}),onPointerUp:Ue(o.onPointerUp,()=>{g.current==="mouse"&&b()}),onPointerDown:Ue(o.onPointerDown,y=>{g.current=y.pointerType}),onPointerMove:Ue(o.onPointerMove,y=>{var j;g.current=y.pointerType,a?(j=c.onItemLeave)==null||j.call(c):g.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ue(o.onPointerLeave,y=>{var j;y.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:Ue(o.onKeyDown,y=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&y.key===" "||(JLe.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});pK.displayName=Qw;var Ux="SelectItemText",xK=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=fu(Ux,r),l=hu(Ux,r),c=mK(Ux,r),d=n$e(Ux,r),[u,f]=v.useState(null),h=Ft(t,b=>f(b),c.onItemTextChange,b=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,b,c.value,c.disabled)}),m=u==null?void 0:u.textContent,x=v.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=d;return Qn(()=>(p(x),()=>g(x)),[p,g,x]),s.jsxs(s.Fragment,{children:[s.jsx(gt.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?no.createPortal(i.children,o.valueNode):null]})});xK.displayName=Ux;var gK="SelectItemIndicator",vK=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return mK(gK,r).isSelected?s.jsx(gt.span,{"aria-hidden":!0,...n,ref:t}):null});vK.displayName=gK;var PP="SelectScrollUpButton",yK=v.forwardRef((e,t)=>{const r=hu(PP,e.__scopeSelect),n=b4(PP,e.__scopeSelect),[a,i]=v.useState(!1),o=Ft(t,n.onScrollButtonChange);return Qn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(wK,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});yK.displayName=PP;var TP="SelectScrollDownButton",bK=v.forwardRef((e,t)=>{const r=hu(TP,e.__scopeSelect),n=b4(TP,e.__scopeSelect),[a,i]=v.useState(!1),o=Ft(t,n.onScrollButtonChange);return Qn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(wK,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});bK.displayName=TP;var wK=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=hu("SelectScrollButton",r),o=v.useRef(null),l=N_(r),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),Qn(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(gt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ue(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ue(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ue(a.onPointerLeave,()=>{c()})})}),m$e="SelectSeparator",jK=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(gt.div,{"aria-hidden":!0,...n,ref:t})});jK.displayName=m$e;var kP="SelectArrow",p$e=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=__(r),i=fu(kP,r),o=hu(kP,r);return i.open&&o.position==="popper"?s.jsx(rN,{...a,...n,ref:t}):null});p$e.displayName=kP;function NK(e){return e===""||e===void 0}var _K=v.forwardRef((e,t)=>{const{value:r,...n}=e,a=v.useRef(null),i=Ft(t,a),o=w_(r);return v.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&u){const f=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(f)}},[o,r]),s.jsx(o0,{asChild:!0,children:s.jsx("select",{...n,ref:i,defaultValue:r})})});_K.displayName="BubbleSelect";function SK(e){const t=en(e),r=v.useRef(""),n=v.useRef(0),a=v.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function CK(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=x$e(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function x$e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var g$e=Jq,EK=tK,v$e=nK,y$e=sK,b$e=aK,AK=iK,w$e=dK,PK=hK,TK=pK,j$e=xK,N$e=vK,kK=yK,OK=bK,DK=jK;const nt=g$e,st=v$e,et=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(EK,{ref:n,className:pe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(y$e,{asChild:!0,children:s.jsx(Ff,{className:"h-4 w-4 opacity-50"})})]}));et.displayName=EK.displayName;const IK=v.forwardRef(({className:e,...t},r)=>s.jsx(kK,{ref:r,className:pe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Gj,{className:"h-4 w-4"})}));IK.displayName=kK.displayName;const RK=v.forwardRef(({className:e,...t},r)=>s.jsx(OK,{ref:r,className:pe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Ff,{className:"h-4 w-4"})}));RK.displayName=OK.displayName;const tt=v.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(b$e,{children:s.jsxs(AK,{ref:a,className:pe("relative z-[9999] max-h-96 overflow-hidden rounded-lg border border-border/50 bg-popover backdrop-blur-xl text-popover-foreground shadow-2xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,sideOffset:4,...n,children:[s.jsx(IK,{}),s.jsx(w$e,{className:pe("p-2 min-w-[12rem]",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full"),children:t}),s.jsx(RK,{})]})}));tt.displayName=AK.displayName;const _$e=v.forwardRef(({className:e,...t},r)=>s.jsx(PK,{ref:r,className:pe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));_$e.displayName=PK.displayName;const J=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(TK,{ref:n,className:pe("relative flex w-full cursor-pointer select-none items-center rounded-md py-2.5 px-3 text-sm font-medium outline-none","hover:bg-accent/80 hover:text-accent-foreground focus:bg-accent/80 focus:text-accent-foreground","data-[disabled]:pointer-events-none data-[disabled]:opacity-50","transition-colors duration-150",e),...r,children:[s.jsx("span",{className:"absolute left-3 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(N$e,{children:s.jsx(Ui,{className:"h-4 w-4 text-primary"})})}),s.jsx(j$e,{className:"pl-6",children:t})]}));J.displayName=TK.displayName;const S$e=v.forwardRef(({className:e,...t},r)=>s.jsx(DK,{ref:r,className:pe("my-1.5 h-px bg-border/50",e),...t}));S$e.displayName=DK.displayName;var MK="AlertDialog",[C$e,kJe]=ya(MK,[zV]),qc=zV(),FK=e=>{const{__scopeAlertDialog:t,...r}=e,n=qc(t);return s.jsx(qk,{...n,...r,modal:!0})};FK.displayName=MK;var E$e="AlertDialogTrigger",LK=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=qc(r);return s.jsx(az,{...a,...n,ref:t})});LK.displayName=E$e;var A$e="AlertDialogPortal",$K=e=>{const{__scopeAlertDialog:t,...r}=e,n=qc(t);return s.jsx(Kk,{...n,...r})};$K.displayName=A$e;var P$e="AlertDialogOverlay",BK=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=qc(r);return s.jsx(A0,{...a,...n,ref:t})});BK.displayName=P$e;var Qh="AlertDialogContent",[T$e,k$e]=C$e(Qh),UK=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=qc(r),o=v.useRef(null),l=Ft(t,o),c=v.useRef(null);return s.jsx(Mfe,{contentName:Qh,titleName:VK,docsSlug:"alert-dialog",children:s.jsx(T$e,{scope:r,cancelRef:c,children:s.jsxs(P0,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Ue(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(zT,{children:n}),s.jsx(D$e,{contentRef:o})]})})})});UK.displayName=Qh;var VK="AlertDialogTitle",zK=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=qc(r);return s.jsx(T0,{...a,...n,ref:t})});zK.displayName=VK;var WK="AlertDialogDescription",HK=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=qc(r);return s.jsx(k0,{...a,...n,ref:t})});HK.displayName=WK;var O$e="AlertDialogAction",GK=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=qc(r);return s.jsx(wN,{...a,...n,ref:t})});GK.displayName=O$e;var qK="AlertDialogCancel",KK=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=k$e(qK,r),i=qc(r),o=Ft(t,a);return s.jsx(wN,{...i,...n,ref:o})});KK.displayName=qK;var D$e=({contentRef:e})=>{const t=`\`${Qh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Qh}\` by passing a \`${WK}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Qh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},I$e=FK,R$e=LK,M$e=$K,XK=BK,YK=UK,QK=GK,ZK=KK,JK=zK,eX=HK;const Gl=I$e,tX=R$e,F$e=M$e,rX=v.forwardRef(({className:e,...t},r)=>s.jsx(XK,{className:pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));rX.displayName=XK.displayName;const Xo=v.forwardRef(({className:e,...t},r)=>s.jsxs(F$e,{children:[s.jsx(rX,{}),s.jsx(YK,{ref:r,className:pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Xo.displayName=YK.displayName;const Yo=({className:e,...t})=>s.jsx("div",{className:pe("flex flex-col space-y-2 text-center sm:text-left",e),...t});Yo.displayName="AlertDialogHeader";const Qo=({className:e,...t})=>s.jsx("div",{className:pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Qo.displayName="AlertDialogFooter";const Zo=v.forwardRef(({className:e,...t},r)=>s.jsx(JK,{ref:r,className:pe("text-lg font-semibold",e),...t}));Zo.displayName=JK.displayName;const Jo=v.forwardRef(({className:e,...t},r)=>s.jsx(eX,{ref:r,className:pe("text-sm text-muted-foreground",e),...t}));Jo.displayName=eX.displayName;const el=v.forwardRef(({className:e,...t},r)=>s.jsx(QK,{ref:r,className:pe(Kg(),e),...t}));el.displayName=QK.displayName;const tl=v.forwardRef(({className:e,...t},r)=>s.jsx(ZK,{ref:r,className:pe(Kg({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));tl.displayName=ZK.displayName;var L$e="Separator",UL="horizontal",$$e=["horizontal","vertical"],nX=v.forwardRef((e,t)=>{const{decorative:r,orientation:n=UL,...a}=e,i=B$e(n)?n:UL,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(gt.div,{"data-orientation":i,...l,...a,ref:t})});nX.displayName=L$e;function B$e(e){return $$e.includes(e)}var sX=nX;const Tt=v.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(sX,{ref:a,decorative:r,orientation:t,className:pe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Tt.displayName=sX.displayName;const ta=ir.create({baseURL:ji,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1,validateStatus:e=>e<500});ta.interceptors.request.use(e=>(e.metadata={startTime:Date.now()},e),e=>Promise.reject(e));ta.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));let r1=!1,OP=[];const SS=(e,t=null)=>{OP.forEach(r=>{e?r.reject(e):r.resolve(t)}),OP=[]};ta.interceptors.response.use(e=>e,async e=>{var r,n;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if(r1)return new Promise((i,o)=>{OP.push({resolve:i,reject:o})}).then(i=>(t.headers&&(t.headers.Authorization=`Bearer ${i}`),ta(t))).catch(i=>Promise.reject(i));t._retry=!0,r1=!0;const a=localStorage.getItem("refresh_token");if(!a)return r1=!1,SS(e,null),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),Promise.reject(e);try{const i=await ir.post(`${hN}/refresh/`,{refresh:a},{timeout:1e4}),{access:o}=i.data;return localStorage.setItem("access_token",o),t.headers&&(t.headers.Authorization=`Bearer ${o}`),SS(null,o),ta(t)}catch(i){return SS(i,null),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),Promise.reject(i)}finally{r1=!1}}if((n=e.response)!=null&&n.data){const a=e.response.data,i=a.error||a.detail||a.message||"An error occurred";return Promise.reject(new Error(i))}return Promise.reject(e)});const H0={async getClients(e){return(await ta.get("/clients/",{params:e,signal:new AbortController().signal})).data},async getClient(e){return(await ta.get(`/clients/${e}/`,{headers:{"Cache-Control":"max-age=300"}})).data},async createClient(e){return(await ta.post("/clients/",e)).data},async updateClient(e,t){return(await ta.patch(`/clients/${e}/`,t)).data},async deleteClient(e){await ta.delete(`/clients/${e}/`)},async replaceClient(e,t){return(await ta.put(`/clients/${e}/`,t)).data},async batchGetClients(e){const t=e.map(r=>this.getClient(r));return Promise.all(t)},async checkEmailExists(e){try{return(await ta.get("/clients/",{params:{search:e}})).data.results.some(r=>r.email===e)}catch{return!1}},async getClientApartments(e){return(await ta.get(`/clients/${e}/apartments/`)).data},async getClientProducts(e){return(await ta.get(`/clients/${e}/products/`)).data},async getClientDetails(e){return(await ta.get(`/clients/${e}/details/`)).data}},U$e=({open:e,onOpenChange:t,clientId:r})=>{const n=cr(),{data:a,isLoading:i,error:o,refetch:l}=Ds({queryKey:["clientDetails",r],queryFn:()=>H0.getClientDetails(r),enabled:!!r&&e});if(v.useEffect(()=>{e&&r&&l()},[e,r,l]),!r)return null;const c=a,d=a==null?void 0:a.apartments,u=(d==null?void 0:d.data)||[],f=(d==null?void 0:d.count)||0,h=a==null?void 0:a.products,m=(h==null?void 0:h.data)||[],x=(h==null?void 0:h.count)||0,p=(h==null?void 0:h.total_value)||0;console.log("Client Details Full:",a),console.log("Apartments Response:",d),console.log("Products Response:",h);const g=y=>y==="Active"?"bg-success/10 text-success border-success/20":"bg-muted text-muted-foreground border-border/50",b=y=>({"Design Approved":"bg-primary/10 text-primary border-primary/20",Ordering:"bg-warning/10 text-warning border-warning/20",Renovating:"bg-accent/10 text-accent border-accent/20",Completed:"bg-success/10 text-success border-success/20"})[y]||"bg-muted text-muted-foreground border-border/50";return s.jsx(bn,{open:e,onOpenChange:t,children:s.jsxs(dn,{className:"max-w-4xl max-h-[90vh]",children:[s.jsx(wn,{children:s.jsxs(jn,{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Zn,{className:"h-6 w-6 text-primary"}),"Client Profile"]})}),s.jsx(zc,{className:"max-h-[calc(90vh-100px)] pr-4",children:i?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(St,{className:"h-8 w-8 animate-spin text-primary"})}),s.jsx(Xt,{className:"h-20 w-full"}),s.jsx(Xt,{className:"h-40 w-full"}),s.jsx(Xt,{className:"h-40 w-full"})]}):o?s.jsxs("div",{className:"text-center py-12 text-destructive",children:[s.jsx("p",{children:"Error loading client details"}),s.jsx(re,{onClick:()=>l(),className:"mt-4",children:"Retry"})]}):c?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground",children:c.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(Pe,{variant:"outline",className:"capitalize",children:c.type}),s.jsx(Pe,{className:g(c.account_status),children:c.account_status})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/30 border border-border/50",children:[s.jsx(yn,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email"}),s.jsx("p",{className:"text-sm font-medium",children:c.email})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/30 border border-border/50",children:[s.jsx(Wo,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"text-sm font-medium",children:c.phone})]})]})]}),c.notes&&s.jsx("div",{className:"p-3 rounded-lg bg-muted/30 border border-border/50",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Yn,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Notes"}),s.jsx("p",{className:"text-sm",children:c.notes})]})]})})]}),s.jsx(Tt,{}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[s.jsx(xr,{className:"h-4 w-4"}),"Overview"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-primary/5 border border-primary/20",children:[s.jsx("p",{className:"text-2xl font-bold text-primary",children:f}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Apartments"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-accent/5 border border-accent/20",children:[s.jsx("p",{className:"text-2xl font-bold text-accent",children:x}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Products"})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-success/5 border border-success/20",children:[s.jsxs("p",{className:"text-2xl font-bold text-success",children:[new Intl.NumberFormat("hu-HU").format(p)," Ft"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total Value"})]})]})]}),s.jsx(Tt,{}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[s.jsx(xr,{className:"h-4 w-4"}),"Apartments (",f,")"]}),u.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground bg-muted/20 rounded-lg border border-border/50",children:[s.jsx(xr,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No apartments found"})]}):s.jsx("div",{className:"space-y-3",children:u.map(y=>s.jsxs("div",{className:"p-4 rounded-lg border border-border/50 bg-card hover:bg-muted/30 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h5",{className:"font-semibold text-foreground",children:y.name}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[s.jsx(ha,{className:"h-3 w-3"}),y.address]})]}),s.jsx(Pe,{variant:"outline",className:b(y.status),children:y.status})]}),s.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-border/30",children:[s.jsx("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(tn,{className:"h-3 w-3"}),s.jsxs("span",{children:["Due: ",y.due_date||"N/A"]})]})}),s.jsxs(re,{size:"sm",variant:"ghost",onClick:()=>{n("/apartments"),t(!1)},className:"h-7 text-xs",children:["View",s.jsx(Kj,{className:"h-3 w-3 ml-1"})]})]})]},y.id))})]}),s.jsx(Tt,{}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[s.jsx(mt,{className:"h-4 w-4"}),"Products (",x,")"]}),m.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground bg-muted/20 rounded-lg border border-border/50",children:[s.jsx(mt,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No products found"})]}):s.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:m.map(y=>{var _;const j=y.product_image,w=y.category_name||((_=y.category_details)==null?void 0:_.name),N=y.room;return s.jsx("div",{className:"p-3 rounded-lg border border-border/50 bg-card hover:bg-muted/20 transition-colors",children:s.jsxs("div",{className:"flex items-start gap-3",children:[j?s.jsx("img",{src:j,alt:y.product,className:"w-12 h-12 rounded object-cover flex-shrink-0",onError:C=>{C.currentTarget.style.display="none"}}):s.jsx("div",{className:"w-12 h-12 rounded bg-muted flex items-center justify-center flex-shrink-0",children:s.jsx(mt,{className:"h-6 w-6 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-sm text-foreground truncate",children:y.product}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[w&&s.jsx(Pe,{variant:"outline",className:"text-xs",children:w}),N&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:[" ",N]}),y.vendor_name&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:""}),s.jsx("span",{className:"text-xs text-muted-foreground",children:y.vendor_name})]})]})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsxs("p",{className:"text-sm font-semibold text-foreground",children:[new Intl.NumberFormat("hu-HU").format(parseFloat(y.unit_price||0)*y.qty)," ","Ft"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.qty,"  ",new Intl.NumberFormat("hu-HU").format(parseFloat(y.unit_price||0))," Ft"]})]})]})},y.id)})})]})]}):s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:s.jsx("p",{children:"No client data found"})})})]})})},Co={all:["clients"],lists:()=>[...Co.all,"list"],list:e=>[...Co.lists(),e],details:()=>[...Co.all,"detail"],detail:e=>[...Co.details(),e]};function V$e(e,t){const[r,n]=v.useState(e);return v.useEffect(()=>{const a=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function S_(e,t){const r=V$e(e==null?void 0:e.search,300),n={...e,search:r};return Ds({queryKey:Co.list(n),queryFn:()=>H0.getClients(n),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:a=>a,...t})}function z$e(){const e=zr(),{toast:t}=pr();return nn({mutationFn:r=>H0.createClient(r),onMutate:async r=>{await e.cancelQueries({queryKey:Co.all});const n=e.getQueryData(Co.all),a={id:`temp-${Date.now()}`,...r,apartments_count:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return e.setQueriesData({queryKey:Co.lists()},i=>i&&{...i,results:[a,...i.results||[]],count:(i.count||0)+1}),{previousClients:n,optimisticClient:a}},onError:(r,n,a)=>{a!=null&&a.previousClients&&e.setQueryData(Co.all,a.previousClients),t({title:"Error creating client",description:r.message||"Something went wrong",variant:"destructive"})},onSuccess:r=>{t({title:"Client created",description:`${r.name} has been created successfully.`})},onSettled:()=>{e.invalidateQueries({queryKey:Co.all})}})}function W$e(){const e=zr(),{toast:t}=pr();return nn({mutationFn:({id:r,data:n})=>H0.updateClient(r,n),onSuccess:r=>{e.invalidateQueries({queryKey:Co.detail(r.id)}),e.invalidateQueries({queryKey:["clients"]}),t({title:"Client updated",description:`${r.name} has been updated successfully.`})},onError:r=>{t({title:"Error updating client",description:r.message||"Something went wrong",variant:"destructive"})}})}function H$e(){const e=zr(),{toast:t}=pr();return nn({mutationFn:({id:r,name:n})=>H0.deleteClient(r).then(()=>({id:r,name:n})),onSuccess:r=>{e.invalidateQueries({queryKey:["clients"]}),t({title:"Client deleted",description:`${r.name} has been deleted successfully.`})},onError:r=>{t({title:"Error deleting client",description:r.message||"Something went wrong",variant:"destructive"})}})}const G$e=()=>{cr();const{toast:e}=pr(),[t,r]=v.useState(""),[n,a]=v.useState("all"),[i,o]=v.useState("all"),[l,c]=v.useState(!1),[d,u]=v.useState(null),[f,h]=v.useState(null),[m,x]=v.useState(!1),[p,g]=v.useState(!1),[b,y]=v.useState(null),{data:j,isLoading:w,error:N,refetch:_}=S_({search:t||void 0,account_status:n!=="all"?n:void 0,type:i!=="all"?i:void 0}),C=z$e(),S=W$e(),E=H$e(),P=v.useMemo(()=>(j==null?void 0:j.results)||[],[j==null?void 0:j.results]),[I,D]=v.useState({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""}),U=P,F=v.useMemo(()=>{const T=(j==null?void 0:j.results)||[],L=T.length,R=T.filter(ie=>ie.account_status==="Active").length,K=T.filter(ie=>ie.account_status==="Inactive").length,q=T.filter(ie=>ie.type==="Investor").length,Z=T.filter(ie=>ie.type==="Buy2Rent Internal").length,X=T.reduce((ie,be)=>ie+(be.apartments_count||0),0),ee=L>0?(X/L).toFixed(1):"0";return{totalClients:L,activeClients:R,inactiveClients:K,investorClients:q,internalClients:Z,totalApartments:X,avgApartmentsPerClient:ee}},[j==null?void 0:j.results]),M=v.useCallback(T=>{r(T.target.value)},[]),O=T=>{if(T){const L=P.find(R=>R.id===T);L&&(u(T),D({name:L.name,email:L.email,phone:L.phone||"",account_status:L.account_status,type:L.type,notes:L.notes||""}))}else u(null),D({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""});c(!0)},A=async T=>{if(T.preventDefault(),console.log("Form submitted with data:",I),!I.name.trim()||!I.email.trim()){e({title:"Validation Error",description:"Name and email are required.",variant:"destructive"});return}try{d?(console.log("Updating client:",d),await S.mutateAsync({id:d,data:I}),e({title:"Success",description:"Client updated successfully"})):(console.log("Creating new client:",I),await C.mutateAsync(I),e({title:"Success",description:"Client created successfully"})),c(!1),u(null),D({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""})}catch(L){console.error("Error submitting form:",L)}},k=(T,L)=>{const R=P.find(q=>q.id===T),K=(R==null?void 0:R.apartments_count)??0;if(K>0){e({title:"Cannot delete client",description:`${L} has ${K} apartment(s) associated. Please reassign or delete the apartments first.`,variant:"destructive"});return}y({id:T,name:L}),g(!0)},W=async()=>{if(b)try{await E.mutateAsync({id:b.id,name:b.name}),e({title:"Success",description:`Client "${b.name}" deleted successfully`})}catch{}finally{g(!1),y(null)}},fe=T=>{h(T),x(!0)},de=T=>T==="Active"?"bg-success/10 text-success border-success/20":"bg-muted text-muted-foreground border-border/50";return w?s.jsx(yt,{title:"Clients",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(Xt,{className:"h-10 w-64"}),s.jsx(Xt,{className:"h-10 w-32"})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsx(Xt,{className:"h-6 w-48"})}),s.jsx(le,{children:s.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(T=>s.jsx(Xt,{className:"h-16 w-full"},T))})})]})]})}):N?s.jsx(yt,{title:"Clients",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsxs("p",{className:"text-destructive mb-4",children:["Failed to load clients: ",N.message]}),s.jsxs(re,{onClick:()=>_(),variant:"outline",children:[s.jsx(Do,{className:"mr-2 h-4 w-4"}),"Retry"]})]})}):s.jsx(yt,{title:"Clients",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[s.jsx(oe,{className:"border-border/50 bg-gradient-to-br from-background to-muted/20",children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Total Clients"}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:F.totalClients})]}),s.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:s.jsx(Pc,{className:"h-5 w-5 text-primary"})})]})})}),s.jsx(oe,{className:"border-border/50 bg-gradient-to-br from-background to-green-500/5",children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold mt-1 text-green-600",children:F.activeClients})]}),s.jsx("div",{className:"h-10 w-10 rounded-xl bg-green-500/10 flex items-center justify-center",children:s.jsx(S9,{className:"h-5 w-5 text-green-500"})})]})})}),s.jsx(oe,{className:"border-border/50 bg-gradient-to-br from-background to-red-500/5",children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Inactive"}),s.jsx("p",{className:"text-2xl font-bold mt-1 text-red-500",children:F.inactiveClients})]}),s.jsx("div",{className:"h-10 w-10 rounded-xl bg-red-500/10 flex items-center justify-center",children:s.jsx(C9,{className:"h-5 w-5 text-red-500"})})]})})}),s.jsx(oe,{className:"border-border/50 bg-gradient-to-br from-background to-violet-500/5",children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Investors"}),s.jsx("p",{className:"text-2xl font-bold mt-1 text-violet-600",children:F.investorClients})]}),s.jsx("div",{className:"h-10 w-10 rounded-xl bg-violet-500/10 flex items-center justify-center",children:s.jsx(Jre,{className:"h-5 w-5 text-violet-500"})})]})})}),s.jsx(oe,{className:"border-border/50 bg-gradient-to-br from-background to-emerald-500/5",children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Apartments"}),s.jsx("p",{className:"text-2xl font-bold mt-1 text-emerald-600",children:F.totalApartments})]}),s.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-500/10 flex items-center justify-center",children:s.jsx(b9,{className:"h-5 w-5 text-emerald-500"})})]})})}),s.jsx(oe,{className:"border-border/50 bg-gradient-to-br from-background to-amber-500/5",children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Avg/Client"}),s.jsx("p",{className:"text-2xl font-bold mt-1 text-amber-600",children:F.avgApartmentsPerClient})]}),s.jsx("div",{className:"h-10 w-10 rounded-xl bg-amber-500/10 flex items-center justify-center",children:s.jsx($o,{className:"h-5 w-5 text-amber-500"})})]})})})]}),s.jsx("div",{className:"flex flex-col gap-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-stretch sm:items-center",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Ss,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/70 pointer-events-none z-10"}),s.jsx(ue,{placeholder:"Search by name or email...",value:t,onChange:M,className:"pl-10 h-11 bg-muted/30 border-border/50 focus:bg-background transition-colors",autoComplete:"off"},"client-search-input")]}),s.jsxs("div",{className:"flex gap-2 flex-wrap sm:flex-nowrap",children:[s.jsxs(nt,{value:n,onValueChange:a,children:[s.jsx(et,{className:"w-full sm:w-[140px] h-11 bg-muted/30 border-border/50",children:s.jsx(st,{placeholder:"Status"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"all",children:"All Status"}),s.jsx(J,{value:"Active",children:"Active"}),s.jsx(J,{value:"Inactive",children:"Inactive"})]})]}),s.jsxs(nt,{value:i,onValueChange:o,children:[s.jsx(et,{className:"w-full sm:w-[160px] h-11 bg-muted/30 border-border/50",children:s.jsx(st,{placeholder:"Type"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"all",children:"All Types"}),s.jsx(J,{value:"Individual",children:"Individual"}),s.jsx(J,{value:"Company",children:"Company"})]})]}),s.jsxs(bn,{open:l,onOpenChange:c,children:[s.jsx(Pme,{asChild:!0,children:s.jsxs(re,{onClick:()=>O(),className:"h-11 w-full sm:w-auto",children:[s.jsx(An,{className:"h-4 w-4 mr-2"}),"Add Client"]})}),s.jsx(dn,{className:"sm:max-w-[500px]",children:s.jsxs("form",{onSubmit:A,children:[s.jsxs(wn,{children:[s.jsx(jn,{children:d?"Edit Client":"Add New Client"}),s.jsx(Xs,{children:d?"Update client information":"Create a new client profile"})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"name",children:"Name *"}),s.jsx(ue,{id:"name",value:I.name,onChange:T=>D({...I,name:T.target.value}),placeholder:"John Doe"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"email",children:"Email *"}),s.jsx(ue,{id:"email",type:"email",value:I.email,onChange:T=>D({...I,email:T.target.value}),placeholder:"john@example.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"phone",children:"Phone"}),s.jsx(ue,{id:"phone",value:I.phone,onChange:T=>D({...I,phone:T.target.value}),placeholder:"+36 20 123 4567"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"type",children:"Type"}),s.jsxs(nt,{value:I.type,onValueChange:T=>D({...I,type:T}),children:[s.jsx(et,{id:"type",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"Investor",children:"Investor"}),s.jsx(J,{value:"Buy2Rent Internal",children:"Buy2Rent Internal"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"status",children:"Account Status"}),s.jsxs(nt,{value:I.account_status,onValueChange:T=>D({...I,account_status:T}),children:[s.jsx(et,{id:"status",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"Active",children:"Active"}),s.jsx(J,{value:"Inactive",children:"Inactive"}),s.jsx(J,{value:"Suspended",children:"Suspended"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"notes",children:"Notes"}),s.jsx(ma,{id:"notes",value:I.notes,onChange:T=>D({...I,notes:T.target.value}),placeholder:"Additional notes...",rows:3})]})]}),s.jsxs(qo,{children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(re,{type:"submit",children:d?"Save Changes":"Create Client"})]})]})})]})]})]})}),s.jsxs(oe,{className:"border-border/50",children:[s.jsx(Fe,{className:"border-b border-border/50 bg-muted/20",children:s.jsxs($e,{className:"text-lg font-semibold",children:["All Clients (",U.length,")"]})}),s.jsx(le,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:s.jsxs(ds,{children:[s.jsx(us,{children:s.jsxs(Rt,{className:"hover:bg-transparent border-b border-border/50",children:[s.jsx(Ee,{className:"font-semibold text-foreground/90",children:"Name"}),s.jsx(Ee,{className:"font-semibold text-foreground/90",children:"Type"}),s.jsx(Ee,{className:"font-semibold text-foreground/90",children:"Email"}),s.jsx(Ee,{className:"font-semibold text-foreground/90",children:"Phone"}),s.jsx(Ee,{className:"font-semibold text-foreground/90",children:"Status"}),s.jsx(Ee,{className:"font-semibold text-foreground/90",children:"Apartments"}),s.jsx(Ee,{className:"font-semibold text-foreground/90",children:"Notes"}),s.jsx(Ee,{className:"text-right font-semibold text-foreground/90",children:"Actions"})]})}),s.jsx(fs,{children:U.length===0?s.jsx(Rt,{className:"hover:bg-transparent",children:s.jsx(ye,{colSpan:8,className:"text-center py-12 text-muted-foreground",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(Ss,{className:"h-8 w-8 text-muted-foreground/50"}),s.jsx("p",{className:"font-medium",children:"No clients found"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your filters or add a new client."})]})})}):U.map(T=>{const L=T.apartments_count??0;return s.jsxs(Rt,{className:"hover:bg-muted/30 transition-colors border-b border-border/30 last:border-0",children:[s.jsx(ye,{className:"font-medium text-foreground py-4",children:T.name}),s.jsx(ye,{className:"py-4",children:s.jsx(Pe,{variant:"outline",className:"capitalize border-border/50 bg-muted/40",children:T.type})}),s.jsx(ye,{className:"text-muted-foreground py-4",children:T.email}),s.jsx(ye,{className:"text-muted-foreground py-4",children:T.phone}),s.jsx(ye,{className:"py-4",children:s.jsx(Pe,{className:de(T.account_status),children:T.account_status})}),s.jsx(ye,{className:"py-4",children:s.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[s.jsx(xr,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:L})]})}),s.jsx(ye,{className:"max-w-[200px] truncate text-muted-foreground py-4",children:T.notes||"-"}),s.jsx(ye,{className:"text-right py-4",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx(re,{size:"sm",variant:"ghost",onClick:()=>fe(T.id),className:"hover:bg-primary/10 hover:text-primary",title:"View Details",children:s.jsx(Da,{className:"h-4 w-4"})}),s.jsx(re,{size:"sm",variant:"ghost",onClick:()=>O(T.id),className:"hover:bg-muted/50 hover:text-foreground",title:"Edit Client",children:s.jsx(Hs,{className:"h-4 w-4"})}),s.jsx(re,{size:"sm",variant:"ghost",onClick:()=>k(T.id,T.name),className:"hover:bg-destructive/10 hover:text-destructive",title:"Delete Client",children:s.jsx(Xr,{className:"h-4 w-4"})})]})})]},T.id)})})]})})})]}),s.jsx(U$e,{open:m,onOpenChange:x,clientId:f}),s.jsx(Gl,{open:p,onOpenChange:g,children:s.jsxs(Xo,{children:[s.jsx(Yo,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:s.jsx(Zi,{className:"h-6 w-6 text-destructive"})}),s.jsxs("div",{children:[s.jsx(Zo,{className:"text-xl",children:"Delete Client"}),s.jsx(Jo,{className:"mt-1",children:"This action cannot be undone."})]})]})}),s.jsx("div",{className:"py-4",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to delete"," ",s.jsxs("span",{className:"font-semibold text-foreground",children:['"',b==null?void 0:b.name,'"']}),"? This will permanently remove the client from the system."]})}),s.jsxs(Qo,{children:[s.jsx(tl,{autoFocus:!1,children:"Cancel"}),s.jsx(el,{onClick:W,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",autoFocus:!0,children:"Delete Client"})]})]})})]})})},In=v.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));In.displayName="Textarea";const od=ir.create({baseURL:ji,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});od.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));od.interceptors.response.use(e=>e,async e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const Hf={getApartments:async e=>(await od.get("/apartments/",{params:e})).data,getApartment:async e=>(await od.get(`/apartments/${e}/`)).data,createApartment:async e=>(await od.post("/apartments/",e)).data,updateApartment:async(e,t)=>(await od.put(`/apartments/${e}/`,t)).data,patchApartment:async(e,t)=>(await od.patch(`/apartments/${e}/`,t)).data,deleteApartment:async e=>{await od.delete(`/apartments/${e}/`)}},jl={all:["apartments"],lists:()=>[...jl.all,"list"],list:e=>[...jl.lists(),e],details:()=>[...jl.all,"detail"],detail:e=>[...jl.details(),e]};function q$e(e,t){const[r,n]=v.useState(e);return v.useEffect(()=>{const a=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function w4(e){const t=q$e(e==null?void 0:e.search,300),r={...e,search:t};return Ds({queryKey:jl.list(r),queryFn:()=>Hf.getApartments(r),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:n=>n})}function j4(e){return Ds({queryKey:jl.detail(e),queryFn:()=>Hf.getApartment(e),enabled:!!e,staleTime:5*60*1e3})}function K$e(){const e=zr(),{toast:t}=pr();return nn({mutationFn:r=>Hf.createApartment(r),onSuccess:r=>{e.invalidateQueries({queryKey:jl.lists()}),t({title:"Success",description:`Apartment "${r.name}" created successfully`})},onError:r=>{t({title:"Error creating apartment",description:r.message||"Something went wrong",variant:"destructive"})}})}function X$e(){const e=zr(),{toast:t}=pr();return nn({mutationFn:({id:r,data:n})=>Hf.updateApartment(r,n),onSuccess:r=>{e.invalidateQueries({queryKey:jl.lists()}),e.invalidateQueries({queryKey:jl.detail(r.id)}),t({title:"Success",description:`Apartment "${r.name}" updated successfully`})},onError:r=>{t({title:"Error updating apartment",description:r.message||"Something went wrong",variant:"destructive"})}})}function Y$e(){const e=zr(),{toast:t}=pr();return nn({mutationFn:({id:r})=>Hf.deleteApartment(r),onSuccess:(r,n)=>{e.invalidateQueries({queryKey:jl.lists()}),t({title:"Success",description:`Apartment "${n.name}" deleted successfully`})},onError:r=>{t({title:"Error deleting apartment",description:r.message||"Something went wrong",variant:"destructive"})}})}const nc=ir.create({baseURL:ji,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});nc.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));nc.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});const rl={getVendors:async e=>{const t=e?{search:e}:{};return(await nc.get("/vendors/",{params:t})).data},getVendor:async e=>(await nc.get(`/vendors/${e}/`)).data,createVendor:async e=>(await nc.post("/vendors/",e)).data,updateVendor:async(e,t)=>(await nc.patch(`/vendors/${e}/`,t)).data,deleteVendor:async e=>{await nc.delete(`/vendors/${e}/`)},getVendorProducts:async e=>(await nc.get(`/vendors/${e}/products/`)).data,removeVendorProduct:async(e,t)=>{await nc.delete(`/vendors/${e}/products/${t}/`)}},Lc={vendors:["vendors"],vendor:e=>["vendors",e],vendorProducts:e=>["vendors",e,"products"]};function Gf(e){return Ds({queryKey:Lc.vendors,queryFn:()=>rl.getVendors(e),staleTime:10*60*1e3,retry:1,refetchOnWindowFocus:!1})}function aX(e){return Ds({queryKey:Lc.vendor(e),queryFn:()=>rl.getVendor(e),enabled:!!e,staleTime:10*60*1e3,retry:1,refetchOnWindowFocus:!1})}function Q$e(){const e=zr();return nn({mutationFn:t=>rl.createVendor(t),onSuccess:()=>{e.invalidateQueries({queryKey:Lc.vendors}),Me.success("Vendor created successfully")},onError:t=>{var n,a;const r=((a=(n=t.response)==null?void 0:n.data)==null?void 0:a.message)||t.message||"Failed to create vendor";Me.error(r),console.error("Create vendor error:",t)}})}function Z$e(){const e=zr();return nn({mutationFn:({id:t,data:r})=>rl.updateVendor(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Lc.vendors}),e.invalidateQueries({queryKey:Lc.vendor(r.id)}),Me.success("Vendor updated successfully")},onError:t=>{var n,a;const r=((a=(n=t.response)==null?void 0:n.data)==null?void 0:a.message)||t.message||"Failed to update vendor";Me.error(r),console.error("Update vendor error:",t)}})}function iX(){const e=zr();return nn({mutationFn:t=>rl.deleteVendor(t),onSuccess:()=>{e.invalidateQueries({queryKey:Lc.vendors}),Me.success("Vendor deleted successfully")},onError:t=>{var n,a;const r=((a=(n=t.response)==null?void 0:n.data)==null?void 0:a.message)||t.message||"Failed to delete vendor";Me.error(r),console.error("Delete vendor error:",t)}})}function J$e(e){return Ds({queryKey:Lc.vendorProducts(e),queryFn:()=>rl.getVendorProducts(e),enabled:!!e,staleTime:5*60*1e3,retry:1,refetchOnWindowFocus:!1})}function e6e(e){const t=zr();return nn({mutationFn:r=>rl.removeVendorProduct(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:Lc.vendorProducts(e)}),t.invalidateQueries({queryKey:Lc.vendor(e)}),Me.success("Product removed from vendor successfully")},onError:r=>{var a,i;const n=((i=(a=r.response)==null?void 0:a.data)==null?void 0:i.message)||r.message||"Failed to remove product";Me.error(n),console.error("Remove product error:",r)}})}const xs=ir.create({baseURL:ji,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});xs.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));xs.interceptors.response.use(e=>e,async e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const vi={getProducts:async e=>(await xs.get("/products/",{params:e})).data,getProductsByApartment:async(e,t)=>(await xs.get("/products/by_apartment/",{params:{apartment_id:e,...t}})).data,getProductsByCategory:async e=>(await xs.get("/products/by_category/",{params:e})).data,getProduct:async e=>(await xs.get(`/products/${e}/`)).data,createProduct:async e=>{const t=e instanceof FormData?{headers:{"Content-Type":void 0}}:{};return(await xs.post("/products/",e,t)).data},updateProduct:async(e,t)=>{const r=t instanceof FormData?{headers:{"Content-Type":void 0}}:{};return(await xs.patch(`/products/${e}/`,t,r)).data},deleteProduct:async e=>{await xs.delete(`/products/${e}/`)},getProductCategories:async e=>(await xs.get("/products/categories/",{params:{apartment_id:e}})).data,createCategory:async e=>(await xs.post("/products/create_category/",{...e,sheet_name:e.sheet_name||e.name})).data,importProducts:async(e,t,r)=>{console.log(" DEBUG productApi: Received parameters:",{file:e.name,apartmentId:t,vendorId:r});const n=new FormData;n.append("file",e),n.append("apartment_id",t),n.append("vendor_id",r),console.log(" DEBUG productApi: FormData contents:");for(let[i,o]of n.entries())console.log(`  ${i}:`,o);return(await xs.post("/products/import_excel/",n,{headers:{"Content-Type":"multipart/form-data"}})).data},getImportSessions:async e=>(await xs.get("/products/import_sessions/",{params:{apartment:e}})).data,deleteImportSession:async e=>{await xs.delete(`/products/delete_import_session/${e}/`)},downloadImportTemplate:async()=>(await xs.get("/products/import_template/",{responseType:"blob"})).data,getProductStatistics:async e=>(await xs.get("/products/statistics/",{params:e?{apartment:e}:void 0})).data,createApartmentAndImport:async e=>{const t=new FormData;return t.append("file",e.file),t.append("apartment_name",e.apartment_name),e.apartment_type&&t.append("apartment_type",e.apartment_type),e.owner&&t.append("owner",e.owner),e.status&&t.append("status",e.status),e.designer&&t.append("designer",e.designer),e.start_date&&t.append("start_date",e.start_date),e.due_date&&t.append("due_date",e.due_date),e.address&&t.append("address",e.address),e.vendor_id&&t.append("vendor_id",e.vendor_id),(await xs.post("/products/create_apartment_and_import/",t,{headers:{"Content-Type":"multipart/form-data"}})).data}},t6e=()=>{const e=cr(),[t,r]=xk(),{toast:n}=pr(),[a,i]=v.useState(""),[o,l]=v.useState("all"),[c,d]=v.useState(!1),[u,f]=v.useState([]),[h,m]=v.useState(!1),[x,p]=v.useState(!1),[g,b]=v.useState({}),[y,j]=v.useState({open:!1,id:"",name:""}),[w,N]=v.useState({name:"",type:"furnishing",client:"",address:"",status:"Planning",designer:"",start_date:"",due_date:"",vendor:""}),_=t.get("type")||"furnishing",C=X=>{X&&r({type:X})},{data:S,isLoading:E,error:P,refetch:I}=w4({search:a||void 0,type:_!=="all"?_:void 0,status:o!=="all"?o:void 0}),D=Y$e(),{data:U,isLoading:F}=S_({page_size:100,ordering:"name"}),{data:M,isLoading:O}=Gf(),A=(M==null?void 0:M.results)||[],k=v.useMemo(()=>(S==null?void 0:S.results)||[],[S==null?void 0:S.results]),W=v.useMemo(()=>{const X=(S==null?void 0:S.results)||[],ee=X.length,ie=X.filter(Oe=>Oe.type==="furnishing").length,be=X.filter(Oe=>Oe.type==="renovating").length,he=X.filter(Oe=>Oe.status==="Planning").length,Ge=X.filter(Oe=>Oe.status==="Ordering").length,ke=X.filter(Oe=>Oe.status==="Delivery").length,bt=X.filter(Oe=>Oe.status==="Completed").length,rt=ee-bt;return{totalApartments:ee,furnishingCount:ie,renovatingCount:be,planningCount:he,orderingCount:Ge,deliveryCount:ke,completeCount:bt,inProgressCount:rt}},[S==null?void 0:S.results]),fe=()=>{const X={};if(w.name.trim()?w.name.trim().length<3&&(X.name="Apartment name must be at least 3 characters"):X.name="Apartment name is required",w.client||(X.client="Client selection is required"),w.address.trim()?w.address.trim().length<10&&(X.address="Please provide a complete address (minimum 10 characters)"):X.address="Address is required",w.start_date||(X.start_date="Start date is required"),w.due_date||(X.due_date="Due date is required"),w.start_date&&w.due_date){const ee=new Date(w.start_date);new Date(w.due_date)<=ee&&(X.due_date="Due date must be after start date")}return b(X),Object.keys(X).length===0},de=X=>{var he;const ee=(he=X.name.split(".").pop())==null?void 0:he.toLowerCase(),ie=["xlsx","xls","csv"],be=50*1024*1024;return ie.includes(ee||"")?X.size>be?{valid:!1,error:`File too large: ${X.name}. Maximum size is 50MB.`}:X.size===0?{valid:!1,error:`Empty file: ${X.name}. Please select a valid file.`}:{valid:!0}:{valid:!1,error:`Invalid file type: ${X.name}. Only Excel (.xlsx, .xls) and CSV (.csv) files are allowed.`}},T=async()=>{var X,ee;if(b({}),!fe()){n({title:"Validation Error",description:"Please fix the errors in the form before submitting.",variant:"destructive"});return}if(u.length>0)for(const ie of u){const be=de(ie);if(!be.valid){n({title:"File Validation Error",description:be.error,variant:"destructive"});return}}p(!0);try{if(u.length===0){n({title:"File Required",description:"Please upload an Excel or CSV file to import products.",variant:"destructive"}),p(!1);return}const ie=await vi.createApartmentAndImport({file:u[0],apartment_name:w.name,apartment_type:w.type,owner:w.client,status:w.status,designer:w.designer,start_date:w.start_date,due_date:w.due_date,address:w.address,vendor_id:w.vendor||void 0});if(ie.success)n({title:"Success!",description:s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-semibold",children:ie.message}),s.jsxs("p",{className:"text-sm",children:["Apartment: ",ie.data.apartment_name]}),s.jsxs("p",{className:"text-sm",children:["Products imported: ",ie.data.successful_imports," / ",ie.data.total_products]}),ie.data.failed_imports>0&&s.jsxs("p",{className:"text-sm text-yellow-600",children:["Failed: ",ie.data.failed_imports]}),ie.data.errors.length>0&&s.jsxs("p",{className:"text-sm text-red-600",children:["Errors: ",ie.data.errors.join(", ")]})]})}),L(),d(!1),I(),setTimeout(()=>{e(`/apartments/${ie.data.apartment_id}`)},1e3);else throw new Error(ie.message||"Import failed")}catch(ie){console.error("Import error:",ie),n({title:"Error",description:((ee=(X=ie.response)==null?void 0:X.data)==null?void 0:ee.message)||ie.message||"Failed to create apartment and import products. Please try again.",variant:"destructive"})}finally{p(!1)}},L=()=>{N({name:"",type:"furnishing",client:"",address:"",status:"Planning",designer:"",start_date:"",due_date:"",vendor:""}),f([]),b({})},R=X=>{const ee=Array.from(X),ie=[];for(const be of ee){const he=de(be);he.valid?ie.push(be):n({title:"File Validation Error",description:he.error,variant:"destructive"})}ie.length>0&&f(be=>[...be,...ie])},K=(X,ee)=>{j({open:!0,id:X,name:ee})},q=async()=>{try{await D.mutateAsync({id:y.id,name:y.name}),j({open:!1,id:"",name:""})}catch(X){console.error("Delete failed:",X)}},Z=X=>({Planning:"bg-blue-500/10 text-blue-500",Ordering:"bg-yellow-500/10 text-yellow-500",Delivery:"bg-purple-500/10 text-purple-500",Complete:"bg-green-500/10 text-green-500"})[X]||"bg-gray-500/10 text-gray-500";return s.jsx(yt,{title:"Apartments",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[s.jsx(oe,{className:"border-border/50 bg-gradient-to-br from-background to-muted/20",children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold mt-1",children:W.totalApartments})]}),s.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:s.jsx(xr,{className:"h-5 w-5 text-primary"})})]})})}),s.jsx(oe,{className:"border-border/50 bg-gradient-to-br from-background to-yellow-500/5",children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Furnishing"}),s.jsx("p",{className:"text-2xl font-bold mt-1 text-yellow-600",children:W.furnishingCount})]}),s.jsx("div",{className:"h-10 w-10 rounded-xl bg-yellow-500/10 flex items-center justify-center",children:s.jsx(wne,{className:"h-5 w-5 text-yellow-500"})})]})})}),s.jsx(oe,{className:"border-border/50 bg-gradient-to-br from-background to-orange-500/5",children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Renovating"}),s.jsx("p",{className:"text-2xl font-bold mt-1 text-orange-600",children:W.renovatingCount})]}),s.jsx("div",{className:"h-10 w-10 rounded-xl bg-orange-500/10 flex items-center justify-center",children:s.jsx(lne,{className:"h-5 w-5 text-orange-500"})})]})})}),s.jsx(oe,{className:"border-border/50 bg-gradient-to-br from-background to-blue-500/5",children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"In Progress"}),s.jsx("p",{className:"text-2xl font-bold mt-1 text-blue-600",children:W.inProgressCount})]}),s.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-500/10 flex items-center justify-center",children:s.jsx(Vr,{className:"h-5 w-5 text-blue-500"})})]})})}),s.jsx(oe,{className:"border-border/50 bg-gradient-to-br from-background to-green-500/5",children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold mt-1 text-green-600",children:W.completeCount})]}),s.jsx("div",{className:"h-10 w-10 rounded-xl bg-green-500/10 flex items-center justify-center",children:s.jsx(gn,{className:"h-5 w-5 text-green-500"})})]})})}),s.jsx(oe,{className:"border-border/50 bg-gradient-to-br from-background to-purple-500/5",children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Delivery"}),s.jsx("p",{className:"text-2xl font-bold mt-1 text-purple-600",children:W.deliveryCount})]}),s.jsx("div",{className:"h-10 w-10 rounded-xl bg-purple-500/10 flex items-center justify-center",children:s.jsx(mt,{className:"h-5 w-5 text-purple-500"})})]})})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[s.jsxs("div",{className:"flex gap-2 flex-1 max-w-md",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ss,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{placeholder:"Search apartments...",value:a,onChange:X=>i(X.target.value),className:"pl-9"})]}),s.jsxs(nt,{value:o,onValueChange:l,children:[s.jsx(et,{className:"w-[140px]",children:s.jsx(st,{placeholder:"Status"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"all",children:"All Status"}),s.jsx(J,{value:"Planning",children:"Planning"}),s.jsx(J,{value:"Ordering",children:"Ordering"}),s.jsx(J,{value:"Delivery",children:"Delivery"}),s.jsx(J,{value:"Complete",children:"Complete"}),s.jsx(J,{value:"Design Approved",children:"Design Approved"}),s.jsx(J,{value:"Renovating",children:"Renovating"})]})]})]}),s.jsxs("div",{className:"flex gap-3 items-center",children:[s.jsx(re,{variant:_==="furnishing"?"default":"outline",onClick:()=>C("furnishing"),className:_==="furnishing"?"bg-yellow-500 hover:bg-yellow-600 text-white":"",children:"Furnishing"}),s.jsx(re,{variant:_==="renovating"?"default":"outline",onClick:()=>C("renovating"),children:"Renovating"}),s.jsxs(re,{variant:"outline",onClick:()=>d(!0),children:[s.jsx(kl,{className:"h-4 w-4 mr-2"}),"Import Data"]}),s.jsxs(re,{onClick:()=>e("/apartments/new"),className:"bg-cyan-500 hover:bg-cyan-600",children:[s.jsx(An,{className:"h-4 w-4 mr-2"}),"Add Apartment"]})]})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs($e,{children:["All Apartments (",(S==null?void 0:S.count)||0,")"]}),s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>I(),disabled:E,children:s.jsx(Do,{className:`h-4 w-4 ${E?"animate-spin":""}`})})]})}),s.jsx(le,{children:s.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:s.jsxs(ds,{children:[s.jsx(us,{children:s.jsxs(Rt,{children:[s.jsx(Ee,{children:"Apartment Name"}),s.jsx(Ee,{children:"Type"}),s.jsx(Ee,{children:"Clients"}),s.jsx(Ee,{children:"Address"}),s.jsx(Ee,{children:"Status"}),s.jsx(Ee,{children:"Designer"}),s.jsx(Ee,{children:"Start Date"}),s.jsx(Ee,{children:"Due Date"}),s.jsx(Ee,{className:"text-right",children:"Actions"})]})}),s.jsx(fs,{children:E?Array.from({length:3}).map((X,ee)=>s.jsxs(Rt,{children:[s.jsx(ye,{children:s.jsx(Xt,{className:"h-4 w-32"})}),s.jsx(ye,{children:s.jsx(Xt,{className:"h-4 w-20"})}),s.jsx(ye,{children:s.jsx(Xt,{className:"h-4 w-24"})}),s.jsx(ye,{children:s.jsx(Xt,{className:"h-4 w-40"})}),s.jsx(ye,{children:s.jsx(Xt,{className:"h-4 w-20"})}),s.jsx(ye,{children:s.jsx(Xt,{className:"h-4 w-24"})}),s.jsx(ye,{children:s.jsx(Xt,{className:"h-4 w-20"})}),s.jsx(ye,{children:s.jsx(Xt,{className:"h-4 w-20"})}),s.jsx(ye,{children:s.jsx(Xt,{className:"h-4 w-16"})}),s.jsx(ye,{children:s.jsx(Xt,{className:"h-4 w-20"})})]},ee)):P?s.jsx(Rt,{children:s.jsx(ye,{colSpan:10,className:"text-center py-8 text-destructive",children:"Error loading apartments. Please try again."})}):k.length===0?s.jsx(Rt,{children:s.jsx(ye,{colSpan:10,className:"text-center py-8 text-muted-foreground",children:"No apartments found. Try adjusting your filters or add a new apartment."})}):k.map(X=>{var ee;return s.jsxs(Rt,{children:[s.jsx(ye,{className:"font-medium",children:X.name}),s.jsx(ye,{children:s.jsx(Pe,{variant:"outline",className:"capitalize",children:X.type})}),s.jsx(ye,{children:((ee=X.client_details)==null?void 0:ee.name)||"N/A"}),s.jsx(ye,{className:"max-w-[200px] truncate",children:X.address}),s.jsx(ye,{children:s.jsx(Pe,{className:Z(X.status),children:X.status})}),s.jsx(ye,{children:X.designer}),s.jsx(ye,{children:X.start_date}),s.jsx(ye,{children:X.due_date}),s.jsx(ye,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(re,{size:"sm",variant:"ghost",onClick:()=>e(`/apartments/${X.id}`),children:s.jsx(Da,{className:"h-4 w-4"})}),s.jsx(re,{size:"sm",variant:"ghost",onClick:()=>e(`/apartments/${X.id}/edit`),children:s.jsx(Hs,{className:"h-4 w-4"})}),s.jsx(re,{size:"sm",variant:"ghost",onClick:()=>K(X.id,X.name),children:s.jsx(Xr,{className:"h-4 w-4"})})]})})]},X.id)})})]})})})]}),s.jsx(bn,{open:c,onOpenChange:d,children:s.jsxs(dn,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(wn,{children:[s.jsx(jn,{className:"text-xl",children:"Create Apartment & Import Data"}),s.jsx(Xs,{children:"Fill in the apartment details and upload Excel (.xlsx, .xls) or CSV (.csv) files to import product data."})]}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Apartment Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"apt-name",children:["Apartment Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(ue,{id:"apt-name",placeholder:"Enter apartment name",value:w.name,onChange:X=>{N({...w,name:X.target.value}),g.name&&b({...g,name:""})},className:g.name?"border-destructive":""}),g.name&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:g.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"apt-type",children:["Type ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(nt,{value:w.type,onValueChange:X=>N({...w,type:X}),children:[s.jsx(et,{id:"apt-type",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"furnishing",children:"Furnishing"}),s.jsx(J,{value:"renovating",children:"Renovating"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"apt-owner",children:["Clients ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(nt,{value:w.client,onValueChange:X=>{N({...w,client:X}),g.client&&b({...g,client:""})},disabled:F,children:[s.jsx(et,{id:"apt-client",className:g.client?"border-destructive":"",children:s.jsx(st,{placeholder:F?"Loading clients...":"Select client"})}),s.jsx(tt,{children:U!=null&&U.results&&U.results.length>0?U.results.map(X=>s.jsx(J,{value:X.id,children:X.name},X.id)):s.jsx(J,{value:"no-clients",disabled:!0,children:"No clients available"})})]}),g.client&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:g.client})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"apt-status",children:["Status ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(nt,{value:w.status,onValueChange:X=>N({...w,status:X}),children:[s.jsx(et,{id:"apt-status",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"Planning",children:"Planning"}),s.jsx(J,{value:"Design Approved",children:"Design Approved"}),s.jsx(J,{value:"Ordering",children:"Ordering"}),s.jsx(J,{value:"Delivery",children:"Delivery"}),s.jsx(J,{value:"Installation",children:"Installation"}),s.jsx(J,{value:"Completed",children:"Completed"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"apt-designer",children:"Designer"}),s.jsx(ue,{id:"apt-designer",placeholder:"Enter designer name",value:w.designer,onChange:X=>N({...w,designer:X.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"apt-start",children:["Start Date ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(ue,{id:"apt-start",type:"date",value:w.start_date,onChange:X=>{N({...w,start_date:X.target.value}),g.start_date&&b({...g,start_date:""})},className:g.start_date?"border-destructive":""}),g.start_date&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:g.start_date})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"apt-due",children:["Due Date ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(ue,{id:"apt-due",type:"date",value:w.due_date,onChange:X=>{N({...w,due_date:X.target.value}),g.due_date&&b({...g,due_date:""})},className:g.due_date?"border-destructive":""}),g.due_date&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:g.due_date})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"apt-address",children:["Address ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(In,{id:"apt-address",placeholder:"Enter complete address",value:w.address,onChange:X=>{N({...w,address:X.target.value}),g.address&&b({...g,address:""})},rows:3,className:g.address?"border-destructive":""}),g.address&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:g.address})]})]}),s.jsxs("div",{className:"space-y-4 bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Import Product Data"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Upload Excel or CSV files containing product information for this apartment."})]}),s.jsxs(re,{variant:"outline",size:"sm",className:"gap-2",onClick:async()=>{try{const X=await vi.downloadImportTemplate(),ee=window.URL.createObjectURL(X),ie=document.createElement("a");ie.href=ee,ie.download="apartment-template.xlsx",document.body.appendChild(ie),ie.click(),window.URL.revokeObjectURL(ee),document.body.removeChild(ie),n({title:"Success",description:"Template downloaded successfully"})}catch{n({title:"Error",description:"Failed to download template",variant:"destructive"})}},children:[s.jsx(qj,{className:"h-4 w-4"}),"Download Template"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"apt-vendor",children:"Vendor (Optional)"}),s.jsxs(nt,{value:w.vendor,onValueChange:X=>N({...w,vendor:X}),disabled:O,children:[s.jsx(et,{id:"apt-vendor",children:s.jsx(st,{placeholder:O?"Loading vendors...":"Select a vendor (optional)"})}),s.jsx(tt,{children:A.length>0?A.map(X=>s.jsx(J,{value:X.id,children:X.name},X.id)):s.jsx(J,{value:"no-vendors",disabled:!0,children:"No vendors available"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Optionally assign a vendor to all imported products"})]}),s.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${h?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onDragEnter:X=>{X.preventDefault(),X.stopPropagation(),m(!0)},onDragLeave:X=>{X.preventDefault(),X.stopPropagation(),m(!1)},onDragOver:X=>{X.preventDefault(),X.stopPropagation()},onDrop:X=>{X.preventDefault(),X.stopPropagation(),m(!1),X.dataTransfer.files&&R(X.dataTransfer.files)},children:[s.jsx(sne,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-base font-medium mb-1",children:"Drag & drop files here"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"or click to browse"}),s.jsxs("label",{htmlFor:"file-upload",children:[s.jsx(re,{variant:"outline",size:"sm",className:"gap-2",asChild:!0,children:s.jsxs("span",{children:[s.jsx(kl,{className:"h-4 w-4"}),"Choose Files"]})}),s.jsx("input",{id:"file-upload",type:"file",className:"hidden",accept:".xlsx,.xls,.csv",multiple:!0,onChange:X=>{X.target.files&&R(X.target.files)}})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum file size: 50MB. Supported formats: Excel (.xlsx, .xls) and CSV (.csv)"}),u.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm font-medium",children:["Uploaded Files (",u.length,")"]}),u.map((X,ee)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-background rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gn,{className:"h-5 w-5 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:X.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(X.size/1024).toFixed(2)," KB"]})]})]}),s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>{f(u.filter((ie,be)=>be!==ee))},children:s.jsx(Bs,{className:"h-4 w-4"})})]},ee))]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(re,{variant:"outline",onClick:()=>{d(!1),L()},disabled:x,children:"Cancel"}),s.jsx(re,{variant:"outline",onClick:L,disabled:x,children:"Reset Form"})]}),s.jsx(re,{className:"bg-blue-600 hover:bg-blue-700 gap-2",onClick:T,disabled:x,children:x?s.jsxs(s.Fragment,{children:[s.jsx(St,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(An,{className:"h-4 w-4"}),"Create Apartment & Import Data"]})})]})]})}),s.jsx(Gl,{open:y.open,onOpenChange:X=>!X&&j({open:!1,id:"",name:""}),children:s.jsxs(Xo,{children:[s.jsx(Yo,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:s.jsx(Zi,{className:"h-6 w-6 text-destructive"})}),s.jsxs("div",{children:[s.jsx(Zo,{className:"text-xl",children:"Delete Apartment"}),s.jsx(Jo,{className:"mt-1",children:"This action cannot be undone."})]})]})}),s.jsx("div",{className:"py-4",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to delete"," ",s.jsxs("span",{className:"font-semibold text-foreground",children:['"',y.name,'"']}),"? This will permanently remove the apartment and all associated products from the system."]})}),s.jsxs(Qo,{children:[s.jsx(tl,{autoFocus:!1,children:"Cancel"}),s.jsx(el,{onClick:q,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",autoFocus:!0,children:"Delete Apartment"})]})]})})]})})};var N4="Radio",[r6e,oX]=ya(N4),[n6e,s6e]=r6e(N4),lX=v.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[f,h]=v.useState(null),m=Ft(t,g=>h(g)),x=v.useRef(!1),p=f?d||!!f.closest("form"):!0;return s.jsxs(n6e,{scope:r,checked:a,disabled:o,children:[s.jsx(gt.button,{type:"button",role:"radio","aria-checked":a,"data-state":uX(a),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:m,onClick:Ue(e.onClick,g=>{a||c==null||c(),p&&(x.current=g.isPropagationStopped(),x.current||g.stopPropagation())})}),p&&s.jsx(a6e,{control:f,bubbles:!x.current,name:n,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});lX.displayName=N4;var cX="RadioIndicator",dX=v.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=s6e(cX,r);return s.jsx(Jn,{present:n||i.checked,children:s.jsx(gt.span,{"data-state":uX(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});dX.displayName=cX;var a6e=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,i=v.useRef(null),o=w_(r),l=Jj(t);return v.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function uX(e){return e?"checked":"unchecked"}var i6e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_4="RadioGroup",[o6e,OJe]=ya(_4,[_p,oX]),fX=_p(),hX=oX(),[l6e,c6e]=o6e(_4),mX=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:f,...h}=e,m=fX(r),x=Np(d),[p,g]=Qi({prop:i,defaultProp:a,onChange:f});return s.jsx(l6e,{scope:r,name:n,required:o,disabled:l,value:p,onValueChange:g,children:s.jsx(kk,{asChild:!0,...m,orientation:c,dir:x,loop:u,children:s.jsx(gt.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...h,ref:t})})})});mX.displayName=_4;var pX="RadioGroupItem",xX=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=c6e(pX,r),o=i.disabled||n,l=fX(r),c=hX(r),d=v.useRef(null),u=Ft(t,d),f=i.value===a.value,h=v.useRef(!1);return v.useEffect(()=>{const m=p=>{i6e.includes(p.key)&&(h.current=!0)},x=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",x)}},[]),s.jsx(Ok,{asChild:!0,...l,focusable:!o,active:f,children:s.jsx(lX,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:Ue(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:Ue(a.onFocus,()=>{var m;h.current&&((m=d.current)==null||m.click())})})})});xX.displayName=pX;var d6e="RadioGroupIndicator",gX=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=hX(r);return s.jsx(dX,{...a,...n,ref:t})});gX.displayName=d6e;var vX=mX,yX=xX,u6e=gX;const S4=v.forwardRef(({className:e,...t},r)=>s.jsx(vX,{className:pe("grid gap-2",e),...t,ref:r}));S4.displayName=vX.displayName;const Mv=v.forwardRef(({className:e,...t},r)=>s.jsx(yX,{ref:r,className:pe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(u6e,{className:"flex items-center justify-center",children:s.jsx(x9,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Mv.displayName=yX.displayName;const Ni=v.forwardRef(({...e},t)=>s.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));Ni.displayName="Breadcrumb";const _i=v.forwardRef(({className:e,...t},r)=>s.jsx("ol",{ref:r,className:pe("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));_i.displayName="BreadcrumbList";const fr=v.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,className:pe("inline-flex items-center gap-1.5",e),...t}));fr.displayName="BreadcrumbItem";const Mn=v.forwardRef(({asChild:e,className:t,...r},n)=>{const a=e?Tl:"a";return s.jsx(a,{ref:n,className:pe("transition-colors hover:text-foreground",t),...r})});Mn.displayName="BreadcrumbLink";const Si=v.forwardRef(({className:e,...t},r)=>s.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:pe("font-normal text-foreground",e),...t}));Si.displayName="BreadcrumbPage";const Fn=({children:e,className:t,...r})=>s.jsx("li",{role:"presentation","aria-hidden":"true",className:pe("[&>svg]:size-3.5",t),...r,children:e??s.jsx(Hd,{})});Fn.displayName="BreadcrumbSeparator";const f6e=()=>{const e=cr(),{toast:t}=pr(),{data:r,isLoading:n}=S_({}),a=(r==null?void 0:r.results)||[],i=K$e(),[o,l]=v.useState({name:"",type:"furnishing",client:"",address:"",designer:"",status:"Planning",start_date:"",due_date:"",progress:0,notes:""}),[c,d]=v.useState({}),u=()=>{const h={};return o.name.trim()||(h.name="Apartment name is required"),o.client||(h.client="Client selection is required"),o.address.trim()||(h.address="Address is required"),o.designer.trim()||(h.designer="Designer is required"),o.start_date||(h.start_date="Start date is required"),o.due_date||(h.due_date="Due date is required"),o.start_date&&o.due_date&&new Date(o.due_date)<new Date(o.start_date)&&(h.due_date="Due date must be after start date"),d(h),Object.keys(h).length===0},f=async h=>{var m,x;if(h.preventDefault(),!u()){t({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{await i.mutateAsync(o),t({title:"Success",description:`${o.name} has been created successfully.`}),e("/apartments?type="+o.type)}catch(p){t({title:"Error",description:((x=(m=p.response)==null?void 0:m.data)==null?void 0:x.message)||"Failed to create apartment. Please try again.",variant:"destructive"})}};return s.jsx(yt,{title:"New Apartment",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ni,{children:s.jsxs(_i,{children:[s.jsx(fr,{children:s.jsx(Mn,{href:"/apartments",children:"Apartments"})}),s.jsx(Fn,{}),s.jsx(fr,{children:s.jsx(Si,{children:"New Apartment"})})]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(re,{variant:"ghost",size:"icon",onClick:()=>e("/apartments"),children:s.jsx(sr,{className:"h-4 w-4"})}),s.jsx("h1",{className:"text-3xl font-bold",children:"New Apartment"})]}),s.jsx("form",{onSubmit:f,children:s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsx($e,{children:"Apartment Details"})}),s.jsxs(le,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"name",children:"Apartment Name *"}),s.jsx(ue,{id:"name",value:o.name,onChange:h=>l({...o,name:h.target.value}),placeholder:"Izabella utca 3  A/12"}),c.name&&s.jsx("p",{className:"text-sm text-destructive",children:c.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Type *"}),s.jsx(S4,{value:o.type,onValueChange:h=>l({...o,type:h}),children:s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mv,{value:"furnishing",id:"furnishing"}),s.jsx(H,{htmlFor:"furnishing",className:"font-normal cursor-pointer",children:"Furnishing"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mv,{value:"renovating",id:"renovating"}),s.jsx(H,{htmlFor:"renovating",className:"font-normal cursor-pointer",children:"Renovating"})]})]})})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"client",children:"Client/Owner *"}),s.jsxs(nt,{value:o.client,onValueChange:h=>l({...o,client:h}),disabled:n,children:[s.jsx(et,{id:"client",children:s.jsx(st,{placeholder:n?"Loading clients...":"Select client"})}),s.jsx(tt,{children:a.map(h=>s.jsxs(J,{value:h.id,children:[h.name," - ",h.type]},h.id))})]}),c.client&&s.jsx("p",{className:"text-sm text-destructive",children:c.client})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"designer",children:"Assigned Designer *"}),s.jsx(ue,{id:"designer",value:o.designer,onChange:h=>l({...o,designer:h.target.value}),placeholder:"Enter designer name"}),c.designer&&s.jsx("p",{className:"text-sm text-destructive",children:c.designer})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"address",children:"Address *"}),s.jsx(ue,{id:"address",value:o.address,onChange:h=>l({...o,address:h.target.value}),placeholder:"Izabella u. 3, Budapest"}),c.address&&s.jsx("p",{className:"text-sm text-destructive",children:c.address})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"status",children:"Status"}),s.jsxs(nt,{value:o.status,onValueChange:h=>l({...o,status:h}),children:[s.jsx(et,{id:"status",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"Planning",children:"Planning"}),s.jsx(J,{value:"Design Approved",children:"Design Approved"}),s.jsx(J,{value:"Ordering",children:"Ordering"}),s.jsx(J,{value:"Delivery",children:"Delivery"}),s.jsx(J,{value:"Renovating",children:"Renovating"}),s.jsx(J,{value:"Complete",children:"Complete"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"start_date",children:"Start Date *"}),s.jsx(ue,{id:"start_date",type:"date",value:o.start_date,onChange:h=>l({...o,start_date:h.target.value})}),c.start_date&&s.jsx("p",{className:"text-sm text-destructive",children:c.start_date})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"due_date",children:"Due Date *"}),s.jsx(ue,{id:"due_date",type:"date",value:o.due_date,onChange:h=>l({...o,due_date:h.target.value})}),c.due_date&&s.jsx("p",{className:"text-sm text-destructive",children:c.due_date})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"notes",children:"Notes"}),s.jsx(ma,{id:"notes",value:o.notes,onChange:h=>l({...o,notes:h.target.value}),placeholder:"Additional notes about this apartment...",rows:4})]}),s.jsxs("div",{className:"flex gap-4 justify-end",children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>e("/apartments"),children:"Cancel"}),s.jsx(re,{type:"submit",disabled:i.isPending,children:i.isPending?"Creating...":"Create Apartment"})]})]})]})})]})})},Sn={all:["products"],lists:()=>[...Sn.all,"list"],list:e=>[...Sn.lists(),e],details:()=>[...Sn.all,"detail"],detail:e=>[...Sn.details(),e],byApartment:e=>[...Sn.all,"apartment",e],byCategory:()=>[...Sn.all,"category"],categories:e=>[...Sn.all,"categories",e],statistics:e=>[...Sn.all,"statistics",e],importSessions:e=>[...Sn.all,"importSessions",e]};function bX(e,t){const[r,n]=v.useState(e);return v.useEffect(()=>{const a=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function wX(e){const t=bX(e==null?void 0:e.search,300),r={...e,search:t};return Ds({queryKey:Sn.list(r),queryFn:()=>vi.getProducts(r),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:n=>n})}function h6e(e,t){const r=bX(t==null?void 0:t.search,300),n={...t,search:r};return Ds({queryKey:[...Sn.byApartment(e),n],queryFn:async()=>{const a=await vi.getProductsByApartment(e,n);return Array.isArray(a)?a:[]},enabled:!!e,staleTime:5*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:a=>a})}function jX(e){return Ds({queryKey:Sn.detail(e),queryFn:()=>vi.getProduct(e),enabled:!!e,staleTime:5*60*1e3})}function m6e(){const e=zr(),{toast:t}=pr();return nn({mutationFn:r=>vi.createProduct(r),onSuccess:r=>{e.invalidateQueries({queryKey:Sn.lists()}),e.invalidateQueries({queryKey:Sn.byApartment(r.apartment)}),t({title:"Success",description:`Product "${r.product}" created successfully`})},onError:r=>{t({title:"Error creating product",description:r.message||"Something went wrong",variant:"destructive"})}})}function NX(){const e=zr(),{toast:t}=pr();return nn({mutationFn:({id:r,data:n})=>vi.updateProduct(r,n),onSuccess:r=>{e.invalidateQueries({queryKey:Sn.lists()}),e.invalidateQueries({queryKey:Sn.detail(r.id)}),e.invalidateQueries({queryKey:Sn.byApartment(r.apartment)}),t({title:"Success",description:`Product "${r.product}" updated successfully`})},onError:r=>{t({title:"Error updating product",description:r.message||"Something went wrong",variant:"destructive"})}})}function p6e(){const e=zr(),{toast:t}=pr();return nn({mutationFn:({id:r})=>vi.deleteProduct(r),onSuccess:(r,n)=>{e.invalidateQueries({queryKey:Sn.lists()}),e.invalidateQueries({queryKey:Sn.byApartment(n.apartmentId)}),t({title:"Success",description:`Product "${n.name}" deleted successfully`})},onError:r=>{t({title:"Error deleting product",description:r.message||"Something went wrong",variant:"destructive"})}})}function _X(e){return Ds({queryKey:Sn.categories(e),queryFn:()=>vi.getProductCategories(e),enabled:!!e,staleTime:0,gcTime:0,retry:1,refetchOnWindowFocus:!1})}function SX(){const e=zr(),{toast:t}=pr();return nn({mutationFn:r=>vi.createCategory(r),onSuccess:(r,n)=>{e.invalidateQueries({queryKey:Sn.categories(n.apartment)}),t({title:"Success",description:`Category "${r.name}" created successfully`})},onError:r=>{t({title:"Error creating category",description:r.message||"Something went wrong",variant:"destructive"})}})}var C4="Tabs",[x6e,DJe]=ya(C4,[_p]),CX=_p(),[g6e,E4]=x6e(C4),EX=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Np(l),[f,h]=Qi({prop:n,onChange:a,defaultProp:i});return s.jsx(g6e,{scope:r,baseId:Hi(),value:f,onValueChange:h,orientation:o,dir:u,activationMode:c,children:s.jsx(gt.div,{dir:u,"data-orientation":o,...d,ref:t})})});EX.displayName=C4;var AX="TabsList",PX=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=E4(AX,r),o=CX(r);return s.jsx(kk,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(gt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});PX.displayName=AX;var TX="TabsTrigger",kX=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=E4(TX,r),l=CX(r),c=IX(o.baseId,n),d=RX(o.baseId,n),u=n===o.value;return s.jsx(Ok,{asChild:!0,...l,focusable:!a,active:u,children:s.jsx(gt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Ue(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ue(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ue(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(n)})})})});kX.displayName=TX;var OX="TabsContent",DX=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=E4(OX,r),c=IX(l.baseId,n),d=RX(l.baseId,n),u=n===l.value,f=v.useRef(u);return v.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(Jn,{present:a||u,children:({present:h})=>s.jsx(gt.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});DX.displayName=OX;function IX(e,t){return`${e}-trigger-${t}`}function RX(e,t){return`${e}-content-${t}`}var v6e=EX,MX=PX,FX=kX,LX=DX;const nl=v6e,co=v.forwardRef(({className:e,...t},r)=>s.jsx(MX,{ref:r,className:pe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));co.displayName=MX.displayName;const Gt=v.forwardRef(({className:e,...t},r)=>s.jsx(FX,{ref:r,className:pe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Gt.displayName=FX.displayName;const Zt=v.forwardRef(({className:e,...t},r)=>s.jsx(LX,{ref:r,className:pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Zt.displayName=LX.displayName;var Pt=function(){return Pt=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Pt.apply(this,arguments)};function y6e(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function $X(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function G0(e){return e.mode==="multiple"}function q0(e){return e.mode==="range"}function C_(e){return e.mode==="single"}var b6e={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function w6e(e,t){return Qt(e,"LLLL y",t)}function j6e(e,t){return Qt(e,"d",t)}function N6e(e,t){return Qt(e,"LLLL",t)}function _6e(e){return"".concat(e)}function S6e(e,t){return Qt(e,"cccccc",t)}function C6e(e,t){return Qt(e,"yyyy",t)}var E6e=Object.freeze({__proto__:null,formatCaption:w6e,formatDay:j6e,formatMonthCaption:N6e,formatWeekNumber:_6e,formatWeekdayName:S6e,formatYearCaption:C6e}),A6e=function(e,t,r){return Qt(e,"do MMMM (EEEE)",r)},P6e=function(){return"Month: "},T6e=function(){return"Go to next month"},k6e=function(){return"Go to previous month"},O6e=function(e,t){return Qt(e,"cccc",t)},D6e=function(e){return"Week n. ".concat(e)},I6e=function(){return"Year: "},R6e=Object.freeze({__proto__:null,labelDay:A6e,labelMonthDropdown:P6e,labelNext:T6e,labelPrevious:k6e,labelWeekNumber:D6e,labelWeekday:O6e,labelYearDropdown:I6e});function M6e(){var e="buttons",t=b6e,r=uO,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:E6e,labels:R6e,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function F6e(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=Ma(n):t&&(i=new Date(t,0,1)),a?o=EN(a):r&&(o=new Date(r,11,31)),{fromDate:i?Pm(i):void 0,toDate:o?Pm(o):void 0}}var BX=v.createContext(void 0);function L6e(e){var t,r=e.initialProps,n=M6e(),a=F6e(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(C_(r)||G0(r)||q0(r))&&(c=r.onSelect);var d=Pt(Pt(Pt({},n),r),{captionLayout:l,classNames:Pt(Pt({},n.classNames),r.classNames),components:Pt({},r.components),formatters:Pt(Pt({},n.formatters),r.formatters),fromDate:i,labels:Pt(Pt({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Pt(Pt({},n.modifiers),r.modifiers),modifiersClassNames:Pt(Pt({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Pt(Pt({},n.styles),r.styles),toDate:o});return s.jsx(BX.Provider,{value:d,children:e.children})}function Wr(){var e=v.useContext(BX);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function UX(e){var t=Wr(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function $6e(e){return s.jsx("svg",Pt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function VX(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=Wr(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:$6e;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function B6e(e){var t,r=Wr(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var f=[];if(ixe(n,a))for(var h=Ma(n),m=n.getMonth();m<=a.getMonth();m++)f.push(Y2(h,m));else for(var h=Ma(new Date),m=0;m<=11;m++)f.push(Y2(h,m));var x=function(g){var b=Number(g.target.value),y=Y2(Ma(e.displayMonth),b);e.onChange(y)},p=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:VX;return s.jsx(p,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(g){return s.jsx("option",{value:g.getMonth(),children:l(g,{locale:o})},g.getMonth())})})}function U6e(e){var t,r=e.displayMonth,n=Wr(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,d=n.components,u=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var m=a.getFullYear(),x=i.getFullYear(),p=m;p<=x;p++)h.push(M3(Yz(new Date),p));var g=function(y){var j=M3(Ma(r),Number(y.target.value));e.onChange(j)},b=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:VX;return s.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:g,value:r.getFullYear(),caption:u(r,{locale:o}),children:h.map(function(y){return s.jsx("option",{value:y.getFullYear(),children:u(y,{locale:o})},y.getFullYear())})})}function V6e(e,t){var r=v.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function z6e(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&km(i,a)<0){var d=-1*(c-1);a=eo(i,d)}return o&&km(a,o)<0&&(a=o),Ma(a)}function W6e(){var e=Wr(),t=z6e(e),r=V6e(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=Ma(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function H6e(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=Ma(e),i=Ma(eo(a,n)),o=km(i,a),l=[],c=0;c<o;c++){var d=eo(a,c);l.push(d)}return r&&(l=l.reverse()),l}function G6e(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Ma(e);if(!r)return eo(l,o);var c=km(r,e);if(!(c<i))return eo(l,o)}}function q6e(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=Ma(e);if(!r)return eo(l,-o);var c=km(l,r);if(!(c<=0))return eo(l,-o)}}var zX=v.createContext(void 0);function K6e(e){var t=Wr(),r=W6e(),n=r[0],a=r[1],i=H6e(n,t),o=G6e(n,t),l=q6e(n,t),c=function(f){return i.some(function(h){return fO(f,h)})},d=function(f,h){c(f)||(h&&rW(f,h)?a(eo(f,1+t.numberOfMonths*-1)):a(f))},u={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(zX.Provider,{value:u,children:e.children})}function K0(){var e=v.useContext(zX);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function VL(e){var t,r=Wr(),n=r.classNames,a=r.styles,i=r.components,o=K0().goToMonth,l=function(u){o(eo(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:UX,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:d}),s.jsx(B6e,{onChange:l,displayMonth:e.displayMonth}),s.jsx(U6e,{onChange:l,displayMonth:e.displayMonth})]})}function X6e(e){return s.jsx("svg",Pt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Y6e(e){return s.jsx("svg",Pt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Zw=v.forwardRef(function(e,t){var r=Wr(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=Pt(Pt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Pt({},e,{ref:t,type:"button",className:o,style:l}))});function Q6e(e){var t,r,n=Wr(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,d=c.labelPrevious,u=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var h=d(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),x=u(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),g=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:Y6e,b=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:X6e;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(Zw,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(g,{className:o.nav_icon,style:l.nav_icon}):s.jsx(b,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(Zw,{name:"next-month","aria-label":x,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(b,{className:o.nav_icon,style:l.nav_icon}):s.jsx(g,{className:o.nav_icon,style:l.nav_icon})})]})}function zL(e){var t=Wr().numberOfMonths,r=K0(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(x){return fO(e.displayMonth,x)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),f=t>1&&(d||!c),h=function(){n&&i(n)},m=function(){a&&i(a)};return s.jsx(Q6e,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function Z6e(e){var t,r=Wr(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:UX,d;return a?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=s.jsx(VL,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(VL,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(zL,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(zL,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:d})}function J6e(e){var t=Wr(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function e8e(e,t,r){for(var n=r?Nf(new Date):Il(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=sa(n,i);a.push(o)}return a}function t8e(){var e=Wr(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=e8e(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,f){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},f)})]})}function r8e(){var e,t=Wr(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:t8e;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function n8e(e){var t=Wr(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var A4=v.createContext(void 0);function s8e(e){if(!G0(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(A4.Provider,{value:t,children:e.children})}return s.jsx(a8e,{initialProps:e.initialProps,children:e.children})}function a8e(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(d,u,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,d,u,f);var x=!!(u.selected&&a&&(n==null?void 0:n.length)===a);if(!x){var p=!!(!u.selected&&i&&(n==null?void 0:n.length)===i);if(!p){var g=n?$X([],n):[];if(u.selected){var b=g.findIndex(function(y){return Aa(d,y)});g.splice(b,1)}else g.push(d);(m=t.onSelect)===null||m===void 0||m.call(t,g,d,u,f)}}},l={disabled:[]};n&&l.disabled.push(function(d){var u=i&&n.length>i-1,f=n.some(function(h){return Aa(h,d)});return!!(u&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(A4.Provider,{value:c,children:r})}function P4(){var e=v.useContext(A4);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function i8e(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Aa(a,e)&&Aa(n,e)?void 0:Aa(a,e)?{from:a,to:void 0}:Aa(n,e)?void 0:YE(n,e)?{from:e,to:a}:{from:n,to:e}:a?YE(e,a)?{from:a,to:e}:{from:e,to:a}:n?rW(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var T4=v.createContext(void 0);function o8e(e){if(!q0(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(T4.Provider,{value:t,children:e.children})}return s.jsx(l8e,{initialProps:e.initialProps,children:e.children})}function l8e(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,c=t.max,d=function(m,x,p){var g,b;(g=t.onDayClick)===null||g===void 0||g.call(t,m,x,p);var y=i8e(m,n);(b=t.onSelect)===null||b===void 0||b.call(t,y,m,x,p)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],Aa(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:oc(i,l-1),before:sa(i,l-1)}),i&&o&&u.disabled.push({after:i,before:sa(i,l-1)}),!i&&o&&u.disabled.push({after:oc(o,l-1),before:sa(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:sa(i,-c+1)}),u.disabled.push({after:sa(i,c-1)})),i&&o){var f=Ao(o,i)+1,h=c-f;u.disabled.push({before:oc(i,h)}),u.disabled.push({after:sa(o,h)})}!i&&o&&(u.disabled.push({before:sa(o,-c+1)}),u.disabled.push({after:sa(o,c-1)}))}return s.jsx(T4.Provider,{value:{selected:n,onDayClick:d,modifiers:u},children:r})}function k4(){var e=v.useContext(T4);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function U1(e){return Array.isArray(e)?$X([],e):e!==void 0?[e]:[]}function c8e(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=U1(a)}),t}var zo;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(zo||(zo={}));var d8e=zo.Selected,Ql=zo.Disabled,u8e=zo.Hidden,f8e=zo.Today,CS=zo.RangeEnd,ES=zo.RangeMiddle,AS=zo.RangeStart,h8e=zo.Outside;function m8e(e,t,r){var n,a=(n={},n[d8e]=U1(e.selected),n[Ql]=U1(e.disabled),n[u8e]=U1(e.hidden),n[f8e]=[e.today],n[CS]=[],n[ES]=[],n[AS]=[],n[h8e]=[],n);return e.fromDate&&a[Ql].push({before:e.fromDate}),e.toDate&&a[Ql].push({after:e.toDate}),G0(e)?a[Ql]=a[Ql].concat(t.modifiers[Ql]):q0(e)&&(a[Ql]=a[Ql].concat(r.modifiers[Ql]),a[AS]=r.modifiers[AS],a[ES]=r.modifiers[ES],a[CS]=r.modifiers[CS]),a}var WX=v.createContext(void 0);function p8e(e){var t=Wr(),r=P4(),n=k4(),a=m8e(t,r,n),i=c8e(t.modifiers),o=Pt(Pt({},a),i);return s.jsx(WX.Provider,{value:o,children:e.children})}function HX(){var e=v.useContext(WX);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function x8e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function g8e(e){return!!(e&&typeof e=="object"&&"from"in e)}function v8e(e){return!!(e&&typeof e=="object"&&"after"in e)}function y8e(e){return!!(e&&typeof e=="object"&&"before"in e)}function b8e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function w8e(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=Ao(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=Ao(e,n)>=0&&Ao(a,e)>=0;return o}return a?Aa(a,e):n?Aa(n,e):!1}function j8e(e){return cO(e)}function N8e(e){return Array.isArray(e)&&e.every(cO)}function _8e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(j8e(r))return Aa(e,r);if(N8e(r))return r.includes(e);if(g8e(r))return w8e(e,r);if(b8e(r))return r.dayOfWeek.includes(e.getDay());if(x8e(r)){var n=Ao(r.before,e),a=Ao(r.after,e),i=n>0,o=a<0,l=YE(r.before,r.after);return l?o&&i:i||o}return v8e(r)?Ao(e,r.after)>0:y8e(r)?Ao(r.before,e)>0:typeof r=="function"?r(e):!1})}function O4(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return _8e(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!fO(e,r)&&(a.outside=!0),a}function S8e(e,t){for(var r=Ma(e[0]),n=EN(e[e.length-1]),a,i,o=r;o<=n;){var l=O4(o,t),c=!l.disabled&&!l.hidden;if(!c){o=sa(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=sa(o,1)}return i||a}var C8e=365;function GX(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,f=a.locale,h={day:sa,week:XE,month:eo,year:qme,startOfWeek:function(g){return a.ISOWeek?Nf(g):Il(g,{locale:f,weekStartsOn:c})},endOfWeek:function(g){return a.ISOWeek?Qz(g):dO(g,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&d?m=Kme([d,m]):n==="after"&&u&&(m=Xme([u,m]));var x=!0;if(i){var p=O4(m,i);x=!p.disabled&&!p.hidden}return x?m:l.count>C8e?l.lastFocused:GX(m,{moveBy:r,direction:n,context:a,modifiers:i,retry:Pt(Pt({},l),{count:l.count+1})})}var qX=v.createContext(void 0);function E8e(e){var t=K0(),r=HX(),n=v.useState(),a=n[0],i=n[1],o=v.useState(),l=o[0],c=o[1],d=S8e(t.displayMonths,r),u=a??(l&&t.isDateDisplayed(l))?l:d,f=function(){c(a),i(void 0)},h=function(g){i(g)},m=Wr(),x=function(g,b){if(a){var y=GX(a,{moveBy:g,direction:b,context:m,modifiers:r});Aa(a,y)||(t.goToDate(y,a),h(y))}},p={focusedDay:a,focusTarget:u,blur:f,focus:h,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return s.jsx(qX.Provider,{value:p,children:e.children})}function D4(){var e=v.useContext(qX);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function A8e(e,t){var r=HX(),n=O4(e,r,t);return n}var I4=v.createContext(void 0);function P8e(e){if(!C_(e.initialProps)){var t={selected:void 0};return s.jsx(I4.Provider,{value:t,children:e.children})}return s.jsx(T8e,{initialProps:e.initialProps,children:e.children})}function T8e(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx(I4.Provider,{value:a,children:r})}function KX(){var e=v.useContext(I4);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function k8e(e,t){var r=Wr(),n=KX(),a=P4(),i=k4(),o=D4(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,x=o.focusMonthAfter,p=o.focusYearBefore,g=o.focusYearAfter,b=o.focusStartOfWeek,y=o.focusEndOfWeek,j=function(A){var k,W,fe,de;C_(r)?(k=n.onDayClick)===null||k===void 0||k.call(n,e,t,A):G0(r)?(W=a.onDayClick)===null||W===void 0||W.call(a,e,t,A):q0(r)?(fe=i.onDayClick)===null||fe===void 0||fe.call(i,e,t,A):(de=r.onDayClick)===null||de===void 0||de.call(r,e,t,A)},w=function(A){var k;h(e),(k=r.onDayFocus)===null||k===void 0||k.call(r,e,t,A)},N=function(A){var k;f(),(k=r.onDayBlur)===null||k===void 0||k.call(r,e,t,A)},_=function(A){var k;(k=r.onDayMouseEnter)===null||k===void 0||k.call(r,e,t,A)},C=function(A){var k;(k=r.onDayMouseLeave)===null||k===void 0||k.call(r,e,t,A)},S=function(A){var k;(k=r.onDayPointerEnter)===null||k===void 0||k.call(r,e,t,A)},E=function(A){var k;(k=r.onDayPointerLeave)===null||k===void 0||k.call(r,e,t,A)},P=function(A){var k;(k=r.onDayTouchCancel)===null||k===void 0||k.call(r,e,t,A)},I=function(A){var k;(k=r.onDayTouchEnd)===null||k===void 0||k.call(r,e,t,A)},D=function(A){var k;(k=r.onDayTouchMove)===null||k===void 0||k.call(r,e,t,A)},U=function(A){var k;(k=r.onDayTouchStart)===null||k===void 0||k.call(r,e,t,A)},F=function(A){var k;(k=r.onDayKeyUp)===null||k===void 0||k.call(r,e,t,A)},M=function(A){var k;switch(A.key){case"ArrowLeft":A.preventDefault(),A.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":A.preventDefault(),A.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":A.preventDefault(),A.stopPropagation(),d();break;case"ArrowUp":A.preventDefault(),A.stopPropagation(),u();break;case"PageUp":A.preventDefault(),A.stopPropagation(),A.shiftKey?p():m();break;case"PageDown":A.preventDefault(),A.stopPropagation(),A.shiftKey?g():x();break;case"Home":A.preventDefault(),A.stopPropagation(),b();break;case"End":A.preventDefault(),A.stopPropagation(),y();break}(k=r.onDayKeyDown)===null||k===void 0||k.call(r,e,t,A)},O={onClick:j,onFocus:w,onBlur:N,onKeyDown:M,onKeyUp:F,onMouseEnter:_,onMouseLeave:C,onPointerEnter:S,onPointerLeave:E,onTouchCancel:P,onTouchEnd:I,onTouchMove:D,onTouchStart:U};return O}function O8e(){var e=Wr(),t=KX(),r=P4(),n=k4(),a=C_(e)?t.selected:G0(e)?r.selected:q0(e)?n.selected:void 0;return a}function D8e(e){return Object.values(zo).includes(e)}function I8e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(D8e(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function R8e(e,t){var r=Pt({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Pt(Pt({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function M8e(e,t,r){var n,a,i,o=Wr(),l=D4(),c=A8e(e,t),d=k8e(e,c),u=O8e(),f=!!(o.onDayClick||o.mode!=="default");v.useEffect(function(){var _;c.outside||l.focusedDay&&f&&Aa(l.focusedDay,e)&&((_=r.current)===null||_===void 0||_.focus())},[l.focusedDay,e,r,f,c.outside]);var h=I8e(o,c).join(" "),m=R8e(o,c),x=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:n8e,g=s.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),b={style:m,className:h,children:g,role:"gridcell"},y=l.focusTarget&&Aa(l.focusTarget,e)&&!c.outside,j=l.focusedDay&&Aa(l.focusedDay,e),w=Pt(Pt(Pt({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=j||y?0:-1,n)),d),N={isButton:f,isHidden:x,activeModifiers:c,selectedDays:u,buttonProps:w,divProps:b};return N}function F8e(e){var t=v.useRef(null),r=M8e(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(Zw,Pt({name:"day",ref:t},r.buttonProps)):s.jsx("div",Pt({},r.divProps))}function L8e(e){var t=e.number,r=e.dates,n=Wr(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var f=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return s.jsx(Zw,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:u})}function $8e(e){var t,r,n=Wr(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:F8e,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:L8e,u;return o&&(u=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[u,e.dates.map(function(f){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:f})},nxe(f))})]})}function WL(e,t,r){for(var n=r!=null&&r.ISOWeek?Qz(t):dO(t,r),a=r!=null&&r.ISOWeek?Nf(e):Il(e,r),i=Ao(n,a),o=[],l=0;l<=i;l++)o.push(sa(a,l));var c=o.reduce(function(d,u){var f=r!=null&&r.ISOWeek?Zz(u):eW(u,r),h=d.find(function(m){return m.weekNumber===f});return h?(h.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return c}function B8e(e,t){var r=WL(Ma(e),EN(e),t);if(t!=null&&t.useFixedWeeks){var n=axe(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=XE(i,6-n),l=WL(XE(i,1),o,t);r.push.apply(r,l)}}return r}function U8e(e){var t,r,n,a=Wr(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,x=B8e(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:m,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),p=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:r8e,g=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:$8e,b=(n=u==null?void 0:u.Footer)!==null&&n!==void 0?n:J6e;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(p,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:x.map(function(y){return s.jsx(g,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),s.jsx(b,{displayMonth:e.displayMonth})]})}function V8e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var z8e=V8e()?v.useLayoutEffect:v.useEffect,PS=!1,W8e=0;function HL(){return"react-day-picker-".concat(++W8e)}function H8e(e){var t,r=e??(PS?HL():null),n=v.useState(r),a=n[0],i=n[1];return z8e(function(){a===null&&i(HL())},[]),v.useEffect(function(){PS===!1&&(PS=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function G8e(e){var t,r,n=Wr(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,c=K0().displayMonths,d=H8e(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=o.month,m=e.displayIndex===0,x=e.displayIndex===c.length-1,p=!m&&!x;a==="rtl"&&(t=[m,x],x=t[0],m=t[1]),m&&(f.push(i.caption_start),h=Pt(Pt({},h),o.caption_start)),x&&(f.push(i.caption_end),h=Pt(Pt({},h),o.caption_end)),p&&(f.push(i.caption_between),h=Pt(Pt({},h),o.caption_between));var g=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:Z6e;return s.jsxs("div",{className:f.join(" "),style:h,children:[s.jsx(g,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(U8e,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function q8e(e){var t=Wr(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function K8e(e){var t,r,n=e.initialProps,a=Wr(),i=D4(),o=K0(),l=v.useState(!1),c=l[0],d=l[1];v.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var f=Pt(Pt({},a.styles.root),a.style),h=Object.keys(n).filter(function(x){return x.startsWith("data-")}).reduce(function(x,p){var g;return Pt(Pt({},x),(g={},g[p]=n[p],g))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:q8e;return s.jsx("div",Pt({className:u.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:s.jsx(m,{children:o.displayMonths.map(function(x,p){return s.jsx(G8e,{displayIndex:p,displayMonth:x},p)})})}))}function X8e(e){var t=e.children,r=y6e(e,["children"]);return s.jsx(L6e,{initialProps:r,children:s.jsx(K6e,{children:s.jsx(P8e,{initialProps:r,children:s.jsx(s8e,{initialProps:r,children:s.jsx(o8e,{initialProps:r,children:s.jsx(p8e,{children:s.jsx(E8e,{children:t})})})})})})})}function Y8e(e){return s.jsx(X8e,Pt({},e,{children:s.jsx(K8e,{initialProps:e})}))}function DP({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(Y8e,{showOutsideDays:r,className:pe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:pe(Kg({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:pe(Kg({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(XT,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(Hd,{className:"h-4 w-4"})},...n})}DP.displayName="Calendar";var R4="Popover",[XX,IJe]=ya(R4,[iu]),X0=iu(),[Q8e,mu]=XX(R4),YX=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=X0(t),c=v.useRef(null),[d,u]=v.useState(!1),[f=!1,h]=Qi({prop:n,defaultProp:a,onChange:i});return s.jsx(eN,{...l,children:s.jsx(Q8e,{scope:t,contentId:Hi(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:d,onCustomAnchorAdd:v.useCallback(()=>u(!0),[]),onCustomAnchorRemove:v.useCallback(()=>u(!1),[]),modal:o,children:r})})};YX.displayName=R4;var QX="PopoverAnchor",Z8e=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=mu(QX,r),i=X0(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return v.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(m0,{...i,...n,ref:t})});Z8e.displayName=QX;var ZX="PopoverTrigger",JX=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=mu(ZX,r),i=X0(r),o=Ft(t,a.triggerRef),l=s.jsx(gt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":sY(a.open),...n,ref:o,onClick:Ue(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(m0,{asChild:!0,...i,children:l})});JX.displayName=ZX;var M4="PopoverPortal",[J8e,eBe]=XX(M4,{forceMount:void 0}),eY=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=mu(M4,t);return s.jsx(J8e,{scope:t,forceMount:r,children:s.jsx(Jn,{present:r||i.open,children:s.jsx(fp,{asChild:!0,container:a,children:n})})})};eY.displayName=M4;var sp="PopoverContent",tY=v.forwardRef((e,t)=>{const r=eBe(sp,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=mu(sp,e.__scopePopover);return s.jsx(Jn,{present:n||i.open,children:i.modal?s.jsx(tBe,{...a,ref:t}):s.jsx(rBe,{...a,ref:t})})});tY.displayName=sp;var tBe=v.forwardRef((e,t)=>{const r=mu(sp,e.__scopePopover),n=v.useRef(null),a=Ft(t,n),i=v.useRef(!1);return v.useEffect(()=>{const o=n.current;if(o)return j0(o)},[]),s.jsx(N0,{as:Tl,allowPinchZoom:!0,children:s.jsx(rY,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ue(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ue(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Ue(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),rBe=v.forwardRef((e,t)=>{const r=mu(sp,e.__scopePopover),n=v.useRef(!1),a=v.useRef(!1);return s.jsx(rY,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),rY=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,h=mu(sp,r),m=X0(r);return xN(),s.jsx(w0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Mf,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(tN,{"data-state":sY(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),nY="PopoverClose",nBe=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=mu(nY,r);return s.jsx(gt.button,{type:"button",...n,ref:t,onClick:Ue(e.onClick,()=>a.onOpenChange(!1))})});nBe.displayName=nY;var sBe="PopoverArrow",aBe=v.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=X0(r);return s.jsx(rN,{...a,...n,ref:t})});aBe.displayName=sBe;function sY(e){return e?"open":"closed"}var iBe=YX,oBe=JX,lBe=eY,aY=tY;const Jw=iBe,ej=oBe,Fv=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(lBe,{children:s.jsx(aY,{ref:a,align:t,sideOffset:r,className:pe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Fv.displayName=aY.displayName;const cBe=({open:e,onOpenChange:t,vendorName:r,productId:n,onVendorUpdated:a,openInEditMode:i=!1})=>{const[o,l]=v.useState(!1),[c,d]=v.useState([]),[u,f]=v.useState(null),[h,m]=v.useState(!1),[x,p]=v.useState("");v.useEffect(()=>{e?(g(),m(i)):(f(null),p(""),m(!1))},[e,i]);const g=async()=>{l(!0);try{const y=await rl.getVendors();d(y.results);const j=y.results.find(w=>w.name.toLowerCase()===r.toLowerCase());j?(f(j),p(j.id)):(f(null),p(""))}catch(y){console.error("Error fetching vendors:",y),Me.error("Failed to load vendors")}finally{l(!1)}},b=async()=>{if(!x){Me.error("Please select a vendor");return}const y=c.find(j=>j.id===x);y&&(a==null||a(y.id,y.name),Me.success(`Vendor changed to ${y.name}`),t(!1))};return s.jsx(bn,{open:e,onOpenChange:t,children:s.jsxs(dn,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(wn,{children:[s.jsxs(jn,{className:"flex items-center gap-2",children:[s.jsx(xr,{className:"h-5 w-5"}),"Vendor Details"]}),s.jsx(Xs,{children:"View vendor information and change vendor assignment"})]}),o?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(St,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsx("div",{className:"space-y-6 py-4",children:u?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Current Vendor"}),s.jsx(re,{variant:"outline",size:"sm",onClick:()=>m(!h),children:h?"Cancel":"Change Vendor"})]}),h?s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[s.jsx(H,{children:"Select New Vendor"}),s.jsxs(nt,{value:x,onValueChange:p,children:[s.jsx(et,{children:s.jsx(st,{placeholder:"Choose a vendor"})}),s.jsx(tt,{children:c.map(y=>s.jsx(J,{value:y.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xr,{className:"h-4 w-4"}),s.jsx("span",{children:y.name}),y.company_name&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",y.company_name,")"]})]})},y.id))})]})]}):s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 border rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(H,{className:"text-xs text-muted-foreground",children:"Vendor Name"}),s.jsx("p",{className:"font-semibold",children:u.name})]}),s.jsxs("div",{children:[s.jsx(H,{className:"text-xs text-muted-foreground",children:"Company Name"}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(xr,{className:"h-4 w-4 text-muted-foreground"}),u.company_name||"N/A"]})]}),s.jsxs("div",{children:[s.jsx(H,{className:"text-xs text-muted-foreground",children:"Contact Person"}),s.jsx("p",{children:u.contact_person||"N/A"})]}),s.jsxs("div",{children:[s.jsx(H,{className:"text-xs text-muted-foreground",children:"Category"}),s.jsx("p",{children:u.category||"N/A"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(H,{className:"text-xs text-muted-foreground",children:"Email"}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(yn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("a",{href:`mailto:${u.email}`,className:"text-primary hover:underline",children:u.email})]})]}),s.jsxs("div",{children:[s.jsx(H,{className:"text-xs text-muted-foreground",children:"Phone"}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(Wo,{className:"h-4 w-4 text-muted-foreground"}),u.phone||"N/A"]})]}),s.jsxs("div",{children:[s.jsx(H,{className:"text-xs text-muted-foreground",children:"Website"}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(Ac,{className:"h-4 w-4 text-muted-foreground"}),u.website?s.jsx("a",{href:u.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:u.website}):"N/A"]})]}),s.jsxs("div",{children:[s.jsx(H,{className:"text-xs text-muted-foreground",children:"Address"}),s.jsxs("p",{className:"flex items-start gap-2",children:[s.jsx(ha,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),s.jsxs("span",{className:"text-sm",children:[u.address||"N/A",u.city&&`, ${u.city}`,u.country&&`, ${u.country}`]})]})]})]}),s.jsxs("div",{className:"col-span-2 grid grid-cols-3 gap-4 pt-4 border-t",children:[s.jsxs("div",{children:[s.jsx(H,{className:"text-xs text-muted-foreground",children:"Lead Time"}),s.jsx("p",{className:"font-semibold",children:u.lead_time||"N/A"})]}),s.jsxs("div",{children:[s.jsx(H,{className:"text-xs text-muted-foreground",children:"Reliability"}),s.jsx("p",{className:"font-semibold",children:u.reliability||"N/A"})]}),s.jsxs("div",{children:[s.jsx(H,{className:"text-xs text-muted-foreground",children:"Total Orders"}),s.jsx("p",{className:"font-semibold",children:u.orders_count||0})]})]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"No vendor assigned or vendor not found in the system."}),s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[s.jsx(H,{children:"Assign Vendor"}),s.jsxs(nt,{value:x,onValueChange:p,children:[s.jsx(et,{children:s.jsx(st,{placeholder:"Choose a vendor"})}),s.jsx(tt,{children:c.map(y=>s.jsx(J,{value:y.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xr,{className:"h-4 w-4"}),s.jsx("span",{children:y.name}),y.company_name&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",y.company_name,")"]})]})},y.id))})]})]})]})}),s.jsxs(qo,{children:[s.jsx(re,{variant:"outline",onClick:()=>t(!1),children:"Close"}),(h||!u)&&s.jsx(re,{onClick:b,disabled:!x,children:u?"Change Vendor":"Assign Vendor"})]})]})})};var F4="Switch",[dBe,RJe]=ya(F4),[uBe,fBe]=dBe(F4),iY=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[h,m]=v.useState(null),x=Ft(t,j=>m(j)),p=v.useRef(!1),g=h?u||!!h.closest("form"):!0,[b=!1,y]=Qi({prop:a,defaultProp:i,onChange:d});return s.jsxs(uBe,{scope:r,checked:b,disabled:l,children:[s.jsx(gt.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":cY(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:Ue(e.onClick,j=>{y(w=>!w),g&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),g&&s.jsx(hBe,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});iY.displayName=F4;var oY="SwitchThumb",lY=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=fBe(oY,r);return s.jsx(gt.span,{"data-state":cY(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});lY.displayName=oY;var hBe=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,i=v.useRef(null),o=w_(r),l=Jj(t);return v.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function cY(e){return e?"checked":"unchecked"}var dY=iY,mBe=lY;const Nn=v.forwardRef(({className:e,...t},r)=>s.jsx(dY,{className:pe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(mBe,{className:pe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Nn.displayName=dY.displayName;const GL=e=>{let t;const r=new Set,n=(d,u)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const h=t;t=u??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(m=>m(t,h))}},a=()=>t,l={setState:n,getState:a,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d))},c=t=e(n,a,l);return l},pBe=e=>e?GL(e):GL,xBe=e=>e;function gBe(e,t=xBe){const r=B.useSyncExternalStore(e.subscribe,B.useCallback(()=>t(e.getState()),[e,t]),B.useCallback(()=>t(e.getInitialState()),[e,t]));return B.useDebugValue(r),r}const vBe=e=>{const t=pBe(e),r=n=>gBe(t,n);return Object.assign(r,t),r},yBe=e=>vBe;function bBe(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=r.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const IP=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return IP(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return IP(n)(r)}}}},wBe=(e,t)=>(r,n,a)=>{let i={storage:bBe(()=>localStorage),partialize:p=>p,version:0,merge:(p,g)=>({...g,...p}),...t},o=!1;const l=new Set,c=new Set;let d=i.storage;if(!d)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...p)},n,a);const u=()=>{const p=i.partialize({...n()});return d.setItem(i.name,{state:p,version:i.version})},f=a.setState;a.setState=(p,g)=>(f(p,g),u());const h=e((...p)=>(r(...p),u()),n,a);a.getInitialState=()=>h;let m;const x=()=>{var p,g;if(!d)return;o=!1,l.forEach(y=>{var j;return y((j=n())!=null?j:h)});const b=((g=i.onRehydrateStorage)==null?void 0:g.call(i,(p=n())!=null?p:h))||void 0;return IP(d.getItem.bind(d))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate){const j=i.migrate(y.state,y.version);return j instanceof Promise?j.then(w=>[!0,w]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var j;const[w,N]=y;if(m=i.merge(N,(j=n())!=null?j:h),r(m,!0),w)return u()}).then(()=>{b==null||b(m,void 0),m=n(),o=!0,c.forEach(y=>y(m))}).catch(y=>{b==null||b(void 0,y)})};return a.persist={setOptions:p=>{i={...i,...p},p.storage&&(d=p.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},i.skipHydration||x(),m||h},jBe=wBe,NBe=()=>({vendors:[{id:"vendor-001",name:"IKEA",companyName:"IKEA Hungary Kft.",contactPerson:"Sales Department",email:"sales@ikea.hu",phone:"+36 1 123 4567",website:"https://www.ikea.com/hu/hu/",notes:"Main furniture supplier"},{id:"vendor-002",name:"Royalty Line",companyName:"Royalty Line Europe",contactPerson:"Customer Service",email:"support@royaltyline.eu",phone:"+36 30 234 5678",website:"https://royaltyline.eu/",notes:"Kitchen and cookware specialist"},{id:"vendor-003",name:"JYSK",companyName:"JYSK Hungary",contactPerson:"B2B Sales",email:"b2b@jysk.hu",phone:"+36 1 345 6789",website:"https://jysk.hu/",notes:"Bedroom furniture and textiles"}],clients:[{id:"client-001",name:"John Doe",email:"john.doe@example.com",phone:"+36 20 123 4567",accountStatus:"Active",type:"Investor",notes:"Long-term investor with multiple properties"},{id:"client-002",name:"Anna Nagy",email:"anna.nagy@example.com",phone:"+36 30 987 6543",accountStatus:"Active",type:"Investor",notes:""},{id:"client-003",name:"Mikls Szab",email:"miklos.szabo@example.com",phone:"+36 70 555 1234",accountStatus:"Active",type:"Investor",notes:""},{id:"client-internal",name:"Buy2Rent Internal",email:"info@buy2rent.com",phone:"+36 1 234 5678",accountStatus:"Active",type:"Buy2Rent Internal",notes:"Internal company projects"}],apartments:[{id:"apt-001",name:"Izabella utca 3  A/12",type:"furnishing",clientId:"client-001",owner:"John Doe",address:"Izabella u. 3, Budapest",status:"Ordering",designer:"Barbara Kovcs",startDate:"2025-10-15",dueDate:"2025-12-05",progress:68,notes:""},{id:"apt-002",name:"Vci t 41  3.em 7",type:"renovating",clientId:"client-002",owner:"Anna Nagy",address:"Vci t 41, Budapest",status:"Renovating",designer:"Barbara Kovcs",startDate:"2025-09-10",dueDate:"2025-11-28",progress:52,notes:""},{id:"apt-003",name:"Andrssy t 25  B/5",type:"furnishing",clientId:"client-003",owner:"Mikls Szab",address:"Andrssy t 25, Budapest",status:"Design Approved",designer:"Barbara Kovcs",startDate:"2025-10-01",dueDate:"2025-12-01",progress:74,notes:""}],products:[{id:"p-1001",apartmentId:"apt-001",product:"Kanap  3 szemlyes",vendor:"IKEA",vendorLink:"https://www.ikea.com/hu/hu/",sku:"IK-SOFA-3",unitPrice:159999,qty:1,availability:"In Stock",status:"Ordered",statusTags:["Ordered"],deliveryStatusTags:["Scheduled"],eta:"2025-11-14",category:"Living Room",room:"Nappali",imageUrl:"",orderedOn:"2025-11-01",expectedDeliveryDate:"2025-11-14",paymentStatus:"Partially Paid",paymentDueDate:"2025-11-12",paymentAmount:159999,paidAmount:63999,issueState:"AI Resolving",issueId:"issue-002",vendorId:"vendor-001"},{id:"p-1002",apartmentId:"apt-001",product:"tkezasztal  Tlgy",vendor:"IKEA",vendorLink:"https://www.ikea.com/hu/hu/",sku:"IK-DINE-OAK",unitPrice:89999,qty:1,availability:"Backorder",status:"Waiting For Stock",statusTags:["Ordered","Waiting For Stock"],deliveryStatusTags:["Scheduled"],eta:"2025-11-25",category:"Dining",room:"tkez",imageUrl:"",orderedOn:"2025-11-02",expectedDeliveryDate:"2025-11-25",paymentStatus:"Partially Paid",paymentDueDate:"2025-11-12",paymentAmount:89999,paidAmount:36001,issueState:"No Issue",vendorId:"vendor-001"},{id:"p-1003",apartmentId:"apt-001",product:"Marble Cookware Set",vendor:"Royalty Line",vendorLink:"https://royaltyline.eu/",sku:"RL-COOK-SET",unitPrice:12999,qty:2,availability:"In Stock",status:"Damaged",statusTags:["Delivered","Damaged"],deliveryStatusTags:["Delivered","Issue Reported"],eta:"2025-11-12",category:"Kitchen",room:"Konyha",imageUrl:"",orderedOn:"2025-10-28",actualDeliveryDate:"2025-11-04",expectedDeliveryDate:"2025-11-04",paymentStatus:"Paid",paymentDueDate:"2025-11-03",paymentAmount:25998,paidAmount:25998,issueState:"AI Resolving",issueId:"issue-001",vendorId:"vendor-002"},{id:"p-1004",apartmentId:"apt-003",product:"King Size gy - Fekete",vendor:"JYSK",vendorLink:"https://jysk.hu/",sku:"JY-BED-KING-BLK",unitPrice:129e3,qty:1,availability:"In Stock",status:"Delivered",statusTags:["Delivered"],deliveryStatusTags:["Delivered"],category:"Bedroom",room:"Hlszoba",imageUrl:"",orderedOn:"2025-10-20",actualDeliveryDate:"2025-11-03",expectedDeliveryDate:"2025-11-03",paymentStatus:"Paid",paymentDueDate:"2025-10-25",paymentAmount:129e3,paidAmount:129e3,issueState:"No Issue",vendorId:"vendor-003"}],deliveries:[{id:"del-001",apartmentId:"apt-001",vendor:"IKEA",orderReference:"IK-ORD-001",expectedDate:"2025-11-14",status:"Scheduled",notes:"Delivery window: 9:00-12:00"},{id:"del-002",apartmentId:"apt-001",vendor:"Royalty Line",orderReference:"RL-ORD-002",expectedDate:"2025-11-04",actualDate:"2025-11-04",receivedBy:"John Doe",status:"Issue Reported",notes:"Items damaged during shipping",proofPhotos:[]}],payments:[{id:"pay-001",apartmentId:"apt-001",vendor:"IKEA",orderReference:"IK-ORD-001",totalAmount:249998,amountPaid:1e5,dueDate:"2025-11-12",status:"Partial",lastPaymentDate:"2025-11-01",paymentHistory:[{date:"2025-11-01",amount:1e5,method:"Bank Transfer",referenceNo:"TRF-20251101-001",note:"Initial payment"}]},{id:"pay-002",apartmentId:"apt-001",vendor:"Royalty Line",orderReference:"RL-ORD-002",totalAmount:25998,amountPaid:25998,dueDate:"2025-11-03",status:"Paid",lastPaymentDate:"2025-10-30",paymentHistory:[{date:"2025-10-30",amount:25998,method:"Credit Card",referenceNo:"CC-20251030-002"}]}],issues:[{id:"issue-001",apartmentId:"apt-001",productId:"p-1003",productName:"Marble Cookware Set",vendor:"Royalty Line",type:"Broken/Damaged",description:"Two pans arrived with cracked marble coating. Product unusable.",reportedOn:"2025-11-04",status:"Pending Vendor Response",photos:[],aiActivated:!0,aiCommunicationLog:[{timestamp:"2025-11-04T16:12:00",sender:"AI",message:`Dear Royalty Line Team,

We received order RL-ORD-002 (Marble Cookware Set, SKU: RL-COOK-SET) on November 4th, 2025. Unfortunately, two pans arrived with cracked marble coating, rendering them unusable.

Kindly confirm the replacement or refund procedure at your earliest convenience.

Best regards,
Buy2Rent FPMS`},{timestamp:"2025-11-04T18:45:00",sender:"Vendor",message:`Hello,

Thank you for contacting us. We apologize for the damaged items. We will arrange a replacement shipment immediately.

Please return the damaged items to our warehouse. RMA #RL-2025-1104.

Expected replacement delivery: November 10th, 2025.

Best regards,
Royalty Line Customer Service`},{timestamp:"2025-11-04T18:46:00",sender:"System",message:" HUMAN ACTION REQUIRED: Vendor requires damaged item to be shipped back. Please arrange pickup or return shipping for damaged cookware set by November 8th, 2025. RMA Number: RL-2025-1104."},{timestamp:"2025-11-04T19:00:00",sender:"AI",message:`Thank you for your prompt response. We acknowledge the replacement shipment scheduled for November 10th. Return shipment will be arranged as per RMA #RL-2025-1104.

Best regards,
Buy2Rent FPMS`}],resolutionStatus:"Resolution Agreed"},{id:"issue-002",apartmentId:"apt-001",productId:"p-1001",productName:"Kanap  3 szemlyes",vendor:"IKEA",type:"Wrong Item/Color",description:"Sofa delivered in wrong color - ordered grey (kivitelben szrke), received beige.",reportedOn:"2025-11-05",status:"Pending Vendor Response",photos:[],aiActivated:!0,aiCommunicationLog:[{timestamp:"2025-11-05T09:15:00",sender:"AI",message:`Dear IKEA Customer Service,

We have an issue with order IK-ORD-001 for the 3-seater sofa (SKU: IK-SOFA-3).

Ordered: Grey color (kivitelben szrke)
Received: Beige color

Could you please advise on the exchange process? We need the correct grey sofa as per our original order.

Best regards,
Buy2Rent Procurement Team`},{timestamp:"2025-11-05T11:30:00",sender:"Vendor",message:`Hello,

Thank you for reporting this issue. We sincerely apologize for the color mix-up.

We have checked our inventory and the grey 3-seater sofa is currently in stock. We can arrange:

1. Pickup of the beige sofa: November 8th, 2025
2. Delivery of the correct grey sofa: November 12th, 2025

No additional charges will apply. We will send you a return label via email within 2 hours.

Reference Number: IKEA-EXCH-20251105-001

Best regards,
IKEA Hungary Customer Service`},{timestamp:"2025-11-05T11:45:00",sender:"AI",message:`Thank you for your prompt response and the proposed solution.

We confirm:
- Pickup of beige sofa: November 8th, 2025 
- Delivery of grey sofa: November 12th, 2025 
- Reference: IKEA-EXCH-20251105-001 

We will ensure the beige sofa is ready for pickup on the 8th. Please send the return label to our registered email address.

Thank you for your cooperation.

Best regards,
Buy2Rent Procurement Team`},{timestamp:"2025-11-05T14:20:00",sender:"Vendor",message:`Perfect! Return label has been sent to your email (info@buy2rent.com).

Pickup scheduled for November 8th between 10:00-14:00.
Delivery scheduled for November 12th between 9:00-13:00.

We have also applied a 10% courtesy discount on your next purchase as an apology for the inconvenience.

Thank you for your understanding!

IKEA Hungary`},{timestamp:"2025-11-05T14:25:00",sender:"AI",message:`Excellent! We have received the return label.

We appreciate the courtesy discount and your professional handling of this matter. Looking forward to receiving the correct grey sofa on November 12th.

Best regards,
Buy2Rent Procurement Team`}],resolutionStatus:"Resolution Agreed"}],activities:[{id:"act-001",apartmentId:"apt-001",timestamp:"2025-11-04T09:15:00",actor:"Admin",icon:"ShoppingCart",summary:'Product "Kanap  3 szemlyes" marked as Ordered',type:"product"},{id:"act-002",apartmentId:"apt-001",timestamp:"2025-11-04T14:30:00",actor:"Admin",icon:"CreditCard",summary:"Partial payment of 100,000 HUF logged for IKEA order (Outstanding: 149,998 HUF)",type:"payment"},{id:"act-003",apartmentId:"apt-001",timestamp:"2025-11-04T16:12:00",actor:"AI Assistant",icon:"Mail",summary:"AI emailed vendor Royalty Line about broken cookware set",type:"ai"},{id:"act-004",apartmentId:"apt-001",timestamp:"2025-11-04T11:45:00",actor:"John Doe",icon:"PackageCheck",summary:"Delivery received from Royalty Line - issue reported",type:"delivery"}],aiNotes:[{id:"ai-001",apartmentId:"apt-001",timestamp:"2025-11-04T16:12:00",sender:"AI",content:`Dear Royalty Line Team,

We received order RL-ORD-002 (Marble Cookware Set, SKU: RL-COOK-SET) on November 4th, 2025. Unfortunately, two pans arrived with cracked marble coating, rendering them unusable.

Kindly confirm the replacement or refund procedure at your earliest convenience.

Best regards,
Buy2Rent FPMS`,emailSubject:"Issue Report: Damaged Items - Order RL-ORD-002",relatedTo:"issue-001"}],manualNotes:{}}),ol=NBe(),gl=yBe()(jBe((e,t)=>({clients:ol.clients,apartments:ol.apartments,vendors:ol.vendors,products:ol.products,deliveries:ol.deliveries,payments:ol.payments,issues:ol.issues,activities:ol.activities,aiNotes:ol.aiNotes,manualNotes:ol.manualNotes,addClient:r=>e(n=>({clients:[...n.clients,{...r,id:`client-${Date.now()}`}]})),updateClient:(r,n)=>e(a=>({clients:a.clients.map(i=>i.id===r?{...i,...n}:i)})),deleteClient:r=>e(n=>({clients:n.clients.filter(a=>a.id!==r)})),getClient:r=>t().clients.find(n=>n.id===r),addVendor:r=>e(n=>({vendors:[...n.vendors,{...r,id:`vendor-${Date.now()}`}]})),updateVendor:(r,n)=>e(a=>({vendors:a.vendors.map(i=>i.id===r?{...i,...n}:i)})),deleteVendor:r=>e(n=>({vendors:n.vendors.filter(a=>a.id!==r)})),getVendor:r=>t().vendors.find(n=>n.id===r),getVendorByName:r=>t().vendors.find(n=>n.name.toLowerCase()===r.toLowerCase()),addApartment:r=>e(n=>({apartments:[...n.apartments,{...r,id:`apt-${Date.now()}`}]})),updateApartment:(r,n)=>e(a=>({apartments:a.apartments.map(i=>i.id===r?{...i,...n}:i)})),deleteApartment:r=>e(n=>({apartments:n.apartments.filter(a=>a.id!==r)})),getApartment:r=>t().apartments.find(n=>n.id===r),getApartmentsByType:r=>t().apartments.filter(n=>n.type===r),getApartmentsByClient:r=>t().apartments.filter(n=>n.clientId===r),addProduct:r=>e(n=>({products:[...n.products,{...r,id:`p-${Date.now()}`}]})),addProducts:r=>e(n=>({products:[...n.products,...r.map((a,i)=>({...a,id:`p-${Date.now()}-${i}`}))]})),updateProduct:(r,n)=>e(a=>({products:a.products.map(i=>i.id===r?{...i,...n}:i)})),deleteProduct:r=>e(n=>({products:n.products.filter(a=>a.id!==r)})),getProduct:r=>t().products.find(n=>n.id===r),getProductsByApartment:r=>t().products.filter(n=>n.apartmentId===r),addDelivery:r=>e(n=>({deliveries:[...n.deliveries,{...r,id:`del-${Date.now()}`}]})),updateDelivery:(r,n)=>e(a=>({deliveries:a.deliveries.map(i=>i.id===r?{...i,...n}:i)})),getDeliveriesByApartment:r=>t().deliveries.filter(n=>n.apartmentId===r),addPayment:r=>e(n=>({payments:[...n.payments,{...r,id:`pay-${Date.now()}`}]})),updatePayment:(r,n)=>e(a=>({payments:a.payments.map(i=>i.id===r?{...i,...n}:i)})),addPaymentToHistory:(r,n)=>e(a=>({payments:a.payments.map(i=>i.id===r?{...i,paymentHistory:[...i.paymentHistory,n],amountPaid:i.amountPaid+n.amount,lastPaymentDate:n.date,status:i.amountPaid+n.amount>=i.totalAmount?"Paid":"Partial"}:i)})),getPaymentsByApartment:r=>t().payments.filter(n=>n.apartmentId===r),addIssue:r=>e(n=>({issues:[...n.issues,{...r,id:`issue-${Date.now()}`}]})),updateIssue:(r,n)=>e(a=>({issues:a.issues.map(i=>i.id===r?{...i,...n}:i)})),getIssuesByApartment:r=>t().issues.filter(n=>n.apartmentId===r),addActivity:r=>e(n=>({activities:[...n.activities,{...r,id:`act-${Date.now()}`,timestamp:new Date().toISOString()}]})),getActivitiesByApartment:r=>t().activities.filter(n=>n.apartmentId===r).sort((n,a)=>new Date(a.timestamp).getTime()-new Date(n.timestamp).getTime()),addAINote:r=>e(n=>({aiNotes:[...n.aiNotes,{...r,id:`ai-${Date.now()}`,timestamp:new Date().toISOString()}]})),getAINotesByApartment:r=>t().aiNotes.filter(n=>n.apartmentId===r).sort((n,a)=>new Date(a.timestamp).getTime()-new Date(n.timestamp).getTime()),setManualNote:(r,n)=>e(a=>({manualNotes:{...a.manualNotes,[r]:n}})),getManualNote:r=>t().manualNotes[r]||""}),{name:"fpms-data-storage"})),uY=({open:e,onOpenChange:t,product:r,onIssueUpdated:n})=>{const a=gl(C=>C.getIssuesByApartment),i=gl(C=>C.addIssue),o=gl(C=>C.updateIssue),l=gl(C=>C.updateProduct),c=gl(C=>C.addActivity),d=gl(C=>C.addAINote),f=a(r.apartmentId).find(C=>C.id===r.issueId||C.productId===r.id),[h,m]=v.useState(""),[x,p]=v.useState("Broken/Damaged"),[g,b]=v.useState(!1),[y,j]=v.useState("Open");v.useEffect(()=>{f?(m(f.description),p(f.type),b(f.aiActivated||!1),j(f.resolutionStatus||"Open")):(m(""),p("Broken/Damaged"),b(!1),j("Open"))},[f,e]);const w=()=>{if(!h.trim()){Me.error("Please provide a description of the issue");return}if(f){o(f.id,{description:h,type:x,aiActivated:g,resolutionStatus:y});const C=g?"AI Resolving":y==="Closed"?"Resolved":"Issue Reported";l(r.id,{issueState:C}),Me.success("Issue updated")}else{const C={apartmentId:r.apartmentId,productId:r.id,productName:r.product,vendor:r.vendor,type:x,description:h,reportedOn:new Date().toISOString(),status:"Open",aiActivated:g,aiCommunicationLog:[],resolutionStatus:"Open"};i(C);const S=g?"AI Resolving":"Issue Reported";l(r.id,{issueState:S}),c({apartmentId:r.apartmentId,actor:"Admin",icon:"AlertCircle",summary:`Issue reported for "${r.product}": ${x}`,type:"issue"}),g&&setTimeout(()=>{d({apartmentId:r.apartmentId,sender:"AI",content:`Automatically analyzing issue with ${r.product}. Preparing vendor communication for ${r.vendor}...`})},500),Me.success("Issue created"+(g?" - AI activated":""))}n==null||n(),t(!1)},N=()=>{const C=!g;b(C),f&&C&&Me.info("AI Chatbot activated for this issue")},_=C=>{switch(C){case"Closed":return s.jsx(gn,{className:"h-4 w-4 text-success"});case"Resolution Agreed":return s.jsx(gn,{className:"h-4 w-4 text-primary"});case"Pending Vendor Response":return s.jsx(Vr,{className:"h-4 w-4 text-warning"});default:return s.jsx(Et,{className:"h-4 w-4 text-danger"})}};return s.jsx(bn,{open:e,onOpenChange:t,children:s.jsxs(dn,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs(wn,{children:[s.jsxs(jn,{children:["Issue Management - ",r.product]}),s.jsx(Xs,{children:"Report and track issues, activate AI assistance for automated vendor communication"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"issueType",children:"Issue Type"}),s.jsxs(nt,{value:x,onValueChange:C=>p(C),children:[s.jsx(et,{children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"Broken/Damaged",children:"Broken/Damaged"}),s.jsx(J,{value:"Wrong Item/Color",children:"Wrong Item/Color"}),s.jsx(J,{value:"Missing Parts",children:"Missing Parts"}),s.jsx(J,{value:"Incorrect Quantity",children:"Incorrect Quantity"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"description",children:"Detailed Description"}),s.jsx(ma,{id:"description",value:h,onChange:C=>m(C.target.value),placeholder:"Describe the issue in detail...",rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"resolutionStatus",children:"Resolution Status"}),s.jsxs(nt,{value:y,onValueChange:C=>j(C),children:[s.jsx(et,{children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"Open",children:"Open"}),s.jsx(J,{value:"Pending Vendor Response",children:"Pending Vendor Response"}),s.jsx(J,{value:"Resolution Agreed",children:"Resolution Agreed"}),s.jsx(J,{value:"Closed",children:"Closed"})]})]})]})]}),s.jsx(Tt,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ea,{className:"h-5 w-5 text-primary"}),s.jsx(H,{htmlFor:"aiActivated",className:"text-base font-semibold cursor-pointer",children:"Activate AI Chatbot for Resolution"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"AI will automatically communicate with vendor to resolve this issue"})]}),s.jsx(Nn,{id:"aiActivated",checked:g,onCheckedChange:N})]}),g&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[s.jsx(w9,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm font-medium",children:"AI Chatbot is active"}),s.jsxs(re,{size:"sm",variant:"outline",className:"ml-auto",onClick:()=>Me.info("AI chatbot paused for this issue"),children:[s.jsx(vne,{className:"h-3 w-3 mr-1"}),"Pause AI"]})]})]}),f&&f.aiCommunicationLog&&f.aiCommunicationLog.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(Tt,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(H,{className:"text-base font-semibold",children:"AI Communication Log"}),s.jsxs(Pe,{variant:"outline",children:[f.aiCommunicationLog.length," messages"]})]}),s.jsx(zc,{className:"h-64 border rounded-lg p-4",children:s.jsx("div",{className:"space-y-4",children:f.aiCommunicationLog.map((C,S)=>{const E=C.message.toLowerCase().includes("please arrange")||C.message.toLowerCase().includes("action required")||C.message.toLowerCase().includes("human action");return s.jsxs("div",{className:pe("flex gap-3 p-3 rounded-lg",C.sender==="AI"?"bg-primary/5":"bg-muted",E&&"border-2 border-warning shadow-sm"),children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:C.sender==="AI"?s.jsx(Ea,{className:"h-4 w-4 text-primary"}):C.sender==="Vendor"?s.jsx(Zn,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(Et,{className:"h-4 w-4 text-warning"})}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pe,{variant:C.sender==="AI"?"default":"outline",className:pe("text-xs",E&&"bg-warning text-warning-foreground"),children:C.sender}),E&&s.jsxs(Pe,{variant:"outline",className:"text-xs bg-warning/10 text-warning border-warning/50",children:[s.jsx(Et,{className:"h-3 w-3 mr-1"}),"Action Required"]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(C.timestamp).toLocaleString()})]}),s.jsx("p",{className:pe("text-sm whitespace-pre-wrap",E&&"font-medium"),children:C.message})]})]},S)})})}),f.aiCommunicationLog.some(C=>C.message.toLowerCase().includes("please arrange")||C.message.toLowerCase().includes("action required"))&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-warning/10 border border-warning/30 rounded-lg",children:[s.jsx(Et,{className:"h-5 w-5 text-warning"}),s.jsx("span",{className:"text-sm font-medium text-warning-foreground",children:"Human action required - please review the communication log above"})]})]})]}),f&&s.jsxs(s.Fragment,{children:[s.jsx(Tt,{}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[_(f.resolutionStatus),s.jsx("span",{className:"font-medium",children:"Current Status:"}),s.jsx(Pe,{children:f.resolutionStatus||"Open"})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Reported: ",new Date(f.reportedOn).toLocaleDateString()]})]})]})]}),s.jsxs(qo,{children:[s.jsx(re,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsxs(re,{onClick:w,children:[f?"Update":"Create"," Issue"]})]})]})})},_Be=({open:e,onOpenChange:t,product:r})=>{if(!r)return null;const n=a=>a!=null&&a.includes("DPD")?"bg-blue-500 text-white":a!=null&&a.includes("GLS")?"bg-yellow-500 text-black":a!=null&&a.includes("Sameday")?"bg-green-500 text-white":"bg-muted text-muted-foreground";return s.jsx(bn,{open:e,onOpenChange:t,children:s.jsxs(dn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(wn,{children:[s.jsxs(jn,{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-5 w-5 text-primary"}),"Delivery Location Details"]}),s.jsxs(Xs,{children:["Complete delivery information for ",r.product]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-start gap-4 p-4 bg-muted/50 rounded-lg",children:[r.product_image?s.jsx("img",{src:r.product_image,alt:r.product,className:"h-16 w-16 rounded object-cover"}):s.jsx("div",{className:"h-16 w-16 rounded bg-muted flex items-center justify-center",children:s.jsx(mt,{className:"h-8 w-8 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-lg",children:r.product}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["SKU: ",r.sku]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Vendor: ",r.vendor]})]})]}),s.jsx(Tt,{}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(yr,{className:"h-4 w-4 text-primary"}),s.jsx("h4",{className:"font-semibold",children:"Delivery Service"})]}),s.jsx(Pe,{className:n(r.deliveryType),variant:"secondary",children:r.deliveryType||"Not specified"}),r.trackingNumber&&s.jsxs("div",{className:"mt-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tracking Number:"}),s.jsx("span",{className:"ml-2 font-mono font-medium",children:r.trackingNumber})]})]}),s.jsx(Tt,{}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(ha,{className:"h-4 w-4 text-primary"}),s.jsx("h4",{className:"font-semibold",children:"Delivery Address"})]}),s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg space-y-2",children:[s.jsx("p",{className:"font-medium",children:r.deliveryAddress||"Not specified"}),r.deliveryCity&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.deliveryCity,", ",r.deliveryPostalCode||""]}),r.deliveryCountry&&s.jsx("p",{className:"text-sm text-muted-foreground",children:r.deliveryCountry})]})]}),s.jsx(Tt,{}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(mt,{className:"h-4 w-4 text-primary"}),s.jsx("h4",{className:"font-semibold",children:"How to Receive"})]}),s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg space-y-3",children:[r.deliveryInstructions?s.jsx("p",{className:"text-sm leading-relaxed",children:r.deliveryInstructions}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No special instructions"}),r.deliveryContactPerson&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Zn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),s.jsx("span",{className:"font-medium",children:r.deliveryContactPerson})]}),r.deliveryContactPhone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Wo,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:r.deliveryContactPhone})]}),r.deliveryContactEmail&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(yn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:r.deliveryContactEmail})]})]})]}),s.jsx(Tt,{}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Vr,{className:"h-4 w-4 text-primary"}),s.jsx("h4",{className:"font-semibold",children:"Delivery Schedule"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground mb-1",children:"Expected Delivery"}),s.jsx("p",{className:"font-medium",children:r.expectedDeliveryDate?new Date(r.expectedDeliveryDate).toLocaleDateString():"Not set"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground mb-1",children:"Actual Delivery"}),s.jsx("p",{className:"font-medium",children:r.actualDeliveryDate?new Date(r.actualDeliveryDate).toLocaleDateString():"Pending"})]}),r.deliveryTimeWindow&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("p",{className:"text-muted-foreground mb-1",children:"Time Window"}),s.jsx("p",{className:"font-medium",children:r.deliveryTimeWindow})]})]})]}),r.deliveryNotes&&s.jsxs(s.Fragment,{children:[s.jsx(Tt,{}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Additional Notes"}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed p-3 bg-muted/30 rounded",children:r.deliveryNotes})]})]})]})]})})},SBe=({open:e,onOpenChange:t,currentSku:r,productId:n,productName:a,onSkuUpdated:i})=>{const[o,l]=v.useState(r||""),[c,d]=v.useState(!1);v.useEffect(()=>{e&&l(r||"")},[e,r]);const u=async()=>{if(!o.trim()){Me.error("SKU cannot be empty");return}d(!0);try{i==null||i(o.trim()),t(!1)}catch(h){console.error("Error updating SKU:",h),Me.error("Failed to update SKU")}finally{d(!1)}},f=h=>{h.key==="Enter"&&!c&&u()};return s.jsx(bn,{open:e,onOpenChange:t,children:s.jsxs(dn,{className:"max-w-md",children:[s.jsxs(wn,{children:[s.jsxs(jn,{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"h-5 w-5"}),"Edit SKU"]}),s.jsxs(Xs,{children:['Update the SKU for "',a,'"']})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"sku",children:"SKU (Stock Keeping Unit)"}),s.jsx(ue,{id:"sku",value:o,onChange:h=>l(h.target.value),onKeyPress:f,placeholder:"Enter SKU code",className:"font-mono",autoFocus:!0,disabled:c}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter a unique identifier for this product"})]})}),s.jsxs(qo,{children:[s.jsx(re,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),s.jsxs(re,{onClick:u,disabled:c||!o.trim(),children:[c&&s.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}),"Save SKU"]})]})]})})},CBe=({open:e,onOpenChange:t,currentPrice:r,productId:n,productName:a,onPriceUpdated:i})=>{const[o,l]=v.useState((r==null?void 0:r.toString())||""),[c,d]=v.useState(!1);v.useEffect(()=>{if(e){const m=r?Math.round(parseFloat(r.toString())):0;l(m.toString())}},[e,r]);const u=async()=>{const m=parseInt(o);if(!o.trim()||isNaN(m)){Me.error("Please enter a valid price");return}if(m<0){Me.error("Price cannot be negative");return}d(!0);try{i==null||i(m.toString()),t(!1)}catch(x){console.error("Error updating unit price:",x),Me.error("Failed to update unit price")}finally{d(!1)}},f=m=>{m.key==="Enter"&&!c&&u()},h=m=>{const x=m.target.value;(x===""||/^\d+$/.test(x))&&l(x)};return s.jsx(bn,{open:e,onOpenChange:t,children:s.jsxs(dn,{className:"max-w-md",children:[s.jsxs(wn,{children:[s.jsxs(jn,{className:"flex items-center gap-2",children:[s.jsx(Rr,{className:"h-5 w-5"}),"Edit Unit Price"]}),s.jsxs(Xs,{children:['Update the unit price for "',a,'"']})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"price",children:"Unit Price (HUF)"}),s.jsxs("div",{className:"relative",children:[s.jsx(ue,{id:"price",value:o,onChange:h,onKeyPress:f,placeholder:"Enter unit price",className:"pr-12",autoFocus:!0,disabled:c,type:"text",inputMode:"numeric"}),s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground",children:"HUF"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the price per unit in Hungarian Forint (whole numbers only)"})]})}),s.jsxs(qo,{children:[s.jsx(re,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),s.jsxs(re,{onClick:u,disabled:c||!o.trim()||isNaN(parseInt(o)),children:[c&&s.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Price"]})]})]})})},EBe=({open:e,onOpenChange:t,currentQuantity:r,productId:n,productName:a,onQuantityUpdated:i})=>{const[o,l]=v.useState((r==null?void 0:r.toString())||"1"),[c,d]=v.useState(!1);v.useEffect(()=>{e&&l((r==null?void 0:r.toString())||"1")},[e,r]);const u=async()=>{const p=parseInt(o);if(!o.trim()||isNaN(p)){Me.error("Please enter a valid quantity");return}if(p<=0){Me.error("Quantity must be greater than 0");return}d(!0);try{i==null||i(o.trim()),t(!1)}catch(g){console.error("Error updating quantity:",g),Me.error("Failed to update quantity")}finally{d(!1)}},f=p=>{p.key==="Enter"&&!c&&u()},h=p=>{const g=p.target.value;(g===""||/^\d+$/.test(g))&&l(g)},m=()=>{const p=parseInt(o)||0;l((p+1).toString())},x=()=>{const p=parseInt(o)||0;p>1&&l((p-1).toString())};return s.jsx(bn,{open:e,onOpenChange:t,children:s.jsxs(dn,{className:"max-w-md",children:[s.jsxs(wn,{children:[s.jsxs(jn,{className:"flex items-center gap-2",children:[s.jsx(Xj,{className:"h-5 w-5"}),"Edit Quantity"]}),s.jsxs(Xs,{children:['Update the quantity for "',a,'"']})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"quantity",children:"Quantity"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(re,{type:"button",variant:"outline",size:"icon",onClick:x,disabled:c||parseInt(o)<=1,children:"-"}),s.jsx(ue,{id:"quantity",value:o,onChange:h,onKeyPress:f,placeholder:"Enter quantity",className:"text-center",autoFocus:!0,disabled:c,type:"text",inputMode:"numeric"}),s.jsx(re,{type:"button",variant:"outline",size:"icon",onClick:m,disabled:c,children:"+"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the number of units to order"})]})}),s.jsxs(qo,{children:[s.jsx(re,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),s.jsxs(re,{onClick:u,disabled:c||!o.trim()||parseInt(o)<=0,children:[c&&s.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Quantity"]})]})]})})},ABe=()=>{var qe;const{id:e}=so(),t=cr(),{toast:r}=pr(),{data:n,isLoading:a,error:i}=j4(e||null),{data:o,isLoading:l,error:c,refetch:d}=h6e(e||null),u=o||[],f=p6e(),h=NX(),[m,x]=v.useState({open:!1,id:"",name:"",apartmentId:""}),p=z=>{const je=z.getFullYear(),ut=String(z.getMonth()+1).padStart(2,"0"),vt=String(z.getDate()).padStart(2,"0");return`${je}-${ut}-${vt}`},g=[],b=[],y="";v.useState("");const[j,w]=v.useState(y),[N,_]=v.useState(!1),[C,S]=v.useState(!1),[E,P]=v.useState(""),[I,D]=v.useState(""),[U,F]=v.useState(!1),[M,O]=v.useState(null),[A,k]=v.useState(!1),[W,fe]=v.useState(null),[de,T]=v.useState(!1),[L,R]=v.useState(null),[K,q]=v.useState(!1),[Z,X]=v.useState(null),[ee,ie]=v.useState(!1),[be,he]=v.useState(null),Ge=(z,je)=>{x({open:!0,id:z,name:je,apartmentId:e||""})},ke=async()=>{try{await f.mutateAsync({id:m.id,name:m.name,apartmentId:m.apartmentId}),x({open:!1,id:"",name:"",apartmentId:""})}catch{x({open:!1,id:"",name:"",apartmentId:""})}};if(a)return s.jsx(yt,{title:"Loading...",children:s.jsx("div",{className:"container mx-auto py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Do,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground",children:"Loading apartment details..."})]})})});if(i)return s.jsx(yt,{title:"Error",children:s.jsx("div",{className:"container mx-auto py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Et,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),s.jsx("h2",{className:"text-2xl font-semibold text-destructive mb-2",children:"Error loading apartment"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Unable to fetch apartment details. Please try again."}),s.jsxs(re,{onClick:()=>t("/apartments"),className:"mt-4",children:[s.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back to Apartments"]})]})})});if(!n)return s.jsx(yt,{title:"Not Found",children:s.jsx("div",{className:"container mx-auto py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground",children:"Apartment not found"}),s.jsxs(re,{onClick:()=>t("/apartments"),className:"mt-4",children:[s.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back to Apartments"]})]})})});const bt=()=>{window.confirm(`Are you sure you want to delete "${n.name}"?`)&&(r({title:"Success",description:"Apartment deleted successfully"}),t("/apartments"))},rt=()=>{r({title:"Success",description:"Note saved"})},Oe=async(z,je)=>{try{await h.mutateAsync({id:z,data:je}),d()}catch{r({title:"Error",description:"Failed to update product",variant:"destructive"})}},G=u.length,ce=u.filter(z=>Array.isArray(z.status)&&z.status.some(je=>["Ordered","Shipped","Delivered"].includes(je))).length,xe=u.filter(z=>Array.isArray(z.status)&&z.status.includes("Delivered")).length,ve=u.filter(z=>z.issue_state&&!["No Issue","Resolved"].includes(z.issue_state)).length,ge=u.reduce((z,je)=>z+parseFloat(je.unit_price)*je.qty,0),Ae=u.reduce((z,je)=>z+parseFloat(je.payment_amount||"0"),0),ae=u.reduce((z,je)=>z+parseFloat(je.paid_amount||"0"),0),we=Ae-ae,lt=u.filter(z=>{if(!z.payment_due_date||!z.payment_amount)return!1;const je=parseFloat(z.payment_amount||"0")-parseFloat(z.paid_amount||"0");return new Date(z.payment_due_date)<new Date&&je>0}).length,Je=z=>{const je=z.toLowerCase();return je.includes("delivered")||je.includes("closed")||je.includes("paid")||je.includes("completed")?"bg-green-500/10 text-green-500":je.includes("issue")||je.includes("damaged")||je.includes("wrong")||je.includes("missing")||je.includes("overdue")?"bg-red-500/10 text-red-500":je.includes("waiting")||je.includes("pending")||je.includes("partial")?"bg-yellow-500/10 text-yellow-500":je.includes("ordered")||je.includes("shipped")||je.includes("transit")||je.includes("ordering")?"bg-blue-500/10 text-blue-500":je.includes("planning")?"bg-purple-500/10 text-purple-500":"bg-gray-500/10 text-gray-500"};return s.jsxs(yt,{title:n.name,children:[s.jsx("div",{className:"mb-6 flex items-center gap-3",children:s.jsx(Ni,{children:s.jsxs(_i,{children:[s.jsx(fr,{children:s.jsx(Mn,{asChild:!0,children:s.jsx(Ji,{to:"/apartments",children:"Apartments"})})}),s.jsx(Fn,{}),s.jsx(fr,{children:s.jsx(Si,{children:n.name})})]})})}),s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4 mb-4",children:[s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>t("/apartments"),className:"flex items-center gap-1",children:s.jsx(sr,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-3",children:n.name}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx(Pe,{className:n.type==="furnishing"?"bg-primary":"bg-accent",children:n.type==="furnishing"?"Furnishing":"Renovating"}),s.jsx(Pe,{className:Je(n.status),children:n.status})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>t(`/apartments/${n.id}/edit`),children:[s.jsx(Hs,{className:"mr-2 h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),s.jsxs(re,{variant:"destructive",size:"sm",onClick:bt,children:[s.jsx(Xr,{className:"mr-2 h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]})}),s.jsxs(nl,{defaultValue:"overview",className:"space-y-6",children:[s.jsx("div",{className:"overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0",children:s.jsxs(co,{className:"grid w-full grid-cols-4 min-w-[600px] sm:min-w-0 lg:w-auto lg:inline-grid",children:[s.jsx(Gt,{value:"overview",className:"text-xs sm:text-sm",children:"Overview"}),s.jsx(Gt,{value:"products",className:"text-xs sm:text-sm",children:"Products & Procurement logs"}),s.jsx(Gt,{value:"notes",className:"text-xs sm:text-sm",children:"Notes (AI)"}),s.jsx(Gt,{value:"activity",className:"text-xs sm:text-sm",children:"Activity"})]})}),s.jsxs(Zt,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(oe,{children:[s.jsx(Fe,{className:"pb-3",children:s.jsxs($e,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(mt,{className:"h-4 w-4 text-primary"}),"Total Items"]})}),s.jsxs(le,{children:[s.jsx("div",{className:"text-2xl font-bold",children:G}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[ce," ordered, ",xe," delivered"]})]})]}),s.jsxs(oe,{children:[s.jsx(Fe,{className:"pb-3",children:s.jsxs($e,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx($o,{className:"h-4 w-4 text-success"}),"Total Order Value"]})}),s.jsx(le,{children:s.jsxs("div",{className:"text-2xl font-bold",children:[ge.toLocaleString()," HUF"]})})]}),s.jsxs(oe,{children:[s.jsx(Fe,{className:"pb-3",children:s.jsxs($e,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Rr,{className:"h-4 w-4 text-warning"}),"Outstanding Balance"]})}),s.jsxs(le,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[we.toLocaleString()," HUF"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Paid: ",ae.toLocaleString()," HUF"]})]})]}),s.jsxs(oe,{children:[s.jsx(Fe,{className:"pb-3",children:s.jsxs($e,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Et,{className:"h-4 w-4 text-red-500"}),"Open Issues"]})}),s.jsxs(le,{children:[s.jsx("div",{className:"text-2xl font-bold",children:ve}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[lt," overdue payments"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(oe,{className:"lg:col-span-2",children:[s.jsx(Fe,{children:s.jsx($e,{children:"Apartment Details"})}),s.jsx(le,{className:"space-y-3",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Client"}),s.jsx("p",{className:"font-medium",children:((qe=n.client_details)==null?void 0:qe.name)||n.owner||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Designer"}),s.jsx("p",{className:"font-medium",children:n.designer||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Address"}),s.jsx("p",{className:"font-medium",children:n.address})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Status"}),s.jsx("p",{className:"font-medium",children:n.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Start Date"}),s.jsx("p",{className:"font-medium",children:n.start_date?new Date(n.start_date).toLocaleDateString():"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Due Date"}),s.jsx("p",{className:"font-medium",children:n.due_date?new Date(n.due_date).toLocaleDateString():"N/A"})]})]})})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsx($e,{children:"Recent Activity"})}),s.jsx(le,{children:s.jsxs("div",{className:"space-y-3",children:[g.slice(0,5).map(z=>s.jsxs("div",{className:"flex gap-3 text-sm",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:s.jsx(gn,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(z.timestamp).toLocaleString()}),s.jsx("p",{className:"leading-tight",children:z.summary})]})]},z.id)),g.length===0&&s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No activity yet"})]})})]})]})]}),s.jsxs(Zt,{value:"products",className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[s.jsxs("h2",{className:"text-lg sm:text-xl font-semibold",children:["Product & Procurement Log (",u.length,")"]}),s.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[s.jsxs(re,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",onClick:()=>t(`/products/import?apartmentId=${e}`),children:[s.jsx(kl,{className:"mr-2 h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Import Excel/CSV"}),s.jsx("span",{className:"sm:hidden",children:"Import"})]}),s.jsxs(re,{size:"sm",className:"flex-1 sm:flex-none",onClick:()=>t(`/products/new?apartmentId=${e}`),children:[s.jsx(An,{className:"mr-2 h-4 w-4"}),"Add Product"]})]})]}),l?s.jsx(oe,{children:s.jsxs(le,{className:"py-12 text-center",children:[s.jsx(Do,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4 animate-spin"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Loading products..."})]})}):u.length===0?s.jsx(oe,{children:s.jsxs(le,{className:"py-12 text-center",children:[s.jsx(mt,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No products yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first furniture item to get started"}),s.jsxs(re,{onClick:()=>t(`/products/new?apartmentId=${e}`),children:[s.jsx(An,{className:"mr-2 h-4 w-4"}),"Add Product"]})]})}):s.jsx(oe,{children:s.jsx(le,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ds,{children:[s.jsx(us,{children:s.jsxs(Rt,{children:[s.jsx(Ee,{className:"w-16",children:"Image"}),s.jsx(Ee,{children:"Product Name"}),s.jsx(Ee,{children:"Vendor"}),s.jsx(Ee,{children:"SKU"}),s.jsx(Ee,{className:"text-right",children:"Unit Price"}),s.jsx(Ee,{className:"text-center",children:"Qty"}),s.jsx(Ee,{className:"text-right",children:"Total"}),s.jsx(Ee,{children:"Product Status"}),s.jsx(Ee,{children:"Delivery Status"}),s.jsx(Ee,{children:"Expected Delivery"}),s.jsx(Ee,{children:"Delivery Location"}),s.jsx(Ee,{children:"Actual Delivery"}),s.jsx(Ee,{children:"Payment Status"}),s.jsx(Ee,{children:"Payment Due"}),s.jsx(Ee,{children:"Issue State"}),s.jsx(Ee,{children:"Actions / Chatbot"}),s.jsx(Ee,{children:"Ordered On"}),s.jsx(Ee,{className:"text-right",children:"Actions"})]})}),s.jsx(fs,{children:u.map(z=>{const je=Array.isArray(z.status)?z.status:[],ut=je.includes("Delivered")||je.includes("Closed")?"bg-green-500/5":je.includes("Damaged")||je.includes("Wrong Item")||je.includes("Missing")?"bg-red-500/5":je.includes("Shipped")||je.includes("Ordered")?"bg-blue-500/5":je.includes("Waiting For Stock")?"bg-yellow-500/5":"",vt=parseFloat(z.payment_amount||"0")-parseFloat(z.paid_amount||"0");return s.jsxs(Rt,{className:ut,children:[s.jsx(ye,{children:z.product_image?s.jsx("img",{src:z.product_image,alt:z.product,className:"h-10 w-10 rounded object-cover"}):s.jsx("div",{className:"h-10 w-10 rounded bg-muted flex items-center justify-center",children:s.jsx(ff,{className:"h-5 w-5 text-muted-foreground"})})}),s.jsx(ye,{children:z.link?s.jsxs("a",{href:z.link,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-primary hover:underline flex items-center gap-1 cursor-pointer",title:"Click to view product page",children:[z.product,s.jsx(Kj,{className:"h-3 w-3 flex-shrink-0"})]}):s.jsx("span",{className:"font-medium text-muted-foreground",children:z.product})}),s.jsx(ye,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(re,{variant:"link",className:"p-0 h-auto text-primary hover:underline",onClick:()=>{P(z.vendor_name||"Not Assigned"),D(z.id),S(!1),_(!0)},children:z.vendor_name||s.jsx("span",{className:"text-muted-foreground italic",children:"Not Assigned"})}),s.jsx(re,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{P(z.vendor_name||"Not Assigned"),D(z.id),S(!0),_(!0)},children:s.jsx(u0,{className:"h-3 w-3"})})]})}),s.jsx(ye,{children:s.jsx(re,{variant:"link",className:"p-0 h-auto font-mono text-xs text-primary hover:underline",onClick:()=>{R(z),T(!0)},children:z.sku||s.jsx("span",{className:"text-muted-foreground italic",children:"Add SKU"})})}),s.jsx(ye,{className:"text-right",children:s.jsxs(re,{variant:"link",className:"p-0 h-auto text-primary hover:underline",onClick:()=>{X(z),q(!0)},children:[parseFloat(z.unit_price).toLocaleString()," HUF"]})}),s.jsx(ye,{className:"text-center",children:(()=>{const Ye=z.order_status_info&&z.order_status_info.length>0?z.order_status_info.reduce(($t,Pr)=>$t+(Pr.quantity||0),0):0;return Ye>0?s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx("span",{className:"font-semibold",children:Ye}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(ordered)"})]}):s.jsx(re,{variant:"link",className:"p-0 h-auto text-primary hover:underline",onClick:()=>{he(z),ie(!0)},children:z.qty})})()}),s.jsx(ye,{className:"text-right font-semibold",children:(()=>{const Ye=z.order_status_info&&z.order_status_info.length>0?z.order_status_info.reduce((Dr,wr)=>Dr+(wr.quantity||0),0):0,$t=Ye>0?Ye:z.qty;return`${(parseFloat(z.unit_price)*$t).toLocaleString()} HUF`})()}),s.jsx(ye,{children:s.jsx("div",{className:"space-y-1 min-w-[200px]",children:z.order_status_info&&z.order_status_info.length>0?z.order_status_info.map((Ye,$t)=>s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Pe,{variant:Ye.status==="sent"?"default":"outline",className:"text-xs",children:Ye.status==="draft"?"Draft":Ye.status==="sent"?"Sent":Ye.status}),s.jsx("a",{href:`/orders/${Ye.order_id}`,className:"text-xs text-primary hover:underline",title:`View order ${Ye.po_number}`,children:Ye.po_number}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(Qty: ",Ye.quantity,")"]})]},$t)):s.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Not ordered yet"})})}),s.jsx(ye,{children:s.jsx("div",{className:"space-y-1 min-w-[200px]",children:z.delivery_status_info&&z.delivery_status_info.length>0?z.delivery_status_info.map((Ye,$t)=>s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Pe,{variant:Ye.status==="Received"?"default":Ye.status==="Returned"?"destructive":Ye.status==="In Transit"||Ye.status==="Delayed"?"secondary":"outline",className:pe("text-xs",Ye.status==="Received"&&"bg-green-500/10 text-green-500",Ye.status==="In Transit"&&"bg-blue-500/10 text-blue-500",Ye.status==="Confirmed"&&"bg-yellow-500/10 text-yellow-500",Ye.status==="Delayed"&&"bg-orange-500/10 text-orange-500",Ye.status==="Returned"&&"bg-red-500/10 text-red-500"),children:Ye.status}),s.jsx("a",{href:"/deliveries",className:"text-xs text-primary hover:underline",title:`View delivery ${Ye.order_reference}`,children:Ye.order_reference}),Ye.tracking_number&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(Track: ",Ye.tracking_number,")"]}),Ye.expected_date&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["ETA: ",new Date(Ye.expected_date).toLocaleDateString()]})]},$t)):s.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})})}),s.jsx(ye,{children:s.jsx("div",{className:"space-y-1",children:z.order_status_info&&z.order_status_info.length>0?z.order_status_info.map((Ye,$t)=>Ye.expected_delivery?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tn,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs",children:Qt(new Date(Ye.expected_delivery),"PP")})]},$t):null):s.jsxs(Jw,{children:[s.jsx(ej,{asChild:!0,children:s.jsxs(re,{variant:"outline",size:"sm",className:pe("w-[140px] justify-start text-left font-normal",!z.expected_delivery_date&&"text-muted-foreground"),children:[s.jsx(tn,{className:"mr-2 h-3 w-3"}),z.expected_delivery_date?Qt(new Date(z.expected_delivery_date),"PP"):"Pick date"]})}),s.jsx(Fv,{className:"w-auto p-0",align:"start",children:s.jsx(DP,{mode:"single",selected:z.expected_delivery_date?new Date(z.expected_delivery_date):void 0,onSelect:Ye=>{Ye&&(Oe(z.id,{expected_delivery_date:p(Ye)}),r({title:"Success",description:"Expected delivery date updated"}))},initialFocus:!0})})]})})}),s.jsx(ye,{children:s.jsx("div",{className:"space-y-1",children:z.order_status_info&&z.order_status_info.length>0&&z.order_status_info.some(Ye=>Ye.shipping_address)?z.order_status_info.map((Ye,$t)=>Ye.shipping_address?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"text-xs line-clamp-2",children:Ye.shipping_address})]},$t):null):s.jsxs(s.Fragment,{children:[z.delivery_status_info&&z.delivery_status_info.length>0?z.delivery_status_info.map((Ye,$t)=>Ye.location?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"text-xs line-clamp-2",children:Ye.location})]},$t):null):null,(!z.delivery_status_info||z.delivery_status_info.length===0||!z.delivery_status_info.some(Ye=>Ye.location))&&(z.delivery_address||z.delivery_city?s.jsxs(re,{variant:"link",size:"sm",onClick:()=>{fe(z),k(!0)},className:"p-0 h-auto text-primary hover:underline flex items-center gap-1 text-left",children:[s.jsx(ha,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{className:"line-clamp-2",children:z.delivery_city?`${z.delivery_city}${z.delivery_address?", "+z.delivery_address.split(",")[0]:""}`:z.delivery_address})]}):s.jsx("span",{className:"text-xs text-muted-foreground",children:"Not set"}))]})})}),s.jsx(ye,{children:s.jsx("div",{className:"space-y-1",children:z.delivery_status_info&&z.delivery_status_info.length>0?s.jsx(s.Fragment,{children:z.delivery_status_info.map((Ye,$t)=>Ye.actual_date?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tn,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-xs",children:Qt(new Date(Ye.actual_date),"PP")})]},$t):null)}):s.jsxs(Jw,{children:[s.jsx(ej,{asChild:!0,children:s.jsxs(re,{variant:"outline",size:"sm",className:pe("w-[140px] justify-start text-left font-normal",!z.actual_delivery_date&&"text-muted-foreground"),children:[s.jsx(tn,{className:"mr-2 h-3 w-3"}),z.actual_delivery_date?Qt(new Date(z.actual_delivery_date),"PP"):"Pick date"]})}),s.jsx(Fv,{className:"w-auto p-0",align:"start",children:s.jsx(DP,{mode:"single",selected:z.actual_delivery_date?new Date(z.actual_delivery_date):void 0,onSelect:Ye=>{Ye&&(Oe(z.id,{actual_delivery_date:p(Ye)}),r({title:"Success",description:"Actual delivery date updated"}))},initialFocus:!0})})]})})}),s.jsx(ye,{children:z.payment_status_from_orders?s.jsx(Pe,{variant:z.payment_status_from_orders==="Paid"?"default":z.payment_status_from_orders==="Partially Paid"?"secondary":"outline",className:z.payment_status_from_orders==="Paid"?"bg-green-500/10 text-green-500":z.payment_status_from_orders==="Partially Paid"?"bg-yellow-500/10 text-yellow-500":"bg-red-500/10 text-red-500",children:z.payment_status_from_orders}):s.jsx(Pe,{variant:"outline",className:"bg-gray-500/10 text-gray-500",children:"Unpaid"})}),s.jsx(ye,{children:s.jsx("div",{className:"space-y-1",children:z.payment_due_date?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-xs",children:new Date(z.payment_due_date).toLocaleDateString()}),vt>0&&s.jsxs("div",{className:"text-xs text-red-500 font-medium",children:["Balance: ",vt.toLocaleString()," HUF"]})]}):"-"})}),s.jsx(ye,{children:z.issue_status_info&&z.issue_status_info.status!=="No Issue"?s.jsx("div",{className:"text-xs text-gray-700",children:z.issue_status_info.type||"Issue reported"}):s.jsx(Pe,{variant:"outline",className:"bg-green-500/10 text-green-500 text-xs",children:"No Issue"})}),s.jsx(ye,{children:s.jsxs(re,{size:"sm",variant:z.issue_state&&z.issue_state!=="No Issue"?"default":"outline",onClick:()=>{O(z),F(!0)},className:pe(z.issue_state==="AI Resolving"&&"animate-pulse"),children:[s.jsx(Ea,{className:pe("mr-1 h-3 w-3",z.issue_state==="AI Resolving"&&"animate-spin")}),z.issue_state==="AI Resolving"?"AI Active":z.issue_state&&z.issue_state!=="No Issue"?"Manage Issue":"Report Issue"]})}),s.jsx(ye,{children:z.ordered_on?new Date(z.ordered_on).toLocaleDateString():"-"}),s.jsx(ye,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(re,{size:"sm",variant:"ghost",onClick:()=>t(`/products/${z.id}`),children:s.jsx(Da,{className:"h-4 w-4"})}),s.jsx(re,{size:"sm",variant:"ghost",onClick:()=>t(`/products/${z.id}/edit`),children:s.jsx(Hs,{className:" h-4 w-4"})}),s.jsx(re,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",onClick:()=>Ge(z.id,z.product),children:s.jsx(Xr,{className:"h-4 w-4"})})]})})]},z.id)})})]})})})})]}),s.jsx(Zt,{value:"notes",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(oe,{children:[s.jsxs(Fe,{children:[s.jsx($e,{children:"Manual Notes"}),s.jsx(Lr,{children:"Add observations or notes about this apartment"})]}),s.jsxs(le,{className:"space-y-4",children:[s.jsx(ma,{value:j,onChange:z=>w(z.target.value),rows:10,placeholder:"Enter your notes here..."}),s.jsx(re,{onClick:rt,children:"Save Note"})]})]}),s.jsxs(oe,{children:[s.jsxs(Fe,{children:[s.jsx($e,{children:"AI & Vendor Communication"}),s.jsx(Lr,{children:"AI-generated emails and vendor correspondence"})]}),s.jsx(le,{children:s.jsxs("div",{className:"space-y-4",children:[b.map(z=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pe,{variant:z.sender==="AI"?"default":"outline",children:z.sender}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(z.timestamp).toLocaleString()})]})}),z.emailSubject&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Subject:"}),s.jsx("p",{className:"font-medium text-sm",children:z.emailSubject})]}),s.jsx("div",{className:"text-sm whitespace-pre-wrap bg-muted/30 p-3 rounded",children:z.content})]},z.id)),b.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No AI communications yet"})]})})]})]})}),s.jsxs(Zt,{value:"activity",className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Activity Timeline"}),s.jsx(oe,{children:s.jsx(le,{className:"pt-6",children:s.jsxs("div",{className:"space-y-4",children:[g.map(z=>s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:[z.icon==="ShoppingCart"&&s.jsx(mt,{className:"h-5 w-5 text-primary"}),z.icon==="CreditCard"&&s.jsx(Rr,{className:"h-5 w-5 text-primary"}),z.icon==="Mail"&&s.jsx(yn,{className:"h-5 w-5 text-primary"}),z.icon==="PackageCheck"&&s.jsx(gn,{className:"h-5 w-5 text-primary"}),z.icon==="Package"&&s.jsx(mt,{className:"h-5 w-5 text-primary"})]})}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-medium text-sm",children:z.summary}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(z.timestamp).toLocaleString()})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",z.actor]})]})]},z.id)),g.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No activity recorded yet"})]})})})]})]}),s.jsx(cBe,{open:N,onOpenChange:_,vendorName:E,productId:I,openInEditMode:C,onVendorUpdated:(z,je)=>{Oe(I,{vendor:z,vendor_name:je}),r({title:"Vendor Updated",description:`Product vendor changed to ${je}`}),d()}}),M&&s.jsx(uY,{open:U,onOpenChange:F,product:M,onIssueUpdated:()=>{}}),s.jsx(_Be,{open:A,onOpenChange:k,product:W}),L&&s.jsx(SBe,{open:de,onOpenChange:T,currentSku:L.sku||"",productId:L.id,productName:L.product,onSkuUpdated:z=>{Oe(L.id,{sku:z}),r({title:"Success",description:"SKU updated successfully"}),d()}}),Z&&s.jsx(CBe,{open:K,onOpenChange:q,currentPrice:Z.unit_price||"0",productId:Z.id,productName:Z.product,onPriceUpdated:z=>{Oe(Z.id,{unit_price:z}),r({title:"Success",description:"Unit price updated successfully"}),d()}}),be&&s.jsx(EBe,{open:ee,onOpenChange:ie,currentQuantity:be.qty||"1",productId:be.id,productName:be.product,onQuantityUpdated:z=>{Oe(be.id,{qty:z}),r({title:"Success",description:"Quantity updated successfully"}),d()}}),s.jsx(Gl,{open:m.open,onOpenChange:z=>!z&&x({open:!1,id:"",name:"",apartmentId:""}),children:s.jsxs(Xo,{children:[s.jsx(Yo,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-destructive/10",children:s.jsx(Xr,{className:"h-5 w-5 text-destructive"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Zo,{children:"Delete Product"}),s.jsxs(Jo,{children:['Are you sure you want to delete "',m.name,'"? This action cannot be undone.']})]})]})}),s.jsxs(Qo,{children:[s.jsx(tl,{onClick:()=>x({open:!1,id:"",name:"",apartmentId:""}),children:"Cancel"}),s.jsx(el,{onClick:ke,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",autoFocus:!0,children:"Delete"})]})]})})]})},PBe=()=>{const{id:e}=so(),t=cr(),{toast:r}=pr(),{data:n,isLoading:a,error:i}=j4(e||null),{data:o,isLoading:l}=S_({}),c=(o==null?void 0:o.results)||[],d=X$e(),[u,f]=v.useState({name:"",type:"furnishing",client:"",address:"",designer:"",status:"Planning",start_date:"",due_date:"",notes:"",progress:0}),[h,m]=v.useState({});if(v.useEffect(()=>{n&&f({name:n.name,type:n.type,client:n.client||n.client_id||"",address:n.address,designer:n.designer,status:n.status,start_date:n.start_date,due_date:n.due_date,notes:n.notes||"",progress:n.progress})},[n]),a)return s.jsx(yt,{title:"Loading...",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Xt,{className:"h-8 w-64"}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsx(Xt,{className:"h-6 w-48"})}),s.jsxs(le,{className:"space-y-4",children:[s.jsx(Xt,{className:"h-10 w-full"}),s.jsx(Xt,{className:"h-10 w-full"}),s.jsx(Xt,{className:"h-10 w-full"})]})]})]})});if(i||!n)return s.jsx(yt,{title:"Apartment Not Found",children:s.jsx(oe,{children:s.jsxs(le,{className:"py-8",children:[s.jsx("p",{className:"text-center text-muted-foreground",children:"Apartment not found"}),s.jsx("div",{className:"flex justify-center mt-4",children:s.jsx(re,{onClick:()=>t("/apartments"),children:"Back to Apartments"})})]})})});const x=()=>{const g={};return u.name.trim()||(g.name="Apartment name is required"),u.client||(g.client="Client selection is required"),u.address.trim()||(g.address="Address is required"),u.designer.trim()||(g.designer="Designer is required"),u.start_date||(g.start_date="Start date is required"),u.due_date||(g.due_date="Due date is required"),u.start_date&&u.due_date&&new Date(u.due_date)<new Date(u.start_date)&&(g.due_date="Due date must be after start date"),m(g),Object.keys(g).length===0},p=async g=>{var b,y;if(g.preventDefault(),!x()){r({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{await d.mutateAsync({id:n.id,data:u}),t("/apartments")}catch(j){r({title:"Error",description:((y=(b=j.response)==null?void 0:b.data)==null?void 0:y.message)||"Failed to update apartment. Please try again.",variant:"destructive"})}};return s.jsx(yt,{title:"Edit Apartment",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ni,{children:s.jsxs(_i,{children:[s.jsx(fr,{children:s.jsx(Mn,{href:"/apartments",children:"Apartments"})}),s.jsx(Fn,{}),s.jsx(fr,{children:s.jsx(Mn,{href:`/apartments/${n.id}`,children:n.name})}),s.jsx(Fn,{}),s.jsx(fr,{children:s.jsx(Si,{children:"Edit"})})]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(re,{variant:"ghost",size:"icon",onClick:()=>t(`/apartments/${n.id}`),children:s.jsx(sr,{className:"h-4 w-4"})}),s.jsx("h1",{className:"text-3xl font-bold",children:"Edit Apartment"})]}),s.jsx("form",{onSubmit:p,children:s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsx($e,{children:"Apartment Details"})}),s.jsxs(le,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"name",children:"Apartment Name *"}),s.jsx(ue,{id:"name",value:u.name,onChange:g=>f({...u,name:g.target.value}),placeholder:"Izabella utca 3  A/12"}),h.name&&s.jsx("p",{className:"text-sm text-destructive",children:h.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Type *"}),s.jsx(S4,{value:u.type,onValueChange:g=>f({...u,type:g}),children:s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mv,{value:"furnishing",id:"furnishing"}),s.jsx(H,{htmlFor:"furnishing",className:"font-normal cursor-pointer",children:"Furnishing"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Mv,{value:"renovating",id:"renovating"}),s.jsx(H,{htmlFor:"renovating",className:"font-normal cursor-pointer",children:"Renovating"})]})]})})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"client",children:"Client/Owner *"}),s.jsxs(nt,{value:u.client,onValueChange:g=>f({...u,client:g}),disabled:l,children:[s.jsx(et,{id:"client",children:s.jsx(st,{placeholder:l?"Loading clients...":"Select client"})}),s.jsx(tt,{children:c.map(g=>s.jsxs(J,{value:g.id,children:[g.name," - ",g.type]},g.id))})]}),h.client&&s.jsx("p",{className:"text-sm text-destructive",children:h.client})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"designer",children:"Assigned Designer *"}),s.jsx(ue,{id:"designer",value:u.designer,onChange:g=>f({...u,designer:g.target.value}),placeholder:"Enter designer name"}),h.designer&&s.jsx("p",{className:"text-sm text-destructive",children:h.designer})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"address",children:"Address *"}),s.jsx(ue,{id:"address",value:u.address,onChange:g=>f({...u,address:g.target.value}),placeholder:"Izabella u. 3, Budapest"}),h.address&&s.jsx("p",{className:"text-sm text-destructive",children:h.address})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"status",children:"Status"}),s.jsxs(nt,{value:u.status,onValueChange:g=>f({...u,status:g}),children:[s.jsx(et,{id:"status",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"Planning",children:"Planning"}),s.jsx(J,{value:"Design Approved",children:"Design Approved"}),s.jsx(J,{value:"Ordering",children:"Ordering"}),s.jsx(J,{value:"Delivery",children:"Delivery"}),s.jsx(J,{value:"Renovating",children:"Renovating"}),s.jsx(J,{value:"Complete",children:"Complete"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"start_date",children:"Start Date *"}),s.jsx(ue,{id:"start_date",type:"date",value:u.start_date,onChange:g=>f({...u,start_date:g.target.value})}),h.start_date&&s.jsx("p",{className:"text-sm text-destructive",children:h.start_date})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"due_date",children:"Due Date *"}),s.jsx(ue,{id:"due_date",type:"date",value:u.due_date,onChange:g=>f({...u,due_date:g.target.value})}),h.due_date&&s.jsx("p",{className:"text-sm text-destructive",children:h.due_date})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"progress",children:"Progress (%)"}),s.jsx(ue,{id:"progress",type:"number",min:"0",max:"100",value:u.progress,onChange:g=>f({...u,progress:Number(g.target.value)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"notes",children:"Notes"}),s.jsx(ma,{id:"notes",value:u.notes,onChange:g=>f({...u,notes:g.target.value}),placeholder:"Additional notes about this apartment...",rows:4})]}),s.jsxs("div",{className:"flex gap-4 justify-end",children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>t(`/apartments/${n.id}`),children:"Cancel"}),s.jsx(re,{type:"submit",disabled:d.isPending,children:d.isPending?"Saving...":"Save Changes"})]})]})]})})]})})},TBe=()=>{const[e,t]=v.useState("all"),[r,n]=v.useState(""),a=[{id:1,image:"",name:"Modern Sectional Sofa",sku:"SOF-2024-001",vendor:"IKEA",price:1299.99,qty:1,availability:"In Stock",orderStatus:"Ordered",expectedDelivery:"2024-01-20",paymentStatus:"Paid"},{id:2,image:"",name:"Queen Size Bed Frame",sku:"BED-2024-012",vendor:"Wayfair",price:899,qty:1,availability:"Low Stock",orderStatus:"Pending",expectedDelivery:"",paymentStatus:"Due"},{id:3,image:"",name:"Dining Chair Set (4pc)",sku:"CHR-2024-045",vendor:"West Elm",price:599.99,qty:4,availability:"In Stock",orderStatus:"Delivered",expectedDelivery:"2024-01-15",paymentStatus:"Paid"},{id:4,image:"",name:"Floor Lamp Modern",sku:"LMP-2024-078",vendor:"CB2",price:189.99,qty:2,availability:"Out of Stock",orderStatus:"Pending",expectedDelivery:"",paymentStatus:"Partial"},{id:5,image:"",name:"Wall Art Canvas Set",sku:"ART-2024-023",vendor:"Etsy",price:129.99,qty:3,availability:"In Stock",orderStatus:"Ordered",expectedDelivery:"2024-01-18",paymentStatus:"Due"}],i=o=>({Ordered:"bg-primary/10 text-primary",Pending:"bg-warning/10 text-warning",Delivered:"bg-success/10 text-success","In Stock":"bg-success/10 text-success","Low Stock":"bg-warning/10 text-warning","Out of Stock":"bg-danger/10 text-danger",Paid:"bg-success/10 text-success",Partial:"bg-warning/10 text-warning",Due:"bg-danger/10 text-danger"})[o]||"bg-muted";return s.jsx(yt,{title:"Products",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{placeholder:"Search by name, SKU, or vendor...",className:"pl-10",value:r,onChange:o=>n(o.target.value)})]}),s.jsxs(nt,{value:e,onValueChange:t,children:[s.jsx(et,{className:"w-full md:w-[200px]",children:s.jsx(st,{placeholder:"Filter by status"})}),s.jsxs(tt,{sideOffset:5,children:[s.jsx(J,{value:"all",children:"All Status"}),s.jsx(J,{value:"ordered",children:"Ordered"}),s.jsx(J,{value:"pending",children:"Pending"}),s.jsx(J,{value:"delivered",children:"Delivered"})]})]}),s.jsxs(re,{variant:"outline",onClick:()=>console.log("More filters clicked"),children:[s.jsx(c0,{className:"h-4 w-4 mr-2"}),"More Filters"]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(oe,{children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),s.jsx("p",{className:"text-2xl font-bold",children:"247"})]}),s.jsx(mt,{className:"h-8 w-8 text-primary"})]})})}),s.jsx(oe,{children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ordered"}),s.jsx("p",{className:"text-2xl font-bold",children:"168"})]}),s.jsx(gn,{className:"h-8 w-8 text-success"})]})})}),s.jsx(oe,{children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Delivered"}),s.jsx("p",{className:"text-2xl font-bold",children:"112"})]}),s.jsx(tn,{className:"h-8 w-8 text-warning"})]})})}),s.jsx(oe,{children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Issues"}),s.jsx("p",{className:"text-2xl font-bold",children:"12"})]}),s.jsx(Et,{className:"h-8 w-8 text-danger"})]})})})]}),s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:s.jsxs(ds,{children:[s.jsx(us,{children:s.jsxs(Rt,{children:[s.jsx(Ee,{children:"Image"}),s.jsx(Ee,{children:"Name / SKU"}),s.jsx(Ee,{children:"Vendor"}),s.jsx(Ee,{children:"Price"}),s.jsx(Ee,{children:"Qty"}),s.jsx(Ee,{children:"Availability"}),s.jsx(Ee,{children:"Order Status"}),s.jsx(Ee,{children:"Expected Delivery"}),s.jsx(Ee,{children:"Payment"}),s.jsx(Ee,{children:"Actions"})]})}),s.jsx(fs,{children:a.map(o=>s.jsxs(Rt,{children:[s.jsx(ye,{children:s.jsx("div",{className:"text-3xl",children:o.image})}),s.jsx(ye,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:o.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:o.sku})]})}),s.jsx(ye,{children:s.jsx(re,{variant:"link",className:"p-0 h-auto",children:o.vendor})}),s.jsxs(ye,{children:["$",o.price.toFixed(2)]}),s.jsx(ye,{children:o.qty}),s.jsx(ye,{children:s.jsx(Pe,{className:i(o.availability),children:o.availability})}),s.jsx(ye,{children:s.jsx(Pe,{className:i(o.orderStatus),children:o.orderStatus})}),s.jsx(ye,{children:o.expectedDelivery||s.jsx(re,{variant:"outline",size:"sm",children:"Set Date"})}),s.jsx(ye,{children:s.jsx(Pe,{className:i(o.paymentStatus),children:o.paymentStatus})}),s.jsx(ye,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(re,{variant:"outline",size:"sm",children:"View"}),s.jsx(re,{variant:"outline",size:"sm",children:"Edit"})]})})]},o.id))})]})})})})]})})};function tj({options:e,value:t,onValueChange:r,onCreate:n,onNavigateToCreate:a,placeholder:i="Select option...",searchPlaceholder:o="Search...",emptyText:l="No results found.",createText:c="Create new",isLoading:d=!1,disabled:u=!1,className:f}){const[h,m]=v.useState(!1),[x,p]=v.useState(!1),[g,b]=v.useState(""),[y,j]=v.useState(!1),[w,N]=v.useState(""),_=e.find(E=>E.value===t),C=async()=>{if(g.trim()){j(!0);try{if(n){const E=await n(g.trim());r(E.id),p(!1),b(""),m(!1)}}catch(E){console.error("Error creating item:",E)}finally{j(!1)}}},S=()=>{a?(a(),m(!1)):(p(!0),b(w))};return s.jsxs(s.Fragment,{children:[s.jsxs(Jw,{open:h,onOpenChange:m,children:[s.jsx(ej,{asChild:!0,children:s.jsxs(re,{variant:"outline",role:"combobox","aria-expanded":h,className:pe("w-full justify-between",f),disabled:u||d,children:[d?"Loading...":_?_.label:s.jsx("span",{className:"text-muted-foreground",children:i}),s.jsx(tne,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(Fv,{className:"w-full p-0",align:"start",children:s.jsxs(rO,{children:[s.jsx(nO,{placeholder:o,value:w,onValueChange:N}),s.jsxs(sO,{children:[s.jsx(Gz,{children:s.jsx("div",{className:"text-sm text-muted-foreground py-2",children:l})}),s.jsx(fl,{children:e.map(E=>s.jsxs(Ya,{value:E.value,onSelect:P=>{r(P===t?"":P),m(!1)},children:[s.jsx(Ui,{className:pe("mr-2 h-4 w-4",t===E.value?"opacity-100":"opacity-0")}),E.label]},E.value))}),s.jsx(fl,{children:s.jsxs(Ya,{onSelect:S,className:"text-primary",children:[s.jsx(An,{className:"mr-2 h-4 w-4"}),c,w&&!a&&` "${w}"`]})})]})]})})]}),s.jsx(bn,{open:x,onOpenChange:p,children:s.jsxs(dn,{children:[s.jsxs(wn,{children:[s.jsx(jn,{children:c}),s.jsx(Xs,{children:"Enter a name for the new item. Click create when you're done."})]}),s.jsx("div",{className:"grid gap-4 py-4",children:s.jsxs("div",{className:"grid gap-2",children:[s.jsx(H,{htmlFor:"name",children:"Name"}),s.jsx(ue,{id:"name",value:g,onChange:E=>b(E.target.value),placeholder:"Enter name...",onKeyDown:E=>{E.key==="Enter"&&(E.preventDefault(),C())}})]})}),s.jsxs(qo,{children:[s.jsx(re,{variant:"outline",onClick:()=>{p(!1),b("")},disabled:y,children:"Cancel"}),s.jsx(re,{onClick:C,disabled:y||!g.trim(),children:y?"Creating...":"Create"})]})]})})]})}const kBe=()=>{const[e]=xk(),t=e.get("apartmentId"),r=cr(),{toast:n}=pr(),[a,i]=v.useState({product:"",description:"",category:"",vendor:"",vendor_link:"",sku:"",dimensions:"",weight:"",material:"",color:"",model_number:"",brand:"",country_of_origin:"",sn:"",unit_price:"",qty:1,cost:"",total_cost:"",shipping_cost:"0",discount:"0",currency:"HUF",availability:"In Stock",status:"Design Approved",room:"",link:"",size:"",nm:"",plusz_nm:"",price_per_nm:"",price_per_package:"",nm_per_package:"",all_package:"",package_need_to_order:"",all_price:"",eta:"",ordered_on:"",payment_status:"Unpaid",payment_due_date:"",payment_amount:"",paid_amount:"0",delivery_type:"",delivery_status_tags:"",delivery_address:"",delivery_city:"",delivery_postal_code:"",delivery_country:"",delivery_time_window:"",delivery_instructions:"",delivery_contact_person:"",delivery_contact_phone:"",delivery_contact_email:"",delivery_notes:"",tracking_number:"",condition_on_arrival:"",sender:"",sender_address:"",sender_phone:"",recipient:"",recipient_address:"",recipient_phone:"",recipient_email:"",locker_provider:"",locker_id:"",pickup_provider:"",pickup_location:"",customs_description:"",item_value:"",hs_category:"",insurance:"no",cod:"",pickup_time:"",delivery_deadline:"",special_instructions:"",issue_state:"No Issue",issue_type:"",issue_description:"",replacement_requested:!1,replacement_approved:!1,replacement_eta:"",replacement_of:"",gallery_images:"",attachments:"",notes:"",manual_notes:"",ai_summary_notes:""}),[o,l]=v.useState({}),[c,d]=v.useState(null),[u,f]=v.useState(""),[h,m]=v.useState("basic"),{data:x,isLoading:p}=j4(t),{data:g,isLoading:b,error:y}=_X(t),j=Array.isArray(g)?g:[],{data:w,isLoading:N,error:_}=Gf(),C=(w==null?void 0:w.results)||[],S=m6e(),E=SX();if(v.useEffect(()=>{t||(n({title:"Error",description:"Apartment ID is required",variant:"destructive"}),r("/apartments"))},[t,r,n]),v.useEffect(()=>{y&&!b&&n({title:"Warning",description:"Failed to load categories. You can still add a product by entering the category ID manually.",variant:"destructive"})},[y,b,n]),v.useEffect(()=>{_&&!N&&n({title:"Warning",description:"Failed to load vendors. You can still add a product by entering the vendor ID manually.",variant:"destructive"})},[_,N,n]),p)return s.jsx(yt,{title:"Loading...",children:s.jsx("div",{className:"container mx-auto py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(St,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground",children:"Loading apartment details..."})]})})});const P=O=>{var k;const A=(k=O.target.files)==null?void 0:k[0];if(A){d(A);const W=new FileReader;W.onloadend=()=>{f(W.result)},W.readAsDataURL(A)}},I=()=>{d(null),f("")},D=()=>{const O={};return a.product.trim()||(O.product="Product name is required"),a.category||(O.category="Category is required"),a.vendor||(O.vendor="Vendor is required"),(!a.unit_price||parseFloat(a.unit_price)<=0)&&(O.unit_price="Valid unit price is required"),(!a.qty||a.qty<=0)&&(O.qty="Valid quantity is required"),l(O),Object.keys(O).length===0},U=async O=>{if(O.preventDefault(),!D()){n({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{if(c){const A=new FormData;A.append("apartment",t),A.append("category",a.category),A.append("product",a.product),A.append("vendor",a.vendor),A.append("unit_price",a.unit_price),A.append("qty",a.qty.toString()),A.append("availability",a.availability),A.append("status",a.status),A.append("payment_status",a.payment_status),A.append("paid_amount",a.paid_amount),A.append("currency",a.currency),A.append("issue_state",a.issue_state),A.append("image_file",c),console.log(" Sending FormData with image:"),console.log("  - Image file:",c),console.log("  - File name:",c.name),console.log("  - File size:",c.size),console.log("  - File type:",c.type);for(let k of A.entries())console.log(`  - ${k[0]}:`,k[1]);a.description&&A.append("description",a.description),a.vendor_link&&A.append("vendor_link",a.vendor_link),a.sku&&A.append("sku",a.sku),a.dimensions&&A.append("dimensions",a.dimensions),a.weight&&A.append("weight",a.weight),a.material&&A.append("material",a.material),a.color&&A.append("color",a.color),a.model_number&&A.append("model_number",a.model_number),a.brand&&A.append("brand",a.brand),a.country_of_origin&&A.append("country_of_origin",a.country_of_origin),a.sn&&A.append("sn",a.sn),a.cost&&A.append("cost",a.cost),a.total_cost&&A.append("total_cost",a.total_cost),a.shipping_cost&&A.append("shipping_cost",a.shipping_cost),a.discount&&A.append("discount",a.discount),a.room&&A.append("room",a.room),a.link&&A.append("link",a.link),a.size&&A.append("size",a.size),a.nm&&A.append("nm",a.nm),a.plusz_nm&&A.append("plusz_nm",a.plusz_nm),a.price_per_nm&&A.append("price_per_nm",a.price_per_nm),a.price_per_package&&A.append("price_per_package",a.price_per_package),a.nm_per_package&&A.append("nm_per_package",a.nm_per_package),a.all_package&&A.append("all_package",a.all_package),a.package_need_to_order&&A.append("package_need_to_order",a.package_need_to_order),a.all_price&&A.append("all_price",a.all_price),a.eta&&A.append("eta",a.eta),a.ordered_on&&A.append("ordered_on",a.ordered_on),a.payment_due_date&&A.append("payment_due_date",a.payment_due_date),a.payment_amount&&A.append("payment_amount",a.payment_amount),a.delivery_type&&A.append("delivery_type",a.delivery_type),a.delivery_status_tags&&A.append("delivery_status_tags",a.delivery_status_tags),a.delivery_address&&A.append("delivery_address",a.delivery_address),a.delivery_city&&A.append("delivery_city",a.delivery_city),a.delivery_postal_code&&A.append("delivery_postal_code",a.delivery_postal_code),a.delivery_country&&A.append("delivery_country",a.delivery_country),a.delivery_time_window&&A.append("delivery_time_window",a.delivery_time_window),a.delivery_instructions&&A.append("delivery_instructions",a.delivery_instructions),a.delivery_contact_person&&A.append("delivery_contact_person",a.delivery_contact_person),a.delivery_contact_phone&&A.append("delivery_contact_phone",a.delivery_contact_phone),a.delivery_contact_email&&A.append("delivery_contact_email",a.delivery_contact_email),a.delivery_notes&&A.append("delivery_notes",a.delivery_notes),a.tracking_number&&A.append("tracking_number",a.tracking_number),a.condition_on_arrival&&A.append("condition_on_arrival",a.condition_on_arrival),a.sender&&A.append("sender",a.sender),a.sender_address&&A.append("sender_address",a.sender_address),a.sender_phone&&A.append("sender_phone",a.sender_phone),a.recipient&&A.append("recipient",a.recipient),a.recipient_address&&A.append("recipient_address",a.recipient_address),a.recipient_phone&&A.append("recipient_phone",a.recipient_phone),a.recipient_email&&A.append("recipient_email",a.recipient_email),a.locker_provider&&A.append("locker_provider",a.locker_provider),a.locker_id&&A.append("locker_id",a.locker_id),a.pickup_provider&&A.append("pickup_provider",a.pickup_provider),a.pickup_location&&A.append("pickup_location",a.pickup_location),a.customs_description&&A.append("customs_description",a.customs_description),a.item_value&&A.append("item_value",a.item_value),a.hs_category&&A.append("hs_category",a.hs_category),a.insurance&&A.append("insurance",a.insurance),a.cod&&A.append("cod",a.cod),a.pickup_time&&A.append("pickup_time",a.pickup_time),a.delivery_deadline&&A.append("delivery_deadline",a.delivery_deadline),a.special_instructions&&A.append("special_instructions",a.special_instructions),a.issue_type&&A.append("issue_type",a.issue_type),a.issue_description&&A.append("issue_description",a.issue_description),A.append("replacement_requested",a.replacement_requested.toString()),A.append("replacement_approved",a.replacement_approved.toString()),a.replacement_eta&&A.append("replacement_eta",a.replacement_eta),a.replacement_of&&A.append("replacement_of",a.replacement_of),a.gallery_images&&A.append("gallery_images",a.gallery_images),a.attachments&&A.append("attachments",a.attachments),a.notes&&A.append("notes",a.notes),a.manual_notes&&A.append("manual_notes",a.manual_notes),a.ai_summary_notes&&A.append("ai_summary_notes",a.ai_summary_notes),await S.mutateAsync(A)}else{const A={apartment:t,category:a.category,product:a.product,description:a.description||void 0,vendor:a.vendor,vendor_link:a.vendor_link||void 0,sku:a.sku||void 0,dimensions:a.dimensions||void 0,weight:a.weight||void 0,material:a.material||void 0,color:a.color||void 0,model_number:a.model_number||void 0,brand:a.brand||void 0,country_of_origin:a.country_of_origin||void 0,sn:a.sn||void 0,unit_price:a.unit_price,qty:a.qty,cost:a.cost||void 0,total_cost:a.total_cost||void 0,shipping_cost:a.shipping_cost||void 0,discount:a.discount||void 0,currency:a.currency,availability:a.availability,status:a.status,room:a.room||void 0,link:a.link||void 0,size:a.size||void 0,nm:a.nm||void 0,plusz_nm:a.plusz_nm||void 0,price_per_nm:a.price_per_nm||void 0,price_per_package:a.price_per_package||void 0,nm_per_package:a.nm_per_package||void 0,all_package:a.all_package||void 0,package_need_to_order:a.package_need_to_order||void 0,all_price:a.all_price||void 0,eta:a.eta||null,ordered_on:a.ordered_on||null,payment_status:a.payment_status,payment_due_date:a.payment_due_date||null,payment_amount:a.payment_amount||null,paid_amount:a.paid_amount,delivery_type:a.delivery_type||void 0,delivery_status_tags:a.delivery_status_tags||void 0,delivery_address:a.delivery_address||void 0,delivery_city:a.delivery_city||void 0,delivery_postal_code:a.delivery_postal_code||void 0,delivery_country:a.delivery_country||void 0,delivery_time_window:a.delivery_time_window||void 0,delivery_instructions:a.delivery_instructions||void 0,delivery_contact_person:a.delivery_contact_person||void 0,delivery_contact_phone:a.delivery_contact_phone||void 0,delivery_contact_email:a.delivery_contact_email||void 0,delivery_notes:a.delivery_notes||void 0,tracking_number:a.tracking_number||void 0,condition_on_arrival:a.condition_on_arrival||void 0,sender:a.sender||void 0,sender_address:a.sender_address||void 0,sender_phone:a.sender_phone||void 0,recipient:a.recipient||void 0,recipient_address:a.recipient_address||void 0,recipient_phone:a.recipient_phone||void 0,recipient_email:a.recipient_email||void 0,locker_provider:a.locker_provider||void 0,locker_id:a.locker_id||void 0,pickup_provider:a.pickup_provider||void 0,pickup_location:a.pickup_location||void 0,customs_description:a.customs_description||void 0,item_value:a.item_value||void 0,hs_category:a.hs_category||void 0,insurance:a.insurance||void 0,cod:a.cod||void 0,pickup_time:a.pickup_time||void 0,delivery_deadline:a.delivery_deadline||void 0,special_instructions:a.special_instructions||void 0,issue_state:a.issue_state,issue_type:a.issue_type||void 0,issue_description:a.issue_description||void 0,replacement_requested:a.replacement_requested,replacement_approved:a.replacement_approved,replacement_eta:a.replacement_eta||null,replacement_of:a.replacement_of||void 0,gallery_images:a.gallery_images||void 0,attachments:a.attachments||void 0,notes:a.notes||void 0,manual_notes:a.manual_notes||void 0,ai_summary_notes:a.ai_summary_notes||void 0};await S.mutateAsync(A)}r(`/apartments/${t}`)}catch{}};if(!x)return s.jsx(yt,{title:"Apartment Not Found",children:s.jsx(oe,{children:s.jsxs(le,{className:"py-8",children:[s.jsx("p",{className:"text-center text-muted-foreground",children:"Apartment not found"}),s.jsx("div",{className:"flex justify-center mt-4",children:s.jsx(re,{onClick:()=>r("/apartments"),children:"Back to Apartments"})})]})})});const F=a.unit_price&&a.qty?parseFloat(a.unit_price)*a.qty+(parseFloat(a.shipping_cost)||0)-(parseFloat(a.discount)||0):0,M=F-(parseFloat(a.paid_amount)||0);return s.jsx(yt,{title:"Add Product",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ni,{children:s.jsxs(_i,{children:[s.jsx(fr,{children:s.jsx(Mn,{href:"/apartments",children:"Apartments"})}),s.jsx(Fn,{}),s.jsx(fr,{children:s.jsx(Mn,{href:`/apartments/${t}`,children:x.name})}),s.jsx(Fn,{}),s.jsx(fr,{children:s.jsx(Si,{children:"Add Product"})})]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(re,{variant:"ghost",size:"icon",onClick:()=>r(`/apartments/${t}`),children:s.jsx(sr,{className:"h-4 w-4"})}),s.jsx("h1",{className:"text-3xl font-bold",children:"Add Product"})]}),s.jsx("form",{onSubmit:U,children:s.jsx(oe,{children:s.jsxs(le,{children:[s.jsxs(nl,{value:h,onValueChange:m,children:[s.jsxs(co,{className:"grid w-full grid-cols-4 mt-6",children:[s.jsx(Gt,{value:"basic",children:"Basic Info"}),s.jsx(Gt,{value:"measurements",children:"Measurements"}),s.jsx(Gt,{value:"pricing",children:"Pricing"}),s.jsx(Gt,{value:"additional",children:"Additional"})]}),s.jsxs(Zt,{value:"basic",className:"space-y-6 mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Product Information"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"product",children:"Product Name *"}),s.jsx(ue,{id:"product",value:a.product,onChange:O=>i({...a,product:O.target.value}),placeholder:"Modern Sofa"}),o.product&&s.jsx("p",{className:"text-sm text-destructive",children:o.product})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"category",children:"Category *"}),s.jsx(tj,{options:j.map(O=>({value:O.id,label:O.name})),value:a.category,onValueChange:O=>i({...a,category:O}),onCreate:async O=>{const A=await E.mutateAsync({name:O,apartment:t,sheet_name:O});return{id:A.id,name:A.name}},placeholder:"Select category",searchPlaceholder:"Search categories...",emptyText:"No categories found.",createText:"Create new category",isLoading:b}),o.category&&s.jsx("p",{className:"text-sm text-destructive",children:o.category})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"vendor",children:"Vendor *"}),s.jsx(tj,{options:C.map(O=>({value:O.id,label:O.company_name||O.name})),value:a.vendor,onValueChange:O=>i({...a,vendor:O}),onNavigateToCreate:()=>{r("/vendors/new")},placeholder:"Select vendor",searchPlaceholder:"Search vendors...",emptyText:"No vendors found.",createText:"Create new vendor",isLoading:N}),o.vendor&&s.jsx("p",{className:"text-sm text-destructive",children:o.vendor})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"link",children:"Product Link (Optional)"}),s.jsx(ue,{id:"link",type:"url",value:a.link,onChange:O=>i({...a,link:O.target.value}),placeholder:"https://example.com/product"})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"sku",children:"SKU *"}),s.jsx(ue,{id:"sku",value:a.sku,onChange:O=>i({...a,sku:O.target.value}),placeholder:"SOFA-001"}),o.sku&&s.jsx("p",{className:"text-sm text-destructive",children:o.sku})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"room",children:"Room (Optional)"}),s.jsx(ue,{id:"room",value:a.room,onChange:O=>i({...a,room:O.target.value}),placeholder:"Living Room, Bedroom, etc."})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"imageFile",children:"Product Image"}),u?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"relative w-full h-48 border rounded-md overflow-hidden bg-muted",children:[s.jsx("img",{src:u,alt:"Product preview",className:"w-full h-full object-contain"}),s.jsx(re,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:I,children:"Remove"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c==null?void 0:c.name})]}):s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ue,{id:"imageFile",type:"file",accept:"image/*",onChange:P,className:"cursor-pointer"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload a product image (JPG, PNG, GIF, etc.)"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"unitPrice",children:"Unit Price (HUF) *"}),s.jsx(ue,{id:"unitPrice",type:"number",min:"0",step:"0.01",value:a.unit_price,onChange:O=>i({...a,unit_price:O.target.value}),placeholder:"150000"}),o.unitPrice&&s.jsx("p",{className:"text-sm text-destructive",children:o.unitPrice})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"qty",children:"Quantity *"}),s.jsx(ue,{id:"qty",type:"number",min:"1",value:a.qty,onChange:O=>i({...a,qty:parseInt(O.target.value)||1}),placeholder:"1"}),o.qty&&s.jsx("p",{className:"text-sm text-destructive",children:o.qty})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"availability",children:"Availability *"}),s.jsxs(nt,{value:a.availability,onValueChange:O=>i({...a,availability:O}),children:[s.jsx(et,{id:"availability",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"In Stock",children:"In Stock"}),s.jsx(J,{value:"Backorder",children:"Backorder"}),s.jsx(J,{value:"Out of Stock",children:"Out of Stock"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"status",children:"Product Status *"}),s.jsxs(nt,{value:a.status,onValueChange:O=>i({...a,status:O}),children:[s.jsx(et,{id:"status",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"Design Approved",children:"Design Approved"}),s.jsx(J,{value:"Ready To Order",children:"Ready To Order"}),s.jsx(J,{value:"Ordered",children:"Ordered"}),s.jsx(J,{value:"Shipped",children:"Shipped"}),s.jsx(J,{value:"Delivered",children:"Delivered"}),s.jsx(J,{value:"Damaged",children:"Damaged"}),s.jsx(J,{value:"Wrong Item",children:"Wrong Item"}),s.jsx(J,{value:"Missing",children:"Missing"})]})]})]})]})]}),s.jsxs(Zt,{value:"measurements",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Product Specifications"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"dimensions",children:"Dimensions"}),s.jsx(ue,{id:"dimensions",value:a.dimensions,onChange:O=>i({...a,dimensions:O.target.value}),placeholder:"120x80x45 cm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"weight",children:"Weight"}),s.jsx(ue,{id:"weight",value:a.weight,onChange:O=>i({...a,weight:O.target.value}),placeholder:"25 kg"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"material",children:"Material"}),s.jsx(ue,{id:"material",value:a.material,onChange:O=>i({...a,material:O.target.value}),placeholder:"Oak Wood"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"color",children:"Color"}),s.jsx(ue,{id:"color",value:a.color,onChange:O=>i({...a,color:O.target.value}),placeholder:"Natural Oak"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"size",children:"Size"}),s.jsx(ue,{id:"size",value:a.size,onChange:O=>i({...a,size:O.target.value}),placeholder:"Large"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"NM Measurements (for Flooring/Tiles)"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"nm",children:"NM"}),s.jsx(ue,{id:"nm",type:"number",step:"0.01",value:a.nm,onChange:O=>i({...a,nm:O.target.value}),placeholder:"10.5"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"plusz_nm",children:"Plus NM"}),s.jsx(ue,{id:"plusz_nm",type:"number",step:"0.01",value:a.plusz_nm,onChange:O=>i({...a,plusz_nm:O.target.value}),placeholder:"1.5"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"price_per_nm",children:"Price per NM"}),s.jsx(ue,{id:"price_per_nm",type:"number",step:"0.01",value:a.price_per_nm,onChange:O=>i({...a,price_per_nm:O.target.value}),placeholder:"5000"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"price_per_package",children:"Price per Package"}),s.jsx(ue,{id:"price_per_package",type:"number",step:"0.01",value:a.price_per_package,onChange:O=>i({...a,price_per_package:O.target.value}),placeholder:"15000"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"nm_per_package",children:"NM per Package"}),s.jsx(ue,{id:"nm_per_package",type:"number",step:"0.01",value:a.nm_per_package,onChange:O=>i({...a,nm_per_package:O.target.value}),placeholder:"3"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"package_need_to_order",children:"Package Need to Order"}),s.jsx(ue,{id:"package_need_to_order",type:"number",value:a.package_need_to_order,onChange:O=>i({...a,package_need_to_order:O.target.value}),placeholder:"8"})]})]})]})]}),s.jsxs(Zt,{value:"pricing",className:"space-y-6 mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Payment Information"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"total_amount",children:"Total Amount (HUF)"}),s.jsx("div",{className:"h-10 px-3 py-2 rounded-md border border-input bg-muted flex items-center",children:s.jsx("span",{className:"font-semibold text-lg",children:F.toLocaleString()})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: (Unit Price  Qty) + Shipping - Discount"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"shipping_cost",children:"Shipping Cost (Optional)"}),s.jsx(ue,{id:"shipping_cost",type:"number",min:"0",step:"0.01",value:a.shipping_cost,onChange:O=>i({...a,shipping_cost:O.target.value}),placeholder:"0"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"discount",children:"Discount (Optional)"}),s.jsx(ue,{id:"discount",type:"number",min:"0",step:"0.01",value:a.discount,onChange:O=>i({...a,discount:O.target.value}),placeholder:"0"})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"paid_amount",children:"Paid Amount"}),s.jsx(ue,{id:"paid_amount",type:"number",min:"0",step:"0.01",value:a.paid_amount,onChange:O=>i({...a,paid_amount:O.target.value}),placeholder:"0"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Outstanding Balance"}),s.jsx("div",{className:`h-10 px-3 py-2 rounded-md border flex items-center ${M>0?"bg-red-50 border-red-200 text-red-700":"bg-green-50 border-green-200 text-green-700"}`,children:s.jsxs("span",{className:"font-semibold text-lg",children:[M.toLocaleString()," HUF"]})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: Total Amount - Paid Amount"})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"paymentStatus",children:"Payment Status *"}),s.jsxs(nt,{value:a.payment_status,onValueChange:O=>i({...a,payment_status:O}),children:[s.jsx(et,{id:"paymentStatus",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"Unpaid",children:"Unpaid"}),s.jsx(J,{value:"Partially Paid",children:"Partially Paid"}),s.jsx(J,{value:"Paid",children:"Paid"}),s.jsx(J,{value:"Overdue",children:"Overdue"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"currency",children:"Currency"}),s.jsxs(nt,{value:a.currency,onValueChange:O=>i({...a,currency:O}),children:[s.jsx(et,{id:"currency",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"HUF",children:"HUF (Hungarian Forint)"}),s.jsx(J,{value:"EUR",children:"EUR (Euro)"}),s.jsx(J,{value:"USD",children:"USD (US Dollar)"})]})]})]})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"paymentDueDate",children:"Payment Due Date *"}),s.jsx(ue,{id:"paymentDueDate",type:"date",value:a.payment_due_date,onChange:O=>i({...a,payment_due_date:O.target.value})})]})})]}),s.jsxs(Zt,{value:"additional",className:"space-y-6 mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Additional Information"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"brand",children:"Brand"}),s.jsx(ue,{id:"brand",value:a.brand,onChange:O=>i({...a,brand:O.target.value}),placeholder:"e.g., IKEA, Samsung, etc."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"country_of_origin",children:"Country of Origin"}),s.jsx(ue,{id:"country_of_origin",value:a.country_of_origin,onChange:O=>i({...a,country_of_origin:O.target.value}),placeholder:"e.g., Hungary, China, Germany"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"condition_on_arrival",children:"Condition on Arrival"}),s.jsx(ue,{id:"condition_on_arrival",value:a.condition_on_arrival,onChange:O=>i({...a,condition_on_arrival:O.target.value}),placeholder:"Good, Damaged, Needs Inspection, etc."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-md font-semibold",children:"Notes & Documentation"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"notes",children:"General Notes"}),s.jsx(ma,{id:"notes",value:a.notes,onChange:O=>i({...a,notes:O.target.value}),placeholder:"General notes about this product...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"manual_notes",children:"Manual Notes"}),s.jsx(ma,{id:"manual_notes",value:a.manual_notes,onChange:O=>i({...a,manual_notes:O.target.value}),placeholder:"Manual notes added by staff...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"ai_summary_notes",children:"AI Summary Notes"}),s.jsx(ma,{id:"ai_summary_notes",value:a.ai_summary_notes,onChange:O=>i({...a,ai_summary_notes:O.target.value}),placeholder:"AI-generated summary and insights...",rows:3}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"AI-generated summaries and recommendations"})]})]})]})]}),s.jsxs("div",{className:"flex gap-4 justify-between mt-6 border-t pt-6",children:[s.jsx("div",{children:h!=="basic"&&s.jsx(re,{type:"button",variant:"outline",onClick:O=>{O.preventDefault(),O.stopPropagation();const A=["basic","measurements","pricing","additional"],k=A.indexOf(h);k>0&&m(A[k-1])},children:" Previous"})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(re,{type:"button",variant:"outline",onClick:O=>{O.preventDefault(),O.stopPropagation(),r(`/apartments/${t}`)},children:"Cancel"}),h!=="additional"?s.jsx(re,{type:"button",onClick:O=>{O.preventDefault(),O.stopPropagation();const A=["basic","measurements","pricing","additional"],k=A.indexOf(h);k<A.length-1&&m(A[k+1])},children:"Next "}):s.jsxs(re,{type:"submit",disabled:S.isPending,children:[S.isPending&&s.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}),S.isPending?"Adding...":"Add Product"]})]})]})]})})})]})})},OBe=()=>{var h;const{id:e}=so(),t=cr(),[r,n]=v.useState(!1),{data:a,isLoading:i,error:o}=jX(e||null),l=a==null?void 0:a.apartment_details,c=null,d=[];if(i)return s.jsx(yt,{title:"Loading...",children:s.jsx("div",{className:"container mx-auto py-8",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(Xt,{className:"h-8 w-64"}),s.jsx(Xt,{className:"h-64 w-full"}),s.jsx(Xt,{className:"h-32 w-full"})]})})});if(o||!a)return s.jsx(yt,{title:"Product Not Found",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground mb-4",children:"Product not found"}),s.jsxs(re,{onClick:()=>t("/apartments"),children:[s.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back to Apartments"]})]})});const u=()=>{window.confirm(`Are you sure you want to delete "${a.product}"?`)&&(Me.success("Product deleted successfully"),t(`/apartments/${a.apartment}`))},f=m=>{const x=m.toLowerCase();return x.includes("delivered")||x.includes("closed")||x.includes("paid")?"bg-success text-success-foreground":x.includes("issue")||x.includes("damaged")||x.includes("wrong")||x.includes("missing")?"bg-danger text-danger-foreground":x.includes("waiting")||x.includes("pending")||x.includes("partial")?"bg-warning text-warning-foreground":x.includes("ordered")||x.includes("shipped")||x.includes("transit")?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"};return s.jsxs(yt,{title:a.product,children:[s.jsx(Ni,{className:"mb-6",children:s.jsxs(_i,{children:[s.jsx(fr,{children:s.jsx(Mn,{asChild:!0,children:s.jsx(Ji,{to:"/apartments",children:"Apartments"})})}),s.jsx(Fn,{}),s.jsx(fr,{children:s.jsx(Mn,{asChild:!0,children:s.jsx(Ji,{to:`/apartments/${a.apartment}`,children:(l==null?void 0:l.name)||"Apartment"})})}),s.jsx(Fn,{}),s.jsx(fr,{children:s.jsx(Si,{children:a.product})})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-start space-x-2  mb-3",children:[s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>t(`/apartments/${a.apartment}`),className:"shrink-0",children:s.jsx(sr,{className:"h-4 w-4"})}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold truncate",children:a.product})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[(h=a.status_tags)==null?void 0:h.map(m=>s.jsx(Pe,{className:f(m),children:m},m)),(a.delivery_status_tags||[]).map(m=>s.jsx(Pe,{variant:"outline",className:f(m),children:m},m))]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 sm:flex-nowrap",children:[d.length>0&&s.jsxs(Jw,{open:r,onOpenChange:n,children:[s.jsx(ej,{asChild:!0,children:s.jsxs(re,{variant:"outline",size:"icon",className:"relative shrink-0",children:[s.jsx(Fu,{className:"h-4 w-4"}),d.length>0&&s.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-danger text-danger-foreground text-xs flex items-center justify-center",children:d.length})]})}),s.jsx(Fv,{className:"w-80",align:"end",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),s.jsx(zc,{className:"h-[300px]",children:s.jsx("div",{className:"space-y-3",children:d.map(m=>s.jsxs("div",{className:"p-3 rounded-lg border border-border bg-muted/30 space-y-1",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("p",{className:"font-medium text-sm",children:m.title}),s.jsx(Pe,{variant:"outline",className:m.type==="success"?"bg-success/10 text-success border-success/20":m.type==="warning"?"bg-warning/10 text-warning border-warning/20":"bg-primary/10 text-primary border-primary/20",children:m.type})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:m.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(m.timestamp).toLocaleString()})]},m.id))})})]})})]}),s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>t(`/products/${a.id}/edit`),className:"shrink-0",children:[s.jsx(Hs,{className:"mr-2 h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),s.jsxs(re,{variant:"destructive",size:"sm",onClick:u,className:"shrink-0",children:[s.jsx(Xr,{className:"mr-2 h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"h-5 w-5"}),"Product Information"]})}),s.jsx(le,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor"}),s.jsx("p",{className:"font-medium",children:a.vendor})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"SKU"}),s.jsx("p",{className:"font-mono text-sm",children:a.sku})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Category"}),s.jsx("p",{className:"font-medium",children:a.category||"-"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Room"}),s.jsx("p",{className:"font-medium",children:a.room||"-"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Availability"}),s.jsx(Pe,{variant:a.availability==="In Stock"?"default":"secondary",children:a.availability})]}),a.vendor_link&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Vendor Link"}),s.jsxs("a",{href:a.vendor_link,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1 text-sm",children:["View on Vendor Site",s.jsx(Kj,{className:"h-3 w-3"})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(Rr,{className:"h-5 w-5"}),"Pricing & Payment"]})}),s.jsxs(le,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Unit Price"}),s.jsxs("p",{className:"text-2xl font-bold",children:[parseFloat(a.unit_price).toLocaleString()," HUF"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Quantity"}),s.jsx("p",{className:"text-xl font-bold",children:a.qty})]}),s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[(parseFloat(a.unit_price)*a.qty).toLocaleString()," HUF"]})]}),a.payment_status&&s.jsxs("div",{className:"pt-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Payment Status"}),s.jsx(Pe,{className:f(a.payment_status),children:a.payment_status})]})]}),a.payment_amount&&s.jsxs("div",{className:"pt-4 border-t space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Payment Amount:"}),s.jsxs("span",{className:"font-medium",children:[parseFloat(a.payment_amount).toLocaleString()," HUF"]})]}),a.paid_amount!==void 0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Paid Amount:"}),s.jsxs("span",{className:"font-medium",children:[parseFloat(a.paid_amount).toLocaleString()," HUF"]})]}),s.jsxs("div",{className:"flex justify-between text-sm font-semibold",children:[s.jsx("span",{children:"Outstanding Balance:"}),s.jsxs("span",{className:parseFloat(a.payment_amount)-parseFloat(a.paid_amount)>0?"text-danger":"text-success",children:[(parseFloat(a.payment_amount)-parseFloat(a.paid_amount)).toLocaleString()," HUF"]})]})]})]})]})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(tn,{className:"h-5 w-5"}),"Dates & Delivery"]})}),s.jsx(le,{className:"space-y-3",children:s.jsxs("div",{className:"space-y-3",children:[a.ordered_on&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ordered On"}),s.jsx("p",{className:"font-medium",children:new Date(a.ordered_on).toLocaleDateString()})]}),a.expected_delivery_date&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected Delivery"}),s.jsx("p",{className:"font-medium",children:new Date(a.expected_delivery_date).toLocaleDateString()})]}),a.actual_delivery_date&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Actual Delivery"}),s.jsx("p",{className:"font-medium",children:new Date(a.actual_delivery_date).toLocaleDateString()})]}),a.payment_due_date&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Payment Due"}),s.jsx("p",{className:"font-medium",children:new Date(a.payment_due_date).toLocaleDateString()})]})]})})]})]}),a.notes&&s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsx($e,{children:"Notes"})}),s.jsx(le,{children:s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:a.notes})})]})]}),s.jsxs("div",{className:"space-y-6",children:[a.product_image?s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsx($e,{children:"Product Image"})}),s.jsx(le,{children:s.jsx("img",{src:a.product_image,alt:a.product,className:"w-full rounded-lg object-cover aspect-square"})})]}):s.jsx(oe,{children:s.jsxs(le,{className:"py-16 text-center",children:[s.jsx(ff,{className:"mx-auto h-16 w-16 text-muted-foreground mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No image available"})]})}),a.issue_state&&a.issue_state!=="No Issue"&&s.jsxs(oe,{className:"border-danger/50 bg-danger/5",children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2 text-danger",children:[s.jsx(Et,{className:"h-5 w-5"}),"Issue Status"]})}),s.jsxs(le,{className:"space-y-3",children:[s.jsx(Pe,{className:f(a.issue_state),children:a.issue_state}),c]})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-3 mt-6 gap-6",children:s.jsx("div",{className:"xl:col-span-2 space-y-6",children:c})})]})},DBe=()=>{const{id:e}=so(),t=cr(),{toast:r}=pr(),{data:n,isLoading:a}=jX(e),i=n==null?void 0:n.apartment,[o,l]=v.useState({product:"",description:"",category:"",vendor:"",vendor_link:"",sku:"",dimensions:"",weight:"",material:"",color:"",model_number:"",brand:"",country_of_origin:"",sn:"",unit_price:"",qty:1,cost:"",total_cost:"",shipping_cost:"0",discount:"0",currency:"HUF",availability:"In Stock",status:"Design Approved",room:"",link:"",size:"",nm:"",plusz_nm:"",price_per_nm:"",price_per_package:"",nm_per_package:"",all_package:"",package_need_to_order:"",all_price:"",eta:"",ordered_on:"",payment_status:"Unpaid",payment_due_date:"",payment_amount:"",paid_amount:"0",delivery_type:"",delivery_status_tags:"",delivery_address:"",delivery_city:"",delivery_postal_code:"",delivery_country:"",delivery_time_window:"",delivery_instructions:"",delivery_contact_person:"",delivery_contact_phone:"",delivery_contact_email:"",delivery_notes:"",tracking_number:"",condition_on_arrival:"",sender:"",sender_address:"",sender_phone:"",recipient:"",recipient_address:"",recipient_phone:"",recipient_email:"",locker_provider:"",locker_id:"",pickup_provider:"",pickup_location:"",customs_description:"",item_value:"",hs_category:"",insurance:"no",cod:"",pickup_time:"",delivery_deadline:"",special_instructions:"",issue_state:"No Issue",issue_type:"",issue_description:"",replacement_requested:!1,replacement_approved:!1,replacement_eta:"",replacement_of:"",gallery_images:"",attachments:"",notes:"",manual_notes:"",ai_summary_notes:""}),[c,d]=v.useState({}),[u,f]=v.useState(null),[h,m]=v.useState(""),[x,p]=v.useState("basic"),{data:g,isLoading:b,error:y}=_X(i),j=Array.isArray(g)?g:[],{data:w,isLoading:N,error:_}=Gf(),C=(w==null?void 0:w.results)||[],S=NX(),E=SX();if(v.useEffect(()=>{var O;if(n){const A=n;console.log(" Product data loaded:",n),console.log(" Category ID:",n.category),console.log(" Vendor ID:",n.vendor),l({product:A.product||"",description:A.description||"",category:A.category?String(A.category):"",vendor:A.vendor?String(A.vendor):"",vendor_link:A.vendor_link||"",sku:A.sku||"",dimensions:A.dimensions||"",weight:A.weight||"",material:A.material||"",color:A.color||"",model_number:A.model_number||"",brand:A.brand||"",country_of_origin:A.country_of_origin||"",sn:A.sn||"",unit_price:((O=A.unit_price)==null?void 0:O.toString())||"",qty:A.qty||1,cost:A.cost||"",total_cost:A.total_cost||"",shipping_cost:A.shipping_cost||"0",discount:A.discount||"0",currency:A.currency||"HUF",availability:A.availability||"In Stock",status:Array.isArray(A.status)?A.status[0]||"Design Approved":A.status||"Design Approved",room:A.room||"",link:A.link||"",size:A.size||"",nm:A.nm||"",plusz_nm:A.plusz_nm||"",price_per_nm:A.price_per_nm||"",price_per_package:A.price_per_package||"",nm_per_package:A.nm_per_package||"",all_package:A.all_package||"",package_need_to_order:A.package_need_to_order||"",all_price:A.all_price||"",eta:A.eta||"",ordered_on:A.ordered_on||"",payment_status:A.payment_status||"Unpaid",payment_due_date:A.payment_due_date||"",payment_amount:A.payment_amount||"",paid_amount:A.paid_amount||"0",delivery_type:A.delivery_type||"",delivery_status_tags:A.delivery_status_tags||"",delivery_address:A.delivery_address||"",delivery_city:A.delivery_city||"",delivery_postal_code:A.delivery_postal_code||"",delivery_country:A.delivery_country||"",delivery_time_window:A.delivery_time_window||"",delivery_instructions:A.delivery_instructions||"",delivery_contact_person:A.delivery_contact_person||"",delivery_contact_phone:A.delivery_contact_phone||"",delivery_contact_email:A.delivery_contact_email||"",delivery_notes:A.delivery_notes||"",tracking_number:A.tracking_number||"",condition_on_arrival:A.condition_on_arrival||"",sender:A.sender||"",sender_address:A.sender_address||"",sender_phone:A.sender_phone||"",recipient:A.recipient||"",recipient_address:A.recipient_address||"",recipient_phone:A.recipient_phone||"",recipient_email:A.recipient_email||"",locker_provider:A.locker_provider||"",locker_id:A.locker_id||"",pickup_provider:A.pickup_provider||"",pickup_location:A.pickup_location||"",customs_description:A.customs_description||"",item_value:A.item_value||"",hs_category:A.hs_category||"",insurance:A.insurance||"no",cod:A.cod||"",pickup_time:A.pickup_time||"",delivery_deadline:A.delivery_deadline||"",special_instructions:A.special_instructions||"",issue_state:A.issue_state||"No Issue",issue_type:A.issue_type||"",issue_description:A.issue_description||"",replacement_requested:A.replacement_requested||!1,replacement_approved:A.replacement_approved||!1,replacement_eta:A.replacement_eta||"",replacement_of:A.replacement_of||"",gallery_images:A.gallery_images||"",attachments:A.attachments||"",notes:A.notes||"",manual_notes:A.manual_notes||"",ai_summary_notes:A.ai_summary_notes||""}),n.product_image&&m(n.product_image)}},[n]),v.useEffect(()=>{y&&!b&&r({title:"Warning",description:"Failed to load categories. You can still add a product by entering the category ID manually.",variant:"destructive"})},[y,b,r]),v.useEffect(()=>{_&&!N&&r({title:"Warning",description:"Failed to load vendors. You can still add a product by entering the vendor ID manually.",variant:"destructive"})},[_,N,r]),a)return s.jsx(yt,{title:"Loading...",children:s.jsx("div",{className:"container mx-auto py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(St,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground",children:"Loading product details..."})]})})});if(!n)return s.jsx(yt,{title:"Product Not Found",children:s.jsx(oe,{children:s.jsxs(le,{className:"py-8",children:[s.jsx("p",{className:"text-center text-muted-foreground",children:"Product not found"}),s.jsx("div",{className:"flex justify-center mt-4",children:s.jsx(re,{onClick:()=>t("/apartments"),children:"Back to Apartments"})})]})})});const P=O=>{var k;const A=(k=O.target.files)==null?void 0:k[0];if(A){f(A);const W=new FileReader;W.onloadend=()=>{m(W.result)},W.readAsDataURL(A)}},I=()=>{f(null),m("")},D=()=>{const O={};return o.product.trim()||(O.product="Product name is required"),o.category||(O.category="Category is required"),o.vendor||(O.vendor="Vendor is required"),(!o.unit_price||parseFloat(o.unit_price)<=0)&&(O.unit_price="Valid unit price is required"),(!o.qty||o.qty<=0)&&(O.qty="Valid quantity is required"),d(O),Object.keys(O).length===0},U=async O=>{if(O.preventDefault(),!D()){r({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{if(u){const A=new FormData;A.append("category",o.category),A.append("product",o.product),A.append("vendor",o.vendor),A.append("unit_price",o.unit_price),A.append("qty",o.qty.toString()),A.append("availability",o.availability),A.append("status",o.status),A.append("payment_status",o.payment_status),A.append("paid_amount",o.paid_amount),A.append("currency",o.currency),A.append("issue_state",o.issue_state),A.append("image_file",u),console.log(" Sending FormData with image:"),console.log("  - Image file:",u),console.log("  - File name:",u.name),console.log("  - File size:",u.size),console.log("  - File type:",u.type);for(let k of A.entries())console.log(`  - ${k[0]}:`,k[1]);o.description&&A.append("description",o.description),o.vendor_link&&A.append("vendor_link",o.vendor_link),o.sku&&A.append("sku",o.sku),o.dimensions&&A.append("dimensions",o.dimensions),o.weight&&A.append("weight",o.weight),o.material&&A.append("material",o.material),o.color&&A.append("color",o.color),o.model_number&&A.append("model_number",o.model_number),o.brand&&A.append("brand",o.brand),o.country_of_origin&&A.append("country_of_origin",o.country_of_origin),o.sn&&A.append("sn",o.sn),o.cost&&A.append("cost",o.cost),o.total_cost&&A.append("total_cost",o.total_cost),o.shipping_cost&&A.append("shipping_cost",o.shipping_cost),o.discount&&A.append("discount",o.discount),o.room&&A.append("room",o.room),o.link&&A.append("link",o.link),o.size&&A.append("size",o.size),o.nm&&A.append("nm",o.nm),o.plusz_nm&&A.append("plusz_nm",o.plusz_nm),o.price_per_nm&&A.append("price_per_nm",o.price_per_nm),o.price_per_package&&A.append("price_per_package",o.price_per_package),o.nm_per_package&&A.append("nm_per_package",o.nm_per_package),o.all_package&&A.append("all_package",o.all_package),o.package_need_to_order&&A.append("package_need_to_order",o.package_need_to_order),o.all_price&&A.append("all_price",o.all_price),o.eta&&A.append("eta",o.eta),o.ordered_on&&A.append("ordered_on",o.ordered_on),o.payment_due_date&&A.append("payment_due_date",o.payment_due_date),o.payment_amount&&A.append("payment_amount",o.payment_amount),o.delivery_type&&A.append("delivery_type",o.delivery_type),o.delivery_status_tags&&A.append("delivery_status_tags",o.delivery_status_tags),o.delivery_address&&A.append("delivery_address",o.delivery_address),o.delivery_city&&A.append("delivery_city",o.delivery_city),o.delivery_postal_code&&A.append("delivery_postal_code",o.delivery_postal_code),o.delivery_country&&A.append("delivery_country",o.delivery_country),o.delivery_time_window&&A.append("delivery_time_window",o.delivery_time_window),o.delivery_instructions&&A.append("delivery_instructions",o.delivery_instructions),o.delivery_contact_person&&A.append("delivery_contact_person",o.delivery_contact_person),o.delivery_contact_phone&&A.append("delivery_contact_phone",o.delivery_contact_phone),o.delivery_contact_email&&A.append("delivery_contact_email",o.delivery_contact_email),o.delivery_notes&&A.append("delivery_notes",o.delivery_notes),o.tracking_number&&A.append("tracking_number",o.tracking_number),o.condition_on_arrival&&A.append("condition_on_arrival",o.condition_on_arrival),o.sender&&A.append("sender",o.sender),o.sender_address&&A.append("sender_address",o.sender_address),o.sender_phone&&A.append("sender_phone",o.sender_phone),o.recipient&&A.append("recipient",o.recipient),o.recipient_address&&A.append("recipient_address",o.recipient_address),o.recipient_phone&&A.append("recipient_phone",o.recipient_phone),o.recipient_email&&A.append("recipient_email",o.recipient_email),o.locker_provider&&A.append("locker_provider",o.locker_provider),o.locker_id&&A.append("locker_id",o.locker_id),o.pickup_provider&&A.append("pickup_provider",o.pickup_provider),o.pickup_location&&A.append("pickup_location",o.pickup_location),o.customs_description&&A.append("customs_description",o.customs_description),o.item_value&&A.append("item_value",o.item_value),o.hs_category&&A.append("hs_category",o.hs_category),o.insurance&&A.append("insurance",o.insurance),o.cod&&A.append("cod",o.cod),o.pickup_time&&A.append("pickup_time",o.pickup_time),o.delivery_deadline&&A.append("delivery_deadline",o.delivery_deadline),o.special_instructions&&A.append("special_instructions",o.special_instructions),o.issue_type&&A.append("issue_type",o.issue_type),o.issue_description&&A.append("issue_description",o.issue_description),A.append("replacement_requested",o.replacement_requested.toString()),A.append("replacement_approved",o.replacement_approved.toString()),o.replacement_eta&&A.append("replacement_eta",o.replacement_eta),o.replacement_of&&A.append("replacement_of",o.replacement_of),o.notes&&A.append("notes",o.notes),o.manual_notes&&A.append("manual_notes",o.manual_notes),o.ai_summary_notes&&A.append("ai_summary_notes",o.ai_summary_notes),await S.mutateAsync({id:e,data:A})}else{const A={category:o.category,product:o.product,description:o.description||void 0,vendor:o.vendor,vendor_link:o.vendor_link||void 0,sku:o.sku||void 0,dimensions:o.dimensions||void 0,weight:o.weight||void 0,material:o.material||void 0,color:o.color||void 0,model_number:o.model_number||void 0,brand:o.brand||void 0,country_of_origin:o.country_of_origin||void 0,sn:o.sn||void 0,unit_price:o.unit_price,qty:o.qty,shipping_cost:o.shipping_cost||void 0,discount:o.discount||void 0,currency:o.currency,availability:o.availability,status:o.status,room:o.room||void 0,link:o.link||void 0,size:o.size||void 0,nm:o.nm||void 0,price_per_nm:o.price_per_nm||void 0,price_per_package:o.price_per_package||void 0,nm_per_package:o.nm_per_package||void 0,eta:o.eta||null,ordered_on:o.ordered_on||null,payment_status:o.payment_status,payment_due_date:o.payment_due_date||null,payment_amount:o.payment_amount||null,paid_amount:o.paid_amount,delivery_type:o.delivery_type||void 0,delivery_status_tags:o.delivery_status_tags||void 0,delivery_address:o.delivery_address||void 0,delivery_city:o.delivery_city||void 0,delivery_postal_code:o.delivery_postal_code||void 0,delivery_country:o.delivery_country||void 0,delivery_time_window:o.delivery_time_window||void 0,delivery_instructions:o.delivery_instructions||void 0,delivery_contact_person:o.delivery_contact_person||void 0,delivery_contact_phone:o.delivery_contact_phone||void 0,delivery_contact_email:o.delivery_contact_email||void 0,delivery_notes:o.delivery_notes||void 0,tracking_number:o.tracking_number||void 0,condition_on_arrival:o.condition_on_arrival||void 0,delivery_deadline:o.delivery_deadline||void 0,special_instructions:o.special_instructions||void 0,replacement_of:o.replacement_of||void 0,notes:o.notes||void 0,manual_notes:o.manual_notes||void 0,ai_summary_notes:o.ai_summary_notes||void 0};await S.mutateAsync({id:e,data:A})}r({title:"Product Updated",description:"Product has been updated successfully."}),t(`/products/${e}`)}catch{}},F=o.unit_price&&o.qty?parseFloat(o.unit_price)*o.qty+(parseFloat(o.shipping_cost)||0)-(parseFloat(o.discount)||0):0,M=F-(parseFloat(o.paid_amount)||0);return s.jsx(yt,{title:"Edit Product",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ni,{children:s.jsxs(_i,{children:[s.jsx(fr,{children:s.jsx(Mn,{href:"/apartments",children:"Apartments"})}),s.jsx(Fn,{}),s.jsx(fr,{children:s.jsx(Mn,{href:`/apartments/${i}`,children:"Apartment"})}),s.jsx(Fn,{}),s.jsx(fr,{children:s.jsx(Mn,{href:`/products/${e}`,children:n.product})}),s.jsx(Fn,{}),s.jsx(fr,{children:s.jsx(Si,{children:"Edit"})})]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(re,{variant:"ghost",size:"icon",onClick:()=>t(`/products/${e}`),children:s.jsx(sr,{className:"h-4 w-4"})}),s.jsx("h1",{className:"text-3xl font-bold",children:"Edit Product"})]}),s.jsx("form",{onSubmit:U,children:s.jsx(oe,{children:s.jsxs(le,{children:[s.jsxs(nl,{value:x,onValueChange:p,children:[s.jsxs(co,{className:"grid w-full grid-cols-4 mt-6",children:[s.jsx(Gt,{value:"basic",children:"Basic Info"}),s.jsx(Gt,{value:"measurements",children:"Measurements"}),s.jsx(Gt,{value:"pricing",children:"Pricing"}),s.jsx(Gt,{value:"additional",children:"Additional"})]}),s.jsxs(Zt,{value:"basic",className:"space-y-6 mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Product Information"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"product",children:"Product Name *"}),s.jsx(ue,{id:"product",value:o.product,onChange:O=>l({...o,product:O.target.value}),placeholder:"Modern Sofa"}),c.product&&s.jsx("p",{className:"text-sm text-destructive",children:c.product})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"category",children:"Category *"}),s.jsx(tj,{options:j.map(O=>({value:O.id,label:O.name})),value:o.category,onValueChange:O=>l({...o,category:O}),onCreate:async O=>{const A=await E.mutateAsync({name:O,apartment:i,sheet_name:O});return{id:A.id,name:A.name}},placeholder:"Select category",searchPlaceholder:"Search categories...",emptyText:"No categories found.",createText:"Create new category",isLoading:b}),c.category&&s.jsx("p",{className:"text-sm text-destructive",children:c.category})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"vendor",children:"Vendor *"}),s.jsx(tj,{options:C.map(O=>({value:O.id,label:O.company_name||O.name})),value:o.vendor,onValueChange:O=>l({...o,vendor:O}),onNavigateToCreate:()=>{t("/vendors/new")},placeholder:"Select vendor",searchPlaceholder:"Search vendors...",emptyText:"No vendors found.",createText:"Create new vendor",isLoading:N}),c.vendor&&s.jsx("p",{className:"text-sm text-destructive",children:c.vendor})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"link",children:"Product Link (Optional)"}),s.jsx(ue,{id:"link",type:"url",value:o.link,onChange:O=>l({...o,link:O.target.value}),placeholder:"https://example.com/product"})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"sku",children:"SKU *"}),s.jsx(ue,{id:"sku",value:o.sku,onChange:O=>l({...o,sku:O.target.value}),placeholder:"SOFA-001"}),c.sku&&s.jsx("p",{className:"text-sm text-destructive",children:c.sku})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"room",children:"Room (Optional)"}),s.jsx(ue,{id:"room",value:o.room,onChange:O=>l({...o,room:O.target.value}),placeholder:"Living Room, Bedroom, etc."})]})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"imageFile",children:"Product Image"}),h?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"relative w-full h-48 border rounded-md overflow-hidden bg-muted",children:[s.jsx("img",{src:h,alt:"Product preview",className:"w-full h-full object-contain"}),s.jsx(re,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:I,children:"Remove"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:u==null?void 0:u.name})]}):s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ue,{id:"imageFile",type:"file",accept:"image/*",onChange:P,className:"cursor-pointer"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload a product image (JPG, PNG, GIF, etc.)"})]})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"unitPrice",children:"Unit Price (HUF) *"}),s.jsx(ue,{id:"unitPrice",type:"number",min:"0",step:"0.01",value:o.unit_price,onChange:O=>l({...o,unit_price:O.target.value}),placeholder:"150000"}),c.unitPrice&&s.jsx("p",{className:"text-sm text-destructive",children:c.unitPrice})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"qty",children:"Quantity *"}),s.jsx(ue,{id:"qty",type:"number",min:"1",value:o.qty,onChange:O=>l({...o,qty:parseInt(O.target.value)||1}),placeholder:"1"}),c.qty&&s.jsx("p",{className:"text-sm text-destructive",children:c.qty})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"availability",children:"Availability *"}),s.jsxs(nt,{value:o.availability,onValueChange:O=>l({...o,availability:O}),children:[s.jsx(et,{id:"availability",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"In Stock",children:"In Stock"}),s.jsx(J,{value:"Backorder",children:"Backorder"}),s.jsx(J,{value:"Out of Stock",children:"Out of Stock"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"status",children:"Product Status *"}),s.jsxs(nt,{value:o.status,onValueChange:O=>l({...o,status:O}),children:[s.jsx(et,{id:"status",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"Design Approved",children:"Design Approved"}),s.jsx(J,{value:"Ready To Order",children:"Ready To Order"}),s.jsx(J,{value:"Ordered",children:"Ordered"}),s.jsx(J,{value:"Shipped",children:"Shipped"}),s.jsx(J,{value:"Delivered",children:"Delivered"}),s.jsx(J,{value:"Damaged",children:"Damaged"}),s.jsx(J,{value:"Wrong Item",children:"Wrong Item"}),s.jsx(J,{value:"Missing",children:"Missing"})]})]})]})]})]}),s.jsxs(Zt,{value:"measurements",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Product Specifications"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"dimensions",children:"Dimensions"}),s.jsx(ue,{id:"dimensions",value:o.dimensions,onChange:O=>l({...o,dimensions:O.target.value}),placeholder:"120x80x45 cm"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"weight",children:"Weight"}),s.jsx(ue,{id:"weight",value:o.weight,onChange:O=>l({...o,weight:O.target.value}),placeholder:"25 kg"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"material",children:"Material"}),s.jsx(ue,{id:"material",value:o.material,onChange:O=>l({...o,material:O.target.value}),placeholder:"Oak Wood"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"color",children:"Color"}),s.jsx(ue,{id:"color",value:o.color,onChange:O=>l({...o,color:O.target.value}),placeholder:"Natural Oak"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"size",children:"Size"}),s.jsx(ue,{id:"size",value:o.size,onChange:O=>l({...o,size:O.target.value}),placeholder:"Large"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"NM Measurements (for Flooring/Tiles)"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"nm",children:"NM"}),s.jsx(ue,{id:"nm",type:"number",step:"0.01",value:o.nm,onChange:O=>l({...o,nm:O.target.value}),placeholder:"10.5"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"plusz_nm",children:"Plus NM"}),s.jsx(ue,{id:"plusz_nm",type:"number",step:"0.01",value:o.plusz_nm,onChange:O=>l({...o,plusz_nm:O.target.value}),placeholder:"1.5"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"price_per_nm",children:"Price per NM"}),s.jsx(ue,{id:"price_per_nm",type:"number",step:"0.01",value:o.price_per_nm,onChange:O=>l({...o,price_per_nm:O.target.value}),placeholder:"5000"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"price_per_package",children:"Price per Package"}),s.jsx(ue,{id:"price_per_package",type:"number",step:"0.01",value:o.price_per_package,onChange:O=>l({...o,price_per_package:O.target.value}),placeholder:"15000"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"nm_per_package",children:"NM per Package"}),s.jsx(ue,{id:"nm_per_package",type:"number",step:"0.01",value:o.nm_per_package,onChange:O=>l({...o,nm_per_package:O.target.value}),placeholder:"3"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"package_need_to_order",children:"Package Need to Order"}),s.jsx(ue,{id:"package_need_to_order",type:"number",value:o.package_need_to_order,onChange:O=>l({...o,package_need_to_order:O.target.value}),placeholder:"8"})]})]})]})]}),s.jsxs(Zt,{value:"pricing",className:"space-y-6 mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Payment Information"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"total_amount",children:"Total Amount (HUF)"}),s.jsx("div",{className:"h-10 px-3 py-2 rounded-md border border-input bg-muted flex items-center",children:s.jsx("span",{className:"font-semibold text-lg",children:F.toLocaleString()})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: (Unit Price  Qty) + Shipping - Discount"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"shipping_cost",children:"Shipping Cost (Optional)"}),s.jsx(ue,{id:"shipping_cost",type:"number",min:"0",step:"0.01",value:o.shipping_cost,onChange:O=>l({...o,shipping_cost:O.target.value}),placeholder:"0"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"discount",children:"Discount (Optional)"}),s.jsx(ue,{id:"discount",type:"number",min:"0",step:"0.01",value:o.discount,onChange:O=>l({...o,discount:O.target.value}),placeholder:"0"})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"paid_amount",children:"Paid Amount"}),s.jsx(ue,{id:"paid_amount",type:"number",min:"0",step:"0.01",value:o.paid_amount,onChange:O=>l({...o,paid_amount:O.target.value}),placeholder:"0"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Outstanding Balance"}),s.jsx("div",{className:`h-10 px-3 py-2 rounded-md border flex items-center ${M>0?"bg-red-50 border-red-200 text-red-700":"bg-green-50 border-green-200 text-green-700"}`,children:s.jsxs("span",{className:"font-semibold text-lg",children:[M.toLocaleString()," HUF"]})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: Total Amount - Paid Amount"})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"paymentStatus",children:"Payment Status *"}),s.jsxs(nt,{value:o.payment_status,onValueChange:O=>l({...o,payment_status:O}),children:[s.jsx(et,{id:"paymentStatus",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"Unpaid",children:"Unpaid"}),s.jsx(J,{value:"Partially Paid",children:"Partially Paid"}),s.jsx(J,{value:"Paid",children:"Paid"}),s.jsx(J,{value:"Overdue",children:"Overdue"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"currency",children:"Currency"}),s.jsxs(nt,{value:o.currency,onValueChange:O=>l({...o,currency:O}),children:[s.jsx(et,{id:"currency",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"HUF",children:"HUF (Hungarian Forint)"}),s.jsx(J,{value:"EUR",children:"EUR (Euro)"}),s.jsx(J,{value:"USD",children:"USD (US Dollar)"})]})]})]})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"paymentDueDate",children:"Payment Due Date *"}),s.jsx(ue,{id:"paymentDueDate",type:"date",value:o.payment_due_date,onChange:O=>l({...o,payment_due_date:O.target.value})})]})})]}),s.jsxs(Zt,{value:"additional",className:"space-y-6 mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Additional Information"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"brand",children:"Brand"}),s.jsx(ue,{id:"brand",value:o.brand,onChange:O=>l({...o,brand:O.target.value}),placeholder:"e.g., IKEA, Samsung, etc."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"country_of_origin",children:"Country of Origin"}),s.jsx(ue,{id:"country_of_origin",value:o.country_of_origin,onChange:O=>l({...o,country_of_origin:O.target.value}),placeholder:"e.g., Hungary, China, Germany"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"condition_on_arrival",children:"Condition on Arrival"}),s.jsx(ue,{id:"condition_on_arrival",value:o.condition_on_arrival,onChange:O=>l({...o,condition_on_arrival:O.target.value}),placeholder:"Good, Damaged, Needs Inspection, etc."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-md font-semibold",children:"Notes & Documentation"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"notes",children:"General Notes"}),s.jsx(ma,{id:"notes",value:o.notes,onChange:O=>l({...o,notes:O.target.value}),placeholder:"General notes about this product...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"manual_notes",children:"Manual Notes"}),s.jsx(ma,{id:"manual_notes",value:o.manual_notes,onChange:O=>l({...o,manual_notes:O.target.value}),placeholder:"Manual notes added by staff...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"ai_summary_notes",children:"AI Summary Notes"}),s.jsx(ma,{id:"ai_summary_notes",value:o.ai_summary_notes,onChange:O=>l({...o,ai_summary_notes:O.target.value}),placeholder:"AI-generated summary and insights...",rows:3}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"AI-generated summaries and recommendations"})]})]})]})]}),s.jsxs("div",{className:"flex gap-4 justify-between mt-6 border-t pt-6",children:[s.jsx("div",{children:x!=="basic"&&s.jsx(re,{type:"button",variant:"outline",onClick:O=>{O.preventDefault(),O.stopPropagation();const A=["basic","measurements","pricing","additional"],k=A.indexOf(x);k>0&&p(A[k-1])},children:" Previous"})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(re,{type:"button",variant:"outline",onClick:O=>{O.preventDefault(),O.stopPropagation(),t(`/products/${e}`)},children:"Cancel"}),x!=="additional"?s.jsx(re,{type:"button",onClick:O=>{O.preventDefault(),O.stopPropagation();const A=["basic","measurements","pricing","additional"],k=A.indexOf(x);k<A.length-1&&p(A[k+1])},children:"Next "}):s.jsxs(re,{type:"submit",disabled:S.isPending,children:[S.isPending&&s.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}),S.isPending?"Saving...":"Save Changes"]})]})]})]})})})]})})},IBe=hp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),V1=v.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:pe(IBe({variant:t}),e),...r}));V1.displayName="Alert";const RBe=v.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:pe("mb-1 font-medium leading-none tracking-tight",e),...t}));RBe.displayName="AlertTitle";const z1=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:pe("text-sm [&_p]:leading-relaxed",e),...t}));z1.displayName="AlertDescription";function MBe(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:h,children:m,...x}=f,p=(h==null?void 0:h[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return s.jsx(p.Provider,{value:g,children:m})}function u(f,h){const m=(h==null?void 0:h[e][c])||l,x=v.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,FBe(a,...t)]}function FBe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var L4="Progress",$4=100,[LBe,MJe]=MBe(L4),[$Be,BBe]=LBe(L4),fY=v.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=UBe,...o}=e;(a||a===0)&&!qL(a)&&console.error(VBe(`${a}`,"Progress"));const l=qL(a)?a:$4;n!==null&&!KL(n,l)&&console.error(zBe(`${n}`,"Progress"));const c=KL(n,l)?n:null,d=rj(c)?i(c,l):void 0;return s.jsx($Be,{scope:r,value:c,max:l,children:s.jsx(gt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":rj(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":pY(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});fY.displayName=L4;var hY="ProgressIndicator",mY=v.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=BBe(hY,r);return s.jsx(gt.div,{"data-state":pY(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});mY.displayName=hY;function UBe(e,t){return`${Math.round(e/t*100)}%`}function pY(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function rj(e){return typeof e=="number"}function qL(e){return rj(e)&&!isNaN(e)&&e>0}function KL(e,t){return rj(e)&&!isNaN(e)&&e<=t&&e>=0}function VBe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${$4}\`.`}function zBe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${$4} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var xY=fY,WBe=mY;const gY=v.forwardRef(({className:e,value:t,...r},n)=>s.jsx(xY,{ref:n,className:pe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(WBe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));gY.displayName=xY.displayName;const HBe=()=>{const e=cr(),[t]=xk(),r=t.get("apartmentId"),{toast:n}=pr(),[a,i]=v.useState(null),[o,l]=v.useState(!1),[c,d]=v.useState(0),[u,f]=v.useState(null),[h,m]=v.useState(""),[x,p]=v.useState(""),{data:g,isLoading:b}=Gf(),y=(g==null?void 0:g.results)||[],j=C=>C<1024?C+" B":C<1024*1024?(C/1024).toFixed(2)+" KB":(C/(1024*1024)).toFixed(2)+" MB",w=C=>{var E;const S=(E=C.target.files)==null?void 0:E[0];if(S){if(!S.name.match(/\.(xlsx|xls|csv)$/i)){Me.error("Please select a valid Excel or CSV file");return}if(S.size>50*1024*1024){Me.error("File too large. Maximum size is 50MB");return}i(S),m(j(S.size)),f(null)}},N=async()=>{var C,S;if(!a||!r){Me.error("Please select a file");return}l(!0),d(0);try{const E=setInterval(()=>{d(I=>I>=90?(clearInterval(E),90):I+10)},200);console.log(" DEBUG: Sending import request with:",{file:a.name,apartmentId:r,selectedVendorId:x||"none"});const P=await vi.importProducts(a,r,x||"");clearInterval(E),d(100),f(P),n({title:"Import Successful!",description:s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-semibold",children:P.message}),s.jsxs("p",{className:"text-sm",children:["Total products: ",P.total_products]}),s.jsxs("p",{className:"text-sm",children:["Successfully imported: ",P.successful_imports]}),P.failed_imports>0&&s.jsxs("p",{className:"text-sm text-yellow-600",children:["Failed: ",P.failed_imports]})]})}),setTimeout(()=>{e(`/apartments/${r}`)},2e3)}catch(E){console.error("Import error:",E),n({title:"Import Failed",description:((S=(C=E.response)==null?void 0:C.data)==null?void 0:S.message)||E.message||"Failed to import products. Please try again.",variant:"destructive"}),d(0)}finally{l(!1)}},_=async()=>{try{const C=await vi.downloadImportTemplate(),S=window.URL.createObjectURL(C),E=document.createElement("a");E.href=S,E.download="apartment-template.xlsx",document.body.appendChild(E),E.click(),window.URL.revokeObjectURL(S),document.body.removeChild(E),Me.success("Template downloaded successfully")}catch{Me.error("Failed to download template")}};return s.jsx(yt,{title:"Import Products",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(re,{variant:"ghost",onClick:()=>e(-1),disabled:o,children:[s.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back"]}),s.jsxs(oe,{children:[s.jsxs(Fe,{children:[s.jsx($e,{className:"text-xl",children:"Select Vendor (Optional)"}),s.jsx(Lr,{className:"mt-1",children:"Optionally choose a vendor to assign to all imported products"})]}),s.jsx(le,{children:s.jsxs(nt,{value:x,onValueChange:p,disabled:o,children:[s.jsx(et,{className:"w-full",children:s.jsx(st,{placeholder:"Select a vendor"})}),s.jsx(tt,{children:b?s.jsx(J,{value:"loading",disabled:!0,children:"Loading vendors..."}):y.length===0?s.jsx(J,{value:"no-vendors",disabled:!0,children:"No vendors available"}):y.map(C=>s.jsx(J,{value:C.id,children:C.name},C.id))})]})})]}),s.jsxs(oe,{className:"border-2 border-dashed",children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx($e,{className:"text-xl",children:"Upload File"}),s.jsx(Lr,{className:"mt-1",children:"Select an Excel (.xlsx, .xls) or CSV file (max 50MB)"})]}),a&&h&&s.jsx(Pe,{variant:"secondary",className:"text-sm",children:h})]})}),s.jsx(le,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"cursor-pointer",children:[s.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:w,className:"hidden",disabled:o}),s.jsx(re,{variant:"outline",asChild:!0,disabled:o,className:"relative overflow-hidden",children:s.jsx("span",{children:o?s.jsxs(s.Fragment,{children:[s.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(kl,{className:"mr-2 h-4 w-4"}),"Choose File"]})})})]}),a&&!o&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(y9,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium",children:a.name}),s.jsx("span",{className:"text-xs text-muted-foreground",children:h})]})]})]}),o&&c>0&&s.jsxs("div",{className:"space-y-2 p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:"Uploading and processing..."}),s.jsxs("span",{className:"text-muted-foreground",children:[c.toFixed(0),"%"]})]}),s.jsx(gY,{value:c,className:"h-2"})]}),s.jsx("div",{className:"flex justify-start",children:s.jsxs(re,{variant:"outline",size:"sm",onClick:_,disabled:o,children:[s.jsx(qj,{className:"mr-2 h-4 w-4"}),"Download Template"]})})]})})]}),u&&s.jsxs(oe,{children:[s.jsxs(Fe,{children:[s.jsx($e,{children:"Import Results"}),s.jsx(Lr,{children:"Summary of the import operation"})]}),s.jsxs(le,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(V1,{children:[s.jsx(gn,{className:"h-4 w-4 text-success"}),s.jsxs(z1,{children:[s.jsx("div",{className:"font-semibold",children:"Total Products"}),s.jsx("div",{className:"text-2xl",children:u.total_products})]})]}),s.jsxs(V1,{children:[s.jsx(gn,{className:"h-4 w-4 text-success"}),s.jsxs(z1,{children:[s.jsx("div",{className:"font-semibold",children:"Successfully Imported"}),s.jsx("div",{className:"text-2xl text-green-600",children:u.successful_imports})]})]}),u.failed_imports>0&&s.jsxs(V1,{variant:"destructive",children:[s.jsx(Et,{className:"h-4 w-4"}),s.jsxs(z1,{children:[s.jsx("div",{className:"font-semibold",children:"Failed"}),s.jsx("div",{className:"text-2xl",children:u.failed_imports})]})]})]}),u.errors&&u.errors.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Errors:"}),s.jsx("div",{className:"space-y-1",children:u.errors.map((C,S)=>s.jsx("div",{className:"text-sm text-destructive bg-destructive/10 p-2 rounded",children:C},S))})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(re,{onClick:()=>e(`/apartments/${r}`),children:[s.jsx(gn,{className:"mr-2 h-4 w-4"}),"View Products"]})})]})]}),a&&!u&&s.jsx(oe,{children:s.jsx(le,{className:"pt-6",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(re,{variant:"outline",onClick:()=>{i(null),m("")},disabled:o,children:"Clear"}),s.jsx(re,{onClick:N,disabled:!a||o,className:"min-w-[200px]",children:o?s.jsxs(s.Fragment,{children:[s.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(kl,{className:"mr-2 h-4 w-4"}),"Import Products"]})})]})})})]})})},GBe=({open:e,onOpenChange:t,order:r})=>{const{toast:n}=pr(),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),h=x=>{if(x.preventDefault(),!a){n({title:"Validation Error",description:"Please enter a tracking number",variant:"destructive"});return}n({title:"Tracking Updated",description:`Delivery tracking updated for ${r==null?void 0:r.po_number}`}),t(!1)};if(!r)return null;const m=[{date:"2025-11-06 16:45",status:"Out for Delivery",location:"Local Hub - Budapest",description:"Package is out for delivery and will arrive today",active:!0},{date:"2025-11-06 09:15",status:"In Transit",location:"Distribution Center",description:"Package is on the way to delivery location",active:!1},{date:"2025-11-05 14:30",status:"Package Dispatched",location:"Warehouse - Budapest",description:"Package has been dispatched from warehouse",active:!1}];return s.jsx(bn,{open:e,onOpenChange:t,children:s.jsxs(dn,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsx(wn,{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-1.5 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg",children:s.jsx(yr,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx(jn,{className:"text-lg font-bold",children:"Delivery Tracking"}),s.jsxs(Xs,{className:"text-sm",children:["Track delivery for ",r.po_number]})]})]})}),s.jsx(Tt,{}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsxs("div",{className:"space-y-4 p-1",children:[s.jsx(oe,{className:"border bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-950/20 dark:to-cyan-950/20",children:s.jsxs(le,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-1.5 bg-blue-600/10 rounded",children:s.jsx(mt,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Status"}),s.jsx("p",{className:"text-sm font-bold",children:r.status})]})]}),s.jsx(Pe,{className:"bg-blue-600 text-white text-xs px-2 py-1",children:r.tracking||"No Tracking"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-blue-200 dark:border-blue-800",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"h-3.5 w-3.5 text-blue-600 dark:text-blue-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"To"}),s.jsx("p",{className:"text-sm font-medium",children:r.apartment})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xne,{className:"h-3.5 w-3.5 text-blue-600 dark:text-blue-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"From"}),s.jsx("p",{className:"text-sm font-medium",children:r.vendor})]})]})]})]})}),r.tracking&&s.jsx(oe,{className:"border",children:s.jsxs(le,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 pb-2 mb-3 border-b",children:[s.jsx("div",{className:"p-1 bg-primary/10 rounded",children:s.jsx(Vr,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Tracking History"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery updates"})]})]}),s.jsx("div",{className:"space-y-4",children:m.map((x,p)=>s.jsxs("div",{className:"flex gap-3 relative",children:[p!==m.length-1&&s.jsx("div",{className:"absolute left-3.5 top-8 bottom-0 w-0.5 bg-gradient-to-b from-primary to-muted"}),s.jsx("div",{className:"relative flex-shrink-0",children:s.jsx("div",{className:`w-7 h-7 rounded-full border-2 border-background flex items-center justify-center ${x.active?"bg-primary shadow-md":"bg-muted"}`,children:x.active?s.jsx(yr,{className:"h-3.5 w-3.5 text-primary-foreground"}):s.jsx(Br,{className:"h-3.5 w-3.5 text-muted-foreground"})})}),s.jsxs("div",{className:`flex-1 pb-2 ${x.active?"pt-0.5":""}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("p",{className:`font-semibold text-sm ${x.active?"text-primary":""}`,children:x.status}),s.jsx(Pe,{variant:"outline",className:"text-xs",children:x.date})]}),s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(ha,{className:"h-3 w-3"}),x.location]})]})]},p))})]})}),s.jsx(oe,{className:"border",children:s.jsxs(le,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 pb-2 mb-3 border-b",children:[s.jsx("div",{className:"p-1 bg-primary/10 rounded",children:s.jsx(mt,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Update Tracking"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Modify delivery details"})]})]}),s.jsxs("form",{onSubmit:h,className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs(H,{htmlFor:"tracking",className:"flex items-center gap-1.5 text-xs font-medium",children:[s.jsx(mt,{className:"h-3 w-3 text-primary"}),"Tracking Number *"]}),s.jsx(ue,{id:"tracking",placeholder:"TRK-99234",value:a,onChange:x=>i(x.target.value),defaultValue:r.tracking,className:"h-9 text-sm"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs(H,{htmlFor:"estimated",className:"flex items-center gap-1.5 text-xs font-medium",children:[s.jsx(tn,{className:"h-3 w-3 text-primary"}),"Delivery Date"]}),s.jsx(ue,{id:"estimated",type:"date",value:o,onChange:x=>l(x.target.value),className:"h-9 text-sm"})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs(H,{htmlFor:"person",className:"flex items-center gap-1.5 text-xs font-medium",children:[s.jsx(Zn,{className:"h-3 w-3 text-primary"}),"Courier / Person"]}),s.jsx(ue,{id:"person",placeholder:"Delivery person or courier service",value:c,onChange:x=>d(x.target.value),className:"h-9 text-sm"})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(H,{htmlFor:"notes",className:"text-xs font-medium",children:"Notes"}),s.jsx(In,{id:"notes",placeholder:"Special instructions or notes...",value:u,onChange:x=>f(x.target.value),rows:3,className:"resize-none text-sm"})]}),s.jsx(Tt,{className:"my-3"}),s.jsxs(qo,{className:"gap-2",children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>t(!1),size:"sm",children:"Cancel"}),s.jsxs(re,{type:"submit",className:"gap-1.5",size:"sm",children:[s.jsx(Br,{className:"h-3.5 w-3.5"}),"Update"]})]})]})]})})]})})]})})},XL={draft:"sent",sent:"sent",Draft:"sent",Sent:"sent"},YL={draft:"Draft",sent:"Sent"},qBe=({open:e,onOpenChange:t,order:r,onStatusUpdate:n})=>{const{toast:a}=pr(),[i,o]=v.useState("");if(!r)return null;const l=r.status.toLowerCase(),c=XL[r.status]||XL[l],d=l==="sent",u=YL[l]||r.status,f=YL[c]||c,h=x=>{if(x.preventDefault(),d){a({title:"Already Sent",description:"This order has already been sent to vendor. Track fulfillment in Deliveries page.",variant:"default"});return}n(r.id,c),a({title:"Status Updated",description:`Order ${r.po_number} status changed to ${f}`}),o(""),t(!1)},m=x=>{const p=x.toLowerCase();return{draft:"bg-gray-500/10 text-gray-500",sent:"bg-blue-500/10 text-blue-500"}[p]||"bg-gray-500/10 text-gray-500"};return s.jsx(bn,{open:e,onOpenChange:t,children:s.jsxs(dn,{className:"max-w-md",children:[s.jsxs(wn,{children:[s.jsxs(jn,{className:"flex items-center gap-2",children:[s.jsx(Br,{className:"h-5 w-5"}),"Update Order Status"]}),s.jsxs(Xs,{children:["Change the status of order ",r.po_number]})]}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsx("div",{className:"bg-muted p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsx(Pe,{className:m(r.status),children:u}),s.jsx(pb,{className:"h-5 w-5 text-muted-foreground"}),s.jsx(Pe,{className:m(c),children:f})]})}),d?s.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4 text-center",children:[s.jsx(Br,{className:"h-12 w-12 text-blue-500 mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-medium",children:"Order Already Sent"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Track fulfillment in the Deliveries page"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsx("p",{className:"font-medium",children:"What happens next?"}),s.jsx("ul",{className:"space-y-1 text-muted-foreground ml-4 list-disc text-xs",children:c==="sent"&&s.jsxs(s.Fragment,{children:[s.jsx("li",{children:"Order will be marked as sent to vendor"}),s.jsx("li",{children:"Create a delivery record to track fulfillment"}),s.jsx("li",{children:"Vendor will confirm and ship items"})]})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(H,{htmlFor:"notes",className:"text-sm",children:"Notes (Optional)"}),s.jsx(In,{id:"notes",placeholder:"Add any notes about this status change...",value:i,onChange:x=>o(x.target.value),rows:3,className:"text-sm"})]})]}),s.jsxs(qo,{children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>t(!1),size:"sm",children:"Cancel"}),!d&&s.jsxs(re,{type:"submit",size:"sm",children:["Update to ",f]})]})]})]})})},Ka=ir.create({baseURL:ji,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});Ka.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Ka.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});const oa={getOrders:async e=>(await Ka.get("/orders/",{params:e})).data,getOrder:async e=>(await Ka.get(`/orders/${e}/`)).data,createOrder:async e=>(await Ka.post("/orders/",e)).data,updateOrder:async(e,t)=>(await Ka.patch(`/orders/${e}/`,t)).data,deleteOrder:async e=>{await Ka.delete(`/orders/${e}/`)},getStatistics:async()=>(await Ka.get("/orders/statistics/")).data,updateStatus:async(e,t)=>(await Ka.patch(`/orders/${e}/`,{status:t})).data,markDelivered:async(e,t)=>(await Ka.patch(`/orders/${e}/`,{status:"delivered",actual_delivery:t||new Date().toISOString().split("T")[0],is_delivered:!0})).data,getVendorOrders:async e=>(await Ka.get("/orders/",{params:{vendor:e}})).data,getApartmentOrders:async e=>(await Ka.get("/orders/",{params:{apartment:e}})).data,getDashboardCharts:async()=>(await Ka.get("/dashboard/charts/")).data},vY=e=>{const[t,r]=v.useState([]),[n,a]=v.useState(!0),[i,o]=v.useState(null),[l,c]=v.useState(0),[d,u]=v.useState(null),[f,h]=v.useState(null),m=v.useCallback(async()=>{try{a(!0),o(null);const j=await oa.getOrders(e);r(j.results),c(j.count),u(j.next),h(j.previous)}catch(j){o(j.message||"Failed to fetch orders"),Me.error("Failed to fetch orders")}finally{a(!1)}},[e==null?void 0:e.search,e==null?void 0:e.status,e==null?void 0:e.vendor,e==null?void 0:e.apartment,e==null?void 0:e.ordering,e==null?void 0:e.page]);return v.useEffect(()=>{m()},[m]),{orders:t,loading:n,error:i,totalCount:l,nextPage:d,previousPage:f,refetch:m,createOrder:async j=>{var w,N;try{const _=await oa.createOrder(j);return r(C=>[_,...C]),Me.success("Order created successfully"),_}catch(_){throw Me.error(((N=(w=_.response)==null?void 0:w.data)==null?void 0:N.message)||"Failed to create order"),_}},updateOrder:async(j,w)=>{var N,_;try{const C=await oa.updateOrder(j,w);return r(S=>S.map(E=>E.id===j?C:E)),Me.success("Order updated successfully"),C}catch(C){throw Me.error(((_=(N=C.response)==null?void 0:N.data)==null?void 0:_.message)||"Failed to update order"),C}},deleteOrder:async j=>{var w,N;try{await oa.deleteOrder(j),r(_=>_.filter(C=>C.id!==j)),Me.success("Order deleted successfully")}catch(_){throw Me.error(((N=(w=_.response)==null?void 0:w.data)==null?void 0:N.message)||"Failed to delete order"),_}},updateStatus:async(j,w)=>{var N,_;try{const C=await oa.updateStatus(j,w);return r(S=>S.map(E=>E.id===j?C:E)),Me.success(`Order status updated to ${w}`),C}catch(C){throw Me.error(((_=(N=C.response)==null?void 0:N.data)==null?void 0:_.message)||"Failed to update order status"),C}},markDelivered:async(j,w)=>{var N,_;try{const C=await oa.markDelivered(j,w);return r(S=>S.map(E=>E.id===j?C:E)),Me.success("Order marked as delivered"),C}catch(C){throw Me.error(((_=(N=C.response)==null?void 0:N.data)==null?void 0:_.message)||"Failed to mark order as delivered"),C}}}},yY=e=>{const[t,r]=v.useState(null),[n,a]=v.useState(!0),[i,o]=v.useState(null);return v.useEffect(()=>{e&&(async()=>{try{a(!0),o(null);const d=await oa.getOrder(e);r(d)}catch(d){o(d.message||"Failed to fetch order"),Me.error("Failed to fetch order details")}finally{a(!1)}})()},[e]),{order:t,loading:n,error:i,updateOrder:async c=>{var d,u;try{const f=await oa.updateOrder(e,c);return r(f),Me.success("Order updated successfully"),f}catch(f){throw Me.error(((u=(d=f.response)==null?void 0:d.data)==null?void 0:u.message)||"Failed to update order"),f}}}},KBe=()=>{const[e,t]=v.useState(null),[r,n]=v.useState(!0),[a,i]=v.useState(null);return v.useEffect(()=>{(async()=>{try{n(!0),i(null);const l=await oa.getStatistics();t(l)}catch(l){i(l.message||"Failed to fetch statistics"),console.error("Failed to fetch order statistics:",l)}finally{n(!1)}})()},[]),{statistics:e,loading:r,error:a}},XBe=()=>{const[e,t]=v.useState(null),[r,n]=v.useState(!0),[a,i]=v.useState(null);return v.useEffect(()=>{(async()=>{try{n(!0),i(null);const l=await oa.getDashboardCharts();t(l)}catch(l){i(l.message||"Failed to fetch chart data"),console.error("Failed to fetch order chart data:",l)}finally{n(!1)}})()},[]),{chartData:e,loading:r,error:a}},YBe=()=>{var T;const e=cr(),{toast:t}=pr(),[r,n]=v.useState(""),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(!1),[u,f]=v.useState(!1),[h,m]=v.useState(!1),[x,p]=v.useState(null),[g,b]=v.useState(!1),{orders:y,loading:j,error:w,totalCount:N,updateStatus:_,markDelivered:C,deleteOrder:S,refetch:E}=vY({search:r,status:a||void 0,vendor:o||void 0}),{statistics:P,loading:I}=KBe(),{chartData:D,loading:U}=XBe(),F=v.useMemo(()=>{const L=new Set;return y.forEach(R=>{R.vendor_name&&L.add(R.vendor_name)}),Array.from(L)},[y]),M=async(L,R)=>{try{await _(String(L),R),f(!1),p(null)}catch(K){console.error("Failed to update status:",K)}},O=async()=>{if(x)try{b(!0),await S(x.id),m(!1),p(null)}catch(L){console.error("Failed to delete order:",L)}finally{b(!1)}},A=L=>{const R=L.toLowerCase();return{draft:"bg-gray-500/10 text-gray-500",sent:"bg-blue-500/10 text-blue-500"}[R]||"bg-gray-500/10 text-gray-500"},k=(P==null?void 0:P.total_value)||y.reduce((L,R)=>L+Number(R.total),0),W=(P==null?void 0:P.average_order_value)||(y.length>0?k/y.length:0),fe=(D==null?void 0:D.vendor_spending)||[],de=((T=D==null?void 0:D.monthly_orders)==null?void 0:T.map(L=>({month:L.month,orders:L.orders,spending:L.value})))||[];return s.jsxs(yt,{title:"Orders Management",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold",children:j?"-":N||y.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:I?"Loading...":"All time"})]}),s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(mt,{className:"h-6 w-6 text-primary"})})]})})}),s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Spending"}),s.jsxs("p",{className:"text-2xl font-bold",children:["",k.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg: ",W.toFixed(0)]})]}),s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Rr,{className:"h-6 w-6 text-primary"})})]})})}),s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold",children:j?"-":(P==null?void 0:P.pending_orders)||y.filter(L=>L.status.toLowerCase()==="sent").length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Sent to vendor"})]}),s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Vr,{className:"h-6 w-6 text-primary"})})]})})}),s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Received"}),s.jsx("p",{className:"text-2xl font-bold",children:j?"-":(P==null?void 0:P.delivered_orders)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivered orders"})]}),s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(yr,{className:"h-6 w-6 text-primary"})})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsx($e,{children:"Spending by Vendor"})}),s.jsx(le,{children:U?s.jsx("div",{className:"h-[280px] flex items-center justify-center",children:s.jsx(St,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):fe.length===0?s.jsxs("div",{className:"h-[280px] flex flex-col items-center justify-center text-center space-y-3",children:[s.jsx(Rr,{className:"h-10 w-10 text-muted-foreground/50"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"No vendor data available"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Create orders to see analytics"})]}),s.jsxs(re,{onClick:()=>e("/orders/new"),size:"sm",variant:"outline",children:[s.jsx(An,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}):s.jsx(Iv,{config:{amount:{label:"Amount ()",color:"hsl(var(--primary))"}},className:"h-[280px]",children:s.jsxs(b_,{data:fe,children:[s.jsx(Ml,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(Ba,{dataKey:"vendor",className:"text-xs"}),s.jsx(Ua,{className:"text-xs"}),s.jsx(Hn,{content:s.jsx(Rv,{})}),s.jsx(ro,{dataKey:"amount",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsx($e,{children:"Monthly Order Trends"})}),s.jsx(le,{children:U?s.jsx("div",{className:"h-[280px] flex items-center justify-center",children:s.jsx(St,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):de.length===0?s.jsxs("div",{className:"h-[280px] flex flex-col items-center justify-center text-center space-y-3",children:[s.jsx($o,{className:"h-10 w-10 text-muted-foreground/50"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"No trend data available"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Create orders to see trends"})]}),s.jsxs(re,{onClick:()=>e("/orders/new"),size:"sm",variant:"outline",children:[s.jsx(An,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}):s.jsx(Iv,{config:{orders:{label:"Orders",color:"hsl(var(--primary))"},spending:{label:"Spending ()",color:"hsl(var(--chart-2))"}},className:"h-[280px]",children:s.jsxs(y_,{data:de,children:[s.jsx(Ml,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(Ba,{dataKey:"month",className:"text-xs"}),s.jsx(Ua,{className:"text-xs"}),s.jsx(Hn,{content:s.jsx(Rv,{})}),s.jsx(Ro,{}),s.jsx(Fl,{type:"monotone",dataKey:"orders",stroke:"hsl(var(--primary))",strokeWidth:2}),s.jsx(Fl,{type:"monotone",dataKey:"spending",stroke:"hsl(var(--chart-2))",strokeWidth:2})]})})})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ss,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{placeholder:"Search by PO number, apartment, or vendor...",value:r,onChange:L=>n(L.target.value),className:"pl-9"})]}),s.jsxs(nt,{value:a,onValueChange:i,children:[s.jsx(et,{className:"w-[180px]",children:s.jsx(st,{placeholder:"Filter by status"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"all",children:"All Statuses"}),s.jsx(J,{value:"draft",children:"Draft"}),s.jsx(J,{value:"sent",children:"Sent"})]})]}),s.jsxs(nt,{value:o,onValueChange:l,children:[s.jsx(et,{className:"w-[180px]",children:s.jsx(st,{placeholder:"Filter by vendor"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"all",children:"All Vendors"}),F.map(L=>s.jsx(J,{value:L,children:L},L))]})]}),s.jsxs(re,{onClick:()=>e("/orders/new"),children:[s.jsx(An,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs($e,{children:["All Orders (",j?"...":y.length,")"]}),s.jsxs(re,{variant:"outline",size:"sm",children:[s.jsx(qI,{className:"h-4 w-4 mr-2"}),"Sort"]})]})}),s.jsx(le,{children:s.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:s.jsxs(ds,{children:[s.jsx(us,{children:s.jsxs(Rt,{children:[s.jsx(Ee,{children:"PO Number"}),s.jsx(Ee,{children:"Apartment"}),s.jsx(Ee,{children:"Vendor"}),s.jsx(Ee,{children:"Items"}),s.jsx(Ee,{children:"Total"}),s.jsx(Ee,{children:"Confirmation"}),s.jsx(Ee,{children:"Tracking"}),s.jsx(Ee,{children:"Status"}),s.jsx(Ee,{children:"Placed On"}),s.jsx(Ee,{className:"text-right",children:"Actions"})]})}),s.jsx(fs,{children:j?s.jsx(Rt,{children:s.jsxs(ye,{colSpan:10,className:"text-center py-8",children:[s.jsx(St,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),"Loading orders..."]})}):y.length===0?s.jsx(Rt,{children:s.jsx(ye,{colSpan:10,className:"text-center py-8 text-muted-foreground",children:"No orders found"})}):y.map(L=>s.jsxs(Rt,{children:[s.jsx(ye,{className:"font-medium",children:L.po_number}),s.jsx(ye,{children:L.apartment_name||"N/A"}),s.jsx(ye,{children:L.vendor_name||"N/A"}),s.jsxs(ye,{children:[L.items_count," items"]}),s.jsxs(ye,{children:["",Number(L.total).toLocaleString()]}),s.jsx(ye,{children:L.confirmation_code?s.jsx("span",{className:"text-xs font-mono",children:L.confirmation_code}):s.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),s.jsx(ye,{children:L.tracking_number?s.jsx("span",{className:"text-xs font-mono",children:L.tracking_number}):s.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),s.jsx(ye,{children:s.jsx(Pe,{className:A(L.status),children:L.status})}),s.jsx(ye,{children:Qt(new Date(L.placed_on),"yyyy-MM-dd")}),s.jsx(ye,{className:"text-right",children:s.jsxs(C0,{children:[s.jsx(E0,{asChild:!0,children:s.jsxs(re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(g9,{className:"h-4 w-4"})]})}),s.jsxs(Sp,{align:"end",className:"w-56",children:[s.jsx(BE,{className:"font-semibold text-xs text-muted-foreground uppercase tracking-wide",children:"Order Actions"}),s.jsx(gc,{}),s.jsxs(mn,{onClick:()=>e(`/orders/${L.id}`),className:"cursor-pointer py-2.5",children:[s.jsx(Da,{className:"mr-3 h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:"View Details"})]}),s.jsxs(mn,{onClick:()=>e(`/orders/${L.id}/edit`),className:"cursor-pointer py-2.5",children:[s.jsx(Hs,{className:"mr-3 h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:"Edit Order"})]}),s.jsxs(mn,{onClick:()=>{navigator.clipboard.writeText(L.po_number),t({title:"Copied to clipboard",description:`PO Number ${L.po_number} has been copied.`})},className:"cursor-pointer py-2.5",children:[s.jsx(ane,{className:"mr-3 h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:"Copy PO Number"})]}),s.jsx(gc,{}),s.jsx(BE,{className:"font-semibold text-xs text-muted-foreground uppercase tracking-wide",children:"Status & Delivery"}),s.jsxs(mn,{onClick:()=>{p(L),f(!0)},className:"cursor-pointer py-2.5",children:[s.jsx(qI,{className:"mr-3 h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:"Update Status"})]}),s.jsxs(mn,{onClick:()=>{p(L),d(!0)},className:"cursor-pointer py-2.5",children:[s.jsx(yr,{className:"mr-3 h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:"Delivery Tracking"})]}),L.status.toLowerCase()==="draft"&&s.jsxs(mn,{onClick:()=>_(String(L.id),"sent"),className:"cursor-pointer py-2.5",children:[s.jsx(gn,{className:"mr-3 h-4 w-4 text-blue-500"}),s.jsx("span",{className:"text-blue-600",children:"Mark as Sent"})]}),s.jsx(gc,{}),(L.status.toLowerCase()==="draft"||L.status.toLowerCase()==="sent")&&s.jsxs(mn,{onClick:()=>_(String(L.id),"cancelled"),className:"cursor-pointer py-2.5 text-orange-600 focus:text-orange-600 focus:bg-orange-500/10",children:[s.jsx(l0,{className:"mr-3 h-4 w-4"}),s.jsx("span",{children:"Cancel Order"})]}),s.jsxs(mn,{onClick:()=>{p(L),m(!0)},className:"cursor-pointer py-2.5 text-destructive focus:text-destructive focus:bg-destructive/10",children:[s.jsx(Xr,{className:"mr-3 h-4 w-4"}),s.jsx("span",{children:"Delete Order"})]})]})]})})]},L.id))})]})})})]})]}),s.jsx(GBe,{open:c,onOpenChange:d,order:x}),s.jsx(qBe,{open:u,onOpenChange:f,order:x,onStatusUpdate:M}),s.jsx(Gl,{open:h,onOpenChange:m,children:s.jsxs(Xo,{children:[s.jsxs(Yo,{children:[s.jsx(Zo,{children:"Delete Order"}),s.jsxs(Jo,{children:["Are you sure you want to delete order ",s.jsx("strong",{children:x==null?void 0:x.po_number}),"? This action cannot be undone and will permanently remove the order and all its items."]})]}),s.jsxs(Qo,{children:[s.jsx(tl,{disabled:g,children:"Cancel"}),s.jsx(el,{onClick:O,disabled:g,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:g?s.jsxs(s.Fragment,{children:[s.jsx(St,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):"Delete Order"})]})]})})]})};var B4="Checkbox",[QBe,FJe]=ya(B4),[ZBe,JBe]=QBe(B4),bY=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[h,m]=v.useState(null),x=Ft(t,w=>m(w)),p=v.useRef(!1),g=h?u||!!h.closest("form"):!0,[b=!1,y]=Qi({prop:a,defaultProp:i,onChange:d}),j=v.useRef(b);return v.useEffect(()=>{const w=h==null?void 0:h.form;if(w){const N=()=>y(j.current);return w.addEventListener("reset",N),()=>w.removeEventListener("reset",N)}},[h,y]),s.jsxs(ZBe,{scope:r,state:b,disabled:l,children:[s.jsx(gt.button,{type:"button",role:"checkbox","aria-checked":Bd(b)?"mixed":b,"aria-required":o,"data-state":NY(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onKeyDown:Ue(e.onKeyDown,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Ue(e.onClick,w=>{y(N=>Bd(N)?!0:!N),g&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),g&&s.jsx(e9e,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Bd(i)?!1:i})]})});bY.displayName=B4;var wY="CheckboxIndicator",jY=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=JBe(wY,r);return s.jsx(Jn,{present:n||Bd(i.state)||i.state===!0,children:s.jsx(gt.span,{"data-state":NY(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});jY.displayName=wY;var e9e=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...i}=e,o=v.useRef(null),l=w_(r),c=Jj(t);v.useEffect(()=>{const u=o.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&m){const x=new Event("click",{bubbles:n});u.indeterminate=Bd(r),m.call(u,Bd(r)?!1:r),u.dispatchEvent(x)}},[l,r,n]);const d=v.useRef(Bd(r)?!1:r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Bd(e){return e==="indeterminate"}function NY(e){return Bd(e)?"indeterminate":e?"checked":"unchecked"}var _Y=bY,t9e=jY;const Ll=v.forwardRef(({className:e,...t},r)=>s.jsx(_Y,{ref:r,className:pe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(t9e,{className:pe("flex items-center justify-center text-current"),children:s.jsx(Ui,{className:"h-4 w-4"})})}));Ll.displayName=_Y.displayName;const r9e=()=>{const e=cr(),{toast:t}=pr(),[r,n]=v.useState(""),[a,i]=v.useState("all"),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[h,m]=v.useState("draft"),[x,p]=v.useState(""),[g,b]=v.useState(""),[y,j]=v.useState(""),[w,N]=v.useState([]),[_,C]=v.useState(""),[S,E]=v.useState(""),[P,I]=v.useState([]),[D,U]=v.useState([]),[F,M]=v.useState([]),[O,A]=v.useState([]),[k,W]=v.useState(!1),[fe,de]=v.useState(!1),[T,L]=v.useState(!1),R=v.useMemo(()=>r?F.filter(G=>!a||a==="all"||G.vendor===a):[],[F,r,a]);v.useEffect(()=>{let G=!1;return(async()=>{try{W(!0);const[xe,ve]=await Promise.all([Hf.getApartments({page_size:100}),rl.getVendors()]);if(G)return;I(xe.results||[]),U(ve.results||[])}catch(xe){console.error("Failed to load apartments/vendors",xe),t({title:"Failed to load data",description:"Could not load apartments or vendors. Please try again.",variant:"destructive"})}finally{G||W(!1)}})(),()=>{G=!0}},[t]),v.useEffect(()=>{let G=!1;return(async()=>{if(!r){M([]),A([]);return}try{de(!0);const xe=await vi.getProducts({apartment:r,page_size:1e3});if(G)return;M(xe.results||[]),A([])}catch(xe){console.error("Failed to load products",xe),t({title:"Failed to load products",description:"Could not load products for this apartment.",variant:"destructive"})}finally{G||de(!1)}})(),()=>{G=!0}},[r,t]);const K=G=>{A(ce=>ce.find(ve=>ve.id===G)?ce.filter(ve=>ve.id!==G):[...ce,{id:G,quantity:1}])},q=(G,ce)=>{A(xe=>xe.map(ve=>ve.id===G?{...ve,quantity:ce}:ve))},Z=()=>{if(O.length===0){t({title:"No products selected",description:"Please select at least one product to add to the order.",variant:"destructive"});return}const G=[];for(const ve of O){const ge=F.find(Ae=>Ae.id===ve.id);ge&&G.push({productId:ge.id,productName:ge.product,sku:ge.sku||"",quantity:ve.quantity,unitPrice:Math.round(Number(ge.unit_price)||0)})}const ce=new Set(w.map(ve=>ve.productId)),xe=G.filter(ve=>!ce.has(ve.productId));if(xe.length===0){t({title:"Products already added",description:"All selected products are already in the order.",variant:"destructive"});return}N(ve=>[...ve,...xe]),A([]),t({title:"Products added",description:`Added ${xe.length} product(s) to the order.`})},X=G=>{N(w.filter((ce,xe)=>xe!==G))},ee=(G,ce,xe)=>{const ve=[...w];ve[G]={...ve[G],[ce]:xe},N(ve)},ie=async G=>{var we,lt;if(G.preventDefault(),!r||w.length===0){t({title:"Validation Error",description:"Please select an apartment and add at least one item",variant:"destructive"});return}let ce=a;if(!ce||ce==="all"){const Je=F.find(qe=>{var z;return qe.id===((z=w[0])==null?void 0:z.productId)});if(Je!=null&&Je.vendor)ce=Je.vendor;else{t({title:"Validation Error",description:"Unable to determine vendor for this order. Please select a vendor.",variant:"destructive"});return}}if(!o.trim()){t({title:"Validation Error",description:"PO Number is required.",variant:"destructive"});return}if(w.some(Je=>!Je.productId||Je.quantity<=0||Je.unitPrice<0)){t({title:"Validation Error",description:"Each item must have a product, quantity > 0 and price  0.",variant:"destructive"});return}const xe=w.reduce((Je,qe)=>Je+qe.quantity*qe.unitPrice,0),ve=parseInt(_||"0",10)||0,ge=parseInt(S||"0",10)||0;let Ae=xe+ve-ge;Ae<0&&(Ae=0);const ae=w.reduce((Je,qe)=>Je+qe.quantity,0);try{L(!0);const Je=new Date().toISOString().split("T")[0],qe={apartment:r,vendor:ce,po_number:o.trim(),confirmation_code:c.trim()||void 0,tracking_number:u.trim()||void 0,status:h,expected_delivery:x||void 0,shipping_address:g.trim()||void 0,notes:y.trim()||void 0,items:w.map(z=>({product:z.productId,product_name:z.productName,sku:z.sku,quantity:z.quantity,unit_price:z.unitPrice})),items_count:ae,total:Ae,placed_on:Je};await oa.createOrder(qe),t({title:"Order Created",description:`Order created with ${w.length} items. Total: ${Ae} HUF`}),e("/orders")}catch(Je){console.error("Failed to create order",((we=Je==null?void 0:Je.response)==null?void 0:we.data)||Je);let qe="Please check the form and try again.";const z=(lt=Je==null?void 0:Je.response)==null?void 0:lt.data;if(z!=null&&z.details&&typeof z.details=="object"){const je=[];Object.entries(z.details).forEach(([ut,vt])=>{Array.isArray(vt)?je.push(`${ut}: ${vt.join(", ")}`):typeof vt=="string"&&je.push(`${ut}: ${vt}`)}),je.length&&(qe=je.join(" | "))}else z!=null&&z.detail&&(qe=String(z.detail));t({title:"Failed to create order",description:qe,variant:"destructive"})}finally{L(!1)}},be=w.reduce((G,ce)=>G+ce.quantity*ce.unitPrice,0),he=parseInt(_||"0",10)||0,Ge=parseInt(S||"0",10)||0;let ke=be+he-Ge;ke<0&&(ke=0);const bt=P.find(G=>G.id===r),rt=D.find(G=>G.id===a);r&&R.length>0;const Oe=O.length>0;return s.jsx(yt,{title:"New Order",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ni,{children:s.jsxs(_i,{children:[s.jsx(fr,{children:s.jsx(Mn,{href:"/orders",children:"Orders"})}),s.jsx(Fn,{}),s.jsx(fr,{children:s.jsx(Si,{children:"New Order"})})]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(re,{variant:"ghost",size:"icon",onClick:()=>e("/orders"),children:s.jsx(sr,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(la,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Create New Purchase Order"}),s.jsx("p",{className:"text-muted-foreground",children:"Fill in the details to create a new order"})]})]})]}),s.jsx("form",{onSubmit:ie,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),s.jsxs(le,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(oe,{className:"border hover:border-primary/50 transition-colors",children:s.jsxs(le,{className:"p-4",children:[s.jsxs(H,{htmlFor:"apartment",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[s.jsx(xr,{className:"h-4 w-4 text-primary"}),"Apartment *"]}),s.jsxs(nt,{value:r,onValueChange:n,disabled:k,children:[s.jsx(et,{className:"h-10",children:s.jsx(st,{placeholder:k?"Loading...":"Select apartment"})}),s.jsx(tt,{children:P.map(G=>s.jsx(J,{value:G.id,children:s.jsx("span",{children:G.name})},G.id))})]}),bt&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Owner: ",bt.owner]})]})}),s.jsx(oe,{className:"border hover:border-primary/50 transition-colors",children:s.jsxs(le,{className:"p-4",children:[s.jsxs(H,{htmlFor:"vendor",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[s.jsx(gi,{className:"h-4 w-4 text-primary"}),"Vendor (Optional Filter)"]}),s.jsxs(nt,{value:a,onValueChange:i,disabled:k||!r,children:[s.jsx(et,{className:"h-10",children:s.jsx(st,{placeholder:r?k?"Loading...":"All vendors":"Select apartment first"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"all",children:"All Vendors"}),D.map(G=>s.jsx(J,{value:G.id,children:s.jsx("span",{children:G.name})},G.id))]})]}),rt&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Lead time: ",rt.lead_time]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"po_number",children:"PO Number *"}),s.jsx(ue,{id:"po_number",value:o,onChange:G=>l(G.target.value),placeholder:"e.g., PO-2025-00001"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"confirmation_code",children:"Confirmation"}),s.jsx(ue,{id:"confirmation_code",value:c,onChange:G=>d(G.target.value),placeholder:"e.g., CONF-8831"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"tracking_number",children:"Tracking"}),s.jsx(ue,{id:"tracking_number",value:u,onChange:G=>f(G.target.value),placeholder:"e.g., TRK-93234"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"status",children:"Status"}),s.jsxs(nt,{value:h,onValueChange:m,children:[s.jsx(et,{className:"h-10",children:s.jsx(st,{placeholder:"Select status"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"draft",children:"Draft"}),s.jsx(J,{value:"pending",children:"Pending"}),s.jsx(J,{value:"sent",children:"Sent"}),s.jsx(J,{value:"confirmed",children:"Confirmed"}),s.jsx(J,{value:"in_transit",children:"In Transit"}),s.jsx(J,{value:"delivered",children:"Delivered"}),s.jsx(J,{value:"received",children:"Received"}),s.jsx(J,{value:"cancelled",children:"Cancelled"}),s.jsx(J,{value:"returned",children:"Returned"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"expected_delivery",children:"Expected Delivery"}),s.jsx(ue,{id:"expected_delivery",type:"date",value:x,onChange:G=>p(G.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"shipping_address",children:"Shipping Address"}),s.jsx(ue,{id:"shipping_address",value:g,onChange:G=>b(G.target.value),placeholder:"Enter shipping address"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"notes",children:"Notes"}),s.jsx(ma,{id:"notes",value:y,onChange:G=>j(G.target.value),placeholder:"Add any notes about this order",rows:3})]})]})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(gi,{className:"h-5 w-5 text-primary"}),"Available Products (",R.length,")"]}),s.jsxs(re,{type:"button",size:"sm",onClick:Z,className:"gap-1.5",disabled:!Oe,children:[s.jsx(An,{className:"h-4 w-4"}),"Add Selected to Order (",O.length,")"]})]})}),s.jsx(le,{className:"space-y-3",children:fe?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(St,{className:"h-12 w-12 mx-auto mb-3 opacity-50 animate-spin"}),s.jsx("p",{children:"Loading products..."})]}):r?R.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(mt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No products found"}),s.jsx("p",{className:"text-sm",children:a&&a!=="all"?'Try selecting a different vendor or "All Vendors"':"This apartment has no products yet"})]}):s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:R.map(G=>{const ce=O.some(ve=>ve.id===G.id),xe=O.find(ve=>ve.id===G.id);return s.jsx(oe,{className:`border transition-all cursor-pointer ${ce?"border-primary bg-primary/5":"hover:border-primary/30"}`,children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ll,{checked:ce,onCheckedChange:()=>K(G.id),className:"h-5 w-5"}),s.jsxs("div",{className:"flex-1 grid grid-cols-12 gap-4 items-center",children:[s.jsxs("div",{className:"col-span-12 md:col-span-5",children:[s.jsx("p",{className:"font-medium",children:G.product}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[G.sku&&`SKU: ${G.sku}  `,G.vendor_name||"No vendor"]})]}),s.jsxs("div",{className:"col-span-6 md:col-span-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Unit Price"}),s.jsxs("p",{className:"font-semibold",children:[Number(G.unit_price).toFixed(0)," HUF"]})]}),s.jsxs("div",{className:"col-span-6 md:col-span-2",children:[s.jsx(H,{className:"text-xs text-muted-foreground mb-1 block",children:"Quantity"}),s.jsx(ue,{type:"number",min:"1",value:(xe==null?void 0:xe.quantity)||1,onChange:ve=>{const ge=parseInt(ve.target.value)||1;ce?q(G.id,ge):A(Ae=>[...Ae,{id:G.id,quantity:ge}])},className:"h-8",disabled:!ce})]}),s.jsxs("div",{className:"col-span-12 md:col-span-2 text-right",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total"}),s.jsxs("p",{className:"font-bold text-primary",children:[(Number(G.unit_price)*((xe==null?void 0:xe.quantity)||1)).toFixed(0)," HUF"]})]})]})]})})},G.id)})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(xr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"Please select an apartment first"}),s.jsx("p",{className:"text-sm",children:"Products will appear here after selecting an apartment"})]})})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"h-5 w-5 text-primary"}),"Order Items (",w.length,")"]})}),s.jsx(le,{className:"space-y-3",children:w.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(la,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No items in order yet"}),s.jsx("p",{className:"text-sm",children:'Select products above and click "Add Selected to Order"'})]}):w.map((G,ce)=>s.jsx(oe,{className:"border hover:border-primary/30 transition-all",children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[s.jsxs("div",{className:"col-span-12 md:col-span-5",children:[s.jsx("p",{className:"font-medium",children:G.productName}),G.sku&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",G.sku]})]}),s.jsxs("div",{className:"col-span-4 md:col-span-2",children:[s.jsx(H,{className:"text-xs text-muted-foreground mb-1 block",children:"Qty"}),s.jsx(ue,{type:"number",min:"1",placeholder:"0",value:G.quantity,onChange:xe=>ee(ce,"quantity",parseInt(xe.target.value)||0),className:"h-9"})]}),s.jsxs("div",{className:"col-span-4 md:col-span-3",children:[s.jsx(H,{className:"text-xs text-muted-foreground mb-1 block",children:"Price (HUF)"}),s.jsx(ue,{type:"number",min:"1",step:"1",placeholder:"0",value:G.unitPrice,onChange:xe=>ee(ce,"unitPrice",Number.isNaN(parseInt(xe.target.value))?0:parseInt(xe.target.value,10)),className:"h-9"})]}),s.jsxs("div",{className:"col-span-4 md:col-span-2 flex items-center gap-2",children:[s.jsxs("div",{className:"flex-1 text-right",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total"}),s.jsxs("p",{className:"font-bold",children:[G.quantity*G.unitPrice," HUF"]})]}),s.jsx(re,{type:"button",size:"icon",variant:"ghost",onClick:()=>X(ce),className:"h-9 w-9 hover:bg-destructive/10 hover:text-destructive",children:s.jsx(Xr,{className:"h-4 w-4"})})]})]})})},ce))})]}),s.jsxs(oe,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2 text-primary",children:[s.jsx(Rr,{className:"h-5 w-5"}),"Order Summary"]})}),s.jsx(le,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Items"}),s.jsx("p",{className:"text-3xl font-bold",children:w.length})]}),s.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Units"}),s.jsx("p",{className:"text-3xl font-bold",children:w.reduce((G,ce)=>G+ce.quantity,0)})]}),s.jsxs("div",{className:"space-y-2 p-4 bg-background/50 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsx("span",{children:"Items Total"}),s.jsxs("span",{children:[be," HUF"]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping Cost"}),s.jsx(ue,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:_,onChange:G=>C(G.target.value)})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Discount"}),s.jsx(ue,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:S,onChange:G=>E(G.target.value)})]}),s.jsx(Tt,{className:"my-2"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold",children:"Total to Pay"}),s.jsxs("span",{className:"text-2xl font-bold text-primary",children:[ke," HUF"]})]})]})]})})]}),s.jsxs("div",{className:"flex gap-4 justify-end",children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>e("/orders"),children:"Cancel"}),s.jsx(re,{type:"submit",className:"gap-2",disabled:T,children:T?s.jsxs(s.Fragment,{children:[s.jsx(St,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(la,{className:"h-4 w-4"}),"Create Order"]})})]})]})})]})})},n9e=()=>{var l,c;const{id:e}=so(),t=cr(),{order:r,loading:n,error:a}=yY(e||""),i=d=>{const u=d.toLowerCase();return{draft:"bg-gray-500/10 text-gray-500",pending:"bg-yellow-500/10 text-yellow-500",sent:"bg-blue-500/10 text-blue-500",confirmed:"bg-green-500/10 text-green-500",delivered:"bg-purple-500/10 text-purple-500",received:"bg-emerald-500/10 text-emerald-500",cancelled:"bg-red-500/10 text-red-500"}[u]||"bg-gray-500/10 text-gray-500"};if(n)return s.jsx(yt,{title:"Loading...",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Do,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading order details..."})]})})});if(a)return s.jsx(yt,{title:"Error",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Et,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),s.jsx("h2",{className:"text-2xl font-semibold text-destructive mb-2",children:"Error loading order"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:a}),s.jsxs(re,{onClick:()=>t("/orders"),children:[s.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})});if(!r)return s.jsx(yt,{title:"Not Found",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx(mt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Order not found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"The order you're looking for doesn't exist."}),s.jsxs(re,{onClick:()=>t("/orders"),children:[s.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})});const o=((l=r.items)==null?void 0:l.reduce((d,u)=>d+Number(u.total_price||0),0))||0;return s.jsx(yt,{title:`Order ${r.po_number}`,children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ni,{children:s.jsxs(_i,{children:[s.jsx(fr,{children:s.jsx(Mn,{asChild:!0,children:s.jsx(Ji,{to:"/orders",children:"Orders"})})}),s.jsx(Fn,{}),s.jsx(fr,{children:s.jsx(Si,{children:r.po_number})})]})}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(re,{variant:"ghost",size:"icon",onClick:()=>t("/orders"),children:s.jsx(sr,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(la,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:r.po_number}),s.jsx("p",{className:"text-muted-foreground",children:"Purchase Order Details"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[s.jsx(Pe,{className:i(r.status),children:r.status}),r.is_delivered&&s.jsxs(Pe,{className:"bg-emerald-500/10 text-emerald-500",children:[s.jsx(Br,{className:"h-3 w-3 mr-1"}),"Delivered"]})]})]}),s.jsxs(re,{variant:"outline",onClick:()=>t(`/orders/${e}/edit`),children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Edit Order"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(oe,{children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:s.jsx(mt,{className:"h-5 w-5 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),s.jsx("p",{className:"text-2xl font-bold",children:r.items_count})]})]})})}),s.jsx(oe,{children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:s.jsx(Rr,{className:"h-5 w-5 text-green-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"text-2xl font-bold",children:[Number(r.total).toLocaleString()," HUF"]})]})]})})}),s.jsx(oe,{children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:s.jsx(tn,{className:"h-5 w-5 text-purple-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Placed On"}),s.jsx("p",{className:"text-2xl font-bold",children:r.placed_on?Qt(new Date(r.placed_on),"MMM dd"):"-"})]})]})})}),s.jsx(oe,{children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg",children:s.jsx(yr,{className:"h-5 w-5 text-orange-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected Delivery"}),s.jsx("p",{className:"text-2xl font-bold",children:r.expected_delivery?Qt(new Date(r.expected_delivery),"MMM dd"):"-"})]})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(Yn,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),s.jsx(le,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(xr,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Apartment"}),s.jsx("p",{className:"font-medium",children:r.apartment_name||"N/A"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(gi,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor"}),s.jsx("p",{className:"font-medium",children:r.vendor_name||"N/A"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Xj,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"PO Number"}),s.jsx("p",{className:"font-medium font-mono",children:r.po_number})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(nne,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Confirmation Code"}),s.jsx("p",{className:"font-medium font-mono",children:r.confirmation_code||"-"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(yr,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tracking Number"}),s.jsx("p",{className:"font-medium font-mono",children:r.tracking_number||"-"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ha,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Shipping Address"}),s.jsx("p",{className:"font-medium",children:r.shipping_address||"-"})]})]})]})]})})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"h-5 w-5 text-primary"}),"Order Items (",((c=r.items)==null?void 0:c.length)||0,")"]})}),s.jsx(le,{children:r.items&&r.items.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ds,{children:[s.jsx(us,{children:s.jsxs(Rt,{children:[s.jsx(Ee,{children:"Product Name"}),s.jsx(Ee,{children:"SKU"}),s.jsx(Ee,{className:"text-center",children:"Quantity"}),s.jsx(Ee,{className:"text-right",children:"Unit Price"}),s.jsx(Ee,{className:"text-right",children:"Total"})]})}),s.jsx(fs,{children:r.items.map((d,u)=>s.jsxs(Rt,{children:[s.jsx(ye,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:d.product_name}),d.description&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.description})]})}),s.jsx(ye,{children:s.jsx("span",{className:"font-mono text-sm",children:d.sku||"-"})}),s.jsx(ye,{className:"text-center",children:s.jsx(Pe,{variant:"secondary",children:d.quantity})}),s.jsxs(ye,{className:"text-right",children:[Number(d.unit_price).toLocaleString()," HUF"]}),s.jsxs(ye,{className:"text-right font-semibold",children:[Number(d.total_price).toLocaleString()," HUF"]})]},d.id||u))})]})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(mt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No items in this order"})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(oe,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2 text-primary",children:[s.jsx(Rr,{className:"h-5 w-5"}),"Order Summary"]})}),s.jsxs(le,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Items Total"}),s.jsxs("span",{children:[o.toLocaleString()," HUF"]})]}),s.jsx(Tt,{}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold",children:"Grand Total"}),s.jsxs("span",{className:"text-2xl font-bold text-primary",children:[Number(r.total).toLocaleString()," HUF"]})]})]})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(Vr,{className:"h-5 w-5 text-primary"}),"Timeline"]})}),s.jsx(le,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-1.5 bg-green-500/10 rounded-full",children:s.jsx(Br,{className:"h-4 w-4 text-green-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"Order Placed"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:r.placed_on?Qt(new Date(r.placed_on),"PPP"):"-"})]})]}),r.expected_delivery&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-1.5 bg-blue-500/10 rounded-full",children:s.jsx(yr,{className:"h-4 w-4 text-blue-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"Expected Delivery"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Qt(new Date(r.expected_delivery),"PPP")})]})]}),r.actual_delivery&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-1.5 bg-emerald-500/10 rounded-full",children:s.jsx(Br,{className:"h-4 w-4 text-emerald-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"Actual Delivery"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Qt(new Date(r.actual_delivery),"PPP")})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-1.5 bg-gray-500/10 rounded-full",children:s.jsx(tn,{className:"h-4 w-4 text-gray-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"Created"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:r.created_at?Qt(new Date(r.created_at),"PPP p"):"-"})]})]}),r.updated_at&&r.updated_at!==r.created_at&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-1.5 bg-gray-500/10 rounded-full",children:s.jsx(Do,{className:"h-4 w-4 text-gray-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"Last Updated"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Qt(new Date(r.updated_at),"PPP p")})]})]})]})})]}),r.notes&&s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(Yn,{className:"h-5 w-5 text-primary"}),"Notes"]})}),s.jsx(le,{children:s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:r.notes})})]})]})]})]})})},s9e=()=>{const{id:e}=so(),t=cr(),{toast:r}=pr(),{order:n,loading:a,error:i}=yY(e||""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[h,m]=v.useState(""),[x,p]=v.useState(""),[g,b]=v.useState("draft"),[y,j]=v.useState([]),[w,N]=v.useState(""),[_,C]=v.useState(""),[S,E]=v.useState(""),[P,I]=v.useState(""),[D,U]=v.useState(""),[F,M]=v.useState([]),[O,A]=v.useState([]),[k,W]=v.useState(!1),[fe,de]=v.useState(!1),[T,L]=v.useState(!1),{data:R,isLoading:K}=wX(),q=(R==null?void 0:R.results)||[],Z=v.useMemo(()=>q.filter(ge=>{const Ae=!o||ge.apartment===o,ae=!c||ge.vendor===c;return Ae&&ae}),[q,o,c]);v.useEffect(()=>{let ge=!1;return(async()=>{try{W(!0);const[ae,we]=await Promise.all([Hf.getApartments({page_size:100}),rl.getVendors()]);if(ge)return;M(ae.results||[]),A(we.results||[])}catch(ae){console.error("Failed to load apartments/vendors",ae),r({title:"Failed to load data",description:"Could not load apartments or vendors. Please try again.",variant:"destructive"})}finally{ge||W(!1)}})(),()=>{ge=!0}},[r]),v.useEffect(()=>{if(n&&!T&&!k&&F.length>0&&O.length>0){const ge=F.some(ae=>ae.id===n.apartment);l(ge?n.apartment:"");const Ae=O.some(ae=>ae.id===n.vendor);if(d(Ae?n.vendor:""),f(n.po_number||""),m(n.confirmation_code||""),p(n.tracking_number||""),b(n.status||"draft"),E(n.notes||""),I(n.shipping_address||""),U(n.expected_delivery||""),n.items&&n.items.length>0){const ae=n.items.map(we=>({id:we.id,productId:we.product||"",productName:we.product_name||"",sku:we.sku||"",quantity:we.quantity||1,unitPrice:Math.round(Number(we.unit_price)||0)}));j(ae)}L(!0)}},[n,T,k,F,O]);const X=()=>{const ge=new Set(y.map(we=>we.productId)),Ae=Z.find(we=>!ge.has(we.id))||Z[0];if(!Ae)return;const ae=Math.round(Number(Ae.unit_price)||0);j(we=>[...we,{productId:Ae.id,productName:Ae.product,sku:Ae.sku||"",quantity:1,unitPrice:ae}])},ee=()=>{if(!Z.length)return;const ge=new Set(y.map(we=>we.productId)),Ae=Z.filter(we=>!ge.has(we.id));if(!Ae.length)return;const ae=Ae.map(we=>({productId:we.id,productName:we.product,sku:we.sku||"",quantity:1,unitPrice:Math.round(Number(we.unit_price)||0)}));j(we=>[...we,...ae])},ie=ge=>{j(y.filter((Ae,ae)=>ae!==ge))},be=(ge,Ae,ae)=>{const we=[...y];we[ge]={...we[ge],[Ae]:ae},j(we)},he=async ge=>{var qe,z;if(ge.preventDefault(),!o||!c||y.length===0){r({title:"Validation Error",description:"Please fill all required fields",variant:"destructive"});return}if(!u.trim()){r({title:"Validation Error",description:"PO Number is required.",variant:"destructive"});return}if(y.some(je=>!je.productName||je.quantity<=0||je.unitPrice<0)){r({title:"Validation Error",description:"Each item must have a product, quantity > 0 and price  0.",variant:"destructive"});return}const Ae=y.reduce((je,ut)=>je+ut.quantity*ut.unitPrice,0),ae=parseInt(w||"0",10)||0,we=parseInt(_||"0",10)||0;let lt=Ae+ae-we;lt<0&&(lt=0);const Je=y.reduce((je,ut)=>je+ut.quantity,0);try{de(!0);const je={apartment:o,vendor:c,po_number:u.trim(),confirmation_code:h.trim()||void 0,tracking_number:x.trim()||void 0,status:g,notes:S.trim()||void 0,shipping_address:P.trim()||void 0,expected_delivery:D||void 0,items:y.map(ut=>({id:ut.id,product_name:ut.productName,sku:ut.sku,quantity:ut.quantity,unit_price:ut.unitPrice})),items_count:Je,total:lt};await oa.updateOrder(e,je),r({title:"Order Updated",description:`Order updated successfully. Total: ${lt} HUF`}),t(`/orders/${e}`)}catch(je){console.error("Failed to update order",((qe=je==null?void 0:je.response)==null?void 0:qe.data)||je);let ut="Please check the form and try again.";const vt=(z=je==null?void 0:je.response)==null?void 0:z.data;if(vt!=null&&vt.details&&typeof vt.details=="object"){const Ye=[];Object.entries(vt.details).forEach(([$t,Pr])=>{Array.isArray(Pr)?Ye.push(`${$t}: ${Pr.join(", ")}`):typeof Pr=="string"&&Ye.push(`${$t}: ${Pr}`)}),Ye.length&&(ut=Ye.join(" | "))}else vt!=null&&vt.detail&&(ut=String(vt.detail));r({title:"Failed to update order",description:ut,variant:"destructive"})}finally{de(!1)}},Ge=y.reduce((ge,Ae)=>ge+Ae.quantity*Ae.unitPrice,0),ke=parseInt(w||"0",10)||0,bt=parseInt(_||"0",10)||0;let rt=Ge+ke-bt;rt<0&&(rt=0);const Oe=F.find(ge=>ge.id===o),G=O.find(ge=>ge.id===c),ce=!!o&&!!c&&Z.length>0,xe=[{value:"draft",label:"Draft"},{value:"pending",label:"Pending"},{value:"sent",label:"Sent"},{value:"confirmed",label:"Confirmed"},{value:"in_transit",label:"In Transit"},{value:"delivered",label:"Delivered"},{value:"received",label:"Received"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}];return a||k||n&&!T?s.jsx(yt,{title:"Loading...",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Do,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading order details..."})]})})}):i?s.jsx(yt,{title:"Error",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Et,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),s.jsx("h2",{className:"text-2xl font-semibold text-destructive mb-2",children:"Error loading order"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:i}),s.jsxs(re,{onClick:()=>t("/orders"),children:[s.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})}):n?s.jsx(yt,{title:"Edit Order",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ni,{children:s.jsxs(_i,{children:[s.jsx(fr,{children:s.jsx(Mn,{asChild:!0,children:s.jsx(Ji,{to:"/orders",children:"Orders"})})}),s.jsx(Fn,{}),s.jsx(fr,{children:s.jsx(Mn,{asChild:!0,children:s.jsx(Ji,{to:`/orders/${e}`,children:n.po_number})})}),s.jsx(Fn,{}),s.jsx(fr,{children:s.jsx(Si,{children:"Edit"})})]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(re,{variant:"ghost",size:"icon",onClick:()=>t(`/orders/${e}`),children:s.jsx(sr,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(la,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Edit Order"}),s.jsxs("p",{className:"text-muted-foreground",children:["Update order details for ",n.po_number]})]})]})]}),s.jsx("form",{onSubmit:he,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),s.jsxs(le,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(oe,{className:"border hover:border-primary/50 transition-colors",children:s.jsxs(le,{className:"p-4",children:[s.jsxs(H,{htmlFor:"apartment",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[s.jsx(xr,{className:"h-4 w-4 text-primary"}),"Apartment *"]}),s.jsxs(nt,{value:o,onValueChange:l,disabled:k,children:[s.jsx(et,{className:"h-10",children:s.jsx(st,{placeholder:k?"Loading...":"Select apartment"})}),s.jsx(tt,{children:F.map(ge=>s.jsx(J,{value:ge.id,children:s.jsx("span",{children:ge.name})},ge.id))})]}),Oe&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Owner: ",Oe.owner]})]})}),s.jsx(oe,{className:"border hover:border-primary/50 transition-colors",children:s.jsxs(le,{className:"p-4",children:[s.jsxs(H,{htmlFor:"vendor",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[s.jsx(gi,{className:"h-4 w-4 text-primary"}),"Vendor *"]}),s.jsxs(nt,{value:c,onValueChange:d,disabled:k,children:[s.jsx(et,{className:"h-10",children:s.jsx(st,{placeholder:k?"Loading...":"Select vendor"})}),s.jsx(tt,{children:O.map(ge=>s.jsx(J,{value:ge.id,children:s.jsx("span",{children:ge.name})},ge.id))})]}),G&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Lead time: ",G.lead_time]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"po_number",children:"PO Number *"}),s.jsx(ue,{id:"po_number",value:u,onChange:ge=>f(ge.target.value),placeholder:"e.g., PO-2025-00001"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"confirmation_code",children:"Confirmation"}),s.jsx(ue,{id:"confirmation_code",value:h,onChange:ge=>m(ge.target.value),placeholder:"e.g., CONF-8831"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"tracking_number",children:"Tracking"}),s.jsx(ue,{id:"tracking_number",value:x,onChange:ge=>p(ge.target.value),placeholder:"e.g., TRK-93234"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"status",children:"Status"}),s.jsxs(nt,{value:g,onValueChange:b,children:[s.jsx(et,{className:"h-10",children:s.jsx(st,{placeholder:"Select status"})}),s.jsx(tt,{children:xe.map(ge=>s.jsx(J,{value:ge.value,children:ge.label},ge.value))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"expected_delivery",children:"Expected Delivery"}),s.jsx(ue,{id:"expected_delivery",type:"date",value:D,onChange:ge=>U(ge.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"shipping_address",children:"Shipping Address"}),s.jsx(ue,{id:"shipping_address",value:P,onChange:ge=>I(ge.target.value),placeholder:"Enter shipping address"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"notes",children:"Notes"}),s.jsx(ue,{id:"notes",value:S,onChange:ge=>E(ge.target.value),placeholder:"Add any notes about this order"})]})]})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"h-5 w-5 text-primary"}),"Order Items (",y.length,")"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(re,{type:"button",size:"sm",onClick:X,className:"gap-1.5",disabled:!ce,children:[s.jsx(An,{className:"h-4 w-4"}),ce?"Add Item":"Select apartment & vendor first"]}),s.jsx(re,{type:"button",size:"sm",variant:"outline",onClick:ee,className:"gap-1.5",disabled:!ce,children:"Add All"})]})]})}),s.jsx(le,{className:"space-y-3",children:y.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(mt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No items added yet"}),s.jsx("p",{className:"text-sm",children:"Select an apartment and vendor, then add items to your order"})]}):y.map((ge,Ae)=>s.jsx(oe,{className:"border hover:border-primary/30 transition-all",children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4 items-end",children:[s.jsxs("div",{className:"col-span-12 md:col-span-5",children:[s.jsx(H,{className:"text-sm font-medium mb-2 block",children:"Product Name *"}),s.jsxs(nt,{value:ge.productId||void 0,onValueChange:ae=>{const we=Z.find(qe=>qe.id===ae);if(!we)return;const lt=Number(we.unit_price),Je=Number.isNaN(lt)?0:Math.round(lt);j(qe=>{const z=[...qe],je=z[Ae];return z[Ae]={...je,productId:we.id,productName:we.product,sku:we.sku||"",unitPrice:Je},z})},children:[s.jsx(et,{disabled:K,children:s.jsx(st,{placeholder:K?"Loading products...":ge.productName||(Z.length?"Select product":"No products available")})}),s.jsx(tt,{className:"max-h-64",children:Z.map(ae=>s.jsx(J,{value:ae.id,children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:ae.product}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[ae.sku?`${ae.sku}  `:"",Number(ae.unit_price).toFixed(0)," HUF"]})]})},ae.id))})]}),ge.productName&&!Z.find(ae=>ae.id===ge.productId)&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Current: ",ge.productName]})]}),s.jsxs("div",{className:"col-span-4 md:col-span-2",children:[s.jsx(H,{className:"text-sm font-medium mb-2 block",children:"Qty *"}),s.jsx(ue,{type:"number",min:"1",placeholder:"0",value:ge.quantity,onChange:ae=>be(Ae,"quantity",parseInt(ae.target.value)||0)})]}),s.jsxs("div",{className:"col-span-4 md:col-span-3",children:[s.jsx(H,{className:"text-sm font-medium mb-2 block",children:"Price (HUF) *"}),s.jsx(ue,{type:"number",min:"1",step:"1",placeholder:"0",value:ge.unitPrice,onChange:ae=>be(Ae,"unitPrice",Number.isNaN(parseInt(ae.target.value))?0:parseInt(ae.target.value,10))})]}),s.jsxs("div",{className:"col-span-4 md:col-span-2 flex items-center gap-2",children:[s.jsxs("div",{className:"flex-1 text-right",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total"}),s.jsxs("p",{className:"font-bold",children:[ge.quantity*ge.unitPrice," HUF"]})]}),s.jsx(re,{type:"button",size:"icon",variant:"ghost",onClick:()=>ie(Ae),className:"h-9 w-9 hover:bg-destructive/10 hover:text-destructive",children:s.jsx(Xr,{className:"h-4 w-4"})})]})]})})},Ae))})]}),s.jsxs(oe,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2 text-primary",children:[s.jsx(Rr,{className:"h-5 w-5"}),"Order Summary"]})}),s.jsx(le,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Items"}),s.jsx("p",{className:"text-3xl font-bold",children:y.length})]}),s.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Units"}),s.jsx("p",{className:"text-3xl font-bold",children:y.reduce((ge,Ae)=>ge+Ae.quantity,0)})]}),s.jsxs("div",{className:"space-y-2 p-4 bg-background/50 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsx("span",{children:"Items Total"}),s.jsxs("span",{children:[Ge," HUF"]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping Cost"}),s.jsx(ue,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:w,onChange:ge=>N(ge.target.value)})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Discount"}),s.jsx(ue,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:_,onChange:ge=>C(ge.target.value)})]}),s.jsx(Tt,{className:"my-2"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold",children:"Total to Pay"}),s.jsxs("span",{className:"text-2xl font-bold text-primary",children:[rt," HUF"]})]})]})]})})]}),s.jsxs("div",{className:"flex gap-4 justify-end",children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>t(`/orders/${e}`),children:"Cancel"}),s.jsx(re,{type:"submit",className:"gap-2",disabled:fe,children:fe?s.jsxs(s.Fragment,{children:[s.jsx(St,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Gd,{className:"h-4 w-4"}),"Save Changes"]})})]})]})})]})}):s.jsx(yt,{title:"Not Found",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx(mt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Order not found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"The order you're looking for doesn't exist."}),s.jsxs(re,{onClick:()=>t("/orders"),children:[s.jsx(sr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})})},ld=ir.create({baseURL:ji,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});ld.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));ld.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});const ug={getDeliveries:async(e={})=>{const t=new URLSearchParams;return e.search&&t.append("search",e.search),e.status&&t.append("status",e.status),e.priority&&t.append("priority",e.priority),e.apartment&&t.append("apartment",e.apartment),e.vendor&&t.append("vendor",e.vendor),e.page&&t.append("page",e.page.toString()),e.page_size&&t.append("page_size",e.page_size.toString()),(await ld.get(`/deliveries/?${t.toString()}`)).data},getDelivery:async e=>(await ld.get(`/deliveries/${e}/`)).data,createDelivery:async e=>(await ld.post("/deliveries/",e)).data,updateDelivery:async(e,t)=>(await ld.patch(`/deliveries/${e}/`,t)).data,deleteDelivery:async e=>{await ld.delete(`/deliveries/${e}/`)},updateStatus:async(e,t,r)=>(await ld.patch(`/deliveries/${e}/`,{status:t,...r})).data},a9e=({open:e,onOpenChange:t,delivery:r})=>{const[n,a]=v.useState(null),[i,o]=v.useState(!1);if(v.useEffect(()=>{e&&(r!=null&&r.id)&&(o(!0),ug.getDelivery(r.id).then(x=>a(x)).catch(x=>console.error("Failed to fetch delivery details:",x)).finally(()=>o(!1)))},[e,r==null?void 0:r.id]),!r)return null;const l=x=>({Scheduled:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/30","In Transit":"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/30",Delivered:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/30",Delayed:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/30",Cancelled:"bg-gray-500/10 text-gray-600 dark:text-gray-400 border-gray-500/30",Returned:"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/30"})[x]||"bg-muted text-muted-foreground",c=x=>({Urgent:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/30",High:"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/30",Medium:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/30",Low:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/30"})[x]||"bg-muted text-muted-foreground",d=n||r,u=n==null?void 0:n.apartment_details,f=n==null?void 0:n.vendor_details,h=u==null?void 0:u.client_details,m=(n==null?void 0:n.order_items)||[];return s.jsx(bn,{open:e,onOpenChange:t,children:s.jsxs(dn,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(wn,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(jn,{className:"text-lg font-bold",children:"Delivery Details"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-0.5 font-mono",children:d.order_reference})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pe,{className:l(d.status),variant:"outline",children:d.status}),s.jsxs(Pe,{className:c(d.priority),variant:"outline",children:[d.priority," Priority"]})]})]})}),i?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(St,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsxs(s.Fragment,{children:[s.jsx(Tt,{className:"my-2"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(oe,{className:"border-border/50",children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:s.jsx(ha,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Delivery Address"}),s.jsx("p",{className:"text-sm font-semibold mt-1",children:(u==null?void 0:u.name)||d.apartment_name}),(u==null?void 0:u.address)&&s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:u.address})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:s.jsx(Zn,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Contact Person"}),s.jsx("p",{className:"text-sm font-semibold mt-1",children:(h==null?void 0:h.name)||(u==null?void 0:u.owner)||"Not specified"})]})]}),(h==null?void 0:h.phone)&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:s.jsx(Wo,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Contact Phone"}),s.jsx("p",{className:"text-sm font-semibold mt-1",children:h.phone})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-orange-500/10",children:s.jsx(yr,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Vendor"}),s.jsx("p",{className:"text-sm font-semibold mt-1",children:(f==null?void 0:f.name)||d.vendor_name}),(f==null?void 0:f.delivery_terms)&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Carrier: ",f.delivery_terms]})]})]}),(f==null?void 0:f.contact_person)&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-indigo-500/10",children:s.jsx(xr,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Vendor Contact"}),s.jsx("p",{className:"text-sm font-semibold mt-1",children:f.contact_person})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/10",children:s.jsx(yn,{className:"h-4 w-4 text-cyan-600 dark:text-cyan-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Vendor Email"}),f!=null&&f.email?s.jsx("a",{href:`mailto:${f.email}`,className:"text-sm font-medium text-primary hover:underline mt-1 block",children:f.email}):s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Not available"})]})]}),(f==null?void 0:f.website)&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-teal-500/10",children:s.jsx(Ac,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Website"}),s.jsxs("a",{href:f.website.startsWith("http")?f.website:`https://${f.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-primary hover:underline mt-1 flex items-center gap-1",children:[f.website,s.jsx(Kj,{className:"h-3 w-3"})]})]})]})]})]})})}),s.jsx(oe,{className:"border-border/50",children:s.jsxs(le,{className:"p-4",children:[s.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[s.jsx(tn,{className:"h-4 w-4 text-primary"}),"Delivery Schedule"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Delivery"}),s.jsx("p",{className:"text-sm font-semibold mt-1",children:(n==null?void 0:n.expected_date)||d.expected_date})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Time Slot"}),s.jsxs("p",{className:"text-sm font-semibold mt-1 flex items-center gap-1",children:[s.jsx(Vr,{className:"h-3.5 w-3.5 text-muted-foreground"}),(n==null?void 0:n.time_slot)||d.time_slot||"Not specified"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Actual Delivery"}),s.jsx("p",{className:"text-sm font-semibold mt-1",children:(n==null?void 0:n.actual_date)||s.jsx("span",{className:"text-muted-foreground font-normal",children:"Pending"})})]})]})]})}),s.jsx(oe,{className:"border-border/50",children:s.jsxs(le,{className:"p-4",children:[s.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[s.jsx(mt,{className:"h-4 w-4 text-primary"}),"Package Details"]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Xj,{className:"h-3 w-3"}),"Order Number"]}),s.jsx(Pe,{variant:"outline",className:"text-xs mt-1.5 font-mono",children:d.order_reference})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(QI,{className:"h-3 w-3"}),"Items Count"]}),s.jsxs("p",{className:"text-sm font-semibold mt-1",children:[(n==null?void 0:n.order_items_count)||m.length||"-"," items"]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Cne,{className:"h-3 w-3"}),"Weight"]}),s.jsx("p",{className:"text-sm font-semibold mt-1",children:"-"})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Rr,{className:"h-3 w-3"}),"Order Total"]}),s.jsx("p",{className:"text-sm font-semibold mt-1",children:n!=null&&n.order_total?`${Number(n.order_total).toFixed(2)}`:"-"})]})]}),((n==null?void 0:n.tracking_number)||d.tracking_number)&&s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Tracking Number"}),s.jsx(Pe,{className:"bg-primary/10 text-primary text-xs font-mono mt-1.5",children:(n==null?void 0:n.tracking_number)||d.tracking_number})]})]})}),m.length>0&&s.jsx(oe,{className:"border-border/50",children:s.jsxs(le,{className:"p-4",children:[s.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[s.jsx(QI,{className:"h-4 w-4 text-primary"}),"Delivered Products (",m.length,")"]}),s.jsx("div",{className:"rounded-lg border overflow-hidden",children:s.jsxs(ds,{children:[s.jsx(us,{children:s.jsxs(Rt,{className:"bg-muted/50",children:[s.jsx(Ee,{className:"text-xs font-semibold",children:"Product"}),s.jsx(Ee,{className:"text-xs font-semibold",children:"SKU"}),s.jsx(Ee,{className:"text-xs font-semibold text-center",children:"Qty"}),s.jsx(Ee,{className:"text-xs font-semibold text-right",children:"Unit Price"}),s.jsx(Ee,{className:"text-xs font-semibold text-right",children:"Total"})]})}),s.jsx(fs,{children:m.map((x,p)=>s.jsxs(Rt,{children:[s.jsx(ye,{className:"text-sm font-medium",children:x.product_name}),s.jsx(ye,{className:"text-xs text-muted-foreground font-mono",children:x.sku||"-"}),s.jsx(ye,{className:"text-sm text-center",children:x.quantity}),s.jsxs(ye,{className:"text-sm text-right",children:["",Number(x.unit_price).toFixed(2)]}),s.jsxs(ye,{className:"text-sm font-semibold text-right",children:["",Number(x.total_price).toFixed(2)]})]},x.id||p))})]})})]})}),s.jsx(oe,{className:"border-border/50",children:s.jsxs(le,{className:"p-4",children:[s.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[s.jsx(Yn,{className:"h-4 w-4 text-primary"}),"Notes & Instructions"]}),(n==null?void 0:n.order_notes)&&s.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-amber-500/5 border border-amber-500/20 mb-4",children:[s.jsx(Et,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-medium text-amber-700 dark:text-amber-300",children:"Special Instructions"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:n.order_notes})]})]}),n!=null&&n.status_history&&n.status_history.length>0?s.jsxs("div",{className:"space-y-0",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-3",children:"Status History"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-[11px] top-3 bottom-3 w-0.5 bg-border"}),s.jsx("div",{className:"space-y-3",children:n.status_history.map((x,p)=>{const g=w=>{switch(w){case"Delivered":return{icon:Br,color:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/30"};case"In Transit":return{icon:yr,color:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/30"};case"Scheduled":return{icon:tn,color:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/30"};case"Delayed":return{icon:Vr,color:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/30"};case"Cancelled":return{icon:Et,color:"bg-gray-500/10 text-gray-600 dark:text-gray-400 border-gray-500/30"};case"Returned":return{icon:mt,color:"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/30"};default:return{icon:Yn,color:"bg-muted text-muted-foreground"}}},{icon:b,color:y}=g(x.status),j=p===0;return s.jsxs("div",{className:"relative flex gap-3 pl-0",children:[s.jsx("div",{className:`relative z-10 flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center ${y} ${j?"ring-2 ring-primary/20":""}`,children:s.jsx(b,{className:"h-3 w-3"})}),s.jsxs("div",{className:`flex-1 pb-3 ${j?"":"opacity-80"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Pe,{variant:"outline",className:`text-xs ${y}`,children:x.status}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(x.created_at).toLocaleString()}),x.changed_by&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["by ",x.changed_by]})]}),x.notes&&s.jsx("p",{className:"text-sm mt-1 text-foreground",children:x.notes}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[x.received_by&&s.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Zn,{className:"h-3 w-3"}),"Received by: ",x.received_by]}),x.location&&s.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(ha,{className:"h-3 w-3"}),x.location]}),x.delay_reason&&s.jsxs("span",{className:"text-xs text-red-600 dark:text-red-400 flex items-center gap-1",children:[s.jsx(Et,{className:"h-3 w-3"}),"Reason: ",x.delay_reason]})]})]})]},x.id)})})]})]}):(n==null?void 0:n.notes)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery Notes"}),s.jsx("p",{className:"text-sm mt-1",children:n.notes})]})]})}),(n==null?void 0:n.received_by)&&s.jsx(oe,{className:"border-green-500/30 bg-green-500/5",children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:s.jsx(Br,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Received By"}),s.jsx("p",{className:"text-sm font-semibold",children:n.received_by}),n.actual_date&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["on ",n.actual_date]})]})]})})})]})]})]})})};function i9e(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}const SY={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},U4=B.createContext(null);function o9e(){var e;return((e=v.useContext(U4))===null||e===void 0?void 0:e.status)||SY.NOT_LOADED}function l9e(){return o9e()===SY.LOADED}const c9e=B.createContext(null),QL=new Set;function d9e(...e){const t=JSON.stringify(e);QL.has(t)||(QL.add(t),console.error(...e))}const CY=(e=null)=>{const t=v.useContext(U4),{map:r}=v.useContext(c9e)||{};if(t===null)return d9e("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:n}=t;return e!==null?n[e]||null:r||n.default||null};function u9e(e){const t=l9e(),r=v.useContext(U4);return v.useEffect(()=>{!t||!r||r.importLibrary(e)},[t,r,e]),(r==null?void 0:r.loadedLibraries[e])||null}function n1(e,t,r){v.useEffect(()=>{if(!e||!t||!r)return;const n=google.maps.event.addListener(e,t,r);return()=>n.remove()},[e,t,r])}function s1(e,t,r){v.useEffect(()=>{e&&(e[t]=r)},[e,t,r])}function ZL(e,t,r){v.useEffect(()=>{if(!(!e||!t||!r))return e.addEventListener(t,r),()=>e.removeEventListener(t,r)},[e,t,r])}class f9e{constructor(){this.renderedStyles=new Set,this.styleElement=null}getStyleElement(){return this.styleElement||(this.styleElement=document.createElement("style"),this.styleElement.setAttribute("data-rgm-anchor-styles",""),document.head.appendChild(this.styleElement)),this.styleElement}addAdvancedMarkerPointerEventsOverwrite(){if(this.renderedStyles.has("marker-pointer-events"))return;const t=this.getStyleElement();t.textContent+=`
      gmp-advanced-marker[data-origin='rgm'] {
        pointer-events: none !important;
      }
    `,this.renderedStyles.add("marker-pointer-events")}cleanup(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null,this.renderedStyles.clear())}}const h9e=new f9e;function m9e(e,t){var r;if(!(!((r=google==null?void 0:google.maps)===null||r===void 0)&&r.version))return;const n=google.maps.version.split("."),a=parseInt(n[0],10),i=parseInt(n[1],10);return a>e||a===e&&i>=t}const p9e=B.createContext(null),x9e={TOP_LEFT:["0%","0%"],TOP_CENTER:["50%","0%"],TOP:["50%","0%"],TOP_RIGHT:["100%","0%"],LEFT_CENTER:["0%","50%"],LEFT_TOP:["0%","0%"],LEFT:["0%","50%"],LEFT_BOTTOM:["0%","100%"],RIGHT_TOP:["100%","0%"],RIGHT:["100%","50%"],RIGHT_CENTER:["100%","50%"],RIGHT_BOTTOM:["100%","100%"],BOTTOM_LEFT:["0%","100%"],BOTTOM_CENTER:["50%","100%"],BOTTOM:["50%","100%"],BOTTOM_RIGHT:["100%","100%"],CENTER:["50%","50%"]},g9e=v.forwardRef((e,t)=>{const{children:r,style:n,className:a,anchorPoint:i}=e,[o,l]=y9e(e),c=v.useMemo(()=>o?{marker:o}:null,[o]);return v.useImperativeHandle(t,()=>o,[o]),l?B.createElement(p9e.Provider,{value:c},no.createPortal(B.createElement(v9e,{anchorPoint:i,styles:n,className:a},r),l)):null});g9e.displayName="AdvancedMarker";function RP(e){return e.nodeType===Node.ELEMENT_NODE}const v9e=({children:e,styles:t,className:r})=>B.createElement("div",{className:r,style:t},e);function y9e(e){const[t,r]=v.useState(null),[n,a]=v.useState(null),i=CY(),o=u9e("marker"),{children:l,onClick:c,className:d,onMouseEnter:u,onMouseLeave:f,onDrag:h,onDragStart:m,onDragEnd:x,collisionBehavior:p,clickable:g,draggable:b,position:y,title:j,zIndex:w,anchorPoint:N,anchorLeft:_,anchorTop:C}=e,S=v.Children.count(l);return v.useEffect(()=>{if(!i||!o)return;const E=new o.AdvancedMarkerElement;E.map=i,r(E);let P=null;return S>0&&(P=document.createElement("div"),E.content=P,a(P)),()=>{E.map=null,P==null||P.remove(),r(null),a(null)}},[i,o,S]),v.useEffect(()=>{!(t!=null&&t.content)||!RP(t.content)||S>0||(t.content.className=d??"")},[t,d,S]),b9e(t,N,_,C,S>0),s1(t,"position",y),s1(t,"title",j??""),s1(t,"zIndex",w),s1(t,"collisionBehavior",p),v.useEffect(()=>{t&&(b!==void 0?t.gmpDraggable=b:h||m||x?t.gmpDraggable=!0:t.gmpDraggable=!1)},[t,b,h,x,m]),v.useEffect(()=>{if(!t)return;const E=g!==void 0||!!c||!!u||!!f;t.gmpClickable=E,E&&(t!=null&&t.content)&&RP(t.content)&&(t.content.style.pointerEvents="all",c&&(t.content.style.cursor="pointer"))},[t,g,c,u,f]),n1(t,"click",c),n1(t,"drag",h),n1(t,"dragstart",m),n1(t,"dragend",x),ZL(t==null?void 0:t.element,"mouseenter",u),ZL(t==null?void 0:t.element,"mouseleave",f),[t,n]}function b9e(e,t,r,n,a){v.useEffect(()=>{if(!e||!a)return;const i=m9e(3,62),o=e.content;if(!(!o||!RP(o))){if(r!==void 0||n!==void 0){i||console.warn(`AdvancedMarker: The anchorLeft and anchorTop props are only supported in Google Maps API version 3.62 and above. The current version is ${google.maps.version}.`),e.anchorLeft=r,e.anchorTop=n,t!==void 0&&console.warn("AdvancedMarker: the anchorPoint prop is ignored when anchorLeft and/or anchorTop are set.");return}if(t!==void 0){const[l,c]=t??x9e.BOTTOM,d=`calc(-1 * ${l})`,u=`calc(-1 * ${c})`;i?(e.anchorLeft=d,e.anchorTop=u,o.style.transform=""):(o.style.transform=`translate(50%, 100%) translate(${d}, ${u})`,e.dataset.origin="rgm",h9e.addAdvancedMarkerPointerEventsOverwrite())}}},[e,t,r,n,a])}function w9e(e){const[t,r]=v.useState(null),n=CY(),{onClick:a,onDrag:i,onDragStart:o,onDragEnd:l,onMouseOver:c,onMouseOut:d}=e,u=i9e(e,["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"]),{position:f,draggable:h}=u;return v.useEffect(()=>{if(!n){n===void 0&&console.error("<Marker> has to be inside a Map component.");return}const m=new google.maps.Marker(u);return m.setMap(n),r(m),()=>{m.setMap(null),r(null)}},[n]),v.useEffect(()=>{if(!t)return;const m=t,x=google.maps.event;return a&&x.addListener(m,"click",a),i&&x.addListener(m,"drag",i),o&&x.addListener(m,"dragstart",o),l&&x.addListener(m,"dragend",l),c&&x.addListener(m,"mouseover",c),d&&x.addListener(m,"mouseout",d),t.setDraggable(!!h),()=>{x.clearInstanceListeners(m)}},[t,h,a,i,o,l,c,d]),v.useEffect(()=>{t&&u&&t.setOptions(u)},[t,u]),v.useEffect(()=>{h||!f||!t||t.setPosition(f)},[h,f,t]),t}const j9e=v.forwardRef((e,t)=>{const r=w9e(e);return v.useImperativeHandle(t,()=>r,[r]),B.createElement(B.Fragment,null)});j9e.displayName="Marker";const N9e=({value:e,onChange:t,placeholder:r})=>{v.useState(!1);const[n,a]=v.useState(e),[i,o]=v.useState(null),l=v.useRef(null),c=v.useRef(null);return v.useEffect(()=>{a(e)},[e]),v.useEffect(()=>{if(!(!l.current||!window.google))return c.current=new google.maps.places.Autocomplete(l.current,{types:["geocode","establishment"],fields:["formatted_address","geometry","name"]}),c.current.addListener("place_changed",()=>{var u,f,h,m;const d=(u=c.current)==null?void 0:u.getPlace();if(d!=null&&d.formatted_address){const x=d.formatted_address;a(x),t(x,(h=(f=d.geometry)==null?void 0:f.location)==null?void 0:h.toJSON()),(m=d.geometry)!=null&&m.location&&o(d.geometry.location.toJSON())}}),()=>{c.current&&google.maps.event.clearInstanceListeners(c.current)}},[t]),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ss,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{value:n,onChange:d=>{a(d.target.value),t(d.target.value)},placeholder:r,className:"pl-10"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"To enable location search and map selection, add your Google Maps API key in LocationPicker.tsx"})]})},_9e=({open:e,onOpenChange:t,delivery:r,onStatusUpdate:n})=>{var U;const{toast:a}=pr(),[i,o]=v.useState(""),[l,c]=v.useState(""),[d,u]=v.useState(""),[f,h]=v.useState(""),[m,x]=v.useState(""),[p,g]=v.useState(""),[b,y]=v.useState(""),[j,w]=v.useState(""),[N,_]=v.useState(""),[C,S]=v.useState(""),E=[{value:"Confirmed",label:"Confirmed",icon:Vr,color:"text-yellow-600 dark:text-yellow-400",bgColor:"bg-yellow-500/10",borderColor:"border-yellow-500/30",hoverBg:"hover:bg-yellow-500/15",selectedBorder:"border-yellow-500",selectedBg:"bg-yellow-500/10"},{value:"In Transit",label:"In Transit",icon:yr,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/30",hoverBg:"hover:bg-blue-500/15",selectedBorder:"border-blue-500",selectedBg:"bg-blue-500/10"},{value:"Delayed",label:"Delayed",icon:Zi,color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-500/10",borderColor:"border-orange-500/30",hoverBg:"hover:bg-orange-500/15",selectedBorder:"border-orange-500",selectedBg:"bg-orange-500/10"},{value:"Received",label:"Received",icon:gne,color:"text-green-600 dark:text-green-400",bgColor:"bg-green-500/10",borderColor:"border-green-500/30",hoverBg:"hover:bg-green-500/15",selectedBorder:"border-green-500",selectedBg:"bg-green-500/10"},{value:"Returned",label:"Returned",icon:l0,color:"text-red-600 dark:text-red-400",bgColor:"bg-red-500/10",borderColor:"border-red-500/30",hoverBg:"hover:bg-red-500/15",selectedBorder:"border-red-500",selectedBg:"bg-red-500/10"}],P=F=>{o(F)},I=()=>{if(!r||!i)return;if(i==="Received"&&!l){a({title:"Validation Error",description:"Please enter who received the delivery",variant:"destructive"});return}let F="";switch(i){case"Confirmed":F="Vendor confirmed the order";break;case"In Transit":F=b?`Package is at ${b}`:"Package is in transit";break;case"Delayed":F=j||"Delivery delayed";break;case"Received":F=`Received by ${l}`;break;case"Returned":F=j||"Items returned to vendor";break;default:F=`Status changed to ${i}`}n(r.id,i,{receivedBy:i==="Received"?l:void 0,actualDelivery:i==="Received"?d||new Date().toISOString().split("T")[0]:void 0,statusNotes:F,location:b||void 0,delayReason:i==="Delayed"||i==="Returned"?j:void 0}),a({title:"Status Updated",description:`Delivery status changed to ${i}`}),o(""),c(""),u(""),h(""),x(""),g(""),y(""),w(""),_(""),S(""),t(!1)};if(!r)return null;const D=()=>{if(!i)return null;switch(i){case"Confirmed":return s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"scheduledReason",className:"text-sm font-medium",children:"Confirmation Notes"}),s.jsx(In,{id:"scheduledReason",placeholder:"Add any notes about vendor confirmation...",value:m,onChange:F=>x(F.target.value),rows:2,className:"resize-none"})]})});case"In Transit":return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"estimatedDelivery",className:"text-sm font-medium",children:"Estimated Delivery Time"}),s.jsx(ue,{id:"estimatedDelivery",type:"datetime-local",value:p,onChange:F=>g(F.target.value),className:"h-10"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"currentLocation",className:"text-sm font-medium",children:"Current Location"}),s.jsx(N9e,{value:b,onChange:F=>y(F),placeholder:"Search location or select from map"})]})]});case"Received":return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"receivedBy",className:"text-sm font-medium",children:["Received By ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(ue,{id:"receivedBy",placeholder:"Enter recipient name",value:l,onChange:F=>c(F.target.value),className:"h-10"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"actualDelivery",className:"text-sm font-medium",children:"Delivery Date"}),s.jsx(ue,{id:"actualDelivery",type:"date",value:d,onChange:F=>u(F.target.value),className:"h-10"})]})]});case"Delayed":return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"delayReason",className:"text-sm font-medium",children:"Reason for Delay"}),s.jsx(In,{id:"delayReason",placeholder:"Explain why the delivery is delayed...",value:j,onChange:F=>w(F.target.value),rows:3,className:"resize-none"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"currentLocation",className:"text-sm font-medium",children:"Current Location (Optional)"}),s.jsx(ue,{id:"currentLocation",placeholder:"Where is the package now?",value:b,onChange:F=>y(F.target.value),className:"h-10"})]})]});case"Returned":return s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"delayReason",className:"text-sm font-medium",children:"Reason for Return"}),s.jsx(In,{id:"delayReason",placeholder:"Explain why items are being returned to vendor...",value:j,onChange:F=>w(F.target.value),rows:3,className:"resize-none"})]})});default:return null}};return s.jsx(bn,{open:e,onOpenChange:t,children:s.jsxs(dn,{className:"max-w-xl",children:[s.jsxs(wn,{className:"space-y-2 pb-3 border-b",children:[s.jsx(jn,{className:"text-lg font-semibold",children:"Update Delivery Status"}),s.jsxs(Xs,{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-mono text-sm font-medium text-primary",children:r.order_reference}),s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{className:"text-sm",children:r.apartment_name})]})]}),s.jsxs("div",{className:"space-y-4 py-3",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(H,{className:"text-sm font-semibold",children:"Select Status"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:E.map(F=>{const M=F.icon,O=i===F.value;return s.jsxs("button",{onClick:()=>P(F.value),className:`flex flex-col items-center gap-2 p-3 rounded-lg border-2 transition-all ${O?`${F.selectedBorder} ${F.selectedBg}`:`${F.borderColor} ${F.hoverBg}`}`,children:[s.jsx("div",{className:`p-2 rounded-lg ${F.bgColor}`,children:s.jsx(M,{className:`h-4 w-4 ${F.color}`})}),s.jsx("span",{className:"text-xs font-medium",children:F.label})]},F.value)})})]}),i&&s.jsxs("div",{className:"p-4 rounded-lg bg-muted/40 border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:((U=E.find(F=>F.value===i))==null?void 0:U.icon)&&(()=>{const F=E.find(M=>M.value===i).icon;return s.jsx(F,{className:"h-3.5 w-3.5 text-primary"})})()}),s.jsxs("p",{className:"text-sm font-semibold",children:[i," Details"]})]}),D()]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-3 border-t",children:[s.jsx(re,{variant:"outline",onClick:()=>t(!1),className:"h-10",children:"Cancel"}),s.jsx(re,{onClick:I,disabled:!i,className:"h-10",children:"Update Status"})]})]})})},S9e=({open:e,onOpenChange:t,delivery:r})=>{if(!r)return null;const n=[{date:"2025-11-10 14:30",status:r.status==="Delivered"?"Delivered":r.status==="In Transit"?"Out for Delivery":"Package Ready",location:r.status==="Delivered"?r.apartment_name:"Local Hub",description:r.status==="Delivered"?"Package delivered successfully":r.status==="In Transit"?"Package is out for delivery":"Package is ready for dispatch",active:!0},{date:"2025-11-09 10:15",status:"In Transit",location:"Distribution Center",description:"Package is on the way to delivery location",active:!1},{date:"2025-11-08 16:45",status:"Package Dispatched",location:`${r.vendor_name} Warehouse`,description:"Package has been dispatched from warehouse",active:!1},{date:"2025-11-08 09:00",status:"Order Confirmed",location:r.vendor_name,description:"Order has been confirmed and is being prepared",active:!1}];return s.jsx(bn,{open:e,onOpenChange:t,children:s.jsxs(dn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(wn,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-1.5 bg-primary/10 rounded-lg",children:s.jsx(yr,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx(jn,{className:"text-base font-bold",children:"Track Delivery"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:r.order_reference})]})]})}),s.jsx(Tt,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(oe,{className:"border bg-gradient-to-br from-primary/5 to-primary/10",children:s.jsxs(le,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-1.5 bg-primary/10 rounded",children:s.jsx(mt,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Tracking Number"}),s.jsx("p",{className:"text-sm font-bold font-mono",children:r.tracking_number})]})]}),s.jsx(Pe,{className:"bg-primary text-primary-foreground",children:"Carrier"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 pt-2 border-t border-primary/20",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"h-3.5 w-3.5 text-primary flex-shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Destination"}),s.jsx("p",{className:"text-sm font-medium truncate",children:r.apartment_name})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-3.5 w-3.5 text-primary flex-shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"From"}),s.jsx("p",{className:"text-sm font-medium truncate",children:r.vendor_name})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tn,{className:"h-3.5 w-3.5 text-primary flex-shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"ETA"}),s.jsx("p",{className:"text-sm font-medium",children:r.expected_date})]})]})]})]})}),s.jsx(oe,{children:s.jsxs(le,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b",children:[s.jsx("div",{className:"p-1 bg-primary/10 rounded",children:s.jsx(Vr,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold",children:"Tracking History"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Latest updates"})]})]}),s.jsx("div",{className:"space-y-4",children:n.map((a,i)=>s.jsxs("div",{className:"flex gap-3 relative",children:[i!==n.length-1&&s.jsx("div",{className:"absolute left-3.5 top-8 bottom-0 w-0.5 bg-gradient-to-b from-primary/50 to-border"}),s.jsx("div",{className:"relative flex-shrink-0",children:s.jsx("div",{className:`w-7 h-7 rounded-full border-2 border-background flex items-center justify-center ${a.active?"bg-primary shadow-lg shadow-primary/20":"bg-muted"}`,children:a.active?s.jsx(yr,{className:"h-3.5 w-3.5 text-primary-foreground"}):s.jsx(Br,{className:"h-3.5 w-3.5 text-muted-foreground"})})}),s.jsxs("div",{className:"flex-1 pb-2",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsx("p",{className:`text-sm font-semibold ${a.active?"text-primary":""}`,children:a.status}),s.jsx(Pe,{variant:"outline",className:"text-xs",children:a.date})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-0.5",children:a.description}),s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(ha,{className:"h-3 w-3"}),a.location]})]})]},i))})]})})]})]})})};function C9e(e={}){const[t,r]=v.useState([]),[n,a]=v.useState(!0),[i,o]=v.useState(null),[l,c]=v.useState(0),d=v.useCallback(async()=>{try{a(!0),o(null);const h=await ug.getDeliveries(e);r(h.results||[]),c(h.count||0)}catch(h){console.error("Failed to fetch deliveries:",h),o(h.message||"Failed to fetch deliveries"),r([])}finally{a(!1)}},[e.search,e.status,e.priority,e.apartment,e.vendor,e.page,e.page_size]);return v.useEffect(()=>{d()},[d]),{deliveries:t,loading:n,error:i,totalCount:l,refetch:d,updateStatus:async(h,m,x)=>{await ug.updateStatus(h,m,x),await d()},deleteDelivery:async h=>{await ug.deleteDelivery(h),await d()}}}function E9e(){const[e,t]=v.useState({scheduled:0,in_transit:0,delivered:0,delayed:0,total:0}),[r,n]=v.useState(!0);return v.useEffect(()=>{(async()=>{try{n(!0);const o=(await ug.getDeliveries({page_size:1e3})).results||[];t({scheduled:o.filter(l=>l.status==="Scheduled").length,in_transit:o.filter(l=>l.status==="In Transit").length,delivered:o.filter(l=>l.status==="Delivered").length,delayed:o.filter(l=>l.status==="Delayed").length,total:o.length})}catch(i){console.error("Failed to fetch delivery statistics:",i)}finally{n(!1)}})()},[]),{statistics:e,loading:r}}const A9e=()=>{const[e,t]=v.useState(""),[r,n]=v.useState("all"),[a,i]=v.useState("all"),[o,l]=v.useState(null),[c,d]=v.useState(!1),[u,f]=v.useState(!1),[h,m]=v.useState(!1),{deliveries:x,loading:p,error:g,refetch:b,updateStatus:y}=C9e({search:e||void 0,status:r!=="all"?r:void 0,priority:a!=="all"?a:void 0});E9e();const j=async(S,E,P)=>{try{await y(S,E,{received_by:P==null?void 0:P.receivedBy,actual_date:P==null?void 0:P.actualDelivery,status_notes:P==null?void 0:P.statusNotes,location:P==null?void 0:P.location,delay_reason:P==null?void 0:P.delayReason})}catch(I){console.error("Failed to update status:",I)}},w=S=>({Confirmed:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400","In Transit":"bg-blue-500/10 text-blue-600 dark:text-blue-400",Delayed:"bg-orange-500/10 text-orange-600 dark:text-orange-400",Received:"bg-green-500/10 text-green-600 dark:text-green-400",Returned:"bg-red-500/10 text-red-600 dark:text-red-400"})[S]||"bg-muted text-muted-foreground",N=S=>({High:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",Medium:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/20",Low:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20"})[S]||"bg-muted text-muted-foreground",_=Object.entries(x.reduce((S,E)=>{const P=E.vendor_name||"Unknown";return S[P]=(S[P]||0)+1,S},{})).map(([S,E])=>({vendor:S.split(" ")[0],deliveries:E})),C=[{day:"Mon",deliveries:8},{day:"Tue",deliveries:12},{day:"Wed",deliveries:10},{day:"Thu",deliveries:15},{day:"Fri",deliveries:11},{day:"Sat",deliveries:5},{day:"Sun",deliveries:3}];return s.jsx(yt,{title:"Deliveries",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(oe,{className:"card-hover-effect",children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Confirmed"}),s.jsx("p",{className:"text-2xl font-bold",children:x.filter(S=>S.status==="Confirmed").length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor accepted"})]}),s.jsx("div",{className:"p-2.5 rounded-xl bg-blue-500/10",children:s.jsx(Vr,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),s.jsx(oe,{className:"card-hover-effect",children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"In Transit"}),s.jsx("p",{className:"text-2xl font-bold",children:x.filter(S=>S.status==="In Transit").length}),s.jsxs("p",{className:"text-sm text-success flex items-center gap-1",children:[s.jsx($o,{className:"h-4 w-4"}),"Active"]})]}),s.jsx("div",{className:"p-2.5 rounded-xl bg-yellow-500/10",children:s.jsx(yr,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})})]})})}),s.jsx(oe,{className:"card-hover-effect",children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Received"}),s.jsx("p",{className:"text-2xl font-bold",children:x.filter(S=>S.status==="Received").length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"})]}),s.jsx("div",{className:"p-2.5 rounded-xl bg-green-500/10",children:s.jsx(Br,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})})}),s.jsx(oe,{className:"card-hover-effect",children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Issues"}),s.jsx("p",{className:"text-2xl font-bold",children:x.filter(S=>S.status==="Delayed"||S.status==="Returned").length}),s.jsxs("p",{className:"text-sm text-orange-600 dark:text-orange-400 flex items-center gap-1",children:[s.jsx(Zi,{className:"h-4 w-4"}),"Delayed/Returned"]})]}),s.jsx("div",{className:"p-2.5 rounded-xl bg-orange-500/10",children:s.jsx(Zi,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs(oe,{children:[s.jsx(Fe,{className:"pb-3",children:s.jsxs($e,{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(mt,{className:"h-5 w-5 text-primary"}),"Deliveries by Vendor"]})}),s.jsx(le,{children:s.jsx(Cl,{width:"100%",height:200,children:s.jsxs(b_,{data:_,children:[s.jsx(Ml,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(Ba,{dataKey:"vendor",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),s.jsx(Ua,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),s.jsx(Hn,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"}}),s.jsx(ro,{dataKey:"deliveries",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})})]}),s.jsxs(oe,{children:[s.jsx(Fe,{className:"pb-3",children:s.jsxs($e,{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx($o,{className:"h-5 w-5 text-primary"}),"Weekly Delivery Trend"]})}),s.jsx(le,{children:s.jsx(Cl,{width:"100%",height:200,children:s.jsxs(y_,{data:C,children:[s.jsx(Ml,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(Ba,{dataKey:"day",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),s.jsx(Ua,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),s.jsx(Hn,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"}}),s.jsx(Fl,{type:"monotone",dataKey:"deliveries",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",r:4}})]})})})]})]}),s.jsxs(nl,{defaultValue:"list",className:"w-full",children:[s.jsxs("div",{className:"flex flex-col gap-3 mb-3",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between",children:[s.jsxs(co,{children:[s.jsx(Gt,{value:"list",children:"List View"}),s.jsx(Gt,{value:"calendar",children:"Calendar View"})]}),s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Ss,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/70"}),s.jsx(ue,{placeholder:"Search by apartment, vendor, order...",value:e,onChange:S=>t(S.target.value),className:"pl-10 h-11 bg-muted/30 border-border/50 focus:bg-background transition-colors"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(c0,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Filters:"})]}),s.jsxs(nt,{value:r,onValueChange:n,children:[s.jsx(et,{className:"w-[140px] h-11 bg-muted/30 border-border/50",children:s.jsx(st,{placeholder:"Status"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"all",children:"All Status"}),s.jsx(J,{value:"Confirmed",children:"Confirmed"}),s.jsx(J,{value:"In Transit",children:"In Transit"}),s.jsx(J,{value:"Delayed",children:"Delayed"}),s.jsx(J,{value:"Received",children:"Received"}),s.jsx(J,{value:"Returned",children:"Returned"})]})]}),s.jsxs(nt,{value:a,onValueChange:i,children:[s.jsx(et,{className:"w-[140px] h-11 bg-muted/30 border-border/50",children:s.jsx(st,{placeholder:"Priority"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"all",children:"All Priority"}),s.jsx(J,{value:"High",children:"High"}),s.jsx(J,{value:"Medium",children:"Medium"}),s.jsx(J,{value:"Low",children:"Low"})]})]}),(r!=="all"||a!=="all")&&s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>{n("all"),i("all")},className:"h-11",children:"Clear Filters"})]})]}),s.jsx(Zt,{value:"list",className:"mt-0",children:s.jsxs(oe,{children:[s.jsx(Fe,{className:"pb-3",children:s.jsxs($e,{className:"text-lg font-semibold",children:["All Deliveries (",x.length,")"]})}),s.jsx(le,{children:p?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(St,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):g?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-destructive",children:g}),s.jsx(re,{variant:"outline",className:"mt-4",onClick:b,children:"Try Again"})]}):s.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:s.jsxs(ds,{children:[s.jsx(us,{children:s.jsxs(Rt,{children:[s.jsx(Ee,{className:"font-semibold text-foreground/90",children:"Apartment"}),s.jsx(Ee,{className:"font-semibold text-foreground/90",children:"Vendor"}),s.jsx(Ee,{className:"font-semibold text-foreground/90",children:"Order No"}),s.jsx(Ee,{className:"font-semibold text-foreground/90",children:"Priority"}),s.jsx(Ee,{className:"font-semibold text-foreground/90",children:"ETA"}),s.jsx(Ee,{className:"font-semibold text-foreground/90",children:"Status"}),s.jsx(Ee,{className:"font-semibold text-foreground/90",children:"Tracking"}),s.jsx(Ee,{className:"text-right font-semibold text-foreground/90",children:"Actions"})]})}),s.jsx(fs,{children:x.length===0?s.jsx(Rt,{children:s.jsx(ye,{colSpan:9,className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No deliveries found"})})}):x.map(S=>s.jsxs(Rt,{className:"hover:bg-muted/50",children:[s.jsx(ye,{className:"font-medium",children:S.apartment_name}),s.jsx(ye,{className:"text-muted-foreground",children:S.vendor_name}),s.jsx(ye,{children:s.jsx(Pe,{variant:"outline",className:"font-mono",children:S.order_reference})}),s.jsx(ye,{children:s.jsx(Pe,{variant:"outline",className:N(S.priority),children:S.priority})}),s.jsx(ye,{className:"text-muted-foreground",children:S.expected_date}),s.jsx(ye,{children:s.jsx(Pe,{variant:"outline",className:w(S.status),children:S.status})}),s.jsx(ye,{children:S.tracking_number?s.jsx(Pe,{variant:"outline",className:"font-mono",children:S.tracking_number}):s.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),s.jsx(ye,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx(re,{size:"sm",variant:"ghost",title:"View Details",onClick:()=>{l(S),d(!0)},children:s.jsx(Da,{className:"h-4 w-4"})}),s.jsx(re,{size:"sm",variant:"ghost",title:"Track Delivery",onClick:()=>{l(S),m(!0)},children:s.jsx(hne,{className:"h-4 w-4"})}),s.jsx(re,{size:"sm",variant:"ghost",title:"Update Status",onClick:()=>{l(S),f(!0)},children:s.jsx(Br,{className:"h-4 w-4"})})]})})]},S.id))})]})})})]})}),s.jsx(Zt,{value:"calendar",className:"mt-0",children:s.jsx(oe,{children:s.jsxs(le,{className:"p-6",children:[s.jsx("div",{className:"grid grid-cols-7 gap-3 mb-3",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(S=>s.jsx("div",{className:"text-center text-sm font-semibold text-muted-foreground py-2",children:S},S))}),s.jsx("div",{className:"grid grid-cols-7 gap-3",children:Array.from({length:35},(S,E)=>{const P=new Date,D=new Date(P.getFullYear(),P.getMonth(),1).getDay(),U=E-D+1,M=new Date(P.getFullYear(),P.getMonth(),U).toISOString().split("T")[0],O=x.filter(A=>A.expected_date===M);return E<D||U>new Date(P.getFullYear(),P.getMonth()+1,0).getDate()?s.jsx("div",{className:"aspect-square"},E):s.jsxs("div",{className:`aspect-square border rounded-lg p-2 hover:border-primary transition-colors ${O.length>0?"bg-primary/5 border-primary/20":"bg-muted/30"}`,children:[s.jsx("div",{className:"text-sm font-medium mb-1",children:U}),O.length>0&&s.jsxs("div",{className:"space-y-1",children:[O.slice(0,2).map(A=>{var k;return s.jsx("div",{className:`text-[10px] px-1 py-0.5 rounded truncate ${w(A.status)}`,children:(k=A.apartment_name)==null?void 0:k.split(" ")[0]},A.id)}),O.length>2&&s.jsxs("div",{className:"text-[10px] text-muted-foreground",children:["+",O.length-2]})]})]},E)})})]})})})]}),s.jsx(a9e,{open:c,onOpenChange:d,delivery:o}),s.jsx(_9e,{open:u,onOpenChange:f,delivery:o,onStatusUpdate:j}),s.jsx(S9e,{open:h,onOpenChange:m,delivery:o})]})})},gs=ir.create({baseURL:ji,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});gs.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));gs.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});const ss={getIssues:async(e={})=>{const t=new URLSearchParams;return e.search&&t.append("search",e.search),e.status&&t.append("status",e.status),e.priority&&t.append("priority",e.priority),e.apartment&&t.append("apartment",e.apartment),e.vendor&&t.append("vendor",e.vendor),e.product&&t.append("product",e.product),e.page&&t.append("page",e.page.toString()),e.page_size&&t.append("page_size",e.page_size.toString()),(await gs.get(`/issues/?${t.toString()}`)).data},getIssue:async e=>(await gs.get(`/issues/${e}/`)).data,createIssue:async e=>(await gs.post("/issues/",e)).data,updateIssue:async(e,t)=>(await gs.patch(`/issues/${e}/`,t)).data,deleteIssue:async e=>{await gs.delete(`/issues/${e}/`)},uploadPhoto:async(e,t)=>(await gs.post(`/issues/${e}/photos/`,{url:t})).data,activateAIEmail:async e=>await gs.post(`/issues/${e}/activate_ai_email/`),getEmailThread:async e=>await gs.get(`/issues/${e}/email_thread/`),generateAIReply:async(e,t)=>await gs.post(`/issues/${e}/generate_ai_reply/`,{vendor_message:t}),addVendorResponse:async(e,t)=>await gs.post(`/issues/${e}/add_vendor_response/`,t),analyzeVendorResponse:async(e,t)=>await gs.post(`/issues/${e}/analyze_vendor_response/`,{message:t}),getConversation:async e=>(await gs.get(`/issues/${e}/conversation/`)).data,getSummary:async e=>(await gs.get(`/issues/${e}/summary/`)).data,sendManualMessage:async(e,t)=>(await gs.post(`/issues/${e}/send_manual_message/`,t)).data,sendBulkEmail:async e=>(await gs.post("/issues/bulk-email/",e)).data};function Zs(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var P9e=typeof Symbol=="function"&&Symbol.observable||"@@observable",JL=P9e,TS=()=>Math.random().toString(36).substring(7).split("").join("."),T9e={INIT:`@@redux/INIT${TS()}`,REPLACE:`@@redux/REPLACE${TS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${TS()}`},e$=T9e;function k9e(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function EY(e,t,r){if(typeof e!="function")throw new Error(Zs(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Zs(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Zs(1));return r(EY)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,c=!1;function d(){o===i&&(o=new Map,i.forEach((g,b)=>{o.set(b,g)}))}function u(){if(c)throw new Error(Zs(3));return a}function f(g){if(typeof g!="function")throw new Error(Zs(4));if(c)throw new Error(Zs(5));let b=!0;d();const y=l++;return o.set(y,g),function(){if(b){if(c)throw new Error(Zs(6));b=!1,d(),o.delete(y),i=null}}}function h(g){if(!k9e(g))throw new Error(Zs(7));if(typeof g.type>"u")throw new Error(Zs(8));if(typeof g.type!="string")throw new Error(Zs(17));if(c)throw new Error(Zs(9));try{c=!0,a=n(a,g)}finally{c=!1}return(i=o).forEach(y=>{y()}),g}function m(g){if(typeof g!="function")throw new Error(Zs(10));n=g,h({type:e$.REPLACE})}function x(){const g=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Zs(11));function y(){const w=b;w.next&&w.next(u())}return y(),{unsubscribe:g(y)}},[JL](){return this}}}return h({type:e$.INIT}),{dispatch:h,subscribe:f,getState:u,replaceReducer:m,[JL]:x}}function t$(e,t){return function(...r){return t(e.apply(this,r))}}function r$(e,t){if(typeof e=="function")return t$(e,t);if(typeof e!="object"||e===null)throw new Error(Zs(16));const r={};for(const n in e){const a=e[n];typeof a=="function"&&(r[n]=t$(a,t))}return r}function AY(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function O9e(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Zs(15))};const o={getState:a.getState,dispatch:(c,...d)=>i(c,...d)},l=e.map(c=>c(o));return i=AY(...l)(a.dispatch),{...a,dispatch:i}}}var D9e={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0=v;function I9e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var R9e=typeof Object.is=="function"?Object.is:I9e,M9e=Y0.useSyncExternalStore,F9e=Y0.useRef,L9e=Y0.useEffect,$9e=Y0.useMemo,B9e=Y0.useDebugValue;D9e.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=F9e(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=$9e(function(){function c(m){if(!d){if(d=!0,u=m,m=n(m),a!==void 0&&o.hasValue){var x=o.value;if(a(x,m))return f=x}return f=m}if(x=f,R9e(u,m))return x;var p=n(m);return a!==void 0&&a(x,p)?(u=m,x):(u=m,f=p)}var d=!1,u,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=M9e(e,i[0],i[1]);return L9e(function(){o.hasValue=!0,o.value=l},[l]),B9e(l),l};var U9e=v.version.startsWith("19"),V9e=Symbol.for(U9e?"react.transitional.element":"react.element"),z9e=Symbol.for("react.portal"),W9e=Symbol.for("react.fragment"),H9e=Symbol.for("react.strict_mode"),G9e=Symbol.for("react.profiler"),q9e=Symbol.for("react.consumer"),K9e=Symbol.for("react.context"),PY=Symbol.for("react.forward_ref"),X9e=Symbol.for("react.suspense"),Y9e=Symbol.for("react.suspense_list"),V4=Symbol.for("react.memo"),Q9e=Symbol.for("react.lazy"),Z9e=PY,J9e=V4;function e7e(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case V9e:switch(e=e.type,e){case W9e:case G9e:case H9e:case X9e:case Y9e:return e;default:switch(e=e&&e.$$typeof,e){case K9e:case PY:case Q9e:case V4:return e;case q9e:return e;default:return t}}case z9e:return t}}}function t7e(e){return e7e(e)===V4}function r7e(e,t,r,n,{areStatesEqual:a,areOwnPropsEqual:i,areStatePropsEqual:o}){let l=!1,c,d,u,f,h;function m(y,j){return c=y,d=j,u=e(c,d),f=t(n,d),h=r(u,f,d),l=!0,h}function x(){return u=e(c,d),t.dependsOnOwnProps&&(f=t(n,d)),h=r(u,f,d),h}function p(){return e.dependsOnOwnProps&&(u=e(c,d)),t.dependsOnOwnProps&&(f=t(n,d)),h=r(u,f,d),h}function g(){const y=e(c,d),j=!o(y,u);return u=y,j&&(h=r(u,f,d)),h}function b(y,j){const w=!i(j,d),N=!a(y,c,j,d);return c=y,d=j,w&&N?x():w?p():N?g():h}return function(j,w){return l?b(j,w):m(j,w)}}function n7e(e,{initMapStateToProps:t,initMapDispatchToProps:r,initMergeProps:n,...a}){const i=t(e,a),o=r(e,a),l=n(e,a);return r7e(i,o,l,e,a)}function s7e(e,t){const r={};for(const n in e){const a=e[n];typeof a=="function"&&(r[n]=(...i)=>t(a(...i)))}return r}function MP(e){return function(r){const n=e(r);function a(){return n}return a.dependsOnOwnProps=!1,a}}function n$(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function TY(e,t){return function(n,{displayName:a}){const i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=n$(e);let d=i(l,c);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=n$(d),d=i(l,c)),d},i}}function z4(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function a7e(e){return e&&typeof e=="object"?MP(t=>s7e(e,t)):e?typeof e=="function"?TY(e):z4(e,"mapDispatchToProps"):MP(t=>({dispatch:t}))}function i7e(e){return e?typeof e=="function"?TY(e):z4(e,"mapStateToProps"):MP(()=>({}))}function o7e(e,t,r){return{...r,...e,...t}}function l7e(e){return function(r,{displayName:n,areMergedPropsEqual:a}){let i=!1,o;return function(c,d,u){const f=e(c,d,u);return i?a(f,o)||(o=f):(i=!0,o=f),o}}}function c7e(e){return e?typeof e=="function"?l7e(e):z4(e,"mergeProps"):()=>o7e}function d7e(e){e()}function u7e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){d7e(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var s$={notify(){},get:()=>[]};function kY(e,t){let r,n=s$,a=0,i=!1;function o(p){u();const g=n.subscribe(p);let b=!1;return()=>{b||(b=!0,g(),f())}}function l(){n.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return i}function u(){a++,r||(r=t?t.addNestedSub(c):e.subscribe(c),n=u7e())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=s$)}function h(){i||(i=!0,u())}function m(){i&&(i=!1,f())}const x={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return x}var f7e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",h7e=f7e(),m7e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",p7e=m7e(),x7e=()=>h7e||p7e?v.useLayoutEffect:v.useEffect,nj=x7e();function a$(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function kS(e,t){if(a$(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!a$(e[r[a]],t[r[a]]))return!1;return!0}var g7e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},v7e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},y7e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},OY={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},b7e={[Z9e]:y7e,[J9e]:OY};function i$(e){return t7e(e)?OY:b7e[e.$$typeof]||g7e}var w7e=Object.defineProperty,j7e=Object.getOwnPropertyNames,o$=Object.getOwnPropertySymbols,N7e=Object.getOwnPropertyDescriptor,_7e=Object.getPrototypeOf,l$=Object.prototype;function FP(e,t){if(typeof t!="string"){if(l$){const i=_7e(t);i&&i!==l$&&FP(e,i)}let r=j7e(t);o$&&(r=r.concat(o$(t)));const n=i$(e),a=i$(t);for(let i=0;i<r.length;++i){const o=r[i];if(!v7e[o]&&!(a&&a[o])&&!(n&&n[o])){const l=N7e(t,o);try{w7e(e,o,l)}catch{}}}}return e}var OS=Symbol.for("react-redux-context"),DS=typeof globalThis<"u"?globalThis:{};function S7e(){if(!v.createContext)return{};const e=DS[OS]??(DS[OS]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var DY=S7e(),C7e=[null,null];function E7e(e,t,r){nj(()=>e(...t),r)}function A7e(e,t,r,n,a,i){e.current=n,r.current=!1,a.current&&(a.current=null,i())}function P7e(e,t,r,n,a,i,o,l,c,d,u){if(!e)return()=>{};let f=!1,h=null;const m=()=>{if(f||!l.current)return;const p=t.getState();let g,b;try{g=n(p,a.current)}catch(y){b=y,h=y}b||(h=null),g===i.current?o.current||d():(i.current=g,c.current=g,o.current=!0,u())};return r.onStateChange=m,r.trySubscribe(),m(),()=>{if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,h)throw h}}function T7e(e,t){return e===t}function k7e(e,t,r,{pure:n,areStatesEqual:a=T7e,areOwnPropsEqual:i=kS,areStatePropsEqual:o=kS,areMergedPropsEqual:l=kS,forwardRef:c=!1,context:d=DY}={}){const u=d,f=i7e(e),h=a7e(t),m=c7e(r),x=!!e;return g=>{const b=g.displayName||g.name||"Component",y=`Connect(${b})`,j={shouldHandleStateChanges:x,displayName:y,wrappedComponentName:b,WrappedComponent:g,initMapStateToProps:f,initMapDispatchToProps:h,initMergeProps:m,areStatesEqual:a,areStatePropsEqual:o,areOwnPropsEqual:i,areMergedPropsEqual:l};function w(C){const[S,E,P]=v.useMemo(()=>{const{reactReduxForwardedRef:he,...Ge}=C;return[C.context,he,Ge]},[C]),I=v.useMemo(()=>{let he=u;return S!=null&&S.Consumer,he},[S,u]),D=v.useContext(I),U=!!C.store&&!!C.store.getState&&!!C.store.dispatch,F=!!D&&!!D.store,M=U?C.store:D.store,O=F?D.getServerState:M.getState,A=v.useMemo(()=>n7e(M.dispatch,j),[M]),[k,W]=v.useMemo(()=>{if(!x)return C7e;const he=kY(M,U?void 0:D.subscription),Ge=he.notifyNestedSubs.bind(he);return[he,Ge]},[M,U,D]),fe=v.useMemo(()=>U?D:{...D,subscription:k},[U,D,k]),de=v.useRef(void 0),T=v.useRef(P),L=v.useRef(void 0),R=v.useRef(!1),K=v.useRef(!1),q=v.useRef(void 0);nj(()=>(K.current=!0,()=>{K.current=!1}),[]);const Z=v.useMemo(()=>()=>L.current&&P===T.current?L.current:A(M.getState(),P),[M,P]),X=v.useMemo(()=>Ge=>k?P7e(x,M,k,A,T,de,R,K,L,W,Ge):()=>{},[k]);E7e(A7e,[T,de,R,P,L,W]);let ee;try{ee=v.useSyncExternalStore(X,Z,O?()=>A(O(),P):Z)}catch(he){throw q.current&&(he.message+=`
The error may be correlated with this previous error:
${q.current.stack}

`),he}nj(()=>{q.current=void 0,L.current=void 0,de.current=ee});const ie=v.useMemo(()=>v.createElement(g,{...ee,ref:E}),[E,g,ee]);return v.useMemo(()=>x?v.createElement(I.Provider,{value:fe},ie):ie,[I,ie,fe])}const _=v.memo(w);if(_.WrappedComponent=g,_.displayName=w.displayName=y,c){const S=v.forwardRef(function(P,I){return v.createElement(_,{...P,reactReduxForwardedRef:I})});return S.displayName=y,S.WrappedComponent=g,FP(S,g)}return FP(_,g)}}var IY=k7e;function O7e(e){const{children:t,context:r,serverState:n,store:a}=e,i=v.useMemo(()=>{const c=kY(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=v.useMemo(()=>a.getState(),[a]);nj(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||DY;return v.createElement(l.Provider,{value:i},t)}var D7e=O7e,Po=function(t){var r=t.top,n=t.right,a=t.bottom,i=t.left,o=n-i,l=a-r,c={top:r,right:n,bottom:a,left:i,width:o,height:l,x:i,y:r,center:{x:(n+i)/2,y:(a+r)/2}};return c},W4=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},c$=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},I7e=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},IS={top:0,right:0,bottom:0,left:0},H4=function(t){var r=t.borderBox,n=t.margin,a=n===void 0?IS:n,i=t.border,o=i===void 0?IS:i,l=t.padding,c=l===void 0?IS:l,d=Po(W4(r,a)),u=Po(c$(r,o)),f=Po(c$(u,c));return{marginBox:d,borderBox:Po(r),paddingBox:u,contentBox:f,margin:a,border:o,padding:c}},Ti=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var a=Number(r);return isNaN(a)&&Zd(),a},R7e=function(){return{x:window.pageXOffset,y:window.pageYOffset}},sj=function(t,r){var n=t.borderBox,a=t.border,i=t.margin,o=t.padding,l=I7e(n,r);return H4({borderBox:l,border:a,margin:i,padding:o})},aj=function(t,r){return r===void 0&&(r=R7e()),sj(t,r)},RY=function(t,r){var n={top:Ti(r.marginTop),right:Ti(r.marginRight),bottom:Ti(r.marginBottom),left:Ti(r.marginLeft)},a={top:Ti(r.paddingTop),right:Ti(r.paddingRight),bottom:Ti(r.paddingBottom),left:Ti(r.paddingLeft)},i={top:Ti(r.borderTopWidth),right:Ti(r.borderRightWidth),bottom:Ti(r.borderBottomWidth),left:Ti(r.borderLeftWidth)};return H4({borderBox:t,margin:n,padding:a,border:i})},MY=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return RY(r,n)},Lv=function(t){var r=[],n=null,a=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];r=l,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a};function FY(e,t){}FY.bind(null,"warn");FY.bind(null,"error");function Ud(){}function M7e(e,t){return{...e,...t}}function zi(e,t,r){const n=t.map(a=>{const i=M7e(r,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){n.forEach(i=>{i()})}}const F7e="Invariant failed";class ij extends Error{}ij.prototype.toString=function(){return this.message};function Ze(e,t){throw new ij(F7e)}class L7e extends B.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Ud,this.onWindowError=r=>{const n=this.getCallbacks();n.isDragging()&&n.tryAbort(),r.error instanceof ij&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=zi(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof ij){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const $7e=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,oj=e=>e+1,B7e=e=>`
  You have lifted an item in position ${oj(e.source.index)}
`,LY=(e,t)=>{const r=e.droppableId===t.droppableId,n=oj(e.index),a=oj(t.index);return r?`
      You have moved the item from position ${n}
      to position ${a}
    `:`
    You have moved the item from position ${n}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${a}
  `},$Y=(e,t,r)=>t.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,U7e=e=>{const t=e.destination;if(t)return LY(e.source,t);const r=e.combine;return r?$Y(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},d$=e=>`
  The item has returned to its starting position
  of ${oj(e.index)}
`,V7e=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${d$(e.source)}
    `;const t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      ${LY(e.source,t)}
    `:r?`
      You have dropped the item.
      ${$Y(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${d$(e.source)}
  `},W1={dragHandleUsageInstructions:$7e,onDragStart:B7e,onDragUpdate:U7e,onDragEnd:V7e};function z7e(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function BY(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!z7e(e[r],t[r]))return!1;return!0}function ar(e,t){const r=v.useState(()=>({inputs:t,result:e()}))[0],n=v.useRef(!0),a=v.useRef(r),o=n.current||!!(t&&a.current.inputs&&BY(t,a.current.inputs))?a.current:{inputs:t,result:e()};return v.useEffect(()=>{n.current=!1,a.current=o},[o]),o.result}function _t(e,t){return ar(()=>e,t)}const hs={x:0,y:0},Cs=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),ci=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Vd=(e,t)=>e.x===t.x&&e.y===t.y,Vp=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Tf=(e,t,r=0)=>e==="x"?{x:t,y:r}:{x:r,y:t},$v=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),u$=(e,t)=>Math.min(...t.map(r=>$v(e,r))),UY=e=>t=>({x:e(t.x),y:e(t.y)});var W7e=(e,t)=>{const r=Po({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r};const Q0=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),f$=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],H7e={top:0,right:0,bottom:0,left:0},G7e=(e,t)=>t?Q0(e,t.scroll.diff.displacement):e,q7e=(e,t,r)=>r&&r.increasedBy?{...e,[t.end]:e[t.end]+r.increasedBy[t.line]}:e,K7e=(e,t)=>t&&t.shouldClipSubject?W7e(t.pageMarginBox,e):Po(e);var ap=({page:e,withPlaceholder:t,axis:r,frame:n})=>{const a=G7e(e.marginBox,n),i=q7e(a,r,t),o=K7e(i,n);return{page:e,withPlaceholder:t,active:o}},G4=(e,t)=>{e.frame||Ze();const r=e.frame,n=ci(t,r.scroll.initial),a=Vp(n),i={...r,scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:a},max:r.scroll.max}},o=ap({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:o}};function cs(e,t=BY){let r=null;function n(...a){if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;const i=e.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return n.clear=function(){r=null},n}const VY=cs(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),zY=cs(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),E_=cs(e=>Object.values(e)),X7e=cs(e=>Object.values(e));var zp=cs((e,t)=>X7e(t).filter(n=>e===n.descriptor.droppableId).sort((n,a)=>n.descriptor.index-a.descriptor.index));function q4(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function A_(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var P_=cs((e,t)=>t.filter(r=>r.descriptor.id!==e.descriptor.id)),Y7e=({isMovingForward:e,draggable:t,destination:r,insideDestination:n,previousImpact:a})=>{if(!r.isCombineEnabled||!q4(a))return null;function o(m){const x={type:"COMBINE",combine:{draggableId:m,droppableId:r.descriptor.id}};return{...a,at:x}}const l=a.displaced.all,c=l.length?l[0]:null;if(e)return c?o(c):null;const d=P_(t,n);if(!c){if(!d.length)return null;const m=d[d.length-1];return o(m.descriptor.id)}const u=d.findIndex(m=>m.descriptor.id===c);u===-1&&Ze();const f=u-1;if(f<0)return null;const h=d[f];return o(h.descriptor.id)},Wp=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const WY={point:hs,value:0},Bv={invisible:{},visible:{},all:[]},Q7e={displaced:Bv,displacedBy:WY,at:null};var Ki=(e,t)=>r=>e<=r&&r<=t,HY=e=>{const t=Ki(e.top,e.bottom),r=Ki(e.left,e.right);return n=>{if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;const i=t(n.top)||t(n.bottom),o=r(n.left)||r(n.right);if(i&&o)return!0;const c=n.top<e.top&&n.bottom>e.bottom,d=n.left<e.left&&n.right>e.right;return c&&d?!0:c&&o||d&&i}},Z7e=e=>{const t=Ki(e.top,e.bottom),r=Ki(e.left,e.right);return n=>t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right)};const K4={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},GY={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var J7e=e=>t=>{const r=Ki(t.top,t.bottom),n=Ki(t.left,t.right);return a=>e===K4?r(a.top)&&r(a.bottom):n(a.left)&&n(a.right)};const eUe=(e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:hs;return Q0(e,r)},tUe=(e,t,r)=>t.subject.active?r(t.subject.active)(e):!1,rUe=(e,t,r)=>r(t)(e),X4=({target:e,destination:t,viewport:r,withDroppableDisplacement:n,isVisibleThroughFrameFn:a})=>{const i=n?eUe(e,t):e;return tUe(i,t,a)&&rUe(i,r,a)},nUe=e=>X4({...e,isVisibleThroughFrameFn:HY}),qY=e=>X4({...e,isVisibleThroughFrameFn:Z7e}),sUe=e=>X4({...e,isVisibleThroughFrameFn:J7e(e.destination.axis)}),aUe=(e,t,r)=>{if(typeof r=="boolean")return r;if(!t)return!0;const{invisible:n,visible:a}=t;if(n[e])return!1;const i=a[e];return i?i.shouldAnimate:!0};function iUe(e,t){const r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Po(W4(r,n))}function Uv({afterDragging:e,destination:t,displacedBy:r,viewport:n,forceShouldAnimate:a,last:i}){return e.reduce(function(l,c){const d=iUe(c,r),u=c.descriptor.id;if(l.all.push(u),!nUe({target:d,destination:t,viewport:n,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const h=aUe(u,i,a),m={draggableId:u,shouldAnimate:h};return l.visible[u]=m,l},{all:[],visible:{},invisible:{}})}function oUe(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function h$({insideDestination:e,inHomeList:t,displacedBy:r,destination:n}){const a=oUe(e,{inHomeList:t});return{displaced:Bv,displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:a}}}}function lj({draggable:e,insideDestination:t,destination:r,viewport:n,displacedBy:a,last:i,index:o,forceShouldAnimate:l}){const c=Wp(e,r);if(o==null)return h$({insideDestination:t,inHomeList:c,displacedBy:a,destination:r});const d=t.find(x=>x.descriptor.index===o);if(!d)return h$({insideDestination:t,inHomeList:c,displacedBy:a,destination:r});const u=P_(e,t),f=t.indexOf(d),h=u.slice(f);return{displaced:Uv({afterDragging:h,destination:r,displacedBy:a,last:i,viewport:n.frame,forceShouldAnimate:l}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function Jd(e,t){return!!t.effected[e]}var lUe=({isMovingForward:e,destination:t,draggables:r,combine:n,afterCritical:a})=>{if(!t.isCombineEnabled)return null;const i=n.draggableId,l=r[i].descriptor.index;return Jd(i,a)?e?l:l-1:e?l+1:l},cUe=({isMovingForward:e,isInHomeList:t,insideDestination:r,location:n})=>{if(!r.length)return null;const a=n.index,i=e?a+1:a-1,o=r[0].descriptor.index,l=r[r.length-1].descriptor.index,c=t?l:l+1;return i<o||i>c?null:i},dUe=({isMovingForward:e,isInHomeList:t,draggable:r,draggables:n,destination:a,insideDestination:i,previousImpact:o,viewport:l,afterCritical:c})=>{const d=o.at;if(d||Ze(),d.type==="REORDER"){const f=cUe({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:i});return f==null?null:lj({draggable:r,insideDestination:i,destination:a,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:f})}const u=lUe({isMovingForward:e,destination:a,displaced:o.displaced,draggables:n,combine:d.combine,afterCritical:c});return u==null?null:lj({draggable:r,insideDestination:i,destination:a,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:u})},uUe=({displaced:e,afterCritical:t,combineWith:r,displacedBy:n})=>{const a=!!(e.visible[r]||e.invisible[r]);return Jd(r,t)?a?hs:Vp(n.point):a?n.point:hs},fUe=({afterCritical:e,impact:t,draggables:r})=>{const n=A_(t);n||Ze();const a=n.draggableId,i=r[a].page.borderBox.center,o=uUe({displaced:t.displaced,afterCritical:e,combineWith:a,displacedBy:t.displacedBy});return Cs(i,o)};const KY=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,hUe=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,Y4=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,m$=({axis:e,moveRelativeTo:t,isMoving:r})=>Tf(e.line,t.marginBox[e.end]+KY(e,r),Y4(e,t.marginBox,r)),p$=({axis:e,moveRelativeTo:t,isMoving:r})=>Tf(e.line,t.marginBox[e.start]-hUe(e,r),Y4(e,t.marginBox,r)),mUe=({axis:e,moveInto:t,isMoving:r})=>Tf(e.line,t.contentBox[e.start]+KY(e,r),Y4(e,t.contentBox,r));var pUe=({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a})=>{const i=zp(n.descriptor.id,r),o=t.page,l=n.axis;if(!i.length)return mUe({axis:l,moveInto:n.page,isMoving:o});const{displaced:c,displacedBy:d}=e,u=c.all[0];if(u){const h=r[u];if(Jd(u,a))return p$({axis:l,moveRelativeTo:h.page,isMoving:o});const m=sj(h.page,d.point);return p$({axis:l,moveRelativeTo:m,isMoving:o})}const f=i[i.length-1];if(f.descriptor.id===t.descriptor.id)return o.borderBox.center;if(Jd(f.descriptor.id,a)){const h=sj(f.page,Vp(a.displacedBy.point));return m$({axis:l,moveRelativeTo:h,isMoving:o})}return m$({axis:l,moveRelativeTo:f.page,isMoving:o})},LP=(e,t)=>{const r=e.frame;return r?Cs(t,r.scroll.diff.displacement):t};const xUe=({impact:e,draggable:t,droppable:r,draggables:n,afterCritical:a})=>{const i=t.page.borderBox.center,o=e.at;return!r||!o?i:o.type==="REORDER"?pUe({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:a}):fUe({impact:e,draggables:n,afterCritical:a})};var T_=e=>{const t=xUe(e),r=e.droppable;return r?LP(r,t):t},XY=(e,t)=>{const r=ci(t,e.scroll.initial),n=Vp(r);return{frame:Po({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}};function x$(e,t){return e.map(r=>t[r])}function gUe(e,t){for(let r=0;r<t.length;r++){const n=t[r].visible[e];if(n)return n}return null}var vUe=({impact:e,viewport:t,destination:r,draggables:n,maxScrollChange:a})=>{const i=XY(t,Cs(t.scroll.current,a)),o=r.frame?G4(r,Cs(r.frame.scroll.current,a)):r,l=e.displaced,c=Uv({afterDragging:x$(l.all,n),destination:r,displacedBy:e.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),d=Uv({afterDragging:x$(l.all,n),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),u={},f={},h=[l,c,d];return l.all.forEach(x=>{const p=gUe(x,h);if(p){f[x]=p;return}u[x]=!0}),{...e,displaced:{all:l.all,invisible:u,visible:f}}},yUe=(e,t)=>Cs(e.scroll.diff.displacement,t),Q4=({pageBorderBoxCenter:e,draggable:t,viewport:r})=>{const n=yUe(r,e),a=ci(n,t.page.borderBox.center);return Cs(t.client.borderBox.center,a)},YY=({draggable:e,destination:t,newPageBorderBoxCenter:r,viewport:n,withDroppableDisplacement:a,onlyOnMainAxis:i=!1})=>{const o=ci(r,e.page.borderBox.center),c={target:Q0(e.page.borderBox,o),destination:t,withDroppableDisplacement:a,viewport:n};return i?sUe(c):qY(c)},bUe=({isMovingForward:e,draggable:t,destination:r,draggables:n,previousImpact:a,viewport:i,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:c})=>{if(!r.isEnabled)return null;const d=zp(r.descriptor.id,n),u=Wp(t,r),f=Y7e({isMovingForward:e,draggable:t,destination:r,insideDestination:d,previousImpact:a})||dUe({isMovingForward:e,isInHomeList:u,draggable:t,draggables:n,destination:r,insideDestination:d,previousImpact:a,viewport:i,afterCritical:c});if(!f)return null;const h=T_({impact:f,draggable:t,droppable:r,draggables:n,afterCritical:c});if(YY({draggable:t,destination:r,newPageBorderBoxCenter:h,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Q4({pageBorderBoxCenter:h,draggable:t,viewport:i}),impact:f,scrollJumpRequest:null};const x=ci(h,o),p=vUe({impact:f,viewport:i,destination:r,draggables:n,maxScrollChange:x});return{clientSelection:l,impact:p,scrollJumpRequest:x}};const Qs=e=>{const t=e.subject.active;return t||Ze(),t};var wUe=({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:n,viewport:a})=>{const i=r.subject.active;if(!i)return null;const o=r.axis,l=Ki(i[o.start],i[o.end]),c=E_(n).filter(u=>u!==r).filter(u=>u.isEnabled).filter(u=>!!u.subject.active).filter(u=>HY(a.frame)(Qs(u))).filter(u=>{const f=Qs(u);return e?i[o.crossAxisEnd]<f[o.crossAxisEnd]:f[o.crossAxisStart]<i[o.crossAxisStart]}).filter(u=>{const f=Qs(u),h=Ki(f[o.start],f[o.end]);return l(f[o.start])||l(f[o.end])||h(i[o.start])||h(i[o.end])}).sort((u,f)=>{const h=Qs(u)[o.crossAxisStart],m=Qs(f)[o.crossAxisStart];return e?h-m:m-h}).filter((u,f,h)=>Qs(u)[o.crossAxisStart]===Qs(h[0])[o.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(u=>Ki(Qs(u)[o.start],Qs(u)[o.end])(t[o.line]));return d.length===1?d[0]:d.length>1?d.sort((u,f)=>Qs(u)[o.start]-Qs(f)[o.start])[0]:c.sort((u,f)=>{const h=u$(t,f$(Qs(u))),m=u$(t,f$(Qs(f)));return h!==m?h-m:Qs(u)[o.start]-Qs(f)[o.start]})[0]};const g$=(e,t)=>{const r=e.page.borderBox.center;return Jd(e.descriptor.id,t)?ci(r,t.displacedBy.point):r},jUe=(e,t)=>{const r=e.page.borderBox;return Jd(e.descriptor.id,t)?Q0(r,Vp(t.displacedBy.point)):r};var NUe=({pageBorderBoxCenter:e,viewport:t,destination:r,insideDestination:n,afterCritical:a})=>n.filter(o=>qY({target:jUe(o,a),destination:r,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const c=$v(e,LP(r,g$(o,a))),d=$v(e,LP(r,g$(l,a)));return c<d?-1:d<c?1:o.descriptor.index-l.descriptor.index})[0]||null,Z0=cs(function(t,r){const n=r[t.line];return{value:n,point:Tf(t.line,n)}});const _Ue=(e,t,r)=>{const n=e.axis;if(e.descriptor.mode==="virtual")return Tf(n.line,t[n.line]);const a=e.subject.page.contentBox[n.size],c=zp(e.descriptor.id,r).reduce((d,u)=>d+u.client.marginBox[n.size],0)+t[n.line]-a;return c<=0?null:Tf(n.line,c)},QY=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),ZY=(e,t,r)=>{const n=e.frame;Wp(t,e)&&Ze(),e.subject.withPlaceholder&&Ze();const a=Z0(e.axis,t.displaceBy).point,i=_Ue(e,a,r),o={placeholderSize:a,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n){const u=ap({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:u}}const l=i?Cs(n.scroll.max,i):n.scroll.max,c=QY(n,l),d=ap({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:c});return{...e,subject:d,frame:c}},SUe=e=>{const t=e.subject.withPlaceholder;t||Ze();const r=e.frame;if(!r){const o=ap({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const n=t.oldFrameMaxScroll;n||Ze();const a=QY(r,n),i=ap({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return{...e,subject:i,frame:a}};var CUe=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:r,draggable:n,draggables:a,destination:i,viewport:o,afterCritical:l})=>{if(!t){if(r.length)return null;const f={displaced:Bv,displacedBy:WY,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},h=T_({impact:f,draggable:n,droppable:i,draggables:a,afterCritical:l}),m=Wp(n,i)?i:ZY(i,n,a);return YY({draggable:n,destination:m,newPageBorderBoxCenter:h,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const c=e[i.axis.line]<=t.page.borderBox.center[i.axis.line],d=(()=>{const f=t.descriptor.index;return t.descriptor.id===n.descriptor.id||c?f:f+1})(),u=Z0(i.axis,n.displaceBy);return lj({draggable:n,insideDestination:r,destination:i,viewport:o,displacedBy:u,last:Bv,index:d})},EUe=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:r,isOver:n,draggables:a,droppables:i,viewport:o,afterCritical:l})=>{const c=wUe({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:i,viewport:o});if(!c)return null;const d=zp(c.descriptor.id,a),u=NUe({pageBorderBoxCenter:t,viewport:o,destination:c,insideDestination:d,afterCritical:l}),f=CUe({previousPageBorderBoxCenter:t,destination:c,draggable:r,draggables:a,moveRelativeTo:u,insideDestination:d,viewport:o,afterCritical:l});if(!f)return null;const h=T_({impact:f,draggable:r,droppable:c,draggables:a,afterCritical:l});return{clientSelection:Q4({pageBorderBoxCenter:h,draggable:r,viewport:o}),impact:f,scrollJumpRequest:null}},mi=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const AUe=(e,t)=>{const r=mi(e);return r?t[r]:null};var PUe=({state:e,type:t})=>{const r=AUe(e.impact,e.dimensions.droppables),n=!!r,a=e.dimensions.droppables[e.critical.droppable.id],i=r||a,o=i.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!n)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],u=e.current.page.borderBoxCenter,{draggables:f,droppables:h}=e.dimensions;return l?bUe({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,destination:i,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):EUe({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,isOver:i,draggables:f,droppables:h,viewport:e.viewport,afterCritical:e.afterCritical})};function Au(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function JY(e){const t=Ki(e.top,e.bottom),r=Ki(e.left,e.right);return function(a){return t(a.y)&&r(a.x)}}function TUe(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function kUe({pageBorderBox:e,draggable:t,candidates:r}){const n=t.page.borderBox.center,a=r.map(i=>{const o=i.axis,l=Tf(i.axis.line,e.center[o.line],i.page.borderBox.center[o.crossAxisLine]);return{id:i.descriptor.id,distance:$v(n,l)}}).sort((i,o)=>o.distance-i.distance);return a[0]?a[0].id:null}function OUe({pageBorderBox:e,draggable:t,droppables:r}){const n=E_(r).filter(a=>{if(!a.isEnabled)return!1;const i=a.subject.active;if(!i||!TUe(e,i))return!1;if(JY(i)(e.center))return!0;const o=a.axis,l=i.center[o.crossAxisLine],c=e[o.crossAxisStart],d=e[o.crossAxisEnd],u=Ki(i[o.crossAxisStart],i[o.crossAxisEnd]),f=u(c),h=u(d);return!f&&!h?!0:f?c<l:d>l});return n.length?n.length===1?n[0].descriptor.id:kUe({pageBorderBox:e,draggable:t,candidates:n}):null}const eQ=(e,t)=>Po(Q0(e,t));var DUe=(e,t)=>{const r=e.frame;return r?eQ(t,r.scroll.diff.value):t};function tQ({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function IUe({draggable:e,closest:t,inHomeList:r}){return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var RUe=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:r,insideDestination:n,last:a,viewport:i,afterCritical:o})=>{const l=r.axis,c=Z0(r.axis,t.displaceBy),d=c.value,u=e[l.start],f=e[l.end],m=P_(t,n).find(p=>{const g=p.descriptor.id,b=p.page.borderBox.center[l.line],y=Jd(g,o),j=tQ({displaced:a,id:g});return y?j?f<=b:u<b-d:j?f<=b+d:u<b})||null,x=IUe({draggable:t,closest:m,inHomeList:Wp(t,r)});return lj({draggable:t,insideDestination:n,destination:r,viewport:i,last:a,displacedBy:c,index:x})};const MUe=4;var FUe=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:r,destination:n,insideDestination:a,afterCritical:i})=>{if(!n.isCombineEnabled)return null;const o=n.axis,l=Z0(n.axis,e.displaceBy),c=l.value,d=t[o.start],u=t[o.end],h=P_(e,a).find(x=>{const p=x.descriptor.id,g=x.page.borderBox,y=g[o.size]/MUe,j=Jd(p,i),w=tQ({displaced:r.displaced,id:p});return j?w?u>g[o.start]+y&&u<g[o.end]-y:d>g[o.start]-c+y&&d<g[o.end]-c-y:w?u>g[o.start]+c+y&&u<g[o.end]+c-y:d>g[o.start]+y&&d<g[o.end]-y});return h?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:n.descriptor.id}}}:null},rQ=({pageOffset:e,draggable:t,draggables:r,droppables:n,previousImpact:a,viewport:i,afterCritical:o})=>{const l=eQ(t.page.borderBox,e),c=OUe({pageBorderBox:l,draggable:t,droppables:n});if(!c)return Q7e;const d=n[c],u=zp(d.descriptor.id,r),f=DUe(d,l);return FUe({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:a,destination:d,insideDestination:u,afterCritical:o})||RUe({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:d,insideDestination:u,last:a.displaced,viewport:i,afterCritical:o})},Z4=(e,t)=>({...e,[t.descriptor.id]:t});const LUe=({previousImpact:e,impact:t,droppables:r})=>{const n=mi(e),a=mi(t);if(!n||n===a)return r;const i=r[n];if(!i.subject.withPlaceholder)return r;const o=SUe(i);return Z4(r,o)};var $Ue=({draggable:e,draggables:t,droppables:r,previousImpact:n,impact:a})=>{const i=LUe({previousImpact:n,impact:a,droppables:r}),o=mi(a);if(!o)return i;const l=r[o];if(Wp(e,l)||l.subject.withPlaceholder)return i;const c=ZY(l,e,t);return Z4(i,c)},fg=({state:e,clientSelection:t,dimensions:r,viewport:n,impact:a,scrollJumpRequest:i})=>{const o=n||e.viewport,l=r||e.dimensions,c=t||e.current.client.selection,d=ci(c,e.initial.client.selection),u={offset:d,selection:c,borderBoxCenter:Cs(e.initial.client.borderBoxCenter,d)},f={selection:Cs(u.selection,o.scroll.current),borderBoxCenter:Cs(u.borderBoxCenter,o.scroll.current),offset:Cs(u.offset,o.scroll.diff.value)},h={client:u,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:h};const m=l.draggables[e.critical.draggable.id],x=a||rQ({pageOffset:f.offset,draggable:m,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),p=$Ue({draggable:m,impact:x,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:h,dimensions:{draggables:l.draggables,droppables:p},impact:x,viewport:o,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function BUe(e,t){return e.map(r=>t[r])}var nQ=({impact:e,viewport:t,draggables:r,destination:n,forceShouldAnimate:a})=>{const i=e.displaced,o=BUe(i.all,r),l=Uv({afterDragging:o,destination:n,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:a,last:i});return{...e,displaced:l}},sQ=({impact:e,draggable:t,droppable:r,draggables:n,viewport:a,afterCritical:i})=>{const o=T_({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i});return Q4({pageBorderBoxCenter:o,draggable:t,viewport:a})},aQ=({state:e,dimensions:t,viewport:r})=>{e.movementMode!=="SNAP"&&Ze();const n=e.impact,a=r||e.viewport,i=t||e.dimensions,{draggables:o,droppables:l}=i,c=o[e.critical.draggable.id],d=mi(n);d||Ze();const u=l[d],f=nQ({impact:n,viewport:a,destination:u,draggables:o}),h=sQ({impact:f,draggable:c,droppable:u,draggables:o,viewport:a,afterCritical:e.afterCritical});return fg({impact:f,clientSelection:h,state:e,dimensions:i,viewport:a})},UUe=e=>({index:e.index,droppableId:e.droppableId}),iQ=({draggable:e,home:t,draggables:r,viewport:n})=>{const a=Z0(t.axis,e.displaceBy),i=zp(t.descriptor.id,r),o=i.indexOf(e);o===-1&&Ze();const l=i.slice(o+1),c=l.reduce((h,m)=>(h[m.descriptor.id]=!0,h),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:a,effected:c};return{impact:{displaced:Uv({afterDragging:l,destination:t,displacedBy:a,last:null,viewport:n.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:UUe(e.descriptor)}},afterCritical:d}},VUe=(e,t)=>({draggables:e.draggables,droppables:Z4(e.droppables,t)}),zUe=({draggable:e,offset:t,initialWindowScroll:r})=>{const n=sj(e.client,t),a=aj(n,r);return{...e,placeholder:{...e.placeholder,client:n},client:n,page:a}},WUe=e=>{const t=e.frame;return t||Ze(),t},HUe=({additions:e,updatedDroppables:t,viewport:r})=>{const n=r.scroll.diff.value;return e.map(a=>{const i=a.descriptor.droppableId,o=t[i],c=WUe(o).scroll.diff.value,d=Cs(n,c);return zUe({draggable:a,offset:d,initialWindowScroll:r.scroll.initial})})},GUe=({state:e,published:t})=>{const r=t.modified.map(b=>{const y=e.dimensions.droppables[b.droppableId];return G4(y,b.scroll)}),n={...e.dimensions.droppables,...VY(r)},a=zY(HUe({additions:t.additions,updatedDroppables:n,viewport:e.viewport})),i={...e.dimensions.draggables,...a};t.removals.forEach(b=>{delete i[b]});const o={droppables:n,draggables:i},l=mi(e.impact),c=l?o.droppables[l]:null,d=o.draggables[e.critical.draggable.id],u=o.droppables[e.critical.droppable.id],{impact:f,afterCritical:h}=iQ({draggable:d,home:u,draggables:i,viewport:e.viewport}),m=c&&c.isCombineEnabled?e.impact:f,x=rQ({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:m,viewport:e.viewport,afterCritical:h}),p={...e,phase:"DRAGGING",impact:x,onLiftImpact:f,dimensions:o,afterCritical:h,forceShouldAnimate:!1};return e.phase==="COLLECTING"?p:{...p,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const $P=e=>e.movementMode==="SNAP",RS=(e,t,r)=>{const n=VUe(e.dimensions,t);return!$P(e)||r?fg({state:e,dimensions:n}):aQ({state:e,dimensions:n})};function MS(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const v$={phase:"IDLE",completed:null,shouldFlush:!1};var qUe=(e=v$,t)=>{if(t.type==="FLUSH")return{...v$,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Ze();const{critical:r,clientSelection:n,viewport:a,dimensions:i,movementMode:o}=t.payload,l=i.draggables[r.draggable.id],c=i.droppables[r.droppable.id],d={selection:n,borderBoxCenter:l.client.borderBox.center,offset:hs},u={client:d,page:{selection:Cs(d.selection,a.scroll.initial),borderBoxCenter:Cs(d.selection,a.scroll.initial),offset:Cs(d.selection,a.scroll.diff.value)}},f=E_(i.droppables).every(p=>!p.isFixedOnPage),{impact:h,afterCritical:m}=iQ({draggable:l,home:c,draggables:i.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:o,dimensions:i,initial:u,current:u,isWindowScrollAllowed:f,impact:h,afterCritical:m,onLiftImpact:h,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Ze(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Ze(),GUe({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Au(e)||Ze();const{client:r}=t.payload;return Vd(r,e.current.client.selection)?e:fg({state:e,clientSelection:r,impact:$P(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return MS(e);Au(e)||Ze();const{id:r,newScroll:n}=t.payload,a=e.dimensions.droppables[r];if(!a)return e;const i=G4(a,n);return RS(e,i,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Au(e)||Ze();const{id:r,isEnabled:n}=t.payload,a=e.dimensions.droppables[r];a||Ze(),a.isEnabled===n&&Ze();const i={...a,isEnabled:n};return RS(e,i,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Au(e)||Ze();const{id:r,isCombineEnabled:n}=t.payload,a=e.dimensions.droppables[r];a||Ze(),a.isCombineEnabled===n&&Ze();const i={...a,isCombineEnabled:n};return RS(e,i,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Au(e)||Ze(),e.isWindowScrollAllowed||Ze();const r=t.payload.newScroll;if(Vd(e.viewport.scroll.current,r))return MS(e);const n=XY(e.viewport,r);return $P(e)?aQ({state:e,viewport:n}):fg({state:e,viewport:n})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Au(e))return e;const r=t.payload.maxScroll;if(Vd(r,e.viewport.scroll.max))return e;const n={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:n}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Ze();const r=PUe({state:e,type:t.type});return r?fg({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const r=t.payload.reason;return e.phase!=="COLLECTING"&&Ze(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(t.type==="DROP_ANIMATE"){const{completed:r,dropDuration:n,newHomeClientOffset:a}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Ze(),{phase:"DROP_ANIMATING",completed:r,dropDuration:n,newHomeClientOffset:a,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:r}=t.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};function gr(e,t){return e instanceof Object&&"type"in e&&e.type===t}const KUe=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),XUe=e=>({type:"LIFT",payload:e}),YUe=e=>({type:"INITIAL_PUBLISH",payload:e}),QUe=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),ZUe=()=>({type:"COLLECTION_STARTING",payload:null}),JUe=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),eVe=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),tVe=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),oQ=e=>({type:"MOVE",payload:e}),rVe=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),nVe=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),sVe=()=>({type:"MOVE_UP",payload:null}),aVe=()=>({type:"MOVE_DOWN",payload:null}),iVe=()=>({type:"MOVE_RIGHT",payload:null}),oVe=()=>({type:"MOVE_LEFT",payload:null}),J4=()=>({type:"FLUSH",payload:null}),lVe=e=>({type:"DROP_ANIMATE",payload:e}),eD=e=>({type:"DROP_COMPLETE",payload:e}),lQ=e=>({type:"DROP",payload:e}),cVe=e=>({type:"DROP_PENDING",payload:e}),cQ=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var dVe=e=>({getState:t,dispatch:r})=>n=>a=>{if(!gr(a,"LIFT")){n(a);return}const{id:i,clientSelection:o,movementMode:l}=a.payload,c=t();c.phase==="DROP_ANIMATING"&&r(eD({completed:c.completed})),t().phase!=="IDLE"&&Ze(),r(J4()),r(KUe({draggableId:i,movementMode:l}));const u={draggableId:i,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:f,dimensions:h,viewport:m}=e.startPublishing(u);r(YUe({critical:f,dimensions:h,clientSelection:o,movementMode:l,viewport:m}))},uVe=e=>()=>t=>r=>{gr(r,"INITIAL_PUBLISH")&&e.dragging(),gr(r,"DROP_ANIMATE")&&e.dropping(r.payload.completed.result.reason),(gr(r,"FLUSH")||gr(r,"DROP_COMPLETE"))&&e.resting(),t(r)};const tD={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Vv={opacity:{drop:0,combining:.7},scale:{drop:.75}},dQ={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},wu=`${dQ.outOfTheWay}s ${tD.outOfTheWay}`,hg={fluid:`opacity ${wu}`,snap:`transform ${wu}, opacity ${wu}`,drop:e=>{const t=`${e}s ${tD.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${wu}`,placeholder:`height ${wu}, width ${wu}, margin ${wu}`},y$=e=>Vd(e,hs)?void 0:`translate(${e.x}px, ${e.y}px)`,BP={moveTo:y$,drop:(e,t)=>{const r=y$(e);if(r)return t?`${r} scale(${Vv.scale.drop})`:r}},{minDropTime:UP,maxDropTime:uQ}=dQ,fVe=uQ-UP,b$=1500,hVe=.6;var mVe=({current:e,destination:t,reason:r})=>{const n=$v(e,t);if(n<=0)return UP;if(n>=b$)return uQ;const a=n/b$,i=UP+fVe*a,o=r==="CANCEL"?i*hVe:i;return Number(o.toFixed(2))},pVe=({impact:e,draggable:t,dimensions:r,viewport:n,afterCritical:a})=>{const{draggables:i,droppables:o}=r,l=mi(e),c=l?o[l]:null,d=o[t.descriptor.droppableId],u=sQ({impact:e,draggable:t,draggables:i,afterCritical:a,droppable:c||d,viewport:n});return ci(u,t.client.borderBox.center)},xVe=({draggables:e,reason:t,lastImpact:r,home:n,viewport:a,onLiftImpact:i})=>!r.at||t!=="DROP"?{impact:nQ({draggables:e,impact:i,destination:n,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:Bv},didDropInsideDroppable:!0};const gVe=({getState:e,dispatch:t})=>r=>n=>{if(!gr(n,"DROP")){r(n);return}const a=e(),i=n.payload.reason;if(a.phase==="COLLECTING"){t(cVe({reason:i}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&Ze(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||Ze();const l=a.critical,c=a.dimensions,d=c.draggables[a.critical.draggable.id],{impact:u,didDropInsideDroppable:f}=xVe({reason:i,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),h=f?q4(u):null,m=f?A_(u):null,x={index:l.draggable.index,droppableId:l.droppable.id},p={draggableId:d.descriptor.id,type:d.descriptor.type,source:x,reason:i,mode:a.movementMode,destination:h,combine:m},g=pVe({impact:u,draggable:d,dimensions:c,viewport:a.viewport,afterCritical:a.afterCritical}),b={critical:a.critical,afterCritical:a.afterCritical,result:p,impact:u};if(!(!Vd(a.current.client.offset,g)||!!p.combine)){t(eD({completed:b}));return}const j=mVe({current:a.current.client.offset,destination:g,reason:i});t(lVe({newHomeClientOffset:g,dropDuration:j,completed:b}))};var fQ=()=>({x:window.pageXOffset,y:window.pageYOffset});function vVe(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function yVe({onWindowScroll:e}){function t(){e(fQ())}const r=Lv(t),n=vVe(r);let a=Ud;function i(){return a!==Ud}function o(){i()&&Ze(),a=zi(window,[n])}function l(){i()||Ze(),r.cancel(),a(),a=Ud}return{start:o,stop:l,isActive:i}}const bVe=e=>gr(e,"DROP_COMPLETE")||gr(e,"DROP_ANIMATE")||gr(e,"FLUSH"),wVe=e=>{const t=yVe({onWindowScroll:r=>{e.dispatch(rVe({newScroll:r}))}});return r=>n=>{!t.isActive()&&gr(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&bVe(n)&&t.stop(),r(n)}};var jVe=e=>{let t=!1,r=!1;const n=setTimeout(()=>{r=!0}),a=i=>{t||r||(t=!0,e(i),clearTimeout(n))};return a.wasCalled=()=>t,a},NVe=()=>{const e=[],t=a=>{const i=e.findIndex(l=>l.timerId===a);i===-1&&Ze();const[o]=e.splice(i,1);o.callback()};return{add:a=>{const i=setTimeout(()=>t(i)),o={timerId:i,callback:a};e.push(o)},flush:()=>{if(!e.length)return;const a=[...e];e.length=0,a.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const _Ve=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,SVe=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,CVe=(e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n},Ex=(e,t)=>{t()},a1=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function FS(e,t,r,n){if(!e){r(n(t));return}const a=jVe(r);e(t,{announce:a}),a.wasCalled()||r(n(t))}var EVe=(e,t)=>{const r=NVe();let n=null;const a=(f,h)=>{n&&Ze(),Ex("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:f,mode:h})})},i=(f,h)=>{n&&Ze(),Ex("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(a1(f,h))})},o=(f,h)=>{n&&Ze();const m=a1(f,h);n={mode:h,lastCritical:f,lastLocation:m.source,lastCombine:null},r.add(()=>{Ex("onDragStart",()=>FS(e().onDragStart,m,t,W1.onDragStart))})},l=(f,h)=>{const m=q4(h),x=A_(h);n||Ze();const p=!CVe(f,n.lastCritical);p&&(n.lastCritical=f);const g=!_Ve(n.lastLocation,m);g&&(n.lastLocation=m);const b=!SVe(n.lastCombine,x);if(b&&(n.lastCombine=x),!p&&!g&&!b)return;const y={...a1(f,n.mode),combine:x,destination:m};r.add(()=>{Ex("onDragUpdate",()=>FS(e().onDragUpdate,y,t,W1.onDragUpdate))})},c=()=>{n||Ze(),r.flush()},d=f=>{n||Ze(),n=null,Ex("onDragEnd",()=>FS(e().onDragEnd,f,t,W1.onDragEnd))};return{beforeCapture:a,beforeStart:i,start:o,update:l,flush:c,drop:d,abort:()=>{if(!n)return;const f={...a1(n.lastCritical,n.mode),combine:null,destination:null,reason:"CANCEL"};d(f)}}},AVe=(e,t)=>{const r=EVe(e,t);return n=>a=>i=>{if(gr(i,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(gr(i,"INITIAL_PUBLISH")){const l=i.payload.critical;r.beforeStart(l,i.payload.movementMode),a(i),r.start(l,i.payload.movementMode);return}if(gr(i,"DROP_COMPLETE")){const l=i.payload.completed.result;r.flush(),a(i),r.drop(l);return}if(a(i),gr(i,"FLUSH")){r.abort();return}const o=n.getState();o.phase==="DRAGGING"&&r.update(o.critical,o.impact)}};const PVe=e=>t=>r=>{if(!gr(r,"DROP_ANIMATION_FINISHED")){t(r);return}const n=e.getState();n.phase!=="DROP_ANIMATING"&&Ze(),e.dispatch(eD({completed:n.completed}))},TVe=e=>{let t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return a=>i=>{if((gr(i,"FLUSH")||gr(i,"DROP_COMPLETE")||gr(i,"DROP_ANIMATION_FINISHED"))&&n(),a(i),!gr(i,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(cQ())}};r=requestAnimationFrame(()=>{r=null,t=zi(window,[o])})}};var kVe=e=>()=>t=>r=>{(gr(r,"DROP_COMPLETE")||gr(r,"FLUSH")||gr(r,"DROP_ANIMATE"))&&e.stopPublishing(),t(r)},OVe=e=>{let t=!1;return()=>r=>n=>{if(gr(n,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(gr(n,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(gr(n,"DROP_COMPLETE")){t=!1;const a=n.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const DVe=e=>gr(e,"DROP_COMPLETE")||gr(e,"DROP_ANIMATE")||gr(e,"FLUSH");var IVe=e=>t=>r=>n=>{if(DVe(n)){e.stop(),r(n);return}if(gr(n,"INITIAL_PUBLISH")){r(n);const a=t.getState();a.phase!=="DRAGGING"&&Ze(),e.start(a);return}r(n),e.scroll(t.getState())};const RVe=e=>t=>r=>{if(t(r),!gr(r,"PUBLISH_WHILE_DRAGGING"))return;const n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(lQ({reason:n.reason})))},MVe=AY;var FVe=({dimensionMarshal:e,focusMarshal:t,styleMarshal:r,getResponders:n,announce:a,autoScroller:i})=>EY(qUe,MVe(O9e(uVe(r),kVe(e),dVe(e),gVe,PVe,TVe,RVe,IVe(i),wVe,OVe(t),AVe(n,a))));const LS=()=>({additions:{},removals:{},modified:{}});function LVe({registry:e,callbacks:t}){let r=LS(),n=null;const a=()=>{n||(t.collectionStarting(),n=requestAnimationFrame(()=>{n=null;const{additions:c,removals:d,modified:u}=r,f=Object.keys(c).map(x=>e.draggable.getById(x).getDimension(hs)).sort((x,p)=>x.descriptor.index-p.descriptor.index),h=Object.keys(u).map(x=>{const g=e.droppable.getById(x).callbacks.getScrollWhileDragging();return{droppableId:x,scroll:g}}),m={additions:f,removals:Object.keys(d),modified:h};r=LS(),t.publish(m)}))};return{add:c=>{const d=c.descriptor.id;r.additions[d]=c,r.modified[c.descriptor.droppableId]=!0,r.removals[d]&&delete r.removals[d],a()},remove:c=>{const d=c.descriptor;r.removals[d.id]=!0,r.modified[d.droppableId]=!0,r.additions[d.id]&&delete r.additions[d.id],a()},stop:()=>{n&&(cancelAnimationFrame(n),n=null,r=LS())}}}var hQ=({scrollHeight:e,scrollWidth:t,height:r,width:n})=>{const a=ci({x:t,y:e},{x:n,y:r});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},mQ=()=>{const e=document.documentElement;return e||Ze(),e},pQ=()=>{const e=mQ();return hQ({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},$Ve=()=>{const e=fQ(),t=pQ(),r=e.y,n=e.x,a=mQ(),i=a.clientWidth,o=a.clientHeight,l=n+i,c=r+o;return{frame:Po({top:r,left:n,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:hs,displacement:hs}}}},BVe=({critical:e,scrollOptions:t,registry:r})=>{const n=$Ve(),a=n.scroll.current,i=e.droppable,o=r.droppable.getAllByType(i.type).map(u=>u.callbacks.getDimensionAndWatchScroll(a,t)),l=r.draggable.getAllByType(e.draggable.type).map(u=>u.getDimension(a));return{dimensions:{draggables:zY(l),droppables:VY(o)},critical:e,viewport:n}};function w$(e,t,r){return!(r.descriptor.id===t.id||r.descriptor.type!==t.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var UVe=(e,t)=>{let r=null;const n=LVe({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=(h,m)=>{e.droppable.exists(h)||Ze(),r&&t.updateDroppableIsEnabled({id:h,isEnabled:m})},i=(h,m)=>{r&&(e.droppable.exists(h)||Ze(),t.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:m}))},o=(h,m)=>{r&&(e.droppable.exists(h)||Ze(),t.updateDroppableScroll({id:h,newScroll:m}))},l=(h,m)=>{r&&e.droppable.getById(h).callbacks.scroll(m)},c=()=>{if(!r)return;n.stop();const h=r.critical.droppable;e.droppable.getAllByType(h.type).forEach(m=>m.callbacks.dragStopped()),r.unsubscribe(),r=null},d=h=>{r||Ze();const m=r.critical.draggable;h.type==="ADDITION"&&w$(e,m,h.value)&&n.add(h.value),h.type==="REMOVAL"&&w$(e,m,h.value)&&n.remove(h.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:h=>{r&&Ze();const m=e.draggable.getById(h.draggableId),x=e.droppable.getById(m.descriptor.droppableId),p={draggable:m.descriptor,droppable:x.descriptor},g=e.subscribe(d);return r={critical:p,unsubscribe:g},BVe({critical:p,registry:e,scrollOptions:h.scrollOptions})},stopPublishing:c}},xQ=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",VVe=e=>{window.scrollBy(e.x,e.y)};const zVe=cs(e=>E_(e).filter(t=>!(!t.isEnabled||!t.frame))),WVe=(e,t)=>zVe(t).find(n=>(n.frame||Ze(),JY(n.frame.pageMarginBox)(e)))||null;var HVe=({center:e,destination:t,droppables:r})=>{if(t){const a=r[t];return a.frame?a:null}return WVe(e,r)};const zv={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var GVe=(e,t,r=()=>zv)=>{const n=r(),a=e[t.size]*n.startFromPercentage,i=e[t.size]*n.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:i}},gQ=({startOfRange:e,endOfRange:t,current:r})=>{const n=t-e;return n===0?0:(r-e)/n},rD=1,qVe=(e,t,r=()=>zv)=>{const n=r();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return rD;const i=1-gQ({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=n.maxPixelScroll*n.ease(i);return Math.ceil(o)},KVe=(e,t,r)=>{const n=r(),a=n.durationDampening.accelerateAt,i=n.durationDampening.stopDampeningAt,o=t,l=i,d=Date.now()-o;if(d>=i)return e;if(d<a)return rD;const u=gQ({startOfRange:a,endOfRange:l,current:d}),f=e*n.ease(u);return Math.ceil(f)},j$=({distanceToEdge:e,thresholds:t,dragStartTime:r,shouldUseTimeDampening:n,getAutoScrollerOptions:a})=>{const i=qVe(e,t,a);return i===0?0:n?Math.max(KVe(i,r,a),rD):i},N$=({container:e,distanceToEdges:t,dragStartTime:r,axis:n,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o=GVe(e,n,i);return t[n.end]<t[n.start]?j$({distanceToEdge:t[n.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i}):-1*j$({distanceToEdge:t[n.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i})},XVe=({container:e,subject:t,proposedScroll:r})=>{const n=t.height>e.height,a=t.width>e.width;return!a&&!n?r:a&&n?null:{x:a?0:r.x,y:n?0:r.y}};const YVe=UY(e=>e===0?0:e);var vQ=({dragStartTime:e,container:t,subject:r,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o={top:n.y-t.top,right:t.right-n.x,bottom:t.bottom-n.y,left:n.x-t.left},l=N$({container:t,distanceToEdges:o,dragStartTime:e,axis:K4,shouldUseTimeDampening:a,getAutoScrollerOptions:i}),c=N$({container:t,distanceToEdges:o,dragStartTime:e,axis:GY,shouldUseTimeDampening:a,getAutoScrollerOptions:i}),d=YVe({x:c,y:l});if(Vd(d,hs))return null;const u=XVe({container:t,subject:r,proposedScroll:d});return u?Vd(u,hs)?null:u:null};const QVe=UY(e=>e===0?0:e>0?1:-1),nD=(()=>{const e=(t,r)=>t<0?t:t>r?t-r:0;return({current:t,max:r,change:n})=>{const a=Cs(t,n),i={x:e(a.x,r.x),y:e(a.y,r.y)};return Vd(i,hs)?null:i}})(),yQ=({max:e,current:t,change:r})=>{const n={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},a=QVe(r),i=nD({max:n,current:t,change:a});return!i||a.x!==0&&i.x===0||a.y!==0&&i.y===0},sD=(e,t)=>yQ({current:e.scroll.current,max:e.scroll.max,change:t}),ZVe=(e,t)=>{if(!sD(e,t))return null;const r=e.scroll.max,n=e.scroll.current;return nD({current:n,max:r,change:t})},aD=(e,t)=>{const r=e.frame;return r?yQ({current:r.scroll.current,max:r.scroll.max,change:t}):!1},JVe=(e,t)=>{const r=e.frame;return!r||!aD(e,t)?null:nD({current:r.scroll.current,max:r.scroll.max,change:t})};var eze=({viewport:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o=vQ({dragStartTime:n,container:e.frame,subject:t,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i});return o&&sD(e,o)?o:null},tze=({droppable:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o=e.frame;if(!o)return null;const l=vQ({dragStartTime:n,container:o.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i});return l&&aD(e,l)?l:null},_$=({state:e,dragStartTime:t,shouldUseTimeDampening:r,scrollWindow:n,scrollDroppable:a,getAutoScrollerOptions:i})=>{const o=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,h=eze({dragStartTime:t,viewport:f,subject:c,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});if(h){n(h);return}}const d=HVe({center:o,destination:mi(e.impact),droppables:e.dimensions.droppables});if(!d)return;const u=tze({dragStartTime:t,droppable:d,subject:c,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});u&&a(d.descriptor.id,u)},rze=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r=()=>zv})=>{const n=Lv(e),a=Lv(t);let i=null;const o=d=>{i||Ze();const{shouldUseTimeDampening:u,dragStartTime:f}=i;_$({state:d,scrollWindow:n,scrollDroppable:a,dragStartTime:f,shouldUseTimeDampening:u,getAutoScrollerOptions:r})};return{start:d=>{i&&Ze();const u=Date.now();let f=!1;const h=()=>{f=!0};_$({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h,getAutoScrollerOptions:r}),i={dragStartTime:u,shouldUseTimeDampening:f},f&&o(d)},stop:()=>{i&&(n.cancel(),a.cancel(),i=null)},scroll:o}},nze=({move:e,scrollDroppable:t,scrollWindow:r})=>{const n=(l,c)=>{const d=Cs(l.current.client.selection,c);e({client:d})},a=(l,c)=>{if(!aD(l,c))return c;const d=JVe(l,c);if(!d)return t(l.descriptor.id,c),null;const u=ci(c,d);return t(l.descriptor.id,u),ci(c,u)},i=(l,c,d)=>{if(!l||!sD(c,d))return d;const u=ZVe(c,d);if(!u)return r(d),null;const f=ci(d,u);return r(f),ci(d,f)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const d=mi(l.impact);d||Ze();const u=a(l.dimensions.droppables[d],c);if(!u)return;const f=l.viewport,h=i(l.isWindowScrollAllowed,f,u);h&&n(l,h)}},sze=({scrollDroppable:e,scrollWindow:t,move:r,getAutoScrollerOptions:n})=>{const a=rze({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n}),i=nze({move:r,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(n().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){a.scroll(c);return}c.scrollJumpRequest&&i(c)}},start:a.start,stop:a.stop}};const ip="data-rfd",op=(()=>{const e=`${ip}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),VP=(()=>{const e=`${ip}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),aze=(()=>{const e=`${ip}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),S$={contextId:`${ip}-scroll-container-context-id`},ize=e=>t=>`[${t}="${e}"]`,Ax=(e,t)=>e.map(r=>{const n=r.styles[t];return n?`${r.selector} { ${n} }`:""}).join(" "),oze="pointer-events: none;";var lze=e=>{const t=ize(e),r=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(op.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:oze,dropAnimating:l}}})(),n=(()=>{const l=`
      transition: ${hg.outOfTheWay};
    `;return{selector:t(VP.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),a={selector:t(aze.contextId),styles:{always:"overflow-anchor: none;"}},o=[n,r,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Ax(o,"always"),resting:Ax(o,"resting"),dragging:Ax(o,"dragging"),dropAnimating:Ax(o,"dropAnimating"),userCancel:Ax(o,"userCancel")}};const pi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect,$S=()=>{const e=document.querySelector("head");return e||Ze(),e},C$=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function cze(e,t){const r=ar(()=>lze(e),[e]),n=v.useRef(null),a=v.useRef(null),i=_t(cs(f=>{const h=a.current;h||Ze(),h.textContent=f}),[]),o=_t(f=>{const h=n.current;h||Ze(),h.textContent=f},[]);pi(()=>{!n.current&&!a.current||Ze();const f=C$(t),h=C$(t);return n.current=f,a.current=h,f.setAttribute(`${ip}-always`,e),h.setAttribute(`${ip}-dynamic`,e),$S().appendChild(f),$S().appendChild(h),o(r.always),i(r.resting),()=>{const m=x=>{const p=x.current;p||Ze(),$S().removeChild(p),x.current=null};m(n),m(a)}},[t,o,i,r.always,r.resting,e]);const l=_t(()=>i(r.dragging),[i,r.dragging]),c=_t(f=>{if(f==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),d=_t(()=>{a.current&&i(r.resting)},[i,r.resting]);return ar(()=>({dragging:l,dropping:c,resting:d}),[l,c,d])}function bQ(e,t){return Array.from(e.querySelectorAll(t))}var wQ=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function k_(e){return e instanceof wQ(e).HTMLElement}function dze(e,t){const r=`[${op.contextId}="${e}"]`,n=bQ(document,r);if(!n.length)return null;const a=n.find(i=>i.getAttribute(op.draggableId)===t);return!a||!k_(a)?null:a}function uze(e){const t=v.useRef({}),r=v.useRef(null),n=v.useRef(null),a=v.useRef(!1),i=_t(function(h,m){const x={id:h,focus:m};return t.current[h]=x,function(){const g=t.current;g[h]!==x&&delete g[h]}},[]),o=_t(function(h){const m=dze(e,h);m&&m!==document.activeElement&&m.focus()},[e]),l=_t(function(h,m){r.current===h&&(r.current=m)},[]),c=_t(function(){n.current||a.current&&(n.current=requestAnimationFrame(()=>{n.current=null;const h=r.current;h&&o(h)}))},[o]),d=_t(function(h){r.current=null;const m=document.activeElement;m&&m.getAttribute(op.draggableId)===h&&(r.current=h)},[]);return pi(()=>(a.current=!0,function(){a.current=!1;const h=n.current;h&&cancelAnimationFrame(h)}),[]),ar(()=>({register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[i,d,c,l])}function fze(){const e={draggables:{},droppables:{}},t=[];function r(f){return t.push(f),function(){const m=t.indexOf(f);m!==-1&&t.splice(m,1)}}function n(f){t.length&&t.forEach(h=>h(f))}function a(f){return e.draggables[f]||null}function i(f){const h=a(f);return h||Ze(),h}const o={register:f=>{e.draggables[f.descriptor.id]=f,n({type:"ADDITION",value:f})},update:(f,h)=>{const m=e.draggables[h.descriptor.id];m&&m.uniqueId===f.uniqueId&&(delete e.draggables[h.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:f=>{const h=f.descriptor.id,m=a(h);m&&f.uniqueId===m.uniqueId&&(delete e.draggables[h],e.droppables[f.descriptor.droppableId]&&n({type:"REMOVAL",value:f}))},getById:i,findById:a,exists:f=>!!a(f),getAllByType:f=>Object.values(e.draggables).filter(h=>h.descriptor.type===f)};function l(f){return e.droppables[f]||null}function c(f){const h=l(f);return h||Ze(),h}const d={register:f=>{e.droppables[f.descriptor.id]=f},unregister:f=>{const h=l(f.descriptor.id);h&&f.uniqueId===h.uniqueId&&delete e.droppables[f.descriptor.id]},getById:c,findById:l,exists:f=>!!l(f),getAllByType:f=>Object.values(e.droppables).filter(h=>h.descriptor.type===f)};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:r,clean:u}}function hze(){const e=ar(fze,[]);return v.useEffect(()=>function(){e.clean()},[e]),e}var iD=B.createContext(null),cj=()=>{const e=document.body;return e||Ze(),e};const mze={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},pze=e=>`rfd-announcement-${e}`;function xze(e){const t=ar(()=>pze(e),[e]),r=v.useRef(null);return v.useEffect(function(){const i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),ks(i.style,mze),cj().appendChild(i),function(){setTimeout(function(){const c=cj();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[t]),_t(a=>{const i=r.current;if(i){i.textContent=a;return}},[])}const gze={separator:"::"};function oD(e,t=gze){const r=B.useId();return ar(()=>`${e}${t.separator}${r}`,[t.separator,e,r])}function vze({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function yze({contextId:e,text:t}){const r=oD("hidden-text",{separator:"-"}),n=ar(()=>vze({contextId:e,uniqueId:r}),[r,e]);return v.useEffect(function(){const i=document.createElement("div");return i.id=n,i.textContent=t,i.style.display="none",cj().appendChild(i),function(){const l=cj();l.contains(i)&&l.removeChild(i)}},[n,t]),n}var O_=B.createContext(null);function jQ(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),t}function bze(){let e=null;function t(){return!!e}function r(o){return o===e}function n(o){e&&Ze();const l={abandon:o};return e=l,l}function a(){e||Ze(),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:r,claim:n,release:a,tryAbandon:i}}function Wv(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const wze=9,jze=13,lD=27,NQ=32,Nze=33,_ze=34,Sze=35,Cze=36,Eze=37,Aze=38,Pze=39,Tze=40,kze={[jze]:!0,[wze]:!0};var _Q=e=>{kze[e.keyCode]&&e.preventDefault()};const D_=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(n=>`on${n}`in document)||e})(),SQ=0,E$=5;function Oze(e,t){return Math.abs(t.x-e.x)>=E$||Math.abs(t.y-e.y)>=E$}const A$={type:"IDLE"};function Dze({cancel:e,completed:t,getPhase:r,setPhase:n}){return[{eventName:"mousemove",fn:a=>{const{button:i,clientX:o,clientY:l}=a;if(i!==SQ)return;const c={x:o,y:l},d=r();if(d.type==="DRAGGING"){a.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&Ze();const u=d.point;if(!Oze(u,c))return;a.preventDefault();const f=d.actions.fluidLift(c);n({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:a=>{const i=r();if(i.type!=="DRAGGING"){e();return}a.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:a=>{r().type==="DRAGGING"&&a.preventDefault(),e()}},{eventName:"keydown",fn:a=>{if(r().type==="PENDING"){e();return}if(a.keyCode===lD){a.preventDefault(),e();return}_Q(a)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:a=>{const i=r();if(i.type==="IDLE"&&Ze(),i.actions.shouldRespectForcePress()){e();return}a.preventDefault()}},{eventName:D_,fn:e}]}function Ize(e){const t=v.useRef(A$),r=v.useRef(Ud),n=ar(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==SQ||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const h=e.findClosestDraggableId(f);if(!h)return;const m=e.tryGetLock(h,o,{sourceEvent:f});if(!m)return;f.preventDefault();const x={x:f.clientX,y:f.clientY};r.current(),d(m,x)}}),[e]),a=ar(()=>({eventName:"webkitmouseforcewillbegin",fn:u=>{if(u.defaultPrevented)return;const f=e.findClosestDraggableId(u);if(!f)return;const h=e.findOptionsForDraggable(f);h&&(h.shouldRespectForcePress||e.canGetLock(f)&&u.preventDefault())}}),[e]),i=_t(function(){const f={passive:!1,capture:!0};r.current=zi(window,[a,n],f)},[a,n]),o=_t(()=>{t.current.type!=="IDLE"&&(t.current=A$,r.current(),i())},[i]),l=_t(()=>{const u=t.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),c=_t(function(){const f={capture:!0,passive:!1},h=Dze({cancel:l,completed:o,getPhase:()=>t.current,setPhase:m=>{t.current=m}});r.current=zi(window,h,f)},[l,o]),d=_t(function(f,h){t.current.type!=="IDLE"&&Ze(),t.current={type:"PENDING",point:h,actions:f},c()},[c]);pi(function(){return i(),function(){r.current()}},[i])}function Rze(){}const Mze={[_ze]:!0,[Nze]:!0,[Cze]:!0,[Sze]:!0};function Fze(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===lD){a.preventDefault(),r();return}if(a.keyCode===NQ){a.preventDefault(),n();return}if(a.keyCode===Tze){a.preventDefault(),e.moveDown();return}if(a.keyCode===Aze){a.preventDefault(),e.moveUp();return}if(a.keyCode===Pze){a.preventDefault(),e.moveRight();return}if(a.keyCode===Eze){a.preventDefault(),e.moveLeft();return}if(Mze[a.keyCode]){a.preventDefault();return}_Q(a)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:D_,fn:r}]}function Lze(e){const t=v.useRef(Rze),r=ar(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==NQ)return;const o=e.findClosestDraggableId(i);if(!o)return;const l=e.tryGetLock(o,u,{sourceEvent:i});if(!l)return;i.preventDefault();let c=!0;const d=l.snapLift();t.current();function u(){c||Ze(),c=!1,t.current(),n()}t.current=zi(window,Fze(d,u),{capture:!0,passive:!1})}}),[e]),n=_t(function(){const i={passive:!1,capture:!0};t.current=zi(window,[r],i)},[r]);pi(function(){return n(),function(){t.current()}},[n])}const BS={type:"IDLE"},$ze=120,Bze=.15;function Uze({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(t().type!=="DRAGGING"){e();return}r.keyCode===lD&&r.preventDefault(),e()}},{eventName:D_,fn:e}]}function Vze({cancel:e,completed:t,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:n=>{const a=r();if(a.type!=="DRAGGING"){e();return}a.hasMoved=!0;const{clientX:i,clientY:o}=n.touches[0],l={x:i,y:o};n.preventDefault(),a.actions.move(l)}},{eventName:"touchend",fn:n=>{const a=r();if(a.type!=="DRAGGING"){e();return}n.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:n=>{if(r().type!=="DRAGGING"){e();return}n.preventDefault(),e()}},{eventName:"touchforcechange",fn:n=>{const a=r();a.type==="IDLE"&&Ze();const i=n.touches[0];if(!i||!(i.force>=Bze))return;const l=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){l&&e();return}if(l){if(a.hasMoved){n.preventDefault();return}e();return}n.preventDefault()}},{eventName:D_,fn:e}]}function zze(e){const t=v.useRef(BS),r=v.useRef(Ud),n=_t(function(){return t.current},[]),a=_t(function(m){t.current=m},[]),i=ar(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const x=e.findClosestDraggableId(m);if(!x)return;const p=e.tryGetLock(x,l,{sourceEvent:m});if(!p)return;const g=m.touches[0],{clientX:b,clientY:y}=g,j={x:b,y};r.current(),f(p,j)}}),[e]),o=_t(function(){const m={capture:!0,passive:!1};r.current=zi(window,[i],m)},[i]),l=_t(()=>{const h=t.current;h.type!=="IDLE"&&(h.type==="PENDING"&&clearTimeout(h.longPressTimerId),a(BS),r.current(),o())},[o,a]),c=_t(()=>{const h=t.current;l(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[l]),d=_t(function(){const m={capture:!0,passive:!1},x={cancel:c,completed:l,getPhase:n},p=zi(window,Vze(x),m),g=zi(window,Uze(x),m);r.current=function(){p(),g()}},[c,n,l]),u=_t(function(){const m=n();m.type!=="PENDING"&&Ze();const x=m.actions.fluidLift(m.point);a({type:"DRAGGING",actions:x,hasMoved:!1})},[n,a]),f=_t(function(m,x){n().type!=="IDLE"&&Ze();const p=setTimeout(u,$ze);a({type:"PENDING",point:x,actions:m,longPressTimerId:p}),d()},[d,n,a,u]);pi(function(){return o(),function(){r.current();const x=n();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),a(BS))}},[n,o,a]),pi(function(){return zi(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Wze=["input","button","textarea","select","option","optgroup","video","audio"];function CQ(e,t){if(t==null)return!1;if(Wze.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:CQ(e,t.parentElement)}function Hze(e,t){const r=t.target;return k_(r)?CQ(e,r):!1}var Gze=e=>Po(e.getBoundingClientRect()).center;function qze(e){return e instanceof wQ(e).Element}const Kze=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(n=>n in Element.prototype)||e})();function EQ(e,t){return e==null?null:e[Kze](t)?e:EQ(e.parentElement,t)}function Xze(e,t){return e.closest?e.closest(t):EQ(e,t)}function Yze(e){return`[${op.contextId}="${e}"]`}function Qze(e,t){const r=t.target;if(!qze(r))return null;const n=Yze(e),a=Xze(r,n);return!a||!k_(a)?null:a}function Zze(e,t){const r=Qze(e,t);return r?r.getAttribute(op.draggableId):null}function Jze(e,t){const r=`[${VP.contextId}="${e}"]`,a=bQ(document,r).find(i=>i.getAttribute(VP.id)===t);return!a||!k_(a)?null:a}function eWe(e){e.preventDefault()}function i1({expected:e,phase:t,isLockActive:r,shouldWarn:n}){return!(!r()||e!==t)}function AQ({lockAPI:e,store:t,registry:r,draggableId:n}){if(e.isClaimed())return!1;const a=r.draggable.findById(n);return!(!a||!a.options.isEnabled||!xQ(t.getState(),n))}function tWe({lockAPI:e,contextId:t,store:r,registry:n,draggableId:a,forceSensorStop:i,sourceEvent:o}){if(!AQ({lockAPI:e,store:r,registry:n,draggableId:a}))return null;const c=n.draggable.getById(a),d=Jze(t,c.descriptor.id);if(!d||o&&!c.options.canDragInteractiveElements&&Hze(d,o))return null;const u=e.claim(i||Ud);let f="PRE_DRAG";function h(){return c.options.shouldRespectForcePress}function m(){return e.isActive(u)}function x(N,_){i1({expected:N,phase:f,isLockActive:m,shouldWarn:!0})&&r.dispatch(_())}const p=x.bind(null,"DRAGGING");function g(N){function _(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(_(),Ze()),r.dispatch(XUe(N.liftActionArgs)),f="DRAGGING";function C(S,E={shouldBlockNextClick:!1}){if(N.cleanup(),E.shouldBlockNextClick){const P=zi(window,[{eventName:"click",fn:eWe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(P)}_(),r.dispatch(lQ({reason:S}))}return{isActive:()=>i1({expected:"DRAGGING",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:h,drop:S=>C("DROP",S),cancel:S=>C("CANCEL",S),...N.actions}}function b(N){const _=Lv(S=>{p(()=>oQ({client:S}))});return{...g({liftActionArgs:{id:a,clientSelection:N,movementMode:"FLUID"},cleanup:()=>_.cancel(),actions:{move:_}}),move:_}}function y(){const N={moveUp:()=>p(sVe),moveRight:()=>p(iVe),moveDown:()=>p(aVe),moveLeft:()=>p(oVe)};return g({liftActionArgs:{id:a,clientSelection:Gze(d),movementMode:"SNAP"},cleanup:Ud,actions:N})}function j(){i1({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!0})&&e.release()}return{isActive:()=>i1({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:h,fluidLift:b,snapLift:y,abort:j}}const rWe=[Ize,Lze,zze];function nWe({contextId:e,store:t,registry:r,customSensors:n,enableDefaultSensors:a}){const i=[...a?rWe:[],...n||[]],o=v.useState(()=>bze())[0],l=_t(function(g,b){Wv(g)&&!Wv(b)&&o.tryAbandon()},[o]);pi(function(){let g=t.getState();return t.subscribe(()=>{const y=t.getState();l(g,y),g=y})},[o,t,l]),pi(()=>o.tryAbandon,[o.tryAbandon]);const c=_t(p=>AQ({lockAPI:o,registry:r,store:t,draggableId:p}),[o,r,t]),d=_t((p,g,b)=>tWe({lockAPI:o,registry:r,contextId:e,store:t,draggableId:p,forceSensorStop:g||null,sourceEvent:b&&b.sourceEvent?b.sourceEvent:null}),[e,o,r,t]),u=_t(p=>Zze(e,p),[e]),f=_t(p=>{const g=r.draggable.findById(p);return g?g.options:null},[r.draggable]),h=_t(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(J4()))},[o,t]),m=_t(()=>o.isClaimed(),[o]),x=ar(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:u,findOptionsForDraggable:f,tryReleaseLock:h,isLockClaimed:m}),[c,d,u,f,h,m]);for(let p=0;p<i.length;p++)i[p](x)}const sWe=e=>({onBeforeCapture:t=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};no.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),aWe=e=>({...zv,...e.autoScrollerOptions,durationDampening:{...zv.durationDampening,...e.autoScrollerOptions}});function Px(e){return e.current||Ze(),e.current}function iWe(e){const{contextId:t,setCallbacks:r,sensors:n,nonce:a,dragHandleUsageInstructions:i}=e,o=v.useRef(null),l=jQ(e),c=_t(()=>sWe(l.current),[l]),d=_t(()=>aWe(l.current),[l]),u=xze(t),f=yze({contextId:t,text:i}),h=cze(t,a),m=_t(P=>{Px(o).dispatch(P)},[]),x=ar(()=>r$({publishWhileDragging:QUe,updateDroppableScroll:JUe,updateDroppableIsEnabled:eVe,updateDroppableIsCombineEnabled:tVe,collectionStarting:ZUe},m),[m]),p=hze(),g=ar(()=>UVe(p,x),[p,x]),b=ar(()=>sze({scrollWindow:VVe,scrollDroppable:g.scrollDroppable,getAutoScrollerOptions:d,...r$({move:oQ},m)}),[g.scrollDroppable,m,d]),y=uze(t),j=ar(()=>FVe({announce:u,autoScroller:b,dimensionMarshal:g,focusMarshal:y,getResponders:c,styleMarshal:h}),[u,b,g,y,c,h]);o.current=j;const w=_t(()=>{const P=Px(o);P.getState().phase!=="IDLE"&&P.dispatch(J4())},[]),N=_t(()=>{const P=Px(o).getState();return P.phase==="DROP_ANIMATING"?!0:P.phase==="IDLE"?!1:P.isDragging},[]),_=ar(()=>({isDragging:N,tryAbort:w}),[N,w]);r(_);const C=_t(P=>xQ(Px(o).getState(),P),[]),S=_t(()=>Au(Px(o).getState()),[]),E=ar(()=>({marshal:g,focus:y,contextId:t,canLift:C,isMovementAllowed:S,dragHandleUsageInstructionsId:f,registry:p}),[t,g,f,y,C,S,p]);return nWe({contextId:t,store:j,registry:p,customSensors:n||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),v.useEffect(()=>w,[w]),B.createElement(O_.Provider,{value:E},B.createElement(D7e,{context:iD,store:j},e.children))}function oWe(){return B.useId()}function lWe(e){const t=oWe(),r=e.dragHandleUsageInstructions||W1.dragHandleUsageInstructions;return B.createElement(L7e,null,n=>B.createElement(iWe,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const P$={dragging:5e3,dropAnimating:4500},cWe=(e,t)=>t?hg.drop(t.duration):e?hg.snap:hg.fluid,dWe=(e,t)=>{if(e)return t?Vv.opacity.drop:Vv.opacity.combining},uWe=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function fWe(e){const r=e.dimension.client,{offset:n,combineWith:a,dropping:i}=e,o=!!a,l=uWe(e),c=!!i,d=c?BP.drop(n,o):BP.moveTo(n);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:cWe(l,i),transform:d,opacity:dWe(o,c),zIndex:c?P$.dropAnimating:P$.dragging,pointerEvents:"none"}}function hWe(e){return{transform:BP.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function mWe(e){return e.type==="DRAGGING"?fWe(e):hWe(e)}function pWe(e,t,r=hs){const n=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=RY(a,n),o=aj(i,r),l={client:i,tagName:t.tagName.toLowerCase(),display:n.display},c={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:i,page:o}}function xWe(e){const t=oD("draggable"),{descriptor:r,registry:n,getDraggableRef:a,canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}=e,c=ar(()=>({canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}),[i,l,o]),d=_t(m=>{const x=a();return x||Ze(),pWe(r,x,m)},[r,a]),u=ar(()=>({uniqueId:t,descriptor:r,options:c,getDimension:d}),[r,d,c,t]),f=v.useRef(u),h=v.useRef(!0);pi(()=>(n.draggable.register(f.current),()=>n.draggable.unregister(f.current)),[n.draggable]),pi(()=>{if(h.current){h.current=!1;return}const m=f.current;f.current=u,n.draggable.update(u,m)},[u,n.draggable])}var cD=B.createContext(null);function dj(e){const t=v.useContext(e);return t||Ze(),t}function gWe(e){e.preventDefault()}const vWe=e=>{const t=v.useRef(null),r=_t((_=null)=>{t.current=_},[]),n=_t(()=>t.current,[]),{contextId:a,dragHandleUsageInstructionsId:i,registry:o}=dj(O_),{type:l,droppableId:c}=dj(cD),d=ar(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:u,draggableId:f,isEnabled:h,shouldRespectForcePress:m,canDragInteractiveElements:x,isClone:p,mapped:g,dropAnimationFinished:b}=e;if(!p){const _=ar(()=>({descriptor:d,registry:o,getDraggableRef:n,canDragInteractiveElements:x,shouldRespectForcePress:m,isEnabled:h}),[d,o,n,x,m,h]);xWe(_)}const y=ar(()=>h?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:gWe}:null,[a,i,f,h]),j=_t(_=>{g.type==="DRAGGING"&&g.dropping&&_.propertyName==="transform"&&no.flushSync(b)},[b,g]),w=ar(()=>{const _=mWe(g),C=g.type==="DRAGGING"&&g.dropping?j:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":f,style:_,onTransitionEnd:C},dragHandleProps:y}},[a,y,f,g,j,r]),N=ar(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return B.createElement(B.Fragment,null,u(w,g.snapshot,N))};var PQ=(e,t)=>e===t,TQ=e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null};const yWe=e=>e.combine?e.combine.draggableId:null,bWe=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function wWe(){const e=cs((a,i)=>({x:a,y:i})),t=cs((a,i,o=null,l=null,c=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:o,combineWith:l,combineTargetFor:null})),r=cs((a,i,o,l,c=null,d=null,u=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:i,offset:a,dimension:o,forceShouldAnimate:u,snapshot:t(i,l,c,d,null)}}));return(a,i)=>{if(Wv(a)){if(a.critical.draggable.id!==i.draggableId)return null;const o=a.current.client.offset,l=a.dimensions.draggables[i.draggableId],c=mi(a.impact),d=bWe(a.impact),u=a.forceShouldAnimate;return r(e(o.x,o.y),a.movementMode,l,i.isClone,c,d,u)}if(a.phase==="DROP_ANIMATING"){const o=a.completed;if(o.result.draggableId!==i.draggableId)return null;const l=i.isClone,c=a.dimensions.draggables[i.draggableId],d=o.result,u=d.mode,f=TQ(d),h=yWe(d),x={duration:a.dropDuration,curve:tD.drop,moveTo:a.newHomeClientOffset,opacity:h?Vv.opacity.drop:null,scale:h?Vv.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:c,dropping:x,draggingOver:f,combineWith:h,mode:u,forceShouldAnimate:null,snapshot:t(u,l,f,h,x)}}}return null}}function kQ(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const jWe={mapped:{type:"SECONDARY",offset:hs,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:kQ(null)}};function NWe(){const e=cs((o,l)=>({x:o,y:l})),t=cs(kQ),r=cs((o,l=null,c)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),n=o=>o?r(hs,o,!0):null,a=(o,l,c,d)=>{const u=c.displaced.visible[o],f=!!(d.inVirtualList&&d.effected[o]),h=A_(c),m=h&&h.draggableId===o?l:null;if(!u){if(!f)return n(m);if(c.displaced.invisible[o])return null;const g=Vp(d.displacedBy.point),b=e(g.x,g.y);return r(b,m,!0)}if(f)return n(m);const x=c.displacedBy.point,p=e(x.x,x.y);return r(p,m,u.shouldAnimate)};return(o,l)=>{if(Wv(o))return o.critical.draggable.id===l.draggableId?null:a(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const c=o.completed;return c.result.draggableId===l.draggableId?null:a(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const _We=()=>{const e=wWe(),t=NWe();return(n,a)=>e(n,a)||t(n,a)||jWe},SWe={dropAnimationFinished:cQ},CWe=IY(_We,SWe,null,{context:iD,areStatePropsEqual:PQ})(vWe);function OQ(e){return dj(cD).isUsingCloneFor===e.draggableId&&!e.isClone?null:B.createElement(CWe,e)}function EWe(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return B.createElement(OQ,ks({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}const DQ=e=>t=>e===t,AWe=DQ("scroll"),PWe=DQ("auto"),T$=(e,t)=>t(e.overflowX)||t(e.overflowY),TWe=e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return T$(r,AWe)||T$(r,PWe)},kWe=()=>!1,IQ=e=>e==null?null:e===document.body?kWe()?e:null:e===document.documentElement?null:TWe(e)?e:IQ(e.parentElement);var zP=e=>({x:e.scrollLeft,y:e.scrollTop});const RQ=e=>e?window.getComputedStyle(e).position==="fixed"?!0:RQ(e.parentElement):!1;var OWe=e=>{const t=IQ(e),r=RQ(e);return{closestScrollable:t,isFixedOnPage:r}},DWe=({descriptor:e,isEnabled:t,isCombineEnabled:r,isFixedOnPage:n,direction:a,client:i,page:o,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:h,client:m}=l,x=hQ({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:m,scrollSize:h,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:x,diff:{value:hs,displacement:hs}}}})(),d=a==="vertical"?K4:GY,u=ap({page:o,withPlaceholder:null,axis:d,frame:c});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:n,axis:d,isEnabled:t,client:i,page:o,frame:c,subject:u}};const IWe=(e,t)=>{const r=MY(e);if(!t||e!==t)return r;const n=r.paddingBox.top-t.scrollTop,a=r.paddingBox.left-t.scrollLeft,i=n+t.scrollHeight,o=a+t.scrollWidth,c=W4({top:n,right:o,bottom:i,left:a},r.border);return H4({borderBox:c,margin:r.margin,border:r.border,padding:r.padding})};var RWe=({ref:e,descriptor:t,env:r,windowScroll:n,direction:a,isDropDisabled:i,isCombineEnabled:o,shouldClipSubject:l})=>{const c=r.closestScrollable,d=IWe(e,c),u=aj(d,n),f=(()=>{if(!c)return null;const m=MY(c),x={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:m,page:aj(m,n),scroll:zP(c),scrollSize:x,shouldClipSubject:l}})();return DWe({descriptor:t,isEnabled:!i,isCombineEnabled:o,isFixedOnPage:r.isFixedOnPage,direction:a,client:d,page:u,closest:f})};const MWe={passive:!1},FWe={passive:!0};var k$=e=>e.shouldPublishImmediately?MWe:FWe;const o1=e=>e&&e.env.closestScrollable||null;function LWe(e){const t=v.useRef(null),r=dj(O_),n=oD("droppable"),{registry:a,marshal:i}=r,o=jQ(e),l=ar(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=v.useRef(l),d=ar(()=>cs((w,N)=>{t.current||Ze();const _={x:w,y:N};i.updateDroppableScroll(l.id,_)}),[l.id,i]),u=_t(()=>{const w=t.current;return!w||!w.env.closestScrollable?hs:zP(w.env.closestScrollable)},[]),f=_t(()=>{const w=u();d(w.x,w.y)},[u,d]),h=ar(()=>Lv(f),[f]),m=_t(()=>{const w=t.current,N=o1(w);if(w&&N||Ze(),w.scrollOptions.shouldPublishImmediately){f();return}h()},[h,f]),x=_t((w,N)=>{t.current&&Ze();const _=o.current,C=_.getDroppableRef();C||Ze();const S=OWe(C),E={ref:C,descriptor:l,env:S,scrollOptions:N};t.current=E;const P=RWe({ref:C,descriptor:l,env:S,windowScroll:w,direction:_.direction,isDropDisabled:_.isDropDisabled,isCombineEnabled:_.isCombineEnabled,shouldClipSubject:!_.ignoreContainerClipping}),I=S.closestScrollable;return I&&(I.setAttribute(S$.contextId,r.contextId),I.addEventListener("scroll",m,k$(E.scrollOptions))),P},[r.contextId,l,m,o]),p=_t(()=>{const w=t.current,N=o1(w);return w&&N||Ze(),zP(N)},[]),g=_t(()=>{const w=t.current;w||Ze();const N=o1(w);t.current=null,N&&(h.cancel(),N.removeAttribute(S$.contextId),N.removeEventListener("scroll",m,k$(w.scrollOptions)))},[m,h]),b=_t(w=>{const N=t.current;N||Ze();const _=o1(N);_||Ze(),_.scrollTop+=w.y,_.scrollLeft+=w.x},[]),y=ar(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:p,dragStopped:g,scroll:b}),[g,x,p,b]),j=ar(()=>({uniqueId:n,descriptor:l,callbacks:y}),[y,l,n]);pi(()=>(c.current=j.descriptor,a.droppable.register(j),()=>{t.current&&g(),a.droppable.unregister(j)}),[y,l,g,j,i,a.droppable]),pi(()=>{t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),pi(()=>{t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function US(){}const O$={width:0,height:0,margin:H7e},$We=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>e||r==="close"?O$:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},BWe=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>{const n=$We({isAnimatingOpenOnMount:e,placeholder:t,animate:r});return{display:t.display,boxSizing:"border-box",width:n.width,height:n.height,marginTop:n.margin.top,marginRight:n.margin.right,marginBottom:n.margin.bottom,marginLeft:n.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?hg.placeholder:null}},UWe=e=>{const t=v.useRef(null),r=_t(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:n,onTransitionEnd:a,onClose:i,contextId:o}=e,[l,c]=v.useState(e.animate==="open");v.useEffect(()=>l?n!=="open"?(r(),c(!1),US):t.current?US:(t.current=setTimeout(()=>{t.current=null,c(!1)}),r):US,[n,l,r]);const d=_t(f=>{f.propertyName==="height"&&(a(),n==="close"&&i())},[n,i,a]),u=BWe({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return B.createElement(e.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})};var VWe=B.memo(UWe);class zWe extends B.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,r){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const WWe=e=>{const t=v.useContext(O_);t||Ze();const{contextId:r,isMovementAllowed:n}=t,a=v.useRef(null),i=v.useRef(null),{children:o,droppableId:l,type:c,mode:d,direction:u,ignoreContainerClipping:f,isDropDisabled:h,isCombineEnabled:m,snapshot:x,useClone:p,updateViewportMaxScroll:g,getContainerForClone:b}=e,y=_t(()=>a.current,[]),j=_t((I=null)=>{a.current=I},[]);_t(()=>i.current,[]);const w=_t((I=null)=>{i.current=I},[]),N=_t(()=>{n()&&g({maxScroll:pQ()})},[n,g]);LWe({droppableId:l,type:c,mode:d,direction:u,isDropDisabled:h,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:y});const _=ar(()=>B.createElement(zWe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:I,data:D,animate:U})=>B.createElement(VWe,{placeholder:D,onClose:I,innerRef:w,animate:U,contextId:r,onTransitionEnd:N})),[r,N,e.placeholder,e.shouldAnimatePlaceholder,w]),C=ar(()=>({innerRef:j,placeholder:_,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":r}}),[r,l,_,j]),S=p?p.dragging.draggableId:null,E=ar(()=>({droppableId:l,type:c,isUsingCloneFor:S}),[l,S,c]);function P(){if(!p)return null;const{dragging:I,render:D}=p,U=B.createElement(OQ,{draggableId:I.draggableId,index:I.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(F,M)=>D(F,M,I));return Uj.createPortal(U,b())}return B.createElement(cD.Provider,{value:E},o(C,x),P())};function HWe(){return document.body||Ze(),document.body}const D$={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:HWe},MQ=e=>{let t={...e},r;for(r in D$)e[r]===void 0&&(t={...t,[r]:D$[r]});return t},VS=(e,t)=>e===t.droppable.type,I$=(e,t)=>t.draggables[e.draggable.id],GWe=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=cs(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),n=cs((i,o,l,c,d,u)=>{const f=d.descriptor.id;if(d.descriptor.droppableId===i){const x=u?{render:u,dragging:r(d.descriptor)}:null,p={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:p,useClone:x}}if(!o)return t;if(!c)return e;const m={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(i,o)=>{const l=MQ(o),c=l.droppableId,d=l.type,u=!l.isDropDisabled,f=l.renderClone;if(Wv(i)){const h=i.critical;if(!VS(d,h))return t;const m=I$(h,i.dimensions),x=mi(i.impact)===c;return n(c,u,x,x,m,f)}if(i.phase==="DROP_ANIMATING"){const h=i.completed;if(!VS(d,h.critical))return t;const m=I$(h.critical,i.dimensions);return n(c,u,TQ(h.result)===c,mi(h.impact)===c,m,f)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const h=i.completed;if(!VS(d,h.critical))return t;const m=mi(h.impact)===c,x=!!(h.impact.at&&h.impact.at.type==="COMBINE"),p=h.critical.droppable.id===c;return m?x?e:t:p?e:t}return t}},qWe={updateViewportMaxScroll:nVe},KWe=IY(GWe,qWe,(e,t,r)=>({...MQ(r),...e,...t}),{context:iD,areStatePropsEqual:PQ})(WWe);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var uj={};uj.version="0.18.5";var FQ=1252,XWe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],LQ=function(e){XWe.indexOf(e)!=-1&&(FQ=e)};function YWe(){LQ(1252)}var Hv=function(e){LQ(e)};function QWe(){Hv(1200),YWe()}var l1=function(t){return String.fromCharCode(t)},R$=function(t){return String.fromCharCode(t)},Ou,Ed="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Gv(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0,d=0;d<e.length;)r=e.charCodeAt(d++),i=r>>2,n=e.charCodeAt(d++),o=(r&3)<<4|n>>4,a=e.charCodeAt(d++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=Ed.charAt(i)+Ed.charAt(o)+Ed.charAt(l)+Ed.charAt(c);return t}function $c(e){var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=Ed.indexOf(e.charAt(d++)),o=Ed.indexOf(e.charAt(d++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=Ed.indexOf(e.charAt(d++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=Ed.indexOf(e.charAt(d++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var mr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Kc=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function kf(e){return mr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function M$(e){return mr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Eo=function(t){return mr?Kc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function I_(e){if(typeof ArrayBuffer>"u")return Eo(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function J0(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function ZWe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var js=mr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Kc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function JWe(e){for(var t=[],r=0,n=e.length+250,a=kf(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=kf(65535),n=65530)}return t.push(a.slice(0,r)),js(t)}var mg=/\u0000/g,c1=/[\u0001-\u0006]/g;function Zh(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function To(e,t){var r=""+e;return r.length>=t?r:xn("0",t-r.length)+r}function dD(e,t){var r=""+e;return r.length>=t?r:xn(" ",t-r.length)+r}function fj(e,t){var r=""+e;return r.length>=t?r:r+xn(" ",t-r.length)}function eHe(e,t){var r=""+Math.round(e);return r.length>=t?r:xn("0",t-r.length)+r}function tHe(e,t){var r=""+e;return r.length>=t?r:xn("0",t-r.length)+r}var F$=Math.pow(2,32);function uh(e,t){if(e>F$||e<-F$)return eHe(e,t);var r=Math.round(e);return tHe(r,t)}function hj(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var L$=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],zS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function rHe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var vn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},$$={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},nHe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function mj(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,l=0,c=1,d=0,u=0,f=Math.floor(a);d<t&&(f=Math.floor(a),l=f*o+i,u=f*d+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=d,d=u;if(u>t&&(d>t?(u=c,l=i):(u=d,l=o)),!r)return[0,n*l,u];var h=Math.floor(n*l/u);return[h,n*l-h*u,u]}function d1(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=dHe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var $Q=new Date(1899,11,31,0,0,0),sHe=$Q.getTime(),aHe=new Date(1900,2,1,0,0,0);function BQ(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=aHe&&(r+=24*60*60*1e3),(r-(sHe+(e.getTimezoneOffset()-$Q.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function uD(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function iHe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function oHe(e){var t=e<0?12:11,r=uD(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function lHe(e){var t=uD(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function cHe(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=oHe(e):t===10?r=e.toFixed(10).substr(0,12):r=lHe(e),uD(iHe(r.toUpperCase()))}function WP(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):cHe(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return eu(14,BQ(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function dHe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function uHe(e,t,r,n){var a="",i=0,o=0,l=r.y,c,d=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,d=t.length;break;case 3:return zS[r.m-1][1];case 5:return zS[r.m-1][0];default:return zS[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,d=t.length;break;case 3:return L$[r.q][0];default:return L$[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?To(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=To(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?To(c,d):"";return u}function Ad(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var UQ=/%/g;function fHe(e,t,r){var n=t.replace(UQ,""),a=t.length-n.length;return bc(e,n,r*Math.pow(10,2*a))+xn("%",a)}function hHe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return bc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function VQ(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+VQ(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var zQ=/# (\?+)( ?)\/( ?)(\d+)/;function mHe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?xn(" ",e[1].length+1+e[4].length):dD(o,e[1].length)+e[2]+"/"+e[3]+To(l,e[4].length))}function pHe(e,t,r){return r+(t===0?"":""+t)+xn(" ",e[1].length+2+e[4].length)}var WQ=/^#*0*\.([0#]+)/,HQ=/\).*[0#]/,GQ=/\(###\) ###\\?-####/;function aa(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function B$(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function U$(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function xHe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function gHe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Oi(e,t,r){if(e.charCodeAt(0)===40&&!t.match(HQ)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Oi("n",n,r):"("+Oi("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return hHe(e,t,r);if(t.indexOf("%")!==-1)return fHe(e,t,r);if(t.indexOf("E")!==-1)return VQ(t,r);if(t.charCodeAt(0)===36)return"$"+Oi(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+uh(c,t.length);if(t.match(/^[#?]+$/))return a=uh(r,0),a==="0"&&(a=""),a.length>t.length?a:aa(t.substr(0,t.length-a.length))+a;if(i=t.match(zQ))return mHe(i,c,d);if(t.match(/^#+0+$/))return d+uh(c,t.length-t.indexOf("0"));if(i=t.match(WQ))return a=B$(r,i[1].length).replace(/^([^\.]+)$/,"$1."+aa(i[1])).replace(/\.$/,"."+aa(i[1])).replace(/\.(\d*)$/,function(x,p){return"."+p+xn("0",aa(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+B$(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Ad(uh(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Oi(e,t,-r):Ad(""+(Math.floor(r)+xHe(r,i[1].length)))+"."+To(U$(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Oi(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Zh(Oi(e,t.replace(/[\\-]/g,""),r)),o=0,Zh(Zh(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(GQ))return a=Oi(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=mj(c,Math.pow(10,o)-1,!1),a=""+d,u=bc("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=fj(l[2],o),u.length<i[4].length&&(u=aa(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=mj(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?dD(l[1],o)+i[2]+"/"+i[3]+fj(l[2],o):xn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=uh(r,0),t.length<=a.length?a:aa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return aa(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=U$(r,i[1].length),r<0?"-"+Oi(e,t,-r):Ad(gHe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?To(0,3-x.length):"")+x})+"."+To(o,i[1].length);switch(t){case"###,##0.00":return Oi(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Ad(uh(c,0));return m!=="0"?d+m:"";case"###,###.00":return Oi(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Oi(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function vHe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return bc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function yHe(e,t,r){var n=t.replace(UQ,""),a=t.length-n.length;return bc(e,n,r*Math.pow(10,2*a))+xn("%",a)}function qQ(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+qQ(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ll(e,t,r){if(e.charCodeAt(0)===40&&!t.match(HQ)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ll("n",n,r):"("+ll("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return vHe(e,t,r);if(t.indexOf("%")!==-1)return yHe(e,t,r);if(t.indexOf("E")!==-1)return qQ(t,r);if(t.charCodeAt(0)===36)return"$"+ll(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+To(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:aa(t.substr(0,t.length-a.length))+a;if(i=t.match(zQ))return pHe(i,c,d);if(t.match(/^#+0+$/))return d+To(c,t.length-t.indexOf("0"));if(i=t.match(WQ))return a=(""+r).replace(/^([^\.]+)$/,"$1."+aa(i[1])).replace(/\.$/,"."+aa(i[1])),a=a.replace(/\.(\d*)$/,function(x,p){return"."+p+xn("0",aa(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Ad(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ll(e,t,-r):Ad(""+r)+"."+xn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ll(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Zh(ll(e,t.replace(/[\\-]/g,""),r)),o=0,Zh(Zh(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(GQ))return a=ll(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=mj(c,Math.pow(10,o)-1,!1),a=""+d,u=bc("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=fj(l[2],o),u.length<i[4].length&&(u=aa(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=mj(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?dD(l[1],o)+i[2]+"/"+i[3]+fj(l[2],o):xn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:aa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,h=t.length-a.length-f;return aa(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ll(e,t,-r):Ad(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?To(0,3-x.length):"")+x})+"."+To(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=Ad(""+c);return m!=="0"?d+m:"";default:if(t.match(/\.[0#?]*$/))return ll(e,t.slice(0,t.lastIndexOf(".")),r)+aa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function bc(e,t,r){return(r|0)===r?ll(e,t,r):Oi(e,t,r)}function bHe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var KQ=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function XQ(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":hj(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(KQ))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function wHe(e,t,r,n){for(var a=[],i="",o=0,l="",c="t",d,u,f,h="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!hj(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var m=e.charAt(++o),x=m==="("||m===")"?m:"t";a[a.length]={t:x,v:m},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(d==null&&(d=d1(t,r,e.charAt(o+1)==="2"),d==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=d1(t,r),d==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var p={t:l,v:l};if(d==null&&(d=d1(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(p.v=d.H>=12?"P":"A"),p.t="T",h="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(p.v=d.H>=12?"PM":"AM"),p.t="T",o+=5,h="h"):e.substr(o,5).toUpperCase()==="/"?(d!=null&&(p.v=d.H>=12?"":""),p.t="T",o+=5,h="h"):(p.t="t",++o),d==null&&p.t==="T")return"";a[a.length]=p,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(KQ)){if(d==null&&(d=d1(t,r),d==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",XQ(e)||(a[a.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var g=0,b=0,y;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=h,c="h",g<1&&(g=1);break;case"s":(y=a[o].v.match(/\.0+$/))&&(b=Math.max(b,y[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[o].v.match(/[Hh]/)&&(g=1),g<2&&a[o].v.match(/[Mm]/)&&(g=2),g<3&&a[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var j="",w;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=uHe(a[o].t.charCodeAt(0),a[o].v,d,b),a[o].t="t";break;case"n":case"?":for(w=o+1;a[w]!=null&&((l=a[w].t)==="?"||l==="D"||(l===" "||l==="t")&&a[w+1]!=null&&(a[w+1].t==="?"||a[w+1].t==="t"&&a[w+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[w].v==="/"||a[w].v===" "&&a[w+1]!=null&&a[w+1].t=="?"));)a[o].v+=a[w].v,a[w]={v:"",t:";"},++w;j+=a[o].v,o=w-1;break;case"G":a[o].t="t",a[o].v=WP(t,r);break}var N="",_,C;if(j.length>0){j.charCodeAt(0)==40?(_=t<0&&j.charCodeAt(0)===45?-t:t,C=bc("n",j,_)):(_=t<0&&n>1?-t:t,C=bc("n",j,_),_<0&&a[0]&&a[0].t=="t"&&(C=C.substr(1),a[0].v="-"+a[0].v)),w=C.length-1;var S=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){S=o;break}var E=a.length;if(S===a.length&&C.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(w>=a[o].v.length-1?(w-=a[o].v.length,a[o].v=C.substr(w+1,a[o].v.length)):w<0?a[o].v="":(a[o].v=C.substr(0,w+1),w=-1),a[o].t="t",E=o);w>=0&&E<a.length&&(a[E].v=C.substr(0,w+1)+a[E].v)}else if(S!==a.length&&C.indexOf("E")===-1){for(w=C.indexOf(".")-1,o=S;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(u=a[o].v.indexOf(".")>-1&&o===S?a[o].v.indexOf(".")-1:a[o].v.length-1,N=a[o].v.substr(u+1);u>=0;--u)w>=0&&(a[o].v.charAt(u)==="0"||a[o].v.charAt(u)==="#")&&(N=C.charAt(w--)+N);a[o].v=N,a[o].t="t",E=o}for(w>=0&&E<a.length&&(a[E].v=C.substr(0,w+1)+a[E].v),w=C.indexOf(".")+1,o=S;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==S)){for(u=a[o].v.indexOf(".")>-1&&o===S?a[o].v.indexOf(".")+1:0,N=a[o].v.substr(0,u);u<a[o].v.length;++u)w<C.length&&(N+=C.charAt(w++));a[o].v=N,a[o].t="t",E=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(_=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=bc(a[o].t,a[o].v,_),a[o].t="t");var P="";for(o=0;o!==a.length;++o)a[o]!=null&&(P+=a[o].v);return P}var V$=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function z$(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function jHe(e,t){var r=bHe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(V$),l=r[1].match(V$);return z$(t,o)?[n,r[0]]:z$(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function eu(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:vn)[e],n==null&&(n=r.table&&r.table[$$[e]]||vn[$$[e]]),n==null&&(n=nHe[e]||"General");break}if(hj(n,0))return WP(t,r);t instanceof Date&&(t=BQ(t,r.date1904));var a=jHe(n,t);if(hj(a[1]))return WP(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return wHe(a[1],t,r,a[0])}function YQ(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(vn[r]==null){t<0&&(t=r);continue}if(vn[r]==e){t=r;break}}t<0&&(t=391)}return vn[t]=e,t}function R_(e){for(var t=0;t!=392;++t)e[t]!==void 0&&YQ(e[t],t)}function M_(){vn=rHe()}var QQ=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function NHe(e){var t=typeof e=="number"?vn[e]:e;return t=t.replace(QQ,"(\\d+)"),new RegExp("^"+t+"$")}function _He(e,t,r){var n=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(QQ)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":i=m;break;case"h":o=m;break;case"s":c=m;break;case"m":o>=0?l=m:a=m;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var d=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:n==-1&&a==-1&&i==-1?u:d+"T"+u}var SHe=function(){var e={};e.version="1.2.0";function t(){for(var C=0,S=new Array(256),E=0;E!=256;++E)C=E,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,S[E]=C;return typeof Int32Array<"u"?new Int32Array(S):S}var r=t();function n(C){var S=0,E=0,P=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)I[P]=C[P];for(P=0;P!=256;++P)for(E=C[P],S=256+P;S<4096;S+=256)E=I[S]=E>>>8^C[E&255];var D=[];for(P=1;P!=16;++P)D[P-1]=typeof Int32Array<"u"?I.subarray(P*256,P*256+256):I.slice(P*256,P*256+256);return D}var a=n(r),i=a[0],o=a[1],l=a[2],c=a[3],d=a[4],u=a[5],f=a[6],h=a[7],m=a[8],x=a[9],p=a[10],g=a[11],b=a[12],y=a[13],j=a[14];function w(C,S){for(var E=S^-1,P=0,I=C.length;P<I;)E=E>>>8^r[(E^C.charCodeAt(P++))&255];return~E}function N(C,S){for(var E=S^-1,P=C.length-15,I=0;I<P;)E=j[C[I++]^E&255]^y[C[I++]^E>>8&255]^b[C[I++]^E>>16&255]^g[C[I++]^E>>>24]^p[C[I++]]^x[C[I++]]^m[C[I++]]^h[C[I++]]^f[C[I++]]^u[C[I++]]^d[C[I++]]^c[C[I++]]^l[C[I++]]^o[C[I++]]^i[C[I++]]^r[C[I++]];for(P+=15;I<P;)E=E>>>8^r[(E^C[I++])&255];return~E}function _(C,S){for(var E=S^-1,P=0,I=C.length,D=0,U=0;P<I;)D=C.charCodeAt(P++),D<128?E=E>>>8^r[(E^D)&255]:D<2048?(E=E>>>8^r[(E^(192|D>>6&31))&255],E=E>>>8^r[(E^(128|D&63))&255]):D>=55296&&D<57344?(D=(D&1023)+64,U=C.charCodeAt(P++)&1023,E=E>>>8^r[(E^(240|D>>8&7))&255],E=E>>>8^r[(E^(128|D>>2&63))&255],E=E>>>8^r[(E^(128|U>>6&15|(D&3)<<4))&255],E=E>>>8^r[(E^(128|U&63))&255]):(E=E>>>8^r[(E^(224|D>>12&15))&255],E=E>>>8^r[(E^(128|D>>6&63))&255],E=E>>>8^r[(E^(128|D&63))&255]);return~E}return e.table=r,e.bstr=w,e.buf=N,e.str=_,e}(),Or=function(){var t={};t.version="1.2.1";function r(V,te){for(var Y=V.split("/"),Q=te.split("/"),ne=0,se=0,_e=Math.min(Y.length,Q.length);ne<_e;++ne){if(se=Y[ne].length-Q[ne].length)return se;if(Y[ne]!=Q[ne])return Y[ne]<Q[ne]?-1:1}return Y.length-Q.length}function n(V){if(V.charAt(V.length-1)=="/")return V.slice(0,-1).indexOf("/")===-1?V:n(V.slice(0,-1));var te=V.lastIndexOf("/");return te===-1?V:V.slice(0,te+1)}function a(V){if(V.charAt(V.length-1)=="/")return a(V.slice(0,-1));var te=V.lastIndexOf("/");return te===-1?V:V.slice(te+1)}function i(V,te){typeof te=="string"&&(te=new Date(te));var Y=te.getHours();Y=Y<<6|te.getMinutes(),Y=Y<<5|te.getSeconds()>>>1,V.write_shift(2,Y);var Q=te.getFullYear()-1980;Q=Q<<4|te.getMonth()+1,Q=Q<<5|te.getDate(),V.write_shift(2,Q)}function o(V){var te=V.read_shift(2)&65535,Y=V.read_shift(2)&65535,Q=new Date,ne=Y&31;Y>>>=5;var se=Y&15;Y>>>=4,Q.setMilliseconds(0),Q.setFullYear(Y+1980),Q.setMonth(se-1),Q.setDate(ne);var _e=te&31;te>>>=5;var Re=te&63;return te>>>=6,Q.setHours(te),Q.setMinutes(Re),Q.setSeconds(_e<<1),Q}function l(V){ni(V,0);for(var te={},Y=0;V.l<=V.length-4;){var Q=V.read_shift(2),ne=V.read_shift(2),se=V.l+ne,_e={};switch(Q){case 21589:Y=V.read_shift(1),Y&1&&(_e.mtime=V.read_shift(4)),ne>5&&(Y&2&&(_e.atime=V.read_shift(4)),Y&4&&(_e.ctime=V.read_shift(4))),_e.mtime&&(_e.mt=new Date(_e.mtime*1e3));break}V.l=se,te[Q]=_e}return te}var c;function d(){return c||(c={})}function u(V,te){if(V[0]==80&&V[1]==75)return rr(V,te);if((V[0]|32)==109&&(V[1]|32)==105)return _J(V,te);if(V.length<512)throw new Error("CFB file size "+V.length+" < 512");var Y=3,Q=512,ne=0,se=0,_e=0,Re=0,Ne=0,Se=[],Ce=V.slice(0,512);ni(Ce,0);var Ve=f(Ce);switch(Y=Ve[0],Y){case 3:Q=512;break;case 4:Q=4096;break;case 0:if(Ve[1]==0)return rr(V,te);default:throw new Error("Major Version: Expected 3 or 4 saw "+Y)}Q!==512&&(Ce=V.slice(0,Q),ni(Ce,28));var at=V.slice(0,Q);h(Ce,Y);var ft=Ce.read_shift(4,"i");if(Y===3&&ft!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ft);Ce.l+=4,_e=Ce.read_shift(4,"i"),Ce.l+=4,Ce.chk("00100000","Mini Stream Cutoff Size: "),Re=Ce.read_shift(4,"i"),ne=Ce.read_shift(4,"i"),Ne=Ce.read_shift(4,"i"),se=Ce.read_shift(4,"i");for(var Ke=-1,it=0;it<109&&(Ke=Ce.read_shift(4,"i"),!(Ke<0));++it)Se[it]=Ke;var Ut=m(V,Q);g(Ne,se,Ut,Q,Se);var sn=y(Ut,_e,Se,Q);sn[_e].name="!Directory",ne>0&&Re!==U&&(sn[Re].name="!MiniFAT"),sn[Se[0]].name="!FAT",sn.fat_addrs=Se,sn.ssz=Q;var an={},Is=[],Yp=[],Qp=[];j(_e,sn,Ut,Is,ne,an,Yp,Re),x(Yp,Qp,Is),Is.shift();var Zp={FileIndex:Yp,FullPaths:Qp};return te&&te.raw&&(Zp.raw={header:at,sectors:Ut}),Zp}function f(V){if(V[V.l]==80&&V[V.l+1]==75)return[0,0];V.chk(F,"Header Signature: "),V.l+=16;var te=V.read_shift(2,"u");return[V.read_shift(2,"u"),te]}function h(V,te){var Y=9;switch(V.l+=2,Y=V.read_shift(2)){case 9:if(te!=3)throw new Error("Sector Shift: Expected 9 saw "+Y);break;case 12:if(te!=4)throw new Error("Sector Shift: Expected 12 saw "+Y);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Y)}V.chk("0600","Mini Sector Shift: "),V.chk("000000000000","Reserved: ")}function m(V,te){for(var Y=Math.ceil(V.length/te)-1,Q=[],ne=1;ne<Y;++ne)Q[ne-1]=V.slice(ne*te,(ne+1)*te);return Q[Y-1]=V.slice(Y*te),Q}function x(V,te,Y){for(var Q=0,ne=0,se=0,_e=0,Re=0,Ne=Y.length,Se=[],Ce=[];Q<Ne;++Q)Se[Q]=Ce[Q]=Q,te[Q]=Y[Q];for(;Re<Ce.length;++Re)Q=Ce[Re],ne=V[Q].L,se=V[Q].R,_e=V[Q].C,Se[Q]===Q&&(ne!==-1&&Se[ne]!==ne&&(Se[Q]=Se[ne]),se!==-1&&Se[se]!==se&&(Se[Q]=Se[se])),_e!==-1&&(Se[_e]=Q),ne!==-1&&Q!=Se[Q]&&(Se[ne]=Se[Q],Ce.lastIndexOf(ne)<Re&&Ce.push(ne)),se!==-1&&Q!=Se[Q]&&(Se[se]=Se[Q],Ce.lastIndexOf(se)<Re&&Ce.push(se));for(Q=1;Q<Ne;++Q)Se[Q]===Q&&(se!==-1&&Se[se]!==se?Se[Q]=Se[se]:ne!==-1&&Se[ne]!==ne&&(Se[Q]=Se[ne]));for(Q=1;Q<Ne;++Q)if(V[Q].type!==0){if(Re=Q,Re!=Se[Re])do Re=Se[Re],te[Q]=te[Re]+"/"+te[Q];while(Re!==0&&Se[Re]!==-1&&Re!=Se[Re]);Se[Q]=-1}for(te[0]+="/",Q=1;Q<Ne;++Q)V[Q].type!==2&&(te[Q]+="/")}function p(V,te,Y){for(var Q=V.start,ne=V.size,se=[],_e=Q;Y&&ne>0&&_e>=0;)se.push(te.slice(_e*D,_e*D+D)),ne-=D,_e=Du(Y,_e*4);return se.length===0?De(0):js(se).slice(0,V.size)}function g(V,te,Y,Q,ne){var se=U;if(V===U){if(te!==0)throw new Error("DIFAT chain shorter than expected")}else if(V!==-1){var _e=Y[V],Re=(Q>>>2)-1;if(!_e)return;for(var Ne=0;Ne<Re&&(se=Du(_e,Ne*4))!==U;++Ne)ne.push(se);g(Du(_e,Q-4),te-1,Y,Q,ne)}}function b(V,te,Y,Q,ne){var se=[],_e=[];ne||(ne=[]);var Re=Q-1,Ne=0,Se=0;for(Ne=te;Ne>=0;){ne[Ne]=!0,se[se.length]=Ne,_e.push(V[Ne]);var Ce=Y[Math.floor(Ne*4/Q)];if(Se=Ne*4&Re,Q<4+Se)throw new Error("FAT boundary crossed: "+Ne+" 4 "+Q);if(!V[Ce])break;Ne=Du(V[Ce],Se)}return{nodes:se,data:Q$([_e])}}function y(V,te,Y,Q){var ne=V.length,se=[],_e=[],Re=[],Ne=[],Se=Q-1,Ce=0,Ve=0,at=0,ft=0;for(Ce=0;Ce<ne;++Ce)if(Re=[],at=Ce+te,at>=ne&&(at-=ne),!_e[at]){Ne=[];var Ke=[];for(Ve=at;Ve>=0;){Ke[Ve]=!0,_e[Ve]=!0,Re[Re.length]=Ve,Ne.push(V[Ve]);var it=Y[Math.floor(Ve*4/Q)];if(ft=Ve*4&Se,Q<4+ft)throw new Error("FAT boundary crossed: "+Ve+" 4 "+Q);if(!V[it]||(Ve=Du(V[it],ft),Ke[Ve]))break}se[at]={nodes:Re,data:Q$([Ne])}}return se}function j(V,te,Y,Q,ne,se,_e,Re){for(var Ne=0,Se=Q.length?2:0,Ce=te[V].data,Ve=0,at=0,ft;Ve<Ce.length;Ve+=128){var Ke=Ce.slice(Ve,Ve+128);ni(Ke,64),at=Ke.read_shift(2),ft=xD(Ke,0,at-Se),Q.push(ft);var it={name:ft,type:Ke.read_shift(1),color:Ke.read_shift(1),L:Ke.read_shift(4,"i"),R:Ke.read_shift(4,"i"),C:Ke.read_shift(4,"i"),clsid:Ke.read_shift(16),state:Ke.read_shift(4,"i"),start:0,size:0},Ut=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);Ut!==0&&(it.ct=w(Ke,Ke.l-8));var sn=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);sn!==0&&(it.mt=w(Ke,Ke.l-8)),it.start=Ke.read_shift(4,"i"),it.size=Ke.read_shift(4,"i"),it.size<0&&it.start<0&&(it.size=it.type=0,it.start=U,it.name=""),it.type===5?(Ne=it.start,ne>0&&Ne!==U&&(te[Ne].name="!StreamData")):it.size>=4096?(it.storage="fat",te[it.start]===void 0&&(te[it.start]=b(Y,it.start,te.fat_addrs,te.ssz)),te[it.start].name=it.name,it.content=te[it.start].data.slice(0,it.size)):(it.storage="minifat",it.size<0?it.size=0:Ne!==U&&it.start!==U&&te[Ne]&&(it.content=p(it,te[Ne].data,(te[Re]||{}).data))),it.content&&ni(it.content,0),se[ft]=it,_e.push(it)}}function w(V,te){return new Date((ii(V,te+4)/1e7*Math.pow(2,32)+ii(V,te)/1e7-11644473600)*1e3)}function N(V,te){return d(),u(c.readFileSync(V),te)}function _(V,te){var Y=te&&te.type;switch(Y||mr&&Buffer.isBuffer(V)&&(Y="buffer"),Y||"base64"){case"file":return N(V,te);case"base64":return u(Eo($c(V)),te);case"binary":return u(Eo(V),te)}return u(V,te)}function C(V,te){var Y=te||{},Q=Y.root||"Root Entry";if(V.FullPaths||(V.FullPaths=[]),V.FileIndex||(V.FileIndex=[]),V.FullPaths.length!==V.FileIndex.length)throw new Error("inconsistent CFB structure");V.FullPaths.length===0&&(V.FullPaths[0]=Q+"/",V.FileIndex[0]={name:Q,type:5}),Y.CLSID&&(V.FileIndex[0].clsid=Y.CLSID),S(V)}function S(V){var te="Sh33tJ5";if(!Or.find(V,"/"+te)){var Y=De(4);Y[0]=55,Y[1]=Y[3]=50,Y[2]=54,V.FileIndex.push({name:te,type:2,content:Y,size:4,L:69,R:69,C:69}),V.FullPaths.push(V.FullPaths[0]+te),E(V)}}function E(V,te){C(V);for(var Y=!1,Q=!1,ne=V.FullPaths.length-1;ne>=0;--ne){var se=V.FileIndex[ne];switch(se.type){case 0:Q?Y=!0:(V.FileIndex.pop(),V.FullPaths.pop());break;case 1:case 2:case 5:Q=!0,isNaN(se.R*se.L*se.C)&&(Y=!0),se.R>-1&&se.L>-1&&se.R==se.L&&(Y=!0);break;default:Y=!0;break}}if(!(!Y&&!te)){var _e=new Date(1987,1,19),Re=0,Ne=Object.create?Object.create(null):{},Se=[];for(ne=0;ne<V.FullPaths.length;++ne)Ne[V.FullPaths[ne]]=!0,V.FileIndex[ne].type!==0&&Se.push([V.FullPaths[ne],V.FileIndex[ne]]);for(ne=0;ne<Se.length;++ne){var Ce=n(Se[ne][0]);Q=Ne[Ce],Q||(Se.push([Ce,{name:a(Ce).replace("/",""),type:1,clsid:O,ct:_e,mt:_e,content:null}]),Ne[Ce]=!0)}for(Se.sort(function(ft,Ke){return r(ft[0],Ke[0])}),V.FullPaths=[],V.FileIndex=[],ne=0;ne<Se.length;++ne)V.FullPaths[ne]=Se[ne][0],V.FileIndex[ne]=Se[ne][1];for(ne=0;ne<Se.length;++ne){var Ve=V.FileIndex[ne],at=V.FullPaths[ne];if(Ve.name=a(at).replace("/",""),Ve.L=Ve.R=Ve.C=-(Ve.color=1),Ve.size=Ve.content?Ve.content.length:0,Ve.start=0,Ve.clsid=Ve.clsid||O,ne===0)Ve.C=Se.length>1?1:-1,Ve.size=0,Ve.type=5;else if(at.slice(-1)=="/"){for(Re=ne+1;Re<Se.length&&n(V.FullPaths[Re])!=at;++Re);for(Ve.C=Re>=Se.length?-1:Re,Re=ne+1;Re<Se.length&&n(V.FullPaths[Re])!=n(at);++Re);Ve.R=Re>=Se.length?-1:Re,Ve.type=1}else n(V.FullPaths[ne+1]||"")==n(at)&&(Ve.R=ne+1),Ve.type=2}}}function P(V,te){var Y=te||{};if(Y.fileType=="mad")return SJ(V,Y);switch(E(V),Y.fileType){case"zip":return ps(V,Y)}var Q=function(ft){for(var Ke=0,it=0,Ut=0;Ut<ft.FileIndex.length;++Ut){var sn=ft.FileIndex[Ut];if(sn.content){var an=sn.content.length;an>0&&(an<4096?Ke+=an+63>>6:it+=an+511>>9)}}for(var Is=ft.FullPaths.length+3>>2,Yp=Ke+7>>3,Qp=Ke+127>>7,Zp=Yp+it+Is+Qp,gu=Zp+127>>7,z_=gu<=109?0:Math.ceil((gu-109)/127);Zp+gu+z_+127>>7>gu;)z_=++gu<=109?0:Math.ceil((gu-109)/127);var ql=[1,z_,gu,Qp,Is,it,Ke,0];return ft.FileIndex[0].size=Ke<<6,ql[7]=(ft.FileIndex[0].start=ql[0]+ql[1]+ql[2]+ql[3]+ql[4]+ql[5])+(ql[6]+7>>3),ql}(V),ne=De(Q[7]<<9),se=0,_e=0;{for(se=0;se<8;++se)ne.write_shift(1,M[se]);for(se=0;se<8;++se)ne.write_shift(2,0);for(ne.write_shift(2,62),ne.write_shift(2,3),ne.write_shift(2,65534),ne.write_shift(2,9),ne.write_shift(2,6),se=0;se<3;++se)ne.write_shift(2,0);for(ne.write_shift(4,0),ne.write_shift(4,Q[2]),ne.write_shift(4,Q[0]+Q[1]+Q[2]+Q[3]-1),ne.write_shift(4,0),ne.write_shift(4,4096),ne.write_shift(4,Q[3]?Q[0]+Q[1]+Q[2]-1:U),ne.write_shift(4,Q[3]),ne.write_shift(-4,Q[1]?Q[0]-1:U),ne.write_shift(4,Q[1]),se=0;se<109;++se)ne.write_shift(-4,se<Q[2]?Q[1]+se:-1)}if(Q[1])for(_e=0;_e<Q[1];++_e){for(;se<236+_e*127;++se)ne.write_shift(-4,se<Q[2]?Q[1]+se:-1);ne.write_shift(-4,_e===Q[1]-1?U:_e+1)}var Re=function(ft){for(_e+=ft;se<_e-1;++se)ne.write_shift(-4,se+1);ft&&(++se,ne.write_shift(-4,U))};for(_e=se=0,_e+=Q[1];se<_e;++se)ne.write_shift(-4,A.DIFSECT);for(_e+=Q[2];se<_e;++se)ne.write_shift(-4,A.FATSECT);Re(Q[3]),Re(Q[4]);for(var Ne=0,Se=0,Ce=V.FileIndex[0];Ne<V.FileIndex.length;++Ne)Ce=V.FileIndex[Ne],Ce.content&&(Se=Ce.content.length,!(Se<4096)&&(Ce.start=_e,Re(Se+511>>9)));for(Re(Q[6]+7>>3);ne.l&511;)ne.write_shift(-4,A.ENDOFCHAIN);for(_e=se=0,Ne=0;Ne<V.FileIndex.length;++Ne)Ce=V.FileIndex[Ne],Ce.content&&(Se=Ce.content.length,!(!Se||Se>=4096)&&(Ce.start=_e,Re(Se+63>>6)));for(;ne.l&511;)ne.write_shift(-4,A.ENDOFCHAIN);for(se=0;se<Q[4]<<2;++se){var Ve=V.FullPaths[se];if(!Ve||Ve.length===0){for(Ne=0;Ne<17;++Ne)ne.write_shift(4,0);for(Ne=0;Ne<3;++Ne)ne.write_shift(4,-1);for(Ne=0;Ne<12;++Ne)ne.write_shift(4,0);continue}Ce=V.FileIndex[se],se===0&&(Ce.start=Ce.size?Ce.start-1:U);var at=se===0&&Y.root||Ce.name;if(Se=2*(at.length+1),ne.write_shift(64,at,"utf16le"),ne.write_shift(2,Se),ne.write_shift(1,Ce.type),ne.write_shift(1,Ce.color),ne.write_shift(-4,Ce.L),ne.write_shift(-4,Ce.R),ne.write_shift(-4,Ce.C),Ce.clsid)ne.write_shift(16,Ce.clsid,"hex");else for(Ne=0;Ne<4;++Ne)ne.write_shift(4,0);ne.write_shift(4,Ce.state||0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,Ce.start),ne.write_shift(4,Ce.size),ne.write_shift(4,0)}for(se=1;se<V.FileIndex.length;++se)if(Ce=V.FileIndex[se],Ce.size>=4096)if(ne.l=Ce.start+1<<9,mr&&Buffer.isBuffer(Ce.content))Ce.content.copy(ne,ne.l,0,Ce.size),ne.l+=Ce.size+511&-512;else{for(Ne=0;Ne<Ce.size;++Ne)ne.write_shift(1,Ce.content[Ne]);for(;Ne&511;++Ne)ne.write_shift(1,0)}for(se=1;se<V.FileIndex.length;++se)if(Ce=V.FileIndex[se],Ce.size>0&&Ce.size<4096)if(mr&&Buffer.isBuffer(Ce.content))Ce.content.copy(ne,ne.l,0,Ce.size),ne.l+=Ce.size+63&-64;else{for(Ne=0;Ne<Ce.size;++Ne)ne.write_shift(1,Ce.content[Ne]);for(;Ne&63;++Ne)ne.write_shift(1,0)}if(mr)ne.l=ne.length;else for(;ne.l<ne.length;)ne.write_shift(1,0);return ne}function I(V,te){var Y=V.FullPaths.map(function(Ne){return Ne.toUpperCase()}),Q=Y.map(function(Ne){var Se=Ne.split("/");return Se[Se.length-(Ne.slice(-1)=="/"?2:1)]}),ne=!1;te.charCodeAt(0)===47?(ne=!0,te=Y[0].slice(0,-1)+te):ne=te.indexOf("/")!==-1;var se=te.toUpperCase(),_e=ne===!0?Y.indexOf(se):Q.indexOf(se);if(_e!==-1)return V.FileIndex[_e];var Re=!se.match(c1);for(se=se.replace(mg,""),Re&&(se=se.replace(c1,"!")),_e=0;_e<Y.length;++_e)if((Re?Y[_e].replace(c1,"!"):Y[_e]).replace(mg,"")==se||(Re?Q[_e].replace(c1,"!"):Q[_e]).replace(mg,"")==se)return V.FileIndex[_e];return null}var D=64,U=-2,F="d0cf11e0a1b11ae1",M=[208,207,17,224,161,177,26,225],O="00000000000000000000000000000000",A={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:F,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:O,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function k(V,te,Y){d();var Q=P(V,Y);c.writeFileSync(te,Q)}function W(V){for(var te=new Array(V.length),Y=0;Y<V.length;++Y)te[Y]=String.fromCharCode(V[Y]);return te.join("")}function fe(V,te){var Y=P(V,te);switch(te&&te.type||"buffer"){case"file":return d(),c.writeFileSync(te.filename,Y),Y;case"binary":return typeof Y=="string"?Y:W(Y);case"base64":return Gv(typeof Y=="string"?Y:W(Y));case"buffer":if(mr)return Buffer.isBuffer(Y)?Y:Kc(Y);case"array":return typeof Y=="string"?Eo(Y):Y}return Y}var de;function T(V){try{var te=V.InflateRaw,Y=new te;if(Y._processChunk(new Uint8Array([3,0]),Y._finishFlushFlag),Y.bytesRead)de=V;else throw new Error("zlib does not expose bytesRead")}catch(Q){console.error("cannot use native zlib: "+(Q.message||Q))}}function L(V,te){if(!de)return wt(V,te);var Y=de.InflateRaw,Q=new Y,ne=Q._processChunk(V.slice(V.l),Q._finishFlushFlag);return V.l+=Q.bytesRead,ne}function R(V){return de?de.deflateRawSync(V):je(V)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Z=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function X(V){var te=(V<<1|V<<11)&139536|(V<<5|V<<15)&558144;return(te>>16|te>>8|te)&255}for(var ee=typeof Uint8Array<"u",ie=ee?new Uint8Array(256):[],be=0;be<256;++be)ie[be]=X(be);function he(V,te){var Y=ie[V&255];return te<=8?Y>>>8-te:(Y=Y<<8|ie[V>>8&255],te<=16?Y>>>16-te:(Y=Y<<8|ie[V>>16&255],Y>>>24-te))}function Ge(V,te){var Y=te&7,Q=te>>>3;return(V[Q]|(Y<=6?0:V[Q+1]<<8))>>>Y&3}function ke(V,te){var Y=te&7,Q=te>>>3;return(V[Q]|(Y<=5?0:V[Q+1]<<8))>>>Y&7}function bt(V,te){var Y=te&7,Q=te>>>3;return(V[Q]|(Y<=4?0:V[Q+1]<<8))>>>Y&15}function rt(V,te){var Y=te&7,Q=te>>>3;return(V[Q]|(Y<=3?0:V[Q+1]<<8))>>>Y&31}function Oe(V,te){var Y=te&7,Q=te>>>3;return(V[Q]|(Y<=1?0:V[Q+1]<<8))>>>Y&127}function G(V,te,Y){var Q=te&7,ne=te>>>3,se=(1<<Y)-1,_e=V[ne]>>>Q;return Y<8-Q||(_e|=V[ne+1]<<8-Q,Y<16-Q)||(_e|=V[ne+2]<<16-Q,Y<24-Q)||(_e|=V[ne+3]<<24-Q),_e&se}function ce(V,te,Y){var Q=te&7,ne=te>>>3;return Q<=5?V[ne]|=(Y&7)<<Q:(V[ne]|=Y<<Q&255,V[ne+1]=(Y&7)>>8-Q),te+3}function xe(V,te,Y){var Q=te&7,ne=te>>>3;return Y=(Y&1)<<Q,V[ne]|=Y,te+1}function ve(V,te,Y){var Q=te&7,ne=te>>>3;return Y<<=Q,V[ne]|=Y&255,Y>>>=8,V[ne+1]=Y,te+8}function ge(V,te,Y){var Q=te&7,ne=te>>>3;return Y<<=Q,V[ne]|=Y&255,Y>>>=8,V[ne+1]=Y&255,V[ne+2]=Y>>>8,te+16}function Ae(V,te){var Y=V.length,Q=2*Y>te?2*Y:te+5,ne=0;if(Y>=te)return V;if(mr){var se=M$(Q);if(V.copy)V.copy(se);else for(;ne<V.length;++ne)se[ne]=V[ne];return se}else if(ee){var _e=new Uint8Array(Q);if(_e.set)_e.set(V);else for(;ne<Y;++ne)_e[ne]=V[ne];return _e}return V.length=Q,V}function ae(V){for(var te=new Array(V),Y=0;Y<V;++Y)te[Y]=0;return te}function we(V,te,Y){var Q=1,ne=0,se=0,_e=0,Re=0,Ne=V.length,Se=ee?new Uint16Array(32):ae(32);for(se=0;se<32;++se)Se[se]=0;for(se=Ne;se<Y;++se)V[se]=0;Ne=V.length;var Ce=ee?new Uint16Array(Ne):ae(Ne);for(se=0;se<Ne;++se)Se[ne=V[se]]++,Q<ne&&(Q=ne),Ce[se]=0;for(Se[0]=0,se=1;se<=Q;++se)Se[se+16]=Re=Re+Se[se-1]<<1;for(se=0;se<Ne;++se)Re=V[se],Re!=0&&(Ce[se]=Se[Re+16]++);var Ve=0;for(se=0;se<Ne;++se)if(Ve=V[se],Ve!=0)for(Re=he(Ce[se],Q)>>Q-Ve,_e=(1<<Q+4-Ve)-1;_e>=0;--_e)te[Re|_e<<Ve]=Ve&15|se<<4;return Q}var lt=ee?new Uint16Array(512):ae(512),Je=ee?new Uint16Array(32):ae(32);if(!ee){for(var qe=0;qe<512;++qe)lt[qe]=0;for(qe=0;qe<32;++qe)Je[qe]=0}(function(){for(var V=[],te=0;te<32;te++)V.push(5);we(V,Je,32);var Y=[];for(te=0;te<=143;te++)Y.push(8);for(;te<=255;te++)Y.push(9);for(;te<=279;te++)Y.push(7);for(;te<=287;te++)Y.push(8);we(Y,lt,288)})();var z=function(){for(var te=ee?new Uint8Array(32768):[],Y=0,Q=0;Y<Z.length-1;++Y)for(;Q<Z[Y+1];++Q)te[Q]=Y;for(;Q<32768;++Q)te[Q]=29;var ne=ee?new Uint8Array(259):[];for(Y=0,Q=0;Y<q.length-1;++Y)for(;Q<q[Y+1];++Q)ne[Q]=Y;function se(Re,Ne){for(var Se=0;Se<Re.length;){var Ce=Math.min(65535,Re.length-Se),Ve=Se+Ce==Re.length;for(Ne.write_shift(1,+Ve),Ne.write_shift(2,Ce),Ne.write_shift(2,~Ce&65535);Ce-- >0;)Ne[Ne.l++]=Re[Se++]}return Ne.l}function _e(Re,Ne){for(var Se=0,Ce=0,Ve=ee?new Uint16Array(32768):[];Ce<Re.length;){var at=Math.min(65535,Re.length-Ce);if(at<10){for(Se=ce(Ne,Se,+(Ce+at==Re.length)),Se&7&&(Se+=8-(Se&7)),Ne.l=Se/8|0,Ne.write_shift(2,at),Ne.write_shift(2,~at&65535);at-- >0;)Ne[Ne.l++]=Re[Ce++];Se=Ne.l*8;continue}Se=ce(Ne,Se,+(Ce+at==Re.length)+2);for(var ft=0;at-- >0;){var Ke=Re[Ce];ft=(ft<<5^Ke)&32767;var it=-1,Ut=0;if((it=Ve[ft])&&(it|=Ce&-32768,it>Ce&&(it-=32768),it<Ce))for(;Re[it+Ut]==Re[Ce+Ut]&&Ut<250;)++Ut;if(Ut>2){Ke=ne[Ut],Ke<=22?Se=ve(Ne,Se,ie[Ke+1]>>1)-1:(ve(Ne,Se,3),Se+=5,ve(Ne,Se,ie[Ke-23]>>5),Se+=3);var sn=Ke<8?0:Ke-4>>2;sn>0&&(ge(Ne,Se,Ut-q[Ke]),Se+=sn),Ke=te[Ce-it],Se=ve(Ne,Se,ie[Ke]>>3),Se-=3;var an=Ke<4?0:Ke-2>>1;an>0&&(ge(Ne,Se,Ce-it-Z[Ke]),Se+=an);for(var Is=0;Is<Ut;++Is)Ve[ft]=Ce&32767,ft=(ft<<5^Re[Ce])&32767,++Ce;at-=Ut-1}else Ke<=143?Ke=Ke+48:Se=xe(Ne,Se,1),Se=ve(Ne,Se,ie[Ke]),Ve[ft]=Ce&32767,++Ce}Se=ve(Ne,Se,0)-1}return Ne.l=(Se+7)/8|0,Ne.l}return function(Ne,Se){return Ne.length<8?se(Ne,Se):_e(Ne,Se)}}();function je(V){var te=De(50+Math.floor(V.length*1.1)),Y=z(V,te);return te.slice(0,Y)}var ut=ee?new Uint16Array(32768):ae(32768),vt=ee?new Uint16Array(32768):ae(32768),Ye=ee?new Uint16Array(128):ae(128),$t=1,Pr=1;function Dr(V,te){var Y=rt(V,te)+257;te+=5;var Q=rt(V,te)+1;te+=5;var ne=bt(V,te)+4;te+=4;for(var se=0,_e=ee?new Uint8Array(19):ae(19),Re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ne=1,Se=ee?new Uint8Array(8):ae(8),Ce=ee?new Uint8Array(8):ae(8),Ve=_e.length,at=0;at<ne;++at)_e[K[at]]=se=ke(V,te),Ne<se&&(Ne=se),Se[se]++,te+=3;var ft=0;for(Se[0]=0,at=1;at<=Ne;++at)Ce[at]=ft=ft+Se[at-1]<<1;for(at=0;at<Ve;++at)(ft=_e[at])!=0&&(Re[at]=Ce[ft]++);var Ke=0;for(at=0;at<Ve;++at)if(Ke=_e[at],Ke!=0){ft=ie[Re[at]]>>8-Ke;for(var it=(1<<7-Ke)-1;it>=0;--it)Ye[ft|it<<Ke]=Ke&7|at<<3}var Ut=[];for(Ne=1;Ut.length<Y+Q;)switch(ft=Ye[Oe(V,te)],te+=ft&7,ft>>>=3){case 16:for(se=3+Ge(V,te),te+=2,ft=Ut[Ut.length-1];se-- >0;)Ut.push(ft);break;case 17:for(se=3+ke(V,te),te+=3;se-- >0;)Ut.push(0);break;case 18:for(se=11+Oe(V,te),te+=7;se-- >0;)Ut.push(0);break;default:Ut.push(ft),Ne<ft&&(Ne=ft);break}var sn=Ut.slice(0,Y),an=Ut.slice(Y);for(at=Y;at<286;++at)sn[at]=0;for(at=Q;at<30;++at)an[at]=0;return $t=we(sn,ut,286),Pr=we(an,vt,30),te}function wr(V,te){if(V[0]==3&&!(V[1]&3))return[kf(te),2];for(var Y=0,Q=0,ne=M$(te||1<<18),se=0,_e=ne.length>>>0,Re=0,Ne=0;!(Q&1);){if(Q=ke(V,Y),Y+=3,Q>>>1)Q>>1==1?(Re=9,Ne=5):(Y=Dr(V,Y),Re=$t,Ne=Pr);else{Y&7&&(Y+=8-(Y&7));var Se=V[Y>>>3]|V[(Y>>>3)+1]<<8;if(Y+=32,Se>0)for(!te&&_e<se+Se&&(ne=Ae(ne,se+Se),_e=ne.length);Se-- >0;)ne[se++]=V[Y>>>3],Y+=8;continue}for(;;){!te&&_e<se+32767&&(ne=Ae(ne,se+32767),_e=ne.length);var Ce=G(V,Y,Re),Ve=Q>>>1==1?lt[Ce]:ut[Ce];if(Y+=Ve&15,Ve>>>=4,!(Ve>>>8&255))ne[se++]=Ve;else{if(Ve==256)break;Ve-=257;var at=Ve<8?0:Ve-4>>2;at>5&&(at=0);var ft=se+q[Ve];at>0&&(ft+=G(V,Y,at),Y+=at),Ce=G(V,Y,Ne),Ve=Q>>>1==1?Je[Ce]:vt[Ce],Y+=Ve&15,Ve>>>=4;var Ke=Ve<4?0:Ve-2>>1,it=Z[Ve];for(Ke>0&&(it+=G(V,Y,Ke),Y+=Ke),!te&&_e<ft&&(ne=Ae(ne,ft+100),_e=ne.length);se<ft;)ne[se]=ne[se-it],++se}}}return te?[ne,Y+7>>>3]:[ne.slice(0,se),Y+7>>>3]}function wt(V,te){var Y=V.slice(V.l||0),Q=wr(Y,te);return V.l+=Q[1],Q[0]}function Bt(V,te){if(V)typeof console<"u"&&console.error(te);else throw new Error(te)}function rr(V,te){var Y=V;ni(Y,0);var Q=[],ne=[],se={FileIndex:Q,FullPaths:ne};C(se,{root:te.root});for(var _e=Y.length-4;(Y[_e]!=80||Y[_e+1]!=75||Y[_e+2]!=5||Y[_e+3]!=6)&&_e>=0;)--_e;Y.l=_e+4,Y.l+=4;var Re=Y.read_shift(2);Y.l+=6;var Ne=Y.read_shift(4);for(Y.l=Ne,_e=0;_e<Re;++_e){Y.l+=20;var Se=Y.read_shift(4),Ce=Y.read_shift(4),Ve=Y.read_shift(2),at=Y.read_shift(2),ft=Y.read_shift(2);Y.l+=8;var Ke=Y.read_shift(4),it=l(Y.slice(Y.l+Ve,Y.l+Ve+at));Y.l+=Ve+at+ft;var Ut=Y.l;Y.l=Ke+4,Bn(Y,Se,Ce,se,it),Y.l=Ut}return se}function Bn(V,te,Y,Q,ne){V.l+=2;var se=V.read_shift(2),_e=V.read_shift(2),Re=o(V);if(se&8257)throw new Error("Unsupported ZIP encryption");for(var Ne=V.read_shift(4),Se=V.read_shift(4),Ce=V.read_shift(4),Ve=V.read_shift(2),at=V.read_shift(2),ft="",Ke=0;Ke<Ve;++Ke)ft+=String.fromCharCode(V[V.l++]);if(at){var it=l(V.slice(V.l,V.l+at));(it[21589]||{}).mt&&(Re=it[21589].mt),((ne||{})[21589]||{}).mt&&(Re=ne[21589].mt)}V.l+=at;var Ut=V.slice(V.l,V.l+Se);switch(_e){case 8:Ut=L(V,Ce);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+_e)}var sn=!1;se&8&&(Ne=V.read_shift(4),Ne==134695760&&(Ne=V.read_shift(4),sn=!0),Se=V.read_shift(4),Ce=V.read_shift(4)),Se!=te&&Bt(sn,"Bad compressed size: "+te+" != "+Se),Ce!=Y&&Bt(sn,"Bad uncompressed size: "+Y+" != "+Ce),V_(Q,ft,Ut,{unsafe:!0,mt:Re})}function ps(V,te){var Y=te||{},Q=[],ne=[],se=De(1),_e=Y.compression?8:0,Re=0,Ne=0,Se=0,Ce=0,Ve=0,at=V.FullPaths[0],ft=at,Ke=V.FileIndex[0],it=[],Ut=0;for(Ne=1;Ne<V.FullPaths.length;++Ne)if(ft=V.FullPaths[Ne].slice(at.length),Ke=V.FileIndex[Ne],!(!Ke.size||!Ke.content||ft=="Sh33tJ5")){var sn=Ce,an=De(ft.length);for(Se=0;Se<ft.length;++Se)an.write_shift(1,ft.charCodeAt(Se)&127);an=an.slice(0,an.l),it[Ve]=SHe.buf(Ke.content,0);var Is=Ke.content;_e==8&&(Is=R(Is)),se=De(30),se.write_shift(4,67324752),se.write_shift(2,20),se.write_shift(2,Re),se.write_shift(2,_e),Ke.mt?i(se,Ke.mt):se.write_shift(4,0),se.write_shift(-4,it[Ve]),se.write_shift(4,Is.length),se.write_shift(4,Ke.content.length),se.write_shift(2,an.length),se.write_shift(2,0),Ce+=se.length,Q.push(se),Ce+=an.length,Q.push(an),Ce+=Is.length,Q.push(Is),se=De(46),se.write_shift(4,33639248),se.write_shift(2,0),se.write_shift(2,20),se.write_shift(2,Re),se.write_shift(2,_e),se.write_shift(4,0),se.write_shift(-4,it[Ve]),se.write_shift(4,Is.length),se.write_shift(4,Ke.content.length),se.write_shift(2,an.length),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(4,0),se.write_shift(4,sn),Ut+=se.l,ne.push(se),Ut+=an.length,ne.push(an),++Ve}return se=De(22),se.write_shift(4,101010256),se.write_shift(2,0),se.write_shift(2,0),se.write_shift(2,Ve),se.write_shift(2,Ve),se.write_shift(4,Ut),se.write_shift(4,Ce),se.write_shift(2,0),js([js(Q),js(ne),se])}var Ci={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Zf(V,te){if(V.ctype)return V.ctype;var Y=V.name||"",Q=Y.match(/\.([^\.]+)$/);return Q&&Ci[Q[1]]||te&&(Q=(Y=te).match(/[\.\\]([^\.\\])+$/),Q&&Ci[Q[1]])?Ci[Q[1]]:"application/octet-stream"}function sl(V){for(var te=Gv(V),Y=[],Q=0;Q<te.length;Q+=76)Y.push(te.slice(Q,Q+76));return Y.join(`\r
`)+`\r
`}function ay(V){var te=V.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Se){var Ce=Se.charCodeAt(0).toString(16).toUpperCase();return"="+(Ce.length==1?"0"+Ce:Ce)});te=te.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),te.charAt(0)==`
`&&(te="=0D"+te.slice(1)),te=te.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Y=[],Q=te.split(`\r
`),ne=0;ne<Q.length;++ne){var se=Q[ne];if(se.length==0){Y.push("");continue}for(var _e=0;_e<se.length;){var Re=76,Ne=se.slice(_e,_e+Re);Ne.charAt(Re-1)=="="?Re--:Ne.charAt(Re-2)=="="?Re-=2:Ne.charAt(Re-3)=="="&&(Re-=3),Ne=se.slice(_e,_e+Re),_e+=Re,_e<se.length&&(Ne+="="),Y.push(Ne)}}return Y.join(`\r
`)}function jJ(V){for(var te=[],Y=0;Y<V.length;++Y){for(var Q=V[Y];Y<=V.length&&Q.charAt(Q.length-1)=="=";)Q=Q.slice(0,Q.length-1)+V[++Y];te.push(Q)}for(var ne=0;ne<te.length;++ne)te[ne]=te[ne].replace(/[=][0-9A-Fa-f]{2}/g,function(se){return String.fromCharCode(parseInt(se.slice(1),16))});return Eo(te.join(`\r
`))}function NJ(V,te,Y){for(var Q="",ne="",se="",_e,Re=0;Re<10;++Re){var Ne=te[Re];if(!Ne||Ne.match(/^\s*$/))break;var Se=Ne.match(/^(.*?):\s*([^\s].*)$/);if(Se)switch(Se[1].toLowerCase()){case"content-location":Q=Se[2].trim();break;case"content-type":se=Se[2].trim();break;case"content-transfer-encoding":ne=Se[2].trim();break}}switch(++Re,ne.toLowerCase()){case"base64":_e=Eo($c(te.slice(Re).join("")));break;case"quoted-printable":_e=jJ(te.slice(Re));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ne)}var Ce=V_(V,Q.slice(Y.length),_e,{unsafe:!0});se&&(Ce.ctype=se)}function _J(V,te){if(W(V.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Y=te&&te.root||"",Q=(mr&&Buffer.isBuffer(V)?V.toString("binary"):W(V)).split(`\r
`),ne=0,se="";for(ne=0;ne<Q.length;++ne)if(se=Q[ne],!!/^Content-Location:/i.test(se)&&(se=se.slice(se.indexOf("file")),Y||(Y=se.slice(0,se.lastIndexOf("/")+1)),se.slice(0,Y.length)!=Y))for(;Y.length>0&&(Y=Y.slice(0,Y.length-1),Y=Y.slice(0,Y.lastIndexOf("/")+1),se.slice(0,Y.length)!=Y););var _e=(Q[1]||"").match(/boundary="(.*?)"/);if(!_e)throw new Error("MAD cannot find boundary");var Re="--"+(_e[1]||""),Ne=[],Se=[],Ce={FileIndex:Ne,FullPaths:Se};C(Ce);var Ve,at=0;for(ne=0;ne<Q.length;++ne){var ft=Q[ne];ft!==Re&&ft!==Re+"--"||(at++&&NJ(Ce,Q.slice(Ve,ne),Y),Ve=ne)}return Ce}function SJ(V,te){var Y=te||{},Q=Y.boundary||"SheetJS";Q="------="+Q;for(var ne=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Q.slice(2)+'"',"","",""],se=V.FullPaths[0],_e=se,Re=V.FileIndex[0],Ne=1;Ne<V.FullPaths.length;++Ne)if(_e=V.FullPaths[Ne].slice(se.length),Re=V.FileIndex[Ne],!(!Re.size||!Re.content||_e=="Sh33tJ5")){_e=_e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ut){return"_x"+Ut.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ut){return"_u"+Ut.charCodeAt(0).toString(16)+"_"});for(var Se=Re.content,Ce=mr&&Buffer.isBuffer(Se)?Se.toString("binary"):W(Se),Ve=0,at=Math.min(1024,Ce.length),ft=0,Ke=0;Ke<=at;++Ke)(ft=Ce.charCodeAt(Ke))>=32&&ft<128&&++Ve;var it=Ve>=at*4/5;ne.push(Q),ne.push("Content-Location: "+(Y.root||"file:///C:/SheetJS/")+_e),ne.push("Content-Transfer-Encoding: "+(it?"quoted-printable":"base64")),ne.push("Content-Type: "+Zf(Re,_e)),ne.push(""),ne.push(it?ay(Ce):sl(Ce))}return ne.push(Q+`--\r
`),ne.join(`\r
`)}function CJ(V){var te={};return C(te,V),te}function V_(V,te,Y,Q){var ne=Q&&Q.unsafe;ne||C(V);var se=!ne&&Or.find(V,te);if(!se){var _e=V.FullPaths[0];te.slice(0,_e.length)==_e?_e=te:(_e.slice(-1)!="/"&&(_e+="/"),_e=(_e+te).replace("//","/")),se={name:a(te),type:2},V.FileIndex.push(se),V.FullPaths.push(_e),ne||Or.utils.cfb_gc(V)}return se.content=Y,se.size=Y?Y.length:0,Q&&(Q.CLSID&&(se.clsid=Q.CLSID),Q.mt&&(se.mt=Q.mt),Q.ct&&(se.ct=Q.ct)),se}function EJ(V,te){C(V);var Y=Or.find(V,te);if(Y){for(var Q=0;Q<V.FileIndex.length;++Q)if(V.FileIndex[Q]==Y)return V.FileIndex.splice(Q,1),V.FullPaths.splice(Q,1),!0}return!1}function AJ(V,te,Y){C(V);var Q=Or.find(V,te);if(Q){for(var ne=0;ne<V.FileIndex.length;++ne)if(V.FileIndex[ne]==Q)return V.FileIndex[ne].name=a(Y),V.FullPaths[ne]=Y,!0}return!1}function PJ(V){E(V,!0)}return t.find=I,t.read=_,t.parse=u,t.write=fe,t.writeFile=k,t.utils={cfb_new:CJ,cfb_add:V_,cfb_del:EJ,cfb_mov:AJ,cfb_gc:PJ,ReadShift:xg,CheckField:pZ,prep_blob:ni,bconcat:js,use_zlib:T,_deflateRaw:je,_inflateRaw:wt,consts:A},t}();function CHe(e){return typeof e=="string"?I_(e):Array.isArray(e)?ZWe(e):e}function ey(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=I_(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Kv(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([CHe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=J0(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Os(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function W$(e,t){for(var r=[],n=Os(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function fD(e){for(var t=[],r=Os(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function F_(e){for(var t=[],r=Os(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function EHe(e){for(var t=[],r=Os(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var pj=new Date(1899,11,30,0,0,0);function Va(e,t){var r=e.getTime(),n=pj.getTime()+(e.getTimezoneOffset()-pj.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var ZQ=new Date,AHe=pj.getTime()+(ZQ.getTimezoneOffset()-pj.getTimezoneOffset())*6e4,H$=ZQ.getTimezoneOffset();function JQ(e){var t=new Date;return t.setTime(e*24*60*60*1e3+AHe),t.getTimezoneOffset()!==H$&&t.setTime(t.getTime()+(t.getTimezoneOffset()-H$)*6e4),t}var G$=new Date("2017-02-19T19:06:09.000Z"),eZ=isNaN(G$.getFullYear())?new Date("2/19/17"):G$,PHe=eZ.getFullYear()==2017;function pa(e,t){var r=new Date(e);if(PHe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(eZ.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function L_(e,t){if(mr&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function za(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=za(e[r]));return t}function xn(e,t){for(var r="";r.length<t;)r+=e;return r}function wc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var THe=["january","february","march","april","may","june","july","august","september","october","november","december"];function qv(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&THe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Kt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return mr?n=Kc(r):n=JWe(r),Or.utils.cfb_add(e,t,n)}Or.utils.cfb_add(e,t,r)}else e.file(t,r)}function hD(){return Or.utils.cfb_new()}var $n=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,kHe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},mD=fD(kHe),pD=/[&<>'"]/g,OHe=/[\u0000-\u0008\u000b-\u001f]/g;function Sr(e){var t=e+"";return t.replace(pD,function(r){return mD[r]}).replace(OHe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function q$(e){return Sr(e).replace(/ /g,"_x0020_")}var tZ=/[\u0000-\u001f]/g;function DHe(e){var t=e+"";return t.replace(pD,function(r){return mD[r]}).replace(/\n/g,"<br/>").replace(tZ,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function IHe(e){var t=e+"";return t.replace(pD,function(r){return mD[r]}).replace(tZ,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function RHe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function MHe(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function WS(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function K$(e){var t=kf(2*e.length),r,n,a=1,i=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function X$(e){return Kc(e,"binary").toString("utf8")}var u1="foo bar baz",pg=mr&&(X$(u1)==WS(u1)&&X$||K$(u1)==WS(u1)&&K$)||WS,Kv=mr?function(e){return Kc(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},FHe=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),rZ=/(^\s|\s$|\n)/;function Ns(e,t){return"<"+e+(t.match(rZ)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Xv(e){return Os(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Xe(e,t,r){return"<"+e+(r!=null?Xv(r):"")+(t!=null?(t.match(rZ)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function HP(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function LHe(e,t){switch(typeof e){case"string":var r=Xe("vt:lpwstr",Sr(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Xe((e|0)==e?"vt:i4":"vt:r8",Sr(String(e)));case"boolean":return Xe("vt:bool",e?"true":"false")}if(e instanceof Date)return Xe("vt:filetime",HP(e));throw new Error("Unable to serialize "+e)}var as={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Hp=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ai={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function $He(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function BHe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var Y$=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},Q$=mr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Kc(t)})):Y$(e)}:Y$,Z$=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Vx(e,a)));return n.join("").replace(mg,"")},xD=mr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(mg,""):Z$(e,t,r)}:Z$,J$=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},nZ=mr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):J$(e,t,r)}:J$,e6=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(gh(e,a)));return n.join("")},ty=mr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):e6(t,r,n)}:e6,sZ=function(e,t){var r=ii(e,t);return r>0?ty(e,t+4,t+4+r-1):""},aZ=sZ,iZ=function(e,t){var r=ii(e,t);return r>0?ty(e,t+4,t+4+r-1):""},oZ=iZ,lZ=function(e,t){var r=2*ii(e,t);return r>0?ty(e,t+4,t+4+r-1):""},cZ=lZ,dZ=function(t,r){var n=ii(t,r);return n>0?xD(t,r+4,r+4+n):""},uZ=dZ,fZ=function(e,t){var r=ii(e,t);return r>0?ty(e,t+4,t+4+r):""},hZ=fZ,mZ=function(e,t){return $He(e,t)},xj=mZ,gD=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};mr&&(aZ=function(t,r){if(!Buffer.isBuffer(t))return sZ(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},oZ=function(t,r){if(!Buffer.isBuffer(t))return iZ(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},cZ=function(t,r){if(!Buffer.isBuffer(t))return lZ(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},uZ=function(t,r){if(!Buffer.isBuffer(t))return dZ(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},hZ=function(t,r){if(!Buffer.isBuffer(t))return fZ(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},xj=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):mZ(t,r)},gD=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var gh=function(e,t){return e[t]},Vx=function(e,t){return e[t+1]*256+e[t]},UHe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ii=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Du=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},VHe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function xg(e,t){var r="",n,a,i=[],o,l,c,d;switch(t){case"dbcs":if(d=this.l,mr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Vx(this,d)),d+=2;e*=2;break;case"utf8":r=ty(this,this.l,this.l+e);break;case"utf16le":e*=2,r=xD(this,this.l,this.l+e);break;case"wstr":return xg.call(this,e,"dbcs");case"lpstr-ansi":r=aZ(this,this.l),e=4+ii(this,this.l);break;case"lpstr-cp":r=oZ(this,this.l),e=4+ii(this,this.l);break;case"lpwstr":r=cZ(this,this.l),e=4+2*ii(this,this.l);break;case"lpp4":e=4+ii(this,this.l),r=uZ(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ii(this,this.l),r=hZ(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=gh(this,this.l+e++))!==0;)i.push(l1(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=Vx(this,this.l+e))!==0;)i.push(l1(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=gh(this,d),this.l=d+1,l=xg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(l1(Vx(this,d))),d+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=gh(this,d),this.l=d+1,l=xg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(l1(gh(this,d))),d+=1}r=i.join("");break;default:switch(e){case 1:return n=gh(this,this.l),this.l++,n;case 2:return n=(t==="i"?UHe:Vx)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Du:VHe)(this,this.l),this.l+=4,n):(a=ii(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=xj(this,this.l):a=xj([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=nZ(this,this.l,e);break}}return this.l+=e,r}var zHe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},WHe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},HHe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function GHe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)HHe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,zHe(this,t,this.l);break;case 8:if(n=8,r==="f"){BHe(this,t,this.l);break}case 16:break;case-4:n=4,WHe(this,t,this.l);break}return this.l+=n,this}function pZ(e,t){var r=nZ(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ni(e,t){e.l=t,e.read_shift=xg,e.chk=pZ,e.write_shift=GHe}function $l(e,t){e.l+=t}function De(e){var t=kf(e);return ni(t,0),t}function Fa(){var e=[],t=mr?256:2048,r=function(d){var u=De(d);return ni(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(d){return n&&d<n.length-n.l?n:(a(),n=r(Math.max(d+1,t)))},o=function(){return a(),js(e)},l=function(d){a(),n=d,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function Le(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=$Qe[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&gD(r)&&e.push(r)}}function gg(e,t,r){var n=za(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function t6(e,t,r){var n=za(e);return n.s=gg(n.s,t.s,r),n.e=gg(n.e,t.s,r),n}function vg(e,t){if(e.cRel&&e.c<0)for(e=za(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=za(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Er(e);return!e.cRel&&e.cRel!=null&&(r=XHe(r)),!e.rRel&&e.rRel!=null&&(r=qHe(r)),r}function HS(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Gs(e.s.c)+":"+(e.e.cRel?"":"$")+Gs(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ps(e.s.r)+":"+(e.e.rRel?"":"$")+Ps(e.e.r):vg(e.s,t.biff)+":"+vg(e.e,t.biff)}function vD(e){return parseInt(KHe(e),10)-1}function Ps(e){return""+(e+1)}function qHe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function KHe(e){return e.replace(/\$(\d+)$/,"$1")}function yD(e){for(var t=YHe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Gs(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function XHe(e){return e.replace(/^([A-Z])/,"$$$1")}function YHe(e){return e.replace(/^\$([A-Z])/,"$1")}function QHe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function is(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Er(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function yi(e){var t=e.indexOf(":");return t==-1?{s:is(e),e:is(e)}:{s:is(e.slice(0,t)),e:is(e.slice(t+1))}}function Ln(e,t){return typeof t>"u"||typeof t=="number"?Ln(e.s,e.e):(typeof e!="string"&&(e=Er(e)),typeof t!="string"&&(t=Er(t)),e==t?e:e+":"+t)}function Qr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function r6(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=eu(e.z,r?Va(t):t)}catch{}try{return e.w=eu((e.XF||{}).numFmtId||(r?14:0),r?Va(t):t)}catch{return""+t}}function Bc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?ry[e.v]||e.v:t==null?r6(e,e.v):r6(e,t))}function qf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function xZ(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?is(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=Qr(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),o==-1&&(d.e.r=o=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},x=o+f,p=l+h;if(d.s.r>x&&(d.s.r=x),d.s.c>p&&(d.s.c=p),d.e.r<x&&(d.e.r=x),d.e.c<p&&(d.e.c=p),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||vn[14],n.cellDates?(m.t="d",m.w=eu(m.z,Va(m.v))):(m.t="n",m.v=Va(m.v),m.w=eu(m.z,m.v))):m.t="s";if(a)i[x]||(i[x]=[]),i[x][p]&&i[x][p].z&&(m.z=i[x][p].z),i[x][p]=m;else{var g=Er({c:p,r:x});i[g]&&i[g].z&&(m.z=i[g].z),i[g]=m}}}return d.s.c<1e7&&(i["!ref"]=Ln(d)),i}function Gp(e,t){return xZ(null,e,t)}function ZHe(e){return e.read_shift(4,"i")}function Fo(e,t){return t||(t=De(4)),t.write_shift(4,e),t}function qs(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function os(e,t){var r=!1;return t==null&&(r=!0,t=De(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function JHe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function eGe(e,t){return t||(t=De(4)),t.write_shift(2,0),t.write_shift(2,0),t}function bD(e,t){var r=e.l,n=e.read_shift(1),a=qs(e),i=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(JHe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function tGe(e,t){var r=!1;return t==null&&(r=!0,t=De(15+4*e.t.length)),t.write_shift(1,0),os(e.t,t),r?t.slice(0,t.l):t}var rGe=bD;function nGe(e,t){var r=!1;return t==null&&(r=!0,t=De(23+4*e.t.length)),t.write_shift(1,1),os(e.t,t),t.write_shift(4,1),eGe({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function uo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Kf(e,t){return t==null&&(t=De(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Xf(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Yf(e,t){return t==null&&(t=De(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var sGe=qs,gZ=os;function wD(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function gj(e,t){var r=!1;return t==null&&(r=!0,t=De(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var aGe=qs,GP=wD,jD=gj;function vZ(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?xj([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Du(t,0)>>2;return r?a/100:a}function yZ(e,t){t==null&&(t=De(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function bZ(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function iGe(e,t){return t||(t=De(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Qf=bZ,qp=iGe;function Kp(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Of(e,t){return(t||De(8)).write_shift(8,e,"f")}function oGe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var d=xGe[a];d&&(t.rgb=h6(d));break;case 2:t.rgb=h6([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function vj(e,t){if(t||(t=De(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function lGe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function cGe(e,t){t||(t=De(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var wZ=2,ei=3,f1=11,yj=19,h1=64,dGe=65,uGe=71,fGe=4108,hGe=4126,ws=80,n6={1:{n:"CodePage",t:wZ},2:{n:"Category",t:ws},3:{n:"PresentationFormat",t:ws},4:{n:"ByteCount",t:ei},5:{n:"LineCount",t:ei},6:{n:"ParagraphCount",t:ei},7:{n:"SlideCount",t:ei},8:{n:"NoteCount",t:ei},9:{n:"HiddenCount",t:ei},10:{n:"MultimediaClipCount",t:ei},11:{n:"ScaleCrop",t:f1},12:{n:"HeadingPairs",t:fGe},13:{n:"TitlesOfParts",t:hGe},14:{n:"Manager",t:ws},15:{n:"Company",t:ws},16:{n:"LinksUpToDate",t:f1},17:{n:"CharacterCount",t:ei},19:{n:"SharedDoc",t:f1},22:{n:"HyperlinksChanged",t:f1},23:{n:"AppVersion",t:ei,p:"version"},24:{n:"DigSig",t:dGe},26:{n:"ContentType",t:ws},27:{n:"ContentStatus",t:ws},28:{n:"Language",t:ws},29:{n:"Version",t:ws},255:{},2147483648:{n:"Locale",t:yj},2147483651:{n:"Behavior",t:yj},1919054434:{}},s6={1:{n:"CodePage",t:wZ},2:{n:"Title",t:ws},3:{n:"Subject",t:ws},4:{n:"Author",t:ws},5:{n:"Keywords",t:ws},6:{n:"Comments",t:ws},7:{n:"Template",t:ws},8:{n:"LastAuthor",t:ws},9:{n:"RevNumber",t:ws},10:{n:"EditTime",t:h1},11:{n:"LastPrinted",t:h1},12:{n:"CreatedDate",t:h1},13:{n:"ModifiedDate",t:h1},14:{n:"PageCount",t:ei},15:{n:"WordCount",t:ei},16:{n:"CharCount",t:ei},17:{n:"Thumbnail",t:uGe},18:{n:"Application",t:ws},19:{n:"DocSecurity",t:ei},255:{},2147483648:{n:"Locale",t:yj},2147483651:{n:"Behavior",t:yj},1919054434:{}};function mGe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var pGe=mGe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),xGe=za(pGe),ry={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},gGe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},m1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function jZ(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function NZ(e,t){var r=EHe(gGe),n=[],a;n[n.length]=$n,n[n.length]=Xe("Types",null,{xmlns:as.CT,"xmlns:xsd":as.xsd,"xmlns:xsi":as.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Xe("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=Xe("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:m1[c][t.bookType]||m1[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(d){n[n.length]=Xe("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:m1[c][t.bookType]||m1[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(d){n[n.length]=Xe("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var ur={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function _Z(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Jh(e){var t=[$n,Xe("Relationships",null,{xmlns:as.RELS})];return Os(e["!id"]).forEach(function(r){t[t.length]=Xe("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function _r(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[ur.HLINK,ur.XPATH,ur.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function vGe(e){var t=[$n];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function a6(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function yGe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function bGe(e){var t=[$n];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(a6(e[r][0],e[r][1])),t.push(yGe("",e[r][0]));return t.push(a6("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function SZ(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+uj.version+"</meta:generator></office:meta></office:document-meta>"}var af=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function GS(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Sr(t),n[n.length]=r?Xe(e,t,r):Ns(e,t))}function CZ(e,t){var r=t||{},n=[$n,Xe("cp:coreProperties",null,{"xmlns:cp":as.CORE_PROPS,"xmlns:dc":as.dc,"xmlns:dcterms":as.dcterms,"xmlns:dcmitype":as.dcmitype,"xmlns:xsi":as.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&GS("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:HP(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&GS("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:HP(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=af.length;++i){var o=af[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&GS(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var em=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],EZ=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function AZ(e){var t=[],r=Xe;return e||(e={}),e.Application="SheetJS",t[t.length]=$n,t[t.length]=Xe("Properties",null,{xmlns:as.EXT_PROPS,"xmlns:vt":as.vt}),em.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Sr(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Sr(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function PZ(e){var t=[$n,Xe("Properties",null,{xmlns:as.CUST_PROPS,"xmlns:vt":as.vt})];if(!e)return t.join("");var r=1;return Os(e).forEach(function(a){++r,t[t.length]=Xe("property",LHe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Sr(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var i6={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function wGe(e,t){var r=[];return Os(i6).map(function(n){for(var a=0;a<af.length;++a)if(af[a][1]==n)return af[a];for(a=0;a<em.length;++a)if(em[a][1]==n)return em[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Ns(i6[n[1]]||n[1],a))}}),Xe("DocumentProperties",r.join(""),{xmlns:ai.o})}function jGe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Os(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<af.length;++o)if(i==af[o][1])return;for(o=0;o<em.length;++o)if(i==em[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(Xe(q$(i),l,{"dt:dt":c}))}}),t&&Os(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(Xe(q$(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+ai.o+'">'+a.join("")+"</"+n+">"}function NGe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=De(8);return o.write_shift(4,n),o.write_shift(4,a),o}function o6(e,t){var r=De(4),n=De(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=De(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=NGe(t);break;case 31:case 80:for(n=De(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return js([r,n])}var TZ=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function _Ge(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function l6(e,t,r){var n=De(8),a=[],i=[],o=8,l=0,c=De(8),d=De(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),a.push(d),o+=8+c.length,!t){d=De(8),d.write_shift(4,0),a.unshift(d);var u=[De(4)];for(u[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=De(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=js(u),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(TZ.indexOf(e[l][0])>-1||EZ.indexOf(e[l][0])>-1)&&e[l][1]!=null){var h=e[l][1],m=0;if(t){m=+t[e[l][0]];var x=r[m];if(x.p=="version"&&typeof h=="string"){var p=h.split(".");h=(+p[0]<<16)+(+p[1]||0)}c=o6(x.t,h)}else{var g=_Ge(h);g==-1&&(g=31,h=String(h)),c=o6(g,h)}i.push(c),d=De(8),d.write_shift(4,t?m:2+l),a.push(d),o+=8+c.length}var b=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,b),b+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),js([n].concat(a).concat(i))}function c6(e,t,r,n,a,i){var o=De(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Or.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=l6(e,r,n);if(l.push(c),a){var d=l6(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(d)}return js(l)}function SGe(e,t){t||(t=De(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function CGe(e,t){return e.read_shift(t)===1}function ia(e,t){return t||(t=De(2)),t.write_shift(2,+!!e),t}function kZ(e){return e.read_shift(2,"u")}function Mi(e,t){return t||(t=De(2)),t.write_shift(2,e),t}function OZ(e,t,r){return r||(r=De(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function DZ(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function EGe(e){var t=e.t||"",r=De(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=De(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return js(a)}function AGe(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function PGe(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):AGe(e,n,r)}function TGe(e,t,r){if(r.biff>5)return PGe(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function IZ(e,t,r){return r||(r=De(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function d6(e,t){t||(t=De(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function kGe(e){var t=De(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),d6(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&d6(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Df(e,t,r,n){return n||(n=De(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function OGe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function DGe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function RZ(e,t){return t||(t=De(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function ND(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=De(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function IGe(e,t){var r=!t||t.biff==8,n=De(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function RGe(e,t){var r=!t||t.biff>=8?2:1,n=De(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function MGe(e,t){var r=De(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=EGe(e[a]);var i=js([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function FGe(){var e=De(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function LGe(e){var t=De(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function $Ge(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=De(a);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function BGe(e,t,r,n){var a=De(10);return Df(e,t,n,a),a.write_shift(4,r),a}function UGe(e,t,r,n,a){var i=!a||a.biff==8,o=De(8+ +i+(1+i)*r.length);return Df(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function VGe(e,t,r,n){var a=r&&r.biff==5;n||(n=De(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function zGe(e,t){var r=t.biff==8||!t.biff?4:2,n=De(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function u6(e,t,r,n){var a=r&&r.biff==5;n||(n=De(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function WGe(e){var t=De(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function HGe(e,t,r,n,a,i){var o=De(8);return Df(e,t,n,o),OZ(r,i,o),o}function GGe(e,t,r,n){var a=De(14);return Df(e,t,n,a),Of(r,a),a}function qGe(e,t,r){if(r.biff<8)return KGe(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(OGe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function KGe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=DZ(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function XGe(e){var t=De(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)RZ(e[r],t);return t}function YGe(e){var t=De(24),r=is(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return js([t,kGe(e[1])])}function QGe(e){var t=e[1].Tooltip,r=De(10+2*(t.length+1));r.write_shift(2,2048);var n=is(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function ZGe(e){return e||(e=De(4)),e.write_shift(2,1),e.write_shift(2,1),e}function JGe(e,t,r){if(!r.cellStyles)return $l(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var d={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function eqe(e,t){var r=De(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function tqe(e){for(var t=De(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function rqe(e,t,r){var n=De(15);return sy(n,e,t),n.write_shift(8,r,"f"),n}function nqe(e,t,r){var n=De(9);return sy(n,e,t),n.write_shift(2,r),n}var sqe=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=fD({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var d=[],u=kf(1);switch(c.type){case"base64":u=Eo($c(l));break;case"binary":u=Eo(l);break;case"buffer":case"array":u=l;break}ni(u,0);var f=u.read_shift(1),h=!!(f&136),m=!1,x=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,g=521;f==2&&(p=u.read_shift(2)),u.l+=3,f!=2&&(p=u.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(g=u.read_shift(2));var b=u.read_shift(2),y=c.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(y=e[u[u.l]]),u.l+=1,u.l+=2),x&&(u.l+=36);for(var j=[],w={},N=Math.min(u.length,f==2?521:g-10-(m?264:0)),_=x?32:11;u.l<N&&u[u.l]!=13;)switch(w={},w.name=Ou.utils.decode(y,u.slice(u.l,u.l+_)).replace(/[\u0000\r\n].*$/g,""),u.l+=_,w.type=String.fromCharCode(u.read_shift(1)),f!=2&&!x&&(w.offset=u.read_shift(4)),w.len=u.read_shift(1),f==2&&(w.offset=u.read_shift(2)),w.dec=u.read_shift(1),w.name.length&&j.push(w),f!=2&&(u.l+=x?13:14),w.type){case"B":(!m||w.len!=8)&&c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+w.type)}if(u[u.l]!==13&&(u.l=g-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=g;var C=0,S=0;for(d[0]=[],S=0;S!=j.length;++S)d[0][S]=j[S].name;for(;p-- >0;){if(u[u.l]===42){u.l+=b;continue}for(++u.l,d[++C]=[],S=0,S=0;S!=j.length;++S){var E=u.slice(u.l,u.l+j[S].len);u.l+=j[S].len,ni(E,0);var P=Ou.utils.decode(y,E);switch(j[S].type){case"C":P.trim().length&&(d[C][S]=P.replace(/\s+$/,""));break;case"D":P.length===8?d[C][S]=new Date(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8)):d[C][S]=P;break;case"F":d[C][S]=parseFloat(P.trim());break;case"+":case"I":d[C][S]=x?E.read_shift(-4,"i")^2147483648:E.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":d[C][S]=!0;break;case"N":case"F":d[C][S]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));d[C][S]="##MEMO##"+(x?parseInt(P.trim(),10):E.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(d[C][S]=+P||0);break;case"@":d[C][S]=new Date(E.read_shift(-8,"f")-621356832e5);break;case"T":d[C][S]=new Date((E.read_shift(4)-2440588)*864e5+E.read_shift(4));break;case"Y":d[C][S]=E.read_shift(4,"i")/1e4+E.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[C][S]=-E.read_shift(-8,"f");break;case"B":if(m&&j[S].len==8){d[C][S]=E.read_shift(8,"f");break}case"G":case"P":E.l+=j[S].len;break;case"0":if(j[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[S].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=j,d}function n(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=Gp(r(l,d),d);return u["!cols"]=d.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete d.DBF,u}function a(l,c){try{return qf(n(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&Hv(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=Fa(),f=_j(l,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),x=l["!cols"]||[],p=0,g=0,b=0,y=1;for(p=0;p<h.length;++p){if(((x[p]||{}).DBF||{}).name){h[p]=x[p].DBF.name,++b;continue}if(h[p]!=null){if(++b,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(g=0;g<1024;++g)if(h.indexOf(h[p]+"_"+g)==-1){h[p]+="_"+g;break}}}}var j=Qr(l["!ref"]),w=[],N=[],_=[];for(p=0;p<=j.e.c-j.s.c;++p){var C="",S="",E=0,P=[];for(g=0;g<m.length;++g)m[g][p]!=null&&P.push(m[g][p]);if(P.length==0||h[p]==null){w[p]="?";continue}for(g=0;g<P.length;++g){switch(typeof P[g]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=P[g]instanceof Date?"D":"C";break;default:S="C"}E=Math.max(E,String(P[g]).length),C=C&&C!=S?"C":S}E>250&&(E=250),S=((x[p]||{}).DBF||{}).type,S=="C"&&x[p].DBF.len>E&&(E=x[p].DBF.len),C=="B"&&S=="N"&&(C="N",_[p]=x[p].DBF.dec,E=x[p].DBF.len),N[p]=C=="C"||S=="N"?E:i[C]||0,y+=N[p],w[p]=C}var I=u.next(32);for(I.write_shift(4,318902576),I.write_shift(4,m.length),I.write_shift(2,296+32*b),I.write_shift(2,y),p=0;p<4;++p)I.write_shift(4,0);for(I.write_shift(4,0|(+t[FQ]||3)<<8),p=0,g=0;p<h.length;++p)if(h[p]!=null){var D=u.next(32),U=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);D.write_shift(1,U,"sbcs"),D.write_shift(1,w[p]=="?"?"C":w[p],"sbcs"),D.write_shift(4,g),D.write_shift(1,N[p]||i[w[p]]||0),D.write_shift(1,_[p]||0),D.write_shift(1,2),D.write_shift(4,0),D.write_shift(1,0),D.write_shift(4,0),D.write_shift(4,0),g+=N[p]||i[w[p]]||0}var F=u.next(264);for(F.write_shift(4,13),p=0;p<65;++p)F.write_shift(4,0);for(p=0;p<m.length;++p){var M=u.next(y);for(M.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(w[g]){case"L":M.write_shift(1,m[p][g]==null?63:m[p][g]?84:70);break;case"B":M.write_shift(8,m[p][g]||0,"f");break;case"N":var O="0";for(typeof m[p][g]=="number"&&(O=m[p][g].toFixed(_[g]||0)),b=0;b<N[g]-O.length;++b)M.write_shift(1,32);M.write_shift(1,O,"sbcs");break;case"D":m[p][g]?(M.write_shift(4,("0000"+m[p][g].getFullYear()).slice(-4),"sbcs"),M.write_shift(2,("00"+(m[p][g].getMonth()+1)).slice(-2),"sbcs"),M.write_shift(2,("00"+m[p][g].getDate()).slice(-2),"sbcs")):M.write_shift(8,"00000000","sbcs");break;case"C":var A=String(m[p][g]!=null?m[p][g]:"").slice(0,N[g]);for(M.write_shift(1,A,"sbcs"),b=0;b<N[g]-A.length;++b)M.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),aqe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Os(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var x=e[m];return typeof x=="number"?R$(x):x},n=function(h,m,x){var p=m.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return p==59?h:R$(p)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return i($c(h),m);case"binary":return i(h,m);case"buffer":return i(mr&&Buffer.isBuffer(h)?h.toString("binary"):J0(h),m);case"array":return i(L_(h),m)}throw new Error("Unrecognized type "+m.type)}function i(h,m){var x=h.split(/[\n\r]+/),p=-1,g=-1,b=0,y=0,j=[],w=[],N=null,_={},C=[],S=[],E=[],P=0,I;for(+m.codepage>=0&&Hv(+m.codepage);b!==x.length;++b){P=0;var D=x[b].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),U=D.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),F=U[0],M;if(D.length>0)switch(F){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&w.push(D.slice(3).replace(/;;/g,";"));break;case"C":var O=!1,A=!1,k=!1,W=!1,fe=-1,de=-1;for(y=1;y<U.length;++y)switch(U[y].charAt(0)){case"A":break;case"X":g=parseInt(U[y].slice(1))-1,A=!0;break;case"Y":for(p=parseInt(U[y].slice(1))-1,A||(g=0),I=j.length;I<=p;++I)j[I]=[];break;case"K":M=U[y].slice(1),M.charAt(0)==='"'?M=M.slice(1,M.length-1):M==="TRUE"?M=!0:M==="FALSE"?M=!1:isNaN(wc(M))?isNaN(qv(M).getDate())||(M=pa(M)):(M=wc(M),N!==null&&XQ(N)&&(M=JQ(M))),O=!0;break;case"E":W=!0;var T=nKe(U[y].slice(1),{r:p,c:g});j[p][g]=[j[p][g],T];break;case"S":k=!0,j[p][g]=[j[p][g],"S5S"];break;case"G":break;case"R":fe=parseInt(U[y].slice(1))-1;break;case"C":de=parseInt(U[y].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+D)}if(O&&(j[p][g]&&j[p][g].length==2?j[p][g][0]=M:j[p][g]=M,N=null),k){if(W)throw new Error("SYLK shared formula cannot have own formula");var L=fe>-1&&j[fe][de];if(!L||!L[1])throw new Error("SYLK shared formula cannot find base");j[p][g][1]=sKe(L[1],{r:p-fe,c:g-de})}break;case"F":var R=0;for(y=1;y<U.length;++y)switch(U[y].charAt(0)){case"X":g=parseInt(U[y].slice(1))-1,++R;break;case"Y":for(p=parseInt(U[y].slice(1))-1,I=j.length;I<=p;++I)j[I]=[];break;case"M":P=parseInt(U[y].slice(1))/20;break;case"F":break;case"G":break;case"P":N=w[parseInt(U[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(E=U[y].slice(1).split(" "),I=parseInt(E[0],10);I<=parseInt(E[1],10);++I)P=parseInt(E[2],10),S[I-1]=P===0?{hidden:!0}:{wch:P},_D(S[I-1]);break;case"C":g=parseInt(U[y].slice(1))-1,S[g]||(S[g]={});break;case"R":p=parseInt(U[y].slice(1))-1,C[p]||(C[p]={}),P>0?(C[p].hpt=P,C[p].hpx=BZ(P)):P===0&&(C[p].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+D)}R<1&&(N=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+D)}}return C.length>0&&(_["!rows"]=C),S.length>0&&(_["!cols"]=S),m&&m.sheetRows&&(j=j.slice(0,m.sheetRows)),[j,_]}function o(h,m){var x=a(h,m),p=x[0],g=x[1],b=Gp(p,m);return Os(g).forEach(function(y){b[y]=g[y]}),b}function l(h,m){return qf(o(h,m),m)}function c(h,m,x,p){var g="C;Y"+(x+1)+";X"+(p+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+CD(h.f,{r:x,c:p}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function d(h,m){m.forEach(function(x,p){var g="F;W"+(p+1)+" "+(p+1)+" ";x.hidden?g+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=bj(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=wj(x.wpx)),typeof x.wch=="number"&&(g+=Math.round(x.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function u(h,m){m.forEach(function(x,p){var g="F;";x.hidden?g+="M0;":x.hpt?g+="M"+20*x.hpt+";":x.hpx&&(g+="M"+20*jj(x.hpx)+";"),g.length>2&&h.push(g+"R"+(p+1))})}function f(h,m){var x=["ID;PWXL;N;E"],p=[],g=Qr(h["!ref"]),b,y=Array.isArray(h),j=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),h["!cols"]&&d(x,h["!cols"]),h["!rows"]&&u(x,h["!rows"]),x.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var w=g.s.r;w<=g.e.r;++w)for(var N=g.s.c;N<=g.e.c;++N){var _=Er({r:w,c:N});b=y?(h[w]||[])[N]:h[_],!(!b||b.v==null&&(!b.f||b.F))&&p.push(c(b,h,w,N))}return x.join(j)+j+p.join(j)+j+"E"+j}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),iqe=function(){function e(i,o){switch(o.type){case"base64":return t($c(i),o);case"binary":return t(i,o);case"buffer":return t(mr&&Buffer.isBuffer(i)?i.toString("binary"):J0(i),o);case"array":return t(L_(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,d=-1,u=0,f=[];u!==l.length;++u){if(l[u].trim()==="BOT"){f[++c]=[],d=0;continue}if(!(c<0)){var h=l[u].trim().split(","),m=h[0],x=h[1];++u;for(var p=l[u]||"";(p.match(/["]/g)||[]).length&1&&u<l.length-1;)p+=`
`+l[++u];switch(p=p.trim(),+m){case-1:if(p==="BOT"){f[++c]=[],d=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][d]=!0:p==="FALSE"?f[c][d]=!1:isNaN(wc(x))?isNaN(qv(x).getDate())?f[c][d]=x:f[c][d]=pa(x):f[c][d]=wc(x),++d;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][d++]=p!==""?p:null;break}if(p==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return Gp(e(i,o),o)}function n(i,o){return qf(r(i,o),o)}var a=function(){var i=function(c,d,u,f,h){c.push(d),c.push(u+","+f),c.push('"'+h.replace(/"/g,'""')+'"')},o=function(c,d,u,f){c.push(d+","+u),c.push(d==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var d=[],u=Qr(c["!ref"]),f,h=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var m=u.s.r;m<=u.e.r;++m){o(d,-1,0,"BOT");for(var x=u.s.c;x<=u.e.c;++x){var p=Er({r:m,c:x});if(f=h?(c[m]||[])[x]:c[p],!f){o(d,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?o(d,1,0,"="+f.f):o(d,1,0,""):o(d,0,g,"V");break;case"b":o(d,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=eu(f.z||vn[14],Va(pa(f.v)))),o(d,0,f.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var b=`\r
`,y=d.join(b);return y}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),MZ=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),x=-1,p=-1,g=0,b=[];g!==m.length;++g){var y=m[g].trim().split(":");if(y[0]==="cell"){var j=is(y[1]);if(b.length<=j.r)for(x=b.length;x<=j.r;++x)b[x]||(b[x]=[]);switch(x=j.r,p=j.c,y[2]){case"t":b[x][p]=e(y[3]);break;case"v":b[x][p]=+y[3];break;case"vtf":var w=y[y.length-1];case"vtc":switch(y[3]){case"nl":b[x][p]=!!+y[4];break;default:b[x][p]=+y[4];break}y[2]=="vtf"&&(b[x][p]=[b[x][p],w])}}}return h&&h.sheetRows&&(b=b.slice(0,h.sheetRows)),b}function n(f,h){return Gp(r(f,h),h)}function a(f,h){return qf(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],x,p="",g=yi(f["!ref"]),b=Array.isArray(f),y=g.s.r;y<=g.e.r;++y)for(var j=g.s.c;j<=g.e.c;++j)if(p=Er({r:y,c:j}),x=b?(f[y]||[])[j]:f[p],!(!x||x.v==null||x.t==="z")){switch(m=["cell",p,"t"],x.t){case"s":case"str":m.push(t(x.v));break;case"n":x.f?(m[2]="vtf",m[3]="n",m[4]=x.v,m[5]=t(x.f)):(m[2]="v",m[3]=x.v);break;case"b":m[2]="vt"+(x.f?"f":"c"),m[3]="nl",m[4]=x.v?"1":"0",m[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var w=Va(pa(x.v));m[2]="vtc",m[3]="nd",m[4]=""+w,m[5]=x.w||eu(x.z||vn[14],w);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[i,o,l,o,d(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),oqe=function(){function e(u,f,h,m,x){x.raw?f[h][m]=u:u===""||(u==="TRUE"?f[h][m]=!0:u==="FALSE"?f[h][m]=!1:isNaN(wc(u))?isNaN(qv(u).getDate())?f[h][m]=u:f[h][m]=pa(u):f[h][m]=wc(u))}function t(u,f){var h=f||{},m=[];if(!u||u.length===0)return m;for(var x=u.split(/[\r\n]/),p=x.length-1;p>=0&&x[p].length===0;)--p;for(var g=10,b=0,y=0;y<=p;++y)b=x[y].indexOf(" "),b==-1?b=x[y].length:b++,g=Math.max(g,b);for(y=0;y<=p;++y){m[y]=[];var j=0;for(e(x[y].slice(0,g).trim(),m,y,j,h),j=1;j<=(x[y].length-g)/10+1;++j)e(x[y].slice(g+(j-1)*10,g+j*10).trim(),m,y,j,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,m=0,x=0;m<u.length;++m)(x=u.charCodeAt(m))==34?h=!h:!h&&x in r&&(f[x]=(f[x]||0)+1);x=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&x.push([f[m],m]);if(!x.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&x.push([f[m],m])}return x.sort(function(p,g){return p[0]-g[0]||n[p[1]]-n[g[1]]}),r[x.pop()[1]]||44}function i(u,f){var h=f||{},m="",x=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(m=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(m=u.charAt(4),u=u.slice(6)):m=a(u.slice(0,1024)):h&&h.FS?m=h.FS:m=a(u.slice(0,1024));var g=0,b=0,y=0,j=0,w=0,N=m.charCodeAt(0),_=!1,C=0,S=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var E=h.dateNF!=null?NHe(h.dateNF):null;function P(){var I=u.slice(j,w),D={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)D.t="z";else if(h.raw)D.t="s",D.v=I;else if(I.trim().length===0)D.t="s",D.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(D.t="s",D.v=I.slice(2,-1).replace(/""/g,'"')):aKe(I)?(D.t="n",D.f=I.slice(1)):(D.t="s",D.v=I);else if(I=="TRUE")D.t="b",D.v=!0;else if(I=="FALSE")D.t="b",D.v=!1;else if(!isNaN(y=wc(I)))D.t="n",h.cellText!==!1&&(D.w=I),D.v=y;else if(!isNaN(qv(I).getDate())||E&&I.match(E)){D.z=h.dateNF||vn[14];var U=0;E&&I.match(E)&&(I=_He(I,h.dateNF,I.match(E)||[]),U=1),h.cellDates?(D.t="d",D.v=pa(I,U)):(D.t="n",D.v=Va(pa(I,U))),h.cellText!==!1&&(D.w=eu(D.z,D.v instanceof Date?Va(D.v):D.v)),h.cellNF||delete D.z}else D.t="s",D.v=I;if(D.t=="z"||(h.dense?(x[g]||(x[g]=[]),x[g][b]=D):x[Er({c:b,r:g})]=D),j=w+1,S=u.charCodeAt(j),p.e.c<b&&(p.e.c=b),p.e.r<g&&(p.e.r=g),C==N)++b;else if(b=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;w<u.length;++w)switch(C=u.charCodeAt(w)){case 34:S===34&&(_=!_);break;case N:case 10:case 13:if(!_&&P())break e;break}return w-j>0&&P(),x["!ref"]=Ln(p),x}function o(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):Gp(t(u,f),f)}function l(u,f){var h="",m=f.type=="string"?[0,0,0,0]:yZe(u,f);switch(f.type){case"base64":h=$c(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Ou<"u"?h=Ou.utils.decode(f.codepage,u):h=mr&&Buffer.isBuffer(u)?u.toString("binary"):J0(u);break;case"array":h=L_(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=pg(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=pg(h):f.type=="binary"&&typeof Ou<"u"&&f.codepage&&(h=Ou.utils.decode(f.codepage,Ou.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?MZ.to_sheet(f.type=="string"?h:pg(h),f):o(h,f)}function c(u,f){return qf(l(u,f),f)}function d(u){for(var f=[],h=Qr(u["!ref"]),m,x=Array.isArray(u),p=h.s.r;p<=h.e.r;++p){for(var g=[],b=h.s.c;b<=h.e.c;++b){var y=Er({r:p,c:b});if(m=x?(u[p]||[])[b]:u[y],!m||m.v==null){g.push("          ");continue}for(var j=(m.w||(Bc(m),m.w)||"").slice(0,10);j.length<10;)j+=" ";g.push(j+(b===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}}(),f6=function(){function e(T,L,R){if(T){ni(T,T.l||0);for(var K=R.Enum||fe;T.l<T.length;){var q=T.read_shift(2),Z=K[q]||K[65535],X=T.read_shift(2),ee=T.l+X,ie=Z.f&&Z.f(T,X,R);if(T.l=ee,L(ie,Z,q))return}}}function t(T,L){switch(L.type){case"base64":return r(Eo($c(T)),L);case"binary":return r(Eo(T),L);case"buffer":case"array":return r(T,L)}throw"Unsupported type "+L.type}function r(T,L){if(!T)return T;var R=L||{},K=R.dense?[]:{},q="Sheet1",Z="",X=0,ee={},ie=[],be=[],he={s:{r:0,c:0},e:{r:0,c:0}},Ge=R.sheetRows||0;if(T[2]==0&&(T[3]==8||T[3]==9)&&T.length>=16&&T[14]==5&&T[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(T[2]==2)R.Enum=fe,e(T,function(Oe,G,ce){switch(ce){case 0:R.vers=Oe,Oe>=4096&&(R.qpro=!0);break;case 6:he=Oe;break;case 204:Oe&&(Z=Oe);break;case 222:Z=Oe;break;case 15:case 51:R.qpro||(Oe[1].v=Oe[1].v.slice(1));case 13:case 14:case 16:ce==14&&(Oe[2]&112)==112&&(Oe[2]&15)>1&&(Oe[2]&15)<15&&(Oe[1].z=R.dateNF||vn[14],R.cellDates&&(Oe[1].t="d",Oe[1].v=JQ(Oe[1].v))),R.qpro&&Oe[3]>X&&(K["!ref"]=Ln(he),ee[q]=K,ie.push(q),K=R.dense?[]:{},he={s:{r:0,c:0},e:{r:0,c:0}},X=Oe[3],q=Z||"Sheet"+(X+1),Z="");var xe=R.dense?(K[Oe[0].r]||[])[Oe[0].c]:K[Er(Oe[0])];if(xe){xe.t=Oe[1].t,xe.v=Oe[1].v,Oe[1].z!=null&&(xe.z=Oe[1].z),Oe[1].f!=null&&(xe.f=Oe[1].f);break}R.dense?(K[Oe[0].r]||(K[Oe[0].r]=[]),K[Oe[0].r][Oe[0].c]=Oe[1]):K[Er(Oe[0])]=Oe[1];break}},R);else if(T[2]==26||T[2]==14)R.Enum=de,T[2]==14&&(R.qpro=!0,T.l=0),e(T,function(Oe,G,ce){switch(ce){case 204:q=Oe;break;case 22:Oe[1].v=Oe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Oe[3]>X&&(K["!ref"]=Ln(he),ee[q]=K,ie.push(q),K=R.dense?[]:{},he={s:{r:0,c:0},e:{r:0,c:0}},X=Oe[3],q="Sheet"+(X+1)),Ge>0&&Oe[0].r>=Ge)break;R.dense?(K[Oe[0].r]||(K[Oe[0].r]=[]),K[Oe[0].r][Oe[0].c]=Oe[1]):K[Er(Oe[0])]=Oe[1],he.e.c<Oe[0].c&&(he.e.c=Oe[0].c),he.e.r<Oe[0].r&&(he.e.r=Oe[0].r);break;case 27:Oe[14e3]&&(be[Oe[14e3][0]]=Oe[14e3][1]);break;case 1537:be[Oe[0]]=Oe[1],Oe[0]==X&&(q=Oe[1]);break}},R);else throw new Error("Unrecognized LOTUS BOF "+T[2]);if(K["!ref"]=Ln(he),ee[Z||q]=K,ie.push(Z||q),!be.length)return{SheetNames:ie,Sheets:ee};for(var ke={},bt=[],rt=0;rt<be.length;++rt)ee[ie[rt]]?(bt.push(be[rt]||ie[rt]),ke[be[rt]]=ee[be[rt]]||ee[ie[rt]]):(bt.push(be[rt]),ke[be[rt]]={"!ref":"A1"});return{SheetNames:bt,Sheets:ke}}function n(T,L){var R=L||{};if(+R.codepage>=0&&Hv(+R.codepage),R.type=="string")throw new Error("Cannot write WK1 to JS string");var K=Fa(),q=Qr(T["!ref"]),Z=Array.isArray(T),X=[];Qe(K,0,i(1030)),Qe(K,6,c(q));for(var ee=Math.min(q.e.r,8191),ie=q.s.r;ie<=ee;++ie)for(var be=Ps(ie),he=q.s.c;he<=q.e.c;++he){ie===q.s.r&&(X[he]=Gs(he));var Ge=X[he]+be,ke=Z?(T[ie]||[])[he]:T[Ge];if(!(!ke||ke.t=="z"))if(ke.t=="n")(ke.v|0)==ke.v&&ke.v>=-32768&&ke.v<=32767?Qe(K,13,m(ie,he,ke.v)):Qe(K,14,p(ie,he,ke.v));else{var bt=Bc(ke);Qe(K,15,f(ie,he,bt.slice(0,239)))}}return Qe(K,1),K.end()}function a(T,L){var R=L||{};if(+R.codepage>=0&&Hv(+R.codepage),R.type=="string")throw new Error("Cannot write WK3 to JS string");var K=Fa();Qe(K,0,o(T));for(var q=0,Z=0;q<T.SheetNames.length;++q)(T.Sheets[T.SheetNames[q]]||{})["!ref"]&&Qe(K,27,W(T.SheetNames[q],Z++));var X=0;for(q=0;q<T.SheetNames.length;++q){var ee=T.Sheets[T.SheetNames[q]];if(!(!ee||!ee["!ref"])){for(var ie=Qr(ee["!ref"]),be=Array.isArray(ee),he=[],Ge=Math.min(ie.e.r,8191),ke=ie.s.r;ke<=Ge;++ke)for(var bt=Ps(ke),rt=ie.s.c;rt<=ie.e.c;++rt){ke===ie.s.r&&(he[rt]=Gs(rt));var Oe=he[rt]+bt,G=be?(ee[ke]||[])[rt]:ee[Oe];if(!(!G||G.t=="z"))if(G.t=="n")Qe(K,23,P(ke,rt,X,G.v));else{var ce=Bc(G);Qe(K,22,C(ke,rt,X,ce.slice(0,239)))}}++X}}return Qe(K,1),K.end()}function i(T){var L=De(2);return L.write_shift(2,T),L}function o(T){var L=De(26);L.write_shift(2,4096),L.write_shift(2,4),L.write_shift(4,0);for(var R=0,K=0,q=0,Z=0;Z<T.SheetNames.length;++Z){var X=T.SheetNames[Z],ee=T.Sheets[X];if(!(!ee||!ee["!ref"])){++q;var ie=yi(ee["!ref"]);R<ie.e.r&&(R=ie.e.r),K<ie.e.c&&(K=ie.e.c)}}return R>8191&&(R=8191),L.write_shift(2,R),L.write_shift(1,q),L.write_shift(1,K),L.write_shift(2,0),L.write_shift(2,0),L.write_shift(1,1),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(4,0),L}function l(T,L,R){var K={s:{c:0,r:0},e:{c:0,r:0}};return L==8&&R.qpro?(K.s.c=T.read_shift(1),T.l++,K.s.r=T.read_shift(2),K.e.c=T.read_shift(1),T.l++,K.e.r=T.read_shift(2),K):(K.s.c=T.read_shift(2),K.s.r=T.read_shift(2),L==12&&R.qpro&&(T.l+=2),K.e.c=T.read_shift(2),K.e.r=T.read_shift(2),L==12&&R.qpro&&(T.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function c(T){var L=De(8);return L.write_shift(2,T.s.c),L.write_shift(2,T.s.r),L.write_shift(2,T.e.c),L.write_shift(2,T.e.r),L}function d(T,L,R){var K=[{c:0,r:0},{t:"n",v:0},0,0];return R.qpro&&R.vers!=20768?(K[0].c=T.read_shift(1),K[3]=T.read_shift(1),K[0].r=T.read_shift(2),T.l+=2):(K[2]=T.read_shift(1),K[0].c=T.read_shift(2),K[0].r=T.read_shift(2)),K}function u(T,L,R){var K=T.l+L,q=d(T,L,R);if(q[1].t="s",R.vers==20768){T.l++;var Z=T.read_shift(1);return q[1].v=T.read_shift(Z,"utf8"),q}return R.qpro&&T.l++,q[1].v=T.read_shift(K-T.l,"cstr"),q}function f(T,L,R){var K=De(7+R.length);K.write_shift(1,255),K.write_shift(2,L),K.write_shift(2,T),K.write_shift(1,39);for(var q=0;q<K.length;++q){var Z=R.charCodeAt(q);K.write_shift(1,Z>=128?95:Z)}return K.write_shift(1,0),K}function h(T,L,R){var K=d(T,L,R);return K[1].v=T.read_shift(2,"i"),K}function m(T,L,R){var K=De(7);return K.write_shift(1,255),K.write_shift(2,L),K.write_shift(2,T),K.write_shift(2,R,"i"),K}function x(T,L,R){var K=d(T,L,R);return K[1].v=T.read_shift(8,"f"),K}function p(T,L,R){var K=De(13);return K.write_shift(1,255),K.write_shift(2,L),K.write_shift(2,T),K.write_shift(8,R,"f"),K}function g(T,L,R){var K=T.l+L,q=d(T,L,R);if(q[1].v=T.read_shift(8,"f"),R.qpro)T.l=K;else{var Z=T.read_shift(2);w(T.slice(T.l,T.l+Z),q),T.l+=Z}return q}function b(T,L,R){var K=L&32768;return L&=-32769,L=(K?T:0)+(L>=8192?L-16384:L),(K?"":"$")+(R?Gs(L):Ps(L))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function w(T,L){ni(T,0);for(var R=[],K=0,q="",Z="",X="",ee="";T.l<T.length;){var ie=T[T.l++];switch(ie){case 0:R.push(T.read_shift(8,"f"));break;case 1:Z=b(L[0].c,T.read_shift(2),!0),q=b(L[0].r,T.read_shift(2),!1),R.push(Z+q);break;case 2:{var be=b(L[0].c,T.read_shift(2),!0),he=b(L[0].r,T.read_shift(2),!1);Z=b(L[0].c,T.read_shift(2),!0),q=b(L[0].r,T.read_shift(2),!1),R.push(be+he+":"+Z+q)}break;case 3:if(T.l<T.length){console.error("WK1 premature formula end");return}break;case 4:R.push("("+R.pop()+")");break;case 5:R.push(T.read_shift(2));break;case 6:{for(var Ge="";ie=T[T.l++];)Ge+=String.fromCharCode(ie);R.push('"'+Ge.replace(/"/g,'""')+'"')}break;case 8:R.push("-"+R.pop());break;case 23:R.push("+"+R.pop());break;case 22:R.push("NOT("+R.pop()+")");break;case 20:case 21:ee=R.pop(),X=R.pop(),R.push(["AND","OR"][ie-20]+"("+X+","+ee+")");break;default:if(ie<32&&j[ie])ee=R.pop(),X=R.pop(),R.push(X+j[ie]+ee);else if(y[ie]){if(K=y[ie][1],K==69&&(K=T[T.l++]),K>R.length){console.error("WK1 bad formula parse 0x"+ie.toString(16)+":|"+R.join("|")+"|");return}var ke=R.slice(-K);R.length-=K,R.push(y[ie][0]+"("+ke.join(",")+")")}else return ie<=7?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=24?console.error("WK1 unsupported op "+ie.toString(16)):ie<=30?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=115?console.error("WK1 unsupported function opcode "+ie.toString(16)):console.error("WK1 unrecognized opcode "+ie.toString(16))}}R.length==1?L[1].f=""+R[0]:console.error("WK1 bad formula parse |"+R.join("|")+"|")}function N(T){var L=[{c:0,r:0},{t:"n",v:0},0];return L[0].r=T.read_shift(2),L[3]=T[T.l++],L[0].c=T[T.l++],L}function _(T,L){var R=N(T);return R[1].t="s",R[1].v=T.read_shift(L-4,"cstr"),R}function C(T,L,R,K){var q=De(6+K.length);q.write_shift(2,T),q.write_shift(1,R),q.write_shift(1,L),q.write_shift(1,39);for(var Z=0;Z<K.length;++Z){var X=K.charCodeAt(Z);q.write_shift(1,X>=128?95:X)}return q.write_shift(1,0),q}function S(T,L){var R=N(T);R[1].v=T.read_shift(2);var K=R[1].v>>1;if(R[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return R[1].v=K,R}function E(T,L){var R=N(T),K=T.read_shift(4),q=T.read_shift(4),Z=T.read_shift(2);if(Z==65535)return K===0&&q===3221225472?(R[1].t="e",R[1].v=15):K===0&&q===3489660928?(R[1].t="e",R[1].v=42):R[1].v=0,R;var X=Z&32768;return Z=(Z&32767)-16446,R[1].v=(1-X*2)*(q*Math.pow(2,Z+32)+K*Math.pow(2,Z)),R}function P(T,L,R,K){var q=De(14);if(q.write_shift(2,T),q.write_shift(1,R),q.write_shift(1,L),K==0)return q.write_shift(4,0),q.write_shift(4,0),q.write_shift(2,65535),q;var Z=0,X=0,ee=0,ie=0;return K<0&&(Z=1,K=-K),X=Math.log2(K)|0,K/=Math.pow(2,X-31),ie=K>>>0,ie&2147483648||(K/=2,++X,ie=K>>>0),K-=ie,ie|=2147483648,ie>>>=0,K*=Math.pow(2,32),ee=K>>>0,q.write_shift(4,ee),q.write_shift(4,ie),X+=16383+(Z?32768:0),q.write_shift(2,X),q}function I(T,L){var R=E(T);return T.l+=L-14,R}function D(T,L){var R=N(T),K=T.read_shift(4);return R[1].v=K>>6,R}function U(T,L){var R=N(T),K=T.read_shift(8,"f");return R[1].v=K,R}function F(T,L){var R=U(T);return T.l+=L-10,R}function M(T,L){return T[T.l+L-1]==0?T.read_shift(L,"cstr"):""}function O(T,L){var R=T[T.l++];R>L-1&&(R=L-1);for(var K="";K.length<R;)K+=String.fromCharCode(T[T.l++]);return K}function A(T,L,R){if(!(!R.qpro||L<21)){var K=T.read_shift(1);T.l+=17,T.l+=1,T.l+=2;var q=T.read_shift(L-21,"cstr");return[K,q]}}function k(T,L){for(var R={},K=T.l+L;T.l<K;){var q=T.read_shift(2);if(q==14e3){for(R[q]=[0,""],R[q][0]=T.read_shift(2);T[T.l];)R[q][1]+=String.fromCharCode(T[T.l]),T.l++;T.l++}}return R}function W(T,L){var R=De(5+T.length);R.write_shift(2,14e3),R.write_shift(2,L);for(var K=0;K<T.length;++K){var q=T.charCodeAt(K);R[R.l++]=q>127?95:q}return R[R.l++]=0,R}var fe={0:{n:"BOF",f:kZ},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:M},222:{n:"SHEETNAMELP",f:O},65535:{n:""}},de={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:_},23:{n:"NUMBER17",f:E},24:{n:"NUMBER18",f:S},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:k},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:D},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:F},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:M},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:A},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),lqe=/^\s|\s$|[\t\n\r]/;function FZ(e,t){if(!t.bookSST)return"";var r=[$n];r[r.length]=Xe("sst",null,{xmlns:Hp[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(lqe)&&(i+=' xml:space="preserve"'),i+=">"+Sr(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function cqe(e){return[e.read_shift(4),e.read_shift(4)]}function dqe(e,t){return t||(t=De(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var uqe=tGe;function fqe(e){var t=Fa();Le(t,159,dqe(e));for(var r=0;r<e.length;++r)Le(t,19,uqe(e[r]));return Le(t,160),t.end()}function hqe(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function LZ(e){var t=0,r,n=hqe(e),a=n.length+1,i,o,l,c,d;for(r=kf(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,d=l|c,t=d^o;return t^52811}var mqe=function(){function e(a,i){switch(i.type){case"base64":return t($c(a),i);case"binary":return t(a,i);case"buffer":return t(mr&&Buffer.isBuffer(a)?a.toString("binary"):J0(a),i);case"array":return t(L_(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,f){Array.isArray(l)&&(l[f]=[]);for(var h=/\\\w+\b/g,m=0,x,p=-1;x=h.exec(u);){switch(x[0]){case"\\cell":var g=u.slice(m,h.lastIndex-x[0].length);if(g[0]==" "&&(g=g.slice(1)),++p,g.length){var b={v:g,t:"s"};Array.isArray(l)?l[f][p]=b:l[Er({r:f,c:p})]=b}break}m=h.lastIndex}p>d.e.c&&(d.e.c=p)}),l["!ref"]=Ln(d),l}function r(a,i){return qf(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=Qr(a["!ref"]),l,c=Array.isArray(a),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var f=Er({r:d,c:u});l=c?(a[d]||[])[u]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Bc(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function h6(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var pqe=6,jc=pqe;function bj(e){return Math.floor((e+Math.round(128/jc)/256)*jc)}function wj(e){return Math.floor((e-5)/jc*100+.5)/100}function qP(e){return Math.round((e*jc+5)/jc*256)/256}function _D(e){e.width?(e.wpx=bj(e.width),e.wch=wj(e.wpx),e.MDW=jc):e.wpx?(e.wch=wj(e.wpx),e.width=qP(e.wch),e.MDW=jc):typeof e.wch=="number"&&(e.width=qP(e.wch),e.wpx=bj(e.width),e.MDW=jc),e.customWidth&&delete e.customWidth}var xqe=96,$Z=xqe;function jj(e){return e*96/$Z}function BZ(e){return e*$Z/96}function gqe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Xe("numFmt",null,{numFmtId:n,formatCode:Sr(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Xe("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function vqe(e){var t=[];return t[t.length]=Xe("cellXfs",null),e.forEach(function(r){t[t.length]=Xe("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Xe("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function UZ(e,t){var r=[$n,Xe("styleSheet",null,{xmlns:Hp[0],"xmlns:vt":as.vt})],n;return e.SSF&&(n=gqe(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=vqe(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function yqe(e,t){var r=e.read_shift(2),n=qs(e);return[r,n]}function bqe(e,t,r){r||(r=De(6+4*t.length)),r.write_shift(2,e),os(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function wqe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=lGe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=oGe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=qs(e),n}function jqe(e,t){t||(t=De(25+4*32)),t.write_shift(2,e.sz*20),cGe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),vj(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),os(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Nqe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],qS,_qe=$l;function m6(e,t){t||(t=De(4*3+8*7+16*1)),qS||(qS=fD(Nqe));var r=qS[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(vj({auto:1},t),vj({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Sqe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function VZ(e,t,r){r||(r=De(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Tx(e,t){return t||(t=De(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Cqe=$l;function Eqe(e,t){return t||(t=De(51)),t.write_shift(1,0),Tx(null,t),Tx(null,t),Tx(null,t),Tx(null,t),Tx(null,t),t.length>t.l?t.slice(0,t.l):t}function Aqe(e,t){return t||(t=De(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),gj(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Pqe(e,t,r){var n=De(2052);return n.write_shift(4,e),gj(t,n),gj(r,n),n.length>n.l?n.slice(0,n.l):n}function Tqe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Le(e,615,Fo(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Le(e,44,bqe(a,t[a]))}),Le(e,616))}}function kqe(e){var t=1;Le(e,611,Fo(t)),Le(e,43,jqe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Le(e,612)}function Oqe(e){var t=2;Le(e,603,Fo(t)),Le(e,45,m6({patternType:"none"})),Le(e,45,m6({patternType:"gray125"})),Le(e,604)}function Dqe(e){var t=1;Le(e,613,Fo(t)),Le(e,46,Eqe()),Le(e,614)}function Iqe(e){var t=1;Le(e,626,Fo(t)),Le(e,47,VZ({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Le(e,627)}function Rqe(e,t){Le(e,617,Fo(t.length)),t.forEach(function(r){Le(e,47,VZ(r,0))}),Le(e,618)}function Mqe(e){var t=1;Le(e,619,Fo(t)),Le(e,48,Aqe({xfId:0,builtinId:0,name:"Normal"})),Le(e,620)}function Fqe(e){var t=0;Le(e,505,Fo(t)),Le(e,506)}function Lqe(e){var t=0;Le(e,508,Pqe(t,"TableStyleMedium9","PivotStyleMedium4")),Le(e,509)}function $qe(e,t){var r=Fa();return Le(r,278),Tqe(r,e.SSF),kqe(r),Oqe(r),Dqe(r),Iqe(r),Rqe(r,t.cellXfs),Mqe(r),Fqe(r),Lqe(r),Le(r,279),r.end()}function zZ(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[$n];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Bqe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:qs(e)}}function Uqe(e){var t=De(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),os(e.name,t),t.slice(0,t.l)}function Vqe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function zqe(e){var t=De(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Wqe(e,t){var r=De(8+2*t.length);return r.write_shift(4,e),os(t,r),r.slice(0,r.l)}function Hqe(e){return e.l+=4,e.read_shift(4)!=0}function Gqe(e,t){var r=De(8);return r.write_shift(4,e),r.write_shift(4,1),r}function qqe(){var e=Fa();return Le(e,332),Le(e,334,Fo(1)),Le(e,335,Uqe({name:"XLDAPR",version:12e4,flags:3496657072})),Le(e,336),Le(e,339,Wqe(1,"XLDAPR")),Le(e,52),Le(e,35,Fo(514)),Le(e,4096,Fo(0)),Le(e,4097,Mi(1)),Le(e,36),Le(e,53),Le(e,340),Le(e,337,Gqe(1)),Le(e,51,zqe([[1,0]])),Le(e,338),Le(e,333),e.end()}function WZ(){var e=[$n];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Kqe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Er(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var Ih=1024;function HZ(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Xe("xml",null,{"xmlns:v":ai.v,"xmlns:o":ai.o,"xmlns:x":ai.x,"xmlns:mv":ai.mv}).replace(/\/>/,">"),Xe("o:shapelayout",Xe("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Xe("v:shapetype",[Xe("v:stroke",null,{joinstyle:"miter"}),Xe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Ih<e*1e3;)Ih+=1e3;return t.forEach(function(i){var o=is(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Xe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Xe("v:fill",c,l),u={on:"t",obscured:"t"};++Ih,a=a.concat(["<v:shape"+Xv({id:"_x0000_s"+Ih,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Xe("v:shadow",null,u),Xe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ns("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Ns("x:AutoFill","False"),Ns("x:Row",String(o.r)),Ns("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function GZ(e){var t=[$n,Xe("comments",null,{xmlns:Hp[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=Sr(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(Sr(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Ns("t",Sr(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(Ns("t",Sr(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Xqe(e,t,r){var n=[$n,Xe("ThreadedComments",null,{xmlns:as.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(Xe("threadedComment",Ns("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function Yqe(e){var t=[$n,Xe("personList",null,{xmlns:as.TCMNT,"xmlns:x":Hp[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Xe("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Qqe(e){var t={};t.iauthor=e.read_shift(4);var r=Qf(e);return t.rfx=r.s,t.ref=Er(r.s),e.l+=16,t}function Zqe(e,t){return t==null&&(t=De(36)),t.write_shift(4,e[1].iauthor),qp(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Jqe=qs;function eKe(e){return os(e.slice(0,54))}function tKe(e){var t=Fa(),r=[];return Le(t,628),Le(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Le(t,632,eKe(a.a)))})}),Le(t,631),Le(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:is(n[0]),e:is(n[0])};Le(t,635,Zqe([i,a])),a.t&&a.t.length>0&&Le(t,637,nGe(a)),Le(t,636),delete a.iauthor})}),Le(t,634),Le(t,629),t.end()}function rKe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Or.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var qZ=["xlsb","xlsm","xlam","biff8","xla"],nKe=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return l?u+=t.c:--u,c?d+=t.r:--d,a+(l?"":"$")+Gs(u)+(c?"":"$")+Ps(d)}return function(a,i){return t=i,a.replace(e,r)}}(),SD=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,CD=function(){return function(t,r){return t.replace(SD,function(n,a,i,o,l,c){var d=yD(o)-(i?0:r.c),u=vD(c)-(l?0:r.r),f=u==0?"":l?u+1:"["+u+"]",h=d==0?"":i?d+1:"["+d+"]";return a+"R"+f+"C"+h})}}();function sKe(e,t){return e.replace(SD,function(r,n,a,i,o,l){return n+(a=="$"?a+i:Gs(yD(i)+t.c))+(o=="$"?o+l:Ps(vD(l)+t.r))})}function aKe(e){return e.length!=1}function kn(e){e.l+=1}function tu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function KZ(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return XZ(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=tu(e),l=tu(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function XZ(e){var t=tu(e),r=tu(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function iKe(e,t,r){if(r.biff<8)return XZ(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=tu(e),o=tu(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function YZ(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return oKe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=tu(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function oKe(e){var t=tu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function lKe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function cKe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return dKe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function dKe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function uKe(e,t,r){var n=(e[e.l++]&96)>>5,a=KZ(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function fKe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=KZ(e,i,r);return[n,a,o]}function hKe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function mKe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function pKe(e,t,r){var n=(e[e.l++]&96)>>5,a=iKe(e,t-1,r);return[n,a]}function xKe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function p6(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function gKe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function vKe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function yKe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function bKe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function wKe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function QZ(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function jKe(e){return e.read_shift(2),QZ(e)}function NKe(e){return e.read_shift(2),QZ(e)}function _Ke(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=YZ(e,0,r);return[n,a]}function SKe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=cKe(e,0,r);return[n,a]}function CKe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=YZ(e,0,r);return[n,a,i]}function EKe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[EXe[a],eJ[a],n]}function AKe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:PKe(e);return[a,(i[0]===0?eJ:CXe)[i[1]]]}function PKe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function TKe(e,t,r){e.l+=r&&r.biff==2?3:4}function kKe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function OKe(e){return e.l++,ry[e.read_shift(1)]}function DKe(e){return e.l++,e.read_shift(2)}function IKe(e){return e.l++,e.read_shift(1)!==0}function RKe(e){return e.l++,Kp(e)}function MKe(e,t,r){return e.l++,DZ(e,t-1,r)}function FKe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=CGe(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=ry[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Kp(e);break;case 2:r[1]=TGe(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function LKe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Qf:DGe)(e));return a}function $Ke(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=FKe(e,r.biff);return o}function BKe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function UKe(e,t,r){if(r.biff==5)return VKe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function VKe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function zKe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function WKe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function HKe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function GKe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var qKe=$l,KKe=$l,XKe=$l;function ny(e,t,r){return e.l+=2,[lKe(e)]}function ED(e){return e.l+=6,[]}var YKe=ny,QKe=ED,ZKe=ED,JKe=ny;function ZZ(e){return e.l+=2,[kZ(e),e.read_shift(2)&1]}var eXe=ny,tXe=ZZ,rXe=ED,nXe=ny,sXe=ny,aXe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function iXe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=aXe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function oXe(e){return e.l+=2,[e.read_shift(4)]}function lXe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function cXe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function dXe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function uXe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function fXe(e){return e.l+=4,[0,0]}var x6={1:{n:"PtgExp",f:kKe},2:{n:"PtgTbl",f:XKe},3:{n:"PtgAdd",f:kn},4:{n:"PtgSub",f:kn},5:{n:"PtgMul",f:kn},6:{n:"PtgDiv",f:kn},7:{n:"PtgPower",f:kn},8:{n:"PtgConcat",f:kn},9:{n:"PtgLt",f:kn},10:{n:"PtgLe",f:kn},11:{n:"PtgEq",f:kn},12:{n:"PtgGe",f:kn},13:{n:"PtgGt",f:kn},14:{n:"PtgNe",f:kn},15:{n:"PtgIsect",f:kn},16:{n:"PtgUnion",f:kn},17:{n:"PtgRange",f:kn},18:{n:"PtgUplus",f:kn},19:{n:"PtgUminus",f:kn},20:{n:"PtgPercent",f:kn},21:{n:"PtgParen",f:kn},22:{n:"PtgMissArg",f:kn},23:{n:"PtgStr",f:MKe},26:{n:"PtgSheet",f:lXe},27:{n:"PtgEndSheet",f:cXe},28:{n:"PtgErr",f:OKe},29:{n:"PtgBool",f:IKe},30:{n:"PtgInt",f:DKe},31:{n:"PtgNum",f:RKe},32:{n:"PtgArray",f:xKe},33:{n:"PtgFunc",f:EKe},34:{n:"PtgFuncVar",f:AKe},35:{n:"PtgName",f:BKe},36:{n:"PtgRef",f:_Ke},37:{n:"PtgArea",f:uKe},38:{n:"PtgMemArea",f:zKe},39:{n:"PtgMemErr",f:qKe},40:{n:"PtgMemNoMem",f:KKe},41:{n:"PtgMemFunc",f:WKe},42:{n:"PtgRefErr",f:HKe},43:{n:"PtgAreaErr",f:hKe},44:{n:"PtgRefN",f:SKe},45:{n:"PtgAreaN",f:pKe},46:{n:"PtgMemAreaN",f:dXe},47:{n:"PtgMemNoMemN",f:uXe},57:{n:"PtgNameX",f:UKe},58:{n:"PtgRef3d",f:CKe},59:{n:"PtgArea3d",f:fKe},60:{n:"PtgRefErr3d",f:GKe},61:{n:"PtgAreaErr3d",f:mKe},255:{}},hXe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},mXe={1:{n:"PtgElfLel",f:ZZ},2:{n:"PtgElfRw",f:nXe},3:{n:"PtgElfCol",f:YKe},6:{n:"PtgElfRwV",f:sXe},7:{n:"PtgElfColV",f:JKe},10:{n:"PtgElfRadical",f:eXe},11:{n:"PtgElfRadicalS",f:rXe},13:{n:"PtgElfColS",f:QKe},15:{n:"PtgElfColSV",f:ZKe},16:{n:"PtgElfRadicalLel",f:tXe},25:{n:"PtgList",f:iXe},29:{n:"PtgSxName",f:oXe},255:{}},pXe={0:{n:"PtgAttrNoop",f:fXe},1:{n:"PtgAttrSemi",f:wKe},2:{n:"PtgAttrIf",f:yKe},4:{n:"PtgAttrChoose",f:gKe},8:{n:"PtgAttrGoto",f:vKe},16:{n:"PtgAttrSum",f:TKe},32:{n:"PtgAttrBaxcel",f:p6},33:{n:"PtgAttrBaxcel",f:p6},64:{n:"PtgAttrSpace",f:jKe},65:{n:"PtgAttrSpaceSemi",f:NKe},128:{n:"PtgAttrIfError",f:bKe},255:{}};function xXe(e,t,r,n){if(n.biff<8)return $l(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=$Ke(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=LKe(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push($l(e,t)),i}function gXe(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=x6[i]||x6[hXe[i]],(i===24||i===25)&&(a=(i===24?mXe:pXe)[e[e.l+1]]),!a||!a.f?$l(e,t):o.push([a.n,a.f(e,t,r)]);return o}function vXe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var yXe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function bXe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function JZ(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function g6(e,t,r){var n=JZ(e,t,r);return n=="#REF"?n:bXe(n,r)}function lp(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,d,u,f=0,h=0,m,x="";if(!e[0]||!e[0][0])return"";for(var p=-1,g="",b=0,y=e[0].length;b<y;++b){var j=e[0][b];switch(j[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),p>=0){switch(e[0][p][1][0]){case 0:g=xn(" ",e[0][p][1][1]);break;case 1:g=xn("\r",e[0][p][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}d=d+g,p=-1}l.push(d+yXe[j[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=gg(j[1][1],o,a),l.push(vg(u,i));break;case"PtgRefN":u=r?gg(j[1][1],r,a):j[1][1],l.push(vg(u,i));break;case"PtgRef3d":f=j[1][1],u=gg(j[1][2],o,a),x=g6(n,f,a),l.push(x+"!"+vg(u,i));break;case"PtgFunc":case"PtgFuncVar":var w=j[1][0],N=j[1][1];w||(w=0),w&=127;var _=w==0?[]:l.slice(-w);l.length-=w,N==="User"&&(N=_.shift()),l.push(N+"("+_.join(",")+")");break;case"PtgBool":l.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(j[1]);break;case"PtgNum":l.push(String(j[1]));break;case"PtgStr":l.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(j[1]);break;case"PtgAreaN":m=t6(j[1][1],r?{s:r}:o,a),l.push(HS(m,a));break;case"PtgArea":m=t6(j[1][1],o,a),l.push(HS(m,a));break;case"PtgArea3d":f=j[1][1],m=j[1][2],x=g6(n,f,a),l.push(x+"!"+HS(m,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=j[1][2];var C=(n.names||[])[h-1]||(n[0]||[])[h],S=C?C.Name:"SH33TJSNAME"+String(h);S&&S.slice(0,6)=="_xlfn."&&!a.xlfn&&(S=S.slice(6)),l.push(S);break;case"PtgNameX":var E=j[1][1];h=j[1][2];var P;if(a.biff<=5)E<0&&(E=-E),n[E]&&(P=n[E][h]);else{var I="";if(((n[E]||[])[0]||[])[0]==14849||(((n[E]||[])[0]||[])[0]==1025?n[E][h]&&n[E][h].itab>0&&(I=n.SheetNames[n[E][h].itab-1]+"!"):I=n.SheetNames[h-1]+"!"),n[E]&&n[E][h])I+=n[E][h].Name;else if(n[0]&&n[0][h])I+=n[0][h].Name;else{var D=(JZ(n,E,a)||"").split(";;");D[h-1]?I=D[h-1]:I+="SH33TJSERRX"}l.push(I);break}P||(P={Name:"SH33TJSERRY"}),l.push(P.Name);break;case"PtgParen":var U="(",F=")";if(p>=0){switch(g="",e[0][p][1][0]){case 2:U=xn(" ",e[0][p][1][1])+U;break;case 3:U=xn("\r",e[0][p][1][1])+U;break;case 4:F=xn(" ",e[0][p][1][1])+F;break;case 5:F=xn("\r",e[0][p][1][1])+F;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}l.push(U+l.pop()+F);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:j[1][1],r:j[1][0]};var M={c:r.c,r:r.r};if(n.sharedf[Er(u)]){var O=n.sharedf[Er(u)];l.push(lp(O,o,M,n,a))}else{var A=!1;for(c=0;c!=n.arrayf.length;++c)if(d=n.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push(lp(d[1],o,M,n,a)),A=!0;break}A||l.push(j[1])}break;case"PtgArray":l.push("{"+vXe(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=b;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var k=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&k.indexOf(e[0][b][0])==-1){j=e[0][p];var W=!0;switch(j[1][0]){case 4:W=!1;case 0:g=xn(" ",j[1][1]);break;case 5:W=!1;case 1:g=xn("\r",j[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}l.push((W?g:"")+l.pop()+(W?"":g)),p=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function wXe(e){if(e==null){var t=De(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Of(e);return Of(0)}function jXe(e,t,r,n,a){var i=Df(t,r,a),o=wXe(e.v),l=De(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var d=De(e.bf.length),u=0;u<e.bf.length;++u)d[u]=e.bf[u];var f=js([i,o,l,d]);return f}function $_(e,t,r){var n=e.read_shift(4),a=gXe(e,n,r),i=e.read_shift(4),o=i>0?xXe(e,i,a,r):null;return[a,o]}var NXe=$_,B_=$_,_Xe=$_,SXe=$_,CXe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},eJ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},EXe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function AXe(e){var t="of:="+e.replace(SD,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function PXe(e){return e.replace(/\./,"!")}var yg=typeof Map<"u";function AD(e,t,r){var n=0,a=e.length;if(r){if(yg?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=yg?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(yg?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function U_(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(jc=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=wj(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=qP(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function tJ(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function pu(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){YQ(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function TXe(e,t,r){if(e&&e["!ref"]){var n=Qr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function kXe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Ln(e[r])+'"/>';return t+"</mergeCells>"}function OXe(e,t,r,n,a){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=Kv(Sr(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),l=(l||"")+Xe("outlinePr",null,d)}!i&&!l||(a[a.length]=Xe("sheetPr",l,o))}var DXe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],IXe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function RXe(e){var t={sheet:1};return DXe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),IXe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=LZ(e.password).toString(16).toUpperCase()),Xe("sheetProtection",null,t)}function MXe(e){return tJ(e),Xe("pageMargins",null,e)}function FXe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=Xe("col",null,U_(a,n)));return r[r.length]="</cols>",r.join("")}function LXe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:Ln(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=yi(a);o.s.r==o.e.r&&(o.e.r=yi(t["!ref"]).e.r,a=Ln(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Xe("autoFilter",null,{ref:a})}function $Xe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Xe("sheetViews",Xe("sheetView",null,a),{})}function BXe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=ry[e.v];break;case"d":n&&n.cellDates?a=pa(e.v,-1).toISOString():(e=za(e),e.t="n",a=""+(e.v=Va(pa(e.v)))),typeof e.z>"u"&&(e.z=vn[14]);break;default:a=e.v;break}var l=Ns("v",Sr(a)),c={r:t},d=pu(n.cellXfs,e,n);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=Ns("v",""+AD(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=Xe("f",Sr(e.f),u)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),Xe("c",l,c)}function UXe(e,t,r,n){var a=[],i=[],o=Qr(e["!ref"]),l="",c,d="",u=[],f=0,h=0,m=e["!rows"],x=Array.isArray(e),p={r:d},g,b=-1;for(h=o.s.c;h<=o.e.c;++h)u[h]=Gs(h);for(f=o.s.r;f<=o.e.r;++f){for(i=[],d=Ps(f),h=o.s.c;h<=o.e.c;++h){c=u[h]+d;var y=x?(e[f]||[])[h]:e[c];y!==void 0&&(l=BXe(y,c,e,t))!=null&&i.push(l)}(i.length>0||m&&m[f])&&(p={r:d},m&&m[f]&&(g=m[f],g.hidden&&(p.hidden=1),b=-1,g.hpx?b=jj(g.hpx):g.hpt&&(b=g.hpt),b>-1&&(p.ht=b,p.customHeight=1),g.level&&(p.outlineLevel=g.level)),a[a.length]=Xe("row",i.join(""),p))}if(m)for(;f<m.length;++f)m&&m[f]&&(p={r:f+1},g=m[f],g.hidden&&(p.hidden=1),b=-1,g.hpx?b=jj(g.hpx):g.hpt&&(b=g.hpt),b>-1&&(p.ht=b,p.customHeight=1),g.level&&(p.outlineLevel=g.level),a[a.length]=Xe("row","",p));return a.join("")}function rJ(e,t,r,n){var a=[$n,Xe("worksheet",null,{xmlns:Hp[0],"xmlns:r":as.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=Qr(d);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=Ln(u)}n||(n={}),c["!comments"]=[];var f=[];OXe(c,r,e,t,a),a[a.length]=Xe("dimension",null,{ref:d}),a[a.length]=$Xe(c,t,e,r),t.sheetFormat&&(a[a.length]=Xe("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=FXe(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=UXe(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=RXe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=LXe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=kXe(c["!merges"]));var h=-1,m,x=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(p){p[1].Target&&(m={ref:p[0]},p[1].Target.charAt(0)!="#"&&(x=_r(n,-1,Sr(p[1].Target).replace(/#.*$/,""),ur.HLINK),m["r:id"]="rId"+x),(h=p[1].Target.indexOf("#"))>-1&&(m.location=Sr(p[1].Target.slice(h+1))),p[1].Tooltip&&(m.tooltip=Sr(p[1].Tooltip)),a[a.length]=Xe("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=MXe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Ns("ignoredErrors",Xe("ignoredError",null,{numberStoredAsText:1,sqref:d}))),f.length>0&&(x=_r(n,-1,"../drawings/drawing"+(e+1)+".xml",ur.DRAW),a[a.length]=Xe("drawing",null,{"r:id":"rId"+x}),c["!drawing"]=f),c["!comments"].length>0&&(x=_r(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ur.VML),a[a.length]=Xe("legacyDrawing",null,{"r:id":"rId"+x}),c["!legacy"]=x),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function VXe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function zXe(e,t,r){var n=De(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=jj(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var d={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var f=-1,h=-1,m=u<<10;m<u+1<<10;++m){d.c=m;var x=Array.isArray(r)?(r[d.r]||[])[d.c]:r[Er(d)];x&&(f<0&&(f=m),h=m)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,h))}var p=n.l;return n.l=c,n.write_shift(4,l),n.l=p,n.length>n.l?n.slice(0,n.l):n}function WXe(e,t,r,n){var a=zXe(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Le(e,0,a)}var HXe=Qf,GXe=qp;function qXe(){}function KXe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=sGe(e),r}function XXe(e,t,r){r==null&&(r=De(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return vj({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),gZ(e,r),r.slice(0,r.l)}function YXe(e){var t=uo(e);return[t]}function QXe(e,t,r){return r==null&&(r=De(8)),Kf(t,r)}function ZXe(e){var t=Xf(e);return[t]}function JXe(e,t,r){return r==null&&(r=De(4)),Yf(t,r)}function eYe(e){var t=uo(e),r=e.read_shift(1);return[t,r,"b"]}function tYe(e,t,r){return r==null&&(r=De(9)),Kf(t,r),r.write_shift(1,e.v?1:0),r}function rYe(e){var t=Xf(e),r=e.read_shift(1);return[t,r,"b"]}function nYe(e,t,r){return r==null&&(r=De(5)),Yf(t,r),r.write_shift(1,e.v?1:0),r}function sYe(e){var t=uo(e),r=e.read_shift(1);return[t,r,"e"]}function aYe(e,t,r){return r==null&&(r=De(9)),Kf(t,r),r.write_shift(1,e.v),r}function iYe(e){var t=Xf(e),r=e.read_shift(1);return[t,r,"e"]}function oYe(e,t,r){return r==null&&(r=De(8)),Yf(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function lYe(e){var t=uo(e),r=e.read_shift(4);return[t,r,"s"]}function cYe(e,t,r){return r==null&&(r=De(12)),Kf(t,r),r.write_shift(4,t.v),r}function dYe(e){var t=Xf(e),r=e.read_shift(4);return[t,r,"s"]}function uYe(e,t,r){return r==null&&(r=De(8)),Yf(t,r),r.write_shift(4,t.v),r}function fYe(e){var t=uo(e),r=Kp(e);return[t,r,"n"]}function hYe(e,t,r){return r==null&&(r=De(16)),Kf(t,r),Of(e.v,r),r}function mYe(e){var t=Xf(e),r=Kp(e);return[t,r,"n"]}function pYe(e,t,r){return r==null&&(r=De(12)),Yf(t,r),Of(e.v,r),r}function xYe(e){var t=uo(e),r=vZ(e);return[t,r,"n"]}function gYe(e,t,r){return r==null&&(r=De(12)),Kf(t,r),yZ(e.v,r),r}function vYe(e){var t=Xf(e),r=vZ(e);return[t,r,"n"]}function yYe(e,t,r){return r==null&&(r=De(8)),Yf(t,r),yZ(e.v,r),r}function bYe(e){var t=uo(e),r=bD(e);return[t,r,"is"]}function wYe(e){var t=uo(e),r=qs(e);return[t,r,"str"]}function jYe(e,t,r){return r==null&&(r=De(12+4*e.v.length)),Kf(t,r),os(e.v,r),r.length>r.l?r.slice(0,r.l):r}function NYe(e){var t=Xf(e),r=qs(e);return[t,r,"str"]}function _Ye(e,t,r){return r==null&&(r=De(8+4*e.v.length)),Yf(t,r),os(e.v,r),r.length>r.l?r.slice(0,r.l):r}function SYe(e,t,r){var n=e.l+t,a=uo(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=B_(e,n-e.l,r);o[3]=lp(l,null,a,r.supbooks,r)}else e.l=n;return o}function CYe(e,t,r){var n=e.l+t,a=uo(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=B_(e,n-e.l,r);o[3]=lp(l,null,a,r.supbooks,r)}else e.l=n;return o}function EYe(e,t,r){var n=e.l+t,a=uo(e);a.r=r["!row"];var i=Kp(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=B_(e,n-e.l,r);o[3]=lp(l,null,a,r.supbooks,r)}else e.l=n;return o}function AYe(e,t,r){var n=e.l+t,a=uo(e);a.r=r["!row"];var i=qs(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=B_(e,n-e.l,r);o[3]=lp(l,null,a,r.supbooks,r)}else e.l=n;return o}var PYe=Qf,TYe=qp;function kYe(e,t){return t==null&&(t=De(4)),t.write_shift(4,e),t}function OYe(e,t){var r=e.l+t,n=Qf(e),a=wD(e),i=qs(e),o=qs(e),l=qs(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function DYe(e,t){var r=De(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));qp({s:is(e[0]),e:is(e[0])},r),jD("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return os(a||"",r),os(e[1].Tooltip||"",r),os("",r),r.slice(0,r.l)}function IYe(){}function RYe(e,t,r){var n=e.l+t,a=bZ(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=NXe(e,n-e.l,r);o[1]=l}else e.l=n;return o}function MYe(e,t,r){var n=e.l+t,a=Qf(e),i=[a];if(r.cellFormula){var o=SXe(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function FYe(e,t,r){r==null&&(r=De(18));var n=U_(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var nJ=["left","right","top","bottom","header","footer"];function LYe(e){var t={};return nJ.forEach(function(r){t[r]=Kp(e)}),t}function $Ye(e,t){return t==null&&(t=De(6*8)),tJ(e),nJ.forEach(function(r){Of(e[r],t)}),t}function BYe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function UYe(e,t,r){r==null&&(r=De(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function VYe(e){var t=De(24);return t.write_shift(4,4),t.write_shift(4,1),qp(e,t),t}function zYe(e,t){return t==null&&(t=De(16*4+2)),t.write_shift(2,e.password?LZ(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function WYe(){}function HYe(){}function GYe(e,t,r,n,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=za(t),t.z=t.z||vn[14],t.v=Va(pa(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=pu(a.cellXfs,t,a),t.l&&i["!links"].push([Er(c),t.l]),t.c&&i["!comments"].push([Er(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=AD(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?Le(e,18,uYe(t,c)):Le(e,7,cYe(t,c))):(c.t="str",o?Le(e,17,_Ye(t,c)):Le(e,6,jYe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Le(e,13,yYe(t,c)):Le(e,2,gYe(t,c)):o?Le(e,16,pYe(t,c)):Le(e,5,hYe(t,c)),!0;case"b":return c.t="b",o?Le(e,15,nYe(t,c)):Le(e,4,tYe(t,c)),!0;case"e":return c.t="e",o?Le(e,14,oYe(t,c)):Le(e,3,aYe(t,c)),!0}return o?Le(e,12,JXe(t,c)):Le(e,1,QXe(t,c)),!0}function qYe(e,t,r,n){var a=Qr(t["!ref"]||"A1"),i,o="",l=[];Le(e,145);var c=Array.isArray(t),d=a.e.r;t["!rows"]&&(d=Math.max(a.e.r,t["!rows"].length-1));for(var u=a.s.r;u<=d;++u){o=Ps(u),WXe(e,t,a,u);var f=!1;if(u<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){u===a.s.r&&(l[h]=Gs(h)),i=l[h]+o;var m=c?(t[u]||[])[h]:t[i];if(!m){f=!1;continue}f=GYe(e,m,u,h,n,t,f)}}Le(e,146)}function KYe(e,t){!t||!t["!merges"]||(Le(e,177,kYe(t["!merges"].length)),t["!merges"].forEach(function(r){Le(e,176,TYe(r))}),Le(e,178))}function XYe(e,t){!t||!t["!cols"]||(Le(e,390),t["!cols"].forEach(function(r,n){r&&Le(e,60,FYe(n,r))}),Le(e,391))}function YYe(e,t){!t||!t["!ref"]||(Le(e,648),Le(e,649,VYe(Qr(t["!ref"]))),Le(e,650))}function QYe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=_r(r,-1,n[1].Target.replace(/#.*$/,""),ur.HLINK);Le(e,494,DYe(n,a))}}),delete t["!links"]}function ZYe(e,t,r,n){if(t["!comments"].length>0){var a=_r(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",ur.VML);Le(e,551,jD("rId"+a)),t["!legacy"]=a}}function JYe(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Ln(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=yi(i);l.s.r==l.e.r&&(l.e.r=yi(t["!ref"]).e.r,i=Ln(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Le(e,161,qp(Qr(i))),Le(e,162)}}function eQe(e,t,r){Le(e,133),Le(e,137,UYe(t,r)),Le(e,138),Le(e,134)}function tQe(e,t){t["!protect"]&&Le(e,535,zYe(t["!protect"]))}function rQe(e,t,r,n){var a=Fa(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Qr(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Le(a,129),(r.vbaraw||o["!outline"])&&Le(a,147,XXe(l,o["!outline"])),Le(a,148,GXe(c)),eQe(a,o,r.Workbook),XYe(a,o),qYe(a,o,e,t),tQe(a,o),JYe(a,o,r,e),KYe(a,o),QYe(a,o,n),o["!margins"]&&Le(a,476,$Ye(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&YYe(a,o),ZYe(a,o,e,n),Le(a,130),a.end()}function nQe(e,t){e.l+=10;var r=qs(e);return{name:r}}var sQe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function aQe(e){return!e.Workbook||!e.Workbook.WBProps?"false":MHe(e.Workbook.WBProps.date1904)?"true":"false"}var iQe="][*?/\\".split("");function sJ(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return iQe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function oQe(e,t,r){e.forEach(function(n,a){sJ(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function lQe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];oQe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)TXe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function aJ(e){var t=[$n];t[t.length]=Xe("workbook",null,{xmlns:Hp[0],"xmlns:r":as.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(sQe.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Xe("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Sr(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=Xe("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=Xe("definedName",Sr(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function cQe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=GP(e),r.name=qs(e),r}function dQe(e,t){return t||(t=De(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),jD(e.strRelID,t),os(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function uQe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?qs(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function fQe(e,t){t||(t=De(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),gZ(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function hQe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=aGe(e),o=_Xe(e,0,r),l=wD(e);e.l=n;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function mQe(e,t){Le(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Le(e,156,dQe(a))}Le(e,144)}function pQe(e,t){t||(t=De(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return os("SheetJS",t),os(uj.version,t),os(uj.version,t),os("7262",t),t.length>t.l?t.slice(0,t.l):t}function xQe(e,t){t||(t=De(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function gQe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(Le(e,135),Le(e,158,xQe(a)),Le(e,136))}}function vQe(e,t){var r=Fa();return Le(r,131),Le(r,128,pQe()),Le(r,153,fQe(e.Workbook&&e.Workbook.WBProps||null)),gQe(r,e),mQe(r,e),Le(r,132),r.end()}function yQe(e,t,r){return(t.slice(-4)===".bin"?vQe:aJ)(e)}function bQe(e,t,r,n,a){return(t.slice(-4)===".bin"?rQe:rJ)(e,r,n,a)}function wQe(e,t,r){return(t.slice(-4)===".bin"?$qe:UZ)(e,r)}function jQe(e,t,r){return(t.slice(-4)===".bin"?fqe:FZ)(e,r)}function NQe(e,t,r){return(t.slice(-4)===".bin"?tKe:GZ)(e)}function _Qe(e){return(e.slice(-4)===".bin"?qqe:WZ)()}function SQe(e,t){var r=[];return e.Props&&r.push(wGe(e.Props,t)),e.Custprops&&r.push(jGe(e.Props,e.Custprops)),r.join("")}function CQe(){return""}function EQe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(Xe("NumberFormat",null,{"ss:Format":Sr(vn[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(Xe("Style",i.join(""),o))}),Xe("Styles",r.join(""))}function iJ(e){return Xe("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+CD(e.Ref,{r:0,c:0})})}function AQe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(iJ(a)))}return Xe("Names",r.join(""))}function PQe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(iJ(l)))}return i.join("")}function TQe(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Xe("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Xe("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Xe("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Xe("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Ns("ProtectContents","True")),e["!protect"].objects&&a.push(Ns("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Ns("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Ns("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Ns("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":Xe("WorksheetOptions",a.join(""),{xmlns:ai.x})}function kQe(e){return e.map(function(t){var r=RHe(t.t||""),n=Xe("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Xe("Comment",n,{"ss:Author":t.a})}).join("")}function OQe(e,t,r,n,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Sr(CD(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=is(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Sr(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Sr(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],u=0;u!=d.length;++u)d[u].s.c!=o.c||d[u].s.r!=o.r||(d[u].e.c>d[u].s.c&&(l["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(l["ss:MergeDown"]=d[u].e.r-d[u].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=ry[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||vn[14]);break;case"s":f="String",h=IHe(e.v||"");break}var m=pu(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+m),l["ss:Index"]=o.c+1;var x=e.v!=null?h:"",p=e.t=="z"?"":'<Data ss:Type="'+f+'">'+x+"</Data>";return(e.c||[]).length>0&&(p+=kQe(e.c)),Xe("Cell",p,l)}function DQe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=BZ(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function IQe(e,t,r,n){if(!e["!ref"])return"";var a=Qr(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(g,b){_D(g);var y=!!g.width,j=U_(b,g),w={"ss:Index":b+1};y&&(w["ss:Width"]=bj(j.width)),g.hidden&&(w["ss:Hidden"]="1"),l.push(Xe("Column",null,w))});for(var c=Array.isArray(e),d=a.s.r;d<=a.e.r;++d){for(var u=[DQe(d,(e["!rows"]||[])[d])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>d)&&!(i[o].e.c<f)&&!(i[o].e.r<d)){(i[o].s.c!=f||i[o].s.r!=d)&&(h=!0);break}if(!h){var m={r:d,c:f},x=Er(m),p=c?(e[d]||[])[f]:e[x];u.push(OQe(p,x,e,t,r,n,m))}}u.push("</Row>"),u.length>2&&l.push(u.join(""))}return l.join("")}function RQe(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?PQe(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?IQe(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(TQe(i,t,e,r)),n.join("")}function MQe(e,t){t||(t={}),e.SSF||(e.SSF=za(vn)),e.SSF&&(M_(),R_(e.SSF),t.revssf=F_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],pu(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(SQe(e,t)),r.push(CQe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Xe("Worksheet",RQe(n,t,e),{"ss:Name":Sr(e.SheetNames[n])}));return r[2]=EQe(e,t),r[3]=AQe(e),$n+Xe("Workbook",r.join(""),{xmlns:ai.ss,"xmlns:o":ai.o,"xmlns:x":ai.x,"xmlns:ss":ai.ss,"xmlns:dt":ai.dt,"xmlns:html":ai.html})}var KS={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function FQe(e,t){var r=[],n=[],a=[],i=0,o,l=W$(n6,"n"),c=W$(s6,"n");if(e.Props)for(o=Os(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Os(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Custprops[o[i]]]);var d=[];for(i=0;i<a.length;++i)TZ.indexOf(a[i][0])>-1||EZ.indexOf(a[i][0])>-1||a[i][1]!=null&&d.push(a[i]);n.length&&Or.utils.cfb_add(t,"/SummaryInformation",c6(n,KS.SI,c,s6)),(r.length||d.length)&&Or.utils.cfb_add(t,"/DocumentSummaryInformation",c6(r,KS.DSI,l,n6,d.length?d:null,KS.UDI))}function LQe(e,t){var r=t||{},n=Or.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Or.utils.cfb_add(n,a,oJ(e,r)),r.biff==8&&(e.Props||e.Custprops)&&FQe(e,n),r.biff==8&&e.vbaraw&&rKe(n,Or.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var $Qe={0:{f:VXe},1:{f:YXe},2:{f:xYe},3:{f:sYe},4:{f:eYe},5:{f:fYe},6:{f:wYe},7:{f:lYe},8:{f:AYe},9:{f:EYe},10:{f:SYe},11:{f:CYe},12:{f:ZXe},13:{f:vYe},14:{f:iYe},15:{f:rYe},16:{f:mYe},17:{f:NYe},18:{f:dYe},19:{f:bD},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:hQe},40:{},42:{},43:{f:wqe},44:{f:yqe},45:{f:_qe},46:{f:Cqe},47:{f:Sqe},48:{},49:{f:ZHe},50:{},51:{f:Vqe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:JGe},62:{f:bYe},63:{f:Kqe},64:{f:WYe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:$l,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:BYe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:KXe},148:{f:HXe,p:16},151:{f:IYe},152:{},153:{f:uQe},154:{},155:{},156:{f:cQe},157:{},158:{},159:{T:1,f:cqe},160:{T:-1},161:{T:1,f:Qf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:PYe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Bqe},336:{T:-1},337:{f:Hqe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:GP},357:{},358:{},359:{},360:{T:1},361:{},362:{f:qGe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:RYe},427:{f:MYe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:LYe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:qXe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:OYe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:GP},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Jqe},633:{T:1},634:{T:-1},635:{T:1,f:Qqe},636:{T:-1},637:{f:rGe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:nQe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:HYe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Qe(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&gD(r)&&e.push(r)}}function BQe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Qe(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d;c<a;){for(u=e.next(4),u.write_shift(2,60),d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d}}}function sy(e,t,r){return e||(e=De(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function UQe(e,t,r,n){var a=De(9);return sy(a,e,t),OZ(r,n||"b",a),a}function VQe(e,t,r){var n=De(8+2*r.length);return sy(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function zQe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Va(pa(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Qe(e,2,nqe(r,n,a)):Qe(e,3,rqe(r,n,a));return;case"b":case"e":Qe(e,5,UQe(r,n,t.v,t.t));return;case"s":case"str":Qe(e,4,VQe(r,n,(t.v||"").slice(0,255)));return}Qe(e,1,sy(null,r,n))}function WQe(e,t,r,n){var a=Array.isArray(t),i=Qr(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Ln(i)}for(var d=i.s.r;d<=i.e.r;++d){l=Ps(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=Gs(u)),o=c[u]+l;var f=a?(t[d]||[])[u]:t[o];f&&zQe(e,f,d,u)}}}function HQe(e,t){for(var r=t||{},n=Fa(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Qe(n,r.biff==4?1033:r.biff==3?521:9,ND(e,16,r)),WQe(n,e.Sheets[e.SheetNames[a]],a,r),Qe(n,10),n.end()}function GQe(e,t,r){Qe(e,49,$Ge({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function qQe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Qe(e,1054,VGe(a,t[a],r))})}function KQe(e,t){var r=De(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Qe(e,2151,r),r=De(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),RZ(Qr(t["!ref"]||"A1"),r),r.write_shift(4,4),Qe(e,2152,r)}function XQe(e,t){for(var r=0;r<16;++r)Qe(e,224,u6({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Qe(e,224,u6(n,0,t))})}function YQe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Qe(e,440,YGe(n)),n[1].Tooltip&&Qe(e,2048,QGe(n))}delete t["!links"]}function QQe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Qe(e,125,eqe(U_(a,n),a))})}}function ZQe(e,t,r,n,a){var i=16+pu(a.cellXfs,t,a);if(t.v==null&&!t.bf){Qe(e,513,Df(r,n,i));return}if(t.bf)Qe(e,6,jXe(t,r,n,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Va(pa(t.v)):t.v;Qe(e,515,GGe(r,n,o,i));break;case"b":case"e":Qe(e,517,HGe(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=AD(a.Strings,t.v,a.revStrings);Qe(e,253,BGe(r,n,l,i))}else Qe(e,516,UGe(r,n,(t.v||"").slice(0,255),i,a));break;default:Qe(e,513,Df(r,n,i))}}function JQe(e,t,r){var n=Fa(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,u,f="",h=[],m=Qr(i["!ref"]||"A1"),x=d?65536:16384;if(m.e.c>255||m.e.r>=x){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,x-1)}Qe(n,2057,ND(r,16,t)),Qe(n,13,Mi(1)),Qe(n,12,Mi(100)),Qe(n,15,ia(!0)),Qe(n,17,ia(!1)),Qe(n,16,Of(.001)),Qe(n,95,ia(!0)),Qe(n,42,ia(!1)),Qe(n,43,ia(!1)),Qe(n,130,Mi(1)),Qe(n,128,WGe()),Qe(n,131,ia(!1)),Qe(n,132,ia(!1)),d&&QQe(n,i["!cols"]),Qe(n,512,zGe(m,t)),d&&(i["!links"]=[]);for(var p=m.s.r;p<=m.e.r;++p){f=Ps(p);for(var g=m.s.c;g<=m.e.c;++g){p===m.s.r&&(h[g]=Gs(g)),u=h[g]+f;var b=c?(i[p]||[])[g]:i[u];b&&(ZQe(n,b,p,g,t),d&&b.l&&i["!links"].push([u,b.l]))}}var y=l.CodeName||l.name||a;return d&&Qe(n,574,LGe((o.Views||[])[0])),d&&(i["!merges"]||[]).length&&Qe(n,229,XGe(i["!merges"])),d&&YQe(n,i),Qe(n,442,IZ(y)),d&&KQe(n,i),Qe(n,10),n.end()}function eZe(e,t,r){var n=Fa(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(Qe(n,2057,ND(e,5,r)),r.bookType=="xla"&&Qe(n,135),Qe(n,225,l?Mi(1200):null),Qe(n,193,SGe(2)),c&&Qe(n,191),c&&Qe(n,192),Qe(n,226),Qe(n,92,IGe("SheetJS",r)),Qe(n,66,Mi(l?1200:1252)),l&&Qe(n,353,Mi(0)),l&&Qe(n,448),Qe(n,317,tqe(e.SheetNames.length)),l&&e.vbaraw&&Qe(n,211),l&&e.vbaraw){var d=o.CodeName||"ThisWorkbook";Qe(n,442,IZ(d))}Qe(n,156,Mi(17)),Qe(n,25,ia(!1)),Qe(n,18,ia(!1)),Qe(n,19,Mi(0)),l&&Qe(n,431,ia(!1)),l&&Qe(n,444,Mi(0)),Qe(n,61,FGe()),Qe(n,64,ia(!1)),Qe(n,141,Mi(0)),Qe(n,34,ia(aQe(e)=="true")),Qe(n,14,ia(!0)),l&&Qe(n,439,ia(!1)),Qe(n,218,Mi(0)),GQe(n,e,r),qQe(n,e.SSF,r),XQe(n,r),l&&Qe(n,352,ia(!1));var u=n.end(),f=Fa();l&&Qe(f,140,ZGe()),l&&r.Strings&&BQe(f,252,MGe(r.Strings)),Qe(f,10);var h=f.end(),m=Fa(),x=0,p=0;for(p=0;p<e.SheetNames.length;++p)x+=(l?12:11)+(l?2:1)*e.SheetNames[p].length;var g=u.length+x+h.length;for(p=0;p<e.SheetNames.length;++p){var b=i[p]||{};Qe(m,133,RGe({pos:g,hs:b.Hidden||0,dt:0,name:e.SheetNames[p]},r)),g+=t[p].length}var y=m.end();if(x!=y.length)throw new Error("BS8 "+x+" != "+y.length);var j=[];return u.length&&j.push(u),y.length&&j.push(y),h.length&&j.push(h),js(j)}function tZe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=za(vn)),e&&e.SSF&&(M_(),R_(e.SSF),r.revssf=F_(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,PD(r),r.cellXfs=[],pu(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=JQe(a,r,e);return n.unshift(eZe(e,n,r)),js(n)}function oJ(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=yi(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return tZe(e,t);case 4:case 3:case 2:return HQe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function rZe(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,d=0;d<a.length;++d)if(!(a[d].s.r>r||a[d].s.c>o)&&!(a[d].e.r<r||a[d].e.c<o)){if(a[d].s.r<r||a[d].s.c<o){l=-1;break}l=a[d].e.r-a[d].s.r+1,c=a[d].e.c-a[d].s.c+1;break}if(!(l<0)){var u=Er({r,c:o}),f=n.dense?(e[r]||[])[o]:e[u],h=f&&f.v!=null&&(f.h||DHe(f.w||(Bc(f),f.w)||""))||"",m={};l>1&&(m.rowspan=l),c>1&&(m.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+u,i.push(Xe("td",h,m))}}var x="<tr>";return x+i.join("")+"</tr>"}var nZe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',sZe="</body></html>";function aZe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function lJ(e,t){var r=t||{},n=r.header!=null?r.header:nZe,a=r.footer!=null?r.footer:sZe,i=[n],o=yi(e["!ref"]);r.dense=Array.isArray(e),i.push(aZe(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(rZe(e,o,l,r));return i.push("</table>"+a),i.join("")}function cJ(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?is(n.origin):n.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=yi(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),a==-1&&(d.e.r=a=u.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),x=0,p=0,g=0,b=0,y=0,j=0;for(e["!cols"]||(e["!cols"]=[]);x<l.length&&p<c;++x){var w=l[x];if(v6(w)){if(n.display)continue;m[p]={hidden:!0}}var N=w.children;for(g=b=0;g<N.length;++g){var _=N[g];if(!(n.display&&v6(_))){var C=_.hasAttribute("data-v")?_.getAttribute("data-v"):_.hasAttribute("v")?_.getAttribute("v"):FHe(_.innerHTML),S=_.getAttribute("data-z")||_.getAttribute("z");for(h=0;h<f.length;++h){var E=f[h];E.s.c==b+i&&E.s.r<p+a&&p+a<=E.e.r&&(b=E.e.c+1-i,h=-1)}j=+_.getAttribute("colspan")||1,((y=+_.getAttribute("rowspan")||1)>1||j>1)&&f.push({s:{r:p+a,c:b+i},e:{r:p+a+(y||1)-1,c:b+i+(j||1)-1}});var P={t:"s",v:C},I=_.getAttribute("data-t")||_.getAttribute("t")||"";C!=null&&(C.length==0?P.t=I||"z":n.raw||C.trim().length==0||I=="s"||(C==="TRUE"?P={t:"b",v:!0}:C==="FALSE"?P={t:"b",v:!1}:isNaN(wc(C))?isNaN(qv(C).getDate())||(P={t:"d",v:pa(C)},n.cellDates||(P={t:"n",v:Va(P.v)}),P.z=n.dateNF||vn[14]):P={t:"n",v:wc(C)})),P.z===void 0&&S!=null&&(P.z=S);var D="",U=_.getElementsByTagName("A");if(U&&U.length)for(var F=0;F<U.length&&!(U[F].hasAttribute("href")&&(D=U[F].getAttribute("href"),D.charAt(0)!="#"));++F);D&&D.charAt(0)!="#"&&(P.l={Target:D}),n.dense?(e[p+a]||(e[p+a]=[]),e[p+a][b+i]=P):e[Er({c:b+i,r:p+a})]=P,d.e.c<b+i&&(d.e.c=b+i),b+=j}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),d.e.r=Math.max(d.e.r,p-1+a),e["!ref"]=Ln(d),p>=c&&(e["!fullref"]=Ln((d.e.r=l.length-x+p-1+a,d))),e}function dJ(e,t){var r=t||{},n=r.dense?[]:{};return cJ(n,e,t)}function iZe(e,t){return qf(dJ(e,t),t)}function v6(e){var t="",r=oZe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function oZe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var lZe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Xv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return $n+t}}(),y6=function(){var e=function(i){return Sr(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var c=[];c.push('      <table:table table:name="'+Sr(o.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,u=0,f=yi(i["!ref"]||"A1"),h=i["!merges"]||[],m=0,x=Array.isArray(i);if(i["!cols"])for(u=0;u<=f.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var p="",g=i["!rows"]||[];for(d=0;d<f.s.r;++d)p=g[d]?' table:style-name="ro'+g[d].ods+'"':"",c.push("        <table:table-row"+p+`></table:table-row>
`);for(;d<=f.e.r;++d){for(p=g[d]?' table:style-name="ro'+g[d].ods+'"':"",c.push("        <table:table-row"+p+`>
`),u=0;u<f.s.c;++u)c.push(t);for(;u<=f.e.c;++u){var b=!1,y={},j="";for(m=0;m!=h.length;++m)if(!(h[m].s.c>u)&&!(h[m].s.r>d)&&!(h[m].e.c<u)&&!(h[m].e.r<d)){(h[m].s.c!=u||h[m].s.r!=d)&&(b=!0),y["table:number-columns-spanned"]=h[m].e.c-h[m].s.c+1,y["table:number-rows-spanned"]=h[m].e.r-h[m].s.r+1;break}if(b){c.push(r);continue}var w=Er({r:d,c:u}),N=x?(i[d]||[])[u]:i[w];if(N&&N.f&&(y["table:formula"]=Sr(AXe(N.f)),N.F&&N.F.slice(0,w.length)==w)){var _=yi(N.F);y["table:number-matrix-columns-spanned"]=_.e.c-_.s.c+1,y["table:number-matrix-rows-spanned"]=_.e.r-_.s.r+1}if(!N){c.push(t);continue}switch(N.t){case"b":j=N.v?"TRUE":"FALSE",y["office:value-type"]="boolean",y["office:boolean-value"]=N.v?"true":"false";break;case"n":j=N.w||String(N.v||0),y["office:value-type"]="float",y["office:value"]=N.v||0;break;case"s":case"str":j=N.v==null?"":N.v,y["office:value-type"]="string";break;case"d":j=N.w||pa(N.v).toISOString(),y["office:value-type"]="date",y["office:date-value"]=pa(N.v).toISOString(),y["table:style-name"]="ce1";break;default:c.push(t);continue}var C=e(j);if(N.l&&N.l.Target){var S=N.l.Target;S=S.charAt(0)=="#"?"#"+PXe(S.slice(1)):S,S.charAt(0)!="#"&&!S.match(/^\w+:/)&&(S="../"+S),C=Xe("text:a",C,{"xlink:href":S.replace(/&/g,"&amp;")})}c.push("          "+Xe("table:table-cell",Xe("text:p",C,{}),y)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var f=d["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;_D(f),f.ods=l;var h=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var f=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[$n],d=Xv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Xv({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(SZ().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(n(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function uJ(e,t){if(t.bookType=="fods")return y6(e,t);var r=hD(),n="",a=[],i=[];return n="mimetype",Kt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Kt(r,n,y6(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Kt(r,n,lZe(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Kt(r,n,$n+SZ()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Kt(r,n,bGe(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Kt(r,n,vGe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Nj(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function cZe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Eo(Kv(e))}function dZe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function ru(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function uZe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function Yv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function jr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function tm(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function zn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Yv(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Yv(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var d={data:l,type:i};t[a]==null?t[a]=[d]:t[a].push(d)}return t}function vs(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(jr(n*8+a.type)),a.type==2&&t.push(jr(a.data.length)),t.push(a.data))})}),ru(t)}function mo(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Yv(e,n),i=zn(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:tm(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=zn(l.data),d=tm(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+d)}),n[0]+=d}),(t=i[3])!=null&&t[0]&&(o.merge=tm(i[3][0].data)>>>0>0),r.push(o)}return r}function fh(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:jr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:jr(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:jr(o.data.length)}],n[2].push({data:vs(o.meta),type:2})});var i=vs(n);t.push(jr(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),ru(t)}function fZe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Yv(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,d=0;if(i==1?(d=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[ru(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(a.push(a[0].slice(-c)),d-=c;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-c,-c+d))}}var u=ru(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function po(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(fZe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return ru(t)}function hh(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=jr(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return ru(t)}function XS(e,t){var r=new Uint8Array(32),n=Nj(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,uZe(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function YS(e,t){var r=new Uint8Array(32),n=Nj(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Jc(e){var t=zn(e);return Yv(t[1][0].data)}function hZe(e,t,r){var n,a,i,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&tm(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,d=Nj(e[7][0].data),u=0,f=[],h=Nj(e[4][0].data),m=0,x=[],p=0;p<t.length;++p){if(t[p]==null){d.setUint16(p*2,65535,!0),h.setUint16(p*2,65535);continue}d.setUint16(p*2,u,!0),h.setUint16(p*2,m,!0);var g,b;switch(typeof t[p]){case"string":g=XS({t:"s",v:t[p]},r),b=YS({t:"s",v:t[p]},r);break;case"number":g=XS({t:"n",v:t[p]},r),b=YS({t:"n",v:t[p]},r);break;case"boolean":g=XS({t:"b",v:t[p]},r),b=YS({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}f.push(g),u+=g.length,x.push(b),m+=b.length,++c}for(e[2][0].data=jr(c);p<e[7][0].data.length/2;++p)d.setUint16(p*2,65535,!0),h.setUint16(p*2,65535,!0);return e[6][0].data=ru(f),e[3][0].data=ru(x),c}function mZe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=yi(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Ln(n)));var i=_j(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(L){return L.forEach(function(R){typeof R=="string"&&o.push(R)})});var l={},c=[],d=Or.read(t.numbers,{type:"base64"});d.FileIndex.map(function(L,R){return[L,d.FullPaths[R]]}).forEach(function(L){var R=L[0],K=L[1];if(R.type==2&&R.name.match(/\.iwa/)){var q=R.content,Z=po(q),X=mo(Z);X.forEach(function(ee){c.push(ee.id),l[ee.id]={deps:[],location:K,type:tm(ee.messages[0].meta[1][0].data)}})}}),c.sort(function(L,R){return L-R});var u=c.filter(function(L){return L>1}).map(function(L){return[L,jr(L)]});d.FileIndex.map(function(L,R){return[L,d.FullPaths[R]]}).forEach(function(L){var R=L[0];if(L[1],!!R.name.match(/\.iwa/)){var K=mo(po(R.content));K.forEach(function(q){q.messages.forEach(function(Z){u.forEach(function(X){q.messages.some(function(ee){return tm(ee.meta[1][0].data)!=11006&&dZe(ee.data,X[1])})&&l[X[0]].deps.push(q.id)})})})}});for(var f=Or.find(d,l[1].location),h=mo(po(f.content)),m,x=0;x<h.length;++x){var p=h[x];p.id==1&&(m=p)}var g=Jc(zn(m.messages[0].data)[1][0].data);for(f=Or.find(d,l[g].location),h=mo(po(f.content)),x=0;x<h.length;++x)p=h[x],p.id==g&&(m=p);for(g=Jc(zn(m.messages[0].data)[2][0].data),f=Or.find(d,l[g].location),h=mo(po(f.content)),x=0;x<h.length;++x)p=h[x],p.id==g&&(m=p);for(g=Jc(zn(m.messages[0].data)[2][0].data),f=Or.find(d,l[g].location),h=mo(po(f.content)),x=0;x<h.length;++x)p=h[x],p.id==g&&(m=p);var b=zn(m.messages[0].data);{b[6][0].data=jr(n.e.r+1),b[7][0].data=jr(n.e.c+1);var y=Jc(b[46][0].data),j=Or.find(d,l[y].location),w=mo(po(j.content));{for(var N=0;N<w.length&&w[N].id!=y;++N);if(w[N].id!=y)throw"Bad ColumnRowUIDMapArchive";var _=zn(w[N].messages[0].data);_[1]=[],_[2]=[],_[3]=[];for(var C=0;C<=n.e.c;++C){var S=[];S[1]=S[2]=[{type:0,data:jr(C+420690)}],_[1].push({type:2,data:vs(S)}),_[2].push({type:0,data:jr(C)}),_[3].push({type:0,data:jr(C)})}_[4]=[],_[5]=[],_[6]=[];for(var E=0;E<=n.e.r;++E)S=[],S[1]=S[2]=[{type:0,data:jr(E+726270)}],_[4].push({type:2,data:vs(S)}),_[5].push({type:0,data:jr(E)}),_[6].push({type:0,data:jr(E)});w[N].messages[0].data=vs(_)}j.content=hh(fh(w)),j.size=j.content.length,delete b[46];var P=zn(b[4][0].data);{P[7][0].data=jr(n.e.r+1);var I=zn(P[1][0].data),D=Jc(I[2][0].data);j=Or.find(d,l[D].location),w=mo(po(j.content));{if(w[0].id!=D)throw"Bad HeaderStorageBucket";var U=zn(w[0].messages[0].data);for(E=0;E<i.length;++E){var F=zn(U[2][0].data);F[1][0].data=jr(E),F[4][0].data=jr(i[E].length),U[2][E]={type:U[2][0].type,data:vs(F)}}w[0].messages[0].data=vs(U)}j.content=hh(fh(w)),j.size=j.content.length;var M=Jc(P[2][0].data);j=Or.find(d,l[M].location),w=mo(po(j.content));{if(w[0].id!=M)throw"Bad HeaderStorageBucket";for(U=zn(w[0].messages[0].data),C=0;C<=n.e.c;++C)F=zn(U[2][0].data),F[1][0].data=jr(C),F[4][0].data=jr(n.e.r+1),U[2][C]={type:U[2][0].type,data:vs(F)};w[0].messages[0].data=vs(U)}j.content=hh(fh(w)),j.size=j.content.length;var O=Jc(P[4][0].data);(function(){for(var L=Or.find(d,l[O].location),R=mo(po(L.content)),K,q=0;q<R.length;++q){var Z=R[q];Z.id==O&&(K=Z)}var X=zn(K.messages[0].data);{X[3]=[];var ee=[];o.forEach(function(he,Ge){ee[1]=[{type:0,data:jr(Ge)}],ee[2]=[{type:0,data:jr(1)}],ee[3]=[{type:2,data:cZe(he)}],X[3].push({type:2,data:vs(ee)})})}K.messages[0].data=vs(X);var ie=fh(R),be=hh(ie);L.content=be,L.size=L.content.length})();var A=zn(P[3][0].data);{var k=A[1][0];delete A[2];var W=zn(k.data);{var fe=Jc(W[2][0].data);(function(){for(var L=Or.find(d,l[fe].location),R=mo(po(L.content)),K,q=0;q<R.length;++q){var Z=R[q];Z.id==fe&&(K=Z)}var X=zn(K.messages[0].data);{delete X[6],delete A[7];var ee=new Uint8Array(X[5][0].data);X[5]=[];for(var ie=0,be=0;be<=n.e.r;++be){var he=zn(ee);ie+=hZe(he,i[be],o),he[1][0].data=jr(be),X[5].push({data:vs(he),type:2})}X[1]=[{type:0,data:jr(n.e.c+1)}],X[2]=[{type:0,data:jr(n.e.r+1)}],X[3]=[{type:0,data:jr(ie)}],X[4]=[{type:0,data:jr(n.e.r+1)}]}K.messages[0].data=vs(X);var Ge=fh(R),ke=hh(Ge);L.content=ke,L.size=L.content.length})()}k.data=vs(W)}P[3][0].data=vs(A)}b[4][0].data=vs(P)}m.messages[0].data=vs(b);var de=fh(h),T=hh(de);return f.content=T,f.size=f.content.length,d}function pZe(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function PD(e){pZe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function xZe(e,t){return t.bookType=="ods"?uJ(e,t):t.bookType=="numbers"?mZe(e,t):t.bookType=="xlsb"?gZe(e,t):vZe(e,t)}function gZe(e,t){Ih=1024,e&&!e.SSF&&(e.SSF=za(vn)),e&&e.SSF&&(M_(),R_(e.SSF),t.revssf=F_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,yg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=qZ.indexOf(t.bookType)>-1,a=jZ();PD(t=t||{});var i=hD(),o="",l=0;if(t.cellXfs=[],pu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Kt(i,o,CZ(e.Props,t)),a.coreprops.push(o),_r(t.rels,2,o,ur.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Kt(i,o,AZ(e.Props)),a.extprops.push(o),_r(t.rels,3,o,ur.EXT_PROPS),e.Custprops!==e.Props&&Os(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Kt(i,o,PZ(e.Custprops)),a.custprops.push(o),_r(t.rels,4,o,ur.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var u={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Kt(i,o,bQe(l-1,o,t,e,u)),a.sheets.push(o),_r(t.wbrels,-1,"worksheets/sheet"+l+"."+r,ur.WS[0])}if(f){var m=f["!comments"],x=!1,p="";m&&m.length>0&&(p="xl/comments"+l+"."+r,Kt(i,p,NQe(m,p)),a.comments.push(p),_r(u,-1,"../comments"+l+"."+r,ur.CMNT),x=!0),f["!legacy"]&&x&&Kt(i,"xl/drawings/vmlDrawing"+l+".vml",HZ(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&Kt(i,_Z(o),Jh(u))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Kt(i,o,jQe(t.Strings,o,t)),a.strs.push(o),_r(t.wbrels,-1,"sharedStrings."+r,ur.SST)),o="xl/workbook."+r,Kt(i,o,yQe(e,o)),a.workbooks.push(o),_r(t.rels,1,o,ur.WB),o="xl/theme/theme1.xml",Kt(i,o,zZ(e.Themes,t)),a.themes.push(o),_r(t.wbrels,-1,"theme/theme1.xml",ur.THEME),o="xl/styles."+r,Kt(i,o,wQe(e,o,t)),a.styles.push(o),_r(t.wbrels,-1,"styles."+r,ur.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Kt(i,o,e.vbaraw),a.vba.push(o),_r(t.wbrels,-1,"vbaProject.bin",ur.VBA)),o="xl/metadata."+r,Kt(i,o,_Qe(o)),a.metadata.push(o),_r(t.wbrels,-1,"metadata."+r,ur.XLMETA),Kt(i,"[Content_Types].xml",NZ(a,t)),Kt(i,"_rels/.rels",Jh(t.rels)),Kt(i,"xl/_rels/workbook."+r+".rels",Jh(t.wbrels)),delete t.revssf,delete t.ssf,i}function vZe(e,t){Ih=1024,e&&!e.SSF&&(e.SSF=za(vn)),e&&e.SSF&&(M_(),R_(e.SSF),t.revssf=F_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,yg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=qZ.indexOf(t.bookType)>-1,a=jZ();PD(t=t||{});var i=hD(),o="",l=0;if(t.cellXfs=[],pu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Kt(i,o,CZ(e.Props,t)),a.coreprops.push(o),_r(t.rels,2,o,ur.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Kt(i,o,AZ(e.Props)),a.extprops.push(o),_r(t.rels,3,o,ur.EXT_PROPS),e.Custprops!==e.Props&&Os(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Kt(i,o,PZ(e.Custprops)),a.custprops.push(o),_r(t.rels,4,o,ur.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Kt(i,o,rJ(l-1,t,e,f)),a.sheets.push(o),_r(t.wbrels,-1,"worksheets/sheet"+l+"."+r,ur.WS[0])}if(h){var x=h["!comments"],p=!1,g="";if(x&&x.length>0){var b=!1;x.forEach(function(y){y[1].forEach(function(j){j.T==!0&&(b=!0)})}),b&&(g="xl/threadedComments/threadedComment"+l+"."+r,Kt(i,g,Xqe(x,u,t)),a.threadedcomments.push(g),_r(f,-1,"../threadedComments/threadedComment"+l+"."+r,ur.TCMNT)),g="xl/comments"+l+"."+r,Kt(i,g,GZ(x)),a.comments.push(g),_r(f,-1,"../comments"+l+"."+r,ur.CMNT),p=!0}h["!legacy"]&&p&&Kt(i,"xl/drawings/vmlDrawing"+l+".vml",HZ(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Kt(i,_Z(o),Jh(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Kt(i,o,FZ(t.Strings,t)),a.strs.push(o),_r(t.wbrels,-1,"sharedStrings."+r,ur.SST)),o="xl/workbook."+r,Kt(i,o,aJ(e)),a.workbooks.push(o),_r(t.rels,1,o,ur.WB),o="xl/theme/theme1.xml",Kt(i,o,zZ(e.Themes,t)),a.themes.push(o),_r(t.wbrels,-1,"theme/theme1.xml",ur.THEME),o="xl/styles."+r,Kt(i,o,UZ(e,t)),a.styles.push(o),_r(t.wbrels,-1,"styles."+r,ur.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",Kt(i,o,e.vbaraw),a.vba.push(o),_r(t.wbrels,-1,"vbaProject.bin",ur.VBA)),o="xl/metadata."+r,Kt(i,o,WZ()),a.metadata.push(o),_r(t.wbrels,-1,"metadata."+r,ur.XLMETA),u.length>1&&(o="xl/persons/person.xml",Kt(i,o,Yqe(u)),a.people.push(o),_r(t.wbrels,-1,"persons/person.xml",ur.PEOPLE)),Kt(i,"[Content_Types].xml",NZ(a,t)),Kt(i,"_rels/.rels",Jh(t.rels)),Kt(i,"xl/_rels/workbook."+r+".rels",Jh(t.wbrels)),delete t.revssf,delete t.ssf,i}function yZe(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=$c(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function fJ(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return ey(t.file,Or.write(e,{type:mr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Or.write(e,t)}function bZe(e,t){var r=za(t||{}),n=xZe(e,r);return wZe(n,r)}function wZe(e,t){var r={},n=mr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Or.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(I_(a))}return t.password&&typeof encrypt_agile<"u"?fJ(encrypt_agile(a,t.password),t):t.type==="file"?ey(t.file,a):t.type=="string"?pg(a):a}function jZe(e,t){var r=t||{},n=LQe(e,r);return fJ(n,r)}function cl(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Gv(Kv(n));case"binary":return Kv(n);case"string":return e;case"file":return ey(t.file,n,"utf8");case"buffer":return mr?Kc(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):cl(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function NZe(e,t){switch(t.type){case"base64":return Gv(e);case"binary":return e;case"string":return e;case"file":return ey(t.file,e,"binary");case"buffer":return mr?Kc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function p1(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Gv(r):t.type=="string"?pg(r):r;case"file":return ey(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function hJ(e,t){QWe(),lQe(e);var r=za(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=hJ(e,r);return r.type="array",I_(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return cl(MQe(e,r),r);case"slk":case"sylk":return cl(aqe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return cl(lJ(e.Sheets[e.SheetNames[a]],r),r);case"txt":return NZe(mJ(e.Sheets[e.SheetNames[a]],r),r);case"csv":return cl(TD(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return cl(iqe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return p1(sqe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return cl(oqe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return cl(mqe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return cl(MZ.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return cl(uJ(e,r),r);case"wk1":return p1(f6.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return p1(f6.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),p1(oJ(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),jZe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return bZe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function _Ze(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function SZe(e,t,r){var n={};return n.type="file",n.file=t,_Ze(n),hJ(e,n)}function CZe(e,t,r,n,a,i,o,l){var c=Ps(r),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||e[r])for(var m=t.s.c;m<=t.e.c;++m){var x=o?e[r][m]:e[n[m]+c];if(x===void 0||x.t===void 0){if(d===void 0)continue;i[m]!=null&&(h[i[m]]=d);continue}var p=x.v;switch(x.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(i[m]!=null){if(p==null)if(x.t=="e"&&p===null)h[i[m]]=null;else if(d!==void 0)h[i[m]]=d;else if(u&&p===null)h[i[m]]=null;else continue;else h[i[m]]=u&&(x.t!=="n"||x.t==="n"&&l.rawNumbers!==!1)?p:Bc(x,p,l);p!=null&&(f=!1)}}return{row:h,isempty:f}}function _j(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?n=1:d.header==="A"?n=2:Array.isArray(d.header)?n=3:d.header==null&&(n=0),typeof u){case"string":c=Qr(u);break;case"number":c=Qr(e["!ref"]),c.s.r=u;break;default:c=u}n>0&&(a=0);var f=Ps(c.s.r),h=[],m=[],x=0,p=0,g=Array.isArray(e),b=c.s.r,y=0,j={};g&&!e[b]&&(e[b]=[]);var w=d.skipHidden&&e["!cols"]||[],N=d.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(w[y]||{}).hidden)switch(h[y]=Gs(y),r=g?e[b][y]:e[h[y]+f],n){case 1:i[y]=y-c.s.c;break;case 2:i[y]=h[y];break;case 3:i[y]=d.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=Bc(r,null,d),p=j[o]||0,!p)j[o]=1;else{do l=o+"_"+p++;while(j[l]);j[o]=p,j[l]=1}i[y]=l}for(b=c.s.r+a;b<=c.e.r;++b)if(!(N[b]||{}).hidden){var _=CZe(e,c,b,h,n,i,g,d);(_.isempty===!1||(n===1?d.blankrows!==!1:d.blankrows))&&(m[x++]=_.row)}return m.length=x,m}var b6=/"/g;function EZe(e,t,r,n,a,i,o,l){for(var c=!0,d=[],u="",f=Ps(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=l.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)u="";else if(m.v!=null){c=!1,u=""+(l.rawNumbers&&m.t=="n"?m.v:Bc(m,null,l));for(var x=0,p=0;x!==u.length;++x)if((p=u.charCodeAt(x))===a||p===i||p===34||l.forceQuotes){u='"'+u.replace(b6,'""')+'"';break}u=="ID"&&(u='"ID"')}else m.f!=null&&!m.F?(c=!1,u="="+m.f,u.indexOf(",")>=0&&(u='"'+u.replace(b6,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(o)}function TD(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Qr(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],x=a.s.c;x<=a.e.c;++x)(h[x]||{}).hidden||(f[x]=Gs(x));for(var p=0,g=a.s.r;g<=a.e.r;++g)(m[g]||{}).hidden||(u=EZe(e,a,g,f,o,c,i,n),u!=null&&(n.strip&&(u=u.replace(d,"")),(u||n.blankrows!==!1)&&r.push((p++?l:"")+u)));return delete n.dense,r.join("")}function mJ(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=TD(e,t);return r}function AZe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Qr(e["!ref"]),i="",o=[],l,c=[],d=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=Gs(l);for(var u=a.s.r;u<=a.e.r;++u)for(i=Ps(u),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=d?(e[u]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function pJ(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?is(n.origin):n.origin;o=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var f=Qr(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(o=f.e.r+1,u.e.r=o+t.length-1+a)}else o==-1&&(o=0,u.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(p,g){Os(p).forEach(function(b){(m=h.indexOf(b))==-1&&(h[m=h.length]=b);var y=p[b],j="z",w="",N=Er({c:l+m,r:o+g+a});d=Qv(i,N),y&&typeof y=="object"&&!(y instanceof Date)?i[N]=y:(typeof y=="number"?j="n":typeof y=="boolean"?j="b":typeof y=="string"?j="s":y instanceof Date?(j="d",n.cellDates||(j="n",y=Va(y)),w=n.dateNF||vn[14]):y===null&&n.nullError&&(j="e",y=0),d?(d.t=j,d.v=y,delete d.w,delete d.R,w&&(d.z=w)):i[N]=d={t:j,v:y},w&&(d.z=w))})}),u.e.c=Math.max(u.e.c,l+h.length-1);var x=Ps(o);if(a)for(m=0;m<h.length;++m)i[Gs(m+l)+x]={t:"s",v:h[m]};return i["!ref"]=Ln(u),i}function PZe(e,t){return pJ(null,e,t)}function Qv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=is(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Qv(e,Er(t)):Qv(e,Er({r:t,c:r||0}))}function TZe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function kZe(){return{SheetNames:[],Sheets:{}}}function OZe(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(sJ(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function DZe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=TZe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function IZe(e,t){return e.z=t,e}function xJ(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function RZe(e,t,r){return xJ(e,"#"+t,r)}function MZe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function FZe(e,t,r,n){for(var a=typeof t!="string"?t:Qr(t),i=typeof t=="string"?t:Ln(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=Qv(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var QS={encode_col:Gs,encode_row:Ps,encode_cell:Er,encode_range:Ln,decode_col:yD,decode_row:vD,split_cell:QHe,decode_cell:is,decode_range:yi,format_cell:Bc,sheet_add_aoa:xZ,sheet_add_json:pJ,sheet_add_dom:cJ,aoa_to_sheet:Gp,json_to_sheet:PZe,table_to_sheet:dJ,table_to_book:iZe,sheet_to_csv:TD,sheet_to_txt:mJ,sheet_to_json:_j,sheet_to_html:lJ,sheet_to_formulae:AZe,sheet_to_row_object_array:_j,sheet_get_cell:Qv,book_new:kZe,book_append_sheet:OZe,book_set_sheet_visibility:DZe,cell_set_number_format:IZe,cell_set_hyperlink:xJ,cell_set_internal_link:RZe,cell_add_comment:MZe,sheet_set_array_formula:FZe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const LZe=()=>{var Ae;const e=cr(),{apartments:t,products:r,vendors:n,updateIssue:a}=gl(),[i,o]=v.useState([]),[l,c]=v.useState(!0);v.useEffect(()=>{(async()=>{c(!0);try{const we=await ss.getIssues({page_size:100});o(we.results||[])}catch(we){console.error("Failed to fetch issues:",we),Me.error("Failed to load issues")}finally{c(!1)}})()},[]);const d=i,[u,f]=v.useState("kanban"),[h,m]=v.useState(""),[x,p]=v.useState("All"),[g,b]=v.useState("All"),[y,j]=v.useState("All"),[w,N]=v.useState("All"),[_,C]=v.useState("All"),[S,E]=v.useState("All"),[P,I]=v.useState(!1),[D,U]=v.useState(null),[F,M]=v.useState(!1),[O,A]=v.useState(!1),[k,W]=v.useState(null),[fe,de]=v.useState(!1),T=v.useMemo(()=>{const ae={};return d.forEach((we,lt)=>{ae[we.id]=["Critical","High","Medium","Low"][lt%4]}),ae},[d]),L=["Admin","Barbara Kovcs","Maria Weber","Unassigned"],R=ae=>{const we=t.find(lt=>lt.id===ae);return(we==null?void 0:we.name)||"Unknown"},K=ae=>{const we={Critical:"bg-danger/10 text-danger border-danger/20",High:"bg-warning/10 text-warning border-warning/20",Medium:"bg-primary/10 text-primary border-primary/20",Low:"bg-muted text-muted-foreground border-border"};return we[ae]||we.Low},q=ae=>{const we={Open:"bg-danger/10 text-danger border-danger/20","Pending Vendor Response":"bg-warning/10 text-warning border-warning/20","Resolution Agreed":"bg-primary/10 text-primary border-primary/20",Closed:"bg-success/10 text-success border-success/20"};return we[ae]||we.Open},Z=ae=>{switch(ae){case"Broken/Damaged":return s.jsx(Et,{className:"h-4 w-4"});case"Wrong Item/Color":return s.jsx(l0,{className:"h-4 w-4"});case"Missing Parts":return s.jsx(mt,{className:"h-4 w-4"});case"Incorrect Quantity":return s.jsx(Zi,{className:"h-4 w-4"});default:return s.jsx(Et,{className:"h-4 w-4"})}},X=v.useMemo(()=>d.filter(ae=>{var Pr,Dr,wr,wt;const we=((Pr=ae.apartment_details)==null?void 0:Pr.name)||ae.apartment_name||R(ae.apartment),lt=ae.display_product_name||ae.product_name||((Dr=ae.product_details)==null?void 0:Dr.product)||"",Je=ae.vendor_name||((wr=ae.vendor_details)==null?void 0:wr.name)||ae.vendor||"",qe=ae.priority||T[ae.id],z=lt.toLowerCase().includes(h.toLowerCase())||ae.description.toLowerCase().includes(h.toLowerCase())||Je.toLowerCase().includes(h.toLowerCase())||we.toLowerCase().includes(h.toLowerCase()),je=x==="All"||ae.status===x,ut=g==="All"||((wt=ae.type)==null?void 0:wt.includes(g)),vt=y==="All"||qe===y,Ye=w==="All"||ae.apartment===w,$t=_==="All"||ae.vendor===_||Je===_;return z&&je&&ut&&vt&&Ye&&$t}),[d,h,x,g,y,w,_,T]),ee=v.useMemo(()=>{const ae=X.length,we=X.filter(vt=>vt.status==="Open").length,lt=X.filter(vt=>vt.status==="Pending Vendor Response").length,Je=X.filter(vt=>vt.status==="Resolution Agreed").length,qe=X.filter(vt=>vt.status==="Closed").length,z=X.filter(vt=>(vt.priority||T[vt.id])==="Critical").length,je=X.filter(vt=>vt.ai_activated).length;return{total:ae,open:we,pending:lt,resolved:Je,closed:qe,critical:z,withAI:je,avgResolutionDays:5.2}},[X,T]),ie=v.useMemo(()=>{const ae={Open:[],"Pending Vendor Response":[],"Resolution Agreed":[],Closed:[]};return X.forEach(we=>{ae[we.status]&&ae[we.status].push(we)}),ae},[X]),be=v.useMemo(()=>{const ae=[];for(let we=6;we>=0;we--){const lt=oc(new Date,we);ae.push({date:Qt(lt,"MMM dd"),reported:Math.floor(Math.random()*5)+1,resolved:Math.floor(Math.random()*4)})}return ae},[]),he=v.useMemo(()=>{const ae=["Broken/Damaged","Wrong Item/Color","Missing Parts","Incorrect Quantity"];return ae.map(we=>({name:we,value:X.filter(lt=>lt.type===we).length,color:["hsl(var(--danger))","hsl(var(--warning))","hsl(var(--primary))","hsl(var(--success))"][ae.indexOf(we)]})).filter(we=>we.value>0)},[X]),Ge=Array.from(new Set(d.map(ae=>{var we;return ae.vendor_name||((we=ae.vendor_details)==null?void 0:we.name)||ae.vendor}))).filter(Boolean).sort(),ke=()=>{m(""),p("All"),b("All"),j("All"),N("All"),C("All"),E("All")},bt=[h,x!=="All",g!=="All",y!=="All",w!=="All",_!=="All",S!=="All"].filter(Boolean).length,rt=ae=>{e(`/issues/${ae.id}`)},Oe=(ae,we)=>{ae.stopPropagation(),e(`/issues/${we.id}/edit`)},G=(ae,we)=>{ae.stopPropagation(),W(we),A(!0)},ce=async()=>{var ae,we;if(k){de(!0);try{await ss.deleteIssue(k.id),Me.success("Issue deleted successfully");const lt=await ss.getIssues({});o(lt.results||[])}catch(lt){Me.error(((we=(ae=lt.response)==null?void 0:ae.data)==null?void 0:we.message)||"Failed to delete issue")}finally{de(!1),A(!1),W(null)}}},xe=()=>{try{const ae=X.map(z=>{var je,ut,vt,Ye,$t;return{"Issue ID":z.id,Product:z.display_product_name||z.product_name||((je=z.product_details)==null?void 0:je.product)||"Unknown",Type:z.type,Priority:z.priority||T[z.id],Status:z.status,Apartment:((ut=z.apartment_details)==null?void 0:ut.name)||z.apartment_name||R(z.apartment),Vendor:z.vendor_name||((vt=z.vendor_details)==null?void 0:vt.name)||z.vendor,Description:z.description,"Reported Date":z.reported_on?Qt(new Date(z.reported_on),"yyyy-MM-dd"):"Unknown","Days Open":z.reported_on?Uy(new Date,new Date(z.reported_on)):0,"AI Active":z.ai_activated?"Yes":"No",Photos:((Ye=z.photos)==null?void 0:Ye.length)||0,Communications:(($t=z.ai_communication_log)==null?void 0:$t.length)||0}}),we=QS.json_to_sheet(ae),lt=[{wch:15},{wch:30},{wch:20},{wch:10},{wch:20},{wch:20},{wch:20},{wch:40},{wch:12},{wch:10},{wch:10},{wch:8},{wch:15}];we["!cols"]=lt;const Je=QS.book_new();QS.book_append_sheet(Je,we,"Issues");const qe=`Issues_Report_${Qt(new Date,"yyyy-MM-dd_HHmmss")}.xlsx`;SZe(Je,qe),Me.success("Export Complete",{description:`Downloaded ${X.length} issues to ${qe}`})}catch{Me.error("Export Failed",{description:"Failed to generate the export file"})}},ve=()=>{if(X.length===0){Me.error("No issues to email");return}e("/issues/bulk-email",{state:{selectedIssues:X}})},ge=v.useCallback(async ae=>{const{destination:we,source:lt,draggableId:Je}=ae;if(!we||we.droppableId===lt.droppableId&&we.index===lt.index)return;const qe=we.droppableId,z=Je,je=X.find(ut=>ut.id===z);if(je&&je.status!==qe)try{Me.loading(`Moving issue to ${qe}...`,{id:"drag-status"}),await ss.updateIssue(z,{status:qe});const ut=await ss.getIssues();o(ut.results||[]),Me.success(`Issue moved to ${qe}`,{id:"drag-status"})}catch(ut){console.error("Failed to update issue status:",ut),Me.error("Failed to update issue status",{id:"drag-status"})}},[X]);return s.jsxs(yt,{title:"Issues Management",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(re,{size:"lg",className:"h-11 shadow-lg hover:shadow-xl transition-shadow",onClick:()=>e("/issues/new"),children:[s.jsx(An,{className:"h-5 w-5 mr-2"}),"Report Issue"]}),s.jsxs(re,{variant:"outline",size:"lg",className:"h-11 shadow-sm hover:shadow-md transition-shadow",onClick:ve,children:[s.jsx(yn,{className:"h-4 w-4 mr-2"}),"Bulk Email"]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(re,{variant:"outline",onClick:xe,className:"shadow-sm hover:shadow-md transition-shadow",children:[s.jsx(qj,{className:"h-4 w-4 mr-2"}),"Export"]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[s.jsx(oe,{className:"shadow-sm hover:shadow-md transition-shadow ",children:s.jsxs(le,{className:"p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(ene,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Total Issues"}),s.jsx("p",{className:"text-2xl font-bold",children:ee.total})]})]})}),s.jsx(oe,{className:"shadow-sm hover:shadow-md transition-shadow ",children:s.jsxs(le,{className:"p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(Et,{className:"h-5 w-5 text-danger"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Open"}),s.jsx("p",{className:"text-2xl font-bold text-danger",children:ee.open})]})]})}),s.jsx(oe,{className:"shadow-sm hover:shadow-md transition-shadow ",children:s.jsxs(le,{className:"p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(Vr,{className:"h-5 w-5 text-warning"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-warning",children:ee.pending})]})]})}),s.jsx(oe,{className:"shadow-sm hover:shadow-md transition-shadow ",children:s.jsxs(le,{className:"p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(N9,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Resolved"}),s.jsx("p",{className:"text-2xl font-bold text-primary",children:ee.resolved})]})]})}),s.jsx(oe,{className:"shadow-sm hover:shadow-md transition-shadow ",children:s.jsxs(le,{className:"p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(Br,{className:"h-5 w-5 text-success"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Closed"}),s.jsx("p",{className:"text-2xl font-bold text-success",children:ee.closed})]})]})}),s.jsx(oe,{className:"shadow-sm hover:shadow-md transition-shadow ",children:s.jsxs(le,{className:"p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx($g,{className:"h-5 w-5 text-danger"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Critical"}),s.jsx("p",{className:"text-2xl font-bold text-danger",children:ee.critical})]})]})}),s.jsx(oe,{className:"shadow-sm hover:shadow-md transition-shadow  bg-gradient-to-br from-primary/5 to-transparent",children:s.jsxs(le,{className:"p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(Ea,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"AI Active"}),s.jsx("p",{className:"text-2xl font-bold text-primary",children:ee.withAI})]})]})}),s.jsx(oe,{className:"shadow-sm hover:shadow-md transition-shadow ",children:s.jsxs(le,{className:"p-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(jne,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Avg Resolution"}),s.jsxs("p",{className:"text-2xl font-bold",children:[ee.avgResolutionDays,"d"]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(oe,{className:"shadow-md ",children:[s.jsx(Fe,{children:s.jsxs($e,{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx($o,{className:"h-5 w-5 text-primary"}),"Issues Trend"]})}),s.jsx(le,{children:s.jsx(Cl,{width:"100%",height:250,children:s.jsxs(y_,{data:be,children:[s.jsx(Ml,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(Ba,{dataKey:"date",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),s.jsx(Ua,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),s.jsx(Hn,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(Ro,{}),s.jsx(Fl,{type:"monotone",dataKey:"reported",stroke:"hsl(var(--danger))",strokeWidth:2,name:"Reported"}),s.jsx(Fl,{type:"monotone",dataKey:"resolved",stroke:"hsl(var(--success))",strokeWidth:2,name:"Resolved"})]})})})]}),s.jsxs(oe,{className:"shadow-md ",children:[s.jsx(Fe,{children:s.jsxs($e,{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(mt,{className:"h-5 w-5 text-primary"}),"Issue Types Distribution"]})}),s.jsx(le,{children:s.jsx(Cl,{width:"100%",height:250,children:s.jsxs(Xq,{children:[s.jsx(Hl,{data:he,cx:"50%",cy:"50%",labelLine:!1,label:({name:ae,percent:we})=>`${ae.split("/")[0]}: ${(we*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:he.map((ae,we)=>s.jsx(F0,{fill:ae.color},`cell-${we}`))}),s.jsx(Hn,{})]})})})]})]}),s.jsx(oe,{className:"shadow-md",children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{placeholder:"Search issues by product, description, vendor, or apartment...",value:h,onChange:ae=>m(ae.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap lg:flex-nowrap",children:[s.jsxs(nt,{value:x,onValueChange:p,children:[s.jsx(et,{className:"w-full sm:w-[140px]",children:s.jsx(st,{placeholder:"Status"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"All",children:"All Status"}),s.jsx(J,{value:"Open",children:"Open"}),s.jsx(J,{value:"Pending Vendor Response",children:"Pending"}),s.jsx(J,{value:"Resolution Agreed",children:"Resolved"}),s.jsx(J,{value:"Closed",children:"Closed"})]})]}),s.jsxs(nt,{value:g,onValueChange:b,children:[s.jsx(et,{className:"w-full sm:w-[140px]",children:s.jsx(st,{placeholder:"Type"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"All",children:"All Types"}),s.jsx(J,{value:"Broken/Damaged",children:"Damaged"}),s.jsx(J,{value:"Wrong Item/Color",children:"Wrong Item"}),s.jsx(J,{value:"Missing Parts",children:"Missing"}),s.jsx(J,{value:"Incorrect Quantity",children:"Quantity"})]})]}),s.jsxs(re,{variant:P?"default":"outline",onClick:()=>I(!P),className:"relative",children:[s.jsx(c0,{className:"h-4 w-4 mr-2"}),"Filters",bt>0&&s.jsx(Pe,{className:"ml-2 h-5 w-5 p-0 flex items-center justify-center bg-primary-foreground text-primary",children:bt}),P?s.jsx(Gj,{className:"h-4 w-4 ml-2"}):s.jsx(Ff,{className:"h-4 w-4 ml-2"})]})]})]}),P&&s.jsxs("div",{className:"pt-4 border-t space-y-4 animate-slide-down",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-semibold",children:"Advanced Filters"}),bt>0&&s.jsxs(re,{variant:"ghost",size:"sm",onClick:ke,className:"h-8 text-xs",children:[s.jsx(Bs,{className:"h-3 w-3 mr-1"}),"Clear All"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{className:"text-xs font-medium text-muted-foreground",children:"Priority"}),s.jsxs(nt,{value:y,onValueChange:j,children:[s.jsx(et,{children:s.jsx(st,{placeholder:"All Priorities"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"All",children:"All Priorities"}),s.jsx(J,{value:"Critical",children:"Critical"}),s.jsx(J,{value:"High",children:"High"}),s.jsx(J,{value:"Medium",children:"Medium"}),s.jsx(J,{value:"Low",children:"Low"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{className:"text-xs font-medium text-muted-foreground",children:"Apartment"}),s.jsxs(nt,{value:w,onValueChange:N,children:[s.jsx(et,{children:s.jsx(st,{placeholder:"All Apartments"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"All",children:"All Apartments"}),t.map(ae=>s.jsx(J,{value:ae.id,children:ae.name},ae.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{className:"text-xs font-medium text-muted-foreground",children:"Vendor"}),s.jsxs(nt,{value:_,onValueChange:C,children:[s.jsx(et,{children:s.jsx(st,{placeholder:"All Vendors"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"All",children:"All Vendors"}),Ge.map(ae=>s.jsx(J,{value:ae,children:ae},ae))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{className:"text-xs font-medium text-muted-foreground",children:"Assigned To"}),s.jsxs(nt,{value:S,onValueChange:E,children:[s.jsx(et,{children:s.jsx(st,{placeholder:"All Assignees"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"All",children:"All Assignees"}),L.map(ae=>s.jsx(J,{value:ae,children:ae},ae))]})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",s.jsx("span",{className:"font-semibold text-foreground",children:X.length})," of"," ",s.jsx("span",{className:"font-semibold text-foreground",children:d.length})," issues"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(re,{variant:u==="kanban"?"default":"ghost",size:"sm",onClick:()=>f("kanban"),children:s.jsx(dne,{className:"h-4 w-4"})}),s.jsx(re,{variant:u==="table"?"default":"ghost",size:"sm",onClick:()=>f("table"),children:s.jsx(une,{className:"h-4 w-4"})}),s.jsx(re,{variant:u==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),children:s.jsx(one,{className:"h-4 w-4"})})]})]})]})})}),u==="kanban"&&s.jsx(lWe,{onDragEnd:ge,children:s.jsx("div",{className:"overflow-x-auto",children:s.jsx("div",{className:"flex gap-4 pb-4",style:{minWidth:"min-content"},children:Object.entries(ie).map(([ae,we])=>s.jsx("div",{className:"flex-shrink-0 w-96",children:s.jsxs(oe,{className:"h-full",children:[s.jsx(Fe,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx($e,{className:"text-base font-semibold",children:ae}),s.jsx(Pe,{className:q(ae),children:we.length})]})}),s.jsx(KWe,{droppableId:ae,children:(lt,Je)=>s.jsxs(le,{ref:lt.innerRef,...lt.droppableProps,className:pe("space-y-3 max-h-[600px] overflow-y-auto min-h-[100px] transition-colors",Je.isDraggingOver&&"bg-primary/5 border-2 border-dashed border-primary/30 rounded-lg"),children:[we.map((qe,z)=>{const je=qe.priority||T[qe.id],ut=qe.reported_on?Uy(new Date,new Date(qe.reported_on)):0;return s.jsx(EWe,{draggableId:qe.id,index:z,children:(vt,Ye)=>s.jsx(oe,{ref:vt.innerRef,...vt.draggableProps,...vt.dragHandleProps,className:pe("hover:shadow-md transition-all cursor-grab border-l-4",Ye.isDragging&&"shadow-xl rotate-2 cursor-grabbing ring-2 ring-primary"),style:{...vt.draggableProps.style,borderLeftColor:je==="Critical"?"hsl(var(--danger))":je==="High"?"hsl(var(--warning))":"hsl(var(--border))"},onClick:()=>!Ye.isDragging&&rt(qe),children:s.jsx(le,{className:"p-3 space-y-2",children:(()=>{var Bt,rr,Bn,ps,Ci,Zf;const $t=qe.items||[],Pr=$t.length||qe.items_count||0,Dr=Pr>0?$t.slice(0,4):[],wr=Math.max(0,Pr-4),wt=((Bt=$t[0])==null?void 0:Bt.product_image)||((rr=qe.order_item_details)==null?void 0:rr.product_image)||((Bn=qe.product_details)==null?void 0:Bn.product_image);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[Z(qe.type),s.jsx("span",{className:"font-semibold text-sm truncate",children:qe.display_product_name||qe.product_name||((ps=qe.product_details)==null?void 0:ps.product)||"Unknown"})]}),s.jsx(Pe,{className:K(je),variant:"outline",children:je})]}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:qe.description}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Pe,{variant:"outline",className:"text-xs",children:((Ci=qe.apartment_details)==null?void 0:Ci.name)||qe.apartment_name||R(qe.apartment)}),s.jsx(Pe,{variant:"outline",className:"text-xs",children:qe.vendor_name||((Zf=qe.vendor_details)==null?void 0:Zf.name)||qe.vendor}),qe.ai_activated&&s.jsxs(Pe,{className:"text-xs bg-primary/10 text-primary border-primary/20",children:[s.jsx(Ea,{className:"h-3 w-3 mr-1"}),"AI"]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(Vr,{className:"h-3 w-3"}),ut,"d ago"]}),s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx("button",{onClick:sl=>Oe(sl,qe),className:"p-1 rounded hover:bg-muted transition-colors",title:"Edit Issue",children:s.jsx(Hs,{className:"h-3 w-3 text-muted-foreground hover:text-primary"})}),s.jsx("button",{onClick:sl=>G(sl,qe),className:"p-1 rounded hover:bg-destructive/10 transition-colors",title:"Delete Issue",children:s.jsx(Xr,{className:"h-3 w-3 text-muted-foreground hover:text-destructive"})})]})]}),s.jsx("div",{className:"flex items-center -space-x-2",children:Pr>0?s.jsxs(s.Fragment,{children:[Dr.map((sl,ay)=>s.jsx("div",{className:"relative",style:{zIndex:10-ay},children:sl.product_image?s.jsx("img",{src:sl.product_image,alt:sl.product_name||"Product",className:"w-7 h-7 rounded-full object-cover border-2 border-background shadow-sm"}):s.jsx("div",{className:"w-7 h-7 rounded-full bg-muted flex items-center justify-center border-2 border-background shadow-sm",children:s.jsx(mt,{className:"h-3 w-3 text-muted-foreground"})})},sl.id||ay)),wr>0&&s.jsxs("div",{className:"w-7 h-7 rounded-full bg-primary/10 flex items-center justify-center border-2 border-background shadow-sm text-[10px] font-semibold text-primary",style:{zIndex:1},children:["+",wr]})]}):wt?s.jsx("img",{src:wt,alt:qe.display_product_name||"Product",className:"w-7 h-7 rounded-full object-cover border-2 border-background shadow-sm"}):s.jsx("div",{className:"w-7 h-7 rounded-full bg-muted flex items-center justify-center border-2 border-background shadow-sm",children:s.jsx(mt,{className:"h-3 w-3 text-muted-foreground"})})})]})]})})()})})},qe.id)}),lt.placeholder,we.length===0&&!Je.isDraggingOver&&s.jsxs("div",{className:"text-center py-12 text-sm text-muted-foreground",children:[s.jsx(mt,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/30"}),"No issues"]}),we.length===0&&Je.isDraggingOver&&s.jsxs("div",{className:"text-center py-8 text-sm text-primary",children:[s.jsx(mt,{className:"h-10 w-10 mx-auto mb-2 text-primary/50"}),"Drop here to move to ",ae]})]})})]})},ae))})})}),u==="table"&&s.jsx(oe,{children:s.jsx(le,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:s.jsxs(ds,{children:[s.jsx(us,{children:s.jsxs(Rt,{className:"bg-muted/50",children:[s.jsx(Ee,{className:"font-semibold",children:"Issue"}),s.jsx(Ee,{className:"font-semibold",children:"Product"}),s.jsx(Ee,{className:"font-semibold",children:"Type"}),s.jsx(Ee,{className:"font-semibold",children:"Priority"}),s.jsx(Ee,{className:"font-semibold",children:"Status"}),s.jsx(Ee,{className:"font-semibold",children:"Apartment"}),s.jsx(Ee,{className:"font-semibold",children:"Vendor"}),s.jsx(Ee,{className:"font-semibold",children:"Reported"}),s.jsx(Ee,{className:"font-semibold",children:"AI"}),s.jsx(Ee,{className:"font-semibold text-center",children:"Actions"})]})}),s.jsx(fs,{children:X.length===0?s.jsx(Rt,{children:s.jsxs(ye,{colSpan:10,className:"text-center py-12 text-muted-foreground",children:[s.jsx(Et,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/30"}),s.jsx("p",{children:"No issues found"})]})}):X.map(ae=>{var Je,qe,z;const we=ae.priority||T[ae.id],lt=ae.reported_on?Uy(new Date,new Date(ae.reported_on)):0;return s.jsxs(Rt,{className:"hover:bg-muted/50",children:[s.jsx(ye,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[Z(ae.type),s.jsxs("span",{className:"font-mono text-xs text-muted-foreground",children:["#",ae.id.slice(-6)]})]})}),s.jsx(ye,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:ae.display_product_name||ae.product_name||((Je=ae.product_details)==null?void 0:Je.product)||"Unknown"}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:ae.description})]})}),s.jsx(ye,{children:s.jsx(Pe,{variant:"outline",className:"text-xs",children:ae.type})}),s.jsx(ye,{children:s.jsx(Pe,{className:K(we),variant:"outline",children:we})}),s.jsx(ye,{children:s.jsx(Pe,{className:q(ae.status),children:ae.status})}),s.jsx(ye,{children:s.jsx("span",{className:"text-sm",children:((qe=ae.apartment_details)==null?void 0:qe.name)||ae.apartment_name||R(ae.apartment)})}),s.jsx(ye,{children:s.jsx("span",{className:"text-sm",children:ae.vendor_name||((z=ae.vendor_details)==null?void 0:z.name)||ae.vendor})}),s.jsx(ye,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{children:ae.reported_on?Qt(new Date(ae.reported_on),"MMM dd, yyyy"):"Unknown"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[lt,"d ago"]})]})}),s.jsx(ye,{children:ae.ai_activated?s.jsxs("div",{className:"flex items-center gap-1 text-primary",children:[s.jsx(Ea,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Active"})]}):s.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),s.jsx(ye,{className:"text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>rt(ae),title:"View",children:s.jsx(Da,{className:"h-4 w-4"})}),s.jsx(re,{variant:"ghost",size:"sm",onClick:je=>Oe(je,ae),title:"Edit",children:s.jsx(Hs,{className:"h-4 w-4"})}),s.jsx(re,{variant:"ghost",size:"sm",onClick:je=>G(je,ae),title:"Delete",className:"hover:text-destructive",children:s.jsx(Xr,{className:"h-4 w-4"})})]})})]},ae.id)})})]})})})}),u==="grid"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[X.map(ae=>{var Je,qe,z;const we=ae.priority||T[ae.id],lt=ae.reported_on?Uy(new Date,new Date(ae.reported_on)):0;return s.jsx(oe,{className:"hover:shadow-lg transition-all cursor-pointer",onClick:()=>rt(ae),children:s.jsxs(le,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[Z(ae.type),s.jsx(Pe,{className:K(we),variant:"outline",children:we})]}),s.jsx(Pe,{className:q(ae.status),children:ae.status})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-1",children:ae.display_product_name||ae.product_name||((Je=ae.product_details)==null?void 0:Je.product)||"Unknown"}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:ae.description})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Pe,{variant:"outline",className:"text-xs",children:((qe=ae.apartment_details)==null?void 0:qe.name)||ae.apartment_name||R(ae.apartment)}),s.jsx(Pe,{variant:"outline",className:"text-xs",children:ae.vendor_name||((z=ae.vendor_details)==null?void 0:z.name)||ae.vendor}),ae.ai_activated&&s.jsxs(Pe,{className:"text-xs bg-primary/10 text-primary border-primary/20",children:[s.jsx(Ea,{className:"h-3 w-3 mr-1"}),"AI Active"]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Vr,{className:"h-3 w-3"}),lt," days ago"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:je=>Oe(je,ae),className:"p-1.5 rounded hover:bg-muted transition-colors",title:"Edit Issue",children:s.jsx(Hs,{className:"h-3.5 w-3.5 text-muted-foreground hover:text-primary"})}),s.jsx("button",{onClick:je=>G(je,ae),className:"p-1.5 rounded hover:bg-destructive/10 transition-colors",title:"Delete Issue",children:s.jsx(Xr,{className:"h-3.5 w-3.5 text-muted-foreground hover:text-destructive"})})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[ae.photos&&ae.photos.length>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ff,{className:"h-3 w-3"}),ae.photos.length]}),ae.aiCommunicationLog&&ae.aiCommunicationLog.length>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Fd,{className:"h-3 w-3"}),ae.aiCommunicationLog.length]})]})]})]})},ae.id)}),X.length===0&&s.jsxs("div",{className:"col-span-full text-center py-12 text-muted-foreground",children:[s.jsx(Et,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/30"}),s.jsx("p",{children:"No issues found"})]})]})]}),D&&s.jsx(uY,{product:D,open:F,onOpenChange:M}),s.jsx(Gl,{open:O,onOpenChange:A,children:s.jsxs(Xo,{className:"sm:max-w-md",children:[s.jsx(Yo,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:s.jsx(Xr,{className:"h-6 w-6 text-destructive"})}),s.jsxs("div",{children:[s.jsx(Zo,{className:"text-lg",children:"Delete Issue"}),s.jsx(Jo,{className:"text-sm",children:"This action cannot be undone."})]})]})}),k&&s.jsx("div",{className:"py-4",children:s.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:k.display_product_name||k.product_name||k.type||"Issue"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:[(Ae=k.description)==null?void 0:Ae.slice(0,100),k.description&&k.description.length>100?"...":""]})]})}),s.jsxs(Qo,{children:[s.jsx(tl,{disabled:fe,children:"Cancel"}),s.jsx(el,{onClick:ce,disabled:fe,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:fe?s.jsxs(s.Fragment,{children:[s.jsx(St,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Delete Issue"]})})]})]})})]})};function $Ze({options:e,value:t=[],onChange:r,placeholder:n="Add status...",className:a}){const[i,o]=v.useState(!1),l=d=>{t.includes(d)?r(t.filter(u=>u!==d)):r([...t,d])},c=(d,u)=>{u.stopPropagation(),r(t.filter(f=>f!==d))};return s.jsxs("div",{className:pe("flex flex-col gap-2",a),children:[s.jsx("div",{className:"flex flex-wrap gap-1 min-h-[32px]",children:t.map(d=>s.jsxs(Pe,{variant:"secondary",className:"pl-2 pr-1 py-1 text-xs flex items-center gap-1",children:[d,s.jsx("button",{type:"button",className:"h-4 w-4 p-0 hover:bg-transparent inline-flex items-center justify-center rounded-sm hover:opacity-70",onClick:u=>c(d,u),children:s.jsx(Bs,{className:"h-3 w-3"})})]},d))}),s.jsxs(C0,{open:i,onOpenChange:o,children:[s.jsx(E0,{asChild:!0,children:s.jsxs(re,{variant:"outline",size:"sm",className:"w-full justify-start text-left font-normal",type:"button",children:[s.jsx(An,{className:"mr-2 h-3 w-3"}),n]})}),s.jsx(Sp,{className:"w-[250px] p-0 max-h-[300px] overflow-hidden",align:"start",side:"bottom",children:s.jsx(zc,{className:"h-full max-h-[300px]",children:s.jsx("div",{className:"p-1",children:e.map(d=>s.jsxs(UV,{checked:t.includes(d),onCheckedChange:()=>l(d),onSelect:u=>u.preventDefault(),className:"cursor-pointer",children:[s.jsx("span",{className:"flex-1",children:d}),t.includes(d)&&s.jsx(Ui,{className:"h-4 w-4 ml-2"})]},d))})})})]})]})}const BZe=()=>{var R,K;const e=cr(),{data:t,isLoading:r}=w4(),{data:n,isLoading:a}=Gf(),i=(t==null?void 0:t.results)||[],o=(n==null?void 0:n.results)||[],[l,c]=v.useState([]),[d,u]=v.useState(!1),[f,h]=v.useState(null),[m,x]=v.useState(null),[p,g]=v.useState(!1),[b,y]=v.useState(!1),[j,w]=v.useState(1),[N,_]=v.useState(null),[C,S]=v.useState({}),[E,P]=v.useState({orderId:"",apartmentId:"",vendorId:"",priority:"",impact:"",expectedResolution:"",replacementEta:"",resolutionType:"",resolutionNotes:"",deliveryDate:"",invoiceNumber:"",trackingNumber:"",aiActivated:!1,autoNotifyVendor:!0,photos:[]}),I=["Broken/Damaged","Wrong Item/Color","Missing Parts","Incorrect Quantity","Poor Quality","Late Delivery","Installation Issue","Warranty Claim","Defective Product","Packaging Damage","Wrong Size/Dimensions","Expired Product","Missing Documentation","Safety Hazard","Other"],D=[{value:"Critical",label:"Critical",color:"bg-red-500/10 text-red-600 border-red-200"},{value:"High",label:"High",color:"bg-orange-500/10 text-orange-600 border-orange-200"},{value:"Medium",label:"Medium",color:"bg-yellow-500/10 text-yellow-600 border-yellow-200"},{value:"Low",label:"Low",color:"bg-green-500/10 text-green-600 border-green-200"}],U=["Blocking Progress","Delaying Project","Partial Impact","Minor Inconvenience","No Impact"],F=["Full Replacement","Partial Replacement","Repair","Refund","Credit Note","Exchange","Other"];v.useEffect(()=>{(async()=>{u(!0);try{const Z={};E.apartmentId&&(Z.apartment=E.apartmentId),E.vendorId&&(Z.vendor=E.vendorId);const ee=(await oa.getOrders(Z)).results||[],ie=["delivered","received","in_transit","Delivered","Received","In Transit"],be=ee.filter(he=>ie.includes(he.status)||he.is_delivered);c(be.length>0?be:ee)}catch{c([])}finally{u(!1)}})()},[E.apartmentId,E.vendorId]),v.useEffect(()=>{if(!E.orderId){h(null),x(null),S({}),_(null);return}g(!0),oa.getOrder(E.orderId).then(async q=>{var X;if(h(q),P(ee=>({...ee,apartmentId:q.apartment||ee.apartmentId,vendorId:q.vendor||ee.vendorId,trackingNumber:q.tracking_number||""})),q.vendor)try{const ee=await rl.getVendor(q.vendor);x(ee)}catch{x(null)}const Z={};(X=q.items)==null||X.forEach(ee=>{const ie=ee.id||ee.product||`item-${Math.random()}`;Z[ie]={issueQuantity:ee.quantity,issueTypes:[],customIssueType:"",description:""}}),S(Z)}).catch(()=>Me.error("Failed to load order")).finally(()=>g(!1))},[E.orderId]);const M=q=>{_(Z=>Z===q?null:q)},O=(q,Z,X)=>{S(ee=>({...ee,[q]:{...ee[q],[Z]:X}}))},A=q=>{const Z=C[q];return Z&&Z.issueTypes.length>0&&Z.description.trim().length>0},k=()=>Object.entries(C).filter(([q,Z])=>Z.issueTypes.length>0&&Z.description.trim().length>0).map(([q,Z])=>{var ee;const X=(ee=f==null?void 0:f.items)==null?void 0:ee.find(ie=>(ie.id||ie.product)===q);return{itemKey:q,productId:X==null?void 0:X.product,...Z,item:X}}),W=async q=>{var X,ee,ie,be,he,Ge;q.preventDefault();const Z=k();if(!E.orderId||Z.length===0||!E.priority){Me.error("Please complete all required fields");return}y(!0);try{const ke=Z.map(Oe=>{var ce;const G=Oe.issueTypes.includes("Other")?[...Oe.issueTypes.filter(xe=>xe!=="Other"),Oe.customIssueType].filter(Boolean).join(", "):Oe.issueTypes.join(", ");return{order_item:Oe.itemKey,product:Oe.productId||null,product_name:((ce=Oe.item)==null?void 0:ce.product_name)||"",quantity_affected:Oe.issueQuantity,issue_types:G,description:Oe.description}}),bt=[...new Set(Z.flatMap(Oe=>Oe.issueTypes))].join(", "),rt=Z.map(Oe=>{var G,ce;return`[${((G=Oe.item)==null?void 0:G.product_name)||"Product"}] ${Oe.description} (Qty: ${Oe.issueQuantity}/${((ce=Oe.item)==null?void 0:ce.quantity)||0})`}).join(`

`);await ss.createIssue({apartment:E.apartmentId,vendor:E.vendorId,order:E.orderId,product:((X=Z[0])==null?void 0:X.productId)||null,order_item:((ee=Z[0])==null?void 0:ee.itemKey)||null,product_name:Z.length===1?((be=(ie=Z[0])==null?void 0:ie.item)==null?void 0:be.product_name)||"":`${Z.length} Products`,type:bt,description:`Order: ${f==null?void 0:f.po_number}

${rt}`,priority:E.priority,expected_resolution:E.expectedResolution||void 0,vendor_contact:(m==null?void 0:m.contact_person)||void 0,impact:E.impact||void 0,replacement_eta:E.replacementEta||void 0,ai_activated:E.aiActivated,resolution_status:"Open",resolution_type:E.resolutionType||void 0,resolution_notes:E.resolutionNotes||void 0,delivery_date:E.deliveryDate||void 0,invoice_number:E.invoiceNumber||void 0,tracking_number:E.trackingNumber||void 0,auto_notify_vendor:E.autoNotifyVendor,items_data:ke}),Me.success(`Issue reported with ${Z.length} product(s)`),e("/issues")}catch(ke){Me.error(((Ge=(he=ke.response)==null?void 0:he.data)==null?void 0:Ge.message)||"Failed to report issue")}finally{y(!1)}},fe=q=>{const Z=Array.from(q.target.files||[]);if(Z.length+E.photos.length>10){Me.error("Maximum 10 photos allowed");return}P(X=>({...X,photos:[...X.photos,...Z]}))},de=!!f,T=k(),L=T.length>0;return s.jsx(yt,{title:"Report New Issue",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ni,{children:s.jsxs(_i,{children:[s.jsx(fr,{children:s.jsx(Mn,{href:"/issues",children:"Issues"})}),s.jsx(Fn,{}),s.jsx(fr,{children:s.jsx(Si,{children:"Report New Issue"})})]})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(re,{variant:"ghost",size:"icon",onClick:()=>e("/issues"),children:s.jsx(sr,{className:"h-4 w-4"})}),s.jsx("div",{children:s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(Et,{className:"h-8 w-8 text-destructive"}),"Report New Issue"]})})]}),s.jsx(oe,{children:s.jsx(le,{className:"py-6",children:s.jsx("div",{className:"flex items-center justify-center gap-4",children:[{n:1,l:"Select Order"},{n:2,l:"Select Products"},{n:3,l:"Issue Details"}].map((q,Z)=>s.jsxs(B.Fragment,{children:[s.jsxs("div",{className:`flex items-center gap-2 ${j>=q.n?"text-primary":"text-muted-foreground"}`,children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium border-2 ${j>=q.n?"bg-primary text-primary-foreground border-primary":"bg-muted border-muted-foreground/30"}`,children:j>q.n?s.jsx(Br,{className:"h-5 w-5"}):q.n}),s.jsx("span",{className:"font-medium hidden sm:inline",children:q.l})]}),Z<2&&s.jsx("div",{className:`w-16 h-0.5 ${j>q.n?"bg-primary":"bg-muted"}`})]},q.n))})})}),s.jsxs("form",{onSubmit:W,children:[j===1&&s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{children:[s.jsx(Yn,{className:"h-5 w-5 inline mr-2"}),"Step 1: Select Order"]})}),s.jsxs(le,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{children:[s.jsx(xr,{className:"h-4 w-4 inline mr-1"}),"Apartment"]}),s.jsxs(nt,{value:E.apartmentId,onValueChange:q=>P(Z=>({...Z,apartmentId:q,orderId:""})),children:[s.jsx(et,{children:s.jsx(st,{placeholder:"Select apartment"})}),s.jsx(tt,{children:i.map(q=>s.jsx(J,{value:q.id,children:q.name},q.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{children:[s.jsx(gi,{className:"h-4 w-4 inline mr-1"}),"Vendor"]}),s.jsxs(nt,{value:E.vendorId,onValueChange:q=>P(Z=>({...Z,vendorId:q,orderId:""})),children:[s.jsx(et,{children:s.jsx(st,{placeholder:"Select vendor"})}),s.jsx(tt,{children:o.map(q=>s.jsx(J,{value:q.id,children:q.name},q.id))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{children:[s.jsx(Yn,{className:"h-4 w-4 inline mr-1"}),"Order (PO Number) *"]}),s.jsxs(nt,{value:E.orderId,onValueChange:q=>P(Z=>({...Z,orderId:q})),children:[s.jsx(et,{children:s.jsx(st,{placeholder:d?"Loading...":"Select order"})}),s.jsx(tt,{children:l.length===0?s.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No orders found"}):l.map(q=>s.jsxs(J,{value:q.id,children:[s.jsx("span",{className:"font-medium",children:q.po_number})," - ",q.apartment_name," ",s.jsx(Pe,{variant:"outline",className:"ml-2",children:q.status})]},q.id))})]})]}),p&&s.jsx("div",{className:"flex justify-center p-8",children:s.jsx(St,{className:"h-6 w-6 animate-spin"})}),f&&!p&&s.jsx(oe,{className:"border-primary/20 bg-primary/5",children:s.jsxs(le,{className:"p-6",children:[s.jsxs("h4",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Br,{className:"h-5 w-5 text-primary"}),"Order Details"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"PO Number"}),s.jsx("p",{className:"font-medium",children:f.po_number})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Apartment"}),s.jsx("p",{className:"font-medium",children:f.apartment_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Vendor"}),s.jsx("p",{className:"font-medium",children:f.vendor_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Items"}),s.jsx("p",{className:"font-medium",children:f.items_count})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Total"}),s.jsxs("p",{className:"font-medium",children:["",Number(f.total).toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Status"}),s.jsx(Pe,{variant:"outline",children:f.status})]})]})]})}),s.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>e("/issues"),children:"Cancel"}),s.jsxs(re,{type:"button",onClick:()=>w(2),disabled:!de,children:["Next",s.jsx(pb,{className:"h-4 w-4 ml-2"})]})]})]})]}),j===2&&f&&s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"h-5 w-5"}),"Step 2: Select Products with Issues"]})}),s.jsxs(le,{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Order"}),s.jsx("p",{className:"font-semibold",children:f.po_number})]}),s.jsx("div",{className:"h-8 w-px bg-border"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor"}),s.jsx("p",{className:"font-medium",children:f.vendor_name})]}),s.jsx("div",{className:"h-8 w-px bg-border"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),s.jsx("p",{className:"font-medium",children:((R=f.items)==null?void 0:R.length)||0})]})]}),s.jsxs(Pe,{variant:T.length>0?"default":"outline",className:"text-sm px-3 py-1",children:[T.length," issue(s) ready"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on a product to expand and fill in issue details. Products with completed issue details will be reported."}),s.jsx("div",{className:"space-y-3",children:(K=f.items)==null?void 0:K.map(q=>{const Z=q.id||q.product||`item-${Math.random()}`,X=N===Z,ee=C[Z],ie=A(Z);return s.jsxs("div",{className:pe("border rounded-lg overflow-hidden transition-all",X&&"ring-2 ring-primary border-primary",ie&&!X&&"border-green-500 bg-green-50/50 dark:bg-green-950/20"),children:[s.jsx("div",{className:pe("p-4 cursor-pointer hover:bg-muted/50 transition-colors",X&&"bg-primary/5"),onClick:()=>M(Z),children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative flex-shrink-0",children:[q.product_image?s.jsx("img",{src:q.product_image,alt:q.product_name||"Product",className:pe("w-14 h-14 rounded-lg object-cover border-2",ie?"border-green-500":"border-muted")}):s.jsx("div",{className:pe("w-14 h-14 rounded-lg flex items-center justify-center border-2",ie?"border-green-500 bg-green-50 dark:bg-green-950":"border-muted bg-muted"),children:s.jsx(mt,{className:"h-6 w-6 text-muted-foreground"})}),ie&&s.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx(Br,{className:"h-3 w-3 text-white"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("h4",{className:"font-semibold text-base truncate",children:q.product_name||"Unknown Product"}),s.jsx("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 mt-1 text-sm text-muted-foreground",children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Xj,{className:"h-3 w-3"}),"SKU: ",q.sku||"N/A"]})})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsx("div",{className:"flex items-center gap-2 justify-end",children:s.jsxs(Pe,{variant:"outline",className:"font-normal",children:[s.jsx(XI,{className:"h-3 w-3 mr-1"}),"Qty: ",q.quantity]})}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["",Number(q.unit_price).toFixed(2)," each"]}),s.jsxs("p",{className:"font-semibold text-primary",children:["",Number(q.total_price).toFixed(2)]})]})]}),!X&&ie&&ee&&s.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[ee.issueTypes.map(be=>s.jsx(Pe,{variant:"secondary",className:"text-xs",children:be},be)),s.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",ee.issueQuantity," affected)"]})]})]}),s.jsx("div",{className:"flex-shrink-0",children:X?s.jsx(Gj,{className:"h-5 w-5 text-muted-foreground"}):s.jsx(Ff,{className:"h-5 w-5 text-muted-foreground"})})]})}),X&&ee&&s.jsx("div",{className:"p-4 pt-0 border-t bg-muted/30",children:s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:`qty-${Z}`,className:"flex items-center gap-2",children:[s.jsx(XI,{className:"h-4 w-4"}),"Quantity Affected *"]}),s.jsx(ue,{id:`qty-${Z}`,type:"number",min:1,max:q.quantity,value:ee.issueQuantity,onChange:be=>O(Z,"issueQuantity",parseInt(be.target.value)||1),className:"bg-background"},`qty-${Z}`),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Out of ",q.quantity," ordered"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{className:"flex items-center gap-2",children:[s.jsx(Zi,{className:"h-4 w-4"}),"Issue Type(s) *"]}),s.jsx($Ze,{options:I,value:ee.issueTypes,onChange:be=>O(Z,"issueTypes",be),placeholder:"Select issue types"},`types-${Z}`)]})]}),ee.issueTypes.includes("Other")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:`custom-${Z}`,children:"Specify Other Issue Type *"}),s.jsx(ue,{id:`custom-${Z}`,value:ee.customIssueType,onChange:be=>O(Z,"customIssueType",be.target.value),placeholder:"Enter custom issue type...",className:"bg-background"},`custom-${Z}`)]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:`desc-${Z}`,className:"flex items-center gap-2",children:[s.jsx(Yn,{className:"h-4 w-4"}),"Issue Description *"]}),s.jsx(In,{id:`desc-${Z}`,value:ee.description,onChange:be=>O(Z,"description",be.target.value),placeholder:"Describe the issue in detail. Include any relevant information such as when you noticed the issue, specific damage locations, etc.",rows:4,className:"bg-background"},`desc-${Z}`)]}),s.jsx("div",{className:pe("p-3 rounded-lg flex items-center gap-2 text-sm",ie?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"),children:ie?s.jsxs(s.Fragment,{children:[s.jsx(Br,{className:"h-4 w-4"}),"Issue details complete - will be included in report"]}):s.jsxs(s.Fragment,{children:[s.jsx(Et,{className:"h-4 w-4"}),"Please fill in issue type(s) and description to include this product"]})})]})})]},Z)})}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsxs(re,{type:"button",variant:"outline",onClick:()=>w(1),children:[s.jsx(sr,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>e("/issues"),children:"Cancel"}),s.jsxs(re,{type:"button",onClick:()=>w(3),disabled:!L,children:["Next: Issue Details",s.jsx(pb,{className:"h-4 w-4 ml-2"})]})]})]})]})]}),j===3&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{children:[s.jsx(Zi,{className:"h-5 w-5 inline mr-2"}),"Priority & Impact"]})}),s.jsxs(le,{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Priority *"}),s.jsxs(nt,{value:E.priority,onValueChange:q=>P(Z=>({...Z,priority:q})),children:[s.jsx(et,{children:s.jsx(st,{placeholder:"Select priority"})}),s.jsx(tt,{children:D.map(q=>s.jsx(J,{value:q.value,children:s.jsx(Pe,{className:q.color,children:q.label})},q.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Impact"}),s.jsxs(nt,{value:E.impact,onValueChange:q=>P(Z=>({...Z,impact:q})),children:[s.jsx(et,{children:s.jsx(st,{placeholder:"Select impact"})}),s.jsx(tt,{children:U.map(q=>s.jsx(J,{value:q,children:q},q))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{children:[s.jsx(tn,{className:"h-4 w-4 inline mr-1"}),"Expected Resolution"]}),s.jsx(ue,{type:"date",value:E.expectedResolution,onChange:q=>P(Z=>({...Z,expectedResolution:q.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{children:[s.jsx(yr,{className:"h-4 w-4 inline mr-1"}),"Replacement ETA"]}),s.jsx(ue,{type:"date",value:E.replacementEta,onChange:q=>P(Z=>({...Z,replacementEta:q.target.value}))})]})]})]}),m&&s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{children:[s.jsx(Zn,{className:"h-5 w-5 inline mr-2"}),"Vendor Contact"]})}),s.jsxs(le,{className:"grid gap-6 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Contact Person"}),s.jsx("div",{className:"p-2 bg-muted rounded-md text-sm",children:m.contact_person||"Not specified"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{children:[s.jsx(yn,{className:"h-4 w-4 inline mr-1"}),"Email"]}),s.jsx("div",{className:"p-2 bg-muted rounded-md text-sm",children:m.email||"Not specified"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{children:[s.jsx(Wo,{className:"h-4 w-4 inline mr-1"}),"Phone"]}),s.jsx("div",{className:"p-2 bg-muted rounded-md text-sm",children:m.phone||"Not specified"})]})]})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{children:[s.jsx(Br,{className:"h-5 w-5 inline mr-2"}),"Resolution"]})}),s.jsxs(le,{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Resolution Type"}),s.jsxs(nt,{value:E.resolutionType,onValueChange:q=>P(Z=>({...Z,resolutionType:q})),children:[s.jsx(et,{children:s.jsx(st,{placeholder:"Select type"})}),s.jsx(tt,{children:F.map(q=>s.jsx(J,{value:q,children:q},q))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Notes"}),s.jsx(ue,{value:E.resolutionNotes,onChange:q=>P(Z=>({...Z,resolutionNotes:q.target.value}))})]})]})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{children:[s.jsx(cne,{className:"h-5 w-5 inline mr-2"}),"Additional Info"]})}),s.jsxs(le,{className:"grid gap-6 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Delivery Date"}),s.jsx(ue,{type:"date",value:E.deliveryDate,onChange:q=>P(Z=>({...Z,deliveryDate:q.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Invoice #"}),s.jsx(ue,{value:E.invoiceNumber,onChange:q=>P(Z=>({...Z,invoiceNumber:q.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{children:["Tracking # ",s.jsx("span",{className:"text-xs text-muted-foreground",children:"(from Order)"})]}),s.jsx(ue,{value:E.trackingNumber||(f==null?void 0:f.tracking_number)||"",readOnly:!0,disabled:!0,className:"bg-muted cursor-not-allowed",placeholder:"Auto-filled from order"})]})]})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{children:[s.jsx(kl,{className:"h-5 w-5 inline mr-2"}),"Photos"]})}),s.jsxs(le,{children:[s.jsxs(re,{type:"button",variant:"outline",onClick:()=>{var q;return(q=document.getElementById("photos"))==null?void 0:q.click()},children:[s.jsx(kl,{className:"h-4 w-4 mr-2"}),"Upload (max 10)"]}),s.jsx("input",{id:"photos",type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:fe}),E.photos.length>0&&s.jsx("div",{className:"grid grid-cols-5 gap-2 mt-4",children:E.photos.map((q,Z)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:URL.createObjectURL(q),className:"w-full h-20 object-cover rounded"}),s.jsx("button",{type:"button",onClick:()=>P(X=>({...X,photos:X.photos.filter((ee,ie)=>ie!==Z)})),className:"absolute -top-2 -right-2 bg-destructive text-white rounded-full p-1",children:s.jsx(Bs,{className:"h-3 w-3"})})]},Z))})]})]}),s.jsx(oe,{children:s.jsxs(le,{className:"py-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ll,{id:"ai",checked:E.aiActivated,onCheckedChange:q=>P(Z=>({...Z,aiActivated:q}))}),s.jsx(H,{htmlFor:"ai",children:"Enable AI-assisted communication"})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsx(Ll,{id:"notify",checked:E.autoNotifyVendor,onCheckedChange:q=>P(Z=>({...Z,autoNotifyVendor:q}))}),s.jsx(H,{htmlFor:"notify",children:"Auto-notify vendor"})]})]})}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(re,{type:"button",variant:"outline",onClick:()=>w(2),children:[s.jsx(sr,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>e("/issues"),children:"Cancel"}),s.jsx(re,{type:"submit",disabled:b,children:b?s.jsxs(s.Fragment,{children:[s.jsx(St,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):`Report ${T.length} Issue(s)`})]})]})]})]})]})})};function UZe({issue:e,onUpdateIssue:t}){const[r,n]=v.useState(""),[a,i]=v.useState(!1),[o,l]=v.useState([]),[c,d]=v.useState(!0);v.useEffect(()=>{(async()=>{try{d(!0);const x=await ss.getConversation(e.id);l(x.conversation||[])}catch(x){console.error("Failed to fetch conversation:",x),Me.error("Failed to load conversation")}finally{d(!1)}})()},[e.id]);const u=async()=>{var m,x,p;if(r.trim()){i(!0);try{await ss.sendManualMessage(e.id,{subject:`Re: Issue #${e.id}`,message:r,to_email:((m=e.vendor_details)==null?void 0:m.email)||""});const g=await ss.getConversation(e.id);l(g.conversation||[]),n(""),Me.success("Message sent to vendor successfully")}catch(g){console.error("Failed to send message:",g),Me.error(((p=(x=g.response)==null?void 0:x.data)==null?void 0:p.message)||"Failed to send message to vendor")}finally{i(!1)}}},h=(()=>{const m=o||[],x=m.filter(b=>b.sender==="AI").length,p=m.filter(b=>b.sender==="Vendor").length,g=m.filter(b=>b.sender==="System"||b.sender==="Admin").length;return{total:m.length,aiMessages:x,vendorMessages:p,systemMessages:g}})();return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(oe,{children:s.jsxs(le,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Fd,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-2xl font-bold",children:h.total})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Total Messages"})]})}),s.jsx(oe,{children:s.jsxs(le,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ea,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-2xl font-bold",children:h.aiMessages})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"AI Messages"})]})}),s.jsx(oe,{children:s.jsxs(le,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Zn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-2xl font-bold",children:h.vendorMessages})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Vendor Replies"})]})}),s.jsx(oe,{children:s.jsxs(le,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Et,{className:"h-4 w-4 text-warning"}),s.jsx("span",{className:"text-2xl font-bold",children:h.systemMessages})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"System Notes"})]})})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(Fd,{className:"h-5 w-5"}),"Communication Log"]}),s.jsx(Lr,{children:e.ai_activated?"AI is actively managing this conversation with the vendor":"Manual conversation tracking"})]}),e.ai_activated&&s.jsxs(Pe,{variant:"default",className:"gap-1",children:[s.jsx(ac,{className:"h-3 w-3"}),"AI Active"]})]})}),s.jsxs(le,{children:[c?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(St,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsx(zc,{className:"h-[500px] pr-4",children:s.jsxs("div",{className:"space-y-4",children:[o&&o.length>0?o.map((m,x)=>{const p=m.message.toLowerCase().includes("please arrange")||m.message.toLowerCase().includes("action required")||m.message.toLowerCase().includes("human action");return s.jsxs("div",{className:pe("flex gap-3 p-4 rounded-lg border transition-all",m.sender==="AI"&&"bg-primary/5 border-primary/20",m.sender==="Vendor"&&"bg-muted border-border",m.sender==="System"&&"bg-accent/50 border-accent",p&&"border-2 border-warning shadow-md"),children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:s.jsx("div",{className:pe("w-8 h-8 rounded-full flex items-center justify-center",m.sender==="AI"&&"bg-primary text-primary-foreground",m.sender==="Vendor"&&"bg-muted-foreground text-background",m.sender==="System"&&"bg-warning text-warning-foreground"),children:m.sender==="AI"?s.jsx(Ea,{className:"h-4 w-4"}):m.sender==="Vendor"?s.jsx(Zn,{className:"h-4 w-4"}):s.jsx(Et,{className:"h-4 w-4"})})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(Pe,{variant:m.sender==="AI"?"default":"outline",className:pe("text-xs",p&&"bg-warning text-warning-foreground"),children:m.sender}),p&&s.jsxs(Pe,{variant:"outline",className:"text-xs bg-warning/10 text-warning border-warning/50",children:[s.jsx(Et,{className:"h-3 w-3 mr-1"}),"Action Required"]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(m.timestamp).toLocaleString()})]}),s.jsx("p",{className:pe("text-sm whitespace-pre-wrap leading-relaxed",p&&"font-medium"),children:m.message})]})]},x)}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(Fd,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No messages yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Start by adding a message below"})]}),a&&s.jsxs("div",{className:"flex gap-3 p-4 rounded-lg border bg-primary/5 border-primary/20",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-primary text-primary-foreground",children:s.jsx(Ea,{className:"h-4 w-4 animate-pulse"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Pe,{variant:"default",className:"text-xs mb-2",children:"AI"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"AI is processing..."})]})]})]})}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(ue,{placeholder:"Add a message to the log...",value:r,onChange:m=>n(m.target.value),onKeyPress:m=>m.key==="Enter"&&u()}),s.jsx(re,{onClick:u,size:"icon",children:s.jsx(j9,{className:"h-4 w-4"})})]})]})]})]})}function VZe({photos:e,onAddPhoto:t}){const[r,n]=v.useState(null),a=i=>{var l;const o=(l=i.target.files)==null?void 0:l[0];if(o){const c=new FileReader;c.onloadend=()=>{t({id:`photo-${Date.now()}`,url:c.result,uploadedAt:new Date().toISOString()})},c.readAsDataURL(o)}};return s.jsxs(s.Fragment,{children:[s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(ff,{className:"h-5 w-5"}),"Issue Photos"]}),s.jsx(Lr,{children:"Visual documentation of the issue"})]}),s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>{var i;return(i=document.getElementById("photo-upload"))==null?void 0:i.click()},children:[s.jsx(kl,{className:"h-4 w-4 mr-2"}),"Upload Photo"]}),s.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",className:"hidden",onChange:a})]})}),s.jsx(le,{children:e.length>0?s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(i=>s.jsxs("div",{className:"relative group aspect-square rounded-lg overflow-hidden border cursor-pointer hover:shadow-lg transition-all",onClick:()=>n(i.url),children:[s.jsx("img",{src:i.url,alt:"Issue photo",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all flex items-center justify-center",children:s.jsx(Ene,{className:"h-6 w-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},i.id))}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center border-2 border-dashed rounded-lg",children:[s.jsx(ff,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"No photos uploaded yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Upload photos to document the issue"}),s.jsxs(re,{variant:"outline",onClick:()=>{var i;return(i=document.getElementById("photo-upload"))==null?void 0:i.click()},children:[s.jsx(kl,{className:"h-4 w-4 mr-2"}),"Upload First Photo"]})]})})]}),s.jsx(bn,{open:!!r,onOpenChange:()=>n(null),children:s.jsxs(dn,{className:"max-w-4xl",children:[s.jsx(wn,{children:s.jsx(jn,{children:"Photo Preview"})}),r&&s.jsx("img",{src:r,alt:"Full size preview",className:"w-full h-auto rounded-lg"})]})})]})}function zZe({issue:e,product:t}){const r=[{id:1,timestamp:e.reportedOn,icon:Et,title:"Issue Reported",description:`${e.type} issue reported for ${t.product}`,color:"text-destructive"},...t.orderedOn?[{id:2,timestamp:t.orderedOn,icon:mt,title:"Product Ordered",description:`Order placed with ${e.vendor}`,color:"text-primary"}]:[],...t.actualDeliveryDate?[{id:3,timestamp:t.actualDeliveryDate,icon:yr,title:"Product Delivered",description:"Product delivered to location",color:"text-primary"}]:[],...e.aiActivated?[{id:4,timestamp:e.reportedOn,icon:Fd,title:"AI Chatbot Activated",description:"AI started vendor communication",color:"text-primary"}]:[],...e.aiCommunicationLog&&e.aiCommunicationLog.length>0?e.aiCommunicationLog.map((n,a)=>({id:100+a,timestamp:n.timestamp,icon:n.sender==="AI"?Fd:n.sender==="Vendor"?mt:Et,title:`${n.sender} Message`,description:n.message.substring(0,100)+(n.message.length>100?"...":""),color:n.sender==="AI"?"text-primary":"text-muted-foreground"})):[],...e.resolutionStatus==="Closed"?[{id:999,timestamp:new Date().toISOString(),icon:Br,title:"Issue Resolved",description:"Issue has been successfully resolved",color:"text-success"}]:[]].sort((n,a)=>new Date(n.timestamp).getTime()-new Date(a.timestamp).getTime());return s.jsxs(oe,{children:[s.jsxs(Fe,{children:[s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(Vr,{className:"h-5 w-5"}),"Issue Timeline"]}),s.jsx(Lr,{children:"Complete history of this issue"})]}),s.jsx(le,{children:s.jsxs("div",{className:"relative space-y-6",children:[s.jsx("div",{className:"absolute left-4 top-2 bottom-2 w-0.5 bg-border"}),r.map((n,a)=>{const i=n.icon;return s.jsxs("div",{className:"relative flex gap-4",children:[s.jsx("div",{className:pe("relative z-10 w-8 h-8 rounded-full flex items-center justify-center bg-background border-2",n.color==="text-destructive"&&"border-destructive",n.color==="text-primary"&&"border-primary",n.color==="text-success"&&"border-success",n.color==="text-muted-foreground"&&"border-muted-foreground"),children:s.jsx(i,{className:pe("h-4 w-4",n.color)})}),s.jsxs("div",{className:"flex-1 pb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-semibold",children:n.title}),s.jsx(Pe,{variant:"outline",className:"text-xs",children:new Date(n.timestamp).toLocaleString()})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n.description})]})]},n.id)})]})})]})}function WZe({issue:e,vendor:t,onUpdateIssue:r}){const[n,a]=v.useState(e.ai_activated||!1),[i,o]=v.useState(e.status||"Open");v.useEffect(()=>{a(e.ai_activated||!1),o(e.status||"Open")},[e.ai_activated,e.status]);const l=async()=>{var u,f;const d=!n;a(d);try{if(d){const h=await ss.activateAIEmail(e.id);if((u=h.data)!=null&&u.success)r({ai_activated:!0}),Me.success("AI Chatbot activated and email sent to vendor");else throw new Error(((f=h.data)==null?void 0:f.message)||"Failed to activate AI")}else await ss.updateIssue(e.id,{ai_activated:!1}),r({ai_activated:!1}),Me.info("AI Chatbot paused")}catch(h){console.error("Failed to toggle AI:",h),Me.error(h.message||"Failed to update AI status"),a(!d)}},c=async d=>{o(d);try{await ss.updateIssue(e.id,{status:d}),r({status:d}),Me.success("Status updated")}catch(u){console.error("Failed to update status:",u),Me.error("Failed to update status"),o(e.status||"Open")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(oe,{children:[s.jsxs(Fe,{children:[s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(Ea,{className:"h-5 w-5"}),"AI Resolution"]}),s.jsx(Lr,{children:"Automate vendor communication"})]}),s.jsxs(le,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(H,{htmlFor:"ai-toggle",className:"text-base font-semibold cursor-pointer",children:"AI Chatbot"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n?"Active":"Inactive"})]}),s.jsx(Nn,{id:"ai-toggle",checked:n,onCheckedChange:l})]}),n&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[s.jsx(w9,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm font-medium",children:"AI is monitoring this issue"})]}),s.jsxs(re,{variant:"outline",size:"sm",className:"w-full",onClick:()=>Me.info("AI settings opened"),children:[s.jsx(u0,{className:"h-4 w-4 mr-2"}),"Configure AI Behavior"]})]})]})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(Br,{className:"h-5 w-5"}),"Resolution Status"]})}),s.jsxs(le,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Current Status"}),s.jsxs(nt,{value:i,onValueChange:c,children:[s.jsx(et,{children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"Open",children:"Open"}),s.jsx(J,{value:"Pending Vendor Response",children:"Pending Vendor Response"}),s.jsx(J,{value:"Resolution Agreed",children:"Resolution Agreed"}),s.jsx(J,{value:"Closed",children:"Closed"})]})]})]}),i==="Closed"&&s.jsx("div",{className:"p-3 bg-success/10 border border-success/20 rounded-lg",children:s.jsxs("p",{className:"text-sm text-success flex items-center gap-2",children:[s.jsx(Br,{className:"h-4 w-4"}),"Issue has been resolved"]})})]})]}),t&&s.jsxs(oe,{children:[s.jsxs(Fe,{children:[s.jsx($e,{children:"Vendor Contact"}),s.jsx(Lr,{children:t.companyName||t.name})]}),s.jsxs(le,{className:"space-y-3",children:[t.email&&s.jsxs("a",{href:`mailto:${t.email}`,className:"flex items-center gap-2 text-sm hover:text-primary transition-colors",children:[s.jsx(yn,{className:"h-4 w-4"}),t.email]}),t.phone&&s.jsxs("a",{href:`tel:${t.phone}`,className:"flex items-center gap-2 text-sm hover:text-primary transition-colors",children:[s.jsx(Wo,{className:"h-4 w-4"}),t.phone]}),t.website&&s.jsxs("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm hover:text-primary transition-colors",children:[s.jsx(Ac,{className:"h-4 w-4"}),"Visit Website"]}),s.jsx(Tt,{}),s.jsxs(re,{variant:"outline",size:"sm",className:"w-full",children:[s.jsx(yn,{className:"h-4 w-4 mr-2"}),"Send Manual Email"]})]})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsx($e,{children:"Quick Actions"})}),s.jsxs(le,{className:"space-y-2",children:[s.jsx(re,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>Me.info("Replacement request sent"),children:"Request Replacement"}),s.jsx(re,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>Me.info("Refund request sent"),children:"Request Refund"}),s.jsx(re,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>Me.info("Escalation triggered"),children:"Escalate to Manager"})]})]})]})}function HZe(){var f,h,m,x,p,g,b,y,j,w,N,_,C;const{issueId:e}=so(),t=cr(),[r,n]=v.useState(null),[a,i]=v.useState(!0),[o,l]=v.useState(null);v.useEffect(()=>{if(!e){l("No issue ID provided"),i(!1);return}i(!0),ss.getIssue(e).then(S=>{n(S),l(null)}).catch(S=>{console.error("Failed to fetch issue:",S),l("Issue not found")}).finally(()=>i(!1))},[e]);const c=async S=>{if(r)try{const E=await ss.updateIssue(r.id,S);n(E),Me.success("Issue updated")}catch{Me.error("Failed to update issue")}};if(a)return s.jsx(yt,{title:"Loading...",children:s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-4",children:[s.jsx(St,{className:"h-12 w-12 animate-spin text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading issue details..."})]})});if(o||!r)return s.jsx(yt,{title:"Issue Not Found",children:s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-4",children:[s.jsx(Et,{className:"h-12 w-12 text-muted-foreground"}),s.jsx("h2",{className:"text-2xl font-semibold",children:"Issue Not Found"}),s.jsxs(re,{onClick:()=>t("/issues"),children:[s.jsx(sr,{className:"h-4 w-4 mr-2"}),"Back to Issues"]})]})});const d=S=>{switch(S){case"Open":return"destructive";case"Pending Vendor Response":return"secondary";case"Resolution Agreed":return"default";case"Closed":return"outline";default:return"secondary"}},u=S=>{switch(S){case"Closed":return s.jsx(Br,{className:"h-4 w-4"});case"Open":return s.jsx(l0,{className:"h-4 w-4"});default:return s.jsx(Vr,{className:"h-4 w-4"})}};return s.jsx(yt,{title:"Issue Details",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(re,{variant:"ghost",onClick:()=>t("/issues"),children:[s.jsx(sr,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Issue Details"}),s.jsxs("p",{className:"text-muted-foreground",children:["Issue #",r.id]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[u(r.status||"Open"),s.jsx(Pe,{variant:d(r.status||"Open"),children:r.status||"Open"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(Et,{className:"h-5 w-5 text-destructive"}),r.type]}),s.jsxs(Lr,{children:["Reported on ",r.reported_on?new Date(r.reported_on).toLocaleDateString():"Unknown"]})]}),r.ai_activated&&s.jsxs(Pe,{variant:"default",className:"gap-1",children:[s.jsx(Ea,{className:"h-3 w-3"}),"AI Active"]})]})}),s.jsxs(le,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Description"}),s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:r.description})]}),s.jsx(Tt,{}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Priority"}),s.jsx(Pe,{variant:r.priority==="Critical"?"destructive":r.priority==="High"?"default":"secondary",children:r.priority||"Medium"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(Pe,{variant:d(r.status||"Open"),children:r.status||"Open"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolution Status"}),s.jsx("p",{className:"font-medium",children:r.resolution_status||"Pending"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Created"}),s.jsx("p",{className:"font-medium",children:r.created_at?new Date(r.created_at).toLocaleDateString():"Unknown"})]})]}),r.impact&&s.jsxs(s.Fragment,{children:[s.jsx(Tt,{}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(N9,{className:"h-4 w-4"})," Impact"]}),s.jsx("p",{className:"font-medium",children:r.impact})]})]}),(r.expected_resolution||r.replacement_eta||r.delivery_date)&&s.jsxs(s.Fragment,{children:[s.jsx(Tt,{}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.expected_resolution&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(tn,{className:"h-4 w-4"})," Expected Resolution"]}),s.jsx("p",{className:"font-medium",children:new Date(r.expected_resolution).toLocaleDateString()})]}),r.replacement_eta&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(yr,{className:"h-4 w-4"})," Replacement ETA"]}),s.jsx("p",{className:"font-medium",children:new Date(r.replacement_eta).toLocaleDateString()})]}),r.delivery_date&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(tn,{className:"h-4 w-4"})," Delivery Date"]}),s.jsx("p",{className:"font-medium",children:new Date(r.delivery_date).toLocaleDateString()})]})]})]}),(r.invoice_number||r.tracking_number||((f=r.order_details)==null?void 0:f.tracking_number))&&s.jsxs(s.Fragment,{children:[s.jsx(Tt,{}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.invoice_number&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(Yn,{className:"h-4 w-4"})," Invoice #"]}),s.jsx("p",{className:"font-medium",children:r.invoice_number})]}),(r.tracking_number||((h=r.order_details)==null?void 0:h.tracking_number))&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(yr,{className:"h-4 w-4"})," Tracking #",!r.tracking_number&&((m=r.order_details)==null?void 0:m.tracking_number)&&s.jsx("span",{className:"text-xs",children:"(from Order)"})]}),s.jsx("p",{className:"font-medium",children:r.tracking_number||((x=r.order_details)==null?void 0:x.tracking_number)})]})]})]}),(r.resolution_type||r.resolution_notes)&&s.jsxs(s.Fragment,{children:[s.jsx(Tt,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"text-sm font-semibold",children:"Resolution Details"}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.resolution_type&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolution Type"}),s.jsx(Pe,{variant:"outline",children:r.resolution_type})]})}),r.resolution_notes&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolution Notes"}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:r.resolution_notes})]})]})]})]})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(la,{className:"h-5 w-5"}),"Order & Product Information"]})}),s.jsxs(le,{className:"space-y-4",children:[r.order_details&&s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[s.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Yn,{className:"h-4 w-4"})," Order Details"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Number"}),s.jsx("p",{className:"font-medium",children:r.order_details.order_number||r.order_details.id})]}),r.order_details.order_date&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Date"}),s.jsx("p",{className:"font-medium",children:new Date(r.order_details.order_date).toLocaleDateString()})]}),r.order_details.status&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Status"}),s.jsx(Pe,{variant:"outline",children:r.order_details.status})]}),r.order_details.total_amount&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"font-medium",children:["$",r.order_details.total_amount]})]})]})]}),r.items&&r.items.length>0&&s.jsxs(oe,{children:[s.jsx(Fe,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs($e,{className:"text-base flex items-center gap-2",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(mt,{className:"h-4 w-4 text-primary"})}),"Affected Products"]}),s.jsxs(Pe,{variant:"secondary",className:"font-semibold",children:[r.items.length," ",r.items.length===1?"Item":"Items"]})]})}),s.jsx(le,{className:"space-y-3",children:r.items.map((S,E)=>s.jsxs("div",{className:"flex gap-4 p-4 rounded-xl border bg-gradient-to-r from-background to-muted/20 hover:shadow-sm transition-all",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden border-2 border-muted bg-gradient-to-br from-muted to-muted/50 shadow-sm",children:S.product_image?s.jsx("img",{src:S.product_image,alt:S.product_name||"Product",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(mt,{className:"h-8 w-8 text-muted-foreground/40"})})})}),s.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("h5",{className:"font-semibold text-sm line-clamp-1",children:S.product_name||S.order_item_product_name||"Unknown Product"}),s.jsxs(Pe,{variant:"outline",className:"flex-shrink-0 gap-1",children:[s.jsx(la,{className:"h-3 w-3"}),S.quantity_affected]})]}),S.issue_types&&s.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[S.issue_types.split(",").slice(0,4).map((P,I)=>s.jsxs(Pe,{variant:"outline",className:"text-xs px-2 py-0.5 bg-destructive/5 text-destructive border-destructive/20 gap-1",children:[s.jsx(Et,{className:"h-3 w-3"}),P.trim()]},I)),S.issue_types.split(",").length>4&&s.jsxs(Pe,{variant:"secondary",className:"text-xs",children:["+",S.issue_types.split(",").length-4," more"]})]}),S.description&&s.jsxs("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[s.jsx(Yn,{className:"h-3.5 w-3.5 mt-0.5 flex-shrink-0"}),s.jsx("p",{className:"line-clamp-2",children:S.description})]})]})]},S.id||E))})]}),r.order_item_details&&(!r.items||r.items.length===0)&&s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[s.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[s.jsx(mt,{className:"h-4 w-4"})," Order Item Details"]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:r.order_item_details.product_image||(p=r.product_details)!=null&&p.product_image?s.jsx("img",{src:r.order_item_details.product_image||((g=r.product_details)==null?void 0:g.product_image),alt:r.order_item_details.product_name||"Product",className:"w-24 h-24 rounded-lg object-cover border-2 border-muted"}):s.jsx("div",{className:"w-24 h-24 rounded-lg flex items-center justify-center border-2 border-muted bg-muted",children:s.jsx(mt,{className:"h-10 w-10 text-muted-foreground"})})}),s.jsxs("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Product Name"}),s.jsx("p",{className:"font-medium",children:r.order_item_details.product_name})]}),r.order_item_details.quantity&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Quantity"}),s.jsx("p",{className:"font-medium",children:r.order_item_details.quantity})]}),r.order_item_details.unit_price&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Unit Price"}),s.jsxs("p",{className:"font-medium",children:["$",r.order_item_details.unit_price]})]}),r.order_item_details.total_price&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Price"}),s.jsxs("p",{className:"font-medium",children:["$",r.order_item_details.total_price]})]}),r.order_item_details.sku&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"SKU"}),s.jsx("p",{className:"font-medium",children:r.order_item_details.sku})]})]})]})]}),r.product_details&&s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[s.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[s.jsx(mt,{className:"h-4 w-4"})," Product Details"]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:r.product_details.product_image?s.jsx("img",{src:r.product_details.product_image,alt:r.product_details.product||"Product",className:"w-24 h-24 rounded-lg object-cover border-2 border-muted"}):s.jsx("div",{className:"w-24 h-24 rounded-lg flex items-center justify-center border-2 border-muted bg-muted",children:s.jsx(mt,{className:"h-10 w-10 text-muted-foreground"})})}),s.jsxs("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Product Name"}),s.jsx("p",{className:"font-medium",children:r.product_details.product})]}),r.product_details.sku&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"SKU"}),s.jsx("p",{className:"font-medium",children:r.product_details.sku})]}),r.product_details.category&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Category"}),s.jsx("p",{className:"font-medium",children:r.product_details.category})]}),r.product_details.unit_price&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Unit Price"}),s.jsxs("p",{className:"font-medium",children:["$",r.product_details.unit_price]})]})]})]})]}),!r.order_details&&!r.order_item_details&&!r.product_details&&s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center border-2 border-muted bg-muted flex-shrink-0",children:s.jsx(mt,{className:"h-8 w-8 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Product"}),s.jsx("p",{className:"font-medium",children:r.display_product_name||r.product_name||"Unknown"})]})]})]})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(xr,{className:"h-5 w-5"}),"Apartment & Vendor Information"]})}),s.jsx(le,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[s.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[s.jsx(xr,{className:"h-4 w-4"})," Apartment"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium",children:((b=r.apartment_details)==null?void 0:b.name)||"Unknown"})]}),((y=r.apartment_details)==null?void 0:y.address)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),s.jsx("p",{className:"font-medium",children:r.apartment_details.address})]})]})]}),s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[s.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Zn,{className:"h-4 w-4"})," Vendor"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium",children:r.vendor_name||((j=r.vendor_details)==null?void 0:j.name)||"Unknown"})]}),((w=r.vendor_details)==null?void 0:w.contact_person)&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(Zn,{className:"h-3 w-3"})," Contact Person"]}),s.jsx("p",{className:"font-medium",children:r.vendor_details.contact_person})]}),((N=r.vendor_details)==null?void 0:N.email)&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(yn,{className:"h-3 w-3"})," Email"]}),s.jsx("a",{href:`mailto:${r.vendor_details.email}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.email})]}),((_=r.vendor_details)==null?void 0:_.phone)&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(Wo,{className:"h-3 w-3"})," Phone"]}),s.jsx("a",{href:`tel:${r.vendor_details.phone}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.phone})]}),r.vendor_contact&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor Contact"}),s.jsx("p",{className:"font-medium",children:r.vendor_contact})]})]})]})]})})]}),s.jsxs(nl,{defaultValue:"conversation",className:"w-full",children:[s.jsxs(co,{className:"grid w-full grid-cols-3",children:[s.jsxs(Gt,{value:"conversation",className:"gap-2",children:[s.jsx(Fd,{className:"h-4 w-4"}),"Conversation"]}),s.jsxs(Gt,{value:"photos",className:"gap-2",children:[s.jsx(ff,{className:"h-4 w-4"}),"Photos (",((C=r.photos)==null?void 0:C.length)||0,")"]}),s.jsxs(Gt,{value:"timeline",className:"gap-2",children:[s.jsx(Vr,{className:"h-4 w-4"}),"Timeline"]})]}),s.jsx(Zt,{value:"conversation",className:"mt-6",children:s.jsx(UZe,{issue:r,onUpdateIssue:c})}),s.jsx(Zt,{value:"photos",className:"mt-6",children:s.jsx(VZe,{photos:r.photos||[],onAddPhoto:async S=>{Me.info("Photo upload feature coming soon")}})}),s.jsx(Zt,{value:"timeline",className:"mt-6",children:s.jsx(zZe,{issue:r,product:r.product_details})})]})]}),s.jsx("div",{className:"space-y-6",children:s.jsx(WZe,{issue:r,vendor:r.vendor_details,onUpdateIssue:c})})]})]})})}const GZe=()=>{var w;const e=cr(),{issueId:t}=so(),[r,n]=v.useState(null),[a,i]=v.useState(!0),[o,l]=v.useState(!1),[c,d]=v.useState(!1),[u,f]=v.useState(!1),[h,m]=v.useState({type:"",description:"",status:"Open",priority:"Medium",impact:"",expectedResolution:"",replacementEta:"",resolutionType:"",resolutionNotes:"",deliveryDate:"",invoiceNumber:"",trackingNumber:"",aiActivated:!1,autoNotifyVendor:!0}),x=["Open","Pending Vendor Response","Resolution Agreed","Closed"],p=[{value:"Critical",label:"Critical",color:"bg-red-500/10 text-red-600 border-red-200"},{value:"High",label:"High",color:"bg-orange-500/10 text-orange-600 border-orange-200"},{value:"Medium",label:"Medium",color:"bg-yellow-500/10 text-yellow-600 border-yellow-200"},{value:"Low",label:"Low",color:"bg-green-500/10 text-green-600 border-green-200"}],g=["Blocking Progress","Delaying Project","Partial Impact","Minor Inconvenience","No Impact"],b=["Full Replacement","Partial Replacement","Repair","Refund","Credit Note","Exchange","Other"];v.useEffect(()=>{if(!t){Me.error("No issue ID provided"),e("/issues");return}i(!0),ss.getIssue(t).then(N=>{n(N),m({type:N.type||"",description:N.description||"",status:N.status||"Open",priority:N.priority||"Medium",impact:N.impact||"",expectedResolution:N.expected_resolution||"",replacementEta:N.replacement_eta||"",resolutionType:N.resolution_type||"",resolutionNotes:N.resolution_notes||"",deliveryDate:N.delivery_date||"",invoiceNumber:N.invoice_number||"",trackingNumber:N.tracking_number||"",aiActivated:N.ai_activated||!1,autoNotifyVendor:N.auto_notify_vendor??!0})}).catch(N=>{console.error("Failed to fetch issue:",N),Me.error("Failed to load issue"),e("/issues")}).finally(()=>i(!1))},[t,e]);const y=async N=>{var _,C;if(N.preventDefault(),!!r){l(!0);try{await ss.updateIssue(r.id,{type:h.type,description:h.description,status:h.status,priority:h.priority,impact:h.impact||void 0,expected_resolution:h.expectedResolution||void 0,replacement_eta:h.replacementEta||void 0,resolution_type:h.resolutionType||void 0,resolution_notes:h.resolutionNotes||void 0,delivery_date:h.deliveryDate||void 0,invoice_number:h.invoiceNumber||void 0,tracking_number:h.trackingNumber||void 0,ai_activated:h.aiActivated,auto_notify_vendor:h.autoNotifyVendor}),Me.success("Issue updated successfully"),e(`/issues/${r.id}`)}catch(S){Me.error(((C=(_=S.response)==null?void 0:_.data)==null?void 0:C.message)||"Failed to update issue")}finally{l(!1)}}},j=async()=>{var N,_;if(r){d(!0);try{await ss.deleteIssue(r.id),Me.success("Issue deleted successfully"),e("/issues")}catch(C){Me.error(((_=(N=C.response)==null?void 0:N.data)==null?void 0:_.message)||"Failed to delete issue")}finally{d(!1),f(!1)}}};return a?s.jsx(yt,{title:"Edit Issue",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(St,{className:"h-8 w-8 animate-spin text-primary"})})}):r?s.jsx(yt,{title:"Edit Issue",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ni,{children:s.jsxs(_i,{children:[s.jsx(fr,{children:s.jsx(Mn,{href:"/issues",children:"Issues"})}),s.jsx(Fn,{}),s.jsx(fr,{children:s.jsx(Mn,{href:`/issues/${r.id}`,children:"Issue Details"})}),s.jsx(Fn,{}),s.jsx(fr,{children:s.jsx(Si,{children:"Edit"})})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(re,{variant:"ghost",size:"icon",onClick:()=>e(`/issues/${r.id}`),children:s.jsx(sr,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Et,{className:"h-6 w-6 text-primary"}),"Edit Issue"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Issue #",r.id.slice(-8)]})]})]}),s.jsxs(Gl,{open:u,onOpenChange:f,children:[s.jsxs(re,{variant:"destructive",size:"sm",onClick:()=>f(!0),disabled:c,children:[c?s.jsx(St,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Delete Issue"]}),s.jsxs(Xo,{className:"sm:max-w-md",children:[s.jsx(Yo,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:s.jsx(Xr,{className:"h-6 w-6 text-destructive"})}),s.jsxs("div",{children:[s.jsx(Zo,{className:"text-lg",children:"Delete Issue"}),s.jsx(Jo,{className:"text-sm",children:"This action cannot be undone."})]})]})}),s.jsx("div",{className:"py-4",children:s.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:r.type||"Issue"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:[(w=r.description)==null?void 0:w.slice(0,100),r.description&&r.description.length>100?"...":""]})]})}),s.jsxs(Qo,{children:[s.jsx(tl,{disabled:c,children:"Cancel"}),s.jsx(el,{onClick:j,disabled:c,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:c?s.jsxs(s.Fragment,{children:[s.jsx(St,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Delete Issue"]})})]})]})]})]}),s.jsxs("form",{onSubmit:y,className:"space-y-6",children:[s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(Zi,{className:"h-5 w-5"}),"Issue Information"]})}),s.jsxs(le,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Issue Type *"}),s.jsx(ue,{value:h.type,onChange:N=>m(_=>({..._,type:N.target.value})),placeholder:"e.g., Broken/Damaged, Wrong Item"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Status *"}),s.jsxs(nt,{value:h.status,onValueChange:N=>m(_=>({..._,status:N})),children:[s.jsx(et,{children:s.jsx(st,{})}),s.jsx(tt,{children:x.map(N=>s.jsx(J,{value:N,children:N},N))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Description *"}),s.jsx(In,{value:h.description,onChange:N=>m(_=>({..._,description:N.target.value})),rows:4,placeholder:"Describe the issue in detail..."})]})]})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(Zi,{className:"h-5 w-5"}),"Priority & Impact"]})}),s.jsxs(le,{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Priority *"}),s.jsxs(nt,{value:h.priority,onValueChange:N=>m(_=>({..._,priority:N})),children:[s.jsx(et,{children:s.jsx(st,{})}),s.jsx(tt,{children:p.map(N=>s.jsx(J,{value:N.value,children:s.jsx(Pe,{className:N.color,children:N.label})},N.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Impact"}),s.jsxs(nt,{value:h.impact,onValueChange:N=>m(_=>({..._,impact:N})),children:[s.jsx(et,{children:s.jsx(st,{placeholder:"Select impact level"})}),s.jsx(tt,{children:g.map(N=>s.jsx(J,{value:N,children:N},N))})]})]})]})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(tn,{className:"h-5 w-5"}),"Timeline"]})}),s.jsxs(le,{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Expected Resolution"}),s.jsx(ue,{type:"date",value:h.expectedResolution,onChange:N=>m(_=>({..._,expectedResolution:N.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Replacement ETA"}),s.jsx(ue,{type:"date",value:h.replacementEta,onChange:N=>m(_=>({..._,replacementEta:N.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Delivery Date"}),s.jsx(ue,{type:"date",value:h.deliveryDate,onChange:N=>m(_=>({..._,deliveryDate:N.target.value}))})]})]})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(Br,{className:"h-5 w-5"}),"Resolution"]})}),s.jsxs(le,{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Resolution Type"}),s.jsxs(nt,{value:h.resolutionType,onValueChange:N=>m(_=>({..._,resolutionType:N})),children:[s.jsx(et,{children:s.jsx(st,{placeholder:"Select resolution type"})}),s.jsx(tt,{children:b.map(N=>s.jsx(J,{value:N,children:N},N))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Resolution Notes"}),s.jsx(ue,{value:h.resolutionNotes,onChange:N=>m(_=>({..._,resolutionNotes:N.target.value})),placeholder:"Add notes about the resolution..."})]})]})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(yr,{className:"h-5 w-5"}),"Tracking Information"]})}),s.jsxs(le,{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Invoice Number"}),s.jsx(ue,{value:h.invoiceNumber,onChange:N=>m(_=>({..._,invoiceNumber:N.target.value})),placeholder:"Enter invoice number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Tracking Number"}),s.jsx(ue,{value:h.trackingNumber,onChange:N=>m(_=>({..._,trackingNumber:N.target.value})),placeholder:"Enter tracking number"})]})]})]}),s.jsx(oe,{children:s.jsxs(le,{className:"py-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ll,{id:"ai",checked:h.aiActivated,onCheckedChange:N=>m(_=>({..._,aiActivated:N}))}),s.jsx(H,{htmlFor:"ai",children:"Enable AI-assisted communication"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ll,{id:"notify",checked:h.autoNotifyVendor,onCheckedChange:N=>m(_=>({..._,autoNotifyVendor:N}))}),s.jsx(H,{htmlFor:"notify",children:"Auto-notify vendor"})]})]})}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(re,{type:"button",variant:"outline",onClick:()=>e(`/issues/${r.id}`),children:[s.jsx(sr,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsx(re,{type:"submit",disabled:o,children:o?s.jsxs(s.Fragment,{children:[s.jsx(St,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Gd,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})]})}):s.jsx(yt,{title:"Edit Issue",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Et,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:"Issue not found"}),s.jsx(re,{onClick:()=>e("/issues"),className:"mt-4",children:"Back to Issues"})]})})},gJ=({payment:e,open:t,onOpenChange:r,onSave:n})=>{var j;const[a,i]=v.useState(0),[o,l]=v.useState("Bank Transfer"),[c,d]=v.useState(""),[u,f]=v.useState(""),h=(e==null?void 0:e.total_amount)??(e==null?void 0:e.totalAmount)??0,m=(e==null?void 0:e.amount_paid)??(e==null?void 0:e.amountPaid)??0,x=(e==null?void 0:e.vendor_name)??((j=e==null?void 0:e.vendor_details)==null?void 0:j.name)??(e==null?void 0:e.vendor)??"Unknown",p=(e==null?void 0:e.order_reference)??(e==null?void 0:e.orderReference)??"";if(v.useEffect(()=>{if(t&&e){const w=(e==null?void 0:e.total_amount)??(e==null?void 0:e.totalAmount)??0,N=(e==null?void 0:e.amount_paid)??(e==null?void 0:e.amountPaid)??0,_=w-N;i(_>0?_:0),l("Bank Transfer"),d(""),f("")}},[t,e==null?void 0:e.id]),!e)return s.jsx(bn,{open:t,onOpenChange:r,children:s.jsx(dn,{className:"max-w-2xl",children:s.jsx(wn,{children:s.jsx(jn,{children:"Loading..."})})})});const g=h-m,b=g-a,y=()=>{if(!(a<=0)){if(a>g){alert("Payment amount cannot exceed remaining balance");return}n(a,o,c,u)}};return s.jsx(bn,{open:t,onOpenChange:r,children:s.jsxs(dn,{className:"max-w-2xl",children:[s.jsxs(wn,{children:[s.jsxs(jn,{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Rr,{className:"h-5 w-5 text-primary"})}),"Record Payment"]}),s.jsxs(Xs,{children:["Record a new payment for ",s.jsx("span",{className:"font-semibold",children:x})," - ",p]})]}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),s.jsxs("p",{className:"text-lg font-bold",children:[h.toLocaleString()," HUF"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Already Paid"}),s.jsxs("p",{className:"text-lg font-bold text-success",children:[m.toLocaleString()," HUF"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Remaining"}),s.jsxs("p",{className:"text-lg font-bold text-warning",children:[g.toLocaleString()," HUF"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"amount",className:"text-sm font-semibold",children:"Payment Amount *"}),s.jsxs("div",{className:"relative",children:[s.jsx(ue,{id:"amount",type:"number",value:a,onChange:w=>i(Number(w.target.value)),placeholder:"Enter amount",className:"text-lg font-semibold pr-16",min:0,max:g}),s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground font-medium",children:"HUF"})]}),a>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm px-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"New balance after payment:"}),s.jsxs("span",{className:`font-semibold ${b===0?"text-success":"text-warning"}`,children:[b.toLocaleString()," HUF"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"paymentMethod",className:"text-sm font-semibold",children:"Payment Method *"}),s.jsxs(nt,{value:o,onValueChange:l,children:[s.jsx(et,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(As,{className:"h-4 w-4"}),s.jsx(st,{})]})}),s.jsxs(tt,{children:[s.jsx(J,{value:"Bank Transfer",children:"Bank Transfer"}),s.jsx(J,{value:"Credit Card",children:"Credit Card"}),s.jsx(J,{value:"Cash",children:"Cash"}),s.jsx(J,{value:"Check",children:"Check"}),s.jsx(J,{value:"Wire Transfer",children:"Wire Transfer"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"referenceNo",className:"text-sm font-semibold",children:"Reference Number"}),s.jsx(ue,{id:"referenceNo",value:c,onChange:w=>d(w.target.value),placeholder:"Optional",className:"font-mono"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"note",className:"text-sm font-semibold",children:"Notes"}),s.jsx(In,{id:"note",value:u,onChange:w=>f(w.target.value),placeholder:"Add any additional notes about this payment...",rows:3,className:"resize-none"})]})]}),s.jsxs(qo,{className:"gap-2",children:[s.jsx(re,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),s.jsxs(re,{onClick:y,disabled:a<=0||a>g,className:"min-w-[120px]",children:[s.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]})]})})},qZe=({payment:e,open:t,onOpenChange:r})=>{var f;const n=h=>({Paid:"bg-success/10 text-success border-success/20",Partial:"bg-warning/10 text-warning border-warning/20",Unpaid:"bg-muted text-muted-foreground border-border",Overdue:"bg-danger/10 text-danger border-danger/20"})[h]||"bg-muted";if(!e)return s.jsx(bn,{open:t,onOpenChange:r,children:s.jsx(dn,{className:"max-w-3xl",children:s.jsx(wn,{children:s.jsx(jn,{children:"Loading..."})})})});const a=e.total_amount??e.totalAmount??0,i=e.amount_paid??e.amountPaid??0,o=e.vendor_name??((f=e.vendor_details)==null?void 0:f.name)??e.vendor??"Unknown",l=e.order_reference??e.orderReference??"",c=e.due_date??e.dueDate??"",d=e.last_payment_date??e.lastPaymentDate,u=e.payment_history??e.paymentHistory??[];return s.jsx(bn,{open:t,onOpenChange:r,children:s.jsxs(dn,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[s.jsxs(wn,{children:[s.jsxs(jn,{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Yn,{className:"h-5 w-5 text-primary"})}),"Payment History"]}),s.jsxs(Xs,{children:["Complete payment record for ",s.jsx("span",{className:"font-semibold",children:o})," - ",l]})]}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),s.jsxs("p",{className:"text-xl font-bold",children:[a.toLocaleString()," HUF"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Amount Paid"}),s.jsxs("p",{className:"text-xl font-bold text-success",children:[i.toLocaleString()," HUF"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Balance"}),s.jsxs("p",{className:"text-xl font-bold text-warning",children:[(a-i).toLocaleString()," HUF"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Status"}),s.jsx(Pe,{className:n(e.status),children:e.status})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Order Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 rounded-lg border bg-card",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Due Date"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("p",{className:"text-sm font-medium",children:c?Qt(new Date(c),"MMMM dd, yyyy"):"N/A"})]})]}),d&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Last Payment"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gn,{className:"h-4 w-4 text-success"}),s.jsx("p",{className:"text-sm font-medium",children:Qt(new Date(d),"MMMM dd, yyyy")})]})]}),e.notes&&s.jsxs("div",{className:"col-span-2 space-y-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Notes"}),s.jsx("p",{className:"text-sm",children:e.notes})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Transaction History"}),u&&u.length>0?s.jsx("div",{className:"space-y-3",children:u.map((h,m)=>s.jsxs("div",{className:"relative",children:[m!==u.length-1&&s.jsx("div",{className:"absolute left-5 top-12 bottom-0 w-px bg-border"}),s.jsxs("div",{className:"flex gap-4 p-4 rounded-lg border bg-card hover:bg-muted/30 transition-colors",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"p-2 bg-success/10 rounded-full",children:s.jsx(gn,{className:"h-5 w-5 text-success"})})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"font-semibold text-lg",children:[(h.amount||0).toLocaleString()," HUF"]}),s.jsxs(Pe,{variant:"outline",className:"text-xs",children:[s.jsx(As,{className:"h-3 w-3 mr-1"}),h.method]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:h.date?Qt(new Date(h.date),"MMMM dd, yyyy"):"N/A"})]})}),(h.referenceNo||h.reference_no)&&s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Ref:"}),s.jsx("span",{className:"font-mono bg-muted px-2 py-0.5 rounded",children:h.referenceNo||h.reference_no})]}),h.note&&s.jsx("p",{className:"text-sm text-muted-foreground italic",children:h.note})]})]})]},h.id||m))}):s.jsxs("div",{className:"text-center py-12 border rounded-lg bg-muted/20",children:[s.jsx(Yn,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"No payment transactions recorded yet"})]})]})]})]})})},KZe=({open:e,onOpenChange:t})=>{const{apartments:r,vendors:n,addPayment:a}=gl(),[i,o]=v.useState({apartmentId:"",vendorId:"",orderReference:"",totalAmount:"",amountPaid:"",dueDate:"",paymentMethod:"",notes:"",bankName:"",accountNumber:"",accountHolder:"",swift:"",iban:"",cardNumber:"",cardHolder:"",expiryDate:"",cvv:""}),[l,c]=v.useState("bank"),d=(b,y)=>{o(j=>({...j,[b]:y}))},u=()=>{const b=parseFloat(i.totalAmount)||0,y=parseFloat(i.amountPaid)||0;return b-y},f=()=>{if(!i.apartmentId||!i.vendorId||!i.orderReference||!i.totalAmount||!i.dueDate){Me.error("Missing Required Fields",{description:"Please fill in all required fields"});return}const b=parseFloat(i.totalAmount),y=parseFloat(i.amountPaid)||0;if(isNaN(b)||b<=0){Me.error("Invalid Amount",{description:"Please enter a valid total amount"});return}const j=n.find(_=>_.id===i.vendorId);if(!j)return;let w="Unpaid";y>=b?w="Paid":y>0&&(w="Partial");const N=y>0?[{date:new Date().toISOString().split("T")[0],amount:y,method:i.paymentMethod||l,referenceNo:i.orderReference,note:"Initial payment"}]:[];a({apartmentId:i.apartmentId,vendor:j.name,orderReference:i.orderReference,totalAmount:b,amountPaid:y,dueDate:i.dueDate,status:w,lastPaymentDate:y>0?new Date().toISOString().split("T")[0]:void 0,notes:i.notes,paymentHistory:N}),Me.success("Payment Created",{description:`Payment record for ${j.name} has been created successfully`}),o({apartmentId:"",vendorId:"",orderReference:"",totalAmount:"",amountPaid:"",dueDate:"",paymentMethod:"",notes:"",bankName:"",accountNumber:"",accountHolder:"",swift:"",iban:"",cardNumber:"",cardHolder:"",expiryDate:"",cvv:""}),t(!1)},h=n.find(b=>b.id===i.vendorId),m=r.find(b=>b.id===i.apartmentId),x=u(),p=parseFloat(i.totalAmount)||0,g=parseFloat(i.amountPaid)||0;return s.jsx(bn,{open:e,onOpenChange:t,children:s.jsxs(dn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(wn,{children:[s.jsx(jn,{className:"text-2xl font-bold",children:"Create New Payment"}),s.jsx(Xs,{children:"Create a comprehensive payment record with all necessary details"})]}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsx(oe,{children:s.jsxs(le,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Yn,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Order Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"apartment",className:"flex items-center gap-2",children:[s.jsx(xr,{className:"h-4 w-4 text-muted-foreground"}),"Apartment ",s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsxs(nt,{value:i.apartmentId,onValueChange:b=>d("apartmentId",b),children:[s.jsx(et,{id:"apartment",children:s.jsx(st,{placeholder:"Select apartment"})}),s.jsx(tt,{children:r.map(b=>s.jsx(J,{value:b.id,children:b.name},b.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"vendor",className:"flex items-center gap-2",children:[s.jsx(gi,{className:"h-4 w-4 text-muted-foreground"}),"Vendor ",s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsxs(nt,{value:i.vendorId,onValueChange:b=>d("vendorId",b),children:[s.jsx(et,{id:"vendor",children:s.jsx(st,{placeholder:"Select vendor"})}),s.jsx(tt,{children:n.map(b=>s.jsx(J,{value:b.id,children:b.name},b.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"orderRef",children:["Order Reference ",s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsx(ue,{id:"orderRef",placeholder:"e.g., ORD-2025-001",value:i.orderReference,onChange:b=>d("orderReference",b.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"dueDate",className:"flex items-center gap-2",children:[s.jsx(tn,{className:"h-4 w-4 text-muted-foreground"}),"Due Date ",s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsx(ue,{id:"dueDate",type:"date",value:i.dueDate,onChange:b=>d("dueDate",b.target.value)})]})]})]})}),s.jsx(oe,{children:s.jsxs(le,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Rr,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Payment Amount"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"totalAmount",children:["Total Amount (HUF) ",s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsx(ue,{id:"totalAmount",type:"number",placeholder:"0.00",value:i.totalAmount,onChange:b=>d("totalAmount",b.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"amountPaid",children:"Amount Paid (HUF)"}),s.jsx(ue,{id:"amountPaid",type:"number",placeholder:"0.00",value:i.amountPaid,onChange:b=>d("amountPaid",b.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{children:"Balance (HUF)"}),s.jsx("div",{className:pe("h-10 px-3 rounded-md border flex items-center font-semibold",x>0?"bg-warning/10 text-warning border-warning/20":"bg-success/10 text-success border-success/20"),children:x.toFixed(2)})]})]}),p>0&&s.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Amount:"}),s.jsxs("span",{className:"font-semibold",children:[p.toLocaleString()," HUF"]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount Paid:"}),s.jsxs("span",{className:"font-semibold text-success",children:[g.toLocaleString()," HUF"]})]}),s.jsx(Tt,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-semibold",children:"Outstanding Balance:"}),s.jsxs("span",{className:pe("text-lg font-bold",x>0?"text-warning":"text-success"),children:[x.toLocaleString()," HUF"]})]}),s.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[x===0&&s.jsxs(Pe,{className:"bg-success/10 text-success border-success/20",children:[s.jsx(Br,{className:"h-3 w-3 mr-1"}),"Fully Paid"]}),x>0&&g>0&&s.jsxs(Pe,{className:"bg-warning/10 text-warning border-warning/20",children:[s.jsx(Et,{className:"h-3 w-3 mr-1"}),"Partial Payment"]}),x>0&&g===0&&s.jsx(Pe,{variant:"outline",children:"Unpaid"})]})]})]})}),s.jsx(oe,{children:s.jsxs(le,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(As,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Payment Details"})]}),s.jsxs(nl,{value:l,onValueChange:b=>c(b),children:[s.jsxs(co,{className:"grid w-full grid-cols-3",children:[s.jsxs(Gt,{value:"bank",className:"flex items-center gap-2",children:[s.jsx(Lg,{className:"h-4 w-4"}),"Bank Transfer"]}),s.jsxs(Gt,{value:"card",className:"flex items-center gap-2",children:[s.jsx(As,{className:"h-4 w-4"}),"Card Payment"]}),s.jsxs(Gt,{value:"cash",className:"flex items-center gap-2",children:[s.jsx(Rr,{className:"h-4 w-4"}),"Cash"]})]}),s.jsx(Zt,{value:"bank",className:"space-y-4 mt-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"bankName",children:"Bank Name"}),s.jsx(ue,{id:"bankName",placeholder:"e.g., OTP Bank",value:i.bankName,onChange:b=>d("bankName",b.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"accountHolder",children:"Account Holder"}),s.jsx(ue,{id:"accountHolder",placeholder:"Full name",value:i.accountHolder,onChange:b=>d("accountHolder",b.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"accountNumber",children:"Account Number"}),s.jsx(ue,{id:"accountNumber",placeholder:"XXXX-XXXX-XXXX-XXXX",value:i.accountNumber,onChange:b=>d("accountNumber",b.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"iban",children:"IBAN"}),s.jsx(ue,{id:"iban",placeholder:"HU42 1177 3016 1111 1018 0000 0000",value:i.iban,onChange:b=>d("iban",b.target.value)})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(H,{htmlFor:"swift",children:"SWIFT/BIC Code"}),s.jsx(ue,{id:"swift",placeholder:"e.g., OTPVHUHB",value:i.swift,onChange:b=>d("swift",b.target.value)})]})]})}),s.jsx(Zt,{value:"card",className:"space-y-4 mt-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(H,{htmlFor:"cardNumber",children:"Card Number"}),s.jsx(ue,{id:"cardNumber",placeholder:"XXXX XXXX XXXX XXXX",maxLength:19,value:i.cardNumber,onChange:b=>d("cardNumber",b.target.value)})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(H,{htmlFor:"cardHolder",children:"Card Holder Name"}),s.jsx(ue,{id:"cardHolder",placeholder:"Name as on card",value:i.cardHolder,onChange:b=>d("cardHolder",b.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"expiryDate",children:"Expiry Date"}),s.jsx(ue,{id:"expiryDate",placeholder:"MM/YY",maxLength:5,value:i.expiryDate,onChange:b=>d("expiryDate",b.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"cvv",children:"CVV"}),s.jsx(ue,{id:"cvv",type:"password",placeholder:"XXX",maxLength:4,value:i.cvv,onChange:b=>d("cvv",b.target.value)})]})]})}),s.jsx(Zt,{value:"cash",className:"mt-4",children:s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg text-center text-muted-foreground",children:[s.jsx(Lg,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/50"}),s.jsx("p",{className:"text-sm",children:"Cash payment selected. No additional details required."})]})})]})]})}),s.jsx(oe,{children:s.jsxs(le,{className:"p-6 space-y-2",children:[s.jsx(H,{htmlFor:"notes",children:"Additional Notes"}),s.jsx(In,{id:"notes",placeholder:"Add any additional payment notes or instructions...",rows:3,value:i.notes,onChange:b=>d("notes",b.target.value)})]})}),(m||h)&&s.jsx(oe,{className:"bg-primary/5 border-primary/20",children:s.jsxs(le,{className:"p-6",children:[s.jsx("h3",{className:"font-semibold mb-3 text-primary",children:"Payment Summary"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[m&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Apartment:"}),s.jsx("span",{className:"font-medium",children:m.name})]}),h&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Vendor:"}),s.jsx("span",{className:"font-medium",children:h.name})]}),i.orderReference&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Order Reference:"}),s.jsx("span",{className:"font-mono font-medium",children:i.orderReference})]}),i.dueDate&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Due Date:"}),s.jsx("span",{className:"font-medium",children:new Date(i.dueDate).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Payment Method:"}),s.jsx(Pe,{variant:"outline",children:l.toUpperCase()})]})]})]})})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(re,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(re,{onClick:f,className:"px-8",children:"Create Payment"})]})]})})},Di=ir.create({baseURL:ji,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});Di.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Di.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const xu={getPayments:async e=>(await Di.get("/payments/",{params:e})).data,getPayment:async e=>(await Di.get(`/payments/${e}/`)).data,createPayment:async e=>(await Di.post("/payments/",e)).data,createPaymentFromOrder:async e=>(await Di.post("/payments/from-order/",e)).data,updatePayment:async(e,t)=>(await Di.put(`/payments/${e}/`,t)).data,patchPayment:async(e,t)=>(await Di.patch(`/payments/${e}/`,t)).data,deletePayment:async e=>{await Di.delete(`/payments/${e}/`)},getPaymentHistory:async e=>{const t=e?{payment:e}:{},r=await Di.get("/payment-history/",{params:t});return r.data.results||r.data},createPaymentHistory:async e=>(await Di.post("/payment-history/",e)).data,deletePaymentHistory:async e=>{await Di.delete(`/payment-history/${e}/`)}},_s={all:["payments"],lists:()=>[..._s.all,"list"],list:e=>[..._s.lists(),e],details:()=>[..._s.all,"detail"],detail:e=>[..._s.details(),e],history:e=>[..._s.all,"history",e]},vJ=e=>Ds({queryKey:_s.list(e),queryFn:()=>xu.getPayments(e)}),yJ=e=>Ds({queryKey:_s.detail(e),queryFn:()=>xu.getPayment(e),enabled:!!e}),XZe=()=>{const e=zr();return nn({mutationFn:t=>xu.createPaymentFromOrder(t),onSuccess:()=>{e.invalidateQueries({queryKey:_s.lists()})}})},bJ=()=>{const e=zr();return nn({mutationFn:({id:t,data:r})=>xu.updatePayment(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:_s.lists()}),e.invalidateQueries({queryKey:_s.detail(t.id)})}})},YZe=()=>{const e=zr();return nn({mutationFn:t=>xu.deletePayment(t),onSuccess:()=>{e.invalidateQueries({queryKey:_s.lists()})}})},wJ=()=>{const e=zr();return nn({mutationFn:t=>xu.createPaymentHistory(t),onSuccess:t=>{e.invalidateQueries({queryKey:_s.history(t.payment)}),e.invalidateQueries({queryKey:_s.lists()}),e.invalidateQueries({queryKey:_s.details()})}})},QZe=()=>{const e=zr();return nn({mutationFn:t=>xu.deletePaymentHistory(t),onSuccess:()=>{e.invalidateQueries({queryKey:_s.history()}),e.invalidateQueries({queryKey:_s.lists()}),e.invalidateQueries({queryKey:_s.details()})}})},ZZe=()=>{var Je,qe;const e=cr(),{apartments:t,vendors:r,updatePayment:n,addPaymentToHistory:a}=gl(),{data:i,isLoading:o,error:l,refetch:c}=vJ({page_size:100}),d=YZe();bJ();const u=wJ(),f=(i==null?void 0:i.results)||[],[h,m]=v.useState(""),[x,p]=v.useState("All"),[g,b]=v.useState("All"),[y,j]=v.useState("All"),[w,N]=v.useState(""),[_,C]=v.useState(""),[S,E]=v.useState(""),[P,I]=v.useState(""),[D,U]=v.useState(null),[F,M]=v.useState(!1),[O,A]=v.useState(!1),[k,W]=v.useState(!1),[fe,de]=v.useState("30d"),[T,L]=v.useState("trends"),[R,K]=v.useState(!1),[q,Z]=v.useState(!1),[X,ee]=v.useState(null),ie=z=>{var je;return((je=z.apartment_details)==null?void 0:je.name)||"Unknown"},be=z=>({Paid:"bg-success/10 text-success border-success/20",Partial:"bg-warning/10 text-warning border-warning/20",Unpaid:"bg-muted text-muted-foreground border-border",Overdue:"bg-danger/10 text-danger border-danger/20"})[z]||"bg-muted",he=z=>{switch(z){case"Paid":return s.jsx(gn,{className:"h-3.5 w-3.5"});case"Partial":return s.jsx(Vr,{className:"h-3.5 w-3.5"});case"Overdue":return s.jsx(Et,{className:"h-3.5 w-3.5"});default:return s.jsx(Rr,{className:"h-3.5 w-3.5"})}},Ge=v.useMemo(()=>f.filter(z=>{var wt;const je=ie(z),ut=z.vendor_name||((wt=z.vendor_details)==null?void 0:wt.name)||"",vt=ut.toLowerCase().includes(h.toLowerCase())||z.order_reference.toLowerCase().includes(h.toLowerCase())||je.toLowerCase().includes(h.toLowerCase()),Ye=x==="All"||z.status===x,$t=g==="All"||ut===g,Pr=y==="All"||z.apartment===y;let Dr=!0;if(w||_){const Bt=new Date(z.due_date);w&&(Dr=Dr&&Bt>=new Date(w)),_&&(Dr=Dr&&Bt<=new Date(_))}let wr=!0;if(S||P){const Bt=z.total_amount||0;S&&(wr=wr&&Bt>=parseFloat(S)),P&&(wr=wr&&Bt<=parseFloat(P))}return vt&&Ye&&$t&&Pr&&Dr&&wr}),[f,h,x,g,y,w,_,S,P]),ke=Ge.reduce((z,je)=>z+(je.total_amount||0),0),bt=Ge.reduce((z,je)=>z+(je.amount_paid||0),0),rt=ke-bt,Oe=Ge.filter(z=>z.status==="Overdue").length,G=Ge.filter(z=>z.status==="Partial").length,ce=Array.from(new Set(f.map(z=>{var je;return z.vendor_name||((je=z.vendor_details)==null?void 0:je.name)||""}))).filter(Boolean).sort(),xe=()=>{m(""),p("All"),b("All"),j("All"),N(""),C(""),E(""),I("")},ve=[h,x!=="All",g!=="All",y!=="All",w,_,S,P].filter(Boolean).length,ge=z=>{U(z),M(!0)},Ae=()=>{Me.success("Export Started",{description:"Your payment report is being generated..."})},ae=v.useMemo(()=>{const z=new Date;let je;switch(fe){case"7d":oc(z,7),je=7;break;case"30d":oc(z,30),je=30;break;case"90d":oc(z,90),je=90;break;case"1y":oxe(z,12),je=365;break;default:oc(z,30),je=30}const ut=[];for(let vt=je;vt>=0;vt--){const Ye=oc(z,vt),$t=Qt(Ye,"yyyy-MM-dd"),Dr=f.filter(wr=>{var wt;return wr.last_payment_date===$t?!0:(wt=wr.payment_history)==null?void 0:wt.some(Bt=>Bt.date===$t)}).reduce((wr,wt)=>{var rr;const Bt=((rr=wt.payment_history)==null?void 0:rr.filter(Bn=>Bn.date===$t))||[];return wr+Bt.reduce((Bn,ps)=>Bn+(ps.amount||0),0)},0);ut.push({date:Qt(Ye,"MMM dd"),fullDate:$t,paid:Dr,pending:f.filter(wr=>wr.due_date===$t&&wr.status!=="Paid").reduce((wr,wt)=>wr+(wt.outstanding_amount||0),0)})}return ut},[f,fe]),we=v.useMemo(()=>{const z={Paid:f.filter(je=>je.status==="Paid").length,Partial:f.filter(je=>je.status==="Partial").length,Unpaid:f.filter(je=>je.status==="Unpaid").length,Overdue:f.filter(je=>je.status==="Overdue").length};return[{name:"Paid",value:z.Paid,color:"hsl(var(--success))"},{name:"Partial",value:z.Partial,color:"hsl(var(--warning))"},{name:"Unpaid",value:z.Unpaid,color:"hsl(var(--muted-foreground))"},{name:"Overdue",value:z.Overdue,color:"hsl(var(--danger))"}].filter(je=>je.value>0)},[f]),lt=v.useMemo(()=>{const z={};return f.forEach(je=>{var vt;const ut=je.vendor_name||((vt=je.vendor_details)==null?void 0:vt.name)||"Unknown";z[ut]||(z[ut]={total:0,paid:0,pending:0}),z[ut].total+=je.total_amount||0,z[ut].paid+=je.amount_paid||0,z[ut].pending+=je.outstanding_amount||0}),Object.entries(z).map(([je,ut])=>({vendor:je,...ut})).sort((je,ut)=>ut.total-je.total).slice(0,5)},[f]);return s.jsxs(yt,{title:"Payments",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(re,{onClick:()=>e("/payments/new"),size:"lg",className:"h-11",children:[s.jsx(An,{className:"h-5 w-5 mr-2"}),"Create Payment"]}),s.jsxs(re,{variant:"outline",onClick:Ae,children:[s.jsx(qj,{className:"h-4 w-4 mr-2"}),"Export Report"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),s.jsxs("p",{className:"text-2xl font-bold tracking-tight",children:[ke.toLocaleString()," HUF"]})]}),s.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:s.jsx(Rr,{className:"h-6 w-6 text-primary"})})]})})}),s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Total Paid"}),s.jsxs("p",{className:"text-2xl font-bold tracking-tight text-success",children:[bt.toLocaleString()," HUF"]})]}),s.jsx("div",{className:"p-3 bg-success/10 rounded-lg",children:s.jsx(gn,{className:"h-6 w-6 text-success"})})]})})}),s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Outstanding"}),s.jsxs("p",{className:"text-2xl font-bold tracking-tight text-warning",children:[rt.toLocaleString()," HUF"]})]}),s.jsx("div",{className:"p-3 bg-warning/10 rounded-lg",children:s.jsx(Vr,{className:"h-6 w-6 text-warning"})})]})})}),s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Overdue"}),s.jsx("p",{className:"text-2xl font-bold tracking-tight text-danger",children:Oe}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[G," Partial"]})]}),s.jsx("div",{className:"p-3 bg-danger/10 rounded-lg",children:s.jsx(Et,{className:"h-6 w-6 text-danger"})})]})})})]}),s.jsxs(oe,{children:[s.jsx(Fe,{className:"pb-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx($e,{className:"text-lg font-semibold",children:"Payment Analytics"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Visual insights into payment trends and status"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(nt,{value:fe,onValueChange:z=>de(z),children:[s.jsx(et,{className:"w-[130px]",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"7d",children:"Last 7 days"}),s.jsx(J,{value:"30d",children:"Last 30 days"}),s.jsx(J,{value:"90d",children:"Last 90 days"}),s.jsx(J,{value:"1y",children:"Last year"})]})]})})]})}),s.jsx(le,{children:s.jsxs(nl,{value:T,onValueChange:z=>L(z),children:[s.jsxs(co,{className:"grid w-full grid-cols-3 mb-6",children:[s.jsxs(Gt,{value:"trends",className:"flex items-center gap-2",children:[s.jsx(Fg,{className:"h-4 w-4"}),"Payment Trends"]}),s.jsxs(Gt,{value:"status",className:"flex items-center gap-2",children:[s.jsx(gn,{className:"h-4 w-4"}),"Status Distribution"]}),s.jsxs(Gt,{value:"vendors",className:"flex items-center gap-2",children:[s.jsx($o,{className:"h-4 w-4"}),"Vendor Comparison"]})]}),s.jsx(Zt,{value:"trends",className:"mt-0",children:s.jsx(Cl,{width:"100%",height:350,children:s.jsxs(BLe,{data:ae,children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"colorPaid",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"hsl(var(--success))",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"hsl(var(--success))",stopOpacity:0})]}),s.jsxs("linearGradient",{id:"colorPending",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"hsl(var(--warning))",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"hsl(var(--warning))",stopOpacity:0})]})]}),s.jsx(Ml,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(Ba,{dataKey:"date",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),s.jsx(Ua,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:z=>`${(z/1e3).toFixed(0)}k`}),s.jsx(Hn,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:z=>[`${z.toLocaleString()} HUF`,""]}),s.jsx(Ro,{}),s.jsx(Fc,{type:"monotone",dataKey:"paid",stroke:"hsl(var(--success))",fillOpacity:1,fill:"url(#colorPaid)",name:"Paid"}),s.jsx(Fc,{type:"monotone",dataKey:"pending",stroke:"hsl(var(--warning))",fillOpacity:1,fill:"url(#colorPending)",name:"Pending"})]})})}),s.jsx(Zt,{value:"status",className:"mt-0",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Cl,{width:"100%",height:350,children:s.jsxs(Xq,{children:[s.jsx(Hl,{data:we,cx:"50%",cy:"50%",labelLine:!1,label:({name:z,percent:je})=>`${z}: ${(je*100).toFixed(0)}%`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:we.map((z,je)=>s.jsx(F0,{fill:z.color},`cell-${je}`))}),s.jsx(Hn,{})]})}),s.jsx("div",{className:"flex flex-col justify-center space-y-4",children:we.map(z=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:z.color}}),s.jsx("span",{className:"font-medium",children:z.name})]}),s.jsx("span",{className:"text-2xl font-bold",children:z.value})]},z.name))})]})}),s.jsx(Zt,{value:"vendors",className:"mt-0",children:s.jsx(Cl,{width:"100%",height:350,children:s.jsxs(b_,{data:lt,children:[s.jsx(Ml,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(Ba,{dataKey:"vendor",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),s.jsx(Ua,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:z=>`${(z/1e3).toFixed(0)}k`}),s.jsx(Hn,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:z=>[`${z.toLocaleString()} HUF`,""]}),s.jsx(Ro,{}),s.jsx(ro,{dataKey:"paid",fill:"hsl(var(--success))",name:"Paid",radius:[4,4,0,0]}),s.jsx(ro,{dataKey:"pending",fill:"hsl(var(--warning))",name:"Pending",radius:[4,4,0,0]})]})})})]})})]}),s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{placeholder:"Search by vendor, order reference, or apartment...",value:h,onChange:z=>m(z.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap lg:flex-nowrap",children:[s.jsxs(nt,{value:x,onValueChange:p,children:[s.jsx(et,{className:"w-full sm:w-[140px]",children:s.jsx(st,{placeholder:"Status"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"All",children:"All Status"}),s.jsx(J,{value:"Paid",children:"Paid"}),s.jsx(J,{value:"Partial",children:"Partial"}),s.jsx(J,{value:"Unpaid",children:"Unpaid"}),s.jsx(J,{value:"Overdue",children:"Overdue"})]})]}),s.jsxs(nt,{value:g,onValueChange:b,children:[s.jsx(et,{className:"w-full sm:w-[140px]",children:s.jsx(st,{placeholder:"Vendor"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"All",children:"All Vendors"}),ce.map(z=>s.jsx(J,{value:z,children:z},z))]})]}),s.jsxs(re,{variant:R?"default":"outline",onClick:()=>K(!R),className:"relative",children:[s.jsx(c0,{className:"h-4 w-4 mr-2"}),"Filters",ve>0&&s.jsx(Pe,{className:"ml-2 h-5 w-5 p-0 flex items-center justify-center bg-primary text-primary-foreground",children:ve}),R?s.jsx(Gj,{className:"h-4 w-4 ml-2"}):s.jsx(Ff,{className:"h-4 w-4 ml-2"})]})]})]}),R&&s.jsxs("div",{className:"pt-4 border-t space-y-4 animate-slide-down",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Advanced Filters"}),ve>0&&s.jsxs(re,{variant:"ghost",size:"sm",onClick:xe,className:"h-8 text-xs",children:[s.jsx(Bs,{className:"h-3 w-3 mr-1"}),"Clear All"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{className:"text-xs font-medium text-muted-foreground",children:"Apartment"}),s.jsxs(nt,{value:y,onValueChange:j,children:[s.jsx(et,{children:s.jsx(st,{placeholder:"All Apartments"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"All",children:"All Apartments"}),t.map(z=>s.jsx(J,{value:z.id,children:z.name},z.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{className:"text-xs font-medium text-muted-foreground",children:"Due Date From"}),s.jsx(ue,{type:"date",value:w,onChange:z=>N(z.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{className:"text-xs font-medium text-muted-foreground",children:"Due Date To"}),s.jsx(ue,{type:"date",value:_,onChange:z=>C(z.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{className:"text-xs font-medium text-muted-foreground",children:"Min Amount (HUF)"}),s.jsx(ue,{type:"number",placeholder:"0",value:S,onChange:z=>E(z.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{className:"text-xs font-medium text-muted-foreground",children:"Max Amount (HUF)"}),s.jsx(ue,{type:"number",placeholder:"1000000",value:P,onChange:z=>I(z.target.value)})]})]}),ve>0&&s.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[h&&s.jsxs(Pe,{variant:"secondary",className:"gap-1",children:["Search: ",h,s.jsx(Bs,{className:"h-3 w-3 cursor-pointer",onClick:()=>m("")})]}),x!=="All"&&s.jsxs(Pe,{variant:"secondary",className:"gap-1",children:["Status: ",x,s.jsx(Bs,{className:"h-3 w-3 cursor-pointer",onClick:()=>p("All")})]}),g!=="All"&&s.jsxs(Pe,{variant:"secondary",className:"gap-1",children:["Vendor: ",g,s.jsx(Bs,{className:"h-3 w-3 cursor-pointer",onClick:()=>b("All")})]}),y!=="All"&&s.jsxs(Pe,{variant:"secondary",className:"gap-1",children:["Apartment: ",((Je=t.find(z=>z.id===y))==null?void 0:Je.name)||y,s.jsx(Bs,{className:"h-3 w-3 cursor-pointer",onClick:()=>j("All")})]}),w&&s.jsxs(Pe,{variant:"secondary",className:"gap-1",children:["From: ",Qt(new Date(w),"MMM dd, yyyy"),s.jsx(Bs,{className:"h-3 w-3 cursor-pointer",onClick:()=>N("")})]}),_&&s.jsxs(Pe,{variant:"secondary",className:"gap-1",children:["To: ",Qt(new Date(_),"MMM dd, yyyy"),s.jsx(Bs,{className:"h-3 w-3 cursor-pointer",onClick:()=>C("")})]}),S&&s.jsxs(Pe,{variant:"secondary",className:"gap-1",children:["Min: ",parseFloat(S).toLocaleString()," HUF",s.jsx(Bs,{className:"h-3 w-3 cursor-pointer",onClick:()=>E("")})]}),P&&s.jsxs(Pe,{variant:"secondary",className:"gap-1",children:["Max: ",parseFloat(P).toLocaleString()," HUF",s.jsx(Bs,{className:"h-3 w-3 cursor-pointer",onClick:()=>I("")})]})]})]}),s.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",s.jsx("span",{className:"font-semibold text-foreground",children:Ge.length})," of"," ",s.jsx("span",{className:"font-semibold text-foreground",children:f.length})," payments"]})})]})})}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsx($e,{className:"text-lg font-semibold",children:"Payment Records"})}),s.jsx(le,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:s.jsxs(ds,{children:[s.jsx(us,{children:s.jsxs(Rt,{className:"bg-muted/50",children:[s.jsx(Ee,{className:"font-semibold",children:"Vendor"}),s.jsx(Ee,{className:"font-semibold",children:"Order Ref"}),s.jsx(Ee,{className:"font-semibold",children:"Apartment"}),s.jsx(Ee,{className:"font-semibold text-right",children:"Total Amount"}),s.jsx(Ee,{className:"font-semibold text-right",children:"Paid"}),s.jsx(Ee,{className:"font-semibold text-right",children:"Balance"}),s.jsx(Ee,{className:"font-semibold",children:"Due Date"}),s.jsx(Ee,{className:"font-semibold",children:"Status"}),s.jsx(Ee,{className:"font-semibold text-center",children:"Actions"})]})}),s.jsx(fs,{children:o?s.jsx(Rt,{children:s.jsx(ye,{colSpan:9,className:"text-center py-12",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(St,{className:"h-8 w-8 animate-spin text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading payments..."})]})})}):Ge.length===0?s.jsx(Rt,{children:s.jsx(ye,{colSpan:9,className:"text-center py-12 text-muted-foreground",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(xb,{className:"h-12 w-12 text-muted-foreground/50"}),s.jsx("p",{children:"No payments found matching your filters"})]})})}):Ge.map(z=>{var wt;const je=z.total_amount||0,ut=z.amount_paid||0,vt=z.outstanding_amount||0,Ye=z.status==="Overdue",Dr=new Date(z.due_date)<new Date&&z.status!=="Paid",wr=z.vendor_name||((wt=z.vendor_details)==null?void 0:wt.name)||"Unknown";return s.jsxs(Rt,{className:pe("transition-colors cursor-pointer hover:bg-muted/50",Ye&&"bg-danger/5 hover:bg-danger/10"),onClick:()=>e(`/payments/${z.id}`),children:[s.jsxs(ye,{children:[s.jsx("div",{className:"font-medium text-foreground",children:wr}),z.notes&&s.jsx("div",{className:"text-xs text-muted-foreground mt-0.5 max-w-[200px] truncate",children:z.notes})]}),s.jsx(ye,{children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(xb,{className:"h-3.5 w-3.5 text-muted-foreground"}),s.jsx("span",{className:"font-mono text-sm",children:z.order_reference})]})}),s.jsx(ye,{children:s.jsx(Pe,{variant:"outline",className:"font-normal",children:ie(z)})}),s.jsx(ye,{className:"text-right",children:s.jsxs("span",{className:"font-semibold",children:[je.toLocaleString()," HUF"]})}),s.jsx(ye,{className:"text-right",children:ut>0?s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs("div",{className:"font-semibold text-success",children:[ut.toLocaleString()," HUF"]}),z.last_payment_date&&s.jsx("div",{className:"text-xs text-muted-foreground",children:Qt(new Date(z.last_payment_date),"MMM dd")})]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(ye,{className:"text-right",children:vt>0?s.jsxs("span",{className:pe("font-semibold",Ye?"text-danger":"text-warning"),children:[vt.toLocaleString()," HUF"]}):s.jsx("span",{className:"text-success",children:" Paid"})}),s.jsx(ye,{children:s.jsx("div",{className:pe("text-sm",Dr&&"text-danger font-semibold"),children:Qt(new Date(z.due_date),"MMM dd, yyyy")})}),s.jsx(ye,{children:s.jsxs(Pe,{className:be(z.status),children:[he(z.status),s.jsx("span",{className:"ml-1",children:z.status})]})}),s.jsx(ye,{className:"text-center",onClick:Bt=>Bt.stopPropagation(),children:s.jsx("div",{className:"flex items-center justify-center gap-1",children:s.jsxs(C0,{children:[s.jsx(E0,{asChild:!0,children:s.jsx(re,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:s.jsx(g9,{className:"h-4 w-4"})})}),s.jsxs(Sp,{align:"end",children:[s.jsxs(mn,{onClick:()=>e(`/payments/${z.id}`),children:[s.jsx(Da,{className:"h-4 w-4 mr-2"}),"View Details"]}),z.status!=="Paid"&&s.jsxs(s.Fragment,{children:[s.jsx(gc,{}),s.jsxs(mn,{onClick:()=>ge(z),className:"text-success focus:text-success",children:[s.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]}),s.jsx(gc,{}),s.jsxs(mn,{onClick:()=>e(`/payments/${z.id}/edit`),children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Edit Payment"]}),s.jsx(gc,{}),s.jsxs(mn,{className:"text-danger focus:text-danger",onClick:()=>{ee(z),Z(!0)},children:[s.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Delete Payment"]})]})]})})})]},z.id)})})]})})})]})]}),s.jsx(gJ,{payment:D,open:F,onOpenChange:M,onSave:async(z,je,ut,vt)=>{if(D)try{await u.mutateAsync({payment:D.id,date:new Date().toISOString().split("T")[0],amount:z,method:je,reference_no:ut,note:vt}),Me.success("Payment Recorded",{description:`${z.toLocaleString()} HUF recorded successfully`}),M(!1),c()}catch{Me.error("Failed to record payment")}}}),s.jsx(qZe,{payment:D,open:O,onOpenChange:A}),s.jsx(KZe,{open:k,onOpenChange:W}),s.jsx(Gl,{open:q,onOpenChange:Z,children:s.jsxs(Xo,{className:"max-w-md",onKeyDown:async z=>{if(z.key==="Enter"&&X&&!d.isPending){z.preventDefault();try{await d.mutateAsync(X.id),Me.success("Payment Deleted",{description:`Payment ${X.order_reference} has been deleted.`}),Z(!1),ee(null),c()}catch{Me.error("Failed to delete payment")}}},children:[s.jsxs(Yo,{className:"space-y-4",children:[s.jsx("div",{className:"mx-auto w-14 h-14 rounded-full bg-danger/10 flex items-center justify-center",children:s.jsx(Zi,{className:"h-7 w-7 text-danger"})}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx(Zo,{className:"text-xl",children:"Delete Payment"}),s.jsx(Jo,{className:"text-base",children:"Are you sure you want to delete this payment record?"})]}),X&&s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 border space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Order Reference"}),s.jsx("span",{className:"font-semibold",children:X.order_reference})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Vendor"}),s.jsx("span",{className:"font-medium",children:X.vendor_name||((qe=X.vendor_details)==null?void 0:qe.name)||"N/A"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount"}),s.jsxs("span",{className:"font-semibold text-primary",children:[(X.total_amount||0).toLocaleString()," HUF"]})]})]}),s.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:[s.jsx(Zi,{className:"h-3.5 w-3.5 inline mr-1 text-warning"}),"This action cannot be undone. All payment history will be lost."]})]}),s.jsxs(Qo,{className:"sm:space-x-3 mt-2",children:[s.jsxs(tl,{className:"flex-1 sm:flex-none",children:[s.jsx(l0,{className:"h-4 w-4 mr-2"}),"Cancel"]}),s.jsx(el,{className:"flex-1 sm:flex-none bg-danger text-danger-foreground hover:bg-danger/90",disabled:d.isPending,onClick:async()=>{if(X)try{await d.mutateAsync(X.id),Me.success("Payment Deleted",{description:`Payment ${X.order_reference} has been deleted.`}),Z(!1),ee(null),c()}catch{Me.error("Failed to delete payment")}},children:d.isPending?s.jsxs(s.Fragment,{children:[s.jsx(St,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Delete Payment"]})})]})]})})]})},JZe=()=>{var M,O,A;const e=cr(),[t,r]=v.useState("select-order"),[n,a]=v.useState(null),[i,o]=v.useState([]),[l,c]=v.useState({due_date:"",total_amount:"",needs_to_pay:"",shipping_cost:"",discount:"",payment_method:"Bank Transfer",reference_number:"",notes:"",bank_name:"",account_holder:"",account_number:"",iban:"",card_holder:"",card_last_four:""}),[d,u]=v.useState(""),[f,h]=v.useState(!1),{orders:m,loading:x}=vY({page_size:100}),{data:p}=vJ({page_size:200}),g=(p==null?void 0:p.results)||[],b=XZe(),y=v.useMemo(()=>{const k=new Map;return g.forEach(W=>{W.order&&(!k.get(W.order)||W.status==="Paid")&&k.set(W.order,{status:W.status,paymentId:W.id})}),k},[g]),j=v.useMemo(()=>m.filter(k=>{const W=y.get(k.id);return!W||W.status!=="Paid"}),[m,y]),w=v.useMemo(()=>{if(!d.trim())return j;const k=d.toLowerCase();return j.filter(W=>{var fe,de,T;return((fe=W.po_number)==null?void 0:fe.toLowerCase().includes(k))||((de=W.vendor_name)==null?void 0:de.toLowerCase().includes(k))||((T=W.apartment_name)==null?void 0:T.toLowerCase().includes(k))})},[j,d]),N=v.useMemo(()=>!n||!n.items||i.length===0?0:n.items.filter(k=>i.includes(k.id||"")).reduce((k,W)=>{const fe=parseFloat(String(W.unit_price||0)),de=W.quantity||1;return k+fe*de},0),[n,i]);v.useEffect(()=>{if(n&&n.items){o(n.items.map(W=>W.id||"").filter(Boolean));const k=new Date;k.setDate(k.getDate()+30),c(W=>({...W,due_date:k.toISOString().split("T")[0],total_amount:"",needs_to_pay:"0",shipping_cost:"0",discount:"0"}))}},[n]),v.useEffect(()=>{N>0&&c(k=>({...k,total_amount:Math.round(N).toString()}))},[N]);const _=v.useMemo(()=>{const k=parseInt(l.total_amount)||0,W=parseInt(l.shipping_cost)||0,fe=parseInt(l.discount)||0;return k+W-fe},[l.total_amount,l.shipping_cost,l.discount]),C=v.useMemo(()=>{const k=parseInt(l.needs_to_pay)||0;return _-k},[_,l.needs_to_pay]),S=async k=>{h(!0);try{const W=await oa.getOrder(k.id);a(W),r("review-items")}catch(W){console.error("Error fetching order details:",W),Me.error("Failed to load order details")}finally{h(!1)}},E=k=>{o(W=>W.includes(k)?W.filter(fe=>fe!==k):[...W,k])},P=()=>{if(!n||!n.items)return;const k=n.items.map(W=>W.id||"").filter(Boolean);i.length===k.length?o([]):o(k)},I=async()=>{var k,W;if(!n){Me.error("Please select an order");return}if(i.length===0){Me.error("Please select at least one item");return}if(!l.due_date){Me.error("Please set a due date");return}try{const fe=parseInt(l.needs_to_pay)||0,de={order:n.id,order_items:i,due_date:l.due_date,total_amount:parseInt(l.total_amount)||0,shipping_cost:parseInt(l.shipping_cost)||0,discount:parseInt(l.discount)||0,amount_paid:0,payment_method:l.payment_method,reference_number:l.reference_number,notes:l.notes,bank_name:l.bank_name,account_holder:l.account_holder,account_number:l.account_number,iban:l.iban,card_holder:l.card_holder,card_last_four:l.card_last_four},T=await b.mutateAsync(de);fe>0&&await xu.createPaymentHistory({payment:T.id,date:new Date().toISOString().split("T")[0],amount:fe,method:l.payment_method||"Bank Transfer",reference_no:l.reference_number||"",note:"Initial payment when creating payment record"}),Me.success("Payment created successfully!"),e("/payments")}catch(fe){console.error("Error creating payment:",fe),Me.error(((W=(k=fe.response)==null?void 0:k.data)==null?void 0:W.message)||"Failed to create payment")}},D=k=>({pending:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",confirmed:"bg-blue-500/10 text-blue-600 border-blue-500/20",processing:"bg-purple-500/10 text-purple-600 border-purple-500/20",shipped:"bg-indigo-500/10 text-indigo-600 border-indigo-500/20",delivered:"bg-green-500/10 text-green-600 border-green-500/20",cancelled:"bg-red-500/10 text-red-600 border-red-500/20"})[k==null?void 0:k.toLowerCase()]||"bg-gray-500/10 text-gray-600",U=[{id:"select-order",label:"Select Order",icon:la},{id:"review-items",label:"Review Items",icon:mt},{id:"payment-details",label:"Payment Details",icon:As}],F=U.findIndex(k=>k.id===t);return s.jsx(yt,{title:"Create Payment",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[s.jsx(re,{variant:"ghost",size:"icon",onClick:()=>e("/payments"),className:"h-10 w-10 rounded-full",children:s.jsx(sr,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Payment"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Create a payment record from an existing order"})]})]}),s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between relative",children:[s.jsx("div",{className:"absolute top-5 left-0 right-0 h-0.5 bg-muted",children:s.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${F/(U.length-1)*100}%`}})}),U.map((k,W)=>{const fe=k.icon,de=W<F,T=k.id===t;return s.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[s.jsx("div",{className:pe("w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300",de&&"bg-primary text-primary-foreground",T&&"bg-primary text-primary-foreground ring-4 ring-primary/20",!de&&!T&&"bg-muted text-muted-foreground"),children:de?s.jsx(Ui,{className:"h-5 w-5"}):s.jsx(fe,{className:"h-5 w-5"})}),s.jsx("span",{className:pe("mt-2 text-sm font-medium",T?"text-primary":"text-muted-foreground"),children:k.label})]},k.id)})]})}),t==="select-order"&&s.jsxs(oe,{className:"border-0 shadow-lg",children:[s.jsx(Fe,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:s.jsx(la,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx($e,{className:"text-xl",children:"Select an Order"}),s.jsx(Lr,{children:"Choose an order to create a payment record"})]})]})}),s.jsxs(le,{className:"space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ss,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{placeholder:"Search by PO number, vendor, or apartment...",value:d,onChange:k=>u(k.target.value),className:"pl-10 h-11"})]}),x||f?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(St,{className:"h-6 w-6 animate-spin text-muted-foreground mr-2"}),s.jsx("span",{className:"text-muted-foreground",children:f?"Loading order details...":"Loading orders..."})]}):w.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[s.jsx(la,{className:"h-10 w-10 mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No orders found"})]}):s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs(ds,{children:[s.jsx(us,{children:s.jsxs(Rt,{className:"bg-muted/50 hover:bg-muted/50",children:[s.jsx(Ee,{className:"font-semibold",children:"PO Number"}),s.jsx(Ee,{className:"font-semibold",children:"Apartment"}),s.jsx(Ee,{className:"font-semibold",children:"Vendor"}),s.jsx(Ee,{className:"font-semibold text-center",children:"Items"}),s.jsx(Ee,{className:"font-semibold",children:"Date"}),s.jsx(Ee,{className:"font-semibold text-right",children:"Total"}),s.jsx(Ee,{className:"w-10"})]})}),s.jsx(fs,{children:w.map(k=>{var fe,de;const W=parseFloat(String(k.total||0));return s.jsxs(Rt,{onClick:()=>S(k),className:pe("cursor-pointer transition-colors",(n==null?void 0:n.id)===k.id?"bg-primary/5":"hover:bg-muted/50"),children:[s.jsx(ye,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold",children:k.po_number}),s.jsx(Pe,{variant:"outline",className:pe("text-xs",D(k.status)),children:k.status}),((fe=y.get(k.id))==null?void 0:fe.status)==="Partial"&&s.jsx(Pe,{variant:"outline",className:"text-xs bg-warning/10 text-warning border-warning/20",children:"Has Payment"})]})}),s.jsx(ye,{children:s.jsx("span",{className:"text-muted-foreground",children:k.apartment_name||"N/A"})}),s.jsx(ye,{children:s.jsx("span",{className:"text-muted-foreground",children:k.vendor_name||"N/A"})}),s.jsx(ye,{className:"text-center",children:s.jsx("span",{className:"text-muted-foreground",children:k.items_count||((de=k.items)==null?void 0:de.length)||0})}),s.jsx(ye,{children:s.jsx("span",{className:"text-muted-foreground",children:k.placed_on?Qt(new Date(k.placed_on),"MMM dd, yyyy"):"N/A"})}),s.jsx(ye,{className:"text-right",children:s.jsxs("span",{className:"font-semibold text-primary",children:[W.toLocaleString()," HUF"]})}),s.jsx(ye,{children:s.jsx(Hd,{className:"h-4 w-4 text-muted-foreground"})})]},k.id)})})]})})]})]}),t==="review-items"&&n&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(oe,{className:"border-0 shadow-lg bg-gradient-to-br from-primary/5 to-primary/10",children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Selected Order"}),s.jsx("h2",{className:"text-2xl font-bold",children:n.po_number}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(xr,{className:"h-4 w-4"}),n.apartment_name]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Zn,{className:"h-4 w-4"}),n.vendor_name]})]})]}),s.jsx(re,{variant:"outline",onClick:()=>r("select-order"),children:"Change Order"})]})})}),s.jsxs(oe,{className:"border-0 shadow-lg",children:[s.jsx(Fe,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:s.jsx(mt,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx($e,{className:"text-xl",children:"Order Items"}),s.jsx(Lr,{children:"Select items to include in this payment"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ll,{id:"select-all",checked:i.length===(((M=n.items)==null?void 0:M.length)||0),onCheckedChange:P}),s.jsxs(H,{htmlFor:"select-all",className:"cursor-pointer text-sm font-medium",children:["Select All (",i.length,"/",((O=n.items)==null?void 0:O.length)||0,")"]})]})]})}),s.jsxs(le,{children:[s.jsx("div",{className:"rounded-xl border overflow-hidden",children:s.jsxs(ds,{children:[s.jsx(us,{children:s.jsxs(Rt,{className:"bg-muted/50",children:[s.jsx(Ee,{className:"w-12"}),s.jsx(Ee,{children:"Product"}),s.jsx(Ee,{children:"Category"}),s.jsx(Ee,{className:"text-center",children:"Quantity"}),s.jsx(Ee,{className:"text-right",children:"Unit Price"}),s.jsx(Ee,{className:"text-right",children:"Total"})]})}),s.jsx(fs,{children:(n.items||[]).map(k=>{const W=i.includes(k.id||""),fe=parseFloat(String(k.unit_price||0)),de=fe*(k.quantity||1);return s.jsxs(Rt,{className:pe("cursor-pointer transition-colors",W?"bg-primary/5":"hover:bg-muted/50"),onClick:()=>E(k.id||""),children:[s.jsx(ye,{onClick:T=>T.stopPropagation(),children:s.jsx(Ll,{checked:W,onCheckedChange:()=>E(k.id||"")})}),s.jsx(ye,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[k.product_image||k.product_image_url?s.jsx("img",{src:k.product_image||k.product_image_url,alt:k.product_name||"Product",className:"w-10 h-10 rounded-lg object-cover border"}):s.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:s.jsx(mt,{className:"h-5 w-5 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:k.product_name||"Unknown Product"}),k.sku&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",k.sku]})]})]})}),s.jsx(ye,{children:s.jsx(Pe,{variant:"outline",className:"font-normal",children:k.category_name||"N/A"})}),s.jsx(ye,{className:"text-center font-medium",children:k.quantity}),s.jsxs(ye,{className:"text-right",children:[fe.toLocaleString()," HUF"]}),s.jsxs(ye,{className:"text-right font-semibold",children:[de.toLocaleString()," HUF"]})]},k.id)})})]})}),s.jsx("div",{className:"mt-6 p-4 rounded-xl bg-gradient-to-r from-primary/10 to-primary/5 border border-primary/20",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:s.jsx(Br,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.length," item",i.length!==1?"s":""," selected"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready for payment"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),s.jsxs("p",{className:"text-3xl font-bold text-primary",children:[N.toLocaleString()," ",s.jsx("span",{className:"text-lg",children:"HUF"})]})]})]})})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(re,{variant:"outline",onClick:()=>r("select-order"),className:"gap-2",children:[s.jsx(sr,{className:"h-4 w-4"}),"Back"]}),s.jsxs(re,{onClick:()=>r("payment-details"),disabled:i.length===0,className:"gap-2",children:["Continue",s.jsx(Hd,{className:"h-4 w-4"})]})]})]}),t==="payment-details"&&n&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(oe,{className:"border-0 shadow-lg",children:[s.jsx(Fe,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 bg-green-500/10 rounded-xl",children:s.jsx(Rr,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx($e,{className:"text-xl",children:"Payment Amount"}),s.jsx(Lr,{children:"Set the payment amounts"})]})]})}),s.jsxs(le,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"total_amount",className:"text-sm font-medium",children:["Total Amount (HUF) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(ue,{id:"total_amount",type:"number",step:"1",min:"0",value:l.total_amount,onChange:k=>c(W=>({...W,total_amount:k.target.value})),placeholder:"0",className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"needs_to_pay",className:"text-sm font-medium",children:"Amount Paid (HUF)"}),s.jsx(ue,{id:"needs_to_pay",type:"number",step:"1",min:"0",value:l.needs_to_pay,onChange:k=>c(W=>({...W,needs_to_pay:k.target.value})),placeholder:"0",className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{className:"text-sm font-medium",children:"Outstanding Balance (HUF)"}),s.jsx("div",{className:pe("h-11 px-3 flex items-center rounded-md border bg-muted/50 font-semibold",C>0?"text-red-600":C<0?"text-green-600":"text-muted-foreground"),children:C.toLocaleString()})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"shipping_cost",className:"text-sm font-medium",children:["Shipping Cost (HUF) ",s.jsx("span",{className:"text-muted-foreground text-xs",children:"(Optional)"})]}),s.jsx(ue,{id:"shipping_cost",type:"number",step:"1",min:"0",value:l.shipping_cost,onChange:k=>c(W=>({...W,shipping_cost:k.target.value})),placeholder:"0",className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"discount",className:"text-sm font-medium",children:["Discount (HUF) ",s.jsx("span",{className:"text-muted-foreground text-xs",children:"(Optional)"})]}),s.jsx(ue,{id:"discount",type:"number",step:"1",min:"0",value:l.discount,onChange:k=>c(W=>({...W,discount:k.target.value})),placeholder:"0",className:"h-11"})]})]}),(parseInt(l.shipping_cost)>0||parseInt(l.discount)>0)&&s.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsxs("span",{children:[parseInt(l.total_amount||"0").toLocaleString()," HUF"]})]}),parseInt(l.shipping_cost)>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"+ Shipping"}),s.jsxs("span",{children:[parseInt(l.shipping_cost).toLocaleString()," HUF"]})]}),parseInt(l.discount)>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"- Discount"}),s.jsxs("span",{className:"text-green-600",children:["-",parseInt(l.discount).toLocaleString()," HUF"]})]}),s.jsx(Tt,{className:"my-2"}),s.jsxs("div",{className:"flex justify-between font-semibold",children:[s.jsx("span",{children:"Final Total"}),s.jsxs("span",{className:"text-primary",children:[_.toLocaleString()," HUF"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"due_date",className:"flex items-center gap-2 text-sm font-medium",children:[s.jsx(tn,{className:"h-4 w-4 text-muted-foreground"}),"Due Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(ue,{id:"due_date",type:"date",value:l.due_date,onChange:k=>c(W=>({...W,due_date:k.target.value})),className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{className:"flex items-center gap-2 text-sm font-medium",children:[s.jsx(Yn,{className:"h-4 w-4 text-muted-foreground"}),"Order Reference"]}),s.jsx("div",{className:"h-11 px-3 flex items-center rounded-md border bg-muted/50 text-muted-foreground",children:n.po_number})]})]})]})]}),s.jsxs(oe,{className:"border-0 shadow-lg",children:[s.jsx(Fe,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:s.jsx(As,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx($e,{className:"text-xl",children:"Payment Details"}),s.jsx(Lr,{children:"Configure payment method and details"})]})]})}),s.jsxs(le,{className:"space-y-6",children:[s.jsx("div",{className:"space-y-3",children:s.jsx("div",{className:"grid grid-cols-3 gap-2 p-1 bg-muted rounded-lg",children:[{value:"Bank Transfer",icon:KT,label:"Bank Transfer"},{value:"Card Payment",icon:As,label:"Card Payment"},{value:"Cash",icon:Lg,label:"Cash"}].map(k=>{const W=k.icon,fe=l.payment_method===k.value;return s.jsxs("button",{type:"button",onClick:()=>c(de=>({...de,payment_method:k.value})),className:pe("py-2.5 px-4 rounded-md transition-all duration-200 flex items-center justify-center gap-2",fe?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[s.jsx(W,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:k.label})]},k.value)})})}),l.payment_method==="Bank Transfer"&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"bank_name",className:"text-sm font-medium",children:"Bank Name"}),s.jsx(ue,{id:"bank_name",value:l.bank_name,onChange:k=>c(W=>({...W,bank_name:k.target.value})),placeholder:"e.g., OTP Bank",className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"account_holder",className:"text-sm font-medium",children:"Account Holder"}),s.jsx(ue,{id:"account_holder",value:l.account_holder,onChange:k=>c(W=>({...W,account_holder:k.target.value})),placeholder:"Full name",className:"h-11"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"account_number",className:"text-sm font-medium",children:"Account Number"}),s.jsx(ue,{id:"account_number",value:l.account_number,onChange:k=>c(W=>({...W,account_number:k.target.value})),placeholder:"XXXX-XXXX-XXXX-XXXX",className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"iban",className:"text-sm font-medium",children:"IBAN"}),s.jsx(ue,{id:"iban",value:l.iban,onChange:k=>c(W=>({...W,iban:k.target.value})),placeholder:"HU42 1177 3016 1111 1018 0000 0000",className:"h-11"})]})]})]}),l.payment_method==="Card Payment"&&s.jsx("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"card_holder",className:"text-sm font-medium",children:"Card Holder Name"}),s.jsx(ue,{id:"card_holder",value:l.card_holder,onChange:k=>c(W=>({...W,card_holder:k.target.value})),placeholder:"Name on card",className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"card_last_four",className:"text-sm font-medium",children:"Card Last 4 Digits"}),s.jsx(ue,{id:"card_last_four",value:l.card_last_four,onChange:k=>c(W=>({...W,card_last_four:k.target.value.slice(0,4)})),placeholder:"1234",maxLength:4,className:"h-11"})]})]})}),l.payment_method==="Cash"&&s.jsx("div",{className:"p-4 bg-muted/30 rounded-lg border",children:s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"No additional details required for cash payment"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"reference",className:"text-sm font-medium",children:"Reference Number (Optional)"}),s.jsx(ue,{id:"reference",value:l.reference_number,onChange:k=>c(W=>({...W,reference_number:k.target.value})),placeholder:"e.g., INV-2025-001",className:"h-11"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"notes",className:"text-sm font-medium",children:"Notes (Optional)"}),s.jsx(In,{id:"notes",value:l.notes,onChange:k=>c(W=>({...W,notes:k.target.value})),placeholder:"Add any additional notes...",rows:3})]})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(re,{variant:"outline",onClick:()=>r("review-items"),className:"gap-2",children:[s.jsx(sr,{className:"h-4 w-4"}),"Back"]}),s.jsx(re,{onClick:I,disabled:b.isPending||!l.due_date||!l.total_amount,className:"gap-2 px-8",children:b.isPending?s.jsxs(s.Fragment,{children:[s.jsx(St,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Gd,{className:"h-4 w-4"}),"Create Payment"]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(oe,{className:"border-0 shadow-lg",children:[s.jsx(Fe,{className:"pb-3",children:s.jsxs($e,{className:"text-base flex items-center gap-2",children:[s.jsx(la,{className:"h-4 w-4"}),"Order Summary"]})}),s.jsx(le,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Order Number"}),s.jsx("span",{className:"font-medium",children:n.po_number})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Apartment"}),s.jsx("span",{className:"font-medium",children:n.apartment_name})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Vendor"}),s.jsx("span",{className:"font-medium",children:n.vendor_name})]}),s.jsx(Tt,{}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Items Selected"}),s.jsxs("span",{className:"font-medium",children:[i.length," of ",((A=n.items)==null?void 0:A.length)||0]})]})]})})]}),s.jsxs(oe,{className:"border-0 shadow-lg bg-gradient-to-br from-primary/5 to-primary/10",children:[s.jsx(Fe,{className:"pb-3",children:s.jsxs($e,{className:"text-base flex items-center gap-2",children:[s.jsx(Rr,{className:"h-4 w-4"}),"Payment Summary"]})}),s.jsx(le,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),s.jsxs("span",{className:"font-medium",children:[parseInt(l.total_amount||"0").toLocaleString()," HUF"]})]}),parseInt(l.shipping_cost)>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),s.jsxs("span",{className:"font-medium",children:["+",parseInt(l.shipping_cost).toLocaleString()," HUF"]})]}),parseInt(l.discount)>0&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Discount"}),s.jsxs("span",{className:"font-medium text-green-600",children:["-",parseInt(l.discount).toLocaleString()," HUF"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Final Total"}),s.jsxs("span",{className:"font-medium",children:[_.toLocaleString()," HUF"]})]}),s.jsx(Tt,{}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount Paid"}),s.jsxs("span",{className:"font-medium text-green-600",children:[parseInt(l.needs_to_pay||"0").toLocaleString()," HUF"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Outstanding"}),s.jsxs("span",{className:pe("font-medium",C>0?"text-red-600":"text-green-600"),children:[C.toLocaleString()," HUF"]})]}),s.jsx(Tt,{}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Due Date"}),s.jsx("span",{className:"font-medium",children:l.due_date?Qt(new Date(l.due_date),"MMM dd, yyyy"):"Not set"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Method"}),s.jsx("span",{className:"font-medium",children:l.payment_method})]}),s.jsx(Tt,{}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold",children:"Outstanding Balance"}),s.jsxs("span",{className:"text-2xl font-bold text-primary",children:[C.toLocaleString()," HUF"]})]})]})})]}),s.jsx(oe,{className:"border-0 shadow-lg",children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:pe("p-2 rounded-lg",parseInt(l.needs_to_pay||"0")>0?parseInt(l.needs_to_pay||"0")>=_?"bg-green-500/10":"bg-blue-500/10":"bg-yellow-500/10"),children:s.jsx(Vr,{className:pe("h-5 w-5",parseInt(l.needs_to_pay||"0")>0?parseInt(l.needs_to_pay||"0")>=_?"text-green-600":"text-blue-600":"text-yellow-600")})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Payment Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:parseInt(l.needs_to_pay||"0")<=0?"Will be created as Unpaid":parseInt(l.needs_to_pay||"0")>=_?"Will be created as Paid":"Will be created as Partial"})]})]})})})]})]})]})})};function eJe(){var y,j,w,N;const{id:e}=so(),t=cr(),{data:r,isLoading:n,error:a,refetch:i}=yJ(e||""),o=wJ(),l=QZe(),[c,d]=v.useState(!1),u=a?"Payment not found":e?null:"No payment ID provided";if(n)return s.jsx(yt,{title:"Loading...",children:s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-4",children:[s.jsx(St,{className:"h-12 w-12 animate-spin text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading payment details..."})]})});if(u||!r)return s.jsx(yt,{title:"Payment Not Found",children:s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-4",children:[s.jsx(Et,{className:"h-12 w-12 text-muted-foreground"}),s.jsx("h2",{className:"text-2xl font-semibold",children:"Payment Not Found"}),s.jsx("p",{className:"text-muted-foreground",children:u}),s.jsxs(re,{onClick:()=>t("/payments"),children:[s.jsx(sr,{className:"h-4 w-4 mr-2"}),"Back to Payments"]})]})});const f=_=>({Paid:"bg-success/10 text-success border-success/20",Partial:"bg-warning/10 text-warning border-warning/20",Unpaid:"bg-muted text-muted-foreground border-border",Overdue:"bg-danger/10 text-danger border-danger/20"})[_]||"bg-muted",h=_=>{switch(_){case"Paid":return s.jsx(gn,{className:"h-4 w-4"});case"Partial":return s.jsx(Vr,{className:"h-4 w-4"});case"Overdue":return s.jsx(Et,{className:"h-4 w-4"});default:return s.jsx(Rr,{className:"h-4 w-4"})}},m=r.total_amount||0,x=r.amount_paid||0,p=r.outstanding_amount||0;r.shipping_cost,r.discount;const g=r.final_total||m,b=g>0?x/g*100:0;return s.jsxs(yt,{title:"Payment Details",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(re,{variant:"ghost",onClick:()=>t("/payments"),children:[s.jsx(sr,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Payment Details"}),s.jsxs("p",{className:"text-muted-foreground",children:["Order Ref: ",r.order_reference]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Pe,{className:f(r.status),children:[h(r.status),s.jsx("span",{className:"ml-1",children:r.status})]}),s.jsxs(re,{variant:"outline",onClick:()=>t(`/payments/${r.id}/edit`),children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(xb,{className:"h-5 w-5 text-primary"}),"Payment Overview"]}),s.jsxs(Lr,{children:["Created on ",r.created_at?Qt(new Date(r.created_at),"MMM dd, yyyy"):"Unknown"]})]})})}),s.jsxs(le,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Amount"}),s.jsxs("p",{className:"text-2xl font-bold",children:[m.toLocaleString()," HUF"]})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-success/10 border border-success/20",children:[s.jsx("p",{className:"text-sm text-success mb-1",children:"Amount Paid"}),s.jsxs("p",{className:"text-2xl font-bold text-success",children:[x.toLocaleString()," HUF"]})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-warning/10 border border-warning/20",children:[s.jsx("p",{className:"text-sm text-warning mb-1",children:"Outstanding"}),s.jsxs("p",{className:"text-2xl font-bold text-warning",children:[p.toLocaleString()," HUF"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Payment Progress"}),s.jsxs("span",{className:"font-medium",children:[b.toFixed(1),"%"]})]}),s.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-success transition-all duration-500",style:{width:`${Math.min(b,100)}%`}})})]}),s.jsx(Tt,{}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(tn,{className:"h-3 w-3"})," Due Date"]}),s.jsx("p",{className:"font-medium",children:r.due_date?Qt(new Date(r.due_date),"MMM dd, yyyy"):"Not set"})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(Vr,{className:"h-3 w-3"})," Last Payment"]}),s.jsx("p",{className:"font-medium",children:r.last_payment_date?Qt(new Date(r.last_payment_date),"MMM dd, yyyy"):"No payments yet"})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(mt,{className:"h-3 w-3"})," Products"]}),s.jsxs("p",{className:"font-medium",children:[r.order_items_count||((y=r.order_item_details)==null?void 0:y.length)||r.product_count||0," items"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(Pe,{className:f(r.status),children:r.status})]})]}),r.notes&&s.jsxs(s.Fragment,{children:[s.jsx(Tt,{}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mb-2",children:[s.jsx(Yn,{className:"h-3 w-3"})," Notes"]}),s.jsx("p",{className:"text-sm whitespace-pre-wrap bg-muted/50 p-3 rounded-lg",children:r.notes})]})]})]})]}),(r.order_item_details&&r.order_item_details.length>0||r.product_details&&r.product_details.length>0)&&s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"h-5 w-5"}),"Products (",((j=r.order_item_details)==null?void 0:j.length)||((w=r.product_details)==null?void 0:w.length)||0,")"]})}),s.jsx(le,{children:s.jsxs(ds,{children:[s.jsx(us,{children:s.jsxs(Rt,{children:[s.jsx(Ee,{children:"Product"}),s.jsx(Ee,{children:"SKU"}),s.jsx(Ee,{className:"text-right",children:"Unit Price"}),s.jsx(Ee,{className:"text-center",children:"Qty"}),s.jsx(Ee,{className:"text-right",children:"Total"})]})}),s.jsx(fs,{children:r.order_item_details&&r.order_item_details.length>0?r.order_item_details.map(_=>s.jsxs(Rt,{children:[s.jsx(ye,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[_.product_image&&s.jsx("img",{src:_.product_image,alt:_.product_name,className:"w-10 h-10 rounded object-cover"}),s.jsx("span",{className:"font-medium",children:_.product_name})]})}),s.jsx(ye,{children:s.jsx("span",{className:"text-muted-foreground font-mono text-sm",children:_.sku||"N/A"})}),s.jsxs(ye,{className:"text-right",children:[parseFloat(String(_.unit_price)).toLocaleString()," HUF"]}),s.jsx(ye,{className:"text-center",children:_.quantity}),s.jsxs(ye,{className:"text-right font-medium",children:[parseFloat(String(_.total_price)).toLocaleString()," HUF"]})]},_.id)):(N=r.product_details)==null?void 0:N.map(_=>s.jsxs(Rt,{children:[s.jsx(ye,{className:"font-medium",children:_.product}),s.jsx(ye,{children:s.jsx(Pe,{variant:"outline",children:_.category_name||"N/A"})}),s.jsxs(ye,{className:"text-right",children:[parseFloat(_.unit_price).toLocaleString()," HUF"]}),s.jsx(ye,{className:"text-center",children:_.qty}),s.jsxs(ye,{className:"text-right font-medium",children:[(parseFloat(_.unit_price)*_.qty).toLocaleString()," HUF"]})]},_.id))})]})})]}),s.jsxs(oe,{children:[s.jsxs(Fe,{className:"flex flex-row items-center justify-between",children:[s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(KI,{className:"h-5 w-5"}),"Payment History"]}),r.status!=="Paid"&&s.jsxs(re,{size:"sm",onClick:()=>d(!0),children:[s.jsx(An,{className:"h-4 w-4 mr-1"}),"Record Payment"]})]}),s.jsx(le,{children:r.payment_history&&r.payment_history.length>0?s.jsxs(ds,{children:[s.jsx(us,{children:s.jsxs(Rt,{children:[s.jsx(Ee,{children:"Date"}),s.jsx(Ee,{children:"Amount"}),s.jsx(Ee,{children:"Method"}),s.jsx(Ee,{children:"Reference"}),s.jsx(Ee,{children:"Note"}),s.jsx(Ee,{className:"w-[50px]"})]})}),s.jsx(fs,{children:r.payment_history.map(_=>s.jsxs(Rt,{children:[s.jsx(ye,{children:_.date?Qt(new Date(_.date),"MMM dd, yyyy"):"N/A"}),s.jsxs(ye,{className:"font-medium text-success",children:["+",(_.amount||0).toLocaleString()," HUF"]}),s.jsx(ye,{children:s.jsxs(Pe,{variant:"outline",className:"gap-1",children:[_.method==="Bank Transfer"&&s.jsx(Lg,{className:"h-3 w-3"}),_.method==="Credit Card"&&s.jsx(As,{className:"h-3 w-3"}),_.method]})}),s.jsx(ye,{className:"font-mono text-sm",children:_.reference_no||"-"}),s.jsx(ye,{className:"text-muted-foreground max-w-[200px] truncate",children:_.note||"-"}),s.jsx(ye,{children:s.jsx(re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground hover:text-danger",onClick:async()=>{if(confirm("Are you sure you want to delete this payment record?"))try{await l.mutateAsync(_.id),Me.success("Payment record deleted"),i()}catch{Me.error("Failed to delete payment record")}},children:s.jsx(Xr,{className:"h-4 w-4"})})})]},_.id))})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[s.jsx(KI,{className:"h-12 w-12 mb-2 opacity-50"}),s.jsx("p",{children:"No payment history yet"}),r.status!=="Paid"&&s.jsxs(re,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>d(!0),children:[s.jsx(An,{className:"h-4 w-4 mr-1"}),"Record First Payment"]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2 text-base",children:[s.jsx(xr,{className:"h-4 w-4"}),"Apartment"]})}),s.jsx(le,{className:"space-y-3",children:r.apartment_details?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium",children:r.apartment_details.name})]}),r.apartment_details.address&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),s.jsx("p",{className:"font-medium",children:r.apartment_details.address})]}),r.apartment_details.type&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),s.jsx(Pe,{variant:"outline",children:r.apartment_details.type})]}),r.apartment_details.status&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(Pe,{variant:"secondary",children:r.apartment_details.status})]}),r.apartment_details.designer&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Designer"}),s.jsx("p",{className:"font-medium",children:r.apartment_details.designer})]}),s.jsx(re,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>{var _;return t(`/apartments/${(_=r.apartment_details)==null?void 0:_.id}`)},children:"View Apartment"})]}):s.jsx("p",{className:"text-muted-foreground",children:"No apartment details available"})})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2 text-base",children:[s.jsx(Zn,{className:"h-4 w-4"}),"Vendor"]})}),s.jsx(le,{className:"space-y-3",children:r.vendor_details?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Company"}),s.jsx("p",{className:"font-medium",children:r.vendor_details.name})]}),r.vendor_details.contact_person&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(Zn,{className:"h-3 w-3"})," Contact Person"]}),s.jsx("p",{className:"font-medium",children:r.vendor_details.contact_person})]}),r.vendor_details.email&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(yn,{className:"h-3 w-3"})," Email"]}),s.jsx("a",{href:`mailto:${r.vendor_details.email}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.email})]}),r.vendor_details.phone&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(Wo,{className:"h-3 w-3"})," Phone"]}),s.jsx("a",{href:`tel:${r.vendor_details.phone}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.phone})]}),r.vendor_details.address&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),s.jsxs("p",{className:"font-medium text-sm",children:[r.vendor_details.address,r.vendor_details.city&&`, ${r.vendor_details.city}`,r.vendor_details.country&&`, ${r.vendor_details.country}`]})]}),s.jsx(re,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>{var _;return t(`/vendors/${(_=r.vendor_details)==null?void 0:_.id}`)},children:"View Vendor"})]}):s.jsx("p",{className:"text-muted-foreground",children:"No vendor details available"})})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsx($e,{className:"text-base",children:"Quick Actions"})}),s.jsxs(le,{className:"space-y-2",children:[r.status!=="Paid"&&s.jsxs(re,{className:"w-full",onClick:()=>d(!0),children:[s.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Record Payment"]}),s.jsxs(re,{variant:"outline",className:"w-full",onClick:()=>t(`/payments/${r.id}/edit`),children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Edit Payment"]})]})]})]})]})]}),s.jsx(gJ,{payment:r,open:c,onOpenChange:d,onSave:async(_,C,S,E)=>{try{await o.mutateAsync({payment:r.id,date:new Date().toISOString().split("T")[0],amount:_,method:C,reference_no:S,note:E}),Me.success("Payment Recorded",{description:`${_.toLocaleString()} HUF recorded successfully`}),d(!1),i()}catch{Me.error("Failed to record payment")}}})]})}const tJe=()=>{const e=cr(),{id:t}=so(),[r,n]=v.useState({apartment:"",vendor:"",order_reference:"",due_date:"",total_amount:"",amount_paid:"0",status:"Unpaid",last_payment_date:"",payment_method:"Bank Transfer",bank_name:"",account_holder:"",account_number:"",iban:"",swift_bic_code:"",card_number:"",card_holder_name:"",expiry_date:"",cvv:"",notes:""}),[a,i]=v.useState({}),[o,l]=v.useState([]),{data:c,isLoading:d}=yJ(t||""),u=bJ(),{data:f,isLoading:h}=w4(),m=(f==null?void 0:f.results)||[],{data:x,isLoading:p}=Gf(),g=(x==null?void 0:x.results)||[],{data:b,isLoading:y}=wX();b!=null&&b.results,v.useEffect(()=>{c&&(n({apartment:c.apartment,vendor:c.vendor,order_reference:c.order_reference,due_date:c.due_date,total_amount:c.total_amount,amount_paid:c.amount_paid,status:c.status,last_payment_date:c.last_payment_date||"",payment_method:"Bank Transfer",bank_name:"",account_holder:"",account_number:"",iban:"",swift_bic_code:"",card_number:"",card_holder_name:"",expiry_date:"",cvv:"",notes:c.notes}),l(c.products||[]))},[c]);const j=r.total_amount&&r.amount_paid?(parseFloat(r.total_amount)-parseFloat(r.amount_paid)).toFixed(2):"0.00",w=(S,E)=>{n(P=>({...P,[S]:E})),a[S]&&i(P=>{const I={...P};return delete I[S],I})},N=()=>{const S={};return r.apartment||(S.apartment="Apartment is required"),r.vendor||(S.vendor="Vendor is required"),r.order_reference.trim()||(S.order_reference="Order reference is required"),r.due_date||(S.due_date="Due date is required"),(!r.total_amount||parseFloat(r.total_amount)<=0)&&(S.total_amount="Valid total amount is required"),r.amount_paid&&parseFloat(r.amount_paid)<0&&(S.amount_paid="Amount paid cannot be negative"),r.amount_paid&&r.total_amount&&parseFloat(r.amount_paid)>parseFloat(r.total_amount)&&(S.amount_paid="Amount paid cannot exceed total amount"),i(S),Object.keys(S).length===0},_=async S=>{var E,P;if(S.preventDefault(),!N()){Me.error("Please fix the errors in the form");return}if(!t){Me.error("Payment ID is required");return}try{const I={apartment:r.apartment,vendor:r.vendor,order_reference:r.order_reference,due_date:r.due_date,total_amount:r.total_amount,amount_paid:r.amount_paid||"0",status:r.status,last_payment_date:r.last_payment_date||null,notes:r.notes,products:o};await u.mutateAsync({id:t,data:I}),Me.success("Payment updated successfully"),e("/payments")}catch(I){console.error("Error updating payment:",I),Me.error(((P=(E=I.response)==null?void 0:E.data)==null?void 0:P.message)||"Failed to update payment")}},C=()=>{e("/payments")};return d||h||p?s.jsx(yt,{title:"Loading...",children:s.jsx("div",{className:"container px-0 py-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(St,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),s.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground",children:"Loading payment details..."})]})})}):s.jsx(yt,{title:"Edit Payment",children:s.jsxs("div",{className:"container px-0 py-6 ",children:[s.jsx(Ni,{className:"mb-6",children:s.jsxs(_i,{children:[s.jsx(fr,{children:s.jsx(Mn,{href:"/payments",children:"Payments"})}),s.jsx(Fn,{}),s.jsx(fr,{children:s.jsx(Si,{children:"Edit Payment"})})]})}),s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(re,{variant:"ghost",size:"icon",onClick:C,className:"h-10 w-10",children:s.jsx(sr,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Payment"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Update payment information and details"})]})]})}),s.jsxs("form",{onSubmit:_,className:"space-y-6",children:[s.jsxs(oe,{children:[s.jsx(Fe,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Yn,{className:"h-5 w-5 text-primary"})}),s.jsx($e,{className:"text-lg font-semibold",children:"Order Information"})]})}),s.jsx(le,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"apartment",className:"required flex items-center gap-2",children:[s.jsx(xr,{className:"h-4 w-4 text-muted-foreground"}),"Apartment"]}),s.jsxs(nt,{value:r.apartment,onValueChange:S=>w("apartment",S),children:[s.jsx(et,{id:"apartment",className:a.apartment?"border-destructive":"",children:s.jsx(st,{placeholder:"Select apartment"})}),s.jsx(tt,{children:h?s.jsx(J,{value:"loading",disabled:!0,children:"Loading apartments..."}):m.length===0?s.jsx(J,{value:"empty",disabled:!0,children:"No apartments found"}):m.map(S=>s.jsx(J,{value:S.id,children:S.name},S.id))})]}),a.apartment&&s.jsx("p",{className:"text-sm text-destructive",children:a.apartment})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"vendor",className:"required flex items-center gap-2",children:[s.jsx(gi,{className:"h-4 w-4 text-muted-foreground"}),"Vendor"]}),s.jsxs(nt,{value:r.vendor,onValueChange:S=>w("vendor",S),children:[s.jsx(et,{id:"vendor",className:a.vendor?"border-destructive":"",children:s.jsx(st,{placeholder:"Select vendor"})}),s.jsx(tt,{children:p?s.jsx(J,{value:"loading",disabled:!0,children:"Loading vendors..."}):g.length===0?s.jsx(J,{value:"empty",disabled:!0,children:"No vendors found"}):g.map(S=>s.jsx(J,{value:S.id,children:S.name},S.id))})]}),a.vendor&&s.jsx("p",{className:"text-sm text-destructive",children:a.vendor})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"order_reference",className:"required flex items-center gap-2",children:[s.jsx(xb,{className:"h-4 w-4 text-muted-foreground"}),"Order Reference"]}),s.jsx(ue,{id:"order_reference",value:r.order_reference,onChange:S=>w("order_reference",S.target.value),placeholder:"e.g., ORD-2025-001",className:a.order_reference?"border-destructive":""}),a.order_reference&&s.jsx("p",{className:"text-sm text-destructive",children:a.order_reference})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"due_date",className:"required flex items-center gap-2",children:[s.jsx(tn,{className:"h-4 w-4 text-muted-foreground"}),"Due Date"]}),s.jsx(ue,{id:"due_date",type:"date",value:r.due_date,onChange:S=>w("due_date",S.target.value),className:a.due_date?"border-destructive":""}),a.due_date&&s.jsx("p",{className:"text-sm text-destructive",children:a.due_date})]})]})})]}),s.jsxs(oe,{children:[s.jsx(Fe,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Rr,{className:"h-5 w-5 text-primary"})}),s.jsx($e,{className:"text-lg font-semibold",children:"Payment Amount"})]})}),s.jsx(le,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"total_amount",className:"required",children:"Total Amount (HUF)"}),s.jsx(ue,{id:"total_amount",type:"number",step:"0.01",min:"0",value:r.total_amount,onChange:S=>w("total_amount",S.target.value),placeholder:"0.00",className:a.total_amount?"border-destructive":""}),a.total_amount&&s.jsx("p",{className:"text-sm text-destructive",children:a.total_amount})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"amount_paid",children:"Amount Paid (HUF)"}),s.jsx(ue,{id:"amount_paid",type:"number",step:"0.01",min:"0",value:r.amount_paid,onChange:S=>w("amount_paid",S.target.value),placeholder:"0.00",className:a.amount_paid?"border-destructive":""}),a.amount_paid&&s.jsx("p",{className:"text-sm text-destructive",children:a.amount_paid})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"balance",children:"Balance (HUF)"}),s.jsx(ue,{id:"balance",value:j,readOnly:!0,className:"bg-muted text-primary font-semibold"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically calculated"})]})]})})]}),s.jsxs(oe,{children:[s.jsx(Fe,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(As,{className:"h-5 w-5 text-primary"})}),s.jsx($e,{className:"text-lg font-semibold",children:"Payment Details"})]})}),s.jsx(le,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(H,{children:"Payment Method"}),s.jsx(nl,{value:r.payment_method,onValueChange:S=>w("payment_method",S),children:s.jsxs(co,{className:"grid w-full grid-cols-3",children:[s.jsxs(Gt,{value:"Bank Transfer",children:[s.jsx(KT,{className:"h-4 w-4 mr-2"}),"Bank Transfer"]}),s.jsxs(Gt,{value:"Card Payment",children:[s.jsx(As,{className:"h-4 w-4 mr-2"}),"Card Payment"]}),s.jsxs(Gt,{value:"Cash",children:[s.jsx(Lg,{className:"h-4 w-4 mr-2"}),"Cash"]})]})})]}),r.payment_method==="Bank Transfer"&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Bank Transfer Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"bank_name",children:"Bank Name"}),s.jsx(ue,{id:"bank_name",value:r.bank_name,onChange:S=>w("bank_name",S.target.value),placeholder:"e.g., OTP Bank"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"account_holder",children:"Account Holder"}),s.jsx(ue,{id:"account_holder",value:r.account_holder,onChange:S=>w("account_holder",S.target.value),placeholder:"Full name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"account_number",children:"Account Number"}),s.jsx(ue,{id:"account_number",value:r.account_number,onChange:S=>w("account_number",S.target.value),placeholder:"XXXX-XXXX-XXXX-XXXX"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"iban",children:"IBAN"}),s.jsx(ue,{id:"iban",value:r.iban,onChange:S=>w("iban",S.target.value),placeholder:"HU42 1177 3016 1111 1018 0000 0000"})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(H,{htmlFor:"swift_bic_code",children:"SWIFT/BIC Code"}),s.jsx(ue,{id:"swift_bic_code",value:r.swift_bic_code,onChange:S=>w("swift_bic_code",S.target.value),placeholder:"e.g., OTPVHUHB"})]})]})]}),r.payment_method==="Card Payment"&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Card Payment Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(H,{htmlFor:"card_number",children:"Card Number"}),s.jsx(ue,{id:"card_number",value:r.card_number,onChange:S=>w("card_number",S.target.value),placeholder:"XXXX XXXX XXXX XXXX",maxLength:19})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(H,{htmlFor:"card_holder_name",children:"Card Holder Name"}),s.jsx(ue,{id:"card_holder_name",value:r.card_holder_name,onChange:S=>w("card_holder_name",S.target.value),placeholder:"Name as on card"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"expiry_date",children:"Expiry Date"}),s.jsx(ue,{id:"expiry_date",value:r.expiry_date,onChange:S=>w("expiry_date",S.target.value),placeholder:"MM/YY",maxLength:5})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"cvv",children:"CVV"}),s.jsx(ue,{id:"cvv",value:r.cvv,onChange:S=>w("cvv",S.target.value),placeholder:"XXX",maxLength:4,type:"password"})]})]})]}),r.payment_method==="Cash"&&s.jsxs("div",{className:"p-6 border rounded-lg bg-muted/50 text-center",children:[s.jsx(Sne,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cash payment selected. No additional details required."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"notes",children:"Additional Notes"}),s.jsx(ma,{id:"notes",value:r.notes,onChange:S=>w("notes",S.target.value),placeholder:"Add any additional payment notes or instructions...",rows:4})]})]})})]}),s.jsxs("div",{className:"flex items-center justify-end gap-4 mt-6",children:[s.jsx(re,{type:"button",variant:"outline",onClick:C,disabled:u.isPending,children:"Cancel"}),s.jsx(re,{type:"submit",disabled:u.isPending,children:u.isPending?s.jsxs(s.Fragment,{children:[s.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Gd,{className:"mr-2 h-4 w-4"}),"Update Payment"]})})]})]})]})})},rJe=()=>{const e=cr(),[t,r]=v.useState(""),[n,a]=v.useState("all"),[i,o]=v.useState("all"),[l,c]=v.useState(!1),[d,u]=v.useState(null),{data:f,isLoading:h,error:m}=Gf(),x=iX(),p=(f==null?void 0:f.results)||[],g=v.useMemo(()=>p.filter(w=>{const N=w.name.toLowerCase().includes(t.toLowerCase())||w.email.toLowerCase().includes(t.toLowerCase())||w.contact_person.toLowerCase().includes(t.toLowerCase()),_=n==="all"||n==="active"&&w.active_issues===0||n==="issues"&&w.active_issues>0,C=parseFloat(w.reliability),S=i==="all"||i==="high"&&C>=4.5||i==="medium"&&C>=3.5&&C<4.5||i==="low"&&C<3.5;return N&&_&&S}),[p,t,n,i]),b=w=>{const N=typeof w=="string"?parseFloat(w):w;return s.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((_,C)=>s.jsx(k1,{className:`h-3 w-3 ${C<Math.floor(N)?"fill-yellow-500 text-yellow-500":"text-muted-foreground"}`},C)),s.jsx("span",{className:"text-sm font-medium ml-1",children:N.toFixed(1)})]})},y=(w,N)=>{u({id:w,name:N}),c(!0)},j=()=>{d&&x.mutate(d.id,{onSuccess:()=>{c(!1),u(null)}})};return s.jsx(yt,{title:"Vendors",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(oe,{className:"",children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Vendors"}),s.jsx("p",{className:"text-3xl font-bold",children:p.length})]}),s.jsx(xr,{className:"h-10 w-10 text-primary opacity-20"})]})})}),s.jsx(oe,{className:"",children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Vendors"}),s.jsx("p",{className:"text-3xl font-bold",children:p.filter(w=>w.active_issues===0).length})]}),s.jsx($o,{className:"h-10 w-10 text-green-500 opacity-20"})]})})}),s.jsx(oe,{className:"",children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Orders"}),s.jsx("p",{className:"text-3xl font-bold",children:p.reduce((w,N)=>w+N.orders_count,0)})]}),s.jsx(mt,{className:"h-10 w-10 text-blue-500 opacity-20"})]})})}),s.jsx(oe,{className:"",children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Reliability"}),s.jsx("p",{className:"text-3xl font-bold",children:p.length>0?(p.reduce((w,N)=>w+parseFloat(N.reliability),0)/p.length).toFixed(1):"0.0"})]}),s.jsx(k1,{className:"h-10 w-10 text-yellow-500 opacity-20"})]})})})]}),s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ss,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{placeholder:"Search by vendor name or email...",value:t,onChange:w=>r(w.target.value),className:"pl-9"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(nt,{value:n,onValueChange:a,children:[s.jsxs(et,{className:"w-[150px]",children:[s.jsx(c0,{className:"h-4 w-4 mr-2"}),s.jsx(st,{placeholder:"Status"})]}),s.jsxs(tt,{children:[s.jsx(J,{value:"all",children:"All Status"}),s.jsx(J,{value:"active",children:"Active"}),s.jsx(J,{value:"issues",children:"With Issues"})]})]}),s.jsxs(nt,{value:i,onValueChange:o,children:[s.jsxs(et,{className:"w-[150px]",children:[s.jsx(k1,{className:"h-4 w-4 mr-2"}),s.jsx(st,{placeholder:"Reliability"})]}),s.jsxs(tt,{children:[s.jsx(J,{value:"all",children:"All Ratings"}),s.jsx(J,{value:"high",children:"High (4.5+)"}),s.jsx(J,{value:"medium",children:"Medium (3.5-4.5)"}),s.jsx(J,{value:"low",children:"Low (<3.5)"})]})]}),s.jsxs(re,{onClick:()=>e("/vendors/new"),className:"gap-2",children:[s.jsx(An,{className:"h-4 w-4"}),"Add Vendor"]})]})]})})}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["All Vendors (",g.length,")"]}),t&&s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>{r(""),a("all"),o("all")},children:"Clear Filters"})]})}),s.jsx(le,{children:g.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Et,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No vendors found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filters"}),s.jsxs(re,{onClick:()=>e("/vendors/new"),children:[s.jsx(An,{className:"h-4 w-4 mr-2"}),"Add Your First Vendor"]})]}):s.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:s.jsxs(ds,{children:[s.jsx(us,{children:s.jsxs(Rt,{children:[s.jsx(Ee,{className:"w-[80px]",children:"Logo"}),s.jsx(Ee,{children:"Vendor Name"}),s.jsx(Ee,{children:"Contact"}),s.jsx(Ee,{children:"Lead Time"}),s.jsx(Ee,{children:"Reliability"}),s.jsx(Ee,{className:"text-center",children:"Orders"}),s.jsx(Ee,{className:"text-center",children:"Issues"}),s.jsx(Ee,{className:"text-right",children:"Actions"})]})}),s.jsx(fs,{children:g.map(w=>s.jsxs(Rt,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>e(`/vendors/${w.id}`),children:[s.jsx(ye,{children:s.jsx("div",{className:"flex items-center justify-center bg-muted rounded-lg w-12 h-12 overflow-hidden",children:w.website?s.jsx(s.Fragment,{children:s.jsx("img",{src:`https://logo.clearbit.com/${new URL(w.website).hostname}`,alt:`${w.name} logo`,className:"w-10 h-10 object-contain",onError:N=>{const _=N.currentTarget;if(!_.dataset.fallbackAttempted)_.dataset.fallbackAttempted="true",_.src=`https://www.google.com/s2/favicons?domain=${new URL(w.website).hostname}&sz=128`;else{_.style.display="none";const C=_.parentElement;if(C){const S=document.createElement("span");S.className="text-2xl",S.textContent=w.logo||w.name.charAt(0).toUpperCase(),C.appendChild(S)}}}})}):s.jsx("span",{className:"text-2xl",children:w.logo||w.name.charAt(0).toUpperCase()})})}),s.jsx(ye,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:w.name}),s.jsx("a",{href:w.website,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline",onClick:N=>N.stopPropagation(),children:w.website.replace("https://","")})]})}),s.jsx(ye,{children:s.jsx("div",{className:"text-sm",children:s.jsx("p",{children:w.email})})}),s.jsx(ye,{children:s.jsx(Pe,{variant:"outline",className:"font-mono",children:w.lead_time})}),s.jsx(ye,{children:b(w.reliability)}),s.jsx(ye,{className:"text-center",children:s.jsx(Pe,{variant:"secondary",className:"font-semibold",children:w.orders_count})}),s.jsx(ye,{className:"text-center",children:s.jsx(Pe,{variant:w.active_issues>0?"destructive":"default",className:"font-semibold",children:w.active_issues})}),s.jsx(ye,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx(re,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),e(`/vendors/${w.id}`)},title:"View Details",children:s.jsx(Da,{className:"h-4 w-4"})}),s.jsx(re,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),e(`/vendors/${w.id}/edit`)},title:"Edit Vendor",children:s.jsx(Hs,{className:"h-4 w-4"})}),s.jsx(re,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),y(w.id,w.name)},title:"Delete Vendor",disabled:x.isPending,children:s.jsx(Xr,{className:"h-4 w-4"})})]})})]},w.id))})]})})})]}),h&&s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(St,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading vendors..."})]}),m&&s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Et,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Failed to load vendors"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:m instanceof Error?m.message:"An error occurred while fetching vendors"}),s.jsx(re,{onClick:()=>window.location.reload(),children:"Try Again"})]})})}),s.jsx(Gl,{open:l,onOpenChange:c,children:s.jsxs(Xo,{children:[s.jsxs(Yo,{children:[s.jsx(Zo,{children:"Are you sure?"}),s.jsxs(Jo,{children:["This will permanently delete ",s.jsx("strong",{children:d==null?void 0:d.name}),". This action cannot be undone."]})]}),s.jsxs(Qo,{children:[s.jsx(tl,{disabled:x.isPending,children:"Cancel"}),s.jsx(el,{onClick:j,disabled:x.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:x.isPending?s.jsxs(s.Fragment,{children:[s.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})})]})})},nJe=()=>{const e=cr(),t=Q$e(),[r,n]=v.useState("basic"),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[h,m]=v.useState(""),[x,p]=v.useState(""),[g,b]=v.useState(""),[y,j]=v.useState(""),[w,N]=v.useState(""),[_,C]=v.useState(""),[S,E]=v.useState(""),[P,I]=v.useState(""),[D,U]=v.useState(""),[F,M]=v.useState(""),[O,A]=v.useState(""),[k,W]=v.useState(""),[fe,de]=v.useState(""),[T,L]=v.useState(""),[R,K]=v.useState(""),[q,Z]=v.useState(""),X=()=>{if(!a||!c||!o){Me.error("Please fill in all required fields (Company Name, Contact Person, Email)"),n("basic");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)){Me.error("Please enter a valid email address"),n("basic");return}const bt={name:a,company_name:a,contact_person:o,email:c,phone:u||"",website:h||"",logo:"",lead_time:k||"7-14 days",address:g||"",city:y||"",country:w||"",postal_code:_||"",tax_id:S||"",business_type:P||"",year_established:D||"",employee_count:F||"",category:x||"",product_categories:"",certifications:"",specializations:"",payment_terms:O||"",delivery_terms:k||"",warranty_period:fe||"",return_policy:T||"",minimum_order:R||"",notes:q||""};t.mutate(bt,{onSuccess:()=>{e("/vendors")}})},ee=ke=>{Me.info(`Import from ${ke.toUpperCase()} coming soon!`)},ie=["basic","address","business","terms"],be=ie.indexOf(r),he=()=>{be<ie.length-1&&n(ie[be+1])},Ge=()=>{be>0&&n(ie[be-1])};return s.jsx(yt,{title:"Add New Vendor",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(re,{variant:"ghost",onClick:()=>e("/vendors"),className:"gap-2",children:[s.jsx(sr,{className:"h-4 w-4"}),"Back to Vendors"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(re,{variant:"outline",className:"gap-2",children:[s.jsx(kl,{className:"h-4 w-4"}),"Import Data"]}),s.jsx(re,{onClick:X,className:"gap-2",disabled:t.isPending,children:t.isPending?s.jsxs(s.Fragment,{children:[s.jsx(St,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Gd,{className:"h-4 w-4"}),"Save Vendor"]})})]})]}),s.jsx(oe,{className:"border-dashed",children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h3",{className:"font-semibold",children:"Quick Import"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Import vendor data from existing files"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>ee("excel"),className:"gap-2",children:[s.jsx(y9,{className:"h-4 w-4"}),"Excel"]}),s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>ee("csv"),className:"gap-2",children:[s.jsx(Yn,{className:"h-4 w-4"}),"CSV"]}),s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>ee("docs"),className:"gap-2",children:[s.jsx(ine,{className:"h-4 w-4"}),"Docs"]})]})]})})}),s.jsxs(oe,{children:[s.jsxs(Fe,{children:[s.jsx($e,{children:"Vendor Information"}),s.jsx(Lr,{children:"Fill in the vendor details below. Fields marked with * are required."})]}),s.jsxs(le,{children:[s.jsxs(nl,{value:r,onValueChange:n,children:[s.jsxs(co,{className:"grid w-full grid-cols-4",children:[s.jsx(Gt,{value:"basic",children:"Basic Info"}),s.jsx(Gt,{value:"address",children:"Address"}),s.jsx(Gt,{value:"business",children:"Business"}),s.jsx(Gt,{value:"terms",children:"Terms"})]}),s.jsx(Zt,{value:"basic",className:"space-y-6 mt-6",children:s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"companyName",children:["Company Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(xr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{id:"companyName",placeholder:"Enter company name",value:a,onChange:ke=>i(ke.target.value),className:"pl-9"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"category",children:"Category"}),s.jsxs(nt,{value:x,onValueChange:p,children:[s.jsx(et,{children:s.jsx(st,{placeholder:"Select category"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"furniture",children:"Furniture"}),s.jsx(J,{value:"electronics",children:"Electronics"}),s.jsx(J,{value:"lighting",children:"Lighting"}),s.jsx(J,{value:"appliances",children:"Appliances"}),s.jsx(J,{value:"textiles",children:"Textiles"}),s.jsx(J,{value:"construction",children:"Construction"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"contactPerson",children:["Contact Person ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Zn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{id:"contactPerson",placeholder:"Primary contact name",value:o,onChange:ke=>l(ke.target.value),className:"pl-9"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"email",children:["Email ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(yn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{id:"email",type:"email",placeholder:"contact@company.com",value:c,onChange:ke=>d(ke.target.value),className:"pl-9"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"phone",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wo,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{id:"phone",placeholder:"+1 (555) 000-0000",value:u,onChange:ke=>f(ke.target.value),className:"pl-9"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"website",children:"Website"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ac,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{id:"website",placeholder:"https://company.com",value:h,onChange:ke=>m(ke.target.value),className:"pl-9"})]})]})]})}),s.jsx(Zt,{value:"address",className:"space-y-6 mt-6",children:s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(H,{htmlFor:"address",children:"Street Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{id:"address",placeholder:"123 Main Street",value:g,onChange:ke=>b(ke.target.value),className:"pl-9"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"city",children:"City"}),s.jsx(ue,{id:"city",placeholder:"City",value:y,onChange:ke=>j(ke.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"postalCode",children:"Postal Code"}),s.jsx(ue,{id:"postalCode",placeholder:"10001",value:_,onChange:ke=>C(ke.target.value)})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(H,{htmlFor:"country",children:"Country"}),s.jsx(ue,{id:"country",placeholder:"Country",value:w,onChange:ke=>N(ke.target.value)})]})]})}),s.jsx(Zt,{value:"business",className:"space-y-6 mt-6",children:s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"taxId",children:"Tax ID / VAT Number"}),s.jsx(ue,{id:"taxId",placeholder:"XX-XXXXXXX",value:S,onChange:ke=>E(ke.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"businessType",children:"Business Type"}),s.jsxs(nt,{value:P,onValueChange:I,children:[s.jsx(et,{children:s.jsx(st,{placeholder:"Select type"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"manufacturer",children:"Manufacturer"}),s.jsx(J,{value:"distributor",children:"Distributor"}),s.jsx(J,{value:"wholesaler",children:"Wholesaler"}),s.jsx(J,{value:"retailer",children:"Retailer"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"yearEstablished",children:"Year Established"}),s.jsx(ue,{id:"yearEstablished",placeholder:"2020",value:D,onChange:ke=>U(ke.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"employeeCount",children:"Number of Employees"}),s.jsx(ue,{id:"employeeCount",placeholder:"50",value:F,onChange:ke=>M(ke.target.value)})]})]})}),s.jsx(Zt,{value:"terms",className:"space-y-6 mt-6",children:s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"paymentTerms",children:"Payment Terms"}),s.jsxs(nt,{value:O,onValueChange:A,children:[s.jsx(et,{children:s.jsx(st,{placeholder:"Select payment terms"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"net-30",children:"Net 30"}),s.jsx(J,{value:"net-60",children:"Net 60"}),s.jsx(J,{value:"net-90",children:"Net 90"}),s.jsx(J,{value:"cod",children:"Cash on Delivery"}),s.jsx(J,{value:"advance",children:"Advance Payment"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"deliveryTerms",children:"Delivery Terms"}),s.jsx(ue,{id:"deliveryTerms",placeholder:"E.g., 7-14 business days",value:k,onChange:ke=>W(ke.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"warrantyPeriod",children:"Warranty Period"}),s.jsx(ue,{id:"warrantyPeriod",placeholder:"E.g., 12 months",value:fe,onChange:ke=>de(ke.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"minimumOrder",children:"Minimum Order Value"}),s.jsxs("div",{className:"relative",children:[s.jsx(Rr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{id:"minimumOrder",placeholder:"500",value:R,onChange:ke=>K(ke.target.value),className:"pl-9"})]})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(H,{htmlFor:"returnPolicy",children:"Return Policy"}),s.jsx(In,{id:"returnPolicy",placeholder:"Describe return and refund policy",value:T,onChange:ke=>L(ke.target.value),rows:3})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(H,{htmlFor:"notes",children:"Additional Notes"}),s.jsx(In,{id:"notes",placeholder:"Any additional information about the vendor",value:q,onChange:ke=>Z(ke.target.value),rows:4})]})]})})]}),s.jsxs("div",{className:"flex justify-between mt-6 pt-6 border-t",children:[s.jsxs(re,{type:"button",variant:"outline",onClick:Ge,disabled:be===0,className:"gap-2",children:[s.jsx(XT,{className:"h-4 w-4"}),"Previous"]}),s.jsx("div",{className:"flex gap-2",children:be===ie.length-1?s.jsx(re,{type:"button",onClick:X,disabled:t.isPending,className:"gap-2",children:t.isPending?s.jsxs(s.Fragment,{children:[s.jsx(St,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Gd,{className:"h-4 w-4"}),"Save Vendor"]})}):s.jsxs(re,{type:"button",variant:"outline",onClick:he,className:"gap-2",children:["Next",s.jsx(Hd,{className:"h-4 w-4"})]})})]})]})]})]})})},sJe=()=>{const{id:e}=so(),t=cr(),[r,n]=v.useState("overview"),{data:a,isLoading:i,error:o}=aX(e||null),{data:l=[],isLoading:c}=J$e(e||null),d=e6e(e||"");if(i)return s.jsx(yt,{title:"Loading...",children:s.jsx(oe,{children:s.jsxs(le,{className:"p-12 text-center",children:[s.jsx(St,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading vendor details..."})]})})});if(o||!a)return s.jsx(yt,{title:"Vendor Not Found",children:s.jsx(oe,{children:s.jsxs(le,{className:"p-12 text-center",children:[s.jsx(Et,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Vendor Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:o instanceof Error?o.message:"The vendor you're looking for doesn't exist."}),s.jsx(re,{onClick:()=>t("/vendors"),children:"Back to Vendors"})]})})});const u=f=>{const h=typeof f=="string"?parseFloat(f):f;return s.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((m,x)=>s.jsx(k1,{className:`h-4 w-4 ${x<Math.floor(h)?"fill-yellow-500 text-yellow-500":"text-muted-foreground"}`},x)),s.jsx("span",{className:"text-sm font-medium ml-1",children:h.toFixed(1)})]})};return s.jsx(yt,{title:a.name,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(re,{variant:"ghost",onClick:()=>t("/vendors"),className:"gap-2",children:[s.jsx(sr,{className:"h-4 w-4"}),"Back to Vendors"]}),s.jsxs(re,{onClick:()=>t(`/vendors/${e}/edit`),className:"gap-2",children:[s.jsx(Hs,{className:"h-4 w-4"}),"Edit Vendor"]})]}),s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[s.jsx("div",{className:"flex items-center justify-center bg-muted rounded-full w-24 h-24 overflow-hidden",children:a.website?s.jsx("img",{src:`https://logo.clearbit.com/${new URL(a.website).hostname}`,alt:`${a.name} logo`,className:"w-20 h-20 object-contain",onError:f=>{const h=f.currentTarget;if(!h.dataset.fallbackAttempted)h.dataset.fallbackAttempted="true",h.src=`https://www.google.com/s2/favicons?domain=${new URL(a.website).hostname}&sz=128`;else{h.style.display="none";const m=h.parentElement;if(m){const x=document.createElement("span");x.className="text-4xl",x.textContent=a.logo||a.name.charAt(0).toUpperCase(),m.appendChild(x)}}}}):s.jsx("span",{className:"text-4xl",children:a.logo||a.name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold",children:a.name}),s.jsx("p",{className:"text-muted-foreground",children:"Verified Vendor"})]}),s.jsx(Pe,{variant:"secondary",className:"text-sm",children:"Active"})]}),s.jsx("div",{className:"flex items-center gap-2 mb-4",children:u(a.reliability)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(yn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("a",{href:`mailto:${a.email}`,className:"hover:underline",children:a.email})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Ac,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:a.website.replace("https://","")})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Vr,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:["Lead Time: ",a.lead_time]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(mt,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:[a.orders_count," Total Orders"]})]})]})]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:a.orders_count})]}),s.jsx(mt,{className:"h-8 w-8 text-primary"})]})})}),s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Issues"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:a.active_issues})]}),s.jsx(Et,{className:`h-8 w-8 ${a.active_issues>0?"text-destructive":"text-green-500"}`})]})})}),s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Products"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:c?s.jsx(St,{className:"h-6 w-6 animate-spin"}):l.length})]}),s.jsx(mt,{className:"h-8 w-8 text-primary"})]})})}),s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Reliability"}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:(typeof a.reliability=="string"?parseFloat(a.reliability):a.reliability).toFixed(1)})]}),s.jsx($o,{className:"h-8 w-8 text-green-500"})]})})})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsx($e,{children:"Vendor Details"})}),s.jsx(le,{children:s.jsxs(nl,{value:r,onValueChange:n,children:[s.jsxs(co,{className:"grid w-full grid-cols-5",children:[s.jsx(Gt,{value:"overview",children:"Overview"}),s.jsx(Gt,{value:"products",children:"Products"}),s.jsx(Gt,{value:"orders",children:"Orders"}),s.jsx(Gt,{value:"issues",children:"Issues"}),s.jsx(Gt,{value:"payments",children:"Payments"})]}),s.jsxs(Zt,{value:"overview",className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Contact Information"}),s.jsx(Tt,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(yn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:a.email})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ac,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm hover:underline",children:a.website})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Business Details"}),s.jsx(Tt,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Lead Time"}),s.jsx("span",{className:"text-sm font-medium",children:a.lead_time})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Reliability Score"}),s.jsxs("span",{className:"text-sm font-medium",children:[a.reliability,"/5.0"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Orders"}),s.jsx("span",{className:"text-sm font-medium",children:a.orders_count})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Performance Metrics"}),s.jsx(Tt,{}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsx(oe,{children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(gn,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:"95%"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"On-Time Delivery"})]})})}),s.jsx(oe,{children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx($o,{className:"h-8 w-8 text-primary mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:"4.5"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Quality Rating"})]})})}),s.jsx(oe,{children:s.jsx(le,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(mt,{className:"h-8 w-8 text-primary mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:"98%"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Accuracy"})]})})})]})]})]}),s.jsx(Zt,{value:"products",className:"mt-6",children:c?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(St,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading products..."})]}):l.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(mt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Products"}),s.jsx("p",{className:"text-muted-foreground",children:"This vendor hasn't supplied any products yet."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ds,{children:[s.jsx(us,{children:s.jsxs(Rt,{children:[s.jsx(Ee,{className:"w-[80px]",children:"Image"}),s.jsx(Ee,{children:"Product Details"}),s.jsx(Ee,{children:"Category"}),s.jsx(Ee,{children:"Client"}),s.jsx(Ee,{children:"Apartment"}),s.jsx(Ee,{children:"Room"}),s.jsx(Ee,{className:"text-right",children:"Qty"}),s.jsx(Ee,{className:"text-right",children:"Unit Price"}),s.jsx(Ee,{className:"text-right",children:"Total"}),s.jsx(Ee,{children:"Payment"}),s.jsx(Ee,{children:"Availability"}),s.jsx(Ee,{className:"text-right",children:"Actions"})]})}),s.jsx(fs,{children:l.map(f=>{var h;return s.jsxs(Rt,{children:[s.jsxs(ye,{children:[f.product_image?s.jsx("img",{src:f.product_image,alt:f.product,className:"w-16 h-16 object-cover rounded-md",onError:m=>{var x;m.currentTarget.style.display="none",(x=m.currentTarget.nextElementSibling)==null||x.classList.remove("hidden")}}):null,s.jsx("div",{className:`w-16 h-16 bg-muted rounded-md flex items-center justify-center ${f.product_image?"hidden":""}`,children:s.jsx(ff,{className:"h-6 w-6 text-muted-foreground"})})]}),s.jsx(ye,{children:s.jsxs("div",{className:"space-y-1 min-w-[200px]",children:[s.jsx("p",{className:"font-medium",children:f.product}),f.description&&s.jsx("p",{className:"text-xs text-muted-foreground",children:f.description}),f.dimensions&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.dimensions]}),f.material&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.material]}),f.color&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.color]}),f.brand&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.brand]})]})}),s.jsx(ye,{children:s.jsx(Pe,{variant:"outline",children:f.category_name})}),s.jsx(ye,{children:(h=f.apartment_details)!=null&&h.client_details?s.jsxs("div",{className:"space-y-1 min-w-[150px]",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:f.apartment_details.client_details.name})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:f.apartment_details.client_details.email}),s.jsx("p",{className:"text-xs text-muted-foreground",children:f.apartment_details.client_details.phone}),s.jsx(Pe,{variant:"secondary",className:"text-xs",children:f.apartment_details.client_details.type})]}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),s.jsx(ye,{children:f.apartment_details?s.jsxs("div",{className:"space-y-1 min-w-[150px]",children:[s.jsx("p",{className:"text-sm font-medium",children:f.apartment_details.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:f.apartment_details.type}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.apartment_details.owner]}),s.jsx(Pe,{variant:f.apartment_details.status==="Delivery"?"default":f.apartment_details.status==="In Progress"?"secondary":"outline",className:"text-xs",children:f.apartment_details.status})]}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),s.jsx(ye,{children:s.jsx("span",{className:"text-sm",children:f.room||"-"})}),s.jsx(ye,{className:"text-right",children:s.jsx("span",{className:"font-medium",children:f.qty||"-"})}),s.jsx(ye,{className:"text-right",children:f.unit_price?s.jsx("div",{className:"space-y-1",children:s.jsx("span",{className:"font-medium",children:typeof f.unit_price=="number"?`${f.unit_price.toFixed(2)} ${f.currency||""}`:`${f.unit_price} ${f.currency||""}`})}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(ye,{className:"text-right",children:f.total_amount||f.total_cost?s.jsxs("div",{className:"space-y-1",children:[s.jsxs("span",{className:"font-semibold text-primary",children:[f.total_amount||f.total_cost," ",f.currency||""]}),f.outstanding_balance&&parseFloat(f.outstanding_balance)>0&&s.jsxs("p",{className:"text-xs text-destructive",children:["Due: ",f.outstanding_balance," ",f.currency]})]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(ye,{children:s.jsxs("div",{className:"space-y-1 min-w-[120px]",children:[s.jsx(Pe,{variant:f.payment_status==="Paid"?"default":f.payment_status==="Unpaid"?"destructive":f.payment_status==="Partial"?"secondary":"outline",children:f.payment_status||"Unknown"}),f.paid_amount&&parseFloat(f.paid_amount)>0&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Paid: ",f.paid_amount," ",f.currency]})]})}),s.jsx(ye,{children:s.jsx(Pe,{variant:f.availability==="In Stock"?"default":f.availability==="Out of Stock"?"destructive":f.availability==="Pre-order"?"secondary":"outline",children:f.availability||"Unknown"})}),s.jsx(ye,{className:"text-right",children:s.jsxs(Gl,{children:[s.jsx(tX,{asChild:!0,children:s.jsx(re,{variant:"ghost",size:"sm",disabled:d.isPending,className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:s.jsx(Xr,{className:"h-4 w-4"})})}),s.jsxs(Xo,{children:[s.jsxs(Yo,{children:[s.jsx(Zo,{children:"Remove Product?"}),s.jsxs(Jo,{children:['Are you sure you want to remove "',f.product,'" from this vendor? This action cannot be undone.']})]}),s.jsxs(Qo,{children:[s.jsx(tl,{children:"Cancel"}),s.jsx(el,{onClick:()=>d.mutate(f.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remove"})]})]})]})})]},f.id)})})]})})}),s.jsx(Zt,{value:"orders",className:"mt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(yr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Orders"}),s.jsx("p",{className:"text-muted-foreground",children:"Order history for this vendor will be displayed here."})]})}),s.jsx(Zt,{value:"issues",className:"mt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Et,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Issues"}),s.jsx("p",{className:"text-muted-foreground",children:"Issue tracking for this vendor will be displayed here."})]})}),s.jsx(Zt,{value:"payments",className:"mt-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Rr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payments"}),s.jsx("p",{className:"text-muted-foreground",children:"Payment history for this vendor will be displayed here."})]})})]})})]})]})})},aJe=()=>{const{id:e}=so(),t=cr(),[r,n]=v.useState("basic"),{data:a,isLoading:i,error:o}=aX(e||null),l=Z$e(),c=iX(),[d,u]=v.useState(""),[f,h]=v.useState(""),[m,x]=v.useState(""),[p,g]=v.useState(""),[b,y]=v.useState(""),[j,w]=v.useState(""),[N,_]=v.useState(""),[C,S]=v.useState(""),[E,P]=v.useState(""),[I,D]=v.useState(""),[U,F]=v.useState(""),[M,O]=v.useState(""),[A,k]=v.useState(""),[W,fe]=v.useState(""),[de,T]=v.useState(""),[L,R]=v.useState(""),[K,q]=v.useState(""),[Z,X]=v.useState(""),[ee,ie]=v.useState(""),[be,he]=v.useState(""),[Ge,ke]=v.useState(""),[bt,rt]=v.useState(""),[Oe,G]=v.useState("");if(v.useEffect(()=>{a&&(u(a.name||""),h(a.contact_person||""),x(a.email||""),g(a.phone||""),y(a.website||""),w(a.category||""),_(a.address||""),S(a.city||""),P(a.country||""),D(a.postal_code||""),F(a.tax_id||""),O(a.business_type||""),k(a.year_established||""),fe(a.employee_count||""),T(a.product_categories||""),R(a.certifications||""),q(a.specializations||""),X(a.payment_terms||""),ie(a.delivery_terms||""),he(a.warranty_period||""),ke(a.return_policy||""),rt(a.minimum_order||""),G(a.notes||""))},[a]),i)return s.jsx(yt,{title:"Loading...",children:s.jsx(oe,{children:s.jsxs(le,{className:"p-12 text-center",children:[s.jsx(St,{className:"h-12 w-12 animate-spin text-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading vendor details..."})]})})});if(o||!a)return s.jsx(yt,{title:"Vendor Not Found",children:s.jsx(oe,{children:s.jsxs(le,{className:"p-12 text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Vendor Not Found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:o instanceof Error?o.message:"The vendor you're trying to edit doesn't exist."}),s.jsx(re,{onClick:()=>t("/vendors"),children:"Back to Vendors"})]})})});const ce=()=>{if(!d||!m||!f){Me.error("Please fill in all required fields (Company Name, Contact Person, Email)"),n("basic");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m)){Me.error("Please enter a valid email address"),n("basic");return}const ge={name:d,company_name:d,contact_person:f,email:m,phone:p||"",website:b||"",category:j||"",address:N||"",city:C||"",country:E||"",postal_code:I||"",tax_id:U||"",business_type:M||"",year_established:A||"",employee_count:W||"",product_categories:de||"",certifications:L||"",specializations:K||"",payment_terms:Z||"",delivery_terms:ee||"",warranty_period:be||"",return_policy:Ge||"",minimum_order:bt||"",notes:Oe||""};l.mutate({id:e,data:ge},{onSuccess:()=>{t(`/vendors/${e}`)}})},xe=()=>{c.mutate(e,{onSuccess:()=>{t("/vendors")}})};return s.jsx(yt,{title:`Edit ${a.name}`,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(re,{variant:"ghost",onClick:()=>t(`/vendors/${e}`),className:"gap-2",children:[s.jsx(sr,{className:"h-4 w-4"}),"Back to Vendor"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(Gl,{children:[s.jsx(tX,{asChild:!0,children:s.jsxs(re,{variant:"destructive",className:"gap-2",children:[s.jsx(Xr,{className:"h-4 w-4"}),"Delete"]})}),s.jsxs(Xo,{children:[s.jsxs(Yo,{children:[s.jsx(Zo,{children:"Are you sure?"}),s.jsx(Jo,{children:"This will permanently delete this vendor and all associated data. This action cannot be undone."})]}),s.jsxs(Qo,{children:[s.jsx(tl,{disabled:c.isPending,children:"Cancel"}),s.jsx(el,{onClick:xe,disabled:c.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:c.isPending?s.jsxs(s.Fragment,{children:[s.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})]}),s.jsx(re,{onClick:ce,className:"gap-2",disabled:l.isPending,children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(St,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Gd,{className:"h-4 w-4"}),"Save Changes"]})})]})]}),s.jsxs(oe,{children:[s.jsxs(Fe,{children:[s.jsx($e,{children:"Vendor Information"}),s.jsx(Lr,{children:"Update the vendor details below. Fields marked with * are required."})]}),s.jsx(le,{children:s.jsxs(nl,{value:r,onValueChange:n,children:[s.jsxs(co,{className:"grid w-full grid-cols-5",children:[s.jsx(Gt,{value:"basic",children:"Basic Info"}),s.jsx(Gt,{value:"address",children:"Address"}),s.jsx(Gt,{value:"business",children:"Business"}),s.jsx(Gt,{value:"products",children:"Products"}),s.jsx(Gt,{value:"terms",children:"Terms"})]}),s.jsx(Zt,{value:"basic",className:"space-y-6 mt-6",children:s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"companyName",children:["Company Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(xr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{id:"companyName",placeholder:"Enter company name",value:d,onChange:ve=>u(ve.target.value),className:"pl-9"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"category",children:"Category"}),s.jsxs(nt,{value:j,onValueChange:w,children:[s.jsx(et,{children:s.jsx(st,{placeholder:"Select category"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"furniture",children:"Furniture"}),s.jsx(J,{value:"electronics",children:"Electronics"}),s.jsx(J,{value:"lighting",children:"Lighting"}),s.jsx(J,{value:"appliances",children:"Appliances"}),s.jsx(J,{value:"textiles",children:"Textiles"}),s.jsx(J,{value:"construction",children:"Construction"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"contactPerson",children:["Contact Person ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Zn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{id:"contactPerson",placeholder:"Primary contact name",value:f,onChange:ve=>h(ve.target.value),className:"pl-9"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:"email",children:["Email ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(yn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{id:"email",type:"email",placeholder:"contact@company.com",value:m,onChange:ve=>x(ve.target.value),className:"pl-9"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"phone",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wo,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{id:"phone",placeholder:"+1 (555) 000-0000",value:p,onChange:ve=>g(ve.target.value),className:"pl-9"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"website",children:"Website"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ac,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{id:"website",placeholder:"https://company.com",value:b,onChange:ve=>y(ve.target.value),className:"pl-9"})]})]})]})}),s.jsx(Zt,{value:"address",className:"space-y-6 mt-6",children:s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(H,{htmlFor:"address",children:"Street Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(ha,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{id:"address",placeholder:"123 Main Street",value:N,onChange:ve=>_(ve.target.value),className:"pl-9"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"city",children:"City"}),s.jsx(ue,{id:"city",placeholder:"City",value:C,onChange:ve=>S(ve.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"postalCode",children:"Postal Code"}),s.jsx(ue,{id:"postalCode",placeholder:"10001",value:I,onChange:ve=>D(ve.target.value)})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(H,{htmlFor:"country",children:"Country"}),s.jsx(ue,{id:"country",placeholder:"Country",value:E,onChange:ve=>P(ve.target.value)})]})]})}),s.jsx(Zt,{value:"business",className:"space-y-6 mt-6",children:s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"taxId",children:"Tax ID / VAT Number"}),s.jsx(ue,{id:"taxId",placeholder:"XX-XXXXXXX",value:U,onChange:ve=>F(ve.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"businessType",children:"Business Type"}),s.jsxs(nt,{value:M,onValueChange:O,children:[s.jsx(et,{children:s.jsx(st,{placeholder:"Select type"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"manufacturer",children:"Manufacturer"}),s.jsx(J,{value:"distributor",children:"Distributor"}),s.jsx(J,{value:"wholesaler",children:"Wholesaler"}),s.jsx(J,{value:"retailer",children:"Retailer"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"yearEstablished",children:"Year Established"}),s.jsx(ue,{id:"yearEstablished",placeholder:"2020",value:A,onChange:ve=>k(ve.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"employeeCount",children:"Number of Employees"}),s.jsx(ue,{id:"employeeCount",placeholder:"50",value:W,onChange:ve=>fe(ve.target.value)})]})]})}),s.jsx(Zt,{value:"products",className:"space-y-6 mt-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"productCategories",children:"Product Categories"}),s.jsx(In,{id:"productCategories",placeholder:"E.g., Furniture, Lighting, Appliances (comma-separated)",value:de,onChange:ve=>T(ve.target.value),rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"specializations",children:"Specializations"}),s.jsx(In,{id:"specializations",placeholder:"What makes this vendor unique?",value:K,onChange:ve=>q(ve.target.value),rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"certifications",children:"Certifications & Compliance"}),s.jsx(In,{id:"certifications",placeholder:"ISO, Quality certifications, etc.",value:L,onChange:ve=>R(ve.target.value),rows:3})]})]})}),s.jsx(Zt,{value:"terms",className:"space-y-6 mt-6",children:s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"paymentTerms",children:"Payment Terms"}),s.jsxs(nt,{value:Z,onValueChange:X,children:[s.jsx(et,{children:s.jsx(st,{placeholder:"Select payment terms"})}),s.jsxs(tt,{children:[s.jsx(J,{value:"net-30",children:"Net 30"}),s.jsx(J,{value:"net-60",children:"Net 60"}),s.jsx(J,{value:"net-90",children:"Net 90"}),s.jsx(J,{value:"cod",children:"Cash on Delivery"}),s.jsx(J,{value:"advance",children:"Advance Payment"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"deliveryTerms",children:"Delivery Terms"}),s.jsx(ue,{id:"deliveryTerms",placeholder:"E.g., 7-14 business days",value:ee,onChange:ve=>ie(ve.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"warrantyPeriod",children:"Warranty Period"}),s.jsx(ue,{id:"warrantyPeriod",placeholder:"E.g., 12 months",value:be,onChange:ve=>he(ve.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"minimumOrder",children:"Minimum Order Value"}),s.jsxs("div",{className:"relative",children:[s.jsx(Rr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{id:"minimumOrder",placeholder:"500",value:bt,onChange:ve=>rt(ve.target.value),className:"pl-9"})]})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(H,{htmlFor:"returnPolicy",children:"Return Policy"}),s.jsx(In,{id:"returnPolicy",placeholder:"Describe return and refund policy",value:Ge,onChange:ve=>ke(ve.target.value),rows:3})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(H,{htmlFor:"notes",children:"Additional Notes"}),s.jsx(In,{id:"notes",placeholder:"Any additional information about the vendor",value:Oe,onChange:ve=>G(ve.target.value),rows:4})]})]})})]})})]})]})})},x1=[{id:1,name:"Barbara Kovacs",role:"Designer",email:"barbara@buy2rent.com",phone:"+36 20 123 4567",assigned_apartments:2,status:"Active",last_active:"2025-11-05 14:30"},{id:2,name:"Maria Weber",role:"Designer",email:"maria@buy2rent.com",phone:"+43 664 987 6543",assigned_apartments:2,status:"Active",last_active:"2025-11-05 09:15"},{id:3,name:"Admin User",role:"System Admin",email:"admin@buy2rent.com",phone:"+36 30 555 1234",assigned_apartments:0,status:"Active",last_active:"2025-11-05 15:45"}],w6=[{id:1,name:"Supplier Issue Email",enabled:!0,template:{subject:"Issue Report - {{product}} - Order {{order_no}}",body:`Dear {{vendor}},

We have identified an issue with the following product:

Product: {{product}}
Apartment: {{apartment}}
Issue Type: {{issue_type}}
Description: {{description}}

Please advise on next steps for resolution.

Best regards,
Buy2Rent Team`}},{id:2,name:"Payment Reminder",enabled:!0,template:{subject:"Payment Reminder - Invoice {{invoice_no}}",body:`Dear {{vendor}},

This is a reminder that payment for invoice {{invoice_no}} is due on {{due_date}}.

Amount: {{amount}}
Order: {{order_no}}

Thank you,
Buy2Rent Finance Team`}},{id:3,name:"Out-of-Stock Replacement",enabled:!1,template:{subject:"Product Replacement Request - {{product}}",body:`Dear {{vendor}},

The product {{product}} is currently out of stock. Could you please suggest a suitable replacement?

Original Product: {{product}}
Apartment: {{apartment}}
Budget: {{price}}

Thank you,
Buy2Rent Procurement`}}],iJe=()=>{const[e,t]=v.useState(""),r=x1.filter(a=>a.name.toLowerCase().includes(e.toLowerCase())||a.email.toLowerCase().includes(e.toLowerCase())||a.role.toLowerCase().includes(e.toLowerCase())),n=a=>({"System Admin":"bg-purple-500/10 text-purple-500",Designer:"bg-blue-500/10 text-blue-500",Manager:"bg-green-500/10 text-green-500"})[a]||"bg-gray-500/10 text-gray-500";return s.jsx(yt,{title:"Users",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),s.jsx("p",{className:"text-3xl font-bold",children:x1.length})]})})}),s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Users"}),s.jsx("p",{className:"text-3xl font-bold",children:x1.filter(a=>a.status==="Active").length})]})})}),s.jsx(oe,{children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Designers"}),s.jsx("p",{className:"text-3xl font-bold",children:x1.filter(a=>a.role==="Designer").length})]})})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Ss,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{placeholder:"Search users...",value:e,onChange:a=>t(a.target.value),className:"pl-9"})]}),s.jsxs(re,{children:[s.jsx(An,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{children:["All Users (",r.length,")"]})}),s.jsx(le,{children:s.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:s.jsxs(ds,{children:[s.jsx(us,{children:s.jsxs(Rt,{children:[s.jsx(Ee,{children:"Name"}),s.jsx(Ee,{children:"Role"}),s.jsx(Ee,{children:"Email"}),s.jsx(Ee,{children:"Phone"}),s.jsx(Ee,{children:"Assigned Apartments"}),s.jsx(Ee,{children:"Status"}),s.jsx(Ee,{children:"Last Active"}),s.jsx(Ee,{className:"text-right",children:"Actions"})]})}),s.jsx(fs,{children:r.map(a=>s.jsxs(Rt,{children:[s.jsx(ye,{className:"font-medium",children:a.name}),s.jsx(ye,{children:s.jsx(Pe,{className:n(a.role),children:a.role})}),s.jsx(ye,{children:a.email}),s.jsx(ye,{children:a.phone}),s.jsx(ye,{children:a.assigned_apartments>0?s.jsx(Pe,{variant:"secondary",children:a.assigned_apartments}):s.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),s.jsx(ye,{children:s.jsx(Pe,{variant:a.status==="Active"?"default":"secondary",children:a.status})}),s.jsx(ye,{className:"text-sm text-muted-foreground",children:a.last_active}),s.jsx(ye,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(re,{size:"sm",variant:"ghost",children:s.jsx(Hs,{className:"h-4 w-4"})}),s.jsx(re,{size:"sm",variant:"ghost",children:s.jsx(C9,{className:"h-4 w-4"})})]})})]},a.id))})]})})})]})]})})},oJe=()=>{const[e,t]=v.useState(w6.reduce((i,o)=>({...i,[o.id]:o.enabled}),{})),{toast:r}=pr(),n=i=>{t(o=>({...o,[i]:!o[i]})),r({title:"Automation Updated",description:`Automation ${e[i]?"disabled":"enabled"} successfully.`})},a=i=>{r({title:"Template Saved",description:"Email template has been updated successfully."})};return s.jsx(yt,{title:"Automations",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(oe,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:s.jsx(le,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-2xl bg-primary/10",children:s.jsx($g,{className:"h-8 w-8 text-primary"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"AI Workflow Automation"}),s.jsx("p",{className:"text-muted-foreground",children:"Configure automated email templates and workflows to streamline vendor communication, payment reminders, and issue resolution."})]})]})})}),w6.map(i=>s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($e,{children:i.name}),s.jsx(Pe,{variant:e[i.id]?"default":"secondary",children:e[i.id]?"Active":"Inactive"})]}),s.jsx(Lr,{children:"Automatically send emails when triggered by system events"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(H,{htmlFor:`toggle-${i.id}`,className:"text-sm text-muted-foreground",children:e[i.id]?"Enabled":"Disabled"}),s.jsx(Nn,{id:`toggle-${i.id}`,checked:e[i.id],onCheckedChange:()=>n(i.id)})]})]})}),s.jsxs(le,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(H,{htmlFor:`subject-${i.id}`,className:"flex items-center gap-2",children:[s.jsx(yn,{className:"h-4 w-4"}),"Email Subject"]}),s.jsx(ue,{id:`subject-${i.id}`,defaultValue:i.template.subject,placeholder:"Email subject line...",disabled:!e[i.id]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:`body-${i.id}`,children:"Email Body"}),s.jsx(ma,{id:`body-${i.id}`,defaultValue:i.template.body,placeholder:"Email template body...",rows:8,disabled:!e[i.id],className:"font-mono text-sm"}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.jsx(Pe,{variant:"outline",className:"text-xs",children:"{{vendor}}"}),s.jsx(Pe,{variant:"outline",className:"text-xs",children:"{{product}}"}),s.jsx(Pe,{variant:"outline",className:"text-xs",children:"{{apartment}}"}),s.jsx(Pe,{variant:"outline",className:"text-xs",children:"{{order_no}}"}),s.jsx(Pe,{variant:"outline",className:"text-xs",children:"{{due_date}}"}),s.jsx(Pe,{variant:"outline",className:"text-xs",children:"{{amount}}"})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(re,{onClick:()=>a(i.id),disabled:!e[i.id],children:[s.jsx(Gd,{className:"h-4 w-4 mr-2"}),"Save Template"]})})]})]},i.id)),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(Vr,{className:"h-5 w-5"}),"Recent Automation Events"]})}),s.jsx(le,{children:s.jsx("div",{className:"space-y-3",children:[{event:"Issue email sent to IKEA Hungary",time:"2 hours ago",type:"issue"},{event:"Payment reminder sent to Royalty Line",time:"5 hours ago",type:"payment"},{event:"Stock check email sent to Philips",time:"1 day ago",type:"stock"},{event:"RMA request email sent to Home Depot",time:"2 days ago",type:"issue"}].map((i,o)=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(yn,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:i.event}),s.jsx("p",{className:"text-xs text-muted-foreground",children:i.time})]})]}),s.jsx(Pe,{variant:"outline",children:i.type})]},o))})})]})]})})},lJe=hN.replace("/auth",""),Xa=ir.create({baseURL:lJe,headers:{"Content-Type":"application/json"}});Xa.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});Xa.interceptors.response.use(e=>e,async e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const Xp={getSettings:async()=>(await Xa.get("/auth/settings/")).data,updateSettings:async e=>(await Xa.put("/auth/settings/",e)).data,resetSettings:async()=>(await Xa.delete("/auth/settings/")).data,getNotificationSettings:async()=>(await Xa.get("/auth/settings/notifications/")).data,updateNotificationSettings:async e=>(await Xa.put("/auth/settings/notifications/",e)).data,getDisplaySettings:async()=>(await Xa.get("/auth/settings/display/")).data,updateDisplaySettings:async e=>(await Xa.put("/auth/settings/display/",e)).data,getRegionalSettings:async()=>(await Xa.get("/auth/settings/regional/")).data,updateRegionalSettings:async e=>(await Xa.put("/auth/settings/regional/",e)).data,getProfileSettings:async()=>(await Xa.get("/auth/settings/profile/")).data,updateProfileSettings:async e=>(await Xa.put("/auth/settings/profile/",e)).data},Sa={all:["settings"],notifications:["settings","notifications"],display:["settings","display"],regional:["settings","regional"],profile:["settings","profile"]},cJe={company:"",job_title:"",email_notifications:!0,push_notifications:!0,sms_notifications:!1,order_updates:!0,payment_alerts:!0,delivery_notifications:!0,vendor_messages:!0,system_alerts:!0,weekly_reports:!1,monthly_reports:!0,sound_enabled:!0,desktop_notifications:!0,theme:"light",compact_view:!1,sidebar_collapsed:!1,show_avatars:!0,animations_enabled:!0,language:"en",timezone:"UTC+1",date_format:"YYYY-MM-DD",time_format:"24h",currency:"HUF",number_format:"hu-HU",two_factor_enabled:!1},dJe=()=>Ds({queryKey:Sa.all,queryFn:async()=>{try{return await Xp.getSettings()}catch(e){return console.warn("Failed to fetch settings, using defaults:",e),cJe}},staleTime:5*60*1e3,retry:1}),uJe=()=>{const e=zr();return nn({mutationFn:t=>Xp.updateSettings(t),onSuccess:t=>{e.setQueryData(Sa.all,t.settings),e.invalidateQueries({queryKey:Sa.notifications}),e.invalidateQueries({queryKey:Sa.display}),e.invalidateQueries({queryKey:Sa.regional}),e.invalidateQueries({queryKey:Sa.profile})}})},fJe=()=>{const e=zr();return nn({mutationFn:Xp.resetSettings,onSuccess:t=>{e.setQueryData(Sa.all,t.settings),e.invalidateQueries({queryKey:Sa.all})}})},hJe=()=>{const e=zr();return nn({mutationFn:t=>Xp.updateNotificationSettings(t),onSuccess:t=>{e.setQueryData(Sa.notifications,t.settings),e.invalidateQueries({queryKey:Sa.all})}})},mJe=()=>{const e=zr();return nn({mutationFn:t=>Xp.updateDisplaySettings(t),onSuccess:t=>{e.setQueryData(Sa.display,t.settings),e.invalidateQueries({queryKey:Sa.all})}})},pJe=()=>{const e=zr();return nn({mutationFn:t=>Xp.updateRegionalSettings(t),onSuccess:t=>{e.setQueryData(Sa.regional,t.settings),e.invalidateQueries({queryKey:Sa.all})}})},xJe=()=>{const{theme:e,setTheme:t}=pp(),{toast:r}=pr(),{user:n}=y0(),[a,i]=v.useState("account"),{data:o,isLoading:l,refetch:c}=dJe(),d=uJe(),u=fJe(),f=hJe(),h=mJe(),m=pJe(),[x,p]=v.useState({firstName:"",lastName:"",email:"",phone:"",company:"",jobTitle:""}),[g,b]=v.useState(!1),[y,j]=v.useState(!1),[w,N]=v.useState(!1),[_,C]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[S,E]=v.useState({emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,orderUpdates:!0,paymentAlerts:!0,deliveryNotifications:!0,vendorMessages:!0,systemAlerts:!0,weeklyReports:!1,monthlyReports:!0,soundEnabled:!0,desktopNotifications:!0}),[P,I]=v.useState({compactView:!1,sidebarCollapsed:localStorage.getItem("sidebarCollapsed")==="true",showAvatars:!0,animationsEnabled:!0}),[D,U]=v.useState({language:"en",timezone:"UTC+1",dateFormat:"YYYY-MM-DD",timeFormat:"24h",currency:"HUF",numberFormat:"hu-HU"}),[F,M]=v.useState(!1);v.useEffect(()=>{o&&(p({firstName:(n==null?void 0:n.first_name)||"",lastName:(n==null?void 0:n.last_name)||"",email:(n==null?void 0:n.email)||o.user_email||"",phone:(n==null?void 0:n.phone)||"",company:o.company||"",jobTitle:o.job_title||""}),E({emailNotifications:o.email_notifications,pushNotifications:o.push_notifications,smsNotifications:o.sms_notifications,orderUpdates:o.order_updates,paymentAlerts:o.payment_alerts,deliveryNotifications:o.delivery_notifications,vendorMessages:o.vendor_messages,systemAlerts:o.system_alerts,weeklyReports:o.weekly_reports,monthlyReports:o.monthly_reports,soundEnabled:o.sound_enabled,desktopNotifications:o.desktop_notifications}),I({compactView:o.compact_view,sidebarCollapsed:o.sidebar_collapsed,showAvatars:o.show_avatars,animationsEnabled:o.animations_enabled}),o.theme&&o.theme!==e&&t(o.theme),U({language:o.language,timezone:o.timezone,dateFormat:o.date_format,timeFormat:o.time_format,currency:o.currency,numberFormat:o.number_format}),M(o.two_factor_enabled))},[o,n]);const O=async()=>{try{await d.mutateAsync({company:x.company,job_title:x.jobTitle}),r({title:"Account Updated",description:"Your account information has been saved successfully."})}catch{r({title:"Error",description:"Failed to save account settings.",variant:"destructive"})}},A=()=>{if(_.newPassword!==_.confirmPassword){r({title:"Error",description:"New passwords do not match.",variant:"destructive"});return}r({title:"Password Changed",description:"Your password has been updated successfully."}),C({currentPassword:"",newPassword:"",confirmPassword:""})},k=async()=>{try{await f.mutateAsync({email_notifications:S.emailNotifications,push_notifications:S.pushNotifications,sms_notifications:S.smsNotifications,order_updates:S.orderUpdates,payment_alerts:S.paymentAlerts,delivery_notifications:S.deliveryNotifications,vendor_messages:S.vendorMessages,system_alerts:S.systemAlerts,weekly_reports:S.weeklyReports,monthly_reports:S.monthlyReports,sound_enabled:S.soundEnabled,desktop_notifications:S.desktopNotifications}),r({title:"Preferences Saved",description:"Your notification preferences have been updated."})}catch{r({title:"Error",description:"Failed to save notification settings.",variant:"destructive"})}},W=async()=>{try{await h.mutateAsync({theme:e,compact_view:P.compactView,sidebar_collapsed:P.sidebarCollapsed,show_avatars:P.showAvatars,animations_enabled:P.animationsEnabled}),localStorage.setItem("sidebarCollapsed",String(P.sidebarCollapsed)),window.dispatchEvent(new CustomEvent("sidebarPreferenceChanged",{detail:{collapsed:P.sidebarCollapsed}})),r({title:"Display Settings Saved",description:"Your display preferences have been updated."})}catch{r({title:"Error",description:"Failed to save display settings.",variant:"destructive"})}},fe=async()=>{try{await m.mutateAsync({language:D.language,timezone:D.timezone,date_format:D.dateFormat,time_format:D.timeFormat,currency:D.currency,number_format:D.numberFormat}),r({title:"Regional Settings Saved",description:"Your regional preferences have been updated."})}catch{r({title:"Error",description:"Failed to save regional settings.",variant:"destructive"})}},de=async R=>{try{await u.mutateAsync(),r({title:"Settings Reset",description:"All settings have been reset to defaults."}),c()}catch{r({title:"Error",description:"Failed to reset settings.",variant:"destructive"})}},T=async R=>{try{await d.mutateAsync({two_factor_enabled:R}),M(R),r({title:R?"2FA Enabled":"2FA Disabled",description:R?"Two-factor authentication has been enabled.":"Two-factor authentication has been disabled."})}catch{r({title:"Error",description:"Failed to update 2FA settings.",variant:"destructive"})}};if(l)return s.jsx(yt,{title:"Settings",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsx(Xt,{className:"h-6 w-24"})}),s.jsx(le,{className:"space-y-2",children:[1,2,3,4,5].map(R=>s.jsx(Xt,{className:"h-10 w-full"},R))})]})}),s.jsx("div",{className:"lg:col-span-3",children:s.jsxs(oe,{children:[s.jsxs(Fe,{children:[s.jsx(Xt,{className:"h-6 w-48"}),s.jsx(Xt,{className:"h-4 w-64"})]}),s.jsx(le,{className:"space-y-4",children:[1,2,3,4].map(R=>s.jsx(Xt,{className:"h-12 w-full"},R))})]})})]})});const L=[{id:"account",icon:Zn,label:"Account"},{id:"security",icon:YI,label:"Security"},{id:"notifications",icon:Fu,label:"Notifications"},{id:"display",icon:pne,label:"Display"},{id:"regional",icon:Ac,label:"Regional Settings"}];return s.jsx(yt,{title:"Settings",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsxs($e,{className:"flex items-center gap-2",children:[s.jsx(u0,{className:"h-5 w-5"}),"Settings"]})}),s.jsx(le,{className:"p-2",children:s.jsx("nav",{className:"space-y-1",children:L.map(R=>s.jsxs(re,{variant:a===R.id?"secondary":"ghost",className:"w-full justify-start",onClick:()=>i(R.id),children:[s.jsx(R.icon,{className:"mr-2 h-4 w-4"}),R.label]},R.id))})})]})}),s.jsxs("div",{className:"lg:col-span-3",children:[a==="account"&&s.jsxs(oe,{children:[s.jsxs(Fe,{children:[s.jsx($e,{children:"Personal Information"}),s.jsx(Lr,{children:"Update your personal details and contact information"})]}),s.jsxs(le,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"firstName",children:"First Name"}),s.jsx(ue,{id:"firstName",value:x.firstName,onChange:R=>p({...x,firstName:R.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"lastName",children:"Last Name"}),s.jsx(ue,{id:"lastName",value:x.lastName,onChange:R=>p({...x,lastName:R.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"email",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(yn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{id:"email",type:"email",className:"pl-10",value:x.email,onChange:R=>p({...x,email:R.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"phone",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wo,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ue,{id:"phone",type:"tel",className:"pl-10",value:x.phone,onChange:R=>p({...x,phone:R.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"company",children:"Company"}),s.jsx(ue,{id:"company",value:x.company,onChange:R=>p({...x,company:R.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"jobTitle",children:"Job Title"}),s.jsx(ue,{id:"jobTitle",value:x.jobTitle,onChange:R=>p({...x,jobTitle:R.target.value})})]})]}),s.jsx(Tt,{}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(re,{variant:"outline",onClick:()=>p({firstName:"John",lastName:"Smith",email:"john.smith@example.com",phone:"+1 (555) 123-4567",company:"Tech Solutions Inc.",jobTitle:"Property Manager"}),children:"Cancel"}),s.jsxs(re,{onClick:O,disabled:d.isPending,children:[d.isPending?s.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(Ui,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})]}),a==="security"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(oe,{children:[s.jsxs(Fe,{children:[s.jsx($e,{children:"Change Password"}),s.jsx(Lr,{children:"Update your password to keep your account secure"})]}),s.jsxs(le,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"currentPassword",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ue,{id:"currentPassword",type:g?"text":"password",value:_.currentPassword,onChange:R=>C({..._,currentPassword:R.target.value})}),s.jsx(re,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>b(!g),children:g?s.jsx(Uh,{className:"h-4 w-4"}):s.jsx(Da,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"newPassword",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ue,{id:"newPassword",type:y?"text":"password",value:_.newPassword,onChange:R=>C({..._,newPassword:R.target.value})}),s.jsx(re,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>j(!y),children:y?s.jsx(Uh,{className:"h-4 w-4"}):s.jsx(Da,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ue,{id:"confirmPassword",type:w?"text":"password",value:_.confirmPassword,onChange:R=>C({..._,confirmPassword:R.target.value})}),s.jsx(re,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>N(!w),children:w?s.jsx(Uh,{className:"h-4 w-4"}):s.jsx(Da,{className:"h-4 w-4"})})]})]})]}),s.jsx(Tt,{}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(re,{variant:"outline",onClick:()=>C({currentPassword:"",newPassword:"",confirmPassword:""}),children:"Cancel"}),s.jsxs(re,{onClick:A,children:[s.jsx(YI,{className:"mr-2 h-4 w-4"}),"Update Password"]})]})]})]}),s.jsxs(oe,{children:[s.jsxs(Fe,{children:[s.jsx($e,{children:"Two-Factor Authentication"}),s.jsx(Lr,{children:"Add an extra layer of security to your account"})]}),s.jsx(le,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(bne,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium",children:"Enable 2FA"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Require a verification code in addition to your password"})]})]}),s.jsx(Nn,{checked:F,onCheckedChange:T,disabled:d.isPending})]})})]})]}),a==="notifications"&&s.jsxs(oe,{children:[s.jsxs(Fe,{children:[s.jsx($e,{children:"Notification Preferences"}),s.jsx(Lr,{children:"Manage how and when you receive notifications"})]}),s.jsxs(le,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Notification Channels"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(yn,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Email Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]})]}),s.jsx(Nn,{checked:S.emailNotifications,onCheckedChange:R=>E({...S,emailNotifications:R})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Fu,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Push Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive browser push notifications"})]})]}),s.jsx(Nn,{checked:S.pushNotifications,onCheckedChange:R=>E({...S,pushNotifications:R})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Fd,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"SMS Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via text message"})]})]}),s.jsx(Nn,{checked:S.smsNotifications,onCheckedChange:R=>E({...S,smsNotifications:R})})]})]})]}),s.jsx(Tt,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Activity Notifications"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Order Updates"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified about order status changes"})]}),s.jsx(Nn,{checked:S.orderUpdates,onCheckedChange:R=>E({...S,orderUpdates:R})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Payment Alerts"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications for payment activities"})]}),s.jsx(Nn,{checked:S.paymentAlerts,onCheckedChange:R=>E({...S,paymentAlerts:R})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Delivery Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Updates on delivery status and schedules"})]}),s.jsx(Nn,{checked:S.deliveryNotifications,onCheckedChange:R=>E({...S,deliveryNotifications:R})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Vendor Messages"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Messages and updates from vendors"})]}),s.jsx(Nn,{checked:S.vendorMessages,onCheckedChange:R=>E({...S,vendorMessages:R})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"System Alerts"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Important system notifications and updates"})]}),s.jsx(Nn,{checked:S.systemAlerts,onCheckedChange:R=>E({...S,systemAlerts:R})})]})]})]}),s.jsx(Tt,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Report Notifications"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Weekly Reports"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive weekly summary reports"})]}),s.jsx(Nn,{checked:S.weeklyReports,onCheckedChange:R=>E({...S,weeklyReports:R})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Monthly Reports"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive monthly summary reports"})]}),s.jsx(Nn,{checked:S.monthlyReports,onCheckedChange:R=>E({...S,monthlyReports:R})})]})]})]}),s.jsx(Tt,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Sound & Desktop"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[S.soundEnabled?s.jsx(Nne,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(_ne,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Sound Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Play sounds for notifications"})]})]}),s.jsx(Nn,{checked:S.soundEnabled,onCheckedChange:R=>E({...S,soundEnabled:R})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Desktop Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Show notifications on desktop"})]}),s.jsx(Nn,{checked:S.desktopNotifications,onCheckedChange:R=>E({...S,desktopNotifications:R})})]})]})]})]}),s.jsx(Tt,{}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsxs(re,{variant:"outline",onClick:()=>de(),disabled:u.isPending,children:[u.isPending?s.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(Do,{className:"mr-2 h-4 w-4"}),"Reset to Default"]}),s.jsxs(re,{onClick:k,disabled:f.isPending,children:[f.isPending?s.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(Ui,{className:"mr-2 h-4 w-4"}),"Save Preferences"]})]})]})]}),a==="display"&&s.jsxs(oe,{children:[s.jsxs(Fe,{children:[s.jsx($e,{children:"Appearance"}),s.jsx(Lr,{children:"Customize how the application looks and feels"})]}),s.jsxs(le,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[e==="dark"?s.jsx(d0,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(f0,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Theme"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your preferred color scheme"})]})]}),s.jsxs(nt,{value:e,onValueChange:t,children:[s.jsx(et,{className:"w-32",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"light",children:"Light"}),s.jsx(J,{value:"dark",children:"Dark"}),s.jsx(J,{value:"system",children:"System"})]})]})]}),s.jsx(Tt,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Compact View"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Display more content with reduced spacing"})]}),s.jsx(Nn,{checked:P.compactView,onCheckedChange:R=>I({...P,compactView:R})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Collapsed Sidebar"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Show sidebar in collapsed state by default"})]}),s.jsx(Nn,{checked:P.sidebarCollapsed,onCheckedChange:R=>{I({...P,sidebarCollapsed:R}),localStorage.setItem("sidebarCollapsed",String(R)),window.dispatchEvent(new CustomEvent("sidebarPreferenceChanged",{detail:{collapsed:R}})),r({title:"Sidebar Preference Updated",description:`Sidebar will be ${R?"collapsed":"expanded"} by default.`})}})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Show Avatars"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Display user avatars throughout the app"})]}),s.jsx(Nn,{checked:P.showAvatars,onCheckedChange:R=>I({...P,showAvatars:R})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Enable Animations"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Show smooth transitions and animations"})]}),s.jsx(Nn,{checked:P.animationsEnabled,onCheckedChange:R=>I({...P,animationsEnabled:R})})]})]}),s.jsx(Tt,{}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsxs(re,{variant:"outline",onClick:()=>de(),disabled:u.isPending,children:[u.isPending?s.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(Do,{className:"mr-2 h-4 w-4"}),"Reset to Default"]}),s.jsxs(re,{onClick:W,disabled:h.isPending,children:[h.isPending?s.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(Ui,{className:"mr-2 h-4 w-4"}),"Save Settings"]})]})]})]}),a==="regional"&&s.jsxs(oe,{children:[s.jsxs(Fe,{children:[s.jsx($e,{children:"Regional Preferences"}),s.jsx(Lr,{children:"Configure language, timezone, and formatting options"})]}),s.jsxs(le,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"language",children:"Language"}),s.jsxs(nt,{value:D.language,onValueChange:R=>U({...D,language:R}),children:[s.jsx(et,{id:"language",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"en",children:"English"}),s.jsx(J,{value:"es",children:"Spanish"}),s.jsx(J,{value:"fr",children:"French"}),s.jsx(J,{value:"de",children:"German"}),s.jsx(J,{value:"zh",children:"Chinese"}),s.jsx(J,{value:"ja",children:"Japanese"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"timezone",children:"Timezone"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ac,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground z-10"}),s.jsxs(nt,{value:D.timezone,onValueChange:R=>U({...D,timezone:R}),children:[s.jsx(et,{id:"timezone",className:"pl-10",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"UTC-12",children:"UTC-12:00 Baker Island"}),s.jsx(J,{value:"UTC-11",children:"UTC-11:00 American Samoa"}),s.jsx(J,{value:"UTC-10",children:"UTC-10:00 Hawaii"}),s.jsx(J,{value:"UTC-9",children:"UTC-09:00 Alaska"}),s.jsx(J,{value:"UTC-8",children:"UTC-08:00 Pacific Time"}),s.jsx(J,{value:"UTC-7",children:"UTC-07:00 Mountain Time"}),s.jsx(J,{value:"UTC-6",children:"UTC-06:00 Central Time"}),s.jsx(J,{value:"UTC-5",children:"UTC-05:00 Eastern Time"}),s.jsx(J,{value:"UTC-4",children:"UTC-04:00 Atlantic Time"}),s.jsx(J,{value:"UTC-3",children:"UTC-03:00 Buenos Aires"}),s.jsx(J,{value:"UTC-2",children:"UTC-02:00 Mid-Atlantic"}),s.jsx(J,{value:"UTC-1",children:"UTC-01:00 Azores"}),s.jsx(J,{value:"UTC+0",children:"UTC+00:00 London"}),s.jsx(J,{value:"UTC+1",children:"UTC+01:00 Paris"}),s.jsx(J,{value:"UTC+2",children:"UTC+02:00 Cairo"}),s.jsx(J,{value:"UTC+3",children:"UTC+03:00 Moscow"}),s.jsx(J,{value:"UTC+4",children:"UTC+04:00 Dubai"}),s.jsx(J,{value:"UTC+5",children:"UTC+05:00 Pakistan"}),s.jsx(J,{value:"UTC+6",children:"UTC+06:00 Bangladesh"}),s.jsx(J,{value:"UTC+7",children:"UTC+07:00 Bangkok"}),s.jsx(J,{value:"UTC+8",children:"UTC+08:00 Singapore"}),s.jsx(J,{value:"UTC+9",children:"UTC+09:00 Tokyo"}),s.jsx(J,{value:"UTC+10",children:"UTC+10:00 Sydney"}),s.jsx(J,{value:"UTC+11",children:"UTC+11:00 Solomon Islands"}),s.jsx(J,{value:"UTC+12",children:"UTC+12:00 New Zealand"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"dateFormat",children:"Date Format"}),s.jsxs("div",{className:"relative",children:[s.jsx(tn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground z-10"}),s.jsxs(nt,{value:D.dateFormat,onValueChange:R=>U({...D,dateFormat:R}),children:[s.jsx(et,{id:"dateFormat",className:"pl-10",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"MM/DD/YYYY",children:"MM/DD/YYYY (12/31/2024)"}),s.jsx(J,{value:"DD/MM/YYYY",children:"DD/MM/YYYY (31/12/2024)"}),s.jsx(J,{value:"YYYY-MM-DD",children:"YYYY-MM-DD (2024-12-31)"}),s.jsx(J,{value:"DD.MM.YYYY",children:"DD.MM.YYYY (31.12.2024)"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"timeFormat",children:"Time Format"}),s.jsxs(nt,{value:D.timeFormat,onValueChange:R=>U({...D,timeFormat:R}),children:[s.jsx(et,{id:"timeFormat",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"12h",children:"12-hour (3:30 PM)"}),s.jsx(J,{value:"24h",children:"24-hour (15:30)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"currency",children:"Currency"}),s.jsxs("div",{className:"relative",children:[s.jsx(Rr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground z-10"}),s.jsxs(nt,{value:D.currency,onValueChange:R=>U({...D,currency:R}),children:[s.jsx(et,{id:"currency",className:"pl-10",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"HUF",children:"HUF - Hungarian Forint (Ft)"}),s.jsx(J,{value:"USD",children:"USD - US Dollar ($)"}),s.jsx(J,{value:"EUR",children:"EUR - Euro ()"}),s.jsx(J,{value:"GBP",children:"GBP - British Pound ()"}),s.jsx(J,{value:"JPY",children:"JPY - Japanese Yen ()"}),s.jsx(J,{value:"CNY",children:"CNY - Chinese Yuan ()"}),s.jsx(J,{value:"INR",children:"INR - Indian Rupee ()"}),s.jsx(J,{value:"CAD",children:"CAD - Canadian Dollar ($)"}),s.jsx(J,{value:"AUD",children:"AUD - Australian Dollar ($)"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"numberFormat",children:"Number Format"}),s.jsxs(nt,{value:D.numberFormat,onValueChange:R=>U({...D,numberFormat:R}),children:[s.jsx(et,{id:"numberFormat",children:s.jsx(st,{})}),s.jsxs(tt,{children:[s.jsx(J,{value:"en-US",children:"1,234.56 (US)"}),s.jsx(J,{value:"de-DE",children:"1.234,56 (German)"}),s.jsx(J,{value:"fr-FR",children:"1 234,56 (French)"}),s.jsx(J,{value:"en-IN",children:"1,23,456.78 (Indian)"})]})]})]})]}),s.jsx(Tt,{}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsxs(re,{variant:"outline",onClick:()=>de(),disabled:u.isPending,children:[u.isPending?s.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(Do,{className:"mr-2 h-4 w-4"}),"Reset to Default"]}),s.jsxs(re,{onClick:fe,disabled:m.isPending,children:[m.isPending?s.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(Ui,{className:"mr-2 h-4 w-4"}),"Save Settings"]})]})]})]})]})]})})},gJe=()=>{var g;const e=Ul(),t=cr(),{issues:r,vendors:n}=gl(),a=((g=e.state)==null?void 0:g.selectedIssues)||[],[i,o]=v.useState({subject:"",message:"",includeIssueDetails:!0,includePhotos:!0}),[l,c]=v.useState(!1),[d,u]=v.useState(new Set),f=v.useMemo(()=>{const b={};return a.forEach(y=>{const j=y.vendor,w=y.vendor_details||n.find(N=>N.id===j);b[j]||(b[j]={vendor:w||{id:j,name:"Unknown Vendor"},issues:[]}),b[j].issues.push(y)}),b},[a,n]),h=Object.keys(f).length,m=a.length,x=b=>{u(y=>{const j=new Set(y);return j.has(b)?j.delete(b):j.add(b),j})},p=async()=>{var b,y;if(!i.subject||!i.message){Me.error("Please provide email subject and message");return}c(!0);try{const j=a.map(N=>N.id),w=await ss.sendBulkEmail({issue_ids:j,subject:i.subject,message:i.message,include_issue_details:i.includeIssueDetails,include_photos:i.includePhotos});w.success?(Me.success("Emails Sent Successfully",{description:`Sent ${w.results.sent} emails to vendors about ${w.results.total_issues} issues.`}),t("/issues")):Me.error("Failed to send some emails",{description:w.message||"Please check the details and try again."})}catch(j){console.error("Bulk email error:",j),Me.error("Failed to send emails",{description:((y=(b=j.response)==null?void 0:b.data)==null?void 0:y.message)||j.message||"An error occurred while sending emails."})}finally{c(!1)}};return s.jsx(yt,{title:"Send Bulk Email to Vendors",subtitle:"Send a standardized email to all vendors with open issues. Each vendor will receive information about their specific issues.",actions:s.jsxs(re,{variant:"outline",onClick:()=>t("/issues"),children:[s.jsx(sr,{className:"h-4 w-4 mr-2"}),"Back to Issues"]}),children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(oe,{children:s.jsxs(le,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Pc,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Recipients"}),s.jsx("p",{className:"text-2xl font-bold text-primary",children:h})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Vendors"})]})}),s.jsx(oe,{children:s.jsxs(le,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-danger/10 rounded-lg",children:s.jsx(mt,{className:"h-5 w-5 text-danger"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Issues"}),s.jsx("p",{className:"text-2xl font-bold text-danger",children:m})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Items"})]})}),s.jsx(oe,{children:s.jsxs(le,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-warning/10 rounded-lg",children:s.jsx(yn,{className:"h-5 w-5 text-warning"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Emails"}),s.jsx("p",{className:"text-2xl font-bold text-warning",children:h})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"To Send"})]})})]}),s.jsxs(oe,{children:[s.jsxs(Fe,{children:[s.jsxs($e,{className:"text-lg flex items-center gap-2",children:[s.jsx(Pc,{className:"h-5 w-5"}),"Recipients by Vendor"]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Click on a vendor to view their issues"})]}),s.jsx(le,{children:s.jsx("div",{className:"space-y-3",children:Object.entries(f).map(([b,{vendor:y,issues:j}])=>s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>x(b),className:"w-full flex items-center justify-between p-4 bg-muted/30 hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[d.has(b)?s.jsx(Ff,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(Hd,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-semibold text-base",children:y.name}),y.email&&s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-0.5",children:[s.jsx(yn,{className:"h-3 w-3"}),y.email]})]})]}),s.jsxs(Pe,{variant:"outline",className:"ml-2",children:[j.length," ",j.length===1?"issue":"issues"]})]}),d.has(b)&&s.jsx("div",{className:"p-4 bg-background border-t space-y-2",children:j.map((w,N)=>s.jsx("div",{className:"p-3 rounded-lg border bg-card hover:bg-accent/5 transition-colors",children:s.jsx("div",{className:"flex items-start justify-between gap-3",children:s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Pe,{variant:"secondary",className:"text-xs",children:["#",N+1]}),s.jsx("span",{className:"text-sm font-medium",children:w.display_product_name||w.product_name||"Product Issue"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(Et,{className:"h-3 w-3"}),s.jsx("span",{className:"font-medium",children:w.type}),s.jsx("span",{children:""}),s.jsx(Pe,{variant:w.priority==="Critical"?"destructive":w.priority==="High"?"default":"secondary",className:"text-xs",children:w.priority})]}),w.description&&s.jsxs("p",{className:"text-xs text-muted-foreground line-clamp-2 flex items-start gap-1",children:[s.jsx(Yn,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),w.description]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(tn,{className:"h-3 w-3"}),s.jsxs("span",{children:["Reported: ",new Date(w.reported_on).toLocaleDateString()]}),s.jsx("span",{children:""}),s.jsx(Pe,{variant:"outline",className:"text-xs",children:w.status})]})]})})},w.id))})]},b))})})]}),s.jsx(Tt,{}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsx($e,{className:"text-lg",children:"Compose Email"})}),s.jsxs(le,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"subject",children:"Email Subject *"}),s.jsx("input",{id:"subject",type:"text",placeholder:"e.g., Urgent: Product Issues Requiring Resolution",value:i.subject,onChange:b=>o(y=>({...y,subject:b.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(H,{htmlFor:"message",children:"Email Message *"}),s.jsx(In,{id:"message",placeholder:`Dear Vendor Team,

We have identified several issues with the products delivered. Please review the details below and provide a resolution plan at your earliest convenience.

Best regards,
Procurement Team`,value:i.message,onChange:b=>o(y=>({...y,message:b.target.value})),rows:10,className:"resize-none"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This message will be sent to all vendors. Issue-specific details will be automatically appended."})]}),s.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[s.jsx(H,{className:"text-sm font-semibold",children:"Email Options"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ll,{id:"includeDetails",checked:i.includeIssueDetails,onCheckedChange:b=>o(y=>({...y,includeIssueDetails:b}))}),s.jsx("label",{htmlFor:"includeDetails",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Include detailed issue information (product names, SKUs, descriptions)"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ll,{id:"includePhotos",checked:i.includePhotos,onCheckedChange:b=>o(y=>({...y,includePhotos:b}))}),s.jsx("label",{htmlFor:"includePhotos",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Attach issue photos to emails"})]})]})]})]}),s.jsxs(oe,{children:[s.jsx(Fe,{children:s.jsx($e,{className:"text-lg",children:"Email Preview"})}),s.jsx(le,{children:s.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-3 text-sm",children:[s.jsxs("div",{className:"font-semibold",children:["Subject: ",i.subject||"(No subject)"]}),s.jsx(Tt,{}),s.jsx("div",{className:"whitespace-pre-wrap",children:i.message||"(No message)"}),i.includeIssueDetails&&s.jsxs(s.Fragment,{children:[s.jsx(Tt,{}),s.jsx("div",{className:"text-xs text-muted-foreground italic",children:"[Vendor-specific issue details will be inserted here]"})]})]})})]}),s.jsxs("div",{className:"flex justify-end gap-3 pb-6",children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>t("/issues"),children:"Cancel"}),s.jsxs(re,{onClick:p,disabled:l||!i.subject||!i.message,size:"lg",children:[s.jsx(j9,{className:"h-4 w-4 mr-2"}),l?"Sending...":`Send ${h} Emails`]})]})]})})},vJe=new kie,yJe=()=>s.jsx(Mie,{client:vJe,children:s.jsx(jce,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:s.jsxs(c7,{children:[s.jsx(cse,{}),s.jsx(Use,{}),s.jsx(zoe,{children:s.jsx(wce,{children:s.jsxs(Roe,{children:[s.jsx(Yt,{path:"/login",element:s.jsx(ude,{})}),s.jsx(Yt,{path:"/signup",element:s.jsx(hde,{})}),s.jsx(Yt,{path:"/forgot-password",element:s.jsx(pde,{})}),s.jsx(Yt,{path:"/",element:s.jsx(I7,{to:"/overview",replace:!0})}),s.jsx(Yt,{path:"/clients",element:s.jsx(dr,{children:s.jsx(G$e,{})})}),s.jsx(Yt,{path:"/apartments",element:s.jsx(dr,{children:s.jsx(t6e,{})})}),s.jsx(Yt,{path:"/apartments/new",element:s.jsx(dr,{children:s.jsx(f6e,{})})}),s.jsx(Yt,{path:"/apartments/:id",element:s.jsx(dr,{children:s.jsx(ABe,{})})}),s.jsx(Yt,{path:"/apartments/:id/edit",element:s.jsx(dr,{children:s.jsx(PBe,{})})}),s.jsx(Yt,{path:"/products",element:s.jsx(dr,{children:s.jsx(TBe,{})})}),s.jsx(Yt,{path:"/products/new",element:s.jsx(dr,{children:s.jsx(kBe,{})})}),s.jsx(Yt,{path:"/products/import",element:s.jsx(dr,{children:s.jsx(HBe,{})})}),s.jsx(Yt,{path:"/products/:id",element:s.jsx(dr,{children:s.jsx(OBe,{})})}),s.jsx(Yt,{path:"/products/:id/edit",element:s.jsx(dr,{children:s.jsx(DBe,{})})}),s.jsx(Yt,{path:"/orders",element:s.jsx(dr,{children:s.jsx(YBe,{})})}),s.jsx(Yt,{path:"/orders/new",element:s.jsx(dr,{children:s.jsx(r9e,{})})}),s.jsx(Yt,{path:"/orders/:id",element:s.jsx(dr,{children:s.jsx(n9e,{})})}),s.jsx(Yt,{path:"/orders/:id/edit",element:s.jsx(dr,{children:s.jsx(s9e,{})})}),s.jsx(Yt,{path:"/deliveries",element:s.jsx(dr,{children:s.jsx(A9e,{})})}),s.jsx(Yt,{path:"/issues",element:s.jsx(dr,{children:s.jsx(LZe,{})})}),s.jsx(Yt,{path:"/issues/new",element:s.jsx(dr,{children:s.jsx(BZe,{})})}),s.jsx(Yt,{path:"/issues/bulk-email",element:s.jsx(dr,{children:s.jsx(gJe,{})})}),s.jsx(Yt,{path:"/issues/:issueId",element:s.jsx(dr,{children:s.jsx(HZe,{})})}),s.jsx(Yt,{path:"/issues/:issueId/edit",element:s.jsx(dr,{children:s.jsx(GZe,{})})}),s.jsx(Yt,{path:"/payments",element:s.jsx(dr,{children:s.jsx(ZZe,{})})}),s.jsx(Yt,{path:"/payments/new",element:s.jsx(dr,{children:s.jsx(JZe,{})})}),s.jsx(Yt,{path:"/payments/:id",element:s.jsx(dr,{children:s.jsx(eJe,{})})}),s.jsx(Yt,{path:"/payments/:id/edit",element:s.jsx(dr,{children:s.jsx(tJe,{})})}),s.jsx(Yt,{path:"/vendors",element:s.jsx(dr,{children:s.jsx(rJe,{})})}),s.jsx(Yt,{path:"/vendors/new",element:s.jsx(dr,{children:s.jsx(nJe,{})})}),s.jsx(Yt,{path:"/vendors/:id",element:s.jsx(dr,{children:s.jsx(sJe,{})})}),s.jsx(Yt,{path:"/vendors/:id/edit",element:s.jsx(dr,{children:s.jsx(aJe,{})})}),s.jsx(Yt,{path:"/users",element:s.jsx(dr,{children:s.jsx(iJe,{})})}),s.jsx(Yt,{path:"/automations",element:s.jsx(dr,{children:s.jsx(oJe,{})})}),s.jsx(Yt,{path:"/settings",element:s.jsx(dr,{children:s.jsx(xJe,{})})}),s.jsx(Yt,{path:"/overview",element:s.jsx(dr,{children:s.jsx(GLe,{})})}),s.jsx(Yt,{path:"*",element:s.jsx(qLe,{})})]})})})]})})});WB(document.getElementById("root")).render(s.jsx(yJe,{}));
