var $3=e=>{throw TypeError(e)};var G2=(e,t,r)=>t.has(e)||$3("Cannot "+r);var pe=(e,t,r)=>(G2(e,t,"read from private field"),r?r.call(e):t.get(e)),Et=(e,t,r)=>t.has(e)?$3("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ht=(e,t,r,s)=>(G2(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Xt=(e,t,r)=>(G2(e,t,"access private method"),r);var my=(e,t,r,s)=>({set _(a){ht(e,t,a,r)},get _(){return pe(e,t,s)}});function zJ(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var UL={exports:{}},Tw={},VL={exports:{}},nr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv=Symbol.for("react.element"),WJ=Symbol.for("react.portal"),HJ=Symbol.for("react.fragment"),qJ=Symbol.for("react.strict_mode"),GJ=Symbol.for("react.profiler"),KJ=Symbol.for("react.provider"),YJ=Symbol.for("react.context"),XJ=Symbol.for("react.forward_ref"),QJ=Symbol.for("react.suspense"),ZJ=Symbol.for("react.memo"),JJ=Symbol.for("react.lazy"),L3=Symbol.iterator;function eee(e){return e===null||typeof e!="object"?null:(e=L3&&e[L3]||e["@@iterator"],typeof e=="function"?e:null)}var zL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WL=Object.assign,HL={};function xp(e,t,r){this.props=e,this.context=t,this.refs=HL,this.updater=r||zL}xp.prototype.isReactComponent={};xp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qL(){}qL.prototype=xp.prototype;function JA(e,t,r){this.props=e,this.context=t,this.refs=HL,this.updater=r||zL}var ek=JA.prototype=new qL;ek.constructor=JA;WL(ek,xp.prototype);ek.isPureReactComponent=!0;var B3=Array.isArray,GL=Object.prototype.hasOwnProperty,tk={current:null},KL={key:!0,ref:!0,__self:!0,__source:!0};function YL(e,t,r){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)GL.call(t,s)&&!KL.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:dv,type:e,key:i,ref:o,props:a,_owner:tk.current}}function tee(e,t){return{$$typeof:dv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rk(e){return typeof e=="object"&&e!==null&&e.$$typeof===dv}function ree(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var U3=/\/+/g;function K2(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ree(""+e.key):t.toString(36)}function _j(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case dv:case WJ:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+K2(o,0):s,B3(a)?(r="",e!=null&&(r=e.replace(U3,"$&/")+"/"),_j(a,t,r,"",function(d){return d})):a!=null&&(rk(a)&&(a=tee(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(U3,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",B3(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+K2(i,l);o+=_j(i,t,r,c,a)}else if(c=eee(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+K2(i,l++),o+=_j(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function py(e,t,r){if(e==null)return e;var s=[],a=0;return _j(e,s,"","",function(i){return t.call(r,i,a++)}),s}function nee(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Aa={current:null},Sj={transition:null},see={ReactCurrentDispatcher:Aa,ReactCurrentBatchConfig:Sj,ReactCurrentOwner:tk};function XL(){throw Error("act(...) is not supported in production builds of React.")}nr.Children={map:py,forEach:function(e,t,r){py(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return py(e,function(){t++}),t},toArray:function(e){return py(e,function(t){return t})||[]},only:function(e){if(!rk(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};nr.Component=xp;nr.Fragment=HJ;nr.Profiler=GJ;nr.PureComponent=JA;nr.StrictMode=qJ;nr.Suspense=QJ;nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=see;nr.act=XL;nr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=WL({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=tk.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)GL.call(t,c)&&!KL.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:dv,type:e.type,key:a,ref:i,props:s,_owner:o}};nr.createContext=function(e){return e={$$typeof:YJ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:KJ,_context:e},e.Consumer=e};nr.createElement=YL;nr.createFactory=function(e){var t=YL.bind(null,e);return t.type=e,t};nr.createRef=function(){return{current:null}};nr.forwardRef=function(e){return{$$typeof:XJ,render:e}};nr.isValidElement=rk;nr.lazy=function(e){return{$$typeof:JJ,_payload:{_status:-1,_result:e},_init:nee}};nr.memo=function(e,t){return{$$typeof:ZJ,type:e,compare:t===void 0?null:t}};nr.startTransition=function(e){var t=Sj.transition;Sj.transition={};try{e()}finally{Sj.transition=t}};nr.unstable_act=XL;nr.useCallback=function(e,t){return Aa.current.useCallback(e,t)};nr.useContext=function(e){return Aa.current.useContext(e)};nr.useDebugValue=function(){};nr.useDeferredValue=function(e){return Aa.current.useDeferredValue(e)};nr.useEffect=function(e,t){return Aa.current.useEffect(e,t)};nr.useId=function(){return Aa.current.useId()};nr.useImperativeHandle=function(e,t,r){return Aa.current.useImperativeHandle(e,t,r)};nr.useInsertionEffect=function(e,t){return Aa.current.useInsertionEffect(e,t)};nr.useLayoutEffect=function(e,t){return Aa.current.useLayoutEffect(e,t)};nr.useMemo=function(e,t){return Aa.current.useMemo(e,t)};nr.useReducer=function(e,t,r){return Aa.current.useReducer(e,t,r)};nr.useRef=function(e){return Aa.current.useRef(e)};nr.useState=function(e){return Aa.current.useState(e)};nr.useSyncExternalStore=function(e,t,r){return Aa.current.useSyncExternalStore(e,t,r)};nr.useTransition=function(){return Aa.current.useTransition()};nr.version="18.3.1";VL.exports=nr;var v=VL.exports;const V=Cr(v),nk=zJ({__proto__:null,default:V},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aee=v,iee=Symbol.for("react.element"),oee=Symbol.for("react.fragment"),lee=Object.prototype.hasOwnProperty,cee=aee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dee={key:!0,ref:!0,__self:!0,__source:!0};function QL(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)lee.call(t,s)&&!dee.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:iee,type:e,key:i,ref:o,props:a,_owner:cee.current}}Tw.Fragment=oee;Tw.jsx=QL;Tw.jsxs=QL;UL.exports=Tw;var n=UL.exports,ZL={exports:{}},Ii={},JL={exports:{}},e8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,M){var ie=O.length;O.push(M);e:for(;0<ie;){var ce=ie-1>>>1,D=O[ce];if(0<a(D,M))O[ce]=M,O[ie]=D,ie=ce;else break e}}function r(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var M=O[0],ie=O.pop();if(ie!==M){O[0]=ie;e:for(var ce=0,D=O.length,W=D>>>1;ce<W;){var F=2*(ce+1)-1,q=O[F],le=F+1,fe=O[le];if(0>a(q,ie))le<D&&0>a(fe,q)?(O[ce]=fe,O[le]=ie,ce=le):(O[ce]=q,O[F]=ie,ce=F);else if(le<D&&0>a(fe,ie))O[ce]=fe,O[le]=ie,ce=le;else break e}}return M}function a(O,M){var ie=O.sortIndex-M.sortIndex;return ie!==0?ie:O.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,m=3,h=!1,x=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var M=r(d);M!==null;){if(M.callback===null)s(d);else if(M.startTime<=O)s(d),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(d)}}function b(O){if(p=!1,w(O),!x)if(r(c)!==null)x=!0,T(N);else{var M=r(d);M!==null&&k(b,M.startTime-O)}}function N(O,M){x=!1,p&&(p=!1,j(C),C=-1),h=!0;var ie=m;try{for(w(M),f=r(c);f!==null&&(!(f.expirationTime>M)||O&&!R());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,m=f.priorityLevel;var D=ce(f.expirationTime<=M);M=e.unstable_now(),typeof D=="function"?f.callback=D:f===r(c)&&s(c),w(M)}else s(c);f=r(c)}if(f!==null)var W=!0;else{var F=r(d);F!==null&&k(b,F.startTime-M),W=!1}return W}finally{f=null,m=ie,h=!1}}var S=!1,E=null,C=-1,A=5,P=-1;function R(){return!(e.unstable_now()-P<A)}function I(){if(E!==null){var O=e.unstable_now();P=O;var M=!0;try{M=E(!0,O)}finally{M?z():(S=!1,E=null)}}else S=!1}var z;if(typeof y=="function")z=function(){y(I)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,L=U.port2;U.port1.onmessage=I,z=function(){L.postMessage(null)}}else z=function(){g(I,0)};function T(O){E=O,S||(S=!0,z())}function k(O,M){C=g(function(){O(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){x||h||(x=!0,T(N))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(O){switch(m){case 1:case 2:case 3:var M=3;break;default:M=m}var ie=m;m=M;try{return O()}finally{m=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,M){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var ie=m;m=O;try{return M()}finally{m=ie}},e.unstable_scheduleCallback=function(O,M,ie){var ce=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ce+ie:ce):ie=ce,O){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ie+D,O={id:u++,callback:M,priorityLevel:O,startTime:ie,expirationTime:D,sortIndex:-1},ie>ce?(O.sortIndex=ie,t(d,O),r(c)===null&&O===r(d)&&(p?(j(C),C=-1):p=!0,k(b,ie-ce))):(O.sortIndex=D,t(c,O),x||h||(x=!0,T(N))),O},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(O){var M=m;return function(){var ie=m;m=M;try{return O.apply(this,arguments)}finally{m=ie}}}})(e8);JL.exports=e8;var uee=JL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fee=v,Ai=uee;function Ke(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var t8=new Set,kg={};function Uf(e,t){wh(e,t),wh(e+"Capture",t)}function wh(e,t){for(kg[e]=t,e=0;e<t.length;e++)t8.add(t[e])}var kc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rC=Object.prototype.hasOwnProperty,mee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V3={},z3={};function hee(e){return rC.call(z3,e)?!0:rC.call(V3,e)?!1:mee.test(e)?z3[e]=!0:(V3[e]=!0,!1)}function pee(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xee(e,t,r,s){if(t===null||typeof t>"u"||pee(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ka(e,t,r,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Bs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bs[e]=new ka(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bs[t]=new ka(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bs[e]=new ka(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bs[e]=new ka(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bs[e]=new ka(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bs[e]=new ka(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bs[e]=new ka(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bs[e]=new ka(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bs[e]=new ka(e,5,!1,e.toLowerCase(),null,!1,!1)});var sk=/[\-:]([a-z])/g;function ak(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sk,ak);Bs[t]=new ka(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sk,ak);Bs[t]=new ka(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sk,ak);Bs[t]=new ka(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bs[e]=new ka(e,1,!1,e.toLowerCase(),null,!1,!1)});Bs.xlinkHref=new ka("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bs[e]=new ka(e,1,!1,e.toLowerCase(),null,!0,!0)});function ik(e,t,r,s){var a=Bs.hasOwnProperty(t)?Bs[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xee(t,r,a,s)&&(r=null),s||a===null?hee(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var qc=fee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xy=Symbol.for("react.element"),_m=Symbol.for("react.portal"),Sm=Symbol.for("react.fragment"),ok=Symbol.for("react.strict_mode"),nC=Symbol.for("react.profiler"),r8=Symbol.for("react.provider"),n8=Symbol.for("react.context"),lk=Symbol.for("react.forward_ref"),sC=Symbol.for("react.suspense"),aC=Symbol.for("react.suspense_list"),ck=Symbol.for("react.memo"),ld=Symbol.for("react.lazy"),s8=Symbol.for("react.offscreen"),W3=Symbol.iterator;function ix(e){return e===null||typeof e!="object"?null:(e=W3&&e[W3]||e["@@iterator"],typeof e=="function"?e:null)}var gn=Object.assign,Y2;function $x(e){if(Y2===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Y2=t&&t[1]||""}return`
`+Y2+e}var X2=!1;function Q2(e,t){if(!e||X2)return"";X2=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{X2=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?$x(e):""}function gee(e){switch(e.tag){case 5:return $x(e.type);case 16:return $x("Lazy");case 13:return $x("Suspense");case 19:return $x("SuspenseList");case 0:case 2:case 15:return e=Q2(e.type,!1),e;case 11:return e=Q2(e.type.render,!1),e;case 1:return e=Q2(e.type,!0),e;default:return""}}function iC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sm:return"Fragment";case _m:return"Portal";case nC:return"Profiler";case ok:return"StrictMode";case sC:return"Suspense";case aC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case n8:return(e.displayName||"Context")+".Consumer";case r8:return(e._context.displayName||"Context")+".Provider";case lk:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ck:return t=e.displayName||null,t!==null?t:iC(e.type)||"Memo";case ld:t=e._payload,e=e._init;try{return iC(e(t))}catch{}}return null}function vee(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return iC(t);case 8:return t===ok?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kd(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function a8(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yee(e){var t=a8(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gy(e){e._valueTracker||(e._valueTracker=yee(e))}function i8(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=a8(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Xj(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function oC(e,t){var r=t.checked;return gn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function H3(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Kd(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function o8(e,t){t=t.checked,t!=null&&ik(e,"checked",t,!1)}function lC(e,t){o8(e,t);var r=Kd(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cC(e,t.type,r):t.hasOwnProperty("defaultValue")&&cC(e,t.type,Kd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function q3(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function cC(e,t,r){(t!=="number"||Xj(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Lx=Array.isArray;function Um(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Kd(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function dC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ke(91));return gn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function G3(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ke(92));if(Lx(r)){if(1<r.length)throw Error(Ke(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Kd(r)}}function l8(e,t){var r=Kd(t.value),s=Kd(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function K3(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function c8(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?c8(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vy,d8=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vy=vy||document.createElement("div"),vy.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vy.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Xx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jee=["Webkit","ms","Moz","O"];Object.keys(Xx).forEach(function(e){jee.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xx[t]=Xx[e]})});function u8(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Xx.hasOwnProperty(e)&&Xx[e]?(""+t).trim():t+"px"}function f8(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=u8(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var bee=gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fC(e,t){if(t){if(bee[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ke(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ke(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ke(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ke(62))}}function mC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hC=null;function dk(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pC=null,Vm=null,zm=null;function Y3(e){if(e=mv(e)){if(typeof pC!="function")throw Error(Ke(280));var t=e.stateNode;t&&(t=Mw(t),pC(e.stateNode,e.type,t))}}function m8(e){Vm?zm?zm.push(e):zm=[e]:Vm=e}function h8(){if(Vm){var e=Vm,t=zm;if(zm=Vm=null,Y3(e),t)for(e=0;e<t.length;e++)Y3(t[e])}}function p8(e,t){return e(t)}function x8(){}var Z2=!1;function g8(e,t,r){if(Z2)return e(t,r);Z2=!0;try{return p8(e,t,r)}finally{Z2=!1,(Vm!==null||zm!==null)&&(x8(),h8())}}function Tg(e,t){var r=e.stateNode;if(r===null)return null;var s=Mw(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ke(231,t,typeof r));return r}var xC=!1;if(kc)try{var ox={};Object.defineProperty(ox,"passive",{get:function(){xC=!0}}),window.addEventListener("test",ox,ox),window.removeEventListener("test",ox,ox)}catch{xC=!1}function wee(e,t,r,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Qx=!1,Qj=null,Zj=!1,gC=null,Nee={onError:function(e){Qx=!0,Qj=e}};function _ee(e,t,r,s,a,i,o,l,c){Qx=!1,Qj=null,wee.apply(Nee,arguments)}function See(e,t,r,s,a,i,o,l,c){if(_ee.apply(this,arguments),Qx){if(Qx){var d=Qj;Qx=!1,Qj=null}else throw Error(Ke(198));Zj||(Zj=!0,gC=d)}}function Vf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function v8(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function X3(e){if(Vf(e)!==e)throw Error(Ke(188))}function Cee(e){var t=e.alternate;if(!t){if(t=Vf(e),t===null)throw Error(Ke(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return X3(a),e;if(i===s)return X3(a),t;i=i.sibling}throw Error(Ke(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o)throw Error(Ke(189))}}if(r.alternate!==s)throw Error(Ke(190))}if(r.tag!==3)throw Error(Ke(188));return r.stateNode.current===r?e:t}function y8(e){return e=Cee(e),e!==null?j8(e):null}function j8(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=j8(e);if(t!==null)return t;e=e.sibling}return null}var b8=Ai.unstable_scheduleCallback,Q3=Ai.unstable_cancelCallback,Eee=Ai.unstable_shouldYield,Aee=Ai.unstable_requestPaint,In=Ai.unstable_now,kee=Ai.unstable_getCurrentPriorityLevel,uk=Ai.unstable_ImmediatePriority,w8=Ai.unstable_UserBlockingPriority,Jj=Ai.unstable_NormalPriority,Pee=Ai.unstable_LowPriority,N8=Ai.unstable_IdlePriority,Ow=null,Tl=null;function Tee(e){if(Tl&&typeof Tl.onCommitFiberRoot=="function")try{Tl.onCommitFiberRoot(Ow,e,void 0,(e.current.flags&128)===128)}catch{}}var Wo=Math.clz32?Math.clz32:Iee,Oee=Math.log,Dee=Math.LN2;function Iee(e){return e>>>=0,e===0?32:31-(Oee(e)/Dee|0)|0}var yy=64,jy=4194304;function Bx(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function eb(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?s=Bx(l):(i&=o,i!==0&&(s=Bx(i)))}else o=r&~a,o!==0?s=Bx(o):i!==0&&(s=Bx(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Wo(t),a=1<<r,s|=e[r],t&=~a;return s}function Ree(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mee(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Wo(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&s)&&(a[o]=Ree(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function vC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _8(){var e=yy;return yy<<=1,!(yy&4194240)&&(yy=64),e}function J2(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function uv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wo(t),e[t]=r}function Fee(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Wo(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function fk(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Wo(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var Dr=0;function S8(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var C8,mk,E8,A8,k8,yC=!1,by=[],Id=null,Rd=null,Md=null,Og=new Map,Dg=new Map,fd=[],$ee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Z3(e,t){switch(e){case"focusin":case"focusout":Id=null;break;case"dragenter":case"dragleave":Rd=null;break;case"mouseover":case"mouseout":Md=null;break;case"pointerover":case"pointerout":Og.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dg.delete(t.pointerId)}}function lx(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=mv(t),t!==null&&mk(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Lee(e,t,r,s,a){switch(t){case"focusin":return Id=lx(Id,e,t,r,s,a),!0;case"dragenter":return Rd=lx(Rd,e,t,r,s,a),!0;case"mouseover":return Md=lx(Md,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return Og.set(i,lx(Og.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,Dg.set(i,lx(Dg.get(i)||null,e,t,r,s,a)),!0}return!1}function P8(e){var t=Bu(e.target);if(t!==null){var r=Vf(t);if(r!==null){if(t=r.tag,t===13){if(t=v8(r),t!==null){e.blockedOn=t,k8(e.priority,function(){E8(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cj(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=jC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);hC=s,r.target.dispatchEvent(s),hC=null}else return t=mv(r),t!==null&&mk(t),e.blockedOn=r,!1;t.shift()}return!0}function J3(e,t,r){Cj(e)&&r.delete(t)}function Bee(){yC=!1,Id!==null&&Cj(Id)&&(Id=null),Rd!==null&&Cj(Rd)&&(Rd=null),Md!==null&&Cj(Md)&&(Md=null),Og.forEach(J3),Dg.forEach(J3)}function cx(e,t){e.blockedOn===t&&(e.blockedOn=null,yC||(yC=!0,Ai.unstable_scheduleCallback(Ai.unstable_NormalPriority,Bee)))}function Ig(e){function t(a){return cx(a,e)}if(0<by.length){cx(by[0],e);for(var r=1;r<by.length;r++){var s=by[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Id!==null&&cx(Id,e),Rd!==null&&cx(Rd,e),Md!==null&&cx(Md,e),Og.forEach(t),Dg.forEach(t),r=0;r<fd.length;r++)s=fd[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<fd.length&&(r=fd[0],r.blockedOn===null);)P8(r),r.blockedOn===null&&fd.shift()}var Wm=qc.ReactCurrentBatchConfig,tb=!0;function Uee(e,t,r,s){var a=Dr,i=Wm.transition;Wm.transition=null;try{Dr=1,hk(e,t,r,s)}finally{Dr=a,Wm.transition=i}}function Vee(e,t,r,s){var a=Dr,i=Wm.transition;Wm.transition=null;try{Dr=4,hk(e,t,r,s)}finally{Dr=a,Wm.transition=i}}function hk(e,t,r,s){if(tb){var a=jC(e,t,r,s);if(a===null)c_(e,t,s,rb,r),Z3(e,s);else if(Lee(a,e,t,r,s))s.stopPropagation();else if(Z3(e,s),t&4&&-1<$ee.indexOf(e)){for(;a!==null;){var i=mv(a);if(i!==null&&C8(i),i=jC(e,t,r,s),i===null&&c_(e,t,s,rb,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else c_(e,t,s,null,r)}}var rb=null;function jC(e,t,r,s){if(rb=null,e=dk(s),e=Bu(e),e!==null)if(t=Vf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=v8(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rb=e,null}function T8(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kee()){case uk:return 1;case w8:return 4;case Jj:case Pee:return 16;case N8:return 536870912;default:return 16}default:return 16}}var Sd=null,pk=null,Ej=null;function O8(){if(Ej)return Ej;var e,t=pk,r=t.length,s,a="value"in Sd?Sd.value:Sd.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[i-s];s++);return Ej=a.slice(e,1<s?1-s:void 0)}function Aj(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wy(){return!0}function eD(){return!1}function Ri(e){function t(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?wy:eD,this.isPropagationStopped=eD,this}return gn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=wy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=wy)},persist:function(){},isPersistent:wy}),t}var gp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xk=Ri(gp),fv=gn({},gp,{view:0,detail:0}),zee=Ri(fv),e_,t_,dx,Dw=gn({},fv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gk,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dx&&(dx&&e.type==="mousemove"?(e_=e.screenX-dx.screenX,t_=e.screenY-dx.screenY):t_=e_=0,dx=e),e_)},movementY:function(e){return"movementY"in e?e.movementY:t_}}),tD=Ri(Dw),Wee=gn({},Dw,{dataTransfer:0}),Hee=Ri(Wee),qee=gn({},fv,{relatedTarget:0}),r_=Ri(qee),Gee=gn({},gp,{animationName:0,elapsedTime:0,pseudoElement:0}),Kee=Ri(Gee),Yee=gn({},gp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xee=Ri(Yee),Qee=gn({},gp,{data:0}),rD=Ri(Qee),Zee={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jee={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ete={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tte(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ete[e])?!!t[e]:!1}function gk(){return tte}var rte=gn({},fv,{key:function(e){if(e.key){var t=Zee[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Aj(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jee[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gk,charCode:function(e){return e.type==="keypress"?Aj(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Aj(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nte=Ri(rte),ste=gn({},Dw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nD=Ri(ste),ate=gn({},fv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gk}),ite=Ri(ate),ote=gn({},gp,{propertyName:0,elapsedTime:0,pseudoElement:0}),lte=Ri(ote),cte=gn({},Dw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dte=Ri(cte),ute=[9,13,27,32],vk=kc&&"CompositionEvent"in window,Zx=null;kc&&"documentMode"in document&&(Zx=document.documentMode);var fte=kc&&"TextEvent"in window&&!Zx,D8=kc&&(!vk||Zx&&8<Zx&&11>=Zx),sD=" ",aD=!1;function I8(e,t){switch(e){case"keyup":return ute.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function R8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cm=!1;function mte(e,t){switch(e){case"compositionend":return R8(t);case"keypress":return t.which!==32?null:(aD=!0,sD);case"textInput":return e=t.data,e===sD&&aD?null:e;default:return null}}function hte(e,t){if(Cm)return e==="compositionend"||!vk&&I8(e,t)?(e=O8(),Ej=pk=Sd=null,Cm=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return D8&&t.locale!=="ko"?null:t.data;default:return null}}var pte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pte[e.type]:t==="textarea"}function M8(e,t,r,s){m8(s),t=nb(t,"onChange"),0<t.length&&(r=new xk("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Jx=null,Rg=null;function xte(e){G8(e,0)}function Iw(e){var t=km(e);if(i8(t))return e}function gte(e,t){if(e==="change")return t}var F8=!1;if(kc){var n_;if(kc){var s_="oninput"in document;if(!s_){var oD=document.createElement("div");oD.setAttribute("oninput","return;"),s_=typeof oD.oninput=="function"}n_=s_}else n_=!1;F8=n_&&(!document.documentMode||9<document.documentMode)}function lD(){Jx&&(Jx.detachEvent("onpropertychange",$8),Rg=Jx=null)}function $8(e){if(e.propertyName==="value"&&Iw(Rg)){var t=[];M8(t,Rg,e,dk(e)),g8(xte,t)}}function vte(e,t,r){e==="focusin"?(lD(),Jx=t,Rg=r,Jx.attachEvent("onpropertychange",$8)):e==="focusout"&&lD()}function yte(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Iw(Rg)}function jte(e,t){if(e==="click")return Iw(t)}function bte(e,t){if(e==="input"||e==="change")return Iw(t)}function wte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xo=typeof Object.is=="function"?Object.is:wte;function Mg(e,t){if(Xo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!rC.call(t,a)||!Xo(e[a],t[a]))return!1}return!0}function cD(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dD(e,t){var r=cD(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cD(r)}}function L8(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?L8(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function B8(){for(var e=window,t=Xj();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Xj(e.document)}return t}function yk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Nte(e){var t=B8(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&L8(r.ownerDocument.documentElement,r)){if(s!==null&&yk(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=dD(r,i);var o=dD(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _te=kc&&"documentMode"in document&&11>=document.documentMode,Em=null,bC=null,eg=null,wC=!1;function uD(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wC||Em==null||Em!==Xj(s)||(s=Em,"selectionStart"in s&&yk(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),eg&&Mg(eg,s)||(eg=s,s=nb(bC,"onSelect"),0<s.length&&(t=new xk("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Em)))}function Ny(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Am={animationend:Ny("Animation","AnimationEnd"),animationiteration:Ny("Animation","AnimationIteration"),animationstart:Ny("Animation","AnimationStart"),transitionend:Ny("Transition","TransitionEnd")},a_={},U8={};kc&&(U8=document.createElement("div").style,"AnimationEvent"in window||(delete Am.animationend.animation,delete Am.animationiteration.animation,delete Am.animationstart.animation),"TransitionEvent"in window||delete Am.transitionend.transition);function Rw(e){if(a_[e])return a_[e];if(!Am[e])return e;var t=Am[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in U8)return a_[e]=t[r];return e}var V8=Rw("animationend"),z8=Rw("animationiteration"),W8=Rw("animationstart"),H8=Rw("transitionend"),q8=new Map,fD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lu(e,t){q8.set(e,t),Uf(t,[e])}for(var i_=0;i_<fD.length;i_++){var o_=fD[i_],Ste=o_.toLowerCase(),Cte=o_[0].toUpperCase()+o_.slice(1);lu(Ste,"on"+Cte)}lu(V8,"onAnimationEnd");lu(z8,"onAnimationIteration");lu(W8,"onAnimationStart");lu("dblclick","onDoubleClick");lu("focusin","onFocus");lu("focusout","onBlur");lu(H8,"onTransitionEnd");wh("onMouseEnter",["mouseout","mouseover"]);wh("onMouseLeave",["mouseout","mouseover"]);wh("onPointerEnter",["pointerout","pointerover"]);wh("onPointerLeave",["pointerout","pointerover"]);Uf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ux="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ete=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ux));function mD(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,See(s,t,void 0,e),e.currentTarget=null}function G8(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;mD(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;mD(a,l,d),i=c}}}if(Zj)throw e=gC,Zj=!1,gC=null,e}function Kr(e,t){var r=t[EC];r===void 0&&(r=t[EC]=new Set);var s=e+"__bubble";r.has(s)||(K8(t,e,2,!1),r.add(s))}function l_(e,t,r){var s=0;t&&(s|=4),K8(r,e,s,t)}var _y="_reactListening"+Math.random().toString(36).slice(2);function Fg(e){if(!e[_y]){e[_y]=!0,t8.forEach(function(r){r!=="selectionchange"&&(Ete.has(r)||l_(r,!1,e),l_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_y]||(t[_y]=!0,l_("selectionchange",!1,t))}}function K8(e,t,r,s){switch(T8(t)){case 1:var a=Uee;break;case 4:a=Vee;break;default:a=hk}r=a.bind(null,t,r,e),a=void 0,!xC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function c_(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Bu(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}g8(function(){var d=i,u=dk(r),f=[];e:{var m=q8.get(e);if(m!==void 0){var h=xk,x=e;switch(e){case"keypress":if(Aj(r)===0)break e;case"keydown":case"keyup":h=nte;break;case"focusin":x="focus",h=r_;break;case"focusout":x="blur",h=r_;break;case"beforeblur":case"afterblur":h=r_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=tD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Hee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=ite;break;case V8:case z8:case W8:h=Kee;break;case H8:h=lte;break;case"scroll":h=zee;break;case"wheel":h=dte;break;case"copy":case"cut":case"paste":h=Xee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=nD}var p=(t&4)!==0,g=!p&&e==="scroll",j=p?m!==null?m+"Capture":null:m;p=[];for(var y=d,w;y!==null;){w=y;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,j!==null&&(b=Tg(y,j),b!=null&&p.push($g(y,b,w)))),g)break;y=y.return}0<p.length&&(m=new h(m,x,null,r,u),f.push({event:m,listeners:p}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&r!==hC&&(x=r.relatedTarget||r.fromElement)&&(Bu(x)||x[Pc]))break e;if((h||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,h?(x=r.relatedTarget||r.toElement,h=d,x=x?Bu(x):null,x!==null&&(g=Vf(x),x!==g||x.tag!==5&&x.tag!==6)&&(x=null)):(h=null,x=d),h!==x)){if(p=tD,b="onMouseLeave",j="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=nD,b="onPointerLeave",j="onPointerEnter",y="pointer"),g=h==null?m:km(h),w=x==null?m:km(x),m=new p(b,y+"leave",h,r,u),m.target=g,m.relatedTarget=w,b=null,Bu(u)===d&&(p=new p(j,y+"enter",x,r,u),p.target=w,p.relatedTarget=g,b=p),g=b,h&&x)t:{for(p=h,j=x,y=0,w=p;w;w=am(w))y++;for(w=0,b=j;b;b=am(b))w++;for(;0<y-w;)p=am(p),y--;for(;0<w-y;)j=am(j),w--;for(;y--;){if(p===j||j!==null&&p===j.alternate)break t;p=am(p),j=am(j)}p=null}else p=null;h!==null&&hD(f,m,h,p,!1),x!==null&&g!==null&&hD(f,g,x,p,!0)}}e:{if(m=d?km(d):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var N=gte;else if(iD(m))if(F8)N=bte;else{N=yte;var S=vte}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=jte);if(N&&(N=N(e,d))){M8(f,N,r,u);break e}S&&S(e,m,d),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&cC(m,"number",m.value)}switch(S=d?km(d):window,e){case"focusin":(iD(S)||S.contentEditable==="true")&&(Em=S,bC=d,eg=null);break;case"focusout":eg=bC=Em=null;break;case"mousedown":wC=!0;break;case"contextmenu":case"mouseup":case"dragend":wC=!1,uD(f,r,u);break;case"selectionchange":if(_te)break;case"keydown":case"keyup":uD(f,r,u)}var E;if(vk)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Cm?I8(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(D8&&r.locale!=="ko"&&(Cm||C!=="onCompositionStart"?C==="onCompositionEnd"&&Cm&&(E=O8()):(Sd=u,pk="value"in Sd?Sd.value:Sd.textContent,Cm=!0)),S=nb(d,C),0<S.length&&(C=new rD(C,e,null,r,u),f.push({event:C,listeners:S}),E?C.data=E:(E=R8(r),E!==null&&(C.data=E)))),(E=fte?mte(e,r):hte(e,r))&&(d=nb(d,"onBeforeInput"),0<d.length&&(u=new rD("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=E))}G8(f,t)})}function $g(e,t,r){return{instance:e,listener:t,currentTarget:r}}function nb(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Tg(e,r),i!=null&&s.unshift($g(e,i,a)),i=Tg(e,t),i!=null&&s.push($g(e,i,a))),e=e.return}return s}function am(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hD(e,t,r,s,a){for(var i=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=Tg(r,i),c!=null&&o.unshift($g(r,c,l))):a||(c=Tg(r,i),c!=null&&o.push($g(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Ate=/\r\n?/g,kte=/\u0000|\uFFFD/g;function pD(e){return(typeof e=="string"?e:""+e).replace(Ate,`
`).replace(kte,"")}function Sy(e,t,r){if(t=pD(t),pD(e)!==t&&r)throw Error(Ke(425))}function sb(){}var NC=null,_C=null;function SC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var CC=typeof setTimeout=="function"?setTimeout:void 0,Pte=typeof clearTimeout=="function"?clearTimeout:void 0,xD=typeof Promise=="function"?Promise:void 0,Tte=typeof queueMicrotask=="function"?queueMicrotask:typeof xD<"u"?function(e){return xD.resolve(null).then(e).catch(Ote)}:CC;function Ote(e){setTimeout(function(){throw e})}function d_(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),Ig(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);Ig(t)}function Fd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gD(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var vp=Math.random().toString(36).slice(2),Cl="__reactFiber$"+vp,Lg="__reactProps$"+vp,Pc="__reactContainer$"+vp,EC="__reactEvents$"+vp,Dte="__reactListeners$"+vp,Ite="__reactHandles$"+vp;function Bu(e){var t=e[Cl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Pc]||r[Cl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gD(e);e!==null;){if(r=e[Cl])return r;e=gD(e)}return t}e=r,r=e.parentNode}return null}function mv(e){return e=e[Cl]||e[Pc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function km(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ke(33))}function Mw(e){return e[Lg]||null}var AC=[],Pm=-1;function cu(e){return{current:e}}function Jr(e){0>Pm||(e.current=AC[Pm],AC[Pm]=null,Pm--)}function zr(e,t){Pm++,AC[Pm]=e.current,e.current=t}var Yd={},sa=cu(Yd),Va=cu(!1),hf=Yd;function Nh(e,t){var r=e.type.contextTypes;if(!r)return Yd;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function za(e){return e=e.childContextTypes,e!=null}function ab(){Jr(Va),Jr(sa)}function vD(e,t,r){if(sa.current!==Yd)throw Error(Ke(168));zr(sa,t),zr(Va,r)}function Y8(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(Ke(108,vee(e)||"Unknown",a));return gn({},r,s)}function ib(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yd,hf=sa.current,zr(sa,e),zr(Va,Va.current),!0}function yD(e,t,r){var s=e.stateNode;if(!s)throw Error(Ke(169));r?(e=Y8(e,t,hf),s.__reactInternalMemoizedMergedChildContext=e,Jr(Va),Jr(sa),zr(sa,e)):Jr(Va),zr(Va,r)}var cc=null,Fw=!1,u_=!1;function X8(e){cc===null?cc=[e]:cc.push(e)}function Rte(e){Fw=!0,X8(e)}function du(){if(!u_&&cc!==null){u_=!0;var e=0,t=Dr;try{var r=cc;for(Dr=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}cc=null,Fw=!1}catch(a){throw cc!==null&&(cc=cc.slice(e+1)),b8(uk,du),a}finally{Dr=t,u_=!1}}return null}var Tm=[],Om=0,ob=null,lb=0,Xi=[],Qi=0,pf=null,mc=1,hc="";function Au(e,t){Tm[Om++]=lb,Tm[Om++]=ob,ob=e,lb=t}function Q8(e,t,r){Xi[Qi++]=mc,Xi[Qi++]=hc,Xi[Qi++]=pf,pf=e;var s=mc;e=hc;var a=32-Wo(s)-1;s&=~(1<<a),r+=1;var i=32-Wo(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,mc=1<<32-Wo(t)+a|r<<a|s,hc=i+e}else mc=1<<i|r<<a|s,hc=e}function jk(e){e.return!==null&&(Au(e,1),Q8(e,1,0))}function bk(e){for(;e===ob;)ob=Tm[--Om],Tm[Om]=null,lb=Tm[--Om],Tm[Om]=null;for(;e===pf;)pf=Xi[--Qi],Xi[Qi]=null,hc=Xi[--Qi],Xi[Qi]=null,mc=Xi[--Qi],Xi[Qi]=null}var bi=null,yi=null,sn=!1,Ro=null;function Z8(e,t){var r=Ji(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function jD(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bi=e,yi=Fd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bi=e,yi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=pf!==null?{id:mc,overflow:hc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ji(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,bi=e,yi=null,!0):!1;default:return!1}}function kC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function PC(e){if(sn){var t=yi;if(t){var r=t;if(!jD(e,t)){if(kC(e))throw Error(Ke(418));t=Fd(r.nextSibling);var s=bi;t&&jD(e,t)?Z8(s,r):(e.flags=e.flags&-4097|2,sn=!1,bi=e)}}else{if(kC(e))throw Error(Ke(418));e.flags=e.flags&-4097|2,sn=!1,bi=e}}}function bD(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bi=e}function Cy(e){if(e!==bi)return!1;if(!sn)return bD(e),sn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!SC(e.type,e.memoizedProps)),t&&(t=yi)){if(kC(e))throw J8(),Error(Ke(418));for(;t;)Z8(e,t),t=Fd(t.nextSibling)}if(bD(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ke(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yi=Fd(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yi=null}}else yi=bi?Fd(e.stateNode.nextSibling):null;return!0}function J8(){for(var e=yi;e;)e=Fd(e.nextSibling)}function _h(){yi=bi=null,sn=!1}function wk(e){Ro===null?Ro=[e]:Ro.push(e)}var Mte=qc.ReactCurrentBatchConfig;function ux(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ke(309));var s=r.stateNode}if(!s)throw Error(Ke(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ke(284));if(!r._owner)throw Error(Ke(290,e))}return e}function Ey(e,t){throw e=Object.prototype.toString.call(t),Error(Ke(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wD(e){var t=e._init;return t(e._payload)}function eB(e){function t(j,y){if(e){var w=j.deletions;w===null?(j.deletions=[y],j.flags|=16):w.push(y)}}function r(j,y){if(!e)return null;for(;y!==null;)t(j,y),y=y.sibling;return null}function s(j,y){for(j=new Map;y!==null;)y.key!==null?j.set(y.key,y):j.set(y.index,y),y=y.sibling;return j}function a(j,y){return j=Ud(j,y),j.index=0,j.sibling=null,j}function i(j,y,w){return j.index=w,e?(w=j.alternate,w!==null?(w=w.index,w<y?(j.flags|=2,y):w):(j.flags|=2,y)):(j.flags|=1048576,y)}function o(j){return e&&j.alternate===null&&(j.flags|=2),j}function l(j,y,w,b){return y===null||y.tag!==6?(y=v_(w,j.mode,b),y.return=j,y):(y=a(y,w),y.return=j,y)}function c(j,y,w,b){var N=w.type;return N===Sm?u(j,y,w.props.children,b,w.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ld&&wD(N)===y.type)?(b=a(y,w.props),b.ref=ux(j,y,w),b.return=j,b):(b=Rj(w.type,w.key,w.props,null,j.mode,b),b.ref=ux(j,y,w),b.return=j,b)}function d(j,y,w,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=y_(w,j.mode,b),y.return=j,y):(y=a(y,w.children||[]),y.return=j,y)}function u(j,y,w,b,N){return y===null||y.tag!==7?(y=of(w,j.mode,b,N),y.return=j,y):(y=a(y,w),y.return=j,y)}function f(j,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=v_(""+y,j.mode,w),y.return=j,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case xy:return w=Rj(y.type,y.key,y.props,null,j.mode,w),w.ref=ux(j,null,y),w.return=j,w;case _m:return y=y_(y,j.mode,w),y.return=j,y;case ld:var b=y._init;return f(j,b(y._payload),w)}if(Lx(y)||ix(y))return y=of(y,j.mode,w,null),y.return=j,y;Ey(j,y)}return null}function m(j,y,w,b){var N=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(j,y,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xy:return w.key===N?c(j,y,w,b):null;case _m:return w.key===N?d(j,y,w,b):null;case ld:return N=w._init,m(j,y,N(w._payload),b)}if(Lx(w)||ix(w))return N!==null?null:u(j,y,w,b,null);Ey(j,w)}return null}function h(j,y,w,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return j=j.get(w)||null,l(y,j,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case xy:return j=j.get(b.key===null?w:b.key)||null,c(y,j,b,N);case _m:return j=j.get(b.key===null?w:b.key)||null,d(y,j,b,N);case ld:var S=b._init;return h(j,y,w,S(b._payload),N)}if(Lx(b)||ix(b))return j=j.get(w)||null,u(y,j,b,N,null);Ey(y,b)}return null}function x(j,y,w,b){for(var N=null,S=null,E=y,C=y=0,A=null;E!==null&&C<w.length;C++){E.index>C?(A=E,E=null):A=E.sibling;var P=m(j,E,w[C],b);if(P===null){E===null&&(E=A);break}e&&E&&P.alternate===null&&t(j,E),y=i(P,y,C),S===null?N=P:S.sibling=P,S=P,E=A}if(C===w.length)return r(j,E),sn&&Au(j,C),N;if(E===null){for(;C<w.length;C++)E=f(j,w[C],b),E!==null&&(y=i(E,y,C),S===null?N=E:S.sibling=E,S=E);return sn&&Au(j,C),N}for(E=s(j,E);C<w.length;C++)A=h(E,j,C,w[C],b),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?C:A.key),y=i(A,y,C),S===null?N=A:S.sibling=A,S=A);return e&&E.forEach(function(R){return t(j,R)}),sn&&Au(j,C),N}function p(j,y,w,b){var N=ix(w);if(typeof N!="function")throw Error(Ke(150));if(w=N.call(w),w==null)throw Error(Ke(151));for(var S=N=null,E=y,C=y=0,A=null,P=w.next();E!==null&&!P.done;C++,P=w.next()){E.index>C?(A=E,E=null):A=E.sibling;var R=m(j,E,P.value,b);if(R===null){E===null&&(E=A);break}e&&E&&R.alternate===null&&t(j,E),y=i(R,y,C),S===null?N=R:S.sibling=R,S=R,E=A}if(P.done)return r(j,E),sn&&Au(j,C),N;if(E===null){for(;!P.done;C++,P=w.next())P=f(j,P.value,b),P!==null&&(y=i(P,y,C),S===null?N=P:S.sibling=P,S=P);return sn&&Au(j,C),N}for(E=s(j,E);!P.done;C++,P=w.next())P=h(E,j,C,P.value,b),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?C:P.key),y=i(P,y,C),S===null?N=P:S.sibling=P,S=P);return e&&E.forEach(function(I){return t(j,I)}),sn&&Au(j,C),N}function g(j,y,w,b){if(typeof w=="object"&&w!==null&&w.type===Sm&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case xy:e:{for(var N=w.key,S=y;S!==null;){if(S.key===N){if(N=w.type,N===Sm){if(S.tag===7){r(j,S.sibling),y=a(S,w.props.children),y.return=j,j=y;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ld&&wD(N)===S.type){r(j,S.sibling),y=a(S,w.props),y.ref=ux(j,S,w),y.return=j,j=y;break e}r(j,S);break}else t(j,S);S=S.sibling}w.type===Sm?(y=of(w.props.children,j.mode,b,w.key),y.return=j,j=y):(b=Rj(w.type,w.key,w.props,null,j.mode,b),b.ref=ux(j,y,w),b.return=j,j=b)}return o(j);case _m:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(j,y.sibling),y=a(y,w.children||[]),y.return=j,j=y;break e}else{r(j,y);break}else t(j,y);y=y.sibling}y=y_(w,j.mode,b),y.return=j,j=y}return o(j);case ld:return S=w._init,g(j,y,S(w._payload),b)}if(Lx(w))return x(j,y,w,b);if(ix(w))return p(j,y,w,b);Ey(j,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(j,y.sibling),y=a(y,w),y.return=j,j=y):(r(j,y),y=v_(w,j.mode,b),y.return=j,j=y),o(j)):r(j,y)}return g}var Sh=eB(!0),tB=eB(!1),cb=cu(null),db=null,Dm=null,Nk=null;function _k(){Nk=Dm=db=null}function Sk(e){var t=cb.current;Jr(cb),e._currentValue=t}function TC(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Hm(e,t){db=e,Nk=Dm=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(La=!0),e.firstContext=null)}function lo(e){var t=e._currentValue;if(Nk!==e)if(e={context:e,memoizedValue:t,next:null},Dm===null){if(db===null)throw Error(Ke(308));Dm=e,db.dependencies={lanes:0,firstContext:e}}else Dm=Dm.next=e;return t}var Uu=null;function Ck(e){Uu===null?Uu=[e]:Uu.push(e)}function rB(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Ck(t)):(r.next=a.next,a.next=r),t.interleaved=r,Tc(e,s)}function Tc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var cd=!1;function Ek(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nB(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $d(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,pr&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Tc(e,r)}return a=s.interleaved,a===null?(t.next=t,Ck(s)):(t.next=a.next,a.next=t),s.interleaved=t,Tc(e,r)}function kj(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,fk(e,r)}}function ND(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ub(e,t,r,s){var a=e.updateQueue;cd=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,h=l.eventTime;if((s&m)===m){u!==null&&(u=u.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,p=l;switch(m=t,h=r,p.tag){case 1:if(x=p.payload,typeof x=="function"){f=x.call(h,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,m=typeof x=="function"?x.call(h,f,m):x,m==null)break e;f=gn({},f,m);break e;case 2:cd=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=h,c=f):u=u.next=h,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);gf|=o,e.lanes=o,e.memoizedState=f}}function _D(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(Ke(191,a));a.call(s)}}}var hv={},Ol=cu(hv),Bg=cu(hv),Ug=cu(hv);function Vu(e){if(e===hv)throw Error(Ke(174));return e}function Ak(e,t){switch(zr(Ug,t),zr(Bg,e),zr(Ol,hv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:uC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=uC(t,e)}Jr(Ol),zr(Ol,t)}function Ch(){Jr(Ol),Jr(Bg),Jr(Ug)}function sB(e){Vu(Ug.current);var t=Vu(Ol.current),r=uC(t,e.type);t!==r&&(zr(Bg,e),zr(Ol,r))}function kk(e){Bg.current===e&&(Jr(Ol),Jr(Bg))}var hn=cu(0);function fb(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var f_=[];function Pk(){for(var e=0;e<f_.length;e++)f_[e]._workInProgressVersionPrimary=null;f_.length=0}var Pj=qc.ReactCurrentDispatcher,m_=qc.ReactCurrentBatchConfig,xf=0,xn=null,Jn=null,us=null,mb=!1,tg=!1,Vg=0,Fte=0;function Hs(){throw Error(Ke(321))}function Tk(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Xo(e[r],t[r]))return!1;return!0}function Ok(e,t,r,s,a,i){if(xf=i,xn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pj.current=e===null||e.memoizedState===null?Ute:Vte,e=r(s,a),tg){i=0;do{if(tg=!1,Vg=0,25<=i)throw Error(Ke(301));i+=1,us=Jn=null,t.updateQueue=null,Pj.current=zte,e=r(s,a)}while(tg)}if(Pj.current=hb,t=Jn!==null&&Jn.next!==null,xf=0,us=Jn=xn=null,mb=!1,t)throw Error(Ke(300));return e}function Dk(){var e=Vg!==0;return Vg=0,e}function gl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return us===null?xn.memoizedState=us=e:us=us.next=e,us}function co(){if(Jn===null){var e=xn.alternate;e=e!==null?e.memoizedState:null}else e=Jn.next;var t=us===null?xn.memoizedState:us.next;if(t!==null)us=t,Jn=e;else{if(e===null)throw Error(Ke(310));Jn=e,e={memoizedState:Jn.memoizedState,baseState:Jn.baseState,baseQueue:Jn.baseQueue,queue:Jn.queue,next:null},us===null?xn.memoizedState=us=e:us=us.next=e}return us}function zg(e,t){return typeof t=="function"?t(e):t}function h_(e){var t=co(),r=t.queue;if(r===null)throw Error(Ke(311));r.lastRenderedReducer=e;var s=Jn,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((xf&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,xn.lanes|=u,gf|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,Xo(s,t.memoizedState)||(La=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,xn.lanes|=i,gf|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function p_(e){var t=co(),r=t.queue;if(r===null)throw Error(Ke(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Xo(i,t.memoizedState)||(La=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function aB(){}function iB(e,t){var r=xn,s=co(),a=t(),i=!Xo(s.memoizedState,a);if(i&&(s.memoizedState=a,La=!0),s=s.queue,Ik(cB.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||us!==null&&us.memoizedState.tag&1){if(r.flags|=2048,Wg(9,lB.bind(null,r,s,a,t),void 0,null),gs===null)throw Error(Ke(349));xf&30||oB(r,t,a)}return a}function oB(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=xn.updateQueue,t===null?(t={lastEffect:null,stores:null},xn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function lB(e,t,r,s){t.value=r,t.getSnapshot=s,dB(t)&&uB(e)}function cB(e,t,r){return r(function(){dB(t)&&uB(e)})}function dB(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Xo(e,r)}catch{return!0}}function uB(e){var t=Tc(e,1);t!==null&&Ho(t,e,1,-1)}function SD(e){var t=gl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zg,lastRenderedState:e},t.queue=e,e=e.dispatch=Bte.bind(null,xn,e),[t.memoizedState,e]}function Wg(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=xn.updateQueue,t===null?(t={lastEffect:null,stores:null},xn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function fB(){return co().memoizedState}function Tj(e,t,r,s){var a=gl();xn.flags|=e,a.memoizedState=Wg(1|t,r,void 0,s===void 0?null:s)}function $w(e,t,r,s){var a=co();s=s===void 0?null:s;var i=void 0;if(Jn!==null){var o=Jn.memoizedState;if(i=o.destroy,s!==null&&Tk(s,o.deps)){a.memoizedState=Wg(t,r,i,s);return}}xn.flags|=e,a.memoizedState=Wg(1|t,r,i,s)}function CD(e,t){return Tj(8390656,8,e,t)}function Ik(e,t){return $w(2048,8,e,t)}function mB(e,t){return $w(4,2,e,t)}function hB(e,t){return $w(4,4,e,t)}function pB(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xB(e,t,r){return r=r!=null?r.concat([e]):null,$w(4,4,pB.bind(null,t,e),r)}function Rk(){}function gB(e,t){var r=co();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Tk(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function vB(e,t){var r=co();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Tk(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function yB(e,t,r){return xf&21?(Xo(r,t)||(r=_8(),xn.lanes|=r,gf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,La=!0),e.memoizedState=r)}function $te(e,t){var r=Dr;Dr=r!==0&&4>r?r:4,e(!0);var s=m_.transition;m_.transition={};try{e(!1),t()}finally{Dr=r,m_.transition=s}}function jB(){return co().memoizedState}function Lte(e,t,r){var s=Bd(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},bB(e))wB(t,r);else if(r=rB(e,t,r,s),r!==null){var a=wa();Ho(r,e,s,a),NB(r,t,s)}}function Bte(e,t,r){var s=Bd(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(bB(e))wB(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Xo(l,o)){var c=t.interleaved;c===null?(a.next=a,Ck(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=rB(e,t,a,s),r!==null&&(a=wa(),Ho(r,e,s,a),NB(r,t,s))}}function bB(e){var t=e.alternate;return e===xn||t!==null&&t===xn}function wB(e,t){tg=mb=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function NB(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,fk(e,r)}}var hb={readContext:lo,useCallback:Hs,useContext:Hs,useEffect:Hs,useImperativeHandle:Hs,useInsertionEffect:Hs,useLayoutEffect:Hs,useMemo:Hs,useReducer:Hs,useRef:Hs,useState:Hs,useDebugValue:Hs,useDeferredValue:Hs,useTransition:Hs,useMutableSource:Hs,useSyncExternalStore:Hs,useId:Hs,unstable_isNewReconciler:!1},Ute={readContext:lo,useCallback:function(e,t){return gl().memoizedState=[e,t===void 0?null:t],e},useContext:lo,useEffect:CD,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Tj(4194308,4,pB.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Tj(4194308,4,e,t)},useInsertionEffect:function(e,t){return Tj(4,2,e,t)},useMemo:function(e,t){var r=gl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=gl();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Lte.bind(null,xn,e),[s.memoizedState,e]},useRef:function(e){var t=gl();return e={current:e},t.memoizedState=e},useState:SD,useDebugValue:Rk,useDeferredValue:function(e){return gl().memoizedState=e},useTransition:function(){var e=SD(!1),t=e[0];return e=$te.bind(null,e[1]),gl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=xn,a=gl();if(sn){if(r===void 0)throw Error(Ke(407));r=r()}else{if(r=t(),gs===null)throw Error(Ke(349));xf&30||oB(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,CD(cB.bind(null,s,i,e),[e]),s.flags|=2048,Wg(9,lB.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=gl(),t=gs.identifierPrefix;if(sn){var r=hc,s=mc;r=(s&~(1<<32-Wo(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Vg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Fte++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vte={readContext:lo,useCallback:gB,useContext:lo,useEffect:Ik,useImperativeHandle:xB,useInsertionEffect:mB,useLayoutEffect:hB,useMemo:vB,useReducer:h_,useRef:fB,useState:function(){return h_(zg)},useDebugValue:Rk,useDeferredValue:function(e){var t=co();return yB(t,Jn.memoizedState,e)},useTransition:function(){var e=h_(zg)[0],t=co().memoizedState;return[e,t]},useMutableSource:aB,useSyncExternalStore:iB,useId:jB,unstable_isNewReconciler:!1},zte={readContext:lo,useCallback:gB,useContext:lo,useEffect:Ik,useImperativeHandle:xB,useInsertionEffect:mB,useLayoutEffect:hB,useMemo:vB,useReducer:p_,useRef:fB,useState:function(){return p_(zg)},useDebugValue:Rk,useDeferredValue:function(e){var t=co();return Jn===null?t.memoizedState=e:yB(t,Jn.memoizedState,e)},useTransition:function(){var e=p_(zg)[0],t=co().memoizedState;return[e,t]},useMutableSource:aB,useSyncExternalStore:iB,useId:jB,unstable_isNewReconciler:!1};function Po(e,t){if(e&&e.defaultProps){t=gn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function OC(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:gn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Lw={isMounted:function(e){return(e=e._reactInternals)?Vf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=wa(),a=Bd(e),i=jc(s,a);i.payload=t,r!=null&&(i.callback=r),t=$d(e,i,a),t!==null&&(Ho(t,e,a,s),kj(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=wa(),a=Bd(e),i=jc(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=$d(e,i,a),t!==null&&(Ho(t,e,a,s),kj(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=wa(),s=Bd(e),a=jc(r,s);a.tag=2,t!=null&&(a.callback=t),t=$d(e,a,s),t!==null&&(Ho(t,e,s,r),kj(t,e,s))}};function ED(e,t,r,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!Mg(r,s)||!Mg(a,i):!0}function _B(e,t,r){var s=!1,a=Yd,i=t.contextType;return typeof i=="object"&&i!==null?i=lo(i):(a=za(t)?hf:sa.current,s=t.contextTypes,i=(s=s!=null)?Nh(e,a):Yd),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Lw,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function AD(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Lw.enqueueReplaceState(t,t.state,null)}function DC(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ek(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=lo(i):(i=za(t)?hf:sa.current,a.context=Nh(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(OC(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Lw.enqueueReplaceState(a,a.state,null),ub(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Eh(e,t){try{var r="",s=t;do r+=gee(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function x_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function IC(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Wte=typeof WeakMap=="function"?WeakMap:Map;function SB(e,t,r){r=jc(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){xb||(xb=!0,WC=s),IC(e,t)},r}function CB(e,t,r){r=jc(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){IC(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){IC(e,t),typeof s!="function"&&(Ld===null?Ld=new Set([this]):Ld.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function kD(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Wte;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=sre.bind(null,e,t,r),t.then(e,e))}function PD(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function TD(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=jc(-1,1),t.tag=2,$d(r,t,1))),r.lanes|=1),e)}var Hte=qc.ReactCurrentOwner,La=!1;function ma(e,t,r,s){t.child=e===null?tB(t,null,r,s):Sh(t,e.child,r,s)}function OD(e,t,r,s,a){r=r.render;var i=t.ref;return Hm(t,a),s=Ok(e,t,r,s,i,a),r=Dk(),e!==null&&!La?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Oc(e,t,a)):(sn&&r&&jk(t),t.flags|=1,ma(e,t,s,a),t.child)}function DD(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!zk(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,EB(e,t,i,s,a)):(e=Rj(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Mg,r(o,s)&&e.ref===t.ref)return Oc(e,t,a)}return t.flags|=1,e=Ud(i,s),e.ref=t.ref,e.return=t,t.child=e}function EB(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(Mg(i,s)&&e.ref===t.ref)if(La=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(La=!0);else return t.lanes=e.lanes,Oc(e,t,a)}return RC(e,t,r,s,a)}function AB(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zr(Rm,fi),fi|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zr(Rm,fi),fi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,zr(Rm,fi),fi|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,zr(Rm,fi),fi|=s;return ma(e,t,a,r),t.child}function kB(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function RC(e,t,r,s,a){var i=za(r)?hf:sa.current;return i=Nh(t,i),Hm(t,a),r=Ok(e,t,r,s,i,a),s=Dk(),e!==null&&!La?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Oc(e,t,a)):(sn&&s&&jk(t),t.flags|=1,ma(e,t,r,a),t.child)}function ID(e,t,r,s,a){if(za(r)){var i=!0;ib(t)}else i=!1;if(Hm(t,a),t.stateNode===null)Oj(e,t),_B(t,r,s),DC(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=lo(d):(d=za(r)?hf:sa.current,d=Nh(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&AD(t,o,s,d),cd=!1;var m=t.memoizedState;o.state=m,ub(t,s,o,a),c=t.memoizedState,l!==s||m!==c||Va.current||cd?(typeof u=="function"&&(OC(t,r,u,s),c=t.memoizedState),(l=cd||ED(t,r,l,s,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,nB(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Po(t.type,l),o.props=d,f=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=lo(c):(c=za(r)?hf:sa.current,c=Nh(t,c));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&AD(t,o,s,c),cd=!1,m=t.memoizedState,o.state=m,ub(t,s,o,a);var x=t.memoizedState;l!==f||m!==x||Va.current||cd?(typeof h=="function"&&(OC(t,r,h,s),x=t.memoizedState),(d=cd||ED(t,r,d,s,m,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),o.props=s,o.state=x,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return MC(e,t,r,s,i,a)}function MC(e,t,r,s,a,i){kB(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&yD(t,r,!1),Oc(e,t,i);s=t.stateNode,Hte.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Sh(t,e.child,null,i),t.child=Sh(t,null,l,i)):ma(e,t,l,i),t.memoizedState=s.state,a&&yD(t,r,!0),t.child}function PB(e){var t=e.stateNode;t.pendingContext?vD(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vD(e,t.context,!1),Ak(e,t.containerInfo)}function RD(e,t,r,s,a){return _h(),wk(a),t.flags|=256,ma(e,t,r,s),t.child}var FC={dehydrated:null,treeContext:null,retryLane:0};function $C(e){return{baseLanes:e,cachePool:null,transitions:null}}function TB(e,t,r){var s=t.pendingProps,a=hn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),zr(hn,a&1),e===null)return PC(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Vw(o,s,0,null),e=of(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=$C(r),t.memoizedState=FC,e):Mk(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return qte(e,t,o,s,l,a,r);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Ud(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Ud(l,i):(i=of(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?$C(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=FC,s}return i=e.child,e=i.sibling,s=Ud(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Mk(e,t){return t=Vw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ay(e,t,r,s){return s!==null&&wk(s),Sh(t,e.child,null,r),e=Mk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qte(e,t,r,s,a,i,o){if(r)return t.flags&256?(t.flags&=-257,s=x_(Error(Ke(422))),Ay(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=Vw({mode:"visible",children:s.children},a,0,null),i=of(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Sh(t,e.child,null,o),t.child.memoizedState=$C(o),t.memoizedState=FC,i);if(!(t.mode&1))return Ay(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(Ke(419)),s=x_(i,s,void 0),Ay(e,t,o,s)}if(l=(o&e.childLanes)!==0,La||l){if(s=gs,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Tc(e,a),Ho(s,e,a,-1))}return Vk(),s=x_(Error(Ke(421))),Ay(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=are.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,yi=Fd(a.nextSibling),bi=t,sn=!0,Ro=null,e!==null&&(Xi[Qi++]=mc,Xi[Qi++]=hc,Xi[Qi++]=pf,mc=e.id,hc=e.overflow,pf=t),t=Mk(t,s.children),t.flags|=4096,t)}function MD(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),TC(e.return,t,r)}function g_(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function OB(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(ma(e,t,s.children,r),s=hn.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&MD(e,r,t);else if(e.tag===19)MD(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(zr(hn,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&fb(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),g_(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&fb(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}g_(t,!0,r,null,i);break;case"together":g_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Oj(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Oc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),gf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ke(153));if(t.child!==null){for(e=t.child,r=Ud(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ud(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Gte(e,t,r){switch(t.tag){case 3:PB(t),_h();break;case 5:sB(t);break;case 1:za(t.type)&&ib(t);break;case 4:Ak(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;zr(cb,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(zr(hn,hn.current&1),t.flags|=128,null):r&t.child.childLanes?TB(e,t,r):(zr(hn,hn.current&1),e=Oc(e,t,r),e!==null?e.sibling:null);zr(hn,hn.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return OB(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),zr(hn,hn.current),s)break;return null;case 22:case 23:return t.lanes=0,AB(e,t,r)}return Oc(e,t,r)}var DB,LC,IB,RB;DB=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};LC=function(){};IB=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Vu(Ol.current);var i=null;switch(r){case"input":a=oC(e,a),s=oC(e,s),i=[];break;case"select":a=gn({},a,{value:void 0}),s=gn({},s,{value:void 0}),i=[];break;case"textarea":a=dC(e,a),s=dC(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=sb)}fC(r,s);var o;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(kg.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(kg.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Kr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};RB=function(e,t,r,s){r!==s&&(t.flags|=4)};function fx(e,t){if(!sn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function qs(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Kte(e,t,r){var s=t.pendingProps;switch(bk(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:return za(t.type)&&ab(),qs(t),null;case 3:return s=t.stateNode,Ch(),Jr(Va),Jr(sa),Pk(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Cy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ro!==null&&(GC(Ro),Ro=null))),LC(e,t),qs(t),null;case 5:kk(t);var a=Vu(Ug.current);if(r=t.type,e!==null&&t.stateNode!=null)IB(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Ke(166));return qs(t),null}if(e=Vu(Ol.current),Cy(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[Cl]=t,s[Lg]=i,e=(t.mode&1)!==0,r){case"dialog":Kr("cancel",s),Kr("close",s);break;case"iframe":case"object":case"embed":Kr("load",s);break;case"video":case"audio":for(a=0;a<Ux.length;a++)Kr(Ux[a],s);break;case"source":Kr("error",s);break;case"img":case"image":case"link":Kr("error",s),Kr("load",s);break;case"details":Kr("toggle",s);break;case"input":H3(s,i),Kr("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Kr("invalid",s);break;case"textarea":G3(s,i),Kr("invalid",s)}fC(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&Sy(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Sy(s.textContent,l,e),a=["children",""+l]):kg.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Kr("scroll",s)}switch(r){case"input":gy(s),q3(s,i,!0);break;case"textarea":gy(s),K3(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=sb)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=c8(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[Cl]=t,e[Lg]=s,DB(e,t,!1,!1),t.stateNode=e;e:{switch(o=mC(r,s),r){case"dialog":Kr("cancel",e),Kr("close",e),a=s;break;case"iframe":case"object":case"embed":Kr("load",e),a=s;break;case"video":case"audio":for(a=0;a<Ux.length;a++)Kr(Ux[a],e);a=s;break;case"source":Kr("error",e),a=s;break;case"img":case"image":case"link":Kr("error",e),Kr("load",e),a=s;break;case"details":Kr("toggle",e),a=s;break;case"input":H3(e,s),a=oC(e,s),Kr("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=gn({},s,{value:void 0}),Kr("invalid",e);break;case"textarea":G3(e,s),a=dC(e,s),Kr("invalid",e);break;default:a=s}fC(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?f8(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&d8(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Pg(e,c):typeof c=="number"&&Pg(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(kg.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Kr("scroll",e):c!=null&&ik(e,i,c,o))}switch(r){case"input":gy(e),q3(e,s,!1);break;case"textarea":gy(e),K3(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Kd(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Um(e,!!s.multiple,i,!1):s.defaultValue!=null&&Um(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=sb)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&t.stateNode!=null)RB(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Ke(166));if(r=Vu(Ug.current),Vu(Ol.current),Cy(t)){if(s=t.stateNode,r=t.memoizedProps,s[Cl]=t,(i=s.nodeValue!==r)&&(e=bi,e!==null))switch(e.tag){case 3:Sy(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sy(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Cl]=t,t.stateNode=s}return qs(t),null;case 13:if(Jr(hn),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(sn&&yi!==null&&t.mode&1&&!(t.flags&128))J8(),_h(),t.flags|=98560,i=!1;else if(i=Cy(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(Ke(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ke(317));i[Cl]=t}else _h(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qs(t),i=!1}else Ro!==null&&(GC(Ro),Ro=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||hn.current&1?rs===0&&(rs=3):Vk())),t.updateQueue!==null&&(t.flags|=4),qs(t),null);case 4:return Ch(),LC(e,t),e===null&&Fg(t.stateNode.containerInfo),qs(t),null;case 10:return Sk(t.type._context),qs(t),null;case 17:return za(t.type)&&ab(),qs(t),null;case 19:if(Jr(hn),i=t.memoizedState,i===null)return qs(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)fx(i,!1);else{if(rs!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=fb(e),o!==null){for(t.flags|=128,fx(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return zr(hn,hn.current&1|2),t.child}e=e.sibling}i.tail!==null&&In()>Ah&&(t.flags|=128,s=!0,fx(i,!1),t.lanes=4194304)}else{if(!s)if(e=fb(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),fx(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!sn)return qs(t),null}else 2*In()-i.renderingStartTime>Ah&&r!==1073741824&&(t.flags|=128,s=!0,fx(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=In(),t.sibling=null,r=hn.current,zr(hn,s?r&1|2:r&1),t):(qs(t),null);case 22:case 23:return Uk(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?fi&1073741824&&(qs(t),t.subtreeFlags&6&&(t.flags|=8192)):qs(t),null;case 24:return null;case 25:return null}throw Error(Ke(156,t.tag))}function Yte(e,t){switch(bk(t),t.tag){case 1:return za(t.type)&&ab(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ch(),Jr(Va),Jr(sa),Pk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kk(t),null;case 13:if(Jr(hn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ke(340));_h()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jr(hn),null;case 4:return Ch(),null;case 10:return Sk(t.type._context),null;case 22:case 23:return Uk(),null;case 24:return null;default:return null}}var ky=!1,Xs=!1,Xte=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Im(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){bn(e,t,s)}else r.current=null}function BC(e,t,r){try{r()}catch(s){bn(e,t,s)}}var FD=!1;function Qte(e,t){if(NC=tb,e=B8(),yk(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===r&&++d===a&&(l=o),m===i&&++u===s&&(c=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(_C={focusedElem:e,selectionRange:r},tb=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){t=vt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,g=x.memoizedState,j=t.stateNode,y=j.getSnapshotBeforeUpdate(t.elementType===t.type?p:Po(t.type,p),g);j.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ke(163))}}catch(b){bn(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}return x=FD,FD=!1,x}function rg(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&BC(t,r,i)}a=a.next}while(a!==s)}}function Bw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function UC(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function MB(e){var t=e.alternate;t!==null&&(e.alternate=null,MB(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cl],delete t[Lg],delete t[EC],delete t[Dte],delete t[Ite])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function FB(e){return e.tag===5||e.tag===3||e.tag===4}function $D(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||FB(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function VC(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=sb));else if(s!==4&&(e=e.child,e!==null))for(VC(e,t,r),e=e.sibling;e!==null;)VC(e,t,r),e=e.sibling}function zC(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(zC(e,t,r),e=e.sibling;e!==null;)zC(e,t,r),e=e.sibling}var Ps=null,Oo=!1;function Jc(e,t,r){for(r=r.child;r!==null;)$B(e,t,r),r=r.sibling}function $B(e,t,r){if(Tl&&typeof Tl.onCommitFiberUnmount=="function")try{Tl.onCommitFiberUnmount(Ow,r)}catch{}switch(r.tag){case 5:Xs||Im(r,t);case 6:var s=Ps,a=Oo;Ps=null,Jc(e,t,r),Ps=s,Oo=a,Ps!==null&&(Oo?(e=Ps,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ps.removeChild(r.stateNode));break;case 18:Ps!==null&&(Oo?(e=Ps,r=r.stateNode,e.nodeType===8?d_(e.parentNode,r):e.nodeType===1&&d_(e,r),Ig(e)):d_(Ps,r.stateNode));break;case 4:s=Ps,a=Oo,Ps=r.stateNode.containerInfo,Oo=!0,Jc(e,t,r),Ps=s,Oo=a;break;case 0:case 11:case 14:case 15:if(!Xs&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&BC(r,t,o),a=a.next}while(a!==s)}Jc(e,t,r);break;case 1:if(!Xs&&(Im(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){bn(r,t,l)}Jc(e,t,r);break;case 21:Jc(e,t,r);break;case 22:r.mode&1?(Xs=(s=Xs)||r.memoizedState!==null,Jc(e,t,r),Xs=s):Jc(e,t,r);break;default:Jc(e,t,r)}}function LD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Xte),t.forEach(function(s){var a=ire.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function So(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ps=l.stateNode,Oo=!1;break e;case 3:Ps=l.stateNode.containerInfo,Oo=!0;break e;case 4:Ps=l.stateNode.containerInfo,Oo=!0;break e}l=l.return}if(Ps===null)throw Error(Ke(160));$B(i,o,a),Ps=null,Oo=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){bn(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)LB(t,e),t=t.sibling}function LB(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(So(t,e),fl(e),s&4){try{rg(3,e,e.return),Bw(3,e)}catch(p){bn(e,e.return,p)}try{rg(5,e,e.return)}catch(p){bn(e,e.return,p)}}break;case 1:So(t,e),fl(e),s&512&&r!==null&&Im(r,r.return);break;case 5:if(So(t,e),fl(e),s&512&&r!==null&&Im(r,r.return),e.flags&32){var a=e.stateNode;try{Pg(a,"")}catch(p){bn(e,e.return,p)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&o8(a,i),mC(l,o);var d=mC(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?f8(a,f):u==="dangerouslySetInnerHTML"?d8(a,f):u==="children"?Pg(a,f):ik(a,u,f,d)}switch(l){case"input":lC(a,i);break;case"textarea":l8(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Um(a,!!i.multiple,h,!1):m!==!!i.multiple&&(i.defaultValue!=null?Um(a,!!i.multiple,i.defaultValue,!0):Um(a,!!i.multiple,i.multiple?[]:"",!1))}a[Lg]=i}catch(p){bn(e,e.return,p)}}break;case 6:if(So(t,e),fl(e),s&4){if(e.stateNode===null)throw Error(Ke(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){bn(e,e.return,p)}}break;case 3:if(So(t,e),fl(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Ig(t.containerInfo)}catch(p){bn(e,e.return,p)}break;case 4:So(t,e),fl(e);break;case 13:So(t,e),fl(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Lk=In())),s&4&&LD(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Xs=(d=Xs)||u,So(t,e),Xs=d):So(t,e),fl(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(vt=e,u=e.child;u!==null;){for(f=vt=u;vt!==null;){switch(m=vt,h=m.child,m.tag){case 0:case 11:case 14:case 15:rg(4,m,m.return);break;case 1:Im(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){s=m,r=m.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(p){bn(s,r,p)}}break;case 5:Im(m,m.return);break;case 22:if(m.memoizedState!==null){UD(f);continue}}h!==null?(h.return=m,vt=h):UD(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=u8("display",o))}catch(p){bn(e,e.return,p)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(p){bn(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:So(t,e),fl(e),s&4&&LD(e);break;case 21:break;default:So(t,e),fl(e)}}function fl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(FB(r)){var s=r;break e}r=r.return}throw Error(Ke(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Pg(a,""),s.flags&=-33);var i=$D(e);zC(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=$D(e);VC(e,l,o);break;default:throw Error(Ke(161))}}catch(c){bn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zte(e,t,r){vt=e,BB(e)}function BB(e,t,r){for(var s=(e.mode&1)!==0;vt!==null;){var a=vt,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||ky;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Xs;l=ky;var d=Xs;if(ky=o,(Xs=c)&&!d)for(vt=a;vt!==null;)o=vt,c=o.child,o.tag===22&&o.memoizedState!==null?VD(a):c!==null?(c.return=o,vt=c):VD(a);for(;i!==null;)vt=i,BB(i),i=i.sibling;vt=a,ky=l,Xs=d}BD(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,vt=i):BD(e)}}function BD(e){for(;vt!==null;){var t=vt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xs||Bw(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Xs)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Po(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&_D(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}_D(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Ig(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ke(163))}Xs||t.flags&512&&UC(t)}catch(m){bn(t,t.return,m)}}if(t===e){vt=null;break}if(r=t.sibling,r!==null){r.return=t.return,vt=r;break}vt=t.return}}function UD(e){for(;vt!==null;){var t=vt;if(t===e){vt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,vt=r;break}vt=t.return}}function VD(e){for(;vt!==null;){var t=vt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Bw(4,t)}catch(c){bn(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){bn(t,a,c)}}var i=t.return;try{UC(t)}catch(c){bn(t,i,c)}break;case 5:var o=t.return;try{UC(t)}catch(c){bn(t,o,c)}}}catch(c){bn(t,t.return,c)}if(t===e){vt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,vt=l;break}vt=t.return}}var Jte=Math.ceil,pb=qc.ReactCurrentDispatcher,Fk=qc.ReactCurrentOwner,no=qc.ReactCurrentBatchConfig,pr=0,gs=null,zn=null,Fs=0,fi=0,Rm=cu(0),rs=0,Hg=null,gf=0,Uw=0,$k=0,ng=null,Ma=null,Lk=0,Ah=1/0,ac=null,xb=!1,WC=null,Ld=null,Py=!1,Cd=null,gb=0,sg=0,HC=null,Dj=-1,Ij=0;function wa(){return pr&6?In():Dj!==-1?Dj:Dj=In()}function Bd(e){return e.mode&1?pr&2&&Fs!==0?Fs&-Fs:Mte.transition!==null?(Ij===0&&(Ij=_8()),Ij):(e=Dr,e!==0||(e=window.event,e=e===void 0?16:T8(e.type)),e):1}function Ho(e,t,r,s){if(50<sg)throw sg=0,HC=null,Error(Ke(185));uv(e,r,s),(!(pr&2)||e!==gs)&&(e===gs&&(!(pr&2)&&(Uw|=r),rs===4&&md(e,Fs)),Wa(e,s),r===1&&pr===0&&!(t.mode&1)&&(Ah=In()+500,Fw&&du()))}function Wa(e,t){var r=e.callbackNode;Mee(e,t);var s=eb(e,e===gs?Fs:0);if(s===0)r!==null&&Q3(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Q3(r),t===1)e.tag===0?Rte(zD.bind(null,e)):X8(zD.bind(null,e)),Tte(function(){!(pr&6)&&du()}),r=null;else{switch(S8(s)){case 1:r=uk;break;case 4:r=w8;break;case 16:r=Jj;break;case 536870912:r=N8;break;default:r=Jj}r=KB(r,UB.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function UB(e,t){if(Dj=-1,Ij=0,pr&6)throw Error(Ke(327));var r=e.callbackNode;if(qm()&&e.callbackNode!==r)return null;var s=eb(e,e===gs?Fs:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=vb(e,s);else{t=s;var a=pr;pr|=2;var i=zB();(gs!==e||Fs!==t)&&(ac=null,Ah=In()+500,af(e,t));do try{rre();break}catch(l){VB(e,l)}while(!0);_k(),pb.current=i,pr=a,zn!==null?t=0:(gs=null,Fs=0,t=rs)}if(t!==0){if(t===2&&(a=vC(e),a!==0&&(s=a,t=qC(e,a))),t===1)throw r=Hg,af(e,0),md(e,s),Wa(e,In()),r;if(t===6)md(e,s);else{if(a=e.current.alternate,!(s&30)&&!ere(a)&&(t=vb(e,s),t===2&&(i=vC(e),i!==0&&(s=i,t=qC(e,i))),t===1))throw r=Hg,af(e,0),md(e,s),Wa(e,In()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(Ke(345));case 2:ku(e,Ma,ac);break;case 3:if(md(e,s),(s&130023424)===s&&(t=Lk+500-In(),10<t)){if(eb(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){wa(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=CC(ku.bind(null,e,Ma,ac),t);break}ku(e,Ma,ac);break;case 4:if(md(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-Wo(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=In()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Jte(s/1960))-s,10<s){e.timeoutHandle=CC(ku.bind(null,e,Ma,ac),s);break}ku(e,Ma,ac);break;case 5:ku(e,Ma,ac);break;default:throw Error(Ke(329))}}}return Wa(e,In()),e.callbackNode===r?UB.bind(null,e):null}function qC(e,t){var r=ng;return e.current.memoizedState.isDehydrated&&(af(e,t).flags|=256),e=vb(e,t),e!==2&&(t=Ma,Ma=r,t!==null&&GC(t)),e}function GC(e){Ma===null?Ma=e:Ma.push.apply(Ma,e)}function ere(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!Xo(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function md(e,t){for(t&=~$k,t&=~Uw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Wo(t),s=1<<r;e[r]=-1,t&=~s}}function zD(e){if(pr&6)throw Error(Ke(327));qm();var t=eb(e,0);if(!(t&1))return Wa(e,In()),null;var r=vb(e,t);if(e.tag!==0&&r===2){var s=vC(e);s!==0&&(t=s,r=qC(e,s))}if(r===1)throw r=Hg,af(e,0),md(e,t),Wa(e,In()),r;if(r===6)throw Error(Ke(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ku(e,Ma,ac),Wa(e,In()),null}function Bk(e,t){var r=pr;pr|=1;try{return e(t)}finally{pr=r,pr===0&&(Ah=In()+500,Fw&&du())}}function vf(e){Cd!==null&&Cd.tag===0&&!(pr&6)&&qm();var t=pr;pr|=1;var r=no.transition,s=Dr;try{if(no.transition=null,Dr=1,e)return e()}finally{Dr=s,no.transition=r,pr=t,!(pr&6)&&du()}}function Uk(){fi=Rm.current,Jr(Rm)}function af(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Pte(r)),zn!==null)for(r=zn.return;r!==null;){var s=r;switch(bk(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ab();break;case 3:Ch(),Jr(Va),Jr(sa),Pk();break;case 5:kk(s);break;case 4:Ch();break;case 13:Jr(hn);break;case 19:Jr(hn);break;case 10:Sk(s.type._context);break;case 22:case 23:Uk()}r=r.return}if(gs=e,zn=e=Ud(e.current,null),Fs=fi=t,rs=0,Hg=null,$k=Uw=gf=0,Ma=ng=null,Uu!==null){for(t=0;t<Uu.length;t++)if(r=Uu[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}Uu=null}return e}function VB(e,t){do{var r=zn;try{if(_k(),Pj.current=hb,mb){for(var s=xn.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}mb=!1}if(xf=0,us=Jn=xn=null,tg=!1,Vg=0,Fk.current=null,r===null||r.return===null){rs=1,Hg=t,zn=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Fs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=PD(o);if(h!==null){h.flags&=-257,TD(h,o,l,i,t),h.mode&1&&kD(i,d,t),t=h,c=d;var x=t.updateQueue;if(x===null){var p=new Set;p.add(c),t.updateQueue=p}else x.add(c);break e}else{if(!(t&1)){kD(i,d,t),Vk();break e}c=Error(Ke(426))}}else if(sn&&l.mode&1){var g=PD(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),TD(g,o,l,i,t),wk(Eh(c,l));break e}}i=c=Eh(c,l),rs!==4&&(rs=2),ng===null?ng=[i]:ng.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var j=SB(i,c,t);ND(i,j);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ld===null||!Ld.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=CB(i,l,t);ND(i,b);break e}}i=i.return}while(i!==null)}HB(r)}catch(N){t=N,zn===r&&r!==null&&(zn=r=r.return);continue}break}while(!0)}function zB(){var e=pb.current;return pb.current=hb,e===null?hb:e}function Vk(){(rs===0||rs===3||rs===2)&&(rs=4),gs===null||!(gf&268435455)&&!(Uw&268435455)||md(gs,Fs)}function vb(e,t){var r=pr;pr|=2;var s=zB();(gs!==e||Fs!==t)&&(ac=null,af(e,t));do try{tre();break}catch(a){VB(e,a)}while(!0);if(_k(),pr=r,pb.current=s,zn!==null)throw Error(Ke(261));return gs=null,Fs=0,rs}function tre(){for(;zn!==null;)WB(zn)}function rre(){for(;zn!==null&&!Eee();)WB(zn)}function WB(e){var t=GB(e.alternate,e,fi);e.memoizedProps=e.pendingProps,t===null?HB(e):zn=t,Fk.current=null}function HB(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Yte(r,t),r!==null){r.flags&=32767,zn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rs=6,zn=null;return}}else if(r=Kte(r,t,fi),r!==null){zn=r;return}if(t=t.sibling,t!==null){zn=t;return}zn=t=e}while(t!==null);rs===0&&(rs=5)}function ku(e,t,r){var s=Dr,a=no.transition;try{no.transition=null,Dr=1,nre(e,t,r,s)}finally{no.transition=a,Dr=s}return null}function nre(e,t,r,s){do qm();while(Cd!==null);if(pr&6)throw Error(Ke(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ke(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Fee(e,i),e===gs&&(zn=gs=null,Fs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Py||(Py=!0,KB(Jj,function(){return qm(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=no.transition,no.transition=null;var o=Dr;Dr=1;var l=pr;pr|=4,Fk.current=null,Qte(e,r),LB(r,e),Nte(_C),tb=!!NC,_C=NC=null,e.current=r,Zte(r),Aee(),pr=l,Dr=o,no.transition=i}else e.current=r;if(Py&&(Py=!1,Cd=e,gb=a),i=e.pendingLanes,i===0&&(Ld=null),Tee(r.stateNode),Wa(e,In()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(xb)throw xb=!1,e=WC,WC=null,e;return gb&1&&e.tag!==0&&qm(),i=e.pendingLanes,i&1?e===HC?sg++:(sg=0,HC=e):sg=0,du(),null}function qm(){if(Cd!==null){var e=S8(gb),t=no.transition,r=Dr;try{if(no.transition=null,Dr=16>e?16:e,Cd===null)var s=!1;else{if(e=Cd,Cd=null,gb=0,pr&6)throw Error(Ke(331));var a=pr;for(pr|=4,vt=e.current;vt!==null;){var i=vt,o=i.child;if(vt.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(vt=d;vt!==null;){var u=vt;switch(u.tag){case 0:case 11:case 15:rg(8,u,i)}var f=u.child;if(f!==null)f.return=u,vt=f;else for(;vt!==null;){u=vt;var m=u.sibling,h=u.return;if(MB(u),u===d){vt=null;break}if(m!==null){m.return=h,vt=m;break}vt=h}}}var x=i.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}vt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,vt=o;else e:for(;vt!==null;){if(i=vt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:rg(9,i,i.return)}var j=i.sibling;if(j!==null){j.return=i.return,vt=j;break e}vt=i.return}}var y=e.current;for(vt=y;vt!==null;){o=vt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,vt=w;else e:for(o=y;vt!==null;){if(l=vt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Bw(9,l)}}catch(N){bn(l,l.return,N)}if(l===o){vt=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,vt=b;break e}vt=l.return}}if(pr=a,du(),Tl&&typeof Tl.onPostCommitFiberRoot=="function")try{Tl.onPostCommitFiberRoot(Ow,e)}catch{}s=!0}return s}finally{Dr=r,no.transition=t}}return!1}function WD(e,t,r){t=Eh(r,t),t=SB(e,t,1),e=$d(e,t,1),t=wa(),e!==null&&(uv(e,1,t),Wa(e,t))}function bn(e,t,r){if(e.tag===3)WD(e,e,r);else for(;t!==null;){if(t.tag===3){WD(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ld===null||!Ld.has(s))){e=Eh(r,e),e=CB(t,e,1),t=$d(t,e,1),e=wa(),t!==null&&(uv(t,1,e),Wa(t,e));break}}t=t.return}}function sre(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=wa(),e.pingedLanes|=e.suspendedLanes&r,gs===e&&(Fs&r)===r&&(rs===4||rs===3&&(Fs&130023424)===Fs&&500>In()-Lk?af(e,0):$k|=r),Wa(e,t)}function qB(e,t){t===0&&(e.mode&1?(t=jy,jy<<=1,!(jy&130023424)&&(jy=4194304)):t=1);var r=wa();e=Tc(e,t),e!==null&&(uv(e,t,r),Wa(e,r))}function are(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),qB(e,r)}function ire(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Ke(314))}s!==null&&s.delete(t),qB(e,r)}var GB;GB=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Va.current)La=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return La=!1,Gte(e,t,r);La=!!(e.flags&131072)}else La=!1,sn&&t.flags&1048576&&Q8(t,lb,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Oj(e,t),e=t.pendingProps;var a=Nh(t,sa.current);Hm(t,r),a=Ok(null,t,s,e,a,r);var i=Dk();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,za(s)?(i=!0,ib(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ek(t),a.updater=Lw,t.stateNode=a,a._reactInternals=t,DC(t,s,e,r),t=MC(null,t,s,!0,i,r)):(t.tag=0,sn&&i&&jk(t),ma(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Oj(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=lre(s),e=Po(s,e),a){case 0:t=RC(null,t,s,e,r);break e;case 1:t=ID(null,t,s,e,r);break e;case 11:t=OD(null,t,s,e,r);break e;case 14:t=DD(null,t,s,Po(s.type,e),r);break e}throw Error(Ke(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Po(s,a),RC(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Po(s,a),ID(e,t,s,a,r);case 3:e:{if(PB(t),e===null)throw Error(Ke(387));s=t.pendingProps,i=t.memoizedState,a=i.element,nB(e,t),ub(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Eh(Error(Ke(423)),t),t=RD(e,t,s,r,a);break e}else if(s!==a){a=Eh(Error(Ke(424)),t),t=RD(e,t,s,r,a);break e}else for(yi=Fd(t.stateNode.containerInfo.firstChild),bi=t,sn=!0,Ro=null,r=tB(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_h(),s===a){t=Oc(e,t,r);break e}ma(e,t,s,r)}t=t.child}return t;case 5:return sB(t),e===null&&PC(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,SC(s,a)?o=null:i!==null&&SC(s,i)&&(t.flags|=32),kB(e,t),ma(e,t,o,r),t.child;case 6:return e===null&&PC(t),null;case 13:return TB(e,t,r);case 4:return Ak(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Sh(t,null,s,r):ma(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Po(s,a),OD(e,t,s,a,r);case 7:return ma(e,t,t.pendingProps,r),t.child;case 8:return ma(e,t,t.pendingProps.children,r),t.child;case 12:return ma(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,zr(cb,s._currentValue),s._currentValue=o,i!==null)if(Xo(i.value,o)){if(i.children===a.children&&!Va.current){t=Oc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=jc(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),TC(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ke(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),TC(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ma(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Hm(t,r),a=lo(a),s=s(a),t.flags|=1,ma(e,t,s,r),t.child;case 14:return s=t.type,a=Po(s,t.pendingProps),a=Po(s.type,a),DD(e,t,s,a,r);case 15:return EB(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Po(s,a),Oj(e,t),t.tag=1,za(s)?(e=!0,ib(t)):e=!1,Hm(t,r),_B(t,s,a),DC(t,s,a,r),MC(null,t,s,!0,e,r);case 19:return OB(e,t,r);case 22:return AB(e,t,r)}throw Error(Ke(156,t.tag))};function KB(e,t){return b8(e,t)}function ore(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(e,t,r,s){return new ore(e,t,r,s)}function zk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lre(e){if(typeof e=="function")return zk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lk)return 11;if(e===ck)return 14}return 2}function Ud(e,t){var r=e.alternate;return r===null?(r=Ji(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Rj(e,t,r,s,a,i){var o=2;if(s=e,typeof e=="function")zk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Sm:return of(r.children,a,i,t);case ok:o=8,a|=8;break;case nC:return e=Ji(12,r,t,a|2),e.elementType=nC,e.lanes=i,e;case sC:return e=Ji(13,r,t,a),e.elementType=sC,e.lanes=i,e;case aC:return e=Ji(19,r,t,a),e.elementType=aC,e.lanes=i,e;case s8:return Vw(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case r8:o=10;break e;case n8:o=9;break e;case lk:o=11;break e;case ck:o=14;break e;case ld:o=16,s=null;break e}throw Error(Ke(130,e==null?e:typeof e,""))}return t=Ji(o,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function of(e,t,r,s){return e=Ji(7,e,s,t),e.lanes=r,e}function Vw(e,t,r,s){return e=Ji(22,e,s,t),e.elementType=s8,e.lanes=r,e.stateNode={isHidden:!1},e}function v_(e,t,r){return e=Ji(6,e,null,t),e.lanes=r,e}function y_(e,t,r){return t=Ji(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cre(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=J2(0),this.expirationTimes=J2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=J2(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Wk(e,t,r,s,a,i,o,l,c){return e=new cre(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ji(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ek(i),e}function dre(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_m,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function YB(e){if(!e)return Yd;e=e._reactInternals;e:{if(Vf(e)!==e||e.tag!==1)throw Error(Ke(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(za(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ke(171))}if(e.tag===1){var r=e.type;if(za(r))return Y8(e,r,t)}return t}function XB(e,t,r,s,a,i,o,l,c){return e=Wk(r,s,!0,e,a,i,o,l,c),e.context=YB(null),r=e.current,s=wa(),a=Bd(r),i=jc(s,a),i.callback=t??null,$d(r,i,a),e.current.lanes=a,uv(e,a,s),Wa(e,s),e}function zw(e,t,r,s){var a=t.current,i=wa(),o=Bd(a);return r=YB(r),t.context===null?t.context=r:t.pendingContext=r,t=jc(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=$d(a,t,o),e!==null&&(Ho(e,a,o,i),kj(e,a,o)),o}function yb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function HD(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hk(e,t){HD(e,t),(e=e.alternate)&&HD(e,t)}function ure(){return null}var QB=typeof reportError=="function"?reportError:function(e){console.error(e)};function qk(e){this._internalRoot=e}Ww.prototype.render=qk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ke(409));zw(e,t,null,null)};Ww.prototype.unmount=qk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vf(function(){zw(null,e,null,null)}),t[Pc]=null}};function Ww(e){this._internalRoot=e}Ww.prototype.unstable_scheduleHydration=function(e){if(e){var t=A8();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fd.length&&t!==0&&t<fd[r].priority;r++);fd.splice(r,0,e),r===0&&P8(e)}};function Gk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qD(){}function fre(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=yb(o);i.call(d)}}var o=XB(t,s,e,0,null,!1,!1,"",qD);return e._reactRootContainer=o,e[Pc]=o.current,Fg(e.nodeType===8?e.parentNode:e),vf(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=yb(c);l.call(d)}}var c=Wk(e,0,!1,null,null,!1,!1,"",qD);return e._reactRootContainer=c,e[Pc]=c.current,Fg(e.nodeType===8?e.parentNode:e),vf(function(){zw(t,c,r,s)}),c}function qw(e,t,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=yb(o);l.call(c)}}zw(t,o,e,a)}else o=fre(r,t,e,a,s);return yb(o)}C8=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Bx(t.pendingLanes);r!==0&&(fk(t,r|1),Wa(t,In()),!(pr&6)&&(Ah=In()+500,du()))}break;case 13:vf(function(){var s=Tc(e,1);if(s!==null){var a=wa();Ho(s,e,1,a)}}),Hk(e,1)}};mk=function(e){if(e.tag===13){var t=Tc(e,134217728);if(t!==null){var r=wa();Ho(t,e,134217728,r)}Hk(e,134217728)}};E8=function(e){if(e.tag===13){var t=Bd(e),r=Tc(e,t);if(r!==null){var s=wa();Ho(r,e,t,s)}Hk(e,t)}};A8=function(){return Dr};k8=function(e,t){var r=Dr;try{return Dr=e,t()}finally{Dr=r}};pC=function(e,t,r){switch(t){case"input":if(lC(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=Mw(s);if(!a)throw Error(Ke(90));i8(s),lC(s,a)}}}break;case"textarea":l8(e,r);break;case"select":t=r.value,t!=null&&Um(e,!!r.multiple,t,!1)}};p8=Bk;x8=vf;var mre={usingClientEntryPoint:!1,Events:[mv,km,Mw,m8,h8,Bk]},mx={findFiberByHostInstance:Bu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hre={bundleType:mx.bundleType,version:mx.version,rendererPackageName:mx.rendererPackageName,rendererConfig:mx.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=y8(e),e===null?null:e.stateNode},findFiberByHostInstance:mx.findFiberByHostInstance||ure,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ty=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ty.isDisabled&&Ty.supportsFiber)try{Ow=Ty.inject(hre),Tl=Ty}catch{}}Ii.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mre;Ii.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gk(t))throw Error(Ke(200));return dre(e,t,null,r)};Ii.createRoot=function(e,t){if(!Gk(e))throw Error(Ke(299));var r=!1,s="",a=QB;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Wk(e,1,!1,null,null,r,!1,s,a),e[Pc]=t.current,Fg(e.nodeType===8?e.parentNode:e),new qk(t)};Ii.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ke(188)):(e=Object.keys(e).join(","),Error(Ke(268,e)));return e=y8(t),e=e===null?null:e.stateNode,e};Ii.flushSync=function(e){return vf(e)};Ii.hydrate=function(e,t,r){if(!Hw(t))throw Error(Ke(200));return qw(null,e,t,!0,r)};Ii.hydrateRoot=function(e,t,r){if(!Gk(e))throw Error(Ke(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=QB;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=XB(t,null,e,1,r??null,a,!1,i,o),e[Pc]=t.current,Fg(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ww(t)};Ii.render=function(e,t,r){if(!Hw(t))throw Error(Ke(200));return qw(null,e,t,!1,r)};Ii.unmountComponentAtNode=function(e){if(!Hw(e))throw Error(Ke(40));return e._reactRootContainer?(vf(function(){qw(null,null,e,!1,function(){e._reactRootContainer=null,e[Pc]=null})}),!0):!1};Ii.unstable_batchedUpdates=Bk;Ii.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Hw(r))throw Error(Ke(200));if(e==null||e._reactInternals===void 0)throw Error(Ke(38));return qw(e,t,r,!1,s)};Ii.version="18.3.1-next-f1338f8080-20240426";function ZB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZB)}catch(e){console.error(e)}}ZB(),ZL.exports=Ii;var po=ZL.exports;const Gw=Cr(po);var JB,GD=po;JB=GD.createRoot,GD.hydrateRoot;const pre=1,xre=1e6;let j_=0;function gre(){return j_=(j_+1)%Number.MAX_SAFE_INTEGER,j_.toString()}const b_=new Map,KD=e=>{if(b_.has(e))return;const t=setTimeout(()=>{b_.delete(e),ag({type:"REMOVE_TOAST",toastId:e})},xre);b_.set(e,t)},vre=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,pre)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?KD(r):e.toasts.forEach(s=>{KD(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Mj=[];let Fj={toasts:[]};function ag(e){Fj=vre(Fj,e),Mj.forEach(t=>{t(Fj)})}function yre({...e}){const t=gre(),r=a=>ag({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>ag({type:"DISMISS_TOAST",toastId:t});return ag({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:r}}function xr(){const[e,t]=v.useState(Fj);return v.useEffect(()=>(Mj.push(t),()=>{const r=Mj.indexOf(t);r>-1&&Mj.splice(r,1)}),[e]),{...e,toast:yre,dismiss:r=>ag({type:"DISMISS_TOAST",toastId:r})}}function qe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function jre(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Kw(...e){return t=>e.forEach(r=>jre(r,t))}function Ft(...e){return v.useCallback(Kw(...e),e)}function bre(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,wre(a,...t)]}function wre(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Fl=v.forwardRef((e,t)=>{const{children:r,...s}=e,a=v.Children.toArray(r),i=a.find(Nre);if(i){const o=i.props.children,l=a.map(c=>c===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return n.jsx(KC,{...s,ref:t,children:v.isValidElement(o)?v.cloneElement(o,void 0,l):null})}return n.jsx(KC,{...s,ref:t,children:r})});Fl.displayName="Slot";var KC=v.forwardRef((e,t)=>{const{children:r,...s}=e;if(v.isValidElement(r)){const a=Sre(r);return v.cloneElement(r,{..._re(s,r.props),ref:t?Kw(t,a):a})}return v.Children.count(r)>1?v.Children.only(null):null});KC.displayName="SlotClone";var Kk=({children:e})=>n.jsx(n.Fragment,{children:e});function Nre(e){return v.isValidElement(e)&&e.type===Kk}function _re(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Sre(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Yw(e){const t=e+"CollectionProvider",[r,s]=bre(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:x,children:p}=h,g=V.useRef(null),j=V.useRef(new Map).current;return n.jsx(a,{scope:x,itemMap:j,collectionRef:g,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=V.forwardRef((h,x)=>{const{scope:p,children:g}=h,j=i(l,p),y=Ft(x,j.collectionRef);return n.jsx(Fl,{ref:y,children:g})});c.displayName=l;const d=e+"CollectionItemSlot",u="data-radix-collection-item",f=V.forwardRef((h,x)=>{const{scope:p,children:g,...j}=h,y=V.useRef(null),w=Ft(x,y),b=i(d,p);return V.useEffect(()=>(b.itemMap.set(y,{ref:y,...j}),()=>void b.itemMap.delete(y))),n.jsx(Fl,{[u]:"",ref:w,children:g})});f.displayName=d;function m(h){const x=i(e+"CollectionConsumer",h);return V.useCallback(()=>{const g=x.collectionRef.current;if(!g)return[];const j=Array.from(g.querySelectorAll(`[${u}]`));return Array.from(x.itemMap.values()).sort((b,N)=>j.indexOf(b.ref.current)-j.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},m,s]}function Cre(e,t){const r=v.createContext(t),s=i=>{const{children:o,...l}=i,c=v.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function Pa(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];const d=f=>{var j;const{scope:m,children:h,...x}=f,p=((j=m==null?void 0:m[e])==null?void 0:j[c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})};d.displayName=i+"Provider";function u(f,m){var p;const h=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,Ere(a,...t)]}function Ere(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Are=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],bt=Are.reduce((e,t)=>{const r=v.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?Fl:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Yk(e,t){e&&po.flushSync(()=>e.dispatchEvent(t))}function an(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function kre(e,t=globalThis==null?void 0:globalThis.document){const r=an(e);v.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var Pre="DismissableLayer",YC="dismissableLayer.update",Tre="dismissableLayer.pointerDownOutside",Ore="dismissableLayer.focusOutside",YD,e9=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zf=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=v.useContext(e9),[u,f]=v.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=v.useState({}),x=Ft(t,E=>f(E)),p=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=p.indexOf(g),y=u?p.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,b=y>=j,N=Ire(E=>{const C=E.target,A=[...d.branches].some(P=>P.contains(C));!b||A||(a==null||a(E),o==null||o(E),E.defaultPrevented||l==null||l())},m),S=Rre(E=>{const C=E.target;[...d.branches].some(P=>P.contains(C))||(i==null||i(E),o==null||o(E),E.defaultPrevented||l==null||l())},m);return kre(E=>{y===d.layers.size-1&&(s==null||s(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},m),v.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(YD=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),XD(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=YD)}},[u,m,r,d]),v.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),XD())},[u,d]),v.useEffect(()=>{const E=()=>h({});return document.addEventListener(YC,E),()=>document.removeEventListener(YC,E)},[]),n.jsx(bt.div,{...c,ref:x,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:qe(e.onFocusCapture,S.onFocusCapture),onBlurCapture:qe(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:qe(e.onPointerDownCapture,N.onPointerDownCapture)})});zf.displayName=Pre;var Dre="DismissableLayerBranch",t9=v.forwardRef((e,t)=>{const r=v.useContext(e9),s=v.useRef(null),a=Ft(t,s);return v.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(bt.div,{...e,ref:a})});t9.displayName=Dre;function Ire(e,t=globalThis==null?void 0:globalThis.document){const r=an(e),s=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){r9(Tre,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function Rre(e,t=globalThis==null?void 0:globalThis.document){const r=an(e),s=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!s.current&&r9(Ore,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function XD(){const e=new CustomEvent(YC);document.dispatchEvent(e)}function r9(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?Yk(a,i):a.dispatchEvent(i)}var Mre=zf,Fre=t9,is=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},$re="Portal",yp=v.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=v.useState(!1);is(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Gw.createPortal(n.jsx(bt.div,{...s,ref:t}),o):null});yp.displayName=$re;function Lre(e,t){return v.useReducer((r,s)=>t[r][s]??r,e)}var os=e=>{const{present:t,children:r}=e,s=Bre(t),a=typeof r=="function"?r({present:s.isPresent}):v.Children.only(r),i=Ft(s.ref,Ure(a));return typeof r=="function"||s.isPresent?v.cloneElement(a,{ref:i}):null};os.displayName="Presence";function Bre(e){const[t,r]=v.useState(),s=v.useRef({}),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Lre(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=Oy(s.current);i.current=l==="mounted"?d:"none"},[l]),is(()=>{const d=s.current,u=a.current;if(u!==e){const m=i.current,h=Oy(d);e?c("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),is(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=h=>{const p=Oy(s.current).includes(h.animationName);if(h.target===t&&p&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},m=h=>{h.target===t&&(i.current=Oy(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(d=>{d&&(s.current=getComputedStyle(d)),r(d)},[])}}function Oy(e){return(e==null?void 0:e.animationName)||"none"}function Ure(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function uo({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=Vre({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:s,l=an(r),c=v.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else a(d)},[i,e,a,l]);return[o,c]}function Vre({defaultProp:e,onChange:t}){const r=v.useState(e),[s]=r,a=v.useRef(s),i=an(t);return v.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}var zre="VisuallyHidden",pv=v.forwardRef((e,t)=>n.jsx(bt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));pv.displayName=zre;var Wre=pv,Xk="ToastProvider",[Qk,Hre,qre]=Yw("Toast"),[n9,Stt]=Pa("Toast",[qre]),[Gre,Xw]=n9(Xk),s9=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=v.useState(null),[d,u]=v.useState(0),f=v.useRef(!1),m=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Xk}\`. Expected non-empty \`string\`.`),n.jsx(Qk.Provider,{scope:t,children:n.jsx(Gre,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>u(h=>h+1),[]),onToastRemove:v.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};s9.displayName=Xk;var a9="ToastViewport",Kre=["F8"],XC="toast.viewportPause",QC="toast.viewportResume",i9=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=Kre,label:a="Notifications ({hotkey})",...i}=e,o=Xw(a9,r),l=Hre(r),c=v.useRef(null),d=v.useRef(null),u=v.useRef(null),f=v.useRef(null),m=Ft(t,f,o.onViewportChange),h=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;v.useEffect(()=>{const g=j=>{var w;s.length!==0&&s.every(b=>j[b]||j.code===b)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[s]),v.useEffect(()=>{const g=c.current,j=f.current;if(x&&g&&j){const y=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(XC);j.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(QC);j.dispatchEvent(S),o.isClosePausedRef.current=!1}},b=S=>{!g.contains(S.relatedTarget)&&w()},N=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",y),g.addEventListener("focusout",b),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",b),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const p=v.useCallback(({tabbingDirection:g})=>{const y=l().map(w=>{const b=w.ref.current,N=[b,...one(b)];return g==="forwards"?N:N.reverse()});return(g==="forwards"?y.reverse():y).flat()},[l]);return v.useEffect(()=>{const g=f.current;if(g){const j=y=>{var N,S,E;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const C=document.activeElement,A=y.shiftKey;if(y.target===g&&A){(N=d.current)==null||N.focus();return}const I=p({tabbingDirection:A?"backwards":"forwards"}),z=I.findIndex(U=>U===C);w_(I.slice(z+1))?y.preventDefault():A?(S=d.current)==null||S.focus():(E=u.current)==null||E.focus()}};return g.addEventListener("keydown",j),()=>g.removeEventListener("keydown",j)}},[l,p]),n.jsxs(Fre,{ref:c,role:"region","aria-label":a.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&n.jsx(ZC,{ref:d,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"forwards"});w_(g)}}),n.jsx(Qk.Slot,{scope:r,children:n.jsx(bt.ol,{tabIndex:-1,...i,ref:m})}),x&&n.jsx(ZC,{ref:u,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"backwards"});w_(g)}})]})});i9.displayName=a9;var o9="ToastFocusProxy",ZC=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,i=Xw(o9,r);return n.jsx(pv,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});ZC.displayName=o9;var Qw="Toast",Yre="toast.swipeStart",Xre="toast.swipeMove",Qre="toast.swipeCancel",Zre="toast.swipeEnd",l9=v.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=uo({prop:s,defaultProp:a,onChange:i});return n.jsx(os,{present:r||l,children:n.jsx(tne,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:an(e.onPause),onResume:an(e.onResume),onSwipeStart:qe(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:qe(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:qe(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:qe(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});l9.displayName=Qw;var[Jre,ene]=n9(Qw,{onClose(){}}),tne=v.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:h,...x}=e,p=Xw(Qw,r),[g,j]=v.useState(null),y=Ft(t,U=>j(U)),w=v.useRef(null),b=v.useRef(null),N=a||p.duration,S=v.useRef(0),E=v.useRef(N),C=v.useRef(0),{onToastAdd:A,onToastRemove:P}=p,R=an(()=>{var L;(g==null?void 0:g.contains(document.activeElement))&&((L=p.viewport)==null||L.focus()),o()}),I=v.useCallback(U=>{!U||U===1/0||(window.clearTimeout(C.current),S.current=new Date().getTime(),C.current=window.setTimeout(R,U))},[R]);v.useEffect(()=>{const U=p.viewport;if(U){const L=()=>{I(E.current),d==null||d()},T=()=>{const k=new Date().getTime()-S.current;E.current=E.current-k,window.clearTimeout(C.current),c==null||c()};return U.addEventListener(XC,T),U.addEventListener(QC,L),()=>{U.removeEventListener(XC,T),U.removeEventListener(QC,L)}}},[p.viewport,N,c,d,I]),v.useEffect(()=>{i&&!p.isClosePausedRef.current&&I(N)},[i,N,p.isClosePausedRef,I]),v.useEffect(()=>(A(),()=>P()),[A,P]);const z=v.useMemo(()=>g?p9(g):null,[g]);return p.viewport?n.jsxs(n.Fragment,{children:[z&&n.jsx(rne,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),n.jsx(Jre,{scope:r,onClose:R,children:po.createPortal(n.jsx(Qk.ItemSlot,{scope:r,children:n.jsx(Mre,{asChild:!0,onEscapeKeyDown:qe(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||R(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(bt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:qe(e.onKeyDown,U=>{U.key==="Escape"&&(l==null||l(U.nativeEvent),U.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:qe(e.onPointerDown,U=>{U.button===0&&(w.current={x:U.clientX,y:U.clientY})}),onPointerMove:qe(e.onPointerMove,U=>{if(!w.current)return;const L=U.clientX-w.current.x,T=U.clientY-w.current.y,k=!!b.current,O=["left","right"].includes(p.swipeDirection),M=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,ie=O?M(0,L):0,ce=O?0:M(0,T),D=U.pointerType==="touch"?10:2,W={x:ie,y:ce},F={originalEvent:U,delta:W};k?(b.current=W,Dy(Xre,f,F,{discrete:!1})):QD(W,p.swipeDirection,D)?(b.current=W,Dy(Yre,u,F,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(L)>D||Math.abs(T)>D)&&(w.current=null)}),onPointerUp:qe(e.onPointerUp,U=>{const L=b.current,T=U.target;if(T.hasPointerCapture(U.pointerId)&&T.releasePointerCapture(U.pointerId),b.current=null,w.current=null,L){const k=U.currentTarget,O={originalEvent:U,delta:L};QD(L,p.swipeDirection,p.swipeThreshold)?Dy(Zre,h,O,{discrete:!0}):Dy(Qre,m,O,{discrete:!0}),k.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),rne=e=>{const{__scopeToast:t,children:r,...s}=e,a=Xw(Qw,t),[i,o]=v.useState(!1),[l,c]=v.useState(!1);return ane(()=>o(!0)),v.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(yp,{asChild:!0,children:n.jsx(pv,{...s,children:i&&n.jsxs(n.Fragment,{children:[a.label," ",r]})})})},nne="ToastTitle",c9=v.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(bt.div,{...s,ref:t})});c9.displayName=nne;var sne="ToastDescription",d9=v.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(bt.div,{...s,ref:t})});d9.displayName=sne;var u9="ToastAction",f9=v.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?n.jsx(h9,{altText:r,asChild:!0,children:n.jsx(Zk,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${u9}\`. Expected non-empty \`string\`.`),null)});f9.displayName=u9;var m9="ToastClose",Zk=v.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,a=ene(m9,r);return n.jsx(h9,{asChild:!0,children:n.jsx(bt.button,{type:"button",...s,ref:t,onClick:qe(e.onClick,a.onClose)})})});Zk.displayName=m9;var h9=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return n.jsx(bt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function p9(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),ine(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...p9(s))}}),t}function Dy(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?Yk(a,i):a.dispatchEvent(i)}var QD=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>r:!i&&a>r};function ane(e=()=>{}){const t=an(e);is(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function ine(e){return e.nodeType===e.ELEMENT_NODE}function one(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function w_(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var lne=s9,x9=i9,g9=l9,v9=c9,y9=d9,j9=f9,b9=Zk;function w9(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=w9(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Bt(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=w9(e))&&(s&&(s+=" "),s+=t);return s}const ZD=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,JD=Bt,jp=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return JD(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],f=i==null?void 0:i[d];if(u===null)return null;const m=ZD(u)||ZD(f);return a[d][m]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,m]=u;return m===void 0||(d[f]=m),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:f,className:m,...h}=u;return Object.entries(h).every(x=>{let[p,g]=x;return Array.isArray(g)?g.includes({...i,...l}[p]):{...i,...l}[p]===g})?[...d,f,m]:d},[]);return JD(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),N9=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const une=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...dne,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:N9("lucide",a),...l},[...o.map(([d,u])=>v.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t)=>{const r=v.forwardRef(({className:s,...a},i)=>v.createElement(une,{ref:i,iconNode:t,className:N9(`lucide-${cne(e)}`,s),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=ze("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=ze("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=ze("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fne=ze("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=ze("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=ze("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=ze("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=ze("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=ze("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=ze("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=ze("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=ze("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=ze("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=ze("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mne=ze("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=ze("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=ze("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=ze("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=ze("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=ze("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=ze("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hne=ze("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pne=ze("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xne=ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=ze("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=ze("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=ze("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=ze("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=ze("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=ze("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=ze("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=ze("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=ze("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=ze("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yne=ze("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=ze("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=ze("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=ze("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=ze("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=ze("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bne=ze("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wne=ze("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nne=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=ze("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=ze("MapPinned",[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sne=ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=ze("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=ze("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=ze("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=ze("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ene=ze("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ane=ze("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=ze("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kne=ze("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pne=ze("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tne=ze("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=ze("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=ze("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=ze("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=ze("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=ze("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=ze("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const One=ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=ze("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=ze("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dne=ze("Sofa",[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=ze("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=ze("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=ze("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=ze("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=ze("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=ze("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=ze("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=ze("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=ze("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=ze("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=ze("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rne=ze("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mne=ze("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=ze("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=ze("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=ze("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fne=ze("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),nP="-",$ne=e=>{const t=Bne(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(nP);return l[0]===""&&l.length!==1&&l.shift(),B9(l,t)||Lne(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},B9=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?B9(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(nP);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},o5=/^\[(.+)\]$/,Lne=e=>{if(o5.test(e)){const t=o5.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Bne=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return Vne(Object.entries(e.classGroups),r).forEach(([i,o])=>{e4(o,s,i,t)}),s},e4=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:l5(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(Une(a)){e4(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{e4(o,l5(t,i),r,s)})})},l5=(e,t)=>{let r=e;return t.split(nP).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},Une=e=>e.isThemeGetter,Vne=(e,t)=>t?e.map(([r,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,zne=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},U9="!",Wne=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let g=0;g<l.length;g++){let j=l[g];if(d===0){if(j===a&&(s||l.slice(g,g+i)===t)){c.push(l.slice(u,g)),u=g+i;continue}if(j==="/"){f=g;continue}}j==="["?d++:j==="]"&&d--}const m=c.length===0?l:l.substring(u),h=m.startsWith(U9),x=h?m.substring(1):m,p=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:x,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},Hne=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},qne=e=>({cache:zne(e.cacheSize),parseClassName:Wne(e),...$ne(e)}),Gne=/\s+/,Kne=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(Gne);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:h}=r(d);let x=!!h,p=s(x?m.substring(0,h):m);if(!p){if(!x){l=d+(l.length>0?" "+l:l);continue}if(p=s(m),!p){l=d+(l.length>0?" "+l:l);continue}x=!1}const g=Hne(u).join(":"),j=f?g+U9:g,y=j+p;if(i.includes(y))continue;i.push(y);const w=a(p,x);for(let b=0;b<w.length;++b){const N=w[b];i.push(j+N)}l=d+(l.length>0?" "+l:l)}return l};function Yne(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=V9(t))&&(s&&(s+=" "),s+=r);return s}const V9=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=V9(e[s]))&&(r&&(r+=" "),r+=t);return r};function Xne(e,...t){let r,s,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return r=qne(d),s=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=Kne(c,r);return a(c,u),u}return function(){return i(Yne.apply(null,arguments))}}const Gr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},z9=/^\[(?:([a-z-]+):)?(.+)\]$/i,Qne=/^\d+\/\d+$/,Zne=new Set(["px","full","screen"]),Jne=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ese=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tse=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rse=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nse=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jl=e=>Ym(e)||Zne.has(e)||Qne.test(e),ed=e=>bp(e,"length",use),Ym=e=>!!e&&!Number.isNaN(Number(e)),__=e=>bp(e,"number",Ym),hx=e=>!!e&&Number.isInteger(Number(e)),sse=e=>e.endsWith("%")&&Ym(e.slice(0,-1)),qt=e=>z9.test(e),td=e=>Jne.test(e),ase=new Set(["length","size","percentage"]),ise=e=>bp(e,ase,W9),ose=e=>bp(e,"position",W9),lse=new Set(["image","url"]),cse=e=>bp(e,lse,mse),dse=e=>bp(e,"",fse),px=()=>!0,bp=(e,t,r)=>{const s=z9.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},use=e=>ese.test(e)&&!tse.test(e),W9=()=>!1,fse=e=>rse.test(e),mse=e=>nse.test(e),hse=()=>{const e=Gr("colors"),t=Gr("spacing"),r=Gr("blur"),s=Gr("brightness"),a=Gr("borderColor"),i=Gr("borderRadius"),o=Gr("borderSpacing"),l=Gr("borderWidth"),c=Gr("contrast"),d=Gr("grayscale"),u=Gr("hueRotate"),f=Gr("invert"),m=Gr("gap"),h=Gr("gradientColorStops"),x=Gr("gradientColorStopPositions"),p=Gr("inset"),g=Gr("margin"),j=Gr("opacity"),y=Gr("padding"),w=Gr("saturate"),b=Gr("scale"),N=Gr("sepia"),S=Gr("skew"),E=Gr("space"),C=Gr("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",qt,t],I=()=>[qt,t],z=()=>["",Jl,ed],U=()=>["auto",Ym,qt],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],k=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",qt],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>[Ym,qt];return{cacheSize:500,separator:":",theme:{colors:[px],spacing:[Jl,ed],blur:["none","",td,qt],brightness:ce(),borderColor:[e],borderRadius:["none","","full",td,qt],borderSpacing:I(),borderWidth:z(),contrast:ce(),grayscale:M(),hueRotate:ce(),invert:M(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[sse,ed],inset:R(),margin:R(),opacity:ce(),padding:I(),saturate:ce(),scale:ce(),sepia:M(),skew:ce(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",qt]}],container:["container"],columns:[{columns:[td]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),qt]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hx,qt]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qt]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",hx,qt]}],"grid-cols":[{"grid-cols":[px]}],"col-start-end":[{col:["auto",{span:["full",hx,qt]},qt]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[px]}],"row-start-end":[{row:["auto",{span:[hx,qt]},qt]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qt,t]}],"min-w":[{"min-w":[qt,t,"min","max","fit"]}],"max-w":[{"max-w":[qt,t,"none","full","min","max","fit","prose",{screen:[td]},td]}],h:[{h:[qt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",td,ed]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",__]}],"font-family":[{font:[px]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qt]}],"line-clamp":[{"line-clamp":["none",Ym,__]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jl,qt]}],"list-image":[{"list-image":["none",qt]}],"list-style-type":[{list:["none","disc","decimal",qt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jl,ed]}],"underline-offset":[{"underline-offset":["auto",Jl,qt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),ose]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ise]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cse]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:T()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[Jl,qt]}],"outline-w":[{outline:[Jl,ed]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Jl,ed]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",td,dse]}],"shadow-color":[{shadow:[px]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...k(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":k()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",td,qt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qt]}],duration:[{duration:ce()}],ease:[{ease:["linear","in","out","in-out",qt]}],delay:[{delay:ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",qt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[hx,qt]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Jl,ed,__]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},pse=Xne(hse);function ve(...e){return pse(Bt(e))}const xse=lne,H9=v.forwardRef(({className:e,...t},r)=>n.jsx(x9,{ref:r,className:ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));H9.displayName=x9.displayName;const gse=jp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),q9=v.forwardRef(({className:e,variant:t,...r},s)=>n.jsx(g9,{ref:s,className:ve(gse({variant:t}),e),...r}));q9.displayName=g9.displayName;const vse=v.forwardRef(({className:e,...t},r)=>n.jsx(j9,{ref:r,className:ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));vse.displayName=j9.displayName;const G9=v.forwardRef(({className:e,...t},r)=>n.jsx(b9,{ref:r,className:ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(Zn,{className:"h-4 w-4"})}));G9.displayName=b9.displayName;const K9=v.forwardRef(({className:e,...t},r)=>n.jsx(v9,{ref:r,className:ve("text-sm font-semibold",e),...t}));K9.displayName=v9.displayName;const Y9=v.forwardRef(({className:e,...t},r)=>n.jsx(y9,{ref:r,className:ve("text-sm opacity-90",e),...t}));Y9.displayName=y9.displayName;function yse(){const{toasts:e}=xr();return n.jsxs(xse,{children:[e.map(function({id:t,title:r,description:s,action:a,...i}){return n.jsxs(q9,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(K9,{children:r}),s&&n.jsx(Y9,{children:s})]}),a,n.jsx(G9,{})]},t)}),n.jsx(H9,{})]})}var Nb=["light","dark"],sP="(prefers-color-scheme: dark)",jse=typeof window>"u",aP=v.createContext(void 0),bse={setTheme:e=>{},themes:[]},wp=()=>{var e;return(e=v.useContext(aP))!=null?e:bse},wse=e=>v.useContext(aP)?e.children:v.createElement(_se,{...e}),Nse=["light","dark"],_se=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:s=!0,storageKey:a="theme",themes:i=Nse,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:d,nonce:u})=>{let[f,m]=v.useState(()=>c5(a,o)),[h,x]=v.useState(()=>c5(a)),p=c?Object.values(c):i,g=v.useCallback(b=>{let N=b;if(!N)return;b==="system"&&r&&(N=d5());let S=c?c[N]:N,E=t?Cse():null,C=document.documentElement;if(l==="class"?(C.classList.remove(...p),S&&C.classList.add(S)):S?C.setAttribute(l,S):C.removeAttribute(l),s){let A=Nb.includes(o)?o:null,P=Nb.includes(N)?N:A;C.style.colorScheme=P}E==null||E()},[]),j=v.useCallback(b=>{let N=typeof b=="function"?b(b):b;m(N);try{localStorage.setItem(a,N)}catch{}},[e]),y=v.useCallback(b=>{let N=d5(b);x(N),f==="system"&&r&&!e&&g("system")},[f,e]);v.useEffect(()=>{let b=window.matchMedia(sP);return b.addListener(y),y(b),()=>b.removeListener(y)},[y]),v.useEffect(()=>{let b=N=>{if(N.key!==a)return;let S=N.newValue||o;j(S)};return window.addEventListener("storage",b),()=>window.removeEventListener("storage",b)},[j]),v.useEffect(()=>{g(e??f)},[e,f]);let w=v.useMemo(()=>({theme:f,setTheme:j,forcedTheme:e,resolvedTheme:f==="system"?h:f,themes:r?[...i,"system"]:i,systemTheme:r?h:void 0}),[f,j,e,h,r,i]);return v.createElement(aP.Provider,{value:w},v.createElement(Sse,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:s,storageKey:a,themes:i,defaultTheme:o,attribute:l,value:c,children:d,attrs:p,nonce:u}),d)},Sse=v.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?Nb.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,p=!1,g=!0)=>{let j=o?o[x]:x,y=p?x+"|| ''":`'${j}'`,w="";return a&&g&&!p&&Nb.includes(x)&&(w+=`d.style.colorScheme = '${x}';`),r==="class"?p||j?w+=`c.add(${y})`:w+="null":j&&(w+=`d[s](n,${y})`),w},h=e?`!function(){${u}${m(e)}}()`:s?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${sP}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})}),c5=(e,t)=>{if(jse)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},Cse=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},d5=e=>(e||(e=window.matchMedia(sP)),e.matches?"dark":"light"),Ese=e=>{switch(e){case"success":return Pse;case"info":return Ose;case"warning":return Tse;case"error":return Dse;default:return null}},Ase=Array(12).fill(0),kse=({visible:e})=>V.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},V.createElement("div",{className:"sonner-spinner"},Ase.map((t,r)=>V.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Pse=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Tse=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Ose=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Dse=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ise=()=>{let[e,t]=V.useState(document.hidden);return V.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},t4=1,Rse=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:t4++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...s,dismissible:o,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),a=r!==void 0;return s.then(async i=>{if(Fse(i)&&!i.ok){a=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:r,type:"error",message:o,description:l})}else if(t.success!==void 0){a=!1;let o=typeof t.success=="function"?await t.success(i):t.success,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async i=>{if(t.error!==void 0){a=!1;let o=typeof t.error=="function"?await t.error(i):t.error,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var i;a&&(this.dismiss(r),r=void 0),(i=t.finally)==null||i.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||t4++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},di=new Rse,Mse=(e,t)=>{let r=(t==null?void 0:t.id)||t4++;return di.addToast({title:e,...t,id:r}),r},Fse=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",$se=Mse,Lse=()=>di.toasts,Ue=Object.assign($se,{success:di.success,info:di.info,warning:di.warning,error:di.error,custom:di.custom,message:di.message,promise:di.promise,dismiss:di.dismiss,loading:di.loading},{getHistory:Lse});function Bse(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}Bse(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Iy(e){return e.label!==void 0}var Use=3,Vse="32px",zse=4e3,Wse=356,Hse=14,qse=20,Gse=200;function Kse(...e){return e.filter(Boolean).join(" ")}var Yse=e=>{var t,r,s,a,i,o,l,c,d,u;let{invert:f,toast:m,unstyled:h,interacting:x,setHeights:p,visibleToasts:g,heights:j,index:y,toasts:w,expanded:b,removeToast:N,defaultRichColors:S,closeButton:E,style:C,cancelButtonStyle:A,actionButtonStyle:P,className:R="",descriptionClassName:I="",duration:z,position:U,gap:L,loadingIcon:T,expandByDefault:k,classNames:O,icons:M,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:ce,cn:D}=e,[W,F]=V.useState(!1),[q,le]=V.useState(!1),[fe,B]=V.useState(!1),[K,se]=V.useState(!1),[Ne,ue]=V.useState(0),[ge,xe]=V.useState(0),Se=V.useRef(null),Me=V.useRef(null),Oe=y===0,te=y+1<=g,he=m.type,oe=m.dismissible!==!1,be=m.className||"",Le=m.descriptionClassName||"",Ie=V.useMemo(()=>j.findIndex(jt=>jt.toastId===m.id)||0,[j,m.id]),de=V.useMemo(()=>{var jt;return(jt=m.closeButton)!=null?jt:E},[m.closeButton,E]),Re=V.useMemo(()=>m.duration||z||zse,[m.duration,z]),ot=V.useRef(0),wt=V.useRef(0),Qe=V.useRef(0),je=V.useRef(null),[He,ye]=U.split("-"),Je=V.useMemo(()=>j.reduce((jt,It,ar)=>ar>=Ie?jt:jt+It.height,0),[j,Ie]),sr=Ise(),Er=m.invert||f,dt=he==="loading";wt.current=V.useMemo(()=>Ie*L+Je,[Ie,Je]),V.useEffect(()=>{F(!0)},[]),V.useLayoutEffect(()=>{if(!W)return;let jt=Me.current,It=jt.style.height;jt.style.height="auto";let ar=jt.getBoundingClientRect().height;jt.style.height=It,xe(ar),p(Kn=>Kn.find(Ss=>Ss.toastId===m.id)?Kn.map(Ss=>Ss.toastId===m.id?{...Ss,height:ar}:Ss):[{toastId:m.id,height:ar,position:m.position},...Kn])},[W,m.title,m.description,p,m.id]);let Ht=V.useCallback(()=>{le(!0),ue(wt.current),p(jt=>jt.filter(It=>It.toastId!==m.id)),setTimeout(()=>{N(m)},Gse)},[m,N,p,wt]);V.useEffect(()=>{if(m.promise&&he==="loading"||m.duration===1/0||m.type==="loading")return;let jt,It=Re;return b||x||ce&&sr?(()=>{if(Qe.current<ot.current){let ar=new Date().getTime()-ot.current;It=It-ar}Qe.current=new Date().getTime()})():It!==1/0&&(ot.current=new Date().getTime(),jt=setTimeout(()=>{var ar;(ar=m.onAutoClose)==null||ar.call(m,m),Ht()},It)),()=>clearTimeout(jt)},[b,x,k,m,Re,Ht,m.promise,he,ce,sr]),V.useEffect(()=>{let jt=Me.current;if(jt){let It=jt.getBoundingClientRect().height;return xe(It),p(ar=>[{toastId:m.id,height:It,position:m.position},...ar]),()=>p(ar=>ar.filter(Kn=>Kn.toastId!==m.id))}},[p,m.id]),V.useEffect(()=>{m.delete&&Ht()},[Ht,m.delete]);function Nr(){return M!=null&&M.loading?V.createElement("div",{className:"sonner-loader","data-visible":he==="loading"},M.loading):T?V.createElement("div",{className:"sonner-loader","data-visible":he==="loading"},T):V.createElement(kse,{visible:he==="loading"})}return V.createElement("li",{"aria-live":m.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Me,className:D(R,be,O==null?void 0:O.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,O==null?void 0:O.default,O==null?void 0:O[he],(r=m==null?void 0:m.classNames)==null?void 0:r[he]),"data-sonner-toast":"","data-rich-colors":(s=m.richColors)!=null?s:S,"data-styled":!(m.jsx||m.unstyled||h),"data-mounted":W,"data-promise":!!m.promise,"data-removed":q,"data-visible":te,"data-y-position":He,"data-x-position":ye,"data-index":y,"data-front":Oe,"data-swiping":fe,"data-dismissible":oe,"data-type":he,"data-invert":Er,"data-swipe-out":K,"data-expanded":!!(b||k&&W),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${q?Ne:wt.current}px`,"--initial-height":k?"auto":`${ge}px`,...C,...m.style},onPointerDown:jt=>{dt||!oe||(Se.current=new Date,ue(wt.current),jt.target.setPointerCapture(jt.pointerId),jt.target.tagName!=="BUTTON"&&(B(!0),je.current={x:jt.clientX,y:jt.clientY}))},onPointerUp:()=>{var jt,It,ar,Kn;if(K||!oe)return;je.current=null;let Ss=Number(((jt=Me.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Li=new Date().getTime()-((It=Se.current)==null?void 0:It.getTime()),sm=Math.abs(Ss)/Li;if(Math.abs(Ss)>=qse||sm>.11){ue(wt.current),(ar=m.onDismiss)==null||ar.call(m,m),Ht(),se(!0);return}(Kn=Me.current)==null||Kn.style.setProperty("--swipe-amount","0px"),B(!1)},onPointerMove:jt=>{var It;if(!je.current||!oe)return;let ar=jt.clientY-je.current.y,Kn=jt.clientX-je.current.x,Ss=(He==="top"?Math.min:Math.max)(0,ar),Li=jt.pointerType==="touch"?10:2;Math.abs(Ss)>Li?(It=Me.current)==null||It.style.setProperty("--swipe-amount",`${ar}px`):Math.abs(Kn)>Li&&(je.current=null)}},de&&!m.jsx?V.createElement("button",{"aria-label":ie,"data-disabled":dt,"data-close-button":!0,onClick:dt||!oe?()=>{}:()=>{var jt;Ht(),(jt=m.onDismiss)==null||jt.call(m,m)},className:D(O==null?void 0:O.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},V.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,m.jsx||V.isValidElement(m.title)?m.jsx||m.title:V.createElement(V.Fragment,null,he||m.icon||m.promise?V.createElement("div",{"data-icon":"",className:D(O==null?void 0:O.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Nr():null,m.type!=="loading"?m.icon||(M==null?void 0:M[he])||Ese(he):null):null,V.createElement("div",{"data-content":"",className:D(O==null?void 0:O.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},V.createElement("div",{"data-title":"",className:D(O==null?void 0:O.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},m.title),m.description?V.createElement("div",{"data-description":"",className:D(I,Le,O==null?void 0:O.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},m.description):null),V.isValidElement(m.cancel)?m.cancel:m.cancel&&Iy(m.cancel)?V.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||A,onClick:jt=>{var It,ar;Iy(m.cancel)&&oe&&((ar=(It=m.cancel).onClick)==null||ar.call(It,jt),Ht())},className:D(O==null?void 0:O.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,V.isValidElement(m.action)?m.action:m.action&&Iy(m.action)?V.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||P,onClick:jt=>{var It,ar;Iy(m.action)&&(jt.defaultPrevented||((ar=(It=m.action).onClick)==null||ar.call(It,jt),Ht()))},className:D(O==null?void 0:O.actionButton,(u=m==null?void 0:m.classNames)==null?void 0:u.actionButton)},m.action.label):null))};function u5(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Xse=e=>{let{invert:t,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:o,offset:l,theme:c="light",richColors:d,duration:u,style:f,visibleToasts:m=Use,toastOptions:h,dir:x=u5(),gap:p=Hse,loadingIcon:g,icons:j,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:w,cn:b=Kse}=e,[N,S]=V.useState([]),E=V.useMemo(()=>Array.from(new Set([r].concat(N.filter(ce=>ce.position).map(ce=>ce.position)))),[N,r]),[C,A]=V.useState([]),[P,R]=V.useState(!1),[I,z]=V.useState(!1),[U,L]=V.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=V.useRef(null),k=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=V.useRef(null),M=V.useRef(!1),ie=V.useCallback(ce=>{var D;(D=N.find(W=>W.id===ce.id))!=null&&D.delete||di.dismiss(ce.id),S(W=>W.filter(({id:F})=>F!==ce.id))},[N]);return V.useEffect(()=>di.subscribe(ce=>{if(ce.dismiss){S(D=>D.map(W=>W.id===ce.id?{...W,delete:!0}:W));return}setTimeout(()=>{Gw.flushSync(()=>{S(D=>{let W=D.findIndex(F=>F.id===ce.id);return W!==-1?[...D.slice(0,W),{...D[W],...ce},...D.slice(W+1)]:[ce,...D]})})})}),[]),V.useEffect(()=>{if(c!=="system"){L(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:ce})=>{L(ce?"dark":"light")})},[c]),V.useEffect(()=>{N.length<=1&&R(!1)},[N]),V.useEffect(()=>{let ce=D=>{var W,F;s.every(q=>D[q]||D.code===q)&&(R(!0),(W=T.current)==null||W.focus()),D.code==="Escape"&&(document.activeElement===T.current||(F=T.current)!=null&&F.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",ce),()=>document.removeEventListener("keydown",ce)},[s]),V.useEffect(()=>{if(T.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,M.current=!1)}},[T.current]),N.length?V.createElement("section",{"aria-label":`${y} ${k}`,tabIndex:-1},E.map((ce,D)=>{var W;let[F,q]=ce.split("-");return V.createElement("ol",{key:ce,dir:x==="auto"?u5():x,tabIndex:-1,ref:T,className:o,"data-sonner-toaster":!0,"data-theme":U,"data-y-position":F,"data-x-position":q,style:{"--front-toast-height":`${((W=C[0])==null?void 0:W.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||Vse,"--width":`${Wse}px`,"--gap":`${p}px`,...f},onBlur:le=>{M.current&&!le.currentTarget.contains(le.relatedTarget)&&(M.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||M.current||(M.current=!0,O.current=le.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{I||R(!1)},onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},N.filter(le=>!le.position&&D===0||le.position===ce).map((le,fe)=>{var B,K;return V.createElement(Yse,{key:le.id,icons:j,index:fe,toast:le,defaultRichColors:d,duration:(B=h==null?void 0:h.duration)!=null?B:u,className:h==null?void 0:h.className,descriptionClassName:h==null?void 0:h.descriptionClassName,invert:t,visibleToasts:m,closeButton:(K=h==null?void 0:h.closeButton)!=null?K:i,interacting:I,position:ce,style:h==null?void 0:h.style,unstyled:h==null?void 0:h.unstyled,classNames:h==null?void 0:h.classNames,cancelButtonStyle:h==null?void 0:h.cancelButtonStyle,actionButtonStyle:h==null?void 0:h.actionButtonStyle,removeToast:ie,toasts:N.filter(se=>se.position==le.position),heights:C.filter(se=>se.position==le.position),setHeights:A,expandByDefault:a,gap:p,loadingIcon:g,expanded:P,pauseWhenPageIsHidden:w,cn:b})}))})):null};const Qse=({...e})=>{const{theme:t="system"}=wp();return n.jsx(Xse,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Zse=nk.useId||(()=>{}),Jse=0;function so(e){const[t,r]=v.useState(Zse());return is(()=>{r(s=>s??String(Jse++))},[e]),t?`radix-${t}`:""}const eae=["top","right","bottom","left"],Zd=Math.min,pi=Math.max,_b=Math.round,Ry=Math.floor,Jd=e=>({x:e,y:e}),tae={left:"right",right:"left",bottom:"top",top:"bottom"},rae={start:"end",end:"start"};function r4(e,t,r){return pi(e,Zd(t,r))}function Ic(e,t){return typeof e=="function"?e(t):e}function Rc(e){return e.split("-")[0]}function Np(e){return e.split("-")[1]}function iP(e){return e==="x"?"y":"x"}function oP(e){return e==="y"?"height":"width"}function eu(e){return["top","bottom"].includes(Rc(e))?"y":"x"}function lP(e){return iP(eu(e))}function nae(e,t,r){r===void 0&&(r=!1);const s=Np(e),a=lP(e),i=oP(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Sb(o)),[o,Sb(o)]}function sae(e){const t=Sb(e);return[n4(e),t,n4(t)]}function n4(e){return e.replace(/start|end/g,t=>rae[t])}function aae(e,t,r){const s=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:s:t?s:a;case"left":case"right":return t?i:o;default:return[]}}function iae(e,t,r,s){const a=Np(e);let i=aae(Rc(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(n4)))),i}function Sb(e){return e.replace(/left|right|bottom|top/g,t=>tae[t])}function oae(e){return{top:0,right:0,bottom:0,left:0,...e}}function X9(e){return typeof e!="number"?oae(e):{top:e,right:e,bottom:e,left:e}}function Cb(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function f5(e,t,r){let{reference:s,floating:a}=e;const i=eu(t),o=lP(t),l=oP(o),c=Rc(t),d=i==="y",u=s.x+s.width/2-a.width/2,f=s.y+s.height/2-a.height/2,m=s[l]/2-a[l]/2;let h;switch(c){case"top":h={x:u,y:s.y-a.height};break;case"bottom":h={x:u,y:s.y+s.height};break;case"right":h={x:s.x+s.width,y:f};break;case"left":h={x:s.x-a.width,y:f};break;default:h={x:s.x,y:s.y}}switch(Np(t)){case"start":h[o]-=m*(r&&d?-1:1);break;case"end":h[o]+=m*(r&&d?-1:1);break}return h}const lae=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=f5(d,s,c),m=s,h={},x=0;for(let p=0;p<l.length;p++){const{name:g,fn:j}=l[p],{x:y,y:w,data:b,reset:N}=await j({x:u,y:f,initialPlacement:s,placement:m,strategy:a,middlewareData:h,rects:d,platform:o,elements:{reference:e,floating:t}});u=y??u,f=w??f,h={...h,[g]:{...h[g],...b}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:u,y:f}=f5(d,m,c)),p=-1)}return{x:u,y:f,placement:m,strategy:a,middlewareData:h}};async function Kg(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=Ic(t,e),x=X9(h),g=l[m?f==="floating"?"reference":"floating":f],j=Cb(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=f==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Cb(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(j.top-N.top+x.top)/b.y,bottom:(N.bottom-j.bottom+x.bottom)/b.y,left:(j.left-N.left+x.left)/b.x,right:(N.right-j.right+x.right)/b.x}}const cae=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Ic(e,t)||{};if(d==null)return{};const f=X9(u),m={x:r,y:s},h=lP(a),x=oP(h),p=await o.getDimensions(d),g=h==="y",j=g?"top":"left",y=g?"bottom":"right",w=g?"clientHeight":"clientWidth",b=i.reference[x]+i.reference[h]-m[h]-i.floating[x],N=m[h]-i.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=S?S[w]:0;(!E||!await(o.isElement==null?void 0:o.isElement(S)))&&(E=l.floating[w]||i.floating[x]);const C=b/2-N/2,A=E/2-p[x]/2-1,P=Zd(f[j],A),R=Zd(f[y],A),I=P,z=E-p[x]-R,U=E/2-p[x]/2+C,L=r4(I,U,z),T=!c.arrow&&Np(a)!=null&&U!==L&&i.reference[x]/2-(U<I?P:R)-p[x]/2<0,k=T?U<I?U-I:U-z:0;return{[h]:m[h]+k,data:{[h]:L,centerOffset:U-L-k,...T&&{alignmentOffset:k}},reset:T}}}),dae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...g}=Ic(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const j=Rc(a),y=eu(l),w=Rc(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=m||(w||!p?[Sb(l)]:sae(l)),S=x!=="none";!m&&S&&N.push(...iae(l,p,x,b));const E=[l,...N],C=await Kg(t,g),A=[];let P=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&A.push(C[j]),f){const U=nae(a,o,b);A.push(C[U[0]],C[U[1]])}if(P=[...P,{placement:a,overflows:A}],!A.every(U=>U<=0)){var R,I;const U=(((R=i.flip)==null?void 0:R.index)||0)+1,L=E[U];if(L)return{data:{index:U,overflows:P},reset:{placement:L}};let T=(I=P.filter(k=>k.overflows[0]<=0).sort((k,O)=>k.overflows[1]-O.overflows[1])[0])==null?void 0:I.placement;if(!T)switch(h){case"bestFit":{var z;const k=(z=P.filter(O=>{if(S){const M=eu(O.placement);return M===y||M==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(M=>M>0).reduce((M,ie)=>M+ie,0)]).sort((O,M)=>O[1]-M[1])[0])==null?void 0:z[0];k&&(T=k);break}case"initialPlacement":T=l;break}if(a!==T)return{reset:{placement:T}}}return{}}}};function m5(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function h5(e){return eae.some(t=>e[t]>=0)}const uae=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=Ic(e,t);switch(s){case"referenceHidden":{const i=await Kg(t,{...a,elementContext:"reference"}),o=m5(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:h5(o)}}}case"escaped":{const i=await Kg(t,{...a,altBoundary:!0}),o=m5(i,r.floating);return{data:{escapedOffsets:o,escaped:h5(o)}}}default:return{}}}}};async function fae(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Rc(r),l=Np(r),c=eu(r)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,f=Ic(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(h=l==="end"?x*-1:x),c?{x:h*u,y:m*d}:{x:m*d,y:h*u}}const mae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await fae(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},hae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:j,y}=g;return{x:j,y}}},...c}=Ic(e,t),d={x:r,y:s},u=await Kg(t,c),f=eu(Rc(a)),m=iP(f);let h=d[m],x=d[f];if(i){const g=m==="y"?"top":"left",j=m==="y"?"bottom":"right",y=h+u[g],w=h-u[j];h=r4(y,h,w)}if(o){const g=f==="y"?"top":"left",j=f==="y"?"bottom":"right",y=x+u[g],w=x-u[j];x=r4(y,x,w)}const p=l.fn({...t,[m]:h,[f]:x});return{...p,data:{x:p.x-r,y:p.y-s,enabled:{[m]:i,[f]:o}}}}}},pae=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Ic(e,t),u={x:r,y:s},f=eu(a),m=iP(f);let h=u[m],x=u[f];const p=Ic(l,t),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=m==="y"?"height":"width",b=i.reference[m]-i.floating[w]+g.mainAxis,N=i.reference[m]+i.reference[w]-g.mainAxis;h<b?h=b:h>N&&(h=N)}if(d){var j,y;const w=m==="y"?"width":"height",b=["top","left"].includes(Rc(a)),N=i.reference[f]-i.floating[w]+(b&&((j=o.offset)==null?void 0:j[f])||0)+(b?0:g.crossAxis),S=i.reference[f]+i.reference[w]+(b?0:((y=o.offset)==null?void 0:y[f])||0)-(b?g.crossAxis:0);x<N?x=N:x>S&&(x=S)}return{[m]:h,[f]:x}}}},xae=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Ic(e,t),u=await Kg(t,d),f=Rc(a),m=Np(a),h=eu(a)==="y",{width:x,height:p}=i.floating;let g,j;f==="top"||f==="bottom"?(g=f,j=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(j=f,g=m==="end"?"top":"bottom");const y=p-u.top-u.bottom,w=x-u.left-u.right,b=Zd(p-u[g],y),N=Zd(x-u[j],w),S=!t.middlewareData.shift;let E=b,C=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=w),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(E=y),S&&!m){const P=pi(u.left,0),R=pi(u.right,0),I=pi(u.top,0),z=pi(u.bottom,0);h?C=x-2*(P!==0||R!==0?P+R:pi(u.left,u.right)):E=p-2*(I!==0||z!==0?I+z:pi(u.top,u.bottom))}await c({...t,availableWidth:C,availableHeight:E});const A=await o.getDimensions(l.floating);return x!==A.width||p!==A.height?{reset:{rects:!0}}:{}}}};function Jw(){return typeof window<"u"}function _p(e){return Q9(e)?(e.nodeName||"").toLowerCase():"#document"}function wi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Hl(e){var t;return(t=(Q9(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Q9(e){return Jw()?e instanceof Node||e instanceof wi(e).Node:!1}function Qo(e){return Jw()?e instanceof Element||e instanceof wi(e).Element:!1}function Ll(e){return Jw()?e instanceof HTMLElement||e instanceof wi(e).HTMLElement:!1}function p5(e){return!Jw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wi(e).ShadowRoot}function bv(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=Zo(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!["inline","contents"].includes(a)}function gae(e){return["table","td","th"].includes(_p(e))}function eN(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function cP(e){const t=dP(),r=Qo(e)?Zo(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function vae(e){let t=tu(e);for(;Ll(t)&&!kh(t);){if(cP(t))return t;if(eN(t))return null;t=tu(t)}return null}function dP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function kh(e){return["html","body","#document"].includes(_p(e))}function Zo(e){return wi(e).getComputedStyle(e)}function tN(e){return Qo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function tu(e){if(_p(e)==="html")return e;const t=e.assignedSlot||e.parentNode||p5(e)&&e.host||Hl(e);return p5(t)?t.host:t}function Z9(e){const t=tu(e);return kh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ll(t)&&bv(t)?t:Z9(t)}function Yg(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=Z9(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=wi(a);if(i){const l=s4(o);return t.concat(o,o.visualViewport||[],bv(a)?a:[],l&&r?Yg(l):[])}return t.concat(a,Yg(a,[],r))}function s4(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function J9(e){const t=Zo(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=Ll(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,l=_b(r)!==i||_b(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function uP(e){return Qo(e)?e:e.contextElement}function Xm(e){const t=uP(e);if(!Ll(t))return Jd(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=J9(t);let o=(i?_b(r.width):r.width)/s,l=(i?_b(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const yae=Jd(0);function e7(e){const t=wi(e);return!dP()||!t.visualViewport?yae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function jae(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==wi(e)?!1:t}function jf(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=uP(e);let o=Jd(1);t&&(s?Qo(s)&&(o=Xm(s)):o=Xm(e));const l=jae(i,r,s)?e7(i):Jd(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const m=wi(i),h=s&&Qo(s)?wi(s):s;let x=m,p=s4(x);for(;p&&s&&h!==x;){const g=Xm(p),j=p.getBoundingClientRect(),y=Zo(p),w=j.left+(p.clientLeft+parseFloat(y.paddingLeft))*g.x,b=j.top+(p.clientTop+parseFloat(y.paddingTop))*g.y;c*=g.x,d*=g.y,u*=g.x,f*=g.y,c+=w,d+=b,x=wi(p),p=s4(x)}}return Cb({width:u,height:f,x:c,y:d})}function bae(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=Hl(s),l=t?eN(t.floating):!1;if(s===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Jd(1);const u=Jd(0),f=Ll(s);if((f||!f&&!i)&&((_p(s)!=="body"||bv(o))&&(c=tN(s)),Ll(s))){const m=jf(s);d=Xm(s),u.x=m.x+s.clientLeft,u.y=m.y+s.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x,y:r.y*d.y-c.scrollTop*d.y+u.y}}function wae(e){return Array.from(e.getClientRects())}function a4(e,t){const r=tN(e).scrollLeft;return t?t.left+r:jf(Hl(e)).left+r}function Nae(e){const t=Hl(e),r=tN(e),s=e.ownerDocument.body,a=pi(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=pi(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+a4(e);const l=-r.scrollTop;return Zo(s).direction==="rtl"&&(o+=pi(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function _ae(e,t){const r=wi(e),s=Hl(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=dP();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function Sae(e,t){const r=jf(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=Ll(e)?Xm(e):Jd(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function x5(e,t,r){let s;if(t==="viewport")s=_ae(e,r);else if(t==="document")s=Nae(Hl(e));else if(Qo(t))s=Sae(t,r);else{const a=e7(e);s={...t,x:t.x-a.x,y:t.y-a.y}}return Cb(s)}function t7(e,t){const r=tu(e);return r===t||!Qo(r)||kh(r)?!1:Zo(r).position==="fixed"||t7(r,t)}function Cae(e,t){const r=t.get(e);if(r)return r;let s=Yg(e,[],!1).filter(l=>Qo(l)&&_p(l)!=="body"),a=null;const i=Zo(e).position==="fixed";let o=i?tu(e):e;for(;Qo(o)&&!kh(o);){const l=Zo(o),c=cP(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||bv(o)&&!c&&t7(e,o))?s=s.filter(u=>u!==o):a=l,o=tu(o)}return t.set(e,s),s}function Eae(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?eN(t)?[]:Cae(t,this._c):[].concat(r),s],l=o[0],c=o.reduce((d,u)=>{const f=x5(t,u,a);return d.top=pi(f.top,d.top),d.right=Zd(f.right,d.right),d.bottom=Zd(f.bottom,d.bottom),d.left=pi(f.left,d.left),d},x5(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Aae(e){const{width:t,height:r}=J9(e);return{width:t,height:r}}function kae(e,t,r){const s=Ll(t),a=Hl(t),i=r==="fixed",o=jf(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Jd(0);if(s||!s&&!i)if((_p(t)!=="body"||bv(a))&&(l=tN(t)),s){const h=jf(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=a4(a));let d=0,u=0;if(a&&!s&&!i){const h=a.getBoundingClientRect();u=h.top+l.scrollTop,d=h.left+l.scrollLeft-a4(a,h)}const f=o.left+l.scrollLeft-c.x-d,m=o.top+l.scrollTop-c.y-u;return{x:f,y:m,width:o.width,height:o.height}}function S_(e){return Zo(e).position==="static"}function g5(e,t){if(!Ll(e)||Zo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Hl(e)===r&&(r=r.ownerDocument.body),r}function r7(e,t){const r=wi(e);if(eN(e))return r;if(!Ll(e)){let a=tu(e);for(;a&&!kh(a);){if(Qo(a)&&!S_(a))return a;a=tu(a)}return r}let s=g5(e,t);for(;s&&gae(s)&&S_(s);)s=g5(s,t);return s&&kh(s)&&S_(s)&&!cP(s)?r:s||vae(e)||r}const Pae=async function(e){const t=this.getOffsetParent||r7,r=this.getDimensions,s=await r(e.floating);return{reference:kae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Tae(e){return Zo(e).direction==="rtl"}const Oae={convertOffsetParentRelativeRectToViewportRelativeRect:bae,getDocumentElement:Hl,getClippingRect:Eae,getOffsetParent:r7,getElementRects:Pae,getClientRects:wae,getDimensions:Aae,getScale:Xm,isElement:Qo,isRTL:Tae};function Dae(e,t){let r=null,s;const a=Hl(e);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:u,width:f,height:m}=e.getBoundingClientRect();if(l||t(),!f||!m)return;const h=Ry(u),x=Ry(a.clientWidth-(d+f)),p=Ry(a.clientHeight-(u+m)),g=Ry(d),y={rootMargin:-h+"px "+-x+"px "+-p+"px "+-g+"px",threshold:pi(0,Zd(1,c))||1};let w=!0;function b(N){const S=N[0].intersectionRatio;if(S!==c){if(!w)return o();S?o(!1,S):s=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(b,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(b,y)}r.observe(e)}return o(!0),i}function Iae(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=uP(e),u=a||i?[...d?Yg(d):[],...Yg(t)]:[];u.forEach(j=>{a&&j.addEventListener("scroll",r,{passive:!0}),i&&j.addEventListener("resize",r)});const f=d&&l?Dae(d,r):null;let m=-1,h=null;o&&(h=new ResizeObserver(j=>{let[y]=j;y&&y.target===d&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),r()}),d&&!c&&h.observe(d),h.observe(t));let x,p=c?jf(e):null;c&&g();function g(){const j=jf(e);p&&(j.x!==p.x||j.y!==p.y||j.width!==p.width||j.height!==p.height)&&r(),p=j,x=requestAnimationFrame(g)}return r(),()=>{var j;u.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(j=h)==null||j.disconnect(),h=null,c&&cancelAnimationFrame(x)}}const Rae=mae,Mae=hae,Fae=dae,$ae=xae,Lae=uae,v5=cae,Bae=pae,Uae=(e,t,r)=>{const s=new Map,a={platform:Oae,...r},i={...a.platform,_c:s};return lae(e,t,{...a,platform:i})};var Lj=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Eb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!Eb(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Eb(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function n7(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function y5(e,t){const r=n7(e);return Math.round(t*r)/r}function C_(e){const t=v.useRef(e);return Lj(()=>{t.current=e}),t}function Vae(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=v.useState(s);Eb(m,s)||h(s);const[x,p]=v.useState(null),[g,j]=v.useState(null),y=v.useCallback(O=>{O!==S.current&&(S.current=O,p(O))},[]),w=v.useCallback(O=>{O!==E.current&&(E.current=O,j(O))},[]),b=i||x,N=o||g,S=v.useRef(null),E=v.useRef(null),C=v.useRef(u),A=c!=null,P=C_(c),R=C_(a),I=C_(d),z=v.useCallback(()=>{if(!S.current||!E.current)return;const O={placement:t,strategy:r,middleware:m};R.current&&(O.platform=R.current),Uae(S.current,E.current,O).then(M=>{const ie={...M,isPositioned:I.current!==!1};U.current&&!Eb(C.current,ie)&&(C.current=ie,po.flushSync(()=>{f(ie)}))})},[m,t,r,R,I]);Lj(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[d]);const U=v.useRef(!1);Lj(()=>(U.current=!0,()=>{U.current=!1}),[]),Lj(()=>{if(b&&(S.current=b),N&&(E.current=N),b&&N){if(P.current)return P.current(b,N,z);z()}},[b,N,z,P,A]);const L=v.useMemo(()=>({reference:S,floating:E,setReference:y,setFloating:w}),[y,w]),T=v.useMemo(()=>({reference:b,floating:N}),[b,N]),k=v.useMemo(()=>{const O={position:r,left:0,top:0};if(!T.floating)return O;const M=y5(T.floating,u.x),ie=y5(T.floating,u.y);return l?{...O,transform:"translate("+M+"px, "+ie+"px)",...n7(T.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:ie}},[r,l,T.floating,u.x,u.y]);return v.useMemo(()=>({...u,update:z,refs:L,elements:T,floatingStyles:k}),[u,z,L,T,k])}const zae=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?v5({element:s.current,padding:a}).fn(r):{}:s?v5({element:s,padding:a}).fn(r):{}}}},Wae=(e,t)=>({...Rae(e),options:[e,t]}),Hae=(e,t)=>({...Mae(e),options:[e,t]}),qae=(e,t)=>({...Bae(e),options:[e,t]}),Gae=(e,t)=>({...Fae(e),options:[e,t]}),Kae=(e,t)=>({...$ae(e),options:[e,t]}),Yae=(e,t)=>({...Lae(e),options:[e,t]}),Xae=(e,t)=>({...zae(e),options:[e,t]});var Qae="Arrow",s7=v.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(bt.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});s7.displayName=Qae;var Zae=s7;function Jae(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,eie(a,...t)]}function eie(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function rN(e){const[t,r]=v.useState(void 0);return is(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var fP="Popper",[a7,uu]=Jae(fP),[tie,i7]=a7(fP),o7=e=>{const{__scopePopper:t,children:r}=e,[s,a]=v.useState(null);return n.jsx(tie,{scope:t,anchor:s,onAnchorChange:a,children:r})};o7.displayName=fP;var l7="PopperAnchor",c7=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=i7(l7,r),o=v.useRef(null),l=Ft(t,o);return v.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:n.jsx(bt.div,{...a,ref:l})});c7.displayName=l7;var mP="PopperContent",[rie,nie]=a7(mP),d7=v.forwardRef((e,t)=>{var fe,B,K,se,Ne,ue;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:x,...p}=e,g=i7(mP,r),[j,y]=v.useState(null),w=Ft(t,ge=>y(ge)),[b,N]=v.useState(null),S=rN(b),E=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,A=s+(i!=="center"?"-"+i:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},R=Array.isArray(d)?d:[d],I=R.length>0,z={padding:P,boundary:R.filter(aie),altBoundary:I},{refs:U,floatingStyles:L,placement:T,isPositioned:k,middlewareData:O}=Vae({strategy:"fixed",placement:A,whileElementsMounted:(...ge)=>Iae(...ge,{animationFrame:h==="always"}),elements:{reference:g.anchor},middleware:[Wae({mainAxis:a+C,alignmentAxis:o}),c&&Hae({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?qae():void 0,...z}),c&&Gae({...z}),Kae({...z,apply:({elements:ge,rects:xe,availableWidth:Se,availableHeight:Me})=>{const{width:Oe,height:te}=xe.reference,he=ge.floating.style;he.setProperty("--radix-popper-available-width",`${Se}px`),he.setProperty("--radix-popper-available-height",`${Me}px`),he.setProperty("--radix-popper-anchor-width",`${Oe}px`),he.setProperty("--radix-popper-anchor-height",`${te}px`)}}),b&&Xae({element:b,padding:l}),iie({arrowWidth:E,arrowHeight:C}),m&&Yae({strategy:"referenceHidden",...z})]}),[M,ie]=m7(T),ce=an(x);is(()=>{k&&(ce==null||ce())},[k,ce]);const D=(fe=O.arrow)==null?void 0:fe.x,W=(B=O.arrow)==null?void 0:B.y,F=((K=O.arrow)==null?void 0:K.centerOffset)!==0,[q,le]=v.useState();return is(()=>{j&&le(window.getComputedStyle(j).zIndex)},[j]),n.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:k?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(se=O.transformOrigin)==null?void 0:se.x,(Ne=O.transformOrigin)==null?void 0:Ne.y].join(" "),...((ue=O.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(rie,{scope:r,placedSide:M,onArrowChange:N,arrowX:D,arrowY:W,shouldHideArrow:F,children:n.jsx(bt.div,{"data-side":M,"data-align":ie,...p,ref:w,style:{...p.style,animation:k?void 0:"none"}})})})});d7.displayName=mP;var u7="PopperArrow",sie={top:"bottom",right:"left",bottom:"top",left:"right"},f7=v.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=nie(u7,s),o=sie[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(Zae,{...a,ref:r,style:{...a.style,display:"block"}})})});f7.displayName=u7;function aie(e){return e!==null}var iie=e=>({name:"transformOrigin",options:e,fn(t){var g,j,y;const{placement:r,rects:s,middlewareData:a}=t,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=m7(r),f={start:"0%",center:"50%",end:"100%"}[u],m=(((j=a.arrow)==null?void 0:j.x)??0)+l/2,h=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let x="",p="";return d==="bottom"?(x=o?f:`${m}px`,p=`${-c}px`):d==="top"?(x=o?f:`${m}px`,p=`${s.floating.height+c}px`):d==="right"?(x=`${-c}px`,p=o?f:`${h}px`):d==="left"&&(x=`${s.floating.width+c}px`,p=o?f:`${h}px`),{data:{x,y:p}}}});function m7(e){const[t,r="center"]=e.split("-");return[t,r]}var nN=o7,wv=c7,sN=d7,aN=f7,[iN,Ctt]=Pa("Tooltip",[uu]),oN=uu(),h7="TooltipProvider",oie=700,i4="tooltip.open",[lie,hP]=iN(h7),p7=e=>{const{__scopeTooltip:t,delayDuration:r=oie,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,[o,l]=v.useState(!0),c=v.useRef(!1),d=v.useRef(0);return v.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),n.jsx(lie,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(u=>{c.current=u},[]),disableHoverableContent:a,children:i})};p7.displayName=h7;var lN="Tooltip",[cie,cN]=iN(lN),x7=e=>{const{__scopeTooltip:t,children:r,open:s,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=hP(lN,e.__scopeTooltip),d=oN(t),[u,f]=v.useState(null),m=so(),h=v.useRef(0),x=o??c.disableHoverableContent,p=l??c.delayDuration,g=v.useRef(!1),[j=!1,y]=uo({prop:s,defaultProp:a,onChange:E=>{E?(c.onOpen(),document.dispatchEvent(new CustomEvent(i4))):c.onClose(),i==null||i(E)}}),w=v.useMemo(()=>j?g.current?"delayed-open":"instant-open":"closed",[j]),b=v.useCallback(()=>{window.clearTimeout(h.current),h.current=0,g.current=!1,y(!0)},[y]),N=v.useCallback(()=>{window.clearTimeout(h.current),h.current=0,y(!1)},[y]),S=v.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{g.current=!0,y(!0),h.current=0},p)},[p,y]);return v.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),n.jsx(nN,{...d,children:n.jsx(cie,{scope:t,contentId:m,open:j,stateAttribute:w,trigger:u,onTriggerChange:f,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayed?S():b()},[c.isOpenDelayed,S,b]),onTriggerLeave:v.useCallback(()=>{x?N():(window.clearTimeout(h.current),h.current=0)},[N,x]),onOpen:b,onClose:N,disableHoverableContent:x,children:r})})};x7.displayName=lN;var o4="TooltipTrigger",g7=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=cN(o4,r),i=hP(o4,r),o=oN(r),l=v.useRef(null),c=Ft(t,l,a.onTriggerChange),d=v.useRef(!1),u=v.useRef(!1),f=v.useCallback(()=>d.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),n.jsx(wv,{asChild:!0,...o,children:n.jsx(bt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:qe(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:qe(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:qe(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:qe(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:qe(e.onBlur,a.onClose),onClick:qe(e.onClick,a.onClose)})})});g7.displayName=o4;var die="TooltipPortal",[Ett,uie]=iN(die,{forceMount:void 0}),Ph="TooltipContent",v7=v.forwardRef((e,t)=>{const r=uie(Ph,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...i}=e,o=cN(Ph,e.__scopeTooltip);return n.jsx(os,{present:s||o.open,children:o.disableHoverableContent?n.jsx(y7,{side:a,...i,ref:t}):n.jsx(fie,{side:a,...i,ref:t})})}),fie=v.forwardRef((e,t)=>{const r=cN(Ph,e.__scopeTooltip),s=hP(Ph,e.__scopeTooltip),a=v.useRef(null),i=Ft(t,a),[o,l]=v.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:f}=s,m=v.useCallback(()=>{l(null),f(!1)},[f]),h=v.useCallback((x,p)=>{const g=x.currentTarget,j={x:x.clientX,y:x.clientY},y=xie(j,g.getBoundingClientRect()),w=gie(j,y),b=vie(p.getBoundingClientRect()),N=jie([...w,...b]);l(N),f(!0)},[f]);return v.useEffect(()=>()=>m(),[m]),v.useEffect(()=>{if(c&&u){const x=g=>h(g,u),p=g=>h(g,c);return c.addEventListener("pointerleave",x),u.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",p)}}},[c,u,h,m]),v.useEffect(()=>{if(o){const x=p=>{const g=p.target,j={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(g))||(u==null?void 0:u.contains(g)),w=!yie(j,o);y?m():w&&(m(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,u,o,d,m]),n.jsx(y7,{...e,ref:i})}),[mie,hie]=iN(lN,{isInside:!1}),y7=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=cN(Ph,r),d=oN(r),{onClose:u}=c;return v.useEffect(()=>(document.addEventListener(i4,u),()=>document.removeEventListener(i4,u)),[u]),v.useEffect(()=>{if(c.trigger){const f=m=>{const h=m.target;h!=null&&h.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),n.jsx(zf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:n.jsxs(sN,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(Kk,{children:s}),n.jsx(mie,{scope:r,isInside:!0,children:n.jsx(Wre,{id:c.contentId,role:"tooltip",children:a||s})})]})})});v7.displayName=Ph;var j7="TooltipArrow",pie=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=oN(r);return hie(j7,r).isInside?null:n.jsx(aN,{...a,...s,ref:t})});pie.displayName=j7;function xie(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,s,a,i)){case i:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function gie(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function vie(e){const{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}function yie(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>s!=u>s&&r<(d-l)*(s-c)/(u-c)+l&&(a=!a)}return a}function jie(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),bie(t)}function bie(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var wie=p7,Nie=x7,_ie=g7,b7=v7;const w7=wie,Sie=Nie,Cie=_ie,N7=v.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(b7,{ref:s,sideOffset:t,className:ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));N7.displayName=b7.displayName;var Sp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bf=typeof window>"u"||"Deno"in globalThis;function Ki(){}function Eie(e,t){return typeof e=="function"?e(t):e}function l4(e){return typeof e=="number"&&e>=0&&e!==1/0}function _7(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qm(e,t){return typeof e=="function"?e(t):e}function Mo(e,t){return typeof e=="function"?e(t):e}function j5(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==pP(o,t.options))return!1}else if(!Xg(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function b5(e,t){const{exact:r,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(wf(t.options.mutationKey)!==wf(i))return!1}else if(!Xg(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function pP(e,t){return((t==null?void 0:t.queryKeyHashFn)||wf)(e)}function wf(e){return JSON.stringify(e,(t,r)=>c4(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function Xg(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Xg(e[r],t[r])):!1}function S7(e,t){if(e===t)return e;const r=w5(e)&&w5(t);if(r||c4(e)&&c4(t)){const s=r?e:Object.keys(e),a=s.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d];(!r&&s.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=S7(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function Ab(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function w5(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function c4(e){if(!N5(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!N5(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function N5(e){return Object.prototype.toString.call(e)==="[object Object]"}function Aie(e){return new Promise(t=>{setTimeout(t,e)})}function d4(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?S7(e,t):t}function kie(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function Pie(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var xP=Symbol();function C7(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===xP?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Zu,xd,ch,TL,Tie=(TL=class extends Sp{constructor(){super();Et(this,Zu);Et(this,xd);Et(this,ch);ht(this,ch,t=>{if(!bf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){pe(this,xd)||this.setEventListener(pe(this,ch))}onUnsubscribe(){var t;this.hasListeners()||((t=pe(this,xd))==null||t.call(this),ht(this,xd,void 0))}setEventListener(t){var r;ht(this,ch,t),(r=pe(this,xd))==null||r.call(this),ht(this,xd,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){pe(this,Zu)!==t&&(ht(this,Zu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof pe(this,Zu)=="boolean"?pe(this,Zu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Zu=new WeakMap,xd=new WeakMap,ch=new WeakMap,TL),gP=new Tie,dh,gd,uh,OL,Oie=(OL=class extends Sp{constructor(){super();Et(this,dh,!0);Et(this,gd);Et(this,uh);ht(this,uh,t=>{if(!bf&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){pe(this,gd)||this.setEventListener(pe(this,uh))}onUnsubscribe(){var t;this.hasListeners()||((t=pe(this,gd))==null||t.call(this),ht(this,gd,void 0))}setEventListener(t){var r;ht(this,uh,t),(r=pe(this,gd))==null||r.call(this),ht(this,gd,t(this.setOnline.bind(this)))}setOnline(t){pe(this,dh)!==t&&(ht(this,dh,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return pe(this,dh)}},dh=new WeakMap,gd=new WeakMap,uh=new WeakMap,OL),kb=new Oie;function u4(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}function Die(e){return Math.min(1e3*2**e,3e4)}function E7(e){return(e??"online")==="online"?kb.isOnline():!0}var A7=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function E_(e){return e instanceof A7}function k7(e){let t=!1,r=0,s=!1,a;const i=u4(),o=p=>{var g;s||(m(new A7(p)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>gP.isFocused()&&(e.networkMode==="always"||kb.isOnline())&&e.canRun(),u=()=>E7(e.networkMode)&&e.canRun(),f=p=>{var g;s||(s=!0,(g=e.onSuccess)==null||g.call(e,p),a==null||a(),i.resolve(p))},m=p=>{var g;s||(s=!0,(g=e.onError)==null||g.call(e,p),a==null||a(),i.reject(p))},h=()=>new Promise(p=>{var g;a=j=>{(s||d())&&p(j)},(g=e.onPause)==null||g.call(e)}).then(()=>{var p;a=void 0,s||(p=e.onContinue)==null||p.call(e)}),x=()=>{if(s)return;let p;const g=r===0?e.initialPromise:void 0;try{p=g??e.fn()}catch(j){p=Promise.reject(j)}Promise.resolve(p).then(f).catch(j=>{var S;if(s)return;const y=e.retry??(bf?0:3),w=e.retryDelay??Die,b=typeof w=="function"?w(r,j):w,N=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,j);if(t||!N){m(j);return}r++,(S=e.onFail)==null||S.call(e,r,j),Aie(b).then(()=>d()?void 0:h()).then(()=>{t?m(j):x()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?x():h().then(x),i)}}function Iie(){let e=[],t=0,r=l=>{l()},s=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var es=Iie(),Ju,DL,P7=(DL=class{constructor(){Et(this,Ju)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),l4(this.gcTime)&&ht(this,Ju,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(bf?1/0:5*60*1e3))}clearGcTimeout(){pe(this,Ju)&&(clearTimeout(pe(this,Ju)),ht(this,Ju,void 0))}},Ju=new WeakMap,DL),fh,mh,Gi,Gs,iv,ef,To,nc,IL,Rie=(IL=class extends P7{constructor(t){super();Et(this,To);Et(this,fh);Et(this,mh);Et(this,Gi);Et(this,Gs);Et(this,iv);Et(this,ef);ht(this,ef,!1),ht(this,iv,t.defaultOptions),this.setOptions(t.options),this.observers=[],ht(this,Gi,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ht(this,fh,Mie(this.options)),this.state=t.state??pe(this,fh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=pe(this,Gs))==null?void 0:t.promise}setOptions(t){this.options={...pe(this,iv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&pe(this,Gi).remove(this)}setData(t,r){const s=d4(this.state.data,t,this.options);return Xt(this,To,nc).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){Xt(this,To,nc).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=pe(this,Gs))==null?void 0:s.promise;return(a=pe(this,Gs))==null||a.cancel(t),r?r.then(Ki).catch(Ki):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(pe(this,fh))}isActive(){return this.observers.some(t=>Mo(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!_7(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=pe(this,Gs))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=pe(this,Gs))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),pe(this,Gi).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(pe(this,Gs)&&(pe(this,ef)?pe(this,Gs).cancel({revert:!0}):pe(this,Gs).cancelRetry()),this.scheduleGc()),pe(this,Gi).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xt(this,To,nc).call(this,{type:"invalidate"})}fetch(t,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(pe(this,Gs))return pe(this,Gs).continueRetry(),pe(this,Gs).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ht(this,ef,!0),s.signal)})},i=()=>{const f=C7(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return a(m),ht(this,ef,!1),this.options.persister?this.options.persister(f,m,this):f(m)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),ht(this,mh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Xt(this,To,nc).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=f=>{var m,h,x,p;E_(f)&&f.silent||Xt(this,To,nc).call(this,{type:"error",error:f}),E_(f)||((h=(m=pe(this,Gi).config).onError)==null||h.call(m,f,this),(p=(x=pe(this,Gi).config).onSettled)==null||p.call(x,this.state.data,f,this)),this.scheduleGc()};return ht(this,Gs,k7({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var m,h,x,p;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(g){l(g);return}(h=(m=pe(this,Gi).config).onSuccess)==null||h.call(m,f,this),(p=(x=pe(this,Gi).config).onSettled)==null||p.call(x,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Xt(this,To,nc).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Xt(this,To,nc).call(this,{type:"pause"})},onContinue:()=>{Xt(this,To,nc).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),pe(this,Gs).start()}},fh=new WeakMap,mh=new WeakMap,Gi=new WeakMap,Gs=new WeakMap,iv=new WeakMap,ef=new WeakMap,To=new WeakSet,nc=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...T7(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return E_(a)&&a.revert&&pe(this,mh)?{...pe(this,mh),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),es.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),pe(this,Gi).notify({query:this,type:"updated",action:t})})},IL);function T7(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:E7(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Mie(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var bl,RL,Fie=(RL=class extends Sp{constructor(t={}){super();Et(this,bl);this.config=t,ht(this,bl,new Map)}build(t,r,s){const a=r.queryKey,i=r.queryHash??pP(a,r);let o=this.get(i);return o||(o=new Rie({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){pe(this,bl).has(t.queryHash)||(pe(this,bl).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=pe(this,bl).get(t.queryHash);r&&(t.destroy(),r===t&&pe(this,bl).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){es.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return pe(this,bl).get(t)}getAll(){return[...pe(this,bl).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>j5(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>j5(t,s)):r}notify(t){es.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){es.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){es.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},bl=new WeakMap,RL),wl,la,tf,Nl,sd,ML,$ie=(ML=class extends P7{constructor(t){super();Et(this,Nl);Et(this,wl);Et(this,la);Et(this,tf);this.mutationId=t.mutationId,ht(this,la,t.mutationCache),ht(this,wl,[]),this.state=t.state||O7(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){pe(this,wl).includes(t)||(pe(this,wl).push(t),this.clearGcTimeout(),pe(this,la).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ht(this,wl,pe(this,wl).filter(r=>r!==t)),this.scheduleGc(),pe(this,la).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){pe(this,wl).length||(this.state.status==="pending"?this.scheduleGc():pe(this,la).remove(this))}continue(){var t;return((t=pe(this,tf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,d,u,f,m,h,x,p,g,j,y,w,b,N,S,E;ht(this,tf,k7({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,A)=>{Xt(this,Nl,sd).call(this,{type:"failed",failureCount:C,error:A})},onPause:()=>{Xt(this,Nl,sd).call(this,{type:"pause"})},onContinue:()=>{Xt(this,Nl,sd).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>pe(this,la).canRun(this)}));const r=this.state.status==="pending",s=!pe(this,tf).canStart();try{if(!r){Xt(this,Nl,sd).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(a=pe(this,la).config).onMutate)==null?void 0:i.call(a,t,this));const A=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));A!==this.state.context&&Xt(this,Nl,sd).call(this,{type:"pending",context:A,variables:t,isPaused:s})}const C=await pe(this,tf).start();return await((d=(c=pe(this,la).config).onSuccess)==null?void 0:d.call(c,C,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,C,t,this.state.context)),await((h=(m=pe(this,la).config).onSettled)==null?void 0:h.call(m,C,null,this.state.variables,this.state.context,this)),await((p=(x=this.options).onSettled)==null?void 0:p.call(x,C,null,t,this.state.context)),Xt(this,Nl,sd).call(this,{type:"success",data:C}),C}catch(C){try{throw await((j=(g=pe(this,la).config).onError)==null?void 0:j.call(g,C,t,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,C,t,this.state.context)),await((N=(b=pe(this,la).config).onSettled)==null?void 0:N.call(b,void 0,C,this.state.variables,this.state.context,this)),await((E=(S=this.options).onSettled)==null?void 0:E.call(S,void 0,C,t,this.state.context)),C}finally{Xt(this,Nl,sd).call(this,{type:"error",error:C})}}finally{pe(this,la).runNext(this)}}},wl=new WeakMap,la=new WeakMap,tf=new WeakMap,Nl=new WeakSet,sd=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),es.batch(()=>{pe(this,wl).forEach(s=>{s.onMutationUpdate(t)}),pe(this,la).notify({mutation:this,type:"updated",action:t})})},ML);function O7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ci,ov,FL,Lie=(FL=class extends Sp{constructor(t={}){super();Et(this,ci);Et(this,ov);this.config=t,ht(this,ci,new Map),ht(this,ov,Date.now())}build(t,r,s){const a=new $ie({mutationCache:this,mutationId:++my(this,ov)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){const r=My(t),s=pe(this,ci).get(r)??[];s.push(t),pe(this,ci).set(r,s),this.notify({type:"added",mutation:t})}remove(t){var s;const r=My(t);if(pe(this,ci).has(r)){const a=(s=pe(this,ci).get(r))==null?void 0:s.filter(i=>i!==t);a&&(a.length===0?pe(this,ci).delete(r):pe(this,ci).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const r=(s=pe(this,ci).get(My(t)))==null?void 0:s.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var s;const r=(s=pe(this,ci).get(My(t)))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){es.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...pe(this,ci).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(s=>b5(r,s))}findAll(t={}){return this.getAll().filter(r=>b5(t,r))}notify(t){es.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return es.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ki))))}},ci=new WeakMap,ov=new WeakMap,FL);function My(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function _5(e){return{onFetch:(t,r)=>{var u,f,m,h,x;const s=t.options,a=(m=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((h=t.state.data)==null?void 0:h.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},j=C7(t.options,t.fetchOptions),y=async(w,b,N)=>{if(p)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const S={queryKey:t.queryKey,pageParam:b,direction:N?"backward":"forward",meta:t.options.meta};g(S);const E=await j(S),{maxPages:C}=t.options,A=N?Pie:kie;return{pages:A(w.pages,E,C),pageParams:A(w.pageParams,b,C)}};if(a&&i.length){const w=a==="backward",b=w?Bie:S5,N={pages:i,pageParams:o},S=b(s,N);l=await y(N,S,w)}else{const w=e??i.length;do{const b=c===0?o[0]??s.initialPageParam:S5(s,l);if(c>0&&b==null)break;l=await y(l,b),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,g;return(g=(p=t.options).persister)==null?void 0:g.call(p,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function S5(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function Bie(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var yn,vd,yd,hh,ph,jd,xh,gh,$L,Uie=($L=class{constructor(e={}){Et(this,yn);Et(this,vd);Et(this,yd);Et(this,hh);Et(this,ph);Et(this,jd);Et(this,xh);Et(this,gh);ht(this,yn,e.queryCache||new Fie),ht(this,vd,e.mutationCache||new Lie),ht(this,yd,e.defaultOptions||{}),ht(this,hh,new Map),ht(this,ph,new Map),ht(this,jd,0)}mount(){my(this,jd)._++,pe(this,jd)===1&&(ht(this,xh,gP.subscribe(async e=>{e&&(await this.resumePausedMutations(),pe(this,yn).onFocus())})),ht(this,gh,kb.subscribe(async e=>{e&&(await this.resumePausedMutations(),pe(this,yn).onOnline())})))}unmount(){var e,t;my(this,jd)._--,pe(this,jd)===0&&((e=pe(this,xh))==null||e.call(this),ht(this,xh,void 0),(t=pe(this,gh))==null||t.call(this),ht(this,gh,void 0))}isFetching(e){return pe(this,yn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return pe(this,vd).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=pe(this,yn).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=pe(this,yn).build(this,r);return e.revalidateIfStale&&s.isStaleByTime(Qm(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return pe(this,yn).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=pe(this,yn).get(s.queryHash),i=a==null?void 0:a.state.data,o=Eie(t,i);if(o!==void 0)return pe(this,yn).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return es.batch(()=>pe(this,yn).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=pe(this,yn).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=pe(this,yn);es.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=pe(this,yn),s={type:"active",...e};return es.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},s=es.batch(()=>pe(this,yn).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(Ki).catch(Ki)}invalidateQueries(e={},t={}){return es.batch(()=>{if(pe(this,yn).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=es.batch(()=>pe(this,yn).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ki)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(Ki)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=pe(this,yn).build(this,t);return r.isStaleByTime(Qm(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ki).catch(Ki)}fetchInfiniteQuery(e){return e.behavior=_5(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ki).catch(Ki)}ensureInfiniteQueryData(e){return e.behavior=_5(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return kb.isOnline()?pe(this,vd).resumePausedMutations():Promise.resolve()}getQueryCache(){return pe(this,yn)}getMutationCache(){return pe(this,vd)}getDefaultOptions(){return pe(this,yd)}setDefaultOptions(e){ht(this,yd,e)}setQueryDefaults(e,t){pe(this,hh).set(wf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...pe(this,hh).values()];let r={};return t.forEach(s=>{Xg(e,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(e,t){pe(this,ph).set(wf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...pe(this,ph).values()];let r={};return t.forEach(s=>{Xg(e,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...pe(this,yd).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=pP(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===xP&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...pe(this,yd).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){pe(this,yn).clear(),pe(this,vd).clear()}},yn=new WeakMap,vd=new WeakMap,yd=new WeakMap,hh=new WeakMap,ph=new WeakMap,jd=new WeakMap,xh=new WeakMap,gh=new WeakMap,$L),Da,ir,lv,ca,rf,vh,bd,_l,cv,yh,jh,nf,sf,wd,bh,Sr,Vx,f4,m4,h4,p4,x4,g4,v4,D7,LL,Vie=(LL=class extends Sp{constructor(t,r){super();Et(this,Sr);Et(this,Da);Et(this,ir);Et(this,lv);Et(this,ca);Et(this,rf);Et(this,vh);Et(this,bd);Et(this,_l);Et(this,cv);Et(this,yh);Et(this,jh);Et(this,nf);Et(this,sf);Et(this,wd);Et(this,bh,new Set);this.options=r,ht(this,Da,t),ht(this,_l,null),ht(this,bd,u4()),this.options.experimental_prefetchInRender||pe(this,bd).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(pe(this,ir).addObserver(this),C5(pe(this,ir),this.options)?Xt(this,Sr,Vx).call(this):this.updateResult(),Xt(this,Sr,p4).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return y4(pe(this,ir),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return y4(pe(this,ir),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Xt(this,Sr,x4).call(this),Xt(this,Sr,g4).call(this),pe(this,ir).removeObserver(this)}setOptions(t,r){const s=this.options,a=pe(this,ir);if(this.options=pe(this,Da).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Mo(this.options.enabled,pe(this,ir))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Xt(this,Sr,v4).call(this),pe(this,ir).setOptions(this.options),s._defaulted&&!Ab(this.options,s)&&pe(this,Da).getQueryCache().notify({type:"observerOptionsUpdated",query:pe(this,ir),observer:this});const i=this.hasListeners();i&&E5(pe(this,ir),a,this.options,s)&&Xt(this,Sr,Vx).call(this),this.updateResult(r),i&&(pe(this,ir)!==a||Mo(this.options.enabled,pe(this,ir))!==Mo(s.enabled,pe(this,ir))||Qm(this.options.staleTime,pe(this,ir))!==Qm(s.staleTime,pe(this,ir)))&&Xt(this,Sr,f4).call(this);const o=Xt(this,Sr,m4).call(this);i&&(pe(this,ir)!==a||Mo(this.options.enabled,pe(this,ir))!==Mo(s.enabled,pe(this,ir))||o!==pe(this,wd))&&Xt(this,Sr,h4).call(this,o)}getOptimisticResult(t){const r=pe(this,Da).getQueryCache().build(pe(this,Da),t),s=this.createResult(r,t);return Wie(this,s)&&(ht(this,ca,s),ht(this,vh,this.options),ht(this,rf,pe(this,ir).state)),s}getCurrentResult(){return pe(this,ca)}trackResult(t,r){const s={};return Object.keys(t).forEach(a=>{Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),s}trackProp(t){pe(this,bh).add(t)}getCurrentQuery(){return pe(this,ir)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=pe(this,Da).defaultQueryOptions(t),s=pe(this,Da).getQueryCache().build(pe(this,Da),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return Xt(this,Sr,Vx).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),pe(this,ca)))}createResult(t,r){var C;const s=pe(this,ir),a=this.options,i=pe(this,ca),o=pe(this,rf),l=pe(this,vh),d=t!==s?t.state:pe(this,lv),{state:u}=t;let f={...u},m=!1,h;if(r._optimisticResults){const A=this.hasListeners(),P=!A&&C5(t,r),R=A&&E5(t,s,r,a);(P||R)&&(f={...f,...T7(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:p,status:g}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&r.select===pe(this,cv))h=pe(this,yh);else try{ht(this,cv,r.select),h=r.select(f.data),h=d4(i==null?void 0:i.data,h,r),ht(this,yh,h),ht(this,_l,null)}catch(A){ht(this,_l,A)}else h=f.data;if(r.placeholderData!==void 0&&h===void 0&&g==="pending"){let A;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))A=i.data;else if(A=typeof r.placeholderData=="function"?r.placeholderData((C=pe(this,jh))==null?void 0:C.state.data,pe(this,jh)):r.placeholderData,r.select&&A!==void 0)try{A=r.select(A),ht(this,_l,null)}catch(P){ht(this,_l,P)}A!==void 0&&(g="success",h=d4(i==null?void 0:i.data,A,r),m=!0)}pe(this,_l)&&(x=pe(this,_l),h=pe(this,yh),p=Date.now(),g="error");const j=f.fetchStatus==="fetching",y=g==="pending",w=g==="error",b=y&&j,N=h!==void 0,E={status:g,fetchStatus:f.fetchStatus,isPending:y,isSuccess:g==="success",isError:w,isInitialLoading:b,isLoading:b,data:h,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:j,isRefetching:j&&!y,isLoadingError:w&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:w&&N,isStale:vP(t,r),refetch:this.refetch,promise:pe(this,bd)};if(this.options.experimental_prefetchInRender){const A=I=>{E.status==="error"?I.reject(E.error):E.data!==void 0&&I.resolve(E.data)},P=()=>{const I=ht(this,bd,E.promise=u4());A(I)},R=pe(this,bd);switch(R.status){case"pending":t.queryHash===s.queryHash&&A(R);break;case"fulfilled":(E.status==="error"||E.data!==R.value)&&P();break;case"rejected":(E.status!=="error"||E.error!==R.reason)&&P();break}}return E}updateResult(t){const r=pe(this,ca),s=this.createResult(pe(this,ir),this.options);if(ht(this,rf,pe(this,ir).state),ht(this,vh,this.options),pe(this,rf).data!==void 0&&ht(this,jh,pe(this,ir)),Ab(s,r))return;ht(this,ca,s);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!pe(this,bh).size)return!0;const c=new Set(l??pe(this,bh));return this.options.throwOnError&&c.add("error"),Object.keys(pe(this,ca)).some(d=>{const u=d;return pe(this,ca)[u]!==r[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),Xt(this,Sr,D7).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Xt(this,Sr,p4).call(this)}},Da=new WeakMap,ir=new WeakMap,lv=new WeakMap,ca=new WeakMap,rf=new WeakMap,vh=new WeakMap,bd=new WeakMap,_l=new WeakMap,cv=new WeakMap,yh=new WeakMap,jh=new WeakMap,nf=new WeakMap,sf=new WeakMap,wd=new WeakMap,bh=new WeakMap,Sr=new WeakSet,Vx=function(t){Xt(this,Sr,v4).call(this);let r=pe(this,ir).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ki)),r},f4=function(){Xt(this,Sr,x4).call(this);const t=Qm(this.options.staleTime,pe(this,ir));if(bf||pe(this,ca).isStale||!l4(t))return;const s=_7(pe(this,ca).dataUpdatedAt,t)+1;ht(this,nf,setTimeout(()=>{pe(this,ca).isStale||this.updateResult()},s))},m4=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(pe(this,ir)):this.options.refetchInterval)??!1},h4=function(t){Xt(this,Sr,g4).call(this),ht(this,wd,t),!(bf||Mo(this.options.enabled,pe(this,ir))===!1||!l4(pe(this,wd))||pe(this,wd)===0)&&ht(this,sf,setInterval(()=>{(this.options.refetchIntervalInBackground||gP.isFocused())&&Xt(this,Sr,Vx).call(this)},pe(this,wd)))},p4=function(){Xt(this,Sr,f4).call(this),Xt(this,Sr,h4).call(this,Xt(this,Sr,m4).call(this))},x4=function(){pe(this,nf)&&(clearTimeout(pe(this,nf)),ht(this,nf,void 0))},g4=function(){pe(this,sf)&&(clearInterval(pe(this,sf)),ht(this,sf,void 0))},v4=function(){const t=pe(this,Da).getQueryCache().build(pe(this,Da),this.options);if(t===pe(this,ir))return;const r=pe(this,ir);ht(this,ir,t),ht(this,lv,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},D7=function(t){es.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(pe(this,ca))}),pe(this,Da).getQueryCache().notify({query:pe(this,ir),type:"observerResultsUpdated"})})},LL);function zie(e,t){return Mo(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function C5(e,t){return zie(e,t)||e.state.data!==void 0&&y4(e,t,t.refetchOnMount)}function y4(e,t,r){if(Mo(t.enabled,e)!==!1){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&vP(e,t)}return!1}function E5(e,t,r,s){return(e!==t||Mo(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&vP(e,r)}function vP(e,t){return Mo(t.enabled,e)!==!1&&e.isStaleByTime(Qm(t.staleTime,e))}function Wie(e,t){return!Ab(e.getCurrentResult(),t)}var Nd,_d,Ia,uc,Ac,Bj,j4,BL,Hie=(BL=class extends Sp{constructor(r,s){super();Et(this,Ac);Et(this,Nd);Et(this,_d);Et(this,Ia);Et(this,uc);ht(this,Nd,r),this.setOptions(s),this.bindMethods(),Xt(this,Ac,Bj).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const s=this.options;this.options=pe(this,Nd).defaultMutationOptions(r),Ab(this.options,s)||pe(this,Nd).getMutationCache().notify({type:"observerOptionsUpdated",mutation:pe(this,Ia),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&wf(s.mutationKey)!==wf(this.options.mutationKey)?this.reset():((a=pe(this,Ia))==null?void 0:a.state.status)==="pending"&&pe(this,Ia).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=pe(this,Ia))==null||r.removeObserver(this)}onMutationUpdate(r){Xt(this,Ac,Bj).call(this),Xt(this,Ac,j4).call(this,r)}getCurrentResult(){return pe(this,_d)}reset(){var r;(r=pe(this,Ia))==null||r.removeObserver(this),ht(this,Ia,void 0),Xt(this,Ac,Bj).call(this),Xt(this,Ac,j4).call(this)}mutate(r,s){var a;return ht(this,uc,s),(a=pe(this,Ia))==null||a.removeObserver(this),ht(this,Ia,pe(this,Nd).getMutationCache().build(pe(this,Nd),this.options)),pe(this,Ia).addObserver(this),pe(this,Ia).execute(r)}},Nd=new WeakMap,_d=new WeakMap,Ia=new WeakMap,uc=new WeakMap,Ac=new WeakSet,Bj=function(){var s;const r=((s=pe(this,Ia))==null?void 0:s.state)??O7();ht(this,_d,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},j4=function(r){es.batch(()=>{var s,a,i,o,l,c,d,u;if(pe(this,uc)&&this.hasListeners()){const f=pe(this,_d).variables,m=pe(this,_d).context;(r==null?void 0:r.type)==="success"?((a=(s=pe(this,uc)).onSuccess)==null||a.call(s,r.data,f,m),(o=(i=pe(this,uc)).onSettled)==null||o.call(i,r.data,null,f,m)):(r==null?void 0:r.type)==="error"&&((c=(l=pe(this,uc)).onError)==null||c.call(l,r.error,f,m),(u=(d=pe(this,uc)).onSettled)==null||u.call(d,void 0,r.error,f,m))}this.listeners.forEach(f=>{f(pe(this,_d))})})},BL),I7=v.createContext(void 0),Hr=e=>{const t=v.useContext(I7);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},qie=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(I7.Provider,{value:e,children:t})),R7=v.createContext(!1),Gie=()=>v.useContext(R7);R7.Provider;function Kie(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Yie=v.createContext(Kie()),Xie=()=>v.useContext(Yie);function M7(e,t){return typeof e=="function"?e(...t):!!e}function F7(){}var Qie=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Zie=e=>{v.useEffect(()=>{e.clearReset()},[e])},Jie=({result:e,errorResetBoundary:t,throwOnError:r,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&M7(r,[e.error,s]),eoe=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},toe=(e,t)=>e.isLoading&&e.isFetching&&!t,roe=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,A5=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function noe(e,t,r){var u,f,m,h,x;const s=Hr(),a=Gie(),i=Xie(),o=s.defaultQueryOptions(e);(f=(u=s.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,o),o._optimisticResults=a?"isRestoring":"optimistic",eoe(o),Qie(o,i),Zie(i);const l=!s.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new t(s,o)),d=c.getOptimisticResult(o);if(v.useSyncExternalStore(v.useCallback(p=>{const g=a?()=>{}:c.subscribe(es.batchCalls(p));return c.updateResult(),g},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),roe(o,d))throw A5(o,c,i);if(Jie({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw d.error;if((h=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||h.call(m,o,d),o.experimental_prefetchInRender&&!bf&&toe(d,a)){const p=l?A5(o,c,i):(x=s.getQueryCache().get(o.queryHash))==null?void 0:x.promise;p==null||p.catch(F7).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function ls(e,t){return noe(e,Vie)}function dn(e,t){const r=Hr(),[s]=v.useState(()=>new Hie(r,e));v.useEffect(()=>{s.setOptions(e)},[s,e]);const a=v.useSyncExternalStore(v.useCallback(o=>s.subscribe(es.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=v.useCallback((o,l)=>{s.mutate(o,l).catch(F7)},[s]);if(a.error&&M7(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Qg.apply(this,arguments)}var Ed;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ed||(Ed={}));const k5="popstate";function soe(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return b4("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:Pb(a)}return ioe(t,r,null,e)}function $n(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $7(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aoe(){return Math.random().toString(36).substr(2,8)}function P5(e,t){return{usr:e.state,key:e.key,idx:t}}function b4(e,t,r,s){return r===void 0&&(r=null),Qg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cp(t):t,{state:r,key:t&&t.key||s||aoe()})}function Pb(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Cp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function ioe(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=Ed.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(Qg({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=Ed.Pop;let g=u(),j=g==null?null:g-d;d=g,c&&c({action:l,location:p.location,delta:j})}function m(g,j){l=Ed.Push;let y=b4(p.location,g,j);d=u()+1;let w=P5(y,d),b=p.createHref(y);try{o.pushState(w,"",b)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(b)}i&&c&&c({action:l,location:p.location,delta:1})}function h(g,j){l=Ed.Replace;let y=b4(p.location,g,j);d=u();let w=P5(y,d),b=p.createHref(y);o.replaceState(w,"",b),i&&c&&c({action:l,location:p.location,delta:0})}function x(g){let j=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof g=="string"?g:Pb(g);return y=y.replace(/ $/,"%20"),$n(j,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,j)}let p={get action(){return l},get location(){return e(a,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(k5,f),c=g,()=>{a.removeEventListener(k5,f),c=null}},createHref(g){return t(a,g)},createURL:x,encodeLocation(g){let j=x(g);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:m,replace:h,go(g){return o.go(g)}};return p}var T5;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(T5||(T5={}));function ooe(e,t,r){return r===void 0&&(r="/"),loe(e,t,r,!1)}function loe(e,t,r,s){let a=typeof t=="string"?Cp(t):t,i=yP(a.pathname||"/",r);if(i==null)return null;let o=L7(e);coe(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=joe(i);l=voe(o[c],d,s)}return l}function L7(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&($n(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=zd([s,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&($n(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),L7(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:xoe(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of B7(i.path))a(i,o,c)}),t}function B7(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=B7(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function coe(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:goe(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const doe=/^:[\w-]+$/,uoe=3,foe=2,moe=1,hoe=10,poe=-2,O5=e=>e==="*";function xoe(e,t){let r=e.split("/"),s=r.length;return r.some(O5)&&(s+=poe),t&&(s+=foe),r.filter(a=>!O5(a)).reduce((a,i)=>a+(doe.test(i)?uoe:i===""?moe:hoe),s)}function goe(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function voe(e,t,r){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=D5({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!f&&d&&r&&!s[s.length-1].route.index&&(f=D5({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:zd([i,f.pathname]),pathnameBase:_oe(zd([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=zd([i,f.pathnameBase]))}return o}function D5(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=yoe(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,u,f)=>{let{paramName:m,isOptional:h}=u;if(m==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const x=l[f];return h&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function yoe(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),$7(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function joe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $7(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function yP(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function boe(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?Cp(e):e;return{pathname:r?r.startsWith("/")?r:woe(r,t):t,search:Soe(s),hash:Coe(a)}}function woe(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function A_(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Noe(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function jP(e,t){let r=Noe(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function bP(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Cp(e):(a=Qg({},e),$n(!a.pathname||!a.pathname.includes("?"),A_("?","pathname","search",a)),$n(!a.pathname||!a.pathname.includes("#"),A_("#","pathname","hash",a)),$n(!a.search||!a.search.includes("#"),A_("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=boe(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const zd=e=>e.join("/").replace(/\/\/+/g,"/"),_oe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Soe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Coe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Eoe(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const U7=["post","put","patch","delete"];new Set(U7);const Aoe=["get",...U7];new Set(Aoe);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Zg.apply(this,arguments)}const wP=v.createContext(null),koe=v.createContext(null),fu=v.createContext(null),dN=v.createContext(null),Gc=v.createContext({outlet:null,matches:[],isDataRoute:!1}),V7=v.createContext(null);function Poe(e,t){let{relative:r}=t===void 0?{}:t;Ep()||$n(!1);let{basename:s,navigator:a}=v.useContext(fu),{hash:i,pathname:o,search:l}=W7(e,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:zd([s,o])),a.createHref({pathname:c,search:l,hash:i})}function Ep(){return v.useContext(dN)!=null}function ql(){return Ep()||$n(!1),v.useContext(dN).location}function z7(e){v.useContext(fu).static||v.useLayoutEffect(e)}function fr(){let{isDataRoute:e}=v.useContext(Gc);return e?zoe():Toe()}function Toe(){Ep()||$n(!1);let e=v.useContext(wP),{basename:t,future:r,navigator:s}=v.useContext(fu),{matches:a}=v.useContext(Gc),{pathname:i}=ql(),o=JSON.stringify(jP(a,r.v7_relativeSplatPath)),l=v.useRef(!1);return z7(()=>{l.current=!0}),v.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let f=bP(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:zd([t,f.pathname])),(u.replace?s.replace:s.push)(f,u.state,u)},[t,s,o,i,e])}function Mi(){let{matches:e}=v.useContext(Gc),t=e[e.length-1];return t?t.params:{}}function W7(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=v.useContext(fu),{matches:a}=v.useContext(Gc),{pathname:i}=ql(),o=JSON.stringify(jP(a,s.v7_relativeSplatPath));return v.useMemo(()=>bP(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Ooe(e,t){return Doe(e,t)}function Doe(e,t,r,s){Ep()||$n(!1);let{navigator:a}=v.useContext(fu),{matches:i}=v.useContext(Gc),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=ql(),u;if(t){var f;let g=typeof t=="string"?Cp(t):t;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||$n(!1),u=g}else u=d;let m=u.pathname||"/",h=m;if(c!=="/"){let g=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=ooe(e,{pathname:h}),p=$oe(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:zd([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:zd([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,s);return t&&p?v.createElement(dN.Provider,{value:{location:Zg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ed.Pop}},p):p}function Ioe(){let e=Voe(),t=Eoe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:a},r):null,null)}const Roe=v.createElement(Ioe,null);class Moe extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(Gc.Provider,{value:this.props.routeContext},v.createElement(V7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Foe(e){let{routeContext:t,match:r,children:s}=e,a=v.useContext(wP);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Gc.Provider,{value:t},s)}function $oe(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||$n(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:m,errors:h}=r,x=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,m)=>{let h,x=!1,p=null,g=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||Roe,c&&(d<0&&m===0?(x=!0,g=null):d===m&&(x=!0,g=f.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,m+1)),y=()=>{let w;return h?w=p:x?w=g:f.route.Component?w=v.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,v.createElement(Foe,{match:f,routeContext:{outlet:u,matches:j,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?v.createElement(Moe,{location:r.location,revalidation:r.revalidation,component:p,error:h,children:y(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):y()},null)}var H7=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(H7||{}),Tb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Tb||{});function Loe(e){let t=v.useContext(wP);return t||$n(!1),t}function Boe(e){let t=v.useContext(koe);return t||$n(!1),t}function Uoe(e){let t=v.useContext(Gc);return t||$n(!1),t}function q7(e){let t=Uoe(),r=t.matches[t.matches.length-1];return r.route.id||$n(!1),r.route.id}function Voe(){var e;let t=v.useContext(V7),r=Boe(Tb.UseRouteError),s=q7(Tb.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function zoe(){let{router:e}=Loe(H7.UseNavigateStable),t=q7(Tb.UseNavigateStable),r=v.useRef(!1);return z7(()=>{r.current=!0}),v.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Zg({fromRouteId:t},i)))},[e,t])}function G7(e){let{to:t,replace:r,state:s,relative:a}=e;Ep()||$n(!1);let{future:i,static:o}=v.useContext(fu),{matches:l}=v.useContext(Gc),{pathname:c}=ql(),d=fr(),u=bP(t,jP(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(u);return v.useEffect(()=>d(JSON.parse(f),{replace:r,state:s,relative:a}),[d,f,a,r,s]),null}function Qt(e){$n(!1)}function Woe(e){let{basename:t="/",children:r=null,location:s,navigationType:a=Ed.Pop,navigator:i,static:o=!1,future:l}=e;Ep()&&$n(!1);let c=t.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:c,navigator:i,static:o,future:Zg({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=Cp(s));let{pathname:u="/",search:f="",hash:m="",state:h=null,key:x="default"}=s,p=v.useMemo(()=>{let g=yP(u,c);return g==null?null:{location:{pathname:g,search:f,hash:m,state:h,key:x},navigationType:a}},[c,u,f,m,h,x,a]);return p==null?null:v.createElement(fu.Provider,{value:d},v.createElement(dN.Provider,{children:r,value:p}))}function Hoe(e){let{children:t,location:r}=e;return Ooe(w4(t),r)}new Promise(()=>{});function w4(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(s,a)=>{if(!v.isValidElement(s))return;let i=[...t,a];if(s.type===v.Fragment){r.push.apply(r,w4(s.props.children,i));return}s.type!==Qt&&$n(!1),!s.props.index||!s.props.children||$n(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=w4(s.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function N4(){return N4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},N4.apply(this,arguments)}function qoe(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Goe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Koe(e,t){return e.button===0&&(!t||t==="_self")&&!Goe(e)}function _4(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(a=>[r,a]):[[r,s]])},[]))}function Yoe(e,t){let r=_4(e);return t&&t.forEach((s,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Xoe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Qoe="6";try{window.__reactRouterVersion=Qoe}catch{}const Zoe="startTransition",I5=nk[Zoe];function Joe(e){let{basename:t,children:r,future:s,window:a}=e,i=v.useRef();i.current==null&&(i.current=soe({window:a,v5Compat:!0}));let o=i.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=v.useCallback(f=>{d&&I5?I5(()=>c(f)):c(f)},[c,d]);return v.useLayoutEffect(()=>o.listen(u),[o,u]),v.createElement(Woe,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:s})}const ele=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tle=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ti=v.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,m=qoe(t,Xoe),{basename:h}=v.useContext(fu),x,p=!1;if(typeof d=="string"&&tle.test(d)&&(x=d,ele))try{let w=new URL(window.location.href),b=d.startsWith("//")?new URL(w.protocol+d):new URL(d),N=yP(b.pathname,h);b.origin===w.origin&&N!=null?d=N+b.search+b.hash:p=!0}catch{}let g=Poe(d,{relative:a}),j=rle(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function y(w){s&&s(w),w.defaultPrevented||j(w)}return v.createElement("a",N4({},m,{href:x||g,onClick:p||i?s:y,ref:r,target:c}))});var R5;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(R5||(R5={}));var M5;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(M5||(M5={}));function rle(e,t){let{target:r,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=fr(),d=ql(),u=W7(e,{relative:o});return v.useCallback(f=>{if(Koe(f,r)){f.preventDefault();let m=s!==void 0?s:Pb(d)===Pb(u);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,a,r,e,i,o,l])}function NP(e){let t=v.useRef(_4(e)),r=v.useRef(!1),s=ql(),a=v.useMemo(()=>Yoe(s.search,r.current?null:t.current),[s.search]),i=fr(),o=v.useCallback((l,c)=>{const d=_4(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}function K7(e,t){return function(){return e.apply(t,arguments)}}const{toString:nle}=Object.prototype,{getPrototypeOf:_P}=Object,{iterator:uN,toStringTag:Y7}=Symbol,fN=(e=>t=>{const r=nle.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),tl=e=>(e=e.toLowerCase(),t=>fN(t)===e),mN=e=>t=>typeof t===e,{isArray:Ap}=Array,Th=mN("undefined");function Nv(e){return e!==null&&!Th(e)&&e.constructor!==null&&!Th(e.constructor)&&Ga(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const X7=tl("ArrayBuffer");function sle(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&X7(e.buffer),t}const ale=mN("string"),Ga=mN("function"),Q7=mN("number"),_v=e=>e!==null&&typeof e=="object",ile=e=>e===!0||e===!1,Uj=e=>{if(fN(e)!=="object")return!1;const t=_P(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Y7 in e)&&!(uN in e)},ole=e=>{if(!_v(e)||Nv(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},lle=tl("Date"),cle=tl("File"),dle=tl("Blob"),ule=tl("FileList"),fle=e=>_v(e)&&Ga(e.pipe),mle=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ga(e.append)&&((t=fN(e))==="formdata"||t==="object"&&Ga(e.toString)&&e.toString()==="[object FormData]"))},hle=tl("URLSearchParams"),[ple,xle,gle,vle]=["ReadableStream","Request","Response","Headers"].map(tl),yle=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sv(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),Ap(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(Nv(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(s=0;s<o;s++)l=i[s],t.call(null,e[l],l,e)}}function Z7(e,t){if(Nv(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,a;for(;s-- >0;)if(a=r[s],t===a.toLowerCase())return a;return null}const Wu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,J7=e=>!Th(e)&&e!==Wu;function S4(){const{caseless:e,skipUndefined:t}=J7(this)&&this||{},r={},s=(a,i)=>{const o=e&&Z7(r,i)||i;Uj(r[o])&&Uj(a)?r[o]=S4(r[o],a):Uj(a)?r[o]=S4({},a):Ap(a)?r[o]=a.slice():(!t||!Th(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Sv(arguments[a],s);return r}const jle=(e,t,r,{allOwnKeys:s}={})=>(Sv(t,(a,i)=>{r&&Ga(a)?e[i]=K7(a,r):e[i]=a},{allOwnKeys:s}),e),ble=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),wle=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Nle=(e,t,r,s)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&_P(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},_le=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},Sle=e=>{if(!e)return null;if(Ap(e))return e;let t=e.length;if(!Q7(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Cle=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&_P(Uint8Array)),Ele=(e,t)=>{const s=(e&&e[uN]).call(e);let a;for(;(a=s.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Ale=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},kle=tl("HTMLFormElement"),Ple=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),F5=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Tle=tl("RegExp"),eU=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};Sv(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(s[i]=o||a)}),Object.defineProperties(e,s)},Ole=e=>{eU(e,(t,r)=>{if(Ga(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(Ga(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Dle=(e,t)=>{const r={},s=a=>{a.forEach(i=>{r[i]=!0})};return Ap(e)?s(e):s(String(e).split(t)),r},Ile=()=>{},Rle=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Mle(e){return!!(e&&Ga(e.append)&&e[Y7]==="FormData"&&e[uN])}const Fle=e=>{const t=new Array(10),r=(s,a)=>{if(_v(s)){if(t.indexOf(s)>=0)return;if(Nv(s))return s;if(!("toJSON"in s)){t[a]=s;const i=Ap(s)?[]:{};return Sv(s,(o,l)=>{const c=r(o,a+1);!Th(c)&&(i[l]=c)}),t[a]=void 0,i}}return s};return r(e,0)},$le=tl("AsyncFunction"),Lle=e=>e&&(_v(e)||Ga(e))&&Ga(e.then)&&Ga(e.catch),tU=((e,t)=>e?setImmediate:t?((r,s)=>(Wu.addEventListener("message",({source:a,data:i})=>{a===Wu&&i===r&&s.length&&s.shift()()},!1),a=>{s.push(a),Wu.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ga(Wu.postMessage)),Ble=typeof queueMicrotask<"u"?queueMicrotask.bind(Wu):typeof process<"u"&&process.nextTick||tU,Ule=e=>e!=null&&Ga(e[uN]),De={isArray:Ap,isArrayBuffer:X7,isBuffer:Nv,isFormData:mle,isArrayBufferView:sle,isString:ale,isNumber:Q7,isBoolean:ile,isObject:_v,isPlainObject:Uj,isEmptyObject:ole,isReadableStream:ple,isRequest:xle,isResponse:gle,isHeaders:vle,isUndefined:Th,isDate:lle,isFile:cle,isBlob:dle,isRegExp:Tle,isFunction:Ga,isStream:fle,isURLSearchParams:hle,isTypedArray:Cle,isFileList:ule,forEach:Sv,merge:S4,extend:jle,trim:yle,stripBOM:ble,inherits:wle,toFlatObject:Nle,kindOf:fN,kindOfTest:tl,endsWith:_le,toArray:Sle,forEachEntry:Ele,matchAll:Ale,isHTMLForm:kle,hasOwnProperty:F5,hasOwnProp:F5,reduceDescriptors:eU,freezeMethods:Ole,toObjectSet:Dle,toCamelCase:Ple,noop:Ile,toFiniteNumber:Rle,findKey:Z7,global:Wu,isContextDefined:J7,isSpecCompliantForm:Mle,toJSONObject:Fle,isAsyncFn:$le,isThenable:Lle,setImmediate:tU,asap:Ble,isIterable:Ule};function Vt(e,t,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}De.inherits(Vt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:De.toJSONObject(this.config),code:this.code,status:this.status}}});const rU=Vt.prototype,nU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{nU[e]={value:e}});Object.defineProperties(Vt,nU);Object.defineProperty(rU,"isAxiosError",{value:!0});Vt.from=(e,t,r,s,a,i)=>{const o=Object.create(rU);De.toFlatObject(e,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Vt.call(o,l,c,r,s,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const Vle=null;function C4(e){return De.isPlainObject(e)||De.isArray(e)}function sU(e){return De.endsWith(e,"[]")?e.slice(0,-2):e}function $5(e,t,r){return e?e.concat(t).map(function(a,i){return a=sU(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function zle(e){return De.isArray(e)&&!e.some(C4)}const Wle=De.toFlatObject(De,{},null,function(t){return/^is[A-Z]/.test(t)});function hN(e,t,r){if(!De.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=De.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,g){return!De.isUndefined(g[p])});const s=r.metaTokens,a=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&De.isSpecCompliantForm(t);if(!De.isFunction(a))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(De.isDate(x))return x.toISOString();if(De.isBoolean(x))return x.toString();if(!c&&De.isBlob(x))throw new Vt("Blob is not supported. Use a Buffer instead.");return De.isArrayBuffer(x)||De.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,p,g){let j=x;if(x&&!g&&typeof x=="object"){if(De.endsWith(p,"{}"))p=s?p:p.slice(0,-2),x=JSON.stringify(x);else if(De.isArray(x)&&zle(x)||(De.isFileList(x)||De.endsWith(p,"[]"))&&(j=De.toArray(x)))return p=sU(p),j.forEach(function(w,b){!(De.isUndefined(w)||w===null)&&t.append(o===!0?$5([p],b,i):o===null?p:p+"[]",d(w))}),!1}return C4(x)?!0:(t.append($5(g,p,i),d(x)),!1)}const f=[],m=Object.assign(Wle,{defaultVisitor:u,convertValue:d,isVisitable:C4});function h(x,p){if(!De.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(x),De.forEach(x,function(j,y){(!(De.isUndefined(j)||j===null)&&a.call(t,j,De.isString(y)?y.trim():y,p,m))===!0&&h(j,p?p.concat(y):[y])}),f.pop()}}if(!De.isObject(e))throw new TypeError("data must be an object");return h(e),t}function L5(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function SP(e,t){this._pairs=[],e&&hN(e,this,t)}const aU=SP.prototype;aU.append=function(t,r){this._pairs.push([t,r])};aU.toString=function(t){const r=t?function(s){return t.call(this,s,L5)}:L5;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Hle(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function iU(e,t,r){if(!t)return e;const s=r&&r.encode||Hle;De.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=De.isURLSearchParams(t)?t.toString():new SP(t,r).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class B5{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){De.forEach(this.handlers,function(s){s!==null&&t(s)})}}const oU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qle=typeof URLSearchParams<"u"?URLSearchParams:SP,Gle=typeof FormData<"u"?FormData:null,Kle=typeof Blob<"u"?Blob:null,Yle={isBrowser:!0,classes:{URLSearchParams:qle,FormData:Gle,Blob:Kle},protocols:["http","https","file","blob","url","data"]},CP=typeof window<"u"&&typeof document<"u",E4=typeof navigator=="object"&&navigator||void 0,Xle=CP&&(!E4||["ReactNative","NativeScript","NS"].indexOf(E4.product)<0),Qle=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Zle=CP&&window.location.href||"http://localhost",Jle=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:CP,hasStandardBrowserEnv:Xle,hasStandardBrowserWebWorkerEnv:Qle,navigator:E4,origin:Zle},Symbol.toStringTag,{value:"Module"})),Js={...Jle,...Yle};function ece(e,t){return hN(e,new Js.classes.URLSearchParams,{visitor:function(r,s,a,i){return Js.isNode&&De.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function tce(e){return De.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function rce(e){const t={},r=Object.keys(e);let s;const a=r.length;let i;for(s=0;s<a;s++)i=r[s],t[i]=e[i];return t}function lU(e){function t(r,s,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&De.isArray(a)?a.length:o,c?(De.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!l):((!a[o]||!De.isObject(a[o]))&&(a[o]=[]),t(r,s,a[o],i)&&De.isArray(a[o])&&(a[o]=rce(a[o])),!l)}if(De.isFormData(e)&&De.isFunction(e.entries)){const r={};return De.forEachEntry(e,(s,a)=>{t(tce(s),a,r,0)}),r}return null}function nce(e,t,r){if(De.isString(e))try{return(t||JSON.parse)(e),De.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(e)}const Cv={transitional:oU,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",a=s.indexOf("application/json")>-1,i=De.isObject(t);if(i&&De.isHTMLForm(t)&&(t=new FormData(t)),De.isFormData(t))return a?JSON.stringify(lU(t)):t;if(De.isArrayBuffer(t)||De.isBuffer(t)||De.isStream(t)||De.isFile(t)||De.isBlob(t)||De.isReadableStream(t))return t;if(De.isArrayBufferView(t))return t.buffer;if(De.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ece(t,this.formSerializer).toString();if((l=De.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return hN(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),nce(t)):t}],transformResponse:[function(t){const r=this.transitional||Cv.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(De.isResponse(t)||De.isReadableStream(t))return t;if(t&&De.isString(t)&&(s&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Vt.from(l,Vt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Js.classes.FormData,Blob:Js.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};De.forEach(["delete","get","head","post","put","patch"],e=>{Cv.headers[e]={}});const sce=De.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ace=e=>{const t={};let r,s,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!r||t[r]&&sce[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},U5=Symbol("internals");function xx(e){return e&&String(e).trim().toLowerCase()}function Vj(e){return e===!1||e==null?e:De.isArray(e)?e.map(Vj):String(e)}function ice(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const oce=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function k_(e,t,r,s,a){if(De.isFunction(s))return s.call(this,t,r);if(a&&(t=r),!!De.isString(t)){if(De.isString(s))return t.indexOf(s)!==-1;if(De.isRegExp(s))return s.test(t)}}function lce(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function cce(e,t){const r=De.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(a,i,o){return this[s].call(this,t,a,i,o)},configurable:!0})})}class Ka{constructor(t){t&&this.set(t)}set(t,r,s){const a=this;function i(l,c,d){const u=xx(c);if(!u)throw new Error("header name must be a non-empty string");const f=De.findKey(a,u);(!f||a[f]===void 0||d===!0||d===void 0&&a[f]!==!1)&&(a[f||c]=Vj(l))}const o=(l,c)=>De.forEach(l,(d,u)=>i(d,u,c));if(De.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(De.isString(t)&&(t=t.trim())&&!oce(t))o(ace(t),r);else if(De.isObject(t)&&De.isIterable(t)){let l={},c,d;for(const u of t){if(!De.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?De.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,r)}else t!=null&&i(r,t,s);return this}get(t,r){if(t=xx(t),t){const s=De.findKey(this,t);if(s){const a=this[s];if(!r)return a;if(r===!0)return ice(a);if(De.isFunction(r))return r.call(this,a,s);if(De.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=xx(t),t){const s=De.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||k_(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let a=!1;function i(o){if(o=xx(o),o){const l=De.findKey(s,o);l&&(!r||k_(s,s[l],l,r))&&(delete s[l],a=!0)}}return De.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let s=r.length,a=!1;for(;s--;){const i=r[s];(!t||k_(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,s={};return De.forEach(this,(a,i)=>{const o=De.findKey(s,i);if(o){r[o]=Vj(a),delete r[i];return}const l=t?lce(i):String(i).trim();l!==i&&delete r[i],r[l]=Vj(a),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return De.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=t&&De.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[U5]=this[U5]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=xx(o);s[l]||(cce(a,o),s[l]=!0)}return De.isArray(t)?t.forEach(i):i(t),this}}Ka.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);De.reduceDescriptors(Ka.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});De.freezeMethods(Ka);function P_(e,t){const r=this||Cv,s=t||r,a=Ka.from(s.headers);let i=s.data;return De.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function cU(e){return!!(e&&e.__CANCEL__)}function kp(e,t,r){Vt.call(this,e??"canceled",Vt.ERR_CANCELED,t,r),this.name="CanceledError"}De.inherits(kp,Vt,{__CANCEL__:!0});function dU(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new Vt("Request failed with status code "+r.status,[Vt.ERR_BAD_REQUEST,Vt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function dce(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function uce(e,t){e=e||10;const r=new Array(e),s=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=s[i];o||(o=d),r[a]=c,s[a]=d;let f=i,m=0;for(;f!==a;)m+=r[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<t)return;const h=u&&d-u;return h?Math.round(m*1e3/h):void 0}}function fce(e,t){let r=0,s=1e3/t,a,i;const o=(d,u=Date.now())=>{r=u,a=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),f=u-r;f>=s?o(d,u):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},s-f)))},()=>a&&o(a)]}const Ob=(e,t,r=3)=>{let s=0;const a=uce(50,250);return fce(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-s,d=a(c),u=o<=l;s=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},V5=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},z5=e=>(...t)=>De.asap(()=>e(...t)),mce=Js.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Js.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Js.origin),Js.navigator&&/(msie|trident)/i.test(Js.navigator.userAgent)):()=>!0,hce=Js.hasStandardBrowserEnv?{write(e,t,r,s,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];De.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),De.isString(s)&&l.push(`path=${s}`),De.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),De.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function pce(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xce(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function uU(e,t,r){let s=!pce(t);return e&&(s||r==!1)?xce(e,t):t}const W5=e=>e instanceof Ka?{...e}:e;function Nf(e,t){t=t||{};const r={};function s(d,u,f,m){return De.isPlainObject(d)&&De.isPlainObject(u)?De.merge.call({caseless:m},d,u):De.isPlainObject(u)?De.merge({},u):De.isArray(u)?u.slice():u}function a(d,u,f,m){if(De.isUndefined(u)){if(!De.isUndefined(d))return s(void 0,d,f,m)}else return s(d,u,f,m)}function i(d,u){if(!De.isUndefined(u))return s(void 0,u)}function o(d,u){if(De.isUndefined(u)){if(!De.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,f){if(f in t)return s(d,u);if(f in e)return s(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,f)=>a(W5(d),W5(u),f,!0)};return De.forEach(Object.keys({...e,...t}),function(u){const f=c[u]||a,m=f(e[u],t[u],u);De.isUndefined(m)&&f!==l||(r[u]=m)}),r}const fU=e=>{const t=Nf({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Ka.from(o),t.url=iU(uU(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),De.isFormData(r)){if(Js.hasStandardBrowserEnv||Js.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(De.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{d.includes(u.toLowerCase())&&o.set(u,f)})}}if(Js.hasStandardBrowserEnv&&(s&&De.isFunction(s)&&(s=s(t)),s||s!==!1&&mce(t.url))){const c=a&&i&&hce.read(i);c&&o.set(a,c)}return t},gce=typeof XMLHttpRequest<"u",vce=gce&&function(e){return new Promise(function(r,s){const a=fU(e);let i=a.data;const o=Ka.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,f,m,h,x;function p(){h&&h(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function j(){if(!g)return;const w=Ka.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:w,config:e,request:g};dU(function(E){r(E),p()},function(E){s(E),p()},N),g=null}"onloadend"in g?g.onloadend=j:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(j)},g.onabort=function(){g&&(s(new Vt("Request aborted",Vt.ECONNABORTED,e,g)),g=null)},g.onerror=function(b){const N=b&&b.message?b.message:"Network Error",S=new Vt(N,Vt.ERR_NETWORK,e,g);S.event=b||null,s(S),g=null},g.ontimeout=function(){let b=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||oU;a.timeoutErrorMessage&&(b=a.timeoutErrorMessage),s(new Vt(b,N.clarifyTimeoutError?Vt.ETIMEDOUT:Vt.ECONNABORTED,e,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&De.forEach(o.toJSON(),function(b,N){g.setRequestHeader(N,b)}),De.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),l&&l!=="json"&&(g.responseType=a.responseType),d&&([m,x]=Ob(d,!0),g.addEventListener("progress",m)),c&&g.upload&&([f,h]=Ob(c),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(u=w=>{g&&(s(!w||w.type?new kp(null,e,g):w),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const y=dce(a.url);if(y&&Js.protocols.indexOf(y)===-1){s(new Vt("Unsupported protocol "+y+":",Vt.ERR_BAD_REQUEST,e));return}g.send(i||null)})},yce=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,a;const i=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof Vt?u:new kp(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new Vt(`timeout ${t} of ms exceeded`,Vt.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>De.asap(l),c}},jce=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,a;for(;s<r;)a=s+t,yield e.slice(s,a),s=a},bce=async function*(e,t){for await(const r of wce(e))yield*jce(r,t)},wce=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},H5=(e,t,r,s)=>{const a=bce(e,t);let i=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let f=u.byteLength;if(r){let m=i+=f;r(m)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},q5=64*1024,{isFunction:Fy}=De,Nce=(({Request:e,Response:t})=>({Request:e,Response:t}))(De.global),{ReadableStream:G5,TextEncoder:K5}=De.global,Y5=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_ce=e=>{e=De.merge.call({skipUndefined:!0},Nce,e);const{fetch:t,Request:r,Response:s}=e,a=t?Fy(t):typeof fetch=="function",i=Fy(r),o=Fy(s);if(!a)return!1;const l=a&&Fy(G5),c=a&&(typeof K5=="function"?(x=>p=>x.encode(p))(new K5):async x=>new Uint8Array(await new r(x).arrayBuffer())),d=i&&l&&Y5(()=>{let x=!1;const p=new r(Js.origin,{body:new G5,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!p}),u=o&&l&&Y5(()=>De.isReadableStream(new s("").body)),f={stream:u&&(x=>x.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!f[x]&&(f[x]=(p,g)=>{let j=p&&p[x];if(j)return j.call(p);throw new Vt(`Response type '${x}' is not supported`,Vt.ERR_NOT_SUPPORT,g)})});const m=async x=>{if(x==null)return 0;if(De.isBlob(x))return x.size;if(De.isSpecCompliantForm(x))return(await new r(Js.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(De.isArrayBufferView(x)||De.isArrayBuffer(x))return x.byteLength;if(De.isURLSearchParams(x)&&(x=x+""),De.isString(x))return(await c(x)).byteLength},h=async(x,p)=>{const g=De.toFiniteNumber(x.getContentLength());return g??m(p)};return async x=>{let{url:p,method:g,data:j,signal:y,cancelToken:w,timeout:b,onDownloadProgress:N,onUploadProgress:S,responseType:E,headers:C,withCredentials:A="same-origin",fetchOptions:P}=fU(x),R=t||fetch;E=E?(E+"").toLowerCase():"text";let I=yce([y,w&&w.toAbortSignal()],b),z=null;const U=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let L;try{if(S&&d&&g!=="get"&&g!=="head"&&(L=await h(C,j))!==0){let ce=new r(p,{method:"POST",body:j,duplex:"half"}),D;if(De.isFormData(j)&&(D=ce.headers.get("content-type"))&&C.setContentType(D),ce.body){const[W,F]=V5(L,Ob(z5(S)));j=H5(ce.body,q5,W,F)}}De.isString(A)||(A=A?"include":"omit");const T=i&&"credentials"in r.prototype,k={...P,signal:I,method:g.toUpperCase(),headers:C.normalize().toJSON(),body:j,duplex:"half",credentials:T?A:void 0};z=i&&new r(p,k);let O=await(i?R(z,P):R(p,k));const M=u&&(E==="stream"||E==="response");if(u&&(N||M&&U)){const ce={};["status","statusText","headers"].forEach(q=>{ce[q]=O[q]});const D=De.toFiniteNumber(O.headers.get("content-length")),[W,F]=N&&V5(D,Ob(z5(N),!0))||[];O=new s(H5(O.body,q5,W,()=>{F&&F(),U&&U()}),ce)}E=E||"text";let ie=await f[De.findKey(f,E)||"text"](O,x);return!M&&U&&U(),await new Promise((ce,D)=>{dU(ce,D,{data:ie,headers:Ka.from(O.headers),status:O.status,statusText:O.statusText,config:x,request:z})})}catch(T){throw U&&U(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new Vt("Network Error",Vt.ERR_NETWORK,x,z),{cause:T.cause||T}):Vt.from(T,T&&T.code,x,z)}}},Sce=new Map,mU=e=>{let t=e&&e.env||{};const{fetch:r,Request:s,Response:a}=t,i=[s,a,r];let o=i.length,l=o,c,d,u=Sce;for(;l--;)c=i[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:_ce(t)),u=d;return d};mU();const EP={http:Vle,xhr:vce,fetch:{get:mU}};De.forEach(EP,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const X5=e=>`- ${e}`,Cce=e=>De.isFunction(e)||e===null||e===!1;function Ece(e,t){e=De.isArray(e)?e:[e];const{length:r}=e;let s,a;const i={};for(let o=0;o<r;o++){s=e[o];let l;if(a=s,!Cce(s)&&(a=EP[(l=String(s)).toLowerCase()],a===void 0))throw new Vt(`Unknown adapter '${l}'`);if(a&&(De.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(X5).join(`
`):" "+X5(o[0]):"as no adapter specified";throw new Vt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const hU={getAdapter:Ece,adapters:EP};function T_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new kp(null,e)}function Q5(e){return T_(e),e.headers=Ka.from(e.headers),e.data=P_.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),hU.getAdapter(e.adapter||Cv.adapter,e)(e).then(function(s){return T_(e),s.data=P_.call(e,e.transformResponse,s),s.headers=Ka.from(s.headers),s},function(s){return cU(s)||(T_(e),s&&s.response&&(s.response.data=P_.call(e,e.transformResponse,s.response),s.response.headers=Ka.from(s.response.headers))),Promise.reject(s)})}const pU="1.13.2",pN={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{pN[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Z5={};pN.transitional=function(t,r,s){function a(i,o){return"[Axios v"+pU+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(t===!1)throw new Vt(a(o," has been removed"+(r?" in "+r:"")),Vt.ERR_DEPRECATED);return r&&!Z5[o]&&(Z5[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};pN.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Ace(e,t,r){if(typeof e!="object")throw new Vt("options must be an object",Vt.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const i=s[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new Vt("option "+i+" must be "+c,Vt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Vt("Unknown option "+i,Vt.ERR_BAD_OPTION)}}const zj={assertOptions:Ace,validators:pN},ml=zj.validators;class cf{constructor(t){this.defaults=t||{},this.interceptors={request:new B5,response:new B5}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Nf(this.defaults,r);const{transitional:s,paramsSerializer:a,headers:i}=r;s!==void 0&&zj.assertOptions(s,{silentJSONParsing:ml.transitional(ml.boolean),forcedJSONParsing:ml.transitional(ml.boolean),clarifyTimeoutError:ml.transitional(ml.boolean)},!1),a!=null&&(De.isFunction(a)?r.paramsSerializer={serialize:a}:zj.assertOptions(a,{encode:ml.function,serialize:ml.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),zj.assertOptions(r,{baseUrl:ml.spelling("baseURL"),withXsrfToken:ml.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&De.merge(i.common,i[r.method]);i&&De.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),r.headers=Ka.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,f=0,m;if(!c){const x=[Q5.bind(this),void 0];for(x.unshift(...l),x.push(...d),m=x.length,u=Promise.resolve(r);f<m;)u=u.then(x[f++],x[f++]);return u}m=l.length;let h=r;for(;f<m;){const x=l[f++],p=l[f++];try{h=x(h)}catch(g){p.call(this,g);break}}try{u=Q5.call(this,h)}catch(x){return Promise.reject(x)}for(f=0,m=d.length;f<m;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=Nf(this.defaults,t);const r=uU(t.baseURL,t.url,t.allowAbsoluteUrls);return iU(r,t.params,t.paramsSerializer)}}De.forEach(["delete","get","head","options"],function(t){cf.prototype[t]=function(r,s){return this.request(Nf(s||{},{method:t,url:r,data:(s||{}).data}))}});De.forEach(["post","put","patch"],function(t){function r(s){return function(i,o,l){return this.request(Nf(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}cf.prototype[t]=r(),cf.prototype[t+"Form"]=r(!0)});class AP{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,l){s.reason||(s.reason=new kp(i,o,l),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new AP(function(a){t=a}),cancel:t}}}function kce(e){return function(r){return e.apply(null,r)}}function Pce(e){return De.isObject(e)&&e.isAxiosError===!0}const A4={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(A4).forEach(([e,t])=>{A4[t]=e});function xU(e){const t=new cf(e),r=K7(cf.prototype.request,t);return De.extend(r,cf.prototype,t,{allOwnKeys:!0}),De.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return xU(Nf(e,a))},r}const ur=xU(Cv);ur.Axios=cf;ur.CanceledError=kp;ur.CancelToken=AP;ur.isCancel=cU;ur.VERSION=pU;ur.toFormData=hN;ur.AxiosError=Vt;ur.Cancel=ur.CanceledError;ur.all=function(t){return Promise.all(t)};ur.spread=kce;ur.isAxiosError=Pce;ur.mergeConfig=Nf;ur.AxiosHeaders=Ka;ur.formToJSON=e=>lU(De.isHTMLForm(e)?new FormData(e):e);ur.getAdapter=hU.getAdapter;ur.HttpStatusCode=A4;ur.default=ur;const Fi="https://procurement.buy2rent.eu/api",xN="https://procurement.buy2rent.eu/auth";console.log("API Configuration:",{API_BASE_URL:Fi,AUTH_BASE_URL:xN,mode:"production"});const Ks=ur.create({baseURL:xN,timeout:1e4,headers:{"Content-Type":"application/json"}});let gx=!1,k4=[];const $y=(e=null)=>{k4.forEach(t=>{e?t.reject(e):t.resolve()}),k4=[]};Ks.interceptors.response.use(e=>e,async e=>{var r,s;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if((s=t.url)!=null&&s.includes("/refresh/"))return nn.clearTokens(),gx=!1,$y(e),Promise.reject(e);if(gx)return new Promise((i,o)=>{k4.push({resolve:i,reject:o})}).then(()=>Ks(t)).catch(i=>Promise.reject(i));t._retry=!0,gx=!0;const a=nn.getRefreshToken();if(!a)return gx=!1,nn.clearTokens(),$y(e),Promise.reject(e);try{const i=await Ks.post("/refresh/",{refresh:a}),{access:o}=i.data,l=nn.getRefreshToken();return l&&nn.setTokens(o,l),t.headers.Authorization=`Bearer ${o}`,$y(),Ks(t)}catch(i){return $y(i),nn.clearTokens(),Promise.reject(i)}finally{gx=!1}}return Promise.reject(e)});const ic={async login(e){return(await Ks.post("/login/",e)).data},async register(e){const r=(await Ks.post("/register/",e)).data;return{access:r.tokens.access,refresh:r.tokens.refresh,user:r.user}},async refreshToken(e){return(await Ks.post("/refresh/",{refresh:e})).data},async logout(e){const t=localStorage.getItem("access_token");await Ks.post("/logout/",{refresh:e},{headers:t?{Authorization:`Bearer ${t}`}:{}})},async getProfile(){const e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found");return(await Ks.get("/profile/",{headers:{Authorization:`Bearer ${e}`}})).data},async updateProfile(e){const t=localStorage.getItem("access_token");if(!t)throw new Error("No access token found");return(await Ks.put("/profile/",e,{headers:{Authorization:`Bearer ${t}`}})).data},async requestPasswordReset(e){await Ks.post("/password-reset/",e)},async confirmPasswordReset(e){await Ks.post("/password-reset-confirm/",e)},async changePassword(e){const t=localStorage.getItem("access_token");if(!t)throw new Error("No access token found");await Ks.post("/change-password/",e,{headers:{Authorization:`Bearer ${t}`}})},async getSessions(){const e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found");return(await Ks.get("/sessions/",{headers:{Authorization:`Bearer ${e}`}})).data},async terminateSession(e){const t=localStorage.getItem("access_token");if(!t)throw new Error("No access token found");await Ks.delete(`/sessions/${e}/`,{headers:{Authorization:`Bearer ${t}`}})},async terminateAllSessions(){const e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found");await Ks.delete("/sessions/",{headers:{Authorization:`Bearer ${e}`}})}},nn={getAccessToken(){return localStorage.getItem("access_token")},getRefreshToken(){return localStorage.getItem("refresh_token")},setTokens(e,t){localStorage.setItem("access_token",e),localStorage.setItem("refresh_token",t)},clearTokens(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},isAuthenticated(){return!!this.getAccessToken()}},gU=v.createContext(void 0);function Tce({children:e}){const[t,r]=v.useState(null),[s,a]=v.useState(!0);v.useEffect(()=>{const p=setTimeout(()=>{console.warn("Auth check timed out after 15 seconds"),a(!1)},15e3);return i().finally(()=>{clearTimeout(p)}),()=>clearTimeout(p)},[]);const i=async()=>{try{const p=nn.getAccessToken(),g=nn.getRefreshToken();if(!p&&!g){a(!1);return}if(!p&&g)try{const j=await ic.refreshToken(g);nn.setTokens(j.access,g)}catch(j){console.error("Token refresh failed during auth check:",j),nn.clearTokens(),a(!1);return}if(nn.getAccessToken())try{const j=await ic.getProfile();r({...j,name:j.first_name&&j.last_name?`${j.first_name} ${j.last_name}`:j.username})}catch(j){console.error("Profile fetch failed:",j),nn.clearTokens(),r(null)}}catch(p){console.error("Auth check failed:",p),nn.clearTokens(),r(null)}finally{a(!1)}},o=async()=>{try{const p=await ic.getProfile();r({...p,name:p.first_name&&p.last_name?`${p.first_name} ${p.last_name}`:p.username})}catch(p){throw console.error("Failed to refresh user:",p),p}},l=async(p,g)=>{var j,y,w,b,N,S;try{const E=await ic.login({email:p,password:g});nn.setTokens(E.access,E.refresh),r({...E.user,name:E.user.first_name&&E.user.last_name?`${E.user.first_name} ${E.user.last_name}`:E.user.username})}catch(E){console.error("Login failed:",E);const C=((y=(j=E.response)==null?void 0:j.data)==null?void 0:y.message)||((b=(w=E.response)==null?void 0:w.data)==null?void 0:b.detail)||((S=(N=E.response)==null?void 0:N.data)==null?void 0:S.error)||E.message||"Login failed";throw new Error(C)}},c=async(p,g,j)=>{var y,w,b,N,S,E,C,A,P,R;try{const I=(j==null?void 0:j.split(" "))||[],z=I[0]||"User",U=I.slice(1).join(" ")||"Name",L=await ic.register({username:p.split("@")[0],email:p,password:g,password_confirm:g,first_name:z,last_name:U});nn.setTokens(L.access,L.refresh),r({...L.user,name:L.user.first_name&&L.user.last_name?`${L.user.first_name} ${L.user.last_name}`:L.user.username})}catch(I){console.error("Signup failed:",I);const z=((w=(y=I.response)==null?void 0:y.data)==null?void 0:w.details)||((N=(b=I.response)==null?void 0:b.data)==null?void 0:N.errors);let U=((E=(S=I.response)==null?void 0:S.data)==null?void 0:E.message)||((A=(C=I.response)==null?void 0:C.data)==null?void 0:A.detail)||((R=(P=I.response)==null?void 0:P.data)==null?void 0:R.error)||I.message||"Signup failed";if(z&&typeof z=="object"){const L=Object.values(z)[0];Array.isArray(L)?U=L[0]:typeof L=="string"&&(U=L)}throw new Error(U)}},d=async()=>{try{window.location.href="/api/auth/google"}catch(p){throw p}},u=async()=>{try{window.location.href="/api/auth/facebook"}catch(p){throw p}},f=async()=>{try{window.location.href="/api/auth/twitter"}catch(p){throw p}},m=async()=>{try{const p=nn.getRefreshToken();p&&await ic.logout(p),nn.clearTokens(),r(null)}catch(p){console.error("Logout failed:",p),nn.clearTokens(),r(null)}},h=async p=>{var g,j;try{await ic.requestPasswordReset({email:p})}catch(y){throw console.error("Password reset failed:",y),new Error(((j=(g=y.response)==null?void 0:g.data)==null?void 0:j.detail)||y.message||"Password reset failed")}},x=async p=>{try{console.warn("Email verification not implemented yet")}catch(g){throw g}};return n.jsx(gU.Provider,{value:{user:t,loading:s,login:l,signup:c,loginWithGoogle:d,loginWithFacebook:u,loginWithTwitter:f,logout:m,resetPassword:h,verifyEmail:x,refreshUser:o},children:e})}function Ev(){const e=v.useContext(gU);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function _({className:e,...t}){return n.jsx("div",{className:ve("relative overflow-hidden rounded-md bg-muted","before:absolute before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:bg-gradient-to-r","before:from-transparent before:via-white/10 before:to-transparent",e),...t})}function lr({children:e}){const{user:t,loading:r}=Ev(),s=ql();if(r)return n.jsxs("div",{className:"min-h-screen flex bg-background",children:[n.jsxs("div",{className:"w-64 border-r border-border p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[n.jsx(_,{className:"h-10 w-10 rounded-lg"}),n.jsx(_,{className:"h-5 w-32"})]}),[...Array(8)].map((i,o)=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-4 w-24"})]},o))]}),n.jsx("div",{className:"flex-1 p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-8 w-64"}),n.jsx(_,{className:"h-4 w-96"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((i,o)=>n.jsxs("div",{className:"border rounded-lg p-6 space-y-3",children:[n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-8 w-20"}),n.jsx(_,{className:"h-3 w-16"})]},o))}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(2)].map((i,o)=>n.jsxs("div",{className:"border rounded-lg p-6 space-y-4",children:[n.jsx(_,{className:"h-6 w-40"}),n.jsx("div",{className:"space-y-2",children:[...Array(4)].map((l,c)=>n.jsx(_,{className:"h-4 w-full"},c))})]},o))})]})})]});const a=nn.isAuthenticated();return!t&&!a?n.jsx(G7,{to:"/login",state:{from:s},replace:!0}):a&&!t?n.jsxs("div",{className:"min-h-screen flex bg-background",children:[n.jsxs("div",{className:"w-64 border-r border-border p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[n.jsx(_,{className:"h-10 w-10 rounded-lg"}),n.jsx(_,{className:"h-5 w-32"})]}),[...Array(8)].map((i,o)=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-4 w-24"})]},o))]}),n.jsx("div",{className:"flex-1 p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-8 w-64"}),n.jsx(_,{className:"h-4 w-96"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((i,o)=>n.jsxs("div",{className:"border rounded-lg p-6 space-y-3",children:[n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-8 w-20"}),n.jsx(_,{className:"h-3 w-16"})]},o))})]})})]}):n.jsx(n.Fragment,{children:e})}function Oce({children:e,...t}){return n.jsx(wse,{...t,children:e})}var Av=e=>e.type==="checkbox",Hu=e=>e instanceof Date,ha=e=>e==null;const vU=e=>typeof e=="object";var Ln=e=>!ha(e)&&!Array.isArray(e)&&vU(e)&&!Hu(e),Dce=e=>Ln(e)&&e.target?Av(e.target)?e.target.checked:e.target.value:e,Ice=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Rce=(e,t)=>e.has(Ice(t)),Mce=e=>{const t=e.constructor&&e.constructor.prototype;return Ln(t)&&t.hasOwnProperty("isPrototypeOf")},kP=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Wi(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(kP&&(e instanceof Blob||e instanceof FileList))&&(r||Ln(e)))if(t=r?[]:{},!r&&!Mce(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Wi(e[s]));else return e;return t}var gN=e=>Array.isArray(e)?e.filter(Boolean):[],On=e=>e===void 0,gt=(e,t,r)=>{if(!t||!Ln(e))return r;const s=gN(t.split(/[,[\].]+?/)).reduce((a,i)=>ha(a)?a:a[i],e);return On(s)||s===e?On(e[t])?r:e[t]:s},yl=e=>typeof e=="boolean",PP=e=>/^\w*$/.test(e),yU=e=>gN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Mr=(e,t,r)=>{let s=-1;const a=PP(t)?[t]:yU(t),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let c=r;if(s!==o){const d=e[l];c=Ln(d)||Array.isArray(d)?d:isNaN(+a[s+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const J5={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Fo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ec={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};V.createContext(null);var Fce=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Fo.all&&(t._proxyFormState[o]=!s||Fo.all),e[o]}});return a},Ra=e=>Ln(e)&&!Object.keys(e).length,$ce=(e,t,r,s)=>{r(e);const{name:a,...i}=e;return Ra(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===Fo.all)},Wj=e=>Array.isArray(e)?e:[e];function Lce(e){const t=V.useRef(e);t.current=e,V.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var Al=e=>typeof e=="string",Bce=(e,t,r,s,a)=>Al(e)?(s&&t.watch.add(e),gt(r,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),gt(r,i))):(s&&(t.watchAll=!0),r),jU=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},eI=e=>({isOnSubmit:!e||e===Fo.onSubmit,isOnBlur:e===Fo.onBlur,isOnChange:e===Fo.onChange,isOnAll:e===Fo.all,isOnTouch:e===Fo.onTouched}),tI=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const og=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const i=gt(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(og(l,t))break}else if(Ln(l)&&og(l,t))break}}};var Uce=(e,t,r)=>{const s=Wj(gt(e,r));return Mr(s,"root",t[r]),Mr(e,r,s),e},TP=e=>e.type==="file",pc=e=>typeof e=="function",Db=e=>{if(!kP)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Hj=e=>Al(e),OP=e=>e.type==="radio",Ib=e=>e instanceof RegExp;const rI={value:!1,isValid:!1},nI={value:!0,isValid:!0};var bU=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!On(e[0].attributes.value)?On(e[0].value)||e[0].value===""?nI:{value:e[0].value,isValid:!0}:nI:rI}return rI};const sI={isValid:!1,value:null};var wU=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,sI):sI;function aI(e,t,r="validate"){if(Hj(e)||Array.isArray(e)&&e.every(Hj)||yl(e)&&!e)return{type:r,message:Hj(e)?e:"",ref:t}}var im=e=>Ln(e)&&!Ib(e)?e:{value:e,message:""},iI=async(e,t,r,s,a)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:d,min:u,max:f,pattern:m,validate:h,name:x,valueAsNumber:p,mount:g,disabled:j}=e._f,y=gt(t,x);if(!g||j)return{};const w=o?o[0]:i,b=I=>{s&&w.reportValidity&&(w.setCustomValidity(yl(I)?"":I||""),w.reportValidity())},N={},S=OP(i),E=Av(i),C=S||E,A=(p||TP(i))&&On(i.value)&&On(y)||Db(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,P=jU.bind(null,x,r,N),R=(I,z,U,L=ec.maxLength,T=ec.minLength)=>{const k=I?z:U;N[x]={type:I?L:T,message:k,ref:i,...P(I?L:T,k)}};if(a?!Array.isArray(y)||!y.length:l&&(!C&&(A||ha(y))||yl(y)&&!y||E&&!bU(o).isValid||S&&!wU(o).isValid)){const{value:I,message:z}=Hj(l)?{value:!!l,message:l}:im(l);if(I&&(N[x]={type:ec.required,message:z,ref:w,...P(ec.required,z)},!r))return b(z),N}if(!A&&(!ha(u)||!ha(f))){let I,z;const U=im(f),L=im(u);if(!ha(y)&&!isNaN(y)){const T=i.valueAsNumber||y&&+y;ha(U.value)||(I=T>U.value),ha(L.value)||(z=T<L.value)}else{const T=i.valueAsDate||new Date(y),k=ie=>new Date(new Date().toDateString()+" "+ie),O=i.type=="time",M=i.type=="week";Al(U.value)&&y&&(I=O?k(y)>k(U.value):M?y>U.value:T>new Date(U.value)),Al(L.value)&&y&&(z=O?k(y)<k(L.value):M?y<L.value:T<new Date(L.value))}if((I||z)&&(R(!!I,U.message,L.message,ec.max,ec.min),!r))return b(N[x].message),N}if((c||d)&&!A&&(Al(y)||a&&Array.isArray(y))){const I=im(c),z=im(d),U=!ha(I.value)&&y.length>+I.value,L=!ha(z.value)&&y.length<+z.value;if((U||L)&&(R(U,I.message,z.message),!r))return b(N[x].message),N}if(m&&!A&&Al(y)){const{value:I,message:z}=im(m);if(Ib(I)&&!y.match(I)&&(N[x]={type:ec.pattern,message:z,ref:i,...P(ec.pattern,z)},!r))return b(z),N}if(h){if(pc(h)){const I=await h(y,t),z=aI(I,w);if(z&&(N[x]={...z,...P(ec.validate,z.message)},!r))return b(z.message),N}else if(Ln(h)){let I={};for(const z in h){if(!Ra(I)&&!r)break;const U=aI(await h[z](y,t),w,z);U&&(I={...U,...P(z,U.message)},b(U.message),r&&(N[x]=I))}if(!Ra(I)&&(N[x]={ref:w,...I},!r))return N}}return b(!0),N};function Vce(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=On(e)?s++:e[t[s++]];return e}function zce(e){for(const t in e)if(e.hasOwnProperty(t)&&!On(e[t]))return!1;return!0}function Xn(e,t){const r=Array.isArray(t)?t:PP(t)?[t]:yU(t),s=r.length===1?e:Vce(e,r),a=r.length-1,i=r[a];return s&&delete s[i],a!==0&&(Ln(s)&&Ra(s)||Array.isArray(s)&&zce(s))&&Xn(e,r.slice(0,-1)),e}var O_=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},P4=e=>ha(e)||!vU(e);function hd(e,t){if(P4(e)||P4(t))return e===t;if(Hu(e)&&Hu(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const a of r){const i=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const o=t[a];if(Hu(i)&&Hu(o)||Ln(i)&&Ln(o)||Array.isArray(i)&&Array.isArray(o)?!hd(i,o):i!==o)return!1}}return!0}var NU=e=>e.type==="select-multiple",Wce=e=>OP(e)||Av(e),D_=e=>Db(e)&&e.isConnected,_U=e=>{for(const t in e)if(pc(e[t]))return!0;return!1};function Rb(e,t={}){const r=Array.isArray(e);if(Ln(e)||r)for(const s in e)Array.isArray(e[s])||Ln(e[s])&&!_U(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Rb(e[s],t[s])):ha(e[s])||(t[s]=!0);return t}function SU(e,t,r){const s=Array.isArray(e);if(Ln(e)||s)for(const a in e)Array.isArray(e[a])||Ln(e[a])&&!_U(e[a])?On(t)||P4(r[a])?r[a]=Array.isArray(e[a])?Rb(e[a],[]):{...Rb(e[a])}:SU(e[a],ha(t)?{}:t[a],r[a]):r[a]=!hd(e[a],t[a]);return r}var vx=(e,t)=>SU(e,t,Rb(t)),CU=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>On(e)?e:t?e===""?NaN:e&&+e:r&&Al(e)?new Date(e):s?s(e):e;function I_(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return TP(t)?t.files:OP(t)?wU(e.refs).value:NU(t)?[...t.selectedOptions].map(({value:r})=>r):Av(t)?bU(e.refs).value:CU(On(t.value)?e.ref.value:t.value,e)}var Hce=(e,t,r,s)=>{const a={};for(const i of e){const o=gt(t,i);o&&Mr(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},yx=e=>On(e)?e:Ib(e)?e.source:Ln(e)?Ib(e.value)?e.value.source:e.value:e;const oI="AsyncFunction";var qce=e=>(!e||!e.validate)&&!!(pc(e.validate)&&e.validate.constructor.name===oI||Ln(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===oI)),Gce=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function lI(e,t,r){const s=gt(e,r);if(s||PP(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=gt(t,i),l=gt(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var Kce=(e,t,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:(r?s.isOnChange:a.isOnChange)?e:!0,Yce=(e,t)=>!gN(gt(e,t)).length&&Xn(e,t);const Xce={mode:Fo.onSubmit,reValidateMode:Fo.onChange,shouldFocusError:!0};function Qce(e={}){let t={...Xce,...e},r={submitCount:0,isDirty:!1,isLoading:pc(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Ln(t.defaultValues)||Ln(t.values)?Wi(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Wi(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:O_(),array:O_(),state:O_()},m=eI(t.mode),h=eI(t.reValidateMode),x=t.criteriaMode===Fo.all,p=te=>he=>{clearTimeout(d),d=setTimeout(te,he)},g=async te=>{if(!e.disabled&&(u.isValid||te)){const he=t.resolver?Ra((await C()).errors):await P(s,!0);he!==r.isValid&&f.state.next({isValid:he})}},j=(te,he)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((te||Array.from(l.mount)).forEach(oe=>{oe&&(he?Mr(r.validatingFields,oe,he):Xn(r.validatingFields,oe))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Ra(r.validatingFields)}))},y=(te,he=[],oe,be,Le=!0,Ie=!0)=>{if(be&&oe&&!e.disabled){if(o.action=!0,Ie&&Array.isArray(gt(s,te))){const de=oe(gt(s,te),be.argA,be.argB);Le&&Mr(s,te,de)}if(Ie&&Array.isArray(gt(r.errors,te))){const de=oe(gt(r.errors,te),be.argA,be.argB);Le&&Mr(r.errors,te,de),Yce(r.errors,te)}if(u.touchedFields&&Ie&&Array.isArray(gt(r.touchedFields,te))){const de=oe(gt(r.touchedFields,te),be.argA,be.argB);Le&&Mr(r.touchedFields,te,de)}u.dirtyFields&&(r.dirtyFields=vx(a,i)),f.state.next({name:te,isDirty:I(te,he),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Mr(i,te,he)},w=(te,he)=>{Mr(r.errors,te,he),f.state.next({errors:r.errors})},b=te=>{r.errors=te,f.state.next({errors:r.errors,isValid:!1})},N=(te,he,oe,be)=>{const Le=gt(s,te);if(Le){const Ie=gt(i,te,On(oe)?gt(a,te):oe);On(Ie)||be&&be.defaultChecked||he?Mr(i,te,he?Ie:I_(Le._f)):L(te,Ie),o.mount&&g()}},S=(te,he,oe,be,Le)=>{let Ie=!1,de=!1;const Re={name:te};if(!e.disabled){const ot=!!(gt(s,te)&&gt(s,te)._f&&gt(s,te)._f.disabled);if(!oe||be){u.isDirty&&(de=r.isDirty,r.isDirty=Re.isDirty=I(),Ie=de!==Re.isDirty);const wt=ot||hd(gt(a,te),he);de=!!(!ot&&gt(r.dirtyFields,te)),wt||ot?Xn(r.dirtyFields,te):Mr(r.dirtyFields,te,!0),Re.dirtyFields=r.dirtyFields,Ie=Ie||u.dirtyFields&&de!==!wt}if(oe){const wt=gt(r.touchedFields,te);wt||(Mr(r.touchedFields,te,oe),Re.touchedFields=r.touchedFields,Ie=Ie||u.touchedFields&&wt!==oe)}Ie&&Le&&f.state.next(Re)}return Ie?Re:{}},E=(te,he,oe,be)=>{const Le=gt(r.errors,te),Ie=u.isValid&&yl(he)&&r.isValid!==he;if(e.delayError&&oe?(c=p(()=>w(te,oe)),c(e.delayError)):(clearTimeout(d),c=null,oe?Mr(r.errors,te,oe):Xn(r.errors,te)),(oe?!hd(Le,oe):Le)||!Ra(be)||Ie){const de={...be,...Ie&&yl(he)?{isValid:he}:{},errors:r.errors,name:te};r={...r,...de},f.state.next(de)}},C=async te=>{j(te,!0);const he=await t.resolver(i,t.context,Hce(te||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return j(te),he},A=async te=>{const{errors:he}=await C(te);if(te)for(const oe of te){const be=gt(he,oe);be?Mr(r.errors,oe,be):Xn(r.errors,oe)}else r.errors=he;return he},P=async(te,he,oe={valid:!0})=>{for(const be in te){const Le=te[be];if(Le){const{_f:Ie,...de}=Le;if(Ie){const Re=l.array.has(Ie.name),ot=Le._f&&qce(Le._f);ot&&u.validatingFields&&j([be],!0);const wt=await iI(Le,i,x,t.shouldUseNativeValidation&&!he,Re);if(ot&&u.validatingFields&&j([be]),wt[Ie.name]&&(oe.valid=!1,he))break;!he&&(gt(wt,Ie.name)?Re?Uce(r.errors,wt,Ie.name):Mr(r.errors,Ie.name,wt[Ie.name]):Xn(r.errors,Ie.name))}!Ra(de)&&await P(de,he,oe)}}return oe.valid},R=()=>{for(const te of l.unMount){const he=gt(s,te);he&&(he._f.refs?he._f.refs.every(oe=>!D_(oe)):!D_(he._f.ref))&&le(te)}l.unMount=new Set},I=(te,he)=>!e.disabled&&(te&&he&&Mr(i,te,he),!hd(ce(),a)),z=(te,he,oe)=>Bce(te,l,{...o.mount?i:On(he)?a:Al(te)?{[te]:he}:he},oe,he),U=te=>gN(gt(o.mount?i:a,te,e.shouldUnregister?gt(a,te,[]):[])),L=(te,he,oe={})=>{const be=gt(s,te);let Le=he;if(be){const Ie=be._f;Ie&&(!Ie.disabled&&Mr(i,te,CU(he,Ie)),Le=Db(Ie.ref)&&ha(he)?"":he,NU(Ie.ref)?[...Ie.ref.options].forEach(de=>de.selected=Le.includes(de.value)):Ie.refs?Av(Ie.ref)?Ie.refs.length>1?Ie.refs.forEach(de=>(!de.defaultChecked||!de.disabled)&&(de.checked=Array.isArray(Le)?!!Le.find(Re=>Re===de.value):Le===de.value)):Ie.refs[0]&&(Ie.refs[0].checked=!!Le):Ie.refs.forEach(de=>de.checked=de.value===Le):TP(Ie.ref)?Ie.ref.value="":(Ie.ref.value=Le,Ie.ref.type||f.values.next({name:te,values:{...i}})))}(oe.shouldDirty||oe.shouldTouch)&&S(te,Le,oe.shouldTouch,oe.shouldDirty,!0),oe.shouldValidate&&ie(te)},T=(te,he,oe)=>{for(const be in he){const Le=he[be],Ie=`${te}.${be}`,de=gt(s,Ie);(l.array.has(te)||Ln(Le)||de&&!de._f)&&!Hu(Le)?T(Ie,Le,oe):L(Ie,Le,oe)}},k=(te,he,oe={})=>{const be=gt(s,te),Le=l.array.has(te),Ie=Wi(he);Mr(i,te,Ie),Le?(f.array.next({name:te,values:{...i}}),(u.isDirty||u.dirtyFields)&&oe.shouldDirty&&f.state.next({name:te,dirtyFields:vx(a,i),isDirty:I(te,Ie)})):be&&!be._f&&!ha(Ie)?T(te,Ie,oe):L(te,Ie,oe),tI(te,l)&&f.state.next({...r}),f.values.next({name:o.mount?te:void 0,values:{...i}})},O=async te=>{o.mount=!0;const he=te.target;let oe=he.name,be=!0;const Le=gt(s,oe),Ie=()=>he.type?I_(Le._f):Dce(te),de=Re=>{be=Number.isNaN(Re)||Hu(Re)&&isNaN(Re.getTime())||hd(Re,gt(i,oe,Re))};if(Le){let Re,ot;const wt=Ie(),Qe=te.type===J5.BLUR||te.type===J5.FOCUS_OUT,je=!Gce(Le._f)&&!t.resolver&&!gt(r.errors,oe)&&!Le._f.deps||Kce(Qe,gt(r.touchedFields,oe),r.isSubmitted,h,m),He=tI(oe,l,Qe);Mr(i,oe,wt),Qe?(Le._f.onBlur&&Le._f.onBlur(te),c&&c(0)):Le._f.onChange&&Le._f.onChange(te);const ye=S(oe,wt,Qe,!1),Je=!Ra(ye)||He;if(!Qe&&f.values.next({name:oe,type:te.type,values:{...i}}),je)return u.isValid&&(e.mode==="onBlur"?Qe&&g():g()),Je&&f.state.next({name:oe,...He?{}:ye});if(!Qe&&He&&f.state.next({...r}),t.resolver){const{errors:sr}=await C([oe]);if(de(wt),be){const Er=lI(r.errors,s,oe),dt=lI(sr,s,Er.name||oe);Re=dt.error,oe=dt.name,ot=Ra(sr)}}else j([oe],!0),Re=(await iI(Le,i,x,t.shouldUseNativeValidation))[oe],j([oe]),de(wt),be&&(Re?ot=!1:u.isValid&&(ot=await P(s,!0)));be&&(Le._f.deps&&ie(Le._f.deps),E(oe,ot,Re,ye))}},M=(te,he)=>{if(gt(r.errors,he)&&te.focus)return te.focus(),1},ie=async(te,he={})=>{let oe,be;const Le=Wj(te);if(t.resolver){const Ie=await A(On(te)?te:Le);oe=Ra(Ie),be=te?!Le.some(de=>gt(Ie,de)):oe}else te?(be=(await Promise.all(Le.map(async Ie=>{const de=gt(s,Ie);return await P(de&&de._f?{[Ie]:de}:de)}))).every(Boolean),!(!be&&!r.isValid)&&g()):be=oe=await P(s);return f.state.next({...!Al(te)||u.isValid&&oe!==r.isValid?{}:{name:te},...t.resolver||!te?{isValid:oe}:{},errors:r.errors}),he.shouldFocus&&!be&&og(s,M,te?Le:l.mount),be},ce=te=>{const he={...o.mount?i:a};return On(te)?he:Al(te)?gt(he,te):te.map(oe=>gt(he,oe))},D=(te,he)=>({invalid:!!gt((he||r).errors,te),isDirty:!!gt((he||r).dirtyFields,te),error:gt((he||r).errors,te),isValidating:!!gt(r.validatingFields,te),isTouched:!!gt((he||r).touchedFields,te)}),W=te=>{te&&Wj(te).forEach(he=>Xn(r.errors,he)),f.state.next({errors:te?r.errors:{}})},F=(te,he,oe)=>{const be=(gt(s,te,{_f:{}})._f||{}).ref,Le=gt(r.errors,te)||{},{ref:Ie,message:de,type:Re,...ot}=Le;Mr(r.errors,te,{...ot,...he,ref:be}),f.state.next({name:te,errors:r.errors,isValid:!1}),oe&&oe.shouldFocus&&be&&be.focus&&be.focus()},q=(te,he)=>pc(te)?f.values.subscribe({next:oe=>te(z(void 0,he),oe)}):z(te,he,!0),le=(te,he={})=>{for(const oe of te?Wj(te):l.mount)l.mount.delete(oe),l.array.delete(oe),he.keepValue||(Xn(s,oe),Xn(i,oe)),!he.keepError&&Xn(r.errors,oe),!he.keepDirty&&Xn(r.dirtyFields,oe),!he.keepTouched&&Xn(r.touchedFields,oe),!he.keepIsValidating&&Xn(r.validatingFields,oe),!t.shouldUnregister&&!he.keepDefaultValue&&Xn(a,oe);f.values.next({values:{...i}}),f.state.next({...r,...he.keepDirty?{isDirty:I()}:{}}),!he.keepIsValid&&g()},fe=({disabled:te,name:he,field:oe,fields:be,value:Le})=>{if(yl(te)&&o.mount||te){const Ie=te?void 0:On(Le)?I_(oe?oe._f:gt(be,he)._f):Le;Mr(i,he,Ie),S(he,Ie,!1,!1,!0)}},B=(te,he={})=>{let oe=gt(s,te);const be=yl(he.disabled)||yl(e.disabled);return Mr(s,te,{...oe||{},_f:{...oe&&oe._f?oe._f:{ref:{name:te}},name:te,mount:!0,...he}}),l.mount.add(te),oe?fe({field:oe,disabled:yl(he.disabled)?he.disabled:e.disabled,name:te,value:he.value}):N(te,!0,he.value),{...be?{disabled:he.disabled||e.disabled}:{},...t.progressive?{required:!!he.required,min:yx(he.min),max:yx(he.max),minLength:yx(he.minLength),maxLength:yx(he.maxLength),pattern:yx(he.pattern)}:{},name:te,onChange:O,onBlur:O,ref:Le=>{if(Le){B(te,he),oe=gt(s,te);const Ie=On(Le.value)&&Le.querySelectorAll&&Le.querySelectorAll("input,select,textarea")[0]||Le,de=Wce(Ie),Re=oe._f.refs||[];if(de?Re.find(ot=>ot===Ie):Ie===oe._f.ref)return;Mr(s,te,{_f:{...oe._f,...de?{refs:[...Re.filter(D_),Ie,...Array.isArray(gt(a,te))?[{}]:[]],ref:{type:Ie.type,name:te}}:{ref:Ie}}}),N(te,!1,void 0,Ie)}else oe=gt(s,te,{}),oe._f&&(oe._f.mount=!1),(t.shouldUnregister||he.shouldUnregister)&&!(Rce(l.array,te)&&o.action)&&l.unMount.add(te)}}},K=()=>t.shouldFocusError&&og(s,M,l.mount),se=te=>{yl(te)&&(f.state.next({disabled:te}),og(s,(he,oe)=>{const be=gt(s,oe);be&&(he.disabled=be._f.disabled||te,Array.isArray(be._f.refs)&&be._f.refs.forEach(Le=>{Le.disabled=be._f.disabled||te}))},0,!1))},Ne=(te,he)=>async oe=>{let be;oe&&(oe.preventDefault&&oe.preventDefault(),oe.persist&&oe.persist());let Le=Wi(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:Ie,values:de}=await C();r.errors=Ie,Le=de}else await P(s);if(Xn(r.errors,"root"),Ra(r.errors)){f.state.next({errors:{}});try{await te(Le,oe)}catch(Ie){be=Ie}}else he&&await he({...r.errors},oe),K(),setTimeout(K);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ra(r.errors)&&!be,submitCount:r.submitCount+1,errors:r.errors}),be)throw be},ue=(te,he={})=>{gt(s,te)&&(On(he.defaultValue)?k(te,Wi(gt(a,te))):(k(te,he.defaultValue),Mr(a,te,Wi(he.defaultValue))),he.keepTouched||Xn(r.touchedFields,te),he.keepDirty||(Xn(r.dirtyFields,te),r.isDirty=he.defaultValue?I(te,Wi(gt(a,te))):I()),he.keepError||(Xn(r.errors,te),u.isValid&&g()),f.state.next({...r}))},ge=(te,he={})=>{const oe=te?Wi(te):a,be=Wi(oe),Le=Ra(te),Ie=Le?a:be;if(he.keepDefaultValues||(a=oe),!he.keepValues){if(he.keepDirtyValues){const de=new Set([...l.mount,...Object.keys(vx(a,i))]);for(const Re of Array.from(de))gt(r.dirtyFields,Re)?Mr(Ie,Re,gt(i,Re)):k(Re,gt(Ie,Re))}else{if(kP&&On(te))for(const de of l.mount){const Re=gt(s,de);if(Re&&Re._f){const ot=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(Db(ot)){const wt=ot.closest("form");if(wt){wt.reset();break}}}}s={}}i=e.shouldUnregister?he.keepDefaultValues?Wi(a):{}:Wi(Ie),f.array.next({values:{...Ie}}),f.values.next({values:{...Ie}})}l={mount:he.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!he.keepIsValid||!!he.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:he.keepSubmitCount?r.submitCount:0,isDirty:Le?!1:he.keepDirty?r.isDirty:!!(he.keepDefaultValues&&!hd(te,a)),isSubmitted:he.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Le?{}:he.keepDirtyValues?he.keepDefaultValues&&i?vx(a,i):r.dirtyFields:he.keepDefaultValues&&te?vx(a,te):he.keepDirty?r.dirtyFields:{},touchedFields:he.keepTouched?r.touchedFields:{},errors:he.keepErrors?r.errors:{},isSubmitSuccessful:he.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},xe=(te,he)=>ge(pc(te)?te(i):te,he);return{control:{register:B,unregister:le,getFieldState:D,handleSubmit:Ne,setError:F,_executeSchema:C,_getWatch:z,_getDirty:I,_updateValid:g,_removeUnmounted:R,_updateFieldArray:y,_updateDisabledField:fe,_getFieldArray:U,_reset:ge,_resetDefaultValues:()=>pc(t.defaultValues)&&t.defaultValues().then(te=>{xe(te,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:te=>{r={...r,...te}},_disableForm:se,_subjects:f,_proxyFormState:u,_setErrors:b,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(te){o=te},get _defaultValues(){return a},get _names(){return l},set _names(te){l=te},get _formState(){return r},set _formState(te){r=te},get _options(){return t},set _options(te){t={...t,...te}}},trigger:ie,register:B,handleSubmit:Ne,watch:q,setValue:k,getValues:ce,reset:xe,resetField:ue,clearErrors:W,unregister:le,setError:F,setFocus:(te,he={})=>{const oe=gt(s,te),be=oe&&oe._f;if(be){const Le=be.refs?be.refs[0]:be.ref;Le.focus&&(Le.focus(),he.shouldSelect&&Le.select())}},getFieldState:D}}function DP(e={}){const t=V.useRef(),r=V.useRef(),[s,a]=V.useState({isDirty:!1,isValidating:!1,isLoading:pc(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:pc(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Qce(e),formState:s});const i=t.current.control;return i._options=e,Lce({subject:i._subjects.state,next:o=>{$ce(o,i._proxyFormState,i._updateFormState)&&a({...i._formState})}}),V.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),V.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),V.useEffect(()=>{e.values&&!hd(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),V.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),V.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),V.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),V.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[s]),t.current.formState=Fce(s,i),t.current}const cI=(e,t,r)=>{if(e&&"reportValidity"in e){const s=gt(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},EU=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?cI(s.ref,r,e):s.refs&&s.refs.forEach(a=>cI(a,r,e))}},Zce=(e,t)=>{t.shouldUseNativeValidation&&EU(e,t);const r={};for(const s in e){const a=gt(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(Jce(t.names||Object.keys(e),s)){const o=Object.assign({},gt(r,s));Mr(o,"root",i),Mr(r,s,o)}else Mr(r,s,i)}return r},Jce=(e,t)=>e.some(r=>r.startsWith(t+"."));var ede=function(e,t){for(var r={};e.length;){var s=e[0],a=s.code,i=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,d=c&&c[s.code];r[o]=jU(o,t,r,a,d?[].concat(d,s.message):s.message)}e.shift()}return r},IP=function(e,t,r){return r===void 0&&(r={}),function(s,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return i.shouldUseNativeValidation&&EU({},i),{errors:{},values:r.raw?s:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Zce(ede(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},hr;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(hr||(hr={}));var dI;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(dI||(dI={}));const pt=hr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ru=e=>{switch(typeof e){case"undefined":return pt.undefined;case"string":return pt.string;case"number":return isNaN(e)?pt.nan:pt.number;case"boolean":return pt.boolean;case"function":return pt.function;case"bigint":return pt.bigint;case"symbol":return pt.symbol;case"object":return Array.isArray(e)?pt.array:e===null?pt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?pt.promise:typeof Map<"u"&&e instanceof Map?pt.map:typeof Set<"u"&&e instanceof Set?pt.set:typeof Date<"u"&&e instanceof Date?pt.date:pt.object;default:return pt.unknown}},Ye=hr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ao extends Error{constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),s}static assert(t){if(!(t instanceof ao))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,hr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):s.push(t(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}ao.create=e=>new ao(e);const Jg=(e,t)=>{let r;switch(e.code){case Ye.invalid_type:e.received===pt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ye.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,hr.jsonStringifyReplacer)}`;break;case Ye.unrecognized_keys:r=`Unrecognized key(s) in object: ${hr.joinValues(e.keys,", ")}`;break;case Ye.invalid_union:r="Invalid input";break;case Ye.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${hr.joinValues(e.options)}`;break;case Ye.invalid_enum_value:r=`Invalid enum value. Expected ${hr.joinValues(e.options)}, received '${e.received}'`;break;case Ye.invalid_arguments:r="Invalid function arguments";break;case Ye.invalid_return_type:r="Invalid function return type";break;case Ye.invalid_date:r="Invalid date";break;case Ye.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:hr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ye.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ye.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ye.custom:r="Invalid input";break;case Ye.invalid_intersection_types:r="Intersection results could not be merged";break;case Ye.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ye.not_finite:r="Number must be finite";break;default:r=t.defaultError,hr.assertNever(e)}return{message:r}};let tde=Jg;function T4(){return tde}const O4=e=>{const{data:t,path:r,errorMaps:s,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function mt(e,t){const r=T4(),s=O4({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Jg?void 0:Jg].filter(a=>!!a)});e.common.issues.push(s)}class Sa{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const a of r){if(a.status==="aborted")return Dt;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const a of r){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return Sa.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Dt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const Dt=Object.freeze({status:"aborted"}),zx=e=>({status:"dirty",value:e}),Qa=e=>({status:"valid",value:e}),uI=e=>e.status==="aborted",fI=e=>e.status==="dirty",Mb=e=>e.status==="valid",Fb=e=>typeof Promise<"u"&&e instanceof Promise;function $b(e,t,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function AU(e,t,r,s,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var _t;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(_t||(_t={}));var Wx,Hx;class Bl{constructor(t,r,s,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const mI=(e,t)=>{if(Mb(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ao(e.common.issues);return this._error=r,this._error}}};function Wt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:a}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??s)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??r)!==null&&d!==void 0?d:l.defaultError}},description:a}}class rr{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Ru(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ru(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Sa,ctx:{common:t.parent.common,data:t.data,parsedType:Ru(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Fb(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){var s;const a={common:{issues:[],async:(s=r==null?void 0:r.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ru(t)},i=this._parseSync({data:t,path:a.path,parent:a});return mI(a,i)}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ru(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(Fb(a)?a:Promise.resolve(a));return mI(s,i)}refine(t,r){const s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Ye.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(t){return new Fc({schema:this,typeName:Tt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return bc.create(this,this._def)}nullable(){return Sf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Dl.create(this,this._def)}promise(){return t0.create(this,this._def)}or(t){return Ub.create([this,t],this._def)}and(t){return Vb.create(this,t,this._def)}transform(t){return new Fc({...Wt(this._def),schema:this,typeName:Tt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Gb({...Wt(this._def),innerType:this,defaultValue:r,typeName:Tt.ZodDefault})}brand(){return new OU({typeName:Tt.ZodBranded,type:this,...Wt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Kb({...Wt(this._def),innerType:this,catchValue:r,typeName:Tt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return vN.create(this,t)}readonly(){return Yb.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const rde=/^c[^\s-]{8,}$/i,nde=/^[0-9a-z]+$/,sde=/^[0-9A-HJKMNP-TV-Z]{26}$/,ade=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ide=/^[a-z0-9_-]{21}$/i,ode=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,lde=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,cde="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let R_;const dde=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ude=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,fde=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,kU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",mde=new RegExp(`^${kU}$`);function PU(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function hde(e){return new RegExp(`^${PU(e)}$`)}function pde(e){let t=`${kU}T${PU(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function xde(e,t){return!!((t==="v4"||!t)&&dde.test(e)||(t==="v6"||!t)&&ude.test(e))}class xc extends rr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==pt.string){const i=this._getOrReturnCtx(t);return mt(i,{code:Ye.invalid_type,expected:pt.string,received:i.parsedType}),Dt}const s=new Sa;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),mt(a,{code:Ye.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),mt(a,{code:Ye.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?mt(a,{code:Ye.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&mt(a,{code:Ye.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")lde.test(t.data)||(a=this._getOrReturnCtx(t,a),mt(a,{validation:"email",code:Ye.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")R_||(R_=new RegExp(cde,"u")),R_.test(t.data)||(a=this._getOrReturnCtx(t,a),mt(a,{validation:"emoji",code:Ye.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")ade.test(t.data)||(a=this._getOrReturnCtx(t,a),mt(a,{validation:"uuid",code:Ye.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")ide.test(t.data)||(a=this._getOrReturnCtx(t,a),mt(a,{validation:"nanoid",code:Ye.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")rde.test(t.data)||(a=this._getOrReturnCtx(t,a),mt(a,{validation:"cuid",code:Ye.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")nde.test(t.data)||(a=this._getOrReturnCtx(t,a),mt(a,{validation:"cuid2",code:Ye.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")sde.test(t.data)||(a=this._getOrReturnCtx(t,a),mt(a,{validation:"ulid",code:Ye.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),mt(a,{validation:"url",code:Ye.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),mt(a,{validation:"regex",code:Ye.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),mt(a,{code:Ye.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),mt(a,{code:Ye.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),mt(a,{code:Ye.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?pde(i).test(t.data)||(a=this._getOrReturnCtx(t,a),mt(a,{code:Ye.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?mde.test(t.data)||(a=this._getOrReturnCtx(t,a),mt(a,{code:Ye.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?hde(i).test(t.data)||(a=this._getOrReturnCtx(t,a),mt(a,{code:Ye.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?ode.test(t.data)||(a=this._getOrReturnCtx(t,a),mt(a,{validation:"duration",code:Ye.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?xde(t.data,i.version)||(a=this._getOrReturnCtx(t,a),mt(a,{validation:"ip",code:Ye.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?fde.test(t.data)||(a=this._getOrReturnCtx(t,a),mt(a,{validation:"base64",code:Ye.invalid_string,message:i.message}),s.dirty()):hr.assertNever(i);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(a=>t.test(a),{validation:r,code:Ye.invalid_string,..._t.errToObj(s)})}_addCheck(t){return new xc({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",..._t.errToObj(t)})}url(t){return this._addCheck({kind:"url",..._t.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",..._t.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",..._t.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",..._t.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",..._t.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",..._t.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",..._t.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",..._t.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",..._t.errToObj(t)})}datetime(t){var r,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,..._t.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,..._t.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",..._t.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,..._t.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,..._t.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,..._t.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,..._t.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,..._t.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,..._t.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,..._t.errToObj(r)})}nonempty(t){return this.min(1,_t.errToObj(t))}trim(){return new xc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}xc.create=e=>{var t;return new xc({checks:[],typeName:Tt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Wt(e)})};function gde(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=r>s?r:s,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class Oh extends rr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==pt.number){const i=this._getOrReturnCtx(t);return mt(i,{code:Ye.invalid_type,expected:pt.number,received:i.parsedType}),Dt}let s;const a=new Sa;for(const i of this._def.checks)i.kind==="int"?hr.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),mt(s,{code:Ye.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),mt(s,{code:Ye.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),mt(s,{code:Ye.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?gde(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),mt(s,{code:Ye.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),mt(s,{code:Ye.not_finite,message:i.message}),a.dirty()):hr.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,_t.toString(r))}gt(t,r){return this.setLimit("min",t,!1,_t.toString(r))}lte(t,r){return this.setLimit("max",t,!0,_t.toString(r))}lt(t,r){return this.setLimit("max",t,!1,_t.toString(r))}setLimit(t,r,s,a){return new Oh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:_t.toString(a)}]})}_addCheck(t){return new Oh({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:_t.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_t.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_t.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_t.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_t.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:_t.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:_t.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_t.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_t.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&hr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Oh.create=e=>new Oh({checks:[],typeName:Tt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Wt(e)});class Dh extends rr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==pt.bigint){const i=this._getOrReturnCtx(t);return mt(i,{code:Ye.invalid_type,expected:pt.bigint,received:i.parsedType}),Dt}let s;const a=new Sa;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),mt(s,{code:Ye.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),mt(s,{code:Ye.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),mt(s,{code:Ye.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):hr.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,_t.toString(r))}gt(t,r){return this.setLimit("min",t,!1,_t.toString(r))}lte(t,r){return this.setLimit("max",t,!0,_t.toString(r))}lt(t,r){return this.setLimit("max",t,!1,_t.toString(r))}setLimit(t,r,s,a){return new Dh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:_t.toString(a)}]})}_addCheck(t){return new Dh({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_t.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_t.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_t.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_t.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:_t.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Dh.create=e=>{var t;return new Dh({checks:[],typeName:Tt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Wt(e)})};class D4 extends rr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==pt.boolean){const s=this._getOrReturnCtx(t);return mt(s,{code:Ye.invalid_type,expected:pt.boolean,received:s.parsedType}),Dt}return Qa(t.data)}}D4.create=e=>new D4({typeName:Tt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Wt(e)});class e0 extends rr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==pt.date){const i=this._getOrReturnCtx(t);return mt(i,{code:Ye.invalid_type,expected:pt.date,received:i.parsedType}),Dt}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return mt(i,{code:Ye.invalid_date}),Dt}const s=new Sa;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),mt(a,{code:Ye.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),mt(a,{code:Ye.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):hr.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e0({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:_t.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:_t.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}e0.create=e=>new e0({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Tt.ZodDate,...Wt(e)});class I4 extends rr{_parse(t){if(this._getType(t)!==pt.symbol){const s=this._getOrReturnCtx(t);return mt(s,{code:Ye.invalid_type,expected:pt.symbol,received:s.parsedType}),Dt}return Qa(t.data)}}I4.create=e=>new I4({typeName:Tt.ZodSymbol,...Wt(e)});class Lb extends rr{_parse(t){if(this._getType(t)!==pt.undefined){const s=this._getOrReturnCtx(t);return mt(s,{code:Ye.invalid_type,expected:pt.undefined,received:s.parsedType}),Dt}return Qa(t.data)}}Lb.create=e=>new Lb({typeName:Tt.ZodUndefined,...Wt(e)});class Bb extends rr{_parse(t){if(this._getType(t)!==pt.null){const s=this._getOrReturnCtx(t);return mt(s,{code:Ye.invalid_type,expected:pt.null,received:s.parsedType}),Dt}return Qa(t.data)}}Bb.create=e=>new Bb({typeName:Tt.ZodNull,...Wt(e)});class R4 extends rr{constructor(){super(...arguments),this._any=!0}_parse(t){return Qa(t.data)}}R4.create=e=>new R4({typeName:Tt.ZodAny,...Wt(e)});class Zm extends rr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Qa(t.data)}}Zm.create=e=>new Zm({typeName:Tt.ZodUnknown,...Wt(e)});class ru extends rr{_parse(t){const r=this._getOrReturnCtx(t);return mt(r,{code:Ye.invalid_type,expected:pt.never,received:r.parsedType}),Dt}}ru.create=e=>new ru({typeName:Tt.ZodNever,...Wt(e)});class M4 extends rr{_parse(t){if(this._getType(t)!==pt.undefined){const s=this._getOrReturnCtx(t);return mt(s,{code:Ye.invalid_type,expected:pt.void,received:s.parsedType}),Dt}return Qa(t.data)}}M4.create=e=>new M4({typeName:Tt.ZodVoid,...Wt(e)});class Dl extends rr{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),a=this._def;if(r.parsedType!==pt.array)return mt(r,{code:Ye.invalid_type,expected:pt.array,received:r.parsedType}),Dt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(mt(r,{code:o?Ye.too_big:Ye.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(mt(r,{code:Ye.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(mt(r,{code:Ye.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Bl(r,o,r.path,l)))).then(o=>Sa.mergeArray(s,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Bl(r,o,r.path,l)));return Sa.mergeArray(s,i)}get element(){return this._def.type}min(t,r){return new Dl({...this._def,minLength:{value:t,message:_t.toString(r)}})}max(t,r){return new Dl({...this._def,maxLength:{value:t,message:_t.toString(r)}})}length(t,r){return new Dl({...this._def,exactLength:{value:t,message:_t.toString(r)}})}nonempty(t){return this.min(1,t)}}Dl.create=(e,t)=>new Dl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Tt.ZodArray,...Wt(t)});function jm(e){if(e instanceof jn){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=bc.create(jm(s))}return new jn({...e._def,shape:()=>t})}else return e instanceof Dl?new Dl({...e._def,type:jm(e.element)}):e instanceof bc?bc.create(jm(e.unwrap())):e instanceof Sf?Sf.create(jm(e.unwrap())):e instanceof Mc?Mc.create(e.items.map(t=>jm(t))):e}class jn extends rr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=hr.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==pt.object){const d=this._getOrReturnCtx(t);return mt(d,{code:Ye.invalid_type,expected:pt.object,received:d.parsedType}),Dt}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ru&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Bl(a,f,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof ru){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(mt(a,{code:Ye.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Bl(a,f,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,m=await u.value;d.push({key:f,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>Sa.mergeObjectSync(s,d)):Sa.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return _t.errToObj,new jn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,s).message)!==null&&o!==void 0?o:s.defaultError;return r.code==="unrecognized_keys"?{message:(l=_t.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new jn({...this._def,unknownKeys:"strip"})}passthrough(){return new jn({...this._def,unknownKeys:"passthrough"})}extend(t){return new jn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new jn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Tt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new jn({...this._def,catchall:t})}pick(t){const r={};return hr.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new jn({...this._def,shape:()=>r})}omit(t){const r={};return hr.objectKeys(this.shape).forEach(s=>{t[s]||(r[s]=this.shape[s])}),new jn({...this._def,shape:()=>r})}deepPartial(){return jm(this)}partial(t){const r={};return hr.objectKeys(this.shape).forEach(s=>{const a=this.shape[s];t&&!t[s]?r[s]=a:r[s]=a.optional()}),new jn({...this._def,shape:()=>r})}required(t){const r={};return hr.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof bc;)i=i._def.innerType;r[s]=i}}),new jn({...this._def,shape:()=>r})}keyof(){return TU(hr.objectKeys(this.shape))}}jn.create=(e,t)=>new jn({shape:()=>e,unknownKeys:"strip",catchall:ru.create(),typeName:Tt.ZodObject,...Wt(t)});jn.strictCreate=(e,t)=>new jn({shape:()=>e,unknownKeys:"strict",catchall:ru.create(),typeName:Tt.ZodObject,...Wt(t)});jn.lazycreate=(e,t)=>new jn({shape:e,unknownKeys:"strip",catchall:ru.create(),typeName:Tt.ZodObject,...Wt(t)});class Ub extends rr{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new ao(l.ctx.common.issues));return mt(r,{code:Ye.invalid_union,unionErrors:o}),Dt}if(r.common.async)return Promise.all(s.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new ao(c));return mt(r,{code:Ye.invalid_union,unionErrors:l}),Dt}}get options(){return this._def.options}}Ub.create=(e,t)=>new Ub({options:e,typeName:Tt.ZodUnion,...Wt(t)});const sc=e=>e instanceof Wb?sc(e.schema):e instanceof Fc?sc(e.innerType()):e instanceof Hb?[e.value]:e instanceof _f?e.options:e instanceof qb?hr.objectValues(e.enum):e instanceof Gb?sc(e._def.innerType):e instanceof Lb?[void 0]:e instanceof Bb?[null]:e instanceof bc?[void 0,...sc(e.unwrap())]:e instanceof Sf?[null,...sc(e.unwrap())]:e instanceof OU||e instanceof Yb?sc(e.unwrap()):e instanceof Kb?sc(e._def.innerType):[];class RP extends rr{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==pt.object)return mt(r,{code:Ye.invalid_type,expected:pt.object,received:r.parsedType}),Dt;const s=this.discriminator,a=r.data[s],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(mt(r,{code:Ye.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),Dt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,s){const a=new Map;for(const i of r){const o=sc(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new RP({typeName:Tt.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...Wt(s)})}}function F4(e,t){const r=Ru(e),s=Ru(t);if(e===t)return{valid:!0,data:e};if(r===pt.object&&s===pt.object){const a=hr.objectKeys(t),i=hr.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=F4(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===pt.array&&s===pt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=F4(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===pt.date&&s===pt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Vb extends rr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(uI(i)||uI(o))return Dt;const l=F4(i.value,o.value);return l.valid?((fI(i)||fI(o))&&r.dirty(),{status:r.value,value:l.data}):(mt(s,{code:Ye.invalid_intersection_types}),Dt)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Vb.create=(e,t,r)=>new Vb({left:e,right:t,typeName:Tt.ZodIntersection,...Wt(r)});class Mc extends rr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==pt.array)return mt(s,{code:Ye.invalid_type,expected:pt.array,received:s.parsedType}),Dt;if(s.data.length<this._def.items.length)return mt(s,{code:Ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Dt;!this._def.rest&&s.data.length>this._def.items.length&&(mt(s,{code:Ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Bl(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>Sa.mergeArray(r,o)):Sa.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Mc({...this._def,rest:t})}}Mc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Mc({items:e,typeName:Tt.ZodTuple,rest:null,...Wt(t)})};class zb extends rr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==pt.object)return mt(s,{code:Ye.invalid_type,expected:pt.object,received:s.parsedType}),Dt;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in s.data)a.push({key:i._parse(new Bl(s,l,s.path,l)),value:o._parse(new Bl(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?Sa.mergeObjectAsync(r,a):Sa.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,s){return r instanceof rr?new zb({keyType:t,valueType:r,typeName:Tt.ZodRecord,...Wt(s)}):new zb({keyType:xc.create(),valueType:t,typeName:Tt.ZodRecord,...Wt(r)})}}class $4 extends rr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==pt.map)return mt(s,{code:Ye.invalid_type,expected:pt.map,received:s.parsedType}),Dt;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:a._parse(new Bl(s,l,s.path,[d,"key"])),value:i._parse(new Bl(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Dt;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Dt;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}$4.create=(e,t,r)=>new $4({valueType:t,keyType:e,typeName:Tt.ZodMap,...Wt(r)});class Ih extends rr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==pt.set)return mt(s,{code:Ye.invalid_type,expected:pt.set,received:s.parsedType}),Dt;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(mt(s,{code:Ye.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(mt(s,{code:Ye.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Dt;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new Bl(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Ih({...this._def,minSize:{value:t,message:_t.toString(r)}})}max(t,r){return new Ih({...this._def,maxSize:{value:t,message:_t.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Ih.create=(e,t)=>new Ih({valueType:e,minSize:null,maxSize:null,typeName:Tt.ZodSet,...Wt(t)});class lg extends rr{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==pt.function)return mt(r,{code:Ye.invalid_type,expected:pt.function,received:r.parsedType}),Dt;function s(l,c){return O4({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,T4(),Jg].filter(d=>!!d),issueData:{code:Ye.invalid_arguments,argumentsError:c}})}function a(l,c){return O4({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,T4(),Jg].filter(d=>!!d),issueData:{code:Ye.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof t0){const l=this;return Qa(async function(...c){const d=new ao([]),u=await l._def.args.parseAsync(c,i).catch(h=>{throw d.addIssue(s(c,h)),d}),f=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(f,i).catch(h=>{throw d.addIssue(a(f,h)),d})})}else{const l=this;return Qa(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new ao([s(c,d.error)]);const u=Reflect.apply(o,this,d.data),f=l._def.returns.safeParse(u,i);if(!f.success)throw new ao([a(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new lg({...this._def,args:Mc.create(t).rest(Zm.create())})}returns(t){return new lg({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,s){return new lg({args:t||Mc.create([]).rest(Zm.create()),returns:r||Zm.create(),typeName:Tt.ZodFunction,...Wt(s)})}}class Wb extends rr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Wb.create=(e,t)=>new Wb({getter:e,typeName:Tt.ZodLazy,...Wt(t)});class Hb extends rr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return mt(r,{received:r.data,code:Ye.invalid_literal,expected:this._def.value}),Dt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Hb.create=(e,t)=>new Hb({value:e,typeName:Tt.ZodLiteral,...Wt(t)});function TU(e,t){return new _f({values:e,typeName:Tt.ZodEnum,...Wt(t)})}class _f extends rr{constructor(){super(...arguments),Wx.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return mt(r,{expected:hr.joinValues(s),received:r.parsedType,code:Ye.invalid_type}),Dt}if($b(this,Wx)||AU(this,Wx,new Set(this._def.values)),!$b(this,Wx).has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return mt(r,{received:r.data,code:Ye.invalid_enum_value,options:s}),Dt}return Qa(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return _f.create(t,{...this._def,...r})}exclude(t,r=this._def){return _f.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}Wx=new WeakMap;_f.create=TU;class qb extends rr{constructor(){super(...arguments),Hx.set(this,void 0)}_parse(t){const r=hr.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==pt.string&&s.parsedType!==pt.number){const a=hr.objectValues(r);return mt(s,{expected:hr.joinValues(a),received:s.parsedType,code:Ye.invalid_type}),Dt}if($b(this,Hx)||AU(this,Hx,new Set(hr.getValidEnumValues(this._def.values))),!$b(this,Hx).has(t.data)){const a=hr.objectValues(r);return mt(s,{received:s.data,code:Ye.invalid_enum_value,options:a}),Dt}return Qa(t.data)}get enum(){return this._def.values}}Hx=new WeakMap;qb.create=(e,t)=>new qb({values:e,typeName:Tt.ZodNativeEnum,...Wt(t)});class t0 extends rr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==pt.promise&&r.common.async===!1)return mt(r,{code:Ye.invalid_type,expected:pt.promise,received:r.parsedType}),Dt;const s=r.parsedType===pt.promise?r.data:Promise.resolve(r.data);return Qa(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}t0.create=(e,t)=>new t0({type:e,typeName:Tt.ZodPromise,...Wt(t)});class Fc extends rr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Tt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{mt(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Dt;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?Dt:c.status==="dirty"||r.value==="dirty"?zx(c.value):c});{if(r.value==="aborted")return Dt;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?Dt:l.status==="dirty"||r.value==="dirty"?zx(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?Dt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?Dt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Mb(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Mb(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);hr.assertNever(a)}}Fc.create=(e,t,r)=>new Fc({schema:e,typeName:Tt.ZodEffects,effect:t,...Wt(r)});Fc.createWithPreprocess=(e,t,r)=>new Fc({schema:t,effect:{type:"preprocess",transform:e},typeName:Tt.ZodEffects,...Wt(r)});class bc extends rr{_parse(t){return this._getType(t)===pt.undefined?Qa(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}bc.create=(e,t)=>new bc({innerType:e,typeName:Tt.ZodOptional,...Wt(t)});class Sf extends rr{_parse(t){return this._getType(t)===pt.null?Qa(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Sf.create=(e,t)=>new Sf({innerType:e,typeName:Tt.ZodNullable,...Wt(t)});class Gb extends rr{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===pt.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Gb.create=(e,t)=>new Gb({innerType:e,typeName:Tt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Wt(t)});class Kb extends rr{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Fb(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ao(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ao(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Kb.create=(e,t)=>new Kb({innerType:e,typeName:Tt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Wt(t)});class L4 extends rr{_parse(t){if(this._getType(t)!==pt.nan){const s=this._getOrReturnCtx(t);return mt(s,{code:Ye.invalid_type,expected:pt.nan,received:s.parsedType}),Dt}return{status:"valid",value:t.data}}}L4.create=e=>new L4({typeName:Tt.ZodNaN,...Wt(e)});class OU extends rr{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class vN extends rr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?Dt:i.status==="dirty"?(r.dirty(),zx(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?Dt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,r){return new vN({in:t,out:r,typeName:Tt.ZodPipeline})}}class Yb extends rr{_parse(t){const r=this._def.innerType._parse(t),s=a=>(Mb(a)&&(a.value=Object.freeze(a.value)),a);return Fb(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}}Yb.create=(e,t)=>new Yb({innerType:e,typeName:Tt.ZodReadonly,...Wt(t)});jn.lazycreate;var Tt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Tt||(Tt={}));const qu=xc.create;Oh.create;L4.create;Dh.create;D4.create;e0.create;I4.create;Lb.create;Bb.create;R4.create;Zm.create;ru.create;M4.create;Dl.create;const MP=jn.create;jn.strictCreate;Ub.create;RP.create;Vb.create;Mc.create;zb.create;$4.create;Ih.create;lg.create;Wb.create;Hb.create;_f.create;qb.create;t0.create;Fc.create;bc.create;Sf.create;Fc.createWithPreprocess;vN.create;const r0=jp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=v.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},i)=>{const o=s?Fl:"button";return n.jsx(o,{className:ve(r0({variant:t,size:r,className:e})),ref:i,...a})});ee.displayName="Button";const me=v.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));me.displayName="Input";var vde="Label",DU=v.forwardRef((e,t)=>n.jsx(bt.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));DU.displayName=vde;var IU=DU;const yde=jp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),G=v.forwardRef(({className:e,...t},r)=>n.jsx(IU,{ref:r,className:ve(yde(),e),...t}));G.displayName=IU.displayName;const jde=MP({email:qu().email("Please enter a valid email address"),password:qu().min(6,"Password must be at least 6 characters")});function bde(){const[e,t]=v.useState(!1),[r,s]=v.useState(!1),{login:a,loginWithGoogle:i,loginWithFacebook:o,loginWithTwitter:l}=Ev(),{toast:c}=xr(),d=fr(),{theme:u,setTheme:f}=wp(),{register:m,handleSubmit:h,formState:{errors:x}}=DP({resolver:IP(jde)}),p=async j=>{s(!0);try{await a(j.email,j.password),c({title:"Welcome back!",description:"You have successfully logged in."}),d("/overview")}catch(y){c({title:"Login failed",description:y.message||"Please check your credentials and try again.",variant:"destructive"})}finally{s(!1)}},g=async j=>{s(!0);try{j==="google"?await i():j==="facebook"?await o():await l()}catch(y){c({title:"Login failed",description:y.message||"Something went wrong. Please try again.",variant:"destructive"}),s(!1)}};return n.jsxs("div",{className:"min-h-screen flex",children:[n.jsxs("div",{className:"flex-1 flex items-center justify-center p-8 lg:p-12 bg-background relative",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>f(u==="dark"?"light":"dark"),className:"absolute top-4 right-4 z-10",children:u==="dark"?n.jsx(jv,{className:"h-5 w-5"}):n.jsx(vv,{className:"h-5 w-5"})}),n.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Welcome back"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Sign in to continue to your account"})]}),n.jsxs("form",{onSubmit:h(p),className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"email",className:"text-sm font-semibold",children:"Email address"}),n.jsx(me,{id:"email",type:"email",placeholder:"name@example.com",...m("email"),className:`h-12 text-base ${x.email?"border-destructive":""}`}),x.email&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:x.email.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(G,{htmlFor:"password",className:"text-sm font-semibold",children:"Password"}),n.jsx(Ti,{to:"/forgot-password",className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:"Forgot?"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"password",type:e?"text":"password",placeholder:"Enter your password",...m("password"),className:`h-12 text-base pr-12 ${x.password?"border-destructive":""}`}),n.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:e?n.jsx(Gm,{className:"h-5 w-5"}):n.jsx(Ha,{className:"h-5 w-5"})})]}),x.password&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:x.password.message})]}),n.jsx(ee,{type:"submit",className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all shadow-md",disabled:r,children:r?"Signing in...":"Sign in"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t border-border"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"bg-background px-4 text-muted-foreground font-medium",children:"or"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(ee,{type:"button",variant:"outline",className:"w-full h-12 text-base font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>g("google"),disabled:r,children:[n.jsx(C9,{className:"mr-3 h-5 w-5"}),"Continue with Google"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs(ee,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>g("facebook"),disabled:r,children:[n.jsx(k9,{className:"mr-2 h-5 w-5"}),"Facebook"]}),n.jsxs(ee,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>g("twitter"),disabled:r,children:[n.jsx(R9,{className:"mr-2 h-5 w-5"}),"Twitter"]})]})]}),n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-muted-foreground",children:["Don't have an account?"," ",n.jsx(Ti,{to:"/signup",className:"text-primary font-semibold hover:text-primary/80 transition-colors",children:"Create account"})]})})]})]}),n.jsxs("div",{className:"hidden lg:flex lg:flex-1 bg-gradient-to-br from-primary via-primary/90 to-accent relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"}),n.jsx("div",{className:"relative flex flex-col items-center justify-center p-12 text-white",children:n.jsxs("div",{className:"max-w-md space-y-6 animate-fade-in",children:[n.jsx("h2",{className:"text-5xl font-bold leading-tight",children:"Manage your business with ease"}),n.jsx("p",{className:"text-xl text-white/90 leading-relaxed",children:"Streamline your operations, track your inventory, and grow your business with our all-in-one platform."}),n.jsxs("div",{className:"flex items-center gap-2 pt-8",children:[n.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(j=>n.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 border-2 border-white flex items-center justify-center backdrop-blur-sm",children:n.jsx("span",{className:"text-sm font-semibold",children:j})},j))}),n.jsx("p",{className:"text-sm text-white/80 font-medium",children:"Trusted by 1000+ businesses"})]})]})}),n.jsx("div",{className:"absolute top-20 right-20 w-72 h-72 bg-white/10 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 bg-accent/20 rounded-full blur-3xl"})]})]})}const wde=MP({name:qu().min(2,"Name must be at least 2 characters").max(100,"Name is too long"),email:qu().email("Please enter a valid email address").max(255,"Email is too long"),password:qu().min(8,"Password must be at least 8 characters").max(100,"Password is too long").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:qu()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Nde(){const[e,t]=v.useState(!1),[r,s]=v.useState(!1),[a,i]=v.useState(!1),{signup:o,loginWithGoogle:l,loginWithFacebook:c,loginWithTwitter:d}=Ev(),{toast:u}=xr(),f=fr(),{theme:m,setTheme:h}=wp(),{register:x,handleSubmit:p,formState:{errors:g},watch:j}=DP({resolver:IP(wde)}),y=j("password",""),w=[{label:"At least 8 characters",met:y.length>=8},{label:"One uppercase letter",met:/[A-Z]/.test(y)},{label:"One lowercase letter",met:/[a-z]/.test(y)},{label:"One number",met:/[0-9]/.test(y)}],b=async S=>{i(!0);try{await o(S.email,S.password,S.name),u({title:"Account created!",description:"Please check your email to verify your account."}),f("/overview")}catch(E){u({title:"Signup failed",description:E.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{i(!1)}},N=async S=>{i(!0);try{S==="google"?await l():S==="facebook"?await c():await d()}catch(E){u({title:"Signup failed",description:E.message||"Something went wrong. Please try again.",variant:"destructive"}),i(!1)}};return n.jsxs("div",{className:"min-h-screen flex",children:[n.jsxs("div",{className:"hidden lg:flex lg:flex-1 bg-gradient-to-br from-accent via-accent/90 to-primary relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"}),n.jsx("div",{className:"relative flex flex-col items-center justify-center p-12 text-white",children:n.jsxs("div",{className:"max-w-md space-y-6 animate-fade-in",children:[n.jsx("h2",{className:"text-5xl font-bold leading-tight",children:"Start your journey today"}),n.jsx("p",{className:"text-xl text-white/90 leading-relaxed",children:"Join thousands of businesses already using our platform to streamline their operations and boost productivity."}),n.jsx("div",{className:"grid grid-cols-2 gap-6 pt-8",children:[{label:"Active Users",value:"10,000+"},{label:"Success Rate",value:"99.9%"},{label:"Countries",value:"50+"},{label:"Support 24/7",value:"Available"}].map(S=>n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-3xl font-bold",children:S.value}),n.jsx("p",{className:"text-sm text-white/80",children:S.label})]},S.label))})]})}),n.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-white/10 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-primary/20 rounded-full blur-3xl"})]}),n.jsxs("div",{className:"flex-1 flex items-center justify-center p-8 lg:p-12 bg-background overflow-y-auto relative",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>h(m==="dark"?"light":"dark"),className:"absolute top-4 right-4 z-10",children:m==="dark"?n.jsx(jv,{className:"h-5 w-5"}):n.jsx(vv,{className:"h-5 w-5"})}),n.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Create account"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Start your free trial today"})]}),n.jsxs("form",{onSubmit:p(b),className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"name",className:"text-sm font-semibold",children:"Full name"}),n.jsx(me,{id:"name",type:"text",placeholder:"John Doe",...x("name"),className:`h-12 text-base ${g.name?"border-destructive":""}`}),g.name&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:g.name.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"email",className:"text-sm font-semibold",children:"Email address"}),n.jsx(me,{id:"email",type:"email",placeholder:"name@example.com",...x("email"),className:`h-12 text-base ${g.email?"border-destructive":""}`}),g.email&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:g.email.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"password",className:"text-sm font-semibold",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"password",type:e?"text":"password",placeholder:"Create a strong password",...x("password"),className:`h-12 text-base pr-12 ${g.password?"border-destructive":""}`}),n.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:e?n.jsx(Gm,{className:"h-5 w-5"}):n.jsx(Ha,{className:"h-5 w-5"})})]}),y&&n.jsx("div",{className:"space-y-2 pt-2",children:w.map(S=>n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(or,{className:`h-4 w-4 ${S.met?"text-success":"text-muted-foreground"}`}),n.jsx("span",{className:S.met?"text-success":"text-muted-foreground",children:S.label})]},S.label))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"confirmPassword",className:"text-sm font-semibold",children:"Confirm password"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"confirmPassword",type:r?"text":"password",placeholder:"Confirm your password",...x("confirmPassword"),className:`h-12 text-base pr-12 ${g.confirmPassword?"border-destructive":""}`}),n.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:r?n.jsx(Gm,{className:"h-5 w-5"}):n.jsx(Ha,{className:"h-5 w-5"})})]}),g.confirmPassword&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:g.confirmPassword.message})]}),n.jsx(ee,{type:"submit",className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all shadow-md",disabled:a,children:a?"Creating account...":"Create account"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t border-border"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"bg-background px-4 text-muted-foreground font-medium",children:"or"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(ee,{type:"button",variant:"outline",className:"w-full h-12 text-base font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>N("google"),disabled:a,children:[n.jsx(C9,{className:"mr-3 h-5 w-5"}),"Continue with Google"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs(ee,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>N("facebook"),disabled:a,children:[n.jsx(k9,{className:"mr-2 h-5 w-5"}),"Facebook"]}),n.jsxs(ee,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>N("twitter"),disabled:a,children:[n.jsx(R9,{className:"mr-2 h-5 w-5"}),"Twitter"]})]})]}),n.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["By creating an account, you agree to our"," ",n.jsx("a",{href:"#",className:"text-primary hover:underline font-medium",children:"Terms of Service"})," ","and"," ",n.jsx("a",{href:"#",className:"text-primary hover:underline font-medium",children:"Privacy Policy"})]}),n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",n.jsx(Ti,{to:"/login",className:"text-primary font-semibold hover:text-primary/80 transition-colors",children:"Sign in"})]})})]})]})]})}const _de=MP({email:qu().email("Please enter a valid email address").max(255,"Email is too long")});function Sde(){const[e,t]=v.useState(!1),[r,s]=v.useState(!1),{resetPassword:a}=Ev(),{toast:i}=xr(),{theme:o,setTheme:l}=wp(),{register:c,handleSubmit:d,formState:{errors:u},getValues:f}=DP({resolver:IP(_de)}),m=async h=>{t(!0);try{await a(h.email),s(!0),i({title:"Email sent!",description:"Check your inbox for password reset instructions."})}catch(x){i({title:"Failed to send email",description:x.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{t(!1)}};return n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-accent/5 p-4 relative",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>l(o==="dark"?"light":"dark"),className:"absolute top-4 right-4 z-10",children:o==="dark"?n.jsx(jv,{className:"h-5 w-5"}):n.jsx(vv,{className:"h-5 w-5"})}),n.jsx("div",{className:"w-full max-w-md",children:n.jsx("div",{className:"bg-card rounded-3xl shadow-2xl border border-border p-8 lg:p-10 animate-fade-in",children:r?n.jsx(n.Fragment,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-success/10 mb-6",children:n.jsx(Lr,{className:"h-10 w-10 text-success"})}),n.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-foreground mb-3",children:"Check your email"}),n.jsx("p",{className:"text-muted-foreground text-base mb-6 leading-relaxed",children:"We've sent password reset instructions to"}),n.jsx("p",{className:"font-semibold text-foreground text-lg mb-6",children:f("email")}),n.jsx("div",{className:"bg-muted/50 rounded-xl p-4 mb-6",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Didn't receive the email? Check your spam folder or"," ",n.jsx("button",{type:"button",onClick:()=>s(!1),className:"text-primary hover:underline font-medium",children:"try another email address"})]})}),n.jsx(Ti,{to:"/login",children:n.jsx(ee,{className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all",children:"Back to login"})})]})}):n.jsxs(n.Fragment,{children:[n.jsxs(Ti,{to:"/login",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-8 transition-colors group",children:[n.jsx(tr,{className:"mr-2 h-4 w-4 group-hover:-translate-x-1 transition-transform"}),"Back to login"]}),n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary/10 mb-6",children:n.jsx(cn,{className:"h-8 w-8 text-primary"})}),n.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-foreground mb-3",children:"Forgot password?"}),n.jsx("p",{className:"text-muted-foreground text-base lg:text-lg leading-relaxed",children:"No worries! Enter your email and we'll send you reset instructions."})]}),n.jsxs("form",{onSubmit:d(m),className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"email",className:"text-sm font-semibold",children:"Email address"}),n.jsx(me,{id:"email",type:"email",placeholder:"name@example.com",...c("email"),className:`h-12 text-base ${u.email?"border-destructive":""}`}),u.email&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:u.email.message})]}),n.jsx(ee,{type:"submit",className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all shadow-md",disabled:e,children:e?"Sending...":"Send reset instructions"})]})]})})})]})}var FP="Avatar",[Cde,ktt]=Pa(FP),[Ede,RU]=Cde(FP),MU=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...s}=e,[a,i]=v.useState("idle");return n.jsx(Ede,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:n.jsx(bt.span,{...s,ref:t})})});MU.displayName=FP;var FU="AvatarImage",$U=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=RU(FU,r),l=Ade(s,i.referrerPolicy),c=an(d=>{a(d),o.onImageLoadingStatusChange(d)});return is(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?n.jsx(bt.img,{...i,ref:t,src:s}):null});$U.displayName=FU;var LU="AvatarFallback",BU=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:s,...a}=e,i=RU(LU,r),[o,l]=v.useState(s===void 0);return v.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(bt.span,{...a,ref:t}):null});BU.displayName=LU;function Ade(e,t){const[r,s]=v.useState("idle");return is(()=>{if(!e){s("error");return}let a=!0;const i=new window.Image,o=l=>()=>{a&&s(l)};return s("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{a=!1}},[e,t]),r}var UU=MU,VU=$U,zU=BU;const B4=v.forwardRef(({className:e,...t},r)=>n.jsx(UU,{ref:r,className:ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));B4.displayName=UU.displayName;const kde=v.forwardRef(({className:e,...t},r)=>n.jsx(VU,{ref:r,className:ve("aspect-square h-full w-full",e),...t}));kde.displayName=VU.displayName;const U4=v.forwardRef(({className:e,...t},r)=>n.jsx(zU,{ref:r,className:ve("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));U4.displayName=zU.displayName;var Pde=v.createContext(void 0);function Pp(e){const t=v.useContext(Pde);return e||t||"ltr"}var M_=0;function yN(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??hI()),document.body.insertAdjacentElement("beforeend",e[1]??hI()),M_++,()=>{M_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),M_--}},[])}function hI(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var F_="focusScope.autoFocusOnMount",$_="focusScope.autoFocusOnUnmount",pI={bubbles:!1,cancelable:!0},Tde="FocusScope",kv=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),d=an(a),u=an(i),f=v.useRef(null),m=Ft(t,p=>c(p)),h=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let p=function(w){if(h.paused||!l)return;const b=w.target;l.contains(b)?f.current=b:ad(f.current,{select:!0})},g=function(w){if(h.paused||!l)return;const b=w.relatedTarget;b!==null&&(l.contains(b)||ad(f.current,{select:!0}))},j=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&ad(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const y=new MutationObserver(j);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),y.disconnect()}}},[s,l,h.paused]),v.useEffect(()=>{if(l){gI.add(h);const p=document.activeElement;if(!l.contains(p)){const j=new CustomEvent(F_,pI);l.addEventListener(F_,d),l.dispatchEvent(j),j.defaultPrevented||(Ode(Fde(WU(l)),{select:!0}),document.activeElement===p&&ad(l))}return()=>{l.removeEventListener(F_,d),setTimeout(()=>{const j=new CustomEvent($_,pI);l.addEventListener($_,u),l.dispatchEvent(j),j.defaultPrevented||ad(p??document.body,{select:!0}),l.removeEventListener($_,u),gI.remove(h)},0)}}},[l,d,u,h]);const x=v.useCallback(p=>{if(!r&&!s||h.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,j=document.activeElement;if(g&&j){const y=p.currentTarget,[w,b]=Dde(y);w&&b?!p.shiftKey&&j===b?(p.preventDefault(),r&&ad(w,{select:!0})):p.shiftKey&&j===w&&(p.preventDefault(),r&&ad(b,{select:!0})):j===y&&p.preventDefault()}},[r,s,h.paused]);return n.jsx(bt.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});kv.displayName=Tde;function Ode(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(ad(s,{select:t}),document.activeElement!==r)return}function Dde(e){const t=WU(e),r=xI(t,e),s=xI(t.reverse(),e);return[r,s]}function WU(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function xI(e,t){for(const r of e)if(!Ide(r,{upTo:t}))return r}function Ide(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Rde(e){return e instanceof HTMLInputElement&&"select"in e}function ad(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Rde(e)&&t&&e.select()}}var gI=Mde();function Mde(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=vI(e,t),e.unshift(t)},remove(t){var r;e=vI(e,t),(r=e[0])==null||r.resume()}}}function vI(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function Fde(e){return e.filter(t=>t.tagName!=="A")}function $de(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,Lde(a,...t)]}function Lde(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var L_="rovingFocusGroup.onEntryFocus",Bde={bubbles:!1,cancelable:!0},jN="RovingFocusGroup",[V4,HU,Ude]=Yw(jN),[Vde,Tp]=$de(jN,[Ude]),[zde,Wde]=Vde(jN),qU=v.forwardRef((e,t)=>n.jsx(V4.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(V4.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Hde,{...e,ref:t})})}));qU.displayName=jN;var Hde=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,m=v.useRef(null),h=Ft(t,m),x=Pp(i),[p=null,g]=uo({prop:o,defaultProp:l,onChange:c}),[j,y]=v.useState(!1),w=an(d),b=HU(r),N=v.useRef(!1),[S,E]=v.useState(0);return v.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(L_,w),()=>C.removeEventListener(L_,w)},[w]),n.jsx(zde,{scope:r,orientation:s,dir:x,loop:a,currentTabStopId:p,onItemFocus:v.useCallback(C=>g(C),[g]),onItemShiftTab:v.useCallback(()=>y(!0),[]),onFocusableItemAdd:v.useCallback(()=>E(C=>C+1),[]),onFocusableItemRemove:v.useCallback(()=>E(C=>C-1),[]),children:n.jsx(bt.div,{tabIndex:j||S===0?-1:0,"data-orientation":s,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:qe(e.onMouseDown,()=>{N.current=!0}),onFocus:qe(e.onFocus,C=>{const A=!N.current;if(C.target===C.currentTarget&&A&&!j){const P=new CustomEvent(L_,Bde);if(C.currentTarget.dispatchEvent(P),!P.defaultPrevented){const R=b().filter(T=>T.focusable),I=R.find(T=>T.active),z=R.find(T=>T.id===p),L=[I,z,...R].filter(Boolean).map(T=>T.ref.current);YU(L,u)}}N.current=!1}),onBlur:qe(e.onBlur,()=>y(!1))})})}),GU="RovingFocusGroupItem",KU=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,...o}=e,l=so(),c=i||l,d=Wde(GU,r),u=d.currentTabStopId===c,f=HU(r),{onFocusableItemAdd:m,onFocusableItemRemove:h}=d;return v.useEffect(()=>{if(s)return m(),()=>h()},[s,m,h]),n.jsx(V4.ItemSlot,{scope:r,id:c,focusable:s,active:a,children:n.jsx(bt.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:qe(e.onMouseDown,x=>{s?d.onItemFocus(c):x.preventDefault()}),onFocus:qe(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:qe(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const p=Kde(x,d.orientation,d.dir);if(p!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let j=f().filter(y=>y.focusable).map(y=>y.ref.current);if(p==="last")j.reverse();else if(p==="prev"||p==="next"){p==="prev"&&j.reverse();const y=j.indexOf(x.currentTarget);j=d.loop?Yde(j,y+1):j.slice(y+1)}setTimeout(()=>YU(j))}})})})});KU.displayName=GU;var qde={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Gde(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Kde(e,t,r){const s=Gde(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return qde[s]}function YU(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function Yde(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var $P=qU,LP=KU,Xde=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},om=new WeakMap,Ly=new WeakMap,By={},B_=0,XU=function(e){return e&&(e.host||XU(e.parentNode))},Qde=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=XU(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Zde=function(e,t,r,s){var a=Qde(t,Array.isArray(e)?e:[e]);By[r]||(By[r]=new WeakMap);var i=By[r],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))u(m);else try{var h=m.getAttribute(s),x=h!==null&&h!=="false",p=(om.get(m)||0)+1,g=(i.get(m)||0)+1;om.set(m,p),i.set(m,g),o.push(m),p===1&&x&&Ly.set(m,!0),g===1&&m.setAttribute(r,"true"),x||m.setAttribute(s,"true")}catch(j){console.error("aria-hidden: cannot operate on ",m,j)}})};return u(t),l.clear(),B_++,function(){o.forEach(function(f){var m=om.get(f)-1,h=i.get(f)-1;om.set(f,m),i.set(f,h),m||(Ly.has(f)||f.removeAttribute(s),Ly.delete(f)),h||f.removeAttribute(r)}),B_--,B_||(om=new WeakMap,om=new WeakMap,Ly=new WeakMap,By={})}},Pv=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=Xde(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),Zde(s,a,r,"aria-hidden")):function(){return null}},ea=function(){return ea=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ea.apply(this,arguments)};function BP(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function QU(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var cg="right-scroll-bar-position",dg="width-before-scroll-bar",Jde="with-scroll-bars-hidden",eue="--removed-body-scroll-bar-size";function U_(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function tue(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var rue=typeof window<"u"?v.useLayoutEffect:v.useEffect,yI=new WeakMap;function ZU(e,t){var r=tue(null,function(s){return e.forEach(function(a){return U_(a,s)})});return rue(function(){var s=yI.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||U_(l,null)}),i.forEach(function(l){a.has(l)||U_(l,o)})}yI.set(r,e)},[e]),r}function nue(e){return e}function sue(e,t){t===void 0&&(t=nue);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function JU(e){e===void 0&&(e={});var t=sue(null);return t.options=ea({async:!0,ssr:!1},e),t}var eV=function(e){var t=e.sideCar,r=BP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return v.createElement(s,ea({},r))};eV.isSideCarExport=!0;function tV(e,t){return e.useMedium(t),eV}var rV=JU(),V_=function(){},bN=v.forwardRef(function(e,t){var r=v.useRef(null),s=v.useState({onScrollCapture:V_,onWheelCapture:V_,onTouchMoveCapture:V_}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,h=e.noIsolation,x=e.inert,p=e.allowPinchZoom,g=e.as,j=g===void 0?"div":g,y=e.gapMode,w=BP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=m,N=ZU([r,t]),S=ea(ea({},w),a);return v.createElement(v.Fragment,null,u&&v.createElement(b,{sideCar:rV,removeScrollBar:d,shards:f,noIsolation:h,inert:x,setCallbacks:i,allowPinchZoom:!!p,lockRef:r,gapMode:y}),o?v.cloneElement(v.Children.only(l),ea(ea({},S),{ref:N})):v.createElement(j,ea({},S,{className:c,ref:N}),l))});bN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bN.classNames={fullWidth:dg,zeroRight:cg};var aue=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iue(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=aue();return t&&e.setAttribute("nonce",t),e}function oue(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function lue(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var cue=function(){var e=0,t=null;return{add:function(r){e==0&&(t=iue())&&(oue(t,r),lue(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},due=function(){var e=cue();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},UP=function(){var e=due(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},uue={left:0,top:0,right:0,gap:0},z_=function(e){return parseInt(e||"",10)||0},fue=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[z_(r),z_(s),z_(a)]},mue=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return uue;var t=fue(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},hue=UP(),Jm="data-scroll-locked",pue=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Jde,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Jm,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cg,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(dg,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(cg," .").concat(cg,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(dg," .").concat(dg,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Jm,`] {
    `).concat(eue,": ").concat(l,`px;
  }
`)},jI=function(){var e=parseInt(document.body.getAttribute(Jm)||"0",10);return isFinite(e)?e:0},xue=function(){v.useEffect(function(){return document.body.setAttribute(Jm,(jI()+1).toString()),function(){var e=jI()-1;e<=0?document.body.removeAttribute(Jm):document.body.setAttribute(Jm,e.toString())}},[])},nV=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;xue();var i=v.useMemo(function(){return mue(a)},[a]);return v.createElement(hue,{styles:pue(i,!t,a,r?"":"!important")})},z4=!1;if(typeof window<"u")try{var Uy=Object.defineProperty({},"passive",{get:function(){return z4=!0,!0}});window.addEventListener("test",Uy,Uy),window.removeEventListener("test",Uy,Uy)}catch{z4=!1}var lm=z4?{passive:!1}:!1,gue=function(e){return e.tagName==="TEXTAREA"},sV=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!gue(e)&&r[t]==="visible")},vue=function(e){return sV(e,"overflowY")},yue=function(e){return sV(e,"overflowX")},bI=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=aV(e,s);if(a){var i=iV(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},jue=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},bue=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},aV=function(e,t){return e==="v"?vue(t):yue(t)},iV=function(e,t){return e==="v"?jue(t):bue(t)},wue=function(e,t){return e==="h"&&t==="rtl"?-1:1},Nue=function(e,t,r,s,a){var i=wue(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,m=0;do{var h=iV(e,l),x=h[0],p=h[1],g=h[2],j=p-g-i*x;(x||j)&&aV(e,l)&&(f+=j,m+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!a)||!u&&(Math.abs(m)<1||!a))&&(d=!0),d},Vy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},wI=function(e){return[e.deltaX,e.deltaY]},NI=function(e){return e&&"current"in e?e.current:e},_ue=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Sue=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Cue=0,cm=[];function Eue(e){var t=v.useRef([]),r=v.useRef([0,0]),s=v.useRef(),a=v.useState(Cue++)[0],i=v.useState(UP)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=QU([e.lockRef.current],(e.shards||[]).map(NI),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var j=Vy(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-j[0],b="deltaY"in p?p.deltaY:y[1]-j[1],N,S=p.target,E=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in p&&E==="h"&&S.type==="range")return!1;var C=bI(E,S);if(!C)return!0;if(C?N=E:(N=E==="v"?"h":"v",C=bI(E,S)),!C)return!1;if(!s.current&&"changedTouches"in p&&(w||b)&&(s.current=N),!N)return!0;var A=s.current||N;return Nue(A,g,p,A==="h"?w:b,!0)},[]),c=v.useCallback(function(p){var g=p;if(!(!cm.length||cm[cm.length-1]!==i)){var j="deltaY"in g?wI(g):Vy(g),y=t.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&_ue(N.delta,j)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(NI).filter(Boolean).filter(function(N){return N.contains(g.target)}),b=w.length>0?l(g,w[0]):!o.current.noIsolation;b&&g.cancelable&&g.preventDefault()}}},[]),d=v.useCallback(function(p,g,j,y){var w={name:p,delta:g,target:j,should:y,shadowParent:Aue(j)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),u=v.useCallback(function(p){r.current=Vy(p),s.current=void 0},[]),f=v.useCallback(function(p){d(p.type,wI(p),p.target,l(p,e.lockRef.current))},[]),m=v.useCallback(function(p){d(p.type,Vy(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return cm.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,lm),document.addEventListener("touchmove",c,lm),document.addEventListener("touchstart",u,lm),function(){cm=cm.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,lm),document.removeEventListener("touchmove",c,lm),document.removeEventListener("touchstart",u,lm)}},[]);var h=e.removeScrollBar,x=e.inert;return v.createElement(v.Fragment,null,x?v.createElement(i,{styles:Sue(a)}):null,h?v.createElement(nV,{gapMode:e.gapMode}):null)}function Aue(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const kue=tV(rV,Eue);var Tv=v.forwardRef(function(e,t){return v.createElement(bN,ea({},e,{ref:t,sideCar:kue}))});Tv.classNames=bN.classNames;var W4=["Enter"," "],Pue=["ArrowDown","PageUp","Home"],oV=["ArrowUp","PageDown","End"],Tue=[...Pue,...oV],Oue={ltr:[...W4,"ArrowRight"],rtl:[...W4,"ArrowLeft"]},Due={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ov="Menu",[n0,Iue,Rue]=Yw(Ov),[Hf,lV]=Pa(Ov,[Rue,uu,Tp]),wN=uu(),cV=Tp(),[Mue,qf]=Hf(Ov),[Fue,Dv]=Hf(Ov),dV=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,l=wN(t),[c,d]=v.useState(null),u=v.useRef(!1),f=an(i),m=Pp(a);return v.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),n.jsx(nN,{...l,children:n.jsx(Mue,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:d,children:n.jsx(Fue,{scope:t,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:m,modal:o,children:s})})})};dV.displayName=Ov;var $ue="MenuAnchor",VP=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=wN(r);return n.jsx(wv,{...a,...s,ref:t})});VP.displayName=$ue;var zP="MenuPortal",[Lue,uV]=Hf(zP,{forceMount:void 0}),fV=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,i=qf(zP,t);return n.jsx(Lue,{scope:t,forceMount:r,children:n.jsx(os,{present:r||i.open,children:n.jsx(yp,{asChild:!0,container:a,children:s})})})};fV.displayName=zP;var io="MenuContent",[Bue,WP]=Hf(io),mV=v.forwardRef((e,t)=>{const r=uV(io,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=qf(io,e.__scopeMenu),o=Dv(io,e.__scopeMenu);return n.jsx(n0.Provider,{scope:e.__scopeMenu,children:n.jsx(os,{present:s||i.open,children:n.jsx(n0.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(Uue,{...a,ref:t}):n.jsx(Vue,{...a,ref:t})})})})}),Uue=v.forwardRef((e,t)=>{const r=qf(io,e.__scopeMenu),s=v.useRef(null),a=Ft(t,s);return v.useEffect(()=>{const i=s.current;if(i)return Pv(i)},[]),n.jsx(HP,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:qe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Vue=v.forwardRef((e,t)=>{const r=qf(io,e.__scopeMenu);return n.jsx(HP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),HP=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:h,disableOutsideScroll:x,...p}=e,g=qf(io,r),j=Dv(io,r),y=wN(r),w=cV(r),b=Iue(r),[N,S]=v.useState(null),E=v.useRef(null),C=Ft(t,E,g.onContentChange),A=v.useRef(0),P=v.useRef(""),R=v.useRef(0),I=v.useRef(null),z=v.useRef("right"),U=v.useRef(0),L=x?Tv:v.Fragment,T=x?{as:Fl,allowPinchZoom:!0}:void 0,k=M=>{var fe,B;const ie=P.current+M,ce=b().filter(K=>!K.disabled),D=document.activeElement,W=(fe=ce.find(K=>K.ref.current===D))==null?void 0:fe.textValue,F=ce.map(K=>K.textValue),q=efe(F,ie,W),le=(B=ce.find(K=>K.textValue===q))==null?void 0:B.ref.current;(function K(se){P.current=se,window.clearTimeout(A.current),se!==""&&(A.current=window.setTimeout(()=>K(""),1e3))})(ie),le&&setTimeout(()=>le.focus())};v.useEffect(()=>()=>window.clearTimeout(A.current),[]),yN();const O=v.useCallback(M=>{var ce,D;return z.current===((ce=I.current)==null?void 0:ce.side)&&rfe(M,(D=I.current)==null?void 0:D.area)},[]);return n.jsx(Bue,{scope:r,searchRef:P,onItemEnter:v.useCallback(M=>{O(M)&&M.preventDefault()},[O]),onItemLeave:v.useCallback(M=>{var ie;O(M)||((ie=E.current)==null||ie.focus(),S(null))},[O]),onTriggerLeave:v.useCallback(M=>{O(M)&&M.preventDefault()},[O]),pointerGraceTimerRef:R,onPointerGraceIntentChange:v.useCallback(M=>{I.current=M},[]),children:n.jsx(L,{...T,children:n.jsx(kv,{asChild:!0,trapped:a,onMountAutoFocus:qe(i,M=>{var ie;M.preventDefault(),(ie=E.current)==null||ie.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(zf,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:h,children:n.jsx($P,{asChild:!0,...w,dir:j.dir,orientation:"vertical",loop:s,currentTabStopId:N,onCurrentTabStopIdChange:S,onEntryFocus:qe(c,M=>{j.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(sN,{role:"menu","aria-orientation":"vertical","data-state":kV(g.open),"data-radix-menu-content":"",dir:j.dir,...y,...p,ref:C,style:{outline:"none",...p.style},onKeyDown:qe(p.onKeyDown,M=>{const ce=M.target.closest("[data-radix-menu-content]")===M.currentTarget,D=M.ctrlKey||M.altKey||M.metaKey,W=M.key.length===1;ce&&(M.key==="Tab"&&M.preventDefault(),!D&&W&&k(M.key));const F=E.current;if(M.target!==F||!Tue.includes(M.key))return;M.preventDefault();const le=b().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);oV.includes(M.key)&&le.reverse(),Zue(le)}),onBlur:qe(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(A.current),P.current="")}),onPointerMove:qe(e.onPointerMove,s0(M=>{const ie=M.target,ce=U.current!==M.clientX;if(M.currentTarget.contains(ie)&&ce){const D=M.clientX>U.current?"right":"left";z.current=D,U.current=M.clientX}}))})})})})})})});mV.displayName=io;var zue="MenuGroup",qP=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(bt.div,{role:"group",...s,ref:t})});qP.displayName=zue;var Wue="MenuLabel",hV=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(bt.div,{...s,ref:t})});hV.displayName=Wue;var Xb="MenuItem",_I="menu.itemSelect",NN=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...a}=e,i=v.useRef(null),o=Dv(Xb,e.__scopeMenu),l=WP(Xb,e.__scopeMenu),c=Ft(t,i),d=v.useRef(!1),u=()=>{const f=i.current;if(!r&&f){const m=new CustomEvent(_I,{bubbles:!0,cancelable:!0});f.addEventListener(_I,h=>s==null?void 0:s(h),{once:!0}),Yk(f,m),m.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(pV,{...a,ref:c,disabled:r,onClick:qe(e.onClick,u),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),d.current=!0},onPointerUp:qe(e.onPointerUp,f=>{var m;d.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:qe(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||W4.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});NN.displayName=Xb;var pV=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...i}=e,o=WP(Xb,r),l=cV(r),c=v.useRef(null),d=Ft(t,c),[u,f]=v.useState(!1),[m,h]=v.useState("");return v.useEffect(()=>{const x=c.current;x&&h((x.textContent??"").trim())},[i.children]),n.jsx(n0.ItemSlot,{scope:r,disabled:s,textValue:a??m,children:n.jsx(LP,{asChild:!0,...l,focusable:!s,children:n.jsx(bt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:d,onPointerMove:qe(e.onPointerMove,s0(x=>{s?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:qe(e.onPointerLeave,s0(x=>o.onItemLeave(x))),onFocus:qe(e.onFocus,()=>f(!0)),onBlur:qe(e.onBlur,()=>f(!1))})})})}),Hue="MenuCheckboxItem",xV=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...a}=e;return n.jsx(bV,{scope:e.__scopeMenu,checked:r,children:n.jsx(NN,{role:"menuitemcheckbox","aria-checked":Qb(r)?"mixed":r,...a,ref:t,"data-state":KP(r),onSelect:qe(a.onSelect,()=>s==null?void 0:s(Qb(r)?!0:!r),{checkForDefaultPrevented:!1})})})});xV.displayName=Hue;var gV="MenuRadioGroup",[que,Gue]=Hf(gV,{value:void 0,onValueChange:()=>{}}),vV=v.forwardRef((e,t)=>{const{value:r,onValueChange:s,...a}=e,i=an(s);return n.jsx(que,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(qP,{...a,ref:t})})});vV.displayName=gV;var yV="MenuRadioItem",jV=v.forwardRef((e,t)=>{const{value:r,...s}=e,a=Gue(yV,e.__scopeMenu),i=r===a.value;return n.jsx(bV,{scope:e.__scopeMenu,checked:i,children:n.jsx(NN,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":KP(i),onSelect:qe(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});jV.displayName=yV;var GP="MenuItemIndicator",[bV,Kue]=Hf(GP,{checked:!1}),wV=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...a}=e,i=Kue(GP,r);return n.jsx(os,{present:s||Qb(i.checked)||i.checked===!0,children:n.jsx(bt.span,{...a,ref:t,"data-state":KP(i.checked)})})});wV.displayName=GP;var Yue="MenuSeparator",NV=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(bt.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});NV.displayName=Yue;var Xue="MenuArrow",_V=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=wN(r);return n.jsx(aN,{...a,...s,ref:t})});_V.displayName=Xue;var Que="MenuSub",[Ptt,SV]=Hf(Que),qx="MenuSubTrigger",CV=v.forwardRef((e,t)=>{const r=qf(qx,e.__scopeMenu),s=Dv(qx,e.__scopeMenu),a=SV(qx,e.__scopeMenu),i=WP(qx,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>u,[u]),v.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),n.jsx(VP,{asChild:!0,...d,children:n.jsx(pV,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":kV(r.open),...e,ref:Kw(t,a.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:qe(e.onPointerMove,s0(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:qe(e.onPointerLeave,s0(f=>{var h,x;u();const m=(h=r.content)==null?void 0:h.getBoundingClientRect();if(m){const p=(x=r.content)==null?void 0:x.dataset.side,g=p==="right",j=g?-5:5,y=m[g?"left":"right"],w=m[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+j,y:f.clientY},{x:y,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:y,y:m.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:qe(e.onKeyDown,f=>{var h;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||Oue[s.dir].includes(f.key)&&(r.onOpenChange(!0),(h=r.content)==null||h.focus(),f.preventDefault())})})})});CV.displayName=qx;var EV="MenuSubContent",AV=v.forwardRef((e,t)=>{const r=uV(io,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=qf(io,e.__scopeMenu),o=Dv(io,e.__scopeMenu),l=SV(EV,e.__scopeMenu),c=v.useRef(null),d=Ft(t,c);return n.jsx(n0.Provider,{scope:e.__scopeMenu,children:n.jsx(os,{present:s||i.open,children:n.jsx(n0.Slot,{scope:e.__scopeMenu,children:n.jsx(HP,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:qe(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:qe(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:qe(e.onKeyDown,u=>{var h;const f=u.currentTarget.contains(u.target),m=Due[o.dir].includes(u.key);f&&m&&(i.onOpenChange(!1),(h=l.trigger)==null||h.focus(),u.preventDefault())})})})})})});AV.displayName=EV;function kV(e){return e?"open":"closed"}function Qb(e){return e==="indeterminate"}function KP(e){return Qb(e)?"indeterminate":e?"checked":"unchecked"}function Zue(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Jue(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function efe(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Jue(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function tfe(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>s!=u>s&&r<(d-l)*(s-c)/(u-c)+l&&(a=!a)}return a}function rfe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return tfe(r,t)}function s0(e){return t=>t.pointerType==="mouse"?e(t):void 0}var nfe=dV,sfe=VP,afe=fV,ife=mV,ofe=qP,lfe=hV,cfe=NN,dfe=xV,ufe=vV,ffe=jV,mfe=wV,hfe=NV,pfe=_V,xfe=CV,gfe=AV,YP="DropdownMenu",[vfe,Ttt]=Pa(YP,[lV]),Ta=lV(),[yfe,PV]=vfe(YP),TV=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Ta(t),d=v.useRef(null),[u=!1,f]=uo({prop:a,defaultProp:i,onChange:o});return n.jsx(yfe,{scope:t,triggerId:so(),triggerRef:d,contentId:so(),open:u,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(m=>!m),[f]),modal:l,children:n.jsx(nfe,{...c,open:u,onOpenChange:f,dir:s,modal:l,children:r})})};TV.displayName=YP;var OV="DropdownMenuTrigger",DV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,i=PV(OV,r),o=Ta(r);return n.jsx(sfe,{asChild:!0,...o,children:n.jsx(bt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:Kw(t,i.triggerRef),onPointerDown:qe(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:qe(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});DV.displayName=OV;var jfe="DropdownMenuPortal",IV=e=>{const{__scopeDropdownMenu:t,...r}=e,s=Ta(t);return n.jsx(afe,{...s,...r})};IV.displayName=jfe;var RV="DropdownMenuContent",MV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=PV(RV,r),i=Ta(r),o=v.useRef(!1);return n.jsx(ife,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:qe(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:qe(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MV.displayName=RV;var bfe="DropdownMenuGroup",wfe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ta(r);return n.jsx(ofe,{...a,...s,ref:t})});wfe.displayName=bfe;var Nfe="DropdownMenuLabel",FV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ta(r);return n.jsx(lfe,{...a,...s,ref:t})});FV.displayName=Nfe;var _fe="DropdownMenuItem",$V=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ta(r);return n.jsx(cfe,{...a,...s,ref:t})});$V.displayName=_fe;var Sfe="DropdownMenuCheckboxItem",LV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ta(r);return n.jsx(dfe,{...a,...s,ref:t})});LV.displayName=Sfe;var Cfe="DropdownMenuRadioGroup",Efe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ta(r);return n.jsx(ufe,{...a,...s,ref:t})});Efe.displayName=Cfe;var Afe="DropdownMenuRadioItem",BV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ta(r);return n.jsx(ffe,{...a,...s,ref:t})});BV.displayName=Afe;var kfe="DropdownMenuItemIndicator",UV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ta(r);return n.jsx(mfe,{...a,...s,ref:t})});UV.displayName=kfe;var Pfe="DropdownMenuSeparator",VV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ta(r);return n.jsx(hfe,{...a,...s,ref:t})});VV.displayName=Pfe;var Tfe="DropdownMenuArrow",Ofe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ta(r);return n.jsx(pfe,{...a,...s,ref:t})});Ofe.displayName=Tfe;var Dfe="DropdownMenuSubTrigger",zV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ta(r);return n.jsx(xfe,{...a,...s,ref:t})});zV.displayName=Dfe;var Ife="DropdownMenuSubContent",WV=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ta(r);return n.jsx(gfe,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WV.displayName=Ife;var Rfe=TV,Mfe=DV,Ffe=IV,HV=MV,qV=FV,GV=$V,KV=LV,YV=BV,XV=UV,QV=VV,ZV=zV,JV=WV;const Iv=Rfe,Rv=Mfe,$fe=v.forwardRef(({className:e,inset:t,children:r,...s},a)=>n.jsxs(ZV,{ref:a,className:ve("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[r,n.jsx(Xd,{className:"ml-auto h-4 w-4"})]}));$fe.displayName=ZV.displayName;const Lfe=v.forwardRef(({className:e,...t},r)=>n.jsx(JV,{ref:r,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Lfe.displayName=JV.displayName;const Op=v.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(Ffe,{children:n.jsx(HV,{ref:s,sideOffset:t,className:ve("z-[9999] min-w-[12rem] overflow-hidden rounded-lg border border-border/50 bg-popover backdrop-blur-xl p-2 text-popover-foreground shadow-2xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Op.displayName=HV.displayName;const wn=v.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(GV,{ref:s,className:ve("relative flex cursor-pointer select-none items-center rounded-md px-3 py-2.5 text-sm font-medium outline-none transition-colors","hover:bg-accent/80 hover:text-accent-foreground focus:bg-accent/80 focus:text-accent-foreground","data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));wn.displayName=GV.displayName;const ez=v.forwardRef(({className:e,children:t,checked:r,...s},a)=>n.jsxs(KV,{ref:a,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(XV,{children:n.jsx(eo,{className:"h-4 w-4"})})}),t]}));ez.displayName=KV.displayName;const Bfe=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(YV,{ref:s,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(XV,{children:n.jsx(E9,{className:"h-2 w-2 fill-current"})})}),t]}));Bfe.displayName=YV.displayName;const H4=v.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(qV,{ref:s,className:ve("px-3 py-2 text-xs font-bold text-muted-foreground uppercase tracking-wider",t&&"pl-8",e),...r}));H4.displayName=qV.displayName;const wc=v.forwardRef(({className:e,...t},r)=>n.jsx(QV,{ref:r,className:ve("my-1.5 h-px bg-border/50",e),...t}));wc.displayName=QV.displayName;var XP="Dialog",[tz,rz]=Pa(XP),[Ufe,rl]=tz(XP),nz=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[d=!1,u]=uo({prop:s,defaultProp:a,onChange:i});return n.jsx(Ufe,{scope:t,triggerRef:l,contentRef:c,contentId:so(),titleId:so(),descriptionId:so(),open:d,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};nz.displayName=XP;var sz="DialogTrigger",az=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=rl(sz,r),i=Ft(t,a.triggerRef);return n.jsx(bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":JP(a.open),...s,ref:i,onClick:qe(e.onClick,a.onOpenToggle)})});az.displayName=sz;var QP="DialogPortal",[Vfe,iz]=tz(QP,{forceMount:void 0}),oz=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=rl(QP,t);return n.jsx(Vfe,{scope:t,forceMount:r,children:v.Children.map(s,o=>n.jsx(os,{present:r||i.open,children:n.jsx(yp,{asChild:!0,container:a,children:o})}))})};oz.displayName=QP;var Zb="DialogOverlay",lz=v.forwardRef((e,t)=>{const r=iz(Zb,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=rl(Zb,e.__scopeDialog);return i.modal?n.jsx(os,{present:s||i.open,children:n.jsx(zfe,{...a,ref:t})}):null});lz.displayName=Zb;var zfe=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=rl(Zb,r);return n.jsx(Tv,{as:Fl,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(bt.div,{"data-state":JP(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Cf="DialogContent",cz=v.forwardRef((e,t)=>{const r=iz(Cf,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=rl(Cf,e.__scopeDialog);return n.jsx(os,{present:s||i.open,children:i.modal?n.jsx(Wfe,{...a,ref:t}):n.jsx(Hfe,{...a,ref:t})})});cz.displayName=Cf;var Wfe=v.forwardRef((e,t)=>{const r=rl(Cf,e.__scopeDialog),s=v.useRef(null),a=Ft(t,r.contentRef,s);return v.useEffect(()=>{const i=s.current;if(i)return Pv(i)},[]),n.jsx(dz,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:qe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:qe(e.onFocusOutside,i=>i.preventDefault())})}),Hfe=v.forwardRef((e,t)=>{const r=rl(Cf,e.__scopeDialog),s=v.useRef(!1),a=v.useRef(!1);return n.jsx(dz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),dz=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=rl(Cf,r),c=v.useRef(null),d=Ft(t,c);return yN(),n.jsxs(n.Fragment,{children:[n.jsx(kv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(zf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":JP(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(Gfe,{titleId:l.titleId}),n.jsx(Yfe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ZP="DialogTitle",uz=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=rl(ZP,r);return n.jsx(bt.h2,{id:a.titleId,...s,ref:t})});uz.displayName=ZP;var fz="DialogDescription",mz=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=rl(fz,r);return n.jsx(bt.p,{id:a.descriptionId,...s,ref:t})});mz.displayName=fz;var hz="DialogClose",pz=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=rl(hz,r);return n.jsx(bt.button,{type:"button",...s,ref:t,onClick:qe(e.onClick,()=>a.onOpenChange(!1))})});pz.displayName=hz;function JP(e){return e?"open":"closed"}var xz="DialogTitleWarning",[qfe,gz]=Cre(xz,{contentName:Cf,titleName:ZP,docsSlug:"dialog"}),Gfe=({titleId:e})=>{const t=gz(xz),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Kfe="DialogDescriptionWarning",Yfe=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gz(Kfe).contentName}}.`;return v.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},eT=nz,vz=az,tT=oz,Mv=lz,Fv=cz,$v=uz,Lv=mz,_N=pz;const Xfe=eT,Qfe=tT,yz=v.forwardRef(({className:e,...t},r)=>n.jsx(Mv,{className:ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));yz.displayName=Mv.displayName;const Zfe=jp("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),jz=v.forwardRef(({side:e="right",className:t,children:r,...s},a)=>n.jsxs(Qfe,{children:[n.jsx(yz,{}),n.jsxs(Fv,{ref:a,className:ve(Zfe({side:e}),t),...s,children:[r,n.jsxs(_N,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(Zn,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));jz.displayName=Fv.displayName;const bz=({className:e,...t})=>n.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",e),...t});bz.displayName="SheetHeader";const wz=v.forwardRef(({className:e,...t},r)=>n.jsx($v,{ref:r,className:ve("text-lg font-semibold text-foreground",e),...t}));wz.displayName=$v.displayName;const Jfe=v.forwardRef(({className:e,...t},r)=>n.jsx(Lv,{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));Jfe.displayName=Lv.displayName;function q4(e,[t,r]){return Math.min(r,Math.max(t,e))}function eme(e,t){return v.useReducer((r,s)=>t[r][s]??r,e)}var rT="ScrollArea",[Nz,Ott]=Pa(rT),[tme,go]=Nz(rT),_z=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=v.useState(null),[d,u]=v.useState(null),[f,m]=v.useState(null),[h,x]=v.useState(null),[p,g]=v.useState(null),[j,y]=v.useState(0),[w,b]=v.useState(0),[N,S]=v.useState(!1),[E,C]=v.useState(!1),A=Ft(t,R=>c(R)),P=Pp(a);return n.jsx(tme,{scope:r,type:s,dir:P,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:m,scrollbarX:h,onScrollbarXChange:x,scrollbarXEnabled:N,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:g,scrollbarYEnabled:E,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:b,children:n.jsx(bt.div,{dir:P,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});_z.displayName=rT;var Sz="ScrollAreaViewport",Cz=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:s,asChild:a,nonce:i,...o}=e,l=go(Sz,r),c=v.useRef(null),d=Ft(t,c,l.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),n.jsx(bt.div,{"data-radix-scroll-area-viewport":"",...o,asChild:a,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:ume({asChild:a,children:s},u=>n.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});Cz.displayName=Sz;var Gl="ScrollAreaScrollbar",nT=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=go(Gl,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return v.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?n.jsx(rme,{...s,ref:t,forceMount:r}):a.type==="scroll"?n.jsx(nme,{...s,ref:t,forceMount:r}):a.type==="auto"?n.jsx(Ez,{...s,ref:t,forceMount:r}):a.type==="always"?n.jsx(sT,{...s,ref:t}):null});nT.displayName=Gl;var rme=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=go(Gl,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(os,{present:r||i,children:n.jsx(Ez,{"data-state":i?"visible":"hidden",...s,ref:t})})}),nme=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=go(Gl,e.__scopeScrollArea),i=e.orientation==="horizontal",o=CN(()=>c("SCROLL_END"),100),[l,c]=eme("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),v.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let f=d[u];const m=()=>{const h=d[u];f!==h&&(c("SCROLL"),o()),f=h};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),n.jsx(os,{present:r||l!=="hidden",children:n.jsx(sT,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:qe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:qe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Ez=v.forwardRef((e,t)=>{const r=go(Gl,e.__scopeScrollArea),{forceMount:s,...a}=e,[i,o]=v.useState(!1),l=e.orientation==="horizontal",c=CN(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return Rh(r.viewport,c),Rh(r.content,c),n.jsx(os,{present:s||i,children:n.jsx(sT,{"data-state":i?"visible":"hidden",...a,ref:t})})}),sT=v.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,a=go(Gl,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Oz(l.viewport,l.content),u={...s,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,h){return cme(m,o.current,l,h)}return r==="horizontal"?n.jsx(sme,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,h=SI(m,l,a.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):r==="vertical"?n.jsx(ame,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,h=SI(m,l);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),sme=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=go(Gl,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),d=Ft(t,c,i.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(kz,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":SN(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),Iz(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:e1(o.paddingLeft),paddingEnd:e1(o.paddingRight)}})}})}),ame=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=go(Gl,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),d=Ft(t,c,i.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(kz,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":SN(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),Iz(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:e1(o.paddingTop),paddingEnd:e1(o.paddingBottom)}})}})}),[ime,Az]=Nz(Gl),kz=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...m}=e,h=go(Gl,r),[x,p]=v.useState(null),g=Ft(t,A=>p(A)),j=v.useRef(null),y=v.useRef(""),w=h.viewport,b=s.content-s.viewport,N=an(u),S=an(c),E=CN(f,10);function C(A){if(j.current){const P=A.clientX-j.current.left,R=A.clientY-j.current.top;d({x:P,y:R})}}return v.useEffect(()=>{const A=P=>{const R=P.target;(x==null?void 0:x.contains(R))&&N(P,b)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[w,x,b,N]),v.useEffect(S,[s,S]),Rh(x,E),Rh(h.content,E),n.jsx(ime,{scope:r,scrollbar:x,hasThumb:a,onThumbChange:an(i),onThumbPointerUp:an(o),onThumbPositionChange:S,onThumbPointerDown:an(l),children:n.jsx(bt.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:qe(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),j.current=x.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),C(A))}),onPointerMove:qe(e.onPointerMove,C),onPointerUp:qe(e.onPointerUp,A=>{const P=A.target;P.hasPointerCapture(A.pointerId)&&P.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=y.current,h.viewport&&(h.viewport.style.scrollBehavior=""),j.current=null})})})}),Jb="ScrollAreaThumb",Pz=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Az(Jb,e.__scopeScrollArea);return n.jsx(os,{present:r||a.hasThumb,children:n.jsx(ome,{ref:t,...s})})}),ome=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:s,...a}=e,i=go(Jb,r),o=Az(Jb,r),{onThumbPositionChange:l}=o,c=Ft(t,f=>o.onThumbChange(f)),d=v.useRef(),u=CN(()=>{d.current&&(d.current(),d.current=void 0)},100);return v.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(u(),!d.current){const h=dme(f,l);d.current=h,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,u,l]),n.jsx(bt.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:qe(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),x=f.clientX-h.left,p=f.clientY-h.top;o.onThumbPointerDown({x,y:p})}),onPointerUp:qe(e.onPointerUp,o.onThumbPointerUp)})});Pz.displayName=Jb;var aT="ScrollAreaCorner",Tz=v.forwardRef((e,t)=>{const r=go(aT,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?n.jsx(lme,{...e,ref:t}):null});Tz.displayName=aT;var lme=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...s}=e,a=go(aT,r),[i,o]=v.useState(0),[l,c]=v.useState(0),d=!!(i&&l);return Rh(a.scrollbarX,()=>{var f;const u=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),Rh(a.scrollbarY,()=>{var f;const u=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?n.jsx(bt.div,{...s,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function e1(e){return e?parseInt(e,10):0}function Oz(e,t){const r=e/t;return isNaN(r)?0:r}function SN(e){const t=Oz(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function cme(e,t,r,s="ltr"){const a=SN(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,f=s==="ltr"?[0,u]:[u*-1,0];return Dz([c,d],f)(e)}function SI(e,t,r="ltr"){const s=SN(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-s,c=r==="ltr"?[0,o]:[o*-1,0],d=q4(e,c);return Dz([0,o],[0,l])(d)}function Dz(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function Iz(e,t){return e>0&&e<t}var dme=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function CN(e,t){const r=an(e),s=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),v.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function Rh(e,t){const r=an(t);is(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,r])}function ume(e,t){const{asChild:r,children:s}=e;if(!r)return typeof t=="function"?t(s):t;const a=v.Children.only(s);return v.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var Rz=_z,fme=Cz,mme=Tz;const mu=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Rz,{ref:s,className:ve("relative overflow-hidden",e),...r,children:[n.jsx(fme,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(Mz,{}),n.jsx(mme,{})]}));mu.displayName=Rz.displayName;const Mz=v.forwardRef(({className:e,orientation:t="vertical",...r},s)=>n.jsx(nT,{ref:s,orientation:t,className:ve("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(Pz,{className:"relative flex-1 rounded-full bg-border"})}));Mz.displayName=nT.displayName;var CI=1,hme=.9,pme=.8,xme=.17,W_=.1,H_=.999,gme=.9999,vme=.99,yme=/[\\\/_+.#"@\[\(\{&]/,jme=/[\\\/_+.#"@\[\(\{&]/g,bme=/[\s-]/,Fz=/[\s-]/g;function G4(e,t,r,s,a,i,o){if(i===t.length)return a===e.length?CI:vme;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=s.charAt(i),d=r.indexOf(c,a),u=0,f,m,h,x;d>=0;)f=G4(e,t,r,s,d+1,i+1,o),f>u&&(d===a?f*=CI:yme.test(e.charAt(d-1))?(f*=pme,h=e.slice(a,d-1).match(jme),h&&a>0&&(f*=Math.pow(H_,h.length))):bme.test(e.charAt(d-1))?(f*=hme,x=e.slice(a,d-1).match(Fz),x&&a>0&&(f*=Math.pow(H_,x.length))):(f*=xme,a>0&&(f*=Math.pow(H_,d-a))),e.charAt(d)!==t.charAt(i)&&(f*=gme)),(f<W_&&r.charAt(d-1)===s.charAt(i+1)||s.charAt(i+1)===s.charAt(i)&&r.charAt(d-1)!==s.charAt(i))&&(m=G4(e,t,r,s,d+1,i+2,o),m*W_>f&&(f=m*W_)),f>u&&(u=f),d=r.indexOf(c,d+1);return o[l]=u,u}function EI(e){return e.toLowerCase().replace(Fz," ")}function wme(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,G4(e,t,EI(e),EI(t),0,0,{})}function Us(){return Us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Us.apply(null,arguments)}function eh(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Nme(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function $z(...e){return t=>e.forEach(r=>Nme(r,t))}function Bv(...e){return v.useCallback($z(...e),e)}function _me(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return v.createElement(p.Provider,{value:g},h)}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,Sme(a,...t)]}function Sme(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}const K4=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},Cme=nk.useId||(()=>{});let Eme=0;function q_(e){const[t,r]=v.useState(Cme());return K4(()=>{e||r(s=>s??String(Eme++))},[e]),e||(t?`radix-${t}`:"")}function Ef(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var s;return(s=t.current)===null||s===void 0?void 0:s.call(t,...r)},[])}function Ame({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=kme({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:s,l=Ef(r),c=v.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else a(d)},[i,e,a,l]);return[o,c]}function kme({defaultProp:e,onChange:t}){const r=v.useState(e),[s]=r,a=v.useRef(s),i=Ef(t);return v.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}const iT=v.forwardRef((e,t)=>{const{children:r,...s}=e,a=v.Children.toArray(r),i=a.find(Tme);if(i){const o=i.props.children,l=a.map(c=>c===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return v.createElement(Y4,Us({},s,{ref:t}),v.isValidElement(o)?v.cloneElement(o,void 0,l):null)}return v.createElement(Y4,Us({},s,{ref:t}),r)});iT.displayName="Slot";const Y4=v.forwardRef((e,t)=>{const{children:r,...s}=e;return v.isValidElement(r)?v.cloneElement(r,{...Ome(s,r.props),ref:t?$z(t,r.ref):r.ref}):v.Children.count(r)>1?v.Children.only(null):null});Y4.displayName="SlotClone";const Pme=({children:e})=>v.createElement(v.Fragment,null,e);function Tme(e){return v.isValidElement(e)&&e.type===Pme}function Ome(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}const Dme=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],vo=Dme.reduce((e,t)=>{const r=v.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?iT:t;return v.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),v.createElement(l,Us({},o,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ime(e,t){e&&po.flushSync(()=>e.dispatchEvent(t))}function Rme(e,t=globalThis==null?void 0:globalThis.document){const r=Ef(e);v.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s),()=>t.removeEventListener("keydown",s)},[r,t])}const X4="dismissableLayer.update",Mme="dismissableLayer.pointerDownOutside",Fme="dismissableLayer.focusOutside";let AI;const $me=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lme=v.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=e,u=v.useContext($me),[f,m]=v.useState(null),h=(r=f==null?void 0:f.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,x]=v.useState({}),p=Bv(t,C=>m(C)),g=Array.from(u.layers),[j]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(j),w=f?g.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,N=w>=y,S=Bme(C=>{const A=C.target,P=[...u.branches].some(R=>R.contains(A));!N||P||(i==null||i(C),l==null||l(C),C.defaultPrevented||c==null||c())},h),E=Ume(C=>{const A=C.target;[...u.branches].some(R=>R.contains(A))||(o==null||o(C),l==null||l(C),C.defaultPrevented||c==null||c())},h);return Rme(C=>{w===u.layers.size-1&&(a==null||a(C),!C.defaultPrevented&&c&&(C.preventDefault(),c()))},h),v.useEffect(()=>{if(f)return s&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(AI=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),kI(),()=>{s&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=AI)}},[f,h,s,u]),v.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),kI())},[f,u]),v.useEffect(()=>{const C=()=>x({});return document.addEventListener(X4,C),()=>document.removeEventListener(X4,C)},[]),v.createElement(vo.div,Us({},d,{ref:p,style:{pointerEvents:b?N?"auto":"none":void 0,...e.style},onFocusCapture:eh(e.onFocusCapture,E.onFocusCapture),onBlurCapture:eh(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:eh(e.onPointerDownCapture,S.onPointerDownCapture)}))});function Bme(e,t=globalThis==null?void 0:globalThis.document){const r=Ef(e),s=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let u=function(){Lz(Mme,r,d,{discrete:!0})};var c=u;const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function Ume(e,t=globalThis==null?void 0:globalThis.document){const r=Ef(e),s=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!s.current&&Lz(Fme,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function kI(){const e=new CustomEvent(X4);document.dispatchEvent(e)}function Lz(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?Ime(a,i):a.dispatchEvent(i)}const G_="focusScope.autoFocusOnMount",K_="focusScope.autoFocusOnUnmount",PI={bubbles:!1,cancelable:!0},Vme=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),d=Ef(a),u=Ef(i),f=v.useRef(null),m=Bv(t,p=>c(p)),h=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let y=function(S){if(h.paused||!l)return;const E=S.target;l.contains(E)?f.current=E:id(f.current,{select:!0})},w=function(S){if(h.paused||!l)return;const E=S.relatedTarget;E!==null&&(l.contains(E)||id(f.current,{select:!0}))},b=function(S){if(document.activeElement===document.body)for(const C of S)C.removedNodes.length>0&&id(l)};var p=y,g=w,j=b;document.addEventListener("focusin",y),document.addEventListener("focusout",w);const N=new MutationObserver(b);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),N.disconnect()}}},[s,l,h.paused]),v.useEffect(()=>{if(l){OI.add(h);const p=document.activeElement;if(!l.contains(p)){const j=new CustomEvent(G_,PI);l.addEventListener(G_,d),l.dispatchEvent(j),j.defaultPrevented||(zme(Kme(Bz(l)),{select:!0}),document.activeElement===p&&id(l))}return()=>{l.removeEventListener(G_,d),setTimeout(()=>{const j=new CustomEvent(K_,PI);l.addEventListener(K_,u),l.dispatchEvent(j),j.defaultPrevented||id(p??document.body,{select:!0}),l.removeEventListener(K_,u),OI.remove(h)},0)}}},[l,d,u,h]);const x=v.useCallback(p=>{if(!r&&!s||h.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,j=document.activeElement;if(g&&j){const y=p.currentTarget,[w,b]=Wme(y);w&&b?!p.shiftKey&&j===b?(p.preventDefault(),r&&id(w,{select:!0})):p.shiftKey&&j===w&&(p.preventDefault(),r&&id(b,{select:!0})):j===y&&p.preventDefault()}},[r,s,h.paused]);return v.createElement(vo.div,Us({tabIndex:-1},o,{ref:m,onKeyDown:x}))});function zme(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(id(s,{select:t}),document.activeElement!==r)return}function Wme(e){const t=Bz(e),r=TI(t,e),s=TI(t.reverse(),e);return[r,s]}function Bz(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function TI(e,t){for(const r of e)if(!Hme(r,{upTo:t}))return r}function Hme(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function qme(e){return e instanceof HTMLInputElement&&"select"in e}function id(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&qme(e)&&t&&e.select()}}const OI=Gme();function Gme(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=DI(e,t),e.unshift(t)},remove(t){var r;e=DI(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function DI(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function Kme(e){return e.filter(t=>t.tagName!=="A")}const Yme=v.forwardRef((e,t)=>{var r;const{container:s=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...a}=e;return s?Gw.createPortal(v.createElement(vo.div,Us({},a,{ref:t})),s):null});function Xme(e,t){return v.useReducer((r,s)=>{const a=t[r][s];return a??r},e)}const EN=e=>{const{present:t,children:r}=e,s=Qme(t),a=typeof r=="function"?r({present:s.isPresent}):v.Children.only(r),i=Bv(s.ref,a.ref);return typeof r=="function"||s.isPresent?v.cloneElement(a,{ref:i}):null};EN.displayName="Presence";function Qme(e){const[t,r]=v.useState(),s=v.useRef({}),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Xme(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=zy(s.current);i.current=l==="mounted"?d:"none"},[l]),K4(()=>{const d=s.current,u=a.current;if(u!==e){const m=i.current,h=zy(d);e?c("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),K4(()=>{if(t){const d=f=>{const h=zy(s.current).includes(f.animationName);f.target===t&&h&&po.flushSync(()=>c("ANIMATION_END"))},u=f=>{f.target===t&&(i.current=zy(s.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(d=>{d&&(s.current=getComputedStyle(d)),r(d)},[])}}function zy(e){return(e==null?void 0:e.animationName)||"none"}let Y_=0;function Zme(){v.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:II()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:II()),Y_++,()=>{Y_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Y_--}},[])}function II(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Uz=JU(),X_=function(){},AN=v.forwardRef(function(e,t){var r=v.useRef(null),s=v.useState({onScrollCapture:X_,onWheelCapture:X_,onTouchMoveCapture:X_}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,h=e.noIsolation,x=e.inert,p=e.allowPinchZoom,g=e.as,j=g===void 0?"div":g,y=BP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=m,b=ZU([r,t]),N=ea(ea({},y),a);return v.createElement(v.Fragment,null,u&&v.createElement(w,{sideCar:Uz,removeScrollBar:d,shards:f,noIsolation:h,inert:x,setCallbacks:i,allowPinchZoom:!!p,lockRef:r}),o?v.cloneElement(v.Children.only(l),ea(ea({},N),{ref:b})):v.createElement(j,ea({},N,{className:c,ref:b}),l))});AN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};AN.classNames={fullWidth:dg,zeroRight:cg};var Q4=!1;if(typeof window<"u")try{var Wy=Object.defineProperty({},"passive",{get:function(){return Q4=!0,!0}});window.addEventListener("test",Wy,Wy),window.removeEventListener("test",Wy,Wy)}catch{Q4=!1}var dm=Q4?{passive:!1}:!1,Jme=function(e){return e.tagName==="TEXTAREA"},Vz=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Jme(e)&&r[t]==="visible")},ehe=function(e){return Vz(e,"overflowY")},the=function(e){return Vz(e,"overflowX")},RI=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=zz(e,r);if(s){var a=Wz(e,r),i=a[1],o=a[2];if(i>o)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},rhe=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},nhe=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},zz=function(e,t){return e==="v"?ehe(t):the(t)},Wz=function(e,t){return e==="v"?rhe(t):nhe(t)},she=function(e,t){return e==="h"&&t==="rtl"?-1:1},ahe=function(e,t,r,s,a){var i=she(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,m=0;do{var h=Wz(e,l),x=h[0],p=h[1],g=h[2],j=p-g-i*x;(x||j)&&zz(e,l)&&(f+=j,m+=x),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(f===0||!a)||!u&&(m===0||!a))&&(d=!0),d},Hy=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},MI=function(e){return[e.deltaX,e.deltaY]},FI=function(e){return e&&"current"in e?e.current:e},ihe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ohe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},lhe=0,um=[];function che(e){var t=v.useRef([]),r=v.useRef([0,0]),s=v.useRef(),a=v.useState(lhe++)[0],i=v.useState(function(){return UP()})[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=QU([e.lockRef.current],(e.shards||[]).map(FI),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,g){if("touches"in p&&p.touches.length===2)return!o.current.allowPinchZoom;var j=Hy(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-j[0],b="deltaY"in p?p.deltaY:y[1]-j[1],N,S=p.target,E=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in p&&E==="h"&&S.type==="range")return!1;var C=RI(E,S);if(!C)return!0;if(C?N=E:(N=E==="v"?"h":"v",C=RI(E,S)),!C)return!1;if(!s.current&&"changedTouches"in p&&(w||b)&&(s.current=N),!N)return!0;var A=s.current||N;return ahe(A,g,p,A==="h"?w:b,!0)},[]),c=v.useCallback(function(p){var g=p;if(!(!um.length||um[um.length-1]!==i)){var j="deltaY"in g?MI(g):Hy(g),y=t.current.filter(function(N){return N.name===g.type&&N.target===g.target&&ihe(N.delta,j)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(FI).filter(Boolean).filter(function(N){return N.contains(g.target)}),b=w.length>0?l(g,w[0]):!o.current.noIsolation;b&&g.cancelable&&g.preventDefault()}}},[]),d=v.useCallback(function(p,g,j,y){var w={name:p,delta:g,target:j,should:y};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),u=v.useCallback(function(p){r.current=Hy(p),s.current=void 0},[]),f=v.useCallback(function(p){d(p.type,MI(p),p.target,l(p,e.lockRef.current))},[]),m=v.useCallback(function(p){d(p.type,Hy(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return um.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,dm),document.addEventListener("touchmove",c,dm),document.addEventListener("touchstart",u,dm),function(){um=um.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,dm),document.removeEventListener("touchmove",c,dm),document.removeEventListener("touchstart",u,dm)}},[]);var h=e.removeScrollBar,x=e.inert;return v.createElement(v.Fragment,null,x?v.createElement(i,{styles:ohe(a)}):null,h?v.createElement(nV,{gapMode:"margin"}):null)}const dhe=tV(Uz,che);var Hz=v.forwardRef(function(e,t){return v.createElement(AN,ea({},e,{ref:t,sideCar:dhe}))});Hz.classNames=AN.classNames;const qz="Dialog",[Gz,Dtt]=_me(qz),[uhe,Gf]=Gz(qz),fhe=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[d=!1,u]=Ame({prop:s,defaultProp:a,onChange:i});return v.createElement(uhe,{scope:t,triggerRef:l,contentRef:c,contentId:q_(),titleId:q_(),descriptionId:q_(),open:d,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(f=>!f),[u]),modal:o},r)},Kz="DialogPortal",[mhe,Yz]=Gz(Kz,{forceMount:void 0}),hhe=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=Gf(Kz,t);return v.createElement(mhe,{scope:t,forceMount:r},v.Children.map(s,o=>v.createElement(EN,{present:r||i.open},v.createElement(Yme,{asChild:!0,container:a},o))))},Z4="DialogOverlay",phe=v.forwardRef((e,t)=>{const r=Yz(Z4,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=Gf(Z4,e.__scopeDialog);return i.modal?v.createElement(EN,{present:s||i.open},v.createElement(xhe,Us({},a,{ref:t}))):null}),xhe=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Gf(Z4,r);return v.createElement(Hz,{as:iT,allowPinchZoom:!0,shards:[a.contentRef]},v.createElement(vo.div,Us({"data-state":Qz(a.open)},s,{ref:t,style:{pointerEvents:"auto",...s.style}})))}),a0="DialogContent",ghe=v.forwardRef((e,t)=>{const r=Yz(a0,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=Gf(a0,e.__scopeDialog);return v.createElement(EN,{present:s||i.open},i.modal?v.createElement(vhe,Us({},a,{ref:t})):v.createElement(yhe,Us({},a,{ref:t})))}),vhe=v.forwardRef((e,t)=>{const r=Gf(a0,e.__scopeDialog),s=v.useRef(null),a=Bv(t,r.contentRef,s);return v.useEffect(()=>{const i=s.current;if(i)return Pv(i)},[]),v.createElement(Xz,Us({},e,{ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:eh(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)===null||o===void 0||o.focus()}),onPointerDownOutside:eh(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:eh(e.onFocusOutside,i=>i.preventDefault())}))}),yhe=v.forwardRef((e,t)=>{const r=Gf(a0,e.__scopeDialog),s=v.useRef(!1),a=v.useRef(!1);return v.createElement(Xz,Us({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o;if((o=e.onCloseAutoFocus)===null||o===void 0||o.call(e,i),!i.defaultPrevented){var l;s.current||(l=r.triggerRef.current)===null||l===void 0||l.focus(),i.preventDefault()}s.current=!1,a.current=!1},onInteractOutside:i=>{var o,l;(o=e.onInteractOutside)===null||o===void 0||o.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;((l=r.triggerRef.current)===null||l===void 0?void 0:l.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),Xz=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Gf(a0,r),c=v.useRef(null),d=Bv(t,c);return Zme(),v.createElement(v.Fragment,null,v.createElement(Vme,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i},v.createElement(Lme,Us({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Qz(l.open)},o,{ref:d,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function Qz(e){return e?"open":"closed"}const jhe=fhe,bhe=hhe,whe=phe,Nhe=ghe;var jx='[cmdk-group=""]',Q_='[cmdk-group-items=""]',_he='[cmdk-group-heading=""]',oT='[cmdk-item=""]',$I=`${oT}:not([aria-disabled="true"])`,J4="cmdk-item-select",Mu="data-value",She=(e,t,r)=>wme(e,t,r),Zz=v.createContext(void 0),Uv=()=>v.useContext(Zz),Jz=v.createContext(void 0),lT=()=>v.useContext(Jz),eW=v.createContext(void 0),tW=v.forwardRef((e,t)=>{let r=bm(()=>{var D,W;return{search:"",value:(W=(D=e.value)!=null?D:e.defaultValue)!=null?W:"",filtered:{count:0,items:new Map,groups:new Set}}}),s=bm(()=>new Set),a=bm(()=>new Map),i=bm(()=>new Map),o=bm(()=>new Set),l=rW(e),{label:c,children:d,value:u,onValueChange:f,filter:m,shouldFilter:h,loop:x,disablePointerSelection:p=!1,vimBindings:g=!0,...j}=e,y=v.useId(),w=v.useId(),b=v.useId(),N=v.useRef(null),S=Mhe();Af(()=>{if(u!==void 0){let D=u.trim();r.current.value=D,E.emit()}},[u]),Af(()=>{S(6,z)},[]);let E=v.useMemo(()=>({subscribe:D=>(o.current.add(D),()=>o.current.delete(D)),snapshot:()=>r.current,setState:(D,W,F)=>{var q,le,fe;if(!Object.is(r.current[D],W)){if(r.current[D]=W,D==="search")I(),P(),S(1,R);else if(D==="value"&&(F||S(5,z),((q=l.current)==null?void 0:q.value)!==void 0)){let B=W??"";(fe=(le=l.current).onValueChange)==null||fe.call(le,B);return}E.emit()}},emit:()=>{o.current.forEach(D=>D())}}),[]),C=v.useMemo(()=>({value:(D,W,F)=>{var q;W!==((q=i.current.get(D))==null?void 0:q.value)&&(i.current.set(D,{value:W,keywords:F}),r.current.filtered.items.set(D,A(W,F)),S(2,()=>{P(),E.emit()}))},item:(D,W)=>(s.current.add(D),W&&(a.current.has(W)?a.current.get(W).add(D):a.current.set(W,new Set([D]))),S(3,()=>{I(),P(),r.current.value||R(),E.emit()}),()=>{i.current.delete(D),s.current.delete(D),r.current.filtered.items.delete(D);let F=U();S(4,()=>{I(),(F==null?void 0:F.getAttribute("id"))===D&&R(),E.emit()})}),group:D=>(a.current.has(D)||a.current.set(D,new Set),()=>{i.current.delete(D),a.current.delete(D)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],disablePointerSelection:p,listId:y,inputId:b,labelId:w,listInnerRef:N}),[]);function A(D,W){var F,q;let le=(q=(F=l.current)==null?void 0:F.filter)!=null?q:She;return D?le(D,r.current.search,W):0}function P(){if(!r.current.search||l.current.shouldFilter===!1)return;let D=r.current.filtered.items,W=[];r.current.filtered.groups.forEach(q=>{let le=a.current.get(q),fe=0;le.forEach(B=>{let K=D.get(B);fe=Math.max(K,fe)}),W.push([q,fe])});let F=N.current;L().sort((q,le)=>{var fe,B;let K=q.getAttribute("id"),se=le.getAttribute("id");return((fe=D.get(se))!=null?fe:0)-((B=D.get(K))!=null?B:0)}).forEach(q=>{let le=q.closest(Q_);le?le.appendChild(q.parentElement===le?q:q.closest(`${Q_} > *`)):F.appendChild(q.parentElement===F?q:q.closest(`${Q_} > *`))}),W.sort((q,le)=>le[1]-q[1]).forEach(q=>{let le=N.current.querySelector(`${jx}[${Mu}="${encodeURIComponent(q[0])}"]`);le==null||le.parentElement.appendChild(le)})}function R(){let D=L().find(F=>F.getAttribute("aria-disabled")!=="true"),W=D==null?void 0:D.getAttribute(Mu);E.setState("value",W||void 0)}function I(){var D,W,F,q;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=s.current.size;return}r.current.filtered.groups=new Set;let le=0;for(let fe of s.current){let B=(W=(D=i.current.get(fe))==null?void 0:D.value)!=null?W:"",K=(q=(F=i.current.get(fe))==null?void 0:F.keywords)!=null?q:[],se=A(B,K);r.current.filtered.items.set(fe,se),se>0&&le++}for(let[fe,B]of a.current)for(let K of B)if(r.current.filtered.items.get(K)>0){r.current.filtered.groups.add(fe);break}r.current.filtered.count=le}function z(){var D,W,F;let q=U();q&&(((D=q.parentElement)==null?void 0:D.firstChild)===q&&((F=(W=q.closest(jx))==null?void 0:W.querySelector(_he))==null||F.scrollIntoView({block:"nearest"})),q.scrollIntoView({block:"nearest"}))}function U(){var D;return(D=N.current)==null?void 0:D.querySelector(`${oT}[aria-selected="true"]`)}function L(){var D;return Array.from((D=N.current)==null?void 0:D.querySelectorAll($I))}function T(D){let W=L()[D];W&&E.setState("value",W.getAttribute(Mu))}function k(D){var W;let F=U(),q=L(),le=q.findIndex(B=>B===F),fe=q[le+D];(W=l.current)!=null&&W.loop&&(fe=le+D<0?q[q.length-1]:le+D===q.length?q[0]:q[le+D]),fe&&E.setState("value",fe.getAttribute(Mu))}function O(D){let W=U(),F=W==null?void 0:W.closest(jx),q;for(;F&&!q;)F=D>0?Ihe(F,jx):Rhe(F,jx),q=F==null?void 0:F.querySelector($I);q?E.setState("value",q.getAttribute(Mu)):k(D)}let M=()=>T(L().length-1),ie=D=>{D.preventDefault(),D.metaKey?M():D.altKey?O(1):k(1)},ce=D=>{D.preventDefault(),D.metaKey?T(0):D.altKey?O(-1):k(-1)};return v.createElement(vo.div,{ref:t,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:D=>{var W;if((W=j.onKeyDown)==null||W.call(j,D),!D.defaultPrevented)switch(D.key){case"n":case"j":{g&&D.ctrlKey&&ie(D);break}case"ArrowDown":{ie(D);break}case"p":case"k":{g&&D.ctrlKey&&ce(D);break}case"ArrowUp":{ce(D);break}case"Home":{D.preventDefault(),T(0);break}case"End":{D.preventDefault(),M();break}case"Enter":if(!D.nativeEvent.isComposing&&D.keyCode!==229){D.preventDefault();let F=U();if(F){let q=new Event(J4);F.dispatchEvent(q)}}}}},v.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:$he},c),kN(e,D=>v.createElement(Jz.Provider,{value:E},v.createElement(Zz.Provider,{value:C},D))))}),Che=v.forwardRef((e,t)=>{var r,s;let a=v.useId(),i=v.useRef(null),o=v.useContext(eW),l=Uv(),c=rW(e),d=(s=(r=c.current)==null?void 0:r.forceMount)!=null?s:o==null?void 0:o.forceMount;Af(()=>{if(!d)return l.item(a,o==null?void 0:o.id)},[d]);let u=nW(a,i,[e.value,e.children,i],e.keywords),f=lT(),m=kf(S=>S.value&&S.value===u.current),h=kf(S=>d||l.filter()===!1?!0:S.search?S.filtered.items.get(a)>0:!0);v.useEffect(()=>{let S=i.current;if(!(!S||e.disabled))return S.addEventListener(J4,x),()=>S.removeEventListener(J4,x)},[h,e.onSelect,e.disabled]);function x(){var S,E;p(),(E=(S=c.current).onSelect)==null||E.call(S,u.current)}function p(){f.setState("value",u.current,!0)}if(!h)return null;let{disabled:g,value:j,onSelect:y,forceMount:w,keywords:b,...N}=e;return v.createElement(vo.div,{ref:i0([i,t]),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!m,"data-disabled":!!g,"data-selected":!!m,onPointerMove:g||l.disablePointerSelection?void 0:p,onClick:g?void 0:x},e.children)}),Ehe=v.forwardRef((e,t)=>{let{heading:r,children:s,forceMount:a,...i}=e,o=v.useId(),l=v.useRef(null),c=v.useRef(null),d=v.useId(),u=Uv(),f=kf(h=>a||u.filter()===!1?!0:h.search?h.filtered.groups.has(o):!0);Af(()=>u.group(o),[]),nW(o,l,[e.value,e.heading,c]);let m=v.useMemo(()=>({id:o,forceMount:a}),[a]);return v.createElement(vo.div,{ref:i0([l,t]),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&v.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),kN(e,h=>v.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},v.createElement(eW.Provider,{value:m},h))))}),Ahe=v.forwardRef((e,t)=>{let{alwaysRender:r,...s}=e,a=v.useRef(null),i=kf(o=>!o.search);return!r&&!i?null:v.createElement(vo.div,{ref:i0([a,t]),...s,"cmdk-separator":"",role:"separator"})}),khe=v.forwardRef((e,t)=>{let{onValueChange:r,...s}=e,a=e.value!=null,i=lT(),o=kf(u=>u.search),l=kf(u=>u.value),c=Uv(),d=v.useMemo(()=>{var u;let f=(u=c.listInnerRef.current)==null?void 0:u.querySelector(`${oT}[${Mu}="${encodeURIComponent(l)}"]`);return f==null?void 0:f.getAttribute("id")},[]);return v.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),v.createElement(vo.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":d,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),Phe=v.forwardRef((e,t)=>{let{children:r,label:s="Suggestions",...a}=e,i=v.useRef(null),o=v.useRef(null),l=Uv();return v.useEffect(()=>{if(o.current&&i.current){let c=o.current,d=i.current,u,f=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let m=c.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return f.observe(c),()=>{cancelAnimationFrame(u),f.unobserve(c)}}},[]),v.createElement(vo.div,{ref:i0([i,t]),...a,"cmdk-list":"",role:"listbox","aria-label":s,id:l.listId},kN(e,c=>v.createElement("div",{ref:i0([o,l.listInnerRef]),"cmdk-list-sizer":""},c)))}),The=v.forwardRef((e,t)=>{let{open:r,onOpenChange:s,overlayClassName:a,contentClassName:i,container:o,...l}=e;return v.createElement(jhe,{open:r,onOpenChange:s},v.createElement(bhe,{container:o},v.createElement(whe,{"cmdk-overlay":"",className:a}),v.createElement(Nhe,{"aria-label":e.label,"cmdk-dialog":"",className:i},v.createElement(tW,{ref:t,...l}))))}),Ohe=v.forwardRef((e,t)=>kf(r=>r.filtered.count===0)?v.createElement(vo.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Dhe=v.forwardRef((e,t)=>{let{progress:r,children:s,label:a="Loading...",...i}=e;return v.createElement(vo.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},kN(e,o=>v.createElement("div",{"aria-hidden":!0},o)))}),ti=Object.assign(tW,{List:Phe,Item:Che,Input:khe,Group:Ehe,Separator:Ahe,Dialog:The,Empty:Ohe,Loading:Dhe});function Ihe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Rhe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function rW(e){let t=v.useRef(e);return Af(()=>{t.current=e}),t}var Af=typeof window>"u"?v.useEffect:v.useLayoutEffect;function bm(e){let t=v.useRef();return t.current===void 0&&(t.current=e()),t}function i0(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}function kf(e){let t=lT(),r=()=>e(t.snapshot());return v.useSyncExternalStore(t.subscribe,r,r)}function nW(e,t,r,s=[]){let a=v.useRef(),i=Uv();return Af(()=>{var o;let l=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=s.map(d=>d.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(Mu,l),a.current=l}),a}var Mhe=()=>{let[e,t]=v.useState(),r=bm(()=>new Map);return Af(()=>{r.current.forEach(s=>s()),r.current=new Map},[e]),(s,a)=>{r.current.set(s,a),t({})}};function Fhe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function kN({asChild:e,children:t},r){return e&&v.isValidElement(t)?v.cloneElement(Fhe(t),{ref:t.ref},r(t.props.children)):r(t)}var $he={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const En=eT,Lhe=vz,Bhe=tT,sW=v.forwardRef(({className:e,...t},r)=>n.jsx(Mv,{ref:r,className:ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));sW.displayName=Mv.displayName;const vn=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Bhe,{children:[n.jsx(sW,{}),n.jsxs(Fv,{ref:s,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(_N,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(Zn,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vn.displayName=Fv.displayName;const An=({className:e,...t})=>n.jsx("div",{className:ve("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});An.displayName="DialogHeader";const yo=({className:e,...t})=>n.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});yo.displayName="DialogFooter";const kn=v.forwardRef(({className:e,...t},r)=>n.jsx($v,{ref:r,className:ve("text-lg font-semibold leading-none tracking-tight",e),...t}));kn.displayName=$v.displayName;const zs=v.forwardRef(({className:e,...t},r)=>n.jsx(Lv,{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));zs.displayName=Lv.displayName;const cT=v.forwardRef(({className:e,...t},r)=>n.jsx(ti,{ref:r,className:ve("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));cT.displayName=ti.displayName;const Uhe=({children:e,shouldFilter:t=!0,...r})=>n.jsx(En,{...r,children:n.jsx(vn,{className:"overflow-hidden p-0 shadow-2xl border-border/50 max-w-2xl",children:n.jsx(cT,{shouldFilter:t,className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-semibold [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:uppercase [&_[cmdk-group-heading]]:tracking-wider [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-3 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),dT=v.forwardRef(({className:e,...t},r)=>n.jsxs("div",{className:"flex items-center border-b border-border/50 px-4 bg-muted/30","cmdk-input-wrapper":"",children:[n.jsx(Rs,{className:"mr-3 h-5 w-5 shrink-0 text-primary/70"}),n.jsx(ti.Input,{ref:r,className:ve("flex h-14 w-full rounded-md bg-transparent py-3 text-base outline-none placeholder:text-muted-foreground/70 disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));dT.displayName=ti.Input.displayName;const uT=v.forwardRef(({className:e,...t},r)=>n.jsx(ti.List,{ref:r,className:ve("max-h-[400px] overflow-y-auto overflow-x-hidden p-2",e),...t}));uT.displayName=ti.List.displayName;const aW=v.forwardRef((e,t)=>n.jsx(ti.Empty,{ref:t,className:"py-12 text-center text-sm text-muted-foreground",...e}));aW.displayName=ti.Empty.displayName;const jl=v.forwardRef(({className:e,...t},r)=>n.jsx(ti.Group,{ref:r,className:ve("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-3 [&_[cmdk-group-heading]]:py-2 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-semibold [&_[cmdk-group-heading]]:text-muted-foreground/80 [&_[cmdk-group-heading]]:uppercase [&_[cmdk-group-heading]]:tracking-wider",e),...t}));jl.displayName=ti.Group.displayName;const Vhe=v.forwardRef(({className:e,...t},r)=>n.jsx(ti.Separator,{ref:r,className:ve("-mx-1 h-px bg-border",e),...t}));Vhe.displayName=ti.Separator.displayName;const oi=v.forwardRef(({className:e,...t},r)=>n.jsx(ti.Item,{ref:r,className:ve("relative flex cursor-pointer select-none items-center rounded-lg px-3 py-2.5 text-sm outline-none transition-all duration-150 data-[disabled=true]:pointer-events-none data-[selected='true']:bg-primary/10 data-[selected='true']:text-primary data-[selected=true]:shadow-sm data-[disabled=true]:opacity-50 hover:bg-muted/50",e),...t}));oi.displayName=ti.Item.displayName;const si=ur.create({baseURL:Fi,timeout:3e4,headers:{"Content-Type":"application/json"}});si.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const qy={async getNotifications(e){return(await si.get("/notifications/",{params:e})).data},async getRecentNotifications(){return(await si.get("/notifications/recent/")).data},async getNotification(e){return(await si.get(`/notifications/${e}/`)).data},async getUnreadCount(){return(await si.get("/notifications/unread_count/")).data.unread_count},async markAsRead(e){return(await si.post(`/notifications/${e}/mark_read/`)).data},async markAllAsRead(){return(await si.post("/notifications/mark_all_read/")).data},async deleteNotification(e){await si.delete(`/notifications/${e}/`)},async clearReadNotifications(){return(await si.delete("/notifications/clear_read/")).data},async getByType(e){return(await si.get("/notifications/by_type/",{params:{type:e}})).data},async createNotification(e){return(await si.post("/notifications/",e)).data},async getPreferences(){return(await si.get("/notification-preferences/")).data},async updatePreferences(e){return(await si.post("/notification-preferences/",e)).data}},zhe=e=>({info:"text-blue-500",success:"text-green-500",warning:"text-amber-500",error:"text-red-500",order:"text-blue-500",delivery:"text-cyan-500",payment:"text-green-500",issue:"text-orange-500",system:"text-purple-500"})[e]||"text-muted-foreground",Whe=e=>{const t=new Date(e),s=new Date().getTime()-t.getTime(),a=Math.floor(s/6e4),i=Math.floor(s/36e5),o=Math.floor(s/864e5);return a<1?"Just now":a<60?`${a} min ago`:i<24?`${i} hour${i>1?"s":""} ago`:o<7?`${o} day${o>1?"s":""} ago`:t.toLocaleDateString()},fT=ur.create({baseURL:Fi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});fT.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));fT.interceptors.response.use(e=>e,e=>{var t,r;return console.error("Search API error:",(t=e.response)==null?void 0:t.status,(r=e.response)==null?void 0:r.data),Promise.reject(e)});const Hhe={async globalSearch(e,t=5){return(await fT.get("/search/",{params:{q:e,limit:t}})).data}};function qhe({className:e,onMenuToggle:t}){const[r,s]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState(""),[c,d]=v.useState(null),[u,f]=v.useState(!1),[m,h]=v.useState([]),[x,p]=v.useState(0),[g,j]=v.useState(!1),[y,w]=v.useState(null),[b,N]=v.useState(!1),S=fr(),{toast:E}=xr();v.useEffect(()=>{(async()=>{try{if(nn.isAuthenticated()){const T=await ic.getProfile();d(T)}}catch(T){console.error("Failed to fetch profile:",T)}})()},[]),v.useEffect(()=>{const L=async()=>{try{if(nn.isAuthenticated()){j(!0);const[k,O]=await Promise.all([qy.getRecentNotifications(),qy.getUnreadCount()]);h(k),p(O)}}catch(k){console.error("Failed to fetch notifications:",k)}finally{j(!1)}};L();const T=setInterval(L,3e4);return()=>clearInterval(T)},[]);const C=v.useCallback(async()=>{try{await qy.markAllAsRead(),h(L=>L.map(T=>({...T,is_read:!0}))),p(0),E({title:"Notifications marked as read",description:"All notifications have been marked as read."})}catch(L){console.error("Failed to mark all as read:",L)}},[E]),A=v.useCallback(async L=>{try{await qy.markAsRead(L),h(T=>T.map(k=>k.id===L?{...k,is_read:!0}:k)),p(T=>Math.max(0,T-1))}catch(T){console.error("Failed to mark as read:",T)}},[]),P=v.useCallback(async()=>{f(!0);try{const L=nn.getRefreshToken();L&&await ic.logout(L),nn.clearTokens(),E({title:"Logged out",description:"You have been successfully logged out."}),S("/login")}catch(L){console.error("Logout failed:",L),nn.clearTokens(),S("/login")}finally{f(!1)}},[S,E]),R=v.useMemo(()=>{var k,O,M,ie;if(!c)return"U";const L=((k=c.first_name)==null?void 0:k[0])||"",T=((O=c.last_name)==null?void 0:O[0])||"";return L||T?(L+T).toUpperCase():((ie=(M=c.username)==null?void 0:M[0])==null?void 0:ie.toUpperCase())||"U"},[c]),I=v.useMemo(()=>c?c.first_name&&c.last_name?`${c.first_name} ${c.last_name}`:c.username||"User":"User",[c]);v.useEffect(()=>{const L=T=>{T.key==="k"&&(T.metaKey||T.ctrlKey)&&(T.preventDefault(),s(k=>!k))};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[]);const z=L=>{switch(L){case"order":return ss;case"payment":return ns;case"delivery":return wr;case"issue":return Ct;case"warning":return Ct;case"success":return eo;default:return zu}};v.useEffect(()=>{const L=setTimeout(async()=>{var k,O;const T=o.trim();if(T.length>=2){N(!0);try{console.log("Searching for:",T);const M=await Hhe.globalSearch(T,5);console.log("Search results:",M),w(M)}catch(M){console.error("Search failed:",M),console.error("Error response:",(k=M.response)==null?void 0:k.data),console.error("Error status:",(O=M.response)==null?void 0:O.status),w(null)}finally{N(!1)}}else w(null)},300);return()=>clearTimeout(L)},[o]);const U=(L,T,k)=>{s(!1),l(""),w(null),L==="apartment"?S(`/apartments/${T}`):L==="client"?S("/clients"):L==="vendor"?S("/vendors"):L==="delivery"?S("/deliveries"):L==="issue"?S(k?`/apartments/${k}`:"/issues"):L==="product"&&k&&S(`/apartments/${k}`)};return n.jsxs(n.Fragment,{children:[n.jsx("header",{className:ve("sticky top-0 z-20 w-full","bg-background/80 backdrop-blur-xl","border-b border-border/40","supports-[backdrop-filter]:bg-background/60",e),children:n.jsxs("div",{className:"flex items-center justify-between h-16 px-4 lg:px-6",children:[n.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[n.jsx(ee,{variant:"ghost",size:"icon",className:"md:hidden h-9 w-9 hover:bg-muted/80",onClick:t,children:n.jsx(Sne,{className:"h-5 w-5"})}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center shadow-lg shadow-primary/20",children:n.jsx(dc,{className:"h-4 w-4 text-primary-foreground"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-bold tracking-tight text-foreground",children:"Buy2Rent"}),n.jsx("span",{className:"text-[10px] text-muted-foreground -mt-0.5",children:"Procurement"})]})]})}),n.jsxs(ee,{variant:"outline",className:ve("relative hidden lg:flex items-center gap-3","h-10 rounded-xl px-4","bg-muted/30 hover:bg-muted/50","border-border/50 hover:border-primary/30","text-sm text-muted-foreground","transition-all duration-300","min-w-[280px] lg:min-w-[360px]","justify-start","group"),onClick:()=>s(!0),children:[n.jsx(Rs,{className:"h-4 w-4 text-muted-foreground/70 group-hover:text-primary transition-colors"}),n.jsx("span",{className:"flex-1 text-left text-muted-foreground/70",children:"Search apartments, clients, products..."}),n.jsxs("kbd",{className:ve("hidden lg:inline-flex h-5 select-none items-center gap-1","rounded-md border border-border/50 bg-background/80","px-1.5 font-mono text-[10px] font-medium text-muted-foreground/70"),children:[n.jsx("span",{className:"text-xs",children:""}),"K"]})]})]}),n.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[n.jsx(ee,{variant:"ghost",size:"icon",className:"lg:hidden h-9 w-9 hover:bg-muted/80",onClick:()=>s(!0),children:n.jsx(Rs,{className:"h-5 w-5"})}),n.jsxs(ee,{variant:"ghost",size:"icon",className:ve("relative h-9 w-9 rounded-xl","hover:bg-muted/80 transition-all duration-200","group"),onClick:()=>i(!0),children:[n.jsx(zu,{className:"h-5 w-5 text-muted-foreground group-hover:text-foreground transition-colors"}),x>0&&n.jsx("span",{className:ve("absolute -top-0.5 -right-0.5","flex h-5 min-w-5 items-center justify-center","rounded-full bg-primary px-1","text-[10px] font-bold text-primary-foreground","shadow-lg shadow-primary/30","animate-in zoom-in-50"),children:x})]}),n.jsx("div",{className:"hidden lg:block h-6 w-px bg-border/50 mx-2"}),n.jsxs(Iv,{children:[n.jsx(Rv,{asChild:!0,children:n.jsxs(ee,{variant:"ghost",className:ve("h-10 gap-2 px-2 lg:px-3 rounded-xl","hover:bg-muted/80 transition-all duration-200"),children:[n.jsx(B4,{className:ve("h-8 w-8","ring-2 ring-primary/20 ring-offset-2 ring-offset-background","transition-all duration-300"),children:n.jsx(U4,{className:"bg-gradient-to-br from-primary via-primary to-primary/80 text-primary-foreground text-xs font-semibold",children:R})}),n.jsxs("div",{className:"hidden lg:flex flex-col items-start",children:[n.jsx("span",{className:"text-sm font-medium",children:I}),n.jsx("span",{className:"text-[10px] text-muted-foreground",children:(c==null?void 0:c.username)||"User"})]}),n.jsx(Wf,{className:"hidden lg:block h-4 w-4 text-muted-foreground"})]})}),n.jsxs(Op,{align:"end",className:ve("w-64 p-2","bg-popover/95 backdrop-blur-xl","border-border/50","shadow-xl"),children:[n.jsxs("div",{className:"flex items-center gap-3 p-2 mb-2",children:[n.jsx(B4,{className:"h-10 w-10 ring-2 ring-primary/20",children:n.jsx(U4,{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground font-semibold",children:R})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-semibold",children:I}),n.jsx("span",{className:"text-xs text-muted-foreground",children:(c==null?void 0:c.email)||"user@example.com"})]})]}),n.jsx(wc,{className:"bg-border/50"}),n.jsxs(wn,{className:"cursor-pointer rounded-lg h-10 gap-3",children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-muted/50 flex items-center justify-center",children:n.jsx(JC,{className:"h-4 w-4 text-muted-foreground"})}),n.jsx("span",{children:"Profile"})]}),n.jsxs(wn,{className:"cursor-pointer rounded-lg h-10 gap-3",onClick:()=>S("/settings"),children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-muted/50 flex items-center justify-center",children:n.jsx(yv,{className:"h-4 w-4 text-muted-foreground"})}),n.jsx("span",{children:"Settings"})]}),n.jsxs(wn,{className:"cursor-pointer rounded-lg h-10 gap-3",children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-muted/50 flex items-center justify-center",children:n.jsx(Dc,{className:"h-4 w-4 text-muted-foreground"})}),n.jsx("span",{children:"Team"})]}),n.jsx(wc,{className:"bg-border/50"}),n.jsxs(wn,{className:"cursor-pointer rounded-lg h-10 gap-3 text-red-500 hover:text-red-500 hover:bg-red-500/10",onClick:P,disabled:u,children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-red-500/10 flex items-center justify-center",children:n.jsx(Nne,{className:ve("h-4 w-4",u&&"animate-spin")})}),n.jsx("span",{children:u?"Logging out...":"Log out"})]})]})]})]})]})}),n.jsxs(Uhe,{open:r,onOpenChange:L=>{s(L),L||l("")},shouldFilter:!1,children:[n.jsxs("div",{className:"flex items-center border-b px-3",children:[n.jsx(Rs,{className:"h-4 w-4 text-muted-foreground mr-2"}),n.jsx(dT,{placeholder:"Search apartments, clients, vendors, products...",className:"h-14 text-base border-0 focus:ring-0",value:o,onValueChange:l})]}),n.jsxs(uT,{className:"min-h-[350px] max-h-[450px]",children:[b&&n.jsx("div",{className:"py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Searching..."})]})}),!b&&o.length>=2&&y&&y.total_results===0&&n.jsx("div",{className:"py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(Rs,{className:"h-10 w-10 text-muted-foreground/30"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"No results found"}),n.jsx("p",{className:"text-xs text-muted-foreground/70",children:"Try searching for apartments, clients, vendors, or products"})]})}),y&&y.apartments.length>0&&n.jsx(jl,{heading:`Apartments (${y.apartments.length})`,children:y.apartments.map(L=>n.jsxs(oi,{value:`apartment-${L.id}`,onSelect:()=>U("apartment",L.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-emerald-500/10 flex items-center justify-center mr-3",children:n.jsx(dr,{className:"h-4 w-4 text-emerald-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:L.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:L.address})]}),n.jsx("span",{className:ve("text-[10px] px-2 py-0.5 rounded-full",L.status==="In Progress"?"bg-blue-500/10 text-blue-500":L.status==="Completed"?"bg-green-500/10 text-green-500":"bg-muted text-muted-foreground"),children:L.status})]},L.id))}),y&&y.clients.length>0&&n.jsx(jl,{heading:`Clients (${y.clients.length})`,children:y.clients.map(L=>n.jsxs(oi,{value:`client-${L.id}`,onSelect:()=>U("client",L.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-violet-500/10 flex items-center justify-center mr-3",children:n.jsx(M9,{className:"h-4 w-4 text-violet-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:L.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:L.email})]}),n.jsx("span",{className:ve("text-[10px] px-2 py-0.5 rounded-full",L.account_status==="Active"?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"),children:L.account_status})]},L.id))}),y&&y.vendors.length>0&&n.jsx(jl,{heading:`Vendors (${y.vendors.length})`,children:y.vendors.map(L=>n.jsxs(oi,{value:`vendor-${L.id}`,onSelect:()=>U("vendor",L.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-amber-500/10 flex items-center justify-center mr-3",children:n.jsx(_a,{className:"h-4 w-4 text-amber-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:L.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:L.company_name||L.email||"No details"})]})]},L.id))}),y&&y.products.length>0&&n.jsx(jl,{heading:`Products (${y.products.length})`,children:y.products.map(L=>n.jsxs(oi,{value:`product-${L.id}`,onSelect:()=>U("product",L.id,L.apartment_id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-orange-500/10 flex items-center justify-center mr-3",children:n.jsx(ct,{className:"h-4 w-4 text-orange-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:L.product}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[L.vendor,"  ",L.category||"Uncategorized"]})]}),n.jsx("span",{className:ve("text-[10px] px-2 py-0.5 rounded-full",L.status==="Delivered"?"bg-green-500/10 text-green-500":L.status==="Ordered"?"bg-blue-500/10 text-blue-500":"bg-muted text-muted-foreground"),children:L.status})]},L.id))}),y&&y.deliveries.length>0&&n.jsx(jl,{heading:`Deliveries (${y.deliveries.length})`,children:y.deliveries.map(L=>n.jsxs(oi,{value:`delivery-${L.id}`,onSelect:()=>U("delivery",L.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-cyan-500/10 flex items-center justify-center mr-3",children:n.jsx(wr,{className:"h-4 w-4 text-cyan-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:L.order_reference||`Delivery #${L.id.slice(0,8)}`}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[L.vendor,"  ",L.expected_date||"No date"]})]}),n.jsx("span",{className:ve("text-[10px] px-2 py-0.5 rounded-full",L.status==="Delivered"?"bg-green-500/10 text-green-500":L.status==="In Transit"?"bg-blue-500/10 text-blue-500":L.status==="Scheduled"?"bg-amber-500/10 text-amber-500":"bg-muted text-muted-foreground"),children:L.status})]},L.id))}),y&&y.issues.length>0&&n.jsx(jl,{heading:`Issues (${y.issues.length})`,children:y.issues.map(L=>n.jsxs(oi,{value:`issue-${L.id}`,onSelect:()=>U("issue",L.id,L.apartment_id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-red-500/10 flex items-center justify-center mr-3",children:n.jsx(Ct,{className:"h-4 w-4 text-red-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:L.product_name}),n.jsxs("span",{className:"text-xs text-muted-foreground line-clamp-1",children:[L.type,"  ",L.priority]})]}),n.jsx("span",{className:ve("text-[10px] px-2 py-0.5 rounded-full",L.status==="Closed"?"bg-green-500/10 text-green-500":L.status==="Open"?"bg-red-500/10 text-red-500":"bg-amber-500/10 text-amber-500"),children:L.status})]},L.id))}),!o&&n.jsxs(jl,{heading:"Quick Actions",children:[n.jsxs(oi,{value:"go-to-apartments",onSelect:()=>{s(!1),S("/apartments")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-emerald-500/10 flex items-center justify-center mr-3",children:n.jsx(dr,{className:"h-4 w-4 text-emerald-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:"View All Apartments"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse apartments"})]})]}),n.jsxs(oi,{value:"go-to-clients",onSelect:()=>{s(!1),S("/clients")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-violet-500/10 flex items-center justify-center mr-3",children:n.jsx(Dc,{className:"h-4 w-4 text-violet-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:"View All Clients"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse clients"})]})]}),n.jsxs(oi,{value:"go-to-vendors",onSelect:()=>{s(!1),S("/vendors")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-amber-500/10 flex items-center justify-center mr-3",children:n.jsx(_a,{className:"h-4 w-4 text-amber-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:"View All Vendors"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse vendors"})]})]}),n.jsxs(oi,{value:"go-to-deliveries",onSelect:()=>{s(!1),S("/deliveries")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-cyan-500/10 flex items-center justify-center mr-3",children:n.jsx(wr,{className:"h-4 w-4 text-cyan-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:"View All Deliveries"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse deliveries"})]})]})]})]})]}),n.jsx(Xfe,{open:a,onOpenChange:i,children:n.jsxs(jz,{className:"w-full sm:w-[420px] p-0 border-l-border/50",children:[n.jsx(bz,{className:"p-6 pb-4 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx(zu,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(wz,{className:"text-lg",children:"Notifications"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[x," unread messages"]})]})]}),x>0&&n.jsxs(ee,{variant:"ghost",size:"sm",className:"text-xs text-primary hover:text-primary",onClick:C,children:[n.jsx(eo,{className:"h-3 w-3 mr-1"}),"Mark all read"]})]})}),n.jsx(mu,{className:"h-[calc(100vh-120px)]",children:n.jsx("div",{className:"p-4 space-y-2",children:g?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full"})}):m.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"h-12 w-12 rounded-xl bg-muted/50 flex items-center justify-center mb-3",children:n.jsx(zu,{className:"h-6 w-6 text-muted-foreground/50"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No notifications"}),n.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:"You're all caught up!"})]}):m.map(L=>{const T=z(L.notification_type);return n.jsx("div",{className:ve("group relative p-4 rounded-xl border transition-all duration-200 cursor-pointer","hover:shadow-md hover:scale-[1.01]",L.is_read?"bg-card border-border/50 hover:bg-muted/50":"bg-primary/5 border-primary/20 hover:bg-primary/10"),onClick:()=>{L.is_read||A(L.id),L.action_url&&(S(L.action_url),i(!1))},children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:ve("h-10 w-10 rounded-xl flex items-center justify-center flex-shrink-0",L.is_read?"bg-muted/50":"bg-background"),children:n.jsx(T,{className:ve("h-5 w-5",zhe(L.notification_type))})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("p",{className:"font-medium text-sm",children:L.title}),!L.is_read&&n.jsx("span",{className:"h-2 w-2 rounded-full bg-primary flex-shrink-0 mt-1.5"})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:L.message}),n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-[10px] text-muted-foreground/70",children:[n.jsx(jr,{className:"h-3 w-3"}),n.jsx("span",{children:Whe(L.created_at)})]})]})]})},L.id)})})})]})})]})}const Z_=768;function iW(){const[e,t]=v.useState(void 0);return v.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Z_-1}px)`),s=()=>{t(window.innerWidth<Z_)};return r.addEventListener("change",s),t(window.innerWidth<Z_),()=>r.removeEventListener("change",s)},[]),!!e}const Ghe="/assets/buy2rent-CUbASZeg.png",Khe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAAyCAYAAACauW+fAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADwZJREFUeNrsWwlYVdUW3ne+gDiWQw6pDyXLPmdNqLwKjljyKrG0TCtnM8vZ0rSytKeYiebwyinQcAiVckBDK3DAAVBfaQ6k4ggoCNz53vevc/e5Hi6XQYLv63vvrO9b3z5nn7X3Xmf/e6299jr3MiaTTDLJJJNMMskkk0wyySSTTDLJJJNMMv39SCFe/Gt88EQULR6suVPoQqVWspp1m7D6AV1YkyfDmN1qZA67taI6nQafAf/crl07GaEqIrV40aJxjX4oni035MBcpQToGhXTaNVM56NkfsoLzOfuXvZomxeZyufhiupUwDk7JSUlBuXiTp062WSoqgh4q82hQ6ErD+BKAlylZAq1GsCrmRKlk9mZqTCbZV1OYab8a+yRx/qymo26VkQn0qE2uHHHjh2bogxLSkqaERwcfEiGq/JIKbl2lGulaJRMo9PAwnVM56tjeirBel898/HzFa6dliyWk7GLFWSd/qv61QR3CwoKWp+YmNhFhqtqgC91LycrFwDXu8DWFwHdVQrXYB8/P2wDJpZ/bTdzOqyVoWeAwWBYn5CQ8JAMWSW7eu9unQBXInhTwdLVrGH9GkyDUqPVMDX29Tt5ZsHV07VG45JR056v0biulfnMlneCaWpWirG2DA0NnYXyHRm2qgIe+7gC8b4AqtoVvKnU6k3j5+/fpIDlk/UrFEoW+2VES61OOzIr1xhAwKsAuLAwhIBPg71fycx3T3sC/wfn45I6f3AH8DNl6PtGXFzcgvDw8GsydFUAvBKBm5pbsIZbNBZAWnJa5nap3OtTv1dD9uCK+S98A9knXN6AZBHsOR3MYraCr7JqTYt0vysiIuJLlNcldVpwg9jY2DA6WZaib7UBAwbQ4vhOhq4SgSdrVqtU3HWrXcBrXcDD3es9G+/59Twds47q9bqvIBtFsnSut1ltANzCTCYAbzJ7Nru9efPmCx51heC7Q4YMOR8dHR2K696l6BwqA1+JwR25dLhtd4B2v9Qyvd7FJZGPn88fWgR+DoeTmYxmVnCvkBXkGcFU5pc7roiJiaFIcEUZOjeXYatEi6fInFy0WqtyW7vU8mHxZm8dLPkonILAEVaLjZmNFmY2m5nFaBUs3gxX71RoK3KOL41UMmyVCDxZuCsiV7v3dpUEeHCLz6b3e4b2f0rRKhH92WyOh99+45neN2/m/lPYz+HWzULpAp7u6zbv4DmmvSRloqKihACuzLOlTFULvBDU8Sgd1/2mTwjpwBCtA3XGrA7mMFtqZmZmNyFLdwVyFmYF6GaLlVlxb0XZIDDEc0zfRYsW1fSii++4ceNeRWkoQ2e9DFtlunoOvBt0TVG3j7LevXxLPafTLABqhjs3C1Z9H3SL2eYG3OFUsYAuQ1j1uv/wHPP59957z9vHIB8euJW1N/xHhq1SgdeKLr2I5fOjnCBjs9kBONw5gS26cwF0F9M+byNrR1TvcKiYzq+utzEf51xRipFhq0xXr78PvEZLlu/KvtERzw7ACVg36KJblwBOVu4CHmy3Mwf41E9fM61PdfZQ4yfEYeK4RZN1N+J19EGmTjn1vfjxxx8ny7A9OM2aRUlP1hjzd0U4uosPrhyemQhLN1DGjaxdgSDO6XAwC7n1QgFss59OZRGidRF8k8X/dna+YOE2gQlwh5DqFaI4q5nVbvgY6zZkPi2Ay6jaD36ED9mEl/T9trw5+IEKhWKLZ+W0adPaliB/bcGCBbeqelLDn21GBtRaUnUH/Gfcz5dE/V6RvK8nGZnrNwg/Qdcq0Q/jB8yfP/8lmmfM3+QiwN9Kn5sIwA0UsVPcLBzPTASyWXDruN+xduuJHTabDR7AwewA2G61PT6kT2Bw9p3CLmThdI73JJvFyDr0m2Bq0fkFytb1ADekLF0F9F8aGRk5YdKkScXDfKczWXLUU0qi//OQT6DtAW3NVTGpzz3dtNs7g9rQpIbW8BMyWCy3wEKI7/hiU9rX8UkZRuiXjvsnS+mGUthzAUp0VeiI8b9grm8chzBGUBHg8859lkgRtR0AEtCUiBH3cTqiwaKndR747889Ox0Z3rp9r06NvsUst/J66FZrWd169RcGv74yftmyZTSeDtF73ANE55QdjEHb0ePHjzeW8GJlHfFm4YU/qewJ7fNUk5ZThrTfkZNnCqzup90bu//8DaqPCAkIyyuw1Knlr3s7dML2KKiXKJ5W8B7LxPaYh/oowvhcZOP9AvE4mz+jIgAcyMX/JM8gNsdzPxTN+LO74EeZ6zO2CXwWcle5XBiOyUtwSVH2KYwxg8ZyA3/3908TrWaLwWR0u3FJtC4AP7fb8Og53iZg87w+r6NY6+1ZzRr+h2N3p/Xs9PxkNnLkyHwO1GIUE8sxt5fh/pbVrl17KdoaS1nRIvC7Vq9evYtf+40YMeJFlB2FFQ7CPSUV2tM95FaL7VEfxregaxjrck5OTlfuMfZC7E+JXG/usnWoj9q/NHwWQP+I9NyXcrXlyrjTglcZFd46LLRTo2h4UFP41Pj6UuBJD7E/uF8V3DB9m3iXVz2Nx0kYp+GqVate4R6yG392DLwT87ARY2eiT9revuDPboLbcW+aA06G3GLIHYZcHh2VuTekHAqlx39xT17m0fcTL/4y1fn7vonO9PhxzuNbRzoPxQxzHlz7qnPfqpede5a9NKekiQfwfcBOL5w59oXWxSL4NWvW+EOhNGfZlNqzZ8/yuDKR3vaonyY+4PeR0nuJ3GlefXrv3r29JP25PdywYcM0uM/i9UISalfkc2PA2eCvPXXaHfVi8qGNw8VxE72NS++Gqnck4/XCODqUayR11ziLtIbLhHiZL6ncGcj5orSCHbzOwe/3uaN6yq8XOZrRmdxqdUfriOwt3ib96TYNaDWN8PLI7Oejmb182+li5+7hw4ff02q1owcPHrwXt9VKwbQNgBgEKyjvRxkD+syWbsG8TBJ3tBLa3RbLXr167cXEnOCeIQL9zYmJiSnEYg2SnD5mCuAevryV36cUSVSEtqrftGWjhv61/IsNhP4Gi9fR0dEBEmu3YpwrGIc81DBet3758uUb6GLs2LEkR7+LHAaZtR4Z0KNouxvlSXQ/EmVfOjJDrgXqZ6JuFHf1F3G/kjyU2+2cjBuTaLVYDBY6jhH4kjM5HecQuK1ZtPHkNx7voZ036qme2bmm6cXScHr1iv3Hro6J3JjKuj5Zf6BkgimKP3Do1I3bmOB54iSWQtcjIiLab968+UY5XH1JNAOLZz7EyGt96OlyJa74AKq7434AP3oKWzbqNqOOFl8EReHQ5XHolOE5SP+QVpTObvX9qqEfYE4G+1fTReubT39V6upLIHLVGzDOFMguxfV4MYwICgrKpIvk5GRqv5TX0zv8DE4UnQfa7uPvQttUsrQedWRg5DoTcN+ryDneWGB0W7fL0gE4jmcUvVO0jmkaCJD7eSjsjxf0LZaC06kPHTx5bQaBToR2sfwR/WyaDvV9eoyP27N9+/YPBwwYECzZx7wRfaefHR4ePhbyZVn8Vc4iUfDUlMbDOFvKG7RhnO2Q/425AtbJuE7g1kb0ozfQ+/Zo5bNz3Zt9mEY105hr7Kiw22PXbTo61kMsi8cO4k+QyYt+v2HDhj3Vq1dfw+s6SeTXA3Axk1kgqff8kGWSXGs8AmNpnaZYAkcAnp/FRSt38uMZt41qALlaOebtdlL69Qmff3virliBdp4uVQiCAKYtPj5+VFhY2BHc1iilzzFxcXHrsFqPlDH2ph9++GGReJOfn99u0KBB62hhoT1lMDLK8+EHeolHIHKLndF2mmRLWuLZuLfhsYAfY8e8lpV5Z7bS6biw7ce0yXa7c9HoWcUW6nHotw3vO4/nLmgeYhcuXLgtPT1dlLF6AOeQHFUv8sVyo6REHCvn7yjdQsZCi+uzKqJ5SsY4HRX6CObUa1XzPlt//FiRrypalcg+vHR/Wu3fv/9ZFAtZ2V/dloSGhvqWIZOF/m6IPGfOHIrwz/FnLSSTyNCXmpfipBahffv2RXMLJRK3snOoL5I5NAQFtN29ZczKa5duzc7Jyo3fGHe874iZcd5AFywVeq1CH+SqKRahIGBrWlraaFEfiXEQ0db6JhbeMDCdnN5nrh+hHHtAXESc7fyd/dwrxWI2M4fd6QJcUbFzrU6jij9+9nYxi0DdAX6ZyjNV0gCMHThw4BODwRDEg5KSqEtCQsJb3bt3/xLyJcm0Qj/uvZT/JLszvz3Fz8ICoa9h6OsIymaS9LE04i6A1dNRS5pOW4J6d1DVtf2jNRNjR8efS81omJtz71u73f7a3MgE1rp5HT13I6YzF7OZl76XQzcVVJ3DU9ZfQQ8b9FnLj8XPcSsm3XdPmTKFti9feCIKBgfz/d3xANAU8rIOzQ/GCnRDHPtJn1/h0oMrmszQalRXT13IbvvBysPZFWmflJTUDIHMEcn+V1Iypy1c/pkHDO7+wF5JE3YLY6TxRAfjLrO+VA30/bTE6n1DQkJo0mvRHos+GgQHB98Tn+emze5z/sLNXXl38ljunfyJiIu0dWv5KZwEuVPQK3NC5MHv0s9n0UoN9uwf7/wu9Jkt0Yei7018O3lZkuSi4K+eJMVr4FvPfl4Xgn5/4nPRw7MedVM9FvAp9X3glJRmrFtR4H/LyHm3oqATYUIvSaPuEohc8luSI5A05emNzMeOHTtPfaJ/YRNNSUn5tGPHjm/wPZYW/u+Svi9JGw8dOtSYmZlJQR55ozgp6ETpqRfvmArMt+gHJyqFYqFap1HkFZpd3ypcwLMJA9vs5P3W9ewf/S2GPmroM4K7Y3LlKdB5OMp7qO/OP2hRUHYR9RSj0LEtHc/aSN5bGvgVeNaj3UbIPy/J9J2Q/mmyAfsLP3KYEpV06a+mQE+ePEn6DClDrFq7du1WeLRrVoLsFcjavIxTh28rl/lJg6g6RceQv962bVuyQA3k6FckG8mQUlNTn8Kzo0WCjkkGPU49L3FL41GKU/RCxLlTopJ3oh9xboX+vejTTLIXF0DmBq8nw2wsyqH+kqSNXvLN4zqemcqop9OB+CPW/fL3Su95geng9ZIs2AF5Vv4/gN/CAc8Dnzx79myD/7V3VMswF6eMjIz19MGGbwVfBQYGFsizIpNMMskkk0wyySSTTDLJJNPfgP4rwAAac5xZmi8mLQAAAABJRU5ErkJggg==",wm=ur.create({baseURL:Fi,headers:{"Content-Type":"application/json"}});wm.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const mT={getOverview:async()=>(await wm.get("/dashboard/overview/")).data,getStats:async()=>(await wm.get("/dashboard/stats/")).data,getCharts:async()=>(await wm.get("/dashboard/charts/")).data,getRecentActivities:async()=>{var t,r;const e=await wm.get("/dashboard/recent-activities/");return console.log("=== API Response ==="),console.log("Full response:",e.data),console.log("Recent Orders count:",(t=e.data.recent_orders)==null?void 0:t.length),((r=e.data.recent_orders)==null?void 0:r.length)>0&&(console.log("First order:",e.data.recent_orders[0]),console.log("First order items:",e.data.recent_orders[0].items)),e.data},getQuickStats:async()=>(await wm.get("/dashboard/quick-stats/")).data},hT={all:["dashboard"],overview:["dashboard","overview"],stats:["dashboard","stats"],charts:["dashboard","charts"],recentActivities:["dashboard","recent-activities"],quickStats:["dashboard","quick-stats"]},Yhe=()=>ls({queryKey:hT.overview,queryFn:mT.getOverview,staleTime:60*1e3,refetchInterval:5*60*1e3}),oW=()=>ls({queryKey:hT.recentActivities,queryFn:mT.getRecentActivities,staleTime:30*1e3}),Xhe=()=>ls({queryKey:hT.quickStats,queryFn:mT.getQuickStats,staleTime:60*1e3});function Qhe({isCollapsed:e,onToggle:t,className:r,isMobileOpen:s=!1}){const a=ql(),i=iW(),{theme:o,setTheme:l}=wp(),c=o==="dark",{data:d,isLoading:u}=Xhe(),f=()=>{l(c?"light":"dark")},m=v.useMemo(()=>{var b,N,S;const p=((b=d==null?void 0:d.active_apartments)==null?void 0:b.value)??0,g=((N=d==null?void 0:d.deliveries_this_week)==null?void 0:N.value)??0,j=((S=d==null?void 0:d.open_issues)==null?void 0:S.value)??0,y=(d==null?void 0:d.total_clients)??0,w=(d==null?void 0:d.total_vendors)??0;return{totalApartments:p,pendingDeliveries:g,openIssues:j,totalClients:y,totalVendors:w}},[d]),h=[{title:"Main",items:[{title:"Overview",icon:P9,href:"/overview",color:"text-blue-500"}]},{title:"Management",items:[{title:"Clients",icon:Dc,href:"/clients",color:"text-violet-500"},{title:"Apartments",icon:Jk,href:"/apartments",color:"text-emerald-500"},{title:"Orders",icon:ss,href:"/orders",color:"text-orange-500"},{title:"Deliveries",icon:wr,href:"/deliveries",badge:m.pendingDeliveries>0?m.pendingDeliveries:void 0,color:"text-cyan-500"},{title:"Payments",icon:ns,href:"/payments",color:"text-green-500"},{title:"Issues",icon:Ct,href:"/issues",badge:m.openIssues>0?m.openIssues:void 0,color:"text-red-500"},{title:"Vendors",icon:_a,href:"/vendors",color:"text-amber-500"}]},{title:"System",items:[{title:"Automations",icon:Gg,href:"/automations",color:"text-yellow-500"},{title:"Settings",icon:yv,href:"/settings",color:"text-slate-500"}]}],x=({item:p,isActive:g})=>{const j=n.jsxs(Ti,{to:p.href,className:ve("group relative flex items-center gap-3 rounded-xl px-3 py-2.5 transition-all duration-300 ease-out","hover:bg-gradient-to-r hover:from-sidebar-accent hover:to-sidebar-accent/50",g?"bg-gradient-to-r from-primary/15 to-primary/5 text-primary shadow-sm":"text-sidebar-foreground/80 hover:text-sidebar-foreground",e&&!i&&"justify-center px-2.5"),children:[n.jsxs("div",{className:ve("relative flex items-center justify-center transition-transform duration-300","group-hover:scale-110",g&&"scale-110"),children:[n.jsx(p.icon,{className:ve("h-[18px] w-[18px] shrink-0 transition-colors duration-300",g?"text-primary":p.color||"text-sidebar-foreground/70","group-hover:text-primary")}),g&&n.jsx("div",{className:ve("absolute inset-0 blur-lg opacity-50",p.color||"bg-primary")})]}),n.jsx("span",{className:ve("text-sm font-medium transition-all duration-300 whitespace-nowrap",e&&!i?"opacity-0 w-0 hidden":"opacity-100",g&&"font-semibold"),children:p.title}),p.badge&&!e&&n.jsx("span",{className:ve("ml-auto flex h-5 min-w-5 items-center justify-center rounded-full px-1.5","text-[10px] font-semibold","bg-primary/10 text-primary","animate-pulse"),children:p.badge}),p.badge&&e&&!i&&n.jsx("span",{className:"absolute -top-0.5 -right-0.5 h-2 w-2 rounded-full bg-primary animate-pulse"})]});return e&&!i?n.jsxs(Sie,{delayDuration:0,children:[n.jsx(Cie,{asChild:!0,children:j}),n.jsxs(N7,{side:"right",sideOffset:12,className:"z-[100] flex items-center gap-2 bg-popover/95 backdrop-blur-sm shadow-lg border-border/50",children:[p.title,p.badge&&n.jsx("span",{className:"flex h-5 min-w-5 items-center justify-center rounded-full bg-primary/10 text-primary text-[10px] font-semibold px-1.5",children:p.badge})]})]}):j};return n.jsx(w7,{delayDuration:0,children:n.jsxs("aside",{className:ve("fixed top-0 left-0 flex flex-col h-screen","bg-gradient-to-b from-sidebar via-sidebar to-sidebar/95","border-r border-sidebar-border/50","transition-all duration-300 ease-out","backdrop-blur-xl",i?ve("w-72 z-50 shadow-2xl",s?"translate-x-0":"-translate-x-full"):ve(e?"w-[72px]":"w-72","z-40"),r),children:[n.jsxs("div",{className:ve("flex items-center shrink-0 relative","h-16 px-4","border-b border-sidebar-border/50","bg-gradient-to-r from-sidebar to-sidebar/80"),children:[n.jsx("div",{className:ve("flex items-center gap-3 transition-all duration-300",e&&!i?"justify-center w-full":""),children:n.jsx("div",{className:ve("relative flex items-center justify-center","transition-all duration-300",e&&!i?"w-10 h-10":"w-auto h-10"),children:n.jsx("img",{src:c?Khe:Ghe,alt:"Buy2Rent",className:ve("transition-all duration-300 object-contain",e&&!i?"h-8 w-8":"h-9 max-w-[160px]")})})}),!i&&n.jsx(ee,{variant:"outline",size:"icon",onClick:t,className:ve("absolute -right-4 top-1/2 -translate-y-1/2 z-50","h-7 w-7 rounded-full","bg-background border-2 border-border shadow-lg","hover:bg-primary hover:text-primary-foreground hover:border-primary","hover:scale-110","transition-all duration-300","flex items-center justify-center"),children:e?n.jsx(Xd,{className:"h-4 w-4"}):n.jsx(eP,{className:"h-4 w-4"})})]}),n.jsx(mu,{className:"flex-1 py-1",children:n.jsx("nav",{className:"px-3 ",children:h.map((p,g)=>n.jsx("div",{children:n.jsx("div",{className:"",children:p.items.map((j,y)=>{const w=a.pathname===j.href||j.href!=="/overview"&&a.pathname.startsWith(j.href+"/");return n.jsx(x,{item:j,isActive:w},y)})})},g))})}),n.jsxs("div",{className:ve("mt-auto shrink-0","border-t border-sidebar-border/50","bg-gradient-to-t from-sidebar/50 to-transparent"),children:[n.jsx("div",{className:ve("p-3",e&&!i?"px-2":"px-4"),children:n.jsxs("button",{onClick:f,className:ve("w-full flex items-center gap-3 rounded-xl p-2.5 transition-all duration-300","bg-sidebar-accent/30 hover:bg-sidebar-accent/50","group",e&&!i&&"justify-center"),children:[n.jsxs("div",{className:ve("relative flex items-center justify-center","h-8 w-8 rounded-lg","bg-gradient-to-br transition-all duration-500",c?"from-indigo-500/20 to-purple-500/20":"from-amber-500/20 to-orange-500/20","group-hover:scale-110"),children:[n.jsx(jv,{className:ve("h-4 w-4 absolute transition-all duration-500",c?"opacity-0 rotate-90 scale-0":"opacity-100 rotate-0 scale-100 text-amber-500")}),n.jsx(vv,{className:ve("h-4 w-4 absolute transition-all duration-500",c?"opacity-100 rotate-0 scale-100 text-indigo-400":"opacity-0 -rotate-90 scale-0")})]}),(!e||i)&&n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("p",{className:"text-xs font-medium text-sidebar-foreground",children:c?"Dark Mode":"Light Mode"}),n.jsx("p",{className:"text-[10px] text-sidebar-foreground/50",children:"Click to switch"})]})]})}),(!e||i)&&n.jsx("div",{className:"p-4 pt-0",children:n.jsxs("div",{className:ve("relative overflow-hidden rounded-xl p-4","bg-gradient-to-br from-primary/10 via-primary/5 to-transparent","border border-primary/10"),children:[n.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full blur-2xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-primary/5 rounded-full blur-xl"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg bg-primary/10",children:n.jsx(dc,{className:"h-3.5 w-3.5 text-primary"})}),n.jsx("span",{className:"text-xs font-semibold text-sidebar-foreground",children:"Project Overview"})]}),n.jsxs("div",{className:"space-y-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("span",{className:"text-2xl font-bold text-sidebar-foreground",children:m.totalApartments}),n.jsx("span",{className:"text-xs text-sidebar-foreground/60",children:"Apartments"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-sidebar-border/30",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(wr,{className:"h-3 w-3 text-cyan-500"}),n.jsxs("span",{className:"text-[10px] text-sidebar-foreground/70",children:[n.jsx("span",{className:"font-semibold text-sidebar-foreground",children:m.pendingDeliveries})," Deliveries"]})]}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Ct,{className:"h-3 w-3 text-red-500"}),n.jsxs("span",{className:"text-[10px] text-sidebar-foreground/70",children:[n.jsx("span",{className:"font-semibold text-sidebar-foreground",children:m.openIssues})," Issues"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-sidebar-border/30",children:[n.jsxs("p",{className:"text-[10px] text-sidebar-foreground/50 flex items-center gap-1",children:[n.jsx(Dc,{className:"h-3 w-3"}),m.totalClients," Clients"]}),n.jsxs("p",{className:"text-[10px] text-sidebar-foreground/50 flex items-center gap-1",children:[n.jsx(_a,{className:"h-3 w-3"}),m.totalVendors," Vendors"]})]})]})]})]})})]})]})})}function ut({children:e,title:t,subtitle:r,actions:s,fullWidth:a=!1,noPadding:i=!1}){const o=iW(),[l,c]=v.useState(()=>localStorage.getItem("sidebarCollapsed")==="true"),[d,u]=v.useState(!1);V.useEffect(()=>{const m=h=>{c(h.detail.collapsed)};return window.addEventListener("sidebarPreferenceChanged",m),()=>{window.removeEventListener("sidebarPreferenceChanged",m)}},[]);const f=()=>{o?u(m=>!m):c(m=>{const h=!m;return localStorage.setItem("sidebarCollapsed",String(h)),h})};return n.jsxs("div",{className:"h-screen flex bg-background overflow-hidden",children:[o&&d&&n.jsx("div",{className:ve("fixed inset-0 z-40 lg:hidden","bg-background/80 backdrop-blur-sm","animate-in fade-in-0 duration-200"),onClick:()=>u(!1)}),n.jsx(Qhe,{isCollapsed:l,onToggle:f,isMobileOpen:d}),n.jsxs("div",{className:ve("flex-1 flex flex-col min-w-0 w-full lg:w-auto h-screen","transition-all duration-300 ease-out","relative z-10"),style:{marginLeft:o?0:l?"72px":"288px"},children:[n.jsx(qhe,{onMenuToggle:f}),n.jsx("main",{className:"flex-1 overflow-y-auto overflow-x-hidden bg-gradient-to-br from-background via-background to-muted/20",children:n.jsxs("div",{className:ve("animate-in fade-in-0  slide-in-from-bottom-4 duration-500",!i&&"p-4 lg:p-6 xl:p-8",!a&&"max-w-[1600px] mx-auto"),children:[(t||s)&&n.jsxs("div",{className:ve("flex flex-col sm:flex-row sm:items-center justify-between gap-4","mb-6 lg:mb-8"),children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h1",{className:ve("text-2xl lg:text-3xl font-bold tracking-tight","bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text"),children:t}),r&&n.jsx("p",{className:"text-sm text-muted-foreground",children:r})]}),s&&n.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:s})]}),n.jsx("div",{className:"relative",children:e})]})})]})]})}const Y=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ve("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Y.displayName="Card";const we=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ve("flex flex-col space-y-1.5 p-6",e),...t}));we.displayName="CardHeader";const Ve=v.forwardRef(({className:e,...t},r)=>n.jsx("h3",{ref:r,className:ve("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ve.displayName="CardTitle";const Tr=v.forwardRef(({className:e,...t},r)=>n.jsx("p",{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));Tr.displayName="CardDescription";const X=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ve("p-6 pt-0",e),...t}));X.displayName="CardContent";const Zhe=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ve("flex items-center p-6 pt-0",e),...t}));Zhe.displayName="CardFooter";function bx({title:e,value:t,icon:r,trend:s,className:a}){return n.jsx(Y,{className:ve("overflow-hidden",a),children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:e}),n.jsx("p",{className:"text-3xl font-bold",children:t}),s&&n.jsxs("p",{className:ve("text-xs font-medium",s.value>0?"text-success":s.value<0?"text-danger":"text-muted-foreground"),children:[s.value>0?"+":"",s.value,"% ",s.label]})]}),n.jsx("div",{className:"p-3 rounded-2xl bg-primary/10",children:n.jsx(r,{className:"h-6 w-6 text-primary"})})]})})})}const Jhe=jp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ce({className:e,variant:t,...r}){return n.jsx("div",{className:ve(Jhe({variant:t}),e),...r})}function Ot(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Za(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function pa(e,t){const r=Ot(e);return isNaN(t)?Za(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function mo(e,t){const r=Ot(e);if(isNaN(t))return Za(e,NaN);if(!t)return r;const s=r.getDate(),a=Za(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return s>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}const pT=6048e5,epe=864e5,Gy=43200,LI=1440;let tpe={};function Dp(){return tpe}function Ul(e,t){var l,c,d,u;const r=Dp(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Ot(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Pf(e){return Ul(e,{weekStartsOn:1})}function lW(e){const t=Ot(e),r=t.getFullYear(),s=Za(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=Pf(s),i=Za(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Pf(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Mh(e){const t=Ot(e);return t.setHours(0,0,0,0),t}function Fh(e){const t=Ot(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Uo(e,t){const r=Mh(e),s=Mh(t),a=+r-Fh(r),i=+s-Fh(s);return Math.round((a-i)/epe)}function rpe(e){const t=lW(e),r=Za(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Pf(r)}function eE(e,t){const r=t*7;return pa(e,r)}function npe(e,t){return mo(e,t*12)}function spe(e){let t;return e.forEach(function(r){const s=Ot(r);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function ape(e){let t;return e.forEach(r=>{const s=Ot(r);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function qj(e,t){const r=Ot(e),s=Ot(t),a=r.getTime()-s.getTime();return a<0?-1:a>0?1:a}function ipe(e){return Za(e,Date.now())}function Ba(e,t){const r=Mh(e),s=Mh(t);return+r==+s}function xT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ope(e){if(!xT(e)&&typeof e!="number")return!1;const t=Ot(e);return!isNaN(Number(t))}function $h(e,t){const r=Ot(e),s=Ot(t),a=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return a*12+i}function lpe(e,t,r){const s=Ul(e,r),a=Ul(t,r),i=+s-Fh(s),o=+a-Fh(a);return Math.round((i-o)/pT)}function Ky(e,t){const r=Ot(e),s=Ot(t),a=BI(r,s),i=Math.abs(Uo(r,s));r.setDate(r.getDate()-a*i);const o=+(BI(r,s)===-a),l=a*(i-o);return l===0?0:l}function BI(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function cpe(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}function dpe(e,t){return+Ot(e)-+Ot(t)}function upe(e){const t=Ot(e);return t.setHours(23,59,59,999),t}function PN(e){const t=Ot(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function fpe(e){const t=Ot(e);return+upe(t)==+PN(t)}function mpe(e,t){const r=Ot(e),s=Ot(t),a=qj(r,s),i=Math.abs($h(r,s));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=qj(r,s)===-a;fpe(Ot(e))&&i===1&&qj(e,s)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function hpe(e,t,r){const s=dpe(e,t)/1e3;return cpe(r==null?void 0:r.roundingMethod)(s)}function Ya(e){const t=Ot(e);return t.setDate(1),t.setHours(0,0,0,0),t}function cW(e){const t=Ot(e),r=Za(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function gT(e,t){var l,c,d,u;const r=Dp(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Ot(e),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function dW(e){return gT(e,{weekStartsOn:1})}const ppe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xpe=(e,t,r)=>{let s;const a=ppe[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function J_(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const gpe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vpe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ype={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jpe={date:J_({formats:gpe,defaultWidth:"full"}),time:J_({formats:vpe,defaultWidth:"full"}),dateTime:J_({formats:ype,defaultWidth:"full"})},bpe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wpe=(e,t,r,s)=>bpe[e];function wx(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Npe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_pe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Spe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cpe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Epe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ape={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kpe=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ppe={ordinalNumber:kpe,era:wx({values:Npe,defaultWidth:"wide"}),quarter:wx({values:_pe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wx({values:Spe,defaultWidth:"wide"}),day:wx({values:Cpe,defaultWidth:"wide"}),dayPeriod:wx({values:Epe,defaultWidth:"wide",formattingValues:Ape,defaultFormattingWidth:"wide"})};function Nx(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Ope(l,f=>f.test(o)):Tpe(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function Tpe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Ope(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Dpe(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Ipe=/^(\d+)(th|st|nd|rd)?/i,Rpe=/\d+/i,Mpe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Fpe={any:[/^b/i,/^(a|c)/i]},$pe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Lpe={any:[/1/i,/2/i,/3/i,/4/i]},Bpe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Upe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vpe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zpe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Wpe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Hpe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qpe={ordinalNumber:Dpe({matchPattern:Ipe,parsePattern:Rpe,valueCallback:e=>parseInt(e,10)}),era:Nx({matchPatterns:Mpe,defaultMatchWidth:"wide",parsePatterns:Fpe,defaultParseWidth:"any"}),quarter:Nx({matchPatterns:$pe,defaultMatchWidth:"wide",parsePatterns:Lpe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Nx({matchPatterns:Bpe,defaultMatchWidth:"wide",parsePatterns:Upe,defaultParseWidth:"any"}),day:Nx({matchPatterns:Vpe,defaultMatchWidth:"wide",parsePatterns:zpe,defaultParseWidth:"any"}),dayPeriod:Nx({matchPatterns:Wpe,defaultMatchWidth:"any",parsePatterns:Hpe,defaultParseWidth:"any"})},vT={code:"en-US",formatDistance:xpe,formatLong:jpe,formatRelative:wpe,localize:Ppe,match:qpe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Gpe(e){const t=Ot(e);return Uo(t,cW(t))+1}function uW(e){const t=Ot(e),r=+Pf(t)-+rpe(t);return Math.round(r/pT)+1}function fW(e,t){var u,f,m,h;const r=Ot(e),s=r.getFullYear(),a=Dp(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(m=a.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,o=Za(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=Ul(o,t),c=Za(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=Ul(c,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function Kpe(e,t){var l,c,d,u;const r=Dp(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=fW(e,t),i=Za(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),Ul(i,t)}function mW(e,t){const r=Ot(e),s=+Ul(r,t)-+Kpe(r,t);return Math.round(s/pT)+1}function kr(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const rd={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return kr(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):kr(r+1,2)},d(e,t){return kr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return kr(e.getHours()%12||12,t.length)},H(e,t){return kr(e.getHours(),t.length)},m(e,t){return kr(e.getMinutes(),t.length)},s(e,t){return kr(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return kr(a,t.length)}},fm={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},UI={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return rd.y(e,t)},Y:function(e,t,r,s){const a=fW(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return kr(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):kr(i,t.length)},R:function(e,t){const r=lW(e);return kr(r,t.length)},u:function(e,t){const r=e.getFullYear();return kr(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return kr(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return kr(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return rd.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return kr(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=mW(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):kr(a,t.length)},I:function(e,t,r){const s=uW(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):kr(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):rd.d(e,t)},D:function(e,t,r){const s=Gpe(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):kr(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return kr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return kr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return kr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=fm.noon:s===0?a=fm.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=fm.evening:s>=12?a=fm.afternoon:s>=4?a=fm.morning:a=fm.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return rd.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):rd.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):kr(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):kr(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):rd.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):rd.s(e,t)},S:function(e,t){return rd.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return zI(s);case"XXXX":case"XX":return Pu(s);case"XXXXX":case"XXX":default:return Pu(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return zI(s);case"xxxx":case"xx":return Pu(s);case"xxxxx":case"xxx":default:return Pu(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+VI(s,":");case"OOOO":default:return"GMT"+Pu(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+VI(s,":");case"zzzz":default:return"GMT"+Pu(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return kr(s,t.length)},T:function(e,t,r){const s=e.getTime();return kr(s,t.length)}};function VI(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+t+kr(i,2)}function zI(e,t){return e%60===0?(e>0?"-":"+")+kr(Math.abs(e)/60,2):Pu(e,t)}function Pu(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=kr(Math.trunc(s/60),2),i=kr(s%60,2);return r+a+t+i}const WI=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},hW=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Ype=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return WI(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",WI(s,t)).replace("{{time}}",hW(a,t))},Xpe={p:hW,P:Ype},Qpe=/^D+$/,Zpe=/^Y+$/,Jpe=["D","DD","YY","YYYY"];function exe(e){return Qpe.test(e)}function txe(e){return Zpe.test(e)}function rxe(e,t,r){const s=nxe(e,t,r);if(console.warn(s),Jpe.includes(e))throw new RangeError(s)}function nxe(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const sxe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,axe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ixe=/^'([^]*?)'?$/,oxe=/''/g,lxe=/[a-zA-Z]/;function Kt(e,t,r){var u,f,m,h,x,p,g,j;const s=Dp(),a=(r==null?void 0:r.locale)??s.locale??vT,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(m=s.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:p.weekStartsOn)??s.weekStartsOn??((j=(g=s.locale)==null?void 0:g.options)==null?void 0:j.weekStartsOn)??0,l=Ot(e);if(!ope(l))throw new RangeError("Invalid time value");let c=t.match(axe).map(y=>{const w=y[0];if(w==="p"||w==="P"){const b=Xpe[w];return b(y,a.formatLong)}return y}).join("").match(sxe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:cxe(y)};if(UI[w])return{isToken:!0,value:y};if(w.match(lxe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&txe(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&exe(w))&&rxe(w,t,String(e));const b=UI[w[0]];return b(l,w,a.localize,d)}).join("")}function cxe(e){const t=e.match(ixe);return t?t[1].replace(oxe,"'"):e}function dxe(e,t,r){const s=Dp(),a=(r==null?void 0:r.locale)??s.locale??vT,i=2520,o=qj(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=Ot(t),d=Ot(e)):(c=Ot(e),d=Ot(t));const u=hpe(d,c),f=(Fh(d)-Fh(c))/1e3,m=Math.round((u-f)/60);let h;if(m<2)return r!=null&&r.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<LI){const x=Math.round(m/60);return a.formatDistance("aboutXHours",x,l)}else{if(m<i)return a.formatDistance("xDays",1,l);if(m<Gy){const x=Math.round(m/LI);return a.formatDistance("xDays",x,l)}else if(m<Gy*2)return h=Math.round(m/Gy),a.formatDistance("aboutXMonths",h,l)}if(h=mpe(d,c),h<12){const x=Math.round(m/Gy);return a.formatDistance("xMonths",x,l)}else{const x=h%12,p=Math.trunc(h/12);return x<3?a.formatDistance("aboutXYears",p,l):x<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function uxe(e,t){return dxe(e,ipe(e),t)}function fxe(e){const t=Ot(e),r=t.getFullYear(),s=t.getMonth(),a=Za(e,0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}function mxe(e){return Math.trunc(+Ot(e)/1e3)}function hxe(e){const t=Ot(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function pxe(e,t){return lpe(hxe(e),Ya(e),t)+1}function tE(e,t){const r=Ot(e),s=Ot(t);return r.getTime()>s.getTime()}function pW(e,t){const r=Ot(e),s=Ot(t);return+r<+s}function yT(e,t){const r=Ot(e),s=Ot(t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function xxe(e,t){const r=Ot(e),s=Ot(t);return r.getFullYear()===s.getFullYear()}function fc(e,t){return pa(e,-t)}function eS(e,t){const r=Ot(e),s=r.getFullYear(),a=r.getDate(),i=Za(e,0);i.setFullYear(s,t,15),i.setHours(0,0,0,0);const o=fxe(i);return r.setMonth(t,Math.min(a,o)),r}function HI(e,t){const r=Ot(e);return isNaN(+r)?Za(e,NaN):(r.setFullYear(t),r)}function gxe(e,t){return mo(e,-t)}const qI={order:ss,"shopping-cart":ss,payment:ns,"credit-card":ns,delivery:wr,truck:wr,issue:Ct,"alert-circle":Ct,product:ct,package:ct,apartment:dr,building:dr,client:Dc,users:Dc,vendor:_a,store:_a,user:qn,status:yf,activity:yf,ai:va,bot:va},vxe={created:Fn,updated:Tne,deleted:on,delivered:Lr,payment_received:Lr,completed:Lr,cancelled:on,status_changed:jb},yxe=(e,t)=>({created:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},updated:{bg:"bg-blue-500/5 dark:bg-blue-500/10",border:"border-blue-500/20",icon:"text-blue-500",badge:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/20",glow:"shadow-blue-500/5"},deleted:{bg:"bg-red-500/5 dark:bg-red-500/10",border:"border-red-500/20",icon:"text-red-500",badge:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",glow:"shadow-red-500/5"},delivered:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},payment_received:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},completed:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},cancelled:{bg:"bg-red-500/5 dark:bg-red-500/10",border:"border-red-500/20",icon:"text-red-500",badge:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",glow:"shadow-red-500/5"},status_changed:{bg:"bg-amber-500/5 dark:bg-amber-500/10",border:"border-amber-500/20",icon:"text-amber-500",badge:"bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-500/20",glow:"shadow-amber-500/5"}})[e]||{bg:"bg-slate-500/5 dark:bg-slate-500/10",border:"border-slate-500/20",icon:"text-slate-500",badge:"bg-slate-500/10 text-slate-600 dark:text-slate-400 border-slate-500/20",glow:"shadow-slate-500/5"},jxe=e=>({order:"Order",payment:"Payment",delivery:"Delivery",issue:"Issue",product:"Product",apartment:"Apartment",client:"Client",vendor:"Vendor",user:"User"})[e]||e;function bxe(){const{data:e,isLoading:t,refetch:r}=oW(),s=(e==null?void 0:e.activities)||[],a=i=>{try{return uxe(new Date(i),{addSuffix:!0})}catch{return"recently"}};return t?n.jsxs(Y,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/80",children:[n.jsx(we,{className:"pb-3",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(Gg,{className:"h-4 w-4 text-primary"})}),n.jsx(Ve,{className:"text-lg font-semibold",children:"Recent Activity"})]})})}),n.jsx(X,{children:n.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(i=>n.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-muted/30",children:[n.jsx(_,{className:"h-10 w-10 rounded-xl"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(_,{className:"h-4 w-40"}),n.jsx(_,{className:"h-3 w-56"}),n.jsx(_,{className:"h-3 w-24"})]})]},i))})})]}):n.jsxs(Y,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/80 overflow-hidden",children:[n.jsx(we,{className:"pb-3 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-primary/20 to-primary/5 shadow-sm",children:n.jsx(Gg,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-lg font-semibold",children:"Recent Activity"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[s.length," activities tracked"]})]})]}),n.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>r(),className:"h-9 w-9 p-0 hover:bg-primary/10 hover:text-primary transition-colors",children:n.jsx(lf,{className:"h-4 w-4"})})]})}),n.jsx(X,{className:"p-0",children:n.jsx(mu,{className:"h-[480px]",children:n.jsx("div",{className:"p-4 space-y-2",children:s.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-muted/50 mb-4",children:n.jsx(yf,{className:"h-8 w-8 text-muted-foreground/50"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No recent activities"}),n.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1 max-w-[200px]",children:"Activities will appear here when you create, update, or delete records"})]}):s.slice(0,15).map((i,o)=>{const l=qI[i.icon]||qI[i.type]||yf,c=vxe[i.action]||Fn,d=yxe(i.action,i.type);return n.jsxs("div",{className:ve("group relative flex items-center gap-3 px-4 py-2.5 rounded-lg transition-all duration-300","hover:shadow-sm cursor-pointer border border-transparent","hover:border-border/50 hover:bg-muted/30"),children:[o<s.slice(0,15).length-1&&n.jsx("div",{className:"absolute left-[26px] top-[42px] w-[1px] h-[calc(100%-14px)] bg-border/30"}),n.jsxs("div",{className:"relative flex-shrink-0",children:[n.jsx("div",{className:ve("p-2 rounded-lg transition-all duration-300","group-hover:shadow-sm",d.bg,`border ${d.border}`),children:n.jsx(l,{className:ve("h-4 w-4",d.icon)})}),n.jsx("div",{className:ve("absolute -bottom-1 -right-1 p-0.5 rounded-full bg-background border shadow-sm",d.border),children:n.jsx(c,{className:ve("h-2.5 w-2.5",d.icon)})})]}),n.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-0 space-y-0.5",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-semibold text-sm text-foreground truncate",children:i.title}),n.jsx(Ce,{variant:"outline",className:ve("text-[9px] px-2 py-0.5 h-4 font-semibold uppercase tracking-wide border flex-shrink-0",d.badge),children:i.action})]}),n.jsx("p",{className:"text-xs text-muted-foreground/80 truncate leading-relaxed",children:i.description})]}),n.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center gap-1.5 min-w-[70px]",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary/40"}),n.jsx("span",{className:"text-xs font-medium text-foreground/70",children:jxe(i.type)})]}),i.apartment&&n.jsxs("div",{className:"flex items-center gap-1.5 min-w-[100px] max-w-[140px]",children:[n.jsx(dr,{className:"h-3.5 w-3.5 text-muted-foreground/50 flex-shrink-0"}),n.jsx("span",{className:"text-xs text-muted-foreground/70 truncate",children:i.apartment})]}),n.jsxs("div",{className:"flex items-center gap-1.5 min-w-[90px]",children:[n.jsx(jr,{className:"h-3.5 w-3.5 text-muted-foreground/50 flex-shrink-0"}),n.jsx("span",{className:"text-xs text-muted-foreground/70 whitespace-nowrap",children:a(i.created_at)})]})]})]})]},i.id)})})})})]})}var wxe=Array.isArray,ri=wxe,Nxe=typeof hy=="object"&&hy&&hy.Object===Object&&hy,xW=Nxe,_xe=xW,Sxe=typeof self=="object"&&self&&self.Object===Object&&self,Cxe=_xe||Sxe||Function("return this")(),Kl=Cxe,Exe=Kl,Axe=Exe.Symbol,Vv=Axe,GI=Vv,gW=Object.prototype,kxe=gW.hasOwnProperty,Pxe=gW.toString,_x=GI?GI.toStringTag:void 0;function Txe(e){var t=kxe.call(e,_x),r=e[_x];try{e[_x]=void 0;var s=!0}catch{}var a=Pxe.call(e);return s&&(t?e[_x]=r:delete e[_x]),a}var Oxe=Txe,Dxe=Object.prototype,Ixe=Dxe.toString;function Rxe(e){return Ixe.call(e)}var Mxe=Rxe,KI=Vv,Fxe=Oxe,$xe=Mxe,Lxe="[object Null]",Bxe="[object Undefined]",YI=KI?KI.toStringTag:void 0;function Uxe(e){return e==null?e===void 0?Bxe:Lxe:YI&&YI in Object(e)?Fxe(e):$xe(e)}var Kc=Uxe;function Vxe(e){return e!=null&&typeof e=="object"}var Yc=Vxe,zxe=Kc,Wxe=Yc,Hxe="[object Symbol]";function qxe(e){return typeof e=="symbol"||Wxe(e)&&zxe(e)==Hxe}var Ip=qxe,Gxe=ri,Kxe=Ip,Yxe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xxe=/^\w*$/;function Qxe(e,t){if(Gxe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Kxe(e)?!0:Xxe.test(e)||!Yxe.test(e)||t!=null&&e in Object(t)}var jT=Qxe;function Zxe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var hu=Zxe;const Rp=Cr(hu);var Jxe=Kc,ege=hu,tge="[object AsyncFunction]",rge="[object Function]",nge="[object GeneratorFunction]",sge="[object Proxy]";function age(e){if(!ege(e))return!1;var t=Jxe(e);return t==rge||t==nge||t==tge||t==sge}var bT=age;const Pt=Cr(bT);var ige=Kl,oge=ige["__core-js_shared__"],lge=oge,tS=lge,XI=function(){var e=/[^.]+$/.exec(tS&&tS.keys&&tS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function cge(e){return!!XI&&XI in e}var dge=cge,uge=Function.prototype,fge=uge.toString;function mge(e){if(e!=null){try{return fge.call(e)}catch{}try{return e+""}catch{}}return""}var vW=mge,hge=bT,pge=dge,xge=hu,gge=vW,vge=/[\\^$.*+?()[\]{}|]/g,yge=/^\[object .+?Constructor\]$/,jge=Function.prototype,bge=Object.prototype,wge=jge.toString,Nge=bge.hasOwnProperty,_ge=RegExp("^"+wge.call(Nge).replace(vge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Sge(e){if(!xge(e)||pge(e))return!1;var t=hge(e)?_ge:yge;return t.test(gge(e))}var Cge=Sge;function Ege(e,t){return e==null?void 0:e[t]}var Age=Ege,kge=Cge,Pge=Age;function Tge(e,t){var r=Pge(e,t);return kge(r)?r:void 0}var Kf=Tge,Oge=Kf,Dge=Oge(Object,"create"),TN=Dge,QI=TN;function Ige(){this.__data__=QI?QI(null):{},this.size=0}var Rge=Ige;function Mge(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Fge=Mge,$ge=TN,Lge="__lodash_hash_undefined__",Bge=Object.prototype,Uge=Bge.hasOwnProperty;function Vge(e){var t=this.__data__;if($ge){var r=t[e];return r===Lge?void 0:r}return Uge.call(t,e)?t[e]:void 0}var zge=Vge,Wge=TN,Hge=Object.prototype,qge=Hge.hasOwnProperty;function Gge(e){var t=this.__data__;return Wge?t[e]!==void 0:qge.call(t,e)}var Kge=Gge,Yge=TN,Xge="__lodash_hash_undefined__";function Qge(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Yge&&t===void 0?Xge:t,this}var Zge=Qge,Jge=Rge,e0e=Fge,t0e=zge,r0e=Kge,n0e=Zge;function Mp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}Mp.prototype.clear=Jge;Mp.prototype.delete=e0e;Mp.prototype.get=t0e;Mp.prototype.has=r0e;Mp.prototype.set=n0e;var s0e=Mp;function a0e(){this.__data__=[],this.size=0}var i0e=a0e;function o0e(e,t){return e===t||e!==e&&t!==t}var wT=o0e,l0e=wT;function c0e(e,t){for(var r=e.length;r--;)if(l0e(e[r][0],t))return r;return-1}var ON=c0e,d0e=ON,u0e=Array.prototype,f0e=u0e.splice;function m0e(e){var t=this.__data__,r=d0e(t,e);if(r<0)return!1;var s=t.length-1;return r==s?t.pop():f0e.call(t,r,1),--this.size,!0}var h0e=m0e,p0e=ON;function x0e(e){var t=this.__data__,r=p0e(t,e);return r<0?void 0:t[r][1]}var g0e=x0e,v0e=ON;function y0e(e){return v0e(this.__data__,e)>-1}var j0e=y0e,b0e=ON;function w0e(e,t){var r=this.__data__,s=b0e(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this}var N0e=w0e,_0e=i0e,S0e=h0e,C0e=g0e,E0e=j0e,A0e=N0e;function Fp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}Fp.prototype.clear=_0e;Fp.prototype.delete=S0e;Fp.prototype.get=C0e;Fp.prototype.has=E0e;Fp.prototype.set=A0e;var DN=Fp,k0e=Kf,P0e=Kl,T0e=k0e(P0e,"Map"),NT=T0e,ZI=s0e,O0e=DN,D0e=NT;function I0e(){this.size=0,this.__data__={hash:new ZI,map:new(D0e||O0e),string:new ZI}}var R0e=I0e;function M0e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var F0e=M0e,$0e=F0e;function L0e(e,t){var r=e.__data__;return $0e(t)?r[typeof t=="string"?"string":"hash"]:r.map}var IN=L0e,B0e=IN;function U0e(e){var t=B0e(this,e).delete(e);return this.size-=t?1:0,t}var V0e=U0e,z0e=IN;function W0e(e){return z0e(this,e).get(e)}var H0e=W0e,q0e=IN;function G0e(e){return q0e(this,e).has(e)}var K0e=G0e,Y0e=IN;function X0e(e,t){var r=Y0e(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this}var Q0e=X0e,Z0e=R0e,J0e=V0e,eve=H0e,tve=K0e,rve=Q0e;function $p(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}$p.prototype.clear=Z0e;$p.prototype.delete=J0e;$p.prototype.get=eve;$p.prototype.has=tve;$p.prototype.set=rve;var _T=$p,yW=_T,nve="Expected a function";function ST(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(nve);var r=function(){var s=arguments,a=t?t.apply(this,s):s[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,s);return r.cache=i.set(a,o)||i,o};return r.cache=new(ST.Cache||yW),r}ST.Cache=yW;var jW=ST;const sve=Cr(jW);var ave=jW,ive=500;function ove(e){var t=ave(e,function(s){return r.size===ive&&r.clear(),s}),r=t.cache;return t}var lve=ove,cve=lve,dve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,uve=/\\(\\)?/g,fve=cve(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(dve,function(r,s,a,i){t.push(a?i.replace(uve,"$1"):s||r)}),t}),mve=fve;function hve(e,t){for(var r=-1,s=e==null?0:e.length,a=Array(s);++r<s;)a[r]=t(e[r],r,e);return a}var CT=hve,JI=Vv,pve=CT,xve=ri,gve=Ip,vve=1/0,eR=JI?JI.prototype:void 0,tR=eR?eR.toString:void 0;function bW(e){if(typeof e=="string")return e;if(xve(e))return pve(e,bW)+"";if(gve(e))return tR?tR.call(e):"";var t=e+"";return t=="0"&&1/e==-vve?"-0":t}var yve=bW,jve=yve;function bve(e){return e==null?"":jve(e)}var wW=bve,wve=ri,Nve=jT,_ve=mve,Sve=wW;function Cve(e,t){return wve(e)?e:Nve(e,t)?[e]:_ve(Sve(e))}var NW=Cve,Eve=Ip,Ave=1/0;function kve(e){if(typeof e=="string"||Eve(e))return e;var t=e+"";return t=="0"&&1/e==-Ave?"-0":t}var RN=kve,Pve=NW,Tve=RN;function Ove(e,t){t=Pve(t,e);for(var r=0,s=t.length;e!=null&&r<s;)e=e[Tve(t[r++])];return r&&r==s?e:void 0}var ET=Ove,Dve=ET;function Ive(e,t,r){var s=e==null?void 0:Dve(e,t);return s===void 0?r:s}var _W=Ive;const Ni=Cr(_W);function Rve(e){return e==null}var Mve=Rve;const Mt=Cr(Mve);var Fve=Kc,$ve=ri,Lve=Yc,Bve="[object String]";function Uve(e){return typeof e=="string"||!$ve(e)&&Lve(e)&&Fve(e)==Bve}var Vve=Uve;const zv=Cr(Vve);var SW={exports:{}},Rr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT=Symbol.for("react.element"),kT=Symbol.for("react.portal"),MN=Symbol.for("react.fragment"),FN=Symbol.for("react.strict_mode"),$N=Symbol.for("react.profiler"),LN=Symbol.for("react.provider"),BN=Symbol.for("react.context"),zve=Symbol.for("react.server_context"),UN=Symbol.for("react.forward_ref"),VN=Symbol.for("react.suspense"),zN=Symbol.for("react.suspense_list"),WN=Symbol.for("react.memo"),HN=Symbol.for("react.lazy"),Wve=Symbol.for("react.offscreen"),CW;CW=Symbol.for("react.module.reference");function jo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case AT:switch(e=e.type,e){case MN:case $N:case FN:case VN:case zN:return e;default:switch(e=e&&e.$$typeof,e){case zve:case BN:case UN:case HN:case WN:case LN:return e;default:return t}}case kT:return t}}}Rr.ContextConsumer=BN;Rr.ContextProvider=LN;Rr.Element=AT;Rr.ForwardRef=UN;Rr.Fragment=MN;Rr.Lazy=HN;Rr.Memo=WN;Rr.Portal=kT;Rr.Profiler=$N;Rr.StrictMode=FN;Rr.Suspense=VN;Rr.SuspenseList=zN;Rr.isAsyncMode=function(){return!1};Rr.isConcurrentMode=function(){return!1};Rr.isContextConsumer=function(e){return jo(e)===BN};Rr.isContextProvider=function(e){return jo(e)===LN};Rr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===AT};Rr.isForwardRef=function(e){return jo(e)===UN};Rr.isFragment=function(e){return jo(e)===MN};Rr.isLazy=function(e){return jo(e)===HN};Rr.isMemo=function(e){return jo(e)===WN};Rr.isPortal=function(e){return jo(e)===kT};Rr.isProfiler=function(e){return jo(e)===$N};Rr.isStrictMode=function(e){return jo(e)===FN};Rr.isSuspense=function(e){return jo(e)===VN};Rr.isSuspenseList=function(e){return jo(e)===zN};Rr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===MN||e===$N||e===FN||e===VN||e===zN||e===Wve||typeof e=="object"&&e!==null&&(e.$$typeof===HN||e.$$typeof===WN||e.$$typeof===LN||e.$$typeof===BN||e.$$typeof===UN||e.$$typeof===CW||e.getModuleId!==void 0)};Rr.typeOf=jo;SW.exports=Rr;var EW=SW.exports,Hve=Kc,qve=Yc,Gve="[object Number]";function Kve(e){return typeof e=="number"||qve(e)&&Hve(e)==Gve}var AW=Kve;const Yve=Cr(AW);var Xve=AW;function Qve(e){return Xve(e)&&e!=+e}var Zve=Qve;const Lp=Cr(Zve);var ya=function(t){return t===0?0:t>0?1:-1},Gu=function(t){return zv(t)&&t.indexOf("%")===t.length-1},Xe=function(t){return Yve(t)&&!Lp(t)},as=function(t){return Xe(t)||zv(t)},Jve=0,Yf=function(t){var r=++Jve;return"".concat(t||"").concat(r)},ja=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xe(t)&&!zv(t))return s;var i;if(Gu(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Lp(i)&&(i=s),a&&i>r&&(i=r),i},pd=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},eye=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,s={},a=0;a<r;a++)if(!s[t[a]])s[t[a]]=!0;else return!0;return!1},ts=function(t,r){return Xe(t)&&Xe(r)?function(s){return t+s*(r-t)}:function(){return r}};function t1(e,t,r){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):Ni(s,t))===r})}function th(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function rE(e){"@babel/helpers - typeof";return rE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rE(e)}var tye=["viewBox","children"],rye=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rR=["points","pathLength"],rS={svg:tye,polygon:rR,polyline:rR},PT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],r1=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(v.isValidElement(t)&&(s=t.props),!Rp(s))return null;var a={};return Object.keys(s).forEach(function(i){PT.includes(i)&&(a[i]=r||function(o){return s[i](s,o)})}),a},nye=function(t,r,s){return function(a){return t(r,s,a),null}},Tf=function(t,r,s){if(!Rp(t)||rE(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];PT.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=nye(o,r,s))}),a},sye=["children"],aye=["children"];function nR(e,t){if(e==null)return{};var r=iye(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function iye(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function nE(e){"@babel/helpers - typeof";return nE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nE(e)}var sR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Nc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},aR=null,nS=null,TT=function e(t){if(t===aR&&Array.isArray(nS))return nS;var r=[];return v.Children.forEach(t,function(s){Mt(s)||(EW.isFragment(s)?r=r.concat(e(s.props.children)):r.push(s))}),nS=r,aR=t,r};function _i(e,t){var r=[],s=[];return Array.isArray(t)?s=t.map(function(a){return Nc(a)}):s=[Nc(t)],TT(e).forEach(function(a){var i=Ni(a,"type.displayName")||Ni(a,"type.name");s.indexOf(i)!==-1&&r.push(a)}),r}function mi(e,t){var r=_i(e,t);return r&&r[0]}var iR=function(t){if(!t||!t.props)return!1;var r=t.props,s=r.width,a=r.height;return!(!Xe(s)||s<=0||!Xe(a)||a<=0)},oye=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],lye=function(t){return t&&t.type&&zv(t.type)&&oye.indexOf(t.type)>=0},kW=function(t){return t&&nE(t)==="object"&&"clipDot"in t},cye=function(t,r,s,a){var i,o=(i=rS==null?void 0:rS[a])!==null&&i!==void 0?i:[];return!Pt(t)&&(a&&o.includes(r)||rye.includes(r))||s&&PT.includes(r)},Nt=function(t,r,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(v.isValidElement(t)&&(a=t.props),!Rp(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;cye((l=a)===null||l===void 0?void 0:l[o],o,r,s)&&(i[o]=a[o])}),i},sE=function e(t,r){if(t===r)return!0;var s=v.Children.count(t);if(s!==v.Children.count(r))return!1;if(s===0)return!0;if(s===1)return oR(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<s;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!oR(i,o))return!1}return!0},oR=function(t,r){if(Mt(t)&&Mt(r))return!0;if(!Mt(t)&&!Mt(r)){var s=t.props||{},a=s.children,i=nR(s,sye),o=r.props||{},l=o.children,c=nR(o,aye);return a&&l?th(i,c)&&sE(a,l):!a&&!l?th(i,c):!1}return!1},lR=function(t,r){var s=[],a={};return TT(t).forEach(function(i,o){if(lye(i))s.push(i);else if(i){var l=Nc(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var f=d(i,l,o);s.push(f),a[l]=!0}}}),s},dye=function(t){var r=t&&t.type;return r&&sR[r]?sR[r]:null},uye=function(t,r){return TT(r).indexOf(t)},fye=["children","width","height","viewBox","className","style","title","desc"];function aE(){return aE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},aE.apply(this,arguments)}function mye(e,t){if(e==null)return{};var r=hye(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function hye(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function iE(e){var t=e.children,r=e.width,s=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=mye(e,fye),u=a||{width:r,height:s,x:0,y:0},f=Bt("recharts-surface",i);return V.createElement("svg",aE({},Nt(d,!0,"svg"),{className:f,width:r,height:s,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),V.createElement("title",null,l),V.createElement("desc",null,c),t)}var pye=["children","className"];function oE(){return oE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},oE.apply(this,arguments)}function xye(e,t){if(e==null)return{};var r=gye(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function gye(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var er=V.forwardRef(function(e,t){var r=e.children,s=e.className,a=xye(e,pye),i=Bt("recharts-layer",s);return V.createElement("g",oE({className:i},Nt(a,!0),{ref:t}),r)}),qo=function(t,r){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]};function vye(e,t,r){var s=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++s<a;)i[s]=e[s+t];return i}var yye=vye,jye=yye;function bye(e,t,r){var s=e.length;return r=r===void 0?s:r,!t&&r>=s?e:jye(e,t,r)}var wye=bye,Nye="\\ud800-\\udfff",_ye="\\u0300-\\u036f",Sye="\\ufe20-\\ufe2f",Cye="\\u20d0-\\u20ff",Eye=_ye+Sye+Cye,Aye="\\ufe0e\\ufe0f",kye="\\u200d",Pye=RegExp("["+kye+Nye+Eye+Aye+"]");function Tye(e){return Pye.test(e)}var PW=Tye;function Oye(e){return e.split("")}var Dye=Oye,TW="\\ud800-\\udfff",Iye="\\u0300-\\u036f",Rye="\\ufe20-\\ufe2f",Mye="\\u20d0-\\u20ff",Fye=Iye+Rye+Mye,$ye="\\ufe0e\\ufe0f",Lye="["+TW+"]",lE="["+Fye+"]",cE="\\ud83c[\\udffb-\\udfff]",Bye="(?:"+lE+"|"+cE+")",OW="[^"+TW+"]",DW="(?:\\ud83c[\\udde6-\\uddff]){2}",IW="[\\ud800-\\udbff][\\udc00-\\udfff]",Uye="\\u200d",RW=Bye+"?",MW="["+$ye+"]?",Vye="(?:"+Uye+"(?:"+[OW,DW,IW].join("|")+")"+MW+RW+")*",zye=MW+RW+Vye,Wye="(?:"+[OW+lE+"?",lE,DW,IW,Lye].join("|")+")",Hye=RegExp(cE+"(?="+cE+")|"+Wye+zye,"g");function qye(e){return e.match(Hye)||[]}var Gye=qye,Kye=Dye,Yye=PW,Xye=Gye;function Qye(e){return Yye(e)?Xye(e):Kye(e)}var Zye=Qye,Jye=wye,eje=PW,tje=Zye,rje=wW;function nje(e){return function(t){t=rje(t);var r=eje(t)?tje(t):void 0,s=r?r[0]:t.charAt(0),a=r?Jye(r,1).join(""):t.slice(1);return s[e]()+a}}var sje=nje,aje=sje,ije=aje("toUpperCase"),oje=ije;const qN=Cr(oje);function Vr(e){return function(){return e}}const FW=Math.cos,n1=Math.sin,nl=Math.sqrt,s1=Math.PI,GN=2*s1,dE=Math.PI,uE=2*dE,Tu=1e-6,lje=uE-Tu;function $W(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function cje(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $W;const r=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+s[a]}}class dje{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$W:cje(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,s,a){this._append`Q${+t},${+r},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,r,s,a,i,o){this._append`C${+t},${+r},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,s,a,i){if(t=+t,r=+r,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-t,d=a-r,u=o-t,f=l-r,m=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Tu)if(!(Math.abs(f*c-d*u)>Tu)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=s-o,x=a-l,p=c*c+d*d,g=h*h+x*x,j=Math.sqrt(p),y=Math.sqrt(m),w=i*Math.tan((dE-Math.acos((p+m-g)/(2*j*y)))/2),b=w/y,N=w/j;Math.abs(b-1)>Tu&&this._append`L${t+b*u},${r+b*f}`,this._append`A${i},${i},0,0,${+(f*h>u*x)},${this._x1=t+N*c},${this._y1=r+N*d}`}}arc(t,r,s,a,i,o){if(t=+t,r=+r,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),d=t+l,u=r+c,f=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Tu||Math.abs(this._y1-u)>Tu)&&this._append`L${d},${u}`,s&&(m<0&&(m=m%uE+uE),m>lje?this._append`A${s},${s},0,1,${f},${t-l},${r-c}A${s},${s},0,1,${f},${this._x1=d},${this._y1=u}`:m>Tu&&this._append`A${s},${s},0,${+(m>=dE)},${f},${this._x1=t+s*Math.cos(i)},${this._y1=r+s*Math.sin(i)}`)}rect(t,r,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function OT(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);t=s}return e},()=>new dje(t)}function DT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function LW(e){this._context=e}LW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function KN(e){return new LW(e)}function BW(e){return e[0]}function UW(e){return e[1]}function VW(e,t){var r=Vr(!0),s=null,a=KN,i=null,o=OT(l);e=typeof e=="function"?e:e===void 0?BW:Vr(e),t=typeof t=="function"?t:t===void 0?UW:Vr(t);function l(c){var d,u=(c=DT(c)).length,f,m=!1,h;for(s==null&&(i=a(h=o())),d=0;d<=u;++d)!(d<u&&r(f=c[d],d,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(f,d,c),+t(f,d,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Vr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Vr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Vr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function Yy(e,t,r){var s=null,a=Vr(!0),i=null,o=KN,l=null,c=OT(d);e=typeof e=="function"?e:e===void 0?BW:Vr(+e),t=typeof t=="function"?t:Vr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?UW:Vr(+r);function d(f){var m,h,x,p=(f=DT(f)).length,g,j=!1,y,w=new Array(p),b=new Array(p);for(i==null&&(l=o(y=c())),m=0;m<=p;++m){if(!(m<p&&a(g=f[m],m,f))===j)if(j=!j)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=h;--x)l.point(w[x],b[x]);l.lineEnd(),l.areaEnd()}j&&(w[m]=+e(g,m,f),b[m]=+t(g,m,f),l.point(s?+s(g,m,f):w[m],r?+r(g,m,f):b[m]))}if(y)return l=null,y+""||null}function u(){return VW().defined(a).curve(o).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Vr(+f),s=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Vr(+f),d):e},d.x1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:Vr(+f),d):s},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Vr(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Vr(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Vr(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(s).y(t)},d.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Vr(!!f),d):a},d.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),d):o},d.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),d):i},d}class zW{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function uje(e){return new zW(e,!0)}function fje(e){return new zW(e,!1)}const IT={draw(e,t){const r=nl(t/s1);e.moveTo(r,0),e.arc(0,0,r,0,GN)}},mje={draw(e,t){const r=nl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},WW=nl(1/3),hje=WW*2,pje={draw(e,t){const r=nl(t/hje),s=r*WW;e.moveTo(0,-r),e.lineTo(s,0),e.lineTo(0,r),e.lineTo(-s,0),e.closePath()}},xje={draw(e,t){const r=nl(t),s=-r/2;e.rect(s,s,r,r)}},gje=.8908130915292852,HW=n1(s1/10)/n1(7*s1/10),vje=n1(GN/10)*HW,yje=-FW(GN/10)*HW,jje={draw(e,t){const r=nl(t*gje),s=vje*r,a=yje*r;e.moveTo(0,-r),e.lineTo(s,a);for(let i=1;i<5;++i){const o=GN*i/5,l=FW(o),c=n1(o);e.lineTo(c*r,-l*r),e.lineTo(l*s-c*a,c*s+l*a)}e.closePath()}},sS=nl(3),bje={draw(e,t){const r=-nl(t/(sS*3));e.moveTo(0,r*2),e.lineTo(-sS*r,-r),e.lineTo(sS*r,-r),e.closePath()}},Bi=-.5,Ui=nl(3)/2,fE=1/nl(12),wje=(fE/2+1)*3,Nje={draw(e,t){const r=nl(t/wje),s=r/2,a=r*fE,i=s,o=r*fE+r,l=-i,c=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Bi*s-Ui*a,Ui*s+Bi*a),e.lineTo(Bi*i-Ui*o,Ui*i+Bi*o),e.lineTo(Bi*l-Ui*c,Ui*l+Bi*c),e.lineTo(Bi*s+Ui*a,Bi*a-Ui*s),e.lineTo(Bi*i+Ui*o,Bi*o-Ui*i),e.lineTo(Bi*l+Ui*c,Bi*c-Ui*l),e.closePath()}};function _je(e,t){let r=null,s=OT(a);e=typeof e=="function"?e:Vr(e||IT),t=typeof t=="function"?t:Vr(t===void 0?64:+t);function a(){let i;if(r||(r=i=s()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Vr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Vr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function a1(){}function i1(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function qW(e){this._context=e}qW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:i1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:i1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Sje(e){return new qW(e)}function GW(e){this._context=e}GW.prototype={areaStart:a1,areaEnd:a1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:i1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Cje(e){return new GW(e)}function KW(e){this._context=e}KW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:i1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Eje(e){return new KW(e)}function YW(e){this._context=e}YW.prototype={areaStart:a1,areaEnd:a1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Aje(e){return new YW(e)}function cR(e){return e<0?-1:1}function dR(e,t,r){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(r-e._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(cR(i)+cR(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function uR(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function aS(e,t,r){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-s)/3;e._context.bezierCurveTo(s+l,a+l*t,i-l,o-l*r,i,o)}function o1(e){this._context=e}o1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:aS(this,this._t0,uR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,aS(this,uR(this,r=dR(this,e,t)),r);break;default:aS(this,this._t0,r=dR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function XW(e){this._context=new QW(e)}(XW.prototype=Object.create(o1.prototype)).point=function(e,t){o1.prototype.point.call(this,t,e)};function QW(e){this._context=e}QW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,s,a,i){this._context.bezierCurveTo(t,e,s,r,i,a)}};function kje(e){return new o1(e)}function Pje(e){return new XW(e)}function ZW(e){this._context=e}ZW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var s=fR(e),a=fR(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function fR(e){var t,r=e.length-1,s,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)s=a[t]/i[t-1],i[t]-=s,o[t]-=s*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Tje(e){return new ZW(e)}function YN(e,t){this._context=e,this._t=t}YN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Oje(e){return new YN(e,.5)}function Dje(e){return new YN(e,0)}function Ije(e){return new YN(e,1)}function Lh(e,t){if((o=e.length)>1)for(var r=1,s,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function mE(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Rje(e,t){return e[t]}function Mje(e){const t=[];return t.key=e,t}function Fje(){var e=Vr([]),t=mE,r=Lh,s=Rje;function a(i){var o=Array.from(e.apply(this,arguments),Mje),l,c=o.length,d=-1,u;for(const f of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+s(f,o[l].key,d,i)]).data=f;for(l=0,u=DT(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Vr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:Vr(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?mE:typeof i=="function"?i:Vr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Lh,a):r},a}function $je(e,t){if((s=e.length)>0){for(var r,s,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<s;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<s;++r)e[r][a][1]/=o}Lh(e,t)}}function Lje(e,t){if((a=e.length)>0){for(var r=0,s=e[t[0]],a,i=s.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;s[r][1]+=s[r][0]=-l/2}Lh(e,t)}}function Bje(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],f=u[s][1]||0,m=u[s-1][1]||0,h=(f-m)/2,x=0;x<l;++x){var p=e[t[x]],g=p[s][1]||0,j=p[s-1][1]||0;h+=g-j}c+=f,d+=h*f}a[s-1][1]+=a[s-1][0]=r,c&&(r-=d/c)}a[s-1][1]+=a[s-1][0]=r,Lh(e,t)}}function o0(e){"@babel/helpers - typeof";return o0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o0(e)}var Uje=["type","size","sizeType"];function hE(){return hE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},hE.apply(this,arguments)}function mR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function hR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mR(Object(r),!0).forEach(function(s){Vje(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Vje(e,t,r){return t=zje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zje(e){var t=Wje(e,"string");return o0(t)=="symbol"?t:t+""}function Wje(e,t){if(o0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(o0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hje(e,t){if(e==null)return{};var r=qje(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function qje(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var JW={symbolCircle:IT,symbolCross:mje,symbolDiamond:pje,symbolSquare:xje,symbolStar:jje,symbolTriangle:bje,symbolWye:Nje},Gje=Math.PI/180,Kje=function(t){var r="symbol".concat(qN(t));return JW[r]||IT},Yje=function(t,r,s){if(r==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Gje;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Xje=function(t,r){JW["symbol".concat(qN(t))]=r},RT=function(t){var r=t.type,s=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=Hje(t,Uje),d=hR(hR({},c),{},{type:s,size:i,sizeType:l}),u=function(){var g=Kje(s),j=_je().type(g).size(Yje(i,l,s));return j()},f=d.className,m=d.cx,h=d.cy,x=Nt(d,!0);return m===+m&&h===+h&&i===+i?V.createElement("path",hE({},x,{className:Bt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:u()})):null};RT.registerSymbol=Xje;function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}function pE(){return pE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},pE.apply(this,arguments)}function pR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Qje(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(r),!0).forEach(function(s){l0(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Zje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jje(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,tH(s.key),s)}}function ebe(e,t,r){return t&&Jje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tbe(e,t,r){return t=l1(t),rbe(e,eH()?Reflect.construct(t,r||[],l1(e).constructor):t.apply(e,r))}function rbe(e,t){if(t&&(Bh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nbe(e)}function nbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eH=function(){return!!e})()}function l1(e){return l1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l1(e)}function sbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xE(e,t)}function xE(e,t){return xE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},xE(e,t)}function l0(e,t,r){return t=tH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tH(e){var t=abe(e,"string");return Bh(t)=="symbol"?t:t+""}function abe(e,t){if(Bh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Bh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vi=32,MT=function(e){function t(){return Zje(this,t),tbe(this,t,arguments)}return sbe(t,e),ebe(t,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=Vi/2,o=Vi/6,l=Vi/3,c=s.inactive?a:s.color;if(s.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:Vi,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Vi,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return V.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Vi/8,"h").concat(Vi,"v").concat(Vi*3/4,"h").concat(-Vi,"z"),className:"recharts-legend-icon"});if(V.isValidElement(s.legendIcon)){var d=Qje({},s);return delete d.legendIcon,V.cloneElement(s.legendIcon,d)}return V.createElement(RT,{fill:c,cx:i,cy:i,size:Vi,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:Vi,height:Vi},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,x){var p=h.formatter||c,g=Bt(l0(l0({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",h.inactive));if(h.type==="none")return null;var j=Pt(h.value)?null:h.value;qo(!Pt(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=h.inactive?d:h.color;return V.createElement("li",pE({className:g,style:f,key:"legend-item-".concat(x)},Tf(s.props,h,x)),V.createElement(iE,{width:o,height:o,viewBox:u,style:m},s.renderIcon(h)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(j,h,x):j))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);l0(MT,"displayName","Legend");l0(MT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ibe=DN;function obe(){this.__data__=new ibe,this.size=0}var lbe=obe;function cbe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var dbe=cbe;function ube(e){return this.__data__.get(e)}var fbe=ube;function mbe(e){return this.__data__.has(e)}var hbe=mbe,pbe=DN,xbe=NT,gbe=_T,vbe=200;function ybe(e,t){var r=this.__data__;if(r instanceof pbe){var s=r.__data__;if(!xbe||s.length<vbe-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new gbe(s)}return r.set(e,t),this.size=r.size,this}var jbe=ybe,bbe=DN,wbe=lbe,Nbe=dbe,_be=fbe,Sbe=hbe,Cbe=jbe;function Bp(e){var t=this.__data__=new bbe(e);this.size=t.size}Bp.prototype.clear=wbe;Bp.prototype.delete=Nbe;Bp.prototype.get=_be;Bp.prototype.has=Sbe;Bp.prototype.set=Cbe;var rH=Bp,Ebe="__lodash_hash_undefined__";function Abe(e){return this.__data__.set(e,Ebe),this}var kbe=Abe;function Pbe(e){return this.__data__.has(e)}var Tbe=Pbe,Obe=_T,Dbe=kbe,Ibe=Tbe;function c1(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Obe;++t<r;)this.add(e[t])}c1.prototype.add=c1.prototype.push=Dbe;c1.prototype.has=Ibe;var nH=c1;function Rbe(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(t(e[r],r,e))return!0;return!1}var sH=Rbe;function Mbe(e,t){return e.has(t)}var aH=Mbe,Fbe=nH,$be=sH,Lbe=aH,Bbe=1,Ube=2;function Vbe(e,t,r,s,a,i){var o=r&Bbe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var f=-1,m=!0,h=r&Ube?new Fbe:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var x=e[f],p=t[f];if(s)var g=o?s(p,x,f,t,e,i):s(x,p,f,e,t,i);if(g!==void 0){if(g)continue;m=!1;break}if(h){if(!$be(t,function(j,y){if(!Lbe(h,y)&&(x===j||a(x,j,r,s,i)))return h.push(y)})){m=!1;break}}else if(!(x===p||a(x,p,r,s,i))){m=!1;break}}return i.delete(e),i.delete(t),m}var iH=Vbe,zbe=Kl,Wbe=zbe.Uint8Array,Hbe=Wbe;function qbe(e){var t=-1,r=Array(e.size);return e.forEach(function(s,a){r[++t]=[a,s]}),r}var Gbe=qbe;function Kbe(e){var t=-1,r=Array(e.size);return e.forEach(function(s){r[++t]=s}),r}var FT=Kbe,xR=Vv,gR=Hbe,Ybe=wT,Xbe=iH,Qbe=Gbe,Zbe=FT,Jbe=1,e1e=2,t1e="[object Boolean]",r1e="[object Date]",n1e="[object Error]",s1e="[object Map]",a1e="[object Number]",i1e="[object RegExp]",o1e="[object Set]",l1e="[object String]",c1e="[object Symbol]",d1e="[object ArrayBuffer]",u1e="[object DataView]",vR=xR?xR.prototype:void 0,iS=vR?vR.valueOf:void 0;function f1e(e,t,r,s,a,i,o){switch(r){case u1e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case d1e:return!(e.byteLength!=t.byteLength||!i(new gR(e),new gR(t)));case t1e:case r1e:case a1e:return Ybe(+e,+t);case n1e:return e.name==t.name&&e.message==t.message;case i1e:case l1e:return e==t+"";case s1e:var l=Qbe;case o1e:var c=s&Jbe;if(l||(l=Zbe),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;s|=e1e,o.set(e,t);var u=Xbe(l(e),l(t),s,a,i,o);return o.delete(e),u;case c1e:if(iS)return iS.call(e)==iS.call(t)}return!1}var m1e=f1e;function h1e(e,t){for(var r=-1,s=t.length,a=e.length;++r<s;)e[a+r]=t[r];return e}var oH=h1e,p1e=oH,x1e=ri;function g1e(e,t,r){var s=t(e);return x1e(e)?s:p1e(s,r(e))}var v1e=g1e;function y1e(e,t){for(var r=-1,s=e==null?0:e.length,a=0,i=[];++r<s;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var j1e=y1e;function b1e(){return[]}var w1e=b1e,N1e=j1e,_1e=w1e,S1e=Object.prototype,C1e=S1e.propertyIsEnumerable,yR=Object.getOwnPropertySymbols,E1e=yR?function(e){return e==null?[]:(e=Object(e),N1e(yR(e),function(t){return C1e.call(e,t)}))}:_1e,A1e=E1e;function k1e(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}var P1e=k1e,T1e=Kc,O1e=Yc,D1e="[object Arguments]";function I1e(e){return O1e(e)&&T1e(e)==D1e}var R1e=I1e,jR=R1e,M1e=Yc,lH=Object.prototype,F1e=lH.hasOwnProperty,$1e=lH.propertyIsEnumerable,L1e=jR(function(){return arguments}())?jR:function(e){return M1e(e)&&F1e.call(e,"callee")&&!$1e.call(e,"callee")},$T=L1e,d1={exports:{}};function B1e(){return!1}var U1e=B1e;d1.exports;(function(e,t){var r=Kl,s=U1e,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||s;e.exports=d})(d1,d1.exports);var cH=d1.exports,V1e=9007199254740991,z1e=/^(?:0|[1-9]\d*)$/;function W1e(e,t){var r=typeof e;return t=t??V1e,!!t&&(r=="number"||r!="symbol"&&z1e.test(e))&&e>-1&&e%1==0&&e<t}var LT=W1e,H1e=9007199254740991;function q1e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=H1e}var BT=q1e,G1e=Kc,K1e=BT,Y1e=Yc,X1e="[object Arguments]",Q1e="[object Array]",Z1e="[object Boolean]",J1e="[object Date]",ewe="[object Error]",twe="[object Function]",rwe="[object Map]",nwe="[object Number]",swe="[object Object]",awe="[object RegExp]",iwe="[object Set]",owe="[object String]",lwe="[object WeakMap]",cwe="[object ArrayBuffer]",dwe="[object DataView]",uwe="[object Float32Array]",fwe="[object Float64Array]",mwe="[object Int8Array]",hwe="[object Int16Array]",pwe="[object Int32Array]",xwe="[object Uint8Array]",gwe="[object Uint8ClampedArray]",vwe="[object Uint16Array]",ywe="[object Uint32Array]",Yr={};Yr[uwe]=Yr[fwe]=Yr[mwe]=Yr[hwe]=Yr[pwe]=Yr[xwe]=Yr[gwe]=Yr[vwe]=Yr[ywe]=!0;Yr[X1e]=Yr[Q1e]=Yr[cwe]=Yr[Z1e]=Yr[dwe]=Yr[J1e]=Yr[ewe]=Yr[twe]=Yr[rwe]=Yr[nwe]=Yr[swe]=Yr[awe]=Yr[iwe]=Yr[owe]=Yr[lwe]=!1;function jwe(e){return Y1e(e)&&K1e(e.length)&&!!Yr[G1e(e)]}var bwe=jwe;function wwe(e){return function(t){return e(t)}}var dH=wwe,u1={exports:{}};u1.exports;(function(e,t){var r=xW,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(u1,u1.exports);var Nwe=u1.exports,_we=bwe,Swe=dH,bR=Nwe,wR=bR&&bR.isTypedArray,Cwe=wR?Swe(wR):_we,uH=Cwe,Ewe=P1e,Awe=$T,kwe=ri,Pwe=cH,Twe=LT,Owe=uH,Dwe=Object.prototype,Iwe=Dwe.hasOwnProperty;function Rwe(e,t){var r=kwe(e),s=!r&&Awe(e),a=!r&&!s&&Pwe(e),i=!r&&!s&&!a&&Owe(e),o=r||s||a||i,l=o?Ewe(e.length,String):[],c=l.length;for(var d in e)(t||Iwe.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Twe(d,c)))&&l.push(d);return l}var Mwe=Rwe,Fwe=Object.prototype;function $we(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Fwe;return e===r}var Lwe=$we;function Bwe(e,t){return function(r){return e(t(r))}}var fH=Bwe,Uwe=fH,Vwe=Uwe(Object.keys,Object),zwe=Vwe,Wwe=Lwe,Hwe=zwe,qwe=Object.prototype,Gwe=qwe.hasOwnProperty;function Kwe(e){if(!Wwe(e))return Hwe(e);var t=[];for(var r in Object(e))Gwe.call(e,r)&&r!="constructor"&&t.push(r);return t}var Ywe=Kwe,Xwe=bT,Qwe=BT;function Zwe(e){return e!=null&&Qwe(e.length)&&!Xwe(e)}var Wv=Zwe,Jwe=Mwe,eNe=Ywe,tNe=Wv;function rNe(e){return tNe(e)?Jwe(e):eNe(e)}var XN=rNe,nNe=v1e,sNe=A1e,aNe=XN;function iNe(e){return nNe(e,aNe,sNe)}var oNe=iNe,NR=oNe,lNe=1,cNe=Object.prototype,dNe=cNe.hasOwnProperty;function uNe(e,t,r,s,a,i){var o=r&lNe,l=NR(e),c=l.length,d=NR(t),u=d.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var m=l[f];if(!(o?m in t:dNe.call(t,m)))return!1}var h=i.get(e),x=i.get(t);if(h&&x)return h==t&&x==e;var p=!0;i.set(e,t),i.set(t,e);for(var g=o;++f<c;){m=l[f];var j=e[m],y=t[m];if(s)var w=o?s(y,j,m,t,e,i):s(j,y,m,e,t,i);if(!(w===void 0?j===y||a(j,y,r,s,i):w)){p=!1;break}g||(g=m=="constructor")}if(p&&!g){var b=e.constructor,N=t.constructor;b!=N&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof N=="function"&&N instanceof N)&&(p=!1)}return i.delete(e),i.delete(t),p}var fNe=uNe,mNe=Kf,hNe=Kl,pNe=mNe(hNe,"DataView"),xNe=pNe,gNe=Kf,vNe=Kl,yNe=gNe(vNe,"Promise"),jNe=yNe,bNe=Kf,wNe=Kl,NNe=bNe(wNe,"Set"),mH=NNe,_Ne=Kf,SNe=Kl,CNe=_Ne(SNe,"WeakMap"),ENe=CNe,gE=xNe,vE=NT,yE=jNe,jE=mH,bE=ENe,hH=Kc,Up=vW,_R="[object Map]",ANe="[object Object]",SR="[object Promise]",CR="[object Set]",ER="[object WeakMap]",AR="[object DataView]",kNe=Up(gE),PNe=Up(vE),TNe=Up(yE),ONe=Up(jE),DNe=Up(bE),Ou=hH;(gE&&Ou(new gE(new ArrayBuffer(1)))!=AR||vE&&Ou(new vE)!=_R||yE&&Ou(yE.resolve())!=SR||jE&&Ou(new jE)!=CR||bE&&Ou(new bE)!=ER)&&(Ou=function(e){var t=hH(e),r=t==ANe?e.constructor:void 0,s=r?Up(r):"";if(s)switch(s){case kNe:return AR;case PNe:return _R;case TNe:return SR;case ONe:return CR;case DNe:return ER}return t});var INe=Ou,oS=rH,RNe=iH,MNe=m1e,FNe=fNe,kR=INe,PR=ri,TR=cH,$Ne=uH,LNe=1,OR="[object Arguments]",DR="[object Array]",Xy="[object Object]",BNe=Object.prototype,IR=BNe.hasOwnProperty;function UNe(e,t,r,s,a,i){var o=PR(e),l=PR(t),c=o?DR:kR(e),d=l?DR:kR(t);c=c==OR?Xy:c,d=d==OR?Xy:d;var u=c==Xy,f=d==Xy,m=c==d;if(m&&TR(e)){if(!TR(t))return!1;o=!0,u=!1}if(m&&!u)return i||(i=new oS),o||$Ne(e)?RNe(e,t,r,s,a,i):MNe(e,t,c,r,s,a,i);if(!(r&LNe)){var h=u&&IR.call(e,"__wrapped__"),x=f&&IR.call(t,"__wrapped__");if(h||x){var p=h?e.value():e,g=x?t.value():t;return i||(i=new oS),a(p,g,r,s,i)}}return m?(i||(i=new oS),FNe(e,t,r,s,a,i)):!1}var VNe=UNe,zNe=VNe,RR=Yc;function pH(e,t,r,s,a){return e===t?!0:e==null||t==null||!RR(e)&&!RR(t)?e!==e&&t!==t:zNe(e,t,r,s,pH,a)}var UT=pH,WNe=rH,HNe=UT,qNe=1,GNe=2;function KNe(e,t,r,s){var a=r.length,i=a,o=!s;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var f=new WNe;if(s)var m=s(d,u,c,e,t,f);if(!(m===void 0?HNe(u,d,qNe|GNe,s,f):m))return!1}}return!0}var YNe=KNe,XNe=hu;function QNe(e){return e===e&&!XNe(e)}var xH=QNe,ZNe=xH,JNe=XN;function e2e(e){for(var t=JNe(e),r=t.length;r--;){var s=t[r],a=e[s];t[r]=[s,a,ZNe(a)]}return t}var t2e=e2e;function r2e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var gH=r2e,n2e=YNe,s2e=t2e,a2e=gH;function i2e(e){var t=s2e(e);return t.length==1&&t[0][2]?a2e(t[0][0],t[0][1]):function(r){return r===e||n2e(r,e,t)}}var o2e=i2e;function l2e(e,t){return e!=null&&t in Object(e)}var c2e=l2e,d2e=NW,u2e=$T,f2e=ri,m2e=LT,h2e=BT,p2e=RN;function x2e(e,t,r){t=d2e(t,e);for(var s=-1,a=t.length,i=!1;++s<a;){var o=p2e(t[s]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++s!=a?i:(a=e==null?0:e.length,!!a&&h2e(a)&&m2e(o,a)&&(f2e(e)||u2e(e)))}var g2e=x2e,v2e=c2e,y2e=g2e;function j2e(e,t){return e!=null&&y2e(e,t,v2e)}var b2e=j2e,w2e=UT,N2e=_W,_2e=b2e,S2e=jT,C2e=xH,E2e=gH,A2e=RN,k2e=1,P2e=2;function T2e(e,t){return S2e(e)&&C2e(t)?E2e(A2e(e),t):function(r){var s=N2e(r,e);return s===void 0&&s===t?_2e(r,e):w2e(t,s,k2e|P2e)}}var O2e=T2e;function D2e(e){return e}var Vp=D2e;function I2e(e){return function(t){return t==null?void 0:t[e]}}var R2e=I2e,M2e=ET;function F2e(e){return function(t){return M2e(t,e)}}var $2e=F2e,L2e=R2e,B2e=$2e,U2e=jT,V2e=RN;function z2e(e){return U2e(e)?L2e(V2e(e)):B2e(e)}var W2e=z2e,H2e=o2e,q2e=O2e,G2e=Vp,K2e=ri,Y2e=W2e;function X2e(e){return typeof e=="function"?e:e==null?G2e:typeof e=="object"?K2e(e)?q2e(e[0],e[1]):H2e(e):Y2e(e)}var Yl=X2e;function Q2e(e,t,r,s){for(var a=e.length,i=r+(s?1:-1);s?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var vH=Q2e;function Z2e(e){return e!==e}var J2e=Z2e;function e_e(e,t,r){for(var s=r-1,a=e.length;++s<a;)if(e[s]===t)return s;return-1}var t_e=e_e,r_e=vH,n_e=J2e,s_e=t_e;function a_e(e,t,r){return t===t?s_e(e,t,r):r_e(e,n_e,r)}var i_e=a_e,o_e=i_e;function l_e(e,t){var r=e==null?0:e.length;return!!r&&o_e(e,t,0)>-1}var c_e=l_e;function d_e(e,t,r){for(var s=-1,a=e==null?0:e.length;++s<a;)if(r(t,e[s]))return!0;return!1}var u_e=d_e;function f_e(){}var m_e=f_e,lS=mH,h_e=m_e,p_e=FT,x_e=1/0,g_e=lS&&1/p_e(new lS([,-0]))[1]==x_e?function(e){return new lS(e)}:h_e,v_e=g_e,y_e=nH,j_e=c_e,b_e=u_e,w_e=aH,N_e=v_e,__e=FT,S_e=200;function C_e(e,t,r){var s=-1,a=j_e,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=b_e;else if(i>=S_e){var d=t?null:N_e(e);if(d)return __e(d);o=!1,a=w_e,c=new y_e}else c=t?[]:l;e:for(;++s<i;){var u=e[s],f=t?t(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;t&&c.push(f),l.push(u)}else a(c,f,r)||(c!==l&&c.push(f),l.push(u))}return l}var E_e=C_e,A_e=Yl,k_e=E_e;function P_e(e,t){return e&&e.length?k_e(e,A_e(t)):[]}var T_e=P_e;const MR=Cr(T_e);function yH(e,t,r){return t===!0?MR(e,r):Pt(t)?MR(e,t):e}function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}var O_e=["ref"];function FR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function tc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(r),!0).forEach(function(s){QN(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function D_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $R(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,bH(s.key),s)}}function I_e(e,t,r){return t&&$R(e.prototype,t),r&&$R(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function R_e(e,t,r){return t=f1(t),M_e(e,jH()?Reflect.construct(t,r||[],f1(e).constructor):t.apply(e,r))}function M_e(e,t){if(t&&(Uh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F_e(e)}function F_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jH=function(){return!!e})()}function f1(e){return f1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},f1(e)}function $_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wE(e,t)}function wE(e,t){return wE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},wE(e,t)}function QN(e,t,r){return t=bH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bH(e){var t=L_e(e,"string");return Uh(t)=="symbol"?t:t+""}function L_e(e,t){if(Uh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Uh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B_e(e,t){if(e==null)return{};var r=U_e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function U_e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function V_e(e){return e.value}function z_e(e,t){if(V.isValidElement(e))return V.cloneElement(e,t);if(typeof e=="function")return V.createElement(e,t);t.ref;var r=B_e(t,O_e);return V.createElement(MT,r)}var LR=1,Go=function(e){function t(){var r;D_e(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=R_e(this,t,[].concat(a)),QN(r,"lastBoundingBox",{width:-1,height:-1}),r}return $_e(t,e),I_e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>LR||Math.abs(a.height-this.lastBoundingBox.height)>LR)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?tc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,f,m;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();f={left:((d||0)-h.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();m={top:((u||0)-x.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return tc(tc({},f),m)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,f=tc(tc({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return V.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){s.wrapperNode=h}},z_e(i,tc(tc({},this.props),{},{payload:yH(u,d,V_e)})))}}],[{key:"getWithHeight",value:function(s,a){var i=tc(tc({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&Xe(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])}(v.PureComponent);QN(Go,"displayName","Legend");QN(Go,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var BR=Vv,W_e=$T,H_e=ri,UR=BR?BR.isConcatSpreadable:void 0;function q_e(e){return H_e(e)||W_e(e)||!!(UR&&e&&e[UR])}var G_e=q_e,K_e=oH,Y_e=G_e;function wH(e,t,r,s,a){var i=-1,o=e.length;for(r||(r=Y_e),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?wH(l,t-1,r,s,a):K_e(a,l):s||(a[a.length]=l)}return a}var NH=wH;function X_e(e){return function(t,r,s){for(var a=-1,i=Object(t),o=s(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var Q_e=X_e,Z_e=Q_e,J_e=Z_e(),eSe=J_e,tSe=eSe,rSe=XN;function nSe(e,t){return e&&tSe(e,t,rSe)}var _H=nSe,sSe=Wv;function aSe(e,t){return function(r,s){if(r==null)return r;if(!sSe(r))return e(r,s);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&s(o[i],i,o)!==!1;);return r}}var iSe=aSe,oSe=_H,lSe=iSe,cSe=lSe(oSe),VT=cSe,dSe=VT,uSe=Wv;function fSe(e,t){var r=-1,s=uSe(e)?Array(e.length):[];return dSe(e,function(a,i,o){s[++r]=t(a,i,o)}),s}var SH=fSe;function mSe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var hSe=mSe,VR=Ip;function pSe(e,t){if(e!==t){var r=e!==void 0,s=e===null,a=e===e,i=VR(e),o=t!==void 0,l=t===null,c=t===t,d=VR(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||s&&o&&c||!r&&c||!a)return 1;if(!s&&!i&&!d&&e<t||d&&r&&a&&!s&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var xSe=pSe,gSe=xSe;function vSe(e,t,r){for(var s=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++s<o;){var c=gSe(a[s],i[s]);if(c){if(s>=l)return c;var d=r[s];return c*(d=="desc"?-1:1)}}return e.index-t.index}var ySe=vSe,cS=CT,jSe=ET,bSe=Yl,wSe=SH,NSe=hSe,_Se=dH,SSe=ySe,CSe=Vp,ESe=ri;function ASe(e,t,r){t.length?t=cS(t,function(i){return ESe(i)?function(o){return jSe(o,i.length===1?i[0]:i)}:i}):t=[CSe];var s=-1;t=cS(t,_Se(bSe));var a=wSe(e,function(i,o,l){var c=cS(t,function(d){return d(i)});return{criteria:c,index:++s,value:i}});return NSe(a,function(i,o){return SSe(i,o,r)})}var kSe=ASe;function PSe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var TSe=PSe,OSe=TSe,zR=Math.max;function DSe(e,t,r){return t=zR(t===void 0?e.length-1:t,0),function(){for(var s=arguments,a=-1,i=zR(s.length-t,0),o=Array(i);++a<i;)o[a]=s[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=s[a];return l[t]=r(o),OSe(e,this,l)}}var ISe=DSe;function RSe(e){return function(){return e}}var MSe=RSe,FSe=Kf,$Se=function(){try{var e=FSe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),CH=$Se,LSe=MSe,WR=CH,BSe=Vp,USe=WR?function(e,t){return WR(e,"toString",{configurable:!0,enumerable:!1,value:LSe(t),writable:!0})}:BSe,VSe=USe,zSe=800,WSe=16,HSe=Date.now;function qSe(e){var t=0,r=0;return function(){var s=HSe(),a=WSe-(s-r);if(r=s,a>0){if(++t>=zSe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var GSe=qSe,KSe=VSe,YSe=GSe,XSe=YSe(KSe),QSe=XSe,ZSe=Vp,JSe=ISe,eCe=QSe;function tCe(e,t){return eCe(JSe(e,t,ZSe),e+"")}var rCe=tCe,nCe=wT,sCe=Wv,aCe=LT,iCe=hu;function oCe(e,t,r){if(!iCe(r))return!1;var s=typeof t;return(s=="number"?sCe(r)&&aCe(t,r.length):s=="string"&&t in r)?nCe(r[t],e):!1}var ZN=oCe,lCe=NH,cCe=kSe,dCe=rCe,HR=ZN,uCe=dCe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&HR(e,t[0],t[1])?t=[]:r>2&&HR(t[0],t[1],t[2])&&(t=[t[0]]),cCe(e,lCe(t,1),[])}),fCe=uCe;const zT=Cr(fCe);function c0(e){"@babel/helpers - typeof";return c0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c0(e)}function NE(){return NE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},NE.apply(this,arguments)}function mCe(e,t){return gCe(e)||xCe(e,t)||pCe(e,t)||hCe()}function hCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pCe(e,t){if(e){if(typeof e=="string")return qR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qR(e,t)}}function qR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function xCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function gCe(e){if(Array.isArray(e))return e}function GR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function dS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(r),!0).forEach(function(s){vCe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function vCe(e,t,r){return t=yCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yCe(e){var t=jCe(e,"string");return c0(t)=="symbol"?t:t+""}function jCe(e,t){if(c0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(c0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bCe(e){return Array.isArray(e)&&as(e[0])&&as(e[1])?e.join(" ~ "):e}var wCe=function(t){var r=t.separator,s=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,f=t.formatter,m=t.itemSorter,h=t.wrapperClassName,x=t.labelClassName,p=t.label,g=t.labelFormatter,j=t.accessibilityLayer,y=j===void 0?!1:j,w=function(){if(u&&u.length){var I={padding:0,margin:0},z=(m?zT(u,m):u).map(function(U,L){if(U.type==="none")return null;var T=dS({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},l),k=U.formatter||f||bCe,O=U.value,M=U.name,ie=O,ce=M;if(k&&ie!=null&&ce!=null){var D=k(O,M,U,L,u);if(Array.isArray(D)){var W=mCe(D,2);ie=W[0],ce=W[1]}else ie=D}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:T},as(ce)?V.createElement("span",{className:"recharts-tooltip-item-name"},ce):null,as(ce)?V.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,V.createElement("span",{className:"recharts-tooltip-item-value"},ie),V.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:I},z)}return null},b=dS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=dS({margin:0},d),S=!Mt(p),E=S?p:"",C=Bt("recharts-default-tooltip",h),A=Bt("recharts-tooltip-label",x);S&&g&&u!==void 0&&u!==null&&(E=g(p,u));var P=y?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",NE({className:C,style:b},P),V.createElement("p",{className:A,style:N},V.isValidElement(E)?E:"".concat(E)),w())};function d0(e){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d0(e)}function Qy(e,t,r){return t=NCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NCe(e){var t=_Ce(e,"string");return d0(t)=="symbol"?t:t+""}function _Ce(e,t){if(d0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(d0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sx="recharts-tooltip-wrapper",SCe={visibility:"hidden"};function CCe(e){var t=e.coordinate,r=e.translateX,s=e.translateY;return Bt(Sx,Qy(Qy(Qy(Qy({},"".concat(Sx,"-right"),Xe(r)&&t&&Xe(t.x)&&r>=t.x),"".concat(Sx,"-left"),Xe(r)&&t&&Xe(t.x)&&r<t.x),"".concat(Sx,"-bottom"),Xe(s)&&t&&Xe(t.y)&&s>=t.y),"".concat(Sx,"-top"),Xe(s)&&t&&Xe(t.y)&&s<t.y))}function KR(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&Xe(i[s]))return i[s];var u=r[s]-l-a,f=r[s]+a;if(t[s])return o[s]?u:f;if(o[s]){var m=u,h=c[s];return m<h?Math.max(f,c[s]):Math.max(u,c[s])}var x=f+l,p=c[s]+d;return x>p?Math.max(u,c[s]):Math.max(f,c[s])}function ECe(e){var t=e.translateX,r=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function ACe(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,f;return o.height>0&&o.width>0&&r?(u=KR({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=KR({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=ECe({translateX:u,translateY:f,useTranslate3d:l})):d=SCe,{cssProperties:d,cssClasses:CCe({translateX:u,translateY:f,coordinate:r})}}function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}function YR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function XR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(r),!0).forEach(function(s){SE(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function kCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PCe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,AH(s.key),s)}}function TCe(e,t,r){return t&&PCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OCe(e,t,r){return t=m1(t),DCe(e,EH()?Reflect.construct(t,r||[],m1(e).constructor):t.apply(e,r))}function DCe(e,t){if(t&&(Vh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ICe(e)}function ICe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EH=function(){return!!e})()}function m1(e){return m1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m1(e)}function RCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_E(e,t)}function _E(e,t){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},_E(e,t)}function SE(e,t,r){return t=AH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AH(e){var t=MCe(e,"string");return Vh(t)=="symbol"?t:t+""}function MCe(e,t){if(Vh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Vh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QR=1,FCe=function(e){function t(){var r;kCe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=OCe(this,t,[].concat(a)),SE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),SE(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return RCe(t,e),TCe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>QR||Math.abs(s.height-this.state.lastBoundingBox.height)>QR)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,h=a.offset,x=a.position,p=a.reverseDirection,g=a.useTranslate3d,j=a.viewBox,y=a.wrapperStyle,w=ACe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:h,position:x,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:j}),b=w.cssClasses,N=w.cssProperties,S=XR(XR({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return V.createElement("div",{tabIndex:-1,className:b,style:S,ref:function(C){s.wrapperNode=C}},d)}}])}(v.PureComponent),$Ce=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ko={isSsr:$Ce(),get:function(t){return Ko[t]},set:function(t,r){if(typeof t=="string")Ko[t]=r;else{var s=Object.keys(t);s&&s.length&&s.forEach(function(a){Ko[a]=t[a]})}}};function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}function ZR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function JR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(r),!0).forEach(function(s){WT(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function LCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BCe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,PH(s.key),s)}}function UCe(e,t,r){return t&&BCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VCe(e,t,r){return t=h1(t),zCe(e,kH()?Reflect.construct(t,r||[],h1(e).constructor):t.apply(e,r))}function zCe(e,t){if(t&&(zh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WCe(e)}function WCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kH=function(){return!!e})()}function h1(e){return h1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h1(e)}function HCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CE(e,t)}function CE(e,t){return CE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},CE(e,t)}function WT(e,t,r){return t=PH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PH(e){var t=qCe(e,"string");return zh(t)=="symbol"?t:t+""}function qCe(e,t){if(zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(zh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GCe(e){return e.dataKey}function KCe(e,t){return V.isValidElement(e)?V.cloneElement(e,t):typeof e=="function"?V.createElement(e,t):V.createElement(wCe,t)}var mr=function(e){function t(){return LCe(this,t),VCe(this,t,arguments)}return HCe(t,e),UCe(t,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,f=a.filterNull,m=a.isAnimationActive,h=a.offset,x=a.payload,p=a.payloadUniqBy,g=a.position,j=a.reverseDirection,y=a.useTranslate3d,w=a.viewBox,b=a.wrapperStyle,N=x??[];f&&N.length&&(N=yH(x.filter(function(E){return E.value!=null&&(E.hide!==!0||s.props.includeHidden)}),p,GCe));var S=N.length>0;return V.createElement(FCe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:u,hasPayload:S,offset:h,position:g,reverseDirection:j,useTranslate3d:y,viewBox:w,wrapperStyle:b},KCe(d,JR(JR({},this.props),{},{payload:N})))}}])}(v.PureComponent);WT(mr,"displayName","Tooltip");WT(mr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ko.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var YCe=Kl,XCe=function(){return YCe.Date.now()},QCe=XCe,ZCe=/\s/;function JCe(e){for(var t=e.length;t--&&ZCe.test(e.charAt(t)););return t}var e4e=JCe,t4e=e4e,r4e=/^\s+/;function n4e(e){return e&&e.slice(0,t4e(e)+1).replace(r4e,"")}var s4e=n4e,a4e=s4e,eM=hu,i4e=Ip,tM=NaN,o4e=/^[-+]0x[0-9a-f]+$/i,l4e=/^0b[01]+$/i,c4e=/^0o[0-7]+$/i,d4e=parseInt;function u4e(e){if(typeof e=="number")return e;if(i4e(e))return tM;if(eM(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=eM(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=a4e(e);var r=l4e.test(e);return r||c4e.test(e)?d4e(e.slice(2),r?2:8):o4e.test(e)?tM:+e}var TH=u4e,f4e=hu,uS=QCe,rM=TH,m4e="Expected a function",h4e=Math.max,p4e=Math.min;function x4e(e,t,r){var s,a,i,o,l,c,d=0,u=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(m4e);t=rM(t)||0,f4e(r)&&(u=!!r.leading,f="maxWait"in r,i=f?h4e(rM(r.maxWait)||0,t):i,m="trailing"in r?!!r.trailing:m);function h(S){var E=s,C=a;return s=a=void 0,d=S,o=e.apply(C,E),o}function x(S){return d=S,l=setTimeout(j,t),u?h(S):o}function p(S){var E=S-c,C=S-d,A=t-E;return f?p4e(A,i-C):A}function g(S){var E=S-c,C=S-d;return c===void 0||E>=t||E<0||f&&C>=i}function j(){var S=uS();if(g(S))return y(S);l=setTimeout(j,p(S))}function y(S){return l=void 0,m&&s?h(S):(s=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),d=0,s=c=a=l=void 0}function b(){return l===void 0?o:y(uS())}function N(){var S=uS(),E=g(S);if(s=arguments,a=this,c=S,E){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(j,t),h(c)}return l===void 0&&(l=setTimeout(j,t)),o}return N.cancel=w,N.flush=b,N}var g4e=x4e,v4e=g4e,y4e=hu,j4e="Expected a function";function b4e(e,t,r){var s=!0,a=!0;if(typeof e!="function")throw new TypeError(j4e);return y4e(r)&&(s="leading"in r?!!r.leading:s,a="trailing"in r?!!r.trailing:a),v4e(e,t,{leading:s,maxWait:t,trailing:a})}var w4e=b4e;const OH=Cr(w4e);function u0(e){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u0(e)}function nM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Zy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nM(Object(r),!0).forEach(function(s){N4e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function N4e(e,t,r){return t=_4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _4e(e){var t=S4e(e,"string");return u0(t)=="symbol"?t:t+""}function S4e(e,t){if(u0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(u0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C4e(e,t){return P4e(e)||k4e(e,t)||A4e(e,t)||E4e()}function E4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A4e(e,t){if(e){if(typeof e=="string")return sM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sM(e,t)}}function sM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function k4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function P4e(e){if(Array.isArray(e))return e}var rn=v.forwardRef(function(e,t){var r=e.aspect,s=e.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,f=e.minHeight,m=e.maxHeight,h=e.children,x=e.debounce,p=x===void 0?0:x,g=e.id,j=e.className,y=e.onResize,w=e.style,b=w===void 0?{}:w,N=v.useRef(null),S=v.useRef();S.current=y,v.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var E=v.useState({containerWidth:a.width,containerHeight:a.height}),C=C4e(E,2),A=C[0],P=C[1],R=v.useCallback(function(z,U){P(function(L){var T=Math.round(z),k=Math.round(U);return L.containerWidth===T&&L.containerHeight===k?L:{containerWidth:T,containerHeight:k}})},[]);v.useEffect(function(){var z=function(M){var ie,ce=M[0].contentRect,D=ce.width,W=ce.height;R(D,W),(ie=S.current)===null||ie===void 0||ie.call(S,D,W)};p>0&&(z=OH(z,p,{trailing:!0,leading:!1}));var U=new ResizeObserver(z),L=N.current.getBoundingClientRect(),T=L.width,k=L.height;return R(T,k),U.observe(N.current),function(){U.disconnect()}},[R,p]);var I=v.useMemo(function(){var z=A.containerWidth,U=A.containerHeight;if(z<0||U<0)return null;qo(Gu(o)||Gu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),qo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Gu(o)?z:o,T=Gu(c)?U:c;r&&r>0&&(L?T=L/r:T&&(L=T*r),m&&T>m&&(T=m)),qo(L>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,T,o,c,u,f,r);var k=!Array.isArray(h)&&Nc(h.type).endsWith("Chart");return V.Children.map(h,function(O){return EW.isElement(O)?v.cloneElement(O,Zy({width:L,height:T},k?{style:Zy({height:"100%",width:"100%",maxHeight:T,maxWidth:L},O.props.style)}:{})):O})},[r,h,c,m,f,u,A,o]);return V.createElement("div",{id:g?"".concat(g):void 0,className:Bt("recharts-responsive-container",j),style:Zy(Zy({},b),{},{width:o,height:c,minWidth:u,minHeight:f,maxHeight:m}),ref:N},I)}),ua=function(t){return null};ua.displayName="Cell";function f0(e){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f0(e)}function aM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function EE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aM(Object(r),!0).forEach(function(s){T4e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function T4e(e,t,r){return t=O4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O4e(e){var t=D4e(e,"string");return f0(t)=="symbol"?t:t+""}function D4e(e,t){if(f0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(f0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mm={widthCache:{},cacheCount:0},I4e=2e3,R4e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iM="recharts_measurement_span";function M4e(e){var t=EE({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ug=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ko.isSsr)return{width:0,height:0};var s=M4e(r),a=JSON.stringify({text:t,copyStyle:s});if(mm.widthCache[a])return mm.widthCache[a];try{var i=document.getElementById(iM);i||(i=document.createElement("span"),i.setAttribute("id",iM),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=EE(EE({},R4e),s);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return mm.widthCache[a]=c,++mm.cacheCount>I4e&&(mm.cacheCount=0,mm.widthCache={}),c}catch{return{width:0,height:0}}},F4e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function m0(e){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m0(e)}function p1(e,t){return U4e(e)||B4e(e,t)||L4e(e,t)||$4e()}function $4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L4e(e,t){if(e){if(typeof e=="string")return oM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oM(e,t)}}function oM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function B4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function U4e(e){if(Array.isArray(e))return e}function V4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lM(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,W4e(s.key),s)}}function z4e(e,t,r){return t&&lM(e.prototype,t),r&&lM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function W4e(e){var t=H4e(e,"string");return m0(t)=="symbol"?t:t+""}function H4e(e,t){if(m0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(m0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,q4e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,G4e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,DH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},K4e=Object.keys(DH),Mm="NaN";function Y4e(e,t){return e*DH[t]}var Jy=function(){function e(t,r){V4e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!q4e.test(r)&&(this.num=NaN,this.unit=""),K4e.includes(r)&&(this.num=Y4e(t,r),this.unit="px")}return z4e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var s,a=(s=G4e.exec(r))!==null&&s!==void 0?s:[],i=p1(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function IH(e){if(e.includes(Mm))return Mm;for(var t=e;t.includes("*")||t.includes("/");){var r,s=(r=cM.exec(t))!==null&&r!==void 0?r:[],a=p1(s,4),i=a[1],o=a[2],l=a[3],c=Jy.parse(i??""),d=Jy.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Mm;t=t.replace(cM,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=dM.exec(t))!==null&&f!==void 0?f:[],h=p1(m,4),x=h[1],p=h[2],g=h[3],j=Jy.parse(x??""),y=Jy.parse(g??""),w=p==="+"?j.add(y):j.subtract(y);if(w.isNaN())return Mm;t=t.replace(dM,w.toString())}return t}var uM=/\(([^()]*)\)/;function X4e(e){for(var t=e;t.includes("(");){var r=uM.exec(t),s=p1(r,2),a=s[1];t=t.replace(uM,IH(a))}return t}function Q4e(e){var t=e.replace(/\s+/g,"");return t=X4e(t),t=IH(t),t}function Z4e(e){try{return Q4e(e)}catch{return Mm}}function fS(e){var t=Z4e(e.slice(5,-1));return t===Mm?"":t}var J4e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],eEe=["dx","dy","angle","className","breakAll"];function AE(){return AE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},AE.apply(this,arguments)}function fM(e,t){if(e==null)return{};var r=tEe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function tEe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function mM(e,t){return aEe(e)||sEe(e,t)||nEe(e,t)||rEe()}function rEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nEe(e,t){if(e){if(typeof e=="string")return hM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hM(e,t)}}function hM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function sEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function aEe(e){if(Array.isArray(e))return e}var RH=/[ \f\n\r\t\v\u2028\u2029]+/,MH=function(t){var r=t.children,s=t.breakAll,a=t.style;try{var i=[];Mt(r)||(s?i=r.toString().split(""):i=r.toString().split(RH));var o=i.map(function(c){return{word:c,width:ug(c,a).width}}),l=s?0:ug("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},iEe=function(t,r,s,a,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=Xe(o),f=l,m=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(T,k){var O=k.word,M=k.width,ie=T[T.length-1];if(ie&&(a==null||i||ie.width+M+s<Number(a)))ie.words.push(O),ie.width+=M+s;else{var ce={words:[O],width:M};T.push(ce)}return T},[])},h=m(r),x=function(L){return L.reduce(function(T,k){return T.width>k.width?T:k})};if(!u)return h;for(var p="",g=function(L){var T=f.slice(0,L),k=MH({breakAll:d,style:c,children:T+p}).wordsWithComputedWidth,O=m(k),M=O.length>o||x(O).width>Number(a);return[M,O]},j=0,y=f.length-1,w=0,b;j<=y&&w<=f.length-1;){var N=Math.floor((j+y)/2),S=N-1,E=g(S),C=mM(E,2),A=C[0],P=C[1],R=g(N),I=mM(R,1),z=I[0];if(!A&&!z&&(j=N+1),A&&z&&(y=N-1),!A&&z){b=P;break}w++}return b||h},pM=function(t){var r=Mt(t)?[]:t.toString().split(RH);return[{words:r}]},oEe=function(t){var r=t.width,s=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||s)&&!Ko.isSsr){var c,d,u=MH({breakAll:o,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,m=u.spaceWidth;c=f,d=m}else return pM(a);return iEe({breakAll:o,children:a,maxLines:l,style:i},c,d,r,s)}return pM(a)},xM="#808080",Of=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,f=u===void 0?!1:u,m=t.textAnchor,h=m===void 0?"start":m,x=t.verticalAnchor,p=x===void 0?"end":x,g=t.fill,j=g===void 0?xM:g,y=fM(t,J4e),w=v.useMemo(function(){return oEe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),b=y.dx,N=y.dy,S=y.angle,E=y.className,C=y.breakAll,A=fM(y,eEe);if(!as(s)||!as(i))return null;var P=s+(Xe(b)?b:0),R=i+(Xe(N)?N:0),I;switch(p){case"start":I=fS("calc(".concat(d,")"));break;case"middle":I=fS("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:I=fS("calc(".concat(w.length-1," * -").concat(l,")"));break}var z=[];if(f){var U=w[0].width,L=y.width;z.push("scale(".concat((Xe(L)?L/U:1)/U,")"))}return S&&z.push("rotate(".concat(S,", ").concat(P,", ").concat(R,")")),z.length&&(A.transform=z.join(" ")),V.createElement("text",AE({},Nt(A,!0),{x:P,y:R,className:Bt("recharts-text",E),textAnchor:h,fill:j.includes("url")?xM:j}),w.map(function(T,k){var O=T.words.join(C?"":" ");return V.createElement("tspan",{x:P,dy:k===0?I:l,key:"".concat(O,"-").concat(k)},O)}))};function Wd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lEe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function HT(e){let t,r,s;e.length!==2?(t=Wd,r=(l,c)=>Wd(e(l),c),s=(l,c)=>e(l)-c):(t=e===Wd||e===lEe?e:cEe,r=e,s=e);function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){const f=a(l,c,d,u-1);return f>d&&s(l[f-1],c)>-s(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function cEe(){return 0}function FH(e){return e===null?NaN:+e}function*dEe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const uEe=HT(Wd),Hv=uEe.right;HT(FH).center;class gM extends Map{constructor(t,r=hEe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(vM(this,t))}has(t){return super.has(vM(this,t))}set(t,r){return super.set(fEe(this,t),r)}delete(t){return super.delete(mEe(this,t))}}function vM({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):r}function fEe({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):(e.set(s,r),r)}function mEe({_intern:e,_key:t},r){const s=t(r);return e.has(s)&&(r=e.get(s),e.delete(s)),r}function hEe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function pEe(e=Wd){if(e===Wd)return $H;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const s=e(t,r);return s||s===0?s:(e(r,r)===0)-(e(t,t)===0)}}function $H(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const xEe=Math.sqrt(50),gEe=Math.sqrt(10),vEe=Math.sqrt(2);function x1(e,t,r){const s=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=xEe?10:i>=gEe?5:i>=vEe?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?x1(e,t,r*2):[l,c,d]}function kE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const s=t<e,[a,i,o]=s?x1(t,e,r):x1(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function PE(e,t,r){return t=+t,e=+e,r=+r,x1(e,t,r)[2]}function TE(e,t,r){t=+t,e=+e,r=+r;const s=t<e,a=s?PE(t,e,r):PE(e,t,r);return(s?-1:1)*(a<0?1/-a:a)}function yM(e,t){let r;for(const s of e)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);return r}function jM(e,t){let r;for(const s of e)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);return r}function LH(e,t,r=0,s=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(e.length-1,s)),!(r<=t&&t<=s))return e;for(a=a===void 0?$H:pEe(a);s>r;){if(s-r>600){const c=s-r+1,d=t-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),h=Math.max(r,Math.floor(t-d*f/c+m)),x=Math.min(s,Math.floor(t+(c-d)*f/c+m));LH(e,t,h,x,a)}const i=e[t];let o=r,l=s;for(Cx(e,r,t),a(e[s],i)>0&&Cx(e,r,s);o<l;){for(Cx(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Cx(e,r,l):(++l,Cx(e,l,s)),l<=t&&(r=l+1),t<=l&&(s=l-1)}return e}function Cx(e,t,r){const s=e[t];e[t]=e[r],e[r]=s}function yEe(e,t,r){if(e=Float64Array.from(dEe(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return jM(e);if(t>=1)return yM(e);var s,a=(s-1)*t,i=Math.floor(a),o=yM(LH(e,i).subarray(0,i+1)),l=jM(e.subarray(i+1));return o+(l-o)*(a-i)}}function jEe(e,t,r=FH){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+r(e[0],0,e);if(t>=1)return+r(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function bEe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++s<a;)i[s]=e+s*r;return i}function bo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const OE=Symbol("implicit");function qT(){var e=new gM,t=[],r=[],s=OE;function a(i){let o=e.get(i);if(o===void 0){if(s!==OE)return s;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new gM;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return qT(t,r).unknown(s)},bo.apply(a,arguments),a}function h0(){var e=qT().unknown(void 0),t=e.domain,r=e.range,s=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var m=t().length,h=a<s,x=h?a:s,p=h?s:a;i=(p-x)/Math.max(1,m-c+d*2),l&&(i=Math.floor(i)),x+=(p-x-i*(m-c))*u,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var g=bEe(m).map(function(j){return x+i*j});return r(h?g.reverse():g)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([s,a]=m,s=+s,a=+a,f()):[s,a]},e.rangeRound=function(m){return[s,a]=m,s=+s,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(d=+m,f()):d},e.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),f()):u},e.copy=function(){return h0(t(),[s,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},bo.apply(f(),arguments)}function BH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return BH(t())},e}function fg(){return BH(h0.apply(null,arguments).paddingInner(1))}function GT(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function UH(e,t){var r=Object.create(e.prototype);for(var s in t)r[s]=t[s];return r}function qv(){}var p0=.7,g1=1/p0,rh="\\s*([+-]?\\d+)\\s*",x0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Il="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wEe=/^#([0-9a-f]{3,8})$/,NEe=new RegExp(`^rgb\\(${rh},${rh},${rh}\\)$`),_Ee=new RegExp(`^rgb\\(${Il},${Il},${Il}\\)$`),SEe=new RegExp(`^rgba\\(${rh},${rh},${rh},${x0}\\)$`),CEe=new RegExp(`^rgba\\(${Il},${Il},${Il},${x0}\\)$`),EEe=new RegExp(`^hsl\\(${x0},${Il},${Il}\\)$`),AEe=new RegExp(`^hsla\\(${x0},${Il},${Il},${x0}\\)$`),bM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};GT(qv,g0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wM,formatHex:wM,formatHex8:kEe,formatHsl:PEe,formatRgb:NM,toString:NM});function wM(){return this.rgb().formatHex()}function kEe(){return this.rgb().formatHex8()}function PEe(){return VH(this).formatHsl()}function NM(){return this.rgb().formatRgb()}function g0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=wEe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?_M(t):r===3?new Ua(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ej(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ej(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=NEe.exec(e))?new Ua(t[1],t[2],t[3],1):(t=_Ee.exec(e))?new Ua(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=SEe.exec(e))?ej(t[1],t[2],t[3],t[4]):(t=CEe.exec(e))?ej(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=EEe.exec(e))?EM(t[1],t[2]/100,t[3]/100,1):(t=AEe.exec(e))?EM(t[1],t[2]/100,t[3]/100,t[4]):bM.hasOwnProperty(e)?_M(bM[e]):e==="transparent"?new Ua(NaN,NaN,NaN,0):null}function _M(e){return new Ua(e>>16&255,e>>8&255,e&255,1)}function ej(e,t,r,s){return s<=0&&(e=t=r=NaN),new Ua(e,t,r,s)}function TEe(e){return e instanceof qv||(e=g0(e)),e?(e=e.rgb(),new Ua(e.r,e.g,e.b,e.opacity)):new Ua}function DE(e,t,r,s){return arguments.length===1?TEe(e):new Ua(e,t,r,s??1)}function Ua(e,t,r,s){this.r=+e,this.g=+t,this.b=+r,this.opacity=+s}GT(Ua,DE,UH(qv,{brighter(e){return e=e==null?g1:Math.pow(g1,e),new Ua(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?p0:Math.pow(p0,e),new Ua(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ua(df(this.r),df(this.g),df(this.b),v1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:SM,formatHex:SM,formatHex8:OEe,formatRgb:CM,toString:CM}));function SM(){return`#${Ku(this.r)}${Ku(this.g)}${Ku(this.b)}`}function OEe(){return`#${Ku(this.r)}${Ku(this.g)}${Ku(this.b)}${Ku((isNaN(this.opacity)?1:this.opacity)*255)}`}function CM(){const e=v1(this.opacity);return`${e===1?"rgb(":"rgba("}${df(this.r)}, ${df(this.g)}, ${df(this.b)}${e===1?")":`, ${e})`}`}function v1(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function df(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ku(e){return e=df(e),(e<16?"0":"")+e.toString(16)}function EM(e,t,r,s){return s<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new $o(e,t,r,s)}function VH(e){if(e instanceof $o)return new $o(e.h,e.s,e.l,e.opacity);if(e instanceof qv||(e=g0(e)),!e)return new $o;if(e instanceof $o)return e;e=e.rgb();var t=e.r/255,r=e.g/255,s=e.b/255,a=Math.min(t,r,s),i=Math.max(t,r,s),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-s)/l+(r<s)*6:r===i?o=(s-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new $o(o,l,c,e.opacity)}function DEe(e,t,r,s){return arguments.length===1?VH(e):new $o(e,t,r,s??1)}function $o(e,t,r,s){this.h=+e,this.s=+t,this.l=+r,this.opacity=+s}GT($o,DEe,UH(qv,{brighter(e){return e=e==null?g1:Math.pow(g1,e),new $o(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?p0:Math.pow(p0,e),new $o(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*t,a=2*r-s;return new Ua(mS(e>=240?e-240:e+120,a,s),mS(e,a,s),mS(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new $o(AM(this.h),tj(this.s),tj(this.l),v1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=v1(this.opacity);return`${e===1?"hsl(":"hsla("}${AM(this.h)}, ${tj(this.s)*100}%, ${tj(this.l)*100}%${e===1?")":`, ${e})`}`}}));function AM(e){return e=(e||0)%360,e<0?e+360:e}function tj(e){return Math.max(0,Math.min(1,e||0))}function mS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const KT=e=>()=>e;function IEe(e,t){return function(r){return e+r*t}}function REe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(s){return Math.pow(e+s*t,r)}}function MEe(e){return(e=+e)==1?zH:function(t,r){return r-t?REe(t,r,e):KT(isNaN(t)?r:t)}}function zH(e,t){var r=t-e;return r?IEe(e,r):KT(isNaN(e)?t:e)}const kM=function e(t){var r=MEe(t);function s(a,i){var o=r((a=DE(a)).r,(i=DE(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=zH(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return s.gamma=e,s}(1);function FEe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<r;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function $Ee(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function LEe(e,t){var r=t?t.length:0,s=e?Math.min(r,e.length):0,a=new Array(s),i=new Array(r),o;for(o=0;o<s;++o)a[o]=zp(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function BEe(e,t){var r=new Date;return e=+e,t=+t,function(s){return r.setTime(e*(1-s)+t*s),r}}function y1(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function UEe(e,t){var r={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=zp(e[a],t[a]):s[a]=t[a];return function(i){for(a in r)s[a]=r[a](i);return s}}var IE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hS=new RegExp(IE.source,"g");function VEe(e){return function(){return e}}function zEe(e){return function(t){return e(t)+""}}function WEe(e,t){var r=IE.lastIndex=hS.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=IE.exec(e))&&(a=hS.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:y1(s,a)})),r=hS.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?zEe(c[0].x):VEe(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function zp(e,t){var r=typeof t,s;return t==null||r==="boolean"?KT(t):(r==="number"?y1:r==="string"?(s=g0(t))?(t=s,kM):WEe:t instanceof g0?kM:t instanceof Date?BEe:$Ee(t)?FEe:Array.isArray(t)?LEe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?UEe:y1)(e,t)}function YT(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function HEe(e,t){t===void 0&&(t=e,e=zp);for(var r=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);r<s;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function qEe(e){return function(){return e}}function j1(e){return+e}var PM=[0,1];function ba(e){return e}function RE(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:qEe(isNaN(t)?NaN:.5)}function GEe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(s){return Math.max(e,Math.min(t,s))}}function KEe(e,t,r){var s=e[0],a=e[1],i=t[0],o=t[1];return a<s?(s=RE(a,s),i=r(o,i)):(s=RE(s,a),i=r(i,o)),function(l){return i(s(l))}}function YEe(e,t,r){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)a[o]=RE(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Hv(e,l,1,s)-1;return i[c](a[c](l))}}function Gv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function JN(){var e=PM,t=PM,r=zp,s,a,i,o=ba,l,c,d;function u(){var m=Math.min(e.length,t.length);return o!==ba&&(o=GEe(e[0],e[m-1])),l=m>2?YEe:KEe,c=d=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(s),t,r)))(s(o(m)))}return f.invert=function(m){return o(a((d||(d=l(t,e.map(s),y1)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,j1),u()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),u()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=YT,u()},f.clamp=function(m){return arguments.length?(o=m?!0:ba,u()):o!==ba},f.interpolate=function(m){return arguments.length?(r=m,u()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,h){return s=m,a=h,u()}}function XT(){return JN()(ba,ba)}function XEe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function b1(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,s=e.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+e.slice(r+1)]}function Wh(e){return e=b1(Math.abs(e)),e?e[1]:NaN}function QEe(e,t){return function(r,s){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function ZEe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var JEe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function v0(e){if(!(t=JEe.exec(e)))throw new Error("invalid format: "+e);var t;return new QT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}v0.prototype=QT.prototype;function QT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}QT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eAe(e){e:for(var t=e.length,r=1,s=-1,a;r<t;++r)switch(e[r]){case".":s=a=r;break;case"0":s===0&&(s=r),a=r;break;default:if(!+e[r])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var WH;function tAe(e,t){var r=b1(e,t);if(!r)return e+"";var s=r[0],a=r[1],i=a-(WH=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+b1(e,Math.max(0,t+i-1))[0]}function TM(e,t){var r=b1(e,t);if(!r)return e+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const OM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:XEe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>TM(e*100,t),r:TM,s:tAe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function DM(e){return e}var IM=Array.prototype.map,RM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rAe(e){var t=e.grouping===void 0||e.thousands===void 0?DM:QEe(IM.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?DM:ZEe(IM.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=v0(f);var m=f.fill,h=f.align,x=f.sign,p=f.symbol,g=f.zero,j=f.width,y=f.comma,w=f.precision,b=f.trim,N=f.type;N==="n"?(y=!0,N="g"):OM[N]||(w===void 0&&(w=12),b=!0,N="g"),(g||m==="0"&&h==="=")&&(g=!0,m="0",h="=");var S=p==="$"?r:p==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",E=p==="$"?s:/[%p]/.test(N)?o:"",C=OM[N],A=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function P(R){var I=S,z=E,U,L,T;if(N==="c")z=C(R)+z,R="";else{R=+R;var k=R<0||1/R<0;if(R=isNaN(R)?c:C(Math.abs(R),w),b&&(R=eAe(R)),k&&+R==0&&x!=="+"&&(k=!1),I=(k?x==="("?x:l:x==="-"||x==="("?"":x)+I,z=(N==="s"?RM[8+WH/3]:"")+z+(k&&x==="("?")":""),A){for(U=-1,L=R.length;++U<L;)if(T=R.charCodeAt(U),48>T||T>57){z=(T===46?a+R.slice(U+1):R.slice(U))+z,R=R.slice(0,U);break}}}y&&!g&&(R=t(R,1/0));var O=I.length+R.length+z.length,M=O<j?new Array(j-O+1).join(m):"";switch(y&&g&&(R=t(M+R,M.length?j-z.length:1/0),M=""),h){case"<":R=I+R+z+M;break;case"=":R=I+M+R+z;break;case"^":R=M.slice(0,O=M.length>>1)+I+R+z+M.slice(O);break;default:R=M+I+R+z;break}return i(R)}return P.toString=function(){return f+""},P}function u(f,m){var h=d((f=v0(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(Wh(m)/3)))*3,p=Math.pow(10,-x),g=RM[8+x/3];return function(j){return h(p*j)+g}}return{format:d,formatPrefix:u}}var rj,ZT,HH;nAe({thousands:",",grouping:[3],currency:["$",""]});function nAe(e){return rj=rAe(e),ZT=rj.format,HH=rj.formatPrefix,rj}function sAe(e){return Math.max(0,-Wh(Math.abs(e)))}function aAe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wh(t)/3)))*3-Wh(Math.abs(e)))}function iAe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wh(t)-Wh(e))+1}function qH(e,t,r,s){var a=TE(e,t,r),i;switch(s=v0(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=aAe(a,o))&&(s.precision=i),HH(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=iAe(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=sAe(a))&&(s.precision=i-(s.type==="%")*2);break}}return ZT(s)}function pu(e){var t=e.domain;return e.ticks=function(r){var s=t();return kE(s[0],s[s.length-1],r??10)},e.tickFormat=function(r,s){var a=t();return qH(a[0],a[a.length-1],r??10,s)},e.nice=function(r){r==null&&(r=10);var s=t(),a=0,i=s.length-1,o=s[a],l=s[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=PE(o,l,r),d===c)return s[a]=o,s[i]=l,t(s);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function w1(){var e=XT();return e.copy=function(){return Gv(e,w1())},bo.apply(e,arguments),pu(e)}function GH(e){var t;function r(s){return s==null||isNaN(s=+s)?t:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(e=Array.from(s,j1),r):e.slice()},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return GH(e).unknown(t)},e=arguments.length?Array.from(e,j1):[0,1],pu(r)}function KH(e,t){e=e.slice();var r=0,s=e.length-1,a=e[r],i=e[s],o;return i<a&&(o=r,r=s,s=o,o=a,a=i,i=o),e[r]=t.floor(a),e[s]=t.ceil(i),e}function MM(e){return Math.log(e)}function FM(e){return Math.exp(e)}function oAe(e){return-Math.log(-e)}function lAe(e){return-Math.exp(-e)}function cAe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dAe(e){return e===10?cAe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function uAe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $M(e){return(t,r)=>-e(-t,r)}function JT(e){const t=e(MM,FM),r=t.domain;let s=10,a,i;function o(){return a=uAe(s),i=dAe(s),r()[0]<0?(a=$M(a),i=$M(i),e(oAe,lAe)):e(MM,FM),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let m=a(d),h=a(u),x,p;const g=l==null?10:+l;let j=[];if(!(s%1)&&h-m<g){if(m=Math.floor(m),h=Math.ceil(h),d>0){for(;m<=h;++m)for(x=1;x<s;++x)if(p=m<0?x/i(-m):x*i(m),!(p<d)){if(p>u)break;j.push(p)}}else for(;m<=h;++m)for(x=s-1;x>=1;--x)if(p=m>0?x/i(-m):x*i(m),!(p<d)){if(p>u)break;j.push(p)}j.length*2<g&&(j=kE(d,u,g))}else j=kE(m,h,Math.min(h-m,g)).map(i);return f?j.reverse():j},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=v0(c)).precision==null&&(c.trim=!0),c=ZT(c)),l===1/0)return c;const d=Math.max(1,s*l/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*s<s-.5&&(f*=s),f<=d?c(u):""}},t.nice=()=>r(KH(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function YH(){const e=JT(JN()).domain([1,10]);return e.copy=()=>Gv(e,YH()).base(e.base()),bo.apply(e,arguments),e}function LM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function BM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function eO(e){var t=1,r=e(LM(t),BM(t));return r.constant=function(s){return arguments.length?e(LM(t=+s),BM(t)):t},pu(r)}function XH(){var e=eO(JN());return e.copy=function(){return Gv(e,XH()).constant(e.constant())},bo.apply(e,arguments)}function UM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function fAe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function mAe(e){return e<0?-e*e:e*e}function tO(e){var t=e(ba,ba),r=1;function s(){return r===1?e(ba,ba):r===.5?e(fAe,mAe):e(UM(r),UM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,s()):r},pu(t)}function rO(){var e=tO(JN());return e.copy=function(){return Gv(e,rO()).exponent(e.exponent())},bo.apply(e,arguments),e}function hAe(){return rO.apply(null,arguments).exponent(.5)}function VM(e){return Math.sign(e)*e*e}function pAe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function QH(){var e=XT(),t=[0,1],r=!1,s;function a(i){var o=pAe(e(i));return isNaN(o)?s:r?Math.round(o):o}return a.invert=function(i){return e.invert(VM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,j1)).map(VM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return QH(e.domain(),t).round(r).clamp(e.clamp()).unknown(s)},bo.apply(a,arguments),pu(a)}function ZH(){var e=[],t=[],r=[],s;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=jEe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:t[Hv(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Wd),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return r.slice()},i.copy=function(){return ZH().domain(e).range(t).unknown(s)},bo.apply(i,arguments)}function JH(){var e=0,t=1,r=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Hv(s,c,0,r)]:i}function l(){var c=-1;for(s=new Array(r);++c<r;)s[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,s[0]]:d>=r?[s[r-1],t]:[s[d-1],s[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return JH().domain([e,t]).range(a).unknown(i)},bo.apply(pu(o),arguments)}function eq(){var e=[.5],t=[0,1],r,s=1;function a(i){return i!=null&&i<=i?t[Hv(e,i,0,s)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return eq().domain(e).range(t).unknown(r)},bo.apply(a,arguments)}const pS=new Date,xS=new Date;function cs(e,t,r,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>cs(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(pS.setTime(+i),xS.setTime(+o),e(pS),e(xS),Math.floor(r(pS,xS))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const N1=cs(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);N1.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?cs(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):N1);N1.range;const gc=1e3,to=gc*60,vc=to*60,$c=vc*24,nO=$c*7,zM=$c*30,gS=$c*365,Yu=cs(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*gc)},(e,t)=>(t-e)/gc,e=>e.getUTCSeconds());Yu.range;const sO=cs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gc)},(e,t)=>{e.setTime(+e+t*to)},(e,t)=>(t-e)/to,e=>e.getMinutes());sO.range;const aO=cs(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*to)},(e,t)=>(t-e)/to,e=>e.getUTCMinutes());aO.range;const iO=cs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gc-e.getMinutes()*to)},(e,t)=>{e.setTime(+e+t*vc)},(e,t)=>(t-e)/vc,e=>e.getHours());iO.range;const oO=cs(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*vc)},(e,t)=>(t-e)/vc,e=>e.getUTCHours());oO.range;const Kv=cs(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*to)/$c,e=>e.getDate()-1);Kv.range;const e2=cs(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$c,e=>e.getUTCDate()-1);e2.range;const tq=cs(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$c,e=>Math.floor(e/$c));tq.range;function Xf(e){return cs(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*to)/nO)}const t2=Xf(0),_1=Xf(1),xAe=Xf(2),gAe=Xf(3),Hh=Xf(4),vAe=Xf(5),yAe=Xf(6);t2.range;_1.range;xAe.range;gAe.range;Hh.range;vAe.range;yAe.range;function Qf(e){return cs(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/nO)}const r2=Qf(0),S1=Qf(1),jAe=Qf(2),bAe=Qf(3),qh=Qf(4),wAe=Qf(5),NAe=Qf(6);r2.range;S1.range;jAe.range;bAe.range;qh.range;wAe.range;NAe.range;const lO=cs(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());lO.range;const cO=cs(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());cO.range;const Lc=cs(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Lc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cs(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Lc.range;const Bc=cs(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Bc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cs(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Bc.range;function rq(e,t,r,s,a,i){const o=[[Yu,1,gc],[Yu,5,5*gc],[Yu,15,15*gc],[Yu,30,30*gc],[i,1,to],[i,5,5*to],[i,15,15*to],[i,30,30*to],[a,1,vc],[a,3,3*vc],[a,6,6*vc],[a,12,12*vc],[s,1,$c],[s,2,2*$c],[r,1,nO],[t,1,zM],[t,3,3*zM],[e,1,gS]];function l(d,u,f){const m=u<d;m&&([d,u]=[u,d]);const h=f&&typeof f.range=="function"?f:c(d,u,f),x=h?h.range(d,+u+1):[];return m?x.reverse():x}function c(d,u,f){const m=Math.abs(u-d)/f,h=HT(([,,g])=>g).right(o,m);if(h===o.length)return e.every(TE(d/gS,u/gS,f));if(h===0)return N1.every(Math.max(TE(d,u,f),1));const[x,p]=o[m/o[h-1][2]<o[h][2]/m?h-1:h];return x.every(p)}return[l,c]}const[_Ae,SAe]=rq(Bc,cO,r2,tq,oO,aO),[CAe,EAe]=rq(Lc,lO,t2,Kv,iO,sO);function vS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ex(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function AAe(e){var t=e.dateTime,r=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Ax(a),u=kx(a),f=Ax(i),m=kx(i),h=Ax(o),x=kx(o),p=Ax(l),g=kx(l),j=Ax(c),y=kx(c),w={a:k,A:O,b:M,B:ie,c:null,d:YM,e:YM,f:QAe,g:oke,G:cke,H:KAe,I:YAe,j:XAe,L:nq,m:ZAe,M:JAe,p:ce,q:D,Q:ZM,s:JM,S:eke,u:tke,U:rke,V:nke,w:ske,W:ake,x:null,X:null,y:ike,Y:lke,Z:dke,"%":QM},b={a:W,A:F,b:q,B:le,c:null,d:XM,e:XM,f:hke,g:_ke,G:Cke,H:uke,I:fke,j:mke,L:aq,m:pke,M:xke,p:fe,q:B,Q:ZM,s:JM,S:gke,u:vke,U:yke,V:jke,w:bke,W:wke,x:null,X:null,y:Nke,Y:Ske,Z:Eke,"%":QM},N={a:P,A:R,b:I,B:z,c:U,d:GM,e:GM,f:WAe,g:qM,G:HM,H:KM,I:KM,j:BAe,L:zAe,m:LAe,M:UAe,p:A,q:$Ae,Q:qAe,s:GAe,S:VAe,u:DAe,U:IAe,V:RAe,w:OAe,W:MAe,x:L,X:T,y:qM,Y:HM,Z:FAe,"%":HAe};w.x=S(r,w),w.X=S(s,w),w.c=S(t,w),b.x=S(r,b),b.X=S(s,b),b.c=S(t,b);function S(K,se){return function(Ne){var ue=[],ge=-1,xe=0,Se=K.length,Me,Oe,te;for(Ne instanceof Date||(Ne=new Date(+Ne));++ge<Se;)K.charCodeAt(ge)===37&&(ue.push(K.slice(xe,ge)),(Oe=WM[Me=K.charAt(++ge)])!=null?Me=K.charAt(++ge):Oe=Me==="e"?" ":"0",(te=se[Me])&&(Me=te(Ne,Oe)),ue.push(Me),xe=ge+1);return ue.push(K.slice(xe,ge)),ue.join("")}}function E(K,se){return function(Ne){var ue=Ex(1900,void 0,1),ge=C(ue,K,Ne+="",0),xe,Se;if(ge!=Ne.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(se&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(xe=yS(Ex(ue.y,0,1)),Se=xe.getUTCDay(),xe=Se>4||Se===0?S1.ceil(xe):S1(xe),xe=e2.offset(xe,(ue.V-1)*7),ue.y=xe.getUTCFullYear(),ue.m=xe.getUTCMonth(),ue.d=xe.getUTCDate()+(ue.w+6)%7):(xe=vS(Ex(ue.y,0,1)),Se=xe.getDay(),xe=Se>4||Se===0?_1.ceil(xe):_1(xe),xe=Kv.offset(xe,(ue.V-1)*7),ue.y=xe.getFullYear(),ue.m=xe.getMonth(),ue.d=xe.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Se="Z"in ue?yS(Ex(ue.y,0,1)).getUTCDay():vS(Ex(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(Se+5)%7:ue.w+ue.U*7-(Se+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,yS(ue)):vS(ue)}}function C(K,se,Ne,ue){for(var ge=0,xe=se.length,Se=Ne.length,Me,Oe;ge<xe;){if(ue>=Se)return-1;if(Me=se.charCodeAt(ge++),Me===37){if(Me=se.charAt(ge++),Oe=N[Me in WM?se.charAt(ge++):Me],!Oe||(ue=Oe(K,Ne,ue))<0)return-1}else if(Me!=Ne.charCodeAt(ue++))return-1}return ue}function A(K,se,Ne){var ue=d.exec(se.slice(Ne));return ue?(K.p=u.get(ue[0].toLowerCase()),Ne+ue[0].length):-1}function P(K,se,Ne){var ue=h.exec(se.slice(Ne));return ue?(K.w=x.get(ue[0].toLowerCase()),Ne+ue[0].length):-1}function R(K,se,Ne){var ue=f.exec(se.slice(Ne));return ue?(K.w=m.get(ue[0].toLowerCase()),Ne+ue[0].length):-1}function I(K,se,Ne){var ue=j.exec(se.slice(Ne));return ue?(K.m=y.get(ue[0].toLowerCase()),Ne+ue[0].length):-1}function z(K,se,Ne){var ue=p.exec(se.slice(Ne));return ue?(K.m=g.get(ue[0].toLowerCase()),Ne+ue[0].length):-1}function U(K,se,Ne){return C(K,t,se,Ne)}function L(K,se,Ne){return C(K,r,se,Ne)}function T(K,se,Ne){return C(K,s,se,Ne)}function k(K){return o[K.getDay()]}function O(K){return i[K.getDay()]}function M(K){return c[K.getMonth()]}function ie(K){return l[K.getMonth()]}function ce(K){return a[+(K.getHours()>=12)]}function D(K){return 1+~~(K.getMonth()/3)}function W(K){return o[K.getUTCDay()]}function F(K){return i[K.getUTCDay()]}function q(K){return c[K.getUTCMonth()]}function le(K){return l[K.getUTCMonth()]}function fe(K){return a[+(K.getUTCHours()>=12)]}function B(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var se=S(K+="",w);return se.toString=function(){return K},se},parse:function(K){var se=E(K+="",!1);return se.toString=function(){return K},se},utcFormat:function(K){var se=S(K+="",b);return se.toString=function(){return K},se},utcParse:function(K){var se=E(K+="",!0);return se.toString=function(){return K},se}}}var WM={"-":"",_:" ",0:"0"},_s=/^\s*\d+/,kAe=/^%/,PAe=/[\\^$*+?|[\]().{}]/g;function vr(e,t,r){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<r?new Array(r-i+1).join(t)+a:a)}function TAe(e){return e.replace(PAe,"\\$&")}function Ax(e){return new RegExp("^(?:"+e.map(TAe).join("|")+")","i")}function kx(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function OAe(e,t,r){var s=_s.exec(t.slice(r,r+1));return s?(e.w=+s[0],r+s[0].length):-1}function DAe(e,t,r){var s=_s.exec(t.slice(r,r+1));return s?(e.u=+s[0],r+s[0].length):-1}function IAe(e,t,r){var s=_s.exec(t.slice(r,r+2));return s?(e.U=+s[0],r+s[0].length):-1}function RAe(e,t,r){var s=_s.exec(t.slice(r,r+2));return s?(e.V=+s[0],r+s[0].length):-1}function MAe(e,t,r){var s=_s.exec(t.slice(r,r+2));return s?(e.W=+s[0],r+s[0].length):-1}function HM(e,t,r){var s=_s.exec(t.slice(r,r+4));return s?(e.y=+s[0],r+s[0].length):-1}function qM(e,t,r){var s=_s.exec(t.slice(r,r+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function FAe(e,t,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function $Ae(e,t,r){var s=_s.exec(t.slice(r,r+1));return s?(e.q=s[0]*3-3,r+s[0].length):-1}function LAe(e,t,r){var s=_s.exec(t.slice(r,r+2));return s?(e.m=s[0]-1,r+s[0].length):-1}function GM(e,t,r){var s=_s.exec(t.slice(r,r+2));return s?(e.d=+s[0],r+s[0].length):-1}function BAe(e,t,r){var s=_s.exec(t.slice(r,r+3));return s?(e.m=0,e.d=+s[0],r+s[0].length):-1}function KM(e,t,r){var s=_s.exec(t.slice(r,r+2));return s?(e.H=+s[0],r+s[0].length):-1}function UAe(e,t,r){var s=_s.exec(t.slice(r,r+2));return s?(e.M=+s[0],r+s[0].length):-1}function VAe(e,t,r){var s=_s.exec(t.slice(r,r+2));return s?(e.S=+s[0],r+s[0].length):-1}function zAe(e,t,r){var s=_s.exec(t.slice(r,r+3));return s?(e.L=+s[0],r+s[0].length):-1}function WAe(e,t,r){var s=_s.exec(t.slice(r,r+6));return s?(e.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function HAe(e,t,r){var s=kAe.exec(t.slice(r,r+1));return s?r+s[0].length:-1}function qAe(e,t,r){var s=_s.exec(t.slice(r));return s?(e.Q=+s[0],r+s[0].length):-1}function GAe(e,t,r){var s=_s.exec(t.slice(r));return s?(e.s=+s[0],r+s[0].length):-1}function YM(e,t){return vr(e.getDate(),t,2)}function KAe(e,t){return vr(e.getHours(),t,2)}function YAe(e,t){return vr(e.getHours()%12||12,t,2)}function XAe(e,t){return vr(1+Kv.count(Lc(e),e),t,3)}function nq(e,t){return vr(e.getMilliseconds(),t,3)}function QAe(e,t){return nq(e,t)+"000"}function ZAe(e,t){return vr(e.getMonth()+1,t,2)}function JAe(e,t){return vr(e.getMinutes(),t,2)}function eke(e,t){return vr(e.getSeconds(),t,2)}function tke(e){var t=e.getDay();return t===0?7:t}function rke(e,t){return vr(t2.count(Lc(e)-1,e),t,2)}function sq(e){var t=e.getDay();return t>=4||t===0?Hh(e):Hh.ceil(e)}function nke(e,t){return e=sq(e),vr(Hh.count(Lc(e),e)+(Lc(e).getDay()===4),t,2)}function ske(e){return e.getDay()}function ake(e,t){return vr(_1.count(Lc(e)-1,e),t,2)}function ike(e,t){return vr(e.getFullYear()%100,t,2)}function oke(e,t){return e=sq(e),vr(e.getFullYear()%100,t,2)}function lke(e,t){return vr(e.getFullYear()%1e4,t,4)}function cke(e,t){var r=e.getDay();return e=r>=4||r===0?Hh(e):Hh.ceil(e),vr(e.getFullYear()%1e4,t,4)}function dke(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+vr(t/60|0,"0",2)+vr(t%60,"0",2)}function XM(e,t){return vr(e.getUTCDate(),t,2)}function uke(e,t){return vr(e.getUTCHours(),t,2)}function fke(e,t){return vr(e.getUTCHours()%12||12,t,2)}function mke(e,t){return vr(1+e2.count(Bc(e),e),t,3)}function aq(e,t){return vr(e.getUTCMilliseconds(),t,3)}function hke(e,t){return aq(e,t)+"000"}function pke(e,t){return vr(e.getUTCMonth()+1,t,2)}function xke(e,t){return vr(e.getUTCMinutes(),t,2)}function gke(e,t){return vr(e.getUTCSeconds(),t,2)}function vke(e){var t=e.getUTCDay();return t===0?7:t}function yke(e,t){return vr(r2.count(Bc(e)-1,e),t,2)}function iq(e){var t=e.getUTCDay();return t>=4||t===0?qh(e):qh.ceil(e)}function jke(e,t){return e=iq(e),vr(qh.count(Bc(e),e)+(Bc(e).getUTCDay()===4),t,2)}function bke(e){return e.getUTCDay()}function wke(e,t){return vr(S1.count(Bc(e)-1,e),t,2)}function Nke(e,t){return vr(e.getUTCFullYear()%100,t,2)}function _ke(e,t){return e=iq(e),vr(e.getUTCFullYear()%100,t,2)}function Ske(e,t){return vr(e.getUTCFullYear()%1e4,t,4)}function Cke(e,t){var r=e.getUTCDay();return e=r>=4||r===0?qh(e):qh.ceil(e),vr(e.getUTCFullYear()%1e4,t,4)}function Eke(){return"+0000"}function QM(){return"%"}function ZM(e){return+e}function JM(e){return Math.floor(+e/1e3)}var hm,oq,lq;Ake({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ake(e){return hm=AAe(e),oq=hm.format,hm.parse,lq=hm.utcFormat,hm.utcParse,hm}function kke(e){return new Date(e)}function Pke(e){return e instanceof Date?+e:+new Date(+e)}function dO(e,t,r,s,a,i,o,l,c,d){var u=XT(),f=u.invert,m=u.domain,h=d(".%L"),x=d(":%S"),p=d("%I:%M"),g=d("%I %p"),j=d("%a %d"),y=d("%b %d"),w=d("%B"),b=d("%Y");function N(S){return(c(S)<S?h:l(S)<S?x:o(S)<S?p:i(S)<S?g:s(S)<S?a(S)<S?j:y:r(S)<S?w:b)(S)}return u.invert=function(S){return new Date(f(S))},u.domain=function(S){return arguments.length?m(Array.from(S,Pke)):m().map(kke)},u.ticks=function(S){var E=m();return e(E[0],E[E.length-1],S??10)},u.tickFormat=function(S,E){return E==null?N:d(E)},u.nice=function(S){var E=m();return(!S||typeof S.range!="function")&&(S=t(E[0],E[E.length-1],S??10)),S?m(KH(E,S)):u},u.copy=function(){return Gv(u,dO(e,t,r,s,a,i,o,l,c,d))},u}function Tke(){return bo.apply(dO(CAe,EAe,Lc,lO,t2,Kv,iO,sO,Yu,oq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Oke(){return bo.apply(dO(_Ae,SAe,Bc,cO,r2,e2,oO,aO,Yu,lq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function n2(){var e=0,t=1,r,s,a,i,o=ba,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),s=i(t=+t),a=r===s?0:1/(s-r),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function u(f){return function(m){var h,x;return arguments.length?([h,x]=m,o=f(h,x),d):[o(0),o(1)]}}return d.range=u(zp),d.rangeRound=u(YT),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,r=f(e),s=f(t),a=r===s?0:1/(s-r),d}}function xu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function cq(){var e=pu(n2()(ba));return e.copy=function(){return xu(e,cq())},Xc.apply(e,arguments)}function dq(){var e=JT(n2()).domain([1,10]);return e.copy=function(){return xu(e,dq()).base(e.base())},Xc.apply(e,arguments)}function uq(){var e=eO(n2());return e.copy=function(){return xu(e,uq()).constant(e.constant())},Xc.apply(e,arguments)}function uO(){var e=tO(n2());return e.copy=function(){return xu(e,uO()).exponent(e.exponent())},Xc.apply(e,arguments)}function Dke(){return uO.apply(null,arguments).exponent(.5)}function fq(){var e=[],t=ba;function r(s){if(s!=null&&!isNaN(s=+s))return t((Hv(e,s,1)-1)/(e.length-1))}return r.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Wd),r},r.interpolator=function(s){return arguments.length?(t=s,r):t},r.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(a,i)=>yEe(e,i/s))},r.copy=function(){return fq(t).domain(e)},Xc.apply(r,arguments)}function s2(){var e=0,t=.5,r=1,s=1,a,i,o,l,c,d=ba,u,f=!1,m;function h(p){return isNaN(p=+p)?m:(p=.5+((p=+u(p))-i)*(s*p<s*i?l:c),d(f?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t,r]=p,a=u(e=+e),i=u(t=+t),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,h):[e,t,r]},h.clamp=function(p){return arguments.length?(f=!!p,h):f},h.interpolator=function(p){return arguments.length?(d=p,h):d};function x(p){return function(g){var j,y,w;return arguments.length?([j,y,w]=g,d=HEe(p,[j,y,w]),h):[d(0),d(.5),d(1)]}}return h.range=x(zp),h.rangeRound=x(YT),h.unknown=function(p){return arguments.length?(m=p,h):m},function(p){return u=p,a=p(e),i=p(t),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,h}}function mq(){var e=pu(s2()(ba));return e.copy=function(){return xu(e,mq())},Xc.apply(e,arguments)}function hq(){var e=JT(s2()).domain([.1,1,10]);return e.copy=function(){return xu(e,hq()).base(e.base())},Xc.apply(e,arguments)}function pq(){var e=eO(s2());return e.copy=function(){return xu(e,pq()).constant(e.constant())},Xc.apply(e,arguments)}function fO(){var e=tO(s2());return e.copy=function(){return xu(e,fO()).exponent(e.exponent())},Xc.apply(e,arguments)}function Ike(){return fO.apply(null,arguments).exponent(.5)}const eF=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:h0,scaleDiverging:mq,scaleDivergingLog:hq,scaleDivergingPow:fO,scaleDivergingSqrt:Ike,scaleDivergingSymlog:pq,scaleIdentity:GH,scaleImplicit:OE,scaleLinear:w1,scaleLog:YH,scaleOrdinal:qT,scalePoint:fg,scalePow:rO,scaleQuantile:ZH,scaleQuantize:JH,scaleRadial:QH,scaleSequential:cq,scaleSequentialLog:dq,scaleSequentialPow:uO,scaleSequentialQuantile:fq,scaleSequentialSqrt:Dke,scaleSequentialSymlog:uq,scaleSqrt:hAe,scaleSymlog:XH,scaleThreshold:eq,scaleTime:Tke,scaleUtc:Oke,tickFormat:qH},Symbol.toStringTag,{value:"Module"}));var Rke=Ip;function Mke(e,t,r){for(var s=-1,a=e.length;++s<a;){var i=e[s],o=t(i);if(o!=null&&(l===void 0?o===o&&!Rke(o):r(o,l)))var l=o,c=i}return c}var a2=Mke;function Fke(e,t){return e>t}var xq=Fke,$ke=a2,Lke=xq,Bke=Vp;function Uke(e){return e&&e.length?$ke(e,Bke,Lke):void 0}var Vke=Uke;const Ad=Cr(Vke);function zke(e,t){return e<t}var gq=zke,Wke=a2,Hke=gq,qke=Vp;function Gke(e){return e&&e.length?Wke(e,qke,Hke):void 0}var Kke=Gke;const i2=Cr(Kke);var Yke=CT,Xke=Yl,Qke=SH,Zke=ri;function Jke(e,t){var r=Zke(e)?Yke:Qke;return r(e,Xke(t))}var ePe=Jke,tPe=NH,rPe=ePe;function nPe(e,t){return tPe(rPe(e,t),1)}var sPe=nPe;const aPe=Cr(sPe);var iPe=UT;function oPe(e,t){return iPe(e,t)}var lPe=oPe;const Df=Cr(lPe);var Wp=1e9,cPe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hO,ln=!0,ho="[DecimalError] ",uf=ho+"Invalid argument: ",mO=ho+"Exponent out of range: ",Hp=Math.floor,Du=Math.pow,dPe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vi,ds=1e7,Zr=7,vq=9007199254740991,C1=Hp(vq/Zr),yt={};yt.absoluteValue=yt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};yt.comparedTo=yt.cmp=function(e){var t,r,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,r=s<a?s:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};yt.decimalPlaces=yt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Zr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};yt.dividedBy=yt.div=function(e){return _c(this,new this.constructor(e))};yt.dividedToIntegerBy=yt.idiv=function(e){var t=this,r=t.constructor;return Br(_c(t,new r(e),0,1),r.precision)};yt.equals=yt.eq=function(e){return!this.cmp(e)};yt.exponent=function(){return Wn(this)};yt.greaterThan=yt.gt=function(e){return this.cmp(e)>0};yt.greaterThanOrEqualTo=yt.gte=function(e){return this.cmp(e)>=0};yt.isInteger=yt.isint=function(){return this.e>this.d.length-2};yt.isNegative=yt.isneg=function(){return this.s<0};yt.isPositive=yt.ispos=function(){return this.s>0};yt.isZero=function(){return this.s===0};yt.lessThan=yt.lt=function(e){return this.cmp(e)<0};yt.lessThanOrEqualTo=yt.lte=function(e){return this.cmp(e)<1};yt.logarithm=yt.log=function(e){var t,r=this,s=r.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(vi))throw Error(ho+"NaN");if(r.s<1)throw Error(ho+(r.s?"NaN":"-Infinity"));return r.eq(vi)?new s(0):(ln=!1,t=_c(y0(r,i),y0(e,i),i),ln=!0,Br(t,a))};yt.minus=yt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bq(t,e):yq(t,(e.s=-e.s,e))};yt.modulo=yt.mod=function(e){var t,r=this,s=r.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(ho+"NaN");return r.s?(ln=!1,t=_c(r,e,0,1).times(e),ln=!0,r.minus(t)):Br(new s(r),a)};yt.naturalExponential=yt.exp=function(){return jq(this)};yt.naturalLogarithm=yt.ln=function(){return y0(this)};yt.negated=yt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};yt.plus=yt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yq(t,e):bq(t,(e.s=-e.s,e))};yt.precision=yt.sd=function(e){var t,r,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(uf+e);if(t=Wn(a)+1,s=a.d.length-1,r=s*Zr+1,s=a.d[s],s){for(;s%10==0;s/=10)r--;for(s=a.d[0];s>=10;s/=10)r++}return e&&t>r?t:r};yt.squareRoot=yt.sqrt=function(){var e,t,r,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ho+"NaN")}for(e=Wn(l),ln=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=kl(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Hp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=s,s=i.plus(_c(l,i,o+2)).times(.5),kl(i.d).slice(0,o)===(t=kl(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Br(i,r+1,0),i.times(i).eq(l)){s=i;break}}else if(t!="9999")break;o+=4}return ln=!0,Br(s,r)};yt.times=yt.mul=function(e){var t,r,s,a,i,o,l,c,d,u=this,f=u.constructor,m=u.d,h=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,c=m.length,d=h.length,c<d&&(i=m,m=h,h=i,o=c,c=d,d=o),i=[],o=c+d,s=o;s--;)i.push(0);for(s=d;--s>=0;){for(t=0,a=c+s;a>s;)l=i[a]+h[s]*m[a-s-1]+t,i[a--]=l%ds|0,t=l/ds|0;i[a]=(i[a]+t)%ds|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ln?Br(e,f.precision):e};yt.toDecimalPlaces=yt.todp=function(e,t){var r=this,s=r.constructor;return r=new s(r),e===void 0?r:(Vl(e,0,Wp),t===void 0?t=s.rounding:Vl(t,0,8),Br(r,e+Wn(r)+1,t))};yt.toExponential=function(e,t){var r,s=this,a=s.constructor;return e===void 0?r=If(s,!0):(Vl(e,0,Wp),t===void 0?t=a.rounding:Vl(t,0,8),s=Br(new a(s),e+1,t),r=If(s,!0,e+1)),r};yt.toFixed=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?If(a):(Vl(e,0,Wp),t===void 0?t=i.rounding:Vl(t,0,8),s=Br(new i(a),e+Wn(a)+1,t),r=If(s.abs(),!1,e+Wn(s)+1),a.isneg()&&!a.isZero()?"-"+r:r)};yt.toInteger=yt.toint=function(){var e=this,t=e.constructor;return Br(new t(e),Wn(e)+1,t.rounding)};yt.toNumber=function(){return+this};yt.toPower=yt.pow=function(e){var t,r,s,a,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(vi);if(l=new c(l),!l.s){if(e.s<1)throw Error(ho+"Infinity");return l}if(l.eq(vi))return l;if(s=c.precision,e.eq(vi))return Br(l,s);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=vq){for(a=new c(vi),t=Math.ceil(s/Zr+4),ln=!1;r%2&&(a=a.times(l),rF(a.d,t)),r=Hp(r/2),r!==0;)l=l.times(l),rF(l.d,t);return ln=!0,e.s<0?new c(vi).div(a):Br(a,s)}}else if(i<0)throw Error(ho+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ln=!1,a=e.times(y0(l,s+d)),ln=!0,a=jq(a),a.s=i,a};yt.toPrecision=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?(r=Wn(a),s=If(a,r<=i.toExpNeg||r>=i.toExpPos)):(Vl(e,1,Wp),t===void 0?t=i.rounding:Vl(t,0,8),a=Br(new i(a),e,t),r=Wn(a),s=If(a,e<=r||r<=i.toExpNeg,e)),s};yt.toSignificantDigits=yt.tosd=function(e,t){var r=this,s=r.constructor;return e===void 0?(e=s.precision,t=s.rounding):(Vl(e,1,Wp),t===void 0?t=s.rounding:Vl(t,0,8)),Br(new s(r),e,t)};yt.toString=yt.valueOf=yt.val=yt.toJSON=yt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Wn(e),r=e.constructor;return If(e,t<=r.toExpNeg||t>=r.toExpPos)};function yq(e,t){var r,s,a,i,o,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),ln?Br(t,f):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=d.length):(s=d,a=o,l=c.length),o=Math.ceil(f/Zr),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,s=d,d=c,c=s),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/ds|0,c[i]%=ds;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,ln?Br(t,f):t}function Vl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(uf+e)}function kl(e){var t,r,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)s=e[t]+"",r=Zr-s.length,r&&(i+=dd(r)),i+=s;o=e[t],s=o+"",r=Zr-s.length,r&&(i+=dd(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var _c=function(){function e(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%ds|0,o=i/ds|0;return o&&s.unshift(o),s}function t(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function r(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*ds+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,d,u,f,m,h,x,p,g,j,y,w,b,N,S,E,C,A=s.constructor,P=s.s==a.s?1:-1,R=s.d,I=a.d;if(!s.s)return new A(s);if(!a.s)throw Error(ho+"Division by zero");for(c=s.e-a.e,E=I.length,N=R.length,h=new A(P),x=h.d=[],d=0;I[d]==(R[d]||0);)++d;if(I[d]>(R[d]||0)&&--c,i==null?y=i=A.precision:o?y=i+(Wn(s)-Wn(a))+1:y=i,y<0)return new A(0);if(y=y/Zr+2|0,d=0,E==1)for(u=0,I=I[0],y++;(d<N||u)&&y--;d++)w=u*ds+(R[d]||0),x[d]=w/I|0,u=w%I|0;else{for(u=ds/(I[0]+1)|0,u>1&&(I=e(I,u),R=e(R,u),E=I.length,N=R.length),b=E,p=R.slice(0,E),g=p.length;g<E;)p[g++]=0;C=I.slice(),C.unshift(0),S=I[0],I[1]>=ds/2&&++S;do u=0,l=t(I,p,E,g),l<0?(j=p[0],E!=g&&(j=j*ds+(p[1]||0)),u=j/S|0,u>1?(u>=ds&&(u=ds-1),f=e(I,u),m=f.length,g=p.length,l=t(f,p,m,g),l==1&&(u--,r(f,E<m?C:I,m))):(u==0&&(l=u=1),f=I.slice()),m=f.length,m<g&&f.unshift(0),r(p,f,g),l==-1&&(g=p.length,l=t(I,p,E,g),l<1&&(u++,r(p,E<g?C:I,g))),g=p.length):l===0&&(u++,p=[0]),x[d++]=u,l&&p[0]?p[g++]=R[b]||0:(p=[R[b]],g=1);while((b++<N||p[0]!==void 0)&&y--)}return x[0]||x.shift(),h.e=c,Br(h,o?i+Wn(h)+1:i)}}();function jq(e,t){var r,s,a,i,o,l,c=0,d=0,u=e.constructor,f=u.precision;if(Wn(e)>16)throw Error(mO+Wn(e));if(!e.s)return new u(vi);for(t==null?(ln=!1,l=f):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(s=Math.log(Du(2,d))/Math.LN10*2+5|0,l+=s,r=a=i=new u(vi),u.precision=l;;){if(a=Br(a.times(e),l),r=r.times(++c),o=i.plus(_c(a,r,l)),kl(o.d).slice(0,l)===kl(i.d).slice(0,l)){for(;d--;)i=Br(i.times(i),l);return u.precision=f,t==null?(ln=!0,Br(i,f)):i}i=o}}function Wn(e){for(var t=e.e*Zr,r=e.d[0];r>=10;r/=10)t++;return t}function jS(e,t,r){if(t>e.LN10.sd())throw ln=!0,r&&(e.precision=r),Error(ho+"LN10 precision limit exceeded");return Br(new e(e.LN10),t)}function dd(e){for(var t="";e--;)t+="0";return t}function y0(e,t){var r,s,a,i,o,l,c,d,u,f=1,m=10,h=e,x=h.d,p=h.constructor,g=p.precision;if(h.s<1)throw Error(ho+(h.s?"NaN":"-Infinity"));if(h.eq(vi))return new p(0);if(t==null?(ln=!1,d=g):d=t,h.eq(10))return t==null&&(ln=!0),jS(p,d);if(d+=m,p.precision=d,r=kl(x),s=r.charAt(0),i=Wn(h),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&r.charAt(1)>3;)h=h.times(e),r=kl(h.d),s=r.charAt(0),f++;i=Wn(h),s>1?(h=new p("0."+r),i++):h=new p(s+"."+r.slice(1))}else return c=jS(p,d+2,g).times(i+""),h=y0(new p(s+"."+r.slice(1)),d-m).plus(c),p.precision=g,t==null?(ln=!0,Br(h,g)):h;for(l=o=h=_c(h.minus(vi),h.plus(vi),d),u=Br(h.times(h),d),a=3;;){if(o=Br(o.times(u),d),c=l.plus(_c(o,new p(a),d)),kl(c.d).slice(0,d)===kl(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(jS(p,d+2,g).times(i+""))),l=_c(l,new p(f),d),p.precision=g,t==null?(ln=!0,Br(l,g)):l;l=c,a+=2}}function tF(e,t){var r,s,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,r=r-s-1,e.e=Hp(r/Zr),e.d=[],s=(r+1)%Zr,r<0&&(s+=Zr),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=Zr;s<a;)e.d.push(+t.slice(s,s+=Zr));t=t.slice(s),s=Zr-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),ln&&(e.e>C1||e.e<-C1))throw Error(mO+r)}else e.s=0,e.e=0,e.d=[0];return e}function Br(e,t,r){var s,a,i,o,l,c,d,u,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(s=t-o,s<0)s+=Zr,a=t,d=f[u=0];else{if(u=Math.ceil((s+1)/Zr),i=f.length,u>=i)return e;for(d=i=f[u],o=1;i>=10;i/=10)o++;s%=Zr,a=s-Zr+o}if(r!==void 0&&(i=Du(10,o-a-1),l=d/i%10|0,c=t<0||f[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(s>0?a>0?d/Du(10,o-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Wn(e),f.length=1,t=t-i-1,f[0]=Du(10,(Zr-t%Zr)%Zr),e.e=Hp(-t/Zr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(s==0?(f.length=u,i=1,u--):(f.length=u+1,i=Du(10,Zr-s),f[u]=a>0?(d/Du(10,o-a)%Du(10,a)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==ds&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=ds)break;f[u--]=0,i=1}for(s=f.length;f[--s]===0;)f.pop();if(ln&&(e.e>C1||e.e<-C1))throw Error(mO+Wn(e));return e}function bq(e,t){var r,s,a,i,o,l,c,d,u,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),ln?Br(t,h):t;if(c=e.d,f=t.d,s=t.e,d=e.e,c=c.slice(),o=d-s,o){for(u=o<0,u?(r=c,o=-o,l=f.length):(r=f,s=d,l=c.length),a=Math.max(Math.ceil(h/Zr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){u=c[a]<f[a];break}o=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=ds-1;--c[i],c[a]+=ds}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,ln?Br(t,h):t):new m(0)}function If(e,t,r){var s,a=Wn(e),i=kl(e.d),o=i.length;return t?(r&&(s=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+dd(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+dd(-a-1)+i,r&&(s=r-o)>0&&(i+=dd(s))):a>=o?(i+=dd(a+1-o),r&&(s=r-a-1)>0&&(i=i+"."+dd(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),r&&(s=r-o)>0&&(a+1===o&&(i+="."),i+=dd(s))),e.s<0?"-"+i:i}function rF(e,t){if(e.length>t)return e.length=t,!0}function wq(e){var t,r,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(uf+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return tF(o,i.toString())}else if(typeof i!="string")throw Error(uf+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,dPe.test(i))tF(o,i);else throw Error(uf+i)}if(a.prototype=yt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=wq,a.config=a.set=uPe,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(r=s[t++])||(e[r]=this[r]);return a.config(e),a}function uPe(e){if(!e||typeof e!="object")throw Error(ho+"Object expected");var t,r,s,a=["precision",1,Wp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[r=a[t]])!==void 0)if(Hp(s)===s&&s>=a[t+1]&&s<=a[t+2])this[r]=s;else throw Error(uf+r+": "+s);if((s=e[r="LN10"])!==void 0)if(s==Math.LN10)this[r]=new this(s);else throw Error(uf+r+": "+s);return this}var hO=wq(cPe);vi=new hO(1);const Fr=hO;function fPe(e){return xPe(e)||pPe(e)||hPe(e)||mPe()}function mPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hPe(e,t){if(e){if(typeof e=="string")return ME(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ME(e,t)}}function pPe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xPe(e){if(Array.isArray(e))return ME(e)}function ME(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var gPe=function(t){return t},Nq={"@@functional/placeholder":!0},_q=function(t){return t===Nq},nF=function(t){return function r(){return arguments.length===0||arguments.length===1&&_q(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},vPe=function e(t,r){return t===1?r:nF(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==Nq}).length;return o>=t?r.apply(void 0,a):e(t-o,nF(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(f){return _q(f)?c.shift():f});return r.apply(void 0,fPe(u).concat(c))}))})},o2=function(t){return vPe(t.length,t)},FE=function(t,r){for(var s=[],a=t;a<r;++a)s[a-t]=a;return s},yPe=o2(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),jPe=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];if(!r.length)return gPe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},$E=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Sq=function(t){var r=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,s=t.apply(void 0,i)),s}};function bPe(e){var t;return e===0?t=1:t=Math.floor(new Fr(e).abs().log(10).toNumber())+1,t}function wPe(e,t,r){for(var s=new Fr(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(r),a++;return i}var NPe=o2(function(e,t,r){var s=+e,a=+t;return s+r*(a-s)}),_Pe=o2(function(e,t,r){var s=t-+e;return s=s||1/0,(r-e)/s}),SPe=o2(function(e,t,r){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(r-e)/s))});const l2={rangeStep:wPe,getDigitCount:bPe,interpolateNumber:NPe,uninterpolateNumber:_Pe,uninterpolateTruncation:SPe};function LE(e){return APe(e)||EPe(e)||Cq(e)||CPe()}function CPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EPe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function APe(e){if(Array.isArray(e))return BE(e)}function j0(e,t){return TPe(e)||PPe(e,t)||Cq(e,t)||kPe()}function kPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cq(e,t){if(e){if(typeof e=="string")return BE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BE(e,t)}}function BE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function PPe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],s=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));s=!0);}catch(c){a=!0,i=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function TPe(e){if(Array.isArray(e))return e}function Eq(e){var t=j0(e,2),r=t[0],s=t[1],a=r,i=s;return r>s&&(a=s,i=r),[a,i]}function Aq(e,t,r){if(e.lte(0))return new Fr(0);var s=l2.getDigitCount(e.toNumber()),a=new Fr(10).pow(s),i=e.div(a),o=s!==1?.05:.1,l=new Fr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Fr(Math.ceil(c))}function OPe(e,t,r){var s=1,a=new Fr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(s=new Fr(10).pow(l2.getDigitCount(e)-1),a=new Fr(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new Fr(Math.floor(e)))}else e===0?a=new Fr(Math.floor((t-1)/2)):r||(a=new Fr(Math.floor(e)));var o=Math.floor((t-1)/2),l=jPe(yPe(function(c){return a.add(new Fr(c-o).mul(s)).toNumber()}),FE);return l(0,t)}function kq(e,t,r,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Fr(0),tickMin:new Fr(0),tickMax:new Fr(0)};var i=Aq(new Fr(t).sub(e).div(r-1),s,a),o;e<=0&&t>=0?o=new Fr(0):(o=new Fr(e).add(t).div(2),o=o.sub(new Fr(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Fr(t).sub(o).div(i).toNumber()),d=l+c+1;return d>r?kq(e,t,r,s,a+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:i,tickMin:o.sub(new Fr(l).mul(i)),tickMax:o.add(new Fr(c).mul(i))})}function DPe(e){var t=j0(e,2),r=t[0],s=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=Eq([r,s]),c=j0(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var f=u===1/0?[d].concat(LE(FE(0,a-1).map(function(){return 1/0}))):[].concat(LE(FE(0,a-1).map(function(){return-1/0})),[u]);return r>s?$E(f):f}if(d===u)return OPe(d,a,i);var m=kq(d,u,o,i),h=m.step,x=m.tickMin,p=m.tickMax,g=l2.rangeStep(x,p.add(new Fr(.1).mul(h)),h);return r>s?$E(g):g}function IPe(e,t){var r=j0(e,2),s=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Eq([s,a]),l=j0(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[s,a];if(c===d)return[c];var u=Math.max(t,2),f=Aq(new Fr(d).sub(c).div(u-1),i,0),m=[].concat(LE(l2.rangeStep(new Fr(c),new Fr(d).sub(new Fr(.99).mul(f)),f)),[d]);return s>a?$E(m):m}var RPe=Sq(DPe),MPe=Sq(IPe),FPe="Invariant failed";function nu(e,t){throw new Error(FPe)}var $Pe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function E1(){return E1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},E1.apply(this,arguments)}function LPe(e,t){return zPe(e)||VPe(e,t)||UPe(e,t)||BPe()}function BPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UPe(e,t){if(e){if(typeof e=="string")return sF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sF(e,t)}}function sF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function VPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function zPe(e){if(Array.isArray(e))return e}function WPe(e,t){if(e==null)return{};var r=HPe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function HPe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function qPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GPe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Oq(s.key),s)}}function KPe(e,t,r){return t&&GPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YPe(e,t,r){return t=A1(t),XPe(e,Pq()?Reflect.construct(t,r||[],A1(e).constructor):t.apply(e,r))}function XPe(e,t){if(t&&(Gh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QPe(e)}function QPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pq=function(){return!!e})()}function A1(e){return A1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A1(e)}function ZPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UE(e,t)}function UE(e,t){return UE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},UE(e,t)}function Tq(e,t,r){return t=Oq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oq(e){var t=JPe(e,"string");return Gh(t)=="symbol"?t:t+""}function JPe(e,t){if(Gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Gh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yv=function(e){function t(){return qPe(this,t),YPe(this,t,arguments)}return ZPe(t,e),KPe(t,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,c=s.data,d=s.dataPointFormatter,u=s.xAxis,f=s.yAxis,m=WPe(s,$Pe),h=Nt(m,!1);this.props.direction==="x"&&u.type!=="number"&&nu();var x=c.map(function(p){var g=d(p,l),j=g.x,y=g.y,w=g.value,b=g.errorVal;if(!b)return null;var N=[],S,E;if(Array.isArray(b)){var C=LPe(b,2);S=C[0],E=C[1]}else S=E=b;if(i==="vertical"){var A=u.scale,P=y+a,R=P+o,I=P-o,z=A(w-S),U=A(w+E);N.push({x1:U,y1:R,x2:U,y2:I}),N.push({x1:z,y1:P,x2:U,y2:P}),N.push({x1:z,y1:R,x2:z,y2:I})}else if(i==="horizontal"){var L=f.scale,T=j+a,k=T-o,O=T+o,M=L(w-S),ie=L(w+E);N.push({x1:k,y1:ie,x2:O,y2:ie}),N.push({x1:T,y1:M,x2:T,y2:ie}),N.push({x1:k,y1:M,x2:O,y2:M})}return V.createElement(er,E1({className:"recharts-errorBar",key:"bar-".concat(N.map(function(ce){return"".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))},h),N.map(function(ce){return V.createElement("line",E1({},ce,{key:"line-".concat(ce.x1,"-").concat(ce.x2,"-").concat(ce.y1,"-").concat(ce.y2)}))}))});return V.createElement(er,{className:"recharts-errorBars"},x)}}])}(V.Component);Tq(Yv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Tq(Yv,"displayName","ErrorBar");function b0(e){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b0(e)}function aF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function _u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aF(Object(r),!0).forEach(function(s){eTe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function eTe(e,t,r){return t=tTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tTe(e){var t=rTe(e,"string");return b0(t)=="symbol"?t:t+""}function rTe(e,t){if(b0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(b0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dq=function(t){var r=t.children,s=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=mi(r,Go);if(!o)return null;var l=Go.defaultProps,c=l!==void 0?_u(_u({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(s||[]).reduce(function(u,f){var m=f.item,h=f.props,x=h.sectors||h.data||[];return u.concat(x.map(function(p){return{type:o.props.iconType||m.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):d=(s||[]).map(function(u){var f=u.item,m=f.type.defaultProps,h=m!==void 0?_u(_u({},m),f.props):{},x=h.dataKey,p=h.name,g=h.legendType,j=h.hide;return{inactive:j,dataKey:x,type:c.iconType||g||"square",color:pO(f),value:p||x,payload:h}}),_u(_u(_u({},c),Go.getWithHeight(o,a)),{},{payload:d,item:o})};function w0(e){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w0(e)}function iF(e){return iTe(e)||aTe(e)||sTe(e)||nTe()}function nTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sTe(e,t){if(e){if(typeof e=="string")return VE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VE(e,t)}}function aTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iTe(e){if(Array.isArray(e))return VE(e)}function VE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function oF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oF(Object(r),!0).forEach(function(s){nh(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function nh(e,t,r){return t=oTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oTe(e){var t=lTe(e,"string");return w0(t)=="symbol"?t:t+""}function lTe(e,t){if(w0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(w0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rn(e,t,r){return Mt(e)||Mt(t)?r:as(t)?Ni(e,t,r):Pt(t)?t(e):r}function mg(e,t,r,s){var a=aPe(e,function(l){return Rn(l,t)});if(r==="number"){var i=a.filter(function(l){return Xe(l)||parseFloat(l)});return i.length?[i2(i),Ad(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!Mt(l)}):a;return o.map(function(l){return as(l)||l instanceof Date?l:""})}var cTe=function(t){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=s==null?void 0:s.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,f=a[d].coordinate,m=d>=l-1?a[0].coordinate:a[d+1].coordinate,h=void 0;if(ya(f-u)!==ya(m-f)){var x=[];if(ya(m-f)===ya(c[1]-c[0])){h=m;var p=f+c[1]-c[0];x[0]=Math.min(p,(p+u)/2),x[1]=Math.max(p,(p+u)/2)}else{h=u;var g=m+c[1]-c[0];x[0]=Math.min(f,(g+f)/2),x[1]=Math.max(f,(g+f)/2)}var j=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>j[0]&&t<=j[1]||t>=x[0]&&t<=x[1]){o=a[d].index;break}}else{var y=Math.min(u,m),w=Math.max(u,m);if(t>(y+f)/2&&t<=(w+f)/2){o=a[d].index;break}}}else for(var b=0;b<l;b++)if(b===0&&t<=(s[b].coordinate+s[b+1].coordinate)/2||b>0&&b<l-1&&t>(s[b].coordinate+s[b-1].coordinate)/2&&t<=(s[b].coordinate+s[b+1].coordinate)/2||b===l-1&&t>(s[b].coordinate+s[b-1].coordinate)/2){o=s[b].index;break}return o},pO=function(t){var r,s=t,a=s.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Nn(Nn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},dTe=function(t){var r=t.barSize,s=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,f=Object.keys(u),m=0,h=f.length;m<h;m++){var x=u[f[m]],p=x.items,g=x.cateAxisId,j=p.filter(function(E){return Nc(E.type).indexOf("Bar")>=0});if(j&&j.length){var y=j[0].type.defaultProps,w=y!==void 0?Nn(Nn({},y),j[0].props):j[0].props,b=w.barSize,N=w[g];o[N]||(o[N]=[]);var S=Mt(b)?r:b;o[N].push({item:j[0],stackList:j.slice(1),barSize:Mt(S)?void 0:ja(S,s,0)})}}return o},uTe=function(t){var r=t.barGap,s=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=ja(r,a,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,h=a/c,x=o.reduce(function(b,N){return b+N.barSize||0},0);x+=(c-1)*d,x>=a&&(x-=(c-1)*d,d=0),x>=a&&h>0&&(m=!0,h*=.9,x=c*h);var p=(a-x)/2>>0,g={offset:p-d,size:0};u=o.reduce(function(b,N){var S={item:N.item,position:{offset:g.offset+g.size+d,size:m?h:N.barSize}},E=[].concat(iF(b),[S]);return g=E[E.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){E.push({item:C,position:g})}),E},f)}else{var j=ja(s,a,0,!0);a-2*j-(c-1)*d<=0&&(d=0);var y=(a-2*j-(c-1)*d)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;u=o.reduce(function(b,N,S){var E=[].concat(iF(b),[{item:N.item,position:{offset:j+(y+d)*S+(y-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){E.push({item:C,position:E[E.length-1].position})}),E},f)}return u},fTe=function(t,r,s,a){var i=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),d=Dq({children:i,legendWidth:c});if(d){var u=a||{},f=u.width,m=u.height,h=d.align,x=d.verticalAlign,p=d.layout;if((p==="vertical"||p==="horizontal"&&x==="middle")&&h!=="center"&&Xe(t[h]))return Nn(Nn({},t),{},nh({},h,t[h]+(f||0)));if((p==="horizontal"||p==="vertical"&&h==="center")&&x!=="middle"&&Xe(t[x]))return Nn(Nn({},t),{},nh({},x,t[x]+(m||0)))}return t},mTe=function(t,r,s){return Mt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||s==="x"?r==="xAxis":s==="y"?r==="yAxis":!0},Iq=function(t,r,s,a,i){var o=r.props.children,l=_i(o,Yv).filter(function(d){return mTe(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var f=Rn(u,s);if(Mt(f))return d;var m=Array.isArray(f)?[i2(f),Ad(f)]:[f,f],h=c.reduce(function(x,p){var g=Rn(u,p,0),j=m[0]-Math.abs(Array.isArray(g)?g[0]:g),y=m[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(j,x[0]),Math.max(y,x[1])]},[1/0,-1/0]);return[Math.min(h[0],d[0]),Math.max(h[1],d[1])]},[1/0,-1/0])}return null},hTe=function(t,r,s,a,i){var o=r.map(function(l){return Iq(t,l,s,i,a)}).filter(function(l){return!Mt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Rq=function(t,r,s,a,i){var o=r.map(function(c){var d=c.props.dataKey;return s==="number"&&d&&Iq(t,c,d,a)||mg(t,d,s,i)});if(s==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,f=d.length;u<f;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},Mq=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Fq=function(t,r,s,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===s&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(s),l},yc=function(t,r,s){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||s)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ya(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var m=i?i.indexOf(f):f;return{coordinate:a(m)+d,value:f,offset:d}});return u.filter(function(f){return!Lp(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:a(f)+d,value:f,index:m,offset:d}}):a.ticks&&!s?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+d,value:f,offset:d}}):a.domain().map(function(f,m){return{coordinate:a(f)+d,value:i?i[f]:f,index:m,offset:d}})},bS=new WeakMap,nj=function(t,r){if(typeof r!="function")return t;bS.has(t)||bS.set(t,new WeakMap);var s=bS.get(t);if(s.has(r))return s.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return s.set(r,a),a},$q=function(t,r,s){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:h0(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:w1(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!s)?{scale:fg(),realScaleType:"point"}:i==="category"?{scale:h0(),realScaleType:"band"}:{scale:w1(),realScaleType:"linear"};if(zv(a)){var c="scale".concat(qN(a));return{scale:(eF[c]||fg)(),realScaleType:eF[c]?c:"point"}}return Pt(a)?{scale:a}:{scale:fg(),realScaleType:"point"}},lF=1e-4,Lq=function(t){var r=t.domain();if(!(!r||r.length<=2)){var s=r.length,a=t.range(),i=Math.min(a[0],a[1])-lF,o=Math.max(a[0],a[1])+lF,l=t(r[0]),c=t(r[s-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[s-1]])}},pTe=function(t,r){if(!t)return null;for(var s=0,a=t.length;s<a;s++)if(t[s].item===r)return t[s].position;return null},xTe=function(t,r){if(!r||r.length!==2||!Xe(r[0])||!Xe(r[1]))return t;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Xe(t[0])||t[0]<s)&&(i[0]=s),(!Xe(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},gTe=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0,l=0;l<r;++l){var c=Lp(t[l][s][1])?t[l][s][0]:t[l][s][1];c>=0?(t[l][s][0]=i,t[l][s][1]=i+c,i=t[l][s][1]):(t[l][s][0]=o,t[l][s][1]=o+c,o=t[l][s][1])}},vTe=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0;o<r;++o){var l=Lp(t[o][s][1])?t[o][s][0]:t[o][s][1];l>=0?(t[o][s][0]=i,t[o][s][1]=i+l,i=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},yTe={sign:gTe,expand:$je,none:Lh,silhouette:Lje,wiggle:Bje,positive:vTe},jTe=function(t,r,s){var a=r.map(function(l){return l.props.dataKey}),i=yTe[s],o=Fje().keys(a).value(function(l,c){return+Rn(l,c,0)}).order(mE).offset(i);return o(t)},bTe=function(t,r,s,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(f,m){var h,x=(h=m.type)!==null&&h!==void 0&&h.defaultProps?Nn(Nn({},m.type.defaultProps),m.props):m.props,p=x.stackId,g=x.hide;if(g)return f;var j=x[s],y=f[j]||{hasStack:!1,stackGroups:{}};if(as(p)){var w=y.stackGroups[p]||{numericAxisId:s,cateAxisId:a,items:[]};w.items.push(m),y.hasStack=!0,y.stackGroups[p]=w}else y.stackGroups[Yf("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[m]};return Nn(Nn({},f),{},nh({},j,y))},c),u={};return Object.keys(d).reduce(function(f,m){var h=d[m];if(h.hasStack){var x={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(p,g){var j=h.stackGroups[g];return Nn(Nn({},p),{},nh({},g,{numericAxisId:s,cateAxisId:a,items:j.items,stackedData:jTe(t,j.items,i)}))},x)}return Nn(Nn({},f),{},nh({},m,h))},u)},Bq=function(t,r){var s=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=s||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=RPe(d,i,l);return t.domain([i2(u),Ad(u)]),{niceTicks:u}}if(i&&a==="number"){var f=t.domain(),m=MPe(f,i,l);return{niceTicks:m}}return null};function k1(e){var t=e.axis,r=e.ticks,s=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Mt(a[t.dataKey])){var l=t1(r,"value",a[t.dataKey]);if(l)return l.coordinate+s/2}return r[i]?r[i].coordinate+s/2:null}var c=Rn(a,Mt(o)?t.dataKey:o);return Mt(c)?null:t.scale(c)}var cF=function(t){var r=t.axis,s=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return s[l]?s[l].coordinate+a:null;var c=Rn(o,r.dataKey,r.domain[l]);return Mt(c)?null:r.scale(c)-i/2+a},wTe=function(t){var r=t.numericAxis,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},NTe=function(t,r){var s,a=(s=t.type)!==null&&s!==void 0&&s.defaultProps?Nn(Nn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(as(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},_Te=function(t){return t.reduce(function(r,s){return[i2(s.concat([r[0]]).filter(Xe)),Ad(s.concat([r[1]]).filter(Xe))]},[1/0,-1/0])},Uq=function(t,r,s){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,u){var f=_Te(u.slice(r,s+1));return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},dF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zE=function(t,r,s){if(Pt(t))return t(r,s);if(!Array.isArray(t))return r;var a=[];if(Xe(t[0]))a[0]=s?t[0]:Math.min(t[0],r[0]);else if(dF.test(t[0])){var i=+dF.exec(t[0])[1];a[0]=r[0]-i}else Pt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Xe(t[1]))a[1]=s?t[1]:Math.max(t[1],r[1]);else if(uF.test(t[1])){var o=+uF.exec(t[1])[1];a[1]=r[1]+o}else Pt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},P1=function(t,r,s){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!s||a>0)return a}if(t&&r&&r.length>=2){for(var i=zT(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},fF=function(t,r,s){return!t||!t.length||Df(t,Ni(s,"type.defaultProps.domain"))?r:t},Vq=function(t,r){var s=t.type.defaultProps?Nn(Nn({},t.type.defaultProps),t.props):t.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,d=s.chartType,u=s.hide;return Nn(Nn({},Nt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:pO(t),value:Rn(r,a),type:c,payload:r,chartType:d,hide:u})};function N0(e){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N0(e)}function mF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mF(Object(r),!0).forEach(function(s){zq(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function zq(e,t,r){return t=STe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function STe(e){var t=CTe(e,"string");return N0(t)=="symbol"?t:t+""}function CTe(e,t){if(N0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(N0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ETe(e,t){return TTe(e)||PTe(e,t)||kTe(e,t)||ATe()}function ATe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kTe(e,t){if(e){if(typeof e=="string")return hF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hF(e,t)}}function hF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function PTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function TTe(e){if(Array.isArray(e))return e}var T1=Math.PI/180,OTe=function(t){return t*180/Math.PI},Wr=function(t,r,s,a){return{x:t+Math.cos(-T1*a)*s,y:r+Math.sin(-T1*a)*s}},Wq=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(r-(s.top||0)-(s.bottom||0)))/2},DTe=function(t,r,s,a,i){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=ja(t.cx,o,o/2),f=ja(t.cy,l,l/2),m=Wq(o,l,s),h=ja(t.innerRadius,m,0),x=ja(t.outerRadius,m,m*.8),p=Object.keys(r);return p.reduce(function(g,j){var y=r[j],w=y.domain,b=y.reversed,N;if(Mt(y.range))a==="angleAxis"?N=[c,d]:a==="radiusAxis"&&(N=[h,x]),b&&(N=[N[1],N[0]]);else{N=y.range;var S=N,E=ETe(S,2);c=E[0],d=E[1]}var C=$q(y,i),A=C.realScaleType,P=C.scale;P.domain(w).range(N),Lq(P);var R=Bq(P,oc(oc({},y),{},{realScaleType:A})),I=oc(oc(oc({},y),R),{},{range:N,radius:x,realScaleType:A,scale:P,cx:u,cy:f,innerRadius:h,outerRadius:x,startAngle:c,endAngle:d});return oc(oc({},g),{},zq({},j,I))},{})},ITe=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},RTe=function(t,r){var s=t.x,a=t.y,i=r.cx,o=r.cy,l=ITe({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(s-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:OTe(d),angleInRadian:d}},MTe=function(t){var r=t.startAngle,s=t.endAngle,a=Math.floor(r/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:s-o*360}},FTe=function(t,r){var s=r.startAngle,a=r.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},pF=function(t,r){var s=t.x,a=t.y,i=RTe({x:s,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=MTe(r),f=u.startAngle,m=u.endAngle,h=l,x;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;x=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;x=h>=m&&h<=f}return x?oc(oc({},r),{},{radius:o,angle:FTe(h,r)}):null},Hq=function(t){return!v.isValidElement(t)&&!Pt(t)&&typeof t!="boolean"?t.className:""};function _0(e){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_0(e)}var $Te=["offset"];function LTe(e){return zTe(e)||VTe(e)||UTe(e)||BTe()}function BTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UTe(e,t){if(e){if(typeof e=="string")return WE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WE(e,t)}}function VTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zTe(e){if(Array.isArray(e))return WE(e)}function WE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function WTe(e,t){if(e==null)return{};var r=HTe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function HTe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function xF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xF(Object(r),!0).forEach(function(s){qTe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function qTe(e,t,r){return t=GTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GTe(e){var t=KTe(e,"string");return _0(t)=="symbol"?t:t+""}function KTe(e,t){if(_0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(_0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},S0.apply(this,arguments)}var YTe=function(t){var r=t.value,s=t.formatter,a=Mt(t.children)?r:t.children;return Pt(s)?s(a):a},XTe=function(t,r){var s=ya(r-t),a=Math.min(Math.abs(r-t),360);return s*a},QTe=function(t,r,s){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,u=c.cy,f=c.innerRadius,m=c.outerRadius,h=c.startAngle,x=c.endAngle,p=c.clockWise,g=(f+m)/2,j=XTe(h,x),y=j>=0?1:-1,w,b;a==="insideStart"?(w=h+y*o,b=p):a==="insideEnd"?(w=x-y*o,b=!p):a==="end"&&(w=x+y*o,b=p),b=j<=0?b:!b;var N=Wr(d,u,g,w),S=Wr(d,u,g,w+(b?1:-1)*359),E="M".concat(N.x,",").concat(N.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),C=Mt(t.id)?Yf("recharts-radial-line-"):t.id;return V.createElement("text",S0({},s,{dominantBaseline:"central",className:Bt("recharts-radial-bar-label",l)}),V.createElement("defs",null,V.createElement("path",{id:C,d:E})),V.createElement("textPath",{xlinkHref:"#".concat(C)},r))},ZTe=function(t){var r=t.viewBox,s=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,f=i.endAngle,m=(u+f)/2;if(a==="outside"){var h=Wr(o,l,d+s,m),x=h.x,p=h.y;return{x,y:p,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+d)/2,j=Wr(o,l,g,m),y=j.x,w=j.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},JTe=function(t){var r=t.viewBox,s=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,f=u>=0?1:-1,m=f*a,h=f>0?"end":"start",x=f>0?"start":"end",p=d>=0?1:-1,g=p*a,j=p>0?"end":"start",y=p>0?"start":"end";if(i==="top"){var w={x:l+d/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return Yn(Yn({},w),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var b={x:l+d/2,y:c+u+m,textAnchor:"middle",verticalAnchor:x};return Yn(Yn({},b),s?{height:Math.max(s.y+s.height-(c+u),0),width:d}:{})}if(i==="left"){var N={x:l-g,y:c+u/2,textAnchor:j,verticalAnchor:"middle"};return Yn(Yn({},N),s?{width:Math.max(N.x-s.x,0),height:u}:{})}if(i==="right"){var S={x:l+d+g,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return Yn(Yn({},S),s?{width:Math.max(s.x+s.width-S.x,0),height:u}:{})}var E=s?{width:d,height:u}:{};return i==="insideLeft"?Yn({x:l+g,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},E):i==="insideRight"?Yn({x:l+d-g,y:c+u/2,textAnchor:j,verticalAnchor:"middle"},E):i==="insideTop"?Yn({x:l+d/2,y:c+m,textAnchor:"middle",verticalAnchor:x},E):i==="insideBottom"?Yn({x:l+d/2,y:c+u-m,textAnchor:"middle",verticalAnchor:h},E):i==="insideTopLeft"?Yn({x:l+g,y:c+m,textAnchor:y,verticalAnchor:x},E):i==="insideTopRight"?Yn({x:l+d-g,y:c+m,textAnchor:j,verticalAnchor:x},E):i==="insideBottomLeft"?Yn({x:l+g,y:c+u-m,textAnchor:y,verticalAnchor:h},E):i==="insideBottomRight"?Yn({x:l+d-g,y:c+u-m,textAnchor:j,verticalAnchor:h},E):Rp(i)&&(Xe(i.x)||Gu(i.x))&&(Xe(i.y)||Gu(i.y))?Yn({x:l+ja(i.x,d),y:c+ja(i.y,u),textAnchor:"end",verticalAnchor:"end"},E):Yn({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},eOe=function(t){return"cx"in t&&Xe(t.cx)};function fs(e){var t=e.offset,r=t===void 0?5:t,s=WTe(e,$Te),a=Yn({offset:r},s),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,f=u===void 0?"":u,m=a.textBreakAll;if(!i||Mt(l)&&Mt(c)&&!v.isValidElement(d)&&!Pt(d))return null;if(v.isValidElement(d))return v.cloneElement(d,a);var h;if(Pt(d)){if(h=v.createElement(d,a),v.isValidElement(h))return h}else h=YTe(a);var x=eOe(i),p=Nt(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return QTe(a,h,p);var g=x?ZTe(a):JTe(a);return V.createElement(Of,S0({className:Bt("recharts-label",f)},p,g,{breakAll:m}),h)}fs.displayName="Label";var qq=function(t){var r=t.cx,s=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,f=t.x,m=t.y,h=t.top,x=t.left,p=t.width,g=t.height,j=t.clockWise,y=t.labelViewBox;if(y)return y;if(Xe(p)&&Xe(g)){if(Xe(f)&&Xe(m))return{x:f,y:m,width:p,height:g};if(Xe(h)&&Xe(x))return{x:h,y:x,width:p,height:g}}return Xe(f)&&Xe(m)?{x:f,y:m,width:0,height:0}:Xe(r)&&Xe(s)?{cx:r,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:j}:t.viewBox?t.viewBox:{}},tOe=function(t,r){return t?t===!0?V.createElement(fs,{key:"label-implicit",viewBox:r}):as(t)?V.createElement(fs,{key:"label-implicit",viewBox:r,value:t}):v.isValidElement(t)?t.type===fs?v.cloneElement(t,{key:"label-implicit",viewBox:r}):V.createElement(fs,{key:"label-implicit",content:t,viewBox:r}):Pt(t)?V.createElement(fs,{key:"label-implicit",content:t,viewBox:r}):Rp(t)?V.createElement(fs,S0({viewBox:r},t,{key:"label-implicit"})):null:null},rOe=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var a=t.children,i=qq(t),o=_i(a,fs).map(function(c,d){return v.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!s)return o;var l=tOe(t.label,r||i);return[l].concat(LTe(o))};fs.parseViewBox=qq;fs.renderCallByParent=rOe;function nOe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var sOe=nOe;const aOe=Cr(sOe);function C0(e){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C0(e)}var iOe=["valueAccessor"],oOe=["data","dataKey","clockWise","id","textBreakAll"];function lOe(e){return fOe(e)||uOe(e)||dOe(e)||cOe()}function cOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dOe(e,t){if(e){if(typeof e=="string")return HE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HE(e,t)}}function uOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fOe(e){if(Array.isArray(e))return HE(e)}function HE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},O1.apply(this,arguments)}function gF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function vF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gF(Object(r),!0).forEach(function(s){mOe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function mOe(e,t,r){return t=hOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hOe(e){var t=pOe(e,"string");return C0(t)=="symbol"?t:t+""}function pOe(e,t){if(C0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(C0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yF(e,t){if(e==null)return{};var r=xOe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function xOe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var gOe=function(t){return Array.isArray(t.value)?aOe(t.value):t.value};function Rl(e){var t=e.valueAccessor,r=t===void 0?gOe:t,s=yF(e,iOe),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,d=yF(s,oOe);return!a||!a.length?null:V.createElement(er,{className:"recharts-label-list"},a.map(function(u,f){var m=Mt(i)?r(u,f):Rn(u&&u.payload,i),h=Mt(l)?{}:{id:"".concat(l,"-").concat(f)};return V.createElement(fs,O1({},Nt(u,!0),d,h,{parentViewBox:u.parentViewBox,value:m,textBreakAll:c,viewBox:fs.parseViewBox(Mt(o)?u:vF(vF({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Rl.displayName="LabelList";function vOe(e,t){return e?e===!0?V.createElement(Rl,{key:"labelList-implicit",data:t}):V.isValidElement(e)||Pt(e)?V.createElement(Rl,{key:"labelList-implicit",data:t,content:e}):Rp(e)?V.createElement(Rl,O1({data:t},e,{key:"labelList-implicit"})):null:null}function yOe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var s=e.children,a=_i(s,Rl).map(function(o,l){return v.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=vOe(e.label,t);return[i].concat(lOe(a))}Rl.renderCallByParent=yOe;function E0(e){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E0(e)}function qE(){return qE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},qE.apply(this,arguments)}function jF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function bF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jF(Object(r),!0).forEach(function(s){jOe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function jOe(e,t,r){return t=bOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bOe(e){var t=wOe(e,"string");return E0(t)=="symbol"?t:t+""}function wOe(e,t){if(E0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(E0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NOe=function(t,r){var s=ya(r-t),a=Math.min(Math.abs(r-t),359.999);return s*a},sj=function(t){var r=t.cx,s=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+a,f=Math.asin(c/u)/T1,m=d?i:i+o*f,h=Wr(r,s,u,m),x=Wr(r,s,a,m),p=d?i-o*f:i,g=Wr(r,s,u*Math.cos(f*T1),p);return{center:h,circleTangency:x,lineTangency:g,theta:f}},Gq=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=NOe(o,l),d=o+c,u=Wr(r,s,i,o),f=Wr(r,s,i,d),m="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=Wr(r,s,a,o),x=Wr(r,s,a,d);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(r,",").concat(s," Z");return m},_Oe=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,f=ya(u-d),m=sj({cx:r,cy:s,radius:i,angle:d,sign:f,cornerRadius:o,cornerIsExternal:c}),h=m.circleTangency,x=m.lineTangency,p=m.theta,g=sj({cx:r,cy:s,radius:i,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:c}),j=g.circleTangency,y=g.lineTangency,w=g.theta,b=c?Math.abs(d-u):Math.abs(d-u)-p-w;if(b<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Gq({cx:r,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var N="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var S=sj({cx:r,cy:s,radius:a,angle:d,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=S.circleTangency,C=S.lineTangency,A=S.theta,P=sj({cx:r,cy:s,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),R=P.circleTangency,I=P.lineTangency,z=P.theta,U=c?Math.abs(d-u):Math.abs(d-u)-A-z;if(U<0&&o===0)return"".concat(N,"L").concat(r,",").concat(s,"Z");N+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else N+="L".concat(r,",").concat(s,"Z");return N},SOe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Kq=function(t){var r=bF(bF({},SOe),t),s=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,m=r.className;if(o<i||u===f)return null;var h=Bt("recharts-sector",m),x=o-i,p=ja(l,x,0,!0),g;return p>0&&Math.abs(u-f)<360?g=_Oe({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:f}):g=Gq({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:f}),V.createElement("path",qE({},Nt(r,!0),{className:h,d:g,role:"img"}))};function A0(e){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A0(e)}function GE(){return GE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},GE.apply(this,arguments)}function wF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function NF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wF(Object(r),!0).forEach(function(s){COe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function COe(e,t,r){return t=EOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EOe(e){var t=AOe(e,"string");return A0(t)=="symbol"?t:t+""}function AOe(e,t){if(A0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(A0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _F={curveBasisClosed:Cje,curveBasisOpen:Eje,curveBasis:Sje,curveBumpX:uje,curveBumpY:fje,curveLinearClosed:Aje,curveLinear:KN,curveMonotoneX:kje,curveMonotoneY:Pje,curveNatural:Tje,curveStep:Oje,curveStepAfter:Ije,curveStepBefore:Dje},aj=function(t){return t.x===+t.x&&t.y===+t.y},Px=function(t){return t.x},Tx=function(t){return t.y},kOe=function(t,r){if(Pt(t))return t;var s="curve".concat(qN(t));return(s==="curveMonotone"||s==="curveBump")&&r?_F["".concat(s).concat(r==="vertical"?"Y":"X")]:_F[s]||KN},POe=function(t){var r=t.type,s=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=kOe(s,l),f=d?i.filter(function(p){return aj(p)}):i,m;if(Array.isArray(o)){var h=d?o.filter(function(p){return aj(p)}):o,x=f.map(function(p,g){return NF(NF({},p),{},{base:h[g]})});return l==="vertical"?m=Yy().y(Tx).x1(Px).x0(function(p){return p.base.x}):m=Yy().x(Px).y1(Tx).y0(function(p){return p.base.y}),m.defined(aj).curve(u),m(x)}return l==="vertical"&&Xe(o)?m=Yy().y(Tx).x1(Px).x0(o):Xe(o)?m=Yy().x(Px).y1(Tx).y0(o):m=VW().x(Px).y(Tx),m.defined(aj).curve(u),m(f)},ff=function(t){var r=t.className,s=t.points,a=t.path,i=t.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?POe(t):a;return V.createElement("path",GE({},Nt(t,!1),r1(t),{className:Bt("recharts-curve",r),d:o,ref:i}))},Yq={exports:{}},TOe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",OOe=TOe,DOe=OOe;function Xq(){}function Qq(){}Qq.resetWarningCache=Xq;var IOe=function(){function e(s,a,i,o,l,c){if(c!==DOe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Qq,resetWarningCache:Xq};return r.PropTypes=r,r};Yq.exports=IOe();var ROe=Yq.exports;const Gt=Cr(ROe);var MOe=Object.getOwnPropertyNames,FOe=Object.getOwnPropertySymbols,$Oe=Object.prototype.hasOwnProperty;function SF(e,t){return function(s,a,i){return e(s,a,i)&&t(s,a,i)}}function ij(e){return function(r,s,a){if(!r||!s||typeof r!="object"||typeof s!="object")return e(r,s,a);var i=a.cache,o=i.get(r),l=i.get(s);if(o&&l)return o===s&&l===r;i.set(r,s),i.set(s,r);var c=e(r,s,a);return i.delete(r),i.delete(s),c}}function CF(e){return MOe(e).concat(FOe(e))}var Zq=Object.hasOwn||function(e,t){return $Oe.call(e,t)};function qp(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var Jq="_owner",EF=Object.getOwnPropertyDescriptor,AF=Object.keys;function LOe(e,t,r){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!r.equals(e[s],t[s],s,s,e,t,r))return!1;return!0}function BOe(e,t){return qp(e.getTime(),t.getTime())}function kF(e,t,r){if(e.size!==t.size)return!1;for(var s={},a=e.entries(),i=0,o,l;(o=a.next())&&!o.done;){for(var c=t.entries(),d=!1,u=0;(l=c.next())&&!l.done;){var f=o.value,m=f[0],h=f[1],x=l.value,p=x[0],g=x[1];!d&&!s[u]&&(d=r.equals(m,p,i,u,e,t,r)&&r.equals(h,g,m,p,e,t,r))&&(s[u]=!0),u++}if(!d)return!1;i++}return!0}function UOe(e,t,r){var s=AF(e),a=s.length;if(AF(t).length!==a)return!1;for(var i;a-- >0;)if(i=s[a],i===Jq&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!Zq(t,i)||!r.equals(e[i],t[i],i,i,e,t,r))return!1;return!0}function Ox(e,t,r){var s=CF(e),a=s.length;if(CF(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=s[a],i===Jq&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!Zq(t,i)||!r.equals(e[i],t[i],i,i,e,t,r)||(o=EF(e,i),l=EF(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function VOe(e,t){return qp(e.valueOf(),t.valueOf())}function zOe(e,t){return e.source===t.source&&e.flags===t.flags}function PF(e,t,r){if(e.size!==t.size)return!1;for(var s={},a=e.values(),i,o;(i=a.next())&&!i.done;){for(var l=t.values(),c=!1,d=0;(o=l.next())&&!o.done;)!c&&!s[d]&&(c=r.equals(i.value,o.value,i.value,o.value,e,t,r))&&(s[d]=!0),d++;if(!c)return!1}return!0}function WOe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var HOe="[object Arguments]",qOe="[object Boolean]",GOe="[object Date]",KOe="[object Map]",YOe="[object Number]",XOe="[object Object]",QOe="[object RegExp]",ZOe="[object Set]",JOe="[object String]",e3e=Array.isArray,TF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,OF=Object.assign,t3e=Object.prototype.toString.call.bind(Object.prototype.toString);function r3e(e){var t=e.areArraysEqual,r=e.areDatesEqual,s=e.areMapsEqual,a=e.areObjectsEqual,i=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(u,f,m){if(u===f)return!0;if(u==null||f==null||typeof u!="object"||typeof f!="object")return u!==u&&f!==f;var h=u.constructor;if(h!==f.constructor)return!1;if(h===Object)return a(u,f,m);if(e3e(u))return t(u,f,m);if(TF!=null&&TF(u))return c(u,f,m);if(h===Date)return r(u,f,m);if(h===RegExp)return o(u,f,m);if(h===Map)return s(u,f,m);if(h===Set)return l(u,f,m);var x=t3e(u);return x===GOe?r(u,f,m):x===QOe?o(u,f,m):x===KOe?s(u,f,m):x===ZOe?l(u,f,m):x===XOe?typeof u.then!="function"&&typeof f.then!="function"&&a(u,f,m):x===HOe?a(u,f,m):x===qOe||x===YOe||x===JOe?i(u,f,m):!1}}function n3e(e){var t=e.circular,r=e.createCustomConfig,s=e.strict,a={areArraysEqual:s?Ox:LOe,areDatesEqual:BOe,areMapsEqual:s?SF(kF,Ox):kF,areObjectsEqual:s?Ox:UOe,arePrimitiveWrappersEqual:VOe,areRegExpsEqual:zOe,areSetsEqual:s?SF(PF,Ox):PF,areTypedArraysEqual:s?Ox:WOe};if(r&&(a=OF({},a,r(a))),t){var i=ij(a.areArraysEqual),o=ij(a.areMapsEqual),l=ij(a.areObjectsEqual),c=ij(a.areSetsEqual);a=OF({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function s3e(e){return function(t,r,s,a,i,o,l){return e(t,r,l)}}function a3e(e){var t=e.circular,r=e.comparator,s=e.createState,a=e.equals,i=e.strict;if(s)return function(c,d){var u=s(),f=u.cache,m=f===void 0?t?new WeakMap:void 0:f,h=u.meta;return r(c,d,{cache:m,equals:a,meta:h,strict:i})};if(t)return function(c,d){return r(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var i3e=gu();gu({strict:!0});gu({circular:!0});gu({circular:!0,strict:!0});gu({createInternalComparator:function(){return qp}});gu({strict:!0,createInternalComparator:function(){return qp}});gu({circular:!0,createInternalComparator:function(){return qp}});gu({circular:!0,createInternalComparator:function(){return qp},strict:!0});function gu(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,s=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=n3e(e),c=r3e(l),d=s?s(c):s3e(c);return a3e({circular:r,comparator:c,createState:a,equals:d,strict:o})}function o3e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function DF(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,s=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):o3e(a)};requestAnimationFrame(s)}function KE(e){"@babel/helpers - typeof";return KE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},KE(e)}function l3e(e){return f3e(e)||u3e(e)||d3e(e)||c3e()}function c3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d3e(e,t){if(e){if(typeof e=="string")return IF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IF(e,t)}}function IF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function u3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function f3e(e){if(Array.isArray(e))return e}function m3e(){var e={},t=function(){return null},r=!1,s=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=l3e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){DF(a.bind(null,d),c);return}a(c),DF(a.bind(null,d));return}KE(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,s(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function k0(e){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k0(e)}function RF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function MF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RF(Object(r),!0).forEach(function(s){eG(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function eG(e,t,r){return t=h3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h3e(e){var t=p3e(e,"string");return k0(t)==="symbol"?t:String(t)}function p3e(e,t){if(k0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(k0(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x3e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},g3e=function(t){return t},v3e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},hg=function(t,r){return Object.keys(r).reduce(function(s,a){return MF(MF({},s),{},eG({},a,t(a,r[a])))},{})},FF=function(t,r,s){return t.map(function(a){return"".concat(v3e(a)," ").concat(r,"ms ").concat(s)}).join(",")};function y3e(e,t){return w3e(e)||b3e(e,t)||tG(e,t)||j3e()}function j3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function w3e(e){if(Array.isArray(e))return e}function N3e(e){return C3e(e)||S3e(e)||tG(e)||_3e()}function _3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tG(e,t){if(e){if(typeof e=="string")return YE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YE(e,t)}}function S3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function C3e(e){if(Array.isArray(e))return YE(e)}function YE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var D1=1e-4,rG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},nG=function(t,r){return t.map(function(s,a){return s*Math.pow(r,a)}).reduce(function(s,a){return s+a})},$F=function(t,r){return function(s){var a=rG(t,r);return nG(a,s)}},E3e=function(t,r){return function(s){var a=rG(t,r),i=[].concat(N3e(a.map(function(o,l){return o*l}).slice(1)),[0]);return nG(i,s)}},LF=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=y3e(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var f=$F(a,o),m=$F(i,l),h=E3e(a,o),x=function(j){return j>1?1:j<0?0:j},p=function(j){for(var y=j>1?1:j,w=y,b=0;b<8;++b){var N=f(w)-y,S=h(w);if(Math.abs(N-y)<D1||S<D1)return m(w);w=x(w-N/S)}return m(w)};return p.isStepper=!1,p},A3e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,s=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(u,f,m){var h=-(u-f)*s,x=m*i,p=m+(h-x)*l/1e3,g=m*l/1e3+u;return Math.abs(g-f)<D1&&Math.abs(p)<D1?[f,0]:[g,p]};return c.isStepper=!0,c.dt=l,c},k3e=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return LF(a);case"spring":return A3e();default:if(a.split("(")[0]==="cubic-bezier")return LF(a)}return typeof a=="function"?a:null};function P0(e){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P0(e)}function BF(e){return O3e(e)||T3e(e)||sG(e)||P3e()}function P3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function O3e(e){if(Array.isArray(e))return QE(e)}function UF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UF(Object(r),!0).forEach(function(s){XE(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function XE(e,t,r){return t=D3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D3e(e){var t=I3e(e,"string");return P0(t)==="symbol"?t:String(t)}function I3e(e,t){if(P0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(P0(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R3e(e,t){return $3e(e)||F3e(e,t)||sG(e,t)||M3e()}function M3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sG(e,t){if(e){if(typeof e=="string")return QE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QE(e,t)}}function QE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function F3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function $3e(e){if(Array.isArray(e))return e}var I1=function(t,r,s){return t+(r-t)*s},ZE=function(t){var r=t.from,s=t.to;return r!==s},L3e=function e(t,r,s){var a=hg(function(i,o){if(ZE(o)){var l=t(o.from,o.to,o.velocity),c=R3e(l,2),d=c[0],u=c[1];return ks(ks({},o),{},{from:d,velocity:u})}return o},r);return s<1?hg(function(i,o){return ZE(o)?ks(ks({},o),{},{velocity:I1(o.velocity,a[i].velocity,s),from:I1(o.from,a[i].from,s)}):o},r):e(t,a,s-1)};const B3e=function(e,t,r,s,a){var i=x3e(e,t),o=i.reduce(function(g,j){return ks(ks({},g),{},XE({},j,[e[j],t[j]]))},{}),l=i.reduce(function(g,j){return ks(ks({},g),{},XE({},j,{from:e[j],velocity:0,to:t[j]}))},{}),c=-1,d,u,f=function(){return null},m=function(){return hg(function(j,y){return y.from},l)},h=function(){return!Object.values(l).filter(ZE).length},x=function(j){d||(d=j);var y=j-d,w=y/r.dt;l=L3e(r,l,w),a(ks(ks(ks({},e),t),m())),d=j,h()||(c=requestAnimationFrame(f))},p=function(j){u||(u=j);var y=(j-u)/s,w=hg(function(N,S){return I1.apply(void 0,BF(S).concat([r(y)]))},o);if(a(ks(ks(ks({},e),t),w)),y<1)c=requestAnimationFrame(f);else{var b=hg(function(N,S){return I1.apply(void 0,BF(S).concat([r(1)]))},o);a(ks(ks(ks({},e),t),b))}};return f=r.isStepper?x:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}var U3e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function V3e(e,t){if(e==null)return{};var r=z3e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function z3e(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function wS(e){return G3e(e)||q3e(e)||H3e(e)||W3e()}function W3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H3e(e,t){if(e){if(typeof e=="string")return JE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JE(e,t)}}function q3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G3e(e){if(Array.isArray(e))return JE(e)}function JE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function VF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VF(Object(r),!0).forEach(function(s){Gx(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Gx(e,t,r){return t=aG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y3e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,aG(s.key),s)}}function X3e(e,t,r){return t&&Y3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aG(e){var t=Q3e(e,"string");return Kh(t)==="symbol"?t:String(t)}function Q3e(e,t){if(Kh(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Kh(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eA(e,t)}function eA(e,t){return eA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},eA(e,t)}function J3e(e){var t=eDe();return function(){var s=R1(e),a;if(t){var i=R1(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return tA(this,a)}}function tA(e,t){if(t&&(Kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rA(e)}function rA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eDe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R1(e){return R1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R1(e)}var Jo=function(e){Z3e(r,e);var t=J3e(r);function r(s,a){var i;K3e(this,r),i=t.call(this,s,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,f=o.steps,m=o.children,h=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(rA(i)),i.changeStyle=i.changeStyle.bind(rA(i)),!l||h<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:u}),tA(i);if(f&&f.length)i.state={style:f[0].style};else if(d){if(typeof m=="function")return i.state={style:d},tA(i);i.state={style:c?Gx({},c,d):d}}else i.state={style:{}};return i}return X3e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,f=i.from,m=this.state.style;if(l){if(!o){var h={style:c?Gx({},c,u):u};this.state&&m&&(c&&m[c]!==u||!c&&m!==u)&&this.setState(h);return}if(!(i3e(a.to,u)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=x||d?f:a.to;if(this.state&&m){var g={style:c?Gx({},c,p):p};(c&&m[c]!==p||!c&&m!==p)&&this.setState(g)}this.runAnimation(Co(Co({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,h=B3e(o,l,k3e(d),c,this.changeStyle),x=function(){i.stopJSAnimation=h()};this.manager.start([m,u,x,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,f=d.duration,m=f===void 0?0:f,h=function(p,g,j){if(j===0)return p;var y=g.duration,w=g.easing,b=w===void 0?"ease":w,N=g.style,S=g.properties,E=g.onAnimationEnd,C=j>0?o[j-1]:g,A=S||Object.keys(N);if(typeof b=="function"||b==="spring")return[].concat(wS(p),[i.runJSAnimation.bind(i,{from:C.style,to:N,duration:y,easing:b}),y]);var P=FF(A,y,b),R=Co(Co(Co({},C.style),N),{},{transition:P});return[].concat(wS(p),[R,y,E]).filter(g3e)};return this.manager.start([c].concat(wS(o.reduce(h,[u,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=m3e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,h=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof d=="function"||typeof h=="function"||d==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var p=l?Gx({},l,c):c,g=FF(Object.keys(p),o,d);x.start([u,i,Co(Co({},p),{},{transition:g}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=V3e(a,U3e),d=v.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var f=function(h){var x=h.props,p=x.style,g=p===void 0?{}:p,j=x.className,y=v.cloneElement(h,Co(Co({},c),{},{style:Co(Co({},g),u),className:j}));return y};return d===1?f(v.Children.only(i)):V.createElement("div",null,v.Children.map(i,function(m){return f(m)}))}}]),r}(v.PureComponent);Jo.displayName="Animate";Jo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Jo.propTypes={from:Gt.oneOfType([Gt.object,Gt.string]),to:Gt.oneOfType([Gt.object,Gt.string]),attributeName:Gt.string,duration:Gt.number,begin:Gt.number,easing:Gt.oneOfType([Gt.string,Gt.func]),steps:Gt.arrayOf(Gt.shape({duration:Gt.number.isRequired,style:Gt.object.isRequired,easing:Gt.oneOfType([Gt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Gt.func]),properties:Gt.arrayOf("string"),onAnimationEnd:Gt.func})),children:Gt.oneOfType([Gt.node,Gt.func]),isActive:Gt.bool,canBegin:Gt.bool,onAnimationEnd:Gt.func,shouldReAnimate:Gt.bool,onAnimationStart:Gt.func,onAnimationReStart:Gt.func};Gt.object,Gt.object,Gt.object,Gt.element;Gt.object,Gt.object,Gt.object,Gt.oneOfType([Gt.array,Gt.element]),Gt.any;function T0(e){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T0(e)}function M1(){return M1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},M1.apply(this,arguments)}function tDe(e,t){return aDe(e)||sDe(e,t)||nDe(e,t)||rDe()}function rDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nDe(e,t){if(e){if(typeof e=="string")return zF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zF(e,t)}}function zF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function sDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function aDe(e){if(Array.isArray(e))return e}function WF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function HF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WF(Object(r),!0).forEach(function(s){iDe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function iDe(e,t,r){return t=oDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oDe(e){var t=lDe(e,"string");return T0(t)=="symbol"?t:t+""}function lDe(e,t){if(T0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(T0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qF=function(t,r,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,u;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],m=0,h=4;m<h;m++)f[m]=i[m]>o?o:i[m];u="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(t+c*f[0],",").concat(r)),u+="L ".concat(t+s-c*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(t+s,",").concat(r+l*f[1])),u+="L ".concat(t+s,",").concat(r+a-l*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(t+s-c*f[2],",").concat(r+a)),u+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+a-l*f[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);u="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+s-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+s,",").concat(r+l*x,`
            L `).concat(t+s,",").concat(r+a-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+s-c*x,",").concat(r+a,`
            L `).concat(t+c*x,",").concat(r+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t,",").concat(r+a-l*x," Z")}else u="M ".concat(t,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return u},cDe=function(t,r){if(!t||!r)return!1;var s=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return s>=d&&s<=u&&a>=f&&a<=m}return!1},dDe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xO=function(t){var r=HF(HF({},dDe),t),s=v.useRef(),a=v.useState(-1),i=tDe(a,2),o=i[0],l=i[1];v.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var b=s.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,d=r.y,u=r.width,f=r.height,m=r.radius,h=r.className,x=r.animationEasing,p=r.animationDuration,g=r.animationBegin,j=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||u===0||f===0)return null;var w=Bt("recharts-rectangle",h);return y?V.createElement(Jo,{canBegin:o>0,from:{width:u,height:f,x:c,y:d},to:{width:u,height:f,x:c,y:d},duration:p,animationEasing:x,isActive:y},function(b){var N=b.width,S=b.height,E=b.x,C=b.y;return V.createElement(Jo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,isActive:j,easing:x},V.createElement("path",M1({},Nt(r,!0),{className:w,d:qF(E,C,N,S,m),ref:s})))}):V.createElement("path",M1({},Nt(r,!0),{className:w,d:qF(c,d,u,f,m)}))},uDe=["points","className","baseLinePoints","connectNulls"];function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Fm.apply(this,arguments)}function fDe(e,t){if(e==null)return{};var r=mDe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function mDe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function GF(e){return gDe(e)||xDe(e)||pDe(e)||hDe()}function hDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pDe(e,t){if(e){if(typeof e=="string")return nA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nA(e,t)}}function xDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gDe(e){if(Array.isArray(e))return nA(e)}function nA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var KF=function(t){return t&&t.x===+t.x&&t.y===+t.y},vDe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(s){KF(s)?r[r.length-1].push(s):r[r.length-1].length>0&&r.push([])}),KF(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},pg=function(t,r){var s=vDe(t);r&&(s=[s.reduce(function(i,o){return[].concat(GF(i),GF(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},yDe=function(t,r,s){var a=pg(t,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(pg(r.reverse(),s).slice(1))},jDe=function(t){var r=t.points,s=t.className,a=t.baseLinePoints,i=t.connectNulls,o=fDe(t,uDe);if(!r||!r.length)return null;var l=Bt("recharts-polygon",s);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=yDe(r,a,i);return V.createElement("g",{className:l},V.createElement("path",Fm({},Nt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?V.createElement("path",Fm({},Nt(o,!0),{fill:"none",d:pg(r,i)})):null,c?V.createElement("path",Fm({},Nt(o,!0),{fill:"none",d:pg(a,i)})):null)}var u=pg(r,i);return V.createElement("path",Fm({},Nt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function sA(){return sA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},sA.apply(this,arguments)}var Xv=function(t){var r=t.cx,s=t.cy,a=t.r,i=t.className,o=Bt("recharts-dot",i);return r===+r&&s===+s&&a===+a?V.createElement("circle",sA({},Nt(t,!1),r1(t),{className:o,cx:r,cy:s,r:a})):null};function O0(e){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O0(e)}var bDe=["x","y","top","left","width","height","className"];function aA(){return aA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},aA.apply(this,arguments)}function YF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function wDe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YF(Object(r),!0).forEach(function(s){NDe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function NDe(e,t,r){return t=_De(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _De(e){var t=SDe(e,"string");return O0(t)=="symbol"?t:t+""}function SDe(e,t){if(O0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(O0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CDe(e,t){if(e==null)return{};var r=EDe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function EDe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var ADe=function(t,r,s,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(s)},kDe=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,f=u===void 0?0:u,m=t.height,h=m===void 0?0:m,x=t.className,p=CDe(t,bDe),g=wDe({x:s,y:i,top:l,left:d,width:f,height:h},p);return!Xe(s)||!Xe(i)||!Xe(f)||!Xe(h)||!Xe(l)||!Xe(d)?null:V.createElement("path",aA({},Nt(g,!0),{className:Bt("recharts-cross",x),d:ADe(s,i,f,h,l,d)}))},PDe=a2,TDe=xq,ODe=Yl;function DDe(e,t){return e&&e.length?PDe(e,ODe(t),TDe):void 0}var IDe=DDe;const RDe=Cr(IDe);var MDe=a2,FDe=Yl,$De=gq;function LDe(e,t){return e&&e.length?MDe(e,FDe(t),$De):void 0}var BDe=LDe;const UDe=Cr(BDe);var VDe=["cx","cy","angle","ticks","axisLine"],zDe=["ticks","tick","angle","tickFormatter","stroke"];function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},xg.apply(this,arguments)}function XF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Su(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XF(Object(r),!0).forEach(function(s){c2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function QF(e,t){if(e==null)return{};var r=WDe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function WDe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function HDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZF(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,oG(s.key),s)}}function qDe(e,t,r){return t&&ZF(e.prototype,t),r&&ZF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GDe(e,t,r){return t=F1(t),KDe(e,iG()?Reflect.construct(t,r||[],F1(e).constructor):t.apply(e,r))}function KDe(e,t){if(t&&(Yh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YDe(e)}function YDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iG=function(){return!!e})()}function F1(e){return F1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},F1(e)}function XDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iA(e,t)}function iA(e,t){return iA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},iA(e,t)}function c2(e,t,r){return t=oG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oG(e){var t=QDe(e,"string");return Yh(t)=="symbol"?t:t+""}function QDe(e,t){if(Yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Yh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d2=function(e){function t(){return HDe(this,t),GDe(this,t,arguments)}return XDe(t,e),qDe(t,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Wr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=RDe(l,function(u){return u.coordinate||0}),d=UDe(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,d=QF(s,VDe),u=l.reduce(function(x,p){return[Math.min(x[0],p.coordinate),Math.max(x[1],p.coordinate)]},[1/0,-1/0]),f=Wr(a,i,u[0],o),m=Wr(a,i,u[1],o),h=Su(Su(Su({},Nt(d,!1)),{},{fill:"none"},Nt(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return V.createElement("line",xg({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=QF(a,zDe),f=this.getTickTextAnchor(),m=Nt(u,!1),h=Nt(o,!1),x=i.map(function(p,g){var j=s.getTickValueCoord(p),y=Su(Su(Su(Su({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},m),{},{stroke:"none",fill:d},h),{},{index:g},j),{},{payload:p});return V.createElement(er,xg({className:Bt("recharts-polar-radius-axis-tick",Hq(o)),key:"tick-".concat(p.coordinate)},Tf(s.props,p,g)),t.renderTickItem(o,y,c?c(p.value,g):p.value))});return V.createElement(er,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:V.createElement(er,{className:Bt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),fs.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return V.isValidElement(s)?o=V.cloneElement(s,a):Pt(s)?o=s(a):o=V.createElement(Of,xg({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(v.PureComponent);c2(d2,"displayName","PolarRadiusAxis");c2(d2,"axisType","radiusAxis");c2(d2,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}function Fu(){return Fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Fu.apply(this,arguments)}function JF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Cu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JF(Object(r),!0).forEach(function(s){u2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ZDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,cG(s.key),s)}}function JDe(e,t,r){return t&&e6(e.prototype,t),r&&e6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function e5e(e,t,r){return t=$1(t),t5e(e,lG()?Reflect.construct(t,r||[],$1(e).constructor):t.apply(e,r))}function t5e(e,t){if(t&&(Xh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r5e(e)}function r5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lG=function(){return!!e})()}function $1(e){return $1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$1(e)}function n5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oA(e,t)}function oA(e,t){return oA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},oA(e,t)}function u2(e,t,r){return t=cG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cG(e){var t=s5e(e,"string");return Xh(t)=="symbol"?t:t+""}function s5e(e,t){if(Xh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Xh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a5e=Math.PI/180,t6=1e-5,f2=function(e){function t(){return ZDe(this,t),e5e(this,t,arguments)}return n5e(t,e),JDe(t,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,f=Wr(i,o,l,s.coordinate),m=Wr(i,o,l+(c==="inner"?-1:1)*u,s.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*a5e),o;return i>t6?o=a==="outer"?"start":"end":i<-t6?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,d=Cu(Cu({},Nt(this.props,!1)),{},{fill:"none"},Nt(l,!1));if(c==="circle")return V.createElement(Xv,Fu({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,f=u.map(function(m){return Wr(a,i,o,m.coordinate)});return V.createElement(jDe,Fu({className:"recharts-polar-angle-axis-line"},d,{points:f}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=Nt(this.props,!1),f=Nt(o,!1),m=Cu(Cu({},u),{},{fill:"none"},Nt(l,!1)),h=i.map(function(x,p){var g=s.getTickLineCoord(x),j=s.getTickTextAnchor(x),y=Cu(Cu(Cu({textAnchor:j},u),{},{stroke:"none",fill:d},f),{},{index:p,payload:x,x:g.x2,y:g.y2});return V.createElement(er,Fu({className:Bt("recharts-polar-angle-axis-tick",Hq(o)),key:"tick-".concat(x.coordinate)},Tf(s.props,x,p)),l&&V.createElement("line",Fu({className:"recharts-polar-angle-axis-tick-line"},m,g)),o&&t.renderTickItem(o,y,c?c(x.value,p):x.value))});return V.createElement(er,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:V.createElement(er,{className:Bt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return V.isValidElement(s)?o=V.cloneElement(s,a):Pt(s)?o=s(a):o=V.createElement(Of,Fu({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(v.PureComponent);u2(f2,"displayName","PolarAngleAxis");u2(f2,"axisType","angleAxis");u2(f2,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var i5e=fH,o5e=i5e(Object.getPrototypeOf,Object),l5e=o5e,c5e=Kc,d5e=l5e,u5e=Yc,f5e="[object Object]",m5e=Function.prototype,h5e=Object.prototype,dG=m5e.toString,p5e=h5e.hasOwnProperty,x5e=dG.call(Object);function g5e(e){if(!u5e(e)||c5e(e)!=f5e)return!1;var t=d5e(e);if(t===null)return!0;var r=p5e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&dG.call(r)==x5e}var v5e=g5e;const y5e=Cr(v5e);var j5e=Kc,b5e=Yc,w5e="[object Boolean]";function N5e(e){return e===!0||e===!1||b5e(e)&&j5e(e)==w5e}var _5e=N5e;const S5e=Cr(_5e);function D0(e){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D0(e)}function L1(){return L1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},L1.apply(this,arguments)}function C5e(e,t){return P5e(e)||k5e(e,t)||A5e(e,t)||E5e()}function E5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A5e(e,t){if(e){if(typeof e=="string")return r6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r6(e,t)}}function r6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function k5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function P5e(e){if(Array.isArray(e))return e}function n6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function s6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n6(Object(r),!0).forEach(function(s){T5e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function T5e(e,t,r){return t=O5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O5e(e){var t=D5e(e,"string");return D0(t)=="symbol"?t:t+""}function D5e(e,t){if(D0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(D0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a6=function(t,r,s,a,i){var o=s-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+s,",").concat(r),l+="L ".concat(t+s-o/2,",").concat(r+i),l+="L ".concat(t+s-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},I5e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},R5e=function(t){var r=s6(s6({},I5e),t),s=v.useRef(),a=v.useState(-1),i=C5e(a,2),o=i[0],l=i[1];v.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var w=s.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,f=r.lowerWidth,m=r.height,h=r.className,x=r.animationEasing,p=r.animationDuration,g=r.animationBegin,j=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||m!==+m||u===0&&f===0||m===0)return null;var y=Bt("recharts-trapezoid",h);return j?V.createElement(Jo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:d},to:{upperWidth:u,lowerWidth:f,height:m,x:c,y:d},duration:p,animationEasing:x,isActive:j},function(w){var b=w.upperWidth,N=w.lowerWidth,S=w.height,E=w.x,C=w.y;return V.createElement(Jo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,easing:x},V.createElement("path",L1({},Nt(r,!0),{className:y,d:a6(E,C,b,N,S),ref:s})))}):V.createElement("g",null,V.createElement("path",L1({},Nt(r,!0),{className:y,d:a6(c,d,u,f,m)})))},M5e=["option","shapeType","propTransformer","activeClassName","isActive"];function I0(e){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I0(e)}function F5e(e,t){if(e==null)return{};var r=$5e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function $5e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function i6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function B1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i6(Object(r),!0).forEach(function(s){L5e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function L5e(e,t,r){return t=B5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B5e(e){var t=U5e(e,"string");return I0(t)=="symbol"?t:t+""}function U5e(e,t){if(I0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(I0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V5e(e,t){return B1(B1({},t),e)}function z5e(e,t){return e==="symbols"}function o6(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return V.createElement(xO,r);case"trapezoid":return V.createElement(R5e,r);case"sector":return V.createElement(Kq,r);case"symbols":if(z5e(t))return V.createElement(RT,r);break;default:return null}}function W5e(e){return v.isValidElement(e)?e.props:e}function uG(e){var t=e.option,r=e.shapeType,s=e.propTransformer,a=s===void 0?V5e:s,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=F5e(e,M5e),d;if(v.isValidElement(t))d=v.cloneElement(t,B1(B1({},c),W5e(t)));else if(Pt(t))d=t(c);else if(y5e(t)&&!S5e(t)){var u=a(t,c);d=V.createElement(o6,{shapeType:r,elementProps:u})}else{var f=c;d=V.createElement(o6,{shapeType:r,elementProps:f})}return l?V.createElement(er,{className:o},d):d}function m2(e,t){return t!=null&&"trapezoids"in e.props}function h2(e,t){return t!=null&&"sectors"in e.props}function R0(e,t){return t!=null&&"points"in e.props}function H5e(e,t){var r,s,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return a&&i}function q5e(e,t){var r=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return r&&s}function G5e(e,t){var r=e.x===t.x,s=e.y===t.y,a=e.z===t.z;return r&&s&&a}function K5e(e,t){var r;return m2(e,t)?r=H5e:h2(e,t)?r=q5e:R0(e,t)&&(r=G5e),r}function Y5e(e,t){var r;return m2(e,t)?r="trapezoids":h2(e,t)?r="sectors":R0(e,t)&&(r="points"),r}function X5e(e,t){if(m2(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(h2(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return R0(e,t)?t.payload:{}}function Q5e(e){var t=e.activeTooltipItem,r=e.graphicalItem,s=e.itemData,a=Y5e(r,t),i=X5e(r,t),o=s.filter(function(c,d){var u=Df(i,c),f=r.props[a].filter(function(x){var p=K5e(r,t);return p(x,t)}),m=r.props[a].indexOf(f[f.length-1]),h=d===m;return u&&h}),l=s.indexOf(o[o.length-1]);return l}var Gj;function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},$m.apply(this,arguments)}function l6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l6(Object(r),!0).forEach(function(s){Zi(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Z5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,mG(s.key),s)}}function J5e(e,t,r){return t&&c6(e.prototype,t),r&&c6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eIe(e,t,r){return t=U1(t),tIe(e,fG()?Reflect.construct(t,r||[],U1(e).constructor):t.apply(e,r))}function tIe(e,t){if(t&&(Qh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rIe(e)}function rIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fG=function(){return!!e})()}function U1(e){return U1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U1(e)}function nIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lA(e,t)}function lA(e,t){return lA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},lA(e,t)}function Zi(e,t,r){return t=mG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mG(e){var t=sIe(e,"string");return Qh(t)=="symbol"?t:t+""}function sIe(e,t){if(Qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Qh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Si=function(e){function t(r){var s;return Z5e(this,t),s=eIe(this,t,[r]),Zi(s,"pieRef",null),Zi(s,"sectorRefs",[]),Zi(s,"id",Yf("recharts-pie-")),Zi(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),Pt(a)&&a()}),Zi(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),Pt(a)&&a()}),s.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},s}return nIe(t,e),J5e(t,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=Nt(this.props,!1),f=Nt(o,!1),m=Nt(l,!1),h=o&&o.offsetRadius||20,x=s.map(function(p,g){var j=(p.startAngle+p.endAngle)/2,y=Wr(p.cx,p.cy,p.outerRadius+h,j),w=Ur(Ur(Ur(Ur({},u),p),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(y.x,p.cx)},y),b=Ur(Ur(Ur(Ur({},u),p),{},{fill:"none",stroke:p.fill},m),{},{index:g,points:[Wr(p.cx,p.cy,p.outerRadius,j),y]}),N=c;return Mt(c)&&Mt(d)?N="value":Mt(c)&&(N=d),V.createElement(er,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(g)},l&&t.renderLabelLineItem(l,b,"line"),t.renderLabelItem(o,w,Rn(p,N)))});return V.createElement(er,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return s.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&s.length!==1)return null;var f=a.isActiveIndex(u),m=c&&a.hasActiveIndex()?c:null,h=f?o:m,x=Ur(Ur({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return V.createElement(er,$m({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Tf(a.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),V.createElement(uG,$m({option:h,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,f=this.state,m=f.prevSectors,h=f.prevIsAnimationActive;return V.createElement(Jo,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var p=x.t,g=[],j=i&&i[0],y=j.startAngle;return i.forEach(function(w,b){var N=m&&m[b],S=b>0?Ni(w,"paddingAngle",0):0;if(N){var E=ts(N.endAngle-N.startAngle,w.endAngle-w.startAngle),C=Ur(Ur({},w),{},{startAngle:y+S,endAngle:y+E(p)+S});g.push(C),y=C.endAngle}else{var A=w.endAngle,P=w.startAngle,R=ts(0,A-P),I=R(p),z=Ur(Ur({},w),{},{startAngle:y+S,endAngle:y+I+S});g.push(z),y=z.endAngle}}),V.createElement(er,null,s.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Df(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,f=a.innerRadius,m=a.outerRadius,h=a.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!Xe(d)||!Xe(u)||!Xe(f)||!Xe(m))return null;var p=Bt("recharts-pie",l);return V.createElement(er,{tabIndex:this.props.rootTabIndex,className:p,ref:function(j){s.pieRef=j}},this.renderSectors(),c&&this.renderLabels(o),fs.renderCallByParent(this.props,null,!1),(!h||x)&&Rl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(V.isValidElement(s))return V.cloneElement(s,a);if(Pt(s))return s(a);var o=Bt("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return V.createElement(ff,$m({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(V.isValidElement(s))return V.cloneElement(s,a);var o=i;if(Pt(s)&&(o=s(a),V.isValidElement(o)))return o;var l=Bt("recharts-pie-label-text",typeof s!="boolean"&&!Pt(s)?s.className:"");return V.createElement(Of,$m({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(v.PureComponent);Gj=Si;Zi(Si,"displayName","Pie");Zi(Si,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ko.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Zi(Si,"parseDeltaAngle",function(e,t){var r=ya(t-e),s=Math.min(Math.abs(t-e),360);return r*s});Zi(Si,"getRealPieData",function(e){var t=e.data,r=e.children,s=Nt(e,!1),a=_i(r,ua);return t&&t.length?t.map(function(i,o){return Ur(Ur(Ur({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Ur(Ur({},s),i.props)}):[]});Zi(Si,"parseCoordinateOfPie",function(e,t){var r=t.top,s=t.left,a=t.width,i=t.height,o=Wq(a,i),l=s+ja(e.cx,a,a/2),c=r+ja(e.cy,i,i/2),d=ja(e.innerRadius,o,0),u=ja(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:f}});Zi(Si,"getComposedData",function(e){var t=e.item,r=e.offset,s=t.type.defaultProps!==void 0?Ur(Ur({},t.type.defaultProps),t.props):t.props,a=Gj.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,d=s.dataKey,u=s.nameKey,f=s.valueKey,m=s.tooltipType,h=Math.abs(s.minAngle),x=Gj.parseCoordinateOfPie(s,r),p=Gj.parseDeltaAngle(o,l),g=Math.abs(p),j=d;Mt(d)&&Mt(f)?(qo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):Mt(d)&&(qo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=f);var y=a.filter(function(C){return Rn(C,j,0)!==0}).length,w=(g>=360?y:y-1)*c,b=g-y*h-w,N=a.reduce(function(C,A){var P=Rn(A,j,0);return C+(Xe(P)?P:0)},0),S;if(N>0){var E;S=a.map(function(C,A){var P=Rn(C,j,0),R=Rn(C,u,A),I=(Xe(P)?P:0)/N,z;A?z=E.endAngle+ya(p)*c*(P!==0?1:0):z=o;var U=z+ya(p)*((P!==0?h:0)+I*b),L=(z+U)/2,T=(x.innerRadius+x.outerRadius)/2,k=[{name:R,value:P,payload:C,dataKey:j,type:m}],O=Wr(x.cx,x.cy,T,L);return E=Ur(Ur(Ur({percent:I,cornerRadius:i,name:R,tooltipPayload:k,midAngle:L,middleRadius:T,tooltipPosition:O},C),x),{},{value:Rn(C,j),startAngle:z,endAngle:U,payload:C,paddingAngle:ya(p)*c}),E})}return Ur(Ur({},x),{},{sectors:S,data:a})});var aIe=Math.ceil,iIe=Math.max;function oIe(e,t,r,s){for(var a=-1,i=iIe(aIe((t-e)/(r||1)),0),o=Array(i);i--;)o[s?i:++a]=e,e+=r;return o}var lIe=oIe,cIe=TH,d6=1/0,dIe=17976931348623157e292;function uIe(e){if(!e)return e===0?e:0;if(e=cIe(e),e===d6||e===-d6){var t=e<0?-1:1;return t*dIe}return e===e?e:0}var hG=uIe,fIe=lIe,mIe=ZN,NS=hG;function hIe(e){return function(t,r,s){return s&&typeof s!="number"&&mIe(t,r,s)&&(r=s=void 0),t=NS(t),r===void 0?(r=t,t=0):r=NS(r),s=s===void 0?t<r?1:-1:NS(s),fIe(t,r,s,e)}}var pIe=hIe,xIe=pIe,gIe=xIe(),vIe=gIe;const V1=Cr(vIe);function M0(e){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M0(e)}function u6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function f6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u6(Object(r),!0).forEach(function(s){pG(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function pG(e,t,r){return t=yIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yIe(e){var t=jIe(e,"string");return M0(t)=="symbol"?t:t+""}function jIe(e,t){if(M0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(M0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bIe=["Webkit","Moz","O","ms"],wIe=function(t,r){var s=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=bIe.reduce(function(i,o){return f6(f6({},i),{},pG({},o+s,r))},{});return a[t]=r,a};function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function z1(){return z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},z1.apply(this,arguments)}function m6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function _S(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m6(Object(r),!0).forEach(function(s){li(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function NIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,gG(s.key),s)}}function _Ie(e,t,r){return t&&h6(e.prototype,t),r&&h6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SIe(e,t,r){return t=W1(t),CIe(e,xG()?Reflect.construct(t,r||[],W1(e).constructor):t.apply(e,r))}function CIe(e,t){if(t&&(Zh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EIe(e)}function EIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xG=function(){return!!e})()}function W1(e){return W1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W1(e)}function AIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cA(e,t)}function cA(e,t){return cA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},cA(e,t)}function li(e,t,r){return t=gG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gG(e){var t=kIe(e,"string");return Zh(t)=="symbol"?t:t+""}function kIe(e,t){if(Zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Zh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PIe=function(t){var r=t.data,s=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=fg().domain(V1(0,c)).range([i,i+o-l]),u=d.domain().map(function(f){return d(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(s),endX:d(a),scale:d,scaleValues:u}},p6=function(t){return t.changedTouches&&!!t.changedTouches.length},Jh=function(e){function t(r){var s;return NIe(this,t),s=SIe(this,t,[r]),li(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),li(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),li(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),li(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),li(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),li(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),li(s,"handleSlideDragStart",function(a){var i=p6(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return AIe(t,e),_Ie(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,f=Math.min(a,i),m=Math.max(a,i),h=t.getIndexInRange(o,f),x=t.getIndexInRange(o,m);return{startIndex:h-h%c,endIndex:x===u?u:x-x%c}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Rn(i[s],l,s);return Pt(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,f=c.travellerWidth,m=c.startIndex,h=c.endIndex,x=c.onChange,p=s.pageX-i;p>0?p=Math.min(p,d+u-f-l,d+u-f-o):p<0&&(p=Math.max(p,d-o,d-l));var g=this.getIndex({startX:o+p,endX:l+p});(g.startIndex!==m||g.endIndex!==h)&&x&&x(g),this.setState({startX:o+p,endX:l+p,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=p6(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,f=u.x,m=u.width,h=u.travellerWidth,x=u.onChange,p=u.gap,g=u.data,j={startX:this.state.startX,endX:this.state.endX},y=s.pageX-i;y>0?y=Math.min(y,f+m-h-d):y<0&&(y=Math.max(y,f-d)),j[o]=d+y;var w=this.getIndex(j),b=w.startIndex,N=w.endIndex,S=function(){var C=g.length-1;return o==="startX"&&(l>c?b%p===0:N%p===0)||l<c&&N===C||o==="endX"&&(l>c?N%p===0:b%p===0)||l>c&&N===C};this.setState(li(li({},o,d+y),"brushMoveStartX",s.pageX),function(){x&&S()&&x(w)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],f=l.indexOf(u);if(f!==-1){var m=f+s;if(!(m===-1||m>=l.length)){var h=l[m];a==="startX"&&h>=d||a==="endX"&&h<=c||this.setState(li({},a,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.fill,d=s.stroke;return V.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.data,d=s.children,u=s.padding,f=v.Children.only(d);return f?V.cloneElement(f,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,f=c.height,m=c.traveller,h=c.ariaLabel,x=c.data,p=c.startIndex,g=c.endIndex,j=Math.max(s,this.props.x),y=_S(_S({},Nt(this.props,!1)),{},{x:j,y:d,width:u,height:f}),w=h||"Min value: ".concat((i=x[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[g])===null||o===void 0?void 0:o.name);return V.createElement(er,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,y))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(s,a)+d,f=Math.max(Math.abs(a-s)-d,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:f,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,d=s.stroke,u=this.state,f=u.startX,m=u.endX,h=5,x={pointerEvents:"none",fill:d};return V.createElement(er,{className:"recharts-brush-texts"},V.createElement(Of,z1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-h,y:o+l/2},x),this.getTextOfTick(a)),V.createElement(Of,z1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+h,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,c=s.y,d=s.width,u=s.height,f=s.alwaysShowText,m=this.state,h=m.startX,x=m.endX,p=m.isTextActive,g=m.isSlideMoving,j=m.isTravellerMoving,y=m.isTravellerFocused;if(!a||!a.length||!Xe(l)||!Xe(c)||!Xe(d)||!Xe(u)||d<=0||u<=0)return null;var w=Bt("recharts-brush",i),b=V.Children.count(o)===1,N=wIe("userSelect","none");return V.createElement(er,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),b&&this.renderPanorama(),this.renderSlide(h,x),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(x,"endX"),(p||g||j||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.stroke,d=Math.floor(i+l/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),V.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return V.isValidElement(s)?i=V.cloneElement(s,a):Pt(s)?i=s(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,c=s.travellerWidth,d=s.updateId,u=s.startIndex,f=s.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return _S({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?PIe({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var m=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>a?l=c:o=c}return a>=s[l]?l:o}}])}(v.PureComponent);li(Jh,"displayName","Brush");li(Jh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var TIe=VT;function OIe(e,t){var r;return TIe(e,function(s,a,i){return r=t(s,a,i),!r}),!!r}var DIe=OIe,IIe=sH,RIe=Yl,MIe=DIe,FIe=ri,$Ie=ZN;function LIe(e,t,r){var s=FIe(e)?IIe:MIe;return r&&$Ie(e,t,r)&&(t=void 0),s(e,RIe(t))}var BIe=LIe;const UIe=Cr(BIe);var Ml=function(t,r){var s=t.alwaysShow,a=t.ifOverflow;return s&&(a="extendDomain"),a===r},x6=CH;function VIe(e,t,r){t=="__proto__"&&x6?x6(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var zIe=VIe,WIe=zIe,HIe=_H,qIe=Yl;function GIe(e,t){var r={};return t=qIe(t),HIe(e,function(s,a,i){WIe(r,a,t(s,a,i))}),r}var KIe=GIe;const YIe=Cr(KIe);function XIe(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(!t(e[r],r,e))return!1;return!0}var QIe=XIe,ZIe=VT;function JIe(e,t){var r=!0;return ZIe(e,function(s,a,i){return r=!!t(s,a,i),r}),r}var eRe=JIe,tRe=QIe,rRe=eRe,nRe=Yl,sRe=ri,aRe=ZN;function iRe(e,t,r){var s=sRe(e)?tRe:rRe;return r&&aRe(e,t,r)&&(t=void 0),s(e,nRe(t))}var oRe=iRe;const vG=Cr(oRe);var lRe=["x","y"];function F0(e){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F0(e)}function dA(){return dA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},dA.apply(this,arguments)}function g6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Dx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g6(Object(r),!0).forEach(function(s){cRe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function cRe(e,t,r){return t=dRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dRe(e){var t=uRe(e,"string");return F0(t)=="symbol"?t:t+""}function uRe(e,t){if(F0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(F0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fRe(e,t){if(e==null)return{};var r=mRe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function mRe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function hRe(e,t){var r=e.x,s=e.y,a=fRe(e,lRe),i="".concat(r),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),d="".concat(t.height||a.height),u=parseInt(d,10),f="".concat(t.width||a.width),m=parseInt(f,10);return Dx(Dx(Dx(Dx(Dx({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:m,name:t.name,radius:t.radius})}function v6(e){return V.createElement(uG,dA({shapeType:"rectangle",propTransformer:hRe,activeClassName:"recharts-active-bar"},e))}var pRe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof t=="number")return t;var i=typeof s=="number";return i?t(s,a):(i||nu(),r)}},xRe=["value","background"],yG;function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function gRe(e,t){if(e==null)return{};var r=vRe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function vRe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function H1(){return H1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},H1.apply(this,arguments)}function y6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y6(Object(r),!0).forEach(function(s){kd(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function yRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,bG(s.key),s)}}function jRe(e,t,r){return t&&j6(e.prototype,t),r&&j6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bRe(e,t,r){return t=q1(t),wRe(e,jG()?Reflect.construct(t,r||[],q1(e).constructor):t.apply(e,r))}function wRe(e,t){if(t&&(ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NRe(e)}function NRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jG=function(){return!!e})()}function q1(e){return q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},q1(e)}function _Re(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uA(e,t)}function uA(e,t){return uA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},uA(e,t)}function kd(e,t,r){return t=bG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bG(e){var t=SRe(e,"string");return ep(t)=="symbol"?t:t+""}function SRe(e,t){if(ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ep(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mn=function(e){function t(){var r;yRe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=bRe(this,t,[].concat(a)),kd(r,"state",{isAnimationFinished:!1}),kd(r,"id",Yf("recharts-bar-")),kd(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),kd(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return _Re(t,e),jRe(t,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=Nt(this.props,!1);return s&&s.map(function(f,m){var h=m===c,x=h?d:o,p=Vn(Vn(Vn({},u),f),{},{isActive:h,option:x,index:m,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return V.createElement(er,H1({className:"recharts-bar-rectangle"},Tf(a.props,f,m),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),V.createElement(v6,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,f=a.animationId,m=this.state.prevData;return V.createElement(Jo,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var x=h.t,p=i.map(function(g,j){var y=m&&m[j];if(y){var w=ts(y.x,g.x),b=ts(y.y,g.y),N=ts(y.width,g.width),S=ts(y.height,g.height);return Vn(Vn({},g),{},{x:w(x),y:b(x),width:N(x),height:S(x)})}if(o==="horizontal"){var E=ts(0,g.height),C=E(x);return Vn(Vn({},g),{},{y:g.y+g.height-C,height:C})}var A=ts(0,g.width),P=A(x);return Vn(Vn({},g),{},{width:P})});return V.createElement(er,null,s.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Df(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Nt(this.props.background,!1);return i.map(function(d,u){d.value;var f=d.background,m=gRe(d,xRe);if(!f)return null;var h=Vn(Vn(Vn(Vn(Vn({},m),{},{fill:"#eee"},f),c),Tf(s.props,d,u)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return V.createElement(v6,H1({key:"background-bar-".concat(u),option:s.props.background,isActive:u===l},h))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=_i(u,Yv);if(!f)return null;var m=d==="vertical"?o[0].height/2:o[0].width/2,h=function(g,j){var y=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:y,errorVal:Rn(g,j)}},x={clipPath:s?"url(#clipPath-".concat(a,")"):null};return V.createElement(er,x,f.map(function(p){return V.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:m,dataPointFormatter:h})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,c=s.yAxis,d=s.left,u=s.top,f=s.width,m=s.height,h=s.isAnimationActive,x=s.background,p=s.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,j=Bt("recharts-bar",o),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,b=y||w,N=Mt(p)?this.id:p;return V.createElement(er,{className:j},y||w?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(N)},V.createElement("rect",{x:y?d:d-f/2,y:w?u:u-m/2,width:y?f:f*2,height:w?m:m*2}))):null,V.createElement(er,{className:"recharts-bar-rectangles",clipPath:b?"url(#clipPath-".concat(N,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(b,N),(!h||g)&&Rl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])}(v.PureComponent);yG=mn;kd(mn,"displayName","Bar");kd(mn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ko.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});kd(mn,"getComposedData",function(e){var t=e.props,r=e.item,s=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,m=e.offset,h=pTe(s,r);if(!h)return null;var x=t.layout,p=r.type.defaultProps,g=p!==void 0?Vn(Vn({},p),r.props):r.props,j=g.dataKey,y=g.children,w=g.minPointSize,b=x==="horizontal"?o:i,N=d?b.scale.domain():null,S=wTe({numericAxis:b}),E=_i(y,ua),C=f.map(function(A,P){var R,I,z,U,L,T;d?R=xTe(d[u+P],N):(R=Rn(A,j),Array.isArray(R)||(R=[S,R]));var k=pRe(w,yG.defaultProps.minPointSize)(R[1],P);if(x==="horizontal"){var O,M=[o.scale(R[0]),o.scale(R[1])],ie=M[0],ce=M[1];I=cF({axis:i,ticks:l,bandSize:a,offset:h.offset,entry:A,index:P}),z=(O=ce??ie)!==null&&O!==void 0?O:void 0,U=h.size;var D=ie-ce;if(L=Number.isNaN(D)?0:D,T={x:I,y:o.y,width:U,height:o.height},Math.abs(k)>0&&Math.abs(L)<Math.abs(k)){var W=ya(L||k)*(Math.abs(k)-Math.abs(L));z-=W,L+=W}}else{var F=[i.scale(R[0]),i.scale(R[1])],q=F[0],le=F[1];if(I=q,z=cF({axis:o,ticks:c,bandSize:a,offset:h.offset,entry:A,index:P}),U=le-q,L=h.size,T={x:i.x,y:z,width:i.width,height:L},Math.abs(k)>0&&Math.abs(U)<Math.abs(k)){var fe=ya(U||k)*(Math.abs(k)-Math.abs(U));U+=fe}}return Vn(Vn(Vn({},A),{},{x:I,y:z,width:U,height:L,value:d?R:R[1],payload:A,background:T},E&&E[P]&&E[P].props),{},{tooltipPayload:[Vq(r,A)],tooltipPosition:{x:I+U/2,y:z+L/2}})});return Vn({data:C,layout:x},m)});function $0(e){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$0(e)}function CRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,wG(s.key),s)}}function ERe(e,t,r){return t&&b6(e.prototype,t),r&&b6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function w6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Do(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w6(Object(r),!0).forEach(function(s){p2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function p2(e,t,r){return t=wG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wG(e){var t=ARe(e,"string");return $0(t)=="symbol"?t:t+""}function ARe(e,t){if($0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if($0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gO=function(t,r,s,a,i){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(r),f={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},m=!!mi(d,mn);return u.reduce(function(h,x){var p=r[x],g=p.orientation,j=p.domain,y=p.padding,w=y===void 0?{}:y,b=p.mirror,N=p.reversed,S="".concat(g).concat(b?"Mirror":""),E,C,A,P,R;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var I=j[1]-j[0],z=1/0,U=p.categoricalDomain.sort();if(U.forEach(function(F,q){q>0&&(z=Math.min((F||0)-(U[q-1]||0),z))}),Number.isFinite(z)){var L=z/I,T=p.layout==="vertical"?s.height:s.width;if(p.padding==="gap"&&(E=L*T/2),p.padding==="no-gap"){var k=ja(t.barCategoryGap,L*T),O=L*T/2;E=O-k-(O-k)/T*k}}}a==="xAxis"?C=[s.left+(w.left||0)+(E||0),s.left+s.width-(w.right||0)-(E||0)]:a==="yAxis"?C=c==="horizontal"?[s.top+s.height-(w.bottom||0),s.top+(w.top||0)]:[s.top+(w.top||0)+(E||0),s.top+s.height-(w.bottom||0)-(E||0)]:C=p.range,N&&(C=[C[1],C[0]]);var M=$q(p,i,m),ie=M.scale,ce=M.realScaleType;ie.domain(j).range(C),Lq(ie);var D=Bq(ie,Do(Do({},p),{},{realScaleType:ce}));a==="xAxis"?(R=g==="top"&&!b||g==="bottom"&&b,A=s.left,P=f[S]-R*p.height):a==="yAxis"&&(R=g==="left"&&!b||g==="right"&&b,A=f[S]-R*p.width,P=s.top);var W=Do(Do(Do({},p),D),{},{realScaleType:ce,x:A,y:P,scale:ie,width:a==="xAxis"?s.width:p.width,height:a==="yAxis"?s.height:p.height});return W.bandSize=P1(W,D),!p.hide&&a==="xAxis"?f[S]+=(R?-1:1)*W.height:p.hide||(f[S]+=(R?-1:1)*W.width),Do(Do({},h),{},p2({},x,W))},{})},NG=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},kRe=function(t){var r=t.x1,s=t.y1,a=t.x2,i=t.y2;return NG({x:r,y:s},{x:a,y:i})},_G=function(){function e(t){CRe(this,e),this.scale=t}return ERe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();p2(_G,"EPS",1e-4);var vO=function(t){var r=Object.keys(t).reduce(function(s,a){return Do(Do({},s),{},p2({},a,_G.create(t[a])))},{});return Do(Do({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return YIe(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return vG(a,function(i,o){return r[o].isInRange(i)})}})};function PRe(e){return(e%180+180)%180}var TRe=function(t){var r=t.width,s=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=PRe(a),o=i*Math.PI/180,l=Math.atan(s/r),c=o>l&&o<Math.PI-l?s/Math.sin(o):r/Math.cos(o);return Math.abs(c)},ORe=Yl,DRe=Wv,IRe=XN;function RRe(e){return function(t,r,s){var a=Object(t);if(!DRe(t)){var i=ORe(r);t=IRe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,s);return o>-1?a[i?t[o]:o]:void 0}}var MRe=RRe,FRe=hG;function $Re(e){var t=FRe(e),r=t%1;return t===t?r?t-r:t:0}var LRe=$Re,BRe=vH,URe=Yl,VRe=LRe,zRe=Math.max;function WRe(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var a=r==null?0:VRe(r);return a<0&&(a=zRe(s+a,0)),BRe(e,URe(t),a)}var HRe=WRe,qRe=MRe,GRe=HRe,KRe=qRe(GRe),YRe=KRe;const XRe=Cr(YRe);var QRe=sve(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),yO=v.createContext(void 0),jO=v.createContext(void 0),SG=v.createContext(void 0),CG=v.createContext({}),EG=v.createContext(void 0),AG=v.createContext(0),kG=v.createContext(0),N6=function(t){var r=t.state,s=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=QRe(i);return V.createElement(yO.Provider,{value:s},V.createElement(jO.Provider,{value:a},V.createElement(CG.Provider,{value:i},V.createElement(SG.Provider,{value:u},V.createElement(EG.Provider,{value:o},V.createElement(AG.Provider,{value:d},V.createElement(kG.Provider,{value:c},l)))))))},ZRe=function(){return v.useContext(EG)},PG=function(t){var r=v.useContext(yO);r==null&&nu();var s=r[t];return s==null&&nu(),s},JRe=function(){var t=v.useContext(yO);return pd(t)},eMe=function(){var t=v.useContext(jO),r=XRe(t,function(s){return vG(s.domain,Number.isFinite)});return r||pd(t)},TG=function(t){var r=v.useContext(jO);r==null&&nu();var s=r[t];return s==null&&nu(),s},tMe=function(){var t=v.useContext(SG);return t},rMe=function(){return v.useContext(CG)},bO=function(){return v.useContext(kG)},wO=function(){return v.useContext(AG)};function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function nMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sMe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,DG(s.key),s)}}function aMe(e,t,r){return t&&sMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iMe(e,t,r){return t=G1(t),oMe(e,OG()?Reflect.construct(t,r||[],G1(e).constructor):t.apply(e,r))}function oMe(e,t){if(t&&(tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lMe(e)}function lMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OG=function(){return!!e})()}function G1(e){return G1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G1(e)}function cMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fA(e,t)}function fA(e,t){return fA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},fA(e,t)}function _6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function S6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_6(Object(r),!0).forEach(function(s){NO(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function NO(e,t,r){return t=DG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DG(e){var t=dMe(e,"string");return tp(t)=="symbol"?t:t+""}function dMe(e,t){if(tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(tp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uMe(e,t){return pMe(e)||hMe(e,t)||mMe(e,t)||fMe()}function fMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mMe(e,t){if(e){if(typeof e=="string")return C6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C6(e,t)}}function C6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function hMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function pMe(e){if(Array.isArray(e))return e}function mA(){return mA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},mA.apply(this,arguments)}var xMe=function(t,r){var s;return V.isValidElement(t)?s=V.cloneElement(t,r):Pt(t)?s=t(r):s=V.createElement("line",mA({},r,{className:"recharts-reference-line-line"})),s},gMe=function(t,r,s,a,i,o,l,c,d){var u=i.x,f=i.y,m=i.width,h=i.height;if(s){var x=d.y,p=t.y.apply(x,{position:o});if(Ml(d,"discard")&&!t.y.isInRange(p))return null;var g=[{x:u+m,y:p},{x:u,y:p}];return c==="left"?g.reverse():g}if(r){var j=d.x,y=t.x.apply(j,{position:o});if(Ml(d,"discard")&&!t.x.isInRange(y))return null;var w=[{x:y,y:f+h},{x:y,y:f}];return l==="top"?w.reverse():w}if(a){var b=d.segment,N=b.map(function(S){return t.apply(S,{position:o})});return Ml(d,"discard")&&UIe(N,function(S){return!t.isInRange(S)})?null:N}return null};function vMe(e){var t=e.x,r=e.y,s=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=ZRe(),u=PG(a),f=TG(i),m=tMe();if(!d||!m)return null;qo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=vO({x:u.scale,y:f.scale}),x=as(t),p=as(r),g=s&&s.length===2,j=gMe(h,x,p,g,m,e.position,u.orientation,f.orientation,e);if(!j)return null;var y=uMe(j,2),w=y[0],b=w.x,N=w.y,S=y[1],E=S.x,C=S.y,A=Ml(e,"hidden")?"url(#".concat(d,")"):void 0,P=S6(S6({clipPath:A},Nt(e,!0)),{},{x1:b,y1:N,x2:E,y2:C});return V.createElement(er,{className:Bt("recharts-reference-line",l)},xMe(o,P),fs.renderCallByParent(e,kRe({x1:b,y1:N,x2:E,y2:C})))}var _O=function(e){function t(){return nMe(this,t),iMe(this,t,arguments)}return cMe(t,e),aMe(t,[{key:"render",value:function(){return V.createElement(vMe,this.props)}}])}(V.Component);NO(_O,"displayName","ReferenceLine");NO(_O,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function hA(){return hA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},hA.apply(this,arguments)}function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function E6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function A6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E6(Object(r),!0).forEach(function(s){x2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function yMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jMe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,RG(s.key),s)}}function bMe(e,t,r){return t&&jMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wMe(e,t,r){return t=K1(t),NMe(e,IG()?Reflect.construct(t,r||[],K1(e).constructor):t.apply(e,r))}function NMe(e,t){if(t&&(rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Me(e)}function _Me(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IG=function(){return!!e})()}function K1(e){return K1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},K1(e)}function SMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pA(e,t)}function pA(e,t){return pA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},pA(e,t)}function x2(e,t,r){return t=RG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RG(e){var t=CMe(e,"string");return rp(t)=="symbol"?t:t+""}function CMe(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(rp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EMe=function(t){var r=t.x,s=t.y,a=t.xAxis,i=t.yAxis,o=vO({x:a.scale,y:i.scale}),l=o.apply({x:r,y:s},{bandAware:!0});return Ml(t,"discard")&&!o.isInRange(l)?null:l},g2=function(e){function t(){return yMe(this,t),wMe(this,t,arguments)}return SMe(t,e),bMe(t,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,d=as(a),u=as(i);if(qo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var f=EMe(this.props);if(!f)return null;var m=f.x,h=f.y,x=this.props,p=x.shape,g=x.className,j=Ml(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=A6(A6({clipPath:j},Nt(this.props,!0)),{},{cx:m,cy:h});return V.createElement(er,{className:Bt("recharts-reference-dot",g)},t.renderDot(p,y),fs.renderCallByParent(this.props,{x:m-o,y:h-o,width:2*o,height:2*o}))}}])}(V.Component);x2(g2,"displayName","ReferenceDot");x2(g2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});x2(g2,"renderDot",function(e,t){var r;return V.isValidElement(e)?r=V.cloneElement(e,t):Pt(e)?r=e(t):r=V.createElement(Xv,hA({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function xA(){return xA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},xA.apply(this,arguments)}function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function k6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function P6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k6(Object(r),!0).forEach(function(s){v2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function AMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kMe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,FG(s.key),s)}}function PMe(e,t,r){return t&&kMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TMe(e,t,r){return t=Y1(t),OMe(e,MG()?Reflect.construct(t,r||[],Y1(e).constructor):t.apply(e,r))}function OMe(e,t){if(t&&(np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DMe(e)}function DMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MG=function(){return!!e})()}function Y1(e){return Y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y1(e)}function IMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gA(e,t)}function gA(e,t){return gA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},gA(e,t)}function v2(e,t,r){return t=FG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FG(e){var t=RMe(e,"string");return np(t)=="symbol"?t:t+""}function RMe(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(np(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MMe=function(t,r,s,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var m=vO({x:u.scale,y:f.scale}),h={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:s?m.y.apply(c,{position:"start"}):m.y.rangeMin},x={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(d,{position:"end"}):m.y.rangeMax};return Ml(i,"discard")&&(!m.isInRange(h)||!m.isInRange(x))?null:NG(h,x)},y2=function(e){function t(){return AMe(this,t),TMe(this,t,arguments)}return IMe(t,e),PMe(t,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,c=s.className,d=s.alwaysShow,u=s.clipPathId;qo(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=as(a),m=as(i),h=as(o),x=as(l),p=this.props.shape;if(!f&&!m&&!h&&!x&&!p)return null;var g=MMe(f,m,h,x,this.props);if(!g&&!p)return null;var j=Ml(this.props,"hidden")?"url(#".concat(u,")"):void 0;return V.createElement(er,{className:Bt("recharts-reference-area",c)},t.renderRect(p,P6(P6({clipPath:j},Nt(this.props,!0)),g)),fs.renderCallByParent(this.props,g))}}])}(V.Component);v2(y2,"displayName","ReferenceArea");v2(y2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});v2(y2,"renderRect",function(e,t){var r;return V.isValidElement(e)?r=V.cloneElement(e,t):Pt(e)?r=e(t):r=V.createElement(xO,xA({},t,{className:"recharts-reference-area-rect"})),r});function $G(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var s=[],a=0;a<e.length;a+=t)s.push(e[a]);return s}function FMe(e,t,r){var s={width:e.width+t.width,height:e.height+t.height};return TRe(s,r)}function $Me(e,t,r){var s=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function X1(e,t,r,s,a){if(e*t<e*s||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-a)<=0}function LMe(e,t){return $G(e,t+1)}function BMe(e,t,r,s,a){for(var i=(s||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,f=function(){var x=s==null?void 0:s[c];if(x===void 0)return{v:$G(s,d)};var p=c,g,j=function(){return g===void 0&&(g=r(x,p)),g},y=x.coordinate,w=c===0||X1(e,y,j,u,l);w||(c=0,u=o,d+=1),w&&(u=y+e*(j()/2+a),c+=d)},m;d<=i.length;)if(m=f(),m)return m.v;return[]}function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function T6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T6(Object(r),!0).forEach(function(s){UMe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function UMe(e,t,r){return t=VMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VMe(e){var t=zMe(e,"string");return L0(t)=="symbol"?t:t+""}function zMe(e,t){if(L0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(L0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WMe(e,t,r,s,a){for(var i=(s||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(m){var h=i[m],x,p=function(){return x===void 0&&(x=r(h,m)),x};if(m===o-1){var g=e*(h.coordinate+e*p()/2-c);i[m]=h=Ys(Ys({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate})}else i[m]=h=Ys(Ys({},h),{},{tickCoord:h.coordinate});var j=X1(e,h.tickCoord,p,l,c);j&&(c=h.tickCoord-e*(p()/2+a),i[m]=Ys(Ys({},h),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function HMe(e,t,r,s,a,i){var o=(s||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=s[l-1],f=r(u,l-1),m=e*(u.coordinate+e*f/2-d);o[l-1]=u=Ys(Ys({},u),{},{tickCoord:m>0?u.coordinate-m*e:u.coordinate});var h=X1(e,u.tickCoord,function(){return f},c,d);h&&(d=u.tickCoord-e*(f/2+a),o[l-1]=Ys(Ys({},u),{},{isShow:!0}))}for(var x=i?l-1:l,p=function(y){var w=o[y],b,N=function(){return b===void 0&&(b=r(w,y)),b};if(y===0){var S=e*(w.coordinate-e*N()/2-c);o[y]=w=Ys(Ys({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[y]=w=Ys(Ys({},w),{},{tickCoord:w.coordinate});var E=X1(e,w.tickCoord,N,c,d);E&&(c=w.tickCoord+e*(N()/2+a),o[y]=Ys(Ys({},w),{},{isShow:!0}))},g=0;g<x;g++)p(g);return o}function SO(e,t,r){var s=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!s)return[];if(Xe(c)||Ko.isSsr)return LMe(a,typeof c=="number"&&Xe(c)?c:0);var m=[],h=l==="top"||l==="bottom"?"width":"height",x=u&&h==="width"?ug(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,b){var N=Pt(d)?d(w.value,b):w.value;return h==="width"?FMe(ug(N,{fontSize:t,letterSpacing:r}),x,f):ug(N,{fontSize:t,letterSpacing:r})[h]},g=a.length>=2?ya(a[1].coordinate-a[0].coordinate):1,j=$Me(i,g,h);return c==="equidistantPreserveStart"?BMe(g,j,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=HMe(g,j,p,a,o,c==="preserveStartEnd"):m=WMe(g,j,p,a,o),m.filter(function(y){return y.isShow}))}var qMe=["viewBox"],GMe=["viewBox"],KMe=["ticks"];function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Lm.apply(this,arguments)}function O6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O6(Object(r),!0).forEach(function(s){CO(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function SS(e,t){if(e==null)return{};var r=YMe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function YMe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function XMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,BG(s.key),s)}}function QMe(e,t,r){return t&&D6(e.prototype,t),r&&D6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZMe(e,t,r){return t=Q1(t),JMe(e,LG()?Reflect.construct(t,r||[],Q1(e).constructor):t.apply(e,r))}function JMe(e,t){if(t&&(sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eFe(e)}function eFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LG=function(){return!!e})()}function Q1(e){return Q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q1(e)}function tFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vA(e,t)}function vA(e,t){return vA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},vA(e,t)}function CO(e,t,r){return t=BG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BG(e){var t=rFe(e,"string");return sp(t)=="symbol"?t:t+""}function rFe(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(sp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gp=function(e){function t(r){var s;return XMe(this,t),s=ZMe(this,t,[r]),s.state={fontSize:"",letterSpacing:""},s}return tFe(t,e),QMe(t,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=SS(s,qMe),l=this.props,c=l.viewBox,d=SS(l,GMe);return!th(i,c)||!th(o,d)||!th(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,f=a.mirror,m=a.tickMargin,h,x,p,g,j,y,w=f?-1:1,b=s.tickSize||u,N=Xe(s.tickCoord)?s.tickCoord:s.coordinate;switch(d){case"top":h=x=s.coordinate,g=o+ +!f*c,p=g-w*b,y=p-w*m,j=N;break;case"left":p=g=s.coordinate,x=i+ +!f*l,h=x-w*b,j=h-w*m,y=N;break;case"right":p=g=s.coordinate,x=i+ +f*l,h=x+w*b,j=h+w*m,y=N;break;default:h=x=s.coordinate,g=o+ +f*c,p=g+w*b,y=p+w*m,j=N;break}return{line:{x1:h,y1:p,x2:x,y2:g},tick:{x:j,y}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.orientation,d=s.mirror,u=s.axisLine,f=aa(aa(aa({},Nt(this.props,!1)),Nt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!d||c==="bottom"&&d);f=aa(aa({},f),{},{x1:a,y1:i+m*l,x2:a+o,y2:i+m*l})}else{var h=+(c==="left"&&!d||c==="right"&&d);f=aa(aa({},f),{},{x1:a+h*o,y1:i,x2:a+h*o,y2:i+l})}return V.createElement("line",Lm({},f,{className:Bt("recharts-cartesian-axis-line",Ni(u,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,f=l.tickFormatter,m=l.unit,h=SO(aa(aa({},this.props),{},{ticks:s}),a,i),x=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),g=Nt(this.props,!1),j=Nt(u,!1),y=aa(aa({},g),{},{fill:"none"},Nt(c,!1)),w=h.map(function(b,N){var S=o.getTickLineCoord(b),E=S.line,C=S.tick,A=aa(aa(aa(aa({textAnchor:x,verticalAnchor:p},g),{},{stroke:"none",fill:d},j),C),{},{index:N,payload:b,visibleTicksCount:h.length,tickFormatter:f});return V.createElement(er,Lm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},Tf(o.props,b,N)),c&&V.createElement("line",Lm({},y,E,{className:Bt("recharts-cartesian-axis-tick-line",Ni(c,"className"))})),u&&t.renderTickItem(u,A,"".concat(Pt(f)?f(b.value,N):b.value).concat(m||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var f=this.props,m=f.ticks,h=SS(f,KMe),x=m;return Pt(c)&&(x=m&&m.length>0?c(this.props):c(h)),o<=0||l<=0||!x||!x.length?null:V.createElement(er,{className:Bt("recharts-cartesian-axis",d),ref:function(g){s.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),fs.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return V.isValidElement(s)?o=V.cloneElement(s,a):Pt(s)?o=s(a):o=V.createElement(Of,Lm({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(v.Component);CO(Gp,"displayName","CartesianAxis");CO(Gp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var nFe=["x1","y1","x2","y2","key"],sFe=["offset"];function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function I6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I6(Object(r),!0).forEach(function(s){aFe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function aFe(e,t,r){return t=iFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iFe(e){var t=oFe(e,"string");return Rf(t)=="symbol"?t:t+""}function oFe(e,t){if(Rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Rf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xu(){return Xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Xu.apply(this,arguments)}function R6(e,t){if(e==null)return{};var r=lFe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function lFe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var cFe=function(t){var r=t.fill;if(!r||r==="none")return null;var s=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return V.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function UG(e,t){var r;if(V.isValidElement(e))r=V.cloneElement(e,t);else if(Pt(e))r=e(t);else{var s=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=R6(t,nFe),d=Nt(c,!1);d.offset;var u=R6(d,sFe);r=V.createElement("line",Xu({},u,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function dFe(e){var t=e.x,r=e.width,s=e.horizontal,a=s===void 0?!0:s,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=Qs(Qs({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return UG(a,d)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function uFe(e){var t=e.y,r=e.height,s=e.vertical,a=s===void 0?!0:s,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=Qs(Qs({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return UG(a,d)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function fFe(e){var t=e.horizontalFill,r=e.fillOpacity,s=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(m){return Math.round(m+a-a)}).sort(function(m,h){return m-h});a!==u[0]&&u.unshift(0);var f=u.map(function(m,h){var x=!u[h+1],p=x?a+o-m:u[h+1]-m;if(p<=0)return null;var g=h%t.length;return V.createElement("rect",{key:"react-".concat(h),y:m,x:s,height:p,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function mFe(e){var t=e.vertical,r=t===void 0?!0:t,s=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!s||!s.length)return null;var u=d.map(function(m){return Math.round(m+i-i)}).sort(function(m,h){return m-h});i!==u[0]&&u.unshift(0);var f=u.map(function(m,h){var x=!u[h+1],p=x?i+l-m:u[h+1]-m;if(p<=0)return null;var g=h%s.length;return V.createElement("rect",{key:"react-".concat(h),x:m,y:o,width:p,height:c,stroke:"none",fill:s[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var hFe=function(t,r){var s=t.xAxis,a=t.width,i=t.height,o=t.offset;return Fq(SO(Qs(Qs(Qs({},Gp.defaultProps),s),{},{ticks:yc(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},pFe=function(t,r){var s=t.yAxis,a=t.width,i=t.height,o=t.offset;return Fq(SO(Qs(Qs(Qs({},Gp.defaultProps),s),{},{ticks:yc(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},pm={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Tn(e){var t,r,s,a,i,o,l=bO(),c=wO(),d=rMe(),u=Qs(Qs({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:pm.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:pm.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:pm.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:pm.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:pm.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:pm.verticalFill,x:Xe(e.x)?e.x:d.left,y:Xe(e.y)?e.y:d.top,width:Xe(e.width)?e.width:d.width,height:Xe(e.height)?e.height:d.height}),f=u.x,m=u.y,h=u.width,x=u.height,p=u.syncWithTicks,g=u.horizontalValues,j=u.verticalValues,y=JRe(),w=eMe();if(!Xe(h)||h<=0||!Xe(x)||x<=0||!Xe(f)||f!==+f||!Xe(m)||m!==+m)return null;var b=u.verticalCoordinatesGenerator||hFe,N=u.horizontalCoordinatesGenerator||pFe,S=u.horizontalPoints,E=u.verticalPoints;if((!S||!S.length)&&Pt(N)){var C=g&&g.length,A=N({yAxis:w?Qs(Qs({},w),{},{ticks:C?g:w.ticks}):void 0,width:l,height:c,offset:d},C?!0:p);qo(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Rf(A),"]")),Array.isArray(A)&&(S=A)}if((!E||!E.length)&&Pt(b)){var P=j&&j.length,R=b({xAxis:y?Qs(Qs({},y),{},{ticks:P?j:y.ticks}):void 0,width:l,height:c,offset:d},P?!0:p);qo(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Rf(R),"]")),Array.isArray(R)&&(E=R)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(cFe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),V.createElement(dFe,Xu({},u,{offset:d,horizontalPoints:S,xAxis:y,yAxis:w})),V.createElement(uFe,Xu({},u,{offset:d,verticalPoints:E,xAxis:y,yAxis:w})),V.createElement(fFe,Xu({},u,{horizontalPoints:S})),V.createElement(mFe,Xu({},u,{verticalPoints:E})))}Tn.displayName="CartesianGrid";var xFe=["type","layout","connectNulls","ref"],gFe=["key"];function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function M6(e,t){if(e==null)return{};var r=vFe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function vFe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},gg.apply(this,arguments)}function F6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F6(Object(r),!0).forEach(function(s){Io(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function xm(e){return wFe(e)||bFe(e)||jFe(e)||yFe()}function yFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jFe(e,t){if(e){if(typeof e=="string")return yA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yA(e,t)}}function bFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wFe(e){if(Array.isArray(e))return yA(e)}function yA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function NFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,zG(s.key),s)}}function _Fe(e,t,r){return t&&$6(e.prototype,t),r&&$6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SFe(e,t,r){return t=Z1(t),CFe(e,VG()?Reflect.construct(t,r||[],Z1(e).constructor):t.apply(e,r))}function CFe(e,t){if(t&&(ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EFe(e)}function EFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VG=function(){return!!e})()}function Z1(e){return Z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z1(e)}function AFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jA(e,t)}function jA(e,t){return jA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},jA(e,t)}function Io(e,t,r){return t=zG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=kFe(e,"string");return ap(t)=="symbol"?t:t+""}function kFe(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ap(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zl=function(e){function t(){var r;NFe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=SFe(this,t,[].concat(a)),Io(r,"state",{isAnimationFinished:!0,totalLength:0}),Io(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Io(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(j,y){return j+y});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),f=o%d,m=l-o,h=[],x=0,p=0;x<c.length;p+=c[x],++x)if(p+c[x]>f){h=[].concat(xm(c.slice(0,x)),[f-p]);break}var g=h.length%2===0?[0,m]:[m];return[].concat(xm(t.repeat(c,u)),xm(h),g).map(function(j){return"".concat(j,"px")}).join(", ")}),Io(r,"id",Yf("recharts-line-")),Io(r,"pathRef",function(o){r.mainCurve=o}),Io(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Io(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return AFe(t,e),_Fe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=_i(u,Yv);if(!f)return null;var m=function(p,g){return{x:p.x,y:p.y,value:p.value,errorVal:Rn(p.payload,g)}},h={clipPath:s?"url(#clipPath-".concat(a,")"):null};return V.createElement(er,h,f.map(function(x){return V.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:m})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,f=Nt(this.props,!1),m=Nt(c,!0),h=d.map(function(p,g){var j=ai(ai(ai({key:"dot-".concat(g),r:3},f),m),{},{value:p.value,dataKey:u,cx:p.x,cy:p.y,index:g,payload:p.payload});return t.renderDotItem(c,j)}),x={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return V.createElement(er,gg({className:"recharts-line-dots",key:"dots"},x),h)}},{key:"renderCurveStatically",value:function(s,a,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var f=M6(l,xFe),m=ai(ai(ai({},Nt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:c,layout:d,connectNulls:u});return V.createElement(ff,gg({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,m=o.animationEasing,h=o.animationId,x=o.animateNewValues,p=o.width,g=o.height,j=this.state,y=j.prevPoints,w=j.totalLength;return V.createElement(Jo,{begin:u,duration:f,isActive:d,easing:m,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var N=b.t;if(y){var S=y.length/l.length,E=l.map(function(I,z){var U=Math.floor(z*S);if(y[U]){var L=y[U],T=ts(L.x,I.x),k=ts(L.y,I.y);return ai(ai({},I),{},{x:T(N),y:k(N)})}if(x){var O=ts(p*2,I.x),M=ts(g/2,I.y);return ai(ai({},I),{},{x:O(N),y:M(N)})}return ai(ai({},I),{},{x:I.x,y:I.y})});return i.renderCurveStatically(E,s,a)}var C=ts(0,w),A=C(N),P;if(c){var R="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});P=i.getStrokeDasharray(A,w,R)}else P=i.generateSimpleStrokeDasharray(w,A);return i.renderCurveStatically(l,s,a,{strokeDasharray:P})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!Df(d,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,u=a.yAxis,f=a.top,m=a.left,h=a.width,x=a.height,p=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var j=this.state.isAnimationFinished,y=l.length===1,w=Bt("recharts-line",c),b=d&&d.allowDataOverflow,N=u&&u.allowDataOverflow,S=b||N,E=Mt(g)?this.id:g,C=(s=Nt(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},A=C.r,P=A===void 0?3:A,R=C.strokeWidth,I=R===void 0?2:R,z=kW(o)?o:{},U=z.clipDot,L=U===void 0?!0:U,T=P*2+I;return V.createElement(er,{className:w},b||N?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(E)},V.createElement("rect",{x:b?m:m-h/2,y:N?f:f-x/2,width:b?h:h*2,height:N?x:x*2})),!L&&V.createElement("clipPath",{id:"clipPath-dots-".concat(E)},V.createElement("rect",{x:m-T/2,y:f-T/2,width:h+T,height:x+T}))):null,!y&&this.renderCurve(S,E),this.renderErrorBar(S,E),(y||o)&&this.renderDots(S,L,E),(!p||j)&&Rl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat(xm(s),[0]):s,o=[],l=0;l<a;++l)o=[].concat(xm(o),xm(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if(V.isValidElement(s))i=V.cloneElement(s,a);else if(Pt(s))i=s(a);else{var o=a.key,l=M6(a,gFe),c=Bt("recharts-line-dot",typeof s!="boolean"?s.className:"");i=V.createElement(Xv,gg({key:o},l,{className:c}))}return i}}])}(v.PureComponent);Io(zl,"displayName","Line");Io(zl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ko.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Io(zl,"getComposedData",function(e){var t=e.props,r=e.xAxis,s=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,f=c.map(function(m,h){var x=Rn(m,o);return u==="horizontal"?{x:k1({axis:r,ticks:a,bandSize:l,entry:m,index:h}),y:Mt(x)?null:s.scale(x),value:x,payload:m}:{x:Mt(x)?null:r.scale(x),y:k1({axis:s,ticks:i,bandSize:l,entry:m,index:h}),value:x,payload:m}});return ai({points:f,layout:u},d)});var PFe=["layout","type","stroke","connectNulls","isRange","ref"],TFe=["key"],WG;function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function HG(e,t){if(e==null)return{};var r=OFe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function OFe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function Qu(){return Qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Qu.apply(this,arguments)}function L6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L6(Object(r),!0).forEach(function(s){Pl(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function DFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,GG(s.key),s)}}function IFe(e,t,r){return t&&B6(e.prototype,t),r&&B6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RFe(e,t,r){return t=J1(t),MFe(e,qG()?Reflect.construct(t,r||[],J1(e).constructor):t.apply(e,r))}function MFe(e,t){if(t&&(ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FFe(e)}function FFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qG=function(){return!!e})()}function J1(e){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J1(e)}function $Fe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bA(e,t)}function bA(e,t){return bA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},bA(e,t)}function Pl(e,t,r){return t=GG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GG(e){var t=LFe(e,"string");return ip(t)=="symbol"?t:t+""}function LFe(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ip(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uc=function(e){function t(){var r;DFe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=RFe(this,t,[].concat(a)),Pl(r,"state",{isAnimationFinished:!0}),Pl(r,"id",Yf("recharts-area-")),Pl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Pt(o)&&o()}),Pl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Pt(o)&&o()}),r}return $Fe(t,e),IFe(t,[{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,f=c.dataKey,m=Nt(this.props,!1),h=Nt(d,!0),x=u.map(function(g,j){var y=od(od(od({key:"dot-".concat(j),r:3},m),h),{},{index:j,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:u});return t.renderDotItem(d,y)}),p={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return V.createElement(er,Qu({className:"recharts-area-dots"},p),x)}},{key:"renderHorizontalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=s*Math.abs(c-d),f=Ad(o.map(function(m){return m.y||0}));return Xe(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Ad(i.map(function(m){return m.y||0})),f)),Xe(f)?V.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=s*Math.abs(c-d),f=Ad(o.map(function(m){return m.x||0}));return Xe(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Ad(i.map(function(m){return m.x||0})),f)),Xe(f)?V.createElement("rect",{x:0,y:c<d?c:c-u,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(s){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,a,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,f=l.connectNulls,m=l.isRange;l.ref;var h=HG(l,PFe);return V.createElement(er,{clipPath:i?"url(#clipPath-".concat(o,")"):null},V.createElement(ff,Qu({},Nt(h,!0),{points:s,connectNulls:f,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&V.createElement(ff,Qu({},Nt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:s})),u!=="none"&&m&&V.createElement(ff,Qu({},Nt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,m=o.animationEasing,h=o.animationId,x=this.state,p=x.prevPoints,g=x.prevBaseLine;return V.createElement(Jo,{begin:u,duration:f,isActive:d,easing:m,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var y=j.t;if(p){var w=p.length/l.length,b=l.map(function(C,A){var P=Math.floor(A*w);if(p[P]){var R=p[P],I=ts(R.x,C.x),z=ts(R.y,C.y);return od(od({},C),{},{x:I(y),y:z(y)})}return C}),N;if(Xe(c)&&typeof c=="number"){var S=ts(g,c);N=S(y)}else if(Mt(c)||Lp(c)){var E=ts(g,0);N=E(y)}else N=c.map(function(C,A){var P=Math.floor(A*w);if(g[P]){var R=g[P],I=ts(R.x,C.x),z=ts(R.y,C.y);return od(od({},C),{},{x:I(y),y:z(y)})}return C});return i.renderAreaStatically(b,N,s,a)}return V.createElement(er,null,V.createElement("defs",null,V.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(y))),V.createElement(er,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,s,a)))})}},{key:"renderArea",value:function(s,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,f=d.prevBaseLine,m=d.totalLength;return c&&o&&o.length&&(!u&&m>0||!Df(u,o)||!Df(f,l))?this.renderAreaWithAnimation(s,a):this.renderAreaStatically(o,l,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.top,u=a.left,f=a.xAxis,m=a.yAxis,h=a.width,x=a.height,p=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var j=this.state.isAnimationFinished,y=l.length===1,w=Bt("recharts-area",c),b=f&&f.allowDataOverflow,N=m&&m.allowDataOverflow,S=b||N,E=Mt(g)?this.id:g,C=(s=Nt(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},A=C.r,P=A===void 0?3:A,R=C.strokeWidth,I=R===void 0?2:R,z=kW(o)?o:{},U=z.clipDot,L=U===void 0?!0:U,T=P*2+I;return V.createElement(er,{className:w},b||N?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(E)},V.createElement("rect",{x:b?u:u-h/2,y:N?d:d-x/2,width:b?h:h*2,height:N?x:x*2})),!L&&V.createElement("clipPath",{id:"clipPath-dots-".concat(E)},V.createElement("rect",{x:u-T/2,y:d-T/2,width:h+T,height:x+T}))):null,y?null:this.renderArea(S,E),(o||y)&&this.renderDots(S,L,E),(!p||j)&&Rl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:s.points!==a.curPoints||s.baseLine!==a.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(v.PureComponent);WG=Uc;Pl(Uc,"displayName","Area");Pl(Uc,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ko.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Pl(Uc,"getBaseValue",function(e,t,r,s){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(Xe(l)&&typeof l=="number")return l;var c=a==="horizontal"?s:r,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),f=Math.min(d[0],d[1]);return l==="dataMin"?f:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});Pl(Uc,"getComposedData",function(e){var t=e.props,r=e.item,s=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,m=e.offset,h=t.layout,x=d&&d.length,p=WG.getBaseValue(t,r,s,a),g=h==="horizontal",j=!1,y=f.map(function(b,N){var S;x?S=d[u+N]:(S=Rn(b,c),Array.isArray(S)?j=!0:S=[p,S]);var E=S[1]==null||x&&Rn(b,c)==null;return g?{x:k1({axis:s,ticks:i,bandSize:l,entry:b,index:N}),y:E?null:a.scale(S[1]),value:S,payload:b}:{x:E?null:s.scale(S[1]),y:k1({axis:a,ticks:o,bandSize:l,entry:b,index:N}),value:S,payload:b}}),w;return x||j?w=y.map(function(b){var N=Array.isArray(b.value)?b.value[0]:null;return g?{x:b.x,y:N!=null&&b.y!=null?a.scale(N):null}:{x:N!=null?s.scale(N):null,y:b.y}}):w=g?a.scale(p):s.scale(p),od({points:y,baseLine:w,layout:h,isRange:j},m)});Pl(Uc,"renderDotItem",function(e,t){var r;if(V.isValidElement(e))r=V.cloneElement(e,t);else if(Pt(e))r=e(t);else{var s=Bt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=HG(t,TFe);r=V.createElement(Xv,Qu({},i,{key:a,className:s}))}return r});function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function BFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UFe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,XG(s.key),s)}}function VFe(e,t,r){return t&&UFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zFe(e,t,r){return t=ew(t),WFe(e,KG()?Reflect.construct(t,r||[],ew(e).constructor):t.apply(e,r))}function WFe(e,t){if(t&&(op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HFe(e)}function HFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KG=function(){return!!e})()}function ew(e){return ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ew(e)}function qFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wA(e,t)}function wA(e,t){return wA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},wA(e,t)}function YG(e,t,r){return t=XG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XG(e){var t=GFe(e,"string");return op(t)=="symbol"?t:t+""}function GFe(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(op(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NA(){return NA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},NA.apply(this,arguments)}function KFe(e){var t=e.xAxisId,r=bO(),s=wO(),a=PG(t);return a==null?null:V.createElement(Gp,NA({},a,{className:Bt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(o){return yc(o,!0)}}))}var Xr=function(e){function t(){return BFe(this,t),zFe(this,t,arguments)}return qFe(t,e),VFe(t,[{key:"render",value:function(){return V.createElement(KFe,this.props)}}])}(V.Component);YG(Xr,"displayName","XAxis");YG(Xr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function YFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XFe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,JG(s.key),s)}}function QFe(e,t,r){return t&&XFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZFe(e,t,r){return t=tw(t),JFe(e,QG()?Reflect.construct(t,r||[],tw(e).constructor):t.apply(e,r))}function JFe(e,t){if(t&&(lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e6e(e)}function e6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QG=function(){return!!e})()}function tw(e){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tw(e)}function t6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_A(e,t)}function _A(e,t){return _A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},_A(e,t)}function ZG(e,t,r){return t=JG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JG(e){var t=r6e(e,"string");return lp(t)=="symbol"?t:t+""}function r6e(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(lp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SA(){return SA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},SA.apply(this,arguments)}var n6e=function(t){var r=t.yAxisId,s=bO(),a=wO(),i=TG(r);return i==null?null:V.createElement(Gp,SA({},i,{className:Bt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return yc(l,!0)}}))},Qr=function(e){function t(){return YFe(this,t),ZFe(this,t,arguments)}return t6e(t,e),QFe(t,[{key:"render",value:function(){return V.createElement(n6e,this.props)}}])}(V.Component);ZG(Qr,"displayName","YAxis");ZG(Qr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function U6(e){return o6e(e)||i6e(e)||a6e(e)||s6e()}function s6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a6e(e,t){if(e){if(typeof e=="string")return CA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CA(e,t)}}function i6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o6e(e){if(Array.isArray(e))return CA(e)}function CA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var EA=function(t,r,s,a,i){var o=_i(t,_O),l=_i(t,g2),c=[].concat(U6(o),U6(l)),d=_i(t,y2),u="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(p,g){if(g.props[u]===s&&Ml(g.props,"extendDomain")&&Xe(g.props[f])){var j=g.props[f];return[Math.min(p[0],j),Math.max(p[1],j)]}return p},m)),d.length){var h="".concat(f,"1"),x="".concat(f,"2");m=d.reduce(function(p,g){if(g.props[u]===s&&Ml(g.props,"extendDomain")&&Xe(g.props[h])&&Xe(g.props[x])){var j=g.props[h],y=g.props[x];return[Math.min(p[0],j,y),Math.max(p[1],j,y)]}return p},m)}return i&&i.length&&(m=i.reduce(function(p,g){return Xe(g)?[Math.min(p[0],g),Math.max(p[1],g)]:p},m)),m},eK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new a(u,f||c,m),x=r?r+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],h]:c._events[x].push(h):(c._events[x]=h,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,x=new Array(h);m<h;m++)x[m]=f[m].fn;return x},l.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,m,h,x){var p=r?r+d:d;if(!this._events[p])return!1;var g=this._events[p],j=arguments.length,y,w;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),j){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,m),!0;case 5:return g.fn.call(g.context,u,f,m,h),!0;case 6:return g.fn.call(g.context,u,f,m,h,x),!0}for(w=1,y=new Array(j-1);w<j;w++)y[w-1]=arguments[w];g.fn.apply(g.context,y)}else{var b=g.length,N;for(w=0;w<b;w++)switch(g[w].once&&this.removeListener(d,g[w].fn,void 0,!0),j){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,u);break;case 3:g[w].fn.call(g[w].context,u,f);break;case 4:g[w].fn.call(g[w].context,u,f,m);break;default:if(!y)for(N=1,y=new Array(j-1);N<j;N++)y[N-1]=arguments[N];g[w].fn.apply(g[w].context,y)}}return!0},l.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,m){var h=r?r+d:d;if(!this._events[h])return this;if(!u)return o(this,h),this;var x=this._events[h];if(x.fn)x.fn===u&&(!m||x.once)&&(!f||x.context===f)&&o(this,h);else{for(var p=0,g=[],j=x.length;p<j;p++)(x[p].fn!==u||m&&!x[p].once||f&&x[p].context!==f)&&g.push(x[p]);g.length?this._events[h]=g.length===1?g[0]:g:o(this,h)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(eK);var l6e=eK.exports;const c6e=Cr(l6e);var CS=new c6e,ES="recharts.syncMouseEvents";function B0(e){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B0(e)}function d6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u6e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,tK(s.key),s)}}function f6e(e,t,r){return t&&u6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AS(e,t,r){return t=tK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tK(e){var t=m6e(e,"string");return B0(t)=="symbol"?t:t+""}function m6e(e,t){if(B0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(B0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var h6e=function(){function e(){d6e(this,e),AS(this,"activeIndex",0),AS(this,"coordinateList",[]),AS(this,"layout","horizontal")}return f6e(e,[{key:"setDetails",value:function(r){var s,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,f=u===void 0?null:u,m=r.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((s=window)===null||s===void 0?void 0:s.scrollY)||0,f=i+c+d,m=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function p6e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var s=e==null?void 0:e[0],a=e==null?void 0:e[1];if(s&&a&&Xe(s)&&Xe(a))return!0}return!1}function x6e(e,t,r,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?s:r.width-1,height:e==="horizontal"?r.height-1:s}}function rK(e){var t=e.cx,r=e.cy,s=e.radius,a=e.startAngle,i=e.endAngle,o=Wr(t,r,s,a),l=Wr(t,r,s,i);return{points:[o,l],cx:t,cy:r,radius:s,startAngle:a,endAngle:i}}function g6e(e,t,r){var s,a,i,o;if(e==="horizontal")s=t.x,i=s,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,s=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,f=t.angle,m=Wr(l,c,d,f),h=Wr(l,c,u,f);s=m.x,a=m.y,i=h.x,o=h.y}else return rK(t);return[{x:s,y:a},{x:i,y:o}]}function U0(e){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U0(e)}function V6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function oj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V6(Object(r),!0).forEach(function(s){v6e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function v6e(e,t,r){return t=y6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y6e(e){var t=j6e(e,"string");return U0(t)=="symbol"?t:t+""}function j6e(e,t){if(U0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(U0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b6e(e){var t,r,s=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,h=(t=s.props.cursor)!==null&&t!==void 0?t:(r=s.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!s||!h||!i||!o||m!=="ScatterChart"&&a!=="axis")return null;var x,p=ff;if(m==="ScatterChart")x=o,p=kDe;else if(m==="BarChart")x=x6e(f,o,c,u),p=xO;else if(f==="radial"){var g=rK(o),j=g.cx,y=g.cy,w=g.radius,b=g.startAngle,N=g.endAngle;x={cx:j,cy:y,startAngle:b,endAngle:N,innerRadius:w,outerRadius:w},p=Kq}else x={points:g6e(f,o,c)},p=ff;var S=oj(oj(oj(oj({stroke:"#ccc",pointerEvents:"none"},c),x),Nt(h,!1)),{},{payload:l,payloadIndex:d,className:Bt("recharts-tooltip-cursor",h.className)});return v.isValidElement(h)?v.cloneElement(h,S):v.createElement(p,S)}var w6e=["item"],N6e=["children","className","width","height","style","compact","title","desc"];function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},vg.apply(this,arguments)}function z6(e,t){return C6e(e)||S6e(e,t)||sK(e,t)||_6e()}function _6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function C6e(e){if(Array.isArray(e))return e}function W6(e,t){if(e==null)return{};var r=E6e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function E6e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function A6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k6e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,aK(s.key),s)}}function P6e(e,t,r){return t&&k6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function T6e(e,t,r){return t=rw(t),O6e(e,nK()?Reflect.construct(t,r||[],rw(e).constructor):t.apply(e,r))}function O6e(e,t){if(t&&(cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D6e(e)}function D6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nK=function(){return!!e})()}function rw(e){return rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rw(e)}function I6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AA(e,t)}function AA(e,t){return AA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},AA(e,t)}function dp(e){return F6e(e)||M6e(e)||sK(e)||R6e()}function R6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sK(e,t){if(e){if(typeof e=="string")return kA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kA(e,t)}}function M6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function F6e(e){if(Array.isArray(e))return kA(e)}function kA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function H6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H6(Object(r),!0).forEach(function(s){At(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function At(e,t,r){return t=aK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aK(e){var t=$6e(e,"string");return cp(t)=="symbol"?t:t+""}function $6e(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(cp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L6e={xAxis:["bottom","top"],yAxis:["left","right"]},B6e={width:"100%",height:"100%"},iK={x:0,y:0};function lj(e){return e}var U6e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},V6e=function(t,r,s,a){var i=r.find(function(u){return u&&u.index===s});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return $e($e($e({},a),Wr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return $e($e($e({},a),Wr(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return iK},j2=function(t,r){var s=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(s??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(dp(l),dp(d)):l},[]);return o.length>0?o:t&&t.length&&Xe(a)&&Xe(i)?t.slice(a,i+1):[]};function oK(e){return e==="number"?[0,"auto"]:void 0}var PA=function(t,r,s,a){var i=t.graphicalItems,o=t.tooltipAxis,l=j2(r,t);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(c,d){var u,f=(u=d.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?l:f;m=t1(h,o.dataKey,a)}else m=f&&f[s]||l[s];return m?[].concat(dp(c),[Vq(d,m)]):c},[])},q6=function(t,r,s,a){var i=a||{x:t.chartX,y:t.chartY},o=U6e(i,s),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=cTe(o,l,d,c);if(u>=0&&d){var f=d[u]&&d[u].value,m=PA(t,r,u,f),h=V6e(s,l,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:m,activeCoordinate:h}}return null},z6e=function(t,r){var s=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,m=t.stackOffset,h=Mq(u,i);return s.reduce(function(x,p){var g,j=p.type.defaultProps!==void 0?$e($e({},p.type.defaultProps),p.props):p.props,y=j.type,w=j.dataKey,b=j.allowDataOverflow,N=j.allowDuplicatedCategory,S=j.scale,E=j.ticks,C=j.includeHidden,A=j[o];if(x[A])return x;var P=j2(t.data,{graphicalItems:a.filter(function(D){var W,F=o in D.props?D.props[o]:(W=D.type.defaultProps)===null||W===void 0?void 0:W[o];return F===A}),dataStartIndex:c,dataEndIndex:d}),R=P.length,I,z,U;p6e(j.domain,b,y)&&(I=zE(j.domain,null,b),h&&(y==="number"||S!=="auto")&&(U=mg(P,w,"category")));var L=oK(y);if(!I||I.length===0){var T,k=(T=j.domain)!==null&&T!==void 0?T:L;if(w){if(I=mg(P,w,y),y==="category"&&h){var O=eye(I);N&&O?(z=I,I=V1(0,R)):N||(I=fF(k,I,p).reduce(function(D,W){return D.indexOf(W)>=0?D:[].concat(dp(D),[W])},[]))}else if(y==="category")N?I=I.filter(function(D){return D!==""&&!Mt(D)}):I=fF(k,I,p).reduce(function(D,W){return D.indexOf(W)>=0||W===""||Mt(W)?D:[].concat(dp(D),[W])},[]);else if(y==="number"){var M=hTe(P,a.filter(function(D){var W,F,q=o in D.props?D.props[o]:(W=D.type.defaultProps)===null||W===void 0?void 0:W[o],le="hide"in D.props?D.props.hide:(F=D.type.defaultProps)===null||F===void 0?void 0:F.hide;return q===A&&(C||!le)}),w,i,u);M&&(I=M)}h&&(y==="number"||S!=="auto")&&(U=mg(P,w,"category"))}else h?I=V1(0,R):l&&l[A]&&l[A].hasStack&&y==="number"?I=m==="expand"?[0,1]:Uq(l[A].stackGroups,c,d):I=Rq(P,a.filter(function(D){var W=o in D.props?D.props[o]:D.type.defaultProps[o],F="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return W===A&&(C||!F)}),y,u,!0);if(y==="number")I=EA(f,I,A,i,E),k&&(I=zE(k,I,b));else if(y==="category"&&k){var ie=k,ce=I.every(function(D){return ie.indexOf(D)>=0});ce&&(I=ie)}}return $e($e({},x),{},At({},A,$e($e({},j),{},{axisType:i,domain:I,categoricalDomain:U,duplicateDomain:z,originalDomain:(g=j.domain)!==null&&g!==void 0?g:L,isCategorical:h,layout:u})))},{})},W6e=function(t,r){var s=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,m=j2(t.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:d}),h=m.length,x=Mq(u,i),p=-1;return s.reduce(function(g,j){var y=j.type.defaultProps!==void 0?$e($e({},j.type.defaultProps),j.props):j.props,w=y[o],b=oK("number");if(!g[w]){p++;var N;return x?N=V1(0,h):l&&l[w]&&l[w].hasStack?(N=Uq(l[w].stackGroups,c,d),N=EA(f,N,w,i)):(N=zE(b,Rq(m,s.filter(function(S){var E,C,A=o in S.props?S.props[o]:(E=S.type.defaultProps)===null||E===void 0?void 0:E[o],P="hide"in S.props?S.props.hide:(C=S.type.defaultProps)===null||C===void 0?void 0:C.hide;return A===w&&!P}),"number",u),a.defaultProps.allowDataOverflow),N=EA(f,N,w,i)),$e($e({},g),{},At({},w,$e($e({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ni(L6e,"".concat(i,".").concat(p%2),null),domain:N,originalDomain:b,isCategorical:x,layout:u})))}return g},{})},H6e=function(t,r){var s=r.axisType,a=s===void 0?"xAxis":s,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),m=_i(u,i),h={};return m&&m.length?h=z6e(t,{axes:m,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(h=W6e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),h},q6e=function(t){var r=pd(t),s=yc(r,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:zT(s,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:P1(r,s)}},G6=function(t){var r=t.children,s=t.defaultShowTooltip,a=mi(r,Jh),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},G6e=function(t){return!t||!t.length?!1:t.some(function(r){var s=Nc(r&&r.type);return s&&s.indexOf("Bar")>=0})},K6=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},K6e=function(t,r){var s=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=s.width,u=s.height,f=s.children,m=s.margin||{},h=mi(f,Jh),x=mi(f,Go),p=Object.keys(c).reduce(function(N,S){var E=c[S],C=E.orientation;return!E.mirror&&!E.hide?$e($e({},N),{},At({},C,N[C]+E.width)):N},{left:m.left||0,right:m.right||0}),g=Object.keys(o).reduce(function(N,S){var E=o[S],C=E.orientation;return!E.mirror&&!E.hide?$e($e({},N),{},At({},C,Ni(N,"".concat(C))+E.height)):N},{top:m.top||0,bottom:m.bottom||0}),j=$e($e({},g),p),y=j.bottom;h&&(j.bottom+=h.props.height||Jh.defaultProps.height),x&&r&&(j=fTe(j,a,s,r));var w=d-j.left-j.right,b=u-j.top-j.bottom;return $e($e({brushBottom:y},j),{},{width:Math.max(w,0),height:Math.max(b,0)})},Y6e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},b2=function(t){var r=t.chartName,s=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,m=function(g,j){var y=j.graphicalItems,w=j.stackGroups,b=j.offset,N=j.updateId,S=j.dataStartIndex,E=j.dataEndIndex,C=g.barSize,A=g.layout,P=g.barGap,R=g.barCategoryGap,I=g.maxBarSize,z=K6(A),U=z.numericAxisName,L=z.cateAxisName,T=G6e(y),k=[];return y.forEach(function(O,M){var ie=j2(g.data,{graphicalItems:[O],dataStartIndex:S,dataEndIndex:E}),ce=O.type.defaultProps!==void 0?$e($e({},O.type.defaultProps),O.props):O.props,D=ce.dataKey,W=ce.maxBarSize,F=ce["".concat(U,"Id")],q=ce["".concat(L,"Id")],le={},fe=c.reduce(function(oe,be){var Le=j["".concat(be.axisType,"Map")],Ie=ce["".concat(be.axisType,"Id")];Le&&Le[Ie]||be.axisType==="zAxis"||nu();var de=Le[Ie];return $e($e({},oe),{},At(At({},be.axisType,de),"".concat(be.axisType,"Ticks"),yc(de)))},le),B=fe[L],K=fe["".concat(L,"Ticks")],se=w&&w[F]&&w[F].hasStack&&NTe(O,w[F].stackGroups),Ne=Nc(O.type).indexOf("Bar")>=0,ue=P1(B,K),ge=[],xe=T&&dTe({barSize:C,stackGroups:w,totalSize:Y6e(fe,L)});if(Ne){var Se,Me,Oe=Mt(W)?I:W,te=(Se=(Me=P1(B,K,!0))!==null&&Me!==void 0?Me:Oe)!==null&&Se!==void 0?Se:0;ge=uTe({barGap:P,barCategoryGap:R,bandSize:te!==ue?te:ue,sizeList:xe[q],maxBarSize:Oe}),te!==ue&&(ge=ge.map(function(oe){return $e($e({},oe),{},{position:$e($e({},oe.position),{},{offset:oe.position.offset-te/2})})}))}var he=O&&O.type&&O.type.getComposedData;he&&k.push({props:$e($e({},he($e($e({},fe),{},{displayedData:ie,props:g,dataKey:D,item:O,bandSize:ue,barPosition:ge,offset:b,stackedData:se,layout:A,dataStartIndex:S,dataEndIndex:E}))),{},At(At(At({key:O.key||"item-".concat(M)},U,fe[U]),L,fe[L]),"animationId",N)),childIndex:uye(O,g.children),item:O})}),k},h=function(g,j){var y=g.props,w=g.dataStartIndex,b=g.dataEndIndex,N=g.updateId;if(!iR({props:y}))return null;var S=y.children,E=y.layout,C=y.stackOffset,A=y.data,P=y.reverseStackOrder,R=K6(E),I=R.numericAxisName,z=R.cateAxisName,U=_i(S,s),L=bTe(A,U,"".concat(I,"Id"),"".concat(z,"Id"),C,P),T=c.reduce(function(ce,D){var W="".concat(D.axisType,"Map");return $e($e({},ce),{},At({},W,H6e(y,$e($e({},D),{},{graphicalItems:U,stackGroups:D.axisType===I&&L,dataStartIndex:w,dataEndIndex:b}))))},{}),k=K6e($e($e({},T),{},{props:y,graphicalItems:U}),j==null?void 0:j.legendBBox);Object.keys(T).forEach(function(ce){T[ce]=u(y,T[ce],k,ce.replace("Map",""),r)});var O=T["".concat(z,"Map")],M=q6e(O),ie=m(y,$e($e({},T),{},{dataStartIndex:w,dataEndIndex:b,updateId:N,graphicalItems:U,stackGroups:L,offset:k}));return $e($e({formattedGraphicalItems:ie,graphicalItems:U,offset:k,stackGroups:L},M),T)},x=function(p){function g(j){var y,w,b;return A6e(this,g),b=T6e(this,g,[j]),At(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),At(b,"accessibilityManager",new h6e),At(b,"handleLegendBBoxUpdate",function(N){if(N){var S=b.state,E=S.dataStartIndex,C=S.dataEndIndex,A=S.updateId;b.setState($e({legendBBox:N},h({props:b.props,dataStartIndex:E,dataEndIndex:C,updateId:A},$e($e({},b.state),{},{legendBBox:N}))))}}),At(b,"handleReceiveSyncEvent",function(N,S,E){if(b.props.syncId===N){if(E===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(S)}}),At(b,"handleBrushChange",function(N){var S=N.startIndex,E=N.endIndex;if(S!==b.state.dataStartIndex||E!==b.state.dataEndIndex){var C=b.state.updateId;b.setState(function(){return $e({dataStartIndex:S,dataEndIndex:E},h({props:b.props,dataStartIndex:S,dataEndIndex:E,updateId:C},b.state))}),b.triggerSyncEvent({dataStartIndex:S,dataEndIndex:E})}}),At(b,"handleMouseEnter",function(N){var S=b.getMouseInfo(N);if(S){var E=$e($e({},S),{},{isTooltipActive:!0});b.setState(E),b.triggerSyncEvent(E);var C=b.props.onMouseEnter;Pt(C)&&C(E,N)}}),At(b,"triggeredAfterMouseMove",function(N){var S=b.getMouseInfo(N),E=S?$e($e({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(E),b.triggerSyncEvent(E);var C=b.props.onMouseMove;Pt(C)&&C(E,N)}),At(b,"handleItemMouseEnter",function(N){b.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),At(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),At(b,"handleMouseMove",function(N){N.persist(),b.throttleTriggeredAfterMouseMove(N)}),At(b,"handleMouseLeave",function(N){b.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};b.setState(S),b.triggerSyncEvent(S);var E=b.props.onMouseLeave;Pt(E)&&E(S,N)}),At(b,"handleOuterEvent",function(N){var S=dye(N),E=Ni(b.props,"".concat(S));if(S&&Pt(E)){var C,A;/.*touch.*/i.test(S)?A=b.getMouseInfo(N.changedTouches[0]):A=b.getMouseInfo(N),E((C=A)!==null&&C!==void 0?C:{},N)}}),At(b,"handleClick",function(N){var S=b.getMouseInfo(N);if(S){var E=$e($e({},S),{},{isTooltipActive:!0});b.setState(E),b.triggerSyncEvent(E);var C=b.props.onClick;Pt(C)&&C(E,N)}}),At(b,"handleMouseDown",function(N){var S=b.props.onMouseDown;if(Pt(S)){var E=b.getMouseInfo(N);S(E,N)}}),At(b,"handleMouseUp",function(N){var S=b.props.onMouseUp;if(Pt(S)){var E=b.getMouseInfo(N);S(E,N)}}),At(b,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),At(b,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.handleMouseDown(N.changedTouches[0])}),At(b,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.handleMouseUp(N.changedTouches[0])}),At(b,"triggerSyncEvent",function(N){b.props.syncId!==void 0&&CS.emit(ES,b.props.syncId,N,b.eventEmitterSymbol)}),At(b,"applySyncEvent",function(N){var S=b.props,E=S.layout,C=S.syncMethod,A=b.state.updateId,P=N.dataStartIndex,R=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)b.setState($e({dataStartIndex:P,dataEndIndex:R},h({props:b.props,dataStartIndex:P,dataEndIndex:R,updateId:A},b.state)));else if(N.activeTooltipIndex!==void 0){var I=N.chartX,z=N.chartY,U=N.activeTooltipIndex,L=b.state,T=L.offset,k=L.tooltipTicks;if(!T)return;if(typeof C=="function")U=C(k,N);else if(C==="value"){U=-1;for(var O=0;O<k.length;O++)if(k[O].value===N.activeLabel){U=O;break}}var M=$e($e({},T),{},{x:T.left,y:T.top}),ie=Math.min(I,M.x+M.width),ce=Math.min(z,M.y+M.height),D=k[U]&&k[U].value,W=PA(b.state,b.props.data,U),F=k[U]?{x:E==="horizontal"?k[U].coordinate:ie,y:E==="horizontal"?ce:k[U].coordinate}:iK;b.setState($e($e({},N),{},{activeLabel:D,activeCoordinate:F,activePayload:W,activeTooltipIndex:U}))}else b.setState(N)}),At(b,"renderCursor",function(N){var S,E=b.state,C=E.isTooltipActive,A=E.activeCoordinate,P=E.activePayload,R=E.offset,I=E.activeTooltipIndex,z=E.tooltipAxisBandSize,U=b.getTooltipEventType(),L=(S=N.props.active)!==null&&S!==void 0?S:C,T=b.props.layout,k=N.key||"_recharts-cursor";return V.createElement(b6e,{key:k,activeCoordinate:A,activePayload:P,activeTooltipIndex:I,chartName:r,element:N,isActive:L,layout:T,offset:R,tooltipAxisBandSize:z,tooltipEventType:U})}),At(b,"renderPolarAxis",function(N,S,E){var C=Ni(N,"type.axisType"),A=Ni(b.state,"".concat(C,"Map")),P=N.type.defaultProps,R=P!==void 0?$e($e({},P),N.props):N.props,I=A&&A[R["".concat(C,"Id")]];return v.cloneElement(N,$e($e({},I),{},{className:Bt(C,I.className),key:N.key||"".concat(S,"-").concat(E),ticks:yc(I,!0)}))}),At(b,"renderPolarGrid",function(N){var S=N.props,E=S.radialLines,C=S.polarAngles,A=S.polarRadius,P=b.state,R=P.radiusAxisMap,I=P.angleAxisMap,z=pd(R),U=pd(I),L=U.cx,T=U.cy,k=U.innerRadius,O=U.outerRadius;return v.cloneElement(N,{polarAngles:Array.isArray(C)?C:yc(U,!0).map(function(M){return M.coordinate}),polarRadius:Array.isArray(A)?A:yc(z,!0).map(function(M){return M.coordinate}),cx:L,cy:T,innerRadius:k,outerRadius:O,key:N.key||"polar-grid",radialLines:E})}),At(b,"renderLegend",function(){var N=b.state.formattedGraphicalItems,S=b.props,E=S.children,C=S.width,A=S.height,P=b.props.margin||{},R=C-(P.left||0)-(P.right||0),I=Dq({children:E,formattedGraphicalItems:N,legendWidth:R,legendContent:d});if(!I)return null;var z=I.item,U=W6(I,w6e);return v.cloneElement(z,$e($e({},U),{},{chartWidth:C,chartHeight:A,margin:P,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),At(b,"renderTooltip",function(){var N,S=b.props,E=S.children,C=S.accessibilityLayer,A=mi(E,mr);if(!A)return null;var P=b.state,R=P.isTooltipActive,I=P.activeCoordinate,z=P.activePayload,U=P.activeLabel,L=P.offset,T=(N=A.props.active)!==null&&N!==void 0?N:R;return v.cloneElement(A,{viewBox:$e($e({},L),{},{x:L.left,y:L.top}),active:T,label:U,payload:T?z:[],coordinate:I,accessibilityLayer:C})}),At(b,"renderBrush",function(N){var S=b.props,E=S.margin,C=S.data,A=b.state,P=A.offset,R=A.dataStartIndex,I=A.dataEndIndex,z=A.updateId;return v.cloneElement(N,{key:N.key||"_recharts-brush",onChange:nj(b.handleBrushChange,N.props.onChange),data:C,x:Xe(N.props.x)?N.props.x:P.left,y:Xe(N.props.y)?N.props.y:P.top+P.height+P.brushBottom-(E.bottom||0),width:Xe(N.props.width)?N.props.width:P.width,startIndex:R,endIndex:I,updateId:"brush-".concat(z)})}),At(b,"renderReferenceElement",function(N,S,E){if(!N)return null;var C=b,A=C.clipPathId,P=b.state,R=P.xAxisMap,I=P.yAxisMap,z=P.offset,U=N.type.defaultProps||{},L=N.props,T=L.xAxisId,k=T===void 0?U.xAxisId:T,O=L.yAxisId,M=O===void 0?U.yAxisId:O;return v.cloneElement(N,{key:N.key||"".concat(S,"-").concat(E),xAxis:R[k],yAxis:I[M],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:A})}),At(b,"renderActivePoints",function(N){var S=N.item,E=N.activePoint,C=N.basePoint,A=N.childIndex,P=N.isRange,R=[],I=S.props.key,z=S.item.type.defaultProps!==void 0?$e($e({},S.item.type.defaultProps),S.item.props):S.item.props,U=z.activeDot,L=z.dataKey,T=$e($e({index:A,dataKey:L,cx:E.x,cy:E.y,r:4,fill:pO(S.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Nt(U,!1)),r1(U));return R.push(g.renderActiveDot(U,T,"".concat(I,"-activePoint-").concat(A))),C?R.push(g.renderActiveDot(U,$e($e({},T),{},{cx:C.x,cy:C.y}),"".concat(I,"-basePoint-").concat(A))):P&&R.push(null),R}),At(b,"renderGraphicChild",function(N,S,E){var C=b.filterFormatItem(N,S,E);if(!C)return null;var A=b.getTooltipEventType(),P=b.state,R=P.isTooltipActive,I=P.tooltipAxis,z=P.activeTooltipIndex,U=P.activeLabel,L=b.props.children,T=mi(L,mr),k=C.props,O=k.points,M=k.isRange,ie=k.baseLine,ce=C.item.type.defaultProps!==void 0?$e($e({},C.item.type.defaultProps),C.item.props):C.item.props,D=ce.activeDot,W=ce.hide,F=ce.activeBar,q=ce.activeShape,le=!!(!W&&R&&T&&(D||F||q)),fe={};A!=="axis"&&T&&T.props.trigger==="click"?fe={onClick:nj(b.handleItemMouseEnter,N.props.onClick)}:A!=="axis"&&(fe={onMouseLeave:nj(b.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:nj(b.handleItemMouseEnter,N.props.onMouseEnter)});var B=v.cloneElement(N,$e($e({},C.props),fe));function K(be){return typeof I.dataKey=="function"?I.dataKey(be.payload):null}if(le)if(z>=0){var se,Ne;if(I.dataKey&&!I.allowDuplicatedCategory){var ue=typeof I.dataKey=="function"?K:"payload.".concat(I.dataKey.toString());se=t1(O,ue,U),Ne=M&&ie&&t1(ie,ue,U)}else se=O==null?void 0:O[z],Ne=M&&ie&&ie[z];if(q||F){var ge=N.props.activeIndex!==void 0?N.props.activeIndex:z;return[v.cloneElement(N,$e($e($e({},C.props),fe),{},{activeIndex:ge})),null,null]}if(!Mt(se))return[B].concat(dp(b.renderActivePoints({item:C,activePoint:se,basePoint:Ne,childIndex:z,isRange:M})))}else{var xe,Se=(xe=b.getItemByXY(b.state.activeCoordinate))!==null&&xe!==void 0?xe:{graphicalItem:B},Me=Se.graphicalItem,Oe=Me.item,te=Oe===void 0?N:Oe,he=Me.childIndex,oe=$e($e($e({},C.props),fe),{},{activeIndex:he});return[v.cloneElement(te,oe),null,null]}return M?[B,null,null]:[B,null]}),At(b,"renderCustomized",function(N,S,E){return v.cloneElement(N,$e($e({key:"recharts-customized-".concat(E)},b.props),b.state))}),At(b,"renderMap",{CartesianGrid:{handler:lj,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:lj},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:lj},YAxis:{handler:lj},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((y=j.id)!==null&&y!==void 0?y:Yf("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=OH(b.triggeredAfterMouseMove,(w=j.throttleDelay)!==null&&w!==void 0?w:1e3/60),b.state={},b}return I6e(g,p),P6e(g,[{key:"componentDidMount",value:function(){var y,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,w=y.children,b=y.data,N=y.height,S=y.layout,E=mi(w,mr);if(E){var C=E.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,P=PA(this.state,b,C,A),R=this.state.tooltipTicks[C].coordinate,I=(this.state.offset.top+N)/2,z=S==="horizontal",U=z?{x:R,y:I}:{y:R,x:I},L=this.state.formattedGraphicalItems.find(function(k){var O=k.item;return O.type.name==="Scatter"});L&&(U=$e($e({},U),L.props.points[C].tooltipPosition),P=L.props.points[C].tooltipPayload);var T={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:A,activePayload:P,activeCoordinate:U};this.setState(T),this.renderCursor(E),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var b,N;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(y){sE([mi(y.children,mr)],[mi(this.props.children,mr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=mi(this.props.children,mr);if(y&&typeof y.props.shared=="boolean"){var w=y.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var w=this.container,b=w.getBoundingClientRect(),N=F4e(b),S={chartX:Math.round(y.pageX-N.left),chartY:Math.round(y.pageY-N.top)},E=b.width/w.offsetWidth||1,C=this.inRange(S.chartX,S.chartY,E);if(!C)return null;var A=this.state,P=A.xAxisMap,R=A.yAxisMap,I=this.getTooltipEventType();if(I!=="axis"&&P&&R){var z=pd(P).scale,U=pd(R).scale,L=z&&z.invert?z.invert(S.chartX):null,T=U&&U.invert?U.invert(S.chartY):null;return $e($e({},S),{},{xValue:L,yValue:T})}var k=q6(this.state,this.props.data,this.props.layout,C);return k?$e($e({},S),k):null}},{key:"inRange",value:function(y,w){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=y/b,E=w/b;if(N==="horizontal"||N==="vertical"){var C=this.state.offset,A=S>=C.left&&S<=C.left+C.width&&E>=C.top&&E<=C.top+C.height;return A?{x:S,y:E}:null}var P=this.state,R=P.angleAxisMap,I=P.radiusAxisMap;if(R&&I){var z=pd(R);return pF({x:S,y:E},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,w=this.getTooltipEventType(),b=mi(y,mr),N={};b&&w==="axis"&&(b.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var S=r1(this.props,this.handleOuterEvent);return $e($e({},S),N)}},{key:"addListener",value:function(){CS.on(ES,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){CS.removeListener(ES,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,w,b){for(var N=this.state.formattedGraphicalItems,S=0,E=N.length;S<E;S++){var C=N[S];if(C.item===y||C.props.key===y.key||w===Nc(C.item.type)&&b===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,w=this.state.offset,b=w.left,N=w.top,S=w.height,E=w.width;return V.createElement("defs",null,V.createElement("clipPath",{id:y},V.createElement("rect",{x:b,y:N,height:S,width:E})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(w,b){var N=z6(b,2),S=N[0],E=N[1];return $e($e({},w),{},At({},S,E.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(w,b){var N=z6(b,2),S=N[0],E=N[1];return $e($e({},w),{},At({},S,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(y){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(y){var w=this.state,b=w.formattedGraphicalItems,N=w.activeItem;if(b&&b.length)for(var S=0,E=b.length;S<E;S++){var C=b[S],A=C.props,P=C.item,R=P.type.defaultProps!==void 0?$e($e({},P.type.defaultProps),P.props):P.props,I=Nc(P.type);if(I==="Bar"){var z=(A.data||[]).find(function(k){return cDe(y,k)});if(z)return{graphicalItem:C,payload:z}}else if(I==="RadialBar"){var U=(A.data||[]).find(function(k){return pF(y,k)});if(U)return{graphicalItem:C,payload:U}}else if(m2(C,N)||h2(C,N)||R0(C,N)){var L=Q5e({graphicalItem:C,activeTooltipItem:N,itemData:R.data}),T=R.activeIndex===void 0?L:R.activeIndex;return{graphicalItem:$e($e({},C),{},{childIndex:T}),payload:R0(C,N)?R.data[L]:C.props.data[L]}}}return null}},{key:"render",value:function(){var y=this;if(!iR(this))return null;var w=this.props,b=w.children,N=w.className,S=w.width,E=w.height,C=w.style,A=w.compact,P=w.title,R=w.desc,I=W6(w,N6e),z=Nt(I,!1);if(A)return V.createElement(N6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(iE,vg({},z,{width:S,height:E,title:P,desc:R}),this.renderClipPath(),lR(b,this.renderMap)));if(this.props.accessibilityLayer){var U,L;z.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,z.role=(L=this.props.role)!==null&&L!==void 0?L:"application",z.onKeyDown=function(k){y.accessibilityManager.keyboardEvent(k)},z.onFocus=function(){y.accessibilityManager.focus()}}var T=this.parseEventsOfWrapper();return V.createElement(N6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",vg({className:Bt("recharts-wrapper",N),style:$e({position:"relative",cursor:"default",width:S,height:E},C)},T,{ref:function(O){y.container=O}}),V.createElement(iE,vg({},z,{width:S,height:E,title:P,desc:R,style:B6e}),this.renderClipPath(),lR(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);return At(x,"displayName",r),At(x,"defaultProps",$e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),At(x,"getDerivedStateFromProps",function(p,g){var j=p.dataKey,y=p.data,w=p.children,b=p.width,N=p.height,S=p.layout,E=p.stackOffset,C=p.margin,A=g.dataStartIndex,P=g.dataEndIndex;if(g.updateId===void 0){var R=G6(p);return $e($e($e({},R),{},{updateId:0},h($e($e({props:p},R),{},{updateId:0}),g)),{},{prevDataKey:j,prevData:y,prevWidth:b,prevHeight:N,prevLayout:S,prevStackOffset:E,prevMargin:C,prevChildren:w})}if(j!==g.prevDataKey||y!==g.prevData||b!==g.prevWidth||N!==g.prevHeight||S!==g.prevLayout||E!==g.prevStackOffset||!th(C,g.prevMargin)){var I=G6(p),z={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},U=$e($e({},q6(g,y,S)),{},{updateId:g.updateId+1}),L=$e($e($e({},I),z),U);return $e($e($e({},L),h($e({props:p},L),g)),{},{prevDataKey:j,prevData:y,prevWidth:b,prevHeight:N,prevLayout:S,prevStackOffset:E,prevMargin:C,prevChildren:w})}if(!sE(w,g.prevChildren)){var T,k,O,M,ie=mi(w,Jh),ce=ie&&(T=(k=ie.props)===null||k===void 0?void 0:k.startIndex)!==null&&T!==void 0?T:A,D=ie&&(O=(M=ie.props)===null||M===void 0?void 0:M.endIndex)!==null&&O!==void 0?O:P,W=ce!==A||D!==P,F=!Mt(y),q=F&&!W?g.updateId:g.updateId+1;return $e($e({updateId:q},h($e($e({props:p},g),{},{updateId:q,dataStartIndex:ce,dataEndIndex:D}),g)),{},{prevChildren:w,dataStartIndex:ce,dataEndIndex:D})}return null}),At(x,"renderActiveDot",function(p,g,j){var y;return v.isValidElement(p)?y=v.cloneElement(p,g):Pt(p)?y=p(g):y=V.createElement(Xv,g),V.createElement(er,{className:"recharts-active-dot",key:j},y)}),function(g){return V.createElement(x,g)}},w2=b2({chartName:"LineChart",GraphicalChild:zl,axisComponents:[{axisType:"xAxis",AxisComp:Xr},{axisType:"yAxis",AxisComp:Qr}],formatAxisMap:gO}),da=b2({chartName:"BarChart",GraphicalChild:mn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Xr},{axisType:"yAxis",AxisComp:Qr}],formatAxisMap:gO}),yg=b2({chartName:"PieChart",GraphicalChild:Si,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:f2},{axisType:"radiusAxis",AxisComp:d2}],formatAxisMap:DTe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),X6e=b2({chartName:"AreaChart",GraphicalChild:Uc,axisComponents:[{axisType:"xAxis",AxisComp:Xr},{axisType:"yAxis",AxisComp:Qr}],formatAxisMap:gO});const Q6e={light:"",dark:".dark"},lK=v.createContext(null);function cK(){const e=v.useContext(lK);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const V0=v.forwardRef(({id:e,className:t,children:r,config:s,...a},i)=>{const o=v.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return n.jsx(lK.Provider,{value:{config:s},children:n.jsxs("div",{"data-chart":l,ref:i,className:ve("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[n.jsx(Z6e,{id:l,config:s}),n.jsx(rn,{children:r})]})})});V0.displayName="Chart";const Z6e=({id:e,config:t})=>{const r=Object.entries(t).filter(([s,a])=>a.theme||a.color);return r.length?n.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(Q6e).map(([s,a])=>`
${a} [data-chart=${e}] {
${r.map(([i,o])=>{var c;const l=((c=o.theme)==null?void 0:c[s])||o.color;return l?`  --color-${i}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},Y6=mr,z0=v.forwardRef(({active:e,payload:t,className:r,indicator:s="dot",hideLabel:a=!1,hideIndicator:i=!1,label:o,labelFormatter:l,labelClassName:c,formatter:d,color:u,nameKey:f,labelKey:m},h)=>{const{config:x}=cK(),p=v.useMemo(()=>{var N;if(a||!(t!=null&&t.length))return null;const[j]=t,y=`${m||j.dataKey||j.name||"value"}`,w=TA(x,j,y),b=!m&&typeof o=="string"?((N=x[o])==null?void 0:N.label)||o:w==null?void 0:w.label;return l?n.jsx("div",{className:ve("font-medium",c),children:l(b,t)}):b?n.jsx("div",{className:ve("font-medium",c),children:b}):null},[o,l,t,a,c,x,m]);if(!e||!(t!=null&&t.length))return null;const g=t.length===1&&s!=="dot";return n.jsxs("div",{ref:h,className:ve("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[g?null:p,n.jsx("div",{className:"grid gap-1.5",children:t.map((j,y)=>{const w=`${f||j.name||j.dataKey||"value"}`,b=TA(x,j,w),N=u||j.payload.fill||j.color;return n.jsx("div",{className:ve("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",s==="dot"&&"items-center"),children:d&&(j==null?void 0:j.value)!==void 0&&j.name?d(j.value,j.name,j,y,j.payload):n.jsxs(n.Fragment,{children:[b!=null&&b.icon?n.jsx(b.icon,{}):!i&&n.jsx("div",{className:ve("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":s==="dot","w-1":s==="line","w-0 border-[1.5px] border-dashed bg-transparent":s==="dashed","my-0.5":g&&s==="dashed"}),style:{"--color-bg":N,"--color-border":N}}),n.jsxs("div",{className:ve("flex flex-1 justify-between leading-none",g?"items-end":"items-center"),children:[n.jsxs("div",{className:"grid gap-1.5",children:[g?p:null,n.jsx("span",{className:"text-muted-foreground",children:(b==null?void 0:b.label)||j.name})]}),j.value&&n.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:j.value.toLocaleString()})]})]})},j.dataKey)})})]})});z0.displayName="ChartTooltip";const J6e=v.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:s="bottom",nameKey:a},i)=>{const{config:o}=cK();return r!=null&&r.length?n.jsx("div",{ref:i,className:ve("flex items-center justify-center gap-4",s==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,d=TA(o,l,c);return n.jsxs("div",{className:ve("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[d!=null&&d.icon&&!t?n.jsx(d.icon,{}):n.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),d==null?void 0:d.label]},l.value)})}):null});J6e.displayName="ChartLegend";function TA(e,t,r){if(typeof t!="object"||t===null)return;const s="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:s&&r in s&&typeof s[r]=="string"&&(a=s[r]),a in e?e[a]:e[r]}const e$e=[{month:"Jun",ordered:0,delivered:0},{month:"Jul",ordered:0,delivered:0},{month:"Aug",ordered:0,delivered:0},{month:"Sep",ordered:0,delivered:0},{month:"Oct",ordered:0,delivered:0},{month:"Nov",ordered:0,delivered:0}],t$e=[{month:"Jun",amount:0},{month:"Jul",amount:0},{month:"Aug",amount:0},{month:"Sep",amount:0},{month:"Oct",amount:0},{month:"Nov",amount:0}],r$e=()=>{var j,y,w,b,N,S,E,C,A,P,R,I,z,U,L;const{data:e,isLoading:t,refetch:r}=Yhe(),{data:s}=oW(),[a,i]=v.useState(null),[o,l]=v.useState(null),[c,d]=v.useState(null),[u,f]=v.useState(null),m=e==null?void 0:e.kpi,h=(e==null?void 0:e.orders_chart)||e$e,x=(e==null?void 0:e.spending_chart)||t$e,p=(s==null?void 0:s.recent_orders)||[];s!=null&&s.recent_issues;const g=(s==null?void 0:s.recent_payments)||[];return console.log("Recent Data:",s),console.log("Recent Orders:",p),t?n.jsx(ut,{title:"Dashboard Overview",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[1,2,3,4,5].map(T=>n.jsx(Y,{children:n.jsxs(X,{className:"p-6",children:[n.jsx(_,{className:"h-4 w-24 mb-2"}),n.jsx(_,{className:"h-8 w-16 mb-2"}),n.jsx(_,{className:"h-3 w-20"})]})},T))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsx(_,{className:"h-[300px] w-full"})})}),n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsx(_,{className:"h-[300px] w-full"})})})]})]})}):n.jsx(ut,{title:"Dashboard Overview",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsx(bx,{title:"Active Apartments",value:((j=m==null?void 0:m.active_apartments)==null?void 0:j.value)??0,icon:dr,trend:{value:((y=m==null?void 0:m.active_apartments)==null?void 0:y.trend)??0,label:((w=m==null?void 0:m.active_apartments)==null?void 0:w.trend_label)??"vs last month"}}),n.jsx(bx,{title:"Pending Orders",value:((b=m==null?void 0:m.pending_orders)==null?void 0:b.value)??0,icon:ct,trend:{value:((N=m==null?void 0:m.pending_orders)==null?void 0:N.trend)??0,label:((S=m==null?void 0:m.pending_orders)==null?void 0:S.trend_label)??"vs last week"}}),n.jsx(bx,{title:"Open Issues",value:((E=m==null?void 0:m.open_issues)==null?void 0:E.value)??0,icon:Ct,trend:{value:((C=m==null?void 0:m.open_issues)==null?void 0:C.trend)??0,label:((A=m==null?void 0:m.open_issues)==null?void 0:A.trend_label)??"no change"}}),n.jsx(bx,{title:"Deliveries This Week",value:((P=m==null?void 0:m.deliveries_this_week)==null?void 0:P.value)??0,icon:wr,trend:{value:((R=m==null?void 0:m.deliveries_this_week)==null?void 0:R.trend)??0,label:((I=m==null?void 0:m.deliveries_this_week)==null?void 0:I.trend_label)??"vs last week"}}),n.jsx(bx,{title:"Overdue Payments",value:((z=m==null?void 0:m.overdue_payments)==null?void 0:z.value)??0,icon:ns,trend:{value:((U=m==null?void 0:m.overdue_payments)==null?void 0:U.trend)??0,label:((L=m==null?void 0:m.overdue_payments)==null?void 0:L.trend_label)??"vs last month"}})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs(Y,{className:"overflow-hidden",children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"flex items-center gap-2 text-base sm:text-lg",children:[n.jsx(ct,{className:"h-4 w-4 sm:h-5 sm:w-5"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Orders Placed vs Delivered"})]})}),n.jsx(X,{className:"p-2 sm:p-6",children:n.jsx(V0,{config:{ordered:{label:"ordered",color:"hsl(var(--primary))"},delivered:{label:"delivered",color:"hsl(var(--success))"}},className:"h-[280px] sm:h-[320px] w-full",children:n.jsx(rn,{width:"100%",height:"100%",children:n.jsxs(da,{data:h,margin:{top:10,right:5,left:-20,bottom:5},children:[n.jsx(Tn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(Xr,{dataKey:"month",tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),n.jsx(Qr,{tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),n.jsx(Y6,{content:n.jsx(z0,{})}),n.jsx(Go,{wrapperStyle:{fontSize:"11px",paddingTop:"10px"},iconSize:10}),n.jsx(mn,{dataKey:"ordered",fill:"hsl(var(--primary))",radius:[6,6,0,0]}),n.jsx(mn,{dataKey:"delivered",fill:"hsl(var(--success))",radius:[6,6,0,0]})]})})})})]}),n.jsxs(Y,{className:"overflow-hidden",children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"flex items-center gap-2 text-base sm:text-lg",children:[n.jsx(qa,{className:"h-4 w-4 sm:h-5 sm:w-5"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Total Spending Trend"})]})}),n.jsx(X,{className:"p-2 sm:p-6",children:n.jsx(V0,{config:{amount:{label:"Amount ()",color:"hsl(var(--primary))"}},className:"h-[280px] sm:h-[320px] w-full",children:n.jsx(rn,{width:"100%",height:"100%",children:n.jsxs(w2,{data:x,margin:{top:10,right:5,left:-20,bottom:5},children:[n.jsx(Tn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(Xr,{dataKey:"month",tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),n.jsx(Qr,{tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),n.jsx(Y6,{content:n.jsx(z0,{})}),n.jsx(zl,{type:"monotone",dataKey:"amount",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",r:3}})]})})})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Y,{className:"overflow-hidden",children:[n.jsx(we,{className:"border-b bg-gradient-to-r from-background to-muted/20",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(ct,{className:"h-5 w-5 text-primary"})}),n.jsx("span",{children:"Recent Orders"})]}),n.jsxs(Ce,{variant:"secondary",className:"font-semibold",children:[p.length," orders"]})]})}),n.jsx(X,{className:"p-4",children:n.jsx("div",{className:"space-y-3",children:p.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-muted/50 mb-3",children:n.jsx(ct,{className:"h-8 w-8 text-muted-foreground"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No recent orders"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Orders will appear here once placed"})]}):p.slice(0,5).map(T=>{var ie,ce;const k=o===T.id,O=a===T.id,M=k||O;return n.jsxs("div",{className:`
                          group relative rounded-xl border-2
                          transition-all duration-500 ease-out cursor-pointer
                          ${M?"bg-gradient-to-br from-primary/5 via-primary/3 to-background shadow-xl border-primary/30":"bg-card/50 hover:bg-card border-border/50 hover:border-border hover:shadow-md"}
                        `,onMouseEnter:()=>!k&&i(T.id),onMouseLeave:()=>!k&&i(null),onClick:()=>l(k?null:T.id),children:[n.jsx("div",{className:`
                          absolute inset-0 bg-gradient-to-r from-primary/5 to-transparent opacity-0 transition-opacity duration-500 pointer-events-none rounded-xl
                          ${M?"opacity-100":""}
                        `}),n.jsx("div",{className:"relative p-4",children:n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:[n.jsx("div",{className:`
                                p-2 rounded-lg transition-all duration-300
                                ${M?"bg-primary/15":"bg-muted/60"}
                              `,children:n.jsx(Km,{className:`h-4 w-4 transition-colors ${M?"text-primary":"text-muted-foreground"}`})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ce,{variant:"outline",className:`text-xs font-bold transition-all ${M?"border-primary/50 bg-primary/5":""}`,children:T.po_number}),n.jsx(Ce,{variant:T.status==="delivered"?"default":T.status==="sent"?"secondary":T.status==="cancelled"?"destructive":"outline",className:"text-xs capitalize",children:T.status})]}),n.jsx("p",{className:"text-sm font-semibold text-foreground truncate",children:T.apartment})]})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsxs("p",{className:`text-base font-bold transition-colors ${M?"text-primary":"text-foreground"}`,children:[T.total.toLocaleString()," Ft"]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[((ie=T.items)==null?void 0:ie.length)||0," ",((ce=T.items)==null?void 0:ce.length)===1?"item":"items"]})]})]})}),n.jsx("div",{className:`
                          transition-all duration-500 ease-out overflow-hidden
                          ${M?"max-h-[600px]":"max-h-0"}
                        `,children:n.jsx("div",{className:"overflow-visible",children:n.jsxs("div",{className:"px-4 pb-4 pt-2 border-t border-border/50 bg-gradient-to-b from-muted/20 via-muted/5 to-transparent",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4 mt-3",children:[n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Km,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Order ID"})]}),n.jsxs("p",{className:"text-xs font-mono font-medium text-foreground truncate",title:T.id,children:[T.id.substring(0,8),"..."]})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(vs,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Apartment"})]}),n.jsx("p",{className:"text-xs font-medium text-foreground truncate",title:T.apartment,children:T.apartment})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(_a,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Vendor"})]}),n.jsx("p",{className:"text-xs font-medium text-foreground truncate",title:T.vendor,children:T.vendor})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-background/40 border border-border/30",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:n.jsx(en,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Placed On"}),n.jsx("p",{className:"text-xs font-semibold text-foreground",children:T.placed_on?Kt(new Date(T.placed_on),"MMM dd, yyyy"):"N/A"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-background/40 border border-border/30",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:n.jsx(br,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-xs font-bold text-primary",children:[T.total.toLocaleString()," Ft"]})]})]})]}),T.items&&T.items.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 px-1",children:[n.jsx("div",{className:"p-1 rounded bg-primary/10",children:n.jsx(ct,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("p",{className:"text-xs font-bold text-foreground uppercase tracking-wide",children:["Products (",T.items.length,")"]})]}),n.jsx("div",{className:"space-y-2 max-h-[240px] overflow-y-auto pr-2",style:{scrollbarWidth:"thin",scrollbarColor:"hsl(var(--primary) / 0.3) transparent"},children:T.items.map((D,W)=>n.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-lg bg-background/80 border border-border/40 hover:bg-background hover:border-primary/30 hover:shadow-sm transition-all duration-200",children:[D.product_image?n.jsx("img",{src:D.product_image,alt:D.product_name,className:"w-10 h-10 rounded-md object-cover flex-shrink-0 border-2 border-border/50"}):n.jsx("div",{className:"w-10 h-10 rounded-md bg-muted/60 flex items-center justify-center flex-shrink-0 border-2 border-border/50",children:n.jsx(ct,{className:"w-5 h-5 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-semibold text-foreground truncate leading-tight mb-1",title:D.product_name,children:D.product_name}),n.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-muted-foreground",children:[n.jsxs("span",{className:"font-medium",children:["Qty: ",n.jsx("span",{className:"text-foreground font-semibold",children:D.quantity})]}),n.jsx("span",{children:""}),n.jsxs("span",{className:"font-medium",children:[D.unit_price.toLocaleString()," Ft/unit"]})]})]}),n.jsx("div",{className:"text-right flex-shrink-0",children:n.jsxs("p",{className:"text-xs font-bold text-foreground",children:[(D.quantity*D.unit_price).toLocaleString()," Ft"]})})]},D.id))})]})]})})})]},T.id)})})})]}),n.jsxs(Y,{className:"overflow-hidden",children:[n.jsx(we,{className:"border-b bg-gradient-to-r from-background to-muted/20",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(ns,{className:"h-5 w-5 text-primary"})}),n.jsx("span",{children:"Recent Payments"})]}),n.jsxs(Ce,{variant:"secondary",className:"font-semibold",children:[g.length," payments"]})]})}),n.jsx(X,{className:"p-4",children:n.jsx("div",{className:"space-y-3",children:g.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-muted/50 mb-3",children:n.jsx(ns,{className:"h-8 w-8 text-muted-foreground"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No recent payments"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Payments will appear here once made"})]}):g.slice(0,5).map(T=>{const k=u===T.id,O=c===T.id,M=k||O;return n.jsxs("div",{className:`
                          group relative rounded-xl border-2
                          transition-all duration-500 ease-out cursor-pointer
                          ${M?"bg-gradient-to-br from-primary/5 via-primary/3 to-background shadow-xl border-primary/30":"bg-card/50 hover:bg-card border-border/50 hover:border-border hover:shadow-md"}
                        `,onMouseEnter:()=>!k&&d(T.id),onMouseLeave:()=>!k&&d(null),onClick:()=>f(k?null:T.id),children:[n.jsx("div",{className:`
                          absolute inset-0 bg-gradient-to-r from-primary/5 to-transparent opacity-0 transition-opacity duration-500 pointer-events-none rounded-xl
                          ${M?"opacity-100":""}
                        `}),n.jsx("div",{className:"relative p-4",children:n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:[n.jsx("div",{className:`
                                p-2 rounded-lg transition-all duration-300
                                ${M?"bg-primary/15":"bg-muted/60"}
                              `,children:n.jsx(ns,{className:`h-4 w-4 transition-colors ${M?"text-primary":"text-muted-foreground"}`})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ce,{variant:"outline",className:`text-xs font-bold transition-all ${M?"border-primary/50 bg-primary/5":""}`,children:T.order_reference}),n.jsx(Ce,{variant:T.status==="Paid"?"default":T.status==="Partial"?"secondary":"destructive",className:"text-xs capitalize",children:T.status})]}),n.jsx("p",{className:"text-sm font-semibold text-foreground truncate",children:T.vendor||"Unknown vendor"})]})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsxs("p",{className:`text-base font-bold transition-colors ${M?"text-primary":"text-foreground"}`,children:[T.amount_paid.toLocaleString()," Ft"]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["of ",T.total_amount.toLocaleString()," Ft"]})]})]})}),n.jsx("div",{className:`
                          transition-all duration-500 ease-out overflow-hidden
                          ${M?"max-h-[600px]":"max-h-0"}
                        `,children:n.jsx("div",{className:"overflow-visible",children:n.jsxs("div",{className:"px-4 pb-4 pt-2 border-t border-border/50 bg-gradient-to-b from-muted/20 via-muted/5 to-transparent",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4 mt-3",children:[n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Km,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Payment ID"})]}),n.jsxs("p",{className:"text-xs font-mono font-medium text-foreground truncate",title:T.id,children:[T.id.substring(0,8),"..."]})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(ct,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Order Ref"})]}),n.jsx("p",{className:"text-xs font-medium text-foreground truncate",title:T.order_reference,children:T.order_reference})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(_a,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Vendor"})]}),n.jsx("p",{className:"text-xs font-medium text-foreground truncate",title:T.vendor,children:T.vendor||"Unknown"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-background/40 border border-border/30",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:n.jsx(br,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Amount Paid"}),n.jsxs("p",{className:"text-xs font-bold text-primary",children:[T.amount_paid.toLocaleString()," Ft"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-background/40 border border-border/30",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:n.jsx(br,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-xs font-semibold text-foreground",children:[T.total_amount.toLocaleString()," Ft"]})]})]})]}),n.jsxs("div",{className:"space-y-2 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-xs font-semibold text-foreground",children:"Payment Progress"}),n.jsxs("p",{className:"text-xs font-bold text-primary",children:[Math.round(T.amount_paid/T.total_amount*100),"%"]})]}),n.jsx("div",{className:"w-full bg-muted/50 rounded-full h-2 overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-primary/70 rounded-full transition-all duration-500",style:{width:`${T.amount_paid/T.total_amount*100}%`}})}),n.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground",children:[n.jsxs("span",{children:["Paid: ",T.amount_paid.toLocaleString()," Ft"]}),n.jsxs("span",{children:["Remaining: ",(T.total_amount-T.amount_paid).toLocaleString()," Ft"]})]})]})]})})})]},T.id)})})})]})]}),n.jsx(bxe,{})]})})},n$e=()=>{const e=ql();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),n.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),n.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},dK=ur.create({baseURL:Fi.replace("/api",""),headers:{"Content-Type":"application/json"}});dK.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const s$e=()=>{const[e,t]=v.useState(!1);return{enhanceText:async(s,a="improve")=>{var i,o;if(!s||!s.trim())return Ue.error("Please enter some text first"),null;t(!0);try{const l=await dK.post("/api/utils/enhance-text/",{text:s,type:a});return Ue.success("Text enhanced successfully"),l.data.enhanced}catch(l){console.error("Failed to enhance text:",l);const c=((o=(i=l.response)==null?void 0:i.data)==null?void 0:o.error)||"Failed to enhance text";return Ue.error(c),null}finally{t(!1)}},isEnhancing:e}},uK=({text:e,onTextEnhanced:t,className:r="",variant:s="outline",size:a="sm"})=>{const{enhanceText:i,isEnhancing:o}=s$e(),[l,c]=v.useState(!1),d=async u=>{c(!1);const f=await i(e,u);f&&t(f)};return n.jsxs(Iv,{open:l,onOpenChange:c,children:[n.jsx(Rv,{asChild:!0,children:n.jsx(ee,{type:"button",variant:s,size:a,className:r,disabled:o||!(e!=null&&e.trim()),children:o?n.jsx(n.Fragment,{children:n.jsx(zt,{className:"h-4 w-4  animate-spin"})}):n.jsx(n.Fragment,{children:n.jsx(dc,{className:"h-4 w-4 "})})})}),n.jsxs(Op,{align:"end",children:[n.jsxs(wn,{onClick:()=>d("improve"),children:[n.jsx(dc,{className:"h-4 w-4 mr-2"}),"Improve & Fix"]}),n.jsxs(wn,{onClick:()=>d("shorten"),children:[n.jsx(dc,{className:"h-4 w-4 mr-2"}),"Make Shorter"]}),n.jsxs(wn,{onClick:()=>d("professional"),children:[n.jsx(dc,{className:"h-4 w-4 mr-2"}),"Professional Tone"]}),n.jsxs(wn,{onClick:()=>d("friendly"),children:[n.jsx(dc,{className:"h-4 w-4 mr-2"}),"Friendly Tone"]}),n.jsxs(wn,{onClick:()=>d("translate"),children:[n.jsx(dc,{className:"h-4 w-4 mr-2"}),"Translate to English"]})]})]})},ta=v.forwardRef(({className:e,value:t,onChange:r,...s},a)=>{const[i,o]=v.useState(t||"");v.useEffect(()=>{o(t||"")},[t]);const l=d=>{o(d.target.value),r==null||r(d)},c=d=>{const u={target:{value:d}};o(d),r==null||r(u)};return n.jsxs("div",{className:"relative",children:[n.jsx("textarea",{className:ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 pr-24 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,value:i,onChange:l,...s}),n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(uK,{text:i.toString(),onTextEnhanced:c,variant:"ghost",size:"sm"})})]})});ta.displayName="EnhancedTextarea";const js=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:ve("w-full caption-bottom text-sm",e),...t})}));js.displayName="Table";const bs=v.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:ve("[&_tr]:border-b",e),...t}));bs.displayName="TableHeader";const ws=v.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:ve("[&_tr:last-child]:border-0",e),...t}));ws.displayName="TableBody";const a$e=v.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:ve("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));a$e.displayName="TableFooter";const $t=v.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:ve("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));$t.displayName="TableRow";const Pe=v.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:ve("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Pe.displayName="TableHead";const _e=v.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:ve("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));_e.displayName="TableCell";const i$e=v.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:ve("mt-4 text-sm text-muted-foreground",e),...t}));i$e.displayName="TableCaption";function N2(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var o$e=[" ","Enter","ArrowUp","ArrowDown"],l$e=[" ","Enter"],Qv="Select",[_2,S2,c$e]=Yw(Qv),[Kp,Itt]=Pa(Qv,[c$e,uu]),C2=uu(),[d$e,vu]=Kp(Qv),[u$e,f$e]=Kp(Qv),fK=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:m,required:h,form:x}=e,p=C2(t),[g,j]=v.useState(null),[y,w]=v.useState(null),[b,N]=v.useState(!1),S=Pp(d),[E=!1,C]=uo({prop:s,defaultProp:a,onChange:i}),[A,P]=uo({prop:o,defaultProp:l,onChange:c}),R=v.useRef(null),I=g?x||!!g.closest("form"):!0,[z,U]=v.useState(new Set),L=Array.from(z).map(T=>T.props.value).join(";");return n.jsx(nN,{...p,children:n.jsxs(d$e,{required:h,scope:t,trigger:g,onTriggerChange:j,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:N,contentId:so(),value:A,onValueChange:P,open:E,onOpenChange:C,dir:S,triggerPointerDownPosRef:R,disabled:m,children:[n.jsx(_2.Provider,{scope:t,children:n.jsx(u$e,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(T=>{U(k=>new Set(k).add(T))},[]),onNativeOptionRemove:v.useCallback(T=>{U(k=>{const O=new Set(k);return O.delete(T),O})},[]),children:r})}),I?n.jsxs(FK,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:f,value:A,onChange:T=>P(T.target.value),disabled:m,form:x,children:[A===void 0?n.jsx("option",{value:""}):null,Array.from(z)]},L):null]})})};fK.displayName=Qv;var mK="SelectTrigger",hK=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=C2(r),o=vu(mK,r),l=o.disabled||s,c=Ft(t,o.onTriggerChange),d=S2(r),u=v.useRef("touch"),[f,m,h]=$K(p=>{const g=d().filter(w=>!w.disabled),j=g.find(w=>w.value===o.value),y=LK(g,p,j);y!==void 0&&o.onValueChange(y.value)}),x=p=>{l||(o.onOpenChange(!0),h()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return n.jsx(wv,{asChild:!0,...i,children:n.jsx(bt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":MK(o.value)?"":void 0,...a,ref:c,onClick:qe(a.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&x(p)}),onPointerDown:qe(a.onPointerDown,p=>{u.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(x(p),p.preventDefault())}),onKeyDown:qe(a.onKeyDown,p=>{const g=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&m(p.key),!(g&&p.key===" ")&&o$e.includes(p.key)&&(x(),p.preventDefault())})})})});hK.displayName=mK;var pK="SelectValue",xK=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...l}=e,c=vu(pK,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=Ft(t,c.onValueNodeChange);return is(()=>{d(u)},[d,u]),n.jsx(bt.span,{...l,ref:f,style:{pointerEvents:"none"},children:MK(c.value)?n.jsx(n.Fragment,{children:o}):i})});xK.displayName=pK;var m$e="SelectIcon",gK=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(bt.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});gK.displayName=m$e;var h$e="SelectPortal",vK=e=>n.jsx(yp,{asChild:!0,...e});vK.displayName=h$e;var Mf="SelectContent",yK=v.forwardRef((e,t)=>{const r=vu(Mf,e.__scopeSelect),[s,a]=v.useState();if(is(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?po.createPortal(n.jsx(jK,{scope:e.__scopeSelect,children:n.jsx(_2.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(bK,{...e,ref:t})});yK.displayName=Mf;var ko=10,[jK,yu]=Kp(Mf),p$e="SelectContentImpl",bK=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:x,hideWhenDetached:p,avoidCollisions:g,...j}=e,y=vu(Mf,r),[w,b]=v.useState(null),[N,S]=v.useState(null),E=Ft(t,fe=>b(fe)),[C,A]=v.useState(null),[P,R]=v.useState(null),I=S2(r),[z,U]=v.useState(!1),L=v.useRef(!1);v.useEffect(()=>{if(w)return Pv(w)},[w]),yN();const T=v.useCallback(fe=>{const[B,...K]=I().map(ue=>ue.ref.current),[se]=K.slice(-1),Ne=document.activeElement;for(const ue of fe)if(ue===Ne||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===B&&N&&(N.scrollTop=0),ue===se&&N&&(N.scrollTop=N.scrollHeight),ue==null||ue.focus(),document.activeElement!==Ne))return},[I,N]),k=v.useCallback(()=>T([C,w]),[T,C,w]);v.useEffect(()=>{z&&k()},[z,k]);const{onOpenChange:O,triggerPointerDownPosRef:M}=y;v.useEffect(()=>{if(w){let fe={x:0,y:0};const B=se=>{var Ne,ue;fe={x:Math.abs(Math.round(se.pageX)-(((Ne=M.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(se.pageY)-(((ue=M.current)==null?void 0:ue.y)??0))}},K=se=>{fe.x<=10&&fe.y<=10?se.preventDefault():w.contains(se.target)||O(!1),document.removeEventListener("pointermove",B),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",B),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",K,{capture:!0})}}},[w,O,M]),v.useEffect(()=>{const fe=()=>O(!1);return window.addEventListener("blur",fe),window.addEventListener("resize",fe),()=>{window.removeEventListener("blur",fe),window.removeEventListener("resize",fe)}},[O]);const[ie,ce]=$K(fe=>{const B=I().filter(Ne=>!Ne.disabled),K=B.find(Ne=>Ne.ref.current===document.activeElement),se=LK(B,fe,K);se&&setTimeout(()=>se.ref.current.focus())}),D=v.useCallback((fe,B,K)=>{const se=!L.current&&!K;(y.value!==void 0&&y.value===B||se)&&(A(fe),se&&(L.current=!0))},[y.value]),W=v.useCallback(()=>w==null?void 0:w.focus(),[w]),F=v.useCallback((fe,B,K)=>{const se=!L.current&&!K;(y.value!==void 0&&y.value===B||se)&&R(fe)},[y.value]),q=s==="popper"?OA:wK,le=q===OA?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:x,hideWhenDetached:p,avoidCollisions:g}:{};return n.jsx(jK,{scope:r,content:w,viewport:N,onViewportChange:S,itemRefCallback:D,selectedItem:C,onItemLeave:W,itemTextRefCallback:F,focusSelectedItem:k,selectedItemText:P,position:s,isPositioned:z,searchRef:ie,children:n.jsx(Tv,{as:Fl,allowPinchZoom:!0,children:n.jsx(kv,{asChild:!0,trapped:y.open,onMountAutoFocus:fe=>{fe.preventDefault()},onUnmountAutoFocus:qe(a,fe=>{var B;(B=y.trigger)==null||B.focus({preventScroll:!0}),fe.preventDefault()}),children:n.jsx(zf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:fe=>fe.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:n.jsx(q,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:fe=>fe.preventDefault(),...j,...le,onPlaced:()=>U(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:qe(j.onKeyDown,fe=>{const B=fe.ctrlKey||fe.altKey||fe.metaKey;if(fe.key==="Tab"&&fe.preventDefault(),!B&&fe.key.length===1&&ce(fe.key),["ArrowUp","ArrowDown","Home","End"].includes(fe.key)){let se=I().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(fe.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(fe.key)){const Ne=fe.target,ue=se.indexOf(Ne);se=se.slice(ue+1)}setTimeout(()=>T(se)),fe.preventDefault()}})})})})})})});bK.displayName=p$e;var x$e="SelectItemAlignedPosition",wK=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=vu(Mf,r),o=yu(Mf,r),[l,c]=v.useState(null),[d,u]=v.useState(null),f=Ft(t,E=>u(E)),m=S2(r),h=v.useRef(!1),x=v.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:j,focusSelectedItem:y}=o,w=v.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&p&&g&&j){const E=i.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),P=j.getBoundingClientRect();if(i.dir!=="rtl"){const Ne=P.left-C.left,ue=A.left-Ne,ge=E.left-ue,xe=E.width+ge,Se=Math.max(xe,C.width),Me=window.innerWidth-ko,Oe=q4(ue,[ko,Math.max(ko,Me-Se)]);l.style.minWidth=xe+"px",l.style.left=Oe+"px"}else{const Ne=C.right-P.right,ue=window.innerWidth-A.right-Ne,ge=window.innerWidth-E.right-ue,xe=E.width+ge,Se=Math.max(xe,C.width),Me=window.innerWidth-ko,Oe=q4(ue,[ko,Math.max(ko,Me-Se)]);l.style.minWidth=xe+"px",l.style.right=Oe+"px"}const R=m(),I=window.innerHeight-ko*2,z=p.scrollHeight,U=window.getComputedStyle(d),L=parseInt(U.borderTopWidth,10),T=parseInt(U.paddingTop,10),k=parseInt(U.borderBottomWidth,10),O=parseInt(U.paddingBottom,10),M=L+T+z+O+k,ie=Math.min(g.offsetHeight*5,M),ce=window.getComputedStyle(p),D=parseInt(ce.paddingTop,10),W=parseInt(ce.paddingBottom,10),F=E.top+E.height/2-ko,q=I-F,le=g.offsetHeight/2,fe=g.offsetTop+le,B=L+T+fe,K=M-B;if(B<=F){const Ne=R.length>0&&g===R[R.length-1].ref.current;l.style.bottom="0px";const ue=d.clientHeight-p.offsetTop-p.offsetHeight,ge=Math.max(q,le+(Ne?W:0)+ue+k),xe=B+ge;l.style.height=xe+"px"}else{const Ne=R.length>0&&g===R[0].ref.current;l.style.top="0px";const ge=Math.max(F,L+p.offsetTop+(Ne?D:0)+le)+K;l.style.height=ge+"px",p.scrollTop=B-F+p.offsetTop}l.style.margin=`${ko}px 0`,l.style.minHeight=ie+"px",l.style.maxHeight=I+"px",s==null||s(),requestAnimationFrame(()=>h.current=!0)}},[m,i.trigger,i.valueNode,l,d,p,g,j,i.dir,s]);is(()=>w(),[w]);const[b,N]=v.useState();is(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const S=v.useCallback(E=>{E&&x.current===!0&&(w(),y==null||y(),x.current=!1)},[w,y]);return n.jsx(v$e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:S,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:n.jsx(bt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});wK.displayName=x$e;var g$e="SelectPopperPosition",OA=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=ko,...i}=e,o=C2(r);return n.jsx(sN,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});OA.displayName=g$e;var[v$e,EO]=Kp(Mf,{}),DA="SelectViewport",NK=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,i=yu(DA,r),o=EO(DA,r),l=Ft(t,i.onViewportChange),c=v.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(_2.Slot,{scope:r,children:n.jsx(bt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:qe(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const h=Math.abs(c.current-u.scrollTop);if(h>0){const x=window.innerHeight-ko*2,p=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),j=Math.max(p,g);if(j<x){const y=j+h,w=Math.min(x,y),b=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(u.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});NK.displayName=DA;var _K="SelectGroup",[y$e,j$e]=Kp(_K),b$e=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=so();return n.jsx(y$e,{scope:r,id:a,children:n.jsx(bt.div,{role:"group","aria-labelledby":a,...s,ref:t})})});b$e.displayName=_K;var SK="SelectLabel",CK=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=j$e(SK,r);return n.jsx(bt.div,{id:a.id,...s,ref:t})});CK.displayName=SK;var nw="SelectItem",[w$e,EK]=Kp(nw),AK=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,l=vu(nw,r),c=yu(nw,r),d=l.value===s,[u,f]=v.useState(i??""),[m,h]=v.useState(!1),x=Ft(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,s,a)}),p=so(),g=v.useRef("touch"),j=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(w$e,{scope:r,value:s,disabled:a,textId:p,isSelected:d,onItemTextChange:v.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:n.jsx(_2.ItemSlot,{scope:r,value:s,disabled:a,textValue:u,children:n.jsx(bt.div,{role:"option","aria-labelledby":p,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:qe(o.onFocus,()=>h(!0)),onBlur:qe(o.onBlur,()=>h(!1)),onClick:qe(o.onClick,()=>{g.current!=="mouse"&&j()}),onPointerUp:qe(o.onPointerUp,()=>{g.current==="mouse"&&j()}),onPointerDown:qe(o.onPointerDown,y=>{g.current=y.pointerType}),onPointerMove:qe(o.onPointerMove,y=>{var w;g.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):g.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:qe(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:qe(o.onKeyDown,y=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&y.key===" "||(l$e.includes(y.key)&&j(),y.key===" "&&y.preventDefault())})})})})});AK.displayName=nw;var Kx="SelectItemText",kK=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=vu(Kx,r),l=yu(Kx,r),c=EK(Kx,r),d=f$e(Kx,r),[u,f]=v.useState(null),m=Ft(t,j=>f(j),c.onItemTextChange,j=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,j,c.value,c.disabled)}),h=u==null?void 0:u.textContent,x=v.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=d;return is(()=>(p(x),()=>g(x)),[p,g,x]),n.jsxs(n.Fragment,{children:[n.jsx(bt.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?po.createPortal(i.children,o.valueNode):null]})});kK.displayName=Kx;var PK="SelectItemIndicator",TK=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return EK(PK,r).isSelected?n.jsx(bt.span,{"aria-hidden":!0,...s,ref:t}):null});TK.displayName=PK;var IA="SelectScrollUpButton",OK=v.forwardRef((e,t)=>{const r=yu(IA,e.__scopeSelect),s=EO(IA,e.__scopeSelect),[a,i]=v.useState(!1),o=Ft(t,s.onScrollButtonChange);return is(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(IK,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});OK.displayName=IA;var RA="SelectScrollDownButton",DK=v.forwardRef((e,t)=>{const r=yu(RA,e.__scopeSelect),s=EO(RA,e.__scopeSelect),[a,i]=v.useState(!1),o=Ft(t,s.onScrollButtonChange);return is(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(IK,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});DK.displayName=RA;var IK=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=yu("SelectScrollButton",r),o=v.useRef(null),l=S2(r),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),is(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(bt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:qe(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:qe(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:qe(a.onPointerLeave,()=>{c()})})}),N$e="SelectSeparator",RK=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(bt.div,{"aria-hidden":!0,...s,ref:t})});RK.displayName=N$e;var MA="SelectArrow",_$e=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=C2(r),i=vu(MA,r),o=yu(MA,r);return i.open&&o.position==="popper"?n.jsx(aN,{...a,...s,ref:t}):null});_$e.displayName=MA;function MK(e){return e===""||e===void 0}var FK=v.forwardRef((e,t)=>{const{value:r,...s}=e,a=v.useRef(null),i=Ft(t,a),o=N2(r);return v.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&u){const f=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(f)}},[o,r]),n.jsx(pv,{asChild:!0,children:n.jsx("select",{...s,ref:i,defaultValue:r})})});FK.displayName="BubbleSelect";function $K(e){const t=an(e),r=v.useRef(""),s=v.useRef(0),a=v.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=v.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function LK(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=S$e(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function S$e(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var C$e=fK,BK=hK,E$e=xK,A$e=gK,k$e=vK,UK=yK,P$e=NK,VK=CK,zK=AK,T$e=kK,O$e=TK,WK=OK,HK=DK,qK=RK;const at=C$e,it=E$e,nt=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(BK,{ref:s,className:ve("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(A$e,{asChild:!0,children:n.jsx(Wf,{className:"h-4 w-4 opacity-50"})})]}));nt.displayName=BK.displayName;const GK=v.forwardRef(({className:e,...t},r)=>n.jsx(WK,{ref:r,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Zw,{className:"h-4 w-4"})}));GK.displayName=WK.displayName;const KK=v.forwardRef(({className:e,...t},r)=>n.jsx(HK,{ref:r,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Wf,{className:"h-4 w-4"})}));KK.displayName=HK.displayName;const st=v.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(k$e,{children:n.jsxs(UK,{ref:a,className:ve("relative z-[9999] max-h-96 overflow-hidden rounded-lg border border-border/50 bg-popover backdrop-blur-xl text-popover-foreground shadow-2xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,sideOffset:4,...s,children:[n.jsx(GK,{}),n.jsx(P$e,{className:ve("p-2 min-w-[12rem]",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full"),children:t}),n.jsx(KK,{})]})}));st.displayName=UK.displayName;const D$e=v.forwardRef(({className:e,...t},r)=>n.jsx(VK,{ref:r,className:ve("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));D$e.displayName=VK.displayName;const Z=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(zK,{ref:s,className:ve("relative flex w-full cursor-pointer select-none items-center rounded-md py-2.5 px-3 text-sm font-medium outline-none","hover:bg-accent/80 hover:text-accent-foreground focus:bg-accent/80 focus:text-accent-foreground","data-[disabled]:pointer-events-none data-[disabled]:opacity-50","transition-colors duration-150",e),...r,children:[n.jsx("span",{className:"absolute left-3 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(O$e,{children:n.jsx(eo,{className:"h-4 w-4 text-primary"})})}),n.jsx(T$e,{className:"pl-6",children:t})]}));Z.displayName=zK.displayName;const I$e=v.forwardRef(({className:e,...t},r)=>n.jsx(qK,{ref:r,className:ve("my-1.5 h-px bg-border/50",e),...t}));I$e.displayName=qK.displayName;var YK="AlertDialog",[R$e,Rtt]=Pa(YK,[rz]),Qc=rz(),XK=e=>{const{__scopeAlertDialog:t,...r}=e,s=Qc(t);return n.jsx(eT,{...s,...r,modal:!0})};XK.displayName=YK;var M$e="AlertDialogTrigger",QK=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Qc(r);return n.jsx(vz,{...a,...s,ref:t})});QK.displayName=M$e;var F$e="AlertDialogPortal",ZK=e=>{const{__scopeAlertDialog:t,...r}=e,s=Qc(t);return n.jsx(tT,{...s,...r})};ZK.displayName=F$e;var $$e="AlertDialogOverlay",JK=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Qc(r);return n.jsx(Mv,{...a,...s,ref:t})});JK.displayName=$$e;var sh="AlertDialogContent",[L$e,B$e]=R$e(sh),eY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...a}=e,i=Qc(r),o=v.useRef(null),l=Ft(t,o),c=v.useRef(null);return n.jsx(qfe,{contentName:sh,titleName:tY,docsSlug:"alert-dialog",children:n.jsx(L$e,{scope:r,cancelRef:c,children:n.jsxs(Fv,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:qe(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[n.jsx(Kk,{children:s}),n.jsx(V$e,{contentRef:o})]})})})});eY.displayName=sh;var tY="AlertDialogTitle",rY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Qc(r);return n.jsx($v,{...a,...s,ref:t})});rY.displayName=tY;var nY="AlertDialogDescription",sY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Qc(r);return n.jsx(Lv,{...a,...s,ref:t})});sY.displayName=nY;var U$e="AlertDialogAction",aY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Qc(r);return n.jsx(_N,{...a,...s,ref:t})});aY.displayName=U$e;var iY="AlertDialogCancel",oY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=B$e(iY,r),i=Qc(r),o=Ft(t,a);return n.jsx(_N,{...i,...s,ref:o})});oY.displayName=iY;var V$e=({contentRef:e})=>{const t=`\`${sh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${sh}\` by passing a \`${nY}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${sh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},z$e=XK,W$e=QK,H$e=ZK,lY=JK,cY=eY,dY=aY,uY=oY,fY=rY,mY=sY;const Xl=z$e,hY=W$e,q$e=H$e,pY=v.forwardRef(({className:e,...t},r)=>n.jsx(lY,{className:ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));pY.displayName=lY.displayName;const sl=v.forwardRef(({className:e,...t},r)=>n.jsxs(q$e,{children:[n.jsx(pY,{}),n.jsx(cY,{ref:r,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));sl.displayName=cY.displayName;const al=({className:e,...t})=>n.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",e),...t});al.displayName="AlertDialogHeader";const il=({className:e,...t})=>n.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});il.displayName="AlertDialogFooter";const ol=v.forwardRef(({className:e,...t},r)=>n.jsx(fY,{ref:r,className:ve("text-lg font-semibold",e),...t}));ol.displayName=fY.displayName;const ll=v.forwardRef(({className:e,...t},r)=>n.jsx(mY,{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));ll.displayName=mY.displayName;const cl=v.forwardRef(({className:e,...t},r)=>n.jsx(dY,{ref:r,className:ve(r0(),e),...t}));cl.displayName=dY.displayName;const dl=v.forwardRef(({className:e,...t},r)=>n.jsx(uY,{ref:r,className:ve(r0({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));dl.displayName=uY.displayName;const fa=ur.create({baseURL:Fi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1,validateStatus:e=>e<500});fa.interceptors.request.use(e=>(e.metadata={startTime:Date.now()},e),e=>Promise.reject(e));fa.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));let cj=!1,FA=[];const kS=(e,t=null)=>{FA.forEach(r=>{e?r.reject(e):r.resolve(t)}),FA=[]};fa.interceptors.response.use(e=>e,async e=>{var r,s;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if(cj)return new Promise((i,o)=>{FA.push({resolve:i,reject:o})}).then(i=>(t.headers&&(t.headers.Authorization=`Bearer ${i}`),fa(t))).catch(i=>Promise.reject(i));t._retry=!0,cj=!0;const a=localStorage.getItem("refresh_token");if(!a)return cj=!1,kS(e,null),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),Promise.reject(e);try{const i=await ur.post(`${xN}/refresh/`,{refresh:a},{timeout:1e4}),{access:o}=i.data;return localStorage.setItem("access_token",o),t.headers&&(t.headers.Authorization=`Bearer ${o}`),kS(null,o),fa(t)}catch(i){return kS(i,null),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),Promise.reject(i)}finally{cj=!1}}if((s=e.response)!=null&&s.data){const a=e.response.data,i=a.error||a.detail||a.message||"An error occurred";return Promise.reject(new Error(i))}return Promise.reject(e)});const Zv={async getClients(e){return(await fa.get("/clients/",{params:e,signal:new AbortController().signal})).data},async getClient(e){return(await fa.get(`/clients/${e}/`,{headers:{"Cache-Control":"max-age=300"}})).data},async createClient(e){return(await fa.post("/clients/",e)).data},async updateClient(e,t){return(await fa.patch(`/clients/${e}/`,t)).data},async deleteClient(e){await fa.delete(`/clients/${e}/`)},async replaceClient(e,t){return(await fa.put(`/clients/${e}/`,t)).data},async batchGetClients(e){const t=e.map(r=>this.getClient(r));return Promise.all(t)},async checkEmailExists(e){try{return(await fa.get("/clients/",{params:{search:e}})).data.results.some(r=>r.email===e)}catch{return!1}},async getClientApartments(e){return(await fa.get(`/clients/${e}/apartments/`)).data},async getClientProducts(e){return(await fa.get(`/clients/${e}/products/`)).data},async getClientDetails(e){return(await fa.get(`/clients/${e}/details/`)).data}},Lo={all:["clients"],lists:()=>[...Lo.all,"list"],list:e=>[...Lo.lists(),e],details:()=>[...Lo.all,"detail"],detail:e=>[...Lo.details(),e]};function G$e(e,t){const[r,s]=v.useState(e);return v.useEffect(()=>{const a=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function E2(e,t){const r=G$e(e==null?void 0:e.search,300),s={...e,search:r};return ls({queryKey:Lo.list(s),queryFn:()=>Zv.getClients(s),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:a=>a,...t})}function K$e(){const e=Hr(),{toast:t}=xr();return dn({mutationFn:r=>Zv.createClient(r),onMutate:async r=>{await e.cancelQueries({queryKey:Lo.all});const s=e.getQueryData(Lo.all),a={id:`temp-${Date.now()}`,...r,apartments_count:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return e.setQueriesData({queryKey:Lo.lists()},i=>i&&{...i,results:[a,...i.results||[]],count:(i.count||0)+1}),{previousClients:s,optimisticClient:a}},onError:(r,s,a)=>{a!=null&&a.previousClients&&e.setQueryData(Lo.all,a.previousClients),t({title:"Error creating client",description:r.message||"Something went wrong",variant:"destructive"})},onSuccess:r=>{t({title:"Client created",description:`${r.name} has been created successfully.`})},onSettled:()=>{e.invalidateQueries({queryKey:Lo.all})}})}function xY(){const e=Hr(),{toast:t}=xr();return dn({mutationFn:({id:r,data:s})=>Zv.updateClient(r,s),onSuccess:r=>{e.invalidateQueries({queryKey:Lo.detail(r.id)}),e.invalidateQueries({queryKey:["clients"]}),t({title:"Client updated",description:`${r.name} has been updated successfully.`})},onError:r=>{t({title:"Error updating client",description:r.message||"Something went wrong",variant:"destructive"})}})}function Y$e(){const e=Hr(),{toast:t}=xr();return dn({mutationFn:({id:r,name:s})=>Zv.deleteClient(r).then(()=>({id:r,name:s})),onSuccess:r=>{e.invalidateQueries({queryKey:["clients"]}),t({title:"Client deleted",description:`${r.name} has been deleted successfully.`})},onError:r=>{t({title:"Error deleting client",description:r.message||"Something went wrong",variant:"destructive"})}})}const X$e=()=>{const e=fr(),{toast:t}=xr(),[r,s]=v.useState(""),[a,i]=v.useState("all"),[o,l]=v.useState("all"),[c,d]=v.useState(!1),[u,f]=v.useState(null),[m,h]=v.useState(!1),[x,p]=v.useState(null),{data:g,isLoading:j,error:y,refetch:w}=E2({search:r||void 0,account_status:a!=="all"?a:void 0,type:o!=="all"?o:void 0}),b=K$e(),N=xY(),S=Y$e(),E=v.useMemo(()=>(g==null?void 0:g.results)||[],[g==null?void 0:g.results]),[C,A]=v.useState({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""}),P=E,R=v.useMemo(()=>{const M=(g==null?void 0:g.results)||[],ie=M.length,ce=M.filter(fe=>fe.account_status==="Active").length,D=M.filter(fe=>fe.account_status==="Inactive").length,W=M.filter(fe=>fe.type==="Investor").length,F=M.filter(fe=>fe.type==="Buy2Rent Internal").length,q=M.reduce((fe,B)=>fe+(B.apartments_count||0),0),le=ie>0?(q/ie).toFixed(1):"0";return{totalClients:ie,activeClients:ce,inactiveClients:D,investorClients:W,internalClients:F,totalApartments:q,avgApartmentsPerClient:le}},[g==null?void 0:g.results]),I=v.useCallback(M=>{s(M.target.value)},[]),z=M=>{if(M){const ie=E.find(ce=>ce.id===M);ie&&(f(M),A({name:ie.name,email:ie.email,phone:ie.phone||"",account_status:ie.account_status,type:ie.type,notes:ie.notes||""}))}else f(null),A({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""});d(!0)},U=async M=>{if(M.preventDefault(),console.log("Form submitted with data:",C),!C.name.trim()||!C.email.trim()){t({title:"Validation Error",description:"Name and email are required.",variant:"destructive"});return}try{u?(console.log("Updating client:",u),await N.mutateAsync({id:u,data:C}),t({title:"Success",description:"Client updated successfully"})):(console.log("Creating new client:",C),await b.mutateAsync(C),t({title:"Success",description:"Client created successfully"})),d(!1),f(null),A({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""})}catch(ie){console.error("Error submitting form:",ie)}},L=(M,ie)=>{const ce=E.find(W=>W.id===M),D=(ce==null?void 0:ce.apartments_count)??0;if(D>0){t({title:"Cannot delete client",description:`${ie} has ${D} apartment(s) associated. Please reassign or delete the apartments first.`,variant:"destructive"});return}p({id:M,name:ie}),h(!0)},T=async()=>{if(x)try{await S.mutateAsync({id:x.id,name:x.name}),t({title:"Success",description:`Client "${x.name}" deleted successfully`})}catch{}finally{h(!1),p(null)}},k=M=>{e(`/clients/${M}`)},O=M=>M==="Active"?"bg-success/10 text-success border-success/20":"bg-muted text-muted-foreground border-border/50";return j?n.jsx(ut,{title:"Clients",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(_,{className:"h-10 w-64"}),n.jsx(_,{className:"h-10 w-32"})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx(_,{className:"h-6 w-48"})}),n.jsx(X,{children:n.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(M=>n.jsx(_,{className:"h-16 w-full"},M))})})]})]})}):y?n.jsx(ut,{title:"Clients",children:n.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[n.jsxs("p",{className:"text-destructive mb-4",children:["Failed to load clients: ",y.message]}),n.jsxs(ee,{onClick:()=>w(),variant:"outline",children:[n.jsx(lf,{className:"mr-2 h-4 w-4"}),"Retry"]})]})}):n.jsx(ut,{title:"Clients",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[n.jsx(Y,{className:"border-border/50 bg-gradient-to-br from-background to-muted/20",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Total Clients"}),n.jsx("p",{className:"text-2xl font-bold mt-1",children:R.totalClients})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx(Dc,{className:"h-5 w-5 text-primary"})})]})})}),n.jsx(Y,{className:"border-border/50 bg-gradient-to-br from-background to-green-500/5",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Active"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-green-600",children:R.activeClients})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-green-500/10 flex items-center justify-center",children:n.jsx(M9,{className:"h-5 w-5 text-green-500"})})]})})}),n.jsx(Y,{className:"border-border/50 bg-gradient-to-br from-background to-red-500/5",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Inactive"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-red-500",children:R.inactiveClients})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-red-500/10 flex items-center justify-center",children:n.jsx(F9,{className:"h-5 w-5 text-red-500"})})]})})}),n.jsx(Y,{className:"border-border/50 bg-gradient-to-br from-background to-violet-500/5",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Investors"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-violet-600",children:R.investorClients})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-violet-500/10 flex items-center justify-center",children:n.jsx(_9,{className:"h-5 w-5 text-violet-500"})})]})})}),n.jsx(Y,{className:"border-border/50 bg-gradient-to-br from-background to-emerald-500/5",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Apartments"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-emerald-600",children:R.totalApartments})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-500/10 flex items-center justify-center",children:n.jsx(P9,{className:"h-5 w-5 text-emerald-500"})})]})})}),n.jsx(Y,{className:"border-border/50 bg-gradient-to-br from-background to-amber-500/5",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Avg/Client"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-amber-600",children:R.avgApartmentsPerClient})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-amber-500/10 flex items-center justify-center",children:n.jsx(qa,{className:"h-5 w-5 text-amber-500"})})]})})})]}),n.jsx("div",{className:"flex flex-col gap-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-stretch sm:items-center",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(Rs,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/70 pointer-events-none z-10"}),n.jsx(me,{placeholder:"Search by name or email...",value:r,onChange:I,className:"pl-10 h-11 bg-muted/30 border-border/50 focus:bg-background transition-colors",autoComplete:"off"},"client-search-input")]}),n.jsxs("div",{className:"flex gap-2 flex-wrap sm:flex-nowrap",children:[n.jsxs(at,{value:a,onValueChange:i,children:[n.jsx(nt,{className:"w-full sm:w-[140px] h-11 bg-muted/30 border-border/50",children:n.jsx(it,{placeholder:"Status"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"all",children:"All Status"}),n.jsx(Z,{value:"Active",children:"Active"}),n.jsx(Z,{value:"Inactive",children:"Inactive"})]})]}),n.jsxs(at,{value:o,onValueChange:l,children:[n.jsx(nt,{className:"w-full sm:w-[160px] h-11 bg-muted/30 border-border/50",children:n.jsx(it,{placeholder:"Type"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"all",children:"All Types"}),n.jsx(Z,{value:"Individual",children:"Individual"}),n.jsx(Z,{value:"Company",children:"Company"})]})]}),n.jsxs(En,{open:c,onOpenChange:d,children:[n.jsx(Lhe,{asChild:!0,children:n.jsxs(ee,{onClick:()=>z(),className:"h-11 w-full sm:w-auto",children:[n.jsx(Fn,{className:"h-4 w-4 mr-2"}),"Add Client"]})}),n.jsx(vn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:n.jsxs("form",{onSubmit:U,children:[n.jsx(An,{className:"pb-4 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsxs("div",{children:[n.jsx(kn,{className:"text-xl",children:u?"Edit Client":"Add New Client"}),n.jsx(zs,{className:"text-sm",children:u?"Update client information":"Create a new client profile"})]})]})}),n.jsxs("div",{className:"grid gap-6 py-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Basic Information"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"name",className:"text-sm font-medium",children:"Full Name *"}),n.jsx(me,{id:"name",value:C.name,onChange:M=>A({...C,name:M.target.value}),placeholder:"John Doe",className:"h-11"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Contact Information"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"email",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Email *"]}),n.jsx(me,{id:"email",type:"email",value:C.email,onChange:M=>A({...C,email:M.target.value}),placeholder:"john@example.com",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"phone",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Phone"]}),n.jsx(me,{id:"phone",value:C.phone,onChange:M=>A({...C,phone:M.target.value}),placeholder:"+36 20 123 4567",className:"h-11"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Account Settings"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"type",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Client Type"]}),n.jsxs(at,{value:C.type,onValueChange:M=>A({...C,type:M}),children:[n.jsx(nt,{id:"type",className:"h-11",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"Investor",children:"Investor"}),n.jsx(Z,{value:"Buy2Rent Internal",children:"Buy2Rent Internal"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"status",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Account Status"]}),n.jsxs(at,{value:C.account_status,onValueChange:M=>A({...C,account_status:M}),children:[n.jsx(nt,{id:"status",className:"h-11",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"Active",children:"Active"}),n.jsx(Z,{value:"Inactive",children:"Inactive"}),n.jsx(Z,{value:"Suspended",children:"Suspended"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Additional Information"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"notes",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Notes"]}),n.jsx(ta,{id:"notes",value:C.notes,onChange:M=>A({...C,notes:M.target.value}),placeholder:"Add any additional notes or comments about this client...",rows:4,className:"resize-none"})]})]})]}),n.jsxs(yo,{className:"pt-6 border-t border-border/50 gap-3",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>d(!1),className:"flex-1 h-11",children:"Cancel"}),n.jsxs(ee,{type:"submit",className:"flex-1 h-11 bg-primary hover:bg-primary/90",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),u?"Save Changes":"Create Client"]})]})]})})]})]})]})}),n.jsxs(Y,{className:"border-border/50",children:[n.jsx(we,{className:"border-b border-border/50 bg-muted/20",children:n.jsxs(Ve,{className:"text-lg font-semibold",children:["All Clients (",P.length,")"]})}),n.jsx(X,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(js,{children:[n.jsx(bs,{children:n.jsxs($t,{className:"hover:bg-transparent border-b border-border/50",children:[n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Name"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Type"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Email"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Phone"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Status"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Apartments"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Notes"}),n.jsx(Pe,{className:"text-right font-semibold text-foreground/90",children:"Actions"})]})}),n.jsx(ws,{children:P.length===0?n.jsx($t,{className:"hover:bg-transparent",children:n.jsx(_e,{colSpan:8,className:"text-center py-12 text-muted-foreground",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(Rs,{className:"h-8 w-8 text-muted-foreground/50"}),n.jsx("p",{className:"font-medium",children:"No clients found"}),n.jsx("p",{className:"text-sm",children:"Try adjusting your filters or add a new client."})]})})}):P.map(M=>{const ie=M.apartments_count??0;return n.jsxs($t,{className:"hover:bg-muted/30 transition-colors border-b border-border/30 last:border-0",children:[n.jsx(_e,{className:"font-medium text-foreground py-4",children:M.name}),n.jsx(_e,{className:"py-4",children:n.jsx(Ce,{variant:"outline",className:"capitalize border-border/50 bg-muted/40",children:M.type})}),n.jsx(_e,{className:"text-muted-foreground py-4",children:M.email}),n.jsx(_e,{className:"text-muted-foreground py-4",children:M.phone}),n.jsx(_e,{className:"py-4",children:n.jsx(Ce,{className:O(M.account_status),children:M.account_status})}),n.jsx(_e,{className:"py-4",children:n.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[n.jsx(dr,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:ie})]})}),n.jsx(_e,{className:"max-w-[200px] truncate text-muted-foreground py-4",children:M.notes||"-"}),n.jsx(_e,{className:"text-right py-4",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>k(M.id),className:"hover:bg-primary/10 hover:text-primary",title:"View Details",children:n.jsx(Ha,{className:"h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>z(M.id),className:"hover:bg-muted/50 hover:text-foreground",title:"Edit Client",children:n.jsx($s,{className:"h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>L(M.id,M.name),className:"hover:bg-destructive/10 hover:text-destructive",title:"Delete Client",children:n.jsx(on,{className:"h-4 w-4"})})]})})]},M.id)})})]})})})]}),n.jsx(Xl,{open:m,onOpenChange:h,children:n.jsxs(sl,{children:[n.jsx(al,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(fo,{className:"h-6 w-6 text-destructive"})}),n.jsxs("div",{children:[n.jsx(ol,{className:"text-xl",children:"Delete Client"}),n.jsx(ll,{className:"mt-1",children:"This action cannot be undone."})]})]})}),n.jsx("div",{className:"py-4",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to delete"," ",n.jsxs("span",{className:"font-semibold text-foreground",children:['"',x==null?void 0:x.name,'"']}),"? This will permanently remove the client from the system."]})}),n.jsxs(il,{children:[n.jsx(dl,{autoFocus:!1,children:"Cancel"}),n.jsx(cl,{onClick:T,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",autoFocus:!0,children:"Delete Client"})]})]})})]})})};var AO="Tabs",[Q$e,Mtt]=Pa(AO,[Tp]),gY=Tp(),[Z$e,kO]=Q$e(AO),vY=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=Pp(l),[f,m]=uo({prop:s,onChange:a,defaultProp:i});return n.jsx(Z$e,{scope:r,baseId:so(),value:f,onValueChange:m,orientation:o,dir:u,activationMode:c,children:n.jsx(bt.div,{dir:u,"data-orientation":o,...d,ref:t})})});vY.displayName=AO;var yY="TabsList",jY=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,i=kO(yY,r),o=gY(r);return n.jsx($P,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(bt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});jY.displayName=yY;var bY="TabsTrigger",wY=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...i}=e,o=kO(bY,r),l=gY(r),c=SY(o.baseId,s),d=CY(o.baseId,s),u=s===o.value;return n.jsx(LP,{asChild:!0,...l,focusable:!a,active:u,children:n.jsx(bt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:qe(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:qe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:qe(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(s)})})})});wY.displayName=bY;var NY="TabsContent",_Y=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:i,...o}=e,l=kO(NY,r),c=SY(l.baseId,s),d=CY(l.baseId,s),u=s===l.value,f=v.useRef(u);return v.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),n.jsx(os,{present:a||u,children:({present:m})=>n.jsx(bt.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});_Y.displayName=NY;function SY(e,t){return`${e}-trigger-${t}`}function CY(e,t){return`${e}-content-${t}`}var J$e=vY,EY=jY,AY=wY,kY=_Y;const wo=J$e,$i=v.forwardRef(({className:e,...t},r)=>n.jsx(EY,{ref:r,className:ve("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));$i.displayName=EY.displayName;const Lt=v.forwardRef(({className:e,...t},r)=>n.jsx(AY,{ref:r,className:ve("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Lt.displayName=AY.displayName;const Yt=v.forwardRef(({className:e,...t},r)=>n.jsx(kY,{ref:r,className:ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Yt.displayName=kY.displayName;function eLe(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,tLe(a,...t)]}function tLe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var PO="Progress",TO=100,[rLe,Ftt]=eLe(PO),[nLe,sLe]=rLe(PO),PY=v.forwardRef((e,t)=>{const{__scopeProgress:r,value:s=null,max:a,getValueLabel:i=aLe,...o}=e;(a||a===0)&&!X6(a)&&console.error(iLe(`${a}`,"Progress"));const l=X6(a)?a:TO;s!==null&&!Q6(s,l)&&console.error(oLe(`${s}`,"Progress"));const c=Q6(s,l)?s:null,d=sw(c)?i(c,l):void 0;return n.jsx(nLe,{scope:r,value:c,max:l,children:n.jsx(bt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":sw(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":DY(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});PY.displayName=PO;var TY="ProgressIndicator",OY=v.forwardRef((e,t)=>{const{__scopeProgress:r,...s}=e,a=sLe(TY,r);return n.jsx(bt.div,{"data-state":DY(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});OY.displayName=TY;function aLe(e,t){return`${Math.round(e/t*100)}%`}function DY(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function sw(e){return typeof e=="number"}function X6(e){return sw(e)&&!isNaN(e)&&e>0}function Q6(e,t){return sw(e)&&!isNaN(e)&&e<=t&&e>=0}function iLe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${TO}\`.`}function oLe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${TO} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var IY=PY,lLe=OY;const A2=v.forwardRef(({className:e,value:t,...r},s)=>n.jsx(IY,{ref:s,className:ve("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:n.jsx(lLe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));A2.displayName=IY.displayName;const Mn=v.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Mn.displayName="Textarea";const Ca=v.forwardRef(({...e},t)=>n.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));Ca.displayName="Breadcrumb";const Ea=v.forwardRef(({className:e,...t},r)=>n.jsx("ol",{ref:r,className:ve("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));Ea.displayName="BreadcrumbList";const Jt=v.forwardRef(({className:e,...t},r)=>n.jsx("li",{ref:r,className:ve("inline-flex items-center gap-1.5",e),...t}));Jt.displayName="BreadcrumbItem";const Bn=v.forwardRef(({asChild:e,className:t,...r},s)=>{const a=e?Fl:"a";return n.jsx(a,{ref:s,className:ve("transition-colors hover:text-foreground",t),...r})});Bn.displayName="BreadcrumbLink";const ni=v.forwardRef(({className:e,...t},r)=>n.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:ve("font-normal text-foreground",e),...t}));ni.displayName="BreadcrumbPage";const pn=({children:e,className:t,...r})=>n.jsx("li",{role:"presentation","aria-hidden":"true",className:ve("[&>svg]:size-3.5",t),...r,children:e??n.jsx(Xd,{})});pn.displayName="BreadcrumbSeparator";const cLe=()=>n.jsx(ut,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-4 w-16"}),n.jsx(_,{className:"h-4 w-2"}),n.jsx(_,{className:"h-4 w-32"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(_,{className:"h-9 w-20 rounded-md"}),n.jsx(_,{className:"h-9 w-24 rounded-md"})]})]}),n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/5 via-primary/3 to-background border border-border/50",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-white/5 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.5))]"}),n.jsxs("div",{className:"relative p-8",children:[n.jsx(_,{className:"h-9 w-24 rounded-md absolute top-4 left-4"}),n.jsxs("div",{className:"flex items-start gap-6 mt-8",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-primary/20 to-primary/10 animate-pulse"}),n.jsx(_,{className:"absolute -bottom-2 -right-2 w-8 h-8 rounded-full border-4 border-background"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(_,{className:"h-9 w-48"}),n.jsx(_,{className:"h-6 w-20 rounded-full"}),n.jsx(_,{className:"h-6 w-24 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-3 gap-6 mt-4",children:[1,2,3].map(e=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(_,{className:"w-10 h-10 rounded-lg"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(_,{className:"h-3 w-12"}),n.jsx(_,{className:"h-4 w-32"})]})]},e))}),n.jsx("div",{className:"mt-4 p-3 rounded-lg bg-background/60 border border-border/50",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(_,{className:"h-4 w-4 mt-0.5"}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsx(_,{className:"h-3 w-full"}),n.jsx(_,{className:"h-3 w-3/4"})]})]})})]})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{gradient:"from-blue-500/5 to-blue-500/0",iconBg:"bg-blue-500/10",accentBg:"bg-blue-500/5"},{gradient:"from-amber-500/5 to-amber-500/0",iconBg:"bg-amber-500/10",accentBg:"bg-amber-500/5"},{gradient:"from-green-500/5 to-green-500/0",iconBg:"bg-green-500/10",accentBg:"bg-green-500/5"},{gradient:"from-orange-500/5 to-orange-500/0",iconBg:"bg-orange-500/10",accentBg:"bg-orange-500/5"}].map((e,t)=>n.jsx(Y,{className:`border-border/50 bg-gradient-to-br ${e.gradient} hover:shadow-xl transition-all duration-300 group`,children:n.jsxs(X,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:`w-14 h-14 rounded-2xl ${e.iconBg} flex items-center justify-center group-hover:scale-110 transition-transform`,children:n.jsx(_,{className:"w-7 h-7 rounded"})}),n.jsx("div",{className:`w-10 h-10 rounded-xl ${e.accentBg} flex items-center justify-center`,children:n.jsx(_,{className:"w-5 h-5 rounded"})})]}),n.jsxs("div",{children:[n.jsx(_,{className:"h-8 w-24 mb-1"}),n.jsx(_,{className:"h-4 w-32 mb-3"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"w-2 h-2 rounded-full animate-pulse"}),n.jsx(_,{className:"h-3 w-28"})]})})]})]})},t))}),n.jsxs(Y,{className:"border-border/50 bg-gradient-to-br from-card to-card/50",children:[n.jsx(we,{className:"pb-3 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(_,{className:"h-6 w-6"}),n.jsx(_,{className:"h-6 w-48"})]}),n.jsx(_,{className:"h-4 w-64 mt-1"})]}),n.jsx(_,{className:"h-6 w-20 rounded-full"})]})}),n.jsxs(X,{className:"p-0",children:[n.jsx("div",{className:"px-6 pt-4",children:n.jsx("div",{className:"grid w-full grid-cols-3 bg-muted/50 rounded-lg p-1",children:[1,2,3].map(e=>n.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[n.jsx(_,{className:"h-4 w-4"}),n.jsx(_,{className:"h-4 w-16"})]},e))})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{gradient:"from-blue-500/10 to-blue-500/5",border:"border-blue-500/20"},{gradient:"from-green-500/10 to-green-500/5",border:"border-green-500/20"},{gradient:"from-orange-500/10 to-orange-500/5",border:"border-orange-500/20"},{gradient:"from-purple-500/10 to-purple-500/5",border:"border-purple-500/20"}].map((e,t)=>n.jsxs("div",{className:`p-4 rounded-xl bg-gradient-to-br ${e.gradient} border ${e.border}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(_,{className:"w-8 h-8 rounded-lg"}),n.jsx(_,{className:"h-3 w-20"})]}),n.jsx(_,{className:"h-7 w-16"})]},t))}),n.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-4 w-24"})]}),n.jsx(_,{className:"h-3 w-full rounded-full"}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx(_,{className:"h-3 w-20"}),n.jsx(_,{className:"h-3 w-20"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(_,{className:"h-8 w-20"}),n.jsx(_,{className:"h-8 w-20"}),n.jsx(_,{className:"h-8 w-20"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx(_,{className:"h-4 w-48 mb-3"}),n.jsx("div",{className:"h-[220px] flex items-center justify-center",children:n.jsxs("div",{className:"relative",children:[n.jsx(_,{className:"h-40 w-40 rounded-full"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"h-20 w-20 rounded-full bg-background"})})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx(_,{className:"h-4 w-40 mb-3"}),n.jsx("div",{className:"h-[220px] space-y-3 flex flex-col justify-end",children:[70,90,50,85,60].map((e,t)=>n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx(_,{className:"h-3 w-16"}),n.jsx(_,{className:"h-4 flex-1",style:{height:`${e}%`}})]},t))})]})]}),n.jsxs("div",{children:[n.jsx(_,{className:"h-5 w-32 mb-4"}),n.jsx("div",{className:"space-y-3",children:[1,2,3].map(e=>n.jsxs("div",{className:"p-5 rounded-xl bg-gradient-to-br from-card to-muted/20 border border-border/50 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center",children:n.jsx(_,{className:"w-6 h-6 rounded"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-5 w-40"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-3 w-3 rounded"}),n.jsx(_,{className:"h-3 w-56"})]})]})]}),n.jsx(_,{className:"h-6 w-28 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-4 gap-2 pt-3 border-t border-border/30",children:[1,2,3,4].map(t=>n.jsxs("div",{className:"p-2 rounded-lg bg-gradient-to-br from-muted/60 to-muted/30",children:[n.jsx(_,{className:"h-2 w-16 mb-1"}),n.jsx(_,{className:"h-4 w-20"})]},t))})]},e))})]})]})]})]})]})}),dLe=()=>{var ce,D,W,F,q,le,fe,B,K,se,Ne,ue;const{id:e}=Mi(),t=fr(),{toast:r}=xr();v.useState("portfolio");const[s,a]=v.useState("overview"),[i,o]=v.useState("financial"),[l,c]=v.useState("status"),[d,u]=v.useState("status"),[f,m]=v.useState(!1),[h,x]=v.useState({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""}),{data:p,isLoading:g,error:j,refetch:y}=ls({queryKey:["clientDetails",e],queryFn:()=>Zv.getClientDetails(e),enabled:!!e}),w=xY(),b=p,N=p==null?void 0:p.apartments,S=(N==null?void 0:N.data)||[];N!=null&&N.count;const E=p==null?void 0:p.products,C=(E==null?void 0:E.data)||[];E!=null&&E.count;const A=(p==null?void 0:p.statistics)||{},P=(A==null?void 0:A.apartments)||{},R=(A==null?void 0:A.products)||{},I=(A==null?void 0:A.financial)||{},z=ge=>ge==="Active"?"bg-success/10 text-success border-success/20":"bg-muted text-muted-foreground border-border/50",U=ge=>({"Design Approved":"bg-primary/10 text-primary border-primary/20",Ordering:"bg-warning/10 text-warning border-warning/20",Renovating:"bg-accent/10 text-accent border-accent/20",Completed:"bg-success/10 text-success border-success/20"})[ge]||"bg-muted text-muted-foreground border-border/50",L=()=>{b&&(x({name:b.name,email:b.email,phone:b.phone||"",account_status:b.account_status,type:b.type,notes:b.notes||""}),m(!0))},T=async ge=>{if(ge.preventDefault(),!h.name.trim()||!h.email.trim()){r({title:"Validation Error",description:"Name and email are required.",variant:"destructive"});return}try{await w.mutateAsync({id:e,data:h}),r({title:"Success",description:"Client updated successfully"}),m(!1),y()}catch(xe){console.error("Error updating client:",xe)}},k=P.by_status?Object.entries(P.by_status).map(([ge,xe])=>({name:ge,value:xe,fill:ge==="Completed"?"#10b981":ge==="Renovating"?"#8b5cf6":ge==="Ordering"?"#f59e0b":"#3b82f6"})):[],O=R.by_status?Object.entries(R.by_status).map(([ge,xe])=>({name:ge,value:xe})):[],M=[{name:"Paid",value:I.total_paid||0,fill:"#10b981"},{name:"Outstanding",value:I.outstanding||0,fill:"#f59e0b"}],ie=["#3b82f6","#8b5cf6","#f59e0b","#10b981","#ef4444","#06b6d4"];return g?n.jsx(cLe,{}):j||!b?n.jsx(ut,{title:"Client Not Found",children:n.jsx(Y,{children:n.jsxs(X,{className:"p-12 text-center",children:[n.jsx(Ct,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Client Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:j instanceof Error?j.message:"The client you're looking for doesn't exist."}),n.jsx(ee,{onClick:()=>t("/clients"),children:"Back to Clients"})]})})}):n.jsxs(ut,{title:b.name,children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsx(Ca,{children:n.jsxs(Ea,{children:[n.jsx(Jt,{children:n.jsx(Bn,{asChild:!0,children:n.jsx(Ti,{to:"/clients",children:"Clients"})})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(ni,{children:b.name})})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ee,{variant:"outline",size:"sm",onClick:L,children:[n.jsx($s,{className:"mr-2 h-4 w-4"}),"Edit"]}),n.jsxs(ee,{variant:"destructive",size:"sm",onClick:()=>{window.confirm(`Are you sure you want to delete "${b.name}"?`)&&t("/clients")},children:[n.jsx(on,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/5 via-primary/3 to-background border border-border/50",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-white/5 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.5))]"}),n.jsxs("div",{className:"relative p-8",children:[n.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>t("/clients"),className:"absolute top-4 left-4 flex items-center gap-1",children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex items-start gap-6 mt-8",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center text-white shadow-xl",children:n.jsx(JC,{className:"h-14 w-14"})}),n.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 rounded-full bg-success border-4 border-background flex items-center justify-center",children:n.jsx(or,{className:"h-4 w-4 text-white"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h2",{className:"text-3xl font-bold text-foreground",children:b.name}),n.jsx(Ce,{className:z(b.account_status),children:b.account_status}),n.jsxs(Ce,{variant:"secondary",children:[n.jsx(fne,{className:"h-3.5 w-3.5 mr-1"}),b.type]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-6 mt-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:n.jsx(cn,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Email"}),n.jsx("p",{className:"text-sm font-semibold",children:b.email})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-success/10 flex items-center justify-center",children:n.jsx(xo,{className:"h-5 w-5 text-success"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone"}),n.jsx("p",{className:"text-sm font-semibold",children:b.phone})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-500/10 flex items-center justify-center",children:n.jsx(en,{className:"h-5 w-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Member Since"}),n.jsx("p",{className:"text-sm font-semibold",children:Kt(new Date(b.created_at),"MMM dd, yyyy")})]})]})]}),b.notes&&n.jsx("div",{className:"mt-4 p-3 rounded-lg bg-background/60 border border-border/50",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Sn,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.notes})]})})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(Y,{className:"border-border/50 bg-gradient-to-br from-blue-500/5 to-blue-500/0 hover:shadow-xl transition-all duration-300 group",children:n.jsxs(X,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:n.jsx(dr,{className:"h-7 w-7 text-blue-600"})}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/5 flex items-center justify-center",children:n.jsx(qa,{className:"h-5 w-5 text-blue-600/60"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-3xl font-bold text-foreground mb-1",children:P.total}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Total Apartments"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-success",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-success animate-pulse"}),n.jsx("span",{className:"font-medium",children:"Active Properties"})]})})]})]})}),n.jsx(Y,{className:"border-border/50 bg-gradient-to-br from-amber-500/5 to-amber-500/0 hover:shadow-xl transition-all duration-300 group",children:n.jsxs(X,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-amber-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:n.jsx(ct,{className:"h-7 w-7 text-amber-600"})}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500/5 flex items-center justify-center",children:n.jsx(ig,{className:"h-5 w-5 text-amber-600/60"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-3xl font-bold text-foreground mb-1",children:R.total}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Total Products"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600",children:[n.jsx(wb,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium",children:"Across All Properties"})]})})]})]})}),n.jsx(Y,{className:"border-border/50 bg-gradient-to-br from-green-500/5 to-green-500/0 hover:shadow-xl transition-all duration-300 group",children:n.jsxs(X,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-green-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:n.jsx(br,{className:"h-7 w-7 text-green-600"})}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-500/5 flex items-center justify-center",children:n.jsx($9,{className:"h-5 w-5 text-green-600/60"})})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold text-foreground mb-1",children:[new Intl.NumberFormat("hu-HU").format(R.total_value||0)," Ft"]}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Total Investment"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600",children:[n.jsx(qa,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium",children:"Portfolio Value"})]})})]})]})}),n.jsx(Y,{className:"border-border/50 bg-gradient-to-br from-orange-500/5 to-orange-500/0 hover:shadow-xl transition-all duration-300 group",children:n.jsxs(X,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-orange-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:n.jsx(Ct,{className:"h-7 w-7 text-orange-600"})}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-500/5 flex items-center justify-center",children:n.jsx(jr,{className:"h-5 w-5 text-orange-600/60"})})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold text-foreground mb-1",children:[I.outstanding<0?"-":"",new Intl.NumberFormat("hu-HU").format(Math.abs(I.outstanding||0))," Ft"]}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Outstanding Amount"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-orange-600",children:[n.jsx(yf,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium",children:"Pending Payments"})]})})]})]})})]}),n.jsxs(Y,{className:"border-border/50 bg-gradient-to-br from-card to-card/50",children:[n.jsx(we,{className:"pb-3 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Ve,{className:"text-xl flex items-center gap-2",children:[n.jsx(S9,{className:"h-6 w-6 text-primary"}),"Analytics Dashboard"]}),n.jsx(Tr,{className:"mt-1",children:"Comprehensive insights and analytics"})]}),n.jsxs(Ce,{variant:"outline",className:"text-xs",children:[n.jsx(yf,{className:"h-3 w-3 mr-1"}),"Live Data"]})]})}),n.jsx(X,{className:"p-0",children:n.jsxs(wo,{value:s,onValueChange:a,className:"w-full",children:[n.jsx("div",{className:"px-6 pt-4",children:n.jsxs($i,{className:"grid w-full grid-cols-3 bg-muted/50",children:[n.jsxs(Lt,{value:"overview",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[n.jsx(n5,{className:"h-4 w-4 mr-2"}),"Overview"]}),n.jsxs(Lt,{value:"apartments",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[n.jsx(dr,{className:"h-4 w-4 mr-2"}),"Apartments"]}),n.jsxs(Lt,{value:"products",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[n.jsx(ct,{className:"h-4 w-4 mr-2"}),"Products"]})]})}),n.jsxs(Yt,{value:"overview",className:"p-6 space-y-6 mt-0",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center",children:n.jsx(ig,{className:"h-4 w-4 text-blue-600"})}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Total Orders"})]}),n.jsx("p",{className:"text-xl font-bold text-foreground",children:((ce=p==null?void 0:p.orders)==null?void 0:ce.count)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-500/10 to-green-500/5 border border-green-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-500/20 flex items-center justify-center",children:n.jsx(ct,{className:"h-4 w-4 text-green-600"})}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Deliveries"})]}),n.jsx("p",{className:"text-xl font-bold text-green-600",children:((D=p==null?void 0:p.deliveries)==null?void 0:D.count)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-orange-500/10 to-orange-500/5 border border-orange-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-500/20 flex items-center justify-center",children:n.jsx(Ct,{className:"h-4 w-4 text-orange-600"})}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Open Issues"})]}),n.jsx("p",{className:"text-xl font-bold text-orange-600",children:((W=p==null?void 0:p.issues)==null?void 0:W.open_count)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-500/10 to-purple-500/5 border border-purple-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center",children:n.jsx(JC,{className:"h-4 w-4 text-purple-600"})}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Vendors"})]}),n.jsx("p",{className:"text-xl font-bold text-purple-600",children:((F=p==null?void 0:p.vendors)==null?void 0:F.count)||new Set(C.map(ge=>ge.vendor_id).filter(Boolean)).size})]})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Payment Progress"}),n.jsxs("span",{className:"text-sm font-bold text-primary",children:[Math.round((I.total_paid||0)/(I.total_spent||1)*100),"% Complete"]})]}),n.jsx(A2,{value:Math.min((I.total_paid||0)/(I.total_spent||1)*100,100),className:"h-3"}),n.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-muted-foreground",children:[n.jsxs("span",{children:[new Intl.NumberFormat("hu-HU").format(I.total_paid||0)," Ft paid"]}),n.jsxs("span",{children:[new Intl.NumberFormat("hu-HU").format(I.outstanding||0)," Ft remaining"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Financial Analytics"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ee,{size:"sm",variant:i==="financial"?"default":"outline",onClick:()=>o("financial"),className:"h-8 text-xs",children:[n.jsx(n5,{className:"h-3 w-3 mr-1"}),"Financial"]}),n.jsxs(ee,{size:"sm",variant:i==="apartments"?"default":"outline",onClick:()=>o("apartments"),className:"h-8 text-xs",children:[n.jsx(dr,{className:"h-3 w-3 mr-1"}),"Properties"]}),n.jsxs(ee,{size:"sm",variant:i==="products"?"default":"outline",onClick:()=>o("products"),className:"h-8 text-xs",children:[n.jsx(ct,{className:"h-3 w-3 mr-1"}),"Products"]})]})]}),i==="financial"&&M.some(ge=>ge.value>0)&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Payment Distribution"}),n.jsx(rn,{width:"100%",height:200,children:n.jsxs(yg,{children:[n.jsx(Si,{data:M,cx:"50%",cy:"50%",labelLine:!1,label:({name:ge,percent:xe})=>`${ge}: ${(xe*100).toFixed(0)}%`,outerRadius:70,fill:"#8884d8",dataKey:"value",children:M.map((ge,xe)=>n.jsx(ua,{fill:ge.fill},`cell-${xe}`))}),n.jsx(mr,{formatter:ge=>`${new Intl.NumberFormat("hu-HU").format(ge)} Ft`})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Payment Breakdown"}),n.jsx(rn,{width:"100%",height:200,children:n.jsxs(da,{data:M,layout:"vertical",children:[n.jsx(Tn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(Xr,{type:"number",tick:{fontSize:11}}),n.jsx(Qr,{dataKey:"name",type:"category",tick:{fontSize:11},width:90}),n.jsx(mr,{formatter:ge=>`${new Intl.NumberFormat("hu-HU").format(ge)} Ft`}),n.jsx(mn,{dataKey:"value",radius:[0,6,6,0],children:M.map((ge,xe)=>n.jsx(ua,{fill:ge.fill},`cell-${xe}`))})]})})]})]}),i==="apartments"&&k.length>0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Apartment Status Distribution"}),n.jsx(rn,{width:"100%",height:200,children:n.jsxs(yg,{children:[n.jsx(Si,{data:k,cx:"50%",cy:"50%",labelLine:!1,label:({name:ge,percent:xe})=>`${(xe*100).toFixed(0)}%`,outerRadius:70,fill:"#8884d8",dataKey:"value",children:k.map((ge,xe)=>n.jsx(ua,{fill:ge.fill},`cell-${xe}`))}),n.jsx(mr,{})]})}),n.jsx("div",{className:"grid grid-cols-2 gap-2 mt-3",children:k.map((ge,xe)=>n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/30",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ge.fill}}),n.jsx("span",{className:"text-xs font-medium truncate",children:ge.name}),n.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:ge.value})]},xe))})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Breakdown"}),n.jsx(rn,{width:"100%",height:200,children:n.jsxs(da,{data:k,children:[n.jsx(Tn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(Xr,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:70}),n.jsx(Qr,{tick:{fontSize:11}}),n.jsx(mr,{}),n.jsx(mn,{dataKey:"value",radius:[6,6,0,0],children:k.map((ge,xe)=>n.jsx(ua,{fill:ge.fill},`cell-${xe}`))})]})})]})]}),i==="products"&&O.length>0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Product Status Distribution"}),n.jsx(rn,{width:"100%",height:200,children:n.jsxs(da,{data:O,children:[n.jsx(Tn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(Xr,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:70}),n.jsx(Qr,{tick:{fontSize:11}}),n.jsx(mr,{}),n.jsx(mn,{dataKey:"value",fill:"#8b5cf6",radius:[6,6,0,0],children:O.map((ge,xe)=>n.jsx(ua,{fill:ie[xe%ie.length]},`cell-${xe}`))})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Breakdown"}),n.jsx(rn,{width:"100%",height:200,children:n.jsxs(da,{data:O,layout:"vertical",children:[n.jsx(Tn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(Xr,{type:"number",tick:{fontSize:11}}),n.jsx(Qr,{dataKey:"name",type:"category",tick:{fontSize:10},width:110}),n.jsx(mr,{}),n.jsx(mn,{dataKey:"value",radius:[0,6,6,0],children:O.map((ge,xe)=>n.jsx(ua,{fill:ie[xe%ie.length]},`cell-${xe}`))})]})}),n.jsx("div",{className:"grid grid-cols-2 gap-2 mt-3",children:O.slice(0,6).map((ge,xe)=>n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/30",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ie[xe%ie.length]}}),n.jsx("span",{className:"text-xs font-medium truncate",children:ge.name}),n.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:ge.value})]},xe))})]})]})]}),n.jsxs(Yt,{value:"apartments",className:"p-6 space-y-6 mt-0",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(or,{className:"h-5 w-5 text-blue-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Completed"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((q=P.by_status)==null?void 0:q.Completed)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-amber-500/10 to-amber-500/5 border border-amber-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(jr,{className:"h-5 w-5 text-amber-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"In Progress"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((le=P.by_status)==null?void 0:le.Renovating)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-500/10 to-purple-500/5 border border-purple-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(wb,{className:"h-5 w-5 text-purple-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Planning"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((fe=P.by_status)==null?void 0:fe.Planning)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-500/10 to-green-500/5 border border-green-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(qa,{className:"h-5 w-5 text-green-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Avg Progress"})]}),n.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[Math.round(S.reduce((ge,xe)=>ge+(xe.progress||0),0)/(S.length||1)),"%"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Apartment Analytics"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ee,{size:"sm",variant:l==="status"?"default":"outline",onClick:()=>c("status"),className:"h-8 text-xs",children:"Status"}),n.jsx(ee,{size:"sm",variant:l==="value"?"default":"outline",onClick:()=>c("value"),className:"h-8 text-xs",children:"Value"}),n.jsx(ee,{size:"sm",variant:l==="products"?"default":"outline",onClick:()=>c("products"),className:"h-8 text-xs",children:"Products"})]})]}),l==="status"&&k.length>0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Distribution"}),n.jsx(rn,{width:"100%",height:220,children:n.jsxs(yg,{children:[n.jsx(Si,{data:k,cx:"50%",cy:"50%",labelLine:!1,label:({name:ge,percent:xe})=>`${ge}: ${(xe*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:k.map((ge,xe)=>n.jsx(ua,{fill:ge.fill},`cell-${xe}`))}),n.jsx(mr,{})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Comparison"}),n.jsx(rn,{width:"100%",height:220,children:n.jsxs(da,{data:k,children:[n.jsx(Tn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(Xr,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(Qr,{tick:{fontSize:11}}),n.jsx(mr,{}),n.jsx(mn,{dataKey:"value",radius:[8,8,0,0],children:k.map((ge,xe)=>n.jsx(ua,{fill:ge.fill},`cell-${xe}`))})]})})]})]}),l==="value"&&n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Apartment Value Distribution"}),n.jsx(rn,{width:"100%",height:250,children:n.jsxs(da,{data:S.map(ge=>{const xe=C.filter(Me=>Me.apartment_id===ge.id),Se=xe.reduce((Me,Oe)=>Me+parseFloat(Oe.unit_price||0)*Oe.qty,0);return{name:ge.name,value:Se,products:xe.length}}),children:[n.jsx(Tn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(Xr,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(Qr,{tick:{fontSize:11}}),n.jsx(mr,{formatter:ge=>`${new Intl.NumberFormat("hu-HU").format(ge)} Ft`}),n.jsx(mn,{dataKey:"value",fill:"#10b981",radius:[8,8,0,0]})]})})]}),l==="products"&&n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Products per Apartment"}),n.jsx(rn,{width:"100%",height:250,children:n.jsxs(da,{data:S.map(ge=>({name:ge.name,products:C.filter(xe=>xe.apartment_id===ge.id).length})),children:[n.jsx(Tn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(Xr,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(Qr,{tick:{fontSize:11}}),n.jsx(mr,{}),n.jsx(mn,{dataKey:"products",fill:"#f59e0b",radius:[8,8,0,0]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"All Apartments"}),n.jsx("div",{className:"space-y-3",children:S.slice(0,5).map(ge=>{const xe=C.filter(Me=>Me.apartment_id===ge.id),Se=xe.reduce((Me,Oe)=>Me+parseFloat(Oe.unit_price||0)*Oe.qty,0);return n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-card to-muted/20 border border-border/50 hover:border-primary/30 transition-all",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:n.jsx(dr,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-foreground",children:ge.name}),n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(vs,{className:"h-3 w-3"}),ge.address]})]})]}),n.jsx(Ce,{variant:"outline",className:U(ge.status),children:ge.status})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[n.jsxs("div",{className:"p-2 rounded-lg bg-muted/40",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-semibold",children:"Type"}),n.jsx("p",{className:"text-xs font-bold",children:ge.type||"N/A"})]}),n.jsxs("div",{className:"p-2 rounded-lg bg-amber-500/10",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-semibold",children:"Products"}),n.jsx("p",{className:"text-xs font-bold",children:xe.length})]}),n.jsxs("div",{className:"p-2 rounded-lg bg-green-500/10",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-semibold",children:"Value"}),n.jsxs("p",{className:"text-xs font-bold",children:[new Intl.NumberFormat("hu-HU",{notation:"compact"}).format(Se)," Ft"]})]}),n.jsxs("div",{className:"p-2 rounded-lg bg-primary/10",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-semibold",children:"Due Date"}),n.jsx("p",{className:"text-xs font-bold",children:ge.due_date?Kt(new Date(ge.due_date),"MMM dd"):"N/A"})]})]})]},ge.id)})})]})]}),n.jsxs(Yt,{value:"products",className:"p-6 space-y-6 mt-0",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-500/10 to-purple-500/5 border border-purple-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ig,{className:"h-5 w-5 text-purple-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Ordered"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((B=R.by_status)==null?void 0:B.Ordered)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ct,{className:"h-5 w-5 text-blue-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Delivered"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((K=R.by_status)==null?void 0:K.Delivered)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-amber-500/10 to-amber-500/5 border border-amber-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(jr,{className:"h-5 w-5 text-amber-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Pending"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((se=R.by_status)==null?void 0:se.Pending)||((Ne=R.by_status)==null?void 0:Ne["Not Ordered"])||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-500/10 to-green-500/5 border border-green-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(or,{className:"h-5 w-5 text-green-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Installed"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((ue=R.by_status)==null?void 0:ue.Installed)||0})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Product Analytics"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ee,{size:"sm",variant:d==="status"?"default":"outline",onClick:()=>u("status"),className:"h-8 text-xs",children:"Status"}),n.jsx(ee,{size:"sm",variant:d==="category"?"default":"outline",onClick:()=>u("category"),className:"h-8 text-xs",children:"Category"}),n.jsx(ee,{size:"sm",variant:d==="vendor"?"default":"outline",onClick:()=>u("vendor"),className:"h-8 text-xs",children:"Vendors"})]})]}),d==="status"&&O.length>0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Distribution"}),n.jsx(rn,{width:"100%",height:220,children:n.jsxs(da,{data:O,children:[n.jsx(Tn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(Xr,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(Qr,{tick:{fontSize:11}}),n.jsx(mr,{}),n.jsx(mn,{dataKey:"value",radius:[8,8,0,0],children:O.map((ge,xe)=>n.jsx(ua,{fill:ie[xe%ie.length]},`cell-${xe}`))})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Breakdown"}),n.jsx(rn,{width:"100%",height:220,children:n.jsxs(da,{data:O,layout:"vertical",children:[n.jsx(Tn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(Xr,{type:"number",tick:{fontSize:11}}),n.jsx(Qr,{dataKey:"name",type:"category",tick:{fontSize:10},width:110}),n.jsx(mr,{}),n.jsx(mn,{dataKey:"value",radius:[0,8,8,0],children:O.map((ge,xe)=>n.jsx(ua,{fill:ie[xe%ie.length]},`cell-${xe}`))})]})})]})]}),d==="category"&&n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Products by Category"}),n.jsx(rn,{width:"100%",height:250,children:n.jsxs(da,{data:Object.entries(C.reduce((ge,xe)=>{var Me;const Se=xe.category_name||((Me=xe.category_details)==null?void 0:Me.name)||"Uncategorized";return ge[Se]=(ge[Se]||0)+1,ge},{})).map(([ge,xe])=>({name:ge,value:xe})).slice(0,10),children:[n.jsx(Tn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(Xr,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(Qr,{tick:{fontSize:11}}),n.jsx(mr,{}),n.jsx(mn,{dataKey:"value",fill:"#8b5cf6",radius:[8,8,0,0]})]})})]}),d==="vendor"&&n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Products by Vendor"}),n.jsx(rn,{width:"100%",height:250,children:n.jsxs(da,{data:Object.entries(C.reduce((ge,xe)=>{const Se=xe.vendor_name||"Unknown";return ge[Se]=(ge[Se]||0)+1,ge},{})).map(([ge,xe])=>({name:ge,value:xe})).slice(0,10),children:[n.jsx(Tn,{strokeDasharray:"3 3",opacity:.1}),n.jsx(Xr,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(Qr,{tick:{fontSize:11}}),n.jsx(mr,{}),n.jsx(mn,{dataKey:"value",fill:"#10b981",radius:[8,8,0,0]})]})})]}),O.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Legend"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:O.map((ge,xe)=>n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/30 border border-border/50",children:[n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:ie[xe%ie.length]}}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium truncate",children:ge.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[ge.value," products"]})]})]},xe))})]})]})]})})]})]}),n.jsx(En,{open:f,onOpenChange:m,children:n.jsx(vn,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:n.jsxs("form",{onSubmit:T,children:[n.jsx(An,{className:"pb-4 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsxs("div",{children:[n.jsx(kn,{className:"text-xl",children:"Edit Client"}),n.jsx(zs,{className:"text-sm",children:"Update client information"})]})]})}),n.jsxs("div",{className:"grid gap-6 py-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/30",children:[n.jsx(qn,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Basic Information"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"name",className:"text-sm font-medium",children:["Full Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(me,{id:"name",value:h.name,onChange:ge=>x({...h,name:ge.target.value}),placeholder:"John Doe",className:"h-11",required:!0})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/30",children:[n.jsx(cn,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Contact Information"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"email",className:"text-sm font-medium",children:["Email ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(me,{id:"email",type:"email",value:h.email,onChange:ge=>x({...h,email:ge.target.value}),placeholder:"john@example.com",className:"h-11",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"phone",className:"text-sm font-medium",children:"Phone"}),n.jsx(me,{id:"phone",type:"tel",value:h.phone,onChange:ge=>x({...h,phone:ge.target.value}),placeholder:"+36 20 123 4567",className:"h-11"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/30",children:[n.jsx(_9,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Account Settings"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"type",className:"text-sm font-medium",children:"Client Type"}),n.jsxs(at,{value:h.type,onValueChange:ge=>x({...h,type:ge}),children:[n.jsx(nt,{id:"type",className:"h-11",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"Investor",children:"Investor"}),n.jsx(Z,{value:"Buy2Rent Internal",children:"Buy2Rent Internal"}),n.jsx(Z,{value:"Company",children:"Company"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"status",className:"text-sm font-medium",children:"Account Status"}),n.jsxs(at,{value:h.account_status,onValueChange:ge=>x({...h,account_status:ge}),children:[n.jsx(nt,{id:"status",className:"h-11",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"Active",children:"Active"}),n.jsx(Z,{value:"Inactive",children:"Inactive"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/30",children:[n.jsx(Sn,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Additional Information"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"notes",className:"text-sm font-medium",children:"Notes"}),n.jsx(Mn,{id:"notes",value:h.notes,onChange:ge=>x({...h,notes:ge.target.value}),placeholder:"Add any additional notes or comments about this client...",className:"min-h-[100px] resize-none"})]})]})]}),n.jsxs(yo,{className:"pt-6 border-t border-border/50 gap-3",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>m(!1),className:"flex-1 h-11",children:"Cancel"}),n.jsx(ee,{type:"submit",className:"flex-1 h-11 bg-primary hover:bg-primary/90",disabled:w.isPending,children:w.isPending?n.jsxs(n.Fragment,{children:[n.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Changes"]})})]})]})})})]})},vl=ur.create({baseURL:Fi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});vl.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));vl.interceptors.response.use(e=>e,async e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const Ql={getApartments:async e=>(await vl.get("/apartments/",{params:e})).data,getApartment:async e=>(await vl.get(`/apartments/${e}/`)).data,createApartment:async e=>(await vl.post("/apartments/",e)).data,updateApartment:async(e,t)=>(await vl.put(`/apartments/${e}/`,t)).data,patchApartment:async(e,t)=>(await vl.patch(`/apartments/${e}/`,t)).data,deleteApartment:async e=>{await vl.delete(`/apartments/${e}/`)},getApartmentStatistics:async e=>(await vl.get(`/apartments/${e}/statistics/`)).data,getApartmentActivities:async e=>(await vl.get(`/apartments/${e}/activities/`)).data},Fa={all:["apartments"],lists:()=>[...Fa.all,"list"],list:e=>[...Fa.lists(),e],details:()=>[...Fa.all,"detail"],detail:e=>[...Fa.details(),e],statistics:e=>[...Fa.all,"statistics",e],activities:e=>[...Fa.all,"activities",e]};function uLe(e,t){const[r,s]=v.useState(e);return v.useEffect(()=>{const a=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function OO(e){const t=uLe(e==null?void 0:e.search,300),r={...e,search:t};return ls({queryKey:Fa.list(r),queryFn:()=>Ql.getApartments(r),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:s=>s})}function DO(e){return ls({queryKey:Fa.detail(e),queryFn:()=>Ql.getApartment(e),enabled:!!e,staleTime:5*60*1e3})}function fLe(){const e=Hr(),{toast:t}=xr();return dn({mutationFn:r=>Ql.createApartment(r),onSuccess:r=>{e.invalidateQueries({queryKey:Fa.lists()}),t({title:"Success",description:`Apartment "${r.name}" created successfully`})},onError:r=>{t({title:"Error creating apartment",description:r.message||"Something went wrong",variant:"destructive"})}})}function mLe(){const e=Hr(),{toast:t}=xr();return dn({mutationFn:({id:r,data:s})=>Ql.updateApartment(r,s),onSuccess:r=>{e.invalidateQueries({queryKey:Fa.lists()}),e.invalidateQueries({queryKey:Fa.detail(r.id)}),t({title:"Success",description:`Apartment "${r.name}" updated successfully`})},onError:r=>{t({title:"Error updating apartment",description:r.message||"Something went wrong",variant:"destructive"})}})}function hLe(){const e=Hr(),{toast:t}=xr();return dn({mutationFn:({id:r})=>Ql.deleteApartment(r),onSuccess:(r,s)=>{e.invalidateQueries({queryKey:Fa.lists()}),t({title:"Success",description:`Apartment "${s.name}" deleted successfully`})},onError:r=>{t({title:"Error deleting apartment",description:r.message||"Something went wrong",variant:"destructive"})}})}function pLe(e){return ls({queryKey:Fa.statistics(e),queryFn:()=>Ql.getApartmentStatistics(e),enabled:!!e,staleTime:2*60*1e3,refetchOnWindowFocus:!1})}function xLe(e){return ls({queryKey:Fa.activities(e),queryFn:()=>Ql.getApartmentActivities(e),enabled:!!e,staleTime:1*60*1e3,refetchOnWindowFocus:!1})}const lc=ur.create({baseURL:Fi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});lc.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));lc.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});const No={getVendors:async e=>{const t=e?{search:e}:{};return(await lc.get("/vendors/",{params:t})).data},getVendor:async e=>(await lc.get(`/vendors/${e}/`)).data,createVendor:async e=>(await lc.post("/vendors/",e)).data,updateVendor:async(e,t)=>(await lc.patch(`/vendors/${e}/`,t)).data,deleteVendor:async e=>{await lc.delete(`/vendors/${e}/`)},getVendorProducts:async e=>(await lc.get(`/vendors/${e}/products/`)).data,removeVendorProduct:async(e,t)=>{await lc.delete(`/vendors/${e}/products/${t}/`)}},Vc={vendors:["vendors"],vendor:e=>["vendors",e],vendorProducts:e=>["vendors",e,"products"]};function Zf(e){return ls({queryKey:Vc.vendors,queryFn:()=>No.getVendors(e),staleTime:10*60*1e3,retry:1,refetchOnWindowFocus:!1})}function RY(e){return ls({queryKey:Vc.vendor(e),queryFn:()=>No.getVendor(e),enabled:!!e,staleTime:10*60*1e3,retry:1,refetchOnWindowFocus:!1})}function gLe(){const e=Hr();return dn({mutationFn:t=>No.createVendor(t),onSuccess:()=>{e.invalidateQueries({queryKey:Vc.vendors}),Ue.success("Vendor created successfully")},onError:t=>{var s,a;const r=((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||t.message||"Failed to create vendor";Ue.error(r),console.error("Create vendor error:",t)}})}function vLe(){const e=Hr();return dn({mutationFn:({id:t,data:r})=>No.updateVendor(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Vc.vendors}),e.invalidateQueries({queryKey:Vc.vendor(r.id)}),Ue.success("Vendor updated successfully")},onError:t=>{var s,a;const r=((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||t.message||"Failed to update vendor";Ue.error(r),console.error("Update vendor error:",t)}})}function MY(){const e=Hr();return dn({mutationFn:t=>No.deleteVendor(t),onSuccess:()=>{e.invalidateQueries({queryKey:Vc.vendors}),Ue.success("Vendor deleted successfully")},onError:t=>{var s,a;const r=((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||t.message||"Failed to delete vendor";Ue.error(r),console.error("Delete vendor error:",t)}})}function yLe(e){return ls({queryKey:Vc.vendorProducts(e),queryFn:()=>No.getVendorProducts(e),enabled:!!e,staleTime:5*60*1e3,retry:1,refetchOnWindowFocus:!1})}function jLe(e){const t=Hr();return dn({mutationFn:r=>No.removeVendorProduct(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:Vc.vendorProducts(e)}),t.invalidateQueries({queryKey:Vc.vendor(e)}),Ue.success("Product removed from vendor successfully")},onError:r=>{var a,i;const s=((i=(a=r.response)==null?void 0:a.data)==null?void 0:i.message)||r.message||"Failed to remove product";Ue.error(s),console.error("Remove product error:",r)}})}const Cs=ur.create({baseURL:Fi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});Cs.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Cs.interceptors.response.use(e=>e,async e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const Oi={getProducts:async e=>(await Cs.get("/products/",{params:e})).data,getProductsByApartment:async(e,t)=>(await Cs.get("/products/by_apartment/",{params:{apartment_id:e,...t}})).data,getProductsByCategory:async e=>(await Cs.get("/products/by_category/",{params:e})).data,getProduct:async e=>(await Cs.get(`/products/${e}/`)).data,createProduct:async e=>{const t=e instanceof FormData?{headers:{"Content-Type":void 0}}:{};return(await Cs.post("/products/",e,t)).data},updateProduct:async(e,t)=>{const r=t instanceof FormData?{headers:{"Content-Type":void 0}}:{};return(await Cs.patch(`/products/${e}/`,t,r)).data},deleteProduct:async e=>{await Cs.delete(`/products/${e}/`)},getProductCategories:async e=>(await Cs.get("/products/categories/",{params:{apartment_id:e}})).data,createCategory:async e=>(await Cs.post("/products/create_category/",{...e,sheet_name:e.sheet_name||e.name})).data,importProducts:async(e,t,r)=>{console.log(" DEBUG productApi: Received parameters:",{file:e.name,apartmentId:t,vendorId:r});const s=new FormData;s.append("file",e),s.append("apartment_id",t),s.append("vendor_id",r),console.log(" DEBUG productApi: FormData contents:");for(let[i,o]of s.entries())console.log(`  ${i}:`,o);return(await Cs.post("/products/import_excel/",s,{headers:{"Content-Type":"multipart/form-data"}})).data},getImportSessions:async e=>(await Cs.get("/products/import_sessions/",{params:{apartment:e}})).data,deleteImportSession:async e=>{await Cs.delete(`/products/delete_import_session/${e}/`)},downloadImportTemplate:async()=>(await Cs.get("/products/import_template/",{responseType:"blob"})).data,getProductStatistics:async e=>(await Cs.get("/products/statistics/",{params:e?{apartment:e}:void 0})).data,createApartmentAndImport:async e=>{const t=new FormData;return t.append("file",e.file),t.append("apartment_name",e.apartment_name),e.apartment_type&&t.append("apartment_type",e.apartment_type),e.owner&&t.append("owner",e.owner),e.status&&t.append("status",e.status),e.designer&&t.append("designer",e.designer),e.start_date&&t.append("start_date",e.start_date),e.due_date&&t.append("due_date",e.due_date),e.address&&t.append("address",e.address),e.vendor_id&&t.append("vendor_id",e.vendor_id),(await Cs.post("/products/create_apartment_and_import/",t,{headers:{"Content-Type":"multipart/form-data"}})).data}},bLe=()=>{const e=fr(),[t,r]=NP(),{toast:s}=xr(),[a,i]=v.useState(""),[o,l]=v.useState("all"),[c,d]=v.useState(!1),[u,f]=v.useState([]),[m,h]=v.useState(!1),[x,p]=v.useState(!1),[g,j]=v.useState({}),[y,w]=v.useState({open:!1,id:"",name:""}),[b,N]=v.useState({name:"",type:"furnishing",client:"",address:"",status:"Planning",designer:"",start_date:"",due_date:"",vendor:""}),S=t.get("type")||"furnishing",E=B=>{B&&r({type:B})},{data:C,isLoading:A,error:P,refetch:R}=OO({search:a||void 0,type:S!=="all"?S:void 0,status:o!=="all"?o:void 0}),I=hLe(),{data:z,isLoading:U}=E2({page_size:100,ordering:"name"}),{data:L,isLoading:T}=Zf(),k=(L==null?void 0:L.results)||[],O=v.useMemo(()=>(C==null?void 0:C.results)||[],[C==null?void 0:C.results]),M=v.useMemo(()=>{const B=(C==null?void 0:C.results)||[],K=B.length,se=B.filter(Oe=>Oe.type==="furnishing").length,Ne=B.filter(Oe=>Oe.type==="renovating").length,ue=B.filter(Oe=>Oe.status==="Planning").length,ge=B.filter(Oe=>Oe.status==="Ordering").length,xe=B.filter(Oe=>Oe.status==="Delivery").length,Se=B.filter(Oe=>Oe.status==="Completed").length,Me=K-Se;return{totalApartments:K,furnishingCount:se,renovatingCount:Ne,planningCount:ue,orderingCount:ge,deliveryCount:xe,completeCount:Se,inProgressCount:Me}},[C==null?void 0:C.results]),ie=()=>{const B={};if(b.name.trim()?b.name.trim().length<3&&(B.name="Apartment name must be at least 3 characters"):B.name="Apartment name is required",b.client||(B.client="Client selection is required"),b.address.trim()?b.address.trim().length<10&&(B.address="Please provide a complete address (minimum 10 characters)"):B.address="Address is required",b.start_date||(B.start_date="Start date is required"),b.due_date||(B.due_date="Due date is required"),b.start_date&&b.due_date){const K=new Date(b.start_date);new Date(b.due_date)<=K&&(B.due_date="Due date must be after start date")}return j(B),Object.keys(B).length===0},ce=B=>{var ue;const K=(ue=B.name.split(".").pop())==null?void 0:ue.toLowerCase(),se=["xlsx","xls","csv"],Ne=50*1024*1024;return se.includes(K||"")?B.size>Ne?{valid:!1,error:`File too large: ${B.name}. Maximum size is 50MB.`}:B.size===0?{valid:!1,error:`Empty file: ${B.name}. Please select a valid file.`}:{valid:!0}:{valid:!1,error:`Invalid file type: ${B.name}. Only Excel (.xlsx, .xls) and CSV (.csv) files are allowed.`}},D=async()=>{var B,K;if(j({}),!ie()){s({title:"Validation Error",description:"Please fix the errors in the form before submitting.",variant:"destructive"});return}if(u.length>0)for(const se of u){const Ne=ce(se);if(!Ne.valid){s({title:"File Validation Error",description:Ne.error,variant:"destructive"});return}}p(!0);try{if(u.length===0){s({title:"File Required",description:"Please upload an Excel or CSV file to import products.",variant:"destructive"}),p(!1);return}const se=await Oi.createApartmentAndImport({file:u[0],apartment_name:b.name,apartment_type:b.type,owner:b.client,status:b.status,designer:b.designer,start_date:b.start_date,due_date:b.due_date,address:b.address,vendor_id:b.vendor||void 0});if(se.success)s({title:"Success!",description:n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-semibold",children:se.message}),n.jsxs("p",{className:"text-sm",children:["Apartment: ",se.data.apartment_name]}),n.jsxs("p",{className:"text-sm",children:["Products imported: ",se.data.successful_imports," / ",se.data.total_products]}),se.data.failed_imports>0&&n.jsxs("p",{className:"text-sm text-yellow-600",children:["Failed: ",se.data.failed_imports]}),se.data.errors.length>0&&n.jsxs("p",{className:"text-sm text-red-600",children:["Errors: ",se.data.errors.join(", ")]})]})}),W(),d(!1),R(),setTimeout(()=>{e(`/apartments/${se.data.apartment_id}`)},1e3);else throw new Error(se.message||"Import failed")}catch(se){console.error("Import error:",se),s({title:"Error",description:((K=(B=se.response)==null?void 0:B.data)==null?void 0:K.message)||se.message||"Failed to create apartment and import products. Please try again.",variant:"destructive"})}finally{p(!1)}},W=()=>{N({name:"",type:"furnishing",client:"",address:"",status:"Planning",designer:"",start_date:"",due_date:"",vendor:""}),f([]),j({})},F=B=>{const K=Array.from(B),se=[];for(const Ne of K){const ue=ce(Ne);ue.valid?se.push(Ne):s({title:"File Validation Error",description:ue.error,variant:"destructive"})}se.length>0&&f(Ne=>[...Ne,...se])},q=(B,K)=>{w({open:!0,id:B,name:K})},le=async()=>{try{await I.mutateAsync({id:y.id,name:y.name}),w({open:!1,id:"",name:""})}catch(B){console.error("Delete failed:",B)}},fe=B=>({Planning:"bg-blue-500/10 text-blue-500",Ordering:"bg-yellow-500/10 text-yellow-500",Delivery:"bg-purple-500/10 text-purple-500",Complete:"bg-green-500/10 text-green-500"})[B]||"bg-gray-500/10 text-gray-500";return n.jsx(ut,{title:"Apartments",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[n.jsx(Y,{className:"border-border/50 bg-gradient-to-br from-background to-muted/20",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Total"}),n.jsx("p",{className:"text-2xl font-bold mt-1",children:M.totalApartments})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx(dr,{className:"h-5 w-5 text-primary"})})]})})}),n.jsx(Y,{className:"border-border/50 bg-gradient-to-br from-background to-yellow-500/5",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Furnishing"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-yellow-600",children:M.furnishingCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-yellow-500/10 flex items-center justify-center",children:n.jsx(Dne,{className:"h-5 w-5 text-yellow-500"})})]})})}),n.jsx(Y,{className:"border-border/50 bg-gradient-to-br from-background to-orange-500/5",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Renovating"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-orange-600",children:M.renovatingCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-orange-500/10 flex items-center justify-center",children:n.jsx(yne,{className:"h-5 w-5 text-orange-500"})})]})})}),n.jsx(Y,{className:"border-border/50 bg-gradient-to-br from-background to-blue-500/5",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"In Progress"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-blue-600",children:M.inProgressCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-500/10 flex items-center justify-center",children:n.jsx(jr,{className:"h-5 w-5 text-blue-500"})})]})})}),n.jsx(Y,{className:"border-border/50 bg-gradient-to-br from-background to-green-500/5",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Completed"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-green-600",children:M.completeCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-green-500/10 flex items-center justify-center",children:n.jsx(Lr,{className:"h-5 w-5 text-green-500"})})]})})}),n.jsx(Y,{className:"border-border/50 bg-gradient-to-br from-background to-purple-500/5",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Delivery"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-purple-600",children:M.deliveryCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-purple-500/10 flex items-center justify-center",children:n.jsx(ct,{className:"h-5 w-5 text-purple-500"})})]})})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[n.jsxs("div",{className:"flex gap-2 flex-1 max-w-md",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Rs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search apartments...",value:a,onChange:B=>i(B.target.value),className:"pl-9"})]}),n.jsxs(at,{value:o,onValueChange:l,children:[n.jsx(nt,{className:"w-[140px]",children:n.jsx(it,{placeholder:"Status"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"all",children:"All Status"}),n.jsx(Z,{value:"Planning",children:"Planning"}),n.jsx(Z,{value:"Ordering",children:"Ordering"}),n.jsx(Z,{value:"Delivery",children:"Delivery"}),n.jsx(Z,{value:"Complete",children:"Complete"}),n.jsx(Z,{value:"Design Approved",children:"Design Approved"}),n.jsx(Z,{value:"Renovating",children:"Renovating"})]})]})]}),n.jsxs("div",{className:"flex gap-3 items-center",children:[n.jsx(ee,{variant:S==="furnishing"?"default":"outline",onClick:()=>E("furnishing"),className:S==="furnishing"?"bg-yellow-500 hover:bg-yellow-600 text-white":"",children:"Furnishing"}),n.jsx(ee,{variant:S==="renovating"?"default":"outline",onClick:()=>E("renovating"),children:"Renovating"}),n.jsxs(ee,{variant:"outline",onClick:()=>d(!0),children:[n.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Import Data"]}),n.jsxs(ee,{onClick:()=>e("/apartments/new"),className:"bg-cyan-500 hover:bg-cyan-600",children:[n.jsx(Fn,{className:"h-4 w-4 mr-2"}),"Add Apartment"]})]})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ve,{children:["All Apartments (",(C==null?void 0:C.count)||0,")"]}),n.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>R(),disabled:A,children:n.jsx(lf,{className:`h-4 w-4 ${A?"animate-spin":""}`})})]})}),n.jsx(X,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(js,{children:[n.jsx(bs,{children:n.jsxs($t,{children:[n.jsx(Pe,{children:"Apartment Name"}),n.jsx(Pe,{children:"Type"}),n.jsx(Pe,{children:"Clients"}),n.jsx(Pe,{children:"Address"}),n.jsx(Pe,{children:"Status"}),n.jsx(Pe,{children:"Designer"}),n.jsx(Pe,{children:"Start Date"}),n.jsx(Pe,{children:"Due Date"}),n.jsx(Pe,{className:"text-right",children:"Actions"})]})}),n.jsx(ws,{children:A?Array.from({length:3}).map((B,K)=>n.jsxs($t,{children:[n.jsx(_e,{children:n.jsx(_,{className:"h-4 w-32"})}),n.jsx(_e,{children:n.jsx(_,{className:"h-4 w-20"})}),n.jsx(_e,{children:n.jsx(_,{className:"h-4 w-24"})}),n.jsx(_e,{children:n.jsx(_,{className:"h-4 w-40"})}),n.jsx(_e,{children:n.jsx(_,{className:"h-4 w-20"})}),n.jsx(_e,{children:n.jsx(_,{className:"h-4 w-24"})}),n.jsx(_e,{children:n.jsx(_,{className:"h-4 w-20"})}),n.jsx(_e,{children:n.jsx(_,{className:"h-4 w-20"})}),n.jsx(_e,{children:n.jsx(_,{className:"h-4 w-16"})}),n.jsx(_e,{children:n.jsx(_,{className:"h-4 w-20"})})]},K)):P?n.jsx($t,{children:n.jsx(_e,{colSpan:10,className:"text-center py-8 text-destructive",children:"Error loading apartments. Please try again."})}):O.length===0?n.jsx($t,{children:n.jsx(_e,{colSpan:10,className:"text-center py-8 text-muted-foreground",children:"No apartments found. Try adjusting your filters or add a new apartment."})}):O.map(B=>{var K;return n.jsxs($t,{children:[n.jsx(_e,{className:"font-medium",children:B.name}),n.jsx(_e,{children:n.jsx(Ce,{variant:"outline",className:"capitalize",children:B.type})}),n.jsx(_e,{children:((K=B.client_details)==null?void 0:K.name)||"N/A"}),n.jsx(_e,{className:"max-w-[200px] truncate",children:B.address}),n.jsx(_e,{children:n.jsx(Ce,{className:fe(B.status),children:B.status})}),n.jsx(_e,{children:B.designer}),n.jsx(_e,{children:B.start_date}),n.jsx(_e,{children:B.due_date}),n.jsx(_e,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>e(`/apartments/${B.id}`),children:n.jsx(Ha,{className:"h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>e(`/apartments/${B.id}/edit`),children:n.jsx($s,{className:"h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>q(B.id,B.name),children:n.jsx(on,{className:"h-4 w-4"})})]})})]},B.id)})})]})})})]}),n.jsx(En,{open:c,onOpenChange:d,children:n.jsxs(vn,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(An,{children:[n.jsx(kn,{className:"text-xl",children:"Create Apartment & Import Data"}),n.jsx(zs,{children:"Fill in the apartment details and upload Excel (.xlsx, .xls) or CSV (.csv) files to import product data."})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Apartment Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"apt-name",children:["Apartment Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(me,{id:"apt-name",placeholder:"Enter apartment name",value:b.name,onChange:B=>{N({...b,name:B.target.value}),g.name&&j({...g,name:""})},className:g.name?"border-destructive":""}),g.name&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"apt-type",children:["Type ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(at,{value:b.type,onValueChange:B=>N({...b,type:B}),children:[n.jsx(nt,{id:"apt-type",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"furnishing",children:"Furnishing"}),n.jsx(Z,{value:"renovating",children:"Renovating"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"apt-owner",children:["Clients ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(at,{value:b.client,onValueChange:B=>{N({...b,client:B}),g.client&&j({...g,client:""})},disabled:U,children:[n.jsx(nt,{id:"apt-client",className:g.client?"border-destructive":"",children:n.jsx(it,{placeholder:U?"Loading clients...":"Select client"})}),n.jsx(st,{children:z!=null&&z.results&&z.results.length>0?z.results.map(B=>n.jsx(Z,{value:B.id,children:B.name},B.id)):n.jsx(Z,{value:"no-clients",disabled:!0,children:"No clients available"})})]}),g.client&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.client})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"apt-status",children:["Status ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(at,{value:b.status,onValueChange:B=>N({...b,status:B}),children:[n.jsx(nt,{id:"apt-status",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"Planning",children:"Planning"}),n.jsx(Z,{value:"Design Approved",children:"Design Approved"}),n.jsx(Z,{value:"Ordering",children:"Ordering"}),n.jsx(Z,{value:"Delivery",children:"Delivery"}),n.jsx(Z,{value:"Installation",children:"Installation"}),n.jsx(Z,{value:"Completed",children:"Completed"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"apt-designer",children:"Designer"}),n.jsx(me,{id:"apt-designer",placeholder:"Enter designer name",value:b.designer,onChange:B=>N({...b,designer:B.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"apt-start",children:["Start Date ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(me,{id:"apt-start",type:"date",value:b.start_date,onChange:B=>{N({...b,start_date:B.target.value}),g.start_date&&j({...g,start_date:""})},className:g.start_date?"border-destructive":""}),g.start_date&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.start_date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"apt-due",children:["Due Date ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(me,{id:"apt-due",type:"date",value:b.due_date,onChange:B=>{N({...b,due_date:B.target.value}),g.due_date&&j({...g,due_date:""})},className:g.due_date?"border-destructive":""}),g.due_date&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.due_date})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"apt-address",children:["Address ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(Mn,{id:"apt-address",placeholder:"Enter complete address",value:b.address,onChange:B=>{N({...b,address:B.target.value}),g.address&&j({...g,address:""})},rows:3,className:g.address?"border-destructive":""}),g.address&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.address})]})]}),n.jsxs("div",{className:"space-y-4 bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Import Product Data"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Upload Excel or CSV files containing product information for this apartment."})]}),n.jsxs(ee,{variant:"outline",size:"sm",className:"gap-2",onClick:async()=>{try{const B=await Oi.downloadImportTemplate(),K=window.URL.createObjectURL(B),se=document.createElement("a");se.href=K,se.download="apartment-template.xlsx",document.body.appendChild(se),se.click(),window.URL.revokeObjectURL(K),document.body.removeChild(se),s({title:"Success",description:"Template downloaded successfully"})}catch{s({title:"Error",description:"Failed to download template",variant:"destructive"})}},children:[n.jsx(xv,{className:"h-4 w-4"}),"Download Template"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"apt-vendor",children:"Vendor (Optional)"}),n.jsxs(at,{value:b.vendor,onValueChange:B=>N({...b,vendor:B}),disabled:T,children:[n.jsx(nt,{id:"apt-vendor",children:n.jsx(it,{placeholder:T?"Loading vendors...":"Select a vendor (optional)"})}),n.jsx(st,{children:k.length>0?k.map(B=>n.jsx(Z,{value:B.id,children:B.name},B.id)):n.jsx(Z,{value:"no-vendors",disabled:!0,children:"No vendors available"})})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Optionally assign a vendor to all imported products"})]}),n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${m?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onDragEnter:B=>{B.preventDefault(),B.stopPropagation(),h(!0)},onDragLeave:B=>{B.preventDefault(),B.stopPropagation(),h(!1)},onDragOver:B=>{B.preventDefault(),B.stopPropagation()},onDrop:B=>{B.preventDefault(),B.stopPropagation(),h(!1),B.dataTransfer.files&&F(B.dataTransfer.files)},children:[n.jsx(pne,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("p",{className:"text-base font-medium mb-1",children:"Drag & drop files here"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"or click to browse"}),n.jsxs("label",{htmlFor:"file-upload",children:[n.jsx(ee,{variant:"outline",size:"sm",className:"gap-2",asChild:!0,children:n.jsxs("span",{children:[n.jsx(Pi,{className:"h-4 w-4"}),"Choose Files"]})}),n.jsx("input",{id:"file-upload",type:"file",className:"hidden",accept:".xlsx,.xls,.csv",multiple:!0,onChange:B=>{B.target.files&&F(B.target.files)}})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum file size: 50MB. Supported formats: Excel (.xlsx, .xls) and CSV (.csv)"}),u.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm font-medium",children:["Uploaded Files (",u.length,")"]}),u.map((B,K)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Lr,{className:"h-5 w-5 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:B.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[(B.size/1024).toFixed(2)," KB"]})]})]}),n.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>{f(u.filter((se,Ne)=>Ne!==K))},children:n.jsx(Zn,{className:"h-4 w-4"})})]},K))]})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ee,{variant:"outline",onClick:()=>{d(!1),W()},disabled:x,children:"Cancel"}),n.jsx(ee,{variant:"outline",onClick:W,disabled:x,children:"Reset Form"})]}),n.jsx(ee,{className:"bg-blue-600 hover:bg-blue-700 gap-2",onClick:D,disabled:x,children:x?n.jsxs(n.Fragment,{children:[n.jsx(zt,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Fn,{className:"h-4 w-4"}),"Create Apartment & Import Data"]})})]})]})}),n.jsx(Xl,{open:y.open,onOpenChange:B=>!B&&w({open:!1,id:"",name:""}),children:n.jsxs(sl,{children:[n.jsx(al,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(fo,{className:"h-6 w-6 text-destructive"})}),n.jsxs("div",{children:[n.jsx(ol,{className:"text-xl",children:"Delete Apartment"}),n.jsx(ll,{className:"mt-1",children:"This action cannot be undone."})]})]})}),n.jsx("div",{className:"py-4",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to delete"," ",n.jsxs("span",{className:"font-semibold text-foreground",children:['"',y.name,'"']}),"? This will permanently remove the apartment and all associated products from the system."]})}),n.jsxs(il,{children:[n.jsx(dl,{autoFocus:!1,children:"Cancel"}),n.jsx(cl,{onClick:le,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",autoFocus:!0,children:"Delete Apartment"})]})]})})]})})};var IO="Radio",[wLe,FY]=Pa(IO),[NLe,_Le]=wLe(IO),$Y=v.forwardRef((e,t)=>{const{__scopeRadio:r,name:s,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[f,m]=v.useState(null),h=Ft(t,g=>m(g)),x=v.useRef(!1),p=f?d||!!f.closest("form"):!0;return n.jsxs(NLe,{scope:r,checked:a,disabled:o,children:[n.jsx(bt.button,{type:"button",role:"radio","aria-checked":a,"data-state":UY(a),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:h,onClick:qe(e.onClick,g=>{a||c==null||c(),p&&(x.current=g.isPropagationStopped(),x.current||g.stopPropagation())})}),p&&n.jsx(SLe,{control:f,bubbles:!x.current,name:s,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});$Y.displayName=IO;var LY="RadioIndicator",BY=v.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:s,...a}=e,i=_Le(LY,r);return n.jsx(os,{present:s||i.checked,children:n.jsx(bt.span,{"data-state":UY(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});BY.displayName=LY;var SLe=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,i=v.useRef(null),o=N2(r),l=rN(t);return v.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&f){const m=new Event("click",{bubbles:s});f.call(c,r),c.dispatchEvent(m)}},[o,r,s]),n.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function UY(e){return e?"checked":"unchecked"}var CLe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],RO="RadioGroup",[ELe,$tt]=Pa(RO,[Tp,FY]),VY=Tp(),zY=FY(),[ALe,kLe]=ELe(RO),WY=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:s,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:f,...m}=e,h=VY(r),x=Pp(d),[p,g]=uo({prop:i,defaultProp:a,onChange:f});return n.jsx(ALe,{scope:r,name:s,required:o,disabled:l,value:p,onValueChange:g,children:n.jsx($P,{asChild:!0,...h,orientation:c,dir:x,loop:u,children:n.jsx(bt.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...m,ref:t})})})});WY.displayName=RO;var HY="RadioGroupItem",qY=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:s,...a}=e,i=kLe(HY,r),o=i.disabled||s,l=VY(r),c=zY(r),d=v.useRef(null),u=Ft(t,d),f=i.value===a.value,m=v.useRef(!1);return v.useEffect(()=>{const h=p=>{CLe.includes(p.key)&&(m.current=!0)},x=()=>m.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",x)}},[]),n.jsx(LP,{asChild:!0,...l,focusable:!o,active:f,children:n.jsx($Y,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:qe(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:qe(a.onFocus,()=>{var h;m.current&&((h=d.current)==null||h.click())})})})});qY.displayName=HY;var PLe="RadioGroupIndicator",GY=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...s}=e,a=zY(r);return n.jsx(BY,{...a,...s,ref:t})});GY.displayName=PLe;var KY=WY,YY=qY,TLe=GY;const MO=v.forwardRef(({className:e,...t},r)=>n.jsx(KY,{className:ve("grid gap-2",e),...t,ref:r}));MO.displayName=KY.displayName;const W0=v.forwardRef(({className:e,...t},r)=>n.jsx(YY,{ref:r,className:ve("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(TLe,{className:"flex items-center justify-center",children:n.jsx(E9,{className:"h-2.5 w-2.5 fill-current text-current"})})}));W0.displayName=YY.displayName;const OLe=()=>{const e=fr(),{toast:t}=xr(),{data:r,isLoading:s}=E2({}),a=(r==null?void 0:r.results)||[],i=fLe(),[o,l]=v.useState({name:"",type:"furnishing",client:"",address:"",designer:"",status:"Planning",start_date:"",due_date:"",progress:0,notes:""}),[c,d]=v.useState({}),u=()=>{const m={};return o.name.trim()||(m.name="Apartment name is required"),o.client||(m.client="Client selection is required"),o.address.trim()||(m.address="Address is required"),o.designer.trim()||(m.designer="Designer is required"),o.start_date||(m.start_date="Start date is required"),o.due_date||(m.due_date="Due date is required"),o.start_date&&o.due_date&&new Date(o.due_date)<new Date(o.start_date)&&(m.due_date="Due date must be after start date"),d(m),Object.keys(m).length===0},f=async m=>{var h,x;if(m.preventDefault(),!u()){t({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{await i.mutateAsync(o),t({title:"Success",description:`${o.name} has been created successfully.`}),e("/apartments?type="+o.type)}catch(p){t({title:"Error",description:((x=(h=p.response)==null?void 0:h.data)==null?void 0:x.message)||"Failed to create apartment. Please try again.",variant:"destructive"})}};return n.jsx(ut,{title:"New Apartment",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ca,{children:n.jsxs(Ea,{children:[n.jsx(Jt,{children:n.jsx(Bn,{href:"/apartments",children:"Apartments"})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(ni,{children:"New Apartment"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>e("/apartments"),children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"New Apartment"})]}),n.jsx("form",{onSubmit:f,children:n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx(Ve,{children:"Apartment Details"})}),n.jsxs(X,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"name",children:"Apartment Name *"}),n.jsx(me,{id:"name",value:o.name,onChange:m=>l({...o,name:m.target.value}),placeholder:"Izabella utca 3  A/12"}),c.name&&n.jsx("p",{className:"text-sm text-destructive",children:c.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Type *"}),n.jsx(MO,{value:o.type,onValueChange:m=>l({...o,type:m}),children:n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(W0,{value:"furnishing",id:"furnishing"}),n.jsx(G,{htmlFor:"furnishing",className:"font-normal cursor-pointer",children:"Furnishing"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(W0,{value:"renovating",id:"renovating"}),n.jsx(G,{htmlFor:"renovating",className:"font-normal cursor-pointer",children:"Renovating"})]})]})})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"client",children:"Client/Owner *"}),n.jsxs(at,{value:o.client,onValueChange:m=>l({...o,client:m}),disabled:s,children:[n.jsx(nt,{id:"client",children:n.jsx(it,{placeholder:s?"Loading clients...":"Select client"})}),n.jsx(st,{children:a.map(m=>n.jsxs(Z,{value:m.id,children:[m.name," - ",m.type]},m.id))})]}),c.client&&n.jsx("p",{className:"text-sm text-destructive",children:c.client})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"designer",children:"Assigned Designer *"}),n.jsx(me,{id:"designer",value:o.designer,onChange:m=>l({...o,designer:m.target.value}),placeholder:"Enter designer name"}),c.designer&&n.jsx("p",{className:"text-sm text-destructive",children:c.designer})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"address",children:"Address *"}),n.jsx(me,{id:"address",value:o.address,onChange:m=>l({...o,address:m.target.value}),placeholder:"Izabella u. 3, Budapest"}),c.address&&n.jsx("p",{className:"text-sm text-destructive",children:c.address})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"status",children:"Status"}),n.jsxs(at,{value:o.status,onValueChange:m=>l({...o,status:m}),children:[n.jsx(nt,{id:"status",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"Planning",children:"Planning"}),n.jsx(Z,{value:"Design Approved",children:"Design Approved"}),n.jsx(Z,{value:"Ordering",children:"Ordering"}),n.jsx(Z,{value:"Delivery",children:"Delivery"}),n.jsx(Z,{value:"Renovating",children:"Renovating"}),n.jsx(Z,{value:"Complete",children:"Complete"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"start_date",children:"Start Date *"}),n.jsx(me,{id:"start_date",type:"date",value:o.start_date,onChange:m=>l({...o,start_date:m.target.value})}),c.start_date&&n.jsx("p",{className:"text-sm text-destructive",children:c.start_date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"due_date",children:"Due Date *"}),n.jsx(me,{id:"due_date",type:"date",value:o.due_date,onChange:m=>l({...o,due_date:m.target.value})}),c.due_date&&n.jsx("p",{className:"text-sm text-destructive",children:c.due_date})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"notes",children:"Notes"}),n.jsx(ta,{id:"notes",value:o.notes,onChange:m=>l({...o,notes:m.target.value}),placeholder:"Additional notes about this apartment...",rows:4})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>e("/apartments"),children:"Cancel"}),n.jsx(ee,{type:"submit",disabled:i.isPending,children:i.isPending?"Creating...":"Create Apartment"})]})]})]})})]})})},Dn={all:["products"],lists:()=>[...Dn.all,"list"],list:e=>[...Dn.lists(),e],details:()=>[...Dn.all,"detail"],detail:e=>[...Dn.details(),e],byApartment:e=>[...Dn.all,"apartment",e],byCategory:()=>[...Dn.all,"category"],categories:e=>[...Dn.all,"categories",e],statistics:e=>[...Dn.all,"statistics",e],importSessions:e=>[...Dn.all,"importSessions",e]};function XY(e,t){const[r,s]=v.useState(e);return v.useEffect(()=>{const a=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function QY(e){const t=XY(e==null?void 0:e.search,300),r={...e,search:t};return ls({queryKey:Dn.list(r),queryFn:()=>Oi.getProducts(r),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:s=>s})}function DLe(e,t){const r=XY(t==null?void 0:t.search,300),s={...t,search:r};return ls({queryKey:[...Dn.byApartment(e),s],queryFn:async()=>{const a=await Oi.getProductsByApartment(e,s);return Array.isArray(a)?a:[]},enabled:!!e,staleTime:5*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:a=>a})}function ZY(e){return ls({queryKey:Dn.detail(e),queryFn:()=>Oi.getProduct(e),enabled:!!e,staleTime:5*60*1e3})}function ILe(){const e=Hr(),{toast:t}=xr();return dn({mutationFn:r=>Oi.createProduct(r),onSuccess:r=>{e.invalidateQueries({queryKey:Dn.lists()}),e.invalidateQueries({queryKey:Dn.byApartment(r.apartment)}),t({title:"Success",description:`Product "${r.product}" created successfully`})},onError:r=>{t({title:"Error creating product",description:r.message||"Something went wrong",variant:"destructive"})}})}function JY(){const e=Hr(),{toast:t}=xr();return dn({mutationFn:({id:r,data:s})=>Oi.updateProduct(r,s),onSuccess:r=>{e.invalidateQueries({queryKey:Dn.lists()}),e.invalidateQueries({queryKey:Dn.detail(r.id)}),e.invalidateQueries({queryKey:Dn.byApartment(r.apartment)}),t({title:"Success",description:`Product "${r.product}" updated successfully`})},onError:r=>{t({title:"Error updating product",description:r.message||"Something went wrong",variant:"destructive"})}})}function RLe(){const e=Hr(),{toast:t}=xr();return dn({mutationFn:({id:r})=>Oi.deleteProduct(r),onSuccess:(r,s)=>{e.invalidateQueries({queryKey:Dn.lists()}),e.invalidateQueries({queryKey:Dn.byApartment(s.apartmentId)}),t({title:"Success",description:`Product "${s.name}" deleted successfully`})},onError:r=>{t({title:"Error deleting product",description:r.message||"Something went wrong",variant:"destructive"})}})}function eX(e){return ls({queryKey:Dn.categories(e),queryFn:()=>Oi.getProductCategories(e),enabled:!!e,staleTime:0,gcTime:0,retry:1,refetchOnWindowFocus:!1})}function tX(){const e=Hr(),{toast:t}=xr();return dn({mutationFn:r=>Oi.createCategory(r),onSuccess:(r,s)=>{e.invalidateQueries({queryKey:Dn.categories(s.apartment)}),t({title:"Success",description:`Category "${r.name}" created successfully`})},onError:r=>{t({title:"Error creating category",description:r.message||"Something went wrong",variant:"destructive"})}})}var kt=function(){return kt=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},kt.apply(this,arguments)};function MLe(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function rX(e,t,r){for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function Jv(e){return e.mode==="multiple"}function ey(e){return e.mode==="range"}function k2(e){return e.mode==="single"}var FLe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function $Le(e,t){return Kt(e,"LLLL y",t)}function LLe(e,t){return Kt(e,"d",t)}function BLe(e,t){return Kt(e,"LLLL",t)}function ULe(e){return"".concat(e)}function VLe(e,t){return Kt(e,"cccccc",t)}function zLe(e,t){return Kt(e,"yyyy",t)}var WLe=Object.freeze({__proto__:null,formatCaption:$Le,formatDay:LLe,formatMonthCaption:BLe,formatWeekNumber:ULe,formatWeekdayName:VLe,formatYearCaption:zLe}),HLe=function(e,t,r){return Kt(e,"do MMMM (EEEE)",r)},qLe=function(){return"Month: "},GLe=function(){return"Go to next month"},KLe=function(){return"Go to previous month"},YLe=function(e,t){return Kt(e,"cccc",t)},XLe=function(e){return"Week n. ".concat(e)},QLe=function(){return"Year: "},ZLe=Object.freeze({__proto__:null,labelDay:HLe,labelMonthDropdown:qLe,labelNext:GLe,labelPrevious:KLe,labelWeekNumber:XLe,labelWeekday:YLe,labelYearDropdown:QLe});function JLe(){var e="buttons",t=FLe,r=vT,s={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:WLe,labels:ZLe,locale:r,modifiersClassNames:s,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function e8e(e){var t=e.fromYear,r=e.toYear,s=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return s?i=Ya(s):t&&(i=new Date(t,0,1)),a?o=PN(a):r&&(o=new Date(r,11,31)),{fromDate:i?Mh(i):void 0,toDate:o?Mh(o):void 0}}var nX=v.createContext(void 0);function t8e(e){var t,r=e.initialProps,s=JLe(),a=e8e(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:s.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(k2(r)||Jv(r)||ey(r))&&(c=r.onSelect);var d=kt(kt(kt({},s),r),{captionLayout:l,classNames:kt(kt({},s.classNames),r.classNames),components:kt({},r.components),formatters:kt(kt({},s.formatters),r.formatters),fromDate:i,labels:kt(kt({},s.labels),r.labels),mode:r.mode||s.mode,modifiers:kt(kt({},s.modifiers),r.modifiers),modifiersClassNames:kt(kt({},s.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:kt(kt({},s.styles),r.styles),toDate:o});return n.jsx(nX.Provider,{value:d,children:e.children})}function qr(){var e=v.useContext(nX);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function sX(e){var t=qr(),r=t.locale,s=t.classNames,a=t.styles,i=t.formatters.formatCaption;return n.jsx("div",{className:s.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function r8e(e){return n.jsx("svg",kt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function aX(e){var t,r,s=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=qr(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:r8e;return n.jsxs("div",{className:l,style:c,children:[n.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:s,children:i}),n.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,n.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function n8e(e){var t,r=qr(),s=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!s)return n.jsx(n.Fragment,{});if(!a)return n.jsx(n.Fragment,{});var f=[];if(xxe(s,a))for(var m=Ya(s),h=s.getMonth();h<=a.getMonth();h++)f.push(eS(m,h));else for(var m=Ya(new Date),h=0;h<=11;h++)f.push(eS(m,h));var x=function(g){var j=Number(g.target.value),y=eS(Ya(e.displayMonth),j);e.onChange(y)},p=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:aX;return n.jsx(p,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(g){return n.jsx("option",{value:g.getMonth(),children:l(g,{locale:o})},g.getMonth())})})}function s8e(e){var t,r=e.displayMonth,s=qr(),a=s.fromDate,i=s.toDate,o=s.locale,l=s.styles,c=s.classNames,d=s.components,u=s.formatters.formatYearCaption,f=s.labels.labelYearDropdown,m=[];if(!a)return n.jsx(n.Fragment,{});if(!i)return n.jsx(n.Fragment,{});for(var h=a.getFullYear(),x=i.getFullYear(),p=h;p<=x;p++)m.push(HI(cW(new Date),p));var g=function(y){var w=HI(Ya(r),Number(y.target.value));e.onChange(w)},j=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:aX;return n.jsx(j,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:g,value:r.getFullYear(),caption:u(r,{locale:o}),children:m.map(function(y){return n.jsx("option",{value:y.getFullYear(),children:u(y,{locale:o})},y.getFullYear())})})}function a8e(e,t){var r=v.useState(e),s=r[0],a=r[1],i=t===void 0?s:t;return[i,a]}function i8e(e){var t=e.month,r=e.defaultMonth,s=e.today,a=t||r||s||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&$h(i,a)<0){var d=-1*(c-1);a=mo(i,d)}return o&&$h(a,o)<0&&(a=o),Ya(a)}function o8e(){var e=qr(),t=i8e(e),r=a8e(t,e.month),s=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=Ya(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[s,i]}function l8e(e,t){for(var r=t.reverseMonths,s=t.numberOfMonths,a=Ya(e),i=Ya(mo(a,s)),o=$h(i,a),l=[],c=0;c<o;c++){var d=mo(a,c);l.push(d)}return r&&(l=l.reverse()),l}function c8e(e,t){if(!t.disableNavigation){var r=t.toDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=Ya(e);if(!r)return mo(l,o);var c=$h(r,e);if(!(c<i))return mo(l,o)}}function d8e(e,t){if(!t.disableNavigation){var r=t.fromDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=Ya(e);if(!r)return mo(l,-o);var c=$h(l,r);if(!(c<=0))return mo(l,-o)}}var iX=v.createContext(void 0);function u8e(e){var t=qr(),r=o8e(),s=r[0],a=r[1],i=l8e(s,t),o=c8e(s,t),l=d8e(s,t),c=function(f){return i.some(function(m){return yT(f,m)})},d=function(f,m){c(f)||(m&&pW(f,m)?a(mo(f,1+t.numberOfMonths*-1)):a(f))},u={currentMonth:s,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return n.jsx(iX.Provider,{value:u,children:e.children})}function ty(){var e=v.useContext(iX);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Z6(e){var t,r=qr(),s=r.classNames,a=r.styles,i=r.components,o=ty().goToMonth,l=function(u){o(mo(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:sX,d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:s.caption_dropdowns,style:a.caption_dropdowns,children:[n.jsx("div",{className:s.vhidden,children:d}),n.jsx(n8e,{onChange:l,displayMonth:e.displayMonth}),n.jsx(s8e,{onChange:l,displayMonth:e.displayMonth})]})}function f8e(e){return n.jsx("svg",kt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function m8e(e){return n.jsx("svg",kt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var aw=v.forwardRef(function(e,t){var r=qr(),s=r.classNames,a=r.styles,i=[s.button_reset,s.button];e.className&&i.push(e.className);var o=i.join(" "),l=kt(kt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),n.jsx("button",kt({},e,{ref:t,type:"button",className:o,style:l}))});function h8e(e){var t,r,s=qr(),a=s.dir,i=s.locale,o=s.classNames,l=s.styles,c=s.labels,d=c.labelPrevious,u=c.labelNext,f=s.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var m=d(e.previousMonth,{locale:i}),h=[o.nav_button,o.nav_button_previous].join(" "),x=u(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),g=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:m8e,j=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:f8e;return n.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&n.jsx(aw,{name:"previous-month","aria-label":m,className:h,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?n.jsx(g,{className:o.nav_icon,style:l.nav_icon}):n.jsx(j,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&n.jsx(aw,{name:"next-month","aria-label":x,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?n.jsx(j,{className:o.nav_icon,style:l.nav_icon}):n.jsx(g,{className:o.nav_icon,style:l.nav_icon})})]})}function J6(e){var t=qr().numberOfMonths,r=ty(),s=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(x){return yT(e.displayMonth,x)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),f=t>1&&(d||!c),m=function(){s&&i(s)},h=function(){a&&i(a)};return n.jsx(h8e,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:a,previousMonth:s,onPreviousClick:m,onNextClick:h})}function p8e(e){var t,r=qr(),s=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:sX,d;return a?d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=n.jsx(Z6,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=n.jsxs(n.Fragment,{children:[n.jsx(Z6,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx(J6,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=n.jsxs(n.Fragment,{children:[n.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(J6,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:s.caption,style:i.caption,children:d})}function x8e(e){var t=qr(),r=t.footer,s=t.styles,a=t.classNames.tfoot;return r?n.jsx("tfoot",{className:a,style:s.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:r})})}):n.jsx(n.Fragment,{})}function g8e(e,t,r){for(var s=r?Pf(new Date):Ul(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=pa(s,i);a.push(o)}return a}function v8e(){var e=qr(),t=e.classNames,r=e.styles,s=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=g8e(a,i,o);return n.jsxs("tr",{style:r.head_row,className:t.head_row,children:[s&&n.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,f){return n.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},f)})]})}function y8e(){var e,t=qr(),r=t.classNames,s=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:v8e;return n.jsx("thead",{style:s.head,className:r.head,children:n.jsx(i,{})})}function j8e(e){var t=qr(),r=t.locale,s=t.formatters.formatDay;return n.jsx(n.Fragment,{children:s(e.date,{locale:r})})}var FO=v.createContext(void 0);function b8e(e){if(!Jv(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return n.jsx(FO.Provider,{value:t,children:e.children})}return n.jsx(w8e,{initialProps:e.initialProps,children:e.children})}function w8e(e){var t=e.initialProps,r=e.children,s=t.selected,a=t.min,i=t.max,o=function(d,u,f){var m,h;(m=t.onDayClick)===null||m===void 0||m.call(t,d,u,f);var x=!!(u.selected&&a&&(s==null?void 0:s.length)===a);if(!x){var p=!!(!u.selected&&i&&(s==null?void 0:s.length)===i);if(!p){var g=s?rX([],s):[];if(u.selected){var j=g.findIndex(function(y){return Ba(d,y)});g.splice(j,1)}else g.push(d);(h=t.onSelect)===null||h===void 0||h.call(t,g,d,u,f)}}},l={disabled:[]};s&&l.disabled.push(function(d){var u=i&&s.length>i-1,f=s.some(function(m){return Ba(m,d)});return!!(u&&!f)});var c={selected:s,onDayClick:o,modifiers:l};return n.jsx(FO.Provider,{value:c,children:r})}function $O(){var e=v.useContext(FO);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function N8e(e,t){var r=t||{},s=r.from,a=r.to;return s&&a?Ba(a,e)&&Ba(s,e)?void 0:Ba(a,e)?{from:a,to:void 0}:Ba(s,e)?void 0:tE(s,e)?{from:e,to:a}:{from:s,to:e}:a?tE(e,a)?{from:a,to:e}:{from:e,to:a}:s?pW(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var LO=v.createContext(void 0);function _8e(e){if(!ey(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(LO.Provider,{value:t,children:e.children})}return n.jsx(S8e,{initialProps:e.initialProps,children:e.children})}function S8e(e){var t=e.initialProps,r=e.children,s=t.selected,a=s||{},i=a.from,o=a.to,l=t.min,c=t.max,d=function(h,x,p){var g,j;(g=t.onDayClick)===null||g===void 0||g.call(t,h,x,p);var y=N8e(h,s);(j=t.onSelect)===null||j===void 0||j.call(t,y,h,x,p)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],Ba(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:fc(i,l-1),before:pa(i,l-1)}),i&&o&&u.disabled.push({after:i,before:pa(i,l-1)}),!i&&o&&u.disabled.push({after:fc(o,l-1),before:pa(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:pa(i,-c+1)}),u.disabled.push({after:pa(i,c-1)})),i&&o){var f=Uo(o,i)+1,m=c-f;u.disabled.push({before:fc(i,m)}),u.disabled.push({after:pa(o,m)})}!i&&o&&(u.disabled.push({before:pa(o,-c+1)}),u.disabled.push({after:pa(o,c-1)}))}return n.jsx(LO.Provider,{value:{selected:s,onDayClick:d,modifiers:u},children:r})}function BO(){var e=v.useContext(LO);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Kj(e){return Array.isArray(e)?rX([],e):e!==void 0?[e]:[]}function C8e(e){var t={};return Object.entries(e).forEach(function(r){var s=r[0],a=r[1];t[s]=Kj(a)}),t}var el;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(el||(el={}));var E8e=el.Selected,rc=el.Disabled,A8e=el.Hidden,k8e=el.Today,PS=el.RangeEnd,TS=el.RangeMiddle,OS=el.RangeStart,P8e=el.Outside;function T8e(e,t,r){var s,a=(s={},s[E8e]=Kj(e.selected),s[rc]=Kj(e.disabled),s[A8e]=Kj(e.hidden),s[k8e]=[e.today],s[PS]=[],s[TS]=[],s[OS]=[],s[P8e]=[],s);return e.fromDate&&a[rc].push({before:e.fromDate}),e.toDate&&a[rc].push({after:e.toDate}),Jv(e)?a[rc]=a[rc].concat(t.modifiers[rc]):ey(e)&&(a[rc]=a[rc].concat(r.modifiers[rc]),a[OS]=r.modifiers[OS],a[TS]=r.modifiers[TS],a[PS]=r.modifiers[PS]),a}var oX=v.createContext(void 0);function O8e(e){var t=qr(),r=$O(),s=BO(),a=T8e(t,r,s),i=C8e(t.modifiers),o=kt(kt({},a),i);return n.jsx(oX.Provider,{value:o,children:e.children})}function lX(){var e=v.useContext(oX);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function D8e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function I8e(e){return!!(e&&typeof e=="object"&&"from"in e)}function R8e(e){return!!(e&&typeof e=="object"&&"after"in e)}function M8e(e){return!!(e&&typeof e=="object"&&"before"in e)}function F8e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function $8e(e,t){var r,s=t.from,a=t.to;if(s&&a){var i=Uo(a,s)<0;i&&(r=[a,s],s=r[0],a=r[1]);var o=Uo(e,s)>=0&&Uo(a,e)>=0;return o}return a?Ba(a,e):s?Ba(s,e):!1}function L8e(e){return xT(e)}function B8e(e){return Array.isArray(e)&&e.every(xT)}function U8e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(L8e(r))return Ba(e,r);if(B8e(r))return r.includes(e);if(I8e(r))return $8e(e,r);if(F8e(r))return r.dayOfWeek.includes(e.getDay());if(D8e(r)){var s=Uo(r.before,e),a=Uo(r.after,e),i=s>0,o=a<0,l=tE(r.before,r.after);return l?o&&i:i||o}return R8e(r)?Uo(e,r.after)>0:M8e(r)?Uo(r.before,e)>0:typeof r=="function"?r(e):!1})}function UO(e,t,r){var s=Object.keys(t).reduce(function(i,o){var l=t[o];return U8e(e,l)&&i.push(o),i},[]),a={};return s.forEach(function(i){return a[i]=!0}),r&&!yT(e,r)&&(a.outside=!0),a}function V8e(e,t){for(var r=Ya(e[0]),s=PN(e[e.length-1]),a,i,o=r;o<=s;){var l=UO(o,t),c=!l.disabled&&!l.hidden;if(!c){o=pa(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=pa(o,1)}return i||a}var z8e=365;function cX(e,t){var r=t.moveBy,s=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,f=a.locale,m={day:pa,week:eE,month:mo,year:npe,startOfWeek:function(g){return a.ISOWeek?Pf(g):Ul(g,{locale:f,weekStartsOn:c})},endOfWeek:function(g){return a.ISOWeek?dW(g):gT(g,{locale:f,weekStartsOn:c})}},h=m[r](e,s==="after"?1:-1);s==="before"&&d?h=spe([d,h]):s==="after"&&u&&(h=ape([u,h]));var x=!0;if(i){var p=UO(h,i);x=!p.disabled&&!p.hidden}return x?h:l.count>z8e?l.lastFocused:cX(h,{moveBy:r,direction:s,context:a,modifiers:i,retry:kt(kt({},l),{count:l.count+1})})}var dX=v.createContext(void 0);function W8e(e){var t=ty(),r=lX(),s=v.useState(),a=s[0],i=s[1],o=v.useState(),l=o[0],c=o[1],d=V8e(t.displayMonths,r),u=a??(l&&t.isDateDisplayed(l))?l:d,f=function(){c(a),i(void 0)},m=function(g){i(g)},h=qr(),x=function(g,j){if(a){var y=cX(a,{moveBy:g,direction:j,context:h,modifiers:r});Ba(a,y)||(t.goToDate(y,a),m(y))}},p={focusedDay:a,focusTarget:u,blur:f,focus:m,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return n.jsx(dX.Provider,{value:p,children:e.children})}function VO(){var e=v.useContext(dX);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function H8e(e,t){var r=lX(),s=UO(e,r,t);return s}var zO=v.createContext(void 0);function q8e(e){if(!k2(e.initialProps)){var t={selected:void 0};return n.jsx(zO.Provider,{value:t,children:e.children})}return n.jsx(G8e,{initialProps:e.initialProps,children:e.children})}function G8e(e){var t=e.initialProps,r=e.children,s=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:s};return n.jsx(zO.Provider,{value:a,children:r})}function uX(){var e=v.useContext(zO);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function K8e(e,t){var r=qr(),s=uX(),a=$O(),i=BO(),o=VO(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,f=o.blur,m=o.focus,h=o.focusMonthBefore,x=o.focusMonthAfter,p=o.focusYearBefore,g=o.focusYearAfter,j=o.focusStartOfWeek,y=o.focusEndOfWeek,w=function(k){var O,M,ie,ce;k2(r)?(O=s.onDayClick)===null||O===void 0||O.call(s,e,t,k):Jv(r)?(M=a.onDayClick)===null||M===void 0||M.call(a,e,t,k):ey(r)?(ie=i.onDayClick)===null||ie===void 0||ie.call(i,e,t,k):(ce=r.onDayClick)===null||ce===void 0||ce.call(r,e,t,k)},b=function(k){var O;m(e),(O=r.onDayFocus)===null||O===void 0||O.call(r,e,t,k)},N=function(k){var O;f(),(O=r.onDayBlur)===null||O===void 0||O.call(r,e,t,k)},S=function(k){var O;(O=r.onDayMouseEnter)===null||O===void 0||O.call(r,e,t,k)},E=function(k){var O;(O=r.onDayMouseLeave)===null||O===void 0||O.call(r,e,t,k)},C=function(k){var O;(O=r.onDayPointerEnter)===null||O===void 0||O.call(r,e,t,k)},A=function(k){var O;(O=r.onDayPointerLeave)===null||O===void 0||O.call(r,e,t,k)},P=function(k){var O;(O=r.onDayTouchCancel)===null||O===void 0||O.call(r,e,t,k)},R=function(k){var O;(O=r.onDayTouchEnd)===null||O===void 0||O.call(r,e,t,k)},I=function(k){var O;(O=r.onDayTouchMove)===null||O===void 0||O.call(r,e,t,k)},z=function(k){var O;(O=r.onDayTouchStart)===null||O===void 0||O.call(r,e,t,k)},U=function(k){var O;(O=r.onDayKeyUp)===null||O===void 0||O.call(r,e,t,k)},L=function(k){var O;switch(k.key){case"ArrowLeft":k.preventDefault(),k.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":k.preventDefault(),k.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":k.preventDefault(),k.stopPropagation(),d();break;case"ArrowUp":k.preventDefault(),k.stopPropagation(),u();break;case"PageUp":k.preventDefault(),k.stopPropagation(),k.shiftKey?p():h();break;case"PageDown":k.preventDefault(),k.stopPropagation(),k.shiftKey?g():x();break;case"Home":k.preventDefault(),k.stopPropagation(),j();break;case"End":k.preventDefault(),k.stopPropagation(),y();break}(O=r.onDayKeyDown)===null||O===void 0||O.call(r,e,t,k)},T={onClick:w,onFocus:b,onBlur:N,onKeyDown:L,onKeyUp:U,onMouseEnter:S,onMouseLeave:E,onPointerEnter:C,onPointerLeave:A,onTouchCancel:P,onTouchEnd:R,onTouchMove:I,onTouchStart:z};return T}function Y8e(){var e=qr(),t=uX(),r=$O(),s=BO(),a=k2(e)?t.selected:Jv(e)?r.selected:ey(e)?s.selected:void 0;return a}function X8e(e){return Object.values(el).includes(e)}function Q8e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(s){var a=e.modifiersClassNames[s];if(a)r.push(a);else if(X8e(s)){var i=e.classNames["day_".concat(s)];i&&r.push(i)}}),r}function Z8e(e,t){var r=kt({},e.styles.day);return Object.keys(t).forEach(function(s){var a;r=kt(kt({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[s])}),r}function J8e(e,t,r){var s,a,i,o=qr(),l=VO(),c=H8e(e,t),d=K8e(e,c),u=Y8e(),f=!!(o.onDayClick||o.mode!=="default");v.useEffect(function(){var S;c.outside||l.focusedDay&&f&&Ba(l.focusedDay,e)&&((S=r.current)===null||S===void 0||S.focus())},[l.focusedDay,e,r,f,c.outside]);var m=Q8e(o,c).join(" "),h=Z8e(o,c),x=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:j8e,g=n.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),j={style:h,className:m,children:g,role:"gridcell"},y=l.focusTarget&&Ba(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Ba(l.focusedDay,e),b=kt(kt(kt({},j),(s={disabled:c.disabled,role:"gridcell"},s["aria-selected"]=c.selected,s.tabIndex=w||y?0:-1,s)),d),N={isButton:f,isHidden:x,activeModifiers:c,selectedDays:u,buttonProps:b,divProps:j};return N}function eBe(e){var t=v.useRef(null),r=J8e(e.date,e.displayMonth,t);return r.isHidden?n.jsx("div",{role:"gridcell"}):r.isButton?n.jsx(aw,kt({name:"day",ref:t},r.buttonProps)):n.jsx("div",kt({},r.divProps))}function tBe(e){var t=e.number,r=e.dates,s=qr(),a=s.onWeekNumberClick,i=s.styles,o=s.classNames,l=s.locale,c=s.labels.labelWeekNumber,d=s.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return n.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var f=c(Number(t),{locale:l}),m=function(h){a(t,r,h)};return n.jsx(aw,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:m,children:u})}function rBe(e){var t,r,s=qr(),a=s.styles,i=s.classNames,o=s.showWeekNumber,l=s.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:eBe,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:tBe,u;return o&&(u=n.jsx("td",{className:i.cell,style:a.cell,children:n.jsx(d,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:i.row,style:a.row,children:[u,e.dates.map(function(f){return n.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:n.jsx(c,{displayMonth:e.displayMonth,date:f})},mxe(f))})]})}function e$(e,t,r){for(var s=r!=null&&r.ISOWeek?dW(t):gT(t,r),a=r!=null&&r.ISOWeek?Pf(e):Ul(e,r),i=Uo(s,a),o=[],l=0;l<=i;l++)o.push(pa(a,l));var c=o.reduce(function(d,u){var f=r!=null&&r.ISOWeek?uW(u):mW(u,r),m=d.find(function(h){return h.weekNumber===f});return m?(m.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return c}function nBe(e,t){var r=e$(Ya(e),PN(e),t);if(t!=null&&t.useFixedWeeks){var s=pxe(e,t);if(s<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=eE(i,6-s),l=e$(eE(i,1),o,t);r.push.apply(r,l)}}return r}function sBe(e){var t,r,s,a=qr(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,f=a.weekStartsOn,m=a.firstWeekContainsDate,h=a.ISOWeek,x=nBe(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:h,locale:i,weekStartsOn:f,firstWeekContainsDate:m}),p=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:y8e,g=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:rBe,j=(s=u==null?void 0:u.Footer)!==null&&s!==void 0?s:x8e;return n.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&n.jsx(p,{}),n.jsx("tbody",{className:o.tbody,style:l.tbody,children:x.map(function(y){return n.jsx(g,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),n.jsx(j,{displayMonth:e.displayMonth})]})}function aBe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var iBe=aBe()?v.useLayoutEffect:v.useEffect,DS=!1,oBe=0;function t$(){return"react-day-picker-".concat(++oBe)}function lBe(e){var t,r=e??(DS?t$():null),s=v.useState(r),a=s[0],i=s[1];return iBe(function(){a===null&&i(t$())},[]),v.useEffect(function(){DS===!1&&(DS=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function cBe(e){var t,r,s=qr(),a=s.dir,i=s.classNames,o=s.styles,l=s.components,c=ty().displayMonths,d=lBe(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),u=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],m=o.month,h=e.displayIndex===0,x=e.displayIndex===c.length-1,p=!h&&!x;a==="rtl"&&(t=[h,x],x=t[0],h=t[1]),h&&(f.push(i.caption_start),m=kt(kt({},m),o.caption_start)),x&&(f.push(i.caption_end),m=kt(kt({},m),o.caption_end)),p&&(f.push(i.caption_between),m=kt(kt({},m),o.caption_between));var g=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:p8e;return n.jsxs("div",{className:f.join(" "),style:m,children:[n.jsx(g,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(sBe,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function dBe(e){var t=qr(),r=t.classNames,s=t.styles;return n.jsx("div",{className:r.months,style:s.months,children:e.children})}function uBe(e){var t,r,s=e.initialProps,a=qr(),i=VO(),o=ty(),l=v.useState(!1),c=l[0],d=l[1];v.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var f=kt(kt({},a.styles.root),a.style),m=Object.keys(s).filter(function(x){return x.startsWith("data-")}).reduce(function(x,p){var g;return kt(kt({},x),(g={},g[p]=s[p],g))},{}),h=(r=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:dBe;return n.jsx("div",kt({className:u.join(" "),style:f,dir:a.dir,id:a.id,nonce:s.nonce,title:s.title,lang:s.lang},m,{children:n.jsx(h,{children:o.displayMonths.map(function(x,p){return n.jsx(cBe,{displayIndex:p,displayMonth:x},p)})})}))}function fBe(e){var t=e.children,r=MLe(e,["children"]);return n.jsx(t8e,{initialProps:r,children:n.jsx(u8e,{children:n.jsx(q8e,{initialProps:r,children:n.jsx(b8e,{initialProps:r,children:n.jsx(_8e,{initialProps:r,children:n.jsx(O8e,{children:n.jsx(W8e,{children:t})})})})})})})}function mBe(e){return n.jsx(fBe,kt({},e,{children:n.jsx(uBe,{initialProps:e})}))}function $A({className:e,classNames:t,showOutsideDays:r=!0,...s}){return n.jsx(mBe,{showOutsideDays:r,className:ve("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ve(r0({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ve(r0({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>n.jsx(eP,{className:"h-4 w-4"}),IconRight:({...a})=>n.jsx(Xd,{className:"h-4 w-4"})},...s})}$A.displayName="Calendar";var WO="Popover",[fX,Ltt]=Pa(WO,[uu]),ry=uu(),[hBe,ju]=fX(WO),mX=e=>{const{__scopePopover:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=ry(t),c=v.useRef(null),[d,u]=v.useState(!1),[f=!1,m]=uo({prop:s,defaultProp:a,onChange:i});return n.jsx(nN,{...l,children:n.jsx(hBe,{scope:t,contentId:so(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(h=>!h),[m]),hasCustomAnchor:d,onCustomAnchorAdd:v.useCallback(()=>u(!0),[]),onCustomAnchorRemove:v.useCallback(()=>u(!1),[]),modal:o,children:r})})};mX.displayName=WO;var hX="PopoverAnchor",pBe=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=ju(hX,r),i=ry(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return v.useEffect(()=>(o(),()=>l()),[o,l]),n.jsx(wv,{...i,...s,ref:t})});pBe.displayName=hX;var pX="PopoverTrigger",xX=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=ju(pX,r),i=ry(r),o=Ft(t,a.triggerRef),l=n.jsx(bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":bX(a.open),...s,ref:o,onClick:qe(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:n.jsx(wv,{asChild:!0,...i,children:l})});xX.displayName=pX;var HO="PopoverPortal",[xBe,gBe]=fX(HO,{forceMount:void 0}),gX=e=>{const{__scopePopover:t,forceMount:r,children:s,container:a}=e,i=ju(HO,t);return n.jsx(xBe,{scope:t,forceMount:r,children:n.jsx(os,{present:r||i.open,children:n.jsx(yp,{asChild:!0,container:a,children:s})})})};gX.displayName=HO;var up="PopoverContent",vX=v.forwardRef((e,t)=>{const r=gBe(up,e.__scopePopover),{forceMount:s=r.forceMount,...a}=e,i=ju(up,e.__scopePopover);return n.jsx(os,{present:s||i.open,children:i.modal?n.jsx(vBe,{...a,ref:t}):n.jsx(yBe,{...a,ref:t})})});vX.displayName=up;var vBe=v.forwardRef((e,t)=>{const r=ju(up,e.__scopePopover),s=v.useRef(null),a=Ft(t,s),i=v.useRef(!1);return v.useEffect(()=>{const o=s.current;if(o)return Pv(o)},[]),n.jsx(Tv,{as:Fl,allowPinchZoom:!0,children:n.jsx(yX,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:qe(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:qe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),yBe=v.forwardRef((e,t)=>{const r=ju(up,e.__scopePopover),s=v.useRef(!1),a=v.useRef(!1);return n.jsx(yX,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),yX=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,m=ju(up,r),h=ry(r);return yN(),n.jsx(kv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(zf,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:n.jsx(sN,{"data-state":bX(m.open),role:"dialog",id:m.contentId,...h,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),jX="PopoverClose",jBe=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=ju(jX,r);return n.jsx(bt.button,{type:"button",...s,ref:t,onClick:qe(e.onClick,()=>a.onOpenChange(!1))})});jBe.displayName=jX;var bBe="PopoverArrow",wBe=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=ry(r);return n.jsx(aN,{...a,...s,ref:t})});wBe.displayName=bBe;function bX(e){return e?"open":"closed"}var NBe=mX,_Be=xX,SBe=gX,wX=vX;const iw=NBe,ow=_Be,H0=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...s},a)=>n.jsx(SBe,{children:n.jsx(wX,{ref:a,align:t,sideOffset:r,className:ve("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));H0.displayName=wX.displayName;const CBe=({open:e,onOpenChange:t,vendorName:r,productId:s,onVendorUpdated:a,openInEditMode:i=!1})=>{const[o,l]=v.useState(!1),[c,d]=v.useState([]),[u,f]=v.useState(null),[m,h]=v.useState(!1),[x,p]=v.useState("");v.useEffect(()=>{e?(g(),h(i)):(f(null),p(""),h(!1))},[e,i]);const g=async()=>{l(!0);try{const y=await No.getVendors();d(y.results);const w=y.results.find(b=>b.name.toLowerCase()===r.toLowerCase());w?(f(w),p(w.id)):(f(null),p(""))}catch(y){console.error("Error fetching vendors:",y),Ue.error("Failed to load vendors")}finally{l(!1)}},j=async()=>{if(!x){Ue.error("Please select a vendor");return}const y=c.find(w=>w.id===x);y&&(a==null||a(y.id,y.name),Ue.success(`Vendor changed to ${y.name}`),t(!1))};return n.jsx(En,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(An,{children:[n.jsxs(kn,{className:"flex items-center gap-2",children:[n.jsx(dr,{className:"h-5 w-5"}),"Vendor Details"]}),n.jsx(zs,{children:"View vendor information and change vendor assignment"})]}),o?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(zt,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsx("div",{className:"space-y-6 py-4",children:u?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Current Vendor"}),n.jsx(ee,{variant:"outline",size:"sm",onClick:()=>h(!m),children:m?"Cancel":"Change Vendor"})]}),m?n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[n.jsx(G,{children:"Select New Vendor"}),n.jsxs(at,{value:x,onValueChange:p,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Choose a vendor"})}),n.jsx(st,{children:c.map(y=>n.jsx(Z,{value:y.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dr,{className:"h-4 w-4"}),n.jsx("span",{children:y.name}),y.company_name&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",y.company_name,")"]})]})},y.id))})]})]}):n.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 border rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Vendor Name"}),n.jsx("p",{className:"font-semibold",children:u.name})]}),n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Company Name"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(dr,{className:"h-4 w-4 text-muted-foreground"}),u.company_name||"N/A"]})]}),n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Contact Person"}),n.jsx("p",{children:u.contact_person||"N/A"})]}),n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Category"}),n.jsx("p",{children:u.category||"N/A"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Email"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(cn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:`mailto:${u.email}`,className:"text-primary hover:underline",children:u.email})]})]}),n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Phone"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(xo,{className:"h-4 w-4 text-muted-foreground"}),u.phone||"N/A"]})]}),n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Website"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx($l,{className:"h-4 w-4 text-muted-foreground"}),u.website?n.jsx("a",{href:u.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:u.website}):"N/A"]})]}),n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Address"}),n.jsxs("p",{className:"flex items-start gap-2",children:[n.jsx(vs,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsxs("span",{className:"text-sm",children:[u.address||"N/A",u.city&&`, ${u.city}`,u.country&&`, ${u.country}`]})]})]})]}),n.jsxs("div",{className:"col-span-2 grid grid-cols-3 gap-4 pt-4 border-t",children:[n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Lead Time"}),n.jsx("p",{className:"font-semibold",children:u.lead_time||"N/A"})]}),n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Reliability"}),n.jsx("p",{className:"font-semibold",children:u.reliability||"N/A"})]}),n.jsxs("div",{children:[n.jsx(G,{className:"text-xs text-muted-foreground",children:"Total Orders"}),n.jsx("p",{className:"font-semibold",children:u.orders_count||0})]})]})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"No vendor assigned or vendor not found in the system."}),n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[n.jsx(G,{children:"Assign Vendor"}),n.jsxs(at,{value:x,onValueChange:p,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Choose a vendor"})}),n.jsx(st,{children:c.map(y=>n.jsx(Z,{value:y.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dr,{className:"h-4 w-4"}),n.jsx("span",{children:y.name}),y.company_name&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",y.company_name,")"]})]})},y.id))})]})]})]})}),n.jsxs(yo,{children:[n.jsx(ee,{variant:"outline",onClick:()=>t(!1),children:"Close"}),(m||!u)&&n.jsx(ee,{onClick:j,disabled:!x,children:u?"Change Vendor":"Assign Vendor"})]})]})})};var qO="Switch",[EBe,Btt]=Pa(qO),[ABe,kBe]=EBe(qO),NX=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[m,h]=v.useState(null),x=Ft(t,w=>h(w)),p=v.useRef(!1),g=m?u||!!m.closest("form"):!0,[j=!1,y]=uo({prop:a,defaultProp:i,onChange:d});return n.jsxs(ABe,{scope:r,checked:j,disabled:l,children:[n.jsx(bt.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":CX(j),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:qe(e.onClick,w=>{y(b=>!b),g&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),g&&n.jsx(PBe,{control:m,bubbles:!p.current,name:s,value:c,checked:j,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});NX.displayName=qO;var _X="SwitchThumb",SX=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=kBe(_X,r);return n.jsx(bt.span,{"data-state":CX(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});SX.displayName=_X;var PBe=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,i=v.useRef(null),o=N2(r),l=rN(t);return v.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&f){const m=new Event("click",{bubbles:s});f.call(c,r),c.dispatchEvent(m)}},[o,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function CX(e){return e?"checked":"unchecked"}var EX=NX,TBe=SX;const Pn=v.forwardRef(({className:e,...t},r)=>n.jsx(EX,{className:ve("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(TBe,{className:ve("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Pn.displayName=EX.displayName;var OBe="Separator",r$="horizontal",DBe=["horizontal","vertical"],AX=v.forwardRef((e,t)=>{const{decorative:r,orientation:s=r$,...a}=e,i=IBe(s)?s:r$,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(bt.div,{"data-orientation":i,...l,...a,ref:t})});AX.displayName=OBe;function IBe(e){return DBe.includes(e)}var kX=AX;const Rt=v.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...s},a)=>n.jsx(kX,{ref:a,decorative:r,orientation:t,className:ve("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Rt.displayName=kX.displayName;const n$=e=>{let t;const r=new Set,s=(d,u)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const m=t;t=u??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(h=>h(t,m))}},a=()=>t,l={setState:s,getState:a,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d))},c=t=e(s,a,l);return l},RBe=e=>e?n$(e):n$,MBe=e=>e;function FBe(e,t=MBe){const r=V.useSyncExternalStore(e.subscribe,V.useCallback(()=>t(e.getState()),[e,t]),V.useCallback(()=>t(e.getInitialState()),[e,t]));return V.useDebugValue(r),r}const $Be=e=>{const t=RBe(e),r=s=>FBe(t,s);return Object.assign(r,t),r},LBe=e=>$Be;function BBe(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=r.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const LA=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(s){return LA(s)(r)},catch(s){return this}}}catch(r){return{then(s){return this},catch(s){return LA(s)(r)}}}},UBe=(e,t)=>(r,s,a)=>{let i={storage:BBe(()=>localStorage),partialize:p=>p,version:0,merge:(p,g)=>({...g,...p}),...t},o=!1;const l=new Set,c=new Set;let d=i.storage;if(!d)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...p)},s,a);const u=()=>{const p=i.partialize({...s()});return d.setItem(i.name,{state:p,version:i.version})},f=a.setState;a.setState=(p,g)=>(f(p,g),u());const m=e((...p)=>(r(...p),u()),s,a);a.getInitialState=()=>m;let h;const x=()=>{var p,g;if(!d)return;o=!1,l.forEach(y=>{var w;return y((w=s())!=null?w:m)});const j=((g=i.onRehydrateStorage)==null?void 0:g.call(i,(p=s())!=null?p:m))||void 0;return LA(d.getItem.bind(d))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate){const w=i.migrate(y.state,y.version);return w instanceof Promise?w.then(b=>[!0,b]):[!0,w]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var w;const[b,N]=y;if(h=i.merge(N,(w=s())!=null?w:m),r(h,!0),b)return u()}).then(()=>{j==null||j(h,void 0),h=s(),o=!0,c.forEach(y=>y(h))}).catch(y=>{j==null||j(void 0,y)})};return a.persist={setOptions:p=>{i={...i,...p},p.storage&&(d=p.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},i.skipHydration||x(),h||m},VBe=UBe,zBe=()=>({vendors:[{id:"vendor-001",name:"IKEA",companyName:"IKEA Hungary Kft.",contactPerson:"Sales Department",email:"sales@ikea.hu",phone:"+36 1 123 4567",website:"https://www.ikea.com/hu/hu/",notes:"Main furniture supplier"},{id:"vendor-002",name:"Royalty Line",companyName:"Royalty Line Europe",contactPerson:"Customer Service",email:"support@royaltyline.eu",phone:"+36 30 234 5678",website:"https://royaltyline.eu/",notes:"Kitchen and cookware specialist"},{id:"vendor-003",name:"JYSK",companyName:"JYSK Hungary",contactPerson:"B2B Sales",email:"b2b@jysk.hu",phone:"+36 1 345 6789",website:"https://jysk.hu/",notes:"Bedroom furniture and textiles"}],clients:[{id:"client-001",name:"John Doe",email:"john.doe@example.com",phone:"+36 20 123 4567",accountStatus:"Active",type:"Investor",notes:"Long-term investor with multiple properties"},{id:"client-002",name:"Anna Nagy",email:"anna.nagy@example.com",phone:"+36 30 987 6543",accountStatus:"Active",type:"Investor",notes:""},{id:"client-003",name:"Mikls Szab",email:"miklos.szabo@example.com",phone:"+36 70 555 1234",accountStatus:"Active",type:"Investor",notes:""},{id:"client-internal",name:"Buy2Rent Internal",email:"info@buy2rent.com",phone:"+36 1 234 5678",accountStatus:"Active",type:"Buy2Rent Internal",notes:"Internal company projects"}],apartments:[{id:"apt-001",name:"Izabella utca 3  A/12",type:"furnishing",clientId:"client-001",owner:"John Doe",address:"Izabella u. 3, Budapest",status:"Ordering",designer:"Barbara Kovcs",startDate:"2025-10-15",dueDate:"2025-12-05",progress:68,notes:""},{id:"apt-002",name:"Vci t 41  3.em 7",type:"renovating",clientId:"client-002",owner:"Anna Nagy",address:"Vci t 41, Budapest",status:"Renovating",designer:"Barbara Kovcs",startDate:"2025-09-10",dueDate:"2025-11-28",progress:52,notes:""},{id:"apt-003",name:"Andrssy t 25  B/5",type:"furnishing",clientId:"client-003",owner:"Mikls Szab",address:"Andrssy t 25, Budapest",status:"Design Approved",designer:"Barbara Kovcs",startDate:"2025-10-01",dueDate:"2025-12-01",progress:74,notes:""}],products:[{id:"p-1001",apartmentId:"apt-001",product:"Kanap  3 szemlyes",vendor:"IKEA",vendorLink:"https://www.ikea.com/hu/hu/",sku:"IK-SOFA-3",unitPrice:159999,qty:1,availability:"In Stock",status:"Ordered",statusTags:["Ordered"],deliveryStatusTags:["Scheduled"],eta:"2025-11-14",category:"Living Room",room:"Nappali",imageUrl:"",orderedOn:"2025-11-01",expectedDeliveryDate:"2025-11-14",paymentStatus:"Partially Paid",paymentDueDate:"2025-11-12",paymentAmount:159999,paidAmount:63999,issueState:"AI Resolving",issueId:"issue-002",vendorId:"vendor-001"},{id:"p-1002",apartmentId:"apt-001",product:"tkezasztal  Tlgy",vendor:"IKEA",vendorLink:"https://www.ikea.com/hu/hu/",sku:"IK-DINE-OAK",unitPrice:89999,qty:1,availability:"Backorder",status:"Waiting For Stock",statusTags:["Ordered","Waiting For Stock"],deliveryStatusTags:["Scheduled"],eta:"2025-11-25",category:"Dining",room:"tkez",imageUrl:"",orderedOn:"2025-11-02",expectedDeliveryDate:"2025-11-25",paymentStatus:"Partially Paid",paymentDueDate:"2025-11-12",paymentAmount:89999,paidAmount:36001,issueState:"No Issue",vendorId:"vendor-001"},{id:"p-1003",apartmentId:"apt-001",product:"Marble Cookware Set",vendor:"Royalty Line",vendorLink:"https://royaltyline.eu/",sku:"RL-COOK-SET",unitPrice:12999,qty:2,availability:"In Stock",status:"Damaged",statusTags:["Delivered","Damaged"],deliveryStatusTags:["Delivered","Issue Reported"],eta:"2025-11-12",category:"Kitchen",room:"Konyha",imageUrl:"",orderedOn:"2025-10-28",actualDeliveryDate:"2025-11-04",expectedDeliveryDate:"2025-11-04",paymentStatus:"Paid",paymentDueDate:"2025-11-03",paymentAmount:25998,paidAmount:25998,issueState:"AI Resolving",issueId:"issue-001",vendorId:"vendor-002"},{id:"p-1004",apartmentId:"apt-003",product:"King Size gy - Fekete",vendor:"JYSK",vendorLink:"https://jysk.hu/",sku:"JY-BED-KING-BLK",unitPrice:129e3,qty:1,availability:"In Stock",status:"Delivered",statusTags:["Delivered"],deliveryStatusTags:["Delivered"],category:"Bedroom",room:"Hlszoba",imageUrl:"",orderedOn:"2025-10-20",actualDeliveryDate:"2025-11-03",expectedDeliveryDate:"2025-11-03",paymentStatus:"Paid",paymentDueDate:"2025-10-25",paymentAmount:129e3,paidAmount:129e3,issueState:"No Issue",vendorId:"vendor-003"}],deliveries:[{id:"del-001",apartmentId:"apt-001",vendor:"IKEA",orderReference:"IK-ORD-001",expectedDate:"2025-11-14",status:"Scheduled",notes:"Delivery window: 9:00-12:00"},{id:"del-002",apartmentId:"apt-001",vendor:"Royalty Line",orderReference:"RL-ORD-002",expectedDate:"2025-11-04",actualDate:"2025-11-04",receivedBy:"John Doe",status:"Issue Reported",notes:"Items damaged during shipping",proofPhotos:[]}],payments:[{id:"pay-001",apartmentId:"apt-001",vendor:"IKEA",orderReference:"IK-ORD-001",totalAmount:249998,amountPaid:1e5,dueDate:"2025-11-12",status:"Partial",lastPaymentDate:"2025-11-01",paymentHistory:[{date:"2025-11-01",amount:1e5,method:"Bank Transfer",referenceNo:"TRF-20251101-001",note:"Initial payment"}]},{id:"pay-002",apartmentId:"apt-001",vendor:"Royalty Line",orderReference:"RL-ORD-002",totalAmount:25998,amountPaid:25998,dueDate:"2025-11-03",status:"Paid",lastPaymentDate:"2025-10-30",paymentHistory:[{date:"2025-10-30",amount:25998,method:"Credit Card",referenceNo:"CC-20251030-002"}]}],issues:[{id:"issue-001",apartmentId:"apt-001",productId:"p-1003",productName:"Marble Cookware Set",vendor:"Royalty Line",type:"Broken/Damaged",description:"Two pans arrived with cracked marble coating. Product unusable.",reportedOn:"2025-11-04",status:"Pending Vendor Response",photos:[],aiActivated:!0,aiCommunicationLog:[{timestamp:"2025-11-04T16:12:00",sender:"AI",message:`Dear Royalty Line Team,

We received order RL-ORD-002 (Marble Cookware Set, SKU: RL-COOK-SET) on November 4th, 2025. Unfortunately, two pans arrived with cracked marble coating, rendering them unusable.

Kindly confirm the replacement or refund procedure at your earliest convenience.

Best regards,
Buy2Rent FPMS`},{timestamp:"2025-11-04T18:45:00",sender:"Vendor",message:`Hello,

Thank you for contacting us. We apologize for the damaged items. We will arrange a replacement shipment immediately.

Please return the damaged items to our warehouse. RMA #RL-2025-1104.

Expected replacement delivery: November 10th, 2025.

Best regards,
Royalty Line Customer Service`},{timestamp:"2025-11-04T18:46:00",sender:"System",message:" HUMAN ACTION REQUIRED: Vendor requires damaged item to be shipped back. Please arrange pickup or return shipping for damaged cookware set by November 8th, 2025. RMA Number: RL-2025-1104."},{timestamp:"2025-11-04T19:00:00",sender:"AI",message:`Thank you for your prompt response. We acknowledge the replacement shipment scheduled for November 10th. Return shipment will be arranged as per RMA #RL-2025-1104.

Best regards,
Buy2Rent FPMS`}],resolutionStatus:"Resolution Agreed"},{id:"issue-002",apartmentId:"apt-001",productId:"p-1001",productName:"Kanap  3 szemlyes",vendor:"IKEA",type:"Wrong Item/Color",description:"Sofa delivered in wrong color - ordered grey (kivitelben szrke), received beige.",reportedOn:"2025-11-05",status:"Pending Vendor Response",photos:[],aiActivated:!0,aiCommunicationLog:[{timestamp:"2025-11-05T09:15:00",sender:"AI",message:`Dear IKEA Customer Service,

We have an issue with order IK-ORD-001 for the 3-seater sofa (SKU: IK-SOFA-3).

Ordered: Grey color (kivitelben szrke)
Received: Beige color

Could you please advise on the exchange process? We need the correct grey sofa as per our original order.

Best regards,
Buy2Rent Procurement Team`},{timestamp:"2025-11-05T11:30:00",sender:"Vendor",message:`Hello,

Thank you for reporting this issue. We sincerely apologize for the color mix-up.

We have checked our inventory and the grey 3-seater sofa is currently in stock. We can arrange:

1. Pickup of the beige sofa: November 8th, 2025
2. Delivery of the correct grey sofa: November 12th, 2025

No additional charges will apply. We will send you a return label via email within 2 hours.

Reference Number: IKEA-EXCH-20251105-001

Best regards,
IKEA Hungary Customer Service`},{timestamp:"2025-11-05T11:45:00",sender:"AI",message:`Thank you for your prompt response and the proposed solution.

We confirm:
- Pickup of beige sofa: November 8th, 2025 
- Delivery of grey sofa: November 12th, 2025 
- Reference: IKEA-EXCH-20251105-001 

We will ensure the beige sofa is ready for pickup on the 8th. Please send the return label to our registered email address.

Thank you for your cooperation.

Best regards,
Buy2Rent Procurement Team`},{timestamp:"2025-11-05T14:20:00",sender:"Vendor",message:`Perfect! Return label has been sent to your email (info@buy2rent.com).

Pickup scheduled for November 8th between 10:00-14:00.
Delivery scheduled for November 12th between 9:00-13:00.

We have also applied a 10% courtesy discount on your next purchase as an apology for the inconvenience.

Thank you for your understanding!

IKEA Hungary`},{timestamp:"2025-11-05T14:25:00",sender:"AI",message:`Excellent! We have received the return label.

We appreciate the courtesy discount and your professional handling of this matter. Looking forward to receiving the correct grey sofa on November 12th.

Best regards,
Buy2Rent Procurement Team`}],resolutionStatus:"Resolution Agreed"}],activities:[{id:"act-001",apartmentId:"apt-001",timestamp:"2025-11-04T09:15:00",actor:"Admin",icon:"ShoppingCart",summary:'Product "Kanap  3 szemlyes" marked as Ordered',type:"product"},{id:"act-002",apartmentId:"apt-001",timestamp:"2025-11-04T14:30:00",actor:"Admin",icon:"CreditCard",summary:"Partial payment of 100,000 HUF logged for IKEA order (Outstanding: 149,998 HUF)",type:"payment"},{id:"act-003",apartmentId:"apt-001",timestamp:"2025-11-04T16:12:00",actor:"AI Assistant",icon:"Mail",summary:"AI emailed vendor Royalty Line about broken cookware set",type:"ai"},{id:"act-004",apartmentId:"apt-001",timestamp:"2025-11-04T11:45:00",actor:"John Doe",icon:"PackageCheck",summary:"Delivery received from Royalty Line - issue reported",type:"delivery"}],aiNotes:[{id:"ai-001",apartmentId:"apt-001",timestamp:"2025-11-04T16:12:00",sender:"AI",content:`Dear Royalty Line Team,

We received order RL-ORD-002 (Marble Cookware Set, SKU: RL-COOK-SET) on November 4th, 2025. Unfortunately, two pans arrived with cracked marble coating, rendering them unusable.

Kindly confirm the replacement or refund procedure at your earliest convenience.

Best regards,
Buy2Rent FPMS`,emailSubject:"Issue Report: Damaged Items - Order RL-ORD-002",relatedTo:"issue-001"}],manualNotes:{}}),hl=zBe(),Sl=LBe()(VBe((e,t)=>({clients:hl.clients,apartments:hl.apartments,vendors:hl.vendors,products:hl.products,deliveries:hl.deliveries,payments:hl.payments,issues:hl.issues,activities:hl.activities,aiNotes:hl.aiNotes,manualNotes:hl.manualNotes,addClient:r=>e(s=>({clients:[...s.clients,{...r,id:`client-${Date.now()}`}]})),updateClient:(r,s)=>e(a=>({clients:a.clients.map(i=>i.id===r?{...i,...s}:i)})),deleteClient:r=>e(s=>({clients:s.clients.filter(a=>a.id!==r)})),getClient:r=>t().clients.find(s=>s.id===r),addVendor:r=>e(s=>({vendors:[...s.vendors,{...r,id:`vendor-${Date.now()}`}]})),updateVendor:(r,s)=>e(a=>({vendors:a.vendors.map(i=>i.id===r?{...i,...s}:i)})),deleteVendor:r=>e(s=>({vendors:s.vendors.filter(a=>a.id!==r)})),getVendor:r=>t().vendors.find(s=>s.id===r),getVendorByName:r=>t().vendors.find(s=>s.name.toLowerCase()===r.toLowerCase()),addApartment:r=>e(s=>({apartments:[...s.apartments,{...r,id:`apt-${Date.now()}`}]})),updateApartment:(r,s)=>e(a=>({apartments:a.apartments.map(i=>i.id===r?{...i,...s}:i)})),deleteApartment:r=>e(s=>({apartments:s.apartments.filter(a=>a.id!==r)})),getApartment:r=>t().apartments.find(s=>s.id===r),getApartmentsByType:r=>t().apartments.filter(s=>s.type===r),getApartmentsByClient:r=>t().apartments.filter(s=>s.clientId===r),addProduct:r=>e(s=>({products:[...s.products,{...r,id:`p-${Date.now()}`}]})),addProducts:r=>e(s=>({products:[...s.products,...r.map((a,i)=>({...a,id:`p-${Date.now()}-${i}`}))]})),updateProduct:(r,s)=>e(a=>({products:a.products.map(i=>i.id===r?{...i,...s}:i)})),deleteProduct:r=>e(s=>({products:s.products.filter(a=>a.id!==r)})),getProduct:r=>t().products.find(s=>s.id===r),getProductsByApartment:r=>t().products.filter(s=>s.apartmentId===r),addDelivery:r=>e(s=>({deliveries:[...s.deliveries,{...r,id:`del-${Date.now()}`}]})),updateDelivery:(r,s)=>e(a=>({deliveries:a.deliveries.map(i=>i.id===r?{...i,...s}:i)})),getDeliveriesByApartment:r=>t().deliveries.filter(s=>s.apartmentId===r),addPayment:r=>e(s=>({payments:[...s.payments,{...r,id:`pay-${Date.now()}`}]})),updatePayment:(r,s)=>e(a=>({payments:a.payments.map(i=>i.id===r?{...i,...s}:i)})),addPaymentToHistory:(r,s)=>e(a=>({payments:a.payments.map(i=>i.id===r?{...i,paymentHistory:[...i.paymentHistory,s],amountPaid:i.amountPaid+s.amount,lastPaymentDate:s.date,status:i.amountPaid+s.amount>=i.totalAmount?"Paid":"Partial"}:i)})),getPaymentsByApartment:r=>t().payments.filter(s=>s.apartmentId===r),addIssue:r=>e(s=>({issues:[...s.issues,{...r,id:`issue-${Date.now()}`}]})),updateIssue:(r,s)=>e(a=>({issues:a.issues.map(i=>i.id===r?{...i,...s}:i)})),getIssuesByApartment:r=>t().issues.filter(s=>s.apartmentId===r),addActivity:r=>e(s=>({activities:[...s.activities,{...r,id:`act-${Date.now()}`,timestamp:new Date().toISOString()}]})),getActivitiesByApartment:r=>t().activities.filter(s=>s.apartmentId===r).sort((s,a)=>new Date(a.timestamp).getTime()-new Date(s.timestamp).getTime()),addAINote:r=>e(s=>({aiNotes:[...s.aiNotes,{...r,id:`ai-${Date.now()}`,timestamp:new Date().toISOString()}]})),getAINotesByApartment:r=>t().aiNotes.filter(s=>s.apartmentId===r).sort((s,a)=>new Date(a.timestamp).getTime()-new Date(s.timestamp).getTime()),setManualNote:(r,s)=>e(a=>({manualNotes:{...a.manualNotes,[r]:s}})),getManualNote:r=>t().manualNotes[r]||""}),{name:"fpms-data-storage"})),PX=({open:e,onOpenChange:t,product:r,onIssueUpdated:s})=>{const a=Sl(E=>E.getIssuesByApartment),i=Sl(E=>E.addIssue),o=Sl(E=>E.updateIssue),l=Sl(E=>E.updateProduct),c=Sl(E=>E.addActivity),d=Sl(E=>E.addAINote),f=a(r.apartmentId).find(E=>E.id===r.issueId||E.productId===r.id),[m,h]=v.useState(""),[x,p]=v.useState("Broken/Damaged"),[g,j]=v.useState(!1),[y,w]=v.useState("Open");v.useEffect(()=>{f?(h(f.description),p(f.type),j(f.aiActivated||!1),w(f.resolutionStatus||"Open")):(h(""),p("Broken/Damaged"),j(!1),w("Open"))},[f,e]);const b=()=>{if(!m.trim()){Ue.error("Please provide a description of the issue");return}if(f){o(f.id,{description:m,type:x,aiActivated:g,resolutionStatus:y});const E=g?"AI Resolving":y==="Closed"?"Resolved":"Issue Reported";l(r.id,{issueState:E}),Ue.success("Issue updated")}else{const E={apartmentId:r.apartmentId,productId:r.id,productName:r.product,vendor:r.vendor,type:x,description:m,reportedOn:new Date().toISOString(),status:"Open",aiActivated:g,aiCommunicationLog:[],resolutionStatus:"Open"};i(E);const C=g?"AI Resolving":"Issue Reported";l(r.id,{issueState:C}),c({apartmentId:r.apartmentId,actor:"Admin",icon:"AlertCircle",summary:`Issue reported for "${r.product}": ${x}`,type:"issue"}),g&&setTimeout(()=>{d({apartmentId:r.apartmentId,sender:"AI",content:`Automatically analyzing issue with ${r.product}. Preparing vendor communication for ${r.vendor}...`})},500),Ue.success("Issue created"+(g?" - AI activated":""))}s==null||s(),t(!1)},N=()=>{const E=!g;j(E),f&&E&&Ue.info("AI Chatbot activated for this issue")},S=E=>{switch(E){case"Closed":return n.jsx(Lr,{className:"h-4 w-4 text-success"});case"Resolution Agreed":return n.jsx(Lr,{className:"h-4 w-4 text-primary"});case"Pending Vendor Response":return n.jsx(jr,{className:"h-4 w-4 text-warning"});default:return n.jsx(Ct,{className:"h-4 w-4 text-danger"})}};return n.jsx(En,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs(An,{children:[n.jsxs(kn,{children:["Issue Management - ",r.product]}),n.jsx(zs,{children:"Report and track issues, activate AI assistance for automated vendor communication"})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6 py-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"issueType",children:"Issue Type"}),n.jsxs(at,{value:x,onValueChange:E=>p(E),children:[n.jsx(nt,{children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"Broken/Damaged",children:"Broken/Damaged"}),n.jsx(Z,{value:"Wrong Item/Color",children:"Wrong Item/Color"}),n.jsx(Z,{value:"Missing Parts",children:"Missing Parts"}),n.jsx(Z,{value:"Incorrect Quantity",children:"Incorrect Quantity"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"description",children:"Detailed Description"}),n.jsx(ta,{id:"description",value:m,onChange:E=>h(E.target.value),placeholder:"Describe the issue in detail...",rows:4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"resolutionStatus",children:"Resolution Status"}),n.jsxs(at,{value:y,onValueChange:E=>w(E),children:[n.jsx(nt,{children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"Open",children:"Open"}),n.jsx(Z,{value:"Pending Vendor Response",children:"Pending Vendor Response"}),n.jsx(Z,{value:"Resolution Agreed",children:"Resolution Agreed"}),n.jsx(Z,{value:"Closed",children:"Closed"})]})]})]})]}),n.jsx(Rt,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/30",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(va,{className:"h-5 w-5 text-primary"}),n.jsx(G,{htmlFor:"aiActivated",className:"text-base font-semibold cursor-pointer",children:"Activate AI Chatbot for Resolution"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"AI will automatically communicate with vendor to resolve this issue"})]}),n.jsx(Pn,{id:"aiActivated",checked:g,onCheckedChange:N})]}),g&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[n.jsx(D9,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:"AI Chatbot is active"}),n.jsxs(ee,{size:"sm",variant:"outline",className:"ml-auto",onClick:()=>Ue.info("AI chatbot paused for this issue"),children:[n.jsx(Pne,{className:"h-3 w-3 mr-1"}),"Pause AI"]})]})]}),f&&f.aiCommunicationLog&&f.aiCommunicationLog.length>0&&n.jsxs(n.Fragment,{children:[n.jsx(Rt,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(G,{className:"text-base font-semibold",children:"AI Communication Log"}),n.jsxs(Ce,{variant:"outline",children:[f.aiCommunicationLog.length," messages"]})]}),n.jsx(mu,{className:"h-64 border rounded-lg p-4",children:n.jsx("div",{className:"space-y-4",children:f.aiCommunicationLog.map((E,C)=>{const A=E.message.toLowerCase().includes("please arrange")||E.message.toLowerCase().includes("action required")||E.message.toLowerCase().includes("human action");return n.jsxs("div",{className:ve("flex gap-3 p-3 rounded-lg",E.sender==="AI"?"bg-primary/5":"bg-muted",A&&"border-2 border-warning shadow-sm"),children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:E.sender==="AI"?n.jsx(va,{className:"h-4 w-4 text-primary"}):E.sender==="Vendor"?n.jsx(qn,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Ct,{className:"h-4 w-4 text-warning"})}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ce,{variant:E.sender==="AI"?"default":"outline",className:ve("text-xs",A&&"bg-warning text-warning-foreground"),children:E.sender}),A&&n.jsxs(Ce,{variant:"outline",className:"text-xs bg-warning/10 text-warning border-warning/50",children:[n.jsx(Ct,{className:"h-3 w-3 mr-1"}),"Action Required"]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(E.timestamp).toLocaleString()})]}),n.jsx("p",{className:ve("text-sm whitespace-pre-wrap",A&&"font-medium"),children:E.message})]})]},C)})})}),f.aiCommunicationLog.some(E=>E.message.toLowerCase().includes("please arrange")||E.message.toLowerCase().includes("action required"))&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-warning/10 border border-warning/30 rounded-lg",children:[n.jsx(Ct,{className:"h-5 w-5 text-warning"}),n.jsx("span",{className:"text-sm font-medium text-warning-foreground",children:"Human action required - please review the communication log above"})]})]})]}),f&&n.jsxs(n.Fragment,{children:[n.jsx(Rt,{}),n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[S(f.resolutionStatus),n.jsx("span",{className:"font-medium",children:"Current Status:"}),n.jsx(Ce,{children:f.resolutionStatus||"Open"})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Reported: ",new Date(f.reportedOn).toLocaleDateString()]})]})]})]}),n.jsxs(yo,{children:[n.jsx(ee,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsxs(ee,{onClick:b,children:[f?"Update":"Create"," Issue"]})]})]})})},WBe=({open:e,onOpenChange:t,product:r})=>{if(!r)return null;const s=a=>a!=null&&a.includes("DPD")?"bg-blue-500 text-white":a!=null&&a.includes("GLS")?"bg-yellow-500 text-black":a!=null&&a.includes("Sameday")?"bg-green-500 text-white":"bg-muted text-muted-foreground";return n.jsx(En,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(An,{children:[n.jsxs(kn,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5 text-primary"}),"Delivery Location Details"]}),n.jsxs(zs,{children:["Complete delivery information for ",r.product]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start gap-4 p-4 bg-muted/50 rounded-lg",children:[r.product_image?n.jsx("img",{src:r.product_image,alt:r.product,className:"h-16 w-16 rounded object-cover"}):n.jsx("div",{className:"h-16 w-16 rounded bg-muted flex items-center justify-center",children:n.jsx(ct,{className:"h-8 w-8 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-lg",children:r.product}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["SKU: ",r.sku]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Vendor: ",r.vendor]})]})]}),n.jsx(Rt,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(wr,{className:"h-4 w-4 text-primary"}),n.jsx("h4",{className:"font-semibold",children:"Delivery Service"})]}),n.jsx(Ce,{className:s(r.deliveryType),variant:"secondary",children:r.deliveryType||"Not specified"}),r.trackingNumber&&n.jsxs("div",{className:"mt-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Tracking Number:"}),n.jsx("span",{className:"ml-2 font-mono font-medium",children:r.trackingNumber})]})]}),n.jsx(Rt,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(vs,{className:"h-4 w-4 text-primary"}),n.jsx("h4",{className:"font-semibold",children:"Delivery Address"})]}),n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg space-y-2",children:[n.jsx("p",{className:"font-medium",children:r.deliveryAddress||"Not specified"}),r.deliveryCity&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.deliveryCity,", ",r.deliveryPostalCode||""]}),r.deliveryCountry&&n.jsx("p",{className:"text-sm text-muted-foreground",children:r.deliveryCountry})]})]}),n.jsx(Rt,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(ct,{className:"h-4 w-4 text-primary"}),n.jsx("h4",{className:"font-semibold",children:"How to Receive"})]}),n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg space-y-3",children:[r.deliveryInstructions?n.jsx("p",{className:"text-sm leading-relaxed",children:r.deliveryInstructions}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No special instructions"}),r.deliveryContactPerson&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(qn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),n.jsx("span",{className:"font-medium",children:r.deliveryContactPerson})]}),r.deliveryContactPhone&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(xo,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:r.deliveryContactPhone})]}),r.deliveryContactEmail&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(cn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:r.deliveryContactEmail})]})]})]}),n.jsx(Rt,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(jr,{className:"h-4 w-4 text-primary"}),n.jsx("h4",{className:"font-semibold",children:"Delivery Schedule"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground mb-1",children:"Expected Delivery"}),n.jsx("p",{className:"font-medium",children:r.expectedDeliveryDate?new Date(r.expectedDeliveryDate).toLocaleDateString():"Not set"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground mb-1",children:"Actual Delivery"}),n.jsx("p",{className:"font-medium",children:r.actualDeliveryDate?new Date(r.actualDeliveryDate).toLocaleDateString():"Pending"})]}),r.deliveryTimeWindow&&n.jsxs("div",{className:"col-span-2",children:[n.jsx("p",{className:"text-muted-foreground mb-1",children:"Time Window"}),n.jsx("p",{className:"font-medium",children:r.deliveryTimeWindow})]})]})]}),r.deliveryNotes&&n.jsxs(n.Fragment,{children:[n.jsx(Rt,{}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Additional Notes"}),n.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed p-3 bg-muted/30 rounded",children:r.deliveryNotes})]})]})]})]})})},HBe=({open:e,onOpenChange:t,currentSku:r,productId:s,productName:a,onSkuUpdated:i})=>{const[o,l]=v.useState(r||""),[c,d]=v.useState(!1);v.useEffect(()=>{e&&l(r||"")},[e,r]);const u=async()=>{if(!o.trim()){Ue.error("SKU cannot be empty");return}d(!0);try{i==null||i(o.trim()),t(!1)}catch(m){console.error("Error updating SKU:",m),Ue.error("Failed to update SKU")}finally{d(!1)}},f=m=>{m.key==="Enter"&&!c&&u()};return n.jsx(En,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-md",children:[n.jsxs(An,{children:[n.jsxs(kn,{className:"flex items-center gap-2",children:[n.jsx(ct,{className:"h-5 w-5"}),"Edit SKU"]}),n.jsxs(zs,{children:['Update the SKU for "',a,'"']})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"sku",children:"SKU (Stock Keeping Unit)"}),n.jsx(me,{id:"sku",value:o,onChange:m=>l(m.target.value),onKeyPress:f,placeholder:"Enter SKU code",className:"font-mono",autoFocus:!0,disabled:c}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter a unique identifier for this product"})]})}),n.jsxs(yo,{children:[n.jsx(ee,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),n.jsxs(ee,{onClick:u,disabled:c||!o.trim(),children:[c&&n.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Save SKU"]})]})]})})},qBe=({open:e,onOpenChange:t,currentPrice:r,productId:s,productName:a,onPriceUpdated:i})=>{const[o,l]=v.useState((r==null?void 0:r.toString())||""),[c,d]=v.useState(!1);v.useEffect(()=>{if(e){const h=r?Math.round(parseFloat(r.toString())):0;l(h.toString())}},[e,r]);const u=async()=>{const h=parseInt(o);if(!o.trim()||isNaN(h)){Ue.error("Please enter a valid price");return}if(h<0){Ue.error("Price cannot be negative");return}d(!0);try{i==null||i(h.toString()),t(!1)}catch(x){console.error("Error updating unit price:",x),Ue.error("Failed to update unit price")}finally{d(!1)}},f=h=>{h.key==="Enter"&&!c&&u()},m=h=>{const x=h.target.value;(x===""||/^\d+$/.test(x))&&l(x)};return n.jsx(En,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-md",children:[n.jsxs(An,{children:[n.jsxs(kn,{className:"flex items-center gap-2",children:[n.jsx(br,{className:"h-5 w-5"}),"Edit Unit Price"]}),n.jsxs(zs,{children:['Update the unit price for "',a,'"']})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"price",children:"Unit Price (HUF)"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"price",value:o,onChange:m,onKeyPress:f,placeholder:"Enter unit price",className:"pr-12",autoFocus:!0,disabled:c,type:"text",inputMode:"numeric"}),n.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground",children:"HUF"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the price per unit in Hungarian Forint (whole numbers only)"})]})}),n.jsxs(yo,{children:[n.jsx(ee,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),n.jsxs(ee,{onClick:u,disabled:c||!o.trim()||isNaN(parseInt(o)),children:[c&&n.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Price"]})]})]})})},GBe=({open:e,onOpenChange:t,currentQuantity:r,productId:s,productName:a,onQuantityUpdated:i})=>{const[o,l]=v.useState((r==null?void 0:r.toString())||"1"),[c,d]=v.useState(!1);v.useEffect(()=>{e&&l((r==null?void 0:r.toString())||"1")},[e,r]);const u=async()=>{const p=parseInt(o);if(!o.trim()||isNaN(p)){Ue.error("Please enter a valid quantity");return}if(p<=0){Ue.error("Quantity must be greater than 0");return}d(!0);try{i==null||i(o.trim()),t(!1)}catch(g){console.error("Error updating quantity:",g),Ue.error("Failed to update quantity")}finally{d(!1)}},f=p=>{p.key==="Enter"&&!c&&u()},m=p=>{const g=p.target.value;(g===""||/^\d+$/.test(g))&&l(g)},h=()=>{const p=parseInt(o)||0;l((p+1).toString())},x=()=>{const p=parseInt(o)||0;p>1&&l((p-1).toString())};return n.jsx(En,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-md",children:[n.jsxs(An,{children:[n.jsxs(kn,{className:"flex items-center gap-2",children:[n.jsx(Km,{className:"h-5 w-5"}),"Edit Quantity"]}),n.jsxs(zs,{children:['Update the quantity for "',a,'"']})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"quantity",children:"Quantity"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ee,{type:"button",variant:"outline",size:"icon",onClick:x,disabled:c||parseInt(o)<=1,children:"-"}),n.jsx(me,{id:"quantity",value:o,onChange:m,onKeyPress:f,placeholder:"Enter quantity",className:"text-center",autoFocus:!0,disabled:c,type:"text",inputMode:"numeric"}),n.jsx(ee,{type:"button",variant:"outline",size:"icon",onClick:h,disabled:c,children:"+"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the number of units to order"})]})}),n.jsxs(yo,{children:[n.jsx(ee,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),n.jsxs(ee,{onClick:u,disabled:c||!o.trim()||parseInt(o)<=0,children:[c&&n.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Quantity"]})]})]})})};function KBe(){return n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4 mb-4",children:[n.jsx(_,{className:"h-9 w-24 rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(_,{className:"h-9 w-64 mb-3"}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[n.jsx(_,{className:"h-6 w-24 rounded-full"}),n.jsx(_,{className:"h-6 w-20 rounded-full"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(_,{className:"h-9 w-20 rounded-md"}),n.jsx(_,{className:"h-9 w-24 rounded-md"})]})]})})}function YBe(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-4 w-24"})]})}),n.jsxs(X,{children:[n.jsx(_,{className:"h-8 w-32 mb-2"}),n.jsx(_,{className:"h-3 w-40"})]})]},t))})}function XBe(){return n.jsxs(Y,{className:"lg:col-span-2",children:[n.jsx(we,{children:n.jsx(_,{className:"h-6 w-40"})}),n.jsx(X,{className:"space-y-3",children:n.jsx("div",{className:"grid grid-cols-2 gap-4",children:[...Array(6)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-3 w-20"}),n.jsx(_,{className:"h-4 w-32"})]},t))})})]})}function QBe(){return n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx(_,{className:"h-6 w-32"})}),n.jsx(X,{children:n.jsx("div",{className:"space-y-3",children:[...Array(5)].map((e,t)=>n.jsxs("div",{className:"flex gap-3",children:[n.jsx(_,{className:"h-4 w-4 rounded-full flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(_,{className:"h-3 w-32"}),n.jsx(_,{className:"h-4 w-full"})]})]},t))})})]})}function ZBe(){return n.jsx(Y,{children:n.jsx(X,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-muted/50 border-b",children:n.jsx("tr",{children:[...Array(8)].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(_,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(5)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(_,{className:"h-12 w-12 rounded-lg flex-shrink-0"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-40"}),n.jsx(_,{className:"h-3 w-24"})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-16"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-6 w-24 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(_,{className:"h-8 w-8 rounded"}),n.jsx(_,{className:"h-8 w-8 rounded"}),n.jsx(_,{className:"h-8 w-8 rounded"})]})})]},t))})]})})})})}function JBe(){return n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0",children:n.jsx("div",{className:"grid w-full grid-cols-4 min-w-[600px] sm:min-w-0 lg:w-auto lg:inline-grid bg-muted rounded-lg p-1",children:[...Array(4)].map((e,t)=>n.jsx("div",{className:"flex items-center justify-center py-2 px-4",children:n.jsx(_,{className:"h-4 w-20"})},t))})})})}function e9e(){return n.jsxs(ut,{title:"Loading...",children:[n.jsx("div",{className:"mb-6 flex items-center gap-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-4 w-2"}),n.jsx(_,{className:"h-4 w-32"})]})}),n.jsx(KBe,{}),n.jsx(JBe,{}),n.jsxs("div",{className:"space-y-6 mt-6",children:[n.jsx(YBe,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx(XBe,{}),n.jsx(QBe,{})]})]})]})}function t9e(){return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[n.jsx(_,{className:"h-7 w-64"}),n.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[n.jsx(_,{className:"h-9 w-32 rounded-md"}),n.jsx(_,{className:"h-9 w-28 rounded-md"})]})]}),n.jsx(ZBe,{})]})}const r9e=()=>{var He;const{id:e}=Mi(),t=fr(),{toast:r}=xr(),{data:s,isLoading:a,error:i}=DO(e||null),{data:o,isLoading:l,error:c,refetch:d}=DLe(e||null),u=o||[],{data:f,isLoading:m}=pLe(e||null),{data:h=[],isLoading:x}=xLe(e||null),p=RLe(),g=JY(),[j,y]=v.useState({open:!1,id:"",name:"",apartmentId:""}),w=ye=>{const Je=ye.getFullYear(),sr=String(ye.getMonth()+1).padStart(2,"0"),Er=String(ye.getDate()).padStart(2,"0");return`${Je}-${sr}-${Er}`},b=[],N="";v.useState("");const[S,E]=v.useState(N),[C,A]=v.useState(!1),[P,R]=v.useState(!1),[I,z]=v.useState(""),[U,L]=v.useState(""),[T,k]=v.useState(!1),[O,M]=v.useState(null),[ie,ce]=v.useState(!1),[D,W]=v.useState(null),[F,q]=v.useState(!1),[le,fe]=v.useState(null),[B,K]=v.useState(!1),[se,Ne]=v.useState(null),[ue,ge]=v.useState(!1),[xe,Se]=v.useState(null),Me=(ye,Je)=>{y({open:!0,id:ye,name:Je,apartmentId:e||""})},Oe=async()=>{try{await p.mutateAsync({id:j.id,name:j.name,apartmentId:j.apartmentId}),y({open:!1,id:"",name:"",apartmentId:""})}catch{y({open:!1,id:"",name:"",apartmentId:""})}};if(a)return n.jsx(e9e,{});if(i)return n.jsx(ut,{title:"Error",children:n.jsx("div",{className:"container mx-auto py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ct,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),n.jsx("h2",{className:"text-2xl font-semibold text-destructive mb-2",children:"Error loading apartment"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Unable to fetch apartment details. Please try again."}),n.jsxs(ee,{onClick:()=>t("/apartments"),className:"mt-4",children:[n.jsx(tr,{className:"mr-2 h-4 w-4"}),"Back to Apartments"]})]})})});if(!s)return n.jsx(ut,{title:"Not Found",children:n.jsx("div",{className:"container mx-auto py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground",children:"Apartment not found"}),n.jsxs(ee,{onClick:()=>t("/apartments"),className:"mt-4",children:[n.jsx(tr,{className:"mr-2 h-4 w-4"}),"Back to Apartments"]})]})})});const te=()=>{window.confirm(`Are you sure you want to delete "${s.name}"?`)&&(r({title:"Success",description:"Apartment deleted successfully"}),t("/apartments"))},he=()=>{r({title:"Success",description:"Note saved"})},oe=async(ye,Je)=>{try{await g.mutateAsync({id:ye,data:Je}),d()}catch{r({title:"Error",description:"Failed to update product",variant:"destructive"})}},be=(f==null?void 0:f.total_items)||0,Le=(f==null?void 0:f.ordered_items)||0,Ie=(f==null?void 0:f.delivered_items)||0,de=(f==null?void 0:f.open_issues)||0,Re=(f==null?void 0:f.total_value)||0,ot=(f==null?void 0:f.total_paid)||0,wt=(f==null?void 0:f.outstanding_balance)||0,Qe=(f==null?void 0:f.overdue_payments)||0,je=ye=>{const Je=ye.toLowerCase();return Je.includes("delivered")||Je.includes("closed")||Je.includes("paid")||Je.includes("completed")?"bg-green-500/10 text-green-500":Je.includes("issue")||Je.includes("damaged")||Je.includes("wrong")||Je.includes("missing")||Je.includes("overdue")?"bg-red-500/10 text-red-500":Je.includes("waiting")||Je.includes("pending")||Je.includes("partial")?"bg-yellow-500/10 text-yellow-500":Je.includes("ordered")||Je.includes("shipped")||Je.includes("transit")||Je.includes("ordering")?"bg-blue-500/10 text-blue-500":Je.includes("planning")?"bg-purple-500/10 text-purple-500":"bg-gray-500/10 text-gray-500"};return n.jsxs(ut,{title:s.name,children:[n.jsx("div",{className:"mb-6 flex items-center gap-3",children:n.jsx(Ca,{children:n.jsxs(Ea,{children:[n.jsx(Jt,{children:n.jsx(Bn,{asChild:!0,children:n.jsx(Ti,{to:"/apartments",children:"Apartments"})})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(ni,{children:s.name})})]})})}),n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4 mb-4",children:[n.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>t("/apartments"),className:"flex items-center gap-1",children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-3",children:s.name}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[n.jsx(Ce,{className:s.type==="furnishing"?"bg-primary":"bg-accent",children:s.type==="furnishing"?"Furnishing":"Renovating"}),n.jsx(Ce,{className:je(s.status),children:s.status})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>t(`/apartments/${s.id}/edit`),children:[n.jsx($s,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),n.jsxs(ee,{variant:"destructive",size:"sm",onClick:te,children:[n.jsx(on,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]})}),n.jsxs(wo,{defaultValue:"overview",className:"space-y-6",children:[n.jsx("div",{className:"overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0",children:n.jsxs($i,{className:"grid w-full grid-cols-4 min-w-[600px] sm:min-w-0 lg:w-auto lg:inline-grid",children:[n.jsx(Lt,{value:"overview",className:"text-xs sm:text-sm",children:"Overview"}),n.jsx(Lt,{value:"products",className:"text-xs sm:text-sm",children:"Products & Procurement logs"}),n.jsx(Lt,{value:"notes",className:"text-xs sm:text-sm",children:"Notes (AI)"}),n.jsx(Lt,{value:"activity",className:"text-xs sm:text-sm",children:"Activity"})]})}),n.jsxs(Yt,{value:"overview",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(ct,{className:"h-4 w-4 text-primary"}),"Total Items"]})}),n.jsx(X,{children:m?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-8 w-20 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded mt-2"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold",children:be}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Le," ordered, ",Ie," delivered"]})]})})]}),n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(qa,{className:"h-4 w-4 text-success"}),"Total Order Value"]})}),n.jsx(X,{children:m?n.jsx("div",{className:"h-8 w-32 bg-muted animate-pulse rounded"}):n.jsxs("div",{className:"text-2xl font-bold",children:[Re.toLocaleString()," HUF"]})})]}),n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(br,{className:"h-4 w-4 text-warning"}),"Outstanding Balance"]})}),n.jsx(X,{children:m?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-8 w-32 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-3 w-28 bg-muted animate-pulse rounded mt-2"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[wt.toLocaleString()," HUF"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Paid: ",ot.toLocaleString()," HUF"]})]})})]}),n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Ct,{className:"h-4 w-4 text-red-500"}),"Open Issues"]})}),n.jsx(X,{children:m?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-8 w-16 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded mt-2"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold",children:de}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Qe," overdue payments"]})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(Y,{className:"lg:col-span-2",children:[n.jsx(we,{children:n.jsx(Ve,{children:"Apartment Details"})}),n.jsx(X,{className:"space-y-3",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Client"}),n.jsx("p",{className:"font-medium",children:((He=s.client_details)==null?void 0:He.name)||s.owner||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Designer"}),n.jsx("p",{className:"font-medium",children:s.designer||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Address"}),n.jsx("p",{className:"font-medium",children:s.address})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Status"}),n.jsx("p",{className:"font-medium",children:s.status})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Start Date"}),n.jsx("p",{className:"font-medium",children:s.start_date?new Date(s.start_date).toLocaleDateString():"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Due Date"}),n.jsx("p",{className:"font-medium",children:s.due_date?new Date(s.due_date).toLocaleDateString():"N/A"})]})]})})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx(Ve,{children:"Recent Activity"})}),n.jsx(X,{children:x?n.jsx("div",{className:"space-y-3",children:[...Array(5)].map((ye,Je)=>n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"h-4 w-4 rounded-full bg-muted animate-pulse flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"})]})]},Je))}):n.jsxs("div",{className:"space-y-3",children:[h.slice(0,5).map(ye=>n.jsxs("div",{className:"flex gap-3 text-sm",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx(Lr,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(ye.timestamp).toLocaleString()}),n.jsx("p",{className:"leading-tight",children:ye.summary})]})]},ye.id)),h.length===0&&n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No activity yet"})]})})]})]})]}),n.jsxs(Yt,{value:"products",className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[n.jsxs("h2",{className:"text-lg sm:text-xl font-semibold",children:["Product & Procurement Log (",u.length,")"]}),n.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[n.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",onClick:()=>t(`/products/import?apartmentId=${e}`),children:[n.jsx(Pi,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Import Excel/CSV"}),n.jsx("span",{className:"sm:hidden",children:"Import"})]}),n.jsxs(ee,{size:"sm",className:"flex-1 sm:flex-none",onClick:()=>t(`/products/new?apartmentId=${e}`),children:[n.jsx(Fn,{className:"mr-2 h-4 w-4"}),"Add Product"]})]})]}),l?n.jsx(t9e,{}):u.length===0?n.jsx(Y,{children:n.jsxs(X,{className:"py-12 text-center",children:[n.jsx(ct,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No products yet"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first furniture item to get started"}),n.jsxs(ee,{onClick:()=>t(`/products/new?apartmentId=${e}`),children:[n.jsx(Fn,{className:"mr-2 h-4 w-4"}),"Add Product"]})]})}):n.jsx(Y,{children:n.jsx(X,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(js,{children:[n.jsx(bs,{children:n.jsxs($t,{children:[n.jsx(Pe,{className:"w-16",children:"Image"}),n.jsx(Pe,{children:"Product Name"}),n.jsx(Pe,{children:"Vendor"}),n.jsx(Pe,{children:"SKU"}),n.jsx(Pe,{className:"text-right",children:"Unit Price"}),n.jsx(Pe,{className:"text-center",children:"Qty"}),n.jsx(Pe,{className:"text-right",children:"Total"}),n.jsx(Pe,{children:"Product Status"}),n.jsx(Pe,{children:"Delivery Status"}),n.jsx(Pe,{children:"Expected Delivery"}),n.jsx(Pe,{children:"Delivery Location"}),n.jsx(Pe,{children:"Actual Delivery"}),n.jsx(Pe,{children:"Payment Status"}),n.jsx(Pe,{children:"Payment Due"}),n.jsx(Pe,{children:"Issue State"}),n.jsx(Pe,{children:"Actions / Chatbot"}),n.jsx(Pe,{children:"Ordered On"}),n.jsx(Pe,{className:"text-right",children:"Actions"})]})}),n.jsx(ws,{children:u.map(ye=>{const Je=Array.isArray(ye.status)?ye.status:[],sr=Je.includes("Delivered")||Je.includes("Closed")?"bg-green-500/5":Je.includes("Damaged")||Je.includes("Wrong Item")||Je.includes("Missing")?"bg-red-500/5":Je.includes("Shipped")||Je.includes("Ordered")?"bg-blue-500/5":Je.includes("Waiting For Stock")?"bg-yellow-500/5":"",Er=parseFloat(ye.payment_amount||"0")-parseFloat(ye.paid_amount||"0");return n.jsxs($t,{className:sr,children:[n.jsx(_e,{children:ye.product_image?n.jsx("img",{src:ye.product_image,alt:ye.product,className:"h-10 w-10 rounded object-cover"}):n.jsx("div",{className:"h-10 w-10 rounded bg-muted flex items-center justify-center",children:n.jsx(ki,{className:"h-5 w-5 text-muted-foreground"})})}),n.jsx(_e,{children:ye.link?n.jsxs("a",{href:ye.link,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-primary hover:underline flex items-center gap-1 cursor-pointer",title:"Click to view product page",children:[ye.product,n.jsx(tP,{className:"h-3 w-3 flex-shrink-0"})]}):n.jsx("span",{className:"font-medium text-muted-foreground",children:ye.product})}),n.jsx(_e,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ee,{variant:"link",className:"p-0 h-auto text-primary hover:underline",onClick:()=>{z(ye.vendor_name||"Not Assigned"),L(ye.id),R(!1),A(!0)},children:ye.vendor_name||n.jsx("span",{className:"text-muted-foreground italic",children:"Not Assigned"})}),n.jsx(ee,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{z(ye.vendor_name||"Not Assigned"),L(ye.id),R(!0),A(!0)},children:n.jsx(yv,{className:"h-3 w-3"})})]})}),n.jsx(_e,{children:n.jsx(ee,{variant:"link",className:"p-0 h-auto font-mono text-xs text-primary hover:underline",onClick:()=>{fe(ye),q(!0)},children:ye.sku||n.jsx("span",{className:"text-muted-foreground italic",children:"Add SKU"})})}),n.jsx(_e,{className:"text-right",children:n.jsxs(ee,{variant:"link",className:"p-0 h-auto text-primary hover:underline",onClick:()=>{Ne(ye),K(!0)},children:[parseFloat(ye.unit_price).toLocaleString()," HUF"]})}),n.jsx(_e,{className:"text-center",children:(()=>{const dt=ye.order_status_info&&ye.order_status_info.length>0?ye.order_status_info.reduce((Ht,Nr)=>Ht+(Nr.quantity||0),0):0;return dt>0?n.jsxs("div",{className:"flex flex-col items-center gap-1",children:[n.jsx("span",{className:"font-semibold",children:dt}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"(ordered)"})]}):n.jsx(ee,{variant:"link",className:"p-0 h-auto text-primary hover:underline",onClick:()=>{Se(ye),ge(!0)},children:ye.qty})})()}),n.jsx(_e,{className:"text-right font-semibold",children:(()=>{const dt=ye.order_status_info&&ye.order_status_info.length>0?ye.order_status_info.reduce((jt,It)=>jt+(It.quantity||0),0):0,Ht=dt>0?dt:ye.qty;return`${(parseFloat(ye.unit_price)*Ht).toLocaleString()} HUF`})()}),n.jsx(_e,{children:n.jsx("div",{className:"space-y-1 min-w-[200px]",children:ye.order_status_info&&ye.order_status_info.length>0?ye.order_status_info.map((dt,Ht)=>n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ce,{variant:dt.status==="sent"?"default":"outline",className:"text-xs",children:dt.status==="draft"?"Draft":dt.status==="sent"?"Sent":dt.status}),n.jsx("a",{href:`/orders/${dt.order_id}`,className:"text-xs text-primary hover:underline",title:`View order ${dt.po_number}`,children:dt.po_number}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(Qty: ",dt.quantity,")"]})]},Ht)):n.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Not ordered yet"})})}),n.jsx(_e,{children:n.jsx("div",{className:"space-y-1 min-w-[200px]",children:ye.delivery_status_info&&ye.delivery_status_info.length>0?ye.delivery_status_info.map((dt,Ht)=>n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ce,{variant:dt.status==="Received"?"default":dt.status==="Returned"?"destructive":dt.status==="In Transit"||dt.status==="Delayed"?"secondary":"outline",className:ve("text-xs",dt.status==="Received"&&"bg-green-500/10 text-green-500",dt.status==="In Transit"&&"bg-blue-500/10 text-blue-500",dt.status==="Confirmed"&&"bg-yellow-500/10 text-yellow-500",dt.status==="Delayed"&&"bg-orange-500/10 text-orange-500",dt.status==="Returned"&&"bg-red-500/10 text-red-500"),children:dt.status}),n.jsx("a",{href:"/deliveries",className:"text-xs text-primary hover:underline",title:`View delivery ${dt.order_reference}`,children:dt.order_reference}),dt.tracking_number&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(Track: ",dt.tracking_number,")"]}),dt.expected_date&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["ETA: ",new Date(dt.expected_date).toLocaleDateString()]})]},Ht)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})})}),n.jsx(_e,{children:n.jsx("div",{className:"space-y-1",children:ye.order_status_info&&ye.order_status_info.length>0?ye.order_status_info.map((dt,Ht)=>dt.expected_delivery?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(en,{className:"h-3 w-3 text-muted-foreground"}),n.jsx("span",{className:"text-xs",children:Kt(new Date(dt.expected_delivery),"PP")})]},Ht):null):n.jsxs(iw,{children:[n.jsx(ow,{asChild:!0,children:n.jsxs(ee,{variant:"outline",size:"sm",className:ve("w-[140px] justify-start text-left font-normal",!ye.expected_delivery_date&&"text-muted-foreground"),children:[n.jsx(en,{className:"mr-2 h-3 w-3"}),ye.expected_delivery_date?Kt(new Date(ye.expected_delivery_date),"PP"):"Pick date"]})}),n.jsx(H0,{className:"w-auto p-0",align:"start",children:n.jsx($A,{mode:"single",selected:ye.expected_delivery_date?new Date(ye.expected_delivery_date):void 0,onSelect:dt=>{dt&&(oe(ye.id,{expected_delivery_date:w(dt)}),r({title:"Success",description:"Expected delivery date updated"}))},initialFocus:!0})})]})})}),n.jsx(_e,{children:n.jsx("div",{className:"space-y-1",children:ye.order_status_info&&ye.order_status_info.length>0&&ye.order_status_info.some(dt=>dt.shipping_address)?ye.order_status_info.map((dt,Ht)=>dt.shipping_address?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vs,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),n.jsx("span",{className:"text-xs line-clamp-2",children:dt.shipping_address})]},Ht):null):n.jsxs(n.Fragment,{children:[ye.delivery_status_info&&ye.delivery_status_info.length>0?ye.delivery_status_info.map((dt,Ht)=>dt.location?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vs,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),n.jsx("span",{className:"text-xs line-clamp-2",children:dt.location})]},Ht):null):null,(!ye.delivery_status_info||ye.delivery_status_info.length===0||!ye.delivery_status_info.some(dt=>dt.location))&&(ye.delivery_address||ye.delivery_city?n.jsxs(ee,{variant:"link",size:"sm",onClick:()=>{W(ye),ce(!0)},className:"p-0 h-auto text-primary hover:underline flex items-center gap-1 text-left",children:[n.jsx(vs,{className:"h-3 w-3 flex-shrink-0"}),n.jsx("span",{className:"line-clamp-2",children:ye.delivery_city?`${ye.delivery_city}${ye.delivery_address?", "+ye.delivery_address.split(",")[0]:""}`:ye.delivery_address})]}):n.jsx("span",{className:"text-xs text-muted-foreground",children:"Not set"}))]})})}),n.jsx(_e,{children:n.jsx("div",{className:"space-y-1",children:ye.delivery_status_info&&ye.delivery_status_info.length>0?n.jsx(n.Fragment,{children:ye.delivery_status_info.map((dt,Ht)=>dt.actual_date?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(en,{className:"h-3 w-3 text-muted-foreground"}),n.jsx("span",{className:"text-xs",children:Kt(new Date(dt.actual_date),"PP")})]},Ht):null)}):n.jsxs(iw,{children:[n.jsx(ow,{asChild:!0,children:n.jsxs(ee,{variant:"outline",size:"sm",className:ve("w-[140px] justify-start text-left font-normal",!ye.actual_delivery_date&&"text-muted-foreground"),children:[n.jsx(en,{className:"mr-2 h-3 w-3"}),ye.actual_delivery_date?Kt(new Date(ye.actual_delivery_date),"PP"):"Pick date"]})}),n.jsx(H0,{className:"w-auto p-0",align:"start",children:n.jsx($A,{mode:"single",selected:ye.actual_delivery_date?new Date(ye.actual_delivery_date):void 0,onSelect:dt=>{dt&&(oe(ye.id,{actual_delivery_date:w(dt)}),r({title:"Success",description:"Actual delivery date updated"}))},initialFocus:!0})})]})})}),n.jsx(_e,{children:ye.payment_status_from_orders?n.jsx(Ce,{variant:ye.payment_status_from_orders==="Paid"?"default":ye.payment_status_from_orders==="Partially Paid"?"secondary":"outline",className:ye.payment_status_from_orders==="Paid"?"bg-green-500/10 text-green-500":ye.payment_status_from_orders==="Partially Paid"?"bg-yellow-500/10 text-yellow-500":"bg-red-500/10 text-red-500",children:ye.payment_status_from_orders}):n.jsx(Ce,{variant:"outline",className:"bg-gray-500/10 text-gray-500",children:"Unpaid"})}),n.jsx(_e,{children:n.jsx("div",{className:"space-y-1",children:ye.payment_due_date?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-xs",children:new Date(ye.payment_due_date).toLocaleDateString()}),Er>0&&n.jsxs("div",{className:"text-xs text-red-500 font-medium",children:["Balance: ",Er.toLocaleString()," HUF"]})]}):"-"})}),n.jsx(_e,{children:ye.issue_status_info&&ye.issue_status_info.status!=="No Issue"?n.jsx("div",{className:"text-xs text-gray-700",children:ye.issue_status_info.type||"Issue reported"}):n.jsx(Ce,{variant:"outline",className:"bg-green-500/10 text-green-500 text-xs",children:"No Issue"})}),n.jsx(_e,{children:n.jsxs(ee,{size:"sm",variant:ye.issue_state&&ye.issue_state!=="No Issue"?"default":"outline",onClick:()=>{M(ye),k(!0)},className:ve(ye.issue_state==="AI Resolving"&&"animate-pulse"),children:[n.jsx(va,{className:ve("mr-1 h-3 w-3",ye.issue_state==="AI Resolving"&&"animate-spin")}),ye.issue_state==="AI Resolving"?"AI Active":ye.issue_state&&ye.issue_state!=="No Issue"?"Manage Issue":"Report Issue"]})}),n.jsx(_e,{children:ye.ordered_on?new Date(ye.ordered_on).toLocaleDateString():"-"}),n.jsx(_e,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>t(`/products/${ye.id}`),children:n.jsx(Ha,{className:"h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>t(`/products/${ye.id}/edit`),children:n.jsx($s,{className:" h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",onClick:()=>Me(ye.id,ye.product),children:n.jsx(on,{className:"h-4 w-4"})})]})})]},ye.id)})})]})})})})]}),n.jsx(Yt,{value:"notes",className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Y,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Manual Notes"}),n.jsx(Tr,{children:"Add observations or notes about this apartment"})]}),n.jsxs(X,{className:"space-y-4",children:[n.jsx(ta,{value:S,onChange:ye=>E(ye.target.value),rows:10,placeholder:"Enter your notes here..."}),n.jsx(ee,{onClick:he,children:"Save Note"})]})]}),n.jsxs(Y,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"AI & Vendor Communication"}),n.jsx(Tr,{children:"AI-generated emails and vendor correspondence"})]}),n.jsx(X,{children:n.jsxs("div",{className:"space-y-4",children:[b.map(ye=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ce,{variant:ye.sender==="AI"?"default":"outline",children:ye.sender}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(ye.timestamp).toLocaleString()})]})}),ye.emailSubject&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Subject:"}),n.jsx("p",{className:"font-medium text-sm",children:ye.emailSubject})]}),n.jsx("div",{className:"text-sm whitespace-pre-wrap bg-muted/30 p-3 rounded",children:ye.content})]},ye.id)),b.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No AI communications yet"})]})})]})]})}),n.jsxs(Yt,{value:"activity",className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Activity Timeline"}),n.jsx(Y,{children:n.jsx(X,{className:"pt-6",children:n.jsxs("div",{className:"space-y-4",children:[h.map(ye=>n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsxs("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:[ye.icon==="ShoppingCart"&&n.jsx(ct,{className:"h-5 w-5 text-primary"}),ye.icon==="CreditCard"&&n.jsx(br,{className:"h-5 w-5 text-primary"}),ye.icon==="Mail"&&n.jsx(cn,{className:"h-5 w-5 text-primary"}),ye.icon==="PackageCheck"&&n.jsx(Lr,{className:"h-5 w-5 text-primary"}),ye.icon==="Package"&&n.jsx(ct,{className:"h-5 w-5 text-primary"})]})}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"font-medium text-sm",children:ye.summary}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(ye.timestamp).toLocaleString()})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",ye.actor]})]})]},ye.id)),h.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No activity recorded yet"})]})})})]})]}),n.jsx(CBe,{open:C,onOpenChange:A,vendorName:I,productId:U,openInEditMode:P,onVendorUpdated:(ye,Je)=>{oe(U,{vendor:ye,vendor_name:Je}),r({title:"Vendor Updated",description:`Product vendor changed to ${Je}`}),d()}}),O&&n.jsx(PX,{open:T,onOpenChange:k,product:O,onIssueUpdated:()=>{}}),n.jsx(WBe,{open:ie,onOpenChange:ce,product:D}),le&&n.jsx(HBe,{open:F,onOpenChange:q,currentSku:le.sku||"",productId:le.id,productName:le.product,onSkuUpdated:ye=>{oe(le.id,{sku:ye}),r({title:"Success",description:"SKU updated successfully"}),d()}}),se&&n.jsx(qBe,{open:B,onOpenChange:K,currentPrice:se.unit_price||"0",productId:se.id,productName:se.product,onPriceUpdated:ye=>{oe(se.id,{unit_price:ye}),r({title:"Success",description:"Unit price updated successfully"}),d()}}),xe&&n.jsx(GBe,{open:ue,onOpenChange:ge,currentQuantity:xe.qty||"1",productId:xe.id,productName:xe.product,onQuantityUpdated:ye=>{oe(xe.id,{qty:ye}),r({title:"Success",description:"Quantity updated successfully"}),d()}}),n.jsx(Xl,{open:j.open,onOpenChange:ye=>!ye&&y({open:!1,id:"",name:"",apartmentId:""}),children:n.jsxs(sl,{children:[n.jsx(al,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(on,{className:"h-5 w-5 text-destructive"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(ol,{children:"Delete Product"}),n.jsxs(ll,{children:['Are you sure you want to delete "',j.name,'"? This action cannot be undone.']})]})]})}),n.jsxs(il,{children:[n.jsx(dl,{onClick:()=>y({open:!1,id:"",name:"",apartmentId:""}),children:"Cancel"}),n.jsx(cl,{onClick:Oe,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",autoFocus:!0,children:"Delete"})]})]})})]})};function n9e(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-4 w-12"})]})}function s9e(){return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(_,{className:"h-10 w-10 rounded-md"}),n.jsx(_,{className:"h-9 w-48"})]})}function a9e(){return n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx(_,{className:"h-6 w-40"})}),n.jsxs(X,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-16"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(_,{className:"h-5 w-24 rounded-full"}),n.jsx(_,{className:"h-5 w-24 rounded-full"})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-28"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-36"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-16"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-16"}),n.jsx(_,{className:"h-24 w-full rounded-md"})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(_,{className:"h-10 w-24 rounded-md"}),n.jsx(_,{className:"h-10 w-32 rounded-md"})]})]})]})}function i9e(){return n.jsx(ut,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(n9e,{}),n.jsx(s9e,{}),n.jsx(a9e,{})]})})}const o9e=()=>{const{id:e}=Mi(),t=fr(),{toast:r}=xr(),{data:s,isLoading:a,error:i}=DO(e||null),{data:o,isLoading:l}=E2({}),c=(o==null?void 0:o.results)||[],d=mLe(),[u,f]=v.useState({name:"",type:"furnishing",client:"",address:"",designer:"",status:"Planning",start_date:"",due_date:"",notes:"",progress:0}),[m,h]=v.useState({});if(v.useEffect(()=>{s&&f({name:s.name,type:s.type,client:s.client||s.client_id||"",address:s.address,designer:s.designer,status:s.status,start_date:s.start_date,due_date:s.due_date,notes:s.notes||"",progress:s.progress})},[s]),a)return n.jsx(i9e,{});if(i||!s)return n.jsx(ut,{title:"Apartment Not Found",children:n.jsx(Y,{children:n.jsxs(X,{className:"py-8",children:[n.jsx("p",{className:"text-center text-muted-foreground",children:"Apartment not found"}),n.jsx("div",{className:"flex justify-center mt-4",children:n.jsx(ee,{onClick:()=>t("/apartments"),children:"Back to Apartments"})})]})})});const x=()=>{const g={};return u.name.trim()||(g.name="Apartment name is required"),u.client||(g.client="Client selection is required"),u.address.trim()||(g.address="Address is required"),u.designer.trim()||(g.designer="Designer is required"),u.start_date||(g.start_date="Start date is required"),u.due_date||(g.due_date="Due date is required"),u.start_date&&u.due_date&&new Date(u.due_date)<new Date(u.start_date)&&(g.due_date="Due date must be after start date"),h(g),Object.keys(g).length===0},p=async g=>{var j,y;if(g.preventDefault(),!x()){r({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{await d.mutateAsync({id:s.id,data:u}),t("/apartments")}catch(w){r({title:"Error",description:((y=(j=w.response)==null?void 0:j.data)==null?void 0:y.message)||"Failed to update apartment. Please try again.",variant:"destructive"})}};return n.jsx(ut,{title:"Edit Apartment",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ca,{children:n.jsxs(Ea,{children:[n.jsx(Jt,{children:n.jsx(Bn,{href:"/apartments",children:"Apartments"})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(Bn,{href:`/apartments/${s.id}`,children:s.name})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(ni,{children:"Edit"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>t(`/apartments/${s.id}`),children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"Edit Apartment"})]}),n.jsx("form",{onSubmit:p,children:n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx(Ve,{children:"Apartment Details"})}),n.jsxs(X,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"name",children:"Apartment Name *"}),n.jsx(me,{id:"name",value:u.name,onChange:g=>f({...u,name:g.target.value}),placeholder:"Izabella utca 3  A/12"}),m.name&&n.jsx("p",{className:"text-sm text-destructive",children:m.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Type *"}),n.jsx(MO,{value:u.type,onValueChange:g=>f({...u,type:g}),children:n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(W0,{value:"furnishing",id:"furnishing"}),n.jsx(G,{htmlFor:"furnishing",className:"font-normal cursor-pointer",children:"Furnishing"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(W0,{value:"renovating",id:"renovating"}),n.jsx(G,{htmlFor:"renovating",className:"font-normal cursor-pointer",children:"Renovating"})]})]})})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"client",children:"Client/Owner *"}),n.jsxs(at,{value:u.client,onValueChange:g=>f({...u,client:g}),disabled:l,children:[n.jsx(nt,{id:"client",children:n.jsx(it,{placeholder:l?"Loading clients...":"Select client"})}),n.jsx(st,{children:c.map(g=>n.jsxs(Z,{value:g.id,children:[g.name," - ",g.type]},g.id))})]}),m.client&&n.jsx("p",{className:"text-sm text-destructive",children:m.client})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"designer",children:"Assigned Designer *"}),n.jsx(me,{id:"designer",value:u.designer,onChange:g=>f({...u,designer:g.target.value}),placeholder:"Enter designer name"}),m.designer&&n.jsx("p",{className:"text-sm text-destructive",children:m.designer})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"address",children:"Address *"}),n.jsx(me,{id:"address",value:u.address,onChange:g=>f({...u,address:g.target.value}),placeholder:"Izabella u. 3, Budapest"}),m.address&&n.jsx("p",{className:"text-sm text-destructive",children:m.address})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"status",children:"Status"}),n.jsxs(at,{value:u.status,onValueChange:g=>f({...u,status:g}),children:[n.jsx(nt,{id:"status",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"Planning",children:"Planning"}),n.jsx(Z,{value:"Design Approved",children:"Design Approved"}),n.jsx(Z,{value:"Ordering",children:"Ordering"}),n.jsx(Z,{value:"Delivery",children:"Delivery"}),n.jsx(Z,{value:"Renovating",children:"Renovating"}),n.jsx(Z,{value:"Complete",children:"Complete"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"start_date",children:"Start Date *"}),n.jsx(me,{id:"start_date",type:"date",value:u.start_date,onChange:g=>f({...u,start_date:g.target.value})}),m.start_date&&n.jsx("p",{className:"text-sm text-destructive",children:m.start_date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"due_date",children:"Due Date *"}),n.jsx(me,{id:"due_date",type:"date",value:u.due_date,onChange:g=>f({...u,due_date:g.target.value})}),m.due_date&&n.jsx("p",{className:"text-sm text-destructive",children:m.due_date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"progress",children:"Progress (%)"}),n.jsx(me,{id:"progress",type:"number",min:"0",max:"100",value:u.progress,onChange:g=>f({...u,progress:Number(g.target.value)})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"notes",children:"Notes"}),n.jsx(ta,{id:"notes",value:u.notes,onChange:g=>f({...u,notes:g.target.value}),placeholder:"Additional notes about this apartment...",rows:4})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>t(`/apartments/${s.id}`),children:"Cancel"}),n.jsx(ee,{type:"submit",disabled:d.isPending,children:d.isPending?"Saving...":"Save Changes"})]})]})]})})]})})},l9e=()=>{const[e,t]=v.useState("all"),[r,s]=v.useState(""),a=[{id:1,image:"",name:"Modern Sectional Sofa",sku:"SOF-2024-001",vendor:"IKEA",price:1299.99,qty:1,availability:"In Stock",orderStatus:"Ordered",expectedDelivery:"2024-01-20",paymentStatus:"Paid"},{id:2,image:"",name:"Queen Size Bed Frame",sku:"BED-2024-012",vendor:"Wayfair",price:899,qty:1,availability:"Low Stock",orderStatus:"Pending",expectedDelivery:"",paymentStatus:"Due"},{id:3,image:"",name:"Dining Chair Set (4pc)",sku:"CHR-2024-045",vendor:"West Elm",price:599.99,qty:4,availability:"In Stock",orderStatus:"Delivered",expectedDelivery:"2024-01-15",paymentStatus:"Paid"},{id:4,image:"",name:"Floor Lamp Modern",sku:"LMP-2024-078",vendor:"CB2",price:189.99,qty:2,availability:"Out of Stock",orderStatus:"Pending",expectedDelivery:"",paymentStatus:"Partial"},{id:5,image:"",name:"Wall Art Canvas Set",sku:"ART-2024-023",vendor:"Etsy",price:129.99,qty:3,availability:"In Stock",orderStatus:"Ordered",expectedDelivery:"2024-01-18",paymentStatus:"Due"}],i=o=>({Ordered:"bg-primary/10 text-primary",Pending:"bg-warning/10 text-warning",Delivered:"bg-success/10 text-success","In Stock":"bg-success/10 text-success","Low Stock":"bg-warning/10 text-warning","Out of Stock":"bg-danger/10 text-danger",Paid:"bg-success/10 text-success",Partial:"bg-warning/10 text-warning",Due:"bg-danger/10 text-danger"})[o]||"bg-muted";return n.jsx(ut,{title:"Products",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search by name, SKU, or vendor...",className:"pl-10",value:r,onChange:o=>s(o.target.value)})]}),n.jsxs(at,{value:e,onValueChange:t,children:[n.jsx(nt,{className:"w-full md:w-[200px]",children:n.jsx(it,{placeholder:"Filter by status"})}),n.jsxs(st,{sideOffset:5,children:[n.jsx(Z,{value:"all",children:"All Status"}),n.jsx(Z,{value:"ordered",children:"Ordered"}),n.jsx(Z,{value:"pending",children:"Pending"}),n.jsx(Z,{value:"delivered",children:"Delivered"})]})]}),n.jsxs(ee,{variant:"outline",onClick:()=>console.log("More filters clicked"),children:[n.jsx(gv,{className:"h-4 w-4 mr-2"}),"More Filters"]})]})})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(Y,{children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-bold",children:"247"})]}),n.jsx(ct,{className:"h-8 w-8 text-primary"})]})})}),n.jsx(Y,{children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Ordered"}),n.jsx("p",{className:"text-2xl font-bold",children:"168"})]}),n.jsx(Lr,{className:"h-8 w-8 text-success"})]})})}),n.jsx(Y,{children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Delivered"}),n.jsx("p",{className:"text-2xl font-bold",children:"112"})]}),n.jsx(en,{className:"h-8 w-8 text-warning"})]})})}),n.jsx(Y,{children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Issues"}),n.jsx("p",{className:"text-2xl font-bold",children:"12"})]}),n.jsx(Ct,{className:"h-8 w-8 text-danger"})]})})})]}),n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(js,{children:[n.jsx(bs,{children:n.jsxs($t,{children:[n.jsx(Pe,{children:"Image"}),n.jsx(Pe,{children:"Name / SKU"}),n.jsx(Pe,{children:"Vendor"}),n.jsx(Pe,{children:"Price"}),n.jsx(Pe,{children:"Qty"}),n.jsx(Pe,{children:"Availability"}),n.jsx(Pe,{children:"Order Status"}),n.jsx(Pe,{children:"Expected Delivery"}),n.jsx(Pe,{children:"Payment"}),n.jsx(Pe,{children:"Actions"})]})}),n.jsx(ws,{children:a.map(o=>n.jsxs($t,{children:[n.jsx(_e,{children:n.jsx("div",{className:"text-3xl",children:o.image})}),n.jsx(_e,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:o.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:o.sku})]})}),n.jsx(_e,{children:n.jsx(ee,{variant:"link",className:"p-0 h-auto",children:o.vendor})}),n.jsxs(_e,{children:["$",o.price.toFixed(2)]}),n.jsx(_e,{children:o.qty}),n.jsx(_e,{children:n.jsx(Ce,{className:i(o.availability),children:o.availability})}),n.jsx(_e,{children:n.jsx(Ce,{className:i(o.orderStatus),children:o.orderStatus})}),n.jsx(_e,{children:o.expectedDelivery||n.jsx(ee,{variant:"outline",size:"sm",children:"Set Date"})}),n.jsx(_e,{children:n.jsx(Ce,{className:i(o.paymentStatus),children:o.paymentStatus})}),n.jsx(_e,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ee,{variant:"outline",size:"sm",children:"View"}),n.jsx(ee,{variant:"outline",size:"sm",children:"Edit"})]})})]},o.id))})]})})})})]})})};function lw({options:e,value:t,onValueChange:r,onCreate:s,onNavigateToCreate:a,placeholder:i="Select option...",searchPlaceholder:o="Search...",emptyText:l="No results found.",createText:c="Create new",isLoading:d=!1,disabled:u=!1,className:f}){const[m,h]=v.useState(!1),[x,p]=v.useState(!1),[g,j]=v.useState(""),[y,w]=v.useState(!1),[b,N]=v.useState(""),S=e.find(A=>A.value===t),E=async()=>{if(g.trim()){w(!0);try{if(s){const A=await s(g.trim());r(A.id),p(!1),j(""),h(!1)}}catch(A){console.error("Error creating item:",A)}finally{w(!1)}}},C=()=>{a?(a(),h(!1)):(p(!0),j(b))};return n.jsxs(n.Fragment,{children:[n.jsxs(iw,{open:m,onOpenChange:h,children:[n.jsx(ow,{asChild:!0,children:n.jsxs(ee,{variant:"outline",role:"combobox","aria-expanded":m,className:ve("w-full justify-between",f),disabled:u||d,children:[d?"Loading...":S?S.label:n.jsx("span",{className:"text-muted-foreground",children:i}),n.jsx(mne,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),n.jsx(H0,{className:"w-full p-0",align:"start",children:n.jsxs(cT,{children:[n.jsx(dT,{placeholder:o,value:b,onValueChange:N}),n.jsxs(uT,{children:[n.jsx(aW,{children:n.jsx("div",{className:"text-sm text-muted-foreground py-2",children:l})}),n.jsx(jl,{children:e.map(A=>n.jsxs(oi,{value:A.value,onSelect:P=>{r(P===t?"":P),h(!1)},children:[n.jsx(eo,{className:ve("mr-2 h-4 w-4",t===A.value?"opacity-100":"opacity-0")}),A.label]},A.value))}),n.jsx(jl,{children:n.jsxs(oi,{onSelect:C,className:"text-primary",children:[n.jsx(Fn,{className:"mr-2 h-4 w-4"}),c,b&&!a&&` "${b}"`]})})]})]})})]}),n.jsx(En,{open:x,onOpenChange:p,children:n.jsxs(vn,{children:[n.jsxs(An,{children:[n.jsx(kn,{children:c}),n.jsx(zs,{children:"Enter a name for the new item. Click create when you're done."})]}),n.jsx("div",{className:"grid gap-4 py-4",children:n.jsxs("div",{className:"grid gap-2",children:[n.jsx(G,{htmlFor:"name",children:"Name"}),n.jsx(me,{id:"name",value:g,onChange:A=>j(A.target.value),placeholder:"Enter name...",onKeyDown:A=>{A.key==="Enter"&&(A.preventDefault(),E())}})]})}),n.jsxs(yo,{children:[n.jsx(ee,{variant:"outline",onClick:()=>{p(!1),j("")},disabled:y,children:"Cancel"}),n.jsx(ee,{onClick:E,disabled:y||!g.trim(),children:y?"Creating...":"Create"})]})]})})]})}const c9e=()=>{const[e]=NP(),t=e.get("apartmentId"),r=fr(),{toast:s}=xr(),[a,i]=v.useState({product:"",description:"",category:"",vendor:"",vendor_link:"",sku:"",dimensions:"",weight:"",material:"",color:"",model_number:"",brand:"",country_of_origin:"",sn:"",unit_price:"",qty:1,cost:"",total_cost:"",shipping_cost:"0",discount:"0",currency:"HUF",availability:"In Stock",status:"Design Approved",room:"",link:"",size:"",nm:"",plusz_nm:"",price_per_nm:"",price_per_package:"",nm_per_package:"",all_package:"",package_need_to_order:"",all_price:"",eta:"",ordered_on:"",payment_status:"Unpaid",payment_due_date:"",payment_amount:"",paid_amount:"0",delivery_type:"",delivery_status_tags:"",delivery_address:"",delivery_city:"",delivery_postal_code:"",delivery_country:"",delivery_time_window:"",delivery_instructions:"",delivery_contact_person:"",delivery_contact_phone:"",delivery_contact_email:"",delivery_notes:"",tracking_number:"",condition_on_arrival:"",sender:"",sender_address:"",sender_phone:"",recipient:"",recipient_address:"",recipient_phone:"",recipient_email:"",locker_provider:"",locker_id:"",pickup_provider:"",pickup_location:"",customs_description:"",item_value:"",hs_category:"",insurance:"no",cod:"",pickup_time:"",delivery_deadline:"",special_instructions:"",issue_state:"No Issue",issue_type:"",issue_description:"",replacement_requested:!1,replacement_approved:!1,replacement_eta:"",replacement_of:"",gallery_images:"",attachments:"",notes:"",manual_notes:"",ai_summary_notes:""}),[o,l]=v.useState({}),[c,d]=v.useState(null),[u,f]=v.useState(""),[m,h]=v.useState("basic"),{data:x,isLoading:p}=DO(t),{data:g,isLoading:j,error:y}=eX(t),w=Array.isArray(g)?g:[],{data:b,isLoading:N,error:S}=Zf(),E=(b==null?void 0:b.results)||[],C=ILe(),A=tX();if(v.useEffect(()=>{t||(s({title:"Error",description:"Apartment ID is required",variant:"destructive"}),r("/apartments"))},[t,r,s]),v.useEffect(()=>{y&&!j&&s({title:"Warning",description:"Failed to load categories. You can still add a product by entering the category ID manually.",variant:"destructive"})},[y,j,s]),v.useEffect(()=>{S&&!N&&s({title:"Warning",description:"Failed to load vendors. You can still add a product by entering the vendor ID manually.",variant:"destructive"})},[S,N,s]),p)return n.jsx(ut,{title:"Loading...",children:n.jsx("div",{className:"container mx-auto py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(zt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground",children:"Loading apartment details..."})]})})});const P=T=>{var O;const k=(O=T.target.files)==null?void 0:O[0];if(k){d(k);const M=new FileReader;M.onloadend=()=>{f(M.result)},M.readAsDataURL(k)}},R=()=>{d(null),f("")},I=()=>{const T={};return a.product.trim()||(T.product="Product name is required"),a.category||(T.category="Category is required"),a.vendor||(T.vendor="Vendor is required"),(!a.unit_price||parseFloat(a.unit_price)<=0)&&(T.unit_price="Valid unit price is required"),(!a.qty||a.qty<=0)&&(T.qty="Valid quantity is required"),l(T),Object.keys(T).length===0},z=async T=>{if(T.preventDefault(),!I()){s({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{if(c){const k=new FormData;k.append("apartment",t),k.append("category",a.category),k.append("product",a.product),k.append("vendor",a.vendor),k.append("unit_price",a.unit_price),k.append("qty",a.qty.toString()),k.append("availability",a.availability),k.append("status",a.status),k.append("payment_status",a.payment_status),k.append("paid_amount",a.paid_amount),k.append("currency",a.currency),k.append("issue_state",a.issue_state),k.append("image_file",c),console.log(" Sending FormData with image:"),console.log("  - Image file:",c),console.log("  - File name:",c.name),console.log("  - File size:",c.size),console.log("  - File type:",c.type);for(let O of k.entries())console.log(`  - ${O[0]}:`,O[1]);a.description&&k.append("description",a.description),a.vendor_link&&k.append("vendor_link",a.vendor_link),a.sku&&k.append("sku",a.sku),a.dimensions&&k.append("dimensions",a.dimensions),a.weight&&k.append("weight",a.weight),a.material&&k.append("material",a.material),a.color&&k.append("color",a.color),a.model_number&&k.append("model_number",a.model_number),a.brand&&k.append("brand",a.brand),a.country_of_origin&&k.append("country_of_origin",a.country_of_origin),a.sn&&k.append("sn",a.sn),a.cost&&k.append("cost",a.cost),a.total_cost&&k.append("total_cost",a.total_cost),a.shipping_cost&&k.append("shipping_cost",a.shipping_cost),a.discount&&k.append("discount",a.discount),a.room&&k.append("room",a.room),a.link&&k.append("link",a.link),a.size&&k.append("size",a.size),a.nm&&k.append("nm",a.nm),a.plusz_nm&&k.append("plusz_nm",a.plusz_nm),a.price_per_nm&&k.append("price_per_nm",a.price_per_nm),a.price_per_package&&k.append("price_per_package",a.price_per_package),a.nm_per_package&&k.append("nm_per_package",a.nm_per_package),a.all_package&&k.append("all_package",a.all_package),a.package_need_to_order&&k.append("package_need_to_order",a.package_need_to_order),a.all_price&&k.append("all_price",a.all_price),a.eta&&k.append("eta",a.eta),a.ordered_on&&k.append("ordered_on",a.ordered_on),a.payment_due_date&&k.append("payment_due_date",a.payment_due_date),a.payment_amount&&k.append("payment_amount",a.payment_amount),a.delivery_type&&k.append("delivery_type",a.delivery_type),a.delivery_status_tags&&k.append("delivery_status_tags",a.delivery_status_tags),a.delivery_address&&k.append("delivery_address",a.delivery_address),a.delivery_city&&k.append("delivery_city",a.delivery_city),a.delivery_postal_code&&k.append("delivery_postal_code",a.delivery_postal_code),a.delivery_country&&k.append("delivery_country",a.delivery_country),a.delivery_time_window&&k.append("delivery_time_window",a.delivery_time_window),a.delivery_instructions&&k.append("delivery_instructions",a.delivery_instructions),a.delivery_contact_person&&k.append("delivery_contact_person",a.delivery_contact_person),a.delivery_contact_phone&&k.append("delivery_contact_phone",a.delivery_contact_phone),a.delivery_contact_email&&k.append("delivery_contact_email",a.delivery_contact_email),a.delivery_notes&&k.append("delivery_notes",a.delivery_notes),a.tracking_number&&k.append("tracking_number",a.tracking_number),a.condition_on_arrival&&k.append("condition_on_arrival",a.condition_on_arrival),a.sender&&k.append("sender",a.sender),a.sender_address&&k.append("sender_address",a.sender_address),a.sender_phone&&k.append("sender_phone",a.sender_phone),a.recipient&&k.append("recipient",a.recipient),a.recipient_address&&k.append("recipient_address",a.recipient_address),a.recipient_phone&&k.append("recipient_phone",a.recipient_phone),a.recipient_email&&k.append("recipient_email",a.recipient_email),a.locker_provider&&k.append("locker_provider",a.locker_provider),a.locker_id&&k.append("locker_id",a.locker_id),a.pickup_provider&&k.append("pickup_provider",a.pickup_provider),a.pickup_location&&k.append("pickup_location",a.pickup_location),a.customs_description&&k.append("customs_description",a.customs_description),a.item_value&&k.append("item_value",a.item_value),a.hs_category&&k.append("hs_category",a.hs_category),a.insurance&&k.append("insurance",a.insurance),a.cod&&k.append("cod",a.cod),a.pickup_time&&k.append("pickup_time",a.pickup_time),a.delivery_deadline&&k.append("delivery_deadline",a.delivery_deadline),a.special_instructions&&k.append("special_instructions",a.special_instructions),a.issue_type&&k.append("issue_type",a.issue_type),a.issue_description&&k.append("issue_description",a.issue_description),k.append("replacement_requested",a.replacement_requested.toString()),k.append("replacement_approved",a.replacement_approved.toString()),a.replacement_eta&&k.append("replacement_eta",a.replacement_eta),a.replacement_of&&k.append("replacement_of",a.replacement_of),a.gallery_images&&k.append("gallery_images",a.gallery_images),a.attachments&&k.append("attachments",a.attachments),a.notes&&k.append("notes",a.notes),a.manual_notes&&k.append("manual_notes",a.manual_notes),a.ai_summary_notes&&k.append("ai_summary_notes",a.ai_summary_notes),await C.mutateAsync(k)}else{const k={apartment:t,category:a.category,product:a.product,description:a.description||void 0,vendor:a.vendor,vendor_link:a.vendor_link||void 0,sku:a.sku||void 0,dimensions:a.dimensions||void 0,weight:a.weight||void 0,material:a.material||void 0,color:a.color||void 0,model_number:a.model_number||void 0,brand:a.brand||void 0,country_of_origin:a.country_of_origin||void 0,sn:a.sn||void 0,unit_price:a.unit_price,qty:a.qty,cost:a.cost||void 0,total_cost:a.total_cost||void 0,shipping_cost:a.shipping_cost||void 0,discount:a.discount||void 0,currency:a.currency,availability:a.availability,status:a.status,room:a.room||void 0,link:a.link||void 0,size:a.size||void 0,nm:a.nm||void 0,plusz_nm:a.plusz_nm||void 0,price_per_nm:a.price_per_nm||void 0,price_per_package:a.price_per_package||void 0,nm_per_package:a.nm_per_package||void 0,all_package:a.all_package||void 0,package_need_to_order:a.package_need_to_order||void 0,all_price:a.all_price||void 0,eta:a.eta||null,ordered_on:a.ordered_on||null,payment_status:a.payment_status,payment_due_date:a.payment_due_date||null,payment_amount:a.payment_amount||null,paid_amount:a.paid_amount,delivery_type:a.delivery_type||void 0,delivery_status_tags:a.delivery_status_tags||void 0,delivery_address:a.delivery_address||void 0,delivery_city:a.delivery_city||void 0,delivery_postal_code:a.delivery_postal_code||void 0,delivery_country:a.delivery_country||void 0,delivery_time_window:a.delivery_time_window||void 0,delivery_instructions:a.delivery_instructions||void 0,delivery_contact_person:a.delivery_contact_person||void 0,delivery_contact_phone:a.delivery_contact_phone||void 0,delivery_contact_email:a.delivery_contact_email||void 0,delivery_notes:a.delivery_notes||void 0,tracking_number:a.tracking_number||void 0,condition_on_arrival:a.condition_on_arrival||void 0,sender:a.sender||void 0,sender_address:a.sender_address||void 0,sender_phone:a.sender_phone||void 0,recipient:a.recipient||void 0,recipient_address:a.recipient_address||void 0,recipient_phone:a.recipient_phone||void 0,recipient_email:a.recipient_email||void 0,locker_provider:a.locker_provider||void 0,locker_id:a.locker_id||void 0,pickup_provider:a.pickup_provider||void 0,pickup_location:a.pickup_location||void 0,customs_description:a.customs_description||void 0,item_value:a.item_value||void 0,hs_category:a.hs_category||void 0,insurance:a.insurance||void 0,cod:a.cod||void 0,pickup_time:a.pickup_time||void 0,delivery_deadline:a.delivery_deadline||void 0,special_instructions:a.special_instructions||void 0,issue_state:a.issue_state,issue_type:a.issue_type||void 0,issue_description:a.issue_description||void 0,replacement_requested:a.replacement_requested,replacement_approved:a.replacement_approved,replacement_eta:a.replacement_eta||null,replacement_of:a.replacement_of||void 0,gallery_images:a.gallery_images||void 0,attachments:a.attachments||void 0,notes:a.notes||void 0,manual_notes:a.manual_notes||void 0,ai_summary_notes:a.ai_summary_notes||void 0};await C.mutateAsync(k)}r(`/apartments/${t}`)}catch{}};if(!x)return n.jsx(ut,{title:"Apartment Not Found",children:n.jsx(Y,{children:n.jsxs(X,{className:"py-8",children:[n.jsx("p",{className:"text-center text-muted-foreground",children:"Apartment not found"}),n.jsx("div",{className:"flex justify-center mt-4",children:n.jsx(ee,{onClick:()=>r("/apartments"),children:"Back to Apartments"})})]})})});const U=a.unit_price&&a.qty?parseFloat(a.unit_price)*a.qty+(parseFloat(a.shipping_cost)||0)-(parseFloat(a.discount)||0):0,L=U-(parseFloat(a.paid_amount)||0);return n.jsx(ut,{title:"Add Product",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ca,{children:n.jsxs(Ea,{children:[n.jsx(Jt,{children:n.jsx(Bn,{href:"/apartments",children:"Apartments"})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(Bn,{href:`/apartments/${t}`,children:x.name})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(ni,{children:"Add Product"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>r(`/apartments/${t}`),children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"Add Product"})]}),n.jsx("form",{onSubmit:z,children:n.jsx(Y,{children:n.jsxs(X,{children:[n.jsxs(wo,{value:m,onValueChange:h,children:[n.jsxs($i,{className:"grid w-full grid-cols-4 mt-6",children:[n.jsx(Lt,{value:"basic",children:"Basic Info"}),n.jsx(Lt,{value:"measurements",children:"Measurements"}),n.jsx(Lt,{value:"pricing",children:"Pricing"}),n.jsx(Lt,{value:"additional",children:"Additional"})]}),n.jsxs(Yt,{value:"basic",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Product Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"product",children:"Product Name *"}),n.jsx(me,{id:"product",value:a.product,onChange:T=>i({...a,product:T.target.value}),placeholder:"Modern Sofa"}),o.product&&n.jsx("p",{className:"text-sm text-destructive",children:o.product})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"category",children:"Category *"}),n.jsx(lw,{options:w.map(T=>({value:T.id,label:T.name})),value:a.category,onValueChange:T=>i({...a,category:T}),onCreate:async T=>{const k=await A.mutateAsync({name:T,apartment:t,sheet_name:T});return{id:k.id,name:k.name}},placeholder:"Select category",searchPlaceholder:"Search categories...",emptyText:"No categories found.",createText:"Create new category",isLoading:j}),o.category&&n.jsx("p",{className:"text-sm text-destructive",children:o.category})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"vendor",children:"Vendor *"}),n.jsx(lw,{options:E.map(T=>({value:T.id,label:T.company_name||T.name})),value:a.vendor,onValueChange:T=>i({...a,vendor:T}),onNavigateToCreate:()=>{r("/vendors/new")},placeholder:"Select vendor",searchPlaceholder:"Search vendors...",emptyText:"No vendors found.",createText:"Create new vendor",isLoading:N}),o.vendor&&n.jsx("p",{className:"text-sm text-destructive",children:o.vendor})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"link",children:"Product Link (Optional)"}),n.jsx(me,{id:"link",type:"url",value:a.link,onChange:T=>i({...a,link:T.target.value}),placeholder:"https://example.com/product"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"sku",children:"SKU *"}),n.jsx(me,{id:"sku",value:a.sku,onChange:T=>i({...a,sku:T.target.value}),placeholder:"SOFA-001"}),o.sku&&n.jsx("p",{className:"text-sm text-destructive",children:o.sku})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"room",children:"Room (Optional)"}),n.jsx(me,{id:"room",value:a.room,onChange:T=>i({...a,room:T.target.value}),placeholder:"Living Room, Bedroom, etc."})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"imageFile",children:"Product Image"}),u?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"relative w-full h-48 border rounded-md overflow-hidden bg-muted",children:[n.jsx("img",{src:u,alt:"Product preview",className:"w-full h-full object-contain"}),n.jsx(ee,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:R,children:"Remove"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:c==null?void 0:c.name})]}):n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(me,{id:"imageFile",type:"file",accept:"image/*",onChange:P,className:"cursor-pointer"})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload a product image (JPG, PNG, GIF, etc.)"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"unitPrice",children:"Unit Price (HUF) *"}),n.jsx(me,{id:"unitPrice",type:"number",min:"0",step:"0.01",value:a.unit_price,onChange:T=>i({...a,unit_price:T.target.value}),placeholder:"150000"}),o.unitPrice&&n.jsx("p",{className:"text-sm text-destructive",children:o.unitPrice})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"qty",children:"Quantity *"}),n.jsx(me,{id:"qty",type:"number",min:"1",value:a.qty,onChange:T=>i({...a,qty:parseInt(T.target.value)||1}),placeholder:"1"}),o.qty&&n.jsx("p",{className:"text-sm text-destructive",children:o.qty})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"availability",children:"Availability *"}),n.jsxs(at,{value:a.availability,onValueChange:T=>i({...a,availability:T}),children:[n.jsx(nt,{id:"availability",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"In Stock",children:"In Stock"}),n.jsx(Z,{value:"Backorder",children:"Backorder"}),n.jsx(Z,{value:"Out of Stock",children:"Out of Stock"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"status",children:"Product Status *"}),n.jsxs(at,{value:a.status,onValueChange:T=>i({...a,status:T}),children:[n.jsx(nt,{id:"status",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"Design Approved",children:"Design Approved"}),n.jsx(Z,{value:"Ready To Order",children:"Ready To Order"}),n.jsx(Z,{value:"Ordered",children:"Ordered"}),n.jsx(Z,{value:"Shipped",children:"Shipped"}),n.jsx(Z,{value:"Delivered",children:"Delivered"}),n.jsx(Z,{value:"Damaged",children:"Damaged"}),n.jsx(Z,{value:"Wrong Item",children:"Wrong Item"}),n.jsx(Z,{value:"Missing",children:"Missing"})]})]})]})]})]}),n.jsxs(Yt,{value:"measurements",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Product Specifications"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"dimensions",children:"Dimensions"}),n.jsx(me,{id:"dimensions",value:a.dimensions,onChange:T=>i({...a,dimensions:T.target.value}),placeholder:"120x80x45 cm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"weight",children:"Weight"}),n.jsx(me,{id:"weight",value:a.weight,onChange:T=>i({...a,weight:T.target.value}),placeholder:"25 kg"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"material",children:"Material"}),n.jsx(me,{id:"material",value:a.material,onChange:T=>i({...a,material:T.target.value}),placeholder:"Oak Wood"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"color",children:"Color"}),n.jsx(me,{id:"color",value:a.color,onChange:T=>i({...a,color:T.target.value}),placeholder:"Natural Oak"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"size",children:"Size"}),n.jsx(me,{id:"size",value:a.size,onChange:T=>i({...a,size:T.target.value}),placeholder:"Large"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"NM Measurements (for Flooring/Tiles)"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"nm",children:"NM"}),n.jsx(me,{id:"nm",type:"number",step:"0.01",value:a.nm,onChange:T=>i({...a,nm:T.target.value}),placeholder:"10.5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"plusz_nm",children:"Plus NM"}),n.jsx(me,{id:"plusz_nm",type:"number",step:"0.01",value:a.plusz_nm,onChange:T=>i({...a,plusz_nm:T.target.value}),placeholder:"1.5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"price_per_nm",children:"Price per NM"}),n.jsx(me,{id:"price_per_nm",type:"number",step:"0.01",value:a.price_per_nm,onChange:T=>i({...a,price_per_nm:T.target.value}),placeholder:"5000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"price_per_package",children:"Price per Package"}),n.jsx(me,{id:"price_per_package",type:"number",step:"0.01",value:a.price_per_package,onChange:T=>i({...a,price_per_package:T.target.value}),placeholder:"15000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"nm_per_package",children:"NM per Package"}),n.jsx(me,{id:"nm_per_package",type:"number",step:"0.01",value:a.nm_per_package,onChange:T=>i({...a,nm_per_package:T.target.value}),placeholder:"3"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"package_need_to_order",children:"Package Need to Order"}),n.jsx(me,{id:"package_need_to_order",type:"number",value:a.package_need_to_order,onChange:T=>i({...a,package_need_to_order:T.target.value}),placeholder:"8"})]})]})]})]}),n.jsxs(Yt,{value:"pricing",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Payment Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"total_amount",children:"Total Amount (HUF)"}),n.jsx("div",{className:"h-10 px-3 py-2 rounded-md border border-input bg-muted flex items-center",children:n.jsx("span",{className:"font-semibold text-lg",children:U.toLocaleString()})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: (Unit Price  Qty) + Shipping - Discount"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"shipping_cost",children:"Shipping Cost (Optional)"}),n.jsx(me,{id:"shipping_cost",type:"number",min:"0",step:"0.01",value:a.shipping_cost,onChange:T=>i({...a,shipping_cost:T.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"discount",children:"Discount (Optional)"}),n.jsx(me,{id:"discount",type:"number",min:"0",step:"0.01",value:a.discount,onChange:T=>i({...a,discount:T.target.value}),placeholder:"0"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"paid_amount",children:"Paid Amount"}),n.jsx(me,{id:"paid_amount",type:"number",min:"0",step:"0.01",value:a.paid_amount,onChange:T=>i({...a,paid_amount:T.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Outstanding Balance"}),n.jsx("div",{className:`h-10 px-3 py-2 rounded-md border flex items-center ${L>0?"bg-red-50 border-red-200 text-red-700":"bg-green-50 border-green-200 text-green-700"}`,children:n.jsxs("span",{className:"font-semibold text-lg",children:[L.toLocaleString()," HUF"]})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: Total Amount - Paid Amount"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"paymentStatus",children:"Payment Status *"}),n.jsxs(at,{value:a.payment_status,onValueChange:T=>i({...a,payment_status:T}),children:[n.jsx(nt,{id:"paymentStatus",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"Unpaid",children:"Unpaid"}),n.jsx(Z,{value:"Partially Paid",children:"Partially Paid"}),n.jsx(Z,{value:"Paid",children:"Paid"}),n.jsx(Z,{value:"Overdue",children:"Overdue"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"currency",children:"Currency"}),n.jsxs(at,{value:a.currency,onValueChange:T=>i({...a,currency:T}),children:[n.jsx(nt,{id:"currency",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"HUF",children:"HUF (Hungarian Forint)"}),n.jsx(Z,{value:"EUR",children:"EUR (Euro)"}),n.jsx(Z,{value:"USD",children:"USD (US Dollar)"})]})]})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"paymentDueDate",children:"Payment Due Date *"}),n.jsx(me,{id:"paymentDueDate",type:"date",value:a.payment_due_date,onChange:T=>i({...a,payment_due_date:T.target.value})})]})})]}),n.jsxs(Yt,{value:"additional",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"brand",children:"Brand"}),n.jsx(me,{id:"brand",value:a.brand,onChange:T=>i({...a,brand:T.target.value}),placeholder:"e.g., IKEA, Samsung, etc."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"country_of_origin",children:"Country of Origin"}),n.jsx(me,{id:"country_of_origin",value:a.country_of_origin,onChange:T=>i({...a,country_of_origin:T.target.value}),placeholder:"e.g., Hungary, China, Germany"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"condition_on_arrival",children:"Condition on Arrival"}),n.jsx(me,{id:"condition_on_arrival",value:a.condition_on_arrival,onChange:T=>i({...a,condition_on_arrival:T.target.value}),placeholder:"Good, Damaged, Needs Inspection, etc."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-semibold",children:"Notes & Documentation"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"notes",children:"General Notes"}),n.jsx(ta,{id:"notes",value:a.notes,onChange:T=>i({...a,notes:T.target.value}),placeholder:"General notes about this product...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"manual_notes",children:"Manual Notes"}),n.jsx(ta,{id:"manual_notes",value:a.manual_notes,onChange:T=>i({...a,manual_notes:T.target.value}),placeholder:"Manual notes added by staff...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"ai_summary_notes",children:"AI Summary Notes"}),n.jsx(ta,{id:"ai_summary_notes",value:a.ai_summary_notes,onChange:T=>i({...a,ai_summary_notes:T.target.value}),placeholder:"AI-generated summary and insights...",rows:3}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"AI-generated summaries and recommendations"})]})]})]})]}),n.jsxs("div",{className:"flex gap-4 justify-between mt-6 border-t pt-6",children:[n.jsx("div",{children:m!=="basic"&&n.jsx(ee,{type:"button",variant:"outline",onClick:T=>{T.preventDefault(),T.stopPropagation();const k=["basic","measurements","pricing","additional"],O=k.indexOf(m);O>0&&h(k[O-1])},children:" Previous"})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:T=>{T.preventDefault(),T.stopPropagation(),r(`/apartments/${t}`)},children:"Cancel"}),m!=="additional"?n.jsx(ee,{type:"button",onClick:T=>{T.preventDefault(),T.stopPropagation();const k=["basic","measurements","pricing","additional"],O=k.indexOf(m);O<k.length-1&&h(k[O+1])},children:"Next "}):n.jsxs(ee,{type:"submit",disabled:C.isPending,children:[C.isPending&&n.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),C.isPending?"Adding...":"Add Product"]})]})]})]})})})]})})},d9e=()=>{var w;const{id:e}=Mi(),t=fr(),[r,s]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState({x:0,y:0}),[c,d]=v.useState(!1),{data:u,isLoading:f,error:m}=ZY(e||null),h=u==null?void 0:u.apartment_details,x=null,p=[],g=b=>{const N=b.currentTarget.getBoundingClientRect(),S=(b.clientX-N.left)/N.width*100,E=(b.clientY-N.top)/N.height*100;l({x:S,y:E})};if(v.useEffect(()=>{const b=N=>{N.key==="Escape"&&c&&d(!1)};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[c]),f)return n.jsx(ut,{title:"Loading...",children:n.jsxs("div",{className:"container mx-auto py-8",children:[n.jsx(Ca,{className:"mb-6",children:n.jsxs(Ea,{children:[n.jsx(Jt,{children:n.jsx(_,{className:"h-4 w-20"})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(_,{className:"h-4 w-24"})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(_,{className:"h-4 w-32"})})]})}),n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-8 w-64"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(_,{className:"h-6 w-20"}),n.jsx(_,{className:"h-6 w-24"}),n.jsx(_,{className:"h-6 w-20"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(_,{className:"h-9 w-20"}),n.jsx(_,{className:"h-9 w-24"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[n.jsxs(Y,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-primary/5 to-transparent",children:n.jsx(_,{className:"h-6 w-48"})}),n.jsxs(X,{className:"space-y-4 pt-6",children:[n.jsx(_,{className:"h-20 w-full"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((b,N)=>n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx(_,{className:"h-4 w-16 mb-2"}),n.jsx(_,{className:"h-5 w-24"})]},N))})]})]}),n.jsxs(Y,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-blue-500/5 to-transparent",children:n.jsx(_,{className:"h-6 w-40"})}),n.jsx(X,{className:"pt-6",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(5)].map((b,N)=>n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx(_,{className:"h-4 w-20 mb-2"}),n.jsx(_,{className:"h-5 w-28"})]},N))})})]}),n.jsxs(Y,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-green-500/5 to-transparent",children:n.jsx(_,{className:"h-6 w-44"})}),n.jsx(X,{className:"space-y-6 pt-6",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[...Array(3)].map((b,N)=>n.jsxs("div",{className:"p-4 bg-gradient-to-br from-primary/10 to-primary/5 rounded-lg border-2",children:[n.jsx(_,{className:"h-4 w-16 mb-2"}),n.jsx(_,{className:"h-8 w-32"})]},N))})})]}),n.jsxs(Y,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-orange-500/5 to-transparent",children:n.jsx(_,{className:"h-6 w-48"})}),n.jsxs(X,{className:"space-y-4 pt-6",children:[n.jsx(_,{className:"h-32 w-full"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[...Array(4)].map((b,N)=>n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx(_,{className:"h-4 w-24 mb-2"}),n.jsx(_,{className:"h-5 w-32"})]},N))})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Y,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-slate-500/5 to-transparent",children:n.jsx(_,{className:"h-6 w-32"})}),n.jsx(X,{className:"p-0",children:n.jsx(_,{className:"w-full aspect-square"})})]}),n.jsxs(Y,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-cyan-500/5 to-transparent",children:n.jsx(_,{className:"h-6 w-28"})}),n.jsx(X,{className:"space-y-3 pt-6",children:[...Array(5)].map((b,N)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-5 w-20"})]},N))})]})]})]})]})});if(m||!u)return n.jsx(ut,{title:"Product Not Found",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground mb-4",children:"Product not found"}),n.jsxs(ee,{onClick:()=>t("/apartments"),children:[n.jsx(tr,{className:"mr-2 h-4 w-4"}),"Back to Apartments"]})]})});const j=()=>{window.confirm(`Are you sure you want to delete "${u.product}"?`)&&(Ue.success("Product deleted successfully"),t(`/apartments/${u.apartment}`))},y=b=>{const N=b.toLowerCase();return N.includes("delivered")||N.includes("closed")||N.includes("paid")?"bg-success text-success-foreground":N.includes("issue")||N.includes("damaged")||N.includes("wrong")||N.includes("missing")?"bg-danger text-danger-foreground":N.includes("waiting")||N.includes("pending")||N.includes("partial")?"bg-warning text-warning-foreground":N.includes("ordered")||N.includes("shipped")||N.includes("transit")?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"};return n.jsxs(ut,{title:u.product,children:[n.jsx(Ca,{className:"mb-6",children:n.jsxs(Ea,{children:[n.jsx(Jt,{children:n.jsx(Bn,{asChild:!0,children:n.jsx(Ti,{to:"/apartments",children:"Apartments"})})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(Bn,{asChild:!0,children:n.jsx(Ti,{to:`/apartments/${u.apartment}`,children:(h==null?void 0:h.name)||"Apartment"})})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(ni,{children:u.product})})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-start space-x-2  mb-3",children:[n.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>t(`/apartments/${u.apartment}`),className:"shrink-0",children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold truncate",children:u.product})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[(w=u.status_tags)==null?void 0:w.map(b=>n.jsx(Ce,{className:y(b),children:b},b)),(u.delivery_status_tags||[]).map(b=>n.jsx(Ce,{variant:"outline",className:y(b),children:b},b))]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 sm:flex-nowrap",children:[p.length>0&&n.jsxs(iw,{open:r,onOpenChange:s,children:[n.jsx(ow,{asChild:!0,children:n.jsxs(ee,{variant:"outline",size:"icon",className:"relative shrink-0",children:[n.jsx(zu,{className:"h-4 w-4"}),p.length>0&&n.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-danger text-danger-foreground text-xs flex items-center justify-center",children:p.length})]})}),n.jsx(H0,{className:"w-80",align:"end",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),n.jsx(mu,{className:"h-[300px]",children:n.jsx("div",{className:"space-y-3",children:p.map(b=>n.jsxs("div",{className:"p-3 rounded-lg border border-border bg-muted/30 space-y-1",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("p",{className:"font-medium text-sm",children:b.title}),n.jsx(Ce,{variant:"outline",className:b.type==="success"?"bg-success/10 text-success border-success/20":b.type==="warning"?"bg-warning/10 text-warning border-warning/20":"bg-primary/10 text-primary border-primary/20",children:b.type})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.message}),n.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(b.timestamp).toLocaleString()})]},b.id))})})]})})]}),n.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>t(`/products/${u.id}/edit`),className:"shrink-0",children:[n.jsx($s,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),n.jsxs(ee,{variant:"destructive",size:"sm",onClick:j,className:"shrink-0",children:[n.jsx(on,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[n.jsxs(Y,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-primary/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ct,{className:"h-5 w-5 text-primary"}),"Product Information"]})}),n.jsxs(X,{className:"space-y-6 pt-6",children:[u.description&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Description"}),n.jsx("p",{className:"text-sm leading-relaxed",children:u.description})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(dr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Vendor"})]}),n.jsx("p",{className:"font-semibold",children:u.vendor_name||"-"}),u.vendor_link&&n.jsxs("a",{href:u.vendor_link,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline flex items-center gap-1 mt-1",children:["Visit Website",n.jsx(tP,{className:"h-3 w-3"})]})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(t5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"SKU"})]}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:u.sku||"-"})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(i5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Category"})]}),n.jsx("p",{className:"font-semibold",children:u.category_name||"-"})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(r5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Room"})]}),n.jsx("p",{className:"font-semibold",children:u.room||"-"})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(or,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Availability"})]}),n.jsx(Ce,{variant:u.availability==="In Stock"?"default":"secondary",children:u.availability})]}),u.brand&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(i5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Brand"})]}),n.jsx("p",{className:"font-semibold",children:u.brand})]}),u.model_number&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Sn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Model Number"})]}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:u.model_number})]}),u.sn&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(t5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Serial Number"})]}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:u.sn})]}),u.country_of_origin&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx($l,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Country of Origin"})]}),n.jsx("p",{className:"font-semibold",children:u.country_of_origin})]})]})]})]}),(u.dimensions||u.weight||u.material||u.color||u.size)&&n.jsxs(Y,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-blue-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(N_,{className:"h-5 w-5 text-blue-600"}),"Specifications"]})}),n.jsx(X,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.dimensions&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(N_,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Dimensions"})]}),n.jsx("p",{className:"font-semibold",children:u.dimensions})]}),u.weight&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(L9,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Weight"})]}),n.jsx("p",{className:"font-semibold",children:u.weight})]}),u.material&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(r5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Material"})]}),n.jsx("p",{className:"font-semibold",children:u.material})]}),u.color&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(kne,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Color"})]}),n.jsx("p",{className:"font-semibold",children:u.color})]}),u.size&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(N_,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Size"})]}),n.jsx("p",{className:"font-semibold",children:u.size})]})]})})]}),n.jsxs(Y,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-green-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(br,{className:"h-5 w-5 text-green-600"}),"Pricing & Payment"]})}),n.jsxs(X,{className:"space-y-6 pt-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-4 bg-gradient-to-br from-primary/10 to-primary/5 rounded-lg border-2 border-primary/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Unit Price"}),n.jsxs("p",{className:"text-2xl font-bold text-primary",children:[parseFloat(u.unit_price).toLocaleString()," ",u.currency]})]}),n.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-500/10 to-blue-500/5 rounded-lg border-2 border-blue-500/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Quantity"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:u.qty})]}),n.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-500/10 to-green-500/5 rounded-lg border-2 border-green-500/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[parseFloat(u.total_amount).toLocaleString()," ",u.currency]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[u.shipping_cost&&parseFloat(u.shipping_cost)>0&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Shipping Cost"}),n.jsxs("p",{className:"font-semibold",children:[parseFloat(u.shipping_cost).toLocaleString()," ",u.currency]})]}),u.discount&&parseFloat(u.discount)>0&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Discount"}),n.jsxs("p",{className:"font-semibold text-green-600",children:["-",parseFloat(u.discount).toLocaleString()," ",u.currency]})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Payment Status"}),n.jsx(Ce,{className:y(u.payment_status),children:u.payment_status})]}),u.payment_status_from_orders&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Order Payment Status"}),n.jsx(Ce,{className:y(u.payment_status_from_orders),children:u.payment_status_from_orders})]})]}),(u.payment_amount||u.paid_amount)&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-3",children:[n.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[n.jsx(ns,{className:"h-4 w-4"}),"Payment Details"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.payment_amount&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Payment Amount"}),n.jsxs("p",{className:"font-semibold",children:[parseFloat(u.payment_amount).toLocaleString()," ",u.currency]})]}),u.paid_amount!==void 0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Paid Amount"}),n.jsxs("p",{className:"font-semibold text-green-600",children:[parseFloat(u.paid_amount).toLocaleString()," ",u.currency]})]}),u.outstanding_balance!==void 0&&n.jsxs("div",{className:"col-span-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Outstanding Balance"}),n.jsxs("p",{className:`text-lg font-bold ${parseFloat(u.outstanding_balance)>0?"text-danger":"text-success"}`,children:[parseFloat(u.outstanding_balance).toLocaleString()," ",u.currency]})]})]})]})]})]}),u.order_status_info&&u.order_status_info.length>0&&n.jsxs(Y,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-purple-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ss,{className:"h-5 w-5 text-purple-600"}),"Order Tracking"]})}),n.jsx(X,{className:"pt-6",children:n.jsx("div",{className:"space-y-4",children:u.order_status_info.map((b,N)=>n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ce,{className:y(b.status),children:b.status}),b.po_number&&n.jsxs("span",{className:"text-sm font-mono text-muted-foreground",children:["PO: ",b.po_number]})]}),b.quantity&&n.jsxs("span",{className:"text-sm font-semibold",children:["Qty: ",b.quantity]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[b.placed_on&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Placed On"}),n.jsx("p",{className:"font-medium",children:new Date(b.placed_on).toLocaleDateString()})]}),b.expected_delivery&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Delivery"}),n.jsx("p",{className:"font-medium",children:new Date(b.expected_delivery).toLocaleDateString()})]})]}),b.shipping_address&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Shipping Address"}),n.jsx("p",{className:"text-sm",children:b.shipping_address})]})]},N))})})]}),u.delivery_status_info&&u.delivery_status_info.length>0||u.delivery_address||u.tracking_number?n.jsxs(Y,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-orange-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5 text-orange-600"}),"Delivery Information"]})}),n.jsxs(X,{className:"space-y-6 pt-6",children:[u.delivery_status_info&&u.delivery_status_info.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Delivery Tracking"}),u.delivery_status_info.map((b,N)=>n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ce,{className:y(b.status),children:b.status}),b.priority&&n.jsx(Ce,{variant:"outline",children:b.priority})]}),b.tracking_number&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Tracking Number"}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:b.tracking_number})]}),b.location&&n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(vs,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Current Location"}),n.jsx("p",{className:"text-sm font-medium",children:b.location})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[b.expected_date&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Date"}),n.jsx("p",{className:"font-medium",children:new Date(b.expected_date).toLocaleDateString()})]}),b.actual_date&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Actual Date"}),n.jsx("p",{className:"font-medium",children:new Date(b.actual_date).toLocaleDateString()})]})]})]},N))]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.delivery_type&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Delivery Type"}),n.jsx("p",{className:"font-semibold capitalize",children:u.delivery_type.replace("_"," ")})]}),u.tracking_number&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Tracking Number"}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:u.tracking_number})]}),u.ordered_on&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(jr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Ordered On"})]}),n.jsx("p",{className:"font-semibold",children:new Date(u.ordered_on).toLocaleDateString()})]}),u.expected_delivery_date&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(en,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Delivery"})]}),n.jsx("p",{className:"font-semibold",children:new Date(u.expected_delivery_date).toLocaleDateString()})]}),u.actual_delivery_date&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(or,{className:"h-4 w-4 text-green-600"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Actual Delivery"})]}),n.jsx("p",{className:"font-semibold text-green-600",children:new Date(u.actual_delivery_date).toLocaleDateString()})]}),u.eta&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(jr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"ETA"})]}),n.jsx("p",{className:"font-semibold",children:new Date(u.eta).toLocaleDateString()})]}),u.condition_on_arrival&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Condition on Arrival"}),n.jsx("p",{className:"font-semibold",children:u.condition_on_arrival})]})]}),u.delivery_address&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[n.jsx(vs,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsx("h4",{className:"font-semibold text-sm",children:"Delivery Address"})]}),n.jsx("p",{className:"text-sm mb-1",children:u.delivery_address}),(u.delivery_city||u.delivery_postal_code||u.delivery_country)&&n.jsx("p",{className:"text-sm text-muted-foreground",children:[u.delivery_city,u.delivery_postal_code,u.delivery_country].filter(Boolean).join(", ")})]}),(u.delivery_contact_person||u.delivery_contact_phone||u.delivery_contact_email)&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Delivery Contact"}),u.delivery_contact_person&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:u.delivery_contact_person})]}),u.delivery_contact_phone&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xo,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:`tel:${u.delivery_contact_phone}`,className:"text-sm text-primary hover:underline",children:u.delivery_contact_phone})]}),u.delivery_contact_email&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(cn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:`mailto:${u.delivery_contact_email}`,className:"text-sm text-primary hover:underline",children:u.delivery_contact_email})]})]}),(u.delivery_instructions||u.delivery_notes||u.special_instructions)&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Instructions & Notes"}),u.delivery_instructions&&n.jsxs("div",{className:"mb-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery Instructions"}),n.jsx("p",{className:"text-sm",children:u.delivery_instructions})]}),u.delivery_notes&&n.jsxs("div",{className:"mb-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery Notes"}),n.jsx("p",{className:"text-sm",children:u.delivery_notes})]}),u.special_instructions&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Special Instructions"}),n.jsx("p",{className:"text-sm",children:u.special_instructions})]})]})]})]}):null,(u.notes||u.manual_notes||u.ai_summary_notes)&&n.jsxs(Y,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-indigo-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Sn,{className:"h-5 w-5 text-indigo-600"}),"Notes & Additional Information"]})}),n.jsxs(X,{className:"space-y-4 pt-6",children:[u.notes&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-semibold",children:"General Notes"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:u.notes})]}),u.manual_notes&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-semibold",children:"Manual Notes"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:u.manual_notes})]}),u.ai_summary_notes&&n.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(va,{className:"h-4 w-4 text-primary"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"AI Summary"})]}),n.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:u.ai_summary_notes})]})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[u.product_image?n.jsxs(Y,{className:"border-2 overflow-hidden",children:[n.jsx(we,{className:"bg-gradient-to-r from-slate-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ki,{className:"h-5 w-5"}),"Product Image"]})}),n.jsx(X,{className:"p-0",children:n.jsxs("div",{className:"relative group cursor-pointer overflow-hidden",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onMouseMove:g,onClick:()=>d(!0),children:[n.jsx("img",{src:u.product_image,alt:u.product,className:"w-full object-cover aspect-square transition-transform duration-200",style:{transform:a?"scale(1.5)":"scale(1)",transformOrigin:`${o.x}% ${o.y}%`}}),n.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors duration-200 pointer-events-none"}),n.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/70 text-white text-xs px-3 py-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none flex items-center gap-1.5",children:[n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"})}),"Hover to zoom  Click for fullscreen"]})]})})]}):n.jsx(Y,{className:"border-2",children:n.jsxs(X,{className:"py-24 text-center",children:[n.jsx("div",{className:"mx-auto h-24 w-24 rounded-full bg-muted flex items-center justify-center mb-4",children:n.jsx(ki,{className:"h-12 w-12 text-muted-foreground"})}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"No image available"})]})}),n.jsxs(Y,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-cyan-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(T9,{className:"h-5 w-5 text-cyan-600"}),"Quick Stats"]})}),n.jsxs(X,{className:"space-y-3 pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Ordered"}),u.is_ordered?n.jsx(or,{className:"h-5 w-5 text-green-600"}):n.jsx(El,{className:"h-5 w-5 text-muted-foreground"})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Active Order"}),u.has_active_order?n.jsx(or,{className:"h-5 w-5 text-green-600"}):n.jsx(El,{className:"h-5 w-5 text-muted-foreground"})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Created"}),n.jsx("span",{className:"text-sm font-medium",children:new Date(u.created_at).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Last Updated"}),n.jsx("span",{className:"text-sm font-medium",children:new Date(u.updated_at).toLocaleDateString()})]}),u.created_by&&n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Created By"}),n.jsx("span",{className:"text-sm font-medium",children:u.created_by})]})]})]}),u.issue_state&&u.issue_state!=="No Issue"&&n.jsxs(Y,{className:"border-2 border-danger/50 bg-danger/5",children:[n.jsx(we,{className:"bg-gradient-to-r from-danger/10 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2 text-danger",children:[n.jsx(Ct,{className:"h-5 w-5"}),"Issue Status"]})}),n.jsxs(X,{className:"space-y-4 pt-6",children:[n.jsxs("div",{className:"p-3 bg-background rounded-lg border border-danger/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Current Status"}),n.jsx(Ce,{className:y(u.issue_state),children:u.issue_state})]}),u.issue_status_info&&u.issue_status_info.status!=="No Issue"&&n.jsxs("div",{className:"space-y-3",children:[u.issue_status_info.type&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Issue Type"}),n.jsx("p",{className:"font-semibold",children:u.issue_status_info.type})]}),u.issue_status_info.priority&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Priority"}),n.jsx(Ce,{variant:"outline",children:u.issue_status_info.priority})]}),u.issue_status_info.created_at&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Reported On"}),n.jsx("p",{className:"font-medium",children:new Date(u.issue_status_info.created_at).toLocaleDateString()})]})]}),u.issue_description&&n.jsxs("div",{className:"p-4 bg-background rounded-lg border border-danger/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Description"}),n.jsx("p",{className:"text-sm leading-relaxed",children:u.issue_description})]}),(u.replacement_requested||u.replacement_approved)&&n.jsxs("div",{className:"p-4 bg-warning/10 rounded-lg border border-warning/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-semibold",children:"Replacement Status"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[u.replacement_requested?n.jsx(or,{className:"h-4 w-4 text-warning"}):n.jsx(El,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:"Replacement Requested"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[u.replacement_approved?n.jsx(or,{className:"h-4 w-4 text-success"}):n.jsx(El,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:"Replacement Approved"})]}),u.replacement_eta&&n.jsxs("div",{className:"mt-2 pt-2 border-t",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Replacement ETA"}),n.jsx("p",{className:"text-sm font-medium",children:new Date(u.replacement_eta).toLocaleDateString()})]})]})]})]})]})]})]}),c&&u.product_image&&n.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:()=>d(!1),children:[n.jsx("button",{onClick:()=>d(!1),className:"absolute top-4 right-4 z-10 h-10 w-10 rounded-full bg-white/10 hover:bg-white/20 backdrop-blur-sm flex items-center justify-center transition-colors duration-200 group","aria-label":"Close fullscreen",children:n.jsx(El,{className:"h-6 w-6 text-white group-hover:scale-110 transition-transform"})}),n.jsxs("div",{className:"absolute top-4 left-4 bg-black/50 backdrop-blur-sm text-white px-4 py-2 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium",children:u.product}),n.jsx("p",{className:"text-xs text-white/70 mt-0.5",children:"Press ESC or click outside to close"})]}),n.jsx("img",{src:u.product_image,alt:u.product,className:"max-h-[90vh] max-w-[90vw] object-contain rounded-lg shadow-2xl",onClick:b=>b.stopPropagation()})]}),n.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-3 mt-6 gap-6",children:n.jsx("div",{className:"xl:col-span-2 space-y-6",children:x})})]})};function u9e(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-4 w-12"})]})}function f9e(){return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(_,{className:"h-10 w-10 rounded-md"}),n.jsx(_,{className:"h-9 w-32"})]})}function m9e(){return n.jsx(Y,{children:n.jsxs(X,{children:[n.jsxs("div",{className:"grid w-full grid-cols-4 gap-1 bg-muted p-1 rounded-lg mt-6",children:[n.jsx(_,{className:"h-10 rounded-md"}),n.jsx(_,{className:"h-10 rounded-md"}),n.jsx(_,{className:"h-10 rounded-md"}),n.jsx(_,{className:"h-10 rounded-md"})]}),n.jsxs("div",{className:"space-y-6 mt-6",children:[n.jsx(_,{className:"h-6 w-48"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-36"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-16"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-28"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-28"}),n.jsx(_,{className:"h-48 w-full rounded-md"}),n.jsx(_,{className:"h-3 w-40"})]})}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"flex gap-4 justify-between mt-6 border-t pt-6",children:[n.jsx(_,{className:"h-10 w-24 rounded-md"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(_,{className:"h-10 w-24 rounded-md"}),n.jsx(_,{className:"h-10 w-32 rounded-md"})]})]})]})})}function h9e(){return n.jsx(ut,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(u9e,{}),n.jsx(f9e,{}),n.jsx(m9e,{})]})})}const p9e=()=>{const{id:e}=Mi(),t=fr(),{toast:r}=xr(),{data:s,isLoading:a}=ZY(e),i=s==null?void 0:s.apartment,[o,l]=v.useState({product:"",description:"",category:"",vendor:"",vendor_link:"",sku:"",dimensions:"",weight:"",material:"",color:"",model_number:"",brand:"",country_of_origin:"",sn:"",unit_price:"",qty:1,cost:"",total_cost:"",shipping_cost:"0",discount:"0",currency:"HUF",availability:"In Stock",status:"Design Approved",room:"",link:"",size:"",nm:"",plusz_nm:"",price_per_nm:"",price_per_package:"",nm_per_package:"",all_package:"",package_need_to_order:"",all_price:"",eta:"",ordered_on:"",payment_status:"Unpaid",payment_due_date:"",payment_amount:"",paid_amount:"0",delivery_type:"",delivery_status_tags:"",delivery_address:"",delivery_city:"",delivery_postal_code:"",delivery_country:"",delivery_time_window:"",delivery_instructions:"",delivery_contact_person:"",delivery_contact_phone:"",delivery_contact_email:"",delivery_notes:"",tracking_number:"",condition_on_arrival:"",sender:"",sender_address:"",sender_phone:"",recipient:"",recipient_address:"",recipient_phone:"",recipient_email:"",locker_provider:"",locker_id:"",pickup_provider:"",pickup_location:"",customs_description:"",item_value:"",hs_category:"",insurance:"no",cod:"",pickup_time:"",delivery_deadline:"",special_instructions:"",issue_state:"No Issue",issue_type:"",issue_description:"",replacement_requested:!1,replacement_approved:!1,replacement_eta:"",replacement_of:"",gallery_images:"",attachments:"",notes:"",manual_notes:"",ai_summary_notes:""}),[c,d]=v.useState({}),[u,f]=v.useState(null),[m,h]=v.useState(""),[x,p]=v.useState("basic"),{data:g,isLoading:j,error:y}=eX(i),w=Array.isArray(g)?g:[],{data:b,isLoading:N,error:S}=Zf(),E=(b==null?void 0:b.results)||[],C=JY(),A=tX();if(v.useEffect(()=>{var T;if(s){const k=s;console.log(" Product data loaded:",s),console.log(" Category ID:",s.category),console.log(" Vendor ID:",s.vendor),l({product:k.product||"",description:k.description||"",category:k.category?String(k.category):"",vendor:k.vendor?String(k.vendor):"",vendor_link:k.vendor_link||"",sku:k.sku||"",dimensions:k.dimensions||"",weight:k.weight||"",material:k.material||"",color:k.color||"",model_number:k.model_number||"",brand:k.brand||"",country_of_origin:k.country_of_origin||"",sn:k.sn||"",unit_price:((T=k.unit_price)==null?void 0:T.toString())||"",qty:k.qty||1,cost:k.cost||"",total_cost:k.total_cost||"",shipping_cost:k.shipping_cost||"0",discount:k.discount||"0",currency:k.currency||"HUF",availability:k.availability||"In Stock",status:Array.isArray(k.status)?k.status[0]||"Design Approved":k.status||"Design Approved",room:k.room||"",link:k.link||"",size:k.size||"",nm:k.nm||"",plusz_nm:k.plusz_nm||"",price_per_nm:k.price_per_nm||"",price_per_package:k.price_per_package||"",nm_per_package:k.nm_per_package||"",all_package:k.all_package||"",package_need_to_order:k.package_need_to_order||"",all_price:k.all_price||"",eta:k.eta||"",ordered_on:k.ordered_on||"",payment_status:k.payment_status||"Unpaid",payment_due_date:k.payment_due_date||"",payment_amount:k.payment_amount||"",paid_amount:k.paid_amount||"0",delivery_type:k.delivery_type||"",delivery_status_tags:k.delivery_status_tags||"",delivery_address:k.delivery_address||"",delivery_city:k.delivery_city||"",delivery_postal_code:k.delivery_postal_code||"",delivery_country:k.delivery_country||"",delivery_time_window:k.delivery_time_window||"",delivery_instructions:k.delivery_instructions||"",delivery_contact_person:k.delivery_contact_person||"",delivery_contact_phone:k.delivery_contact_phone||"",delivery_contact_email:k.delivery_contact_email||"",delivery_notes:k.delivery_notes||"",tracking_number:k.tracking_number||"",condition_on_arrival:k.condition_on_arrival||"",sender:k.sender||"",sender_address:k.sender_address||"",sender_phone:k.sender_phone||"",recipient:k.recipient||"",recipient_address:k.recipient_address||"",recipient_phone:k.recipient_phone||"",recipient_email:k.recipient_email||"",locker_provider:k.locker_provider||"",locker_id:k.locker_id||"",pickup_provider:k.pickup_provider||"",pickup_location:k.pickup_location||"",customs_description:k.customs_description||"",item_value:k.item_value||"",hs_category:k.hs_category||"",insurance:k.insurance||"no",cod:k.cod||"",pickup_time:k.pickup_time||"",delivery_deadline:k.delivery_deadline||"",special_instructions:k.special_instructions||"",issue_state:k.issue_state||"No Issue",issue_type:k.issue_type||"",issue_description:k.issue_description||"",replacement_requested:k.replacement_requested||!1,replacement_approved:k.replacement_approved||!1,replacement_eta:k.replacement_eta||"",replacement_of:k.replacement_of||"",gallery_images:k.gallery_images||"",attachments:k.attachments||"",notes:k.notes||"",manual_notes:k.manual_notes||"",ai_summary_notes:k.ai_summary_notes||""}),s.product_image&&h(s.product_image)}},[s]),v.useEffect(()=>{y&&!j&&r({title:"Warning",description:"Failed to load categories. You can still add a product by entering the category ID manually.",variant:"destructive"})},[y,j,r]),v.useEffect(()=>{S&&!N&&r({title:"Warning",description:"Failed to load vendors. You can still add a product by entering the vendor ID manually.",variant:"destructive"})},[S,N,r]),a)return n.jsx(h9e,{});if(!s)return n.jsx(ut,{title:"Product Not Found",children:n.jsx(Y,{children:n.jsxs(X,{className:"py-8",children:[n.jsx("p",{className:"text-center text-muted-foreground",children:"Product not found"}),n.jsx("div",{className:"flex justify-center mt-4",children:n.jsx(ee,{onClick:()=>t("/apartments"),children:"Back to Apartments"})})]})})});const P=T=>{var O;const k=(O=T.target.files)==null?void 0:O[0];if(k){f(k);const M=new FileReader;M.onloadend=()=>{h(M.result)},M.readAsDataURL(k)}},R=()=>{f(null),h("")},I=()=>{const T={};return o.product.trim()||(T.product="Product name is required"),o.category||(T.category="Category is required"),o.vendor||(T.vendor="Vendor is required"),(!o.unit_price||parseFloat(o.unit_price)<=0)&&(T.unit_price="Valid unit price is required"),(!o.qty||o.qty<=0)&&(T.qty="Valid quantity is required"),d(T),Object.keys(T).length===0},z=async T=>{if(T.preventDefault(),!I()){r({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{if(u){const k=new FormData;k.append("category",o.category),k.append("product",o.product),k.append("vendor",o.vendor),k.append("unit_price",o.unit_price),k.append("qty",o.qty.toString()),k.append("availability",o.availability),k.append("status",o.status),k.append("payment_status",o.payment_status),k.append("paid_amount",o.paid_amount),k.append("currency",o.currency),k.append("issue_state",o.issue_state),k.append("image_file",u),console.log(" Sending FormData with image:"),console.log("  - Image file:",u),console.log("  - File name:",u.name),console.log("  - File size:",u.size),console.log("  - File type:",u.type);for(let O of k.entries())console.log(`  - ${O[0]}:`,O[1]);o.description&&k.append("description",o.description),o.vendor_link&&k.append("vendor_link",o.vendor_link),o.sku&&k.append("sku",o.sku),o.dimensions&&k.append("dimensions",o.dimensions),o.weight&&k.append("weight",o.weight),o.material&&k.append("material",o.material),o.color&&k.append("color",o.color),o.model_number&&k.append("model_number",o.model_number),o.brand&&k.append("brand",o.brand),o.country_of_origin&&k.append("country_of_origin",o.country_of_origin),o.sn&&k.append("sn",o.sn),o.cost&&k.append("cost",o.cost),o.total_cost&&k.append("total_cost",o.total_cost),o.shipping_cost&&k.append("shipping_cost",o.shipping_cost),o.discount&&k.append("discount",o.discount),o.room&&k.append("room",o.room),o.link&&k.append("link",o.link),o.size&&k.append("size",o.size),o.nm&&k.append("nm",o.nm),o.plusz_nm&&k.append("plusz_nm",o.plusz_nm),o.price_per_nm&&k.append("price_per_nm",o.price_per_nm),o.price_per_package&&k.append("price_per_package",o.price_per_package),o.nm_per_package&&k.append("nm_per_package",o.nm_per_package),o.all_package&&k.append("all_package",o.all_package),o.package_need_to_order&&k.append("package_need_to_order",o.package_need_to_order),o.all_price&&k.append("all_price",o.all_price),o.eta&&k.append("eta",o.eta),o.ordered_on&&k.append("ordered_on",o.ordered_on),o.payment_due_date&&k.append("payment_due_date",o.payment_due_date),o.payment_amount&&k.append("payment_amount",o.payment_amount),o.delivery_type&&k.append("delivery_type",o.delivery_type),o.delivery_status_tags&&k.append("delivery_status_tags",o.delivery_status_tags),o.delivery_address&&k.append("delivery_address",o.delivery_address),o.delivery_city&&k.append("delivery_city",o.delivery_city),o.delivery_postal_code&&k.append("delivery_postal_code",o.delivery_postal_code),o.delivery_country&&k.append("delivery_country",o.delivery_country),o.delivery_time_window&&k.append("delivery_time_window",o.delivery_time_window),o.delivery_instructions&&k.append("delivery_instructions",o.delivery_instructions),o.delivery_contact_person&&k.append("delivery_contact_person",o.delivery_contact_person),o.delivery_contact_phone&&k.append("delivery_contact_phone",o.delivery_contact_phone),o.delivery_contact_email&&k.append("delivery_contact_email",o.delivery_contact_email),o.delivery_notes&&k.append("delivery_notes",o.delivery_notes),o.tracking_number&&k.append("tracking_number",o.tracking_number),o.condition_on_arrival&&k.append("condition_on_arrival",o.condition_on_arrival),o.sender&&k.append("sender",o.sender),o.sender_address&&k.append("sender_address",o.sender_address),o.sender_phone&&k.append("sender_phone",o.sender_phone),o.recipient&&k.append("recipient",o.recipient),o.recipient_address&&k.append("recipient_address",o.recipient_address),o.recipient_phone&&k.append("recipient_phone",o.recipient_phone),o.recipient_email&&k.append("recipient_email",o.recipient_email),o.locker_provider&&k.append("locker_provider",o.locker_provider),o.locker_id&&k.append("locker_id",o.locker_id),o.pickup_provider&&k.append("pickup_provider",o.pickup_provider),o.pickup_location&&k.append("pickup_location",o.pickup_location),o.customs_description&&k.append("customs_description",o.customs_description),o.item_value&&k.append("item_value",o.item_value),o.hs_category&&k.append("hs_category",o.hs_category),o.insurance&&k.append("insurance",o.insurance),o.cod&&k.append("cod",o.cod),o.pickup_time&&k.append("pickup_time",o.pickup_time),o.delivery_deadline&&k.append("delivery_deadline",o.delivery_deadline),o.special_instructions&&k.append("special_instructions",o.special_instructions),o.issue_type&&k.append("issue_type",o.issue_type),o.issue_description&&k.append("issue_description",o.issue_description),k.append("replacement_requested",o.replacement_requested.toString()),k.append("replacement_approved",o.replacement_approved.toString()),o.replacement_eta&&k.append("replacement_eta",o.replacement_eta),o.replacement_of&&k.append("replacement_of",o.replacement_of),o.notes&&k.append("notes",o.notes),o.manual_notes&&k.append("manual_notes",o.manual_notes),o.ai_summary_notes&&k.append("ai_summary_notes",o.ai_summary_notes),await C.mutateAsync({id:e,data:k})}else{const k={category:o.category,product:o.product,description:o.description||void 0,vendor:o.vendor,vendor_link:o.vendor_link||void 0,sku:o.sku||void 0,dimensions:o.dimensions||void 0,weight:o.weight||void 0,material:o.material||void 0,color:o.color||void 0,model_number:o.model_number||void 0,brand:o.brand||void 0,country_of_origin:o.country_of_origin||void 0,sn:o.sn||void 0,unit_price:o.unit_price,qty:o.qty,shipping_cost:o.shipping_cost||void 0,discount:o.discount||void 0,currency:o.currency,availability:o.availability,status:o.status,room:o.room||void 0,link:o.link||void 0,size:o.size||void 0,nm:o.nm||void 0,price_per_nm:o.price_per_nm||void 0,price_per_package:o.price_per_package||void 0,nm_per_package:o.nm_per_package||void 0,eta:o.eta||null,ordered_on:o.ordered_on||null,payment_status:o.payment_status,payment_due_date:o.payment_due_date||null,payment_amount:o.payment_amount||null,paid_amount:o.paid_amount,delivery_type:o.delivery_type||void 0,delivery_status_tags:o.delivery_status_tags||void 0,delivery_address:o.delivery_address||void 0,delivery_city:o.delivery_city||void 0,delivery_postal_code:o.delivery_postal_code||void 0,delivery_country:o.delivery_country||void 0,delivery_time_window:o.delivery_time_window||void 0,delivery_instructions:o.delivery_instructions||void 0,delivery_contact_person:o.delivery_contact_person||void 0,delivery_contact_phone:o.delivery_contact_phone||void 0,delivery_contact_email:o.delivery_contact_email||void 0,delivery_notes:o.delivery_notes||void 0,tracking_number:o.tracking_number||void 0,condition_on_arrival:o.condition_on_arrival||void 0,delivery_deadline:o.delivery_deadline||void 0,special_instructions:o.special_instructions||void 0,replacement_of:o.replacement_of||void 0,notes:o.notes||void 0,manual_notes:o.manual_notes||void 0,ai_summary_notes:o.ai_summary_notes||void 0};await C.mutateAsync({id:e,data:k})}r({title:"Product Updated",description:"Product has been updated successfully."}),t(`/products/${e}`)}catch{}},U=o.unit_price&&o.qty?parseFloat(o.unit_price)*o.qty+(parseFloat(o.shipping_cost)||0)-(parseFloat(o.discount)||0):0,L=U-(parseFloat(o.paid_amount)||0);return n.jsx(ut,{title:"Edit Product",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ca,{children:n.jsxs(Ea,{children:[n.jsx(Jt,{children:n.jsx(Bn,{href:"/apartments",children:"Apartments"})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(Bn,{href:`/apartments/${i}`,children:"Apartment"})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(Bn,{href:`/products/${e}`,children:s.product})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(ni,{children:"Edit"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>t(`/products/${e}`),children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"Edit Product"})]}),n.jsx("form",{onSubmit:z,children:n.jsx(Y,{children:n.jsxs(X,{children:[n.jsxs(wo,{value:x,onValueChange:p,children:[n.jsxs($i,{className:"grid w-full grid-cols-4 mt-6",children:[n.jsx(Lt,{value:"basic",children:"Basic Info"}),n.jsx(Lt,{value:"measurements",children:"Measurements"}),n.jsx(Lt,{value:"pricing",children:"Pricing"}),n.jsx(Lt,{value:"additional",children:"Additional"})]}),n.jsxs(Yt,{value:"basic",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Product Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"product",children:"Product Name *"}),n.jsx(me,{id:"product",value:o.product,onChange:T=>l({...o,product:T.target.value}),placeholder:"Modern Sofa"}),c.product&&n.jsx("p",{className:"text-sm text-destructive",children:c.product})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"category",children:"Category *"}),n.jsx(lw,{options:w.map(T=>({value:T.id,label:T.name})),value:o.category,onValueChange:T=>l({...o,category:T}),onCreate:async T=>{const k=await A.mutateAsync({name:T,apartment:i,sheet_name:T});return{id:k.id,name:k.name}},placeholder:"Select category",searchPlaceholder:"Search categories...",emptyText:"No categories found.",createText:"Create new category",isLoading:j}),c.category&&n.jsx("p",{className:"text-sm text-destructive",children:c.category})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"vendor",children:"Vendor *"}),n.jsx(lw,{options:E.map(T=>({value:T.id,label:T.company_name||T.name})),value:o.vendor,onValueChange:T=>l({...o,vendor:T}),onNavigateToCreate:()=>{t("/vendors/new")},placeholder:"Select vendor",searchPlaceholder:"Search vendors...",emptyText:"No vendors found.",createText:"Create new vendor",isLoading:N}),c.vendor&&n.jsx("p",{className:"text-sm text-destructive",children:c.vendor})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"link",children:"Product Link (Optional)"}),n.jsx(me,{id:"link",type:"url",value:o.link,onChange:T=>l({...o,link:T.target.value}),placeholder:"https://example.com/product"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"sku",children:"SKU *"}),n.jsx(me,{id:"sku",value:o.sku,onChange:T=>l({...o,sku:T.target.value}),placeholder:"SOFA-001"}),c.sku&&n.jsx("p",{className:"text-sm text-destructive",children:c.sku})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"room",children:"Room (Optional)"}),n.jsx(me,{id:"room",value:o.room,onChange:T=>l({...o,room:T.target.value}),placeholder:"Living Room, Bedroom, etc."})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"imageFile",children:"Product Image"}),m?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"relative w-full h-48 border rounded-md overflow-hidden bg-muted",children:[n.jsx("img",{src:m,alt:"Product preview",className:"w-full h-full object-contain"}),n.jsx(ee,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:R,children:"Remove"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:u==null?void 0:u.name})]}):n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(me,{id:"imageFile",type:"file",accept:"image/*",onChange:P,className:"cursor-pointer"})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload a product image (JPG, PNG, GIF, etc.)"})]})}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"unitPrice",children:"Unit Price (HUF) *"}),n.jsx(me,{id:"unitPrice",type:"number",min:"0",step:"0.01",value:o.unit_price,onChange:T=>l({...o,unit_price:T.target.value}),placeholder:"150000"}),c.unitPrice&&n.jsx("p",{className:"text-sm text-destructive",children:c.unitPrice})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"qty",children:"Quantity *"}),n.jsx(me,{id:"qty",type:"number",min:"1",value:o.qty,onChange:T=>l({...o,qty:parseInt(T.target.value)||1}),placeholder:"1"}),c.qty&&n.jsx("p",{className:"text-sm text-destructive",children:c.qty})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"availability",children:"Availability *"}),n.jsxs(at,{value:o.availability,onValueChange:T=>l({...o,availability:T}),children:[n.jsx(nt,{id:"availability",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"In Stock",children:"In Stock"}),n.jsx(Z,{value:"Backorder",children:"Backorder"}),n.jsx(Z,{value:"Out of Stock",children:"Out of Stock"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"status",children:"Product Status *"}),n.jsxs(at,{value:o.status,onValueChange:T=>l({...o,status:T}),children:[n.jsx(nt,{id:"status",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"Design Approved",children:"Design Approved"}),n.jsx(Z,{value:"Ready To Order",children:"Ready To Order"}),n.jsx(Z,{value:"Ordered",children:"Ordered"}),n.jsx(Z,{value:"Shipped",children:"Shipped"}),n.jsx(Z,{value:"Delivered",children:"Delivered"}),n.jsx(Z,{value:"Damaged",children:"Damaged"}),n.jsx(Z,{value:"Wrong Item",children:"Wrong Item"}),n.jsx(Z,{value:"Missing",children:"Missing"})]})]})]})]})]}),n.jsxs(Yt,{value:"measurements",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Product Specifications"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"dimensions",children:"Dimensions"}),n.jsx(me,{id:"dimensions",value:o.dimensions,onChange:T=>l({...o,dimensions:T.target.value}),placeholder:"120x80x45 cm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"weight",children:"Weight"}),n.jsx(me,{id:"weight",value:o.weight,onChange:T=>l({...o,weight:T.target.value}),placeholder:"25 kg"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"material",children:"Material"}),n.jsx(me,{id:"material",value:o.material,onChange:T=>l({...o,material:T.target.value}),placeholder:"Oak Wood"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"color",children:"Color"}),n.jsx(me,{id:"color",value:o.color,onChange:T=>l({...o,color:T.target.value}),placeholder:"Natural Oak"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"size",children:"Size"}),n.jsx(me,{id:"size",value:o.size,onChange:T=>l({...o,size:T.target.value}),placeholder:"Large"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"NM Measurements (for Flooring/Tiles)"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"nm",children:"NM"}),n.jsx(me,{id:"nm",type:"number",step:"0.01",value:o.nm,onChange:T=>l({...o,nm:T.target.value}),placeholder:"10.5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"plusz_nm",children:"Plus NM"}),n.jsx(me,{id:"plusz_nm",type:"number",step:"0.01",value:o.plusz_nm,onChange:T=>l({...o,plusz_nm:T.target.value}),placeholder:"1.5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"price_per_nm",children:"Price per NM"}),n.jsx(me,{id:"price_per_nm",type:"number",step:"0.01",value:o.price_per_nm,onChange:T=>l({...o,price_per_nm:T.target.value}),placeholder:"5000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"price_per_package",children:"Price per Package"}),n.jsx(me,{id:"price_per_package",type:"number",step:"0.01",value:o.price_per_package,onChange:T=>l({...o,price_per_package:T.target.value}),placeholder:"15000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"nm_per_package",children:"NM per Package"}),n.jsx(me,{id:"nm_per_package",type:"number",step:"0.01",value:o.nm_per_package,onChange:T=>l({...o,nm_per_package:T.target.value}),placeholder:"3"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"package_need_to_order",children:"Package Need to Order"}),n.jsx(me,{id:"package_need_to_order",type:"number",value:o.package_need_to_order,onChange:T=>l({...o,package_need_to_order:T.target.value}),placeholder:"8"})]})]})]})]}),n.jsxs(Yt,{value:"pricing",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Payment Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"total_amount",children:"Total Amount (HUF)"}),n.jsx("div",{className:"h-10 px-3 py-2 rounded-md border border-input bg-muted flex items-center",children:n.jsx("span",{className:"font-semibold text-lg",children:U.toLocaleString()})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: (Unit Price  Qty) + Shipping - Discount"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"shipping_cost",children:"Shipping Cost (Optional)"}),n.jsx(me,{id:"shipping_cost",type:"number",min:"0",step:"0.01",value:o.shipping_cost,onChange:T=>l({...o,shipping_cost:T.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"discount",children:"Discount (Optional)"}),n.jsx(me,{id:"discount",type:"number",min:"0",step:"0.01",value:o.discount,onChange:T=>l({...o,discount:T.target.value}),placeholder:"0"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"paid_amount",children:"Paid Amount"}),n.jsx(me,{id:"paid_amount",type:"number",min:"0",step:"0.01",value:o.paid_amount,onChange:T=>l({...o,paid_amount:T.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Outstanding Balance"}),n.jsx("div",{className:`h-10 px-3 py-2 rounded-md border flex items-center ${L>0?"bg-red-50 border-red-200 text-red-700":"bg-green-50 border-green-200 text-green-700"}`,children:n.jsxs("span",{className:"font-semibold text-lg",children:[L.toLocaleString()," HUF"]})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: Total Amount - Paid Amount"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"paymentStatus",children:"Payment Status *"}),n.jsxs(at,{value:o.payment_status,onValueChange:T=>l({...o,payment_status:T}),children:[n.jsx(nt,{id:"paymentStatus",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"Unpaid",children:"Unpaid"}),n.jsx(Z,{value:"Partially Paid",children:"Partially Paid"}),n.jsx(Z,{value:"Paid",children:"Paid"}),n.jsx(Z,{value:"Overdue",children:"Overdue"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"currency",children:"Currency"}),n.jsxs(at,{value:o.currency,onValueChange:T=>l({...o,currency:T}),children:[n.jsx(nt,{id:"currency",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"HUF",children:"HUF (Hungarian Forint)"}),n.jsx(Z,{value:"EUR",children:"EUR (Euro)"}),n.jsx(Z,{value:"USD",children:"USD (US Dollar)"})]})]})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"paymentDueDate",children:"Payment Due Date *"}),n.jsx(me,{id:"paymentDueDate",type:"date",value:o.payment_due_date,onChange:T=>l({...o,payment_due_date:T.target.value})})]})})]}),n.jsxs(Yt,{value:"additional",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"brand",children:"Brand"}),n.jsx(me,{id:"brand",value:o.brand,onChange:T=>l({...o,brand:T.target.value}),placeholder:"e.g., IKEA, Samsung, etc."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"country_of_origin",children:"Country of Origin"}),n.jsx(me,{id:"country_of_origin",value:o.country_of_origin,onChange:T=>l({...o,country_of_origin:T.target.value}),placeholder:"e.g., Hungary, China, Germany"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"condition_on_arrival",children:"Condition on Arrival"}),n.jsx(me,{id:"condition_on_arrival",value:o.condition_on_arrival,onChange:T=>l({...o,condition_on_arrival:T.target.value}),placeholder:"Good, Damaged, Needs Inspection, etc."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-semibold",children:"Notes & Documentation"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"notes",children:"General Notes"}),n.jsx(ta,{id:"notes",value:o.notes,onChange:T=>l({...o,notes:T.target.value}),placeholder:"General notes about this product...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"manual_notes",children:"Manual Notes"}),n.jsx(ta,{id:"manual_notes",value:o.manual_notes,onChange:T=>l({...o,manual_notes:T.target.value}),placeholder:"Manual notes added by staff...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"ai_summary_notes",children:"AI Summary Notes"}),n.jsx(ta,{id:"ai_summary_notes",value:o.ai_summary_notes,onChange:T=>l({...o,ai_summary_notes:T.target.value}),placeholder:"AI-generated summary and insights...",rows:3}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"AI-generated summaries and recommendations"})]})]})]})]}),n.jsxs("div",{className:"flex gap-4 justify-between mt-6 border-t pt-6",children:[n.jsx("div",{children:x!=="basic"&&n.jsx(ee,{type:"button",variant:"outline",onClick:T=>{T.preventDefault(),T.stopPropagation();const k=["basic","measurements","pricing","additional"],O=k.indexOf(x);O>0&&p(k[O-1])},children:" Previous"})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:T=>{T.preventDefault(),T.stopPropagation(),t(`/products/${e}`)},children:"Cancel"}),x!=="additional"?n.jsx(ee,{type:"button",onClick:T=>{T.preventDefault(),T.stopPropagation();const k=["basic","measurements","pricing","additional"],O=k.indexOf(x);O<k.length-1&&p(k[O+1])},children:"Next "}):n.jsxs(ee,{type:"submit",disabled:C.isPending,children:[C.isPending&&n.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),C.isPending?"Saving...":"Save Changes"]})]})]})]})})})]})})},x9e=jp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Pd=v.forwardRef(({className:e,variant:t,...r},s)=>n.jsx("div",{ref:s,role:"alert",className:ve(x9e({variant:t}),e),...r}));Pd.displayName="Alert";const g9e=v.forwardRef(({className:e,...t},r)=>n.jsx("h5",{ref:r,className:ve("mb-1 font-medium leading-none tracking-tight",e),...t}));g9e.displayName="AlertTitle";const Td=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ve("text-sm [&_p]:leading-relaxed",e),...t}));Td.displayName="AlertDescription";const v9e=()=>{const e=fr(),[t]=NP(),r=t.get("apartmentId"),{toast:s}=xr(),[a,i]=v.useState(null),[o,l]=v.useState(!1),[c,d]=v.useState(0),[u,f]=v.useState(null),[m,h]=v.useState(""),[x,p]=v.useState(""),{data:g,isLoading:j}=Zf(),y=(g==null?void 0:g.results)||[],w=E=>E<1024?E+" B":E<1024*1024?(E/1024).toFixed(2)+" KB":(E/(1024*1024)).toFixed(2)+" MB",b=E=>{var A;const C=(A=E.target.files)==null?void 0:A[0];if(C){if(!C.name.match(/\.(xlsx|xls|csv)$/i)){Ue.error("Please select a valid Excel or CSV file");return}if(C.size>50*1024*1024){Ue.error("File too large. Maximum size is 50MB");return}i(C),h(w(C.size)),f(null)}},N=async()=>{var E,C;if(!a||!r){Ue.error("Please select a file");return}l(!0),d(0);try{const A=setInterval(()=>{d(R=>R>=90?(clearInterval(A),90):R+10)},200);console.log(" DEBUG: Sending import request with:",{file:a.name,apartmentId:r,selectedVendorId:x||"none"});const P=await Oi.importProducts(a,r,x||"");clearInterval(A),d(100),f(P),s({title:"Import Successful!",description:n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-semibold",children:P.message}),n.jsxs("p",{className:"text-sm",children:["Total products: ",P.total_products]}),n.jsxs("p",{className:"text-sm",children:["Successfully imported: ",P.successful_imports]}),P.failed_imports>0&&n.jsxs("p",{className:"text-sm text-yellow-600",children:["Failed: ",P.failed_imports]})]})}),setTimeout(()=>{e(`/apartments/${r}`)},2e3)}catch(A){console.error("Import error:",A),s({title:"Import Failed",description:((C=(E=A.response)==null?void 0:E.data)==null?void 0:C.message)||A.message||"Failed to import products. Please try again.",variant:"destructive"}),d(0)}finally{l(!1)}},S=async()=>{try{const E=await Oi.downloadImportTemplate(),C=window.URL.createObjectURL(E),A=document.createElement("a");A.href=C,A.download="apartment-template.xlsx",document.body.appendChild(A),A.click(),window.URL.revokeObjectURL(C),document.body.removeChild(A),Ue.success("Template downloaded successfully")}catch{Ue.error("Failed to download template")}};return n.jsx(ut,{title:"Import Products",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ee,{variant:"ghost",onClick:()=>e(-1),disabled:o,children:[n.jsx(tr,{className:"mr-2 h-4 w-4"}),"Back"]}),n.jsxs(Y,{children:[n.jsxs(we,{children:[n.jsx(Ve,{className:"text-xl",children:"Select Vendor (Optional)"}),n.jsx(Tr,{className:"mt-1",children:"Optionally choose a vendor to assign to all imported products"})]}),n.jsx(X,{children:n.jsxs(at,{value:x,onValueChange:p,disabled:o,children:[n.jsx(nt,{className:"w-full",children:n.jsx(it,{placeholder:"Select a vendor"})}),n.jsx(st,{children:j?n.jsx(Z,{value:"loading",disabled:!0,children:"Loading vendors..."}):y.length===0?n.jsx(Z,{value:"no-vendors",disabled:!0,children:"No vendors available"}):y.map(E=>n.jsx(Z,{value:E.id,children:E.name},E.id))})]})})]}),n.jsxs(Y,{className:"border-2 border-dashed",children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Upload File"}),n.jsx(Tr,{className:"mt-1",children:"Select an Excel (.xlsx, .xls) or CSV file (max 50MB)"})]}),a&&m&&n.jsx(Ce,{variant:"secondary",className:"text-sm",children:m})]})}),n.jsx(X,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:b,className:"hidden",disabled:o}),n.jsx(ee,{variant:"outline",asChild:!0,disabled:o,className:"relative overflow-hidden",children:n.jsx("span",{children:o?n.jsxs(n.Fragment,{children:[n.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Pi,{className:"mr-2 h-4 w-4"}),"Choose File"]})})})]}),a&&!o&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rP,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium",children:a.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:m})]})]})]}),o&&c>0&&n.jsxs("div",{className:"space-y-2 p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"font-medium",children:"Uploading and processing..."}),n.jsxs("span",{className:"text-muted-foreground",children:[c.toFixed(0),"%"]})]}),n.jsx(A2,{value:c,className:"h-2"})]}),n.jsx("div",{className:"flex justify-start",children:n.jsxs(ee,{variant:"outline",size:"sm",onClick:S,disabled:o,children:[n.jsx(xv,{className:"mr-2 h-4 w-4"}),"Download Template"]})})]})})]}),u&&n.jsxs(Y,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Import Results"}),n.jsx(Tr,{children:"Summary of the import operation"})]}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs(Pd,{children:[n.jsx(Lr,{className:"h-4 w-4 text-success"}),n.jsxs(Td,{children:[n.jsx("div",{className:"font-semibold",children:"Total Products"}),n.jsx("div",{className:"text-2xl",children:u.total_products})]})]}),n.jsxs(Pd,{children:[n.jsx(Lr,{className:"h-4 w-4 text-success"}),n.jsxs(Td,{children:[n.jsx("div",{className:"font-semibold",children:"Successfully Imported"}),n.jsx("div",{className:"text-2xl text-green-600",children:u.successful_imports})]})]}),u.failed_imports>0&&n.jsxs(Pd,{variant:"destructive",children:[n.jsx(Ct,{className:"h-4 w-4"}),n.jsxs(Td,{children:[n.jsx("div",{className:"font-semibold",children:"Failed"}),n.jsx("div",{className:"text-2xl",children:u.failed_imports})]})]})]}),u.errors&&u.errors.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Errors:"}),n.jsx("div",{className:"space-y-1",children:u.errors.map((E,C)=>n.jsx("div",{className:"text-sm text-destructive bg-destructive/10 p-2 rounded",children:E},C))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(ee,{onClick:()=>e(`/apartments/${r}`),children:[n.jsx(Lr,{className:"mr-2 h-4 w-4"}),"View Products"]})})]})]}),a&&!u&&n.jsx(Y,{children:n.jsx(X,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(ee,{variant:"outline",onClick:()=>{i(null),h("")},disabled:o,children:"Clear"}),n.jsx(ee,{onClick:N,disabled:!a||o,className:"min-w-[200px]",children:o?n.jsxs(n.Fragment,{children:[n.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Pi,{className:"mr-2 h-4 w-4"}),"Import Products"]})})]})})})]})})},y9e=({open:e,onOpenChange:t,order:r})=>{const{toast:s}=xr(),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),m=x=>{if(x.preventDefault(),!a){s({title:"Validation Error",description:"Please enter a tracking number",variant:"destructive"});return}s({title:"Tracking Updated",description:`Delivery tracking updated for ${r==null?void 0:r.po_number}`}),t(!1)};if(!r)return null;const h=[{date:"2025-11-06 16:45",status:"Out for Delivery",location:"Local Hub - Budapest",description:"Package is out for delivery and will arrive today",active:!0},{date:"2025-11-06 09:15",status:"In Transit",location:"Distribution Center",description:"Package is on the way to delivery location",active:!1},{date:"2025-11-05 14:30",status:"Package Dispatched",location:"Warehouse - Budapest",description:"Package has been dispatched from warehouse",active:!1}];return n.jsx(En,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsx(An,{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg",children:n.jsx(wr,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx(kn,{className:"text-lg font-bold",children:"Delivery Tracking"}),n.jsxs(zs,{className:"text-sm",children:["Track delivery for ",r.po_number]})]})]})}),n.jsx(Rt,{}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:n.jsxs("div",{className:"space-y-4 p-1",children:[n.jsx(Y,{className:"border bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-950/20 dark:to-cyan-950/20",children:n.jsxs(X,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-blue-600/10 rounded",children:n.jsx(ct,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Status"}),n.jsx("p",{className:"text-sm font-bold",children:r.status})]})]}),n.jsx(Ce,{className:"bg-blue-600 text-white text-xs px-2 py-1",children:r.tracking||"No Tracking"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-blue-200 dark:border-blue-800",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vs,{className:"h-3.5 w-3.5 text-blue-600 dark:text-blue-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"To"}),n.jsx("p",{className:"text-sm font-medium",children:r.apartment})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ene,{className:"h-3.5 w-3.5 text-blue-600 dark:text-blue-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"From"}),n.jsx("p",{className:"text-sm font-medium",children:r.vendor})]})]})]})]})}),r.tracking&&n.jsx(Y,{className:"border",children:n.jsxs(X,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 mb-3 border-b",children:[n.jsx("div",{className:"p-1 bg-primary/10 rounded",children:n.jsx(jr,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Tracking History"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery updates"})]})]}),n.jsx("div",{className:"space-y-4",children:h.map((x,p)=>n.jsxs("div",{className:"flex gap-3 relative",children:[p!==h.length-1&&n.jsx("div",{className:"absolute left-3.5 top-8 bottom-0 w-0.5 bg-gradient-to-b from-primary to-muted"}),n.jsx("div",{className:"relative flex-shrink-0",children:n.jsx("div",{className:`w-7 h-7 rounded-full border-2 border-background flex items-center justify-center ${x.active?"bg-primary shadow-md":"bg-muted"}`,children:x.active?n.jsx(wr,{className:"h-3.5 w-3.5 text-primary-foreground"}):n.jsx(or,{className:"h-3.5 w-3.5 text-muted-foreground"})})}),n.jsxs("div",{className:`flex-1 pb-2 ${x.active?"pt-0.5":""}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsx("p",{className:`font-semibold text-sm ${x.active?"text-primary":""}`,children:x.status}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:x.date})]}),n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(vs,{className:"h-3 w-3"}),x.location]})]})]},p))})]})}),n.jsx(Y,{className:"border",children:n.jsxs(X,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 mb-3 border-b",children:[n.jsx("div",{className:"p-1 bg-primary/10 rounded",children:n.jsx(ct,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Update Tracking"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Modify delivery details"})]})]}),n.jsxs("form",{onSubmit:m,className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(G,{htmlFor:"tracking",className:"flex items-center gap-1.5 text-xs font-medium",children:[n.jsx(ct,{className:"h-3 w-3 text-primary"}),"Tracking Number *"]}),n.jsx(me,{id:"tracking",placeholder:"TRK-99234",value:a,onChange:x=>i(x.target.value),defaultValue:r.tracking,className:"h-9 text-sm"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(G,{htmlFor:"estimated",className:"flex items-center gap-1.5 text-xs font-medium",children:[n.jsx(en,{className:"h-3 w-3 text-primary"}),"Delivery Date"]}),n.jsx(me,{id:"estimated",type:"date",value:o,onChange:x=>l(x.target.value),className:"h-9 text-sm"})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(G,{htmlFor:"person",className:"flex items-center gap-1.5 text-xs font-medium",children:[n.jsx(qn,{className:"h-3 w-3 text-primary"}),"Courier / Person"]}),n.jsx(me,{id:"person",placeholder:"Delivery person or courier service",value:c,onChange:x=>d(x.target.value),className:"h-9 text-sm"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(G,{htmlFor:"notes",className:"text-xs font-medium",children:"Notes"}),n.jsx(Mn,{id:"notes",placeholder:"Special instructions or notes...",value:u,onChange:x=>f(x.target.value),rows:3,className:"resize-none text-sm"})]}),n.jsx(Rt,{className:"my-3"}),n.jsxs(yo,{className:"gap-2",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>t(!1),size:"sm",children:"Cancel"}),n.jsxs(ee,{type:"submit",className:"gap-1.5",size:"sm",children:[n.jsx(or,{className:"h-3.5 w-3.5"}),"Update"]})]})]})]})})]})})]})})},s$={draft:"sent",sent:"sent",Draft:"sent",Sent:"sent"},a$={draft:"Draft",sent:"Sent"},j9e=({open:e,onOpenChange:t,order:r,onStatusUpdate:s})=>{const{toast:a}=xr(),[i,o]=v.useState("");if(!r)return null;const l=r.status.toLowerCase(),c=s$[r.status]||s$[l],d=l==="sent",u=a$[l]||r.status,f=a$[c]||c,m=x=>{if(x.preventDefault(),d){a({title:"Already Sent",description:"This order has already been sent to vendor. Track fulfillment in Deliveries page.",variant:"default"});return}s(r.id,c),a({title:"Status Updated",description:`Order ${r.po_number} status changed to ${f}`}),o(""),t(!1)},h=x=>{const p=x.toLowerCase();return{draft:"bg-gray-500/10 text-gray-500",sent:"bg-blue-500/10 text-blue-500"}[p]||"bg-gray-500/10 text-gray-500"};return n.jsx(En,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-md",children:[n.jsxs(An,{children:[n.jsxs(kn,{className:"flex items-center gap-2",children:[n.jsx(or,{className:"h-5 w-5"}),"Update Order Status"]}),n.jsxs(zs,{children:["Change the status of order ",r.po_number]})]}),n.jsxs("form",{onSubmit:m,className:"space-y-4",children:[n.jsx("div",{className:"bg-muted p-4 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-center gap-4",children:[n.jsx(Ce,{className:h(r.status),children:u}),n.jsx(jb,{className:"h-5 w-5 text-muted-foreground"}),n.jsx(Ce,{className:h(c),children:f})]})}),d?n.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4 text-center",children:[n.jsx(or,{className:"h-12 w-12 text-blue-500 mx-auto mb-2"}),n.jsx("p",{className:"text-sm font-medium",children:"Order Already Sent"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Track fulfillment in the Deliveries page"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsx("p",{className:"font-medium",children:"What happens next?"}),n.jsx("ul",{className:"space-y-1 text-muted-foreground ml-4 list-disc text-xs",children:c==="sent"&&n.jsxs(n.Fragment,{children:[n.jsx("li",{children:"Order will be marked as sent to vendor"}),n.jsx("li",{children:"Create a delivery record to track fulfillment"}),n.jsx("li",{children:"Vendor will confirm and ship items"})]})})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(G,{htmlFor:"notes",className:"text-sm",children:"Notes (Optional)"}),n.jsx(Mn,{id:"notes",placeholder:"Add any notes about this status change...",value:i,onChange:x=>o(x.target.value),rows:3,className:"text-sm"})]})]}),n.jsxs(yo,{children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>t(!1),size:"sm",children:"Cancel"}),!d&&n.jsxs(ee,{type:"submit",size:"sm",children:["Update to ",f]})]})]})]})})},Oa=ur.create({baseURL:Fi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});Oa.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Oa.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});const Zs={getOrders:async e=>(await Oa.get("/orders/",{params:e})).data,getOrder:async e=>(await Oa.get(`/orders/${e}/`)).data,createOrder:async e=>(await Oa.post("/orders/",e)).data,updateOrder:async(e,t)=>(await Oa.patch(`/orders/${e}/`,t)).data,deleteOrder:async e=>{await Oa.delete(`/orders/${e}/`)},getStatistics:async()=>(await Oa.get("/orders/statistics/")).data,updateStatus:async(e,t)=>(await Oa.patch(`/orders/${e}/`,{status:t})).data,markDelivered:async(e,t)=>(await Oa.patch(`/orders/${e}/`,{status:"delivered",actual_delivery:t||new Date().toISOString().split("T")[0],is_delivered:!0})).data,getVendorOrders:async e=>(await Oa.get("/orders/",{params:{vendor:e}})).data,getApartmentOrders:async e=>(await Oa.get("/orders/",{params:{apartment:e}})).data,getDashboardCharts:async()=>(await Oa.get("/dashboard/charts/")).data,importOrder:async e=>{const t=new FormData;return t.append("file",e.file),t.append("apartment_id",e.apartment_id),t.append("vendor_id",e.vendor_id),t.append("po_number",e.po_number),e.status&&t.append("status",e.status),e.confirmation_code&&t.append("confirmation_code",e.confirmation_code),e.tracking_number&&t.append("tracking_number",e.tracking_number),e.expected_delivery&&t.append("expected_delivery",e.expected_delivery),e.shipping_address&&t.append("shipping_address",e.shipping_address),e.notes&&t.append("notes",e.notes),(await Oa.post("/orders/import_order/",t,{headers:{"Content-Type":"multipart/form-data"}})).data}},TX=e=>{const[t,r]=v.useState([]),[s,a]=v.useState(!0),[i,o]=v.useState(null),[l,c]=v.useState(0),[d,u]=v.useState(null),[f,m]=v.useState(null),h=v.useCallback(async()=>{try{a(!0),o(null);const w=await Zs.getOrders(e);r(w.results),c(w.count),u(w.next),m(w.previous)}catch(w){o(w.message||"Failed to fetch orders"),Ue.error("Failed to fetch orders")}finally{a(!1)}},[e==null?void 0:e.search,e==null?void 0:e.status,e==null?void 0:e.vendor,e==null?void 0:e.apartment,e==null?void 0:e.ordering,e==null?void 0:e.page]);return v.useEffect(()=>{h()},[h]),{orders:t,loading:s,error:i,totalCount:l,nextPage:d,previousPage:f,refetch:h,createOrder:async w=>{var b,N;try{const S=await Zs.createOrder(w);return r(E=>[S,...E]),Ue.success("Order created successfully"),S}catch(S){throw Ue.error(((N=(b=S.response)==null?void 0:b.data)==null?void 0:N.message)||"Failed to create order"),S}},updateOrder:async(w,b)=>{var N,S;try{const E=await Zs.updateOrder(w,b);return r(C=>C.map(A=>A.id===w?E:A)),Ue.success("Order updated successfully"),E}catch(E){throw Ue.error(((S=(N=E.response)==null?void 0:N.data)==null?void 0:S.message)||"Failed to update order"),E}},deleteOrder:async w=>{var b,N;try{await Zs.deleteOrder(w),r(S=>S.filter(E=>E.id!==w)),Ue.success("Order deleted successfully")}catch(S){throw Ue.error(((N=(b=S.response)==null?void 0:b.data)==null?void 0:N.message)||"Failed to delete order"),S}},updateStatus:async(w,b)=>{var N,S;try{const E=await Zs.updateStatus(w,b);return r(C=>C.map(A=>A.id===w?E:A)),Ue.success(`Order status updated to ${b}`),E}catch(E){throw Ue.error(((S=(N=E.response)==null?void 0:N.data)==null?void 0:S.message)||"Failed to update order status"),E}},markDelivered:async(w,b)=>{var N,S;try{const E=await Zs.markDelivered(w,b);return r(C=>C.map(A=>A.id===w?E:A)),Ue.success("Order marked as delivered"),E}catch(E){throw Ue.error(((S=(N=E.response)==null?void 0:N.data)==null?void 0:S.message)||"Failed to mark order as delivered"),E}}}},OX=e=>{const[t,r]=v.useState(null),[s,a]=v.useState(!0),[i,o]=v.useState(null);return v.useEffect(()=>{e&&(async()=>{try{a(!0),o(null);const d=await Zs.getOrder(e);r(d)}catch(d){o(d.message||"Failed to fetch order"),Ue.error("Failed to fetch order details")}finally{a(!1)}})()},[e]),{order:t,loading:s,error:i,updateOrder:async c=>{var d,u;try{const f=await Zs.updateOrder(e,c);return r(f),Ue.success("Order updated successfully"),f}catch(f){throw Ue.error(((u=(d=f.response)==null?void 0:d.data)==null?void 0:u.message)||"Failed to update order"),f}}}},b9e=()=>{const[e,t]=v.useState(null),[r,s]=v.useState(!0),[a,i]=v.useState(null);return v.useEffect(()=>{(async()=>{try{s(!0),i(null);const l=await Zs.getStatistics();t(l)}catch(l){i(l.message||"Failed to fetch statistics"),console.error("Failed to fetch order statistics:",l)}finally{s(!1)}})()},[]),{statistics:e,loading:r,error:a}},w9e=()=>{const[e,t]=v.useState(null),[r,s]=v.useState(!0),[a,i]=v.useState(null);return v.useEffect(()=>{(async()=>{try{s(!0),i(null);const l=await Zs.getDashboardCharts();t(l)}catch(l){i(l.message||"Failed to fetch chart data"),console.error("Failed to fetch order chart data:",l)}finally{s(!1)}})()},[]),{chartData:e,loading:r,error:a}};function N9e(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{iconBg:"bg-primary/10"},{iconBg:"bg-primary/10"},{iconBg:"bg-primary/10"},{iconBg:"bg-primary/10"}].map((e,t)=>n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-8 w-16"}),n.jsx(_,{className:"h-3 w-20"})]}),n.jsx("div",{className:`h-12 w-12 rounded-full ${e.iconBg} flex items-center justify-center`,children:n.jsx(_,{className:"h-6 w-6 rounded"})})]})})},t))})}function _9e(){return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx(_,{className:"h-6 w-40"})}),n.jsx(X,{children:n.jsx("div",{className:"h-[280px] p-4",children:n.jsx("div",{className:"flex items-end justify-between h-full gap-2",children:[...Array(6)].map((e,t)=>n.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center gap-2",children:[n.jsx(_,{className:"w-full rounded-t-lg",style:{height:`${Math.random()*60+40}%`}}),n.jsx(_,{className:"h-3 w-12"})]},t))})})})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx(_,{className:"h-6 w-48"})}),n.jsx(X,{children:n.jsx("div",{className:"h-[280px] p-4",children:n.jsx("div",{className:"h-full flex flex-col justify-between",children:[...Array(5)].map((e,t)=>n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(_,{className:"h-2 w-12"}),n.jsx(_,{className:"h-2 rounded-full",style:{width:`${Math.random()*60+20}%`}})]},t))})})})]})]})}function S9e(){return n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx(_,{className:"h-10 flex-1 rounded-md"}),n.jsx(_,{className:"h-10 w-[180px] rounded-md"}),n.jsx(_,{className:"h-10 w-[180px] rounded-md"}),n.jsx(_,{className:"h-10 w-36 rounded-md"}),n.jsx(_,{className:"h-10 w-36 rounded-md"})]})}function C9e(){return n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(_,{className:"h-6 w-32"}),n.jsx(_,{className:"h-9 w-20 rounded-md"})]})}),n.jsx(X,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["PO Number","Apartment","Vendor","Items","Total","Confirmation","Tracking","Status","Placed On","Actions"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(_,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(8)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-16"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx(_,{className:"h-8 w-8 rounded ml-auto"})})]},t))})]})})})]})}function E9e(){return n.jsxs("div",{className:"space-y-6",children:[n.jsx(N9e,{}),n.jsx(_9e,{}),n.jsx(S9e,{}),n.jsx(C9e,{})]})}const A9e=()=>{var D;const e=fr(),{toast:t}=xr(),[r,s]=v.useState(""),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(!1),[u,f]=v.useState(!1),[m,h]=v.useState(!1),[x,p]=v.useState(null),[g,j]=v.useState(!1),{orders:y,loading:w,error:b,totalCount:N,updateStatus:S,markDelivered:E,deleteOrder:C,refetch:A}=TX({search:r,status:a||void 0,vendor:o||void 0}),{statistics:P,loading:R}=b9e(),{chartData:I,loading:z}=w9e(),U=v.useMemo(()=>{const W=new Set;return y.forEach(F=>{F.vendor_name&&W.add(F.vendor_name)}),Array.from(W)},[y]),L=async(W,F)=>{try{await S(String(W),F),f(!1),p(null)}catch(q){console.error("Failed to update status:",q)}},T=async()=>{if(x)try{j(!0),await C(x.id),h(!1),p(null)}catch(W){console.error("Failed to delete order:",W)}finally{j(!1)}},k=W=>{const F=W.toLowerCase();return{draft:"bg-gray-500/10 text-gray-500",sent:"bg-blue-500/10 text-blue-500"}[F]||"bg-gray-500/10 text-gray-500"},O=(P==null?void 0:P.total_value)||y.reduce((W,F)=>W+Number(F.total),0),M=(P==null?void 0:P.average_order_value)||(y.length>0?O/y.length:0),ie=(I==null?void 0:I.vendor_spending)||[],ce=((D=I==null?void 0:I.monthly_orders)==null?void 0:D.map(W=>({month:W.month,orders:W.orders,spending:W.value})))||[];return w?n.jsx(ut,{title:"Orders Management",children:n.jsx(E9e,{})}):n.jsxs(ut,{title:"Orders Management",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),n.jsx("p",{className:"text-2xl font-bold",children:N||y.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]}),n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(ct,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Spending"}),n.jsxs("p",{className:"text-2xl font-bold",children:["",O.toLocaleString()]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg: ",M.toFixed(0)]})]}),n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(br,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold",children:(P==null?void 0:P.pending_orders)||y.filter(W=>W.status.toLowerCase()==="sent").length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Sent to vendor"})]}),n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(jr,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Received"}),n.jsx("p",{className:"text-2xl font-bold",children:(P==null?void 0:P.delivered_orders)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivered orders"})]}),n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(wr,{className:"h-6 w-6 text-primary"})})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx(Ve,{children:"Spending by Vendor"})}),n.jsx(X,{children:z?n.jsx("div",{className:"h-[280px] p-4 space-y-4",children:n.jsx("div",{className:"flex items-end justify-between h-full gap-2",children:[...Array(6)].map((W,F)=>n.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center gap-2",children:[n.jsx(_,{className:"w-full rounded-t-lg",style:{height:`${Math.random()*60+40}%`}}),n.jsx(_,{className:"h-3 w-12"})]},F))})}):ie.length===0?n.jsxs("div",{className:"h-[280px] flex flex-col items-center justify-center text-center space-y-3",children:[n.jsx(br,{className:"h-10 w-10 text-muted-foreground/50"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"No vendor data available"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Create orders to see analytics"})]}),n.jsxs(ee,{onClick:()=>e("/orders/new"),size:"sm",variant:"outline",children:[n.jsx(Fn,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}):n.jsx(V0,{config:{amount:{label:"Amount ()",color:"hsl(var(--primary))"}},className:"h-[280px]",children:n.jsxs(da,{data:ie,children:[n.jsx(Tn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(Xr,{dataKey:"vendor",className:"text-xs"}),n.jsx(Qr,{className:"text-xs"}),n.jsx(mr,{content:n.jsx(z0,{})}),n.jsx(mn,{dataKey:"amount",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx(Ve,{children:"Monthly Order Trends"})}),n.jsx(X,{children:z?n.jsx("div",{className:"h-[280px] p-4",children:n.jsx("div",{className:"h-full flex flex-col justify-between",children:[...Array(5)].map((W,F)=>n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(_,{className:"h-2 w-12"}),n.jsx(_,{className:"h-2 rounded-full",style:{width:`${Math.random()*60+20}%`}})]},F))})}):ce.length===0?n.jsxs("div",{className:"h-[280px] flex flex-col items-center justify-center text-center space-y-3",children:[n.jsx(qa,{className:"h-10 w-10 text-muted-foreground/50"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"No trend data available"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Create orders to see trends"})]}),n.jsxs(ee,{onClick:()=>e("/orders/new"),size:"sm",variant:"outline",children:[n.jsx(Fn,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}):n.jsx(V0,{config:{orders:{label:"Orders",color:"hsl(var(--primary))"},spending:{label:"Spending ()",color:"hsl(var(--chart-2))"}},className:"h-[280px]",children:n.jsxs(w2,{data:ce,children:[n.jsx(Tn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(Xr,{dataKey:"month",className:"text-xs"}),n.jsx(Qr,{className:"text-xs"}),n.jsx(mr,{content:n.jsx(z0,{})}),n.jsx(Go,{}),n.jsx(zl,{type:"monotone",dataKey:"orders",stroke:"hsl(var(--primary))",strokeWidth:2}),n.jsx(zl,{type:"monotone",dataKey:"spending",stroke:"hsl(var(--chart-2))",strokeWidth:2})]})})})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Rs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search by PO number, apartment, or vendor...",value:r,onChange:W=>s(W.target.value),className:"pl-9"})]}),n.jsxs(at,{value:a,onValueChange:i,children:[n.jsx(nt,{className:"w-[180px]",children:n.jsx(it,{placeholder:"Filter by status"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"all",children:"All Statuses"}),n.jsx(Z,{value:"draft",children:"Draft"}),n.jsx(Z,{value:"sent",children:"Sent"})]})]}),n.jsxs(at,{value:o,onValueChange:l,children:[n.jsx(nt,{className:"w-[180px]",children:n.jsx(it,{placeholder:"Filter by vendor"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"all",children:"All Vendors"}),U.map(W=>n.jsx(Z,{value:W,children:W},W))]})]}),n.jsxs(ee,{onClick:()=>e("/orders/import"),variant:"outline",children:[n.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Import Orders"]}),n.jsxs(ee,{onClick:()=>e("/orders/new"),children:[n.jsx(Fn,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ve,{children:["All Orders (",y.length,")"]}),n.jsxs(ee,{variant:"outline",size:"sm",children:[n.jsx(e5,{className:"h-4 w-4 mr-2"}),"Sort"]})]})}),n.jsx(X,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(js,{children:[n.jsx(bs,{children:n.jsxs($t,{children:[n.jsx(Pe,{children:"PO Number"}),n.jsx(Pe,{children:"Apartment"}),n.jsx(Pe,{children:"Vendor"}),n.jsx(Pe,{children:"Items"}),n.jsx(Pe,{children:"Total"}),n.jsx(Pe,{children:"Confirmation"}),n.jsx(Pe,{children:"Tracking"}),n.jsx(Pe,{children:"Status"}),n.jsx(Pe,{children:"Placed On"}),n.jsx(Pe,{className:"text-right",children:"Actions"})]})}),n.jsx(ws,{children:y.length===0?n.jsx($t,{children:n.jsx(_e,{colSpan:10,className:"text-center py-8 text-muted-foreground",children:"No orders found"})}):y.map(W=>n.jsxs($t,{children:[n.jsx(_e,{className:"font-medium",children:W.po_number}),n.jsx(_e,{children:W.apartment_name||"N/A"}),n.jsx(_e,{children:W.vendor_name||"N/A"}),n.jsxs(_e,{children:[W.items_count," items"]}),n.jsxs(_e,{children:["",Number(W.total).toLocaleString()]}),n.jsx(_e,{children:W.confirmation_code?n.jsx("span",{className:"text-xs font-mono",children:W.confirmation_code}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(_e,{children:W.tracking_number?n.jsx("span",{className:"text-xs font-mono",children:W.tracking_number}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(_e,{children:n.jsx(Ce,{className:k(W.status),children:W.status})}),n.jsx(_e,{children:Kt(new Date(W.placed_on),"yyyy-MM-dd")}),n.jsx(_e,{className:"text-right",children:n.jsxs(Iv,{children:[n.jsx(Rv,{asChild:!0,children:n.jsxs(ee,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted",children:[n.jsx("span",{className:"sr-only",children:"Open menu"}),n.jsx(A9,{className:"h-4 w-4"})]})}),n.jsxs(Op,{align:"end",className:"w-56",children:[n.jsx(H4,{className:"font-semibold text-xs text-muted-foreground uppercase tracking-wide",children:"Order Actions"}),n.jsx(wc,{}),n.jsxs(wn,{onClick:()=>e(`/orders/${W.id}`),className:"cursor-pointer py-2.5",children:[n.jsx(Ha,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"View Details"})]}),n.jsxs(wn,{onClick:()=>e(`/orders/${W.id}/edit`),className:"cursor-pointer py-2.5",children:[n.jsx($s,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"Edit Order"})]}),n.jsxs(wn,{onClick:()=>{navigator.clipboard.writeText(W.po_number),t({title:"Copied to clipboard",description:`PO Number ${W.po_number} has been copied.`})},className:"cursor-pointer py-2.5",children:[n.jsx(xne,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"Copy PO Number"})]}),n.jsx(wc,{}),n.jsx(H4,{className:"font-semibold text-xs text-muted-foreground uppercase tracking-wide",children:"Status & Delivery"}),n.jsxs(wn,{onClick:()=>{p(W),f(!0)},className:"cursor-pointer py-2.5",children:[n.jsx(e5,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"Update Status"})]}),n.jsxs(wn,{onClick:()=>{p(W),d(!0)},className:"cursor-pointer py-2.5",children:[n.jsx(wr,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"Delivery Tracking"})]}),W.status.toLowerCase()==="draft"&&n.jsxs(wn,{onClick:()=>S(String(W.id),"sent"),className:"cursor-pointer py-2.5",children:[n.jsx(Lr,{className:"mr-3 h-4 w-4 text-blue-500"}),n.jsx("span",{className:"text-blue-600",children:"Mark as Sent"})]}),n.jsx(wc,{}),(W.status.toLowerCase()==="draft"||W.status.toLowerCase()==="sent")&&n.jsxs(wn,{onClick:()=>S(String(W.id),"cancelled"),className:"cursor-pointer py-2.5 text-orange-600 focus:text-orange-600 focus:bg-orange-500/10",children:[n.jsx(El,{className:"mr-3 h-4 w-4"}),n.jsx("span",{children:"Cancel Order"})]}),n.jsxs(wn,{onClick:()=>{p(W),h(!0)},className:"cursor-pointer py-2.5 text-destructive focus:text-destructive focus:bg-destructive/10",children:[n.jsx(on,{className:"mr-3 h-4 w-4"}),n.jsx("span",{children:"Delete Order"})]})]})]})})]},W.id))})]})})})]})]}),n.jsx(y9e,{open:c,onOpenChange:d,order:x}),n.jsx(j9e,{open:u,onOpenChange:f,order:x,onStatusUpdate:L}),n.jsx(Xl,{open:m,onOpenChange:h,children:n.jsxs(sl,{children:[n.jsxs(al,{children:[n.jsx(ol,{children:"Delete Order"}),n.jsxs(ll,{children:["Are you sure you want to delete order ",n.jsx("strong",{children:x==null?void 0:x.po_number}),"? This action cannot be undone and will permanently remove the order and all its items."]})]}),n.jsxs(il,{children:[n.jsx(dl,{disabled:g,children:"Cancel"}),n.jsx(cl,{onClick:T,disabled:g,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:g?n.jsxs(n.Fragment,{children:[n.jsx(zt,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):"Delete Order"})]})]})})]})},k9e=()=>{const e=fr(),{toast:t}=xr(),[r,s]=v.useState(""),[a,i]=v.useState("all"),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[m,h]=v.useState("draft"),[x,p]=v.useState(""),[g,j]=v.useState(""),[y,w]=v.useState(""),[b,N]=v.useState([]),[S,E]=v.useState(""),[C,A]=v.useState(""),[P,R]=v.useState([]),[I,z]=v.useState([]),[U,L]=v.useState([]),[T,k]=v.useState([]),[O,M]=v.useState(!0),[ie,ce]=v.useState(!1),[D,W]=v.useState(!1),F=v.useMemo(()=>r?U.filter(Se=>!a||a==="all"||Se.vendor===a):[],[U,r,a]);v.useEffect(()=>{let Se=!1;return(async()=>{try{M(!0);const[Oe,te]=await Promise.all([Ql.getApartments({page_size:100}),No.getVendors()]);if(Se)return;R(Oe.results||[]),z(te.results||[])}catch(Oe){console.error("Failed to load apartments/vendors",Oe),t({title:"Failed to load data",description:"Could not load apartments or vendors. Please try again.",variant:"destructive"})}finally{Se||M(!1)}})(),()=>{Se=!0}},[t]),v.useEffect(()=>{let Se=!1;return(async()=>{if(!r){L([]),k([]);return}try{ce(!0);const Oe=await Oi.getProducts({apartment:r,page_size:1e3});if(Se)return;L(Oe.results||[]),k([])}catch(Oe){console.error("Failed to load products",Oe),t({title:"Failed to load products",description:"Could not load products for this apartment.",variant:"destructive"})}finally{Se||ce(!1)}})(),()=>{Se=!0}},[r,t]);const q=Se=>{const Me=U.find(he=>he.id===Se);if(!Me)return;if(b.find(he=>he.productId===Se)){t({title:"Product already in order",description:`${Me.product} is already in your order.`,variant:"destructive"});return}const te={productId:Me.id,productName:Me.product,sku:Me.sku||"",quantity:1,unitPrice:Math.round(Number(Me.unit_price)||0)};N(he=>[...he,te]),t({title:"Product added",description:`${Me.product} has been added to the order.`})},le=Se=>{N(b.filter((Me,Oe)=>Oe!==Se))},fe=(Se,Me,Oe)=>{const te=[...b];te[Se]={...te[Se],[Me]:Oe},N(te)},B=async Se=>{var Le,Ie;if(Se.preventDefault(),!r||b.length===0){t({title:"Validation Error",description:"Please select an apartment and add at least one item",variant:"destructive"});return}let Me=a;if(!Me||Me==="all"){const de=U.find(Re=>{var ot;return Re.id===((ot=b[0])==null?void 0:ot.productId)});if(de!=null&&de.vendor)Me=de.vendor;else{t({title:"Validation Error",description:"Unable to determine vendor for this order. Please select a vendor.",variant:"destructive"});return}}if(!o.trim()){t({title:"Validation Error",description:"PO Number is required.",variant:"destructive"});return}if(b.some(de=>!de.productId||de.quantity<=0||de.unitPrice<0)){t({title:"Validation Error",description:"Each item must have a product, quantity > 0 and price  0.",variant:"destructive"});return}const Oe=b.reduce((de,Re)=>de+Re.quantity*Re.unitPrice,0),te=parseInt(S||"0",10)||0,he=parseInt(C||"0",10)||0;let oe=Oe+te-he;oe<0&&(oe=0);const be=b.reduce((de,Re)=>de+Re.quantity,0);try{W(!0);const de=new Date().toISOString().split("T")[0],Re={apartment:r,vendor:Me,po_number:o.trim(),confirmation_code:c.trim()||void 0,tracking_number:u.trim()||void 0,status:m,expected_delivery:x||void 0,shipping_address:g.trim()||void 0,notes:y.trim()||void 0,items:b.map(ot=>({product:ot.productId,product_name:ot.productName,sku:ot.sku,quantity:ot.quantity,unit_price:ot.unitPrice})),items_count:be,total:oe,placed_on:de};await Zs.createOrder(Re),t({title:"Order Created",description:`Order created with ${b.length} items. Total: ${oe} HUF`}),e("/orders")}catch(de){console.error("Failed to create order",((Le=de==null?void 0:de.response)==null?void 0:Le.data)||de);let Re="Please check the form and try again.";const ot=(Ie=de==null?void 0:de.response)==null?void 0:Ie.data;if(ot!=null&&ot.details&&typeof ot.details=="object"){const wt=[];Object.entries(ot.details).forEach(([Qe,je])=>{Array.isArray(je)?wt.push(`${Qe}: ${je.join(", ")}`):typeof je=="string"&&wt.push(`${Qe}: ${je}`)}),wt.length&&(Re=wt.join(" | "))}else ot!=null&&ot.detail&&(Re=String(ot.detail));t({title:"Failed to create order",description:Re,variant:"destructive"})}finally{W(!1)}},K=b.reduce((Se,Me)=>Se+Me.quantity*Me.unitPrice,0),se=parseInt(S||"0",10)||0,Ne=parseInt(C||"0",10)||0;let ue=K+se-Ne;ue<0&&(ue=0);const ge=P.find(Se=>Se.id===r),xe=I.find(Se=>Se.id===a);return r&&F.length>0,T.length>0,n.jsx(ut,{title:"New Order",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ca,{children:n.jsxs(Ea,{children:[n.jsx(Jt,{children:n.jsx(Bn,{href:"/orders",children:"Orders"})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(ni,{children:"New Order"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>e("/orders"),children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(ss,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Create New Purchase Order"}),n.jsx("p",{className:"text-muted-foreground",children:"Fill in the details to create a new order"})]})]})]}),n.jsx("form",{onSubmit:B,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ct,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),n.jsxs(X,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Y,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(X,{className:"p-4",children:[n.jsxs(G,{htmlFor:"apartment",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(dr,{className:"h-4 w-4 text-primary"}),"Apartment *"]}),n.jsxs(at,{value:r,onValueChange:s,disabled:O,children:[n.jsx(nt,{className:"h-10",children:n.jsx(it,{placeholder:O?"Loading apartments...":"Select apartment"})}),n.jsx(st,{children:P.map(Se=>n.jsx(Z,{value:Se.id,children:n.jsx("span",{children:Se.name})},Se.id))})]}),ge&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Owner: ",ge.owner]})]})}),n.jsx(Y,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(X,{className:"p-4",children:[n.jsxs(G,{htmlFor:"vendor",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(_a,{className:"h-4 w-4 text-primary"}),"Vendor (Optional Filter)"]}),n.jsxs(at,{value:a,onValueChange:i,disabled:O||!r,children:[n.jsx(nt,{className:"h-10",children:n.jsx(it,{placeholder:r?O?"Loading vendors...":"All vendors":"Select apartment first"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"all",children:"All Vendors"}),I.map(Se=>n.jsx(Z,{value:Se.id,children:n.jsx("span",{children:Se.name})},Se.id))]})]}),xe&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Lead time: ",xe.lead_time]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"po_number",children:"PO Number *"}),n.jsx(me,{id:"po_number",value:o,onChange:Se=>l(Se.target.value),placeholder:"e.g., PO-2025-00001"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"confirmation_code",children:"Confirmation"}),n.jsx(me,{id:"confirmation_code",value:c,onChange:Se=>d(Se.target.value),placeholder:"e.g., CONF-8831"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"tracking_number",children:"Tracking"}),n.jsx(me,{id:"tracking_number",value:u,onChange:Se=>f(Se.target.value),placeholder:"e.g., TRK-93234"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"status",children:"Status"}),n.jsxs(at,{value:m,onValueChange:h,children:[n.jsx(nt,{className:"h-10",children:n.jsx(it,{placeholder:"Select status"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"draft",children:"Draft"}),n.jsx(Z,{value:"pending",children:"Pending"}),n.jsx(Z,{value:"sent",children:"Sent"}),n.jsx(Z,{value:"confirmed",children:"Confirmed"}),n.jsx(Z,{value:"in_transit",children:"In Transit"}),n.jsx(Z,{value:"delivered",children:"Delivered"}),n.jsx(Z,{value:"received",children:"Received"}),n.jsx(Z,{value:"cancelled",children:"Cancelled"}),n.jsx(Z,{value:"returned",children:"Returned"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"expected_delivery",children:"Expected Delivery"}),n.jsx(me,{id:"expected_delivery",type:"date",value:x,onChange:Se=>p(Se.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"shipping_address",children:"Shipping Address"}),n.jsx(me,{id:"shipping_address",value:g,onChange:Se=>j(Se.target.value),placeholder:"Enter shipping address"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"notes",children:"Notes"}),n.jsx(ta,{id:"notes",value:y,onChange:Se=>w(Se.target.value),placeholder:"Add any notes about this order",rows:3})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[n.jsxs(Y,{className:"lg:col-span-1",children:[n.jsx(we,{className:"py-3 px-4 border-b",children:n.jsxs(Ve,{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(ct,{className:"h-4 w-4 text-primary"}),"Available Products (",F.length,")"]})}),n.jsx(X,{className:"p-2",children:ie?n.jsx("div",{className:"max-h-[450px]",children:n.jsx("div",{children:[...Array(8)].map((Se,Me)=>n.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 ${Me<7?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 rounded overflow-hidden",children:n.jsx(_,{className:"w-full h-full"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1 mb-0.5",children:[n.jsx(_,{className:"h-3 w-32"}),n.jsx(_,{className:"h-2 w-12 opacity-60"})]}),n.jsx(_,{className:"h-2 w-20 opacity-40"})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsx(_,{className:"h-3 w-14 mb-0.5"}),n.jsx(_,{className:"h-2 w-8 ml-auto opacity-40"})]})]},Me))})}):r?F.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(ct,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No products found"}),n.jsx("p",{className:"text-sm",children:a&&a!=="all"?'Try selecting a different vendor or "All Vendors"':"This apartment has no products yet"})]}):n.jsx("div",{className:"max-h-[450px] overflow-y-auto",children:n.jsx("div",{children:F.map((Se,Me)=>{const Oe=b.some(te=>te.productId===Se.id);return n.jsxs("div",{onClick:()=>!Oe&&q(Se.id),className:`group flex items-center gap-2 px-2 py-1.5 transition-all cursor-pointer ${Oe?"opacity-50 cursor-not-allowed bg-muted/30":"hover:bg-accent hover:shadow-sm"} ${Me<F.length-1?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 bg-muted/30 rounded flex items-center justify-center flex-shrink-0",children:Se.product_image?n.jsx("img",{src:Se.product_image,alt:Se.product,className:"w-full h-full object-cover rounded",onError:te=>{te.currentTarget.src="",te.currentTarget.style.display="none"}}):n.jsx(ki,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("p",{className:"font-medium text-xs truncate flex-1",children:Se.product}),Se.sku&&n.jsx("span",{className:"text-[10px] text-muted-foreground",children:Se.sku})]}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:Se.vendor_name||"No vendor"})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsx("p",{className:"font-semibold text-xs",children:Number(Se.unit_price).toLocaleString()}),Oe?n.jsx("span",{className:"text-[10px] text-green-600 dark:text-green-500 font-medium",children:"Added"}):n.jsx("span",{className:"text-[10px] text-muted-foreground",children:"HUF"})]})]},Se.id)})})}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(dr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"Please select an apartment first"}),n.jsx("p",{className:"text-sm",children:"Products will appear here after selecting an apartment"})]})})]}),n.jsxs(Y,{className:"lg:col-span-1",children:[n.jsx(we,{className:"py-3 px-4 border-b",children:n.jsxs(Ve,{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(ss,{className:"h-4 w-4 text-primary"}),"Order Items (",b.length,")"]}),b.length>0&&n.jsxs("span",{className:"text-xs font-normal text-muted-foreground",children:["Total: ",b.reduce((Se,Me)=>Se+Me.quantity*Me.unitPrice,0).toLocaleString()," HUF"]})]})}),n.jsx(X,{className:"p-2",children:ie&&b.length===0?n.jsx("div",{className:"max-h-[450px]",children:n.jsx("div",{children:[...Array(3)].map((Se,Me)=>n.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 ${Me<2?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 rounded overflow-hidden",children:n.jsx(_,{className:"w-full h-full"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1 mb-0.5",children:[n.jsx(_,{className:"h-3 w-28"}),n.jsx(_,{className:"h-2 w-10 opacity-60"})]}),n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[n.jsx(_,{className:"w-5 h-5 rounded"}),n.jsx(_,{className:"w-10 h-5 rounded"}),n.jsx(_,{className:"w-5 h-5 rounded"}),n.jsx(_,{className:"h-2 w-16 ml-1 opacity-40"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-right",children:[n.jsx(_,{className:"h-3 w-16 mb-0.5"}),n.jsx(_,{className:"h-2 w-8 ml-auto opacity-40"})]}),n.jsx(_,{className:"w-5 h-5 rounded-full opacity-30"})]})]},Me))})}):b.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(ss,{className:"h-6 w-6 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-xs font-medium",children:"No items in order"}),n.jsx("p",{className:"text-[10px] mt-1",children:"Click products to add them"})]}):n.jsx("div",{className:"max-h-[450px] overflow-y-auto",children:n.jsx("div",{children:b.map((Se,Me)=>{const Oe=U.find(te=>te.id===Se.productId);return n.jsxs("div",{className:`group flex items-center gap-2 px-2 py-1.5 hover:bg-accent transition-all ${Me<b.length-1?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 bg-muted/30 rounded flex items-center justify-center flex-shrink-0",children:Oe!=null&&Oe.product_image?n.jsx("img",{src:Oe.product_image,alt:Se.productName,className:"w-full h-full object-cover rounded",onError:te=>{te.currentTarget.src="",te.currentTarget.style.display="none"}}):n.jsx(ki,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("p",{className:"text-xs font-medium truncate flex-1",children:Se.productName}),Se.sku&&n.jsx("span",{className:"text-[10px] text-muted-foreground",children:Se.sku})]}),n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[n.jsx("button",{type:"button",onClick:()=>fe(Me,"quantity",Math.max(1,Se.quantity-1)),className:"w-5 h-5 rounded bg-muted/50 hover:bg-muted flex items-center justify-center transition-colors",children:n.jsx(O9,{className:"h-3 w-3"})}),n.jsx("input",{type:"number",min:"1",value:Se.quantity,onChange:te=>fe(Me,"quantity",parseInt(te.target.value)||1),className:"w-10 h-5 text-[11px] text-center border border-input bg-background rounded px-1"}),n.jsx("button",{type:"button",onClick:()=>fe(Me,"quantity",Se.quantity+1),className:"w-5 h-5 rounded bg-muted/50 hover:bg-muted flex items-center justify-center transition-colors",children:n.jsx(Fn,{className:"h-3 w-3"})}),n.jsxs("span",{className:"text-[10px] text-muted-foreground ml-1",children:[" ",Se.unitPrice.toLocaleString()]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs font-semibold",children:(Se.quantity*Se.unitPrice).toLocaleString()}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"HUF"})]}),n.jsx("button",{type:"button",onClick:()=>le(Me),className:"opacity-0 group-hover:opacity-100 w-5 h-5 rounded-full bg-destructive/10 hover:bg-destructive/20 flex items-center justify-center transition-all",children:n.jsx(Zn,{className:"h-3 w-3 text-destructive"})})]})]},Me)})})})})]})]}),n.jsxs(Y,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2 text-primary",children:[n.jsx(br,{className:"h-5 w-5"}),"Order Summary"]})}),n.jsx(X,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Items"}),n.jsx("p",{className:"text-3xl font-bold",children:b.length})]}),n.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Units"}),n.jsx("p",{className:"text-3xl font-bold",children:b.reduce((Se,Me)=>Se+Me.quantity,0)})]}),n.jsxs("div",{className:"space-y-2 p-4 bg-background/50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsx("span",{children:"Items Total"}),n.jsxs("span",{children:[K," HUF"]})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Shipping Cost"}),n.jsx(me,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:S,onChange:Se=>E(Se.target.value)})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Discount"}),n.jsx(me,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:C,onChange:Se=>A(Se.target.value)})]}),n.jsx(Rt,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold",children:"Total to Pay"}),n.jsxs("span",{className:"text-2xl font-bold text-primary",children:[ue," HUF"]})]})]})]})})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>e("/orders"),children:"Cancel"}),n.jsx(ee,{type:"submit",className:"gap-2",disabled:D,children:D?n.jsxs(n.Fragment,{children:[n.jsx(zt,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ss,{className:"h-4 w-4"}),"Create Order"]})})]})]})})]})})},P9e=()=>{var F;const e=fr(),{toast:t}=xr(),[r,s]=v.useState(""),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[m,h]=v.useState("draft"),[x,p]=v.useState(""),[g,j]=v.useState(""),[y,w]=v.useState(""),[b,N]=v.useState(null),[S,E]=v.useState(!1),[C,A]=v.useState(0),[P,R]=v.useState(null),[I,z]=v.useState(""),[U,L]=v.useState([]),[T,k]=v.useState([]),[O,M]=v.useState(!1);v.useState(!1),v.useEffect(()=>{(async()=>{try{M(!0);const[le,fe]=await Promise.all([Ql.getApartments({page_size:100}),No.getVendors()]);L(le.results||[]),k(fe.results||[])}catch(le){console.error("Failed to load data",le),t({title:"Failed to load data",description:"Could not load apartments or vendors. Please try again.",variant:"destructive"})}finally{M(!1)}})()},[t]);const ie=q=>q<1024?q+" B":q<1024*1024?(q/1024).toFixed(2)+" KB":(q/(1024*1024)).toFixed(2)+" MB",ce=q=>{var fe;const le=(fe=q.target.files)==null?void 0:fe[0];if(le){if(!le.name.match(/\.(xlsx|xls|csv)$/i)){t({title:"Invalid File Type",description:"Please select a valid Excel or CSV file",variant:"destructive"});return}if(le.size>50*1024*1024){t({title:"File Too Large",description:"Maximum file size is 50MB",variant:"destructive"});return}N(le),z(ie(le.size)),R(null)}},D=async()=>{var q,le;if(!r){t({title:"Validation Error",description:"Please select an apartment",variant:"destructive"});return}if(!a){t({title:"Validation Error",description:"Please select a vendor",variant:"destructive"});return}if(!o.trim()){t({title:"Validation Error",description:"PO Number is required",variant:"destructive"});return}if(!b){t({title:"Validation Error",description:"Please select a file to import",variant:"destructive"});return}E(!0),A(0);try{const fe=setInterval(()=>{A(K=>K>=90?(clearInterval(fe),90):K+10)},200),B=await Zs.importOrder({file:b,apartment_id:r,vendor_id:a,po_number:o,status:m,confirmation_code:c,tracking_number:u,expected_delivery:x,shipping_address:g,notes:y});clearInterval(fe),A(100),R(B),t({title:"Import Successful!",description:`Order ${B.po_number} created with ${B.total_items} items.`}),setTimeout(()=>{e("/orders")},2e3)}catch(fe){console.error("Import error:",fe),t({title:"Import Failed",description:((le=(q=fe.response)==null?void 0:q.data)==null?void 0:le.error)||fe.message||"Failed to import order. Please try again.",variant:"destructive"}),A(0)}finally{E(!1)}},W=async()=>{try{const q=await fetch("/api/products/import_template/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(!q.ok)throw new Error("Failed to download template");const le=await q.blob(),fe=window.URL.createObjectURL(le),B=document.createElement("a");B.href=fe,B.download="order-import-template.xlsx",document.body.appendChild(B),B.click(),window.URL.revokeObjectURL(fe),document.body.removeChild(B),t({title:"Success",description:"Template downloaded successfully"})}catch(q){console.error("Template download error:",q),t({title:"Download Failed",description:"Failed to download template. Please try again.",variant:"destructive"})}};return n.jsx(ut,{title:"Import Orders",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ee,{variant:"ghost",onClick:()=>e("/orders"),disabled:S,children:[n.jsx(tr,{className:"mr-2 h-4 w-4"}),"Back"]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ct,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),n.jsxs(X,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Y,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(X,{className:"p-4",children:[n.jsxs(G,{htmlFor:"apartment",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(dr,{className:"h-4 w-4 text-primary"}),"Apartment *"]}),n.jsxs(at,{value:r,onValueChange:s,disabled:O||S,children:[n.jsx(nt,{className:"h-10",children:n.jsx(it,{placeholder:O?"Loading...":"Select apartment"})}),n.jsx(st,{children:U.map(q=>n.jsx(Z,{value:q.id,children:q.name},q.id))})]})]})}),n.jsx(Y,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(X,{className:"p-4",children:[n.jsxs(G,{htmlFor:"vendor",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(_a,{className:"h-4 w-4 text-primary"}),"Vendor *"]}),n.jsxs(at,{value:a,onValueChange:i,disabled:O||S,children:[n.jsx(nt,{className:"h-10",children:n.jsx(it,{placeholder:O?"Loading...":"Select vendor"})}),n.jsx(st,{children:T.map(q=>n.jsx(Z,{value:q.id,children:q.name},q.id))})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"po_number",children:"PO Number *"}),n.jsx(me,{id:"po_number",value:o,onChange:q=>l(q.target.value),placeholder:"e.g., PO-2025-00001",disabled:S})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"confirmation_code",children:"Confirmation"}),n.jsx(me,{id:"confirmation_code",value:c,onChange:q=>d(q.target.value),placeholder:"e.g., CONF-8831",disabled:S})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"tracking_number",children:"Tracking"}),n.jsx(me,{id:"tracking_number",value:u,onChange:q=>f(q.target.value),placeholder:"e.g., TRK-93234",disabled:S})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"status",children:"Status"}),n.jsxs(at,{value:m,onValueChange:h,disabled:S,children:[n.jsx(nt,{className:"h-10",children:n.jsx(it,{placeholder:"Select status"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"draft",children:"Draft"}),n.jsx(Z,{value:"sent",children:"Sent"}),n.jsx(Z,{value:"cancelled",children:"Cancelled"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"expected_delivery",children:"Expected Delivery"}),n.jsx(me,{id:"expected_delivery",type:"date",value:x,onChange:q=>p(q.target.value),disabled:S})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"shipping_address",children:"Shipping Address"}),n.jsx(me,{id:"shipping_address",value:g,onChange:q=>j(q.target.value),placeholder:"Enter shipping address",disabled:S})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"notes",children:"Notes"}),n.jsx(ta,{id:"notes",value:y,onChange:q=>w(q.target.value),placeholder:"Add any notes about this order",rows:3,disabled:S})]})]})]}),n.jsxs(Y,{className:"border-2 border-dashed",children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Upload File"}),n.jsx(Tr,{className:"mt-1",children:"Select an Excel (.xlsx, .xls) or CSV file (max 50MB)"})]}),b&&I&&n.jsx(Ce,{variant:"secondary",className:"text-sm",children:I})]})}),n.jsx(X,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:ce,className:"hidden",disabled:S}),n.jsx(ee,{variant:"outline",asChild:!0,disabled:S,className:"relative overflow-hidden",children:n.jsx("span",{children:S?n.jsxs(n.Fragment,{children:[n.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Pi,{className:"mr-2 h-4 w-4"}),"Choose File"]})})})]}),b&&!S&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rP,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium",children:b.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:I})]})]})]}),S&&C>0&&n.jsxs("div",{className:"space-y-2 p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"font-medium",children:"Uploading and processing..."}),n.jsxs("span",{className:"text-muted-foreground",children:[C.toFixed(0),"%"]})]}),n.jsx(A2,{value:C,className:"h-2"})]}),n.jsx("div",{className:"flex justify-start",children:n.jsxs(ee,{variant:"outline",size:"sm",onClick:W,disabled:S,children:[n.jsx(xv,{className:"mr-2 h-4 w-4"}),"Download Template"]})})]})})]}),P&&n.jsxs(Y,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Import Results"}),n.jsx(Tr,{children:"Summary of the import operation"})]}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(Pd,{children:[n.jsx(Lr,{className:"h-4 w-4 text-success"}),n.jsxs(Td,{children:[n.jsx("div",{className:"font-semibold",children:"Order Created"}),n.jsx("div",{className:"text-2xl",children:P.order_created?"Yes":"No"})]})]}),n.jsxs(Pd,{children:[n.jsx(Lr,{className:"h-4 w-4 text-success"}),n.jsxs(Td,{children:[n.jsx("div",{className:"font-semibold",children:"Total Items"}),n.jsx("div",{className:"text-2xl text-green-600",children:P.total_items})]})]}),n.jsxs(Pd,{children:[n.jsx(Lr,{className:"h-4 w-4 text-success"}),n.jsxs(Td,{children:[n.jsx("div",{className:"font-semibold",children:"Successfully Imported"}),n.jsx("div",{className:"text-2xl text-green-600",children:P.successful_imports})]})]}),n.jsxs(Pd,{children:[n.jsx(Lr,{className:"h-4 w-4 text-success"}),n.jsxs(Td,{children:[n.jsx("div",{className:"font-semibold",children:"Total Amount"}),n.jsxs("div",{className:"text-2xl text-green-600",children:["$",((F=P.total_amount)==null?void 0:F.toFixed(2))||"0.00"]})]})]})]}),P.errors&&P.errors.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Errors:"}),n.jsx("div",{className:"space-y-1",children:P.errors.map((q,le)=>n.jsx("div",{className:"text-sm text-destructive bg-destructive/10 p-2 rounded",children:q},le))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(ee,{onClick:()=>e("/orders"),children:[n.jsx(Lr,{className:"mr-2 h-4 w-4"}),"View Orders"]})})]})]}),!P&&n.jsx(Y,{children:n.jsx(X,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(ee,{variant:"outline",onClick:()=>e("/orders"),disabled:S,children:"Cancel"}),n.jsx(ee,{onClick:D,disabled:!r||!a||!o||!b||S,className:"min-w-[200px]",children:S?n.jsxs(n.Fragment,{children:[n.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Pi,{className:"mr-2 h-4 w-4"}),"Import Order"]})})]})})})]})})};function T9e(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-4 w-16"}),n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-4 w-32"})]})}function O9e(){return n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(_,{className:"h-10 w-10 rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(_,{className:"h-6 w-6 rounded"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-9 w-64"}),n.jsx(_,{className:"h-4 w-48"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[n.jsx(_,{className:"h-6 w-24 rounded-full"}),n.jsx(_,{className:"h-6 w-28 rounded-full"})]})]}),n.jsx(_,{className:"h-10 w-32 rounded-md"})]})}function D9e(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{iconBg:"bg-blue-500/10"},{iconBg:"bg-green-500/10"},{iconBg:"bg-purple-500/10"},{iconBg:"bg-orange-500/10"}].map((e,t)=>n.jsx(Y,{children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${e.iconBg}`,children:n.jsx(_,{className:"h-5 w-5 rounded"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-8 w-16"})]})]})})},t))})}function I9e(){return n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-40"})]})}),n.jsx(X,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(2)].map((e,t)=>n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((r,s)=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(_,{className:"h-5 w-5 rounded mt-0.5"}),n.jsxs("div",{className:"space-y-2 flex-1",children:[n.jsx(_,{className:"h-4 w-28"}),n.jsx(_,{className:"h-5 w-full"})]})]},s))},t))})})]})}function R9e(){return n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-32"})]})}),n.jsx(X,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"w-12 px-4 py-3"}),["Product Name","SKU","Quantity","Unit Price","Total"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(_,{className:"h-4 w-20"})},t))]})}),n.jsx("tbody",{children:[...Array(4)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"w-12 px-4 py-4",children:n.jsx(_,{className:"w-10 h-10 rounded"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-40"}),n.jsx(_,{className:"h-3 w-32"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-6 w-12 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-28"})})]},t))})]})})})]})}function M9e(){return n.jsxs(Y,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-32"})]})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-4 w-28"})]}),n.jsx("div",{className:"h-px bg-border"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(_,{className:"h-5 w-24"}),n.jsx(_,{className:"h-8 w-36"})]})]})]})}function F9e(){return n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-20"})]})}),n.jsx(X,{children:n.jsx("div",{className:"space-y-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(_,{className:"h-7 w-7 rounded-full"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(_,{className:"h-4 w-28"}),n.jsx(_,{className:"h-3 w-40"})]})]},t))})})]})}function $9e(){return n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-16"})]})}),n.jsxs(X,{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-full"}),n.jsx(_,{className:"h-4 w-full"}),n.jsx(_,{className:"h-4 w-3/4"})]})]})}function L9e(){return n.jsx(ut,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(T9e,{}),n.jsx(O9e,{}),n.jsx(D9e,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(I9e,{}),n.jsx(R9e,{})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(M9e,{}),n.jsx(F9e,{}),n.jsx($9e,{})]})]})]})})}const B9e=()=>{var l,c;const{id:e}=Mi(),t=fr(),{order:r,loading:s,error:a}=OX(e||""),i=d=>{const u=d.toLowerCase();return{draft:"bg-gray-500/10 text-gray-500",pending:"bg-yellow-500/10 text-yellow-500",sent:"bg-blue-500/10 text-blue-500",confirmed:"bg-green-500/10 text-green-500",delivered:"bg-purple-500/10 text-purple-500",received:"bg-emerald-500/10 text-emerald-500",cancelled:"bg-red-500/10 text-red-500"}[u]||"bg-gray-500/10 text-gray-500"};if(s)return n.jsx(L9e,{});if(a)return n.jsx(ut,{title:"Error",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ct,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),n.jsx("h2",{className:"text-2xl font-semibold text-destructive mb-2",children:"Error loading order"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:a}),n.jsxs(ee,{onClick:()=>t("/orders"),children:[n.jsx(tr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})});if(!r)return n.jsx(ut,{title:"Not Found",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ct,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Order not found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"The order you're looking for doesn't exist."}),n.jsxs(ee,{onClick:()=>t("/orders"),children:[n.jsx(tr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})});const o=((l=r.items)==null?void 0:l.reduce((d,u)=>d+Number(u.total_price||0),0))||0;return n.jsx(ut,{title:`Order ${r.po_number}`,children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ca,{children:n.jsxs(Ea,{children:[n.jsx(Jt,{children:n.jsx(Bn,{asChild:!0,children:n.jsx(Ti,{to:"/orders",children:"Orders"})})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(ni,{children:r.po_number})})]})}),n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>t("/orders"),children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(ss,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:r.po_number}),n.jsx("p",{className:"text-muted-foreground",children:"Purchase Order Details"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[n.jsx(Ce,{className:i(r.status),children:r.status}),r.is_delivered&&n.jsxs(Ce,{className:"bg-emerald-500/10 text-emerald-500",children:[n.jsx(or,{className:"h-3 w-3 mr-1"}),"Delivered"]})]})]}),n.jsxs(ee,{variant:"outline",onClick:()=>t(`/orders/${e}/edit`),children:[n.jsx($s,{className:"h-4 w-4 mr-2"}),"Edit Order"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(Y,{children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:n.jsx(ct,{className:"h-5 w-5 text-blue-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-bold",children:r.items_count})]})]})})}),n.jsx(Y,{children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:n.jsx(br,{className:"h-5 w-5 text-green-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold",children:[Number(r.total).toLocaleString()," HUF"]})]})]})})}),n.jsx(Y,{children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:n.jsx(en,{className:"h-5 w-5 text-purple-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Placed On"}),n.jsx("p",{className:"text-2xl font-bold",children:r.placed_on?Kt(new Date(r.placed_on),"MMM dd"):"-"})]})]})})}),n.jsx(Y,{children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg",children:n.jsx(wr,{className:"h-5 w-5 text-orange-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected Delivery"}),n.jsx("p",{className:"text-2xl font-bold",children:r.expected_delivery?Kt(new Date(r.expected_delivery),"MMM dd"):"-"})]})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Sn,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),n.jsx(X,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(dr,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Apartment"}),n.jsx("p",{className:"font-medium",children:r.apartment_name||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(_a,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor"}),n.jsx("p",{className:"font-medium",children:r.vendor_name||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Km,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"PO Number"}),n.jsx("p",{className:"font-medium font-mono",children:r.po_number})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(hne,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Confirmation Code"}),n.jsx("p",{className:"font-medium font-mono",children:r.confirmation_code||"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(wr,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Tracking Number"}),n.jsx("p",{className:"font-medium font-mono",children:r.tracking_number||"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(vs,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Shipping Address"}),n.jsx("p",{className:"font-medium",children:r.shipping_address||"-"})]})]})]})]})})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ct,{className:"h-5 w-5 text-primary"}),"Order Items (",((c=r.items)==null?void 0:c.length)||0,")"]})}),n.jsx(X,{children:r.items&&r.items.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(js,{children:[n.jsx(bs,{children:n.jsxs($t,{children:[n.jsx(Pe,{className:"w-12"}),n.jsx(Pe,{children:"Product Name"}),n.jsx(Pe,{children:"SKU"}),n.jsx(Pe,{className:"text-center",children:"Quantity"}),n.jsx(Pe,{className:"text-right",children:"Unit Price"}),n.jsx(Pe,{className:"text-right",children:"Total"})]})}),n.jsx(ws,{children:r.items.map((d,u)=>n.jsxs($t,{children:[n.jsx(_e,{className:"w-12",children:n.jsx("div",{className:"w-10 h-10 bg-muted/30 rounded flex items-center justify-center",children:d.product_image?n.jsx("img",{src:d.product_image,alt:d.product_name,className:"w-full h-full object-cover rounded",onError:f=>{var m;f.currentTarget.src="",f.currentTarget.style.display="none",(m=f.currentTarget.parentElement)==null||m.classList.add("bg-muted/30")}}):n.jsx(ki,{className:"h-5 w-5 text-muted-foreground"})})}),n.jsx(_e,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:d.product_name}),d.description&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.description})]})}),n.jsx(_e,{children:n.jsx("span",{className:"font-mono text-sm",children:d.sku||"-"})}),n.jsx(_e,{className:"text-center",children:n.jsx(Ce,{variant:"secondary",children:d.quantity})}),n.jsxs(_e,{className:"text-right",children:[Number(d.unit_price).toLocaleString()," HUF"]}),n.jsxs(_e,{className:"text-right font-semibold",children:[Number(d.total_price).toLocaleString()," HUF"]})]},d.id||u))})]})}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(ct,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No items in this order"})]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Y,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2 text-primary",children:[n.jsx(br,{className:"h-5 w-5"}),"Order Summary"]})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Items Total"}),n.jsxs("span",{children:[o.toLocaleString()," HUF"]})]}),n.jsx(Rt,{}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold",children:"Grand Total"}),n.jsxs("span",{className:"text-2xl font-bold text-primary",children:[Number(r.total).toLocaleString()," HUF"]})]})]})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(jr,{className:"h-5 w-5 text-primary"}),"Timeline"]})}),n.jsx(X,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-green-500/10 rounded-full",children:n.jsx(or,{className:"h-4 w-4 text-green-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Order Placed"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.placed_on?Kt(new Date(r.placed_on),"PPP"):"-"})]})]}),r.expected_delivery&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-blue-500/10 rounded-full",children:n.jsx(wr,{className:"h-4 w-4 text-blue-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Expected Delivery"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Kt(new Date(r.expected_delivery),"PPP")})]})]}),r.actual_delivery&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-emerald-500/10 rounded-full",children:n.jsx(or,{className:"h-4 w-4 text-emerald-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Actual Delivery"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Kt(new Date(r.actual_delivery),"PPP")})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-gray-500/10 rounded-full",children:n.jsx(en,{className:"h-4 w-4 text-gray-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Created"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.created_at?Kt(new Date(r.created_at),"PPP p"):"-"})]})]}),r.updated_at&&r.updated_at!==r.created_at&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-gray-500/10 rounded-full",children:n.jsx(lf,{className:"h-4 w-4 text-gray-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Last Updated"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Kt(new Date(r.updated_at),"PPP p")})]})]})]})})]}),r.notes&&n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Sn,{className:"h-5 w-5 text-primary"}),"Notes"]})}),n.jsx(X,{children:n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:r.notes})})]})]})]})]})})};function U9e(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-4 w-16"}),n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-4 w-12"})]})}function V9e(){return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(_,{className:"h-10 w-10 rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(_,{className:"h-9 w-32 mb-2"}),n.jsx(_,{className:"h-4 w-64"})]})]})}function z9e(){return n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-40"})]})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-10 w-full rounded-md"}),n.jsx(_,{className:"h-3 w-32"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-10 w-full rounded-md"}),n.jsx(_,{className:"h-3 w-28"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-28"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-16"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-36"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-16"}),n.jsx(_,{className:"h-20 w-full rounded-md"})]})]})]})}function W9e(){return n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-32"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(_,{className:"h-9 w-32 rounded-md"}),n.jsx(_,{className:"h-9 w-28 rounded-md"})]})]})}),n.jsx(X,{children:n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex gap-3 p-4 border rounded-lg",children:[n.jsx(_,{className:"h-16 w-16 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(_,{className:"h-5 w-48"}),n.jsx(_,{className:"h-8 w-8 rounded"})]}),n.jsx(_,{className:"h-4 w-32"}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(_,{className:"h-3 w-16"}),n.jsx(_,{className:"h-9 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(_,{className:"h-3 w-20"}),n.jsx(_,{className:"h-9 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(_,{className:"h-3 w-12"}),n.jsx(_,{className:"h-9 w-full rounded-md"})]})]})]})]},t))})})]})}function H9e(){return n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-32"})]})}),n.jsxs(X,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-4 w-28"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(_,{className:"h-4 w-28"}),n.jsx(_,{className:"h-4 w-20"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-4 w-20"})]}),n.jsx("div",{className:"h-px bg-border"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(_,{className:"h-5 w-24"}),n.jsx(_,{className:"h-7 w-32"})]})]})]})}function q9e(){return n.jsx(ut,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(U9e,{}),n.jsx(V9e,{}),n.jsx(z9e,{}),n.jsx(W9e,{}),n.jsx(H9e,{}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(_,{className:"h-10 w-24 rounded-md"}),n.jsx(_,{className:"h-10 w-32 rounded-md"})]})]})})}const G9e=()=>{const{id:e}=Mi(),t=fr(),{toast:r}=xr(),{order:s,loading:a,error:i}=OX(e||""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[m,h]=v.useState(""),[x,p]=v.useState(""),[g,j]=v.useState("draft"),[y,w]=v.useState([]),[b,N]=v.useState(""),[S,E]=v.useState(""),[C,A]=v.useState(""),[P,R]=v.useState(""),[I,z]=v.useState(""),[U,L]=v.useState([]),[T,k]=v.useState([]),[O,M]=v.useState(!1),[ie,ce]=v.useState(!1),[D,W]=v.useState(!1),{data:F,isLoading:q}=QY({apartment:o,page_size:1e3}),le=(F==null?void 0:F.results)||[],fe=v.useMemo(()=>le.filter(oe=>!c||oe.vendor===c),[le,c]);v.useEffect(()=>{let oe=!1;return(async()=>{try{M(!0);const[Le,Ie]=await Promise.all([Ql.getApartments({page_size:100}),No.getVendors()]);if(oe)return;L(Le.results||[]),k(Ie.results||[])}catch(Le){console.error("Failed to load apartments/vendors",Le),r({title:"Failed to load data",description:"Could not load apartments or vendors. Please try again.",variant:"destructive"})}finally{oe||M(!1)}})(),()=>{oe=!0}},[r]),v.useEffect(()=>{if(s&&!D&&!O&&U.length>0&&T.length>0){const oe=U.some(Le=>Le.id===s.apartment);l(oe?s.apartment:"");const be=T.some(Le=>Le.id===s.vendor);if(d(be?s.vendor:""),f(s.po_number||""),h(s.confirmation_code||""),p(s.tracking_number||""),j(s.status||"draft"),A(s.notes||""),R(s.shipping_address||""),z(s.expected_delivery||""),s.items&&s.items.length>0){const Le=s.items.map(Ie=>({id:Ie.id,productId:Ie.product||"",productName:Ie.product_name||"",sku:Ie.sku||"",quantity:Ie.quantity||1,unitPrice:Math.round(Number(Ie.unit_price)||0)}));w(Le)}W(!0)}},[s,D,O,U,T]);const B=()=>{const oe=new Set(y.map(Ie=>Ie.productId)),be=fe.find(Ie=>!oe.has(Ie.id))||fe[0];if(!be)return;const Le=Math.round(Number(be.unit_price)||0);w(Ie=>[...Ie,{productId:be.id,productName:be.product,sku:be.sku||"",quantity:1,unitPrice:Le}])},K=oe=>{w(y.filter((be,Le)=>Le!==oe))},se=(oe,be,Le)=>{const Ie=[...y];Ie[oe]={...Ie[oe],[be]:Le},w(Ie)},Ne=async oe=>{var ot,wt;if(oe.preventDefault(),!o||!c||y.length===0){r({title:"Validation Error",description:"Please fill all required fields",variant:"destructive"});return}if(!u.trim()){r({title:"Validation Error",description:"PO Number is required.",variant:"destructive"});return}if(y.some(Qe=>!Qe.productName||Qe.quantity<=0||Qe.unitPrice<0)){r({title:"Validation Error",description:"Each item must have a product, quantity > 0 and price  0.",variant:"destructive"});return}const be=y.reduce((Qe,je)=>Qe+je.quantity*je.unitPrice,0),Le=parseInt(b||"0",10)||0,Ie=parseInt(S||"0",10)||0;let de=be+Le-Ie;de<0&&(de=0);const Re=y.reduce((Qe,je)=>Qe+je.quantity,0);try{ce(!0);const Qe={apartment:o,vendor:c,po_number:u.trim(),confirmation_code:m.trim()||void 0,tracking_number:x.trim()||void 0,status:g,notes:C.trim()||void 0,shipping_address:P.trim()||void 0,expected_delivery:I||void 0,items:y.map(je=>({id:je.id,product_name:je.productName,sku:je.sku,quantity:je.quantity,unit_price:je.unitPrice})),items_count:Re,total:de};await Zs.updateOrder(e,Qe),r({title:"Order Updated",description:`Order updated successfully. Total: ${de} HUF`}),t(`/orders/${e}`)}catch(Qe){console.error("Failed to update order",((ot=Qe==null?void 0:Qe.response)==null?void 0:ot.data)||Qe);let je="Please check the form and try again.";const He=(wt=Qe==null?void 0:Qe.response)==null?void 0:wt.data;if(He!=null&&He.details&&typeof He.details=="object"){const ye=[];Object.entries(He.details).forEach(([Je,sr])=>{Array.isArray(sr)?ye.push(`${Je}: ${sr.join(", ")}`):typeof sr=="string"&&ye.push(`${Je}: ${sr}`)}),ye.length&&(je=ye.join(" | "))}else He!=null&&He.detail&&(je=String(He.detail));r({title:"Failed to update order",description:je,variant:"destructive"})}finally{ce(!1)}},ue=y.reduce((oe,be)=>oe+be.quantity*be.unitPrice,0),ge=parseInt(b||"0",10)||0,xe=parseInt(S||"0",10)||0;let Se=ue+ge-xe;Se<0&&(Se=0);const Me=U.find(oe=>oe.id===o),Oe=T.find(oe=>oe.id===c);o&&c&&fe.length>0;const te=[{value:"draft",label:"Draft"},{value:"pending",label:"Pending"},{value:"sent",label:"Sent"},{value:"confirmed",label:"Confirmed"},{value:"in_transit",label:"In Transit"},{value:"delivered",label:"Delivered"},{value:"received",label:"Received"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}];return a||O||s&&!D?n.jsx(q9e,{}):i?n.jsx(ut,{title:"Error",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Ct,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),n.jsx("h2",{className:"text-2xl font-semibold text-destructive mb-2",children:"Error loading order"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:i}),n.jsxs(ee,{onClick:()=>t("/orders"),children:[n.jsx(tr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})}):s?n.jsx(ut,{title:"Edit Order",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ca,{children:n.jsxs(Ea,{children:[n.jsx(Jt,{children:n.jsx(Bn,{asChild:!0,children:n.jsx(Ti,{to:"/orders",children:"Orders"})})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(Bn,{asChild:!0,children:n.jsx(Ti,{to:`/orders/${e}`,children:s.po_number})})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(ni,{children:"Edit"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>t(`/orders/${e}`),children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(ss,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Edit Order"}),n.jsxs("p",{className:"text-muted-foreground",children:["Update order details for ",s.po_number]})]})]})]}),n.jsx("form",{onSubmit:Ne,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ct,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),n.jsxs(X,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(Y,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(X,{className:"p-4",children:[n.jsxs(G,{htmlFor:"apartment",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(dr,{className:"h-4 w-4 text-primary"}),"Apartment *"]}),n.jsxs(at,{value:o,onValueChange:l,disabled:O,children:[n.jsx(nt,{className:"h-10",children:n.jsx(it,{placeholder:O?"Loading...":"Select apartment"})}),n.jsx(st,{children:U.map(oe=>n.jsx(Z,{value:oe.id,children:n.jsx("span",{children:oe.name})},oe.id))})]}),Me&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Owner: ",Me.owner]})]})}),n.jsx(Y,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(X,{className:"p-4",children:[n.jsxs(G,{htmlFor:"vendor",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(_a,{className:"h-4 w-4 text-primary"}),"Vendor *"]}),n.jsxs(at,{value:c,onValueChange:d,disabled:O,children:[n.jsx(nt,{className:"h-10",children:n.jsx(it,{placeholder:O?"Loading...":"Select vendor"})}),n.jsx(st,{children:T.map(oe=>n.jsx(Z,{value:oe.id,children:n.jsx("span",{children:oe.name})},oe.id))})]}),Oe&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Lead time: ",Oe.lead_time]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"po_number",children:"PO Number *"}),n.jsx(me,{id:"po_number",value:u,onChange:oe=>f(oe.target.value),placeholder:"e.g., PO-2025-00001"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"confirmation_code",children:"Confirmation"}),n.jsx(me,{id:"confirmation_code",value:m,onChange:oe=>h(oe.target.value),placeholder:"e.g., CONF-8831"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"tracking_number",children:"Tracking"}),n.jsx(me,{id:"tracking_number",value:x,onChange:oe=>p(oe.target.value),placeholder:"e.g., TRK-93234"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"status",children:"Status"}),n.jsxs(at,{value:g,onValueChange:j,children:[n.jsx(nt,{className:"h-10",children:n.jsx(it,{placeholder:"Select status"})}),n.jsx(st,{children:te.map(oe=>n.jsx(Z,{value:oe.value,children:oe.label},oe.value))})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"expected_delivery",children:"Expected Delivery"}),n.jsx(me,{id:"expected_delivery",type:"date",value:I,onChange:oe=>z(oe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"shipping_address",children:"Shipping Address"}),n.jsx(me,{id:"shipping_address",value:P,onChange:oe=>R(oe.target.value),placeholder:"Enter shipping address"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"notes",children:"Notes"}),n.jsx(me,{id:"notes",value:C,onChange:oe=>A(oe.target.value),placeholder:"Add any notes about this order"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[n.jsxs(Y,{className:"lg:col-span-1",children:[n.jsx(we,{className:"py-3 px-4 border-b",children:n.jsxs(Ve,{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(ct,{className:"h-4 w-4 text-primary"}),"Available Products (",fe.length,")"]})}),n.jsx(X,{className:"p-2",children:q?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(zt,{className:"h-8 w-8 mx-auto mb-3 opacity-50 animate-spin"}),n.jsx("p",{className:"text-sm",children:"Loading products..."})]}):!o||!c?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(dr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"Please select apartment and vendor"}),n.jsx("p",{className:"text-sm",children:"Products will appear here"})]}):fe.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(ct,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No products found"}),n.jsx("p",{className:"text-sm",children:"This apartment/vendor has no products"})]}):n.jsx("div",{className:"max-h-[450px] overflow-y-auto",children:n.jsx("div",{children:fe.map((oe,be)=>{const Le=y.some(Ie=>Ie.productId===oe.id);return n.jsxs("div",{onClick:()=>!Le&&B(),className:`group flex items-center gap-2 px-2 py-1.5 transition-all cursor-pointer ${Le?"opacity-50 cursor-not-allowed bg-muted/30":"hover:bg-accent hover:shadow-sm"} ${be<fe.length-1?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 bg-muted/30 rounded flex items-center justify-center flex-shrink-0",children:oe.product_image?n.jsx("img",{src:oe.product_image,alt:oe.product,className:"w-full h-full object-cover rounded",onError:Ie=>{Ie.currentTarget.src="",Ie.currentTarget.style.display="none"}}):n.jsx(ki,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("p",{className:"font-medium text-xs truncate flex-1",children:oe.product}),oe.sku&&n.jsx("span",{className:"text-[10px] text-muted-foreground",children:oe.sku})]}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:oe.vendor_name||"No vendor"})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsx("p",{className:"font-semibold text-xs",children:Number(oe.unit_price).toLocaleString()}),Le?n.jsx("span",{className:"text-[10px] text-green-600 dark:text-green-500 font-medium",children:"Added"}):n.jsx("span",{className:"text-[10px] text-muted-foreground",children:"HUF"})]})]},oe.id)})})})})]}),n.jsxs(Y,{className:"lg:col-span-1",children:[n.jsx(we,{className:"py-3 px-4 border-b",children:n.jsxs(Ve,{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(ss,{className:"h-4 w-4 text-primary"}),"Order Items (",y.length,")"]}),y.length>0&&n.jsxs("span",{className:"text-xs font-normal text-muted-foreground",children:["Total: ",y.reduce((oe,be)=>oe+be.quantity*be.unitPrice,0).toLocaleString()," HUF"]})]})}),n.jsx(X,{className:"p-2",children:y.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(ss,{className:"h-6 w-6 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-xs font-medium",children:"No items in order"}),n.jsx("p",{className:"text-[10px] mt-1",children:"Click products to add them"})]}):n.jsx("div",{className:"max-h-[450px] overflow-y-auto",children:n.jsx("div",{children:y.map((oe,be)=>{const Le=fe.find(Ie=>Ie.id===oe.productId);return n.jsxs("div",{className:`group flex items-center gap-2 px-2 py-1.5 hover:bg-accent transition-all ${be<y.length-1?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 bg-muted/30 rounded flex items-center justify-center flex-shrink-0",children:Le!=null&&Le.product_image?n.jsx("img",{src:Le.product_image,alt:oe.productName,className:"w-full h-full object-cover rounded",onError:Ie=>{Ie.currentTarget.src="",Ie.currentTarget.style.display="none"}}):n.jsx(ki,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("p",{className:"text-xs font-medium truncate flex-1",children:oe.productName}),oe.sku&&n.jsx("span",{className:"text-[10px] text-muted-foreground",children:oe.sku})]}),n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[n.jsx("button",{type:"button",onClick:()=>se(be,"quantity",Math.max(1,oe.quantity-1)),className:"w-5 h-5 rounded bg-muted/50 hover:bg-muted flex items-center justify-center transition-colors",children:n.jsx(O9,{className:"h-3 w-3"})}),n.jsx("input",{type:"number",min:"1",value:oe.quantity,onChange:Ie=>se(be,"quantity",parseInt(Ie.target.value)||1),className:"w-10 h-5 text-[11px] text-center border border-input bg-background rounded px-1"}),n.jsx("button",{type:"button",onClick:()=>se(be,"quantity",oe.quantity+1),className:"w-5 h-5 rounded bg-muted/50 hover:bg-muted flex items-center justify-center transition-colors",children:n.jsx(Fn,{className:"h-3 w-3"})}),n.jsxs("span",{className:"text-[10px] text-muted-foreground ml-1",children:[" ",oe.unitPrice.toLocaleString()]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs font-semibold",children:(oe.quantity*oe.unitPrice).toLocaleString()}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"HUF"})]}),n.jsx("button",{type:"button",onClick:()=>K(be),className:"opacity-0 group-hover:opacity-100 w-5 h-5 rounded-full bg-destructive/10 hover:bg-destructive/20 flex items-center justify-center transition-all",children:n.jsx(Zn,{className:"h-3 w-3 text-destructive"})})]})]},be)})})})})]})]}),n.jsxs(Y,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2 text-primary",children:[n.jsx(br,{className:"h-5 w-5"}),"Order Summary"]})}),n.jsx(X,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Items"}),n.jsx("p",{className:"text-3xl font-bold",children:y.length})]}),n.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Units"}),n.jsx("p",{className:"text-3xl font-bold",children:y.reduce((oe,be)=>oe+be.quantity,0)})]}),n.jsxs("div",{className:"space-y-2 p-4 bg-background/50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsx("span",{children:"Items Total"}),n.jsxs("span",{children:[ue," HUF"]})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Shipping Cost"}),n.jsx(me,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:b,onChange:oe=>N(oe.target.value)})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Discount"}),n.jsx(me,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:S,onChange:oe=>E(oe.target.value)})]}),n.jsx(Rt,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold",children:"Total to Pay"}),n.jsxs("span",{className:"text-2xl font-bold text-primary",children:[Se," HUF"]})]})]})]})})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>t(`/orders/${e}`),children:"Cancel"}),n.jsx(ee,{type:"submit",className:"gap-2",disabled:ie,children:ie?n.jsxs(n.Fragment,{children:[n.jsx(zt,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Qd,{className:"h-4 w-4"}),"Save Changes"]})})]})]})})]})}):n.jsx(ut,{title:"Not Found",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ct,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Order not found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"The order you're looking for doesn't exist."}),n.jsxs(ee,{onClick:()=>t("/orders"),children:[n.jsx(tr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})})},ud=ur.create({baseURL:Fi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});ud.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));ud.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});const jg={getDeliveries:async(e={})=>{const t=new URLSearchParams;return e.search&&t.append("search",e.search),e.status&&t.append("status",e.status),e.priority&&t.append("priority",e.priority),e.apartment&&t.append("apartment",e.apartment),e.vendor&&t.append("vendor",e.vendor),e.page&&t.append("page",e.page.toString()),e.page_size&&t.append("page_size",e.page_size.toString()),(await ud.get(`/deliveries/?${t.toString()}`)).data},getDelivery:async e=>(await ud.get(`/deliveries/${e}/`)).data,createDelivery:async e=>(await ud.post("/deliveries/",e)).data,updateDelivery:async(e,t)=>(await ud.patch(`/deliveries/${e}/`,t)).data,deleteDelivery:async e=>{await ud.delete(`/deliveries/${e}/`)},updateStatus:async(e,t,r)=>(await ud.patch(`/deliveries/${e}/`,{status:t,...r})).data},K9e=({open:e,onOpenChange:t,delivery:r})=>{const[s,a]=v.useState(null),[i,o]=v.useState(!1);if(v.useEffect(()=>{e&&(r!=null&&r.id)&&(o(!0),jg.getDelivery(r.id).then(x=>a(x)).catch(x=>console.error("Failed to fetch delivery details:",x)).finally(()=>o(!1)))},[e,r==null?void 0:r.id]),!r)return null;const l=x=>({Scheduled:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/30","In Transit":"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/30",Delivered:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/30",Delayed:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/30",Cancelled:"bg-gray-500/10 text-gray-600 dark:text-gray-400 border-gray-500/30",Returned:"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/30"})[x]||"bg-muted text-muted-foreground",c=x=>({Urgent:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/30",High:"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/30",Medium:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/30",Low:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/30"})[x]||"bg-muted text-muted-foreground",d=s||r,u=s==null?void 0:s.apartment_details,f=s==null?void 0:s.vendor_details,m=u==null?void 0:u.client_details,h=(s==null?void 0:s.order_items)||[];return n.jsx(En,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsx(An,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(kn,{className:"text-lg font-bold",children:"Delivery Details"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-0.5 font-mono",children:d.order_reference})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ce,{className:l(d.status),variant:"outline",children:d.status}),n.jsxs(Ce,{className:c(d.priority),variant:"outline",children:[d.priority," Priority"]})]})]})}),i?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(zt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs(n.Fragment,{children:[n.jsx(Rt,{className:"my-2"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(Y,{className:"border-border/50",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:n.jsx(vs,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Delivery Address"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(u==null?void 0:u.name)||d.apartment_name}),(u==null?void 0:u.address)&&n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:u.address})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:n.jsx(qn,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Contact Person"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(m==null?void 0:m.name)||(u==null?void 0:u.owner)||"Not specified"})]})]}),(m==null?void 0:m.phone)&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:n.jsx(xo,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Contact Phone"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:m.phone})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-orange-500/10",children:n.jsx(wr,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Vendor"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(f==null?void 0:f.name)||d.vendor_name}),(f==null?void 0:f.delivery_terms)&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Carrier: ",f.delivery_terms]})]})]}),(f==null?void 0:f.contact_person)&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-indigo-500/10",children:n.jsx(dr,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Vendor Contact"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:f.contact_person})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/10",children:n.jsx(cn,{className:"h-4 w-4 text-cyan-600 dark:text-cyan-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Vendor Email"}),f!=null&&f.email?n.jsx("a",{href:`mailto:${f.email}`,className:"text-sm font-medium text-primary hover:underline mt-1 block",children:f.email}):n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Not available"})]})]}),(f==null?void 0:f.website)&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-teal-500/10",children:n.jsx($l,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Website"}),n.jsxs("a",{href:f.website.startsWith("http")?f.website:`https://${f.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-primary hover:underline mt-1 flex items-center gap-1",children:[f.website,n.jsx(tP,{className:"h-3 w-3"})]})]})]})]})]})})}),n.jsx(Y,{className:"border-border/50",children:n.jsxs(X,{className:"p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[n.jsx(en,{className:"h-4 w-4 text-primary"}),"Delivery Schedule"]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Delivery"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(s==null?void 0:s.expected_date)||d.expected_date})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Time Slot"}),n.jsxs("p",{className:"text-sm font-semibold mt-1 flex items-center gap-1",children:[n.jsx(jr,{className:"h-3.5 w-3.5 text-muted-foreground"}),(s==null?void 0:s.time_slot)||d.time_slot||"Not specified"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Actual Delivery"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(s==null?void 0:s.actual_date)||n.jsx("span",{className:"text-muted-foreground font-normal",children:"Pending"})})]})]})]})}),n.jsx(Y,{className:"border-border/50",children:n.jsxs(X,{className:"p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[n.jsx(ct,{className:"h-4 w-4 text-primary"}),"Package Details"]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(Km,{className:"h-3 w-3"}),"Order Number"]}),n.jsx(Ce,{variant:"outline",className:"text-xs mt-1.5 font-mono",children:d.order_reference})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(ig,{className:"h-3 w-3"}),"Items Count"]}),n.jsxs("p",{className:"text-sm font-semibold mt-1",children:[(s==null?void 0:s.order_items_count)||h.length||"-"," items"]})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(L9,{className:"h-3 w-3"}),"Weight"]}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:"-"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(br,{className:"h-3 w-3"}),"Order Total"]}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:s!=null&&s.order_total?`${Number(s.order_total).toFixed(2)}`:"-"})]})]}),((s==null?void 0:s.tracking_number)||d.tracking_number)&&n.jsxs("div",{className:"mt-3 pt-3 border-t",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Tracking Number"}),n.jsx(Ce,{className:"bg-primary/10 text-primary text-xs font-mono mt-1.5",children:(s==null?void 0:s.tracking_number)||d.tracking_number})]})]})}),h.length>0&&n.jsx(Y,{className:"border-border/50",children:n.jsxs(X,{className:"p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[n.jsx(ig,{className:"h-4 w-4 text-primary"}),"Delivered Products (",h.length,")"]}),n.jsx("div",{className:"rounded-lg border overflow-hidden",children:n.jsxs(js,{children:[n.jsx(bs,{children:n.jsxs($t,{className:"bg-muted/50",children:[n.jsx(Pe,{className:"text-xs font-semibold",children:"Product"}),n.jsx(Pe,{className:"text-xs font-semibold",children:"SKU"}),n.jsx(Pe,{className:"text-xs font-semibold text-center",children:"Qty"}),n.jsx(Pe,{className:"text-xs font-semibold text-right",children:"Unit Price"}),n.jsx(Pe,{className:"text-xs font-semibold text-right",children:"Total"})]})}),n.jsx(ws,{children:h.map((x,p)=>n.jsxs($t,{children:[n.jsx(_e,{className:"text-sm font-medium",children:x.product_name}),n.jsx(_e,{className:"text-xs text-muted-foreground font-mono",children:x.sku||"-"}),n.jsx(_e,{className:"text-sm text-center",children:x.quantity}),n.jsxs(_e,{className:"text-sm text-right",children:["",Number(x.unit_price).toFixed(2)]}),n.jsxs(_e,{className:"text-sm font-semibold text-right",children:["",Number(x.total_price).toFixed(2)]})]},x.id||p))})]})})]})}),n.jsx(Y,{className:"border-border/50",children:n.jsxs(X,{className:"p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[n.jsx(Sn,{className:"h-4 w-4 text-primary"}),"Notes & Instructions"]}),(s==null?void 0:s.order_notes)&&n.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-amber-500/5 border border-amber-500/20 mb-4",children:[n.jsx(Ct,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-amber-700 dark:text-amber-300",children:"Special Instructions"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:s.order_notes})]})]}),s!=null&&s.status_history&&s.status_history.length>0?n.jsxs("div",{className:"space-y-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-3",children:"Status History"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-[11px] top-3 bottom-3 w-0.5 bg-border"}),n.jsx("div",{className:"space-y-3",children:s.status_history.map((x,p)=>{const g=b=>{switch(b){case"Delivered":return{icon:or,color:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/30"};case"In Transit":return{icon:wr,color:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/30"};case"Scheduled":return{icon:en,color:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/30"};case"Delayed":return{icon:jr,color:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/30"};case"Cancelled":return{icon:Ct,color:"bg-gray-500/10 text-gray-600 dark:text-gray-400 border-gray-500/30"};case"Returned":return{icon:ct,color:"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/30"};default:return{icon:Sn,color:"bg-muted text-muted-foreground"}}},{icon:j,color:y}=g(x.status),w=p===0;return n.jsxs("div",{className:"relative flex gap-3 pl-0",children:[n.jsx("div",{className:`relative z-10 flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center ${y} ${w?"ring-2 ring-primary/20":""}`,children:n.jsx(j,{className:"h-3 w-3"})}),n.jsxs("div",{className:`flex-1 pb-3 ${w?"":"opacity-80"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ce,{variant:"outline",className:`text-xs ${y}`,children:x.status}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(x.created_at).toLocaleString()}),x.changed_by&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["by ",x.changed_by]})]}),x.notes&&n.jsx("p",{className:"text-sm mt-1 text-foreground",children:x.notes}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[x.received_by&&n.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(qn,{className:"h-3 w-3"}),"Received by: ",x.received_by]}),x.location&&n.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(vs,{className:"h-3 w-3"}),x.location]}),x.delay_reason&&n.jsxs("span",{className:"text-xs text-red-600 dark:text-red-400 flex items-center gap-1",children:[n.jsx(Ct,{className:"h-3 w-3"}),"Reason: ",x.delay_reason]})]})]})]},x.id)})})]})]}):(s==null?void 0:s.notes)&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery Notes"}),n.jsx("p",{className:"text-sm mt-1",children:s.notes})]})]})}),(s==null?void 0:s.received_by)&&n.jsx(Y,{className:"border-green-500/30 bg-green-500/5",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:n.jsx(or,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Received By"}),n.jsx("p",{className:"text-sm font-semibold",children:s.received_by}),s.actual_date&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["on ",s.actual_date]})]})]})})})]})]})]})})};function Y9e(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}const DX={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},GO=V.createContext(null);function X9e(){var e;return((e=v.useContext(GO))===null||e===void 0?void 0:e.status)||DX.NOT_LOADED}function Q9e(){return X9e()===DX.LOADED}const Z9e=V.createContext(null),i$=new Set;function J9e(...e){const t=JSON.stringify(e);i$.has(t)||(i$.add(t),console.error(...e))}const IX=(e=null)=>{const t=v.useContext(GO),{map:r}=v.useContext(Z9e)||{};if(t===null)return J9e("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:s}=t;return e!==null?s[e]||null:r||s.default||null};function e7e(e){const t=Q9e(),r=v.useContext(GO);return v.useEffect(()=>{!t||!r||r.importLibrary(e)},[t,r,e]),(r==null?void 0:r.loadedLibraries[e])||null}function dj(e,t,r){v.useEffect(()=>{if(!e||!t||!r)return;const s=google.maps.event.addListener(e,t,r);return()=>s.remove()},[e,t,r])}function uj(e,t,r){v.useEffect(()=>{e&&(e[t]=r)},[e,t,r])}function o$(e,t,r){v.useEffect(()=>{if(!(!e||!t||!r))return e.addEventListener(t,r),()=>e.removeEventListener(t,r)},[e,t,r])}class t7e{constructor(){this.renderedStyles=new Set,this.styleElement=null}getStyleElement(){return this.styleElement||(this.styleElement=document.createElement("style"),this.styleElement.setAttribute("data-rgm-anchor-styles",""),document.head.appendChild(this.styleElement)),this.styleElement}addAdvancedMarkerPointerEventsOverwrite(){if(this.renderedStyles.has("marker-pointer-events"))return;const t=this.getStyleElement();t.textContent+=`
      gmp-advanced-marker[data-origin='rgm'] {
        pointer-events: none !important;
      }
    `,this.renderedStyles.add("marker-pointer-events")}cleanup(){this.styleElement&&(this.styleElement.remove(),this.styleElement=null,this.renderedStyles.clear())}}const r7e=new t7e;function n7e(e,t){var r;if(!(!((r=google==null?void 0:google.maps)===null||r===void 0)&&r.version))return;const s=google.maps.version.split("."),a=parseInt(s[0],10),i=parseInt(s[1],10);return a>e||a===e&&i>=t}const s7e=V.createContext(null),a7e={TOP_LEFT:["0%","0%"],TOP_CENTER:["50%","0%"],TOP:["50%","0%"],TOP_RIGHT:["100%","0%"],LEFT_CENTER:["0%","50%"],LEFT_TOP:["0%","0%"],LEFT:["0%","50%"],LEFT_BOTTOM:["0%","100%"],RIGHT_TOP:["100%","0%"],RIGHT:["100%","50%"],RIGHT_CENTER:["100%","50%"],RIGHT_BOTTOM:["100%","100%"],BOTTOM_LEFT:["0%","100%"],BOTTOM_CENTER:["50%","100%"],BOTTOM:["50%","100%"],BOTTOM_RIGHT:["100%","100%"],CENTER:["50%","50%"]},i7e=v.forwardRef((e,t)=>{const{children:r,style:s,className:a,anchorPoint:i}=e,[o,l]=l7e(e),c=v.useMemo(()=>o?{marker:o}:null,[o]);return v.useImperativeHandle(t,()=>o,[o]),l?V.createElement(s7e.Provider,{value:c},po.createPortal(V.createElement(o7e,{anchorPoint:i,styles:s,className:a},r),l)):null});i7e.displayName="AdvancedMarker";function BA(e){return e.nodeType===Node.ELEMENT_NODE}const o7e=({children:e,styles:t,className:r})=>V.createElement("div",{className:r,style:t},e);function l7e(e){const[t,r]=v.useState(null),[s,a]=v.useState(null),i=IX(),o=e7e("marker"),{children:l,onClick:c,className:d,onMouseEnter:u,onMouseLeave:f,onDrag:m,onDragStart:h,onDragEnd:x,collisionBehavior:p,clickable:g,draggable:j,position:y,title:w,zIndex:b,anchorPoint:N,anchorLeft:S,anchorTop:E}=e,C=v.Children.count(l);return v.useEffect(()=>{if(!i||!o)return;const A=new o.AdvancedMarkerElement;A.map=i,r(A);let P=null;return C>0&&(P=document.createElement("div"),A.content=P,a(P)),()=>{A.map=null,P==null||P.remove(),r(null),a(null)}},[i,o,C]),v.useEffect(()=>{!(t!=null&&t.content)||!BA(t.content)||C>0||(t.content.className=d??"")},[t,d,C]),c7e(t,N,S,E,C>0),uj(t,"position",y),uj(t,"title",w??""),uj(t,"zIndex",b),uj(t,"collisionBehavior",p),v.useEffect(()=>{t&&(j!==void 0?t.gmpDraggable=j:m||h||x?t.gmpDraggable=!0:t.gmpDraggable=!1)},[t,j,m,x,h]),v.useEffect(()=>{if(!t)return;const A=g!==void 0||!!c||!!u||!!f;t.gmpClickable=A,A&&(t!=null&&t.content)&&BA(t.content)&&(t.content.style.pointerEvents="all",c&&(t.content.style.cursor="pointer"))},[t,g,c,u,f]),dj(t,"click",c),dj(t,"drag",m),dj(t,"dragstart",h),dj(t,"dragend",x),o$(t==null?void 0:t.element,"mouseenter",u),o$(t==null?void 0:t.element,"mouseleave",f),[t,s]}function c7e(e,t,r,s,a){v.useEffect(()=>{if(!e||!a)return;const i=n7e(3,62),o=e.content;if(!(!o||!BA(o))){if(r!==void 0||s!==void 0){i||console.warn(`AdvancedMarker: The anchorLeft and anchorTop props are only supported in Google Maps API version 3.62 and above. The current version is ${google.maps.version}.`),e.anchorLeft=r,e.anchorTop=s,t!==void 0&&console.warn("AdvancedMarker: the anchorPoint prop is ignored when anchorLeft and/or anchorTop are set.");return}if(t!==void 0){const[l,c]=t??a7e.BOTTOM,d=`calc(-1 * ${l})`,u=`calc(-1 * ${c})`;i?(e.anchorLeft=d,e.anchorTop=u,o.style.transform=""):(o.style.transform=`translate(50%, 100%) translate(${d}, ${u})`,e.dataset.origin="rgm",r7e.addAdvancedMarkerPointerEventsOverwrite())}}},[e,t,r,s,a])}function d7e(e){const[t,r]=v.useState(null),s=IX(),{onClick:a,onDrag:i,onDragStart:o,onDragEnd:l,onMouseOver:c,onMouseOut:d}=e,u=Y9e(e,["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"]),{position:f,draggable:m}=u;return v.useEffect(()=>{if(!s){s===void 0&&console.error("<Marker> has to be inside a Map component.");return}const h=new google.maps.Marker(u);return h.setMap(s),r(h),()=>{h.setMap(null),r(null)}},[s]),v.useEffect(()=>{if(!t)return;const h=t,x=google.maps.event;return a&&x.addListener(h,"click",a),i&&x.addListener(h,"drag",i),o&&x.addListener(h,"dragstart",o),l&&x.addListener(h,"dragend",l),c&&x.addListener(h,"mouseover",c),d&&x.addListener(h,"mouseout",d),t.setDraggable(!!m),()=>{x.clearInstanceListeners(h)}},[t,m,a,i,o,l,c,d]),v.useEffect(()=>{t&&u&&t.setOptions(u)},[t,u]),v.useEffect(()=>{m||!f||!t||t.setPosition(f)},[m,f,t]),t}const u7e=v.forwardRef((e,t)=>{const r=d7e(e);return v.useImperativeHandle(t,()=>r,[r]),V.createElement(V.Fragment,null)});u7e.displayName="Marker";const f7e=({value:e,onChange:t,placeholder:r})=>{v.useState(!1);const[s,a]=v.useState(e),[i,o]=v.useState(null),l=v.useRef(null),c=v.useRef(null);return v.useEffect(()=>{a(e)},[e]),v.useEffect(()=>{if(!(!l.current||!window.google))return c.current=new google.maps.places.Autocomplete(l.current,{types:["geocode","establishment"],fields:["formatted_address","geometry","name"]}),c.current.addListener("place_changed",()=>{var u,f,m,h;const d=(u=c.current)==null?void 0:u.getPlace();if(d!=null&&d.formatted_address){const x=d.formatted_address;a(x),t(x,(m=(f=d.geometry)==null?void 0:f.location)==null?void 0:m.toJSON()),(h=d.geometry)!=null&&h.location&&o(d.geometry.location.toJSON())}}),()=>{c.current&&google.maps.event.clearInstanceListeners(c.current)}},[t]),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Rs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{value:s,onChange:d=>{a(d.target.value),t(d.target.value)},placeholder:r,className:"pl-10"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"To enable location search and map selection, add your Google Maps API key in LocationPicker.tsx"})]})},m7e=({open:e,onOpenChange:t,delivery:r,onStatusUpdate:s})=>{var z;const{toast:a}=xr(),[i,o]=v.useState(""),[l,c]=v.useState(""),[d,u]=v.useState(""),[f,m]=v.useState(""),[h,x]=v.useState(""),[p,g]=v.useState(""),[j,y]=v.useState(""),[w,b]=v.useState(""),[N,S]=v.useState(""),[E,C]=v.useState(""),A=[{value:"Confirmed",label:"Confirmed",icon:jr,color:"text-yellow-600 dark:text-yellow-400",bgColor:"bg-yellow-500/10",borderColor:"border-yellow-500/30",hoverBg:"hover:bg-yellow-500/15",selectedBorder:"border-yellow-500",selectedBg:"bg-yellow-500/10"},{value:"In Transit",label:"In Transit",icon:wr,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/30",hoverBg:"hover:bg-blue-500/15",selectedBorder:"border-blue-500",selectedBg:"bg-blue-500/10"},{value:"Delayed",label:"Delayed",icon:fo,color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-500/10",borderColor:"border-orange-500/30",hoverBg:"hover:bg-orange-500/15",selectedBorder:"border-orange-500",selectedBg:"bg-orange-500/10"},{value:"Received",label:"Received",icon:Ane,color:"text-green-600 dark:text-green-400",bgColor:"bg-green-500/10",borderColor:"border-green-500/30",hoverBg:"hover:bg-green-500/15",selectedBorder:"border-green-500",selectedBg:"bg-green-500/10"},{value:"Returned",label:"Returned",icon:El,color:"text-red-600 dark:text-red-400",bgColor:"bg-red-500/10",borderColor:"border-red-500/30",hoverBg:"hover:bg-red-500/15",selectedBorder:"border-red-500",selectedBg:"bg-red-500/10"}],P=U=>{o(U)},R=()=>{if(!r||!i)return;if(i==="Received"&&!l){a({title:"Validation Error",description:"Please enter who received the delivery",variant:"destructive"});return}let U="";switch(i){case"Confirmed":U="Vendor confirmed the order";break;case"In Transit":U=j?`Package is at ${j}`:"Package is in transit";break;case"Delayed":U=w||"Delivery delayed";break;case"Received":U=`Received by ${l}`;break;case"Returned":U=w||"Items returned to vendor";break;default:U=`Status changed to ${i}`}s(r.id,i,{receivedBy:i==="Received"?l:void 0,actualDelivery:i==="Received"?d||new Date().toISOString().split("T")[0]:void 0,statusNotes:U,location:j||void 0,delayReason:i==="Delayed"||i==="Returned"?w:void 0}),a({title:"Status Updated",description:`Delivery status changed to ${i}`}),o(""),c(""),u(""),m(""),x(""),g(""),y(""),b(""),S(""),C(""),t(!1)};if(!r)return null;const I=()=>{if(!i)return null;switch(i){case"Confirmed":return n.jsx("div",{className:"space-y-3",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"scheduledReason",className:"text-sm font-medium",children:"Confirmation Notes"}),n.jsx(Mn,{id:"scheduledReason",placeholder:"Add any notes about vendor confirmation...",value:h,onChange:U=>x(U.target.value),rows:2,className:"resize-none"})]})});case"In Transit":return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"estimatedDelivery",className:"text-sm font-medium",children:"Estimated Delivery Time"}),n.jsx(me,{id:"estimatedDelivery",type:"datetime-local",value:p,onChange:U=>g(U.target.value),className:"h-10"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"currentLocation",className:"text-sm font-medium",children:"Current Location"}),n.jsx(f7e,{value:j,onChange:U=>y(U),placeholder:"Search location or select from map"})]})]});case"Received":return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"receivedBy",className:"text-sm font-medium",children:["Received By ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(me,{id:"receivedBy",placeholder:"Enter recipient name",value:l,onChange:U=>c(U.target.value),className:"h-10"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"actualDelivery",className:"text-sm font-medium",children:"Delivery Date"}),n.jsx(me,{id:"actualDelivery",type:"date",value:d,onChange:U=>u(U.target.value),className:"h-10"})]})]});case"Delayed":return n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"delayReason",className:"text-sm font-medium",children:"Reason for Delay"}),n.jsx(Mn,{id:"delayReason",placeholder:"Explain why the delivery is delayed...",value:w,onChange:U=>b(U.target.value),rows:3,className:"resize-none"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"currentLocation",className:"text-sm font-medium",children:"Current Location (Optional)"}),n.jsx(me,{id:"currentLocation",placeholder:"Where is the package now?",value:j,onChange:U=>y(U.target.value),className:"h-10"})]})]});case"Returned":return n.jsx("div",{className:"space-y-3",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"delayReason",className:"text-sm font-medium",children:"Reason for Return"}),n.jsx(Mn,{id:"delayReason",placeholder:"Explain why items are being returned to vendor...",value:w,onChange:U=>b(U.target.value),rows:3,className:"resize-none"})]})});default:return null}};return n.jsx(En,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-xl",children:[n.jsxs(An,{className:"space-y-2 pb-3 border-b",children:[n.jsx(kn,{className:"text-lg font-semibold",children:"Update Delivery Status"}),n.jsxs(zs,{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-mono text-sm font-medium text-primary",children:r.order_reference}),n.jsx("span",{className:"text-muted-foreground",children:""}),n.jsx("span",{className:"text-sm",children:r.apartment_name})]})]}),n.jsxs("div",{className:"space-y-4 py-3",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(G,{className:"text-sm font-semibold",children:"Select Status"}),n.jsx("div",{className:"grid grid-cols-4 gap-2",children:A.map(U=>{const L=U.icon,T=i===U.value;return n.jsxs("button",{onClick:()=>P(U.value),className:`flex flex-col items-center gap-2 p-3 rounded-lg border-2 transition-all ${T?`${U.selectedBorder} ${U.selectedBg}`:`${U.borderColor} ${U.hoverBg}`}`,children:[n.jsx("div",{className:`p-2 rounded-lg ${U.bgColor}`,children:n.jsx(L,{className:`h-4 w-4 ${U.color}`})}),n.jsx("span",{className:"text-xs font-medium",children:U.label})]},U.value)})})]}),i&&n.jsxs("div",{className:"p-4 rounded-lg bg-muted/40 border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:((z=A.find(U=>U.value===i))==null?void 0:z.icon)&&(()=>{const U=A.find(L=>L.value===i).icon;return n.jsx(U,{className:"h-3.5 w-3.5 text-primary"})})()}),n.jsxs("p",{className:"text-sm font-semibold",children:[i," Details"]})]}),I()]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-3 border-t",children:[n.jsx(ee,{variant:"outline",onClick:()=>t(!1),className:"h-10",children:"Cancel"}),n.jsx(ee,{onClick:R,disabled:!i,className:"h-10",children:"Update Status"})]})]})})},h7e=({open:e,onOpenChange:t,delivery:r})=>{if(!r)return null;const s=[{date:"2025-11-10 14:30",status:r.status==="Delivered"?"Delivered":r.status==="In Transit"?"Out for Delivery":"Package Ready",location:r.status==="Delivered"?r.apartment_name:"Local Hub",description:r.status==="Delivered"?"Package delivered successfully":r.status==="In Transit"?"Package is out for delivery":"Package is ready for dispatch",active:!0},{date:"2025-11-09 10:15",status:"In Transit",location:"Distribution Center",description:"Package is on the way to delivery location",active:!1},{date:"2025-11-08 16:45",status:"Package Dispatched",location:`${r.vendor_name} Warehouse`,description:"Package has been dispatched from warehouse",active:!1},{date:"2025-11-08 09:00",status:"Order Confirmed",location:r.vendor_name,description:"Order has been confirmed and is being prepared",active:!1}];return n.jsx(En,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(An,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-primary/10 rounded-lg",children:n.jsx(wr,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(kn,{className:"text-base font-bold",children:"Track Delivery"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.order_reference})]})]})}),n.jsx(Rt,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(Y,{className:"border bg-gradient-to-br from-primary/5 to-primary/10",children:n.jsxs(X,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-primary/10 rounded",children:n.jsx(ct,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Tracking Number"}),n.jsx("p",{className:"text-sm font-bold font-mono",children:r.tracking_number})]})]}),n.jsx(Ce,{className:"bg-primary text-primary-foreground",children:"Carrier"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 pt-2 border-t border-primary/20",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vs,{className:"h-3.5 w-3.5 text-primary flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Destination"}),n.jsx("p",{className:"text-sm font-medium truncate",children:r.apartment_name})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-3.5 w-3.5 text-primary flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"From"}),n.jsx("p",{className:"text-sm font-medium truncate",children:r.vendor_name})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(en,{className:"h-3.5 w-3.5 text-primary flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"ETA"}),n.jsx("p",{className:"text-sm font-medium",children:r.expected_date})]})]})]})]})}),n.jsx(Y,{children:n.jsxs(X,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b",children:[n.jsx("div",{className:"p-1 bg-primary/10 rounded",children:n.jsx(jr,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold",children:"Tracking History"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Latest updates"})]})]}),n.jsx("div",{className:"space-y-4",children:s.map((a,i)=>n.jsxs("div",{className:"flex gap-3 relative",children:[i!==s.length-1&&n.jsx("div",{className:"absolute left-3.5 top-8 bottom-0 w-0.5 bg-gradient-to-b from-primary/50 to-border"}),n.jsx("div",{className:"relative flex-shrink-0",children:n.jsx("div",{className:`w-7 h-7 rounded-full border-2 border-background flex items-center justify-center ${a.active?"bg-primary shadow-lg shadow-primary/20":"bg-muted"}`,children:a.active?n.jsx(wr,{className:"h-3.5 w-3.5 text-primary-foreground"}):n.jsx(or,{className:"h-3.5 w-3.5 text-muted-foreground"})})}),n.jsxs("div",{className:"flex-1 pb-2",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsx("p",{className:`text-sm font-semibold ${a.active?"text-primary":""}`,children:a.status}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:a.date})]}),n.jsx("p",{className:"text-xs text-muted-foreground mb-0.5",children:a.description}),n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(vs,{className:"h-3 w-3"}),a.location]})]})]},i))})]})})]})]})})};function p7e(e={}){const[t,r]=v.useState([]),[s,a]=v.useState(!0),[i,o]=v.useState(null),[l,c]=v.useState(0),d=v.useCallback(async()=>{try{a(!0),o(null);const m=await jg.getDeliveries(e);r(m.results||[]),c(m.count||0)}catch(m){console.error("Failed to fetch deliveries:",m),o(m.message||"Failed to fetch deliveries"),r([])}finally{a(!1)}},[e.search,e.status,e.priority,e.apartment,e.vendor,e.page,e.page_size]);return v.useEffect(()=>{d()},[d]),{deliveries:t,loading:s,error:i,totalCount:l,refetch:d,updateStatus:async(m,h,x)=>{await jg.updateStatus(m,h,x),await d()},deleteDelivery:async m=>{await jg.deleteDelivery(m),await d()}}}function x7e(){const[e,t]=v.useState({scheduled:0,in_transit:0,delivered:0,delayed:0,total:0}),[r,s]=v.useState(!0);return v.useEffect(()=>{(async()=>{try{s(!0);const o=(await jg.getDeliveries({page_size:1e3})).results||[];t({scheduled:o.filter(l=>l.status==="Scheduled").length,in_transit:o.filter(l=>l.status==="In Transit").length,delivered:o.filter(l=>l.status==="Delivered").length,delayed:o.filter(l=>l.status==="Delayed").length,total:o.length})}catch(i){console.error("Failed to fetch delivery statistics:",i)}finally{s(!1)}})()},[]),{statistics:e,loading:r}}function g7e(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{iconBg:"bg-blue-500/10"},{iconBg:"bg-yellow-500/10"},{iconBg:"bg-green-500/10"},{iconBg:"bg-orange-500/10"}].map((e,t)=>n.jsx(Y,{className:"card-hover-effect",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-8 w-12"}),n.jsx(_,{className:"h-4 w-24"})]}),n.jsx("div",{className:`p-2.5 rounded-xl ${e.iconBg}`,children:n.jsx(_,{className:"h-5 w-5 rounded"})})]})})},t))})}function v7e(){return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-40"})]})}),n.jsx(X,{children:n.jsx("div",{className:"h-[200px] flex items-end justify-between gap-2 px-4",children:[...Array(5)].map((e,t)=>n.jsxs("div",{className:"flex-1 flex flex-col justify-end gap-2",children:[n.jsx(_,{className:"w-full rounded-t",style:{height:`${Math.random()*60+40}%`}}),n.jsx(_,{className:"h-3 w-full"})]},t))})})]}),n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-40"})]})}),n.jsx(X,{children:n.jsx("div",{className:"h-[200px] flex items-end justify-between gap-3 px-4",children:[70,85,75,95,80,60,50].map((e,t)=>n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end gap-2",children:[n.jsx(_,{className:"h-2 w-2 rounded-full"}),n.jsx(_,{className:"w-0.5",style:{height:`${e}%`}}),n.jsx(_,{className:"h-3 w-8"})]},t))})})]})]})}function y7e(){return n.jsxs("div",{className:"flex flex-col gap-3 mb-3",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between",children:[n.jsxs("div",{className:"flex gap-1 bg-muted rounded-lg p-1",children:[n.jsx(_,{className:"h-9 w-24 rounded-md"}),n.jsx(_,{className:"h-9 w-32 rounded-md"})]}),n.jsx(_,{className:"h-11 flex-1 max-w-md rounded-md"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-4 w-12"})]}),n.jsx(_,{className:"h-11 w-[140px] rounded-md"}),n.jsx(_,{className:"h-11 w-[140px] rounded-md"})]})]})}function j7e(){return n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsx(_,{className:"h-6 w-40"})}),n.jsx(X,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Apartment","Vendor","Order No","Priority","ETA","Status","Tracking","Actions"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(_,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(8)].map((e,t)=>n.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-32"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-6 w-24 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-6 w-24 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-6 w-28 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(_,{className:"h-8 w-8 rounded"}),n.jsx(_,{className:"h-8 w-8 rounded"}),n.jsx(_,{className:"h-8 w-8 rounded"})]})})]},t))})]})})})]})}function b7e(){return n.jsxs("div",{className:"space-y-4",children:[n.jsx(g7e,{}),n.jsx(v7e,{}),n.jsx(y7e,{}),n.jsx(j7e,{})]})}const w7e=()=>{const[e,t]=v.useState(""),[r,s]=v.useState("all"),[a,i]=v.useState("all"),[o,l]=v.useState(null),[c,d]=v.useState(!1),[u,f]=v.useState(!1),[m,h]=v.useState(!1),{deliveries:x,loading:p,error:g,refetch:j,updateStatus:y}=p7e({search:e||void 0,status:r!=="all"?r:void 0,priority:a!=="all"?a:void 0});x7e();const w=async(C,A,P)=>{try{await y(C,A,{received_by:P==null?void 0:P.receivedBy,actual_date:P==null?void 0:P.actualDelivery,status_notes:P==null?void 0:P.statusNotes,location:P==null?void 0:P.location,delay_reason:P==null?void 0:P.delayReason})}catch(R){console.error("Failed to update status:",R)}},b=C=>({Confirmed:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400","In Transit":"bg-blue-500/10 text-blue-600 dark:text-blue-400",Delayed:"bg-orange-500/10 text-orange-600 dark:text-orange-400",Received:"bg-green-500/10 text-green-600 dark:text-green-400",Returned:"bg-red-500/10 text-red-600 dark:text-red-400"})[C]||"bg-muted text-muted-foreground",N=C=>({High:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",Medium:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/20",Low:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20"})[C]||"bg-muted text-muted-foreground",S=Object.entries(x.reduce((C,A)=>{const P=A.vendor_name||"Unknown";return C[P]=(C[P]||0)+1,C},{})).map(([C,A])=>({vendor:C.split(" ")[0],deliveries:A})),E=[{day:"Mon",deliveries:8},{day:"Tue",deliveries:12},{day:"Wed",deliveries:10},{day:"Thu",deliveries:15},{day:"Fri",deliveries:11},{day:"Sat",deliveries:5},{day:"Sun",deliveries:3}];return p?n.jsx(ut,{title:"Deliveries",children:n.jsx(b7e,{})}):n.jsx(ut,{title:"Deliveries",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(Y,{className:"card-hover-effect",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Confirmed"}),n.jsx("p",{className:"text-2xl font-bold",children:x.filter(C=>C.status==="Confirmed").length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor accepted"})]}),n.jsx("div",{className:"p-2.5 rounded-xl bg-blue-500/10",children:n.jsx(jr,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),n.jsx(Y,{className:"card-hover-effect",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"In Transit"}),n.jsx("p",{className:"text-2xl font-bold",children:x.filter(C=>C.status==="In Transit").length}),n.jsxs("p",{className:"text-sm text-success flex items-center gap-1",children:[n.jsx(qa,{className:"h-4 w-4"}),"Active"]})]}),n.jsx("div",{className:"p-2.5 rounded-xl bg-yellow-500/10",children:n.jsx(wr,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})})]})})}),n.jsx(Y,{className:"card-hover-effect",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Received"}),n.jsx("p",{className:"text-2xl font-bold",children:x.filter(C=>C.status==="Received").length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"})]}),n.jsx("div",{className:"p-2.5 rounded-xl bg-green-500/10",children:n.jsx(or,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})})}),n.jsx(Y,{className:"card-hover-effect",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Issues"}),n.jsx("p",{className:"text-2xl font-bold",children:x.filter(C=>C.status==="Delayed"||C.status==="Returned").length}),n.jsxs("p",{className:"text-sm text-orange-600 dark:text-orange-400 flex items-center gap-1",children:[n.jsx(fo,{className:"h-4 w-4"}),"Delayed/Returned"]})]}),n.jsx("div",{className:"p-2.5 rounded-xl bg-orange-500/10",children:n.jsx(fo,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(ct,{className:"h-5 w-5 text-primary"}),"Deliveries by Vendor"]})}),n.jsx(X,{children:n.jsx(rn,{width:"100%",height:200,children:n.jsxs(da,{data:S,children:[n.jsx(Tn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(Xr,{dataKey:"vendor",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(Qr,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"}}),n.jsx(mn,{dataKey:"deliveries",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})})]}),n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(qa,{className:"h-5 w-5 text-primary"}),"Weekly Delivery Trend"]})}),n.jsx(X,{children:n.jsx(rn,{width:"100%",height:200,children:n.jsxs(w2,{data:E,children:[n.jsx(Tn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(Xr,{dataKey:"day",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(Qr,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"}}),n.jsx(zl,{type:"monotone",dataKey:"deliveries",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",r:4}})]})})})]})]}),n.jsxs(wo,{defaultValue:"list",className:"w-full",children:[n.jsxs("div",{className:"flex flex-col gap-3 mb-3",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between",children:[n.jsxs($i,{children:[n.jsx(Lt,{value:"list",children:"List View"}),n.jsx(Lt,{value:"calendar",children:"Calendar View"})]}),n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(Rs,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/70"}),n.jsx(me,{placeholder:"Search by apartment, vendor, order...",value:e,onChange:C=>t(C.target.value),className:"pl-10 h-11 bg-muted/30 border-border/50 focus:bg-background transition-colors"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gv,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Filters:"})]}),n.jsxs(at,{value:r,onValueChange:s,children:[n.jsx(nt,{className:"w-[140px] h-11 bg-muted/30 border-border/50",children:n.jsx(it,{placeholder:"Status"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"all",children:"All Status"}),n.jsx(Z,{value:"Confirmed",children:"Confirmed"}),n.jsx(Z,{value:"In Transit",children:"In Transit"}),n.jsx(Z,{value:"Delayed",children:"Delayed"}),n.jsx(Z,{value:"Received",children:"Received"}),n.jsx(Z,{value:"Returned",children:"Returned"})]})]}),n.jsxs(at,{value:a,onValueChange:i,children:[n.jsx(nt,{className:"w-[140px] h-11 bg-muted/30 border-border/50",children:n.jsx(it,{placeholder:"Priority"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"all",children:"All Priority"}),n.jsx(Z,{value:"High",children:"High"}),n.jsx(Z,{value:"Medium",children:"Medium"}),n.jsx(Z,{value:"Low",children:"Low"})]})]}),(r!=="all"||a!=="all")&&n.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>{s("all"),i("all")},className:"h-11",children:"Clear Filters"})]})]}),n.jsx(Yt,{value:"list",className:"mt-0",children:n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"text-lg font-semibold",children:["All Deliveries (",x.length,")"]})}),n.jsx(X,{children:g?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-destructive",children:g}),n.jsx(ee,{variant:"outline",className:"mt-4",onClick:j,children:"Try Again"})]}):n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(js,{children:[n.jsx(bs,{children:n.jsxs($t,{children:[n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Apartment"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Vendor"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Order No"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Priority"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"ETA"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Status"}),n.jsx(Pe,{className:"font-semibold text-foreground/90",children:"Tracking"}),n.jsx(Pe,{className:"text-right font-semibold text-foreground/90",children:"Actions"})]})}),n.jsx(ws,{children:x.length===0?n.jsx($t,{children:n.jsx(_e,{colSpan:9,className:"text-center py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"No deliveries found"})})}):x.map(C=>n.jsxs($t,{className:"hover:bg-muted/50",children:[n.jsx(_e,{className:"font-medium",children:C.apartment_name}),n.jsx(_e,{className:"text-muted-foreground",children:C.vendor_name}),n.jsx(_e,{children:n.jsx(Ce,{variant:"outline",className:"font-mono",children:C.order_reference})}),n.jsx(_e,{children:n.jsx(Ce,{variant:"outline",className:N(C.priority),children:C.priority})}),n.jsx(_e,{className:"text-muted-foreground",children:C.expected_date}),n.jsx(_e,{children:n.jsx(Ce,{variant:"outline",className:b(C.status),children:C.status})}),n.jsx(_e,{children:C.tracking_number?n.jsx(Ce,{variant:"outline",className:"font-mono",children:C.tracking_number}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(_e,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(ee,{size:"sm",variant:"ghost",title:"View Details",onClick:()=>{l(C),d(!0)},children:n.jsx(Ha,{className:"h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",title:"Track Delivery",onClick:()=>{l(C),h(!0)},children:n.jsx(_ne,{className:"h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",title:"Update Status",onClick:()=>{l(C),f(!0)},children:n.jsx(or,{className:"h-4 w-4"})})]})})]},C.id))})]})})})]})}),n.jsx(Yt,{value:"calendar",className:"mt-0",children:n.jsx(Y,{children:n.jsxs(X,{className:"p-6",children:[n.jsx("div",{className:"grid grid-cols-7 gap-3 mb-3",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(C=>n.jsx("div",{className:"text-center text-sm font-semibold text-muted-foreground py-2",children:C},C))}),n.jsx("div",{className:"grid grid-cols-7 gap-3",children:Array.from({length:35},(C,A)=>{const P=new Date,I=new Date(P.getFullYear(),P.getMonth(),1).getDay(),z=A-I+1,L=new Date(P.getFullYear(),P.getMonth(),z).toISOString().split("T")[0],T=x.filter(k=>k.expected_date===L);return A<I||z>new Date(P.getFullYear(),P.getMonth()+1,0).getDate()?n.jsx("div",{className:"aspect-square"},A):n.jsxs("div",{className:`aspect-square border rounded-lg p-2 hover:border-primary transition-colors ${T.length>0?"bg-primary/5 border-primary/20":"bg-muted/30"}`,children:[n.jsx("div",{className:"text-sm font-medium mb-1",children:z}),T.length>0&&n.jsxs("div",{className:"space-y-1",children:[T.slice(0,2).map(k=>{var O;return n.jsx("div",{className:`text-[10px] px-1 py-0.5 rounded truncate ${b(k.status)}`,children:(O=k.apartment_name)==null?void 0:O.split(" ")[0]},k.id)}),T.length>2&&n.jsxs("div",{className:"text-[10px] text-muted-foreground",children:["+",T.length-2]})]})]},A)})})]})})})]}),n.jsx(K9e,{open:c,onOpenChange:d,delivery:o}),n.jsx(m7e,{open:u,onOpenChange:f,delivery:o,onStatusUpdate:w}),n.jsx(h7e,{open:m,onOpenChange:h,delivery:o})]})})},Es=ur.create({baseURL:Fi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});Es.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Es.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});const ms={getIssues:async(e={})=>{const t=new URLSearchParams;return e.search&&t.append("search",e.search),e.status&&t.append("status",e.status),e.priority&&t.append("priority",e.priority),e.apartment&&t.append("apartment",e.apartment),e.vendor&&t.append("vendor",e.vendor),e.product&&t.append("product",e.product),e.page&&t.append("page",e.page.toString()),e.page_size&&t.append("page_size",e.page_size.toString()),(await Es.get(`/issues/?${t.toString()}`)).data},getIssue:async e=>(await Es.get(`/issues/${e}/`)).data,createIssue:async e=>(await Es.post("/issues/",e)).data,updateIssue:async(e,t)=>(await Es.patch(`/issues/${e}/`,t)).data,deleteIssue:async e=>{await Es.delete(`/issues/${e}/`)},uploadPhoto:async(e,t)=>(await Es.post(`/issues/${e}/photos/`,{url:t})).data,activateAIEmail:async e=>await Es.post(`/issues/${e}/activate_ai_email/`),getEmailThread:async e=>await Es.get(`/issues/${e}/email_thread/`),generateAIReply:async(e,t)=>await Es.post(`/issues/${e}/generate_ai_reply/`,{vendor_message:t}),addVendorResponse:async(e,t)=>await Es.post(`/issues/${e}/add_vendor_response/`,t),analyzeVendorResponse:async(e,t)=>await Es.post(`/issues/${e}/analyze_vendor_response/`,{message:t}),getConversation:async e=>(await Es.get(`/issues/${e}/conversation/`)).data,getSummary:async e=>(await Es.get(`/issues/${e}/summary/`)).data,sendManualMessage:async(e,t)=>(await Es.post(`/issues/${e}/send_manual_message/`,t)).data,sendBulkEmail:async e=>(await Es.post("/issues/bulk-email/",e)).data};function oa(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var N7e=typeof Symbol=="function"&&Symbol.observable||"@@observable",l$=N7e,IS=()=>Math.random().toString(36).substring(7).split("").join("."),_7e={INIT:`@@redux/INIT${IS()}`,REPLACE:`@@redux/REPLACE${IS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${IS()}`},c$=_7e;function S7e(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function RX(e,t,r){if(typeof e!="function")throw new Error(oa(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(oa(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(oa(1));return r(RX)(e,t)}let s=e,a=t,i=new Map,o=i,l=0,c=!1;function d(){o===i&&(o=new Map,i.forEach((g,j)=>{o.set(j,g)}))}function u(){if(c)throw new Error(oa(3));return a}function f(g){if(typeof g!="function")throw new Error(oa(4));if(c)throw new Error(oa(5));let j=!0;d();const y=l++;return o.set(y,g),function(){if(j){if(c)throw new Error(oa(6));j=!1,d(),o.delete(y),i=null}}}function m(g){if(!S7e(g))throw new Error(oa(7));if(typeof g.type>"u")throw new Error(oa(8));if(typeof g.type!="string")throw new Error(oa(17));if(c)throw new Error(oa(9));try{c=!0,a=s(a,g)}finally{c=!1}return(i=o).forEach(y=>{y()}),g}function h(g){if(typeof g!="function")throw new Error(oa(10));s=g,m({type:c$.REPLACE})}function x(){const g=f;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(oa(11));function y(){const b=j;b.next&&b.next(u())}return y(),{unsubscribe:g(y)}},[l$](){return this}}}return m({type:c$.INIT}),{dispatch:m,subscribe:f,getState:u,replaceReducer:h,[l$]:x}}function d$(e,t){return function(...r){return t(e.apply(this,r))}}function u$(e,t){if(typeof e=="function")return d$(e,t);if(typeof e!="object"||e===null)throw new Error(oa(16));const r={};for(const s in e){const a=e[s];typeof a=="function"&&(r[s]=d$(a,t))}return r}function MX(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...s)=>t(r(...s)))}function C7e(...e){return t=>(r,s)=>{const a=t(r,s);let i=()=>{throw new Error(oa(15))};const o={getState:a.getState,dispatch:(c,...d)=>i(c,...d)},l=e.map(c=>c(o));return i=MX(...l)(a.dispatch),{...a,dispatch:i}}}var E7e={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny=v;function A7e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var k7e=typeof Object.is=="function"?Object.is:A7e,P7e=ny.useSyncExternalStore,T7e=ny.useRef,O7e=ny.useEffect,D7e=ny.useMemo,I7e=ny.useDebugValue;E7e.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var i=T7e(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=D7e(function(){function c(h){if(!d){if(d=!0,u=h,h=s(h),a!==void 0&&o.hasValue){var x=o.value;if(a(x,h))return f=x}return f=h}if(x=f,k7e(u,h))return x;var p=s(h);return a!==void 0&&a(x,p)?(u=h,x):(u=h,f=p)}var d=!1,u,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,s,a]);var l=P7e(e,i[0],i[1]);return O7e(function(){o.hasValue=!0,o.value=l},[l]),I7e(l),l};var R7e=v.version.startsWith("19"),M7e=Symbol.for(R7e?"react.transitional.element":"react.element"),F7e=Symbol.for("react.portal"),$7e=Symbol.for("react.fragment"),L7e=Symbol.for("react.strict_mode"),B7e=Symbol.for("react.profiler"),U7e=Symbol.for("react.consumer"),V7e=Symbol.for("react.context"),FX=Symbol.for("react.forward_ref"),z7e=Symbol.for("react.suspense"),W7e=Symbol.for("react.suspense_list"),KO=Symbol.for("react.memo"),H7e=Symbol.for("react.lazy"),q7e=FX,G7e=KO;function K7e(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case M7e:switch(e=e.type,e){case $7e:case B7e:case L7e:case z7e:case W7e:return e;default:switch(e=e&&e.$$typeof,e){case V7e:case FX:case H7e:case KO:return e;case U7e:return e;default:return t}}case F7e:return t}}}function Y7e(e){return K7e(e)===KO}function X7e(e,t,r,s,{areStatesEqual:a,areOwnPropsEqual:i,areStatePropsEqual:o}){let l=!1,c,d,u,f,m;function h(y,w){return c=y,d=w,u=e(c,d),f=t(s,d),m=r(u,f,d),l=!0,m}function x(){return u=e(c,d),t.dependsOnOwnProps&&(f=t(s,d)),m=r(u,f,d),m}function p(){return e.dependsOnOwnProps&&(u=e(c,d)),t.dependsOnOwnProps&&(f=t(s,d)),m=r(u,f,d),m}function g(){const y=e(c,d),w=!o(y,u);return u=y,w&&(m=r(u,f,d)),m}function j(y,w){const b=!i(w,d),N=!a(y,c,w,d);return c=y,d=w,b&&N?x():b?p():N?g():m}return function(w,b){return l?j(w,b):h(w,b)}}function Q7e(e,{initMapStateToProps:t,initMapDispatchToProps:r,initMergeProps:s,...a}){const i=t(e,a),o=r(e,a),l=s(e,a);return X7e(i,o,l,e,a)}function Z7e(e,t){const r={};for(const s in e){const a=e[s];typeof a=="function"&&(r[s]=(...i)=>t(a(...i)))}return r}function UA(e){return function(r){const s=e(r);function a(){return s}return a.dependsOnOwnProps=!1,a}}function f$(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function $X(e,t){return function(s,{displayName:a}){const i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=f$(e);let d=i(l,c);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=f$(d),d=i(l,c)),d},i}}function YO(e,t){return(r,s)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${s.wrappedComponentName}.`)}}function J7e(e){return e&&typeof e=="object"?UA(t=>Z7e(e,t)):e?typeof e=="function"?$X(e):YO(e,"mapDispatchToProps"):UA(t=>({dispatch:t}))}function eUe(e){return e?typeof e=="function"?$X(e):YO(e,"mapStateToProps"):UA(()=>({}))}function tUe(e,t,r){return{...r,...e,...t}}function rUe(e){return function(r,{displayName:s,areMergedPropsEqual:a}){let i=!1,o;return function(c,d,u){const f=e(c,d,u);return i?a(f,o)||(o=f):(i=!0,o=f),o}}}function nUe(e){return e?typeof e=="function"?rUe(e):YO(e,"mergeProps"):()=>tUe}function sUe(e){e()}function aUe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){sUe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!s||e===null||(s=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var m$={notify(){},get:()=>[]};function LX(e,t){let r,s=m$,a=0,i=!1;function o(p){u();const g=s.subscribe(p);let j=!1;return()=>{j||(j=!0,g(),f())}}function l(){s.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return i}function u(){a++,r||(r=t?t.addNestedSub(c):e.subscribe(c),s=aUe())}function f(){a--,r&&a===0&&(r(),r=void 0,s.clear(),s=m$)}function m(){i||(i=!0,u())}function h(){i&&(i=!1,f())}const x={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>s};return x}var iUe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oUe=iUe(),lUe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",cUe=lUe(),dUe=()=>oUe||cUe?v.useLayoutEffect:v.useEffect,cw=dUe();function h$(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function RS(e,t){if(h$(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!h$(e[r[a]],t[r[a]]))return!1;return!0}var uUe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},fUe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},mUe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},BX={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},hUe={[q7e]:mUe,[G7e]:BX};function p$(e){return Y7e(e)?BX:hUe[e.$$typeof]||uUe}var pUe=Object.defineProperty,xUe=Object.getOwnPropertyNames,x$=Object.getOwnPropertySymbols,gUe=Object.getOwnPropertyDescriptor,vUe=Object.getPrototypeOf,g$=Object.prototype;function VA(e,t){if(typeof t!="string"){if(g$){const i=vUe(t);i&&i!==g$&&VA(e,i)}let r=xUe(t);x$&&(r=r.concat(x$(t)));const s=p$(e),a=p$(t);for(let i=0;i<r.length;++i){const o=r[i];if(!fUe[o]&&!(a&&a[o])&&!(s&&s[o])){const l=gUe(t,o);try{pUe(e,o,l)}catch{}}}}return e}var MS=Symbol.for("react-redux-context"),FS=typeof globalThis<"u"?globalThis:{};function yUe(){if(!v.createContext)return{};const e=FS[MS]??(FS[MS]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var UX=yUe(),jUe=[null,null];function bUe(e,t,r){cw(()=>e(...t),r)}function wUe(e,t,r,s,a,i){e.current=s,r.current=!1,a.current&&(a.current=null,i())}function NUe(e,t,r,s,a,i,o,l,c,d,u){if(!e)return()=>{};let f=!1,m=null;const h=()=>{if(f||!l.current)return;const p=t.getState();let g,j;try{g=s(p,a.current)}catch(y){j=y,m=y}j||(m=null),g===i.current?o.current||d():(i.current=g,c.current=g,o.current=!0,u())};return r.onStateChange=h,r.trySubscribe(),h(),()=>{if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,m)throw m}}function _Ue(e,t){return e===t}function SUe(e,t,r,{pure:s,areStatesEqual:a=_Ue,areOwnPropsEqual:i=RS,areStatePropsEqual:o=RS,areMergedPropsEqual:l=RS,forwardRef:c=!1,context:d=UX}={}){const u=d,f=eUe(e),m=J7e(t),h=nUe(r),x=!!e;return g=>{const j=g.displayName||g.name||"Component",y=`Connect(${j})`,w={shouldHandleStateChanges:x,displayName:y,wrappedComponentName:j,WrappedComponent:g,initMapStateToProps:f,initMapDispatchToProps:m,initMergeProps:h,areStatesEqual:a,areStatePropsEqual:o,areOwnPropsEqual:i,areMergedPropsEqual:l};function b(E){const[C,A,P]=v.useMemo(()=>{const{reactReduxForwardedRef:ue,...ge}=E;return[E.context,ue,ge]},[E]),R=v.useMemo(()=>{let ue=u;return C!=null&&C.Consumer,ue},[C,u]),I=v.useContext(R),z=!!E.store&&!!E.store.getState&&!!E.store.dispatch,U=!!I&&!!I.store,L=z?E.store:I.store,T=U?I.getServerState:L.getState,k=v.useMemo(()=>Q7e(L.dispatch,w),[L]),[O,M]=v.useMemo(()=>{if(!x)return jUe;const ue=LX(L,z?void 0:I.subscription),ge=ue.notifyNestedSubs.bind(ue);return[ue,ge]},[L,z,I]),ie=v.useMemo(()=>z?I:{...I,subscription:O},[z,I,O]),ce=v.useRef(void 0),D=v.useRef(P),W=v.useRef(void 0),F=v.useRef(!1),q=v.useRef(!1),le=v.useRef(void 0);cw(()=>(q.current=!0,()=>{q.current=!1}),[]);const fe=v.useMemo(()=>()=>W.current&&P===D.current?W.current:k(L.getState(),P),[L,P]),B=v.useMemo(()=>ge=>O?NUe(x,L,O,k,D,ce,F,q,W,M,ge):()=>{},[O]);bUe(wUe,[D,ce,F,P,W,M]);let K;try{K=v.useSyncExternalStore(B,fe,T?()=>k(T(),P):fe)}catch(ue){throw le.current&&(ue.message+=`
The error may be correlated with this previous error:
${le.current.stack}

`),ue}cw(()=>{le.current=void 0,W.current=void 0,ce.current=K});const se=v.useMemo(()=>v.createElement(g,{...K,ref:A}),[A,g,K]);return v.useMemo(()=>x?v.createElement(R.Provider,{value:ie},se):se,[R,se,ie])}const S=v.memo(b);if(S.WrappedComponent=g,S.displayName=b.displayName=y,c){const C=v.forwardRef(function(P,R){return v.createElement(S,{...P,reactReduxForwardedRef:R})});return C.displayName=y,C.WrappedComponent=g,VA(C,g)}return VA(S,g)}}var VX=SUe;function CUe(e){const{children:t,context:r,serverState:s,store:a}=e,i=v.useMemo(()=>{const c=LX(a);return{store:a,subscription:c,getServerState:s?()=>s:void 0}},[a,s]),o=v.useMemo(()=>a.getState(),[a]);cw(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||UX;return v.createElement(l.Provider,{value:i},t)}var EUe=CUe,Vo=function(t){var r=t.top,s=t.right,a=t.bottom,i=t.left,o=s-i,l=a-r,c={top:r,right:s,bottom:a,left:i,width:o,height:l,x:i,y:r,center:{x:(s+i)/2,y:(a+r)/2}};return c},XO=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},v$=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},AUe=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},$S={top:0,right:0,bottom:0,left:0},QO=function(t){var r=t.borderBox,s=t.margin,a=s===void 0?$S:s,i=t.border,o=i===void 0?$S:i,l=t.padding,c=l===void 0?$S:l,d=Vo(XO(r,a)),u=Vo(v$(r,o)),f=Vo(v$(u,c));return{marginBox:d,borderBox:Vo(r),paddingBox:u,contentBox:f,margin:a,border:o,padding:c}},zi=function(t){var r=t.slice(0,-2),s=t.slice(-2);if(s!=="px")return 0;var a=Number(r);return isNaN(a)&&nu(),a},kUe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},dw=function(t,r){var s=t.borderBox,a=t.border,i=t.margin,o=t.padding,l=AUe(s,r);return QO({borderBox:l,border:a,margin:i,padding:o})},uw=function(t,r){return r===void 0&&(r=kUe()),dw(t,r)},zX=function(t,r){var s={top:zi(r.marginTop),right:zi(r.marginRight),bottom:zi(r.marginBottom),left:zi(r.marginLeft)},a={top:zi(r.paddingTop),right:zi(r.paddingRight),bottom:zi(r.paddingBottom),left:zi(r.paddingLeft)},i={top:zi(r.borderTopWidth),right:zi(r.borderRightWidth),bottom:zi(r.borderBottomWidth),left:zi(r.borderLeftWidth)};return QO({borderBox:t,margin:s,padding:a,border:i})},WX=function(t){var r=t.getBoundingClientRect(),s=window.getComputedStyle(t);return zX(r,s)},q0=function(t){var r=[],s=null,a=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];r=l,!s&&(s=requestAnimationFrame(function(){s=null,t.apply(void 0,r)}))};return a.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},a};function HX(e,t){}HX.bind(null,"warn");HX.bind(null,"error");function Hd(){}function PUe(e,t){return{...e,...t}}function ro(e,t,r){const s=t.map(a=>{const i=PUe(r,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){s.forEach(i=>{i()})}}const TUe="Invariant failed";class fw extends Error{}fw.prototype.toString=function(){return this.message};function rt(e,t){throw new fw(TUe)}class OUe extends V.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Hd,this.onWindowError=r=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),r.error instanceof fw&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=ro(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof fw){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const DUe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,mw=e=>e+1,IUe=e=>`
  You have lifted an item in position ${mw(e.source.index)}
`,qX=(e,t)=>{const r=e.droppableId===t.droppableId,s=mw(e.index),a=mw(t.index);return r?`
      You have moved the item from position ${s}
      to position ${a}
    `:`
    You have moved the item from position ${s}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${a}
  `},GX=(e,t,r)=>t.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,RUe=e=>{const t=e.destination;if(t)return qX(e.source,t);const r=e.combine;return r?GX(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},y$=e=>`
  The item has returned to its starting position
  of ${mw(e.index)}
`,MUe=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${y$(e.source)}
    `;const t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      ${qX(e.source,t)}
    `:r?`
      You have dropped the item.
      ${GX(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${y$(e.source)}
  `},Yj={dragHandleUsageInstructions:DUe,onDragStart:IUe,onDragUpdate:RUe,onDragEnd:MUe};function FUe(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function KX(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!FUe(e[r],t[r]))return!1;return!0}function cr(e,t){const r=v.useState(()=>({inputs:t,result:e()}))[0],s=v.useRef(!0),a=v.useRef(r),o=s.current||!!(t&&a.current.inputs&&KX(t,a.current.inputs))?a.current:{inputs:t,result:e()};return v.useEffect(()=>{s.current=!1,a.current=o},[o]),o.result}function St(e,t){return cr(()=>e,t)}const Ns={x:0,y:0},Ms=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),ji=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),qd=(e,t)=>e.x===t.x&&e.y===t.y,Yp=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Ff=(e,t,r=0)=>e==="x"?{x:t,y:r}:{x:r,y:t},G0=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),j$=(e,t)=>Math.min(...t.map(r=>G0(e,r))),YX=e=>t=>({x:e(t.x),y:e(t.y)});var $Ue=(e,t)=>{const r=Vo({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r};const sy=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),b$=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],LUe={top:0,right:0,bottom:0,left:0},BUe=(e,t)=>t?sy(e,t.scroll.diff.displacement):e,UUe=(e,t,r)=>r&&r.increasedBy?{...e,[t.end]:e[t.end]+r.increasedBy[t.line]}:e,VUe=(e,t)=>t&&t.shouldClipSubject?$Ue(t.pageMarginBox,e):Vo(e);var fp=({page:e,withPlaceholder:t,axis:r,frame:s})=>{const a=BUe(e.marginBox,s),i=UUe(a,r,t),o=VUe(i,s);return{page:e,withPlaceholder:t,active:o}},ZO=(e,t)=>{e.frame||rt();const r=e.frame,s=ji(t,r.scroll.initial),a=Yp(s),i={...r,scroll:{initial:r.scroll.initial,current:t,diff:{value:s,displacement:a},max:r.scroll.max}},o=fp({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:o}};function ys(e,t=KX){let r=null;function s(...a){if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;const i=e.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return s.clear=function(){r=null},s}const XX=ys(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),QX=ys(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),P2=ys(e=>Object.values(e)),zUe=ys(e=>Object.values(e));var Xp=ys((e,t)=>zUe(t).filter(s=>e===s.descriptor.droppableId).sort((s,a)=>s.descriptor.index-a.descriptor.index));function JO(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function T2(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var O2=ys((e,t)=>t.filter(r=>r.descriptor.id!==e.descriptor.id)),WUe=({isMovingForward:e,draggable:t,destination:r,insideDestination:s,previousImpact:a})=>{if(!r.isCombineEnabled||!JO(a))return null;function o(h){const x={type:"COMBINE",combine:{draggableId:h,droppableId:r.descriptor.id}};return{...a,at:x}}const l=a.displaced.all,c=l.length?l[0]:null;if(e)return c?o(c):null;const d=O2(t,s);if(!c){if(!d.length)return null;const h=d[d.length-1];return o(h.descriptor.id)}const u=d.findIndex(h=>h.descriptor.id===c);u===-1&&rt();const f=u-1;if(f<0)return null;const m=d[f];return o(m.descriptor.id)},Qp=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const ZX={point:Ns,value:0},K0={invisible:{},visible:{},all:[]},HUe={displaced:K0,displacedBy:ZX,at:null};var oo=(e,t)=>r=>e<=r&&r<=t,JX=e=>{const t=oo(e.top,e.bottom),r=oo(e.left,e.right);return s=>{if(t(s.top)&&t(s.bottom)&&r(s.left)&&r(s.right))return!0;const i=t(s.top)||t(s.bottom),o=r(s.left)||r(s.right);if(i&&o)return!0;const c=s.top<e.top&&s.bottom>e.bottom,d=s.left<e.left&&s.right>e.right;return c&&d?!0:c&&o||d&&i}},qUe=e=>{const t=oo(e.top,e.bottom),r=oo(e.left,e.right);return s=>t(s.top)&&t(s.bottom)&&r(s.left)&&r(s.right)};const e3={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},eQ={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var GUe=e=>t=>{const r=oo(t.top,t.bottom),s=oo(t.left,t.right);return a=>e===e3?r(a.top)&&r(a.bottom):s(a.left)&&s(a.right)};const KUe=(e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:Ns;return sy(e,r)},YUe=(e,t,r)=>t.subject.active?r(t.subject.active)(e):!1,XUe=(e,t,r)=>r(t)(e),t3=({target:e,destination:t,viewport:r,withDroppableDisplacement:s,isVisibleThroughFrameFn:a})=>{const i=s?KUe(e,t):e;return YUe(i,t,a)&&XUe(i,r,a)},QUe=e=>t3({...e,isVisibleThroughFrameFn:JX}),tQ=e=>t3({...e,isVisibleThroughFrameFn:qUe}),ZUe=e=>t3({...e,isVisibleThroughFrameFn:GUe(e.destination.axis)}),JUe=(e,t,r)=>{if(typeof r=="boolean")return r;if(!t)return!0;const{invisible:s,visible:a}=t;if(s[e])return!1;const i=a[e];return i?i.shouldAnimate:!0};function eVe(e,t){const r=e.page.marginBox,s={top:t.point.y,right:0,bottom:0,left:t.point.x};return Vo(XO(r,s))}function Y0({afterDragging:e,destination:t,displacedBy:r,viewport:s,forceShouldAnimate:a,last:i}){return e.reduce(function(l,c){const d=eVe(c,r),u=c.descriptor.id;if(l.all.push(u),!QUe({target:d,destination:t,viewport:s,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const m=JUe(u,i,a),h={draggableId:u,shouldAnimate:m};return l.visible[u]=h,l},{all:[],visible:{},invisible:{}})}function tVe(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function w$({insideDestination:e,inHomeList:t,displacedBy:r,destination:s}){const a=tVe(e,{inHomeList:t});return{displaced:K0,displacedBy:r,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:a}}}}function hw({draggable:e,insideDestination:t,destination:r,viewport:s,displacedBy:a,last:i,index:o,forceShouldAnimate:l}){const c=Qp(e,r);if(o==null)return w$({insideDestination:t,inHomeList:c,displacedBy:a,destination:r});const d=t.find(x=>x.descriptor.index===o);if(!d)return w$({insideDestination:t,inHomeList:c,displacedBy:a,destination:r});const u=O2(e,t),f=t.indexOf(d),m=u.slice(f);return{displaced:Y0({afterDragging:m,destination:r,displacedBy:a,last:i,viewport:s.frame,forceShouldAnimate:l}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function su(e,t){return!!t.effected[e]}var rVe=({isMovingForward:e,destination:t,draggables:r,combine:s,afterCritical:a})=>{if(!t.isCombineEnabled)return null;const i=s.draggableId,l=r[i].descriptor.index;return su(i,a)?e?l:l-1:e?l+1:l},nVe=({isMovingForward:e,isInHomeList:t,insideDestination:r,location:s})=>{if(!r.length)return null;const a=s.index,i=e?a+1:a-1,o=r[0].descriptor.index,l=r[r.length-1].descriptor.index,c=t?l:l+1;return i<o||i>c?null:i},sVe=({isMovingForward:e,isInHomeList:t,draggable:r,draggables:s,destination:a,insideDestination:i,previousImpact:o,viewport:l,afterCritical:c})=>{const d=o.at;if(d||rt(),d.type==="REORDER"){const f=nVe({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:i});return f==null?null:hw({draggable:r,insideDestination:i,destination:a,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:f})}const u=rVe({isMovingForward:e,destination:a,displaced:o.displaced,draggables:s,combine:d.combine,afterCritical:c});return u==null?null:hw({draggable:r,insideDestination:i,destination:a,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:u})},aVe=({displaced:e,afterCritical:t,combineWith:r,displacedBy:s})=>{const a=!!(e.visible[r]||e.invisible[r]);return su(r,t)?a?Ns:Yp(s.point):a?s.point:Ns},iVe=({afterCritical:e,impact:t,draggables:r})=>{const s=T2(t);s||rt();const a=s.draggableId,i=r[a].page.borderBox.center,o=aVe({displaced:t.displaced,afterCritical:e,combineWith:a,displacedBy:t.displacedBy});return Ms(i,o)};const rQ=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,oVe=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,r3=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,N$=({axis:e,moveRelativeTo:t,isMoving:r})=>Ff(e.line,t.marginBox[e.end]+rQ(e,r),r3(e,t.marginBox,r)),_$=({axis:e,moveRelativeTo:t,isMoving:r})=>Ff(e.line,t.marginBox[e.start]-oVe(e,r),r3(e,t.marginBox,r)),lVe=({axis:e,moveInto:t,isMoving:r})=>Ff(e.line,t.contentBox[e.start]+rQ(e,r),r3(e,t.contentBox,r));var cVe=({impact:e,draggable:t,draggables:r,droppable:s,afterCritical:a})=>{const i=Xp(s.descriptor.id,r),o=t.page,l=s.axis;if(!i.length)return lVe({axis:l,moveInto:s.page,isMoving:o});const{displaced:c,displacedBy:d}=e,u=c.all[0];if(u){const m=r[u];if(su(u,a))return _$({axis:l,moveRelativeTo:m.page,isMoving:o});const h=dw(m.page,d.point);return _$({axis:l,moveRelativeTo:h,isMoving:o})}const f=i[i.length-1];if(f.descriptor.id===t.descriptor.id)return o.borderBox.center;if(su(f.descriptor.id,a)){const m=dw(f.page,Yp(a.displacedBy.point));return N$({axis:l,moveRelativeTo:m,isMoving:o})}return N$({axis:l,moveRelativeTo:f.page,isMoving:o})},zA=(e,t)=>{const r=e.frame;return r?Ms(t,r.scroll.diff.displacement):t};const dVe=({impact:e,draggable:t,droppable:r,draggables:s,afterCritical:a})=>{const i=t.page.borderBox.center,o=e.at;return!r||!o?i:o.type==="REORDER"?cVe({impact:e,draggable:t,draggables:s,droppable:r,afterCritical:a}):iVe({impact:e,draggables:s,afterCritical:a})};var D2=e=>{const t=dVe(e),r=e.droppable;return r?zA(r,t):t},nQ=(e,t)=>{const r=ji(t,e.scroll.initial),s=Yp(r);return{frame:Vo({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:s}}}};function S$(e,t){return e.map(r=>t[r])}function uVe(e,t){for(let r=0;r<t.length;r++){const s=t[r].visible[e];if(s)return s}return null}var fVe=({impact:e,viewport:t,destination:r,draggables:s,maxScrollChange:a})=>{const i=nQ(t,Ms(t.scroll.current,a)),o=r.frame?ZO(r,Ms(r.frame.scroll.current,a)):r,l=e.displaced,c=Y0({afterDragging:S$(l.all,s),destination:r,displacedBy:e.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),d=Y0({afterDragging:S$(l.all,s),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),u={},f={},m=[l,c,d];return l.all.forEach(x=>{const p=uVe(x,m);if(p){f[x]=p;return}u[x]=!0}),{...e,displaced:{all:l.all,invisible:u,visible:f}}},mVe=(e,t)=>Ms(e.scroll.diff.displacement,t),n3=({pageBorderBoxCenter:e,draggable:t,viewport:r})=>{const s=mVe(r,e),a=ji(s,t.page.borderBox.center);return Ms(t.client.borderBox.center,a)},sQ=({draggable:e,destination:t,newPageBorderBoxCenter:r,viewport:s,withDroppableDisplacement:a,onlyOnMainAxis:i=!1})=>{const o=ji(r,e.page.borderBox.center),c={target:sy(e.page.borderBox,o),destination:t,withDroppableDisplacement:a,viewport:s};return i?ZUe(c):tQ(c)},hVe=({isMovingForward:e,draggable:t,destination:r,draggables:s,previousImpact:a,viewport:i,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:c})=>{if(!r.isEnabled)return null;const d=Xp(r.descriptor.id,s),u=Qp(t,r),f=WUe({isMovingForward:e,draggable:t,destination:r,insideDestination:d,previousImpact:a})||sVe({isMovingForward:e,isInHomeList:u,draggable:t,draggables:s,destination:r,insideDestination:d,previousImpact:a,viewport:i,afterCritical:c});if(!f)return null;const m=D2({impact:f,draggable:t,droppable:r,draggables:s,afterCritical:c});if(sQ({draggable:t,destination:r,newPageBorderBoxCenter:m,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:n3({pageBorderBoxCenter:m,draggable:t,viewport:i}),impact:f,scrollJumpRequest:null};const x=ji(m,o),p=fVe({impact:f,viewport:i,destination:r,draggables:s,maxScrollChange:x});return{clientSelection:l,impact:p,scrollJumpRequest:x}};const ia=e=>{const t=e.subject.active;return t||rt(),t};var pVe=({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:s,viewport:a})=>{const i=r.subject.active;if(!i)return null;const o=r.axis,l=oo(i[o.start],i[o.end]),c=P2(s).filter(u=>u!==r).filter(u=>u.isEnabled).filter(u=>!!u.subject.active).filter(u=>JX(a.frame)(ia(u))).filter(u=>{const f=ia(u);return e?i[o.crossAxisEnd]<f[o.crossAxisEnd]:f[o.crossAxisStart]<i[o.crossAxisStart]}).filter(u=>{const f=ia(u),m=oo(f[o.start],f[o.end]);return l(f[o.start])||l(f[o.end])||m(i[o.start])||m(i[o.end])}).sort((u,f)=>{const m=ia(u)[o.crossAxisStart],h=ia(f)[o.crossAxisStart];return e?m-h:h-m}).filter((u,f,m)=>ia(u)[o.crossAxisStart]===ia(m[0])[o.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(u=>oo(ia(u)[o.start],ia(u)[o.end])(t[o.line]));return d.length===1?d[0]:d.length>1?d.sort((u,f)=>ia(u)[o.start]-ia(f)[o.start])[0]:c.sort((u,f)=>{const m=j$(t,b$(ia(u))),h=j$(t,b$(ia(f)));return m!==h?m-h:ia(u)[o.start]-ia(f)[o.start]})[0]};const C$=(e,t)=>{const r=e.page.borderBox.center;return su(e.descriptor.id,t)?ji(r,t.displacedBy.point):r},xVe=(e,t)=>{const r=e.page.borderBox;return su(e.descriptor.id,t)?sy(r,Yp(t.displacedBy.point)):r};var gVe=({pageBorderBoxCenter:e,viewport:t,destination:r,insideDestination:s,afterCritical:a})=>s.filter(o=>tQ({target:xVe(o,a),destination:r,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const c=G0(e,zA(r,C$(o,a))),d=G0(e,zA(r,C$(l,a)));return c<d?-1:d<c?1:o.descriptor.index-l.descriptor.index})[0]||null,ay=ys(function(t,r){const s=r[t.line];return{value:s,point:Ff(t.line,s)}});const vVe=(e,t,r)=>{const s=e.axis;if(e.descriptor.mode==="virtual")return Ff(s.line,t[s.line]);const a=e.subject.page.contentBox[s.size],c=Xp(e.descriptor.id,r).reduce((d,u)=>d+u.client.marginBox[s.size],0)+t[s.line]-a;return c<=0?null:Ff(s.line,c)},aQ=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),iQ=(e,t,r)=>{const s=e.frame;Qp(t,e)&&rt(),e.subject.withPlaceholder&&rt();const a=ay(e.axis,t.displaceBy).point,i=vVe(e,a,r),o={placeholderSize:a,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!s){const u=fp({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:u}}const l=i?Ms(s.scroll.max,i):s.scroll.max,c=aQ(s,l),d=fp({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:c});return{...e,subject:d,frame:c}},yVe=e=>{const t=e.subject.withPlaceholder;t||rt();const r=e.frame;if(!r){const o=fp({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const s=t.oldFrameMaxScroll;s||rt();const a=aQ(r,s),i=fp({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return{...e,subject:i,frame:a}};var jVe=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:r,draggable:s,draggables:a,destination:i,viewport:o,afterCritical:l})=>{if(!t){if(r.length)return null;const f={displaced:K0,displacedBy:ZX,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},m=D2({impact:f,draggable:s,droppable:i,draggables:a,afterCritical:l}),h=Qp(s,i)?i:iQ(i,s,a);return sQ({draggable:s,destination:h,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const c=e[i.axis.line]<=t.page.borderBox.center[i.axis.line],d=(()=>{const f=t.descriptor.index;return t.descriptor.id===s.descriptor.id||c?f:f+1})(),u=ay(i.axis,s.displaceBy);return hw({draggable:s,insideDestination:r,destination:i,viewport:o,displacedBy:u,last:K0,index:d})},bVe=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:r,isOver:s,draggables:a,droppables:i,viewport:o,afterCritical:l})=>{const c=pVe({isMovingForward:e,pageBorderBoxCenter:t,source:s,droppables:i,viewport:o});if(!c)return null;const d=Xp(c.descriptor.id,a),u=gVe({pageBorderBoxCenter:t,viewport:o,destination:c,insideDestination:d,afterCritical:l}),f=jVe({previousPageBorderBoxCenter:t,destination:c,draggable:r,draggables:a,moveRelativeTo:u,insideDestination:d,viewport:o,afterCritical:l});if(!f)return null;const m=D2({impact:f,draggable:r,droppable:c,draggables:a,afterCritical:l});return{clientSelection:n3({pageBorderBoxCenter:m,draggable:r,viewport:o}),impact:f,scrollJumpRequest:null}},Ci=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const wVe=(e,t)=>{const r=Ci(e);return r?t[r]:null};var NVe=({state:e,type:t})=>{const r=wVe(e.impact,e.dimensions.droppables),s=!!r,a=e.dimensions.droppables[e.critical.droppable.id],i=r||a,o=i.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!s)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],u=e.current.page.borderBoxCenter,{draggables:f,droppables:m}=e.dimensions;return l?hVe({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,destination:i,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):bVe({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,isOver:i,draggables:f,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function Iu(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function oQ(e){const t=oo(e.top,e.bottom),r=oo(e.left,e.right);return function(a){return t(a.y)&&r(a.x)}}function _Ve(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function SVe({pageBorderBox:e,draggable:t,candidates:r}){const s=t.page.borderBox.center,a=r.map(i=>{const o=i.axis,l=Ff(i.axis.line,e.center[o.line],i.page.borderBox.center[o.crossAxisLine]);return{id:i.descriptor.id,distance:G0(s,l)}}).sort((i,o)=>o.distance-i.distance);return a[0]?a[0].id:null}function CVe({pageBorderBox:e,draggable:t,droppables:r}){const s=P2(r).filter(a=>{if(!a.isEnabled)return!1;const i=a.subject.active;if(!i||!_Ve(e,i))return!1;if(oQ(i)(e.center))return!0;const o=a.axis,l=i.center[o.crossAxisLine],c=e[o.crossAxisStart],d=e[o.crossAxisEnd],u=oo(i[o.crossAxisStart],i[o.crossAxisEnd]),f=u(c),m=u(d);return!f&&!m?!0:f?c<l:d>l});return s.length?s.length===1?s[0].descriptor.id:SVe({pageBorderBox:e,draggable:t,candidates:s}):null}const lQ=(e,t)=>Vo(sy(e,t));var EVe=(e,t)=>{const r=e.frame;return r?lQ(t,r.scroll.diff.value):t};function cQ({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function AVe({draggable:e,closest:t,inHomeList:r}){return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var kVe=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:r,insideDestination:s,last:a,viewport:i,afterCritical:o})=>{const l=r.axis,c=ay(r.axis,t.displaceBy),d=c.value,u=e[l.start],f=e[l.end],h=O2(t,s).find(p=>{const g=p.descriptor.id,j=p.page.borderBox.center[l.line],y=su(g,o),w=cQ({displaced:a,id:g});return y?w?f<=j:u<j-d:w?f<=j+d:u<j})||null,x=AVe({draggable:t,closest:h,inHomeList:Qp(t,r)});return hw({draggable:t,insideDestination:s,destination:r,viewport:i,last:a,displacedBy:c,index:x})};const PVe=4;var TVe=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:r,destination:s,insideDestination:a,afterCritical:i})=>{if(!s.isCombineEnabled)return null;const o=s.axis,l=ay(s.axis,e.displaceBy),c=l.value,d=t[o.start],u=t[o.end],m=O2(e,a).find(x=>{const p=x.descriptor.id,g=x.page.borderBox,y=g[o.size]/PVe,w=su(p,i),b=cQ({displaced:r.displaced,id:p});return w?b?u>g[o.start]+y&&u<g[o.end]-y:d>g[o.start]-c+y&&d<g[o.end]-c-y:b?u>g[o.start]+c+y&&u<g[o.end]+c-y:d>g[o.start]+y&&d<g[o.end]-y});return m?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:s.descriptor.id}}}:null},dQ=({pageOffset:e,draggable:t,draggables:r,droppables:s,previousImpact:a,viewport:i,afterCritical:o})=>{const l=lQ(t.page.borderBox,e),c=CVe({pageBorderBox:l,draggable:t,droppables:s});if(!c)return HUe;const d=s[c],u=Xp(d.descriptor.id,r),f=EVe(d,l);return TVe({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:a,destination:d,insideDestination:u,afterCritical:o})||kVe({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:d,insideDestination:u,last:a.displaced,viewport:i,afterCritical:o})},s3=(e,t)=>({...e,[t.descriptor.id]:t});const OVe=({previousImpact:e,impact:t,droppables:r})=>{const s=Ci(e),a=Ci(t);if(!s||s===a)return r;const i=r[s];if(!i.subject.withPlaceholder)return r;const o=yVe(i);return s3(r,o)};var DVe=({draggable:e,draggables:t,droppables:r,previousImpact:s,impact:a})=>{const i=OVe({previousImpact:s,impact:a,droppables:r}),o=Ci(a);if(!o)return i;const l=r[o];if(Qp(e,l)||l.subject.withPlaceholder)return i;const c=iQ(l,e,t);return s3(i,c)},bg=({state:e,clientSelection:t,dimensions:r,viewport:s,impact:a,scrollJumpRequest:i})=>{const o=s||e.viewport,l=r||e.dimensions,c=t||e.current.client.selection,d=ji(c,e.initial.client.selection),u={offset:d,selection:c,borderBoxCenter:Ms(e.initial.client.borderBoxCenter,d)},f={selection:Ms(u.selection,o.scroll.current),borderBoxCenter:Ms(u.borderBoxCenter,o.scroll.current),offset:Ms(u.offset,o.scroll.diff.value)},m={client:u,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:m};const h=l.draggables[e.critical.draggable.id],x=a||dQ({pageOffset:f.offset,draggable:h,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),p=DVe({draggable:h,impact:x,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:m,dimensions:{draggables:l.draggables,droppables:p},impact:x,viewport:o,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function IVe(e,t){return e.map(r=>t[r])}var uQ=({impact:e,viewport:t,draggables:r,destination:s,forceShouldAnimate:a})=>{const i=e.displaced,o=IVe(i.all,r),l=Y0({afterDragging:o,destination:s,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:a,last:i});return{...e,displaced:l}},fQ=({impact:e,draggable:t,droppable:r,draggables:s,viewport:a,afterCritical:i})=>{const o=D2({impact:e,draggable:t,draggables:s,droppable:r,afterCritical:i});return n3({pageBorderBoxCenter:o,draggable:t,viewport:a})},mQ=({state:e,dimensions:t,viewport:r})=>{e.movementMode!=="SNAP"&&rt();const s=e.impact,a=r||e.viewport,i=t||e.dimensions,{draggables:o,droppables:l}=i,c=o[e.critical.draggable.id],d=Ci(s);d||rt();const u=l[d],f=uQ({impact:s,viewport:a,destination:u,draggables:o}),m=fQ({impact:f,draggable:c,droppable:u,draggables:o,viewport:a,afterCritical:e.afterCritical});return bg({impact:f,clientSelection:m,state:e,dimensions:i,viewport:a})},RVe=e=>({index:e.index,droppableId:e.droppableId}),hQ=({draggable:e,home:t,draggables:r,viewport:s})=>{const a=ay(t.axis,e.displaceBy),i=Xp(t.descriptor.id,r),o=i.indexOf(e);o===-1&&rt();const l=i.slice(o+1),c=l.reduce((m,h)=>(m[h.descriptor.id]=!0,m),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:a,effected:c};return{impact:{displaced:Y0({afterDragging:l,destination:t,displacedBy:a,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:RVe(e.descriptor)}},afterCritical:d}},MVe=(e,t)=>({draggables:e.draggables,droppables:s3(e.droppables,t)}),FVe=({draggable:e,offset:t,initialWindowScroll:r})=>{const s=dw(e.client,t),a=uw(s,r);return{...e,placeholder:{...e.placeholder,client:s},client:s,page:a}},$Ve=e=>{const t=e.frame;return t||rt(),t},LVe=({additions:e,updatedDroppables:t,viewport:r})=>{const s=r.scroll.diff.value;return e.map(a=>{const i=a.descriptor.droppableId,o=t[i],c=$Ve(o).scroll.diff.value,d=Ms(s,c);return FVe({draggable:a,offset:d,initialWindowScroll:r.scroll.initial})})},BVe=({state:e,published:t})=>{const r=t.modified.map(j=>{const y=e.dimensions.droppables[j.droppableId];return ZO(y,j.scroll)}),s={...e.dimensions.droppables,...XX(r)},a=QX(LVe({additions:t.additions,updatedDroppables:s,viewport:e.viewport})),i={...e.dimensions.draggables,...a};t.removals.forEach(j=>{delete i[j]});const o={droppables:s,draggables:i},l=Ci(e.impact),c=l?o.droppables[l]:null,d=o.draggables[e.critical.draggable.id],u=o.droppables[e.critical.droppable.id],{impact:f,afterCritical:m}=hQ({draggable:d,home:u,draggables:i,viewport:e.viewport}),h=c&&c.isCombineEnabled?e.impact:f,x=dQ({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:h,viewport:e.viewport,afterCritical:m}),p={...e,phase:"DRAGGING",impact:x,onLiftImpact:f,dimensions:o,afterCritical:m,forceShouldAnimate:!1};return e.phase==="COLLECTING"?p:{...p,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const WA=e=>e.movementMode==="SNAP",LS=(e,t,r)=>{const s=MVe(e.dimensions,t);return!WA(e)||r?bg({state:e,dimensions:s}):mQ({state:e,dimensions:s})};function BS(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const E$={phase:"IDLE",completed:null,shouldFlush:!1};var UVe=(e=E$,t)=>{if(t.type==="FLUSH")return{...E$,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&rt();const{critical:r,clientSelection:s,viewport:a,dimensions:i,movementMode:o}=t.payload,l=i.draggables[r.draggable.id],c=i.droppables[r.droppable.id],d={selection:s,borderBoxCenter:l.client.borderBox.center,offset:Ns},u={client:d,page:{selection:Ms(d.selection,a.scroll.initial),borderBoxCenter:Ms(d.selection,a.scroll.initial),offset:Ms(d.selection,a.scroll.diff.value)}},f=P2(i.droppables).every(p=>!p.isFixedOnPage),{impact:m,afterCritical:h}=hQ({draggable:l,home:c,draggables:i.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:o,dimensions:i,initial:u,current:u,isWindowScrollAllowed:f,impact:m,afterCritical:h,onLiftImpact:m,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&rt(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||rt(),BVe({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Iu(e)||rt();const{client:r}=t.payload;return qd(r,e.current.client.selection)?e:bg({state:e,clientSelection:r,impact:WA(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return BS(e);Iu(e)||rt();const{id:r,newScroll:s}=t.payload,a=e.dimensions.droppables[r];if(!a)return e;const i=ZO(a,s);return LS(e,i,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Iu(e)||rt();const{id:r,isEnabled:s}=t.payload,a=e.dimensions.droppables[r];a||rt(),a.isEnabled===s&&rt();const i={...a,isEnabled:s};return LS(e,i,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Iu(e)||rt();const{id:r,isCombineEnabled:s}=t.payload,a=e.dimensions.droppables[r];a||rt(),a.isCombineEnabled===s&&rt();const i={...a,isCombineEnabled:s};return LS(e,i,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Iu(e)||rt(),e.isWindowScrollAllowed||rt();const r=t.payload.newScroll;if(qd(e.viewport.scroll.current,r))return BS(e);const s=nQ(e.viewport,r);return WA(e)?mQ({state:e,viewport:s}):bg({state:e,viewport:s})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Iu(e))return e;const r=t.payload.maxScroll;if(qd(r,e.viewport.scroll.max))return e;const s={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:s}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&rt();const r=NVe({state:e,type:t.type});return r?bg({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const r=t.payload.reason;return e.phase!=="COLLECTING"&&rt(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(t.type==="DROP_ANIMATE"){const{completed:r,dropDuration:s,newHomeClientOffset:a}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||rt(),{phase:"DROP_ANIMATING",completed:r,dropDuration:s,newHomeClientOffset:a,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:r}=t.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};function _r(e,t){return e instanceof Object&&"type"in e&&e.type===t}const VVe=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),zVe=e=>({type:"LIFT",payload:e}),WVe=e=>({type:"INITIAL_PUBLISH",payload:e}),HVe=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),qVe=()=>({type:"COLLECTION_STARTING",payload:null}),GVe=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),KVe=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),YVe=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),pQ=e=>({type:"MOVE",payload:e}),XVe=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),QVe=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),ZVe=()=>({type:"MOVE_UP",payload:null}),JVe=()=>({type:"MOVE_DOWN",payload:null}),eze=()=>({type:"MOVE_RIGHT",payload:null}),tze=()=>({type:"MOVE_LEFT",payload:null}),a3=()=>({type:"FLUSH",payload:null}),rze=e=>({type:"DROP_ANIMATE",payload:e}),i3=e=>({type:"DROP_COMPLETE",payload:e}),xQ=e=>({type:"DROP",payload:e}),nze=e=>({type:"DROP_PENDING",payload:e}),gQ=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var sze=e=>({getState:t,dispatch:r})=>s=>a=>{if(!_r(a,"LIFT")){s(a);return}const{id:i,clientSelection:o,movementMode:l}=a.payload,c=t();c.phase==="DROP_ANIMATING"&&r(i3({completed:c.completed})),t().phase!=="IDLE"&&rt(),r(a3()),r(VVe({draggableId:i,movementMode:l}));const u={draggableId:i,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:f,dimensions:m,viewport:h}=e.startPublishing(u);r(WVe({critical:f,dimensions:m,clientSelection:o,movementMode:l,viewport:h}))},aze=e=>()=>t=>r=>{_r(r,"INITIAL_PUBLISH")&&e.dragging(),_r(r,"DROP_ANIMATE")&&e.dropping(r.payload.completed.result.reason),(_r(r,"FLUSH")||_r(r,"DROP_COMPLETE"))&&e.resting(),t(r)};const o3={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},X0={opacity:{drop:0,combining:.7},scale:{drop:.75}},vQ={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Eu=`${vQ.outOfTheWay}s ${o3.outOfTheWay}`,wg={fluid:`opacity ${Eu}`,snap:`transform ${Eu}, opacity ${Eu}`,drop:e=>{const t=`${e}s ${o3.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Eu}`,placeholder:`height ${Eu}, width ${Eu}, margin ${Eu}`},A$=e=>qd(e,Ns)?void 0:`translate(${e.x}px, ${e.y}px)`,HA={moveTo:A$,drop:(e,t)=>{const r=A$(e);if(r)return t?`${r} scale(${X0.scale.drop})`:r}},{minDropTime:qA,maxDropTime:yQ}=vQ,ize=yQ-qA,k$=1500,oze=.6;var lze=({current:e,destination:t,reason:r})=>{const s=G0(e,t);if(s<=0)return qA;if(s>=k$)return yQ;const a=s/k$,i=qA+ize*a,o=r==="CANCEL"?i*oze:i;return Number(o.toFixed(2))},cze=({impact:e,draggable:t,dimensions:r,viewport:s,afterCritical:a})=>{const{draggables:i,droppables:o}=r,l=Ci(e),c=l?o[l]:null,d=o[t.descriptor.droppableId],u=fQ({impact:e,draggable:t,draggables:i,afterCritical:a,droppable:c||d,viewport:s});return ji(u,t.client.borderBox.center)},dze=({draggables:e,reason:t,lastImpact:r,home:s,viewport:a,onLiftImpact:i})=>!r.at||t!=="DROP"?{impact:uQ({draggables:e,impact:i,destination:s,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:K0},didDropInsideDroppable:!0};const uze=({getState:e,dispatch:t})=>r=>s=>{if(!_r(s,"DROP")){r(s);return}const a=e(),i=s.payload.reason;if(a.phase==="COLLECTING"){t(nze({reason:i}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&rt(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||rt();const l=a.critical,c=a.dimensions,d=c.draggables[a.critical.draggable.id],{impact:u,didDropInsideDroppable:f}=dze({reason:i,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),m=f?JO(u):null,h=f?T2(u):null,x={index:l.draggable.index,droppableId:l.droppable.id},p={draggableId:d.descriptor.id,type:d.descriptor.type,source:x,reason:i,mode:a.movementMode,destination:m,combine:h},g=cze({impact:u,draggable:d,dimensions:c,viewport:a.viewport,afterCritical:a.afterCritical}),j={critical:a.critical,afterCritical:a.afterCritical,result:p,impact:u};if(!(!qd(a.current.client.offset,g)||!!p.combine)){t(i3({completed:j}));return}const w=lze({current:a.current.client.offset,destination:g,reason:i});t(rze({newHomeClientOffset:g,dropDuration:w,completed:j}))};var jQ=()=>({x:window.pageXOffset,y:window.pageYOffset});function fze(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function mze({onWindowScroll:e}){function t(){e(jQ())}const r=q0(t),s=fze(r);let a=Hd;function i(){return a!==Hd}function o(){i()&&rt(),a=ro(window,[s])}function l(){i()||rt(),r.cancel(),a(),a=Hd}return{start:o,stop:l,isActive:i}}const hze=e=>_r(e,"DROP_COMPLETE")||_r(e,"DROP_ANIMATE")||_r(e,"FLUSH"),pze=e=>{const t=mze({onWindowScroll:r=>{e.dispatch(XVe({newScroll:r}))}});return r=>s=>{!t.isActive()&&_r(s,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&hze(s)&&t.stop(),r(s)}};var xze=e=>{let t=!1,r=!1;const s=setTimeout(()=>{r=!0}),a=i=>{t||r||(t=!0,e(i),clearTimeout(s))};return a.wasCalled=()=>t,a},gze=()=>{const e=[],t=a=>{const i=e.findIndex(l=>l.timerId===a);i===-1&&rt();const[o]=e.splice(i,1);o.callback()};return{add:a=>{const i=setTimeout(()=>t(i)),o={timerId:i,callback:a};e.push(o)},flush:()=>{if(!e.length)return;const a=[...e];e.length=0,a.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const vze=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,yze=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,jze=(e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,s=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&s},Ix=(e,t)=>{t()},fj=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function US(e,t,r,s){if(!e){r(s(t));return}const a=xze(r);e(t,{announce:a}),a.wasCalled()||r(s(t))}var bze=(e,t)=>{const r=gze();let s=null;const a=(f,m)=>{s&&rt(),Ix("onBeforeCapture",()=>{const h=e().onBeforeCapture;h&&h({draggableId:f,mode:m})})},i=(f,m)=>{s&&rt(),Ix("onBeforeDragStart",()=>{const h=e().onBeforeDragStart;h&&h(fj(f,m))})},o=(f,m)=>{s&&rt();const h=fj(f,m);s={mode:m,lastCritical:f,lastLocation:h.source,lastCombine:null},r.add(()=>{Ix("onDragStart",()=>US(e().onDragStart,h,t,Yj.onDragStart))})},l=(f,m)=>{const h=JO(m),x=T2(m);s||rt();const p=!jze(f,s.lastCritical);p&&(s.lastCritical=f);const g=!vze(s.lastLocation,h);g&&(s.lastLocation=h);const j=!yze(s.lastCombine,x);if(j&&(s.lastCombine=x),!p&&!g&&!j)return;const y={...fj(f,s.mode),combine:x,destination:h};r.add(()=>{Ix("onDragUpdate",()=>US(e().onDragUpdate,y,t,Yj.onDragUpdate))})},c=()=>{s||rt(),r.flush()},d=f=>{s||rt(),s=null,Ix("onDragEnd",()=>US(e().onDragEnd,f,t,Yj.onDragEnd))};return{beforeCapture:a,beforeStart:i,start:o,update:l,flush:c,drop:d,abort:()=>{if(!s)return;const f={...fj(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};d(f)}}},wze=(e,t)=>{const r=bze(e,t);return s=>a=>i=>{if(_r(i,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(_r(i,"INITIAL_PUBLISH")){const l=i.payload.critical;r.beforeStart(l,i.payload.movementMode),a(i),r.start(l,i.payload.movementMode);return}if(_r(i,"DROP_COMPLETE")){const l=i.payload.completed.result;r.flush(),a(i),r.drop(l);return}if(a(i),_r(i,"FLUSH")){r.abort();return}const o=s.getState();o.phase==="DRAGGING"&&r.update(o.critical,o.impact)}};const Nze=e=>t=>r=>{if(!_r(r,"DROP_ANIMATION_FINISHED")){t(r);return}const s=e.getState();s.phase!=="DROP_ANIMATING"&&rt(),e.dispatch(i3({completed:s.completed}))},_ze=e=>{let t=null,r=null;function s(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return a=>i=>{if((_r(i,"FLUSH")||_r(i,"DROP_COMPLETE")||_r(i,"DROP_ANIMATION_FINISHED"))&&s(),a(i),!_r(i,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(gQ())}};r=requestAnimationFrame(()=>{r=null,t=ro(window,[o])})}};var Sze=e=>()=>t=>r=>{(_r(r,"DROP_COMPLETE")||_r(r,"FLUSH")||_r(r,"DROP_ANIMATE"))&&e.stopPublishing(),t(r)},Cze=e=>{let t=!1;return()=>r=>s=>{if(_r(s,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(s.payload.critical.draggable.id),r(s),e.tryRestoreFocusRecorded();return}if(r(s),!!t){if(_r(s,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(_r(s,"DROP_COMPLETE")){t=!1;const a=s.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const Eze=e=>_r(e,"DROP_COMPLETE")||_r(e,"DROP_ANIMATE")||_r(e,"FLUSH");var Aze=e=>t=>r=>s=>{if(Eze(s)){e.stop(),r(s);return}if(_r(s,"INITIAL_PUBLISH")){r(s);const a=t.getState();a.phase!=="DRAGGING"&&rt(),e.start(a);return}r(s),e.scroll(t.getState())};const kze=e=>t=>r=>{if(t(r),!_r(r,"PUBLISH_WHILE_DRAGGING"))return;const s=e.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||e.dispatch(xQ({reason:s.reason})))},Pze=MX;var Tze=({dimensionMarshal:e,focusMarshal:t,styleMarshal:r,getResponders:s,announce:a,autoScroller:i})=>RX(UVe,Pze(C7e(aze(r),Sze(e),sze(e),uze,Nze,_ze,kze,Aze(i),pze,Cze(t),wze(s,a))));const VS=()=>({additions:{},removals:{},modified:{}});function Oze({registry:e,callbacks:t}){let r=VS(),s=null;const a=()=>{s||(t.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:c,removals:d,modified:u}=r,f=Object.keys(c).map(x=>e.draggable.getById(x).getDimension(Ns)).sort((x,p)=>x.descriptor.index-p.descriptor.index),m=Object.keys(u).map(x=>{const g=e.droppable.getById(x).callbacks.getScrollWhileDragging();return{droppableId:x,scroll:g}}),h={additions:f,removals:Object.keys(d),modified:m};r=VS(),t.publish(h)}))};return{add:c=>{const d=c.descriptor.id;r.additions[d]=c,r.modified[c.descriptor.droppableId]=!0,r.removals[d]&&delete r.removals[d],a()},remove:c=>{const d=c.descriptor;r.removals[d.id]=!0,r.modified[d.droppableId]=!0,r.additions[d.id]&&delete r.additions[d.id],a()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,r=VS())}}}var bQ=({scrollHeight:e,scrollWidth:t,height:r,width:s})=>{const a=ji({x:t,y:e},{x:s,y:r});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},wQ=()=>{const e=document.documentElement;return e||rt(),e},NQ=()=>{const e=wQ();return bQ({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Dze=()=>{const e=jQ(),t=NQ(),r=e.y,s=e.x,a=wQ(),i=a.clientWidth,o=a.clientHeight,l=s+i,c=r+o;return{frame:Vo({top:r,left:s,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:Ns,displacement:Ns}}}},Ize=({critical:e,scrollOptions:t,registry:r})=>{const s=Dze(),a=s.scroll.current,i=e.droppable,o=r.droppable.getAllByType(i.type).map(u=>u.callbacks.getDimensionAndWatchScroll(a,t)),l=r.draggable.getAllByType(e.draggable.type).map(u=>u.getDimension(a));return{dimensions:{draggables:QX(l),droppables:XX(o)},critical:e,viewport:s}};function P$(e,t,r){return!(r.descriptor.id===t.id||r.descriptor.type!==t.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var Rze=(e,t)=>{let r=null;const s=Oze({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=(m,h)=>{e.droppable.exists(m)||rt(),r&&t.updateDroppableIsEnabled({id:m,isEnabled:h})},i=(m,h)=>{r&&(e.droppable.exists(m)||rt(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:h}))},o=(m,h)=>{r&&(e.droppable.exists(m)||rt(),t.updateDroppableScroll({id:m,newScroll:h}))},l=(m,h)=>{r&&e.droppable.getById(m).callbacks.scroll(h)},c=()=>{if(!r)return;s.stop();const m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(h=>h.callbacks.dragStopped()),r.unsubscribe(),r=null},d=m=>{r||rt();const h=r.critical.draggable;m.type==="ADDITION"&&P$(e,h,m.value)&&s.add(m.value),m.type==="REMOVAL"&&P$(e,h,m.value)&&s.remove(m.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:m=>{r&&rt();const h=e.draggable.getById(m.draggableId),x=e.droppable.getById(h.descriptor.droppableId),p={draggable:h.descriptor,droppable:x.descriptor},g=e.subscribe(d);return r={critical:p,unsubscribe:g},Ize({critical:p,registry:e,scrollOptions:m.scrollOptions})},stopPublishing:c}},_Q=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",Mze=e=>{window.scrollBy(e.x,e.y)};const Fze=ys(e=>P2(e).filter(t=>!(!t.isEnabled||!t.frame))),$ze=(e,t)=>Fze(t).find(s=>(s.frame||rt(),oQ(s.frame.pageMarginBox)(e)))||null;var Lze=({center:e,destination:t,droppables:r})=>{if(t){const a=r[t];return a.frame?a:null}return $ze(e,r)};const Q0={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Bze=(e,t,r=()=>Q0)=>{const s=r(),a=e[t.size]*s.startFromPercentage,i=e[t.size]*s.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:i}},SQ=({startOfRange:e,endOfRange:t,current:r})=>{const s=t-e;return s===0?0:(r-e)/s},l3=1,Uze=(e,t,r=()=>Q0)=>{const s=r();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return s.maxPixelScroll;if(e===t.startScrollingFrom)return l3;const i=1-SQ({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=s.maxPixelScroll*s.ease(i);return Math.ceil(o)},Vze=(e,t,r)=>{const s=r(),a=s.durationDampening.accelerateAt,i=s.durationDampening.stopDampeningAt,o=t,l=i,d=Date.now()-o;if(d>=i)return e;if(d<a)return l3;const u=SQ({startOfRange:a,endOfRange:l,current:d}),f=e*s.ease(u);return Math.ceil(f)},T$=({distanceToEdge:e,thresholds:t,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:a})=>{const i=Uze(e,t,a);return i===0?0:s?Math.max(Vze(i,r,a),l3):i},O$=({container:e,distanceToEdges:t,dragStartTime:r,axis:s,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o=Bze(e,s,i);return t[s.end]<t[s.start]?T$({distanceToEdge:t[s.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i}):-1*T$({distanceToEdge:t[s.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i})},zze=({container:e,subject:t,proposedScroll:r})=>{const s=t.height>e.height,a=t.width>e.width;return!a&&!s?r:a&&s?null:{x:a?0:r.x,y:s?0:r.y}};const Wze=YX(e=>e===0?0:e);var CQ=({dragStartTime:e,container:t,subject:r,center:s,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o={top:s.y-t.top,right:t.right-s.x,bottom:t.bottom-s.y,left:s.x-t.left},l=O$({container:t,distanceToEdges:o,dragStartTime:e,axis:e3,shouldUseTimeDampening:a,getAutoScrollerOptions:i}),c=O$({container:t,distanceToEdges:o,dragStartTime:e,axis:eQ,shouldUseTimeDampening:a,getAutoScrollerOptions:i}),d=Wze({x:c,y:l});if(qd(d,Ns))return null;const u=zze({container:t,subject:r,proposedScroll:d});return u?qd(u,Ns)?null:u:null};const Hze=YX(e=>e===0?0:e>0?1:-1),c3=(()=>{const e=(t,r)=>t<0?t:t>r?t-r:0;return({current:t,max:r,change:s})=>{const a=Ms(t,s),i={x:e(a.x,r.x),y:e(a.y,r.y)};return qd(i,Ns)?null:i}})(),EQ=({max:e,current:t,change:r})=>{const s={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},a=Hze(r),i=c3({max:s,current:t,change:a});return!i||a.x!==0&&i.x===0||a.y!==0&&i.y===0},d3=(e,t)=>EQ({current:e.scroll.current,max:e.scroll.max,change:t}),qze=(e,t)=>{if(!d3(e,t))return null;const r=e.scroll.max,s=e.scroll.current;return c3({current:s,max:r,change:t})},u3=(e,t)=>{const r=e.frame;return r?EQ({current:r.scroll.current,max:r.scroll.max,change:t}):!1},Gze=(e,t)=>{const r=e.frame;return!r||!u3(e,t)?null:c3({current:r.scroll.current,max:r.scroll.max,change:t})};var Kze=({viewport:e,subject:t,center:r,dragStartTime:s,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o=CQ({dragStartTime:s,container:e.frame,subject:t,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i});return o&&d3(e,o)?o:null},Yze=({droppable:e,subject:t,center:r,dragStartTime:s,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o=e.frame;if(!o)return null;const l=CQ({dragStartTime:s,container:o.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i});return l&&u3(e,l)?l:null},D$=({state:e,dragStartTime:t,shouldUseTimeDampening:r,scrollWindow:s,scrollDroppable:a,getAutoScrollerOptions:i})=>{const o=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,m=Kze({dragStartTime:t,viewport:f,subject:c,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});if(m){s(m);return}}const d=Lze({center:o,destination:Ci(e.impact),droppables:e.dimensions.droppables});if(!d)return;const u=Yze({dragStartTime:t,droppable:d,subject:c,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});u&&a(d.descriptor.id,u)},Xze=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r=()=>Q0})=>{const s=q0(e),a=q0(t);let i=null;const o=d=>{i||rt();const{shouldUseTimeDampening:u,dragStartTime:f}=i;D$({state:d,scrollWindow:s,scrollDroppable:a,dragStartTime:f,shouldUseTimeDampening:u,getAutoScrollerOptions:r})};return{start:d=>{i&&rt();const u=Date.now();let f=!1;const m=()=>{f=!0};D$({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:r}),i={dragStartTime:u,shouldUseTimeDampening:f},f&&o(d)},stop:()=>{i&&(s.cancel(),a.cancel(),i=null)},scroll:o}},Qze=({move:e,scrollDroppable:t,scrollWindow:r})=>{const s=(l,c)=>{const d=Ms(l.current.client.selection,c);e({client:d})},a=(l,c)=>{if(!u3(l,c))return c;const d=Gze(l,c);if(!d)return t(l.descriptor.id,c),null;const u=ji(c,d);return t(l.descriptor.id,u),ji(c,u)},i=(l,c,d)=>{if(!l||!d3(c,d))return d;const u=qze(c,d);if(!u)return r(d),null;const f=ji(d,u);return r(f),ji(d,f)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const d=Ci(l.impact);d||rt();const u=a(l.dimensions.droppables[d],c);if(!u)return;const f=l.viewport,m=i(l.isWindowScrollAllowed,f,u);m&&s(l,m)}},Zze=({scrollDroppable:e,scrollWindow:t,move:r,getAutoScrollerOptions:s})=>{const a=Xze({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:s}),i=Qze({move:r,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(s().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){a.scroll(c);return}c.scrollJumpRequest&&i(c)}},start:a.start,stop:a.stop}};const mp="data-rfd",hp=(()=>{const e=`${mp}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),GA=(()=>{const e=`${mp}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Jze=(()=>{const e=`${mp}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),I$={contextId:`${mp}-scroll-container-context-id`},eWe=e=>t=>`[${t}="${e}"]`,Rx=(e,t)=>e.map(r=>{const s=r.styles[t];return s?`${r.selector} { ${s} }`:""}).join(" "),tWe="pointer-events: none;";var rWe=e=>{const t=eWe(e),r=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(hp.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:tWe,dropAnimating:l}}})(),s=(()=>{const l=`
      transition: ${wg.outOfTheWay};
    `;return{selector:t(GA.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),a={selector:t(Jze.contextId),styles:{always:"overflow-anchor: none;"}},o=[s,r,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Rx(o,"always"),resting:Rx(o,"resting"),dragging:Rx(o,"dragging"),dropAnimating:Rx(o,"dropAnimating"),userCancel:Rx(o,"userCancel")}};const Ei=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect,zS=()=>{const e=document.querySelector("head");return e||rt(),e},R$=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function nWe(e,t){const r=cr(()=>rWe(e),[e]),s=v.useRef(null),a=v.useRef(null),i=St(ys(f=>{const m=a.current;m||rt(),m.textContent=f}),[]),o=St(f=>{const m=s.current;m||rt(),m.textContent=f},[]);Ei(()=>{!s.current&&!a.current||rt();const f=R$(t),m=R$(t);return s.current=f,a.current=m,f.setAttribute(`${mp}-always`,e),m.setAttribute(`${mp}-dynamic`,e),zS().appendChild(f),zS().appendChild(m),o(r.always),i(r.resting),()=>{const h=x=>{const p=x.current;p||rt(),zS().removeChild(p),x.current=null};h(s),h(a)}},[t,o,i,r.always,r.resting,e]);const l=St(()=>i(r.dragging),[i,r.dragging]),c=St(f=>{if(f==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),d=St(()=>{a.current&&i(r.resting)},[i,r.resting]);return cr(()=>({dragging:l,dropping:c,resting:d}),[l,c,d])}function AQ(e,t){return Array.from(e.querySelectorAll(t))}var kQ=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function I2(e){return e instanceof kQ(e).HTMLElement}function sWe(e,t){const r=`[${hp.contextId}="${e}"]`,s=AQ(document,r);if(!s.length)return null;const a=s.find(i=>i.getAttribute(hp.draggableId)===t);return!a||!I2(a)?null:a}function aWe(e){const t=v.useRef({}),r=v.useRef(null),s=v.useRef(null),a=v.useRef(!1),i=St(function(m,h){const x={id:m,focus:h};return t.current[m]=x,function(){const g=t.current;g[m]!==x&&delete g[m]}},[]),o=St(function(m){const h=sWe(e,m);h&&h!==document.activeElement&&h.focus()},[e]),l=St(function(m,h){r.current===m&&(r.current=h)},[]),c=St(function(){s.current||a.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const m=r.current;m&&o(m)}))},[o]),d=St(function(m){r.current=null;const h=document.activeElement;h&&h.getAttribute(hp.draggableId)===m&&(r.current=m)},[]);return Ei(()=>(a.current=!0,function(){a.current=!1;const m=s.current;m&&cancelAnimationFrame(m)}),[]),cr(()=>({register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[i,d,c,l])}function iWe(){const e={draggables:{},droppables:{}},t=[];function r(f){return t.push(f),function(){const h=t.indexOf(f);h!==-1&&t.splice(h,1)}}function s(f){t.length&&t.forEach(m=>m(f))}function a(f){return e.draggables[f]||null}function i(f){const m=a(f);return m||rt(),m}const o={register:f=>{e.draggables[f.descriptor.id]=f,s({type:"ADDITION",value:f})},update:(f,m)=>{const h=e.draggables[m.descriptor.id];h&&h.uniqueId===f.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:f=>{const m=f.descriptor.id,h=a(m);h&&f.uniqueId===h.uniqueId&&(delete e.draggables[m],e.droppables[f.descriptor.droppableId]&&s({type:"REMOVAL",value:f}))},getById:i,findById:a,exists:f=>!!a(f),getAllByType:f=>Object.values(e.draggables).filter(m=>m.descriptor.type===f)};function l(f){return e.droppables[f]||null}function c(f){const m=l(f);return m||rt(),m}const d={register:f=>{e.droppables[f.descriptor.id]=f},unregister:f=>{const m=l(f.descriptor.id);m&&f.uniqueId===m.uniqueId&&delete e.droppables[f.descriptor.id]},getById:c,findById:l,exists:f=>!!l(f),getAllByType:f=>Object.values(e.droppables).filter(m=>m.descriptor.type===f)};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:r,clean:u}}function oWe(){const e=cr(iWe,[]);return v.useEffect(()=>function(){e.clean()},[e]),e}var f3=V.createContext(null),pw=()=>{const e=document.body;return e||rt(),e};const lWe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},cWe=e=>`rfd-announcement-${e}`;function dWe(e){const t=cr(()=>cWe(e),[e]),r=v.useRef(null);return v.useEffect(function(){const i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),Us(i.style,lWe),pw().appendChild(i),function(){setTimeout(function(){const c=pw();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[t]),St(a=>{const i=r.current;if(i){i.textContent=a;return}},[])}const uWe={separator:"::"};function m3(e,t=uWe){const r=V.useId();return cr(()=>`${e}${t.separator}${r}`,[t.separator,e,r])}function fWe({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function mWe({contextId:e,text:t}){const r=m3("hidden-text",{separator:"-"}),s=cr(()=>fWe({contextId:e,uniqueId:r}),[r,e]);return v.useEffect(function(){const i=document.createElement("div");return i.id=s,i.textContent=t,i.style.display="none",pw().appendChild(i),function(){const l=pw();l.contains(i)&&l.removeChild(i)}},[s,t]),s}var R2=V.createContext(null);function PQ(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),t}function hWe(){let e=null;function t(){return!!e}function r(o){return o===e}function s(o){e&&rt();const l={abandon:o};return e=l,l}function a(){e||rt(),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:r,claim:s,release:a,tryAbandon:i}}function Z0(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const pWe=9,xWe=13,h3=27,TQ=32,gWe=33,vWe=34,yWe=35,jWe=36,bWe=37,wWe=38,NWe=39,_We=40,SWe={[xWe]:!0,[pWe]:!0};var OQ=e=>{SWe[e.keyCode]&&e.preventDefault()};const M2=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(s=>`on${s}`in document)||e})(),DQ=0,M$=5;function CWe(e,t){return Math.abs(t.x-e.x)>=M$||Math.abs(t.y-e.y)>=M$}const F$={type:"IDLE"};function EWe({cancel:e,completed:t,getPhase:r,setPhase:s}){return[{eventName:"mousemove",fn:a=>{const{button:i,clientX:o,clientY:l}=a;if(i!==DQ)return;const c={x:o,y:l},d=r();if(d.type==="DRAGGING"){a.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&rt();const u=d.point;if(!CWe(u,c))return;a.preventDefault();const f=d.actions.fluidLift(c);s({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:a=>{const i=r();if(i.type!=="DRAGGING"){e();return}a.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:a=>{r().type==="DRAGGING"&&a.preventDefault(),e()}},{eventName:"keydown",fn:a=>{if(r().type==="PENDING"){e();return}if(a.keyCode===h3){a.preventDefault(),e();return}OQ(a)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:a=>{const i=r();if(i.type==="IDLE"&&rt(),i.actions.shouldRespectForcePress()){e();return}a.preventDefault()}},{eventName:M2,fn:e}]}function AWe(e){const t=v.useRef(F$),r=v.useRef(Hd),s=cr(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==DQ||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const m=e.findClosestDraggableId(f);if(!m)return;const h=e.tryGetLock(m,o,{sourceEvent:f});if(!h)return;f.preventDefault();const x={x:f.clientX,y:f.clientY};r.current(),d(h,x)}}),[e]),a=cr(()=>({eventName:"webkitmouseforcewillbegin",fn:u=>{if(u.defaultPrevented)return;const f=e.findClosestDraggableId(u);if(!f)return;const m=e.findOptionsForDraggable(f);m&&(m.shouldRespectForcePress||e.canGetLock(f)&&u.preventDefault())}}),[e]),i=St(function(){const f={passive:!1,capture:!0};r.current=ro(window,[a,s],f)},[a,s]),o=St(()=>{t.current.type!=="IDLE"&&(t.current=F$,r.current(),i())},[i]),l=St(()=>{const u=t.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),c=St(function(){const f={capture:!0,passive:!1},m=EWe({cancel:l,completed:o,getPhase:()=>t.current,setPhase:h=>{t.current=h}});r.current=ro(window,m,f)},[l,o]),d=St(function(f,m){t.current.type!=="IDLE"&&rt(),t.current={type:"PENDING",point:m,actions:f},c()},[c]);Ei(function(){return i(),function(){r.current()}},[i])}function kWe(){}const PWe={[vWe]:!0,[gWe]:!0,[jWe]:!0,[yWe]:!0};function TWe(e,t){function r(){t(),e.cancel()}function s(){t(),e.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===h3){a.preventDefault(),r();return}if(a.keyCode===TQ){a.preventDefault(),s();return}if(a.keyCode===_We){a.preventDefault(),e.moveDown();return}if(a.keyCode===wWe){a.preventDefault(),e.moveUp();return}if(a.keyCode===NWe){a.preventDefault(),e.moveRight();return}if(a.keyCode===bWe){a.preventDefault(),e.moveLeft();return}if(PWe[a.keyCode]){a.preventDefault();return}OQ(a)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:M2,fn:r}]}function OWe(e){const t=v.useRef(kWe),r=cr(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==TQ)return;const o=e.findClosestDraggableId(i);if(!o)return;const l=e.tryGetLock(o,u,{sourceEvent:i});if(!l)return;i.preventDefault();let c=!0;const d=l.snapLift();t.current();function u(){c||rt(),c=!1,t.current(),s()}t.current=ro(window,TWe(d,u),{capture:!0,passive:!1})}}),[e]),s=St(function(){const i={passive:!1,capture:!0};t.current=ro(window,[r],i)},[r]);Ei(function(){return s(),function(){t.current()}},[s])}const WS={type:"IDLE"},DWe=120,IWe=.15;function RWe({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(t().type!=="DRAGGING"){e();return}r.keyCode===h3&&r.preventDefault(),e()}},{eventName:M2,fn:e}]}function MWe({cancel:e,completed:t,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const a=r();if(a.type!=="DRAGGING"){e();return}a.hasMoved=!0;const{clientX:i,clientY:o}=s.touches[0],l={x:i,y:o};s.preventDefault(),a.actions.move(l)}},{eventName:"touchend",fn:s=>{const a=r();if(a.type!=="DRAGGING"){e();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:s=>{if(r().type!=="DRAGGING"){e();return}s.preventDefault(),e()}},{eventName:"touchforcechange",fn:s=>{const a=r();a.type==="IDLE"&&rt();const i=s.touches[0];if(!i||!(i.force>=IWe))return;const l=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){l&&e();return}if(l){if(a.hasMoved){s.preventDefault();return}e();return}s.preventDefault()}},{eventName:M2,fn:e}]}function FWe(e){const t=v.useRef(WS),r=v.useRef(Hd),s=St(function(){return t.current},[]),a=St(function(h){t.current=h},[]),i=cr(()=>({eventName:"touchstart",fn:function(h){if(h.defaultPrevented)return;const x=e.findClosestDraggableId(h);if(!x)return;const p=e.tryGetLock(x,l,{sourceEvent:h});if(!p)return;const g=h.touches[0],{clientX:j,clientY:y}=g,w={x:j,y};r.current(),f(p,w)}}),[e]),o=St(function(){const h={capture:!0,passive:!1};r.current=ro(window,[i],h)},[i]),l=St(()=>{const m=t.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),a(WS),r.current(),o())},[o,a]),c=St(()=>{const m=t.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),d=St(function(){const h={capture:!0,passive:!1},x={cancel:c,completed:l,getPhase:s},p=ro(window,MWe(x),h),g=ro(window,RWe(x),h);r.current=function(){p(),g()}},[c,s,l]),u=St(function(){const h=s();h.type!=="PENDING"&&rt();const x=h.actions.fluidLift(h.point);a({type:"DRAGGING",actions:x,hasMoved:!1})},[s,a]),f=St(function(h,x){s().type!=="IDLE"&&rt();const p=setTimeout(u,DWe);a({type:"PENDING",point:x,actions:h,longPressTimerId:p}),d()},[d,s,a,u]);Ei(function(){return o(),function(){r.current();const x=s();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),a(WS))}},[s,o,a]),Ei(function(){return ro(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const $We=["input","button","textarea","select","option","optgroup","video","audio"];function IQ(e,t){if(t==null)return!1;if($We.includes(t.tagName.toLowerCase()))return!0;const s=t.getAttribute("contenteditable");return s==="true"||s===""?!0:t===e?!1:IQ(e,t.parentElement)}function LWe(e,t){const r=t.target;return I2(r)?IQ(e,r):!1}var BWe=e=>Vo(e.getBoundingClientRect()).center;function UWe(e){return e instanceof kQ(e).Element}const VWe=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||e})();function RQ(e,t){return e==null?null:e[VWe](t)?e:RQ(e.parentElement,t)}function zWe(e,t){return e.closest?e.closest(t):RQ(e,t)}function WWe(e){return`[${hp.contextId}="${e}"]`}function HWe(e,t){const r=t.target;if(!UWe(r))return null;const s=WWe(e),a=zWe(r,s);return!a||!I2(a)?null:a}function qWe(e,t){const r=HWe(e,t);return r?r.getAttribute(hp.draggableId):null}function GWe(e,t){const r=`[${GA.contextId}="${e}"]`,a=AQ(document,r).find(i=>i.getAttribute(GA.id)===t);return!a||!I2(a)?null:a}function KWe(e){e.preventDefault()}function mj({expected:e,phase:t,isLockActive:r,shouldWarn:s}){return!(!r()||e!==t)}function MQ({lockAPI:e,store:t,registry:r,draggableId:s}){if(e.isClaimed())return!1;const a=r.draggable.findById(s);return!(!a||!a.options.isEnabled||!_Q(t.getState(),s))}function YWe({lockAPI:e,contextId:t,store:r,registry:s,draggableId:a,forceSensorStop:i,sourceEvent:o}){if(!MQ({lockAPI:e,store:r,registry:s,draggableId:a}))return null;const c=s.draggable.getById(a),d=GWe(t,c.descriptor.id);if(!d||o&&!c.options.canDragInteractiveElements&&LWe(d,o))return null;const u=e.claim(i||Hd);let f="PRE_DRAG";function m(){return c.options.shouldRespectForcePress}function h(){return e.isActive(u)}function x(N,S){mj({expected:N,phase:f,isLockActive:h,shouldWarn:!0})&&r.dispatch(S())}const p=x.bind(null,"DRAGGING");function g(N){function S(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(S(),rt()),r.dispatch(zVe(N.liftActionArgs)),f="DRAGGING";function E(C,A={shouldBlockNextClick:!1}){if(N.cleanup(),A.shouldBlockNextClick){const P=ro(window,[{eventName:"click",fn:KWe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(P)}S(),r.dispatch(xQ({reason:C}))}return{isActive:()=>mj({expected:"DRAGGING",phase:f,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:m,drop:C=>E("DROP",C),cancel:C=>E("CANCEL",C),...N.actions}}function j(N){const S=q0(C=>{p(()=>pQ({client:C}))});return{...g({liftActionArgs:{id:a,clientSelection:N,movementMode:"FLUID"},cleanup:()=>S.cancel(),actions:{move:S}}),move:S}}function y(){const N={moveUp:()=>p(ZVe),moveRight:()=>p(eze),moveDown:()=>p(JVe),moveLeft:()=>p(tze)};return g({liftActionArgs:{id:a,clientSelection:BWe(d),movementMode:"SNAP"},cleanup:Hd,actions:N})}function w(){mj({expected:"PRE_DRAG",phase:f,isLockActive:h,shouldWarn:!0})&&e.release()}return{isActive:()=>mj({expected:"PRE_DRAG",phase:f,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:j,snapLift:y,abort:w}}const XWe=[AWe,OWe,FWe];function QWe({contextId:e,store:t,registry:r,customSensors:s,enableDefaultSensors:a}){const i=[...a?XWe:[],...s||[]],o=v.useState(()=>hWe())[0],l=St(function(g,j){Z0(g)&&!Z0(j)&&o.tryAbandon()},[o]);Ei(function(){let g=t.getState();return t.subscribe(()=>{const y=t.getState();l(g,y),g=y})},[o,t,l]),Ei(()=>o.tryAbandon,[o.tryAbandon]);const c=St(p=>MQ({lockAPI:o,registry:r,store:t,draggableId:p}),[o,r,t]),d=St((p,g,j)=>YWe({lockAPI:o,registry:r,contextId:e,store:t,draggableId:p,forceSensorStop:g||null,sourceEvent:j&&j.sourceEvent?j.sourceEvent:null}),[e,o,r,t]),u=St(p=>qWe(e,p),[e]),f=St(p=>{const g=r.draggable.findById(p);return g?g.options:null},[r.draggable]),m=St(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(a3()))},[o,t]),h=St(()=>o.isClaimed(),[o]),x=cr(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:u,findOptionsForDraggable:f,tryReleaseLock:m,isLockClaimed:h}),[c,d,u,f,m,h]);for(let p=0;p<i.length;p++)i[p](x)}const ZWe=e=>({onBeforeCapture:t=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};po.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),JWe=e=>({...Q0,...e.autoScrollerOptions,durationDampening:{...Q0.durationDampening,...e.autoScrollerOptions}});function Mx(e){return e.current||rt(),e.current}function eHe(e){const{contextId:t,setCallbacks:r,sensors:s,nonce:a,dragHandleUsageInstructions:i}=e,o=v.useRef(null),l=PQ(e),c=St(()=>ZWe(l.current),[l]),d=St(()=>JWe(l.current),[l]),u=dWe(t),f=mWe({contextId:t,text:i}),m=nWe(t,a),h=St(P=>{Mx(o).dispatch(P)},[]),x=cr(()=>u$({publishWhileDragging:HVe,updateDroppableScroll:GVe,updateDroppableIsEnabled:KVe,updateDroppableIsCombineEnabled:YVe,collectionStarting:qVe},h),[h]),p=oWe(),g=cr(()=>Rze(p,x),[p,x]),j=cr(()=>Zze({scrollWindow:Mze,scrollDroppable:g.scrollDroppable,getAutoScrollerOptions:d,...u$({move:pQ},h)}),[g.scrollDroppable,h,d]),y=aWe(t),w=cr(()=>Tze({announce:u,autoScroller:j,dimensionMarshal:g,focusMarshal:y,getResponders:c,styleMarshal:m}),[u,j,g,y,c,m]);o.current=w;const b=St(()=>{const P=Mx(o);P.getState().phase!=="IDLE"&&P.dispatch(a3())},[]),N=St(()=>{const P=Mx(o).getState();return P.phase==="DROP_ANIMATING"?!0:P.phase==="IDLE"?!1:P.isDragging},[]),S=cr(()=>({isDragging:N,tryAbort:b}),[N,b]);r(S);const E=St(P=>_Q(Mx(o).getState(),P),[]),C=St(()=>Iu(Mx(o).getState()),[]),A=cr(()=>({marshal:g,focus:y,contextId:t,canLift:E,isMovementAllowed:C,dragHandleUsageInstructionsId:f,registry:p}),[t,g,f,y,E,C,p]);return QWe({contextId:t,store:w,registry:p,customSensors:s||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),v.useEffect(()=>b,[b]),V.createElement(R2.Provider,{value:A},V.createElement(EUe,{context:f3,store:w},e.children))}function tHe(){return V.useId()}function rHe(e){const t=tHe(),r=e.dragHandleUsageInstructions||Yj.dragHandleUsageInstructions;return V.createElement(OUe,null,s=>V.createElement(eHe,{nonce:e.nonce,contextId:t,setCallbacks:s,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const $$={dragging:5e3,dropAnimating:4500},nHe=(e,t)=>t?wg.drop(t.duration):e?wg.snap:wg.fluid,sHe=(e,t)=>{if(e)return t?X0.opacity.drop:X0.opacity.combining},aHe=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function iHe(e){const r=e.dimension.client,{offset:s,combineWith:a,dropping:i}=e,o=!!a,l=aHe(e),c=!!i,d=c?HA.drop(s,o):HA.moveTo(s);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:nHe(l,i),transform:d,opacity:sHe(o,c),zIndex:c?$$.dropAnimating:$$.dragging,pointerEvents:"none"}}function oHe(e){return{transform:HA.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function lHe(e){return e.type==="DRAGGING"?iHe(e):oHe(e)}function cHe(e,t,r=Ns){const s=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=zX(a,s),o=uw(i,r),l={client:i,tagName:t.tagName.toLowerCase(),display:s.display},c={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:i,page:o}}function dHe(e){const t=m3("draggable"),{descriptor:r,registry:s,getDraggableRef:a,canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}=e,c=cr(()=>({canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}),[i,l,o]),d=St(h=>{const x=a();return x||rt(),cHe(r,x,h)},[r,a]),u=cr(()=>({uniqueId:t,descriptor:r,options:c,getDimension:d}),[r,d,c,t]),f=v.useRef(u),m=v.useRef(!0);Ei(()=>(s.draggable.register(f.current),()=>s.draggable.unregister(f.current)),[s.draggable]),Ei(()=>{if(m.current){m.current=!1;return}const h=f.current;f.current=u,s.draggable.update(u,h)},[u,s.draggable])}var p3=V.createContext(null);function xw(e){const t=v.useContext(e);return t||rt(),t}function uHe(e){e.preventDefault()}const fHe=e=>{const t=v.useRef(null),r=St((S=null)=>{t.current=S},[]),s=St(()=>t.current,[]),{contextId:a,dragHandleUsageInstructionsId:i,registry:o}=xw(R2),{type:l,droppableId:c}=xw(p3),d=cr(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:u,draggableId:f,isEnabled:m,shouldRespectForcePress:h,canDragInteractiveElements:x,isClone:p,mapped:g,dropAnimationFinished:j}=e;if(!p){const S=cr(()=>({descriptor:d,registry:o,getDraggableRef:s,canDragInteractiveElements:x,shouldRespectForcePress:h,isEnabled:m}),[d,o,s,x,h,m]);dHe(S)}const y=cr(()=>m?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:uHe}:null,[a,i,f,m]),w=St(S=>{g.type==="DRAGGING"&&g.dropping&&S.propertyName==="transform"&&po.flushSync(j)},[j,g]),b=cr(()=>{const S=lHe(g),E=g.type==="DRAGGING"&&g.dropping?w:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":f,style:S,onTransitionEnd:E},dragHandleProps:y}},[a,y,f,g,w,r]),N=cr(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return V.createElement(V.Fragment,null,u(b,g.snapshot,N))};var FQ=(e,t)=>e===t,$Q=e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null};const mHe=e=>e.combine?e.combine.draggableId:null,hHe=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function pHe(){const e=ys((a,i)=>({x:a,y:i})),t=ys((a,i,o=null,l=null,c=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:o,combineWith:l,combineTargetFor:null})),r=ys((a,i,o,l,c=null,d=null,u=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:i,offset:a,dimension:o,forceShouldAnimate:u,snapshot:t(i,l,c,d,null)}}));return(a,i)=>{if(Z0(a)){if(a.critical.draggable.id!==i.draggableId)return null;const o=a.current.client.offset,l=a.dimensions.draggables[i.draggableId],c=Ci(a.impact),d=hHe(a.impact),u=a.forceShouldAnimate;return r(e(o.x,o.y),a.movementMode,l,i.isClone,c,d,u)}if(a.phase==="DROP_ANIMATING"){const o=a.completed;if(o.result.draggableId!==i.draggableId)return null;const l=i.isClone,c=a.dimensions.draggables[i.draggableId],d=o.result,u=d.mode,f=$Q(d),m=mHe(d),x={duration:a.dropDuration,curve:o3.drop,moveTo:a.newHomeClientOffset,opacity:m?X0.opacity.drop:null,scale:m?X0.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:c,dropping:x,draggingOver:f,combineWith:m,mode:u,forceShouldAnimate:null,snapshot:t(u,l,f,m,x)}}}return null}}function LQ(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const xHe={mapped:{type:"SECONDARY",offset:Ns,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:LQ(null)}};function gHe(){const e=ys((o,l)=>({x:o,y:l})),t=ys(LQ),r=ys((o,l=null,c)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),s=o=>o?r(Ns,o,!0):null,a=(o,l,c,d)=>{const u=c.displaced.visible[o],f=!!(d.inVirtualList&&d.effected[o]),m=T2(c),h=m&&m.draggableId===o?l:null;if(!u){if(!f)return s(h);if(c.displaced.invisible[o])return null;const g=Yp(d.displacedBy.point),j=e(g.x,g.y);return r(j,h,!0)}if(f)return s(h);const x=c.displacedBy.point,p=e(x.x,x.y);return r(p,h,u.shouldAnimate)};return(o,l)=>{if(Z0(o))return o.critical.draggable.id===l.draggableId?null:a(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const c=o.completed;return c.result.draggableId===l.draggableId?null:a(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const vHe=()=>{const e=pHe(),t=gHe();return(s,a)=>e(s,a)||t(s,a)||xHe},yHe={dropAnimationFinished:gQ},jHe=VX(vHe,yHe,null,{context:f3,areStatePropsEqual:FQ})(fHe);function BQ(e){return xw(p3).isUsingCloneFor===e.draggableId&&!e.isClone?null:V.createElement(jHe,e)}function bHe(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,s=!!e.shouldRespectForcePress;return V.createElement(BQ,Us({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:s}))}const UQ=e=>t=>e===t,wHe=UQ("scroll"),NHe=UQ("auto"),L$=(e,t)=>t(e.overflowX)||t(e.overflowY),_He=e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return L$(r,wHe)||L$(r,NHe)},SHe=()=>!1,VQ=e=>e==null?null:e===document.body?SHe()?e:null:e===document.documentElement?null:_He(e)?e:VQ(e.parentElement);var KA=e=>({x:e.scrollLeft,y:e.scrollTop});const zQ=e=>e?window.getComputedStyle(e).position==="fixed"?!0:zQ(e.parentElement):!1;var CHe=e=>{const t=VQ(e),r=zQ(e);return{closestScrollable:t,isFixedOnPage:r}},EHe=({descriptor:e,isEnabled:t,isCombineEnabled:r,isFixedOnPage:s,direction:a,client:i,page:o,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:m,client:h}=l,x=bQ({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:h.paddingBox.height,width:h.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:h,scrollSize:m,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:x,diff:{value:Ns,displacement:Ns}}}})(),d=a==="vertical"?e3:eQ,u=fp({page:o,withPlaceholder:null,axis:d,frame:c});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:s,axis:d,isEnabled:t,client:i,page:o,frame:c,subject:u}};const AHe=(e,t)=>{const r=WX(e);if(!t||e!==t)return r;const s=r.paddingBox.top-t.scrollTop,a=r.paddingBox.left-t.scrollLeft,i=s+t.scrollHeight,o=a+t.scrollWidth,c=XO({top:s,right:o,bottom:i,left:a},r.border);return QO({borderBox:c,margin:r.margin,border:r.border,padding:r.padding})};var kHe=({ref:e,descriptor:t,env:r,windowScroll:s,direction:a,isDropDisabled:i,isCombineEnabled:o,shouldClipSubject:l})=>{const c=r.closestScrollable,d=AHe(e,c),u=uw(d,s),f=(()=>{if(!c)return null;const h=WX(c),x={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:h,page:uw(h,s),scroll:KA(c),scrollSize:x,shouldClipSubject:l}})();return EHe({descriptor:t,isEnabled:!i,isCombineEnabled:o,isFixedOnPage:r.isFixedOnPage,direction:a,client:d,page:u,closest:f})};const PHe={passive:!1},THe={passive:!0};var B$=e=>e.shouldPublishImmediately?PHe:THe;const hj=e=>e&&e.env.closestScrollable||null;function OHe(e){const t=v.useRef(null),r=xw(R2),s=m3("droppable"),{registry:a,marshal:i}=r,o=PQ(e),l=cr(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=v.useRef(l),d=cr(()=>ys((b,N)=>{t.current||rt();const S={x:b,y:N};i.updateDroppableScroll(l.id,S)}),[l.id,i]),u=St(()=>{const b=t.current;return!b||!b.env.closestScrollable?Ns:KA(b.env.closestScrollable)},[]),f=St(()=>{const b=u();d(b.x,b.y)},[u,d]),m=cr(()=>q0(f),[f]),h=St(()=>{const b=t.current,N=hj(b);if(b&&N||rt(),b.scrollOptions.shouldPublishImmediately){f();return}m()},[m,f]),x=St((b,N)=>{t.current&&rt();const S=o.current,E=S.getDroppableRef();E||rt();const C=CHe(E),A={ref:E,descriptor:l,env:C,scrollOptions:N};t.current=A;const P=kHe({ref:E,descriptor:l,env:C,windowScroll:b,direction:S.direction,isDropDisabled:S.isDropDisabled,isCombineEnabled:S.isCombineEnabled,shouldClipSubject:!S.ignoreContainerClipping}),R=C.closestScrollable;return R&&(R.setAttribute(I$.contextId,r.contextId),R.addEventListener("scroll",h,B$(A.scrollOptions))),P},[r.contextId,l,h,o]),p=St(()=>{const b=t.current,N=hj(b);return b&&N||rt(),KA(N)},[]),g=St(()=>{const b=t.current;b||rt();const N=hj(b);t.current=null,N&&(m.cancel(),N.removeAttribute(I$.contextId),N.removeEventListener("scroll",h,B$(b.scrollOptions)))},[h,m]),j=St(b=>{const N=t.current;N||rt();const S=hj(N);S||rt(),S.scrollTop+=b.y,S.scrollLeft+=b.x},[]),y=cr(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:p,dragStopped:g,scroll:j}),[g,x,p,j]),w=cr(()=>({uniqueId:s,descriptor:l,callbacks:y}),[y,l,s]);Ei(()=>(c.current=w.descriptor,a.droppable.register(w),()=>{t.current&&g(),a.droppable.unregister(w)}),[y,l,g,w,i,a.droppable]),Ei(()=>{t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Ei(()=>{t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function HS(){}const U$={width:0,height:0,margin:LUe},DHe=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>e||r==="close"?U$:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},IHe=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>{const s=DHe({isAnimatingOpenOnMount:e,placeholder:t,animate:r});return{display:t.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?wg.placeholder:null}},RHe=e=>{const t=v.useRef(null),r=St(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:s,onTransitionEnd:a,onClose:i,contextId:o}=e,[l,c]=v.useState(e.animate==="open");v.useEffect(()=>l?s!=="open"?(r(),c(!1),HS):t.current?HS:(t.current=setTimeout(()=>{t.current=null,c(!1)}),r):HS,[s,l,r]);const d=St(f=>{f.propertyName==="height"&&(a(),s==="close"&&i())},[s,i,a]),u=IHe({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return V.createElement(e.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})};var MHe=V.memo(RHe);class FHe extends V.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,r){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const $He=e=>{const t=v.useContext(R2);t||rt();const{contextId:r,isMovementAllowed:s}=t,a=v.useRef(null),i=v.useRef(null),{children:o,droppableId:l,type:c,mode:d,direction:u,ignoreContainerClipping:f,isDropDisabled:m,isCombineEnabled:h,snapshot:x,useClone:p,updateViewportMaxScroll:g,getContainerForClone:j}=e,y=St(()=>a.current,[]),w=St((R=null)=>{a.current=R},[]);St(()=>i.current,[]);const b=St((R=null)=>{i.current=R},[]),N=St(()=>{s()&&g({maxScroll:NQ()})},[s,g]);OHe({droppableId:l,type:c,mode:d,direction:u,isDropDisabled:m,isCombineEnabled:h,ignoreContainerClipping:f,getDroppableRef:y});const S=cr(()=>V.createElement(FHe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:R,data:I,animate:z})=>V.createElement(MHe,{placeholder:I,onClose:R,innerRef:b,animate:z,contextId:r,onTransitionEnd:N})),[r,N,e.placeholder,e.shouldAnimatePlaceholder,b]),E=cr(()=>({innerRef:w,placeholder:S,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":r}}),[r,l,S,w]),C=p?p.dragging.draggableId:null,A=cr(()=>({droppableId:l,type:c,isUsingCloneFor:C}),[l,C,c]);function P(){if(!p)return null;const{dragging:R,render:I}=p,z=V.createElement(BQ,{draggableId:R.draggableId,index:R.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(U,L)=>I(U,L,R));return Gw.createPortal(z,j())}return V.createElement(p3.Provider,{value:A},o(E,x),P())};function LHe(){return document.body||rt(),document.body}const V$={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:LHe},WQ=e=>{let t={...e},r;for(r in V$)e[r]===void 0&&(t={...t,[r]:V$[r]});return t},qS=(e,t)=>e===t.droppable.type,z$=(e,t)=>t.draggables[e.draggable.id],BHe=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=ys(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),s=ys((i,o,l,c,d,u)=>{const f=d.descriptor.id;if(d.descriptor.droppableId===i){const x=u?{render:u,dragging:r(d.descriptor)}:null,p={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:p,useClone:x}}if(!o)return t;if(!c)return e;const h={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}});return(i,o)=>{const l=WQ(o),c=l.droppableId,d=l.type,u=!l.isDropDisabled,f=l.renderClone;if(Z0(i)){const m=i.critical;if(!qS(d,m))return t;const h=z$(m,i.dimensions),x=Ci(i.impact)===c;return s(c,u,x,x,h,f)}if(i.phase==="DROP_ANIMATING"){const m=i.completed;if(!qS(d,m.critical))return t;const h=z$(m.critical,i.dimensions);return s(c,u,$Q(m.result)===c,Ci(m.impact)===c,h,f)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const m=i.completed;if(!qS(d,m.critical))return t;const h=Ci(m.impact)===c,x=!!(m.impact.at&&m.impact.at.type==="COMBINE"),p=m.critical.droppable.id===c;return h?x?e:t:p?e:t}return t}},UHe={updateViewportMaxScroll:QVe},VHe=VX(BHe,UHe,(e,t,r)=>({...WQ(r),...e,...t}),{context:f3,areStatePropsEqual:FQ})($He);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var gw={};gw.version="0.18.5";var HQ=1252,zHe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],qQ=function(e){zHe.indexOf(e)!=-1&&(HQ=e)};function WHe(){qQ(1252)}var J0=function(e){qQ(e)};function HHe(){J0(1200),WHe()}var pj=function(t){return String.fromCharCode(t)},W$=function(t){return String.fromCharCode(t)},$u,Od="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ev(e){for(var t="",r=0,s=0,a=0,i=0,o=0,l=0,c=0,d=0;d<e.length;)r=e.charCodeAt(d++),i=r>>2,s=e.charCodeAt(d++),o=(r&3)<<4|s>>4,a=e.charCodeAt(d++),l=(s&15)<<2|a>>6,c=a&63,isNaN(s)?l=c=64:isNaN(a)&&(c=64),t+=Od.charAt(i)+Od.charAt(o)+Od.charAt(l)+Od.charAt(c);return t}function zc(e){var t="",r=0,s=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=Od.indexOf(e.charAt(d++)),o=Od.indexOf(e.charAt(d++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=Od.indexOf(e.charAt(d++)),s=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(s)),c=Od.indexOf(e.charAt(d++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var yr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Zc=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function $f(e){return yr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function H$(e){return yr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Bo=function(t){return yr?Zc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function F2(e){if(typeof ArrayBuffer>"u")return Bo(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),s=0;s!=e.length;++s)r[s]=e.charCodeAt(s)&255;return t}function iy(e){if(Array.isArray(e))return e.map(function(s){return String.fromCharCode(s)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function qHe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Os=yr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Zc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var s=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)s.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";s.set(new Uint8Array(e[t]),r)}return s}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function GHe(e){for(var t=[],r=0,s=e.length+250,a=$f(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>s&&(t.push(a.slice(0,r)),r=0,a=$f(65535),s=65530)}return t.push(a.slice(0,r)),Os(t)}var Ng=/\u0000/g,xj=/[\u0001-\u0006]/g;function ah(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function zo(e,t){var r=""+e;return r.length>=t?r:_n("0",t-r.length)+r}function x3(e,t){var r=""+e;return r.length>=t?r:_n(" ",t-r.length)+r}function vw(e,t){var r=""+e;return r.length>=t?r:r+_n(" ",t-r.length)}function KHe(e,t){var r=""+Math.round(e);return r.length>=t?r:_n("0",t-r.length)+r}function YHe(e,t){var r=""+e;return r.length>=t?r:_n("0",t-r.length)+r}var q$=Math.pow(2,32);function gm(e,t){if(e>q$||e<-q$)return KHe(e,t);var r=Math.round(e);return YHe(r,t)}function yw(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var G$=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],GS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function XHe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Cn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},K$={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},QHe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function jw(e,t,r){for(var s=e<0?-1:1,a=e*s,i=0,o=1,l=0,c=1,d=0,u=0,f=Math.floor(a);d<t&&(f=Math.floor(a),l=f*o+i,u=f*d+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=d,d=u;if(u>t&&(d>t?(u=c,l=i):(u=d,l=o)),!r)return[0,s*l,u];var m=Math.floor(s*l/u);return[m,s*l-m*u,u]}function gj(e,t,r){if(e>2958465||e<0)return null;var s=e|0,a=Math.floor(86400*(e-s)),i=0,o=[],l={D:s,T:a,u:86400*(e-s)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(s+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++s,++l.D)),s===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(s===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{s>60&&--s;var c=new Date(1900,0,1);c.setDate(c.getDate()+s-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),s<60&&(i=(i+6)%7),r&&(i=sqe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var GQ=new Date(1899,11,31,0,0,0),ZHe=GQ.getTime(),JHe=new Date(1900,2,1,0,0,0);function KQ(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=JHe&&(r+=24*60*60*1e3),(r-(ZHe+(e.getTimezoneOffset()-GQ.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function g3(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function eqe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function tqe(e){var t=e<0?12:11,r=g3(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function rqe(e){var t=g3(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function nqe(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=tqe(e):t===10?r=e.toFixed(10).substr(0,12):r=rqe(e),g3(eqe(r.toUpperCase()))}function YA(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):nqe(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return au(14,KQ(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function sqe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function aqe(e,t,r,s){var a="",i=0,o=0,l=r.y,c,d=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,d=t.length;break;case 3:return GS[r.m-1][1];case 5:return GS[r.m-1][0];default:return GS[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,d=t.length;break;case 3:return G$[r.q][0];default:return G$[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?zo(r.S,t.length):(s>=2?o=s===3?1e3:100:o=s===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=zo(i,2+s),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?zo(c,d):"";return u}function Dd(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,s=e.substr(0,r);r!=e.length;r+=t)s+=(s.length>0?",":"")+e.substr(r,t);return s}var YQ=/%/g;function iqe(e,t,r){var s=t.replace(YQ,""),a=t.length-s.length;return Sc(e,s,r*Math.pow(10,2*a))+_n("%",a)}function oqe(e,t,r){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return Sc(e,t.substr(0,s),r/Math.pow(10,3*(t.length-s)))}function XQ(e,t){var r,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+XQ(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(s);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var QQ=/# (\?+)( ?)\/( ?)(\d+)/;function lqe(e,t,r){var s=parseInt(e[4],10),a=Math.round(t*s),i=Math.floor(a/s),o=a-i*s,l=s;return r+(i===0?"":""+i)+" "+(o===0?_n(" ",e[1].length+1+e[4].length):x3(o,e[1].length)+e[2]+"/"+e[3]+zo(l,e[4].length))}function cqe(e,t,r){return r+(t===0?"":""+t)+_n(" ",e[1].length+2+e[4].length)}var ZQ=/^#*0*\.([0#]+)/,JQ=/\).*[0#]/,eZ=/\(###\) ###\\?-####/;function xa(e){for(var t="",r,s=0;s!=e.length;++s)switch(r=e.charCodeAt(s)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function Y$(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function X$(e,t){var r=e-Math.floor(e),s=Math.pow(10,t);return t<(""+Math.round(r*s)).length?0:Math.round(r*s)}function dqe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function uqe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Hi(e,t,r){if(e.charCodeAt(0)===40&&!t.match(JQ)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Hi("n",s,r):"("+Hi("n",s,-r)+")"}if(t.charCodeAt(t.length-1)===44)return oqe(e,t,r);if(t.indexOf("%")!==-1)return iqe(e,t,r);if(t.indexOf("E")!==-1)return XQ(t,r);if(t.charCodeAt(0)===36)return"$"+Hi(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+gm(c,t.length);if(t.match(/^[#?]+$/))return a=gm(r,0),a==="0"&&(a=""),a.length>t.length?a:xa(t.substr(0,t.length-a.length))+a;if(i=t.match(QQ))return lqe(i,c,d);if(t.match(/^#+0+$/))return d+gm(c,t.length-t.indexOf("0"));if(i=t.match(ZQ))return a=Y$(r,i[1].length).replace(/^([^\.]+)$/,"$1."+xa(i[1])).replace(/\.$/,"."+xa(i[1])).replace(/\.(\d*)$/,function(x,p){return"."+p+_n("0",xa(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+Y$(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Dd(gm(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Hi(e,t,-r):Dd(""+(Math.floor(r)+dqe(r,i[1].length)))+"."+zo(X$(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Hi(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=ah(Hi(e,t.replace(/[\\-]/g,""),r)),o=0,ah(ah(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(eZ))return a=Hi(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=jw(c,Math.pow(10,o)-1,!1),a=""+d,u=Sc("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=vw(l[2],o),u.length<i[4].length&&(u=xa(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=jw(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?x3(l[1],o)+i[2]+"/"+i[3]+vw(l[2],o):_n(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=gm(r,0),t.length<=a.length?a:xa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return xa(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=X$(r,i[1].length),r<0?"-"+Hi(e,t,-r):Dd(uqe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?zo(0,3-x.length):"")+x})+"."+zo(o,i[1].length);switch(t){case"###,##0.00":return Hi(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=Dd(gm(c,0));return h!=="0"?d+h:"";case"###,###.00":return Hi(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Hi(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function fqe(e,t,r){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return Sc(e,t.substr(0,s),r/Math.pow(10,3*(t.length-s)))}function mqe(e,t,r){var s=t.replace(YQ,""),a=t.length-s.length;return Sc(e,s,r*Math.pow(10,2*a))+_n("%",a)}function tZ(e,t){var r,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+tZ(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(s);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function pl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(JQ)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?pl("n",s,r):"("+pl("n",s,-r)+")"}if(t.charCodeAt(t.length-1)===44)return fqe(e,t,r);if(t.indexOf("%")!==-1)return mqe(e,t,r);if(t.indexOf("E")!==-1)return tZ(t,r);if(t.charCodeAt(0)===36)return"$"+pl(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+zo(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:xa(t.substr(0,t.length-a.length))+a;if(i=t.match(QQ))return cqe(i,c,d);if(t.match(/^#+0+$/))return d+zo(c,t.length-t.indexOf("0"));if(i=t.match(ZQ))return a=(""+r).replace(/^([^\.]+)$/,"$1."+xa(i[1])).replace(/\.$/,"."+xa(i[1])),a=a.replace(/\.(\d*)$/,function(x,p){return"."+p+_n("0",xa(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Dd(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+pl(e,t,-r):Dd(""+r)+"."+_n("0",i[1].length);if(i=t.match(/^#,#*,#0/))return pl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=ah(pl(e,t.replace(/[\\-]/g,""),r)),o=0,ah(ah(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(eZ))return a=pl(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=jw(c,Math.pow(10,o)-1,!1),a=""+d,u=Sc("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=vw(l[2],o),u.length<i[4].length&&(u=xa(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=jw(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?x3(l[1],o)+i[2]+"/"+i[3]+vw(l[2],o):_n(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:xa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return xa(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+pl(e,t,-r):Dd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?zo(0,3-x.length):"")+x})+"."+zo(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=Dd(""+c);return h!=="0"?d+h:"";default:if(t.match(/\.[0#?]*$/))return pl(e,t.slice(0,t.lastIndexOf(".")),r)+xa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Sc(e,t,r){return(r|0)===r?pl(e,t,r):Hi(e,t,r)}function hqe(e){for(var t=[],r=!1,s=0,a=0;s<e.length;++s)switch(e.charCodeAt(s)){case 34:r=!r;break;case 95:case 42:case 92:++s;break;case 59:t[t.length]=e.substr(a,s-a),a=s+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var rZ=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function nZ(e){for(var t=0,r="",s="";t<e.length;)switch(r=e.charAt(t)){case"G":yw(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(s=r;e.charAt(t++)!=="]"&&t<e.length;)s+=e.charAt(t);if(s.match(rZ))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function pqe(e,t,r,s){for(var a=[],i="",o=0,l="",c="t",d,u,f,m="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!yw(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var h=e.charAt(++o),x=h==="("||h===")"?h:"t";a[a.length]={t:x,v:h},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(d==null&&(d=gj(t,r,e.charAt(o+1)==="2"),d==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=gj(t,r),d==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var p={t:l,v:l};if(d==null&&(d=gj(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(p.v=d.H>=12?"P":"A"),p.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(p.v=d.H>=12?"PM":"AM"),p.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(d!=null&&(p.v=d.H>=12?"":""),p.t="T",o+=5,m="h"):(p.t="t",++o),d==null&&p.t==="T")return"";a[a.length]=p,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(rZ)){if(d==null&&(d=gj(t,r),d==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",nZ(e)||(a[a.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:s===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var g=0,j=0,y;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=m,c="h",g<1&&(g=1);break;case"s":(y=a[o].v.match(/\.0+$/))&&(j=Math.max(j,y[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[o].v.match(/[Hh]/)&&(g=1),g<2&&a[o].v.match(/[Mm]/)&&(g=2),g<3&&a[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var w="",b;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=aqe(a[o].t.charCodeAt(0),a[o].v,d,j),a[o].t="t";break;case"n":case"?":for(b=o+1;a[b]!=null&&((l=a[b].t)==="?"||l==="D"||(l===" "||l==="t")&&a[b+1]!=null&&(a[b+1].t==="?"||a[b+1].t==="t"&&a[b+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[b].v==="/"||a[b].v===" "&&a[b+1]!=null&&a[b+1].t=="?"));)a[o].v+=a[b].v,a[b]={v:"",t:";"},++b;w+=a[o].v,o=b-1;break;case"G":a[o].t="t",a[o].v=YA(t,r);break}var N="",S,E;if(w.length>0){w.charCodeAt(0)==40?(S=t<0&&w.charCodeAt(0)===45?-t:t,E=Sc("n",w,S)):(S=t<0&&s>1?-t:t,E=Sc("n",w,S),S<0&&a[0]&&a[0].t=="t"&&(E=E.substr(1),a[0].v="-"+a[0].v)),b=E.length-1;var C=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){C=o;break}var A=a.length;if(C===a.length&&E.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(b>=a[o].v.length-1?(b-=a[o].v.length,a[o].v=E.substr(b+1,a[o].v.length)):b<0?a[o].v="":(a[o].v=E.substr(0,b+1),b=-1),a[o].t="t",A=o);b>=0&&A<a.length&&(a[A].v=E.substr(0,b+1)+a[A].v)}else if(C!==a.length&&E.indexOf("E")===-1){for(b=E.indexOf(".")-1,o=C;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(u=a[o].v.indexOf(".")>-1&&o===C?a[o].v.indexOf(".")-1:a[o].v.length-1,N=a[o].v.substr(u+1);u>=0;--u)b>=0&&(a[o].v.charAt(u)==="0"||a[o].v.charAt(u)==="#")&&(N=E.charAt(b--)+N);a[o].v=N,a[o].t="t",A=o}for(b>=0&&A<a.length&&(a[A].v=E.substr(0,b+1)+a[A].v),b=E.indexOf(".")+1,o=C;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==C)){for(u=a[o].v.indexOf(".")>-1&&o===C?a[o].v.indexOf(".")+1:0,N=a[o].v.substr(0,u);u<a[o].v.length;++u)b<E.length&&(N+=E.charAt(b++));a[o].v=N,a[o].t="t",A=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(S=s>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Sc(a[o].t,a[o].v,S),a[o].t="t");var P="";for(o=0;o!==a.length;++o)a[o]!=null&&(P+=a[o].v);return P}var Q$=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Z$(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function xqe(e,t){var r=hqe(e),s=r.length,a=r[s-1].indexOf("@");if(s<4&&a>-1&&--s,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[s,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(Q$),l=r[1].match(Q$);return Z$(t,o)?[s,r[0]]:Z$(t,l)?[s,r[1]]:[s,r[o!=null&&l!=null?2:1]]}return[s,i]}function au(e,t,r){r==null&&(r={});var s="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?s=r.dateNF:s=e;break;case"number":e==14&&r.dateNF?s=r.dateNF:s=(r.table!=null?r.table:Cn)[e],s==null&&(s=r.table&&r.table[K$[e]]||Cn[K$[e]]),s==null&&(s=QHe[e]||"General");break}if(yw(s,0))return YA(t,r);t instanceof Date&&(t=KQ(t,r.date1904));var a=xqe(s,t);if(yw(a[1]))return YA(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return pqe(a[1],t,r,a[0])}function sZ(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Cn[r]==null){t<0&&(t=r);continue}if(Cn[r]==e){t=r;break}}t<0&&(t=391)}return Cn[t]=e,t}function $2(e){for(var t=0;t!=392;++t)e[t]!==void 0&&sZ(e[t],t)}function L2(){Cn=XHe()}var aZ=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function gqe(e){var t=typeof e=="number"?Cn[e]:e;return t=t.replace(aZ,"(\\d+)"),new RegExp("^"+t+"$")}function vqe(e,t,r){var s=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(aZ)||[]).forEach(function(f,m){var h=parseInt(r[m+1],10);switch(f.toLowerCase().charAt(0)){case"y":s=h;break;case"d":i=h;break;case"h":o=h;break;case"s":c=h;break;case"m":o>=0?l=h:a=h;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var d=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:s==-1&&a==-1&&i==-1?u:d+"T"+u}var yqe=function(){var e={};e.version="1.2.0";function t(){for(var E=0,C=new Array(256),A=0;A!=256;++A)E=A,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,C[A]=E;return typeof Int32Array<"u"?new Int32Array(C):C}var r=t();function s(E){var C=0,A=0,P=0,R=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)R[P]=E[P];for(P=0;P!=256;++P)for(A=E[P],C=256+P;C<4096;C+=256)A=R[C]=A>>>8^E[A&255];var I=[];for(P=1;P!=16;++P)I[P-1]=typeof Int32Array<"u"?R.subarray(P*256,P*256+256):R.slice(P*256,P*256+256);return I}var a=s(r),i=a[0],o=a[1],l=a[2],c=a[3],d=a[4],u=a[5],f=a[6],m=a[7],h=a[8],x=a[9],p=a[10],g=a[11],j=a[12],y=a[13],w=a[14];function b(E,C){for(var A=C^-1,P=0,R=E.length;P<R;)A=A>>>8^r[(A^E.charCodeAt(P++))&255];return~A}function N(E,C){for(var A=C^-1,P=E.length-15,R=0;R<P;)A=w[E[R++]^A&255]^y[E[R++]^A>>8&255]^j[E[R++]^A>>16&255]^g[E[R++]^A>>>24]^p[E[R++]]^x[E[R++]]^h[E[R++]]^m[E[R++]]^f[E[R++]]^u[E[R++]]^d[E[R++]]^c[E[R++]]^l[E[R++]]^o[E[R++]]^i[E[R++]]^r[E[R++]];for(P+=15;R<P;)A=A>>>8^r[(A^E[R++])&255];return~A}function S(E,C){for(var A=C^-1,P=0,R=E.length,I=0,z=0;P<R;)I=E.charCodeAt(P++),I<128?A=A>>>8^r[(A^I)&255]:I<2048?(A=A>>>8^r[(A^(192|I>>6&31))&255],A=A>>>8^r[(A^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,z=E.charCodeAt(P++)&1023,A=A>>>8^r[(A^(240|I>>8&7))&255],A=A>>>8^r[(A^(128|I>>2&63))&255],A=A>>>8^r[(A^(128|z>>6&15|(I&3)<<4))&255],A=A>>>8^r[(A^(128|z&63))&255]):(A=A>>>8^r[(A^(224|I>>12&15))&255],A=A>>>8^r[(A^(128|I>>6&63))&255],A=A>>>8^r[(A^(128|I&63))&255]);return~A}return e.table=r,e.bstr=b,e.buf=N,e.str=S,e}(),$r=function(){var t={};t.version="1.2.1";function r(H,re){for(var Q=H.split("/"),J=re.split("/"),ne=0,ae=0,Ae=Math.min(Q.length,J.length);ne<Ae;++ne){if(ae=Q[ne].length-J[ne].length)return ae;if(Q[ne]!=J[ne])return Q[ne]<J[ne]?-1:1}return Q.length-J.length}function s(H){if(H.charAt(H.length-1)=="/")return H.slice(0,-1).indexOf("/")===-1?H:s(H.slice(0,-1));var re=H.lastIndexOf("/");return re===-1?H:H.slice(0,re+1)}function a(H){if(H.charAt(H.length-1)=="/")return a(H.slice(0,-1));var re=H.lastIndexOf("/");return re===-1?H:H.slice(re+1)}function i(H,re){typeof re=="string"&&(re=new Date(re));var Q=re.getHours();Q=Q<<6|re.getMinutes(),Q=Q<<5|re.getSeconds()>>>1,H.write_shift(2,Q);var J=re.getFullYear()-1980;J=J<<4|re.getMonth()+1,J=J<<5|re.getDate(),H.write_shift(2,J)}function o(H){var re=H.read_shift(2)&65535,Q=H.read_shift(2)&65535,J=new Date,ne=Q&31;Q>>>=5;var ae=Q&15;Q>>>=4,J.setMilliseconds(0),J.setFullYear(Q+1980),J.setMonth(ae-1),J.setDate(ne);var Ae=re&31;re>>>=5;var Be=re&63;return re>>>=6,J.setHours(re),J.setMinutes(Be),J.setSeconds(Ae<<1),J}function l(H){hi(H,0);for(var re={},Q=0;H.l<=H.length-4;){var J=H.read_shift(2),ne=H.read_shift(2),ae=H.l+ne,Ae={};switch(J){case 21589:Q=H.read_shift(1),Q&1&&(Ae.mtime=H.read_shift(4)),ne>5&&(Q&2&&(Ae.atime=H.read_shift(4)),Q&4&&(Ae.ctime=H.read_shift(4))),Ae.mtime&&(Ae.mt=new Date(Ae.mtime*1e3));break}H.l=ae,re[J]=Ae}return re}var c;function d(){return c||(c={})}function u(H,re){if(H[0]==80&&H[1]==75)return ar(H,re);if((H[0]|32)==109&&(H[1]|32)==105)return FJ(H,re);if(H.length<512)throw new Error("CFB file size "+H.length+" < 512");var Q=3,J=512,ne=0,ae=0,Ae=0,Be=0,Ee=0,ke=[],Te=H.slice(0,512);hi(Te,0);var Ge=f(Te);switch(Q=Ge[0],Q){case 3:J=512;break;case 4:J=4096;break;case 0:if(Ge[1]==0)return ar(H,re);default:throw new Error("Major Version: Expected 3 or 4 saw "+Q)}J!==512&&(Te=H.slice(0,J),hi(Te,28));var lt=H.slice(0,J);m(Te,Q);var xt=Te.read_shift(4,"i");if(Q===3&&xt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+xt);Te.l+=4,Ae=Te.read_shift(4,"i"),Te.l+=4,Te.chk("00100000","Mini Stream Cutoff Size: "),Be=Te.read_shift(4,"i"),ne=Te.read_shift(4,"i"),Ee=Te.read_shift(4,"i"),ae=Te.read_shift(4,"i");for(var Ze=-1,ft=0;ft<109&&(Ze=Te.read_shift(4,"i"),!(Ze<0));++ft)ke[ft]=Ze;var Ut=h(H,J);g(Ee,ae,Ut,J,ke);var un=y(Ut,Ae,ke,J);un[Ae].name="!Directory",ne>0&&Be!==z&&(un[Be].name="!MiniFAT"),un[ke[0]].name="!FAT",un.fat_addrs=ke,un.ssz=J;var fn={},Ws=[],nx=[],sx=[];w(Ae,un,Ut,Ws,ne,fn,nx,Be),x(nx,sx,Ws),Ws.shift();var ax={FileIndex:nx,FullPaths:sx};return re&&re.raw&&(ax.raw={header:lt,sectors:Ut}),ax}function f(H){if(H[H.l]==80&&H[H.l+1]==75)return[0,0];H.chk(U,"Header Signature: "),H.l+=16;var re=H.read_shift(2,"u");return[H.read_shift(2,"u"),re]}function m(H,re){var Q=9;switch(H.l+=2,Q=H.read_shift(2)){case 9:if(re!=3)throw new Error("Sector Shift: Expected 9 saw "+Q);break;case 12:if(re!=4)throw new Error("Sector Shift: Expected 12 saw "+Q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Q)}H.chk("0600","Mini Sector Shift: "),H.chk("000000000000","Reserved: ")}function h(H,re){for(var Q=Math.ceil(H.length/re)-1,J=[],ne=1;ne<Q;++ne)J[ne-1]=H.slice(ne*re,(ne+1)*re);return J[Q-1]=H.slice(Q*re),J}function x(H,re,Q){for(var J=0,ne=0,ae=0,Ae=0,Be=0,Ee=Q.length,ke=[],Te=[];J<Ee;++J)ke[J]=Te[J]=J,re[J]=Q[J];for(;Be<Te.length;++Be)J=Te[Be],ne=H[J].L,ae=H[J].R,Ae=H[J].C,ke[J]===J&&(ne!==-1&&ke[ne]!==ne&&(ke[J]=ke[ne]),ae!==-1&&ke[ae]!==ae&&(ke[J]=ke[ae])),Ae!==-1&&(ke[Ae]=J),ne!==-1&&J!=ke[J]&&(ke[ne]=ke[J],Te.lastIndexOf(ne)<Be&&Te.push(ne)),ae!==-1&&J!=ke[J]&&(ke[ae]=ke[J],Te.lastIndexOf(ae)<Be&&Te.push(ae));for(J=1;J<Ee;++J)ke[J]===J&&(ae!==-1&&ke[ae]!==ae?ke[J]=ke[ae]:ne!==-1&&ke[ne]!==ne&&(ke[J]=ke[ne]));for(J=1;J<Ee;++J)if(H[J].type!==0){if(Be=J,Be!=ke[Be])do Be=ke[Be],re[J]=re[Be]+"/"+re[J];while(Be!==0&&ke[Be]!==-1&&Be!=ke[Be]);ke[J]=-1}for(re[0]+="/",J=1;J<Ee;++J)H[J].type!==2&&(re[J]+="/")}function p(H,re,Q){for(var J=H.start,ne=H.size,ae=[],Ae=J;Q&&ne>0&&Ae>=0;)ae.push(re.slice(Ae*I,Ae*I+I)),ne-=I,Ae=Lu(Q,Ae*4);return ae.length===0?Fe(0):Os(ae).slice(0,H.size)}function g(H,re,Q,J,ne){var ae=z;if(H===z){if(re!==0)throw new Error("DIFAT chain shorter than expected")}else if(H!==-1){var Ae=Q[H],Be=(J>>>2)-1;if(!Ae)return;for(var Ee=0;Ee<Be&&(ae=Lu(Ae,Ee*4))!==z;++Ee)ne.push(ae);g(Lu(Ae,J-4),re-1,Q,J,ne)}}function j(H,re,Q,J,ne){var ae=[],Ae=[];ne||(ne=[]);var Be=J-1,Ee=0,ke=0;for(Ee=re;Ee>=0;){ne[Ee]=!0,ae[ae.length]=Ee,Ae.push(H[Ee]);var Te=Q[Math.floor(Ee*4/J)];if(ke=Ee*4&Be,J<4+ke)throw new Error("FAT boundary crossed: "+Ee+" 4 "+J);if(!H[Te])break;Ee=Lu(H[Te],ke)}return{nodes:ae,data:iL([Ae])}}function y(H,re,Q,J){var ne=H.length,ae=[],Ae=[],Be=[],Ee=[],ke=J-1,Te=0,Ge=0,lt=0,xt=0;for(Te=0;Te<ne;++Te)if(Be=[],lt=Te+re,lt>=ne&&(lt-=ne),!Ae[lt]){Ee=[];var Ze=[];for(Ge=lt;Ge>=0;){Ze[Ge]=!0,Ae[Ge]=!0,Be[Be.length]=Ge,Ee.push(H[Ge]);var ft=Q[Math.floor(Ge*4/J)];if(xt=Ge*4&ke,J<4+xt)throw new Error("FAT boundary crossed: "+Ge+" 4 "+J);if(!H[ft]||(Ge=Lu(H[ft],xt),Ze[Ge]))break}ae[lt]={nodes:Be,data:iL([Ee])}}return ae}function w(H,re,Q,J,ne,ae,Ae,Be){for(var Ee=0,ke=J.length?2:0,Te=re[H].data,Ge=0,lt=0,xt;Ge<Te.length;Ge+=128){var Ze=Te.slice(Ge,Ge+128);hi(Ze,64),lt=Ze.read_shift(2),xt=w3(Ze,0,lt-ke),J.push(xt);var ft={name:xt,type:Ze.read_shift(1),color:Ze.read_shift(1),L:Ze.read_shift(4,"i"),R:Ze.read_shift(4,"i"),C:Ze.read_shift(4,"i"),clsid:Ze.read_shift(16),state:Ze.read_shift(4,"i"),start:0,size:0},Ut=Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2);Ut!==0&&(ft.ct=b(Ze,Ze.l-8));var un=Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2);un!==0&&(ft.mt=b(Ze,Ze.l-8)),ft.start=Ze.read_shift(4,"i"),ft.size=Ze.read_shift(4,"i"),ft.size<0&&ft.start<0&&(ft.size=ft.type=0,ft.start=z,ft.name=""),ft.type===5?(Ee=ft.start,ne>0&&Ee!==z&&(re[Ee].name="!StreamData")):ft.size>=4096?(ft.storage="fat",re[ft.start]===void 0&&(re[ft.start]=j(Q,ft.start,re.fat_addrs,re.ssz)),re[ft.start].name=ft.name,ft.content=re[ft.start].data.slice(0,ft.size)):(ft.storage="minifat",ft.size<0?ft.size=0:Ee!==z&&ft.start!==z&&re[Ee]&&(ft.content=p(ft,re[Ee].data,(re[Be]||{}).data))),ft.content&&hi(ft.content,0),ae[xt]=ft,Ae.push(ft)}}function b(H,re){return new Date((gi(H,re+4)/1e7*Math.pow(2,32)+gi(H,re)/1e7-11644473600)*1e3)}function N(H,re){return d(),u(c.readFileSync(H),re)}function S(H,re){var Q=re&&re.type;switch(Q||yr&&Buffer.isBuffer(H)&&(Q="buffer"),Q||"base64"){case"file":return N(H,re);case"base64":return u(Bo(zc(H)),re);case"binary":return u(Bo(H),re)}return u(H,re)}function E(H,re){var Q=re||{},J=Q.root||"Root Entry";if(H.FullPaths||(H.FullPaths=[]),H.FileIndex||(H.FileIndex=[]),H.FullPaths.length!==H.FileIndex.length)throw new Error("inconsistent CFB structure");H.FullPaths.length===0&&(H.FullPaths[0]=J+"/",H.FileIndex[0]={name:J,type:5}),Q.CLSID&&(H.FileIndex[0].clsid=Q.CLSID),C(H)}function C(H){var re="Sh33tJ5";if(!$r.find(H,"/"+re)){var Q=Fe(4);Q[0]=55,Q[1]=Q[3]=50,Q[2]=54,H.FileIndex.push({name:re,type:2,content:Q,size:4,L:69,R:69,C:69}),H.FullPaths.push(H.FullPaths[0]+re),A(H)}}function A(H,re){E(H);for(var Q=!1,J=!1,ne=H.FullPaths.length-1;ne>=0;--ne){var ae=H.FileIndex[ne];switch(ae.type){case 0:J?Q=!0:(H.FileIndex.pop(),H.FullPaths.pop());break;case 1:case 2:case 5:J=!0,isNaN(ae.R*ae.L*ae.C)&&(Q=!0),ae.R>-1&&ae.L>-1&&ae.R==ae.L&&(Q=!0);break;default:Q=!0;break}}if(!(!Q&&!re)){var Ae=new Date(1987,1,19),Be=0,Ee=Object.create?Object.create(null):{},ke=[];for(ne=0;ne<H.FullPaths.length;++ne)Ee[H.FullPaths[ne]]=!0,H.FileIndex[ne].type!==0&&ke.push([H.FullPaths[ne],H.FileIndex[ne]]);for(ne=0;ne<ke.length;++ne){var Te=s(ke[ne][0]);J=Ee[Te],J||(ke.push([Te,{name:a(Te).replace("/",""),type:1,clsid:T,ct:Ae,mt:Ae,content:null}]),Ee[Te]=!0)}for(ke.sort(function(xt,Ze){return r(xt[0],Ze[0])}),H.FullPaths=[],H.FileIndex=[],ne=0;ne<ke.length;++ne)H.FullPaths[ne]=ke[ne][0],H.FileIndex[ne]=ke[ne][1];for(ne=0;ne<ke.length;++ne){var Ge=H.FileIndex[ne],lt=H.FullPaths[ne];if(Ge.name=a(lt).replace("/",""),Ge.L=Ge.R=Ge.C=-(Ge.color=1),Ge.size=Ge.content?Ge.content.length:0,Ge.start=0,Ge.clsid=Ge.clsid||T,ne===0)Ge.C=ke.length>1?1:-1,Ge.size=0,Ge.type=5;else if(lt.slice(-1)=="/"){for(Be=ne+1;Be<ke.length&&s(H.FullPaths[Be])!=lt;++Be);for(Ge.C=Be>=ke.length?-1:Be,Be=ne+1;Be<ke.length&&s(H.FullPaths[Be])!=s(lt);++Be);Ge.R=Be>=ke.length?-1:Be,Ge.type=1}else s(H.FullPaths[ne+1]||"")==s(lt)&&(Ge.R=ne+1),Ge.type=2}}}function P(H,re){var Q=re||{};if(Q.fileType=="mad")return $J(H,Q);switch(A(H),Q.fileType){case"zip":return Ss(H,Q)}var J=function(xt){for(var Ze=0,ft=0,Ut=0;Ut<xt.FileIndex.length;++Ut){var un=xt.FileIndex[Ut];if(un.content){var fn=un.content.length;fn>0&&(fn<4096?Ze+=fn+63>>6:ft+=fn+511>>9)}}for(var Ws=xt.FullPaths.length+3>>2,nx=Ze+7>>3,sx=Ze+127>>7,ax=nx+ft+Ws+sx,Nu=ax+127>>7,q2=Nu<=109?0:Math.ceil((Nu-109)/127);ax+Nu+q2+127>>7>Nu;)q2=++Nu<=109?0:Math.ceil((Nu-109)/127);var Zl=[1,q2,Nu,sx,Ws,ft,Ze,0];return xt.FileIndex[0].size=Ze<<6,Zl[7]=(xt.FileIndex[0].start=Zl[0]+Zl[1]+Zl[2]+Zl[3]+Zl[4]+Zl[5])+(Zl[6]+7>>3),Zl}(H),ne=Fe(J[7]<<9),ae=0,Ae=0;{for(ae=0;ae<8;++ae)ne.write_shift(1,L[ae]);for(ae=0;ae<8;++ae)ne.write_shift(2,0);for(ne.write_shift(2,62),ne.write_shift(2,3),ne.write_shift(2,65534),ne.write_shift(2,9),ne.write_shift(2,6),ae=0;ae<3;++ae)ne.write_shift(2,0);for(ne.write_shift(4,0),ne.write_shift(4,J[2]),ne.write_shift(4,J[0]+J[1]+J[2]+J[3]-1),ne.write_shift(4,0),ne.write_shift(4,4096),ne.write_shift(4,J[3]?J[0]+J[1]+J[2]-1:z),ne.write_shift(4,J[3]),ne.write_shift(-4,J[1]?J[0]-1:z),ne.write_shift(4,J[1]),ae=0;ae<109;++ae)ne.write_shift(-4,ae<J[2]?J[1]+ae:-1)}if(J[1])for(Ae=0;Ae<J[1];++Ae){for(;ae<236+Ae*127;++ae)ne.write_shift(-4,ae<J[2]?J[1]+ae:-1);ne.write_shift(-4,Ae===J[1]-1?z:Ae+1)}var Be=function(xt){for(Ae+=xt;ae<Ae-1;++ae)ne.write_shift(-4,ae+1);xt&&(++ae,ne.write_shift(-4,z))};for(Ae=ae=0,Ae+=J[1];ae<Ae;++ae)ne.write_shift(-4,k.DIFSECT);for(Ae+=J[2];ae<Ae;++ae)ne.write_shift(-4,k.FATSECT);Be(J[3]),Be(J[4]);for(var Ee=0,ke=0,Te=H.FileIndex[0];Ee<H.FileIndex.length;++Ee)Te=H.FileIndex[Ee],Te.content&&(ke=Te.content.length,!(ke<4096)&&(Te.start=Ae,Be(ke+511>>9)));for(Be(J[6]+7>>3);ne.l&511;)ne.write_shift(-4,k.ENDOFCHAIN);for(Ae=ae=0,Ee=0;Ee<H.FileIndex.length;++Ee)Te=H.FileIndex[Ee],Te.content&&(ke=Te.content.length,!(!ke||ke>=4096)&&(Te.start=Ae,Be(ke+63>>6)));for(;ne.l&511;)ne.write_shift(-4,k.ENDOFCHAIN);for(ae=0;ae<J[4]<<2;++ae){var Ge=H.FullPaths[ae];if(!Ge||Ge.length===0){for(Ee=0;Ee<17;++Ee)ne.write_shift(4,0);for(Ee=0;Ee<3;++Ee)ne.write_shift(4,-1);for(Ee=0;Ee<12;++Ee)ne.write_shift(4,0);continue}Te=H.FileIndex[ae],ae===0&&(Te.start=Te.size?Te.start-1:z);var lt=ae===0&&Q.root||Te.name;if(ke=2*(lt.length+1),ne.write_shift(64,lt,"utf16le"),ne.write_shift(2,ke),ne.write_shift(1,Te.type),ne.write_shift(1,Te.color),ne.write_shift(-4,Te.L),ne.write_shift(-4,Te.R),ne.write_shift(-4,Te.C),Te.clsid)ne.write_shift(16,Te.clsid,"hex");else for(Ee=0;Ee<4;++Ee)ne.write_shift(4,0);ne.write_shift(4,Te.state||0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,Te.start),ne.write_shift(4,Te.size),ne.write_shift(4,0)}for(ae=1;ae<H.FileIndex.length;++ae)if(Te=H.FileIndex[ae],Te.size>=4096)if(ne.l=Te.start+1<<9,yr&&Buffer.isBuffer(Te.content))Te.content.copy(ne,ne.l,0,Te.size),ne.l+=Te.size+511&-512;else{for(Ee=0;Ee<Te.size;++Ee)ne.write_shift(1,Te.content[Ee]);for(;Ee&511;++Ee)ne.write_shift(1,0)}for(ae=1;ae<H.FileIndex.length;++ae)if(Te=H.FileIndex[ae],Te.size>0&&Te.size<4096)if(yr&&Buffer.isBuffer(Te.content))Te.content.copy(ne,ne.l,0,Te.size),ne.l+=Te.size+63&-64;else{for(Ee=0;Ee<Te.size;++Ee)ne.write_shift(1,Te.content[Ee]);for(;Ee&63;++Ee)ne.write_shift(1,0)}if(yr)ne.l=ne.length;else for(;ne.l<ne.length;)ne.write_shift(1,0);return ne}function R(H,re){var Q=H.FullPaths.map(function(Ee){return Ee.toUpperCase()}),J=Q.map(function(Ee){var ke=Ee.split("/");return ke[ke.length-(Ee.slice(-1)=="/"?2:1)]}),ne=!1;re.charCodeAt(0)===47?(ne=!0,re=Q[0].slice(0,-1)+re):ne=re.indexOf("/")!==-1;var ae=re.toUpperCase(),Ae=ne===!0?Q.indexOf(ae):J.indexOf(ae);if(Ae!==-1)return H.FileIndex[Ae];var Be=!ae.match(xj);for(ae=ae.replace(Ng,""),Be&&(ae=ae.replace(xj,"!")),Ae=0;Ae<Q.length;++Ae)if((Be?Q[Ae].replace(xj,"!"):Q[Ae]).replace(Ng,"")==ae||(Be?J[Ae].replace(xj,"!"):J[Ae]).replace(Ng,"")==ae)return H.FileIndex[Ae];return null}var I=64,z=-2,U="d0cf11e0a1b11ae1",L=[208,207,17,224,161,177,26,225],T="00000000000000000000000000000000",k={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:z,FREESECT:-1,HEADER_SIGNATURE:U,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:T,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function O(H,re,Q){d();var J=P(H,Q);c.writeFileSync(re,J)}function M(H){for(var re=new Array(H.length),Q=0;Q<H.length;++Q)re[Q]=String.fromCharCode(H[Q]);return re.join("")}function ie(H,re){var Q=P(H,re);switch(re&&re.type||"buffer"){case"file":return d(),c.writeFileSync(re.filename,Q),Q;case"binary":return typeof Q=="string"?Q:M(Q);case"base64":return ev(typeof Q=="string"?Q:M(Q));case"buffer":if(yr)return Buffer.isBuffer(Q)?Q:Zc(Q);case"array":return typeof Q=="string"?Bo(Q):Q}return Q}var ce;function D(H){try{var re=H.InflateRaw,Q=new re;if(Q._processChunk(new Uint8Array([3,0]),Q._finishFlushFlag),Q.bytesRead)ce=H;else throw new Error("zlib does not expose bytesRead")}catch(J){console.error("cannot use native zlib: "+(J.message||J))}}function W(H,re){if(!ce)return jt(H,re);var Q=ce.InflateRaw,J=new Q,ne=J._processChunk(H.slice(H.l),J._finishFlushFlag);return H.l+=J.bytesRead,ne}function F(H){return ce?ce.deflateRawSync(H):He(H)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function B(H){var re=(H<<1|H<<11)&139536|(H<<5|H<<15)&558144;return(re>>16|re>>8|re)&255}for(var K=typeof Uint8Array<"u",se=K?new Uint8Array(256):[],Ne=0;Ne<256;++Ne)se[Ne]=B(Ne);function ue(H,re){var Q=se[H&255];return re<=8?Q>>>8-re:(Q=Q<<8|se[H>>8&255],re<=16?Q>>>16-re:(Q=Q<<8|se[H>>16&255],Q>>>24-re))}function ge(H,re){var Q=re&7,J=re>>>3;return(H[J]|(Q<=6?0:H[J+1]<<8))>>>Q&3}function xe(H,re){var Q=re&7,J=re>>>3;return(H[J]|(Q<=5?0:H[J+1]<<8))>>>Q&7}function Se(H,re){var Q=re&7,J=re>>>3;return(H[J]|(Q<=4?0:H[J+1]<<8))>>>Q&15}function Me(H,re){var Q=re&7,J=re>>>3;return(H[J]|(Q<=3?0:H[J+1]<<8))>>>Q&31}function Oe(H,re){var Q=re&7,J=re>>>3;return(H[J]|(Q<=1?0:H[J+1]<<8))>>>Q&127}function te(H,re,Q){var J=re&7,ne=re>>>3,ae=(1<<Q)-1,Ae=H[ne]>>>J;return Q<8-J||(Ae|=H[ne+1]<<8-J,Q<16-J)||(Ae|=H[ne+2]<<16-J,Q<24-J)||(Ae|=H[ne+3]<<24-J),Ae&ae}function he(H,re,Q){var J=re&7,ne=re>>>3;return J<=5?H[ne]|=(Q&7)<<J:(H[ne]|=Q<<J&255,H[ne+1]=(Q&7)>>8-J),re+3}function oe(H,re,Q){var J=re&7,ne=re>>>3;return Q=(Q&1)<<J,H[ne]|=Q,re+1}function be(H,re,Q){var J=re&7,ne=re>>>3;return Q<<=J,H[ne]|=Q&255,Q>>>=8,H[ne+1]=Q,re+8}function Le(H,re,Q){var J=re&7,ne=re>>>3;return Q<<=J,H[ne]|=Q&255,Q>>>=8,H[ne+1]=Q&255,H[ne+2]=Q>>>8,re+16}function Ie(H,re){var Q=H.length,J=2*Q>re?2*Q:re+5,ne=0;if(Q>=re)return H;if(yr){var ae=H$(J);if(H.copy)H.copy(ae);else for(;ne<H.length;++ne)ae[ne]=H[ne];return ae}else if(K){var Ae=new Uint8Array(J);if(Ae.set)Ae.set(H);else for(;ne<Q;++ne)Ae[ne]=H[ne];return Ae}return H.length=J,H}function de(H){for(var re=new Array(H),Q=0;Q<H;++Q)re[Q]=0;return re}function Re(H,re,Q){var J=1,ne=0,ae=0,Ae=0,Be=0,Ee=H.length,ke=K?new Uint16Array(32):de(32);for(ae=0;ae<32;++ae)ke[ae]=0;for(ae=Ee;ae<Q;++ae)H[ae]=0;Ee=H.length;var Te=K?new Uint16Array(Ee):de(Ee);for(ae=0;ae<Ee;++ae)ke[ne=H[ae]]++,J<ne&&(J=ne),Te[ae]=0;for(ke[0]=0,ae=1;ae<=J;++ae)ke[ae+16]=Be=Be+ke[ae-1]<<1;for(ae=0;ae<Ee;++ae)Be=H[ae],Be!=0&&(Te[ae]=ke[Be+16]++);var Ge=0;for(ae=0;ae<Ee;++ae)if(Ge=H[ae],Ge!=0)for(Be=ue(Te[ae],J)>>J-Ge,Ae=(1<<J+4-Ge)-1;Ae>=0;--Ae)re[Be|Ae<<Ge]=Ge&15|ae<<4;return J}var ot=K?new Uint16Array(512):de(512),wt=K?new Uint16Array(32):de(32);if(!K){for(var Qe=0;Qe<512;++Qe)ot[Qe]=0;for(Qe=0;Qe<32;++Qe)wt[Qe]=0}(function(){for(var H=[],re=0;re<32;re++)H.push(5);Re(H,wt,32);var Q=[];for(re=0;re<=143;re++)Q.push(8);for(;re<=255;re++)Q.push(9);for(;re<=279;re++)Q.push(7);for(;re<=287;re++)Q.push(8);Re(Q,ot,288)})();var je=function(){for(var re=K?new Uint8Array(32768):[],Q=0,J=0;Q<fe.length-1;++Q)for(;J<fe[Q+1];++J)re[J]=Q;for(;J<32768;++J)re[J]=29;var ne=K?new Uint8Array(259):[];for(Q=0,J=0;Q<le.length-1;++Q)for(;J<le[Q+1];++J)ne[J]=Q;function ae(Be,Ee){for(var ke=0;ke<Be.length;){var Te=Math.min(65535,Be.length-ke),Ge=ke+Te==Be.length;for(Ee.write_shift(1,+Ge),Ee.write_shift(2,Te),Ee.write_shift(2,~Te&65535);Te-- >0;)Ee[Ee.l++]=Be[ke++]}return Ee.l}function Ae(Be,Ee){for(var ke=0,Te=0,Ge=K?new Uint16Array(32768):[];Te<Be.length;){var lt=Math.min(65535,Be.length-Te);if(lt<10){for(ke=he(Ee,ke,+(Te+lt==Be.length)),ke&7&&(ke+=8-(ke&7)),Ee.l=ke/8|0,Ee.write_shift(2,lt),Ee.write_shift(2,~lt&65535);lt-- >0;)Ee[Ee.l++]=Be[Te++];ke=Ee.l*8;continue}ke=he(Ee,ke,+(Te+lt==Be.length)+2);for(var xt=0;lt-- >0;){var Ze=Be[Te];xt=(xt<<5^Ze)&32767;var ft=-1,Ut=0;if((ft=Ge[xt])&&(ft|=Te&-32768,ft>Te&&(ft-=32768),ft<Te))for(;Be[ft+Ut]==Be[Te+Ut]&&Ut<250;)++Ut;if(Ut>2){Ze=ne[Ut],Ze<=22?ke=be(Ee,ke,se[Ze+1]>>1)-1:(be(Ee,ke,3),ke+=5,be(Ee,ke,se[Ze-23]>>5),ke+=3);var un=Ze<8?0:Ze-4>>2;un>0&&(Le(Ee,ke,Ut-le[Ze]),ke+=un),Ze=re[Te-ft],ke=be(Ee,ke,se[Ze]>>3),ke-=3;var fn=Ze<4?0:Ze-2>>1;fn>0&&(Le(Ee,ke,Te-ft-fe[Ze]),ke+=fn);for(var Ws=0;Ws<Ut;++Ws)Ge[xt]=Te&32767,xt=(xt<<5^Be[Te])&32767,++Te;lt-=Ut-1}else Ze<=143?Ze=Ze+48:ke=oe(Ee,ke,1),ke=be(Ee,ke,se[Ze]),Ge[xt]=Te&32767,++Te}ke=be(Ee,ke,0)-1}return Ee.l=(ke+7)/8|0,Ee.l}return function(Ee,ke){return Ee.length<8?ae(Ee,ke):Ae(Ee,ke)}}();function He(H){var re=Fe(50+Math.floor(H.length*1.1)),Q=je(H,re);return re.slice(0,Q)}var ye=K?new Uint16Array(32768):de(32768),Je=K?new Uint16Array(32768):de(32768),sr=K?new Uint16Array(128):de(128),Er=1,dt=1;function Ht(H,re){var Q=Me(H,re)+257;re+=5;var J=Me(H,re)+1;re+=5;var ne=Se(H,re)+4;re+=4;for(var ae=0,Ae=K?new Uint8Array(19):de(19),Be=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ee=1,ke=K?new Uint8Array(8):de(8),Te=K?new Uint8Array(8):de(8),Ge=Ae.length,lt=0;lt<ne;++lt)Ae[q[lt]]=ae=xe(H,re),Ee<ae&&(Ee=ae),ke[ae]++,re+=3;var xt=0;for(ke[0]=0,lt=1;lt<=Ee;++lt)Te[lt]=xt=xt+ke[lt-1]<<1;for(lt=0;lt<Ge;++lt)(xt=Ae[lt])!=0&&(Be[lt]=Te[xt]++);var Ze=0;for(lt=0;lt<Ge;++lt)if(Ze=Ae[lt],Ze!=0){xt=se[Be[lt]]>>8-Ze;for(var ft=(1<<7-Ze)-1;ft>=0;--ft)sr[xt|ft<<Ze]=Ze&7|lt<<3}var Ut=[];for(Ee=1;Ut.length<Q+J;)switch(xt=sr[Oe(H,re)],re+=xt&7,xt>>>=3){case 16:for(ae=3+ge(H,re),re+=2,xt=Ut[Ut.length-1];ae-- >0;)Ut.push(xt);break;case 17:for(ae=3+xe(H,re),re+=3;ae-- >0;)Ut.push(0);break;case 18:for(ae=11+Oe(H,re),re+=7;ae-- >0;)Ut.push(0);break;default:Ut.push(xt),Ee<xt&&(Ee=xt);break}var un=Ut.slice(0,Q),fn=Ut.slice(Q);for(lt=Q;lt<286;++lt)un[lt]=0;for(lt=J;lt<30;++lt)fn[lt]=0;return Er=Re(un,ye,286),dt=Re(fn,Je,30),re}function Nr(H,re){if(H[0]==3&&!(H[1]&3))return[$f(re),2];for(var Q=0,J=0,ne=H$(re||1<<18),ae=0,Ae=ne.length>>>0,Be=0,Ee=0;!(J&1);){if(J=xe(H,Q),Q+=3,J>>>1)J>>1==1?(Be=9,Ee=5):(Q=Ht(H,Q),Be=Er,Ee=dt);else{Q&7&&(Q+=8-(Q&7));var ke=H[Q>>>3]|H[(Q>>>3)+1]<<8;if(Q+=32,ke>0)for(!re&&Ae<ae+ke&&(ne=Ie(ne,ae+ke),Ae=ne.length);ke-- >0;)ne[ae++]=H[Q>>>3],Q+=8;continue}for(;;){!re&&Ae<ae+32767&&(ne=Ie(ne,ae+32767),Ae=ne.length);var Te=te(H,Q,Be),Ge=J>>>1==1?ot[Te]:ye[Te];if(Q+=Ge&15,Ge>>>=4,!(Ge>>>8&255))ne[ae++]=Ge;else{if(Ge==256)break;Ge-=257;var lt=Ge<8?0:Ge-4>>2;lt>5&&(lt=0);var xt=ae+le[Ge];lt>0&&(xt+=te(H,Q,lt),Q+=lt),Te=te(H,Q,Ee),Ge=J>>>1==1?wt[Te]:Je[Te],Q+=Ge&15,Ge>>>=4;var Ze=Ge<4?0:Ge-2>>1,ft=fe[Ge];for(Ze>0&&(ft+=te(H,Q,Ze),Q+=Ze),!re&&Ae<xt&&(ne=Ie(ne,xt+100),Ae=ne.length);ae<xt;)ne[ae]=ne[ae-ft],++ae}}}return re?[ne,Q+7>>>3]:[ne.slice(0,ae),Q+7>>>3]}function jt(H,re){var Q=H.slice(H.l||0),J=Nr(Q,re);return H.l+=J[1],J[0]}function It(H,re){if(H)typeof console<"u"&&console.error(re);else throw new Error(re)}function ar(H,re){var Q=H;hi(Q,0);var J=[],ne=[],ae={FileIndex:J,FullPaths:ne};E(ae,{root:re.root});for(var Ae=Q.length-4;(Q[Ae]!=80||Q[Ae+1]!=75||Q[Ae+2]!=5||Q[Ae+3]!=6)&&Ae>=0;)--Ae;Q.l=Ae+4,Q.l+=4;var Be=Q.read_shift(2);Q.l+=6;var Ee=Q.read_shift(4);for(Q.l=Ee,Ae=0;Ae<Be;++Ae){Q.l+=20;var ke=Q.read_shift(4),Te=Q.read_shift(4),Ge=Q.read_shift(2),lt=Q.read_shift(2),xt=Q.read_shift(2);Q.l+=8;var Ze=Q.read_shift(4),ft=l(Q.slice(Q.l+Ge,Q.l+Ge+lt));Q.l+=Ge+lt+xt;var Ut=Q.l;Q.l=Ze+4,Kn(Q,ke,Te,ae,ft),Q.l=Ut}return ae}function Kn(H,re,Q,J,ne){H.l+=2;var ae=H.read_shift(2),Ae=H.read_shift(2),Be=o(H);if(ae&8257)throw new Error("Unsupported ZIP encryption");for(var Ee=H.read_shift(4),ke=H.read_shift(4),Te=H.read_shift(4),Ge=H.read_shift(2),lt=H.read_shift(2),xt="",Ze=0;Ze<Ge;++Ze)xt+=String.fromCharCode(H[H.l++]);if(lt){var ft=l(H.slice(H.l,H.l+lt));(ft[21589]||{}).mt&&(Be=ft[21589].mt),((ne||{})[21589]||{}).mt&&(Be=ne[21589].mt)}H.l+=lt;var Ut=H.slice(H.l,H.l+ke);switch(Ae){case 8:Ut=W(H,Te);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ae)}var un=!1;ae&8&&(Ee=H.read_shift(4),Ee==134695760&&(Ee=H.read_shift(4),un=!0),ke=H.read_shift(4),Te=H.read_shift(4)),ke!=re&&It(un,"Bad compressed size: "+re+" != "+ke),Te!=Q&&It(un,"Bad uncompressed size: "+Q+" != "+Te),H2(J,xt,Ut,{unsafe:!0,mt:Be})}function Ss(H,re){var Q=re||{},J=[],ne=[],ae=Fe(1),Ae=Q.compression?8:0,Be=0,Ee=0,ke=0,Te=0,Ge=0,lt=H.FullPaths[0],xt=lt,Ze=H.FileIndex[0],ft=[],Ut=0;for(Ee=1;Ee<H.FullPaths.length;++Ee)if(xt=H.FullPaths[Ee].slice(lt.length),Ze=H.FileIndex[Ee],!(!Ze.size||!Ze.content||xt=="Sh33tJ5")){var un=Te,fn=Fe(xt.length);for(ke=0;ke<xt.length;++ke)fn.write_shift(1,xt.charCodeAt(ke)&127);fn=fn.slice(0,fn.l),ft[Ge]=yqe.buf(Ze.content,0);var Ws=Ze.content;Ae==8&&(Ws=F(Ws)),ae=Fe(30),ae.write_shift(4,67324752),ae.write_shift(2,20),ae.write_shift(2,Be),ae.write_shift(2,Ae),Ze.mt?i(ae,Ze.mt):ae.write_shift(4,0),ae.write_shift(-4,ft[Ge]),ae.write_shift(4,Ws.length),ae.write_shift(4,Ze.content.length),ae.write_shift(2,fn.length),ae.write_shift(2,0),Te+=ae.length,J.push(ae),Te+=fn.length,J.push(fn),Te+=Ws.length,J.push(Ws),ae=Fe(46),ae.write_shift(4,33639248),ae.write_shift(2,0),ae.write_shift(2,20),ae.write_shift(2,Be),ae.write_shift(2,Ae),ae.write_shift(4,0),ae.write_shift(-4,ft[Ge]),ae.write_shift(4,Ws.length),ae.write_shift(4,Ze.content.length),ae.write_shift(2,fn.length),ae.write_shift(2,0),ae.write_shift(2,0),ae.write_shift(2,0),ae.write_shift(2,0),ae.write_shift(4,0),ae.write_shift(4,un),Ut+=ae.l,ne.push(ae),Ut+=fn.length,ne.push(fn),++Ge}return ae=Fe(22),ae.write_shift(4,101010256),ae.write_shift(2,0),ae.write_shift(2,0),ae.write_shift(2,Ge),ae.write_shift(2,Ge),ae.write_shift(4,Ut),ae.write_shift(4,Te),ae.write_shift(2,0),Os([Os(J),Os(ne),ae])}var Li={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function sm(H,re){if(H.ctype)return H.ctype;var Q=H.name||"",J=Q.match(/\.([^\.]+)$/);return J&&Li[J[1]]||re&&(J=(Q=re).match(/[\.\\]([^\.\\])+$/),J&&Li[J[1]])?Li[J[1]]:"application/octet-stream"}function ul(H){for(var re=ev(H),Q=[],J=0;J<re.length;J+=76)Q.push(re.slice(J,J+76));return Q.join(`\r
`)+`\r
`}function fy(H){var re=H.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ke){var Te=ke.charCodeAt(0).toString(16).toUpperCase();return"="+(Te.length==1?"0"+Te:Te)});re=re.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),re.charAt(0)==`
`&&(re="=0D"+re.slice(1)),re=re.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Q=[],J=re.split(`\r
`),ne=0;ne<J.length;++ne){var ae=J[ne];if(ae.length==0){Q.push("");continue}for(var Ae=0;Ae<ae.length;){var Be=76,Ee=ae.slice(Ae,Ae+Be);Ee.charAt(Be-1)=="="?Be--:Ee.charAt(Be-2)=="="?Be-=2:Ee.charAt(Be-3)=="="&&(Be-=3),Ee=ae.slice(Ae,Ae+Be),Ae+=Be,Ae<ae.length&&(Ee+="="),Q.push(Ee)}}return Q.join(`\r
`)}function RJ(H){for(var re=[],Q=0;Q<H.length;++Q){for(var J=H[Q];Q<=H.length&&J.charAt(J.length-1)=="=";)J=J.slice(0,J.length-1)+H[++Q];re.push(J)}for(var ne=0;ne<re.length;++ne)re[ne]=re[ne].replace(/[=][0-9A-Fa-f]{2}/g,function(ae){return String.fromCharCode(parseInt(ae.slice(1),16))});return Bo(re.join(`\r
`))}function MJ(H,re,Q){for(var J="",ne="",ae="",Ae,Be=0;Be<10;++Be){var Ee=re[Be];if(!Ee||Ee.match(/^\s*$/))break;var ke=Ee.match(/^(.*?):\s*([^\s].*)$/);if(ke)switch(ke[1].toLowerCase()){case"content-location":J=ke[2].trim();break;case"content-type":ae=ke[2].trim();break;case"content-transfer-encoding":ne=ke[2].trim();break}}switch(++Be,ne.toLowerCase()){case"base64":Ae=Bo(zc(re.slice(Be).join("")));break;case"quoted-printable":Ae=RJ(re.slice(Be));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ne)}var Te=H2(H,J.slice(Q.length),Ae,{unsafe:!0});ae&&(Te.ctype=ae)}function FJ(H,re){if(M(H.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Q=re&&re.root||"",J=(yr&&Buffer.isBuffer(H)?H.toString("binary"):M(H)).split(`\r
`),ne=0,ae="";for(ne=0;ne<J.length;++ne)if(ae=J[ne],!!/^Content-Location:/i.test(ae)&&(ae=ae.slice(ae.indexOf("file")),Q||(Q=ae.slice(0,ae.lastIndexOf("/")+1)),ae.slice(0,Q.length)!=Q))for(;Q.length>0&&(Q=Q.slice(0,Q.length-1),Q=Q.slice(0,Q.lastIndexOf("/")+1),ae.slice(0,Q.length)!=Q););var Ae=(J[1]||"").match(/boundary="(.*?)"/);if(!Ae)throw new Error("MAD cannot find boundary");var Be="--"+(Ae[1]||""),Ee=[],ke=[],Te={FileIndex:Ee,FullPaths:ke};E(Te);var Ge,lt=0;for(ne=0;ne<J.length;++ne){var xt=J[ne];xt!==Be&&xt!==Be+"--"||(lt++&&MJ(Te,J.slice(Ge,ne),Q),Ge=ne)}return Te}function $J(H,re){var Q=re||{},J=Q.boundary||"SheetJS";J="------="+J;for(var ne=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+J.slice(2)+'"',"","",""],ae=H.FullPaths[0],Ae=ae,Be=H.FileIndex[0],Ee=1;Ee<H.FullPaths.length;++Ee)if(Ae=H.FullPaths[Ee].slice(ae.length),Be=H.FileIndex[Ee],!(!Be.size||!Be.content||Ae=="Sh33tJ5")){Ae=Ae.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ut){return"_x"+Ut.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ut){return"_u"+Ut.charCodeAt(0).toString(16)+"_"});for(var ke=Be.content,Te=yr&&Buffer.isBuffer(ke)?ke.toString("binary"):M(ke),Ge=0,lt=Math.min(1024,Te.length),xt=0,Ze=0;Ze<=lt;++Ze)(xt=Te.charCodeAt(Ze))>=32&&xt<128&&++Ge;var ft=Ge>=lt*4/5;ne.push(J),ne.push("Content-Location: "+(Q.root||"file:///C:/SheetJS/")+Ae),ne.push("Content-Transfer-Encoding: "+(ft?"quoted-printable":"base64")),ne.push("Content-Type: "+sm(Be,Ae)),ne.push(""),ne.push(ft?fy(Te):ul(Te))}return ne.push(J+`--\r
`),ne.join(`\r
`)}function LJ(H){var re={};return E(re,H),re}function H2(H,re,Q,J){var ne=J&&J.unsafe;ne||E(H);var ae=!ne&&$r.find(H,re);if(!ae){var Ae=H.FullPaths[0];re.slice(0,Ae.length)==Ae?Ae=re:(Ae.slice(-1)!="/"&&(Ae+="/"),Ae=(Ae+re).replace("//","/")),ae={name:a(re),type:2},H.FileIndex.push(ae),H.FullPaths.push(Ae),ne||$r.utils.cfb_gc(H)}return ae.content=Q,ae.size=Q?Q.length:0,J&&(J.CLSID&&(ae.clsid=J.CLSID),J.mt&&(ae.mt=J.mt),J.ct&&(ae.ct=J.ct)),ae}function BJ(H,re){E(H);var Q=$r.find(H,re);if(Q){for(var J=0;J<H.FileIndex.length;++J)if(H.FileIndex[J]==Q)return H.FileIndex.splice(J,1),H.FullPaths.splice(J,1),!0}return!1}function UJ(H,re,Q){E(H);var J=$r.find(H,re);if(J){for(var ne=0;ne<H.FileIndex.length;++ne)if(H.FileIndex[ne]==J)return H.FileIndex[ne].name=a(Q),H.FullPaths[ne]=Q,!0}return!1}function VJ(H){A(H,!0)}return t.find=R,t.read=S,t.parse=u,t.write=ie,t.writeFile=O,t.utils={cfb_new:LJ,cfb_add:H2,cfb_del:BJ,cfb_mov:UJ,cfb_gc:VJ,ReadShift:Sg,CheckField:NZ,prep_blob:hi,bconcat:Os,use_zlib:D,_deflateRaw:He,_inflateRaw:jt,consts:k},t}();function jqe(e){return typeof e=="string"?F2(e):Array.isArray(e)?qHe(e):e}function oy(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=F2(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var s=r=="utf8"?rv(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(s,e);if(typeof Blob<"u"){var a=new Blob([jqe(s)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=iy(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Vs(e){for(var t=Object.keys(e),r=[],s=0;s<t.length;++s)Object.prototype.hasOwnProperty.call(e,t[s])&&r.push(t[s]);return r}function J$(e,t){for(var r=[],s=Vs(e),a=0;a!==s.length;++a)r[e[s[a]][t]]==null&&(r[e[s[a]][t]]=s[a]);return r}function v3(e){for(var t=[],r=Vs(e),s=0;s!==r.length;++s)t[e[r[s]]]=r[s];return t}function B2(e){for(var t=[],r=Vs(e),s=0;s!==r.length;++s)t[e[r[s]]]=parseInt(r[s],10);return t}function bqe(e){for(var t=[],r=Vs(e),s=0;s!==r.length;++s)t[e[r[s]]]==null&&(t[e[r[s]]]=[]),t[e[r[s]]].push(r[s]);return t}var bw=new Date(1899,11,30,0,0,0);function Ja(e,t){var r=e.getTime(),s=bw.getTime()+(e.getTimezoneOffset()-bw.getTimezoneOffset())*6e4;return(r-s)/(24*60*60*1e3)}var iZ=new Date,wqe=bw.getTime()+(iZ.getTimezoneOffset()-bw.getTimezoneOffset())*6e4,eL=iZ.getTimezoneOffset();function oZ(e){var t=new Date;return t.setTime(e*24*60*60*1e3+wqe),t.getTimezoneOffset()!==eL&&t.setTime(t.getTime()+(t.getTimezoneOffset()-eL)*6e4),t}var tL=new Date("2017-02-19T19:06:09.000Z"),lZ=isNaN(tL.getFullYear())?new Date("2/19/17"):tL,Nqe=lZ.getFullYear()==2017;function Na(e,t){var r=new Date(e);if(Nqe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(lZ.getFullYear()==1917&&!isNaN(r.getFullYear())){var s=r.getFullYear();return e.indexOf(""+s)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function U2(e,t){if(yr&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var s=[],a=0;a!=e.length;++a)s.push(String.fromCharCode(e[a]));return s.join("")}function ei(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ei(e[r]));return t}function _n(e,t){for(var r="";r.length<t;)r+=e;return r}function Cc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,s=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(s))||(s=s.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(s)))?t/r:t}var _qe=["january","february","march","april","may","june","july","august","september","october","november","december"];function tv(e){var t=new Date(e),r=new Date(NaN),s=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&_qe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return s<0||s>8099?r:(a>0||i>1)&&s!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Zt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var s;return yr?s=Zc(r):s=GHe(r),$r.utils.cfb_add(e,t,s)}$r.utils.cfb_add(e,t,r)}else e.file(t,r)}function y3(){return $r.utils.cfb_new()}var Gn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Sqe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},j3=v3(Sqe),b3=/[&<>'"]/g,Cqe=/[\u0000-\u0008\u000b-\u001f]/g;function Or(e){var t=e+"";return t.replace(b3,function(r){return j3[r]}).replace(Cqe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function rL(e){return Or(e).replace(/ /g,"_x0020_")}var cZ=/[\u0000-\u001f]/g;function Eqe(e){var t=e+"";return t.replace(b3,function(r){return j3[r]}).replace(/\n/g,"<br/>").replace(cZ,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Aqe(e){var t=e+"";return t.replace(b3,function(r){return j3[r]}).replace(cZ,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function kqe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Pqe(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function KS(e){for(var t="",r=0,s=0,a=0,i=0,o=0,l=0;r<e.length;){if(s=e.charCodeAt(r++),s<128){t+=String.fromCharCode(s);continue}if(a=e.charCodeAt(r++),s>191&&s<224){o=(s&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),s<240){t+=String.fromCharCode((s&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((s&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function nL(e){var t=$f(2*e.length),r,s,a=1,i=0,o=0,l;for(s=0;s<e.length;s+=a)a=1,(l=e.charCodeAt(s))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(s+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(s+1)&63)*64+(e.charCodeAt(s+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(s+1)&63)*4096+(e.charCodeAt(s+2)&63)*64+(e.charCodeAt(s+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function sL(e){return Zc(e,"binary").toString("utf8")}var vj="foo bar baz",_g=yr&&(sL(vj)==KS(vj)&&sL||nL(vj)==KS(vj)&&nL)||KS,rv=yr?function(e){return Zc(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,s=0,a=0;r<e.length;)switch(s=e.charCodeAt(r++),!0){case s<128:t.push(String.fromCharCode(s));break;case s<2048:t.push(String.fromCharCode(192+(s>>6))),t.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,a=e.charCodeAt(r++)-56320+(s<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(s>>12))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)))}return t.join("")},Tqe=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var s=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)s=s.replace(e[a][0],e[a][1]);return s}}(),dZ=/(^\s|\s$|\n)/;function Ds(e,t){return"<"+e+(t.match(dZ)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function nv(e){return Vs(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function et(e,t,r){return"<"+e+(r!=null?nv(r):"")+(t!=null?(t.match(dZ)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function XA(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Oqe(e,t){switch(typeof e){case"string":var r=et("vt:lpwstr",Or(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return et((e|0)==e?"vt:i4":"vt:r8",Or(String(e)));case"boolean":return et("vt:bool",e?"true":"false")}if(e instanceof Date)return et("vt:filetime",XA(e));throw new Error("Unable to serialize "+e)}var hs={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Zp=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],xi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Dqe(e,t){for(var r=1-2*(e[t+7]>>>7),s=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return s==2047?a==0?r*(1/0):NaN:(s==0?s=-1022:(s-=1023,a+=Math.pow(2,52)),r*Math.pow(2,s-52)*a)}function Iqe(e,t,r){var s=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=s?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|s}var aL=function(e){for(var t=[],r=10240,s=0;s<e[0].length;++s)if(e[0][s])for(var a=0,i=e[0][s].length;a<i;a+=r)t.push.apply(t,e[0][s].slice(a,a+r));return t},iL=yr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Zc(t)})):aL(e)}:aL,oL=function(e,t,r){for(var s=[],a=t;a<r;a+=2)s.push(String.fromCharCode(Yx(e,a)));return s.join("").replace(Ng,"")},w3=yr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Ng,""):oL(e,t,r)}:oL,lL=function(e,t,r){for(var s=[],a=t;a<t+r;++a)s.push(("0"+e[a].toString(16)).slice(-2));return s.join("")},uZ=yr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):lL(e,t,r)}:lL,cL=function(e,t,r){for(var s=[],a=t;a<r;a++)s.push(String.fromCharCode(Nm(e,a)));return s.join("")},ly=yr?function(t,r,s){return Buffer.isBuffer(t)?t.toString("utf8",r,s):cL(t,r,s)}:cL,fZ=function(e,t){var r=gi(e,t);return r>0?ly(e,t+4,t+4+r-1):""},mZ=fZ,hZ=function(e,t){var r=gi(e,t);return r>0?ly(e,t+4,t+4+r-1):""},pZ=hZ,xZ=function(e,t){var r=2*gi(e,t);return r>0?ly(e,t+4,t+4+r-1):""},gZ=xZ,vZ=function(t,r){var s=gi(t,r);return s>0?w3(t,r+4,r+4+s):""},yZ=vZ,jZ=function(e,t){var r=gi(e,t);return r>0?ly(e,t+4,t+4+r):""},bZ=jZ,wZ=function(e,t){return Dqe(e,t)},ww=wZ,N3=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};yr&&(mZ=function(t,r){if(!Buffer.isBuffer(t))return fZ(t,r);var s=t.readUInt32LE(r);return s>0?t.toString("utf8",r+4,r+4+s-1):""},pZ=function(t,r){if(!Buffer.isBuffer(t))return hZ(t,r);var s=t.readUInt32LE(r);return s>0?t.toString("utf8",r+4,r+4+s-1):""},gZ=function(t,r){if(!Buffer.isBuffer(t))return xZ(t,r);var s=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+s-1)},yZ=function(t,r){if(!Buffer.isBuffer(t))return vZ(t,r);var s=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+s)},bZ=function(t,r){if(!Buffer.isBuffer(t))return jZ(t,r);var s=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+s)},ww=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):wZ(t,r)},N3=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Nm=function(e,t){return e[t]},Yx=function(e,t){return e[t+1]*256+e[t]},Rqe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},gi=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Lu=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Mqe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Sg(e,t){var r="",s,a,i=[],o,l,c,d;switch(t){case"dbcs":if(d=this.l,yr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(Yx(this,d)),d+=2;e*=2;break;case"utf8":r=ly(this,this.l,this.l+e);break;case"utf16le":e*=2,r=w3(this,this.l,this.l+e);break;case"wstr":return Sg.call(this,e,"dbcs");case"lpstr-ansi":r=mZ(this,this.l),e=4+gi(this,this.l);break;case"lpstr-cp":r=pZ(this,this.l),e=4+gi(this,this.l);break;case"lpwstr":r=gZ(this,this.l),e=4+2*gi(this,this.l);break;case"lpp4":e=4+gi(this,this.l),r=yZ(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+gi(this,this.l),r=bZ(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Nm(this,this.l+e++))!==0;)i.push(pj(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=Yx(this,this.l+e))!==0;)i.push(pj(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Nm(this,d),this.l=d+1,l=Sg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(pj(Yx(this,d))),d+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Nm(this,d),this.l=d+1,l=Sg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(pj(Nm(this,d))),d+=1}r=i.join("");break;default:switch(e){case 1:return s=Nm(this,this.l),this.l++,s;case 2:return s=(t==="i"?Rqe:Yx)(this,this.l),this.l+=2,s;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(s=(e>0?Lu:Mqe)(this,this.l),this.l+=4,s):(a=gi(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=ww(this,this.l):a=ww([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=uZ(this,this.l,e);break}}return this.l+=e,r}var Fqe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},$qe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Lqe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Bqe(e,t,r){var s=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Lqe(this,t.charCodeAt(a),this.l+2*a);s=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;s=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:s=1,this[this.l]=t&255;break;case 2:s=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:s=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:s=4,Fqe(this,t,this.l);break;case 8:if(s=8,r==="f"){Iqe(this,t,this.l);break}case 16:break;case-4:s=4,$qe(this,t,this.l);break}return this.l+=s,this}function NZ(e,t){var r=uZ(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function hi(e,t){e.l=t,e.read_shift=Sg,e.chk=NZ,e.write_shift=Bqe}function Wl(e,t){e.l+=t}function Fe(e){var t=$f(e);return hi(t,0),t}function Xa(){var e=[],t=yr?256:2048,r=function(d){var u=Fe(d);return hi(u,0),u},s=r(t),a=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&e.push(s),s=null)},i=function(d){return s&&d<s.length-s.l?s:(a(),s=r(Math.max(d+1,t)))},o=function(){return a(),Os(e)},l=function(d){a(),s=d,s.l==null&&(s.l=s.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function We(e,t,r,s){var a=+t,i;if(!isNaN(a)){s||(s=DZe[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,s>=128&&++i,s>=16384&&++i,s>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(s>=128)o.write_shift(1,(s&127)+128),s>>=7;else{o.write_shift(1,s);break}s>0&&N3(r)&&e.push(r)}}function Cg(e,t,r){var s=ei(e);if(t.s?(s.cRel&&(s.c+=t.s.c),s.rRel&&(s.r+=t.s.r)):(s.cRel&&(s.c+=t.c),s.rRel&&(s.r+=t.r)),!r||r.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function dL(e,t,r){var s=ei(e);return s.s=Cg(s.s,t.s,r),s.e=Cg(s.e,t.s,r),s}function Eg(e,t){if(e.cRel&&e.c<0)for(e=ei(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ei(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Ir(e);return!e.cRel&&e.cRel!=null&&(r=zqe(r)),!e.rRel&&e.rRel!=null&&(r=Uqe(r)),r}function YS(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ra(e.s.c)+":"+(e.e.cRel?"":"$")+ra(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ls(e.s.r)+":"+(e.e.rRel?"":"$")+Ls(e.e.r):Eg(e.s,t.biff)+":"+Eg(e.e,t.biff)}function _3(e){return parseInt(Vqe(e),10)-1}function Ls(e){return""+(e+1)}function Uqe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Vqe(e){return e.replace(/\$(\d+)$/,"$1")}function S3(e){for(var t=Wqe(e),r=0,s=0;s!==t.length;++s)r=26*r+t.charCodeAt(s)-64;return r-1}function ra(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function zqe(e){return e.replace(/^([A-Z])/,"$$$1")}function Wqe(e){return e.replace(/^\$([A-Z])/,"$1")}function Hqe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ps(e){for(var t=0,r=0,s=0;s<e.length;++s){var a=e.charCodeAt(s);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Ir(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Di(e){var t=e.indexOf(":");return t==-1?{s:ps(e),e:ps(e)}:{s:ps(e.slice(0,t)),e:ps(e.slice(t+1))}}function Hn(e,t){return typeof t>"u"||typeof t=="number"?Hn(e.s,e.e):(typeof e!="string"&&(e=Ir(e)),typeof t!="string"&&(t=Ir(t)),e==t?e:e+":"+t)}function tn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,s=0,a=0,i=e.length;for(r=0;s<i&&!((a=e.charCodeAt(s)-64)<1||a>26);++s)r=26*r+a;for(t.s.c=--r,r=0;s<i&&!((a=e.charCodeAt(s)-48)<0||a>9);++s)r=10*r+a;if(t.s.r=--r,s===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++s,r=0;s!=i&&!((a=e.charCodeAt(s)-64)<1||a>26);++s)r=26*r+a;for(t.e.c=--r,r=0;s!=i&&!((a=e.charCodeAt(s)-48)<0||a>9);++s)r=10*r+a;return t.e.r=--r,t}function uL(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=au(e.z,r?Ja(t):t)}catch{}try{return e.w=au((e.XF||{}).numFmtId||(r?14:0),r?Ja(t):t)}catch{return""+t}}function Wc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?cy[e.v]||e.v:t==null?uL(e,e.v):uL(e,t))}function Jf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",s={};return s[r]=e,{SheetNames:[r],Sheets:s}}function _Z(e,t,r){var s=r||{},a=e?Array.isArray(e):s.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&s.origin!=null){if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?ps(s.origin):s.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=tn(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),o==-1&&(d.e.r=o=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[f].length;++m)if(!(typeof t[f][m]>"u")){var h={v:t[f][m]},x=o+f,p=l+m;if(d.s.r>x&&(d.s.r=x),d.s.c>p&&(d.s.c=p),d.e.r<x&&(d.e.r=x),d.e.c<p&&(d.e.c=p),t[f][m]&&typeof t[f][m]=="object"&&!Array.isArray(t[f][m])&&!(t[f][m]instanceof Date))h=t[f][m];else if(Array.isArray(h.v)&&(h.f=t[f][m][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(s.nullError)h.t="e",h.v=0;else if(s.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=s.dateNF||Cn[14],s.cellDates?(h.t="d",h.w=au(h.z,Ja(h.v))):(h.t="n",h.v=Ja(h.v),h.w=au(h.z,h.v))):h.t="s";if(a)i[x]||(i[x]=[]),i[x][p]&&i[x][p].z&&(h.z=i[x][p].z),i[x][p]=h;else{var g=Ir({c:p,r:x});i[g]&&i[g].z&&(h.z=i[g].z),i[g]=h}}}return d.s.c<1e7&&(i["!ref"]=Hn(d)),i}function Jp(e,t){return _Z(null,e,t)}function qqe(e){return e.read_shift(4,"i")}function Yo(e,t){return t||(t=Fe(4)),t.write_shift(4,e),t}function na(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function xs(e,t){var r=!1;return t==null&&(r=!0,t=Fe(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Gqe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function Kqe(e,t){return t||(t=Fe(4)),t.write_shift(2,0),t.write_shift(2,0),t}function C3(e,t){var r=e.l,s=e.read_shift(1),a=na(e),i=[],o={t:a,h:a};if(s&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(Gqe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function Yqe(e,t){var r=!1;return t==null&&(r=!0,t=Fe(15+4*e.t.length)),t.write_shift(1,0),xs(e.t,t),r?t.slice(0,t.l):t}var Xqe=C3;function Qqe(e,t){var r=!1;return t==null&&(r=!0,t=Fe(23+4*e.t.length)),t.write_shift(1,1),xs(e.t,t),t.write_shift(4,1),Kqe({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function _o(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function em(e,t){return t==null&&(t=Fe(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function tm(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function rm(e,t){return t==null&&(t=Fe(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Zqe=na,SZ=xs;function E3(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Nw(e,t){var r=!1;return t==null&&(r=!0,t=Fe(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Jqe=na,QA=E3,A3=Nw;function CZ(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,s=t[0]&2;e.l+=4;var a=s===0?ww([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Lu(t,0)>>2;return r?a/100:a}function EZ(e,t){t==null&&(t=Fe(4));var r=0,s=0,a=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?s=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(s=1,r=1),s)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function AZ(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function eGe(e,t){return t||(t=Fe(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var nm=AZ,ex=eGe;function tx(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Lf(e,t){return(t||Fe(8)).write_shift(8,e,"f")}function tGe(e){var t={},r=e.read_shift(1),s=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,s){case 0:t.auto=1;break;case 1:t.index=a;var d=dGe[a];d&&(t.rgb=wL(d));break;case 2:t.rgb=wL([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function _w(e,t){if(t||(t=Fe(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var s=e.rgb||"FFFFFF";typeof s=="number"&&(s=("000000"+s.toString(16)).slice(-6)),t.write_shift(1,parseInt(s.slice(0,2),16)),t.write_shift(1,parseInt(s.slice(2,4),16)),t.write_shift(1,parseInt(s.slice(4,6),16)),t.write_shift(1,255)}return t}function rGe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function nGe(e,t){t||(t=Fe(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var kZ=2,ui=3,yj=11,Sw=19,jj=64,sGe=65,aGe=71,iGe=4108,oGe=4126,Ts=80,fL={1:{n:"CodePage",t:kZ},2:{n:"Category",t:Ts},3:{n:"PresentationFormat",t:Ts},4:{n:"ByteCount",t:ui},5:{n:"LineCount",t:ui},6:{n:"ParagraphCount",t:ui},7:{n:"SlideCount",t:ui},8:{n:"NoteCount",t:ui},9:{n:"HiddenCount",t:ui},10:{n:"MultimediaClipCount",t:ui},11:{n:"ScaleCrop",t:yj},12:{n:"HeadingPairs",t:iGe},13:{n:"TitlesOfParts",t:oGe},14:{n:"Manager",t:Ts},15:{n:"Company",t:Ts},16:{n:"LinksUpToDate",t:yj},17:{n:"CharacterCount",t:ui},19:{n:"SharedDoc",t:yj},22:{n:"HyperlinksChanged",t:yj},23:{n:"AppVersion",t:ui,p:"version"},24:{n:"DigSig",t:sGe},26:{n:"ContentType",t:Ts},27:{n:"ContentStatus",t:Ts},28:{n:"Language",t:Ts},29:{n:"Version",t:Ts},255:{},2147483648:{n:"Locale",t:Sw},2147483651:{n:"Behavior",t:Sw},1919054434:{}},mL={1:{n:"CodePage",t:kZ},2:{n:"Title",t:Ts},3:{n:"Subject",t:Ts},4:{n:"Author",t:Ts},5:{n:"Keywords",t:Ts},6:{n:"Comments",t:Ts},7:{n:"Template",t:Ts},8:{n:"LastAuthor",t:Ts},9:{n:"RevNumber",t:Ts},10:{n:"EditTime",t:jj},11:{n:"LastPrinted",t:jj},12:{n:"CreatedDate",t:jj},13:{n:"ModifiedDate",t:jj},14:{n:"PageCount",t:ui},15:{n:"WordCount",t:ui},16:{n:"CharCount",t:ui},17:{n:"Thumbnail",t:aGe},18:{n:"Application",t:Ts},19:{n:"DocSecurity",t:ui},255:{},2147483648:{n:"Locale",t:Sw},2147483651:{n:"Behavior",t:Sw},1919054434:{}};function lGe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var cGe=lGe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),dGe=ei(cGe),cy={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},uGe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},bj={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function PZ(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function TZ(e,t){var r=bqe(uGe),s=[],a;s[s.length]=Gn,s[s.length]=et("Types",null,{xmlns:hs.CT,"xmlns:xsd":hs.xsd,"xmlns:xsi":hs.xsi}),s=s.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return et("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],s[s.length]=et("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:bj[c][t.bookType]||bj[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(d){s[s.length]=et("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:bj[c][t.bookType]||bj[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(d){s[s.length]=et("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),s.length>2&&(s[s.length]="</Types>",s[1]=s[1].replace("/>",">")),s.join("")}var gr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function OZ(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function ih(e){var t=[Gn,et("Relationships",null,{xmlns:hs.RELS})];return Vs(e["!id"]).forEach(function(r){t[t.length]=et("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Pr(e,t,r,s,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=s,a.Target=r,[gr.HLINK,gr.XPATH,gr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function fGe(e){var t=[Gn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function hL(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function mGe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function hGe(e){var t=[Gn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(hL(e[r][0],e[r][1])),t.push(mGe("",e[r][0]));return t.push(hL("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function DZ(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+gw.version+"</meta:generator></office:meta></office:document-meta>"}var mf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function XS(e,t,r,s,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Or(t),s[s.length]=r?et(e,t,r):Ds(e,t))}function IZ(e,t){var r=t||{},s=[Gn,et("cp:coreProperties",null,{"xmlns:cp":hs.CORE_PROPS,"xmlns:dc":hs.dc,"xmlns:dcterms":hs.dcterms,"xmlns:dcmitype":hs.dcmitype,"xmlns:xsi":hs.xsi})],a={};if(!e&&!r.Props)return s.join("");e&&(e.CreatedDate!=null&&XS("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:XA(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a),e.ModifiedDate!=null&&XS("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:XA(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a));for(var i=0;i!=mf.length;++i){var o=mf[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&XS(o[0],l,null,s,a)}return s.length>2&&(s[s.length]="</cp:coreProperties>",s[1]=s[1].replace("/>",">")),s.join("")}var oh=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],RZ=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function MZ(e){var t=[],r=et;return e||(e={}),e.Application="SheetJS",t[t.length]=Gn,t[t.length]=et("Properties",null,{xmlns:hs.EXT_PROPS,"xmlns:vt":hs.vt}),oh.forEach(function(s){if(e[s[1]]!==void 0){var a;switch(s[2]){case"string":a=Or(String(e[s[1]]));break;case"bool":a=e[s[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(s[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(s){return"<vt:lpstr>"+Or(s)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function FZ(e){var t=[Gn,et("Properties",null,{xmlns:hs.CUST_PROPS,"xmlns:vt":hs.vt})];if(!e)return t.join("");var r=1;return Vs(e).forEach(function(a){++r,t[t.length]=et("property",Oqe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Or(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var pL={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function pGe(e,t){var r=[];return Vs(pL).map(function(s){for(var a=0;a<mf.length;++a)if(mf[a][1]==s)return mf[a];for(a=0;a<oh.length;++a)if(oh[a][1]==s)return oh[a];throw s}).forEach(function(s){if(e[s[1]]!=null){var a=t&&t.Props&&t.Props[s[1]]!=null?t.Props[s[1]]:e[s[1]];switch(s[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Ds(pL[s[1]]||s[1],a))}}),et("DocumentProperties",r.join(""),{xmlns:xi.o})}function xGe(e,t){var r=["Worksheets","SheetNames"],s="CustomDocumentProperties",a=[];return e&&Vs(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<mf.length;++o)if(i==mf[o][1])return;for(o=0;o<oh.length;++o)if(i==oh[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(et(rL(i),l,{"dt:dt":c}))}}),t&&Vs(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(et(rL(i),o,{"dt:dt":l}))}}),"<"+s+' xmlns="'+xi.o+'">'+a.join("")+"</"+s+">"}function gGe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,s=r%Math.pow(2,32),a=(r-s)/Math.pow(2,32);s*=1e7,a*=1e7;var i=s/Math.pow(2,32)|0;i>0&&(s=s%Math.pow(2,32),a+=i);var o=Fe(8);return o.write_shift(4,s),o.write_shift(4,a),o}function xL(e,t){var r=Fe(4),s=Fe(4);switch(r.write_shift(4,e==80?31:e),e){case 3:s.write_shift(-4,t);break;case 5:s=Fe(8),s.write_shift(8,t,"f");break;case 11:s.write_shift(4,t?1:0);break;case 64:s=gGe(t);break;case 31:case 80:for(s=Fe(4+2*(t.length+1)+(t.length%2?0:2)),s.write_shift(4,t.length+1),s.write_shift(0,t,"dbcs");s.l!=s.length;)s.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Os([r,s])}var $Z=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function vGe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function gL(e,t,r){var s=Fe(8),a=[],i=[],o=8,l=0,c=Fe(8),d=Fe(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),a.push(d),o+=8+c.length,!t){d=Fe(8),d.write_shift(4,0),a.unshift(d);var u=[Fe(4)];for(u[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=Fe(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=Os(u),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!($Z.indexOf(e[l][0])>-1||RZ.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],h=0;if(t){h=+t[e[l][0]];var x=r[h];if(x.p=="version"&&typeof m=="string"){var p=m.split(".");m=(+p[0]<<16)+(+p[1]||0)}c=xL(x.t,m)}else{var g=vGe(m);g==-1&&(g=31,m=String(m)),c=xL(g,m)}i.push(c),d=Fe(8),d.write_shift(4,t?h:2+l),a.push(d),o+=8+c.length}var j=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,j),j+=i[l].length;return s.write_shift(4,o),s.write_shift(4,i.length),Os([s].concat(a).concat(i))}function vL(e,t,r,s,a,i){var o=Fe(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,$r.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=gL(e,r,s);if(l.push(c),a){var d=gL(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(d)}return Os(l)}function yGe(e,t){t||(t=Fe(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function jGe(e,t){return e.read_shift(t)===1}function ga(e,t){return t||(t=Fe(2)),t.write_shift(2,+!!e),t}function LZ(e){return e.read_shift(2,"u")}function Yi(e,t){return t||(t=Fe(2)),t.write_shift(2,e),t}function BZ(e,t,r){return r||(r=Fe(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function UZ(e,t,r){var s=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=s?e.read_shift(s,a):"";return o}function bGe(e){var t=e.t||"",r=Fe(3);r.write_shift(2,t.length),r.write_shift(1,1);var s=Fe(2*t.length);s.write_shift(2*t.length,t,"utf16le");var a=[r,s];return Os(a)}function wGe(e,t,r){var s;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?s=e.read_shift(t,"sbcs-cont"):s=e.read_shift(t,"dbcs-cont"),s}function NGe(e,t,r){var s=e.read_shift(r&&r.biff==2?1:2);return s===0?(e.l++,""):wGe(e,s,r)}function _Ge(e,t,r){if(r.biff>5)return NGe(e,t,r);var s=e.read_shift(1);return s===0?(e.l++,""):e.read_shift(s,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function VZ(e,t,r){return r||(r=Fe(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function yL(e,t){t||(t=Fe(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function SGe(e){var t=Fe(512),r=0,s=e.Target;s.slice(0,7)=="file://"&&(s=s.slice(7));var a=s.indexOf("#"),i=a>-1?31:23;switch(s.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)s=s.slice(1),yL(s,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?s.slice(0,a):s;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&yL(a>-1?s.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;s.slice(c*3,c*3+3)=="../"||s.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,s.length-3*c+1),r=0;r<s.length-3*c;++r)t.write_shift(1,s.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Bf(e,t,r,s){return s||(s=Fe(6)),s.write_shift(2,e),s.write_shift(2,t),s.write_shift(2,r||0),s}function CGe(e,t,r){var s=r.biff>8?4:2,a=e.read_shift(s),i=e.read_shift(s,"i"),o=e.read_shift(s,"i");return[a,i,o]}function EGe(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2);return{s:{c:s,r:t},e:{c:a,r}}}function zZ(e,t){return t||(t=Fe(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function k3(e,t,r){var s=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":s=1280,a=8;break;case"biff4":s=4,a=6;break;case"biff3":s=3,a=6;break;case"biff2":s=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Fe(a);return i.write_shift(2,s),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function AGe(e,t){var r=!t||t.biff==8,s=Fe(r?112:54);for(s.write_shift(t.biff==8?2:1,7),r&&s.write_shift(1,0),s.write_shift(4,859007059),s.write_shift(4,5458548|(r?0:536870912));s.l<s.length;)s.write_shift(1,r?0:32);return s}function kGe(e,t){var r=!t||t.biff>=8?2:1,s=Fe(8+r*e.name.length);s.write_shift(4,e.pos),s.write_shift(1,e.hs||0),s.write_shift(1,e.dt),s.write_shift(1,e.name.length),t.biff>=8&&s.write_shift(1,1),s.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=s.slice(0,s.l);return a.l=s.l,a}function PGe(e,t){var r=Fe(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var s=[],a=0;a<e.length;++a)s[a]=bGe(e[a]);var i=Os([r].concat(s));return i.parts=[r.length].concat(s.map(function(o){return o.length})),i}function TGe(){var e=Fe(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function OGe(e){var t=Fe(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function DGe(e,t){var r=e.name||"Arial",s=t&&t.biff==5,a=s?15+r.length:16+2*r.length,i=Fe(a);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),s||i.write_shift(1,1),i.write_shift((s?1:2)*r.length,r,s?"sbcs":"utf16le"),i}function IGe(e,t,r,s){var a=Fe(10);return Bf(e,t,s,a),a.write_shift(4,r),a}function RGe(e,t,r,s,a){var i=!a||a.biff==8,o=Fe(8+ +i+(1+i)*r.length);return Bf(e,t,s,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function MGe(e,t,r,s){var a=r&&r.biff==5;s||(s=Fe(a?3+t.length:5+2*t.length)),s.write_shift(2,e),s.write_shift(a?1:2,t.length),a||s.write_shift(1,1),s.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=s.length>s.l?s.slice(0,s.l):s;return i.l==null&&(i.l=i.length),i}function FGe(e,t){var r=t.biff==8||!t.biff?4:2,s=Fe(2*r+6);return s.write_shift(r,e.s.r),s.write_shift(r,e.e.r+1),s.write_shift(2,e.s.c),s.write_shift(2,e.e.c+1),s.write_shift(2,0),s}function jL(e,t,r,s){var a=r&&r.biff==5;s||(s=Fe(a?16:20)),s.write_shift(2,0),e.style?(s.write_shift(2,e.numFmtId||0),s.write_shift(2,65524)):(s.write_shift(2,e.numFmtId||0),s.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),s.write_shift(4,i),s.write_shift(4,0),a||s.write_shift(4,0),s.write_shift(2,0),s}function $Ge(e){var t=Fe(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function LGe(e,t,r,s,a,i){var o=Fe(8);return Bf(e,t,s,o),BZ(r,i,o),o}function BGe(e,t,r,s){var a=Fe(14);return Bf(e,t,s,a),Lf(r,a),a}function UGe(e,t,r){if(r.biff<8)return VGe(e,t,r);for(var s=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)s.push(CGe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return s}function VGe(e,t,r){e[e.l+1]==3&&e[e.l]++;var s=UZ(e,t,r);return s.charCodeAt(0)==3?s.slice(1):s}function zGe(e){var t=Fe(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)zZ(e[r],t);return t}function WGe(e){var t=Fe(24),r=ps(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var s="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(s[a],16));return Os([t,SGe(e[1])])}function HGe(e){var t=e[1].Tooltip,r=Fe(10+2*(t.length+1));r.write_shift(2,2048);var s=ps(e[0]);r.write_shift(2,s.r),r.write_shift(2,s.r),r.write_shift(2,s.c),r.write_shift(2,s.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function qGe(e){return e||(e=Fe(4)),e.write_shift(2,1),e.write_shift(2,1),e}function GGe(e,t,r){if(!r.cellStyles)return Wl(e,t);var s=r&&r.biff>=12?4:2,a=e.read_shift(s),i=e.read_shift(s),o=e.read_shift(s),l=e.read_shift(s),c=e.read_shift(2);s==2&&(e.l+=2);var d={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function KGe(e,t){var r=Fe(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var s=0;return e.hidden&&(s|=1),r.write_shift(1,s),s=e.level||0,r.write_shift(1,s),r.write_shift(2,0),r}function YGe(e){for(var t=Fe(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function XGe(e,t,r){var s=Fe(15);return uy(s,e,t),s.write_shift(8,r,"f"),s}function QGe(e,t,r){var s=Fe(9);return uy(s,e,t),s.write_shift(2,r),s}var ZGe=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=v3({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var d=[],u=$f(1);switch(c.type){case"base64":u=Bo(zc(l));break;case"binary":u=Bo(l);break;case"buffer":case"array":u=l;break}hi(u,0);var f=u.read_shift(1),m=!!(f&136),h=!1,x=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,m=!0;break;case 49:h=!0,m=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,g=521;f==2&&(p=u.read_shift(2)),u.l+=3,f!=2&&(p=u.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(g=u.read_shift(2));var j=u.read_shift(2),y=c.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(y=e[u[u.l]]),u.l+=1,u.l+=2),x&&(u.l+=36);for(var w=[],b={},N=Math.min(u.length,f==2?521:g-10-(h?264:0)),S=x?32:11;u.l<N&&u[u.l]!=13;)switch(b={},b.name=$u.utils.decode(y,u.slice(u.l,u.l+S)).replace(/[\u0000\r\n].*$/g,""),u.l+=S,b.type=String.fromCharCode(u.read_shift(1)),f!=2&&!x&&(b.offset=u.read_shift(4)),b.len=u.read_shift(1),f==2&&(b.offset=u.read_shift(2)),b.dec=u.read_shift(1),b.name.length&&w.push(b),f!=2&&(u.l+=x?13:14),b.type){case"B":(!h||b.len!=8)&&c.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+b.type)}if(u[u.l]!==13&&(u.l=g-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=g;var E=0,C=0;for(d[0]=[],C=0;C!=w.length;++C)d[0][C]=w[C].name;for(;p-- >0;){if(u[u.l]===42){u.l+=j;continue}for(++u.l,d[++E]=[],C=0,C=0;C!=w.length;++C){var A=u.slice(u.l,u.l+w[C].len);u.l+=w[C].len,hi(A,0);var P=$u.utils.decode(y,A);switch(w[C].type){case"C":P.trim().length&&(d[E][C]=P.replace(/\s+$/,""));break;case"D":P.length===8?d[E][C]=new Date(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8)):d[E][C]=P;break;case"F":d[E][C]=parseFloat(P.trim());break;case"+":case"I":d[E][C]=x?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":d[E][C]=!0;break;case"N":case"F":d[E][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));d[E][C]="##MEMO##"+(x?parseInt(P.trim(),10):A.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(d[E][C]=+P||0);break;case"@":d[E][C]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":d[E][C]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":d[E][C]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[E][C]=-A.read_shift(-8,"f");break;case"B":if(h&&w[C].len==8){d[E][C]=A.read_shift(8,"f");break}case"G":case"P":A.l+=w[C].len;break;case"0":if(w[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[C].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=w,d}function s(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=Jp(r(l,d),d);return u["!cols"]=d.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete d.DBF,u}function a(l,c){try{return Jf(s(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&J0(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=Xa(),f=Pw(l,{header:1,raw:!0,cellDates:!0}),m=f[0],h=f.slice(1),x=l["!cols"]||[],p=0,g=0,j=0,y=1;for(p=0;p<m.length;++p){if(((x[p]||{}).DBF||{}).name){m[p]=x[p].DBF.name,++j;continue}if(m[p]!=null){if(++j,typeof m[p]=="number"&&(m[p]=m[p].toString(10)),typeof m[p]!="string")throw new Error("DBF Invalid column name "+m[p]+" |"+typeof m[p]+"|");if(m.indexOf(m[p])!==p){for(g=0;g<1024;++g)if(m.indexOf(m[p]+"_"+g)==-1){m[p]+="_"+g;break}}}}var w=tn(l["!ref"]),b=[],N=[],S=[];for(p=0;p<=w.e.c-w.s.c;++p){var E="",C="",A=0,P=[];for(g=0;g<h.length;++g)h[g][p]!=null&&P.push(h[g][p]);if(P.length==0||m[p]==null){b[p]="?";continue}for(g=0;g<P.length;++g){switch(typeof P[g]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=P[g]instanceof Date?"D":"C";break;default:C="C"}A=Math.max(A,String(P[g]).length),E=E&&E!=C?"C":C}A>250&&(A=250),C=((x[p]||{}).DBF||{}).type,C=="C"&&x[p].DBF.len>A&&(A=x[p].DBF.len),E=="B"&&C=="N"&&(E="N",S[p]=x[p].DBF.dec,A=x[p].DBF.len),N[p]=E=="C"||C=="N"?A:i[E]||0,y+=N[p],b[p]=E}var R=u.next(32);for(R.write_shift(4,318902576),R.write_shift(4,h.length),R.write_shift(2,296+32*j),R.write_shift(2,y),p=0;p<4;++p)R.write_shift(4,0);for(R.write_shift(4,0|(+t[HQ]||3)<<8),p=0,g=0;p<m.length;++p)if(m[p]!=null){var I=u.next(32),z=(m[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,z,"sbcs"),I.write_shift(1,b[p]=="?"?"C":b[p],"sbcs"),I.write_shift(4,g),I.write_shift(1,N[p]||i[b[p]]||0),I.write_shift(1,S[p]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),g+=N[p]||i[b[p]]||0}var U=u.next(264);for(U.write_shift(4,13),p=0;p<65;++p)U.write_shift(4,0);for(p=0;p<h.length;++p){var L=u.next(y);for(L.write_shift(1,0),g=0;g<m.length;++g)if(m[g]!=null)switch(b[g]){case"L":L.write_shift(1,h[p][g]==null?63:h[p][g]?84:70);break;case"B":L.write_shift(8,h[p][g]||0,"f");break;case"N":var T="0";for(typeof h[p][g]=="number"&&(T=h[p][g].toFixed(S[g]||0)),j=0;j<N[g]-T.length;++j)L.write_shift(1,32);L.write_shift(1,T,"sbcs");break;case"D":h[p][g]?(L.write_shift(4,("0000"+h[p][g].getFullYear()).slice(-4),"sbcs"),L.write_shift(2,("00"+(h[p][g].getMonth()+1)).slice(-2),"sbcs"),L.write_shift(2,("00"+h[p][g].getDate()).slice(-2),"sbcs")):L.write_shift(8,"00000000","sbcs");break;case"C":var k=String(h[p][g]!=null?h[p][g]:"").slice(0,N[g]);for(L.write_shift(1,k,"sbcs"),j=0;j<N[g]-k.length;++j)L.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:s,from_sheet:o}}(),JGe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Vs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,h){var x=e[h];return typeof x=="number"?W$(x):x},s=function(m,h,x){var p=h.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return p==59?m:W$(p)};e["|"]=254;function a(m,h){switch(h.type){case"base64":return i(zc(m),h);case"binary":return i(m,h);case"buffer":return i(yr&&Buffer.isBuffer(m)?m.toString("binary"):iy(m),h);case"array":return i(U2(m),h)}throw new Error("Unrecognized type "+h.type)}function i(m,h){var x=m.split(/[\n\r]+/),p=-1,g=-1,j=0,y=0,w=[],b=[],N=null,S={},E=[],C=[],A=[],P=0,R;for(+h.codepage>=0&&J0(+h.codepage);j!==x.length;++j){P=0;var I=x[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(t,r),z=I.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),U=z[0],L;if(I.length>0)switch(U){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":z[1].charAt(0)=="P"&&b.push(I.slice(3).replace(/;;/g,";"));break;case"C":var T=!1,k=!1,O=!1,M=!1,ie=-1,ce=-1;for(y=1;y<z.length;++y)switch(z[y].charAt(0)){case"A":break;case"X":g=parseInt(z[y].slice(1))-1,k=!0;break;case"Y":for(p=parseInt(z[y].slice(1))-1,k||(g=0),R=w.length;R<=p;++R)w[R]=[];break;case"K":L=z[y].slice(1),L.charAt(0)==='"'?L=L.slice(1,L.length-1):L==="TRUE"?L=!0:L==="FALSE"?L=!1:isNaN(Cc(L))?isNaN(tv(L).getDate())||(L=Na(L)):(L=Cc(L),N!==null&&nZ(N)&&(L=oZ(L))),T=!0;break;case"E":M=!0;var D=QKe(z[y].slice(1),{r:p,c:g});w[p][g]=[w[p][g],D];break;case"S":O=!0,w[p][g]=[w[p][g],"S5S"];break;case"G":break;case"R":ie=parseInt(z[y].slice(1))-1;break;case"C":ce=parseInt(z[y].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+I)}if(T&&(w[p][g]&&w[p][g].length==2?w[p][g][0]=L:w[p][g]=L,N=null),O){if(M)throw new Error("SYLK shared formula cannot have own formula");var W=ie>-1&&w[ie][ce];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");w[p][g][1]=ZKe(W[1],{r:p-ie,c:g-ce})}break;case"F":var F=0;for(y=1;y<z.length;++y)switch(z[y].charAt(0)){case"X":g=parseInt(z[y].slice(1))-1,++F;break;case"Y":for(p=parseInt(z[y].slice(1))-1,R=w.length;R<=p;++R)w[R]=[];break;case"M":P=parseInt(z[y].slice(1))/20;break;case"F":break;case"G":break;case"P":N=b[parseInt(z[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=z[y].slice(1).split(" "),R=parseInt(A[0],10);R<=parseInt(A[1],10);++R)P=parseInt(A[2],10),C[R-1]=P===0?{hidden:!0}:{wch:P},P3(C[R-1]);break;case"C":g=parseInt(z[y].slice(1))-1,C[g]||(C[g]={});break;case"R":p=parseInt(z[y].slice(1))-1,E[p]||(E[p]={}),P>0?(E[p].hpt=P,E[p].hpx=KZ(P)):P===0&&(E[p].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+I)}F<1&&(N=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+I)}}return E.length>0&&(S["!rows"]=E),C.length>0&&(S["!cols"]=C),h&&h.sheetRows&&(w=w.slice(0,h.sheetRows)),[w,S]}function o(m,h){var x=a(m,h),p=x[0],g=x[1],j=Jp(p,h);return Vs(g).forEach(function(y){j[y]=g[y]}),j}function l(m,h){return Jf(o(m,h),h)}function c(m,h,x,p){var g="C;Y"+(x+1)+";X"+(p+1)+";K";switch(m.t){case"n":g+=m.v||0,m.f&&!m.F&&(g+=";E"+O3(m.f,{r:x,c:p}));break;case"b":g+=m.v?"TRUE":"FALSE";break;case"e":g+=m.w||m.v;break;case"d":g+='"'+(m.w||m.v)+'"';break;case"s":g+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function d(m,h){h.forEach(function(x,p){var g="F;W"+(p+1)+" "+(p+1)+" ";x.hidden?g+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=Cw(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=Ew(x.wpx)),typeof x.wch=="number"&&(g+=Math.round(x.wch))),g.charAt(g.length-1)!=" "&&m.push(g)})}function u(m,h){h.forEach(function(x,p){var g="F;";x.hidden?g+="M0;":x.hpt?g+="M"+20*x.hpt+";":x.hpx&&(g+="M"+20*Aw(x.hpx)+";"),g.length>2&&m.push(g+"R"+(p+1))})}function f(m,h){var x=["ID;PWXL;N;E"],p=[],g=tn(m["!ref"]),j,y=Array.isArray(m),w=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),m["!cols"]&&d(x,m["!cols"]),m["!rows"]&&u(x,m["!rows"]),x.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var b=g.s.r;b<=g.e.r;++b)for(var N=g.s.c;N<=g.e.c;++N){var S=Ir({r:b,c:N});j=y?(m[b]||[])[N]:m[S],!(!j||j.v==null&&(!j.f||j.F))&&p.push(c(j,m,b,N))}return x.join(w)+w+p.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),eKe=function(){function e(i,o){switch(o.type){case"base64":return t(zc(i),o);case"binary":return t(i,o);case"buffer":return t(yr&&Buffer.isBuffer(i)?i.toString("binary"):iy(i),o);case"array":return t(U2(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,d=-1,u=0,f=[];u!==l.length;++u){if(l[u].trim()==="BOT"){f[++c]=[],d=0;continue}if(!(c<0)){var m=l[u].trim().split(","),h=m[0],x=m[1];++u;for(var p=l[u]||"";(p.match(/["]/g)||[]).length&1&&u<l.length-1;)p+=`
`+l[++u];switch(p=p.trim(),+h){case-1:if(p==="BOT"){f[++c]=[],d=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][d]=!0:p==="FALSE"?f[c][d]=!1:isNaN(Cc(x))?isNaN(tv(x).getDate())?f[c][d]=x:f[c][d]=Na(x):f[c][d]=Cc(x),++d;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][d++]=p!==""?p:null;break}if(p==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return Jp(e(i,o),o)}function s(i,o){return Jf(r(i,o),o)}var a=function(){var i=function(c,d,u,f,m){c.push(d),c.push(u+","+f),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,d,u,f){c.push(d+","+u),c.push(d==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var d=[],u=tn(c["!ref"]),f,m=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){o(d,-1,0,"BOT");for(var x=u.s.c;x<=u.e.c;++x){var p=Ir({r:h,c:x});if(f=m?(c[h]||[])[x]:c[p],!f){o(d,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?o(d,1,0,"="+f.f):o(d,1,0,""):o(d,0,g,"V");break;case"b":o(d,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=au(f.z||Cn[14],Ja(Na(f.v)))),o(d,0,f.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var j=`\r
`,y=d.join(j);return y}}();return{to_workbook:s,to_sheet:r,from_sheet:a}}(),WZ=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,m){for(var h=f.split(`
`),x=-1,p=-1,g=0,j=[];g!==h.length;++g){var y=h[g].trim().split(":");if(y[0]==="cell"){var w=ps(y[1]);if(j.length<=w.r)for(x=j.length;x<=w.r;++x)j[x]||(j[x]=[]);switch(x=w.r,p=w.c,y[2]){case"t":j[x][p]=e(y[3]);break;case"v":j[x][p]=+y[3];break;case"vtf":var b=y[y.length-1];case"vtc":switch(y[3]){case"nl":j[x][p]=!!+y[4];break;default:j[x][p]=+y[4];break}y[2]=="vtf"&&(j[x][p]=[j[x][p],b])}}}return m&&m.sheetRows&&(j=j.slice(0,m.sheetRows)),j}function s(f,m){return Jp(r(f,m),m)}function a(f,m){return Jf(s(f,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(f){if(!f||!f["!ref"])return"";for(var m=[],h=[],x,p="",g=Di(f["!ref"]),j=Array.isArray(f),y=g.s.r;y<=g.e.r;++y)for(var w=g.s.c;w<=g.e.c;++w)if(p=Ir({r:y,c:w}),x=j?(f[y]||[])[w]:f[p],!(!x||x.v==null||x.t==="z")){switch(h=["cell",p,"t"],x.t){case"s":case"str":h.push(t(x.v));break;case"n":x.f?(h[2]="vtf",h[3]="n",h[4]=x.v,h[5]=t(x.f)):(h[2]="v",h[3]=x.v);break;case"b":h[2]="vt"+(x.f?"f":"c"),h[3]="nl",h[4]=x.v?"1":"0",h[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var b=Ja(Na(x.v));h[2]="vtc",h[3]="nd",h[4]=""+b,h[5]=x.w||au(x.z||Cn[14],b);break;case"e":continue}m.push(h.join(":"))}return m.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function u(f){return[i,o,l,o,d(f),c].join(`
`)}return{to_workbook:a,to_sheet:s,from_sheet:u}}(),tKe=function(){function e(u,f,m,h,x){x.raw?f[m][h]=u:u===""||(u==="TRUE"?f[m][h]=!0:u==="FALSE"?f[m][h]=!1:isNaN(Cc(u))?isNaN(tv(u).getDate())?f[m][h]=u:f[m][h]=Na(u):f[m][h]=Cc(u))}function t(u,f){var m=f||{},h=[];if(!u||u.length===0)return h;for(var x=u.split(/[\r\n]/),p=x.length-1;p>=0&&x[p].length===0;)--p;for(var g=10,j=0,y=0;y<=p;++y)j=x[y].indexOf(" "),j==-1?j=x[y].length:j++,g=Math.max(g,j);for(y=0;y<=p;++y){h[y]=[];var w=0;for(e(x[y].slice(0,g).trim(),h,y,w,m),w=1;w<=(x[y].length-g)/10+1;++w)e(x[y].slice(g+(w-1)*10,g+w*10).trim(),h,y,w,m)}return m.sheetRows&&(h=h.slice(0,m.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function a(u){for(var f={},m=!1,h=0,x=0;h<u.length;++h)(x=u.charCodeAt(h))==34?m=!m:!m&&x in r&&(f[x]=(f[x]||0)+1);x=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&x.push([f[h],h]);if(!x.length){f=s;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&x.push([f[h],h])}return x.sort(function(p,g){return p[0]-g[0]||s[p[1]]-s[g[1]]}),r[x.pop()[1]]||44}function i(u,f){var m=f||{},h="",x=m.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=a(u.slice(0,1024)):m&&m.FS?h=m.FS:h=a(u.slice(0,1024));var g=0,j=0,y=0,w=0,b=0,N=h.charCodeAt(0),S=!1,E=0,C=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var A=m.dateNF!=null?gqe(m.dateNF):null;function P(){var R=u.slice(w,b),I={};if(R.charAt(0)=='"'&&R.charAt(R.length-1)=='"'&&(R=R.slice(1,-1).replace(/""/g,'"')),R.length===0)I.t="z";else if(m.raw)I.t="s",I.v=R;else if(R.trim().length===0)I.t="s",I.v=R;else if(R.charCodeAt(0)==61)R.charCodeAt(1)==34&&R.charCodeAt(R.length-1)==34?(I.t="s",I.v=R.slice(2,-1).replace(/""/g,'"')):JKe(R)?(I.t="n",I.f=R.slice(1)):(I.t="s",I.v=R);else if(R=="TRUE")I.t="b",I.v=!0;else if(R=="FALSE")I.t="b",I.v=!1;else if(!isNaN(y=Cc(R)))I.t="n",m.cellText!==!1&&(I.w=R),I.v=y;else if(!isNaN(tv(R).getDate())||A&&R.match(A)){I.z=m.dateNF||Cn[14];var z=0;A&&R.match(A)&&(R=vqe(R,m.dateNF,R.match(A)||[]),z=1),m.cellDates?(I.t="d",I.v=Na(R,z)):(I.t="n",I.v=Ja(Na(R,z))),m.cellText!==!1&&(I.w=au(I.z,I.v instanceof Date?Ja(I.v):I.v)),m.cellNF||delete I.z}else I.t="s",I.v=R;if(I.t=="z"||(m.dense?(x[g]||(x[g]=[]),x[g][j]=I):x[Ir({c:j,r:g})]=I),w=b+1,C=u.charCodeAt(w),p.e.c<j&&(p.e.c=j),p.e.r<g&&(p.e.r=g),E==N)++j;else if(j=0,++g,m.sheetRows&&m.sheetRows<=g)return!0}e:for(;b<u.length;++b)switch(E=u.charCodeAt(b)){case 34:C===34&&(S=!S);break;case N:case 10:case 13:if(!S&&P())break e;break}return b-w>0&&P(),x["!ref"]=Hn(p),x}function o(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):Jp(t(u,f),f)}function l(u,f){var m="",h=f.type=="string"?[0,0,0,0]:mJe(u,f);switch(f.type){case"base64":m=zc(u);break;case"binary":m=u;break;case"buffer":f.codepage==65001?m=u.toString("utf8"):f.codepage&&typeof $u<"u"?m=$u.utils.decode(f.codepage,u):m=yr&&Buffer.isBuffer(u)?u.toString("binary"):iy(u);break;case"array":m=U2(u);break;case"string":m=u;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?m=_g(m.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?m=_g(m):f.type=="binary"&&typeof $u<"u"&&f.codepage&&(m=$u.utils.decode(f.codepage,$u.utils.encode(28591,m))),m.slice(0,19)=="socialcalc:version:"?WZ.to_sheet(f.type=="string"?m:_g(m),f):o(m,f)}function c(u,f){return Jf(l(u,f),f)}function d(u){for(var f=[],m=tn(u["!ref"]),h,x=Array.isArray(u),p=m.s.r;p<=m.e.r;++p){for(var g=[],j=m.s.c;j<=m.e.c;++j){var y=Ir({r:p,c:j});if(h=x?(u[p]||[])[j]:u[y],!h||h.v==null){g.push("          ");continue}for(var w=(h.w||(Wc(h),h.w)||"").slice(0,10);w.length<10;)w+=" ";g.push(w+(j===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}}(),bL=function(){function e(D,W,F){if(D){hi(D,D.l||0);for(var q=F.Enum||ie;D.l<D.length;){var le=D.read_shift(2),fe=q[le]||q[65535],B=D.read_shift(2),K=D.l+B,se=fe.f&&fe.f(D,B,F);if(D.l=K,W(se,fe,le))return}}}function t(D,W){switch(W.type){case"base64":return r(Bo(zc(D)),W);case"binary":return r(Bo(D),W);case"buffer":case"array":return r(D,W)}throw"Unsupported type "+W.type}function r(D,W){if(!D)return D;var F=W||{},q=F.dense?[]:{},le="Sheet1",fe="",B=0,K={},se=[],Ne=[],ue={s:{r:0,c:0},e:{r:0,c:0}},ge=F.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)F.Enum=ie,e(D,function(Oe,te,he){switch(he){case 0:F.vers=Oe,Oe>=4096&&(F.qpro=!0);break;case 6:ue=Oe;break;case 204:Oe&&(fe=Oe);break;case 222:fe=Oe;break;case 15:case 51:F.qpro||(Oe[1].v=Oe[1].v.slice(1));case 13:case 14:case 16:he==14&&(Oe[2]&112)==112&&(Oe[2]&15)>1&&(Oe[2]&15)<15&&(Oe[1].z=F.dateNF||Cn[14],F.cellDates&&(Oe[1].t="d",Oe[1].v=oZ(Oe[1].v))),F.qpro&&Oe[3]>B&&(q["!ref"]=Hn(ue),K[le]=q,se.push(le),q=F.dense?[]:{},ue={s:{r:0,c:0},e:{r:0,c:0}},B=Oe[3],le=fe||"Sheet"+(B+1),fe="");var oe=F.dense?(q[Oe[0].r]||[])[Oe[0].c]:q[Ir(Oe[0])];if(oe){oe.t=Oe[1].t,oe.v=Oe[1].v,Oe[1].z!=null&&(oe.z=Oe[1].z),Oe[1].f!=null&&(oe.f=Oe[1].f);break}F.dense?(q[Oe[0].r]||(q[Oe[0].r]=[]),q[Oe[0].r][Oe[0].c]=Oe[1]):q[Ir(Oe[0])]=Oe[1];break}},F);else if(D[2]==26||D[2]==14)F.Enum=ce,D[2]==14&&(F.qpro=!0,D.l=0),e(D,function(Oe,te,he){switch(he){case 204:le=Oe;break;case 22:Oe[1].v=Oe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Oe[3]>B&&(q["!ref"]=Hn(ue),K[le]=q,se.push(le),q=F.dense?[]:{},ue={s:{r:0,c:0},e:{r:0,c:0}},B=Oe[3],le="Sheet"+(B+1)),ge>0&&Oe[0].r>=ge)break;F.dense?(q[Oe[0].r]||(q[Oe[0].r]=[]),q[Oe[0].r][Oe[0].c]=Oe[1]):q[Ir(Oe[0])]=Oe[1],ue.e.c<Oe[0].c&&(ue.e.c=Oe[0].c),ue.e.r<Oe[0].r&&(ue.e.r=Oe[0].r);break;case 27:Oe[14e3]&&(Ne[Oe[14e3][0]]=Oe[14e3][1]);break;case 1537:Ne[Oe[0]]=Oe[1],Oe[0]==B&&(le=Oe[1]);break}},F);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(q["!ref"]=Hn(ue),K[fe||le]=q,se.push(fe||le),!Ne.length)return{SheetNames:se,Sheets:K};for(var xe={},Se=[],Me=0;Me<Ne.length;++Me)K[se[Me]]?(Se.push(Ne[Me]||se[Me]),xe[Ne[Me]]=K[Ne[Me]]||K[se[Me]]):(Se.push(Ne[Me]),xe[Ne[Me]]={"!ref":"A1"});return{SheetNames:Se,Sheets:xe}}function s(D,W){var F=W||{};if(+F.codepage>=0&&J0(+F.codepage),F.type=="string")throw new Error("Cannot write WK1 to JS string");var q=Xa(),le=tn(D["!ref"]),fe=Array.isArray(D),B=[];tt(q,0,i(1030)),tt(q,6,c(le));for(var K=Math.min(le.e.r,8191),se=le.s.r;se<=K;++se)for(var Ne=Ls(se),ue=le.s.c;ue<=le.e.c;++ue){se===le.s.r&&(B[ue]=ra(ue));var ge=B[ue]+Ne,xe=fe?(D[se]||[])[ue]:D[ge];if(!(!xe||xe.t=="z"))if(xe.t=="n")(xe.v|0)==xe.v&&xe.v>=-32768&&xe.v<=32767?tt(q,13,h(se,ue,xe.v)):tt(q,14,p(se,ue,xe.v));else{var Se=Wc(xe);tt(q,15,f(se,ue,Se.slice(0,239)))}}return tt(q,1),q.end()}function a(D,W){var F=W||{};if(+F.codepage>=0&&J0(+F.codepage),F.type=="string")throw new Error("Cannot write WK3 to JS string");var q=Xa();tt(q,0,o(D));for(var le=0,fe=0;le<D.SheetNames.length;++le)(D.Sheets[D.SheetNames[le]]||{})["!ref"]&&tt(q,27,M(D.SheetNames[le],fe++));var B=0;for(le=0;le<D.SheetNames.length;++le){var K=D.Sheets[D.SheetNames[le]];if(!(!K||!K["!ref"])){for(var se=tn(K["!ref"]),Ne=Array.isArray(K),ue=[],ge=Math.min(se.e.r,8191),xe=se.s.r;xe<=ge;++xe)for(var Se=Ls(xe),Me=se.s.c;Me<=se.e.c;++Me){xe===se.s.r&&(ue[Me]=ra(Me));var Oe=ue[Me]+Se,te=Ne?(K[xe]||[])[Me]:K[Oe];if(!(!te||te.t=="z"))if(te.t=="n")tt(q,23,P(xe,Me,B,te.v));else{var he=Wc(te);tt(q,22,E(xe,Me,B,he.slice(0,239)))}}++B}}return tt(q,1),q.end()}function i(D){var W=Fe(2);return W.write_shift(2,D),W}function o(D){var W=Fe(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var F=0,q=0,le=0,fe=0;fe<D.SheetNames.length;++fe){var B=D.SheetNames[fe],K=D.Sheets[B];if(!(!K||!K["!ref"])){++le;var se=Di(K["!ref"]);F<se.e.r&&(F=se.e.r),q<se.e.c&&(q=se.e.c)}}return F>8191&&(F=8191),W.write_shift(2,F),W.write_shift(1,le),W.write_shift(1,q),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function l(D,W,F){var q={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&F.qpro?(q.s.c=D.read_shift(1),D.l++,q.s.r=D.read_shift(2),q.e.c=D.read_shift(1),D.l++,q.e.r=D.read_shift(2),q):(q.s.c=D.read_shift(2),q.s.r=D.read_shift(2),W==12&&F.qpro&&(D.l+=2),q.e.c=D.read_shift(2),q.e.r=D.read_shift(2),W==12&&F.qpro&&(D.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function c(D){var W=Fe(8);return W.write_shift(2,D.s.c),W.write_shift(2,D.s.r),W.write_shift(2,D.e.c),W.write_shift(2,D.e.r),W}function d(D,W,F){var q=[{c:0,r:0},{t:"n",v:0},0,0];return F.qpro&&F.vers!=20768?(q[0].c=D.read_shift(1),q[3]=D.read_shift(1),q[0].r=D.read_shift(2),D.l+=2):(q[2]=D.read_shift(1),q[0].c=D.read_shift(2),q[0].r=D.read_shift(2)),q}function u(D,W,F){var q=D.l+W,le=d(D,W,F);if(le[1].t="s",F.vers==20768){D.l++;var fe=D.read_shift(1);return le[1].v=D.read_shift(fe,"utf8"),le}return F.qpro&&D.l++,le[1].v=D.read_shift(q-D.l,"cstr"),le}function f(D,W,F){var q=Fe(7+F.length);q.write_shift(1,255),q.write_shift(2,W),q.write_shift(2,D),q.write_shift(1,39);for(var le=0;le<q.length;++le){var fe=F.charCodeAt(le);q.write_shift(1,fe>=128?95:fe)}return q.write_shift(1,0),q}function m(D,W,F){var q=d(D,W,F);return q[1].v=D.read_shift(2,"i"),q}function h(D,W,F){var q=Fe(7);return q.write_shift(1,255),q.write_shift(2,W),q.write_shift(2,D),q.write_shift(2,F,"i"),q}function x(D,W,F){var q=d(D,W,F);return q[1].v=D.read_shift(8,"f"),q}function p(D,W,F){var q=Fe(13);return q.write_shift(1,255),q.write_shift(2,W),q.write_shift(2,D),q.write_shift(8,F,"f"),q}function g(D,W,F){var q=D.l+W,le=d(D,W,F);if(le[1].v=D.read_shift(8,"f"),F.qpro)D.l=q;else{var fe=D.read_shift(2);b(D.slice(D.l,D.l+fe),le),D.l+=fe}return le}function j(D,W,F){var q=W&32768;return W&=-32769,W=(q?D:0)+(W>=8192?W-16384:W),(q?"":"$")+(F?ra(W):Ls(W))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function b(D,W){hi(D,0);for(var F=[],q=0,le="",fe="",B="",K="";D.l<D.length;){var se=D[D.l++];switch(se){case 0:F.push(D.read_shift(8,"f"));break;case 1:fe=j(W[0].c,D.read_shift(2),!0),le=j(W[0].r,D.read_shift(2),!1),F.push(fe+le);break;case 2:{var Ne=j(W[0].c,D.read_shift(2),!0),ue=j(W[0].r,D.read_shift(2),!1);fe=j(W[0].c,D.read_shift(2),!0),le=j(W[0].r,D.read_shift(2),!1),F.push(Ne+ue+":"+fe+le)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:F.push("("+F.pop()+")");break;case 5:F.push(D.read_shift(2));break;case 6:{for(var ge="";se=D[D.l++];)ge+=String.fromCharCode(se);F.push('"'+ge.replace(/"/g,'""')+'"')}break;case 8:F.push("-"+F.pop());break;case 23:F.push("+"+F.pop());break;case 22:F.push("NOT("+F.pop()+")");break;case 20:case 21:K=F.pop(),B=F.pop(),F.push(["AND","OR"][se-20]+"("+B+","+K+")");break;default:if(se<32&&w[se])K=F.pop(),B=F.pop(),F.push(B+w[se]+K);else if(y[se]){if(q=y[se][1],q==69&&(q=D[D.l++]),q>F.length){console.error("WK1 bad formula parse 0x"+se.toString(16)+":|"+F.join("|")+"|");return}var xe=F.slice(-q);F.length-=q,F.push(y[se][0]+"("+xe.join(",")+")")}else return se<=7?console.error("WK1 invalid opcode "+se.toString(16)):se<=24?console.error("WK1 unsupported op "+se.toString(16)):se<=30?console.error("WK1 invalid opcode "+se.toString(16)):se<=115?console.error("WK1 unsupported function opcode "+se.toString(16)):console.error("WK1 unrecognized opcode "+se.toString(16))}}F.length==1?W[1].f=""+F[0]:console.error("WK1 bad formula parse |"+F.join("|")+"|")}function N(D){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=D.read_shift(2),W[3]=D[D.l++],W[0].c=D[D.l++],W}function S(D,W){var F=N(D);return F[1].t="s",F[1].v=D.read_shift(W-4,"cstr"),F}function E(D,W,F,q){var le=Fe(6+q.length);le.write_shift(2,D),le.write_shift(1,F),le.write_shift(1,W),le.write_shift(1,39);for(var fe=0;fe<q.length;++fe){var B=q.charCodeAt(fe);le.write_shift(1,B>=128?95:B)}return le.write_shift(1,0),le}function C(D,W){var F=N(D);F[1].v=D.read_shift(2);var q=F[1].v>>1;if(F[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return F[1].v=q,F}function A(D,W){var F=N(D),q=D.read_shift(4),le=D.read_shift(4),fe=D.read_shift(2);if(fe==65535)return q===0&&le===3221225472?(F[1].t="e",F[1].v=15):q===0&&le===3489660928?(F[1].t="e",F[1].v=42):F[1].v=0,F;var B=fe&32768;return fe=(fe&32767)-16446,F[1].v=(1-B*2)*(le*Math.pow(2,fe+32)+q*Math.pow(2,fe)),F}function P(D,W,F,q){var le=Fe(14);if(le.write_shift(2,D),le.write_shift(1,F),le.write_shift(1,W),q==0)return le.write_shift(4,0),le.write_shift(4,0),le.write_shift(2,65535),le;var fe=0,B=0,K=0,se=0;return q<0&&(fe=1,q=-q),B=Math.log2(q)|0,q/=Math.pow(2,B-31),se=q>>>0,se&2147483648||(q/=2,++B,se=q>>>0),q-=se,se|=2147483648,se>>>=0,q*=Math.pow(2,32),K=q>>>0,le.write_shift(4,K),le.write_shift(4,se),B+=16383+(fe?32768:0),le.write_shift(2,B),le}function R(D,W){var F=A(D);return D.l+=W-14,F}function I(D,W){var F=N(D),q=D.read_shift(4);return F[1].v=q>>6,F}function z(D,W){var F=N(D),q=D.read_shift(8,"f");return F[1].v=q,F}function U(D,W){var F=z(D);return D.l+=W-10,F}function L(D,W){return D[D.l+W-1]==0?D.read_shift(W,"cstr"):""}function T(D,W){var F=D[D.l++];F>W-1&&(F=W-1);for(var q="";q.length<F;)q+=String.fromCharCode(D[D.l++]);return q}function k(D,W,F){if(!(!F.qpro||W<21)){var q=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var le=D.read_shift(W-21,"cstr");return[q,le]}}function O(D,W){for(var F={},q=D.l+W;D.l<q;){var le=D.read_shift(2);if(le==14e3){for(F[le]=[0,""],F[le][0]=D.read_shift(2);D[D.l];)F[le][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return F}function M(D,W){var F=Fe(5+D.length);F.write_shift(2,14e3),F.write_shift(2,W);for(var q=0;q<D.length;++q){var le=D.charCodeAt(q);F[F.l++]=le>127?95:le}return F[F.l++]=0,F}var ie={0:{n:"BOF",f:LZ},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:L},222:{n:"SHEETNAMELP",f:T},65535:{n:""}},ce={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:R},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:O},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:I},38:{n:"??"},39:{n:"NUMBER27",f:z},40:{n:"FORMULA28",f:U},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:L},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:k},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:a,to_workbook:t}}(),rKe=/^\s|\s$|[\t\n\r]/;function HZ(e,t){if(!t.bookSST)return"";var r=[Gn];r[r.length]=et("sst",null,{xmlns:Zp[0],count:e.Count,uniqueCount:e.Unique});for(var s=0;s!=e.length;++s)if(e[s]!=null){var a=e[s],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(rKe)&&(i+=' xml:space="preserve"'),i+=">"+Or(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function nKe(e){return[e.read_shift(4),e.read_shift(4)]}function sKe(e,t){return t||(t=Fe(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var aKe=Yqe;function iKe(e){var t=Xa();We(t,159,sKe(e));for(var r=0;r<e.length;++r)We(t,19,aKe(e[r]));return We(t,160),t.end()}function oKe(e){for(var t=[],r=e.split(""),s=0;s<r.length;++s)t[s]=r[s].charCodeAt(0);return t}function qZ(e){var t=0,r,s=oKe(e),a=s.length+1,i,o,l,c,d;for(r=$f(a),r[0]=s.length,i=1;i!=a;++i)r[i]=s[i-1];for(i=a-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,d=l|c,t=d^o;return t^52811}var lKe=function(){function e(a,i){switch(i.type){case"base64":return t(zc(a),i);case"binary":return t(a,i);case"buffer":return t(yr&&Buffer.isBuffer(a)?a.toString("binary"):iy(a),i);case"array":return t(U2(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,f){Array.isArray(l)&&(l[f]=[]);for(var m=/\\\w+\b/g,h=0,x,p=-1;x=m.exec(u);){switch(x[0]){case"\\cell":var g=u.slice(h,m.lastIndex-x[0].length);if(g[0]==" "&&(g=g.slice(1)),++p,g.length){var j={v:g,t:"s"};Array.isArray(l)?l[f][p]=j:l[Ir({r:f,c:p})]=j}break}h=m.lastIndex}p>d.e.c&&(d.e.c=p)}),l["!ref"]=Hn(d),l}function r(a,i){return Jf(e(a,i),i)}function s(a){for(var i=["{\\rtf1\\ansi"],o=tn(a["!ref"]),l,c=Array.isArray(a),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var f=Ir({r:d,c:u});l=c?(a[d]||[])[u]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Wc(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:s}}();function wL(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var cKe=6,Ec=cKe;function Cw(e){return Math.floor((e+Math.round(128/Ec)/256)*Ec)}function Ew(e){return Math.floor((e-5)/Ec*100+.5)/100}function ZA(e){return Math.round((e*Ec+5)/Ec*256)/256}function P3(e){e.width?(e.wpx=Cw(e.width),e.wch=Ew(e.wpx),e.MDW=Ec):e.wpx?(e.wch=Ew(e.wpx),e.width=ZA(e.wch),e.MDW=Ec):typeof e.wch=="number"&&(e.width=ZA(e.wch),e.wpx=Cw(e.width),e.MDW=Ec),e.customWidth&&delete e.customWidth}var dKe=96,GZ=dKe;function Aw(e){return e*96/GZ}function KZ(e){return e*GZ/96}function uKe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&(t[t.length]=et("numFmt",null,{numFmtId:s,formatCode:Or(e[s])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=et("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function fKe(e){var t=[];return t[t.length]=et("cellXfs",null),e.forEach(function(r){t[t.length]=et("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=et("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function YZ(e,t){var r=[Gn,et("styleSheet",null,{xmlns:Zp[0],"xmlns:vt":hs.vt})],s;return e.SSF&&(s=uKe(e.SSF))!=null&&(r[r.length]=s),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(s=fKe(t.cellXfs))&&(r[r.length]=s),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function mKe(e,t){var r=e.read_shift(2),s=na(e);return[r,s]}function hKe(e,t,r){r||(r=Fe(6+4*t.length)),r.write_shift(2,e),xs(t,r);var s=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),s}function pKe(e,t,r){var s={};s.sz=e.read_shift(2)/20;var a=rGe(e);a.fItalic&&(s.italic=1),a.fCondense&&(s.condense=1),a.fExtend&&(s.extend=1),a.fShadow&&(s.shadow=1),a.fOutline&&(s.outline=1),a.fStrikeout&&(s.strike=1);var i=e.read_shift(2);switch(i===700&&(s.bold=1),e.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(s.underline=o);var l=e.read_shift(1);l>0&&(s.family=l);var c=e.read_shift(1);switch(c>0&&(s.charset=c),e.l++,s.color=tGe(e),e.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=na(e),s}function xKe(e,t){t||(t=Fe(25+4*32)),t.write_shift(2,e.sz*20),nGe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),_w(e.color,t);var s=0;return e.scheme=="major"&&(s=1),e.scheme=="minor"&&(s=2),t.write_shift(1,s),xs(e.name,t),t.length>t.l?t.slice(0,t.l):t}var gKe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],QS,vKe=Wl;function NL(e,t){t||(t=Fe(4*3+8*7+16*1)),QS||(QS=v3(gKe));var r=QS[e.patternType];r==null&&(r=40),t.write_shift(4,r);var s=0;if(r!=40)for(_w({auto:1},t),_w({auto:1},t);s<12;++s)t.write_shift(4,0);else{for(;s<4;++s)t.write_shift(4,0);for(;s<12;++s)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function yKe(e,t){var r=e.l+t,s=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:s,numFmtId:a}}function XZ(e,t,r){r||(r=Fe(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var s=0;return r.write_shift(1,s),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Fx(e,t){return t||(t=Fe(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var jKe=Wl;function bKe(e,t){return t||(t=Fe(51)),t.write_shift(1,0),Fx(null,t),Fx(null,t),Fx(null,t),Fx(null,t),Fx(null,t),t.length>t.l?t.slice(0,t.l):t}function wKe(e,t){return t||(t=Fe(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Nw(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function NKe(e,t,r){var s=Fe(2052);return s.write_shift(4,e),Nw(t,s),Nw(r,s),s.length>s.l?s.slice(0,s.l):s}function _Ke(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&++r}),r!=0&&(We(e,615,Yo(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&We(e,44,hKe(a,t[a]))}),We(e,616))}}function SKe(e){var t=1;We(e,611,Yo(t)),We(e,43,xKe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),We(e,612)}function CKe(e){var t=2;We(e,603,Yo(t)),We(e,45,NL({patternType:"none"})),We(e,45,NL({patternType:"gray125"})),We(e,604)}function EKe(e){var t=1;We(e,613,Yo(t)),We(e,46,bKe()),We(e,614)}function AKe(e){var t=1;We(e,626,Yo(t)),We(e,47,XZ({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),We(e,627)}function kKe(e,t){We(e,617,Yo(t.length)),t.forEach(function(r){We(e,47,XZ(r,0))}),We(e,618)}function PKe(e){var t=1;We(e,619,Yo(t)),We(e,48,wKe({xfId:0,builtinId:0,name:"Normal"})),We(e,620)}function TKe(e){var t=0;We(e,505,Yo(t)),We(e,506)}function OKe(e){var t=0;We(e,508,NKe(t,"TableStyleMedium9","PivotStyleMedium4")),We(e,509)}function DKe(e,t){var r=Xa();return We(r,278),_Ke(r,e.SSF),SKe(r),CKe(r),EKe(r),AKe(r),kKe(r,t.cellXfs),PKe(r),TKe(r),OKe(r),We(r,279),r.end()}function QZ(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Gn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function IKe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:na(e)}}function RKe(e){var t=Fe(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),xs(e.name,t),t.slice(0,t.l)}function MKe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function FKe(e){var t=Fe(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function $Ke(e,t){var r=Fe(8+2*t.length);return r.write_shift(4,e),xs(t,r),r.slice(0,r.l)}function LKe(e){return e.l+=4,e.read_shift(4)!=0}function BKe(e,t){var r=Fe(8);return r.write_shift(4,e),r.write_shift(4,1),r}function UKe(){var e=Xa();return We(e,332),We(e,334,Yo(1)),We(e,335,RKe({name:"XLDAPR",version:12e4,flags:3496657072})),We(e,336),We(e,339,$Ke(1,"XLDAPR")),We(e,52),We(e,35,Yo(514)),We(e,4096,Yo(0)),We(e,4097,Yi(1)),We(e,36),We(e,53),We(e,340),We(e,337,BKe(1)),We(e,51,FKe([[1,0]])),We(e,338),We(e,333),e.end()}function ZZ(){var e=[Gn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function VKe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Ir(r);var s=e.read_shift(1);return s&2&&(t.l="1"),s&8&&(t.a="1"),t}var Bm=1024;function JZ(e,t){for(var r=[21600,21600],s=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[et("xml",null,{"xmlns:v":xi.v,"xmlns:o":xi.o,"xmlns:x":xi.x,"xmlns:mv":xi.mv}).replace(/\/>/,">"),et("o:shapelayout",et("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),et("v:shapetype",[et("v:stroke",null,{joinstyle:"miter"}),et("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:s})];Bm<e*1e3;)Bm+=1e3;return t.forEach(function(i){var o=ps(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?et("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=et("v:fill",c,l),u={on:"t",obscured:"t"};++Bm,a=a.concat(["<v:shape"+nv({id:"_x0000_s"+Bm,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,et("v:shadow",null,u),et("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ds("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Ds("x:AutoFill","False"),Ds("x:Row",String(o.r)),Ds("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function eJ(e){var t=[Gn,et("comments",null,{xmlns:Zp[0]})],r=[];return t.push("<authors>"),e.forEach(function(s){s[1].forEach(function(a){var i=Or(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(s){var a=0,i=[];if(s[1][0]&&s[1][0].T&&s[1][0].ID?a=r.indexOf("tc="+s[1][0].ID):s[1].forEach(function(c){c.a&&(a=r.indexOf(Or(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+s[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Ds("t",Or(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(Ds("t",Or(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function zKe(e,t,r){var s=[Gn,et("ThreadedComments",null,{xmlns:hs.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),s.push(et("threadedComment",Ds("text",o.t||""),c))})}),s.push("</ThreadedComments>"),s.join("")}function WKe(e){var t=[Gn,et("personList",null,{xmlns:hs.TCMNT,"xmlns:x":Zp[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,s){t.push(et("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+s).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function HKe(e){var t={};t.iauthor=e.read_shift(4);var r=nm(e);return t.rfx=r.s,t.ref=Ir(r.s),e.l+=16,t}function qKe(e,t){return t==null&&(t=Fe(36)),t.write_shift(4,e[1].iauthor),ex(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var GKe=na;function KKe(e){return xs(e.slice(0,54))}function YKe(e){var t=Xa(),r=[];return We(t,628),We(t,630),e.forEach(function(s){s[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),We(t,632,KKe(a.a)))})}),We(t,631),We(t,633),e.forEach(function(s){s[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:ps(s[0]),e:ps(s[0])};We(t,635,qKe([i,a])),a.t&&a.t.length>0&&We(t,637,Qqe(a)),We(t,636),delete a.iauthor})}),We(t,634),We(t,629),t.end()}function XKe(e,t){t.FullPaths.forEach(function(r,s){if(s!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&$r.utils.cfb_add(e,a,t.FileIndex[s].content)}})}var tJ=["xlsb","xlsm","xlam","biff8","xla"],QKe=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(s,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return l?u+=t.c:--u,c?d+=t.r:--d,a+(l?"":"$")+ra(u)+(c?"":"$")+Ls(d)}return function(a,i){return t=i,a.replace(e,r)}}(),T3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,O3=function(){return function(t,r){return t.replace(T3,function(s,a,i,o,l,c){var d=S3(o)-(i?0:r.c),u=_3(c)-(l?0:r.r),f=u==0?"":l?u+1:"["+u+"]",m=d==0?"":i?d+1:"["+d+"]";return a+"R"+f+"C"+m})}}();function ZKe(e,t){return e.replace(T3,function(r,s,a,i,o,l){return s+(a=="$"?a+i:ra(S3(i)+t.c))+(o=="$"?o+l:Ls(_3(l)+t.r))})}function JKe(e){return e.length!=1}function Un(e){e.l+=1}function iu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function rJ(e,t,r){var s=2;if(r){if(r.biff>=2&&r.biff<=5)return nJ(e);r.biff==12&&(s=4)}var a=e.read_shift(s),i=e.read_shift(s),o=iu(e),l=iu(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function nJ(e){var t=iu(e),r=iu(e),s=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:s,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function eYe(e,t,r){if(r.biff<8)return nJ(e);var s=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=iu(e),o=iu(e);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function sJ(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return tYe(e);var s=e.read_shift(r&&r.biff==12?4:2),a=iu(e);return{r:s,c:a[0],cRel:a[1],rRel:a[2]}}function tYe(e){var t=iu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function rYe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function nYe(e,t,r){var s=r&&r.biff?r.biff:8;if(s>=2&&s<=5)return sYe(e);var a=e.read_shift(s>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function sYe(e){var t=e.read_shift(2),r=e.read_shift(1),s=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,s==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:s}}function aYe(e,t,r){var s=(e[e.l++]&96)>>5,a=rJ(e,r.biff>=2&&r.biff<=5?6:8,r);return[s,a]}function iYe(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=rJ(e,i,r);return[s,a,o]}function oYe(e,t,r){var s=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[s]}function lYe(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[s,a]}function cYe(e,t,r){var s=(e[e.l++]&96)>>5,a=eYe(e,t-1,r);return[s,a]}function dYe(e,t,r){var s=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[s]}function _L(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function uYe(e,t,r){e.l+=2;for(var s=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=s;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function fYe(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(r&&r.biff==2?1:2)]}function mYe(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(r&&r.biff==2?1:2)]}function hYe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function pYe(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[s]}function aJ(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function xYe(e){return e.read_shift(2),aJ(e)}function gYe(e){return e.read_shift(2),aJ(e)}function vYe(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=sJ(e,0,r);return[s,a]}function yYe(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=nYe(e,0,r);return[s,a]}function jYe(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=sJ(e,0,r);return[s,a,i]}function bYe(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[bXe[a],lJ[a],s]}function wYe(e,t,r){var s=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[s==88?-1:0,e.read_shift(1)]:NYe(e);return[a,(i[0]===0?lJ:jXe)[i[1]]]}function NYe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function _Ye(e,t,r){e.l+=r&&r.biff==2?3:4}function SYe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var s=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function CYe(e){return e.l++,cy[e.read_shift(1)]}function EYe(e){return e.l++,e.read_shift(2)}function AYe(e){return e.l++,e.read_shift(1)!==0}function kYe(e){return e.l++,tx(e)}function PYe(e,t,r){return e.l++,UZ(e,t-1,r)}function TYe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=jGe(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=cy[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=tx(e);break;case 2:r[1]=_Ge(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function OYe(e,t,r){for(var s=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=s;++i)a.push((r.biff==12?nm:EGe)(e));return a}function DYe(e,t,r){var s=0,a=0;r.biff==12?(s=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),s=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--s,--a==0&&(a=256));for(var i=0,o=[];i!=s&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=TYe(e,r.biff);return o}function IYe(e,t,r){var s=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[s,0,i]}function RYe(e,t,r){if(r.biff==5)return MYe(e);var s=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[s,a,i]}function MYe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var s=e.read_shift(2);return e.l+=12,[t,r,s]}function FYe(e,t,r){var s=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function $Ye(e,t,r){var s=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function LYe(e,t,r){var s=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[s]}function BYe(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[s,a]}var UYe=Wl,VYe=Wl,zYe=Wl;function dy(e,t,r){return e.l+=2,[rYe(e)]}function D3(e){return e.l+=6,[]}var WYe=dy,HYe=D3,qYe=D3,GYe=dy;function iJ(e){return e.l+=2,[LZ(e),e.read_shift(2)&1]}var KYe=dy,YYe=iJ,XYe=D3,QYe=dy,ZYe=dy,JYe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function eXe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=JYe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:s,c:a,C:i}}function tXe(e){return e.l+=2,[e.read_shift(4)]}function rXe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function nXe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function sXe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function aXe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function iXe(e){return e.l+=4,[0,0]}var SL={1:{n:"PtgExp",f:SYe},2:{n:"PtgTbl",f:zYe},3:{n:"PtgAdd",f:Un},4:{n:"PtgSub",f:Un},5:{n:"PtgMul",f:Un},6:{n:"PtgDiv",f:Un},7:{n:"PtgPower",f:Un},8:{n:"PtgConcat",f:Un},9:{n:"PtgLt",f:Un},10:{n:"PtgLe",f:Un},11:{n:"PtgEq",f:Un},12:{n:"PtgGe",f:Un},13:{n:"PtgGt",f:Un},14:{n:"PtgNe",f:Un},15:{n:"PtgIsect",f:Un},16:{n:"PtgUnion",f:Un},17:{n:"PtgRange",f:Un},18:{n:"PtgUplus",f:Un},19:{n:"PtgUminus",f:Un},20:{n:"PtgPercent",f:Un},21:{n:"PtgParen",f:Un},22:{n:"PtgMissArg",f:Un},23:{n:"PtgStr",f:PYe},26:{n:"PtgSheet",f:rXe},27:{n:"PtgEndSheet",f:nXe},28:{n:"PtgErr",f:CYe},29:{n:"PtgBool",f:AYe},30:{n:"PtgInt",f:EYe},31:{n:"PtgNum",f:kYe},32:{n:"PtgArray",f:dYe},33:{n:"PtgFunc",f:bYe},34:{n:"PtgFuncVar",f:wYe},35:{n:"PtgName",f:IYe},36:{n:"PtgRef",f:vYe},37:{n:"PtgArea",f:aYe},38:{n:"PtgMemArea",f:FYe},39:{n:"PtgMemErr",f:UYe},40:{n:"PtgMemNoMem",f:VYe},41:{n:"PtgMemFunc",f:$Ye},42:{n:"PtgRefErr",f:LYe},43:{n:"PtgAreaErr",f:oYe},44:{n:"PtgRefN",f:yYe},45:{n:"PtgAreaN",f:cYe},46:{n:"PtgMemAreaN",f:sXe},47:{n:"PtgMemNoMemN",f:aXe},57:{n:"PtgNameX",f:RYe},58:{n:"PtgRef3d",f:jYe},59:{n:"PtgArea3d",f:iYe},60:{n:"PtgRefErr3d",f:BYe},61:{n:"PtgAreaErr3d",f:lYe},255:{}},oXe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},lXe={1:{n:"PtgElfLel",f:iJ},2:{n:"PtgElfRw",f:QYe},3:{n:"PtgElfCol",f:WYe},6:{n:"PtgElfRwV",f:ZYe},7:{n:"PtgElfColV",f:GYe},10:{n:"PtgElfRadical",f:KYe},11:{n:"PtgElfRadicalS",f:XYe},13:{n:"PtgElfColS",f:HYe},15:{n:"PtgElfColSV",f:qYe},16:{n:"PtgElfRadicalLel",f:YYe},25:{n:"PtgList",f:eXe},29:{n:"PtgSxName",f:tXe},255:{}},cXe={0:{n:"PtgAttrNoop",f:iXe},1:{n:"PtgAttrSemi",f:pYe},2:{n:"PtgAttrIf",f:mYe},4:{n:"PtgAttrChoose",f:uYe},8:{n:"PtgAttrGoto",f:fYe},16:{n:"PtgAttrSum",f:_Ye},32:{n:"PtgAttrBaxcel",f:_L},33:{n:"PtgAttrBaxcel",f:_L},64:{n:"PtgAttrSpace",f:xYe},65:{n:"PtgAttrSpaceSemi",f:gYe},128:{n:"PtgAttrIfError",f:hYe},255:{}};function dXe(e,t,r,s){if(s.biff<8)return Wl(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=DYe(e,0,s),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=OYe(e,r[o][1],s),i.push(r[o][2]);break;case"PtgExp":s&&s.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(Wl(e,t)),i}function uXe(e,t,r){for(var s=e.l+t,a,i,o=[];s!=e.l;)t=s-e.l,i=e[e.l],a=SL[i]||SL[oXe[i]],(i===24||i===25)&&(a=(i===24?lXe:cXe)[e[e.l+1]]),!a||!a.f?Wl(e,t):o.push([a.n,a.f(e,t,r)]);return o}function fXe(e){for(var t=[],r=0;r<e.length;++r){for(var s=e[r],a=[],i=0;i<s.length;++i){var o=s[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var mXe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function hXe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function oJ(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var s=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!s)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[s[0]][0]){case 357:return a=s[1]==-1?"#REF":e.SheetNames[s[1]],s[1]==s[2]?a:a+":"+e.SheetNames[s[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[s[0]][0];case 355:default:return"SH33TJSSRC"+e[s[0]][0]}switch(e[s[0]][0][0]){case 1025:return a=s[1]==-1?"#REF":e.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?a:a+":"+e.SheetNames[s[2]];case 14849:return e[s[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[s[0]][0][3]?(a=s[1]==-1?"#REF":e[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?a:a+":"+e[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function CL(e,t,r){var s=oJ(e,t,r);return s=="#REF"?s:hXe(s,r)}function pp(e,t,r,s,a){var i=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,d,u,f=0,m=0,h,x="";if(!e[0]||!e[0][0])return"";for(var p=-1,g="",j=0,y=e[0].length;j<y;++j){var w=e[0][j];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),p>=0){switch(e[0][p][1][0]){case 0:g=_n(" ",e[0][p][1][1]);break;case 1:g=_n("\r",e[0][p][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}d=d+g,p=-1}l.push(d+mXe[w[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Cg(w[1][1],o,a),l.push(Eg(u,i));break;case"PtgRefN":u=r?Cg(w[1][1],r,a):w[1][1],l.push(Eg(u,i));break;case"PtgRef3d":f=w[1][1],u=Cg(w[1][2],o,a),x=CL(s,f,a),l.push(x+"!"+Eg(u,i));break;case"PtgFunc":case"PtgFuncVar":var b=w[1][0],N=w[1][1];b||(b=0),b&=127;var S=b==0?[]:l.slice(-b);l.length-=b,N==="User"&&(N=S.shift()),l.push(N+"("+S.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":h=dL(w[1][1],r?{s:r}:o,a),l.push(YS(h,a));break;case"PtgArea":h=dL(w[1][1],o,a),l.push(YS(h,a));break;case"PtgArea3d":f=w[1][1],h=w[1][2],x=CL(s,f,a),l.push(x+"!"+YS(h,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=w[1][2];var E=(s.names||[])[m-1]||(s[0]||[])[m],C=E?E.Name:"SH33TJSNAME"+String(m);C&&C.slice(0,6)=="_xlfn."&&!a.xlfn&&(C=C.slice(6)),l.push(C);break;case"PtgNameX":var A=w[1][1];m=w[1][2];var P;if(a.biff<=5)A<0&&(A=-A),s[A]&&(P=s[A][m]);else{var R="";if(((s[A]||[])[0]||[])[0]==14849||(((s[A]||[])[0]||[])[0]==1025?s[A][m]&&s[A][m].itab>0&&(R=s.SheetNames[s[A][m].itab-1]+"!"):R=s.SheetNames[m-1]+"!"),s[A]&&s[A][m])R+=s[A][m].Name;else if(s[0]&&s[0][m])R+=s[0][m].Name;else{var I=(oJ(s,A,a)||"").split(";;");I[m-1]?R=I[m-1]:R+="SH33TJSERRX"}l.push(R);break}P||(P={Name:"SH33TJSERRY"}),l.push(P.Name);break;case"PtgParen":var z="(",U=")";if(p>=0){switch(g="",e[0][p][1][0]){case 2:z=_n(" ",e[0][p][1][1])+z;break;case 3:z=_n("\r",e[0][p][1][1])+z;break;case 4:U=_n(" ",e[0][p][1][1])+U;break;case 5:U=_n("\r",e[0][p][1][1])+U;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}l.push(z+l.pop()+U);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var L={c:r.c,r:r.r};if(s.sharedf[Ir(u)]){var T=s.sharedf[Ir(u)];l.push(pp(T,o,L,s,a))}else{var k=!1;for(c=0;c!=s.arrayf.length;++c)if(d=s.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push(pp(d[1],o,L,s,a)),k=!0;break}k||l.push(w[1])}break;case"PtgArray":l.push("{"+fXe(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var O=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&O.indexOf(e[0][j][0])==-1){w=e[0][p];var M=!0;switch(w[1][0]){case 4:M=!1;case 0:g=_n(" ",w[1][1]);break;case 5:M=!1;case 1:g=_n("\r",w[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((M?g:"")+l.pop()+(M?"":g)),p=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function pXe(e){if(e==null){var t=Fe(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Lf(e);return Lf(0)}function xXe(e,t,r,s,a){var i=Bf(t,r,a),o=pXe(e.v),l=Fe(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var d=Fe(e.bf.length),u=0;u<e.bf.length;++u)d[u]=e.bf[u];var f=Os([i,o,l,d]);return f}function V2(e,t,r){var s=e.read_shift(4),a=uXe(e,s,r),i=e.read_shift(4),o=i>0?dXe(e,i,a,r):null;return[a,o]}var gXe=V2,z2=V2,vXe=V2,yXe=V2,jXe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},lJ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},bXe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function wXe(e){var t="of:="+e.replace(T3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function NXe(e){return e.replace(/\./,"!")}var Ag=typeof Map<"u";function I3(e,t,r){var s=0,a=e.length;if(r){if(Ag?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Ag?r.get(t):r[t];s<i.length;++s)if(e[i[s]].t===t)return e.Count++,i[s]}}else for(;s<a;++s)if(e[s].t===t)return e.Count++,s;return e[a]={t},e.Count++,e.Unique++,r&&(Ag?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function W2(e,t){var r={min:e+1,max:e+1},s=-1;return t.MDW&&(Ec=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?s=Ew(t.wpx):t.wch!=null&&(s=t.wch),s>-1?(r.width=ZA(s),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function cJ(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function bu(e,t,r){var s=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(s==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){sZ(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=s=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===s)return a;return e[i]={numFmtId:s,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function _Xe(e,t,r){if(e&&e["!ref"]){var s=tn(e["!ref"]);if(s.e.c<s.s.c||s.e.r<s.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function SXe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+Hn(e[r])+'"/>';return t+"</mergeCells>"}function CXe(e,t,r,s,a){var i=!1,o={},l=null;if(s.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=rv(Or(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),l=(l||"")+et("outlinePr",null,d)}!i&&!l||(a[a.length]=et("sheetPr",l,o))}var EXe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],AXe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function kXe(e){var t={sheet:1};return EXe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),AXe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=qZ(e.password).toString(16).toUpperCase()),et("sheetProtection",null,t)}function PXe(e){return cJ(e),et("pageMargins",null,e)}function TXe(e,t){for(var r=["<cols>"],s,a=0;a!=t.length;++a)(s=t[a])&&(r[r.length]=et("col",null,W2(a,s)));return r[r.length]="</cols>",r.join("")}function OXe(e,t,r,s){var a=typeof e.ref=="string"?e.ref:Hn(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Di(a);o.s.r==o.e.r&&(o.e.r=Di(t["!ref"]).e.r,a=Hn(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==s){c.Ref="'"+r.SheetNames[s]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+r.SheetNames[s]+"'!"+a}),et("autoFilter",null,{ref:a})}function DXe(e,t,r,s){var a={workbookViewId:"0"};return(((s||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=s.Workbook.Views[0].RTL?"1":"0"),et("sheetViews",et("sheetView",null,a),{})}function IXe(e,t,r,s){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=cy[e.v];break;case"d":s&&s.cellDates?a=Na(e.v,-1).toISOString():(e=ei(e),e.t="n",a=""+(e.v=Ja(Na(e.v)))),typeof e.z>"u"&&(e.z=Cn[14]);break;default:a=e.v;break}var l=Ds("v",Or(a)),c={r:t},d=bu(s.cellXfs,e,s);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(s&&s.bookSST){l=Ds("v",""+I3(s.Strings,e.v,s.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=et("f",Or(e.f),u)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),et("c",l,c)}function RXe(e,t,r,s){var a=[],i=[],o=tn(e["!ref"]),l="",c,d="",u=[],f=0,m=0,h=e["!rows"],x=Array.isArray(e),p={r:d},g,j=-1;for(m=o.s.c;m<=o.e.c;++m)u[m]=ra(m);for(f=o.s.r;f<=o.e.r;++f){for(i=[],d=Ls(f),m=o.s.c;m<=o.e.c;++m){c=u[m]+d;var y=x?(e[f]||[])[m]:e[c];y!==void 0&&(l=IXe(y,c,e,t))!=null&&i.push(l)}(i.length>0||h&&h[f])&&(p={r:d},h&&h[f]&&(g=h[f],g.hidden&&(p.hidden=1),j=-1,g.hpx?j=Aw(g.hpx):g.hpt&&(j=g.hpt),j>-1&&(p.ht=j,p.customHeight=1),g.level&&(p.outlineLevel=g.level)),a[a.length]=et("row",i.join(""),p))}if(h)for(;f<h.length;++f)h&&h[f]&&(p={r:f+1},g=h[f],g.hidden&&(p.hidden=1),j=-1,g.hpx?j=Aw(g.hpx):g.hpt&&(j=g.hpt),j>-1&&(p.ht=j,p.customHeight=1),g.level&&(p.outlineLevel=g.level),a[a.length]=et("row","",p));return a.join("")}function dJ(e,t,r,s){var a=[Gn,et("worksheet",null,{xmlns:Zp[0],"xmlns:r":hs.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=tn(d);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=Hn(u)}s||(s={}),c["!comments"]=[];var f=[];CXe(c,r,e,t,a),a[a.length]=et("dimension",null,{ref:d}),a[a.length]=DXe(c,t,e,r),t.sheetFormat&&(a[a.length]=et("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=TXe(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=RXe(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=kXe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=OXe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=SXe(c["!merges"]));var m=-1,h,x=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(p){p[1].Target&&(h={ref:p[0]},p[1].Target.charAt(0)!="#"&&(x=Pr(s,-1,Or(p[1].Target).replace(/#.*$/,""),gr.HLINK),h["r:id"]="rId"+x),(m=p[1].Target.indexOf("#"))>-1&&(h.location=Or(p[1].Target.slice(m+1))),p[1].Tooltip&&(h.tooltip=Or(p[1].Tooltip)),a[a.length]=et("hyperlink",null,h))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=PXe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Ds("ignoredErrors",et("ignoredError",null,{numberStoredAsText:1,sqref:d}))),f.length>0&&(x=Pr(s,-1,"../drawings/drawing"+(e+1)+".xml",gr.DRAW),a[a.length]=et("drawing",null,{"r:id":"rId"+x}),c["!drawing"]=f),c["!comments"].length>0&&(x=Pr(s,-1,"../drawings/vmlDrawing"+(e+1)+".vml",gr.VML),a[a.length]=et("legacyDrawing",null,{"r:id":"rId"+x}),c["!legacy"]=x),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function MXe(e,t){var r={},s=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=s,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function FXe(e,t,r){var s=Fe(145),a=(r["!rows"]||[])[e]||{};s.write_shift(4,e),s.write_shift(4,0);var i=320;a.hpx?i=Aw(a.hpx)*20:a.hpt&&(i=a.hpt*20),s.write_shift(2,i),s.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),s.write_shift(1,o),s.write_shift(1,0);var l=0,c=s.l;s.l+=4;for(var d={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var f=-1,m=-1,h=u<<10;h<u+1<<10;++h){d.c=h;var x=Array.isArray(r)?(r[d.r]||[])[d.c]:r[Ir(d)];x&&(f<0&&(f=h),m=h)}f<0||(++l,s.write_shift(4,f),s.write_shift(4,m))}var p=s.l;return s.l=c,s.write_shift(4,l),s.l=p,s.length>s.l?s.slice(0,s.l):s}function $Xe(e,t,r,s){var a=FXe(s,r,t);(a.length>17||(t["!rows"]||[])[s])&&We(e,0,a)}var LXe=nm,BXe=ex;function UXe(){}function VXe(e,t){var r={},s=e[e.l];return++e.l,r.above=!(s&64),r.left=!(s&128),e.l+=18,r.name=Zqe(e),r}function zXe(e,t,r){r==null&&(r=Fe(84+4*e.length));var s=192;t&&(t.above&&(s&=-65),t.left&&(s&=-129)),r.write_shift(1,s);for(var a=1;a<3;++a)r.write_shift(1,0);return _w({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),SZ(e,r),r.slice(0,r.l)}function WXe(e){var t=_o(e);return[t]}function HXe(e,t,r){return r==null&&(r=Fe(8)),em(t,r)}function qXe(e){var t=tm(e);return[t]}function GXe(e,t,r){return r==null&&(r=Fe(4)),rm(t,r)}function KXe(e){var t=_o(e),r=e.read_shift(1);return[t,r,"b"]}function YXe(e,t,r){return r==null&&(r=Fe(9)),em(t,r),r.write_shift(1,e.v?1:0),r}function XXe(e){var t=tm(e),r=e.read_shift(1);return[t,r,"b"]}function QXe(e,t,r){return r==null&&(r=Fe(5)),rm(t,r),r.write_shift(1,e.v?1:0),r}function ZXe(e){var t=_o(e),r=e.read_shift(1);return[t,r,"e"]}function JXe(e,t,r){return r==null&&(r=Fe(9)),em(t,r),r.write_shift(1,e.v),r}function eQe(e){var t=tm(e),r=e.read_shift(1);return[t,r,"e"]}function tQe(e,t,r){return r==null&&(r=Fe(8)),rm(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function rQe(e){var t=_o(e),r=e.read_shift(4);return[t,r,"s"]}function nQe(e,t,r){return r==null&&(r=Fe(12)),em(t,r),r.write_shift(4,t.v),r}function sQe(e){var t=tm(e),r=e.read_shift(4);return[t,r,"s"]}function aQe(e,t,r){return r==null&&(r=Fe(8)),rm(t,r),r.write_shift(4,t.v),r}function iQe(e){var t=_o(e),r=tx(e);return[t,r,"n"]}function oQe(e,t,r){return r==null&&(r=Fe(16)),em(t,r),Lf(e.v,r),r}function lQe(e){var t=tm(e),r=tx(e);return[t,r,"n"]}function cQe(e,t,r){return r==null&&(r=Fe(12)),rm(t,r),Lf(e.v,r),r}function dQe(e){var t=_o(e),r=CZ(e);return[t,r,"n"]}function uQe(e,t,r){return r==null&&(r=Fe(12)),em(t,r),EZ(e.v,r),r}function fQe(e){var t=tm(e),r=CZ(e);return[t,r,"n"]}function mQe(e,t,r){return r==null&&(r=Fe(8)),rm(t,r),EZ(e.v,r),r}function hQe(e){var t=_o(e),r=C3(e);return[t,r,"is"]}function pQe(e){var t=_o(e),r=na(e);return[t,r,"str"]}function xQe(e,t,r){return r==null&&(r=Fe(12+4*e.v.length)),em(t,r),xs(e.v,r),r.length>r.l?r.slice(0,r.l):r}function gQe(e){var t=tm(e),r=na(e);return[t,r,"str"]}function vQe(e,t,r){return r==null&&(r=Fe(8+4*e.v.length)),rm(t,r),xs(e.v,r),r.length>r.l?r.slice(0,r.l):r}function yQe(e,t,r){var s=e.l+t,a=_o(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=z2(e,s-e.l,r);o[3]=pp(l,null,a,r.supbooks,r)}else e.l=s;return o}function jQe(e,t,r){var s=e.l+t,a=_o(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=z2(e,s-e.l,r);o[3]=pp(l,null,a,r.supbooks,r)}else e.l=s;return o}function bQe(e,t,r){var s=e.l+t,a=_o(e);a.r=r["!row"];var i=tx(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=z2(e,s-e.l,r);o[3]=pp(l,null,a,r.supbooks,r)}else e.l=s;return o}function wQe(e,t,r){var s=e.l+t,a=_o(e);a.r=r["!row"];var i=na(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=z2(e,s-e.l,r);o[3]=pp(l,null,a,r.supbooks,r)}else e.l=s;return o}var NQe=nm,_Qe=ex;function SQe(e,t){return t==null&&(t=Fe(4)),t.write_shift(4,e),t}function CQe(e,t){var r=e.l+t,s=nm(e),a=E3(e),i=na(e),o=na(e),l=na(e);e.l=r;var c={rfx:s,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function EQe(e,t){var r=Fe(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));ex({s:ps(e[0]),e:ps(e[0])},r),A3("rId"+t,r);var s=e[1].Target.indexOf("#"),a=s==-1?"":e[1].Target.slice(s+1);return xs(a||"",r),xs(e[1].Tooltip||"",r),xs("",r),r.slice(0,r.l)}function AQe(){}function kQe(e,t,r){var s=e.l+t,a=AZ(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=gXe(e,s-e.l,r);o[1]=l}else e.l=s;return o}function PQe(e,t,r){var s=e.l+t,a=nm(e),i=[a];if(r.cellFormula){var o=yXe(e,s-e.l,r);i[1]=o,e.l=s}else e.l=s;return i}function TQe(e,t,r){r==null&&(r=Fe(18));var s=W2(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(s.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof s.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var uJ=["left","right","top","bottom","header","footer"];function OQe(e){var t={};return uJ.forEach(function(r){t[r]=tx(e)}),t}function DQe(e,t){return t==null&&(t=Fe(6*8)),cJ(e),uJ.forEach(function(r){Lf(e[r],t)}),t}function IQe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function RQe(e,t,r){r==null&&(r=Fe(30));var s=924;return(((t||{}).Views||[])[0]||{}).RTL&&(s|=32),r.write_shift(2,s),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function MQe(e){var t=Fe(24);return t.write_shift(4,4),t.write_shift(4,1),ex(e,t),t}function FQe(e,t){return t==null&&(t=Fe(16*4+2)),t.write_shift(2,e.password?qZ(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function $Qe(){}function LQe(){}function BQe(e,t,r,s,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=ei(t),t.z=t.z||Cn[14],t.v=Ja(Na(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:s};switch(c.s=bu(a.cellXfs,t,a),t.l&&i["!links"].push([Ir(c),t.l]),t.c&&i["!comments"].push([Ir(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=I3(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?We(e,18,aQe(t,c)):We(e,7,nQe(t,c))):(c.t="str",o?We(e,17,vQe(t,c)):We(e,6,xQe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?We(e,13,mQe(t,c)):We(e,2,uQe(t,c)):o?We(e,16,cQe(t,c)):We(e,5,oQe(t,c)),!0;case"b":return c.t="b",o?We(e,15,QXe(t,c)):We(e,4,YXe(t,c)),!0;case"e":return c.t="e",o?We(e,14,tQe(t,c)):We(e,3,JXe(t,c)),!0}return o?We(e,12,GXe(t,c)):We(e,1,HXe(t,c)),!0}function UQe(e,t,r,s){var a=tn(t["!ref"]||"A1"),i,o="",l=[];We(e,145);var c=Array.isArray(t),d=a.e.r;t["!rows"]&&(d=Math.max(a.e.r,t["!rows"].length-1));for(var u=a.s.r;u<=d;++u){o=Ls(u),$Xe(e,t,a,u);var f=!1;if(u<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){u===a.s.r&&(l[m]=ra(m)),i=l[m]+o;var h=c?(t[u]||[])[m]:t[i];if(!h){f=!1;continue}f=BQe(e,h,u,m,s,t,f)}}We(e,146)}function VQe(e,t){!t||!t["!merges"]||(We(e,177,SQe(t["!merges"].length)),t["!merges"].forEach(function(r){We(e,176,_Qe(r))}),We(e,178))}function zQe(e,t){!t||!t["!cols"]||(We(e,390),t["!cols"].forEach(function(r,s){r&&We(e,60,TQe(s,r))}),We(e,391))}function WQe(e,t){!t||!t["!ref"]||(We(e,648),We(e,649,MQe(tn(t["!ref"]))),We(e,650))}function HQe(e,t,r){t["!links"].forEach(function(s){if(s[1].Target){var a=Pr(r,-1,s[1].Target.replace(/#.*$/,""),gr.HLINK);We(e,494,EQe(s,a))}}),delete t["!links"]}function qQe(e,t,r,s){if(t["!comments"].length>0){var a=Pr(s,-1,"../drawings/vmlDrawing"+(r+1)+".vml",gr.VML);We(e,551,A3("rId"+a)),t["!legacy"]=a}}function GQe(e,t,r,s){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:Hn(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Di(i);l.s.r==l.e.r&&(l.e.r=Di(t["!ref"]).e.r,i=Hn(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==s){d.Ref="'"+r.SheetNames[s]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+r.SheetNames[s]+"'!"+i}),We(e,161,ex(tn(i))),We(e,162)}}function KQe(e,t,r){We(e,133),We(e,137,RQe(t,r)),We(e,138),We(e,134)}function YQe(e,t){t["!protect"]&&We(e,535,FQe(t["!protect"]))}function XQe(e,t,r,s){var a=Xa(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=tn(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],We(a,129),(r.vbaraw||o["!outline"])&&We(a,147,zXe(l,o["!outline"])),We(a,148,BXe(c)),KQe(a,o,r.Workbook),zQe(a,o),UQe(a,o,e,t),YQe(a,o),GQe(a,o,r,e),VQe(a,o),HQe(a,o,s),o["!margins"]&&We(a,476,DQe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&WQe(a,o),qQe(a,o,e,s),We(a,130),a.end()}function QQe(e,t){e.l+=10;var r=na(e);return{name:r}}var ZQe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function JQe(e){return!e.Workbook||!e.Workbook.WBProps?"false":Pqe(e.Workbook.WBProps.date1904)?"true":"false"}var eZe="][*?/\\".split("");function fJ(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return eZe.forEach(function(s){if(e.indexOf(s)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function tZe(e,t,r){e.forEach(function(s,a){fJ(s);for(var i=0;i<a;++i)if(s==e[i])throw new Error("Duplicate Sheet Name: "+s);if(r){var o=t&&t[a]&&t[a].CodeName||s;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function rZe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];tZe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)_Xe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function mJ(e){var t=[Gn];t[t.length]=et("workbook",null,{xmlns:Zp[0],"xmlns:r":hs.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,s={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(ZQe.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(s[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(s.codeName=e.Workbook.WBProps.CodeName,delete s.CodeName)),t[t.length]=et("workbookPr",null,s);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Or(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=et("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=et("definedName",Or(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function nZe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=QA(e),r.name=na(e),r}function sZe(e,t){return t||(t=Fe(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),A3(e.strRelID,t),xs(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function aZe(e,t){var r={},s=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?na(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(s&65536),r.backupFile=!!(s&64),r.checkCompatibility=!!(s&4096),r.date1904=!!(s&1),r.filterPrivacy=!!(s&8),r.hidePivotFieldList=!!(s&1024),r.promptedSolutions=!!(s&16),r.publishItems=!!(s&2048),r.refreshAllConnections=!!(s&262144),r.saveExternalLinkValues=!!(s&128),r.showBorderUnselectedTables=!!(s&4),r.showInkAnnotation=!!(s&32),r.showObjects=["all","placeholders","none"][s>>13&3],r.showPivotChartFilter=!!(s&32768),r.updateLinks=["userSet","never","always"][s>>8&3],r}function iZe(e,t){t||(t=Fe(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),SZ(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function oZe(e,t,r){var s=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=Jqe(e),o=vXe(e,0,r),l=E3(e);e.l=s;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function lZe(e,t){We(e,143);for(var r=0;r!=t.SheetNames.length;++r){var s=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:s,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};We(e,156,sZe(a))}We(e,144)}function cZe(e,t){t||(t=Fe(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return xs("SheetJS",t),xs(gw.version,t),xs(gw.version,t),xs("7262",t),t.length>t.l?t.slice(0,t.l):t}function dZe(e,t){t||(t=Fe(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function uZe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,s=0,a=-1,i=-1;s<r.length;++s)!r[s]||!r[s].Hidden&&a==-1?a=s:r[s].Hidden==1&&i==-1&&(i=s);i>a||(We(e,135),We(e,158,dZe(a)),We(e,136))}}function fZe(e,t){var r=Xa();return We(r,131),We(r,128,cZe()),We(r,153,iZe(e.Workbook&&e.Workbook.WBProps||null)),uZe(r,e),lZe(r,e),We(r,132),r.end()}function mZe(e,t,r){return(t.slice(-4)===".bin"?fZe:mJ)(e)}function hZe(e,t,r,s,a){return(t.slice(-4)===".bin"?XQe:dJ)(e,r,s,a)}function pZe(e,t,r){return(t.slice(-4)===".bin"?DKe:YZ)(e,r)}function xZe(e,t,r){return(t.slice(-4)===".bin"?iKe:HZ)(e,r)}function gZe(e,t,r){return(t.slice(-4)===".bin"?YKe:eJ)(e)}function vZe(e){return(e.slice(-4)===".bin"?UKe:ZZ)()}function yZe(e,t){var r=[];return e.Props&&r.push(pGe(e.Props,t)),e.Custprops&&r.push(xGe(e.Props,e.Custprops)),r.join("")}function jZe(){return""}function bZe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(s,a){var i=[];i.push(et("NumberFormat",null,{"ss:Format":Or(Cn[s.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(et("Style",i.join(""),o))}),et("Styles",r.join(""))}function hJ(e){return et("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+O3(e.Ref,{r:0,c:0})})}function wZe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],s=0;s<t.length;++s){var a=t[s];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(hJ(a)))}return et("Names",r.join(""))}function NZe(e,t,r,s){if(!e||!((s||{}).Workbook||{}).Names)return"";for(var a=s.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(hJ(l)))}return i.join("")}function _Ze(e,t,r,s){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(et("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(et("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(et("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),s&&s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[r])if(s.Workbook.Sheets[r].Hidden)a.push(et("Visible",s.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(s.Workbook.Sheets[i]&&!s.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((s||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Ds("ProtectContents","True")),e["!protect"].objects&&a.push(Ds("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Ds("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Ds("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Ds("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":et("WorksheetOptions",a.join(""),{xmlns:xi.x})}function SZe(e){return e.map(function(t){var r=kqe(t.t||""),s=et("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return et("Comment",s,{"ss:Author":t.a})}).join("")}function CZe(e,t,r,s,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Or(O3(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=ps(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Or(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Or(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],u=0;u!=d.length;++u)d[u].s.c!=o.c||d[u].s.r!=o.r||(d[u].e.c>d[u].s.c&&(l["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(l["ss:MergeDown"]=d[u].e.r-d[u].s.r));var f="",m="";switch(e.t){case"z":if(!s.sheetStubs)return"";break;case"n":f="Number",m=String(e.v);break;case"b":f="Boolean",m=e.v?"1":"0";break;case"e":f="Error",m=cy[e.v];break;case"d":f="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Cn[14]);break;case"s":f="String",m=Aqe(e.v||"");break}var h=bu(s.cellXfs,e,s);l["ss:StyleID"]="s"+(21+h),l["ss:Index"]=o.c+1;var x=e.v!=null?m:"",p=e.t=="z"?"":'<Data ss:Type="'+f+'">'+x+"</Data>";return(e.c||[]).length>0&&(p+=SZe(e.c)),et("Cell",p,l)}function EZe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=KZ(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function AZe(e,t,r,s){if(!e["!ref"])return"";var a=tn(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(g,j){P3(g);var y=!!g.width,w=W2(j,g),b={"ss:Index":j+1};y&&(b["ss:Width"]=Cw(w.width)),g.hidden&&(b["ss:Hidden"]="1"),l.push(et("Column",null,b))});for(var c=Array.isArray(e),d=a.s.r;d<=a.e.r;++d){for(var u=[EZe(d,(e["!rows"]||[])[d])],f=a.s.c;f<=a.e.c;++f){var m=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>d)&&!(i[o].e.c<f)&&!(i[o].e.r<d)){(i[o].s.c!=f||i[o].s.r!=d)&&(m=!0);break}if(!m){var h={r:d,c:f},x=Ir(h),p=c?(e[d]||[])[f]:e[x];u.push(CZe(p,x,e,t,r,s,h))}}u.push("</Row>"),u.length>2&&l.push(u.join(""))}return l.join("")}function kZe(e,t,r){var s=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?NZe(i,t,e,r):"";return o.length>0&&s.push("<Names>"+o+"</Names>"),o=i?AZe(i,t,e,r):"",o.length>0&&s.push("<Table>"+o+"</Table>"),s.push(_Ze(i,t,e,r)),s.join("")}function PZe(e,t){t||(t={}),e.SSF||(e.SSF=ei(Cn)),e.SSF&&(L2(),$2(e.SSF),t.revssf=B2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],bu(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(yZe(e,t)),r.push(jZe()),r.push(""),r.push("");for(var s=0;s<e.SheetNames.length;++s)r.push(et("Worksheet",kZe(s,t,e),{"ss:Name":Or(e.SheetNames[s])}));return r[2]=bZe(e,t),r[3]=wZe(e),Gn+et("Workbook",r.join(""),{xmlns:xi.ss,"xmlns:o":xi.o,"xmlns:x":xi.x,"xmlns:ss":xi.ss,"xmlns:dt":xi.dt,"xmlns:html":xi.html})}var ZS={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function TZe(e,t){var r=[],s=[],a=[],i=0,o,l=J$(fL,"n"),c=J$(mL,"n");if(e.Props)for(o=Vs(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?s:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Vs(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?s:a).push([o[i],e.Custprops[o[i]]]);var d=[];for(i=0;i<a.length;++i)$Z.indexOf(a[i][0])>-1||RZ.indexOf(a[i][0])>-1||a[i][1]!=null&&d.push(a[i]);s.length&&$r.utils.cfb_add(t,"/SummaryInformation",vL(s,ZS.SI,c,mL)),(r.length||d.length)&&$r.utils.cfb_add(t,"/DocumentSummaryInformation",vL(r,ZS.DSI,l,fL,d.length?d:null,ZS.UDI))}function OZe(e,t){var r=t||{},s=$r.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return $r.utils.cfb_add(s,a,pJ(e,r)),r.biff==8&&(e.Props||e.Custprops)&&TZe(e,s),r.biff==8&&e.vbaraw&&XKe(s,$r.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),s}var DZe={0:{f:MXe},1:{f:WXe},2:{f:dQe},3:{f:ZXe},4:{f:KXe},5:{f:iQe},6:{f:pQe},7:{f:rQe},8:{f:wQe},9:{f:bQe},10:{f:yQe},11:{f:jQe},12:{f:qXe},13:{f:fQe},14:{f:eQe},15:{f:XXe},16:{f:lQe},17:{f:gQe},18:{f:sQe},19:{f:C3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:oZe},40:{},42:{},43:{f:pKe},44:{f:mKe},45:{f:vKe},46:{f:jKe},47:{f:yKe},48:{},49:{f:qqe},50:{},51:{f:MKe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:GGe},62:{f:hQe},63:{f:VKe},64:{f:$Qe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Wl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:IQe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:VXe},148:{f:LXe,p:16},151:{f:AQe},152:{},153:{f:aZe},154:{},155:{},156:{f:nZe},157:{},158:{},159:{T:1,f:nKe},160:{T:-1},161:{T:1,f:nm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:NQe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:IKe},336:{T:-1},337:{f:LKe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:QA},357:{},358:{},359:{},360:{T:1},361:{},362:{f:UGe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:kQe},427:{f:PQe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:OQe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:UXe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:CQe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:QA},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:GKe},633:{T:1},634:{T:-1},635:{T:1,f:HKe},636:{T:-1},637:{f:Xqe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:QQe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:LQe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function tt(e,t,r,s){var a=t;if(!isNaN(a)){var i=s||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&N3(r)&&e.push(r)}}function IZe(e,t,r,s){var a=(r||[]).length||0;if(a<=8224)return tt(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d;c<a;){for(u=e.next(4),u.write_shift(2,60),d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d}}}function uy(e,t,r){return e||(e=Fe(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function RZe(e,t,r,s){var a=Fe(9);return uy(a,e,t),BZ(r,s||"b",a),a}function MZe(e,t,r){var s=Fe(8+2*r.length);return uy(s,e,t),s.write_shift(1,r.length),s.write_shift(r.length,r,"sbcs"),s.l<s.length?s.slice(0,s.l):s}function FZe(e,t,r,s){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Ja(Na(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?tt(e,2,QGe(r,s,a)):tt(e,3,XGe(r,s,a));return;case"b":case"e":tt(e,5,RZe(r,s,t.v,t.t));return;case"s":case"str":tt(e,4,MZe(r,s,(t.v||"").slice(0,255)));return}tt(e,1,uy(null,r,s))}function $Ze(e,t,r,s){var a=Array.isArray(t),i=tn(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(s.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=Hn(i)}for(var d=i.s.r;d<=i.e.r;++d){l=Ls(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=ra(u)),o=c[u]+l;var f=a?(t[d]||[])[u]:t[o];f&&FZe(e,f,d,u)}}}function LZe(e,t){for(var r=t||{},s=Xa(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return tt(s,r.biff==4?1033:r.biff==3?521:9,k3(e,16,r)),$Ze(s,e.Sheets[e.SheetNames[a]],a,r),tt(s,10),s.end()}function BZe(e,t,r){tt(e,49,DGe({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function UZe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&tt(e,1054,MGe(a,t[a],r))})}function VZe(e,t){var r=Fe(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),tt(e,2151,r),r=Fe(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),zZ(tn(t["!ref"]||"A1"),r),r.write_shift(4,4),tt(e,2152,r)}function zZe(e,t){for(var r=0;r<16;++r)tt(e,224,jL({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(s){tt(e,224,jL(s,0,t))})}function WZe(e,t){for(var r=0;r<t["!links"].length;++r){var s=t["!links"][r];tt(e,440,WGe(s)),s[1].Tooltip&&tt(e,2048,HGe(s))}delete t["!links"]}function HZe(e,t){if(t){var r=0;t.forEach(function(s,a){++r<=256&&s&&tt(e,125,KGe(W2(a,s),a))})}}function qZe(e,t,r,s,a){var i=16+bu(a.cellXfs,t,a);if(t.v==null&&!t.bf){tt(e,513,Bf(r,s,i));return}if(t.bf)tt(e,6,xXe(t,r,s,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?Ja(Na(t.v)):t.v;tt(e,515,BGe(r,s,o,i));break;case"b":case"e":tt(e,517,LGe(r,s,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=I3(a.Strings,t.v,a.revStrings);tt(e,253,IGe(r,s,l,i))}else tt(e,516,RGe(r,s,(t.v||"").slice(0,255),i,a));break;default:tt(e,513,Bf(r,s,i))}}function GZe(e,t,r){var s=Xa(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,u,f="",m=[],h=tn(i["!ref"]||"A1"),x=d?65536:16384;if(h.e.c>255||h.e.r>=x){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,x-1)}tt(s,2057,k3(r,16,t)),tt(s,13,Yi(1)),tt(s,12,Yi(100)),tt(s,15,ga(!0)),tt(s,17,ga(!1)),tt(s,16,Lf(.001)),tt(s,95,ga(!0)),tt(s,42,ga(!1)),tt(s,43,ga(!1)),tt(s,130,Yi(1)),tt(s,128,$Ge()),tt(s,131,ga(!1)),tt(s,132,ga(!1)),d&&HZe(s,i["!cols"]),tt(s,512,FGe(h,t)),d&&(i["!links"]=[]);for(var p=h.s.r;p<=h.e.r;++p){f=Ls(p);for(var g=h.s.c;g<=h.e.c;++g){p===h.s.r&&(m[g]=ra(g)),u=m[g]+f;var j=c?(i[p]||[])[g]:i[u];j&&(qZe(s,j,p,g,t),d&&j.l&&i["!links"].push([u,j.l]))}}var y=l.CodeName||l.name||a;return d&&tt(s,574,OGe((o.Views||[])[0])),d&&(i["!merges"]||[]).length&&tt(s,229,zGe(i["!merges"])),d&&WZe(s,i),tt(s,442,VZ(y)),d&&VZe(s,i),tt(s,10),s.end()}function KZe(e,t,r){var s=Xa(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(tt(s,2057,k3(e,5,r)),r.bookType=="xla"&&tt(s,135),tt(s,225,l?Yi(1200):null),tt(s,193,yGe(2)),c&&tt(s,191),c&&tt(s,192),tt(s,226),tt(s,92,AGe("SheetJS",r)),tt(s,66,Yi(l?1200:1252)),l&&tt(s,353,Yi(0)),l&&tt(s,448),tt(s,317,YGe(e.SheetNames.length)),l&&e.vbaraw&&tt(s,211),l&&e.vbaraw){var d=o.CodeName||"ThisWorkbook";tt(s,442,VZ(d))}tt(s,156,Yi(17)),tt(s,25,ga(!1)),tt(s,18,ga(!1)),tt(s,19,Yi(0)),l&&tt(s,431,ga(!1)),l&&tt(s,444,Yi(0)),tt(s,61,TGe()),tt(s,64,ga(!1)),tt(s,141,Yi(0)),tt(s,34,ga(JQe(e)=="true")),tt(s,14,ga(!0)),l&&tt(s,439,ga(!1)),tt(s,218,Yi(0)),BZe(s,e,r),UZe(s,e.SSF,r),zZe(s,r),l&&tt(s,352,ga(!1));var u=s.end(),f=Xa();l&&tt(f,140,qGe()),l&&r.Strings&&IZe(f,252,PGe(r.Strings)),tt(f,10);var m=f.end(),h=Xa(),x=0,p=0;for(p=0;p<e.SheetNames.length;++p)x+=(l?12:11)+(l?2:1)*e.SheetNames[p].length;var g=u.length+x+m.length;for(p=0;p<e.SheetNames.length;++p){var j=i[p]||{};tt(h,133,kGe({pos:g,hs:j.Hidden||0,dt:0,name:e.SheetNames[p]},r)),g+=t[p].length}var y=h.end();if(x!=y.length)throw new Error("BS8 "+x+" != "+y.length);var w=[];return u.length&&w.push(u),y.length&&w.push(y),m.length&&w.push(m),Os(w)}function YZe(e,t){var r=t||{},s=[];e&&!e.SSF&&(e.SSF=ei(Cn)),e&&e.SSF&&(L2(),$2(e.SSF),r.revssf=B2(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,R3(r),r.cellXfs=[],bu(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)s[s.length]=GZe(a,r,e);return s.unshift(KZe(e,s,r)),Os(s)}function pJ(e,t){for(var r=0;r<=e.SheetNames.length;++r){var s=e.Sheets[e.SheetNames[r]];if(!(!s||!s["!ref"])){var a=Di(s["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return YZe(e,t);case 4:case 3:case 2:return LZe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function XZe(e,t,r,s){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,d=0;d<a.length;++d)if(!(a[d].s.r>r||a[d].s.c>o)&&!(a[d].e.r<r||a[d].e.c<o)){if(a[d].s.r<r||a[d].s.c<o){l=-1;break}l=a[d].e.r-a[d].s.r+1,c=a[d].e.c-a[d].s.c+1;break}if(!(l<0)){var u=Ir({r,c:o}),f=s.dense?(e[r]||[])[o]:e[u],m=f&&f.v!=null&&(f.h||Eqe(f.w||(Wc(f),f.w)||""))||"",h={};l>1&&(h.rowspan=l),c>1&&(h.colspan=c),s.editable?m='<span contenteditable="true">'+m+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+f.l.Target+'">'+m+"</a>")),h.id=(s.id||"sjs")+"-"+u,i.push(et("td",m,h))}}var x="<tr>";return x+i.join("")+"</tr>"}var QZe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',ZZe="</body></html>";function JZe(e,t,r){var s=[];return s.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function xJ(e,t){var r=t||{},s=r.header!=null?r.header:QZe,a=r.footer!=null?r.footer:ZZe,i=[s],o=Di(e["!ref"]);r.dense=Array.isArray(e),i.push(JZe(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(XZe(e,o,l,r));return i.push("</table>"+a),i.join("")}function gJ(e,t,r){var s=r||{},a=0,i=0;if(s.origin!=null)if(typeof s.origin=="number")a=s.origin;else{var o=typeof s.origin=="string"?ps(s.origin):s.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(s.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=Di(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),a==-1&&(d.e.r=a=u.e.r+1)}var f=[],m=0,h=e["!rows"]||(e["!rows"]=[]),x=0,p=0,g=0,j=0,y=0,w=0;for(e["!cols"]||(e["!cols"]=[]);x<l.length&&p<c;++x){var b=l[x];if(EL(b)){if(s.display)continue;h[p]={hidden:!0}}var N=b.children;for(g=j=0;g<N.length;++g){var S=N[g];if(!(s.display&&EL(S))){var E=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):Tqe(S.innerHTML),C=S.getAttribute("data-z")||S.getAttribute("z");for(m=0;m<f.length;++m){var A=f[m];A.s.c==j+i&&A.s.r<p+a&&p+a<=A.e.r&&(j=A.e.c+1-i,m=-1)}w=+S.getAttribute("colspan")||1,((y=+S.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:p+a,c:j+i},e:{r:p+a+(y||1)-1,c:j+i+(w||1)-1}});var P={t:"s",v:E},R=S.getAttribute("data-t")||S.getAttribute("t")||"";E!=null&&(E.length==0?P.t=R||"z":s.raw||E.trim().length==0||R=="s"||(E==="TRUE"?P={t:"b",v:!0}:E==="FALSE"?P={t:"b",v:!1}:isNaN(Cc(E))?isNaN(tv(E).getDate())||(P={t:"d",v:Na(E)},s.cellDates||(P={t:"n",v:Ja(P.v)}),P.z=s.dateNF||Cn[14]):P={t:"n",v:Cc(E)})),P.z===void 0&&C!=null&&(P.z=C);var I="",z=S.getElementsByTagName("A");if(z&&z.length)for(var U=0;U<z.length&&!(z[U].hasAttribute("href")&&(I=z[U].getAttribute("href"),I.charAt(0)!="#"));++U);I&&I.charAt(0)!="#"&&(P.l={Target:I}),s.dense?(e[p+a]||(e[p+a]=[]),e[p+a][j+i]=P):e[Ir({c:j+i,r:p+a})]=P,d.e.c<j+i&&(d.e.c=j+i),j+=w}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),d.e.r=Math.max(d.e.r,p-1+a),e["!ref"]=Hn(d),p>=c&&(e["!fullref"]=Hn((d.e.r=l.length-x+p-1+a,d))),e}function vJ(e,t){var r=t||{},s=r.dense?[]:{};return gJ(s,e,t)}function eJe(e,t){return Jf(vJ(e,t),t)}function EL(e){var t="",r=tJe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function tJe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var rJe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+nv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Gn+t}}(),AL=function(){var e=function(i){return Or(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,s=function(i,o,l){var c=[];c.push('      <table:table table:name="'+Or(o.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,u=0,f=Di(i["!ref"]||"A1"),m=i["!merges"]||[],h=0,x=Array.isArray(i);if(i["!cols"])for(u=0;u<=f.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var p="",g=i["!rows"]||[];for(d=0;d<f.s.r;++d)p=g[d]?' table:style-name="ro'+g[d].ods+'"':"",c.push("        <table:table-row"+p+`></table:table-row>
`);for(;d<=f.e.r;++d){for(p=g[d]?' table:style-name="ro'+g[d].ods+'"':"",c.push("        <table:table-row"+p+`>
`),u=0;u<f.s.c;++u)c.push(t);for(;u<=f.e.c;++u){var j=!1,y={},w="";for(h=0;h!=m.length;++h)if(!(m[h].s.c>u)&&!(m[h].s.r>d)&&!(m[h].e.c<u)&&!(m[h].e.r<d)){(m[h].s.c!=u||m[h].s.r!=d)&&(j=!0),y["table:number-columns-spanned"]=m[h].e.c-m[h].s.c+1,y["table:number-rows-spanned"]=m[h].e.r-m[h].s.r+1;break}if(j){c.push(r);continue}var b=Ir({r:d,c:u}),N=x?(i[d]||[])[u]:i[b];if(N&&N.f&&(y["table:formula"]=Or(wXe(N.f)),N.F&&N.F.slice(0,b.length)==b)){var S=Di(N.F);y["table:number-matrix-columns-spanned"]=S.e.c-S.s.c+1,y["table:number-matrix-rows-spanned"]=S.e.r-S.s.r+1}if(!N){c.push(t);continue}switch(N.t){case"b":w=N.v?"TRUE":"FALSE",y["office:value-type"]="boolean",y["office:boolean-value"]=N.v?"true":"false";break;case"n":w=N.w||String(N.v||0),y["office:value-type"]="float",y["office:value"]=N.v||0;break;case"s":case"str":w=N.v==null?"":N.v,y["office:value-type"]="string";break;case"d":w=N.w||Na(N.v).toISOString(),y["office:value-type"]="date",y["office:date-value"]=Na(N.v).toISOString(),y["table:style-name"]="ce1";break;default:c.push(t);continue}var E=e(w);if(N.l&&N.l.Target){var C=N.l.Target;C=C.charAt(0)=="#"?"#"+NXe(C.slice(1)):C,C.charAt(0)!="#"&&!C.match(/^\w+:/)&&(C="../"+C),E=et("text:a",E,{"xlink:href":C.replace(/&/g,"&amp;")})}c.push("          "+et("table:table-cell",et("text:p",E,{}),y)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var f=d["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;P3(f),f.ods=l;var m=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var f=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[Gn],d=nv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=nv({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(DZ().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(s(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function yJ(e,t){if(t.bookType=="fods")return AL(e,t);var r=y3(),s="",a=[],i=[];return s="mimetype",Zt(r,s,"application/vnd.oasis.opendocument.spreadsheet"),s="content.xml",Zt(r,s,AL(e,t)),a.push([s,"text/xml"]),i.push([s,"ContentFile"]),s="styles.xml",Zt(r,s,rJe(e,t)),a.push([s,"text/xml"]),i.push([s,"StylesFile"]),s="meta.xml",Zt(r,s,Gn+DZ()),a.push([s,"text/xml"]),i.push([s,"MetadataFile"]),s="manifest.rdf",Zt(r,s,hGe(i)),a.push([s,"application/rdf+xml"]),s="META-INF/manifest.xml",Zt(r,s,fGe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function kw(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function nJe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Bo(rv(e))}function sJe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var s=0;s<t.length;++s)if(e[r+s]!=t[s])continue e;return!0}return!1}function ou(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),s=0;return e.forEach(function(a){r.set(a,s),s+=a.length}),r}function aJe(e,t,r){var s=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,s-6176);e[t+15]|=s>>7,e[t+14]|=(s&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function sv(e,t){var r=t?t[0]:0,s=e[r]&127;e:if(e[r++]>=128&&(s|=(e[r]&127)<<7,e[r++]<128||(s|=(e[r]&127)<<14,e[r++]<128)||(s|=(e[r]&127)<<21,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),s}function Ar(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function lh(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Qn(e){for(var t=[],r=[0];r[0]<e.length;){var s=r[0],a=sv(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=sv(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(s))}var d={data:l,type:i};t[a]==null?t[a]=[d]:t[a].push(d)}return t}function As(e){var t=[];return e.forEach(function(r,s){r.forEach(function(a){a.data&&(t.push(Ar(s*8+a.type)),a.type==2&&t.push(Ar(a.data.length)),t.push(a.data))})}),ou(t)}function Eo(e){for(var t,r=[],s=[0];s[0]<e.length;){var a=sv(e,s),i=Qn(e.slice(s[0],s[0]+a));s[0]+=a;var o={id:lh(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=Qn(l.data),d=lh(c[3][0].data);o.messages.push({meta:c,data:e.slice(s[0],s[0]+d)}),s[0]+=d}),(t=i[3])!=null&&t[0]&&(o.merge=lh(i[3][0].data)>>>0>0),r.push(o)}return r}function vm(e){var t=[];return e.forEach(function(r){var s=[];s[1]=[{data:Ar(r.id),type:0}],s[2]=[],r.merge!=null&&(s[3]=[{data:Ar(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:Ar(o.data.length)}],s[2].push({data:As(o.meta),type:2})});var i=As(s);t.push(Ar(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),ou(t)}function iJe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],s=sv(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,d=0;if(i==1?(d=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[ou(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(a.push(a[0].slice(-c)),d-=c;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-c,-c+d))}}var u=ou(a);if(u.length!=s)throw new Error("Unexpected length: ".concat(u.length," != ").concat(s));return u}function Ao(e){for(var t=[],r=0;r<e.length;){var s=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(iJe(s,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return ou(t)}function ym(e){for(var t=[],r=0;r<e.length;){var s=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=Ar(s),o=i.length;t.push(i),s<=60?(o++,t.push(new Uint8Array([s-1<<2]))):s<=256?(o+=2,t.push(new Uint8Array([240,s-1&255]))):s<=65536?(o+=3,t.push(new Uint8Array([244,s-1&255,s-1>>8&255]))):s<=16777216?(o+=4,t.push(new Uint8Array([248,s-1&255,s-1>>8&255,s-1>>16&255]))):s<=4294967296&&(o+=5,t.push(new Uint8Array([252,s-1&255,s-1>>8&255,s-1>>16&255,s-1>>>24&255]))),t.push(e.slice(r,r+s)),o+=s,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=s}return ou(t)}function JS(e,t){var r=new Uint8Array(32),s=kw(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,aJe(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,s.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,s.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(8,i,!0),r.slice(0,a)}function eC(e,t){var r=new Uint8Array(32),s=kw(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,s.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,s.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,s.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(4,i,!0),r.slice(0,a)}function nd(e){var t=Qn(e);return sv(t[1][0].data)}function oJe(e,t,r){var s,a,i,o;if(!((s=e[6])!=null&&s[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&lh(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,d=kw(e[7][0].data),u=0,f=[],m=kw(e[4][0].data),h=0,x=[],p=0;p<t.length;++p){if(t[p]==null){d.setUint16(p*2,65535,!0),m.setUint16(p*2,65535);continue}d.setUint16(p*2,u,!0),m.setUint16(p*2,h,!0);var g,j;switch(typeof t[p]){case"string":g=JS({t:"s",v:t[p]},r),j=eC({t:"s",v:t[p]},r);break;case"number":g=JS({t:"n",v:t[p]},r),j=eC({t:"n",v:t[p]},r);break;case"boolean":g=JS({t:"b",v:t[p]},r),j=eC({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}f.push(g),u+=g.length,x.push(j),h+=j.length,++c}for(e[2][0].data=Ar(c);p<e[7][0].data.length/2;++p)d.setUint16(p*2,65535,!0),m.setUint16(p*2,65535,!0);return e[6][0].data=ou(f),e[3][0].data=ou(x),c}function lJe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var s=Di(r["!ref"]);s.s.r=s.s.c=0;var a=!1;s.e.c>9&&(a=!0,s.e.c=9),s.e.r>49&&(a=!0,s.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Hn(s)));var i=Pw(r,{range:s,header:1}),o=["~Sh33tJ5~"];i.forEach(function(W){return W.forEach(function(F){typeof F=="string"&&o.push(F)})});var l={},c=[],d=$r.read(t.numbers,{type:"base64"});d.FileIndex.map(function(W,F){return[W,d.FullPaths[F]]}).forEach(function(W){var F=W[0],q=W[1];if(F.type==2&&F.name.match(/\.iwa/)){var le=F.content,fe=Ao(le),B=Eo(fe);B.forEach(function(K){c.push(K.id),l[K.id]={deps:[],location:q,type:lh(K.messages[0].meta[1][0].data)}})}}),c.sort(function(W,F){return W-F});var u=c.filter(function(W){return W>1}).map(function(W){return[W,Ar(W)]});d.FileIndex.map(function(W,F){return[W,d.FullPaths[F]]}).forEach(function(W){var F=W[0];if(W[1],!!F.name.match(/\.iwa/)){var q=Eo(Ao(F.content));q.forEach(function(le){le.messages.forEach(function(fe){u.forEach(function(B){le.messages.some(function(K){return lh(K.meta[1][0].data)!=11006&&sJe(K.data,B[1])})&&l[B[0]].deps.push(le.id)})})})}});for(var f=$r.find(d,l[1].location),m=Eo(Ao(f.content)),h,x=0;x<m.length;++x){var p=m[x];p.id==1&&(h=p)}var g=nd(Qn(h.messages[0].data)[1][0].data);for(f=$r.find(d,l[g].location),m=Eo(Ao(f.content)),x=0;x<m.length;++x)p=m[x],p.id==g&&(h=p);for(g=nd(Qn(h.messages[0].data)[2][0].data),f=$r.find(d,l[g].location),m=Eo(Ao(f.content)),x=0;x<m.length;++x)p=m[x],p.id==g&&(h=p);for(g=nd(Qn(h.messages[0].data)[2][0].data),f=$r.find(d,l[g].location),m=Eo(Ao(f.content)),x=0;x<m.length;++x)p=m[x],p.id==g&&(h=p);var j=Qn(h.messages[0].data);{j[6][0].data=Ar(s.e.r+1),j[7][0].data=Ar(s.e.c+1);var y=nd(j[46][0].data),w=$r.find(d,l[y].location),b=Eo(Ao(w.content));{for(var N=0;N<b.length&&b[N].id!=y;++N);if(b[N].id!=y)throw"Bad ColumnRowUIDMapArchive";var S=Qn(b[N].messages[0].data);S[1]=[],S[2]=[],S[3]=[];for(var E=0;E<=s.e.c;++E){var C=[];C[1]=C[2]=[{type:0,data:Ar(E+420690)}],S[1].push({type:2,data:As(C)}),S[2].push({type:0,data:Ar(E)}),S[3].push({type:0,data:Ar(E)})}S[4]=[],S[5]=[],S[6]=[];for(var A=0;A<=s.e.r;++A)C=[],C[1]=C[2]=[{type:0,data:Ar(A+726270)}],S[4].push({type:2,data:As(C)}),S[5].push({type:0,data:Ar(A)}),S[6].push({type:0,data:Ar(A)});b[N].messages[0].data=As(S)}w.content=ym(vm(b)),w.size=w.content.length,delete j[46];var P=Qn(j[4][0].data);{P[7][0].data=Ar(s.e.r+1);var R=Qn(P[1][0].data),I=nd(R[2][0].data);w=$r.find(d,l[I].location),b=Eo(Ao(w.content));{if(b[0].id!=I)throw"Bad HeaderStorageBucket";var z=Qn(b[0].messages[0].data);for(A=0;A<i.length;++A){var U=Qn(z[2][0].data);U[1][0].data=Ar(A),U[4][0].data=Ar(i[A].length),z[2][A]={type:z[2][0].type,data:As(U)}}b[0].messages[0].data=As(z)}w.content=ym(vm(b)),w.size=w.content.length;var L=nd(P[2][0].data);w=$r.find(d,l[L].location),b=Eo(Ao(w.content));{if(b[0].id!=L)throw"Bad HeaderStorageBucket";for(z=Qn(b[0].messages[0].data),E=0;E<=s.e.c;++E)U=Qn(z[2][0].data),U[1][0].data=Ar(E),U[4][0].data=Ar(s.e.r+1),z[2][E]={type:z[2][0].type,data:As(U)};b[0].messages[0].data=As(z)}w.content=ym(vm(b)),w.size=w.content.length;var T=nd(P[4][0].data);(function(){for(var W=$r.find(d,l[T].location),F=Eo(Ao(W.content)),q,le=0;le<F.length;++le){var fe=F[le];fe.id==T&&(q=fe)}var B=Qn(q.messages[0].data);{B[3]=[];var K=[];o.forEach(function(ue,ge){K[1]=[{type:0,data:Ar(ge)}],K[2]=[{type:0,data:Ar(1)}],K[3]=[{type:2,data:nJe(ue)}],B[3].push({type:2,data:As(K)})})}q.messages[0].data=As(B);var se=vm(F),Ne=ym(se);W.content=Ne,W.size=W.content.length})();var k=Qn(P[3][0].data);{var O=k[1][0];delete k[2];var M=Qn(O.data);{var ie=nd(M[2][0].data);(function(){for(var W=$r.find(d,l[ie].location),F=Eo(Ao(W.content)),q,le=0;le<F.length;++le){var fe=F[le];fe.id==ie&&(q=fe)}var B=Qn(q.messages[0].data);{delete B[6],delete k[7];var K=new Uint8Array(B[5][0].data);B[5]=[];for(var se=0,Ne=0;Ne<=s.e.r;++Ne){var ue=Qn(K);se+=oJe(ue,i[Ne],o),ue[1][0].data=Ar(Ne),B[5].push({data:As(ue),type:2})}B[1]=[{type:0,data:Ar(s.e.c+1)}],B[2]=[{type:0,data:Ar(s.e.r+1)}],B[3]=[{type:0,data:Ar(se)}],B[4]=[{type:0,data:Ar(s.e.r+1)}]}q.messages[0].data=As(B);var ge=vm(F),xe=ym(ge);W.content=xe,W.size=W.content.length})()}O.data=As(M)}P[3][0].data=As(k)}j[4][0].data=As(P)}h.messages[0].data=As(j);var ce=vm(m),D=ym(ce);return f.content=D,f.size=f.content.length,d}function cJe(e){return function(r){for(var s=0;s!=e.length;++s){var a=e[s];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function R3(e){cJe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function dJe(e,t){return t.bookType=="ods"?yJ(e,t):t.bookType=="numbers"?lJe(e,t):t.bookType=="xlsb"?uJe(e,t):fJe(e,t)}function uJe(e,t){Bm=1024,e&&!e.SSF&&(e.SSF=ei(Cn)),e&&e.SSF&&(L2(),$2(e.SSF),t.revssf=B2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ag?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",s=tJ.indexOf(t.bookType)>-1,a=PZ();R3(t=t||{});var i=y3(),o="",l=0;if(t.cellXfs=[],bu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Zt(i,o,IZ(e.Props,t)),a.coreprops.push(o),Pr(t.rels,2,o,gr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Zt(i,o,MZ(e.Props)),a.extprops.push(o),Pr(t.rels,3,o,gr.EXT_PROPS),e.Custprops!==e.Props&&Vs(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Zt(i,o,FZ(e.Custprops)),a.custprops.push(o),Pr(t.rels,4,o,gr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var u={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],m=(f||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Zt(i,o,hZe(l-1,o,t,e,u)),a.sheets.push(o),Pr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,gr.WS[0])}if(f){var h=f["!comments"],x=!1,p="";h&&h.length>0&&(p="xl/comments"+l+"."+r,Zt(i,p,gZe(h,p)),a.comments.push(p),Pr(u,-1,"../comments"+l+"."+r,gr.CMNT),x=!0),f["!legacy"]&&x&&Zt(i,"xl/drawings/vmlDrawing"+l+".vml",JZ(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&Zt(i,OZ(o),ih(u))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Zt(i,o,xZe(t.Strings,o,t)),a.strs.push(o),Pr(t.wbrels,-1,"sharedStrings."+r,gr.SST)),o="xl/workbook."+r,Zt(i,o,mZe(e,o)),a.workbooks.push(o),Pr(t.rels,1,o,gr.WB),o="xl/theme/theme1.xml",Zt(i,o,QZ(e.Themes,t)),a.themes.push(o),Pr(t.wbrels,-1,"theme/theme1.xml",gr.THEME),o="xl/styles."+r,Zt(i,o,pZe(e,o,t)),a.styles.push(o),Pr(t.wbrels,-1,"styles."+r,gr.STY),e.vbaraw&&s&&(o="xl/vbaProject.bin",Zt(i,o,e.vbaraw),a.vba.push(o),Pr(t.wbrels,-1,"vbaProject.bin",gr.VBA)),o="xl/metadata."+r,Zt(i,o,vZe(o)),a.metadata.push(o),Pr(t.wbrels,-1,"metadata."+r,gr.XLMETA),Zt(i,"[Content_Types].xml",TZ(a,t)),Zt(i,"_rels/.rels",ih(t.rels)),Zt(i,"xl/_rels/workbook."+r+".rels",ih(t.wbrels)),delete t.revssf,delete t.ssf,i}function fJe(e,t){Bm=1024,e&&!e.SSF&&(e.SSF=ei(Cn)),e&&e.SSF&&(L2(),$2(e.SSF),t.revssf=B2(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Ag?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",s=tJ.indexOf(t.bookType)>-1,a=PZ();R3(t=t||{});var i=y3(),o="",l=0;if(t.cellXfs=[],bu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Zt(i,o,IZ(e.Props,t)),a.coreprops.push(o),Pr(t.rels,2,o,gr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Zt(i,o,MZ(e.Props)),a.extprops.push(o),Pr(t.rels,3,o,gr.EXT_PROPS),e.Custprops!==e.Props&&Vs(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Zt(i,o,FZ(e.Custprops)),a.custprops.push(o),Pr(t.rels,4,o,gr.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],h=(m||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Zt(i,o,dJ(l-1,t,e,f)),a.sheets.push(o),Pr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,gr.WS[0])}if(m){var x=m["!comments"],p=!1,g="";if(x&&x.length>0){var j=!1;x.forEach(function(y){y[1].forEach(function(w){w.T==!0&&(j=!0)})}),j&&(g="xl/threadedComments/threadedComment"+l+"."+r,Zt(i,g,zKe(x,u,t)),a.threadedcomments.push(g),Pr(f,-1,"../threadedComments/threadedComment"+l+"."+r,gr.TCMNT)),g="xl/comments"+l+"."+r,Zt(i,g,eJ(x)),a.comments.push(g),Pr(f,-1,"../comments"+l+"."+r,gr.CMNT),p=!0}m["!legacy"]&&p&&Zt(i,"xl/drawings/vmlDrawing"+l+".vml",JZ(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&Zt(i,OZ(o),ih(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Zt(i,o,HZ(t.Strings,t)),a.strs.push(o),Pr(t.wbrels,-1,"sharedStrings."+r,gr.SST)),o="xl/workbook."+r,Zt(i,o,mJ(e)),a.workbooks.push(o),Pr(t.rels,1,o,gr.WB),o="xl/theme/theme1.xml",Zt(i,o,QZ(e.Themes,t)),a.themes.push(o),Pr(t.wbrels,-1,"theme/theme1.xml",gr.THEME),o="xl/styles."+r,Zt(i,o,YZ(e,t)),a.styles.push(o),Pr(t.wbrels,-1,"styles."+r,gr.STY),e.vbaraw&&s&&(o="xl/vbaProject.bin",Zt(i,o,e.vbaraw),a.vba.push(o),Pr(t.wbrels,-1,"vbaProject.bin",gr.VBA)),o="xl/metadata."+r,Zt(i,o,ZZ()),a.metadata.push(o),Pr(t.wbrels,-1,"metadata."+r,gr.XLMETA),u.length>1&&(o="xl/persons/person.xml",Zt(i,o,WKe(u)),a.people.push(o),Pr(t.wbrels,-1,"persons/person.xml",gr.PEOPLE)),Zt(i,"[Content_Types].xml",TZ(a,t)),Zt(i,"_rels/.rels",ih(t.rels)),Zt(i,"xl/_rels/workbook."+r+".rels",ih(t.wbrels)),delete t.revssf,delete t.ssf,i}function mJe(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=zc(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function jJ(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return oy(t.file,$r.write(e,{type:yr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return $r.write(e,t)}function hJe(e,t){var r=ei(t||{}),s=dJe(e,r);return pJe(s,r)}function pJe(e,t){var r={},s=yr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=s;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=s;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?$r.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(F2(a))}return t.password&&typeof encrypt_agile<"u"?jJ(encrypt_agile(a,t.password),t):t.type==="file"?oy(t.file,a):t.type=="string"?_g(a):a}function xJe(e,t){var r=t||{},s=OZe(e,r);return jJ(s,r)}function xl(e,t,r){r||(r="");var s=r+e;switch(t.type){case"base64":return ev(rv(s));case"binary":return rv(s);case"string":return e;case"file":return oy(t.file,s,"utf8");case"buffer":return yr?Zc(s,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(s):xl(s,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function gJe(e,t){switch(t.type){case"base64":return ev(e);case"binary":return e;case"string":return e;case"file":return oy(t.file,e,"binary");case"buffer":return yr?Zc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function wj(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",s=0;s<e.length;++s)r+=String.fromCharCode(e[s]);return t.type=="base64"?ev(r):t.type=="string"?_g(r):r;case"file":return oy(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function bJ(e,t){HHe(),rZe(e);var r=ei(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var s=bJ(e,r);return r.type="array",F2(s)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return xl(PZe(e,r),r);case"slk":case"sylk":return xl(JGe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return xl(xJ(e.Sheets[e.SheetNames[a]],r),r);case"txt":return gJe(wJ(e.Sheets[e.SheetNames[a]],r),r);case"csv":return xl(M3(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return xl(eKe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return wj(ZGe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return xl(tKe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return xl(lKe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return xl(WZ.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return xl(yJ(e,r),r);case"wk1":return wj(bL.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return wj(bL.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),wj(pJ(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),xJe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return hJe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function vJe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function yJe(e,t,r){var s={};return s.type="file",s.file=t,vJe(s),bJ(e,s)}function jJe(e,t,r,s,a,i,o,l){var c=Ls(r),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||e[r])for(var h=t.s.c;h<=t.e.c;++h){var x=o?e[r][h]:e[s[h]+c];if(x===void 0||x.t===void 0){if(d===void 0)continue;i[h]!=null&&(m[i[h]]=d);continue}var p=x.v;switch(x.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(i[h]!=null){if(p==null)if(x.t=="e"&&p===null)m[i[h]]=null;else if(d!==void 0)m[i[h]]=d;else if(u&&p===null)m[i[h]]=null;else continue;else m[i[h]]=u&&(x.t!=="n"||x.t==="n"&&l.rawNumbers!==!1)?p:Wc(x,p,l);p!=null&&(f=!1)}}return{row:m,isempty:f}}function Pw(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},s=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?s=1:d.header==="A"?s=2:Array.isArray(d.header)?s=3:d.header==null&&(s=0),typeof u){case"string":c=tn(u);break;case"number":c=tn(e["!ref"]),c.s.r=u;break;default:c=u}s>0&&(a=0);var f=Ls(c.s.r),m=[],h=[],x=0,p=0,g=Array.isArray(e),j=c.s.r,y=0,w={};g&&!e[j]&&(e[j]=[]);var b=d.skipHidden&&e["!cols"]||[],N=d.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(b[y]||{}).hidden)switch(m[y]=ra(y),r=g?e[j][y]:e[m[y]+f],s){case 1:i[y]=y-c.s.c;break;case 2:i[y]=m[y];break;case 3:i[y]=d.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=Wc(r,null,d),p=w[o]||0,!p)w[o]=1;else{do l=o+"_"+p++;while(w[l]);w[o]=p,w[l]=1}i[y]=l}for(j=c.s.r+a;j<=c.e.r;++j)if(!(N[j]||{}).hidden){var S=jJe(e,c,j,m,s,i,g,d);(S.isempty===!1||(s===1?d.blankrows!==!1:d.blankrows))&&(h[x++]=S.row)}return h.length=x,h}var kL=/"/g;function bJe(e,t,r,s,a,i,o,l){for(var c=!0,d=[],u="",f=Ls(r),m=t.s.c;m<=t.e.c;++m)if(s[m]){var h=l.dense?(e[r]||[])[m]:e[s[m]+f];if(h==null)u="";else if(h.v!=null){c=!1,u=""+(l.rawNumbers&&h.t=="n"?h.v:Wc(h,null,l));for(var x=0,p=0;x!==u.length;++x)if((p=u.charCodeAt(x))===a||p===i||p===34||l.forceQuotes){u='"'+u.replace(kL,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(c=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(kL,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(o)}function M3(e,t){var r=[],s=t??{};if(e==null||e["!ref"]==null)return"";var a=tn(e["!ref"]),i=s.FS!==void 0?s.FS:",",o=i.charCodeAt(0),l=s.RS!==void 0?s.RS:`
`,c=l.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];s.dense=Array.isArray(e);for(var m=s.skipHidden&&e["!cols"]||[],h=s.skipHidden&&e["!rows"]||[],x=a.s.c;x<=a.e.c;++x)(m[x]||{}).hidden||(f[x]=ra(x));for(var p=0,g=a.s.r;g<=a.e.r;++g)(h[g]||{}).hidden||(u=bJe(e,a,g,f,o,c,i,s),u!=null&&(s.strip&&(u=u.replace(d,"")),(u||s.blankrows!==!1)&&r.push((p++?l:"")+u)));return delete s.dense,r.join("")}function wJ(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=M3(e,t);return r}function wJe(e){var t="",r,s="";if(e==null||e["!ref"]==null)return[];var a=tn(e["!ref"]),i="",o=[],l,c=[],d=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=ra(l);for(var u=a.s.r;u<=a.e.r;++u)for(i=Ls(u),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=d?(e[u]||[])[l]:e[t],s="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;s=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)s=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)s=""+r.v;else if(r.t=="b")s=r.v?"TRUE":"FALSE";else if(r.w!==void 0)s="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?s="'"+r.v:s=""+r.v}}c[c.length]=t+"="+s}return c}function NJ(e,t,r){var s=r||{},a=+!s.skipHeader,i=e||{},o=0,l=0;if(i&&s.origin!=null)if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?ps(s.origin):s.origin;o=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var f=tn(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(o=f.e.r+1,u.e.r=o+t.length-1+a)}else o==-1&&(o=0,u.e.r=t.length-1+a);var m=s.header||[],h=0;t.forEach(function(p,g){Vs(p).forEach(function(j){(h=m.indexOf(j))==-1&&(m[h=m.length]=j);var y=p[j],w="z",b="",N=Ir({c:l+h,r:o+g+a});d=av(i,N),y&&typeof y=="object"&&!(y instanceof Date)?i[N]=y:(typeof y=="number"?w="n":typeof y=="boolean"?w="b":typeof y=="string"?w="s":y instanceof Date?(w="d",s.cellDates||(w="n",y=Ja(y)),b=s.dateNF||Cn[14]):y===null&&s.nullError&&(w="e",y=0),d?(d.t=w,d.v=y,delete d.w,delete d.R,b&&(d.z=b)):i[N]=d={t:w,v:y},b&&(d.z=b))})}),u.e.c=Math.max(u.e.c,l+m.length-1);var x=Ls(o);if(a)for(h=0;h<m.length;++h)i[ra(h+l)+x]={t:"s",v:m[h]};return i["!ref"]=Hn(u),i}function NJe(e,t){return NJ(null,e,t)}function av(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var s=ps(t);return e[s.r]||(e[s.r]=[]),e[s.r][s.c]||(e[s.r][s.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?av(e,Ir(t)):av(e,Ir({r:t,c:r||0}))}function _Je(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function SJe(){return{SheetNames:[],Sheets:{}}}function CJe(e,t,r,s){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(fJ(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function EJe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var s=_Je(e,t);switch(e.Workbook.Sheets[s]||(e.Workbook.Sheets[s]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[s].Hidden=r}function AJe(e,t){return e.z=t,e}function _J(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function kJe(e,t,r){return _J(e,"#"+t,r)}function PJe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function TJe(e,t,r,s){for(var a=typeof t!="string"?t:tn(t),i=typeof t=="string"?t:Hn(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=av(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,s&&(c.D=!0))}return e}var tC={encode_col:ra,encode_row:Ls,encode_cell:Ir,encode_range:Hn,decode_col:S3,decode_row:_3,split_cell:Hqe,decode_cell:ps,decode_range:Di,format_cell:Wc,sheet_add_aoa:_Z,sheet_add_json:NJ,sheet_add_dom:gJ,aoa_to_sheet:Jp,json_to_sheet:NJe,table_to_sheet:vJ,table_to_book:eJe,sheet_to_csv:M3,sheet_to_txt:wJ,sheet_to_json:Pw,sheet_to_html:xJ,sheet_to_formulae:wJe,sheet_to_row_object_array:Pw,sheet_get_cell:av,book_new:SJe,book_append_sheet:CJe,book_set_sheet_visibility:EJe,cell_set_number_format:AJe,cell_set_hyperlink:_J,cell_set_internal_link:kJe,cell_add_comment:PJe,sheet_set_array_formula:TJe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function OJe(){return n.jsx(Y,{className:"shadow-sm",children:n.jsxs(X,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(_,{className:"h-5 w-5 rounded-full"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-3 w-20"}),n.jsx(_,{className:"h-8 w-12"})]})]})})}function DJe(){return n.jsxs(Y,{className:"shadow-md",children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-5 w-32"})]})}),n.jsx(X,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-end justify-between h-[200px] gap-2",children:[60,80,45,90,70,55,85].map((e,t)=>n.jsx("div",{className:"flex-1 flex flex-col justify-end",children:n.jsx(_,{className:"w-full rounded-t-md",style:{height:`${e}%`}})},t))}),n.jsx("div",{className:"flex justify-between",children:[...Array(7)].map((e,t)=>n.jsx(_,{className:"h-3 w-12"},t))})]})})]})}function IJe(){return n.jsxs(Y,{className:"shadow-md",children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-5 w-40"})]})}),n.jsx(X,{className:"flex items-center justify-center",children:n.jsxs("div",{className:"relative",children:[n.jsx(_,{className:"h-40 w-40 rounded-full"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"h-20 w-20 rounded-full bg-background"})})]})})]})}function RJe(){return n.jsx(Y,{className:"shadow-md",children:n.jsx(X,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsx(_,{className:"flex-1 h-10 rounded-md"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(_,{className:"h-10 w-[140px] rounded-md"}),n.jsx(_,{className:"h-10 w-[140px] rounded-md"}),n.jsx(_,{className:"h-10 w-[120px] rounded-md"})]})]})})})})}function MJe(){return n.jsxs("div",{className:"flex-1 min-w-[300px]",children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded-full"}),n.jsx(_,{className:"h-5 w-32"})]}),n.jsx(_,{className:"h-6 w-8 rounded-full"})]}),n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>n.jsx(Y,{className:"shadow-sm",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx(_,{className:"h-4 w-24 rounded-full"}),n.jsx(_,{className:"h-4 w-16 rounded-full"})]}),n.jsx(_,{className:"h-5 w-full"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-3 w-full"}),n.jsx(_,{className:"h-3 w-4/5"})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-3 w-20"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(_,{className:"h-4 w-12"}),n.jsx(_,{className:"h-4 w-12"})]})]})]})})},t))})]})}function FJe(){return n.jsxs("div",{className:"flex items-center gap-4 p-4 border-b",children:[n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-10 w-10 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(_,{className:"h-4 w-full max-w-md"}),n.jsx(_,{className:"h-3 w-3/4 max-w-sm"})]}),n.jsx(_,{className:"h-6 w-20 rounded-full"}),n.jsx(_,{className:"h-6 w-16 rounded-full"}),n.jsx(_,{className:"h-6 w-24 rounded-full"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(_,{className:"h-8 w-8 rounded"}),n.jsx(_,{className:"h-8 w-8 rounded"})]})]})}function $Je(){return n.jsx(Y,{className:"shadow-sm hover:shadow-md transition-shadow",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx(_,{className:"h-4 w-24 rounded-full"}),n.jsx(_,{className:"h-4 w-16 rounded-full"})]}),n.jsx(_,{className:"h-32 w-full rounded-lg"}),n.jsx(_,{className:"h-5 w-full"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-3 w-full"}),n.jsx(_,{className:"h-3 w-4/5"})]}),n.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-3 w-24"})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(_,{className:"h-9 flex-1 rounded"}),n.jsx(_,{className:"h-9 w-9 rounded"})]})]})})})}function LJe({viewMode:e="kanban"}){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-11 w-36 rounded-md"}),n.jsx(_,{className:"h-11 w-32 rounded-md"})]}),n.jsx(_,{className:"h-10 w-24 rounded-md"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[...Array(8)].map((t,r)=>n.jsx(OJe,{},r))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(DJe,{}),n.jsx(IJe,{})]}),n.jsx(RJe,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(_,{className:"h-10 w-64 rounded-md"}),n.jsx(_,{className:"h-9 w-32 rounded-md"})]}),e==="kanban"&&n.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:[...Array(4)].map((t,r)=>n.jsx(MJe,{},r))}),e==="table"&&n.jsx(Y,{className:"shadow-md",children:n.jsx(X,{className:"p-0",children:n.jsxs("div",{className:"space-y-0",children:[n.jsxs("div",{className:"flex items-center gap-4 p-4 border-b bg-muted/50",children:[n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-4 w-32 flex-1"}),n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-4 w-20"})]}),[...Array(5)].map((t,r)=>n.jsx(FJe,{},r))]})})}),e==="grid"&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[...Array(8)].map((t,r)=>n.jsx($Je,{},r))})]})}const BJe=()=>{var Ie;const e=fr(),{apartments:t,products:r,vendors:s,updateIssue:a}=Sl(),[i,o]=v.useState([]),[l,c]=v.useState(!0);v.useEffect(()=>{(async()=>{c(!0);try{const Re=await ms.getIssues({page_size:100});o(Re.results||[])}catch(Re){console.error("Failed to fetch issues:",Re),Ue.error("Failed to load issues")}finally{c(!1)}})()},[]);const d=i,[u,f]=v.useState("kanban"),[m,h]=v.useState(""),[x,p]=v.useState("All"),[g,j]=v.useState("All"),[y,w]=v.useState("All"),[b,N]=v.useState("All"),[S,E]=v.useState("All"),[C,A]=v.useState("All"),[P,R]=v.useState(!1),[I,z]=v.useState(null),[U,L]=v.useState(!1),[T,k]=v.useState(!1),[O,M]=v.useState(null),[ie,ce]=v.useState(!1),D=v.useMemo(()=>{const de={};return d.forEach((Re,ot)=>{de[Re.id]=["Critical","High","Medium","Low"][ot%4]}),de},[d]),W=["Admin","Barbara Kovcs","Maria Weber","Unassigned"],F=de=>{const Re=t.find(ot=>ot.id===de);return(Re==null?void 0:Re.name)||"Unknown"},q=de=>{const Re={Critical:"bg-danger/10 text-danger border-danger/20",High:"bg-warning/10 text-warning border-warning/20",Medium:"bg-primary/10 text-primary border-primary/20",Low:"bg-muted text-muted-foreground border-border"};return Re[de]||Re.Low},le=de=>{const Re={Open:"bg-danger/10 text-danger border-danger/20","Pending Vendor Response":"bg-warning/10 text-warning border-warning/20","Resolution Agreed":"bg-primary/10 text-primary border-primary/20",Closed:"bg-success/10 text-success border-success/20"};return Re[de]||Re.Open},fe=de=>{switch(de){case"Broken/Damaged":return n.jsx(Ct,{className:"h-4 w-4"});case"Wrong Item/Color":return n.jsx(El,{className:"h-4 w-4"});case"Missing Parts":return n.jsx(ct,{className:"h-4 w-4"});case"Incorrect Quantity":return n.jsx(fo,{className:"h-4 w-4"});default:return n.jsx(Ct,{className:"h-4 w-4"})}},B=v.useMemo(()=>d.filter(de=>{var dt,Ht,Nr,jt;const Re=((dt=de.apartment_details)==null?void 0:dt.name)||de.apartment_name||F(de.apartment),ot=de.display_product_name||de.product_name||((Ht=de.product_details)==null?void 0:Ht.product)||"",wt=de.vendor_name||((Nr=de.vendor_details)==null?void 0:Nr.name)||de.vendor||"",Qe=de.priority||D[de.id],je=ot.toLowerCase().includes(m.toLowerCase())||de.description.toLowerCase().includes(m.toLowerCase())||wt.toLowerCase().includes(m.toLowerCase())||Re.toLowerCase().includes(m.toLowerCase()),He=x==="All"||de.status===x,ye=g==="All"||((jt=de.type)==null?void 0:jt.includes(g)),Je=y==="All"||Qe===y,sr=b==="All"||de.apartment===b,Er=S==="All"||de.vendor===S||wt===S;return je&&He&&ye&&Je&&sr&&Er}),[d,m,x,g,y,b,S,D]),K=v.useMemo(()=>{const de=B.length,Re=B.filter(Je=>Je.status==="Open").length,ot=B.filter(Je=>Je.status==="Pending Vendor Response").length,wt=B.filter(Je=>Je.status==="Resolution Agreed").length,Qe=B.filter(Je=>Je.status==="Closed").length,je=B.filter(Je=>(Je.priority||D[Je.id])==="Critical").length,He=B.filter(Je=>Je.ai_activated).length;return{total:de,open:Re,pending:ot,resolved:wt,closed:Qe,critical:je,withAI:He,avgResolutionDays:5.2}},[B,D]),se=v.useMemo(()=>{const de={Open:[],"Pending Vendor Response":[],"Resolution Agreed":[],Closed:[]};return B.forEach(Re=>{de[Re.status]&&de[Re.status].push(Re)}),de},[B]),Ne=v.useMemo(()=>{const de=[];for(let Re=6;Re>=0;Re--){const ot=fc(new Date,Re);de.push({date:Kt(ot,"MMM dd"),reported:Math.floor(Math.random()*5)+1,resolved:Math.floor(Math.random()*4)})}return de},[]),ue=v.useMemo(()=>{const de=["Broken/Damaged","Wrong Item/Color","Missing Parts","Incorrect Quantity"];return de.map(Re=>({name:Re,value:B.filter(ot=>ot.type===Re).length,color:["hsl(var(--danger))","hsl(var(--warning))","hsl(var(--primary))","hsl(var(--success))"][de.indexOf(Re)]})).filter(Re=>Re.value>0)},[B]),ge=Array.from(new Set(d.map(de=>{var Re;return de.vendor_name||((Re=de.vendor_details)==null?void 0:Re.name)||de.vendor}))).filter(Boolean).sort(),xe=()=>{h(""),p("All"),j("All"),w("All"),N("All"),E("All"),A("All")},Se=[m,x!=="All",g!=="All",y!=="All",b!=="All",S!=="All",C!=="All"].filter(Boolean).length,Me=de=>{e(`/issues/${de.id}`)},Oe=(de,Re)=>{de.stopPropagation(),e(`/issues/${Re.id}/edit`)},te=(de,Re)=>{de.stopPropagation(),M(Re),k(!0)},he=async()=>{var de,Re;if(O){ce(!0);try{await ms.deleteIssue(O.id),Ue.success("Issue deleted successfully");const ot=await ms.getIssues({});o(ot.results||[])}catch(ot){Ue.error(((Re=(de=ot.response)==null?void 0:de.data)==null?void 0:Re.message)||"Failed to delete issue")}finally{ce(!1),k(!1),M(null)}}},oe=()=>{try{const de=B.map(je=>{var He,ye,Je,sr,Er;return{"Issue ID":je.id,Product:je.display_product_name||je.product_name||((He=je.product_details)==null?void 0:He.product)||"Unknown",Type:je.type,Priority:je.priority||D[je.id],Status:je.status,Apartment:((ye=je.apartment_details)==null?void 0:ye.name)||je.apartment_name||F(je.apartment),Vendor:je.vendor_name||((Je=je.vendor_details)==null?void 0:Je.name)||je.vendor,Description:je.description,"Reported Date":je.reported_on?Kt(new Date(je.reported_on),"yyyy-MM-dd"):"Unknown","Days Open":je.reported_on?Ky(new Date,new Date(je.reported_on)):0,"AI Active":je.ai_activated?"Yes":"No",Photos:((sr=je.photos)==null?void 0:sr.length)||0,Communications:((Er=je.ai_communication_log)==null?void 0:Er.length)||0}}),Re=tC.json_to_sheet(de),ot=[{wch:15},{wch:30},{wch:20},{wch:10},{wch:20},{wch:20},{wch:20},{wch:40},{wch:12},{wch:10},{wch:10},{wch:8},{wch:15}];Re["!cols"]=ot;const wt=tC.book_new();tC.book_append_sheet(wt,Re,"Issues");const Qe=`Issues_Report_${Kt(new Date,"yyyy-MM-dd_HHmmss")}.xlsx`;yJe(wt,Qe),Ue.success("Export Complete",{description:`Downloaded ${B.length} issues to ${Qe}`})}catch{Ue.error("Export Failed",{description:"Failed to generate the export file"})}},be=()=>{if(B.length===0){Ue.error("No issues to email");return}e("/issues/bulk-email",{state:{selectedIssues:B}})},Le=v.useCallback(async de=>{const{destination:Re,source:ot,draggableId:wt}=de;if(!Re||Re.droppableId===ot.droppableId&&Re.index===ot.index)return;const Qe=Re.droppableId,je=wt,He=B.find(ye=>ye.id===je);if(He&&He.status!==Qe)try{Ue.loading(`Moving issue to ${Qe}...`,{id:"drag-status"}),await ms.updateIssue(je,{status:Qe});const ye=await ms.getIssues();o(ye.results||[]),Ue.success(`Issue moved to ${Qe}`,{id:"drag-status"})}catch(ye){console.error("Failed to update issue status:",ye),Ue.error("Failed to update issue status",{id:"drag-status"})}},[B]);return l?n.jsx(ut,{title:"Issues Management",children:n.jsx(LJe,{viewMode:u})}):n.jsxs(ut,{title:"Issues Management",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ee,{size:"lg",className:"h-11 shadow-lg hover:shadow-xl transition-shadow",onClick:()=>e("/issues/new"),children:[n.jsx(Fn,{className:"h-5 w-5 mr-2"}),"Report Issue"]}),n.jsxs(ee,{variant:"outline",size:"lg",className:"h-11 shadow-sm hover:shadow-md transition-shadow",onClick:be,children:[n.jsx(cn,{className:"h-4 w-4 mr-2"}),"Bulk Email"]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(ee,{variant:"outline",onClick:oe,className:"shadow-sm hover:shadow-md transition-shadow",children:[n.jsx(xv,{className:"h-4 w-4 mr-2"}),"Export"]})})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[n.jsx(Y,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(X,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(S9,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Total Issues"}),n.jsx("p",{className:"text-2xl font-bold",children:K.total})]})]})}),n.jsx(Y,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(X,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(Ct,{className:"h-5 w-5 text-danger"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Open"}),n.jsx("p",{className:"text-2xl font-bold text-danger",children:K.open})]})]})}),n.jsx(Y,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(X,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(jr,{className:"h-5 w-5 text-warning"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold text-warning",children:K.pending})]})]})}),n.jsx(Y,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(X,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(wb,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Resolved"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:K.resolved})]})]})}),n.jsx(Y,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(X,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(or,{className:"h-5 w-5 text-success"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Closed"}),n.jsx("p",{className:"text-2xl font-bold text-success",children:K.closed})]})]})}),n.jsx(Y,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(X,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(Gg,{className:"h-5 w-5 text-danger"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Critical"}),n.jsx("p",{className:"text-2xl font-bold text-danger",children:K.critical})]})]})}),n.jsx(Y,{className:"shadow-sm hover:shadow-md transition-shadow  bg-gradient-to-br from-primary/5 to-transparent",children:n.jsxs(X,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(va,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"AI Active"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:K.withAI})]})]})}),n.jsx(Y,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(X,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(Ine,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Avg Resolution"}),n.jsxs("p",{className:"text-2xl font-bold",children:[K.avgResolutionDays,"d"]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(Y,{className:"shadow-md ",children:[n.jsx(we,{children:n.jsxs(Ve,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(qa,{className:"h-5 w-5 text-primary"}),"Issues Trend"]})}),n.jsx(X,{children:n.jsx(rn,{width:"100%",height:250,children:n.jsxs(w2,{data:Ne,children:[n.jsx(Tn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(Xr,{dataKey:"date",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(Qr,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),n.jsx(Go,{}),n.jsx(zl,{type:"monotone",dataKey:"reported",stroke:"hsl(var(--danger))",strokeWidth:2,name:"Reported"}),n.jsx(zl,{type:"monotone",dataKey:"resolved",stroke:"hsl(var(--success))",strokeWidth:2,name:"Resolved"})]})})})]}),n.jsxs(Y,{className:"shadow-md ",children:[n.jsx(we,{children:n.jsxs(Ve,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(ct,{className:"h-5 w-5 text-primary"}),"Issue Types Distribution"]})}),n.jsx(X,{children:n.jsx(rn,{width:"100%",height:250,children:n.jsxs(yg,{children:[n.jsx(Si,{data:ue,cx:"50%",cy:"50%",labelLine:!1,label:({name:de,percent:Re})=>`${de.split("/")[0]}: ${(Re*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:ue.map((de,Re)=>n.jsx(ua,{fill:de.color},`cell-${Re}`))}),n.jsx(mr,{})]})})})]})]}),n.jsx(Y,{className:"shadow-md",children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search issues by product, description, vendor, or apartment...",value:m,onChange:de=>h(de.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap lg:flex-nowrap",children:[n.jsxs(at,{value:x,onValueChange:p,children:[n.jsx(nt,{className:"w-full sm:w-[140px]",children:n.jsx(it,{placeholder:"Status"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"All",children:"All Status"}),n.jsx(Z,{value:"Open",children:"Open"}),n.jsx(Z,{value:"Pending Vendor Response",children:"Pending"}),n.jsx(Z,{value:"Resolution Agreed",children:"Resolved"}),n.jsx(Z,{value:"Closed",children:"Closed"})]})]}),n.jsxs(at,{value:g,onValueChange:j,children:[n.jsx(nt,{className:"w-full sm:w-[140px]",children:n.jsx(it,{placeholder:"Type"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"All",children:"All Types"}),n.jsx(Z,{value:"Broken/Damaged",children:"Damaged"}),n.jsx(Z,{value:"Wrong Item/Color",children:"Wrong Item"}),n.jsx(Z,{value:"Missing Parts",children:"Missing"}),n.jsx(Z,{value:"Incorrect Quantity",children:"Quantity"})]})]}),n.jsxs(ee,{variant:P?"default":"outline",onClick:()=>R(!P),className:"relative",children:[n.jsx(gv,{className:"h-4 w-4 mr-2"}),"Filters",Se>0&&n.jsx(Ce,{className:"ml-2 h-5 w-5 p-0 flex items-center justify-center bg-primary-foreground text-primary",children:Se}),P?n.jsx(Zw,{className:"h-4 w-4 ml-2"}):n.jsx(Wf,{className:"h-4 w-4 ml-2"})]})]})]}),P&&n.jsxs("div",{className:"pt-4 border-t space-y-4 animate-slide-down",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-sm font-semibold",children:"Advanced Filters"}),Se>0&&n.jsxs(ee,{variant:"ghost",size:"sm",onClick:xe,className:"h-8 text-xs",children:[n.jsx(Zn,{className:"h-3 w-3 mr-1"}),"Clear All"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{className:"text-xs font-medium text-muted-foreground",children:"Priority"}),n.jsxs(at,{value:y,onValueChange:w,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"All Priorities"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"All",children:"All Priorities"}),n.jsx(Z,{value:"Critical",children:"Critical"}),n.jsx(Z,{value:"High",children:"High"}),n.jsx(Z,{value:"Medium",children:"Medium"}),n.jsx(Z,{value:"Low",children:"Low"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{className:"text-xs font-medium text-muted-foreground",children:"Apartment"}),n.jsxs(at,{value:b,onValueChange:N,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"All Apartments"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"All",children:"All Apartments"}),t.map(de=>n.jsx(Z,{value:de.id,children:de.name},de.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{className:"text-xs font-medium text-muted-foreground",children:"Vendor"}),n.jsxs(at,{value:S,onValueChange:E,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"All Vendors"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"All",children:"All Vendors"}),ge.map(de=>n.jsx(Z,{value:de,children:de},de))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{className:"text-xs font-medium text-muted-foreground",children:"Assigned To"}),n.jsxs(at,{value:C,onValueChange:A,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"All Assignees"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"All",children:"All Assignees"}),W.map(de=>n.jsx(Z,{value:de,children:de},de))]})]})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",n.jsx("span",{className:"font-semibold text-foreground",children:B.length})," of"," ",n.jsx("span",{className:"font-semibold text-foreground",children:d.length})," issues"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ee,{variant:u==="kanban"?"default":"ghost",size:"sm",onClick:()=>f("kanban"),children:n.jsx(jne,{className:"h-4 w-4"})}),n.jsx(ee,{variant:u==="table"?"default":"ghost",size:"sm",onClick:()=>f("table"),children:n.jsx(wne,{className:"h-4 w-4"})}),n.jsx(ee,{variant:u==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),children:n.jsx(vne,{className:"h-4 w-4"})})]})]})]})})}),u==="kanban"&&n.jsx(rHe,{onDragEnd:Le,children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("div",{className:"flex gap-4 pb-4",style:{minWidth:"min-content"},children:Object.entries(se).map(([de,Re])=>n.jsx("div",{className:"flex-shrink-0 w-96",children:n.jsxs(Y,{className:"h-full",children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ve,{className:"text-base font-semibold",children:de}),n.jsx(Ce,{className:le(de),children:Re.length})]})}),n.jsx(VHe,{droppableId:de,children:(ot,wt)=>n.jsxs(X,{ref:ot.innerRef,...ot.droppableProps,className:ve("space-y-3 max-h-[600px] overflow-y-auto min-h-[100px] transition-colors",wt.isDraggingOver&&"bg-primary/5 border-2 border-dashed border-primary/30 rounded-lg"),children:[Re.map((Qe,je)=>{const He=Qe.priority||D[Qe.id],ye=Qe.reported_on?Ky(new Date,new Date(Qe.reported_on)):0;return n.jsx(bHe,{draggableId:Qe.id,index:je,children:(Je,sr)=>n.jsx(Y,{ref:Je.innerRef,...Je.draggableProps,...Je.dragHandleProps,className:ve("hover:shadow-md transition-all cursor-grab border-l-4",sr.isDragging&&"shadow-xl rotate-2 cursor-grabbing ring-2 ring-primary"),style:{...Je.draggableProps.style,borderLeftColor:He==="Critical"?"hsl(var(--danger))":He==="High"?"hsl(var(--warning))":"hsl(var(--border))"},onClick:()=>!sr.isDragging&&Me(Qe),children:n.jsx(X,{className:"p-3 space-y-2",children:(()=>{var It,ar,Kn,Ss,Li,sm;const Er=Qe.items||[],dt=Er.length||Qe.items_count||0,Ht=dt>0?Er.slice(0,4):[],Nr=Math.max(0,dt-4),jt=((It=Er[0])==null?void 0:It.product_image)||((ar=Qe.order_item_details)==null?void 0:ar.product_image)||((Kn=Qe.product_details)==null?void 0:Kn.product_image);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[fe(Qe.type),n.jsx("span",{className:"font-semibold text-sm truncate",children:Qe.display_product_name||Qe.product_name||((Ss=Qe.product_details)==null?void 0:Ss.product)||"Unknown"})]}),n.jsx(Ce,{className:q(He),variant:"outline",children:He})]}),n.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:Qe.description}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ce,{variant:"outline",className:"text-xs",children:((Li=Qe.apartment_details)==null?void 0:Li.name)||Qe.apartment_name||F(Qe.apartment)}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:Qe.vendor_name||((sm=Qe.vendor_details)==null?void 0:sm.name)||Qe.vendor}),Qe.ai_activated&&n.jsxs(Ce,{className:"text-xs bg-primary/10 text-primary border-primary/20",children:[n.jsx(va,{className:"h-3 w-3 mr-1"}),"AI"]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[n.jsx(jr,{className:"h-3 w-3"}),ye,"d ago"]}),n.jsxs("div",{className:"flex items-center gap-0.5",children:[n.jsx("button",{onClick:ul=>Oe(ul,Qe),className:"p-1 rounded hover:bg-muted transition-colors",title:"Edit Issue",children:n.jsx($s,{className:"h-3 w-3 text-muted-foreground hover:text-primary"})}),n.jsx("button",{onClick:ul=>te(ul,Qe),className:"p-1 rounded hover:bg-destructive/10 transition-colors",title:"Delete Issue",children:n.jsx(on,{className:"h-3 w-3 text-muted-foreground hover:text-destructive"})})]})]}),n.jsx("div",{className:"flex items-center -space-x-2",children:dt>0?n.jsxs(n.Fragment,{children:[Ht.map((ul,fy)=>n.jsx("div",{className:"relative",style:{zIndex:10-fy},children:ul.product_image?n.jsx("img",{src:ul.product_image,alt:ul.product_name||"Product",className:"w-7 h-7 rounded-full object-cover border-2 border-background shadow-sm"}):n.jsx("div",{className:"w-7 h-7 rounded-full bg-muted flex items-center justify-center border-2 border-background shadow-sm",children:n.jsx(ct,{className:"h-3 w-3 text-muted-foreground"})})},ul.id||fy)),Nr>0&&n.jsxs("div",{className:"w-7 h-7 rounded-full bg-primary/10 flex items-center justify-center border-2 border-background shadow-sm text-[10px] font-semibold text-primary",style:{zIndex:1},children:["+",Nr]})]}):jt?n.jsx("img",{src:jt,alt:Qe.display_product_name||"Product",className:"w-7 h-7 rounded-full object-cover border-2 border-background shadow-sm"}):n.jsx("div",{className:"w-7 h-7 rounded-full bg-muted flex items-center justify-center border-2 border-background shadow-sm",children:n.jsx(ct,{className:"h-3 w-3 text-muted-foreground"})})})]})]})})()})})},Qe.id)}),ot.placeholder,Re.length===0&&!wt.isDraggingOver&&n.jsxs("div",{className:"text-center py-12 text-sm text-muted-foreground",children:[n.jsx(ct,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/30"}),"No issues"]}),Re.length===0&&wt.isDraggingOver&&n.jsxs("div",{className:"text-center py-8 text-sm text-primary",children:[n.jsx(ct,{className:"h-10 w-10 mx-auto mb-2 text-primary/50"}),"Drop here to move to ",de]})]})})]})},de))})})}),u==="table"&&n.jsx(Y,{children:n.jsx(X,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(js,{children:[n.jsx(bs,{children:n.jsxs($t,{className:"bg-muted/50",children:[n.jsx(Pe,{className:"font-semibold",children:"Issue"}),n.jsx(Pe,{className:"font-semibold",children:"Product"}),n.jsx(Pe,{className:"font-semibold",children:"Type"}),n.jsx(Pe,{className:"font-semibold",children:"Priority"}),n.jsx(Pe,{className:"font-semibold",children:"Status"}),n.jsx(Pe,{className:"font-semibold",children:"Apartment"}),n.jsx(Pe,{className:"font-semibold",children:"Vendor"}),n.jsx(Pe,{className:"font-semibold",children:"Reported"}),n.jsx(Pe,{className:"font-semibold",children:"AI"}),n.jsx(Pe,{className:"font-semibold text-center",children:"Actions"})]})}),n.jsx(ws,{children:B.length===0?n.jsx($t,{children:n.jsxs(_e,{colSpan:10,className:"text-center py-12 text-muted-foreground",children:[n.jsx(Ct,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/30"}),n.jsx("p",{children:"No issues found"})]})}):B.map(de=>{var wt,Qe,je;const Re=de.priority||D[de.id],ot=de.reported_on?Ky(new Date,new Date(de.reported_on)):0;return n.jsxs($t,{className:"hover:bg-muted/50",children:[n.jsx(_e,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[fe(de.type),n.jsxs("span",{className:"font-mono text-xs text-muted-foreground",children:["#",de.id.slice(-6)]})]})}),n.jsx(_e,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:de.display_product_name||de.product_name||((wt=de.product_details)==null?void 0:wt.product)||"Unknown"}),n.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:de.description})]})}),n.jsx(_e,{children:n.jsx(Ce,{variant:"outline",className:"text-xs",children:de.type})}),n.jsx(_e,{children:n.jsx(Ce,{className:q(Re),variant:"outline",children:Re})}),n.jsx(_e,{children:n.jsx(Ce,{className:le(de.status),children:de.status})}),n.jsx(_e,{children:n.jsx("span",{className:"text-sm",children:((Qe=de.apartment_details)==null?void 0:Qe.name)||de.apartment_name||F(de.apartment)})}),n.jsx(_e,{children:n.jsx("span",{className:"text-sm",children:de.vendor_name||((je=de.vendor_details)==null?void 0:je.name)||de.vendor})}),n.jsx(_e,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{children:de.reported_on?Kt(new Date(de.reported_on),"MMM dd, yyyy"):"Unknown"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[ot,"d ago"]})]})}),n.jsx(_e,{children:de.ai_activated?n.jsxs("div",{className:"flex items-center gap-1 text-primary",children:[n.jsx(va,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs",children:"Active"})]}):n.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),n.jsx(_e,{className:"text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-1",children:[n.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>Me(de),title:"View",children:n.jsx(Ha,{className:"h-4 w-4"})}),n.jsx(ee,{variant:"ghost",size:"sm",onClick:He=>Oe(He,de),title:"Edit",children:n.jsx($s,{className:"h-4 w-4"})}),n.jsx(ee,{variant:"ghost",size:"sm",onClick:He=>te(He,de),title:"Delete",className:"hover:text-destructive",children:n.jsx(on,{className:"h-4 w-4"})})]})})]},de.id)})})]})})})}),u==="grid"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[B.map(de=>{var wt,Qe,je;const Re=de.priority||D[de.id],ot=de.reported_on?Ky(new Date,new Date(de.reported_on)):0;return n.jsx(Y,{className:"hover:shadow-lg transition-all cursor-pointer",onClick:()=>Me(de),children:n.jsxs(X,{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[fe(de.type),n.jsx(Ce,{className:q(Re),variant:"outline",children:Re})]}),n.jsx(Ce,{className:le(de.status),children:de.status})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-1",children:de.display_product_name||de.product_name||((wt=de.product_details)==null?void 0:wt.product)||"Unknown"}),n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:de.description})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ce,{variant:"outline",className:"text-xs",children:((Qe=de.apartment_details)==null?void 0:Qe.name)||de.apartment_name||F(de.apartment)}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:de.vendor_name||((je=de.vendor_details)==null?void 0:je.name)||de.vendor}),de.ai_activated&&n.jsxs(Ce,{className:"text-xs bg-primary/10 text-primary border-primary/20",children:[n.jsx(va,{className:"h-3 w-3 mr-1"}),"AI Active"]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(jr,{className:"h-3 w-3"}),ot," days ago"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:He=>Oe(He,de),className:"p-1.5 rounded hover:bg-muted transition-colors",title:"Edit Issue",children:n.jsx($s,{className:"h-3.5 w-3.5 text-muted-foreground hover:text-primary"})}),n.jsx("button",{onClick:He=>te(He,de),className:"p-1.5 rounded hover:bg-destructive/10 transition-colors",title:"Delete Issue",children:n.jsx(on,{className:"h-3.5 w-3.5 text-muted-foreground hover:text-destructive"})})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[de.photos&&de.photos.length>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ki,{className:"h-3 w-3"}),de.photos.length]}),de.aiCommunicationLog&&de.aiCommunicationLog.length>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Vd,{className:"h-3 w-3"}),de.aiCommunicationLog.length]})]})]})]})},de.id)}),B.length===0&&n.jsxs("div",{className:"col-span-full text-center py-12 text-muted-foreground",children:[n.jsx(Ct,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/30"}),n.jsx("p",{children:"No issues found"})]})]})]}),I&&n.jsx(PX,{product:I,open:U,onOpenChange:L}),n.jsx(Xl,{open:T,onOpenChange:k,children:n.jsxs(sl,{className:"sm:max-w-md",children:[n.jsx(al,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(on,{className:"h-6 w-6 text-destructive"})}),n.jsxs("div",{children:[n.jsx(ol,{className:"text-lg",children:"Delete Issue"}),n.jsx(ll,{className:"text-sm",children:"This action cannot be undone."})]})]})}),O&&n.jsx("div",{className:"py-4",children:n.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:O.display_product_name||O.product_name||O.type||"Issue"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:[(Ie=O.description)==null?void 0:Ie.slice(0,100),O.description&&O.description.length>100?"...":""]})]})}),n.jsxs(il,{children:[n.jsx(dl,{disabled:ie,children:"Cancel"}),n.jsx(cl,{onClick:he,disabled:ie,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:ie?n.jsxs(n.Fragment,{children:[n.jsx(zt,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(on,{className:"h-4 w-4 mr-2"}),"Delete Issue"]})})]})]})})]})};function UJe({options:e,value:t=[],onChange:r,placeholder:s="Add status...",className:a,allowCustom:i=!1,customPlaceholder:o="Enter custom value..."}){const[l,c]=v.useState(!1),[d,u]=v.useState(""),[f,m]=v.useState(!1),h=g=>{if(g==="Other (Custom)"&&i){m(!0);return}t.includes(g)?r(t.filter(j=>j!==g)):r([...t,g])},x=()=>{d.trim()&&(r([...t,d.trim()]),u(""),m(!1),c(!1))},p=(g,j)=>{j.stopPropagation(),r(t.filter(y=>y!==g))};return n.jsxs("div",{className:ve("flex flex-col gap-2",a),children:[n.jsx("div",{className:"flex flex-wrap gap-1 min-h-[32px]",children:t.map(g=>n.jsxs(Ce,{variant:"secondary",className:"pl-2 pr-1 py-1 text-xs flex items-center gap-1",children:[g,n.jsx("button",{type:"button",className:"h-4 w-4 p-0 hover:bg-transparent inline-flex items-center justify-center rounded-sm hover:opacity-70",onClick:j=>p(g,j),children:n.jsx(Zn,{className:"h-3 w-3"})})]},g))}),n.jsxs(Iv,{open:l,onOpenChange:c,children:[n.jsx(Rv,{asChild:!0,children:n.jsxs(ee,{variant:"outline",size:"sm",className:"w-full justify-start text-left font-normal",type:"button",children:[n.jsx(Fn,{className:"mr-2 h-3 w-3"}),s]})}),n.jsx(Op,{className:"w-[250px] p-0 max-h-[300px] overflow-hidden",align:"start",side:"bottom",children:f?n.jsxs("div",{className:"p-3 space-y-2",children:[n.jsx("input",{type:"text",value:d,onChange:g=>u(g.target.value),onKeyDown:g=>{g.key==="Enter"?x():g.key==="Escape"&&(m(!1),u(""))},placeholder:o,className:"w-full px-3 py-2 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",autoFocus:!0}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ee,{type:"button",size:"sm",onClick:x,className:"flex-1",children:"Add"}),n.jsx(ee,{type:"button",size:"sm",variant:"outline",onClick:()=>{m(!1),u("")},children:"Cancel"})]})]}):n.jsx(mu,{className:"h-full max-h-[300px]",children:n.jsx("div",{className:"p-1",children:e.map(g=>n.jsxs(ez,{checked:t.includes(g),onCheckedChange:()=>h(g),onSelect:j=>j.preventDefault(),className:"cursor-pointer",children:[n.jsx("span",{className:"flex-1",children:g}),t.includes(g)&&n.jsx(eo,{className:"h-4 w-4 ml-2"})]},g))})})})]})]})}var F3="Checkbox",[VJe,Utt]=Pa(F3),[zJe,WJe]=VJe(F3),SJ=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[m,h]=v.useState(null),x=Ft(t,b=>h(b)),p=v.useRef(!1),g=m?u||!!m.closest("form"):!0,[j=!1,y]=uo({prop:a,defaultProp:i,onChange:d}),w=v.useRef(j);return v.useEffect(()=>{const b=m==null?void 0:m.form;if(b){const N=()=>y(w.current);return b.addEventListener("reset",N),()=>b.removeEventListener("reset",N)}},[m,y]),n.jsxs(zJe,{scope:r,state:j,disabled:l,children:[n.jsx(bt.button,{type:"button",role:"checkbox","aria-checked":Gd(j)?"mixed":j,"aria-required":o,"data-state":AJ(j),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onKeyDown:qe(e.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:qe(e.onClick,b=>{y(N=>Gd(N)?!0:!N),g&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),g&&n.jsx(HJe,{control:m,bubbles:!p.current,name:s,value:c,checked:j,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:Gd(i)?!1:i})]})});SJ.displayName=F3;var CJ="CheckboxIndicator",EJ=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,i=WJe(CJ,r);return n.jsx(os,{present:s||Gd(i.state)||i.state===!0,children:n.jsx(bt.span,{"data-state":AJ(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});EJ.displayName=CJ;var HJe=e=>{const{control:t,checked:r,bubbles:s=!0,defaultChecked:a,...i}=e,o=v.useRef(null),l=N2(r),c=rN(t);v.useEffect(()=>{const u=o.current,f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&h){const x=new Event("click",{bubbles:s});u.indeterminate=Gd(r),h.call(u,Gd(r)?!1:r),u.dispatchEvent(x)}},[l,r,s]);const d=v.useRef(Gd(r)?!1:r);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Gd(e){return e==="indeterminate"}function AJ(e){return Gd(e)?"indeterminate":e?"checked":"unchecked"}var kJ=SJ,qJe=EJ;const Hc=v.forwardRef(({className:e,...t},r)=>n.jsx(kJ,{ref:r,className:ve("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(qJe,{className:ve("flex items-center justify-center text-current"),children:n.jsx(eo,{className:"h-4 w-4"})})}));Hc.displayName=kJ.displayName;const GJe=()=>{var fe;const e=fr(),{data:t,isLoading:r}=OO(),{data:s,isLoading:a}=Zf(),i=(t==null?void 0:t.results)||[],o=(s==null?void 0:s.results)||[],[l,c]=v.useState([]),[d,u]=v.useState(!1),[f,m]=v.useState(null),[h,x]=v.useState(null),[p,g]=v.useState(!1),[j,y]=v.useState(!1),[w,b]=v.useState(1),[N,S]=v.useState(null);v.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[w]);const[E,C]=v.useState({}),[A,P]=v.useState({orderId:"",apartmentId:"all",vendorId:"all",priority:"",impact:"",expectedResolution:"",replacementEta:"",resolutionType:"",resolutionNotes:"",deliveryDate:"",invoiceNumber:"",trackingNumber:"",aiActivated:!1,autoNotifyVendor:!0,photos:[]}),[R,I]=v.useState(""),z=["Other (Custom)","Broken/Damaged","Wrong Item/Color","Missing Parts","Incorrect Quantity","Poor Quality","Late Delivery","Installation Issue","Warranty Claim","Defective Product","Packaging Damage","Wrong Size/Dimensions","Expired Product","Missing Documentation","Safety Hazard"],U=[{value:"Critical",label:"Critical",color:"bg-red-500/10 text-red-600 border-red-200"},{value:"High",label:"High",color:"bg-orange-500/10 text-orange-600 border-orange-200"},{value:"Medium",label:"Medium",color:"bg-yellow-500/10 text-yellow-600 border-yellow-200"},{value:"Low",label:"Low",color:"bg-green-500/10 text-green-600 border-green-200"}],L=["Blocking Progress","Delaying Project","Partial Impact","Minor Inconvenience","No Impact"],T=["Full Replacement","Partial Replacement","Repair","Refund","Credit Note","Exchange","Other"];v.useEffect(()=>{(async()=>{u(!0);try{const se=(await Zs.getOrders({})).results||[],Ne=["delivered","received","in_transit","Delivered","Received","In Transit"],ue=se.filter(ge=>Ne.includes(ge.status)||ge.is_delivered);c(ue.length>0?ue:se)}catch{c([])}finally{u(!1)}})()},[]),v.useEffect(()=>{if(!A.orderId){m(null),x(null),C({}),S(null);return}g(!0),Zs.getOrder(A.orderId).then(async B=>{var se;if(m(B),P(Ne=>({...Ne,apartmentId:B.apartment||Ne.apartmentId,vendorId:B.vendor||Ne.vendorId,trackingNumber:B.tracking_number||""})),B.vendor)try{const Ne=await No.getVendor(B.vendor);x(Ne)}catch{x(null)}const K={};(se=B.items)==null||se.forEach(Ne=>{const ue=Ne.id||Ne.product||`item-${Math.random()}`;K[ue]={issueQuantity:Ne.quantity,issueTypes:[],customIssueType:"",description:""}}),C(K),b(2)}).catch(()=>Ue.error("Failed to load order")).finally(()=>g(!1))},[A.orderId]);const k=B=>{S(K=>K===B?null:B)},O=(B,K,se)=>{C(Ne=>({...Ne,[B]:{...Ne[B],[K]:se}}))},M=B=>{const K=E[B];return K&&K.issueTypes.length>0&&K.description.trim().length>0},ie=()=>Object.entries(E).filter(([B,K])=>K.issueTypes.length>0&&K.description.trim().length>0).map(([B,K])=>{var Ne;const se=(Ne=f==null?void 0:f.items)==null?void 0:Ne.find(ue=>(ue.id||ue.product)===B);return{itemKey:B,productId:se==null?void 0:se.product,...K,item:se}}),ce=async B=>{var se,Ne,ue,ge,xe,Se;B.preventDefault();const K=ie();if(!A.orderId||K.length===0||!A.priority){Ue.error("Please complete all required fields");return}y(!0);try{const Me=K.map(he=>{var be;const oe=he.issueTypes.join(", ");return{order_item:he.itemKey,product:he.productId||null,product_name:((be=he.item)==null?void 0:be.product_name)||"",quantity_affected:he.issueQuantity,issue_types:oe,description:he.description}}),Oe=[...new Set(K.flatMap(he=>he.issueTypes))].join(", "),te=K.map(he=>{var oe,be;return`[${((oe=he.item)==null?void 0:oe.product_name)||"Product"}] ${he.description} (Qty: ${he.issueQuantity}/${((be=he.item)==null?void 0:be.quantity)||0})`}).join(`

`);await ms.createIssue({apartment:A.apartmentId,vendor:A.vendorId,order:A.orderId,product:((se=K[0])==null?void 0:se.productId)||null,order_item:((Ne=K[0])==null?void 0:Ne.itemKey)||null,product_name:K.length===1?((ge=(ue=K[0])==null?void 0:ue.item)==null?void 0:ge.product_name)||"":`${K.length} Products`,type:Oe,description:`Order: ${f==null?void 0:f.po_number}

${te}`,priority:A.priority,expected_resolution:A.expectedResolution||void 0,vendor_contact:(h==null?void 0:h.contact_person)||void 0,impact:A.impact||void 0,replacement_eta:A.replacementEta||void 0,ai_activated:A.aiActivated,resolution_status:"Open",resolution_type:A.resolutionType||void 0,resolution_notes:A.resolutionNotes||void 0,delivery_date:A.deliveryDate||void 0,invoice_number:A.invoiceNumber||void 0,tracking_number:A.trackingNumber||void 0,auto_notify_vendor:A.autoNotifyVendor,items_data:Me}),Ue.success(`Issue reported with ${K.length} product(s)`),e("/issues")}catch(Me){Ue.error(((Se=(xe=Me.response)==null?void 0:xe.data)==null?void 0:Se.message)||"Failed to report issue")}finally{y(!1)}},D=B=>{const K=Array.from(B.target.files||[]);if(K.length+A.photos.length>10){Ue.error("Maximum 10 photos allowed");return}P(se=>({...se,photos:[...se.photos,...K]}))},W=!!f,F=ie(),q=F.length>0,le=l.filter(B=>{var K,se,Ne;if(R){const ue=R.toLowerCase(),ge=(K=B.po_number)==null?void 0:K.toLowerCase().includes(ue),xe=(se=B.apartment_name)==null?void 0:se.toLowerCase().includes(ue),Se=(Ne=B.vendor_name)==null?void 0:Ne.toLowerCase().includes(ue);if(!ge&&!xe&&!Se)return!1}return!(A.apartmentId&&A.apartmentId!=="all"&&B.apartment!==A.apartmentId||A.vendorId&&A.vendorId!=="all"&&B.vendor!==A.vendorId)});return n.jsx(ut,{title:"Report New Issue",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>e("/issues"),className:"hover:bg-muted",children:n.jsx(tr,{className:"h-5 w-5"})}),n.jsx("div",{className:"flex-1",children:n.jsx(Ca,{children:n.jsxs(Ea,{children:[n.jsx(Jt,{children:n.jsx(Bn,{href:"/issues",className:"text-muted-foreground hover:text-foreground",children:"Issues"})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(ni,{className:"font-medium",children:"Report New Issue"})})]})})})]}),n.jsx(Y,{className:"border-none shadow-sm",children:n.jsx(X,{className:"py-5",children:n.jsx("div",{className:"flex items-center justify-center gap-4",children:[{n:1,l:"Select Order"},{n:2,l:"Select Products"},{n:3,l:"Issue Details"}].map((B,K)=>n.jsxs(V.Fragment,{children:[n.jsxs("div",{className:`flex items-center gap-2 ${w>=B.n?"text-primary":"text-muted-foreground"}`,children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium border-2 ${w>=B.n?"bg-primary text-primary-foreground border-primary":"bg-muted border-muted-foreground/30"}`,children:w>B.n?n.jsx(or,{className:"h-5 w-5"}):B.n}),n.jsx("span",{className:"font-medium hidden sm:inline",children:B.l})]}),K<2&&n.jsx("div",{className:`w-16 h-0.5 ${w>B.n?"bg-primary":"bg-muted"}`})]},B.n))})})}),n.jsxs("form",{onSubmit:ce,children:[w===1&&n.jsxs(Y,{children:[n.jsxs(we,{children:[n.jsxs(Ve,{children:[n.jsx(Sn,{className:"h-5 w-5 inline mr-2"}),"Step 1: Select Order"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Search for an order by PO number, or filter by apartment/vendor to narrow down your search"})]}),n.jsxs(X,{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx(me,{placeholder:"Search by PO number, apartment, or vendor...",value:R,onChange:B=>I(B.target.value),className:"h-10",disabled:d})}),r?n.jsx(_,{className:"h-10 w-full sm:w-[200px]"}):n.jsxs(at,{value:A.apartmentId,onValueChange:B=>P(K=>({...K,apartmentId:B})),children:[n.jsx(nt,{className:"w-full sm:w-[200px]",children:n.jsx(it,{placeholder:"All apartments"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"all",children:"All apartments"}),i.map(B=>n.jsx(Z,{value:B.id,children:B.name},B.id))]})]}),a?n.jsx(_,{className:"h-10 w-full sm:w-[200px]"}):n.jsxs(at,{value:A.vendorId,onValueChange:B=>P(K=>({...K,vendorId:B})),children:[n.jsx(nt,{className:"w-full sm:w-[200px]",children:n.jsx(it,{placeholder:"All vendors"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"all",children:"All vendors"}),o.map(B=>n.jsx(Z,{value:B.id,children:B.name},B.id))]})]}),(R||A.apartmentId&&A.apartmentId!=="all"||A.vendorId&&A.vendorId!=="all")&&n.jsx(ee,{type:"button",variant:"ghost",size:"icon",onClick:()=>{I(""),P(B=>({...B,apartmentId:"all",vendorId:"all"}))},title:"Clear all filters",children:n.jsx(Zn,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("p",{className:"text-xs text-muted-foreground",children:d?"Loading orders...":`${le.length} order(s)`})}),n.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto pr-2",children:d?n.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(B=>n.jsx(Y,{className:"animate-pulse",children:n.jsxs(X,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[n.jsx(_,{className:"h-5 w-24"}),n.jsx(_,{className:"h-5 w-16"})]}),n.jsx(_,{className:"h-4 w-4 rounded-full"})]}),n.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[n.jsx(_,{className:"h-3 w-28"}),n.jsx(_,{className:"h-3 w-32"}),n.jsx(_,{className:"h-3 w-12"}),n.jsx(_,{className:"h-3 w-16"})]})]})},B))}):le.length===0?n.jsx(Y,{className:"border-dashed",children:n.jsxs(X,{className:"p-8 text-center",children:[n.jsx(Sn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),n.jsx("p",{className:"text-muted-foreground",children:R||A.apartmentId!=="all"||A.vendorId!=="all"?"No orders match your search/filters":"No orders found"})]})}):le.map(B=>n.jsx(Y,{className:ve("cursor-pointer transition-all hover:shadow-sm",A.orderId===B.id?"ring-2 ring-primary border-primary bg-primary/5":"hover:border-primary/50"),onClick:()=>{P(K=>({...K,orderId:B.id}))},children:n.jsxs(X,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("h4",{className:"font-semibold text-base",children:B.po_number}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:B.status})]}),A.orderId===B.id&&n.jsx(or,{className:"h-4 w-4 text-primary flex-shrink-0"})]}),n.jsxs("div",{className:"flex items-center gap-4 mt-1.5 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1 truncate",children:[n.jsx(dr,{className:"h-3 w-3 flex-shrink-0"}),B.apartment_name]}),n.jsxs("span",{className:"flex items-center gap-1 truncate",children:[n.jsx(_a,{className:"h-3 w-3 flex-shrink-0"}),B.vendor_name]}),n.jsxs("span",{className:"flex items-center gap-1 flex-shrink-0",children:[n.jsx(ct,{className:"h-3 w-3"}),B.items_count]}),n.jsxs("span",{className:"font-medium text-foreground flex-shrink-0",children:["",Number(B.total).toFixed(2)]})]})]})},B.id))}),p&&n.jsx("div",{className:"space-y-3 mt-4",children:n.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[n.jsx(zt,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{children:"Loading order details..."})]})}),n.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>e("/issues"),children:"Cancel"}),n.jsxs(ee,{type:"button",onClick:()=>{b(2),window.scrollTo({top:0,behavior:"smooth"})},disabled:!W,children:["Next",n.jsx(jb,{className:"h-4 w-4 ml-2"})]})]})]})]}),w===2&&!f&&p&&n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2 flex-1",children:[n.jsx(_,{className:"h-6 w-48"}),n.jsx(_,{className:"h-4 w-64"})]}),n.jsx(_,{className:"h-6 w-16"})]})}),n.jsxs(X,{className:"space-y-3",children:[n.jsx(_,{className:"h-4 w-full"}),n.jsx("div",{className:"space-y-2",children:[1,2,3].map(B=>n.jsx("div",{className:"border rounded-lg p-2 animate-pulse",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"w-12 h-12 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-4 w-16"})]}),n.jsx(_,{className:"h-3 w-24"})]}),n.jsx(_,{className:"h-5 w-5 rounded-full"})]})},B))}),n.jsxs("div",{className:"flex justify-between pt-4",children:[n.jsx(_,{className:"h-10 w-24"}),n.jsx(_,{className:"h-10 w-32"})]})]})]}),w===2&&f&&n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Ve,{className:"text-lg font-semibold",children:"Select Products with Issues"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[f.po_number,"  ",f.vendor_name,"  ",((fe=f.items)==null?void 0:fe.length)||0," items"]})]}),n.jsxs(Ce,{variant:F.length>0?"default":"outline",className:"text-xs",children:[F.length," ready"]})]})}),n.jsxs(X,{className:"space-y-3",children:[n.jsx("p",{className:"text-xs text-muted-foreground border-l-2 border-primary pl-2",children:"Click products to report issues. Fill in the form to include them in your report."}),n.jsx("div",{className:"space-y-2 max-h-[550px] overflow-y-auto pr-1",children:!f.items||f.items.length===0?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(B=>n.jsx("div",{className:"border rounded-lg p-2 animate-pulse",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"w-12 h-12 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-4 w-16"})]}),n.jsx(_,{className:"h-3 w-24"})]}),n.jsx(_,{className:"h-5 w-5 rounded-full"})]})},B))}):f.items.map(B=>{const K=B.id||B.product||`item-${Math.random()}`,se=N===K,Ne=E[K],ue=M(K);return n.jsxs("div",{className:ve("border rounded-lg overflow-hidden transition-all",se&&"ring-1 ring-primary border-primary",ue&&!se&&"border-green-500 bg-green-50/30 dark:bg-green-950/10"),children:[n.jsx("div",{className:ve("p-2 cursor-pointer hover:bg-muted/30 transition-colors",se&&"bg-muted/50"),onClick:()=>k(K),children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative flex-shrink-0",children:[B.product_image?n.jsx("img",{src:B.product_image,alt:B.product_name||"Product",className:"w-12 h-12 rounded object-cover border"}):n.jsx("div",{className:"w-12 h-12 rounded flex items-center justify-center border bg-muted",children:n.jsx(ct,{className:"h-5 w-5 text-muted-foreground"})}),ue&&n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:n.jsx(or,{className:"h-2.5 w-2.5 text-white"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("h4",{className:"font-semibold text-sm truncate",children:B.product_name||"Unknown Product"}),n.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[n.jsx(Ce,{variant:"outline",className:"text-xs px-1.5 py-0",children:B.quantity}),n.jsxs("span",{className:"text-xs font-semibold",children:["",Number(B.total_price).toFixed(2)]})]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-0.5",children:[n.jsxs("span",{className:"text-xs text-muted-foreground truncate",children:[B.sku||"N/A","  ",Number(B.unit_price).toFixed(2)]}),!se&&ue&&Ne&&n.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[Ne.issueTypes.slice(0,2).map(ge=>n.jsx(Ce,{variant:"secondary",className:"text-[10px] px-1 py-0",children:ge},ge)),Ne.issueTypes.length>2&&n.jsxs(Ce,{variant:"secondary",className:"text-[10px] px-1 py-0",children:["+",Ne.issueTypes.length-2]})]})]})]}),n.jsx("div",{className:"flex-shrink-0",children:se?n.jsx(Zw,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Wf,{className:"h-4 w-4 text-muted-foreground"})})]})}),se&&Ne&&n.jsx("div",{className:"p-3 pt-0 border-t bg-gradient-to-b from-muted/20 to-muted/40 animate-in slide-in-from-top-2 duration-300",children:n.jsxs("div",{className:"space-y-3 pt-3",children:[n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background border border-border/50 hover:border-primary/50 transition-all duration-200 hover:shadow-md",children:[n.jsxs(G,{htmlFor:`qty-${K}`,className:"flex items-center gap-1.5 text-xs font-semibold",children:[n.jsx(bne,{className:"h-3.5 w-3.5 text-primary"}),"Quantity Affected *"]}),n.jsx(me,{id:`qty-${K}`,type:"number",min:1,max:B.quantity,value:Ne.issueQuantity,onChange:ge=>O(K,"issueQuantity",parseInt(ge.target.value)||1),className:"h-9 bg-background border-border/50 focus:border-primary focus:ring-1 focus:ring-primary transition-all"},`qty-${K}`),n.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Out of ",B.quantity," ordered"]})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background border border-border/50 hover:border-primary/50 transition-all duration-200 hover:shadow-md",children:[n.jsxs(G,{className:"flex items-center gap-1.5 text-xs font-semibold",children:[n.jsx(fo,{className:"h-3.5 w-3.5 text-orange-500"}),"Issue Type(s) *"]}),n.jsx(UJe,{options:z,value:Ne.issueTypes,onChange:ge=>O(K,"issueTypes",ge),placeholder:"Select issue types",allowCustom:!0,customPlaceholder:"Enter your custom issue type..."},`types-${K}`)]})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background border border-border/50 hover:border-primary/50 transition-all duration-200 hover:shadow-md",children:[n.jsxs(G,{htmlFor:`desc-${K}`,className:"flex items-center gap-1.5 text-xs font-semibold",children:[n.jsx(Sn,{className:"h-3.5 w-3.5 text-primary"}),"Issue Description *"]}),n.jsxs("div",{className:"relative",children:[n.jsx(Mn,{id:`desc-${K}`,value:Ne.description,onChange:ge=>O(K,"description",ge.target.value),placeholder:"Describe the issue in detail. Include any relevant information such as when you noticed the issue, specific damage locations, etc.",rows:3,className:"bg-background border-0 focus:ring-0 focus:outline-none transition-all resize-none text-sm pr-10"},`desc-${K}`),n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(uK,{text:Ne.description,onTextEnhanced:ge=>O(K,"description",ge),variant:"ghost",size:"sm"})})]}),n.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[Ne.description.length," characters"]})]}),n.jsx("div",{className:ve("p-2.5 rounded-lg flex items-center gap-2 text-xs font-medium border transition-all duration-300",ue?"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-950/30 dark:to-green-900/30 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800 shadow-sm animate-in fade-in zoom-in duration-300":"bg-gradient-to-r from-yellow-50 to-yellow-100 dark:from-yellow-950/30 dark:to-yellow-900/30 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800"),children:ue?n.jsxs(n.Fragment,{children:[n.jsx(or,{className:"h-3.5 w-3.5 animate-in zoom-in duration-300"}),"Issue details complete - will be included in report"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ct,{className:"h-4 w-4"}),"Please fill in issue type(s) and description to include this product"]})})]})})]},K)})}),n.jsxs("div",{className:"flex justify-between pt-4",children:[n.jsxs(ee,{type:"button",variant:"outline",onClick:()=>{P(B=>({...B,apartmentId:"all",vendorId:"all"})),b(1),window.scrollTo({top:0,behavior:"smooth"})},children:[n.jsx(tr,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>e("/issues"),children:"Cancel"}),n.jsxs(ee,{type:"button",onClick:()=>{b(3),window.scrollTo({top:0,behavior:"smooth"})},disabled:!q,children:["Next: Issue Details",n.jsx(jb,{className:"h-4 w-4 ml-2"})]})]})]})]})]}),w===3&&!f&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[n.jsxs(Y,{className:"animate-pulse",children:[n.jsx(we,{children:n.jsx(_,{className:"h-6 w-48"})}),n.jsxs(X,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full"})]})]})]}),n.jsxs(Y,{className:"animate-pulse",children:[n.jsx(we,{children:n.jsx(_,{className:"h-6 w-40"})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-28"}),n.jsx(_,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-24 w-full"})]})]})]})]}),n.jsx("div",{className:"space-y-6",children:n.jsxs(Y,{className:"animate-pulse",children:[n.jsx(we,{children:n.jsx(_,{className:"h-6 w-36"})}),n.jsxs(X,{className:"space-y-4",children:[n.jsx(_,{className:"h-20 w-full rounded-lg"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-full"}),n.jsx(_,{className:"h-4 w-3/4"})]})]})]})})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(_,{className:"h-10 w-24"}),n.jsx(_,{className:"h-10 w-32"})]})]}),w===3&&f&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{children:[n.jsx(fo,{className:"h-5 w-5 inline mr-2"}),"Priority & Impact"]})}),n.jsxs(X,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Priority *"}),n.jsxs(at,{value:A.priority,onValueChange:B=>P(K=>({...K,priority:B})),children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select priority"})}),n.jsx(st,{children:U.map(B=>n.jsx(Z,{value:B.value,children:n.jsx(Ce,{className:B.color,children:B.label})},B.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Impact"}),n.jsxs(at,{value:A.impact,onValueChange:B=>P(K=>({...K,impact:B})),children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select impact"})}),n.jsx(st,{children:L.map(B=>n.jsx(Z,{value:B,children:B},B))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{children:[n.jsx(en,{className:"h-4 w-4 inline mr-1"}),"Expected Resolution"]}),n.jsx(me,{type:"date",value:A.expectedResolution,onChange:B=>P(K=>({...K,expectedResolution:B.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{children:[n.jsx(wr,{className:"h-4 w-4 inline mr-1"}),"Replacement ETA"]}),n.jsx(me,{type:"date",value:A.replacementEta,onChange:B=>P(K=>({...K,replacementEta:B.target.value}))})]})]})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{children:[n.jsx(or,{className:"h-5 w-5 inline mr-2"}),"Resolution"]})}),n.jsxs(X,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Resolution Type"}),n.jsxs(at,{value:A.resolutionType,onValueChange:B=>P(K=>({...K,resolutionType:B})),children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select type"})}),n.jsx(st,{children:T.map(B=>n.jsx(Z,{value:B,children:B},B))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Notes"}),n.jsx(me,{value:A.resolutionNotes,onChange:B=>P(K=>({...K,resolutionNotes:B.target.value}))})]})]})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{children:[n.jsx(Pi,{className:"h-5 w-5 inline mr-2"}),"Photos"]})}),n.jsxs(X,{children:[n.jsxs(ee,{type:"button",variant:"outline",onClick:()=>{var B;return(B=document.getElementById("photos"))==null?void 0:B.click()},children:[n.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Upload (max 10)"]}),n.jsx("input",{id:"photos",type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:D}),A.photos.length>0&&n.jsx("div",{className:"grid grid-cols-3 gap-2 mt-4",children:A.photos.map((B,K)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:URL.createObjectURL(B),className:"w-full h-20 object-cover rounded"}),n.jsx("button",{type:"button",onClick:()=>P(se=>({...se,photos:se.photos.filter((Ne,ue)=>ue!==K)})),className:"absolute -top-2 -right-2 bg-destructive text-white rounded-full p-1",children:n.jsx(Zn,{className:"h-3 w-3"})})]},K))})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Hc,{id:"ai",checked:A.aiActivated,onCheckedChange:B=>P(K=>({...K,aiActivated:B}))}),n.jsx(G,{htmlFor:"ai",children:"Enable AI-assisted communication"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Hc,{id:"notify",checked:A.autoNotifyVendor,onCheckedChange:B=>P(K=>({...K,autoNotifyVendor:B}))}),n.jsx(G,{htmlFor:"notify",children:"Auto-notify vendor"})]})]})]}),n.jsxs("div",{className:"space-y-6 lg:col-span-1",children:[h&&n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{children:[n.jsx(qn,{className:"h-5 w-5 inline mr-2"}),"Vendor Contact"]})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Contact Person"}),n.jsx("div",{className:"p-2 bg-muted rounded-md text-sm",children:h.contact_person||"Not specified"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{children:[n.jsx(cn,{className:"h-4 w-4 inline mr-1"}),"Email"]}),n.jsx("div",{className:"p-2 bg-muted rounded-md text-sm",children:h.email||"Not specified"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{children:[n.jsx(xo,{className:"h-4 w-4 inline mr-1"}),"Phone"]}),n.jsx("div",{className:"p-2 bg-muted rounded-md text-sm",children:h.phone||"Not specified"})]})]})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{children:[n.jsx(T9,{className:"h-5 w-5 inline mr-2"}),"Additional Info"]})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Delivery Date"}),n.jsx(me,{type:"date",value:A.deliveryDate,onChange:B=>P(K=>({...K,deliveryDate:B.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Invoice #"}),n.jsx(me,{value:A.invoiceNumber,onChange:B=>P(K=>({...K,invoiceNumber:B.target.value}))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{children:["Tracking # ",n.jsx("span",{className:"text-xs text-muted-foreground",children:"(from Order)"})]}),n.jsx(me,{value:A.trackingNumber||(f==null?void 0:f.tracking_number)||"",readOnly:!0,disabled:!0,className:"bg-muted cursor-not-allowed",placeholder:"Auto-filled from order"})]})]})]})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(ee,{type:"button",variant:"outline",onClick:()=>{b(2),window.scrollTo({top:0,behavior:"smooth"})},children:[n.jsx(tr,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>e("/issues"),children:"Cancel"}),n.jsx(ee,{type:"submit",disabled:j,children:j?n.jsxs(n.Fragment,{children:[n.jsx(zt,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):`Report ${F.length} Issue(s)`})]})]})]})]})]})})};function KJe({issue:e,onUpdateIssue:t}){const[r,s]=v.useState(""),[a,i]=v.useState(!1),[o,l]=v.useState([]),[c,d]=v.useState(!0);v.useEffect(()=>{(async()=>{try{d(!0);const x=await ms.getConversation(e.id);l(x.conversation||[])}catch(x){console.error("Failed to fetch conversation:",x),Ue.error("Failed to load conversation")}finally{d(!1)}})()},[e.id]);const u=async()=>{var h,x,p;if(r.trim()){i(!0);try{await ms.sendManualMessage(e.id,{subject:`Re: Issue #${e.id}`,message:r,to_email:((h=e.vendor_details)==null?void 0:h.email)||""});const g=await ms.getConversation(e.id);l(g.conversation||[]),s(""),Ue.success("Message sent to vendor successfully")}catch(g){console.error("Failed to send message:",g),Ue.error(((p=(x=g.response)==null?void 0:x.data)==null?void 0:p.message)||"Failed to send message to vendor")}finally{i(!1)}}},m=(()=>{const h=o||[],x=h.filter(j=>j.sender==="AI").length,p=h.filter(j=>j.sender==="Vendor").length,g=h.filter(j=>j.sender==="System"||j.sender==="Admin").length;return{total:h.length,aiMessages:x,vendorMessages:p,systemMessages:g}})();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(Y,{children:n.jsxs(X,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Vd,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-2xl font-bold",children:m.total})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Total Messages"})]})}),n.jsx(Y,{children:n.jsxs(X,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(va,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-2xl font-bold",children:m.aiMessages})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"AI Messages"})]})}),n.jsx(Y,{children:n.jsxs(X,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(qn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-2xl font-bold",children:m.vendorMessages})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Vendor Replies"})]})}),n.jsx(Y,{children:n.jsxs(X,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ct,{className:"h-4 w-4 text-warning"}),n.jsx("span",{className:"text-2xl font-bold",children:m.systemMessages})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"System Notes"})]})})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Vd,{className:"h-5 w-5"}),"Communication Log"]}),n.jsx(Tr,{children:e.ai_activated?"AI is actively managing this conversation with the vendor":"Manual conversation tracking"})]}),e.ai_activated&&n.jsxs(Ce,{variant:"default",className:"gap-1",children:[n.jsx(dc,{className:"h-3 w-3"}),"AI Active"]})]})}),n.jsxs(X,{children:[c?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(zt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsx(mu,{className:"h-[500px] pr-4",children:n.jsxs("div",{className:"space-y-4",children:[o&&o.length>0?o.map((h,x)=>{const p=h.message.toLowerCase().includes("please arrange")||h.message.toLowerCase().includes("action required")||h.message.toLowerCase().includes("human action");return n.jsxs("div",{className:ve("flex gap-3 p-4 rounded-lg border transition-all",h.sender==="AI"&&"bg-primary/5 border-primary/20",h.sender==="Vendor"&&"bg-muted border-border",h.sender==="System"&&"bg-accent/50 border-accent",p&&"border-2 border-warning shadow-md"),children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:n.jsx("div",{className:ve("w-8 h-8 rounded-full flex items-center justify-center",h.sender==="AI"&&"bg-primary text-primary-foreground",h.sender==="Vendor"&&"bg-muted-foreground text-background",h.sender==="System"&&"bg-warning text-warning-foreground"),children:h.sender==="AI"?n.jsx(va,{className:"h-4 w-4"}):h.sender==="Vendor"?n.jsx(qn,{className:"h-4 w-4"}):n.jsx(Ct,{className:"h-4 w-4"})})}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ce,{variant:h.sender==="AI"?"default":"outline",className:ve("text-xs",p&&"bg-warning text-warning-foreground"),children:h.sender}),p&&n.jsxs(Ce,{variant:"outline",className:"text-xs bg-warning/10 text-warning border-warning/50",children:[n.jsx(Ct,{className:"h-3 w-3 mr-1"}),"Action Required"]}),h.message_type==="email"&&n.jsx(Ce,{variant:"outline",className:"text-xs",children:"Email"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(h.timestamp).toLocaleString()})]}),h.subject&&n.jsx("p",{className:"text-sm font-semibold text-foreground",children:h.subject}),h.html_content&&h.message_type==="email"?n.jsx("div",{className:ve("text-sm leading-relaxed prose prose-sm max-w-none","prose-headings:text-foreground prose-p:text-foreground","prose-strong:text-foreground prose-a:text-primary",p&&"font-medium"),dangerouslySetInnerHTML:{__html:h.html_content}}):n.jsx("p",{className:ve("text-sm whitespace-pre-wrap leading-relaxed",p&&"font-medium"),children:h.message})]})]},x)}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx(Vd,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No messages yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Start by adding a message below"})]}),a&&n.jsxs("div",{className:"flex gap-3 p-4 rounded-lg border bg-primary/5 border-primary/20",children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-primary text-primary-foreground",children:n.jsx(va,{className:"h-4 w-4 animate-pulse"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Ce,{variant:"default",className:"text-xs mb-2",children:"AI"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"AI is processing..."})]})]})]})}),n.jsxs("div",{className:"flex gap-2 mt-4",children:[n.jsx(me,{placeholder:"Add a message to the log...",value:r,onChange:h=>s(h.target.value),onKeyPress:h=>h.key==="Enter"&&u()}),n.jsx(ee,{onClick:u,size:"icon",children:n.jsx(I9,{className:"h-4 w-4"})})]})]})]})]})}function YJe({photos:e,onAddPhoto:t}){const[r,s]=v.useState(null),a=i=>{var l;const o=(l=i.target.files)==null?void 0:l[0];if(o){const c=new FileReader;c.onloadend=()=>{t({id:`photo-${Date.now()}`,url:c.result,uploadedAt:new Date().toISOString()})},c.readAsDataURL(o)}};return n.jsxs(n.Fragment,{children:[n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ki,{className:"h-5 w-5"}),"Issue Photos"]}),n.jsx(Tr,{children:"Visual documentation of the issue"})]}),n.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>{var i;return(i=document.getElementById("photo-upload"))==null?void 0:i.click()},children:[n.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Upload Photo"]}),n.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",className:"hidden",onChange:a})]})}),n.jsx(X,{children:e.length>0?n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(i=>n.jsxs("div",{className:"relative group aspect-square rounded-lg overflow-hidden border cursor-pointer hover:shadow-lg transition-all",onClick:()=>s(i.url),children:[n.jsx("img",{src:i.url,alt:"Issue photo",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all flex items-center justify-center",children:n.jsx(Fne,{className:"h-6 w-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},i.id))}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center border-2 border-dashed rounded-lg",children:[n.jsx(ki,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"No photos uploaded yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Upload photos to document the issue"}),n.jsxs(ee,{variant:"outline",onClick:()=>{var i;return(i=document.getElementById("photo-upload"))==null?void 0:i.click()},children:[n.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Upload First Photo"]})]})})]}),n.jsx(En,{open:!!r,onOpenChange:()=>s(null),children:n.jsxs(vn,{className:"max-w-4xl",children:[n.jsx(An,{children:n.jsx(kn,{children:"Photo Preview"})}),r&&n.jsx("img",{src:r,alt:"Full size preview",className:"w-full h-auto rounded-lg"})]})})]})}function XJe({issue:e,product:t}){const r=[{id:1,timestamp:e.reportedOn,icon:Ct,title:"Issue Reported",description:`${e.type} issue reported for ${t.product}`,color:"text-destructive"},...t.orderedOn?[{id:2,timestamp:t.orderedOn,icon:ct,title:"Product Ordered",description:`Order placed with ${e.vendor}`,color:"text-primary"}]:[],...t.actualDeliveryDate?[{id:3,timestamp:t.actualDeliveryDate,icon:wr,title:"Product Delivered",description:"Product delivered to location",color:"text-primary"}]:[],...e.aiActivated?[{id:4,timestamp:e.reportedOn,icon:Vd,title:"AI Chatbot Activated",description:"AI started vendor communication",color:"text-primary"}]:[],...e.aiCommunicationLog&&e.aiCommunicationLog.length>0?e.aiCommunicationLog.map((s,a)=>({id:100+a,timestamp:s.timestamp,icon:s.sender==="AI"?Vd:s.sender==="Vendor"?ct:Ct,title:`${s.sender} Message`,description:s.message.substring(0,100)+(s.message.length>100?"...":""),color:s.sender==="AI"?"text-primary":"text-muted-foreground"})):[],...e.resolutionStatus==="Closed"?[{id:999,timestamp:new Date().toISOString(),icon:or,title:"Issue Resolved",description:"Issue has been successfully resolved",color:"text-success"}]:[]].sort((s,a)=>new Date(s.timestamp).getTime()-new Date(a.timestamp).getTime());return n.jsxs(Y,{children:[n.jsxs(we,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(jr,{className:"h-5 w-5"}),"Issue Timeline"]}),n.jsx(Tr,{children:"Complete history of this issue"})]}),n.jsx(X,{children:n.jsxs("div",{className:"relative space-y-6",children:[n.jsx("div",{className:"absolute left-4 top-2 bottom-2 w-0.5 bg-border"}),r.map((s,a)=>{const i=s.icon;return n.jsxs("div",{className:"relative flex gap-4",children:[n.jsx("div",{className:ve("relative z-10 w-8 h-8 rounded-full flex items-center justify-center bg-background border-2",s.color==="text-destructive"&&"border-destructive",s.color==="text-primary"&&"border-primary",s.color==="text-success"&&"border-success",s.color==="text-muted-foreground"&&"border-muted-foreground"),children:n.jsx(i,{className:ve("h-4 w-4",s.color)})}),n.jsxs("div",{className:"flex-1 pb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h4",{className:"font-semibold",children:s.title}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:new Date(s.timestamp).toLocaleString()})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]})]},s.id)})]})})]})}function QJe({issue:e,vendor:t,onUpdateIssue:r}){const[s,a]=v.useState(e.ai_activated||!1),[i,o]=v.useState(e.status||"Open");v.useEffect(()=>{a(e.ai_activated||!1),o(e.status||"Open")},[e.ai_activated,e.status]);const l=async()=>{var u,f;const d=!s;a(d);try{if(d){const m=await ms.activateAIEmail(e.id);if((u=m.data)!=null&&u.success)r({ai_activated:!0}),Ue.success("AI Chatbot activated and email sent to vendor");else throw new Error(((f=m.data)==null?void 0:f.message)||"Failed to activate AI")}else await ms.updateIssue(e.id,{ai_activated:!1}),r({ai_activated:!1}),Ue.info("AI Chatbot paused")}catch(m){console.error("Failed to toggle AI:",m),Ue.error(m.message||"Failed to update AI status"),a(!d)}},c=async d=>{o(d);try{await ms.updateIssue(e.id,{status:d}),r({status:d}),Ue.success("Status updated")}catch(u){console.error("Failed to update status:",u),Ue.error("Failed to update status"),o(e.status||"Open")}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Y,{children:[n.jsxs(we,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(va,{className:"h-5 w-5"}),"AI Resolution"]}),n.jsx(Tr,{children:"Automate vendor communication"})]}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/30",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(G,{htmlFor:"ai-toggle",className:"text-base font-semibold cursor-pointer",children:"AI Chatbot"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:s?"Active":"Inactive"})]}),n.jsx(Pn,{id:"ai-toggle",checked:s,onCheckedChange:l})]}),s&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[n.jsx(D9,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:"AI is monitoring this issue"})]}),n.jsxs(ee,{variant:"outline",size:"sm",className:"w-full",onClick:()=>Ue.info("AI settings opened"),children:[n.jsx(yv,{className:"h-4 w-4 mr-2"}),"Configure AI Behavior"]})]})]})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(or,{className:"h-5 w-5"}),"Resolution Status"]})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Current Status"}),n.jsxs(at,{value:i,onValueChange:c,children:[n.jsx(nt,{children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"Open",children:"Open"}),n.jsx(Z,{value:"Pending Vendor Response",children:"Pending Vendor Response"}),n.jsx(Z,{value:"Resolution Agreed",children:"Resolution Agreed"}),n.jsx(Z,{value:"Closed",children:"Closed"})]})]})]}),i==="Closed"&&n.jsx("div",{className:"p-3 bg-success/10 border border-success/20 rounded-lg",children:n.jsxs("p",{className:"text-sm text-success flex items-center gap-2",children:[n.jsx(or,{className:"h-4 w-4"}),"Issue has been resolved"]})})]})]}),t&&n.jsxs(Y,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Vendor Contact"}),n.jsx(Tr,{children:t.companyName||t.name})]}),n.jsxs(X,{className:"space-y-3",children:[t.email&&n.jsxs("a",{href:`mailto:${t.email}`,className:"flex items-center gap-2 text-sm hover:text-primary transition-colors",children:[n.jsx(cn,{className:"h-4 w-4"}),t.email]}),t.phone&&n.jsxs("a",{href:`tel:${t.phone}`,className:"flex items-center gap-2 text-sm hover:text-primary transition-colors",children:[n.jsx(xo,{className:"h-4 w-4"}),t.phone]}),t.website&&n.jsxs("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm hover:text-primary transition-colors",children:[n.jsx($l,{className:"h-4 w-4"}),"Visit Website"]}),n.jsx(Rt,{}),n.jsxs(ee,{variant:"outline",size:"sm",className:"w-full",children:[n.jsx(cn,{className:"h-4 w-4 mr-2"}),"Send Manual Email"]})]})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx(Ve,{children:"Quick Actions"})}),n.jsxs(X,{className:"space-y-2",children:[n.jsx(ee,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>Ue.info("Replacement request sent"),children:"Request Replacement"}),n.jsx(ee,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>Ue.info("Refund request sent"),children:"Request Refund"}),n.jsx(ee,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>Ue.info("Escalation triggered"),children:"Escalate to Manager"})]})]})]})}function ZJe(){return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(_,{className:"h-10 w-24 rounded-md"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-8 w-48"}),n.jsx(_,{className:"h-4 w-32"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-24 rounded-full"})]})]})}function JJe(){return n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-48"})]}),n.jsx(_,{className:"h-4 w-40"})]}),n.jsx(_,{className:"h-6 w-24 rounded-full"})]})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-4 w-full"}),n.jsx(_,{className:"h-4 w-full"}),n.jsx(_,{className:"h-4 w-3/4"})]}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-3 w-20"}),n.jsx(_,{className:"h-6 w-24 rounded-full"})]},t))}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-3 w-28"})]}),n.jsx(_,{className:"h-4 w-32"})]},t))})]})]})}function eet(){return n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-56"})]})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-5 w-32"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-3 w-24"}),n.jsx(_,{className:"h-4 w-32"})]},t))})]}),n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-8 w-8 rounded-lg"}),n.jsx(_,{className:"h-5 w-36"})]}),n.jsx(_,{className:"h-6 w-16 rounded-full"})]})}),n.jsx(X,{className:"space-y-3",children:[...Array(2)].map((e,t)=>n.jsxs("div",{className:"flex gap-4 p-4 rounded-xl border",children:[n.jsx(_,{className:"h-20 w-20 rounded-xl flex-shrink-0"}),n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx(_,{className:"h-5 w-48"}),n.jsx(_,{className:"h-6 w-12 rounded-full"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(_,{className:"h-5 w-24 rounded-full"}),n.jsx(_,{className:"h-5 w-28 rounded-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-3 w-full"}),n.jsx(_,{className:"h-3 w-3/4"})]})]})]},t))})]})]})]})}function tet(){return n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-64"})]})}),n.jsx(X,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(2)].map((e,t)=>n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-5 w-24"})]}),n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((r,s)=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(_,{className:"h-3 w-3 rounded"}),n.jsx(_,{className:"h-3 w-20"})]}),n.jsx(_,{className:"h-4 w-full"})]},s))})]},t))})})]})}function ret(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsx(Y,{children:n.jsxs(X,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-8 w-12"})]}),n.jsx(_,{className:"h-3 w-24"})]})},t))})}function net(){return n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-40"})]}),n.jsx(_,{className:"h-4 w-64"})]}),n.jsx(_,{className:"h-6 w-24 rounded-full"})]})}),n.jsxs(X,{children:[n.jsx("div",{className:"space-y-4 mb-4",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex gap-3 p-4 rounded-lg border",children:[n.jsx(_,{className:"h-8 w-8 rounded-full flex-shrink-0"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-16 rounded-full"}),n.jsx(_,{className:"h-3 w-32"})]}),n.jsx(_,{className:"h-4 w-full"}),n.jsx(_,{className:"h-4 w-4/5"}),n.jsx(_,{className:"h-4 w-3/5"})]})]},t))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(_,{className:"h-10 flex-1 rounded-md"}),n.jsx(_,{className:"h-10 w-10 rounded-md"})]})]})]})}function set(){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-32"})]}),n.jsx(_,{className:"h-4 w-48"})]})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-5 w-24"}),n.jsx(_,{className:"h-4 w-16"})]}),n.jsx(_,{className:"h-6 w-11 rounded-full"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-36"})]})}),n.jsx(X,{className:"space-y-3",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-28"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})})]})]})}function aet(){return n.jsxs("div",{className:"space-y-6",children:[n.jsx(ZJe,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(JJe,{}),n.jsx(eet,{}),n.jsx(tet,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex gap-2 border-b",children:[...Array(3)].map((e,t)=>n.jsx(_,{className:"h-10 w-32 rounded-t-md"},t))}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(ret,{}),n.jsx(net,{})]})]})]}),n.jsx("div",{className:"space-y-6",children:n.jsx(set,{})})]})]})}function iet(){var f,m,h,x,p,g,j,y,w,b,N,S,E;const{issueId:e}=Mi(),t=fr(),[r,s]=v.useState(null),[a,i]=v.useState(!0),[o,l]=v.useState(null);v.useEffect(()=>{if(!e){l("No issue ID provided"),i(!1);return}i(!0),ms.getIssue(e).then(C=>{s(C),l(null)}).catch(C=>{console.error("Failed to fetch issue:",C),l("Issue not found")}).finally(()=>i(!1))},[e]);const c=async C=>{if(r)try{const A=await ms.updateIssue(r.id,C);s(A),Ue.success("Issue updated")}catch{Ue.error("Failed to update issue")}};if(a)return n.jsx(ut,{title:"Issue Details",children:n.jsx(aet,{})});if(o||!r)return n.jsx(ut,{title:"Issue Not Found",children:n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-4",children:[n.jsx(Ct,{className:"h-12 w-12 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold",children:"Issue Not Found"}),n.jsxs(ee,{onClick:()=>t("/issues"),children:[n.jsx(tr,{className:"h-4 w-4 mr-2"}),"Back to Issues"]})]})});const d=C=>{switch(C){case"Open":return"destructive";case"Pending Vendor Response":return"secondary";case"Resolution Agreed":return"default";case"Closed":return"outline";default:return"secondary"}},u=C=>{switch(C){case"Closed":return n.jsx(or,{className:"h-4 w-4"});case"Open":return n.jsx(El,{className:"h-4 w-4"});default:return n.jsx(jr,{className:"h-4 w-4"})}};return n.jsx(ut,{title:"Issue Details",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ee,{variant:"ghost",onClick:()=>t("/issues"),children:[n.jsx(tr,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Issue Details"}),n.jsxs("p",{className:"text-muted-foreground",children:["Issue #",r.id]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[u(r.status||"Open"),n.jsx(Ce,{variant:d(r.status||"Open"),children:r.status||"Open"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Ct,{className:"h-5 w-5 text-destructive"}),r.type]}),n.jsxs(Tr,{children:["Reported on ",r.reported_on?new Date(r.reported_on).toLocaleDateString():"Unknown"]})]}),r.ai_activated&&n.jsxs(Ce,{variant:"default",className:"gap-1",children:[n.jsx(va,{className:"h-3 w-3"}),"AI Active"]})]})}),n.jsxs(X,{className:"space-y-4",children:[r.items&&r.items.length>0?n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Issue Descriptions by Product"}),r.items.map((C,A)=>n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg  space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("h5",{className:"font-semibold text-sm",children:C.product_name||C.order_item_product_name||"Unknown Product"}),C.quantity_affected&&n.jsxs(Ce,{variant:"outline",className:"flex-shrink-0",children:["Qty: ",C.quantity_affected]})]}),C.issue_types&&n.jsx("div",{className:"flex flex-wrap gap-1.5",children:C.issue_types.split(",").map((P,R)=>n.jsx(Ce,{variant:"destructive",className:"text-xs",children:P.trim()},R))}),C.description&&n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap mt-2",children:C.description})]},C.id||A))]}):n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Description"}),n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:r.description})]}),n.jsx(Rt,{}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Priority"}),n.jsx(Ce,{variant:r.priority==="Critical"?"destructive":r.priority==="High"?"default":"secondary",children:r.priority||"Medium"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(Ce,{variant:d(r.status||"Open"),children:r.status||"Open"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolution Status"}),n.jsx("p",{className:"font-medium",children:r.resolution_status||"Pending"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Created"}),n.jsx("p",{className:"font-medium",children:r.created_at?new Date(r.created_at).toLocaleDateString():"Unknown"})]})]}),r.impact&&n.jsxs(n.Fragment,{children:[n.jsx(Rt,{}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(wb,{className:"h-4 w-4"})," Impact"]}),n.jsx("p",{className:"font-medium",children:r.impact})]})]}),(r.expected_resolution||r.replacement_eta||r.delivery_date)&&n.jsxs(n.Fragment,{children:[n.jsx(Rt,{}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.expected_resolution&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(en,{className:"h-4 w-4"})," Expected Resolution"]}),n.jsx("p",{className:"font-medium",children:new Date(r.expected_resolution).toLocaleDateString()})]}),r.replacement_eta&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(wr,{className:"h-4 w-4"})," Replacement ETA"]}),n.jsx("p",{className:"font-medium",children:new Date(r.replacement_eta).toLocaleDateString()})]}),r.delivery_date&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(en,{className:"h-4 w-4"})," Delivery Date"]}),n.jsx("p",{className:"font-medium",children:new Date(r.delivery_date).toLocaleDateString()})]})]})]}),(r.invoice_number||r.tracking_number||((f=r.order_details)==null?void 0:f.tracking_number))&&n.jsxs(n.Fragment,{children:[n.jsx(Rt,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.invoice_number&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(Sn,{className:"h-4 w-4"})," Invoice #"]}),n.jsx("p",{className:"font-medium",children:r.invoice_number})]}),(r.tracking_number||((m=r.order_details)==null?void 0:m.tracking_number))&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(wr,{className:"h-4 w-4"})," Tracking #",!r.tracking_number&&((h=r.order_details)==null?void 0:h.tracking_number)&&n.jsx("span",{className:"text-xs",children:"(from Order)"})]}),n.jsx("p",{className:"font-medium",children:r.tracking_number||((x=r.order_details)==null?void 0:x.tracking_number)})]})]})]}),(r.resolution_type||r.resolution_notes)&&n.jsxs(n.Fragment,{children:[n.jsx(Rt,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-sm font-semibold",children:"Resolution Details"}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.resolution_type&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolution Type"}),n.jsx(Ce,{variant:"outline",children:r.resolution_type})]})}),r.resolution_notes&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolution Notes"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:r.resolution_notes})]})]})]})]})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ss,{className:"h-5 w-5"}),"Order & Product Information"]})}),n.jsxs(X,{className:"space-y-4",children:[r.order_details&&n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(Sn,{className:"h-4 w-4"})," Order Details"]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Number"}),n.jsx("p",{className:"font-medium",children:r.order_details.order_number||r.order_details.id})]}),r.order_details.order_date&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Date"}),n.jsx("p",{className:"font-medium",children:new Date(r.order_details.order_date).toLocaleDateString()})]}),r.order_details.status&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Status"}),n.jsx(Ce,{variant:"outline",children:r.order_details.status})]}),r.order_details.total_amount&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),n.jsxs("p",{className:"font-medium",children:["$",r.order_details.total_amount]})]})]})]}),r.items&&r.items.length>0&&n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ve,{className:"text-base flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(ct,{className:"h-4 w-4 text-primary"})}),"Affected Products"]}),n.jsxs(Ce,{variant:"secondary",className:"font-semibold",children:[r.items.length," ",r.items.length===1?"Item":"Items"]})]})}),n.jsx(X,{className:"space-y-3",children:r.items.map((C,A)=>n.jsxs("div",{className:"flex gap-4 p-4 rounded-xl border bg-gradient-to-r from-background to-muted/20 hover:shadow-sm transition-all",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden border-2 border-muted bg-gradient-to-br from-muted to-muted/50 shadow-sm",children:C.product_image?n.jsx("img",{src:C.product_image,alt:C.product_name||"Product",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(ct,{className:"h-8 w-8 text-muted-foreground/40"})})})}),n.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("h5",{className:"font-semibold text-sm line-clamp-1",children:C.product_name||C.order_item_product_name||"Unknown Product"}),n.jsxs(Ce,{variant:"outline",className:"flex-shrink-0 gap-1",children:[n.jsx(ss,{className:"h-3 w-3"}),C.quantity_affected]})]}),C.issue_types&&n.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[C.issue_types.split(",").slice(0,4).map((P,R)=>n.jsxs(Ce,{variant:"outline",className:"text-xs px-2 py-0.5 bg-destructive/5 text-destructive border-destructive/20 gap-1",children:[n.jsx(Ct,{className:"h-3 w-3"}),P.trim()]},R)),C.issue_types.split(",").length>4&&n.jsxs(Ce,{variant:"secondary",className:"text-xs",children:["+",C.issue_types.split(",").length-4," more"]})]}),C.description&&n.jsxs("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[n.jsx(Sn,{className:"h-3.5 w-3.5 mt-0.5 flex-shrink-0"}),n.jsx("p",{className:"line-clamp-2",children:C.description})]})]})]},C.id||A))})]}),r.order_item_details&&(!r.items||r.items.length===0)&&n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(ct,{className:"h-4 w-4"})," Order Item Details"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:r.order_item_details.product_image||(p=r.product_details)!=null&&p.product_image?n.jsx("img",{src:r.order_item_details.product_image||((g=r.product_details)==null?void 0:g.product_image),alt:r.order_item_details.product_name||"Product",className:"w-24 h-24 rounded-lg object-cover border-2 border-muted"}):n.jsx("div",{className:"w-24 h-24 rounded-lg flex items-center justify-center border-2 border-muted bg-muted",children:n.jsx(ct,{className:"h-10 w-10 text-muted-foreground"})})}),n.jsxs("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Product Name"}),n.jsx("p",{className:"font-medium",children:r.order_item_details.product_name})]}),r.order_item_details.quantity&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Quantity"}),n.jsx("p",{className:"font-medium",children:r.order_item_details.quantity})]}),r.order_item_details.unit_price&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Unit Price"}),n.jsxs("p",{className:"font-medium",children:["$",r.order_item_details.unit_price]})]}),r.order_item_details.total_price&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Price"}),n.jsxs("p",{className:"font-medium",children:["$",r.order_item_details.total_price]})]}),r.order_item_details.sku&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"SKU"}),n.jsx("p",{className:"font-medium",children:r.order_item_details.sku})]})]})]})]}),r.items&&r.items.length>0?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(ct,{className:"h-4 w-4"})," Product Details (",r.items.length,")"]}),r.items.map((C,A)=>n.jsx("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:C.product_image?n.jsx("img",{src:C.product_image,alt:C.product_name||"Product",className:"w-24 h-24 rounded-lg object-cover border-2 border-muted"}):n.jsx("div",{className:"w-24 h-24 rounded-lg flex items-center justify-center border-2 border-muted bg-muted",children:n.jsx(ct,{className:"h-10 w-10 text-muted-foreground"})})}),n.jsxs("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Product Name"}),n.jsx("p",{className:"font-medium",children:C.product_name||C.order_item_product_name||"Unknown"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Quantity Affected"}),n.jsx("p",{className:"font-medium",children:C.quantity_affected||1})]}),C.issue_types&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Issue Types"}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:C.issue_types.split(",").slice(0,2).map((P,R)=>n.jsx(Ce,{variant:"outline",className:"text-xs",children:P.trim()},R))})]})]})]})},C.id||A))]}):r.product_details?n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(ct,{className:"h-4 w-4"})," Product Details"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:r.product_details.product_image?n.jsx("img",{src:r.product_details.product_image,alt:r.product_details.product||"Product",className:"w-24 h-24 rounded-lg object-cover border-2 border-muted"}):n.jsx("div",{className:"w-24 h-24 rounded-lg flex items-center justify-center border-2 border-muted bg-muted",children:n.jsx(ct,{className:"h-10 w-10 text-muted-foreground"})})}),n.jsxs("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Product Name"}),n.jsx("p",{className:"font-medium",children:r.product_details.product})]}),r.product_details.sku&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"SKU"}),n.jsx("p",{className:"font-medium",children:r.product_details.sku})]}),r.product_details.category&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Category"}),n.jsx("p",{className:"font-medium",children:r.product_details.category})]}),r.product_details.unit_price&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Unit Price"}),n.jsxs("p",{className:"font-medium",children:["$",r.product_details.unit_price]})]})]})]})]}):null,!r.order_details&&!r.order_item_details&&!r.product_details&&n.jsxs("div",{className:"flex gap-4 items-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center border-2 border-muted bg-muted flex-shrink-0",children:n.jsx(ct,{className:"h-8 w-8 text-muted-foreground"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Product"}),n.jsx("p",{className:"font-medium",children:r.display_product_name||r.product_name||"Unknown"})]})]})]})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(dr,{className:"h-5 w-5"}),"Apartment & Vendor Information"]})}),n.jsx(X,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(dr,{className:"h-4 w-4"})," Apartment"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),n.jsx("p",{className:"font-medium",children:((j=r.apartment_details)==null?void 0:j.name)||"Unknown"})]}),((y=r.apartment_details)==null?void 0:y.address)&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),n.jsx("p",{className:"font-medium",children:r.apartment_details.address})]})]})]}),n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(qn,{className:"h-4 w-4"})," Vendor"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),n.jsx("p",{className:"font-medium",children:r.vendor_name||((w=r.vendor_details)==null?void 0:w.name)||"Unknown"})]}),((b=r.vendor_details)==null?void 0:b.contact_person)&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(qn,{className:"h-3 w-3"})," Contact Person"]}),n.jsx("p",{className:"font-medium",children:r.vendor_details.contact_person})]}),((N=r.vendor_details)==null?void 0:N.email)&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(cn,{className:"h-3 w-3"})," Email"]}),n.jsx("a",{href:`mailto:${r.vendor_details.email}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.email})]}),((S=r.vendor_details)==null?void 0:S.phone)&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(xo,{className:"h-3 w-3"})," Phone"]}),n.jsx("a",{href:`tel:${r.vendor_details.phone}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.phone})]}),r.vendor_contact&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor Contact"}),n.jsx("p",{className:"font-medium",children:r.vendor_contact})]})]})]})]})})]}),n.jsxs(wo,{defaultValue:"conversation",className:"w-full",children:[n.jsxs($i,{className:"grid w-full grid-cols-3",children:[n.jsxs(Lt,{value:"conversation",className:"gap-2",children:[n.jsx(Vd,{className:"h-4 w-4"}),"Conversation"]}),n.jsxs(Lt,{value:"photos",className:"gap-2",children:[n.jsx(ki,{className:"h-4 w-4"}),"Photos (",((E=r.photos)==null?void 0:E.length)||0,")"]}),n.jsxs(Lt,{value:"timeline",className:"gap-2",children:[n.jsx(jr,{className:"h-4 w-4"}),"Timeline"]})]}),n.jsx(Yt,{value:"conversation",className:"mt-6",children:n.jsx(KJe,{issue:r,onUpdateIssue:c})}),n.jsx(Yt,{value:"photos",className:"mt-6",children:n.jsx(YJe,{photos:r.photos||[],onAddPhoto:async C=>{Ue.info("Photo upload feature coming soon")}})}),n.jsx(Yt,{value:"timeline",className:"mt-6",children:n.jsx(XJe,{issue:r,product:r.product_details})})]})]}),n.jsx("div",{className:"space-y-6",children:n.jsx(QJe,{issue:r,vendor:r.vendor_details,onUpdateIssue:c})})]})]})})}function oet(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-4 w-16"}),n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-4 w-28"}),n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-4 w-12"})]})}function cet(){return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(_,{className:"h-10 w-10 rounded-md"}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(_,{className:"h-6 w-6 rounded"}),n.jsx(_,{className:"h-8 w-32"})]}),n.jsx(_,{className:"h-4 w-28"})]})]}),n.jsx(_,{className:"h-9 w-32 rounded-md"})]})}function det(){return n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-40"})]})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-16"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-28"}),n.jsx(_,{className:"h-24 w-full rounded-md"})]})]})]})}function uet(){return n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-40"})]})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-16"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-36"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]})]})}function fet(){return n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-36"})]})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-36"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-20 w-full rounded-md"})]})]})]})}function met(){return n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-36"})]})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-28"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-4 w-48"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-4 w-56"})]})]})]})]})}function het(){return n.jsx(ut,{title:"Edit Issue",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(oet,{}),n.jsx(cet,{}),n.jsx(det,{}),n.jsx(uet,{}),n.jsx(fet,{}),n.jsx(met,{}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(_,{className:"h-10 w-24 rounded-md"}),n.jsx(_,{className:"h-10 w-32 rounded-md"})]})]})})}const pet=()=>{var b;const e=fr(),{issueId:t}=Mi(),[r,s]=v.useState(null),[a,i]=v.useState(!0),[o,l]=v.useState(!1),[c,d]=v.useState(!1),[u,f]=v.useState(!1),[m,h]=v.useState({type:"",description:"",status:"Open",priority:"Medium",impact:"",expectedResolution:"",replacementEta:"",resolutionType:"",resolutionNotes:"",deliveryDate:"",invoiceNumber:"",trackingNumber:"",aiActivated:!1,autoNotifyVendor:!0}),x=["Open","Pending Vendor Response","Resolution Agreed","Closed"],p=[{value:"Critical",label:"Critical",color:"bg-red-500/10 text-red-600 border-red-200"},{value:"High",label:"High",color:"bg-orange-500/10 text-orange-600 border-orange-200"},{value:"Medium",label:"Medium",color:"bg-yellow-500/10 text-yellow-600 border-yellow-200"},{value:"Low",label:"Low",color:"bg-green-500/10 text-green-600 border-green-200"}],g=["Blocking Progress","Delaying Project","Partial Impact","Minor Inconvenience","No Impact"],j=["Full Replacement","Partial Replacement","Repair","Refund","Credit Note","Exchange","Other"];v.useEffect(()=>{if(!t){Ue.error("No issue ID provided"),e("/issues");return}i(!0),ms.getIssue(t).then(N=>{s(N),h({type:N.type||"",description:N.description||"",status:N.status||"Open",priority:N.priority||"Medium",impact:N.impact||"",expectedResolution:N.expected_resolution||"",replacementEta:N.replacement_eta||"",resolutionType:N.resolution_type||"",resolutionNotes:N.resolution_notes||"",deliveryDate:N.delivery_date||"",invoiceNumber:N.invoice_number||"",trackingNumber:N.tracking_number||"",aiActivated:N.ai_activated||!1,autoNotifyVendor:N.auto_notify_vendor??!0})}).catch(N=>{console.error("Failed to fetch issue:",N),Ue.error("Failed to load issue"),e("/issues")}).finally(()=>i(!1))},[t,e]);const y=async N=>{var S,E;if(N.preventDefault(),!!r){l(!0);try{await ms.updateIssue(r.id,{type:m.type,description:m.description,status:m.status,priority:m.priority,impact:m.impact||void 0,expected_resolution:m.expectedResolution||void 0,replacement_eta:m.replacementEta||void 0,resolution_type:m.resolutionType||void 0,resolution_notes:m.resolutionNotes||void 0,delivery_date:m.deliveryDate||void 0,invoice_number:m.invoiceNumber||void 0,tracking_number:m.trackingNumber||void 0,ai_activated:m.aiActivated,auto_notify_vendor:m.autoNotifyVendor}),Ue.success("Issue updated successfully"),e(`/issues/${r.id}`)}catch(C){Ue.error(((E=(S=C.response)==null?void 0:S.data)==null?void 0:E.message)||"Failed to update issue")}finally{l(!1)}}},w=async()=>{var N,S;if(r){d(!0);try{await ms.deleteIssue(r.id),Ue.success("Issue deleted successfully"),e("/issues")}catch(E){Ue.error(((S=(N=E.response)==null?void 0:N.data)==null?void 0:S.message)||"Failed to delete issue")}finally{d(!1),f(!1)}}};return a?n.jsx(het,{}):r?n.jsx(ut,{title:"Edit Issue",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ca,{children:n.jsxs(Ea,{children:[n.jsx(Jt,{children:n.jsx(Bn,{href:"/issues",children:"Issues"})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(Bn,{href:`/issues/${r.id}`,children:"Issue Details"})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(ni,{children:"Edit"})})]})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>e(`/issues/${r.id}`),children:n.jsx(tr,{className:"h-4 w-4"})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Ct,{className:"h-6 w-6 text-primary"}),"Edit Issue"]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Issue #",r.id.slice(-8)]})]})]}),n.jsxs(Xl,{open:u,onOpenChange:f,children:[n.jsxs(ee,{variant:"destructive",size:"sm",onClick:()=>f(!0),disabled:c,children:[c?n.jsx(zt,{className:"h-4 w-4 animate-spin mr-2"}):n.jsx(on,{className:"h-4 w-4 mr-2"}),"Delete Issue"]}),n.jsxs(sl,{className:"sm:max-w-md",children:[n.jsx(al,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(on,{className:"h-6 w-6 text-destructive"})}),n.jsxs("div",{children:[n.jsx(ol,{className:"text-lg",children:"Delete Issue"}),n.jsx(ll,{className:"text-sm",children:"This action cannot be undone."})]})]})}),n.jsx("div",{className:"py-4",children:n.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:r.type||"Issue"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:[(b=r.description)==null?void 0:b.slice(0,100),r.description&&r.description.length>100?"...":""]})]})}),n.jsxs(il,{children:[n.jsx(dl,{disabled:c,children:"Cancel"}),n.jsx(cl,{onClick:w,disabled:c,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:c?n.jsxs(n.Fragment,{children:[n.jsx(zt,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(on,{className:"h-4 w-4 mr-2"}),"Delete Issue"]})})]})]})]})]}),n.jsxs("form",{onSubmit:y,className:"space-y-6",children:[n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(fo,{className:"h-5 w-5"}),"Issue Information"]})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Issue Type *"}),n.jsx(me,{value:m.type,onChange:N=>h(S=>({...S,type:N.target.value})),placeholder:"e.g., Broken/Damaged, Wrong Item"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Status *"}),n.jsxs(at,{value:m.status,onValueChange:N=>h(S=>({...S,status:N})),children:[n.jsx(nt,{children:n.jsx(it,{})}),n.jsx(st,{children:x.map(N=>n.jsx(Z,{value:N,children:N},N))})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Description *"}),n.jsx(Mn,{value:m.description,onChange:N=>h(S=>({...S,description:N.target.value})),rows:4,placeholder:"Describe the issue in detail..."})]})]})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(fo,{className:"h-5 w-5"}),"Priority & Impact"]})}),n.jsxs(X,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Priority *"}),n.jsxs(at,{value:m.priority,onValueChange:N=>h(S=>({...S,priority:N})),children:[n.jsx(nt,{children:n.jsx(it,{})}),n.jsx(st,{children:p.map(N=>n.jsx(Z,{value:N.value,children:n.jsx(Ce,{className:N.color,children:N.label})},N.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Impact"}),n.jsxs(at,{value:m.impact,onValueChange:N=>h(S=>({...S,impact:N})),children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select impact level"})}),n.jsx(st,{children:g.map(N=>n.jsx(Z,{value:N,children:N},N))})]})]})]})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(en,{className:"h-5 w-5"}),"Timeline"]})}),n.jsxs(X,{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Expected Resolution"}),n.jsx(me,{type:"date",value:m.expectedResolution,onChange:N=>h(S=>({...S,expectedResolution:N.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Replacement ETA"}),n.jsx(me,{type:"date",value:m.replacementEta,onChange:N=>h(S=>({...S,replacementEta:N.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Delivery Date"}),n.jsx(me,{type:"date",value:m.deliveryDate,onChange:N=>h(S=>({...S,deliveryDate:N.target.value}))})]})]})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(or,{className:"h-5 w-5"}),"Resolution"]})}),n.jsxs(X,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Resolution Type"}),n.jsxs(at,{value:m.resolutionType,onValueChange:N=>h(S=>({...S,resolutionType:N})),children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select resolution type"})}),n.jsx(st,{children:j.map(N=>n.jsx(Z,{value:N,children:N},N))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Resolution Notes"}),n.jsx(me,{value:m.resolutionNotes,onChange:N=>h(S=>({...S,resolutionNotes:N.target.value})),placeholder:"Add notes about the resolution..."})]})]})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5"}),"Tracking Information"]})}),n.jsxs(X,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Invoice Number"}),n.jsx(me,{value:m.invoiceNumber,onChange:N=>h(S=>({...S,invoiceNumber:N.target.value})),placeholder:"Enter invoice number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Tracking Number"}),n.jsx(me,{value:m.trackingNumber,onChange:N=>h(S=>({...S,trackingNumber:N.target.value})),placeholder:"Enter tracking number"})]})]})]}),n.jsx(Y,{children:n.jsxs(X,{className:"py-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Hc,{id:"ai",checked:m.aiActivated,onCheckedChange:N=>h(S=>({...S,aiActivated:N}))}),n.jsx(G,{htmlFor:"ai",children:"Enable AI-assisted communication"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Hc,{id:"notify",checked:m.autoNotifyVendor,onCheckedChange:N=>h(S=>({...S,autoNotifyVendor:N}))}),n.jsx(G,{htmlFor:"notify",children:"Auto-notify vendor"})]})]})}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(ee,{type:"button",variant:"outline",onClick:()=>e(`/issues/${r.id}`),children:[n.jsx(tr,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsx(ee,{type:"submit",disabled:o,children:o?n.jsxs(n.Fragment,{children:[n.jsx(zt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Qd,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})]})}):n.jsx(ut,{title:"Edit Issue",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ct,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),n.jsx("p",{className:"text-lg font-medium",children:"Issue not found"}),n.jsx(ee,{onClick:()=>e("/issues"),className:"mt-4",children:"Back to Issues"})]})})},PJ=({payment:e,open:t,onOpenChange:r,onSave:s})=>{var w;const[a,i]=v.useState(0),[o,l]=v.useState("Bank Transfer"),[c,d]=v.useState(""),[u,f]=v.useState(""),m=(e==null?void 0:e.total_amount)??(e==null?void 0:e.totalAmount)??0,h=(e==null?void 0:e.amount_paid)??(e==null?void 0:e.amountPaid)??0,x=(e==null?void 0:e.vendor_name)??((w=e==null?void 0:e.vendor_details)==null?void 0:w.name)??(e==null?void 0:e.vendor)??"Unknown",p=(e==null?void 0:e.order_reference)??(e==null?void 0:e.orderReference)??"";if(v.useEffect(()=>{if(t&&e){const b=(e==null?void 0:e.total_amount)??(e==null?void 0:e.totalAmount)??0,N=(e==null?void 0:e.amount_paid)??(e==null?void 0:e.amountPaid)??0,S=b-N;i(S>0?S:0),l("Bank Transfer"),d(""),f("")}},[t,e==null?void 0:e.id]),!e)return n.jsx(En,{open:t,onOpenChange:r,children:n.jsx(vn,{className:"max-w-2xl",children:n.jsx(An,{children:n.jsx(kn,{children:"Loading..."})})})});const g=m-h,j=g-a,y=()=>{if(!(a<=0)){if(a>g){alert("Payment amount cannot exceed remaining balance");return}s(a,o,c,u)}};return n.jsx(En,{open:t,onOpenChange:r,children:n.jsxs(vn,{className:"max-w-2xl",children:[n.jsxs(An,{children:[n.jsxs(kn,{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(br,{className:"h-5 w-5 text-primary"})}),"Record Payment"]}),n.jsxs(zs,{children:["Record a new payment for ",n.jsx("span",{className:"font-semibold",children:x})," - ",p]})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-muted/30 rounded-lg border",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-lg font-bold",children:[m.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Already Paid"}),n.jsxs("p",{className:"text-lg font-bold text-success",children:[h.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Remaining"}),n.jsxs("p",{className:"text-lg font-bold text-warning",children:[g.toLocaleString()," HUF"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"amount",className:"text-sm font-semibold",children:"Payment Amount *"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"amount",type:"number",value:a,onChange:b=>i(Number(b.target.value)),placeholder:"Enter amount",className:"text-lg font-semibold pr-16",min:0,max:g}),n.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground font-medium",children:"HUF"})]}),a>0&&n.jsxs("div",{className:"flex items-center justify-between text-sm px-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"New balance after payment:"}),n.jsxs("span",{className:`font-semibold ${j===0?"text-success":"text-warning"}`,children:[j.toLocaleString()," HUF"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"paymentMethod",className:"text-sm font-semibold",children:"Payment Method *"}),n.jsxs(at,{value:o,onValueChange:l,children:[n.jsx(nt,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ns,{className:"h-4 w-4"}),n.jsx(it,{})]})}),n.jsxs(st,{children:[n.jsx(Z,{value:"Bank Transfer",children:"Bank Transfer"}),n.jsx(Z,{value:"Credit Card",children:"Credit Card"}),n.jsx(Z,{value:"Cash",children:"Cash"}),n.jsx(Z,{value:"Check",children:"Check"}),n.jsx(Z,{value:"Wire Transfer",children:"Wire Transfer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"referenceNo",className:"text-sm font-semibold",children:"Reference Number"}),n.jsx(me,{id:"referenceNo",value:c,onChange:b=>d(b.target.value),placeholder:"Optional",className:"font-mono"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"note",className:"text-sm font-semibold",children:"Notes"}),n.jsx(Mn,{id:"note",value:u,onChange:b=>f(b.target.value),placeholder:"Add any additional notes about this payment...",rows:3,className:"resize-none"})]})]}),n.jsxs(yo,{className:"gap-2",children:[n.jsx(ee,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsxs(ee,{onClick:y,disabled:a<=0||a>g,className:"min-w-[120px]",children:[n.jsx(br,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]})]})})},xet=({payment:e,open:t,onOpenChange:r})=>{var f;const s=m=>({Paid:"bg-success/10 text-success border-success/20",Partial:"bg-warning/10 text-warning border-warning/20",Unpaid:"bg-muted text-muted-foreground border-border",Overdue:"bg-danger/10 text-danger border-danger/20"})[m]||"bg-muted";if(!e)return n.jsx(En,{open:t,onOpenChange:r,children:n.jsx(vn,{className:"max-w-3xl",children:n.jsx(An,{children:n.jsx(kn,{children:"Loading..."})})})});const a=e.total_amount??e.totalAmount??0,i=e.amount_paid??e.amountPaid??0,o=e.vendor_name??((f=e.vendor_details)==null?void 0:f.name)??e.vendor??"Unknown",l=e.order_reference??e.orderReference??"",c=e.due_date??e.dueDate??"",d=e.last_payment_date??e.lastPaymentDate,u=e.payment_history??e.paymentHistory??[];return n.jsx(En,{open:t,onOpenChange:r,children:n.jsxs(vn,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[n.jsxs(An,{children:[n.jsxs(kn,{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(Sn,{className:"h-5 w-5 text-primary"})}),"Payment History"]}),n.jsxs(zs,{children:["Complete payment record for ",n.jsx("span",{className:"font-semibold",children:o})," - ",l]})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-muted/30 rounded-lg border",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-xl font-bold",children:[a.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Amount Paid"}),n.jsxs("p",{className:"text-xl font-bold text-success",children:[i.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Balance"}),n.jsxs("p",{className:"text-xl font-bold text-warning",children:[(a-i).toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Status"}),n.jsx(Ce,{className:s(e.status),children:e.status})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Order Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 rounded-lg border bg-card",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Due Date"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(en,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-sm font-medium",children:c?Kt(new Date(c),"MMMM dd, yyyy"):"N/A"})]})]}),d&&n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Last Payment"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Lr,{className:"h-4 w-4 text-success"}),n.jsx("p",{className:"text-sm font-medium",children:Kt(new Date(d),"MMMM dd, yyyy")})]})]}),e.notes&&n.jsxs("div",{className:"col-span-2 space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Notes"}),n.jsx("p",{className:"text-sm",children:e.notes})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Transaction History"}),u&&u.length>0?n.jsx("div",{className:"space-y-3",children:u.map((m,h)=>n.jsxs("div",{className:"relative",children:[h!==u.length-1&&n.jsx("div",{className:"absolute left-5 top-12 bottom-0 w-px bg-border"}),n.jsxs("div",{className:"flex gap-4 p-4 rounded-lg border bg-card hover:bg-muted/30 transition-colors",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"p-2 bg-success/10 rounded-full",children:n.jsx(Lr,{className:"h-5 w-5 text-success"})})}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("p",{className:"font-semibold text-lg",children:[(m.amount||0).toLocaleString()," HUF"]}),n.jsxs(Ce,{variant:"outline",className:"text-xs",children:[n.jsx(ns,{className:"h-3 w-3 mr-1"}),m.method]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:m.date?Kt(new Date(m.date),"MMMM dd, yyyy"):"N/A"})]})}),(m.referenceNo||m.reference_no)&&n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"Ref:"}),n.jsx("span",{className:"font-mono bg-muted px-2 py-0.5 rounded",children:m.referenceNo||m.reference_no})]}),m.note&&n.jsx("p",{className:"text-sm text-muted-foreground italic",children:m.note})]})]})]},m.id||h))}):n.jsxs("div",{className:"text-center py-12 border rounded-lg bg-muted/20",children:[n.jsx(Sn,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-3"}),n.jsx("p",{className:"text-muted-foreground",children:"No payment transactions recorded yet"})]})]})]})]})})},get=({open:e,onOpenChange:t})=>{const{apartments:r,vendors:s,addPayment:a}=Sl(),[i,o]=v.useState({apartmentId:"",vendorId:"",orderReference:"",totalAmount:"",amountPaid:"",dueDate:"",paymentMethod:"",notes:"",bankName:"",accountNumber:"",accountHolder:"",swift:"",iban:"",cardNumber:"",cardHolder:"",expiryDate:"",cvv:""}),[l,c]=v.useState("bank"),d=(j,y)=>{o(w=>({...w,[j]:y}))},u=()=>{const j=parseFloat(i.totalAmount)||0,y=parseFloat(i.amountPaid)||0;return j-y},f=()=>{if(!i.apartmentId||!i.vendorId||!i.orderReference||!i.totalAmount||!i.dueDate){Ue.error("Missing Required Fields",{description:"Please fill in all required fields"});return}const j=parseFloat(i.totalAmount),y=parseFloat(i.amountPaid)||0;if(isNaN(j)||j<=0){Ue.error("Invalid Amount",{description:"Please enter a valid total amount"});return}const w=s.find(S=>S.id===i.vendorId);if(!w)return;let b="Unpaid";y>=j?b="Paid":y>0&&(b="Partial");const N=y>0?[{date:new Date().toISOString().split("T")[0],amount:y,method:i.paymentMethod||l,referenceNo:i.orderReference,note:"Initial payment"}]:[];a({apartmentId:i.apartmentId,vendor:w.name,orderReference:i.orderReference,totalAmount:j,amountPaid:y,dueDate:i.dueDate,status:b,lastPaymentDate:y>0?new Date().toISOString().split("T")[0]:void 0,notes:i.notes,paymentHistory:N}),Ue.success("Payment Created",{description:`Payment record for ${w.name} has been created successfully`}),o({apartmentId:"",vendorId:"",orderReference:"",totalAmount:"",amountPaid:"",dueDate:"",paymentMethod:"",notes:"",bankName:"",accountNumber:"",accountHolder:"",swift:"",iban:"",cardNumber:"",cardHolder:"",expiryDate:"",cvv:""}),t(!1)},m=s.find(j=>j.id===i.vendorId),h=r.find(j=>j.id===i.apartmentId),x=u(),p=parseFloat(i.totalAmount)||0,g=parseFloat(i.amountPaid)||0;return n.jsx(En,{open:e,onOpenChange:t,children:n.jsxs(vn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(An,{children:[n.jsx(kn,{className:"text-2xl font-bold",children:"Create New Payment"}),n.jsx(zs,{children:"Create a comprehensive payment record with all necessary details"})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsx(Y,{children:n.jsxs(X,{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Sn,{className:"h-5 w-5 text-primary"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Order Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"apartment",className:"flex items-center gap-2",children:[n.jsx(dr,{className:"h-4 w-4 text-muted-foreground"}),"Apartment ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsxs(at,{value:i.apartmentId,onValueChange:j=>d("apartmentId",j),children:[n.jsx(nt,{id:"apartment",children:n.jsx(it,{placeholder:"Select apartment"})}),n.jsx(st,{children:r.map(j=>n.jsx(Z,{value:j.id,children:j.name},j.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"vendor",className:"flex items-center gap-2",children:[n.jsx(_a,{className:"h-4 w-4 text-muted-foreground"}),"Vendor ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsxs(at,{value:i.vendorId,onValueChange:j=>d("vendorId",j),children:[n.jsx(nt,{id:"vendor",children:n.jsx(it,{placeholder:"Select vendor"})}),n.jsx(st,{children:s.map(j=>n.jsx(Z,{value:j.id,children:j.name},j.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"orderRef",children:["Order Reference ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsx(me,{id:"orderRef",placeholder:"e.g., ORD-2025-001",value:i.orderReference,onChange:j=>d("orderReference",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"dueDate",className:"flex items-center gap-2",children:[n.jsx(en,{className:"h-4 w-4 text-muted-foreground"}),"Due Date ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsx(me,{id:"dueDate",type:"date",value:i.dueDate,onChange:j=>d("dueDate",j.target.value)})]})]})]})}),n.jsx(Y,{children:n.jsxs(X,{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(br,{className:"h-5 w-5 text-primary"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Payment Amount"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"totalAmount",children:["Total Amount (HUF) ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsx(me,{id:"totalAmount",type:"number",placeholder:"0.00",value:i.totalAmount,onChange:j=>d("totalAmount",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"amountPaid",children:"Amount Paid (HUF)"}),n.jsx(me,{id:"amountPaid",type:"number",placeholder:"0.00",value:i.amountPaid,onChange:j=>d("amountPaid",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{children:"Balance (HUF)"}),n.jsx("div",{className:ve("h-10 px-3 rounded-md border flex items-center font-semibold",x>0?"bg-warning/10 text-warning border-warning/20":"bg-success/10 text-success border-success/20"),children:x.toFixed(2)})]})]}),p>0&&n.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Amount:"}),n.jsxs("span",{className:"font-semibold",children:[p.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Amount Paid:"}),n.jsxs("span",{className:"font-semibold text-success",children:[g.toLocaleString()," HUF"]})]}),n.jsx(Rt,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-semibold",children:"Outstanding Balance:"}),n.jsxs("span",{className:ve("text-lg font-bold",x>0?"text-warning":"text-success"),children:[x.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[x===0&&n.jsxs(Ce,{className:"bg-success/10 text-success border-success/20",children:[n.jsx(or,{className:"h-3 w-3 mr-1"}),"Fully Paid"]}),x>0&&g>0&&n.jsxs(Ce,{className:"bg-warning/10 text-warning border-warning/20",children:[n.jsx(Ct,{className:"h-3 w-3 mr-1"}),"Partial Payment"]}),x>0&&g===0&&n.jsx(Ce,{variant:"outline",children:"Unpaid"})]})]})]})}),n.jsx(Y,{children:n.jsxs(X,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(ns,{className:"h-5 w-5 text-primary"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Payment Details"})]}),n.jsxs(wo,{value:l,onValueChange:j=>c(j),children:[n.jsxs($i,{className:"grid w-full grid-cols-3",children:[n.jsxs(Lt,{value:"bank",className:"flex items-center gap-2",children:[n.jsx(qg,{className:"h-4 w-4"}),"Bank Transfer"]}),n.jsxs(Lt,{value:"card",className:"flex items-center gap-2",children:[n.jsx(ns,{className:"h-4 w-4"}),"Card Payment"]}),n.jsxs(Lt,{value:"cash",className:"flex items-center gap-2",children:[n.jsx(br,{className:"h-4 w-4"}),"Cash"]})]}),n.jsx(Yt,{value:"bank",className:"space-y-4 mt-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"bankName",children:"Bank Name"}),n.jsx(me,{id:"bankName",placeholder:"e.g., OTP Bank",value:i.bankName,onChange:j=>d("bankName",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"accountHolder",children:"Account Holder"}),n.jsx(me,{id:"accountHolder",placeholder:"Full name",value:i.accountHolder,onChange:j=>d("accountHolder",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"accountNumber",children:"Account Number"}),n.jsx(me,{id:"accountNumber",placeholder:"XXXX-XXXX-XXXX-XXXX",value:i.accountNumber,onChange:j=>d("accountNumber",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"iban",children:"IBAN"}),n.jsx(me,{id:"iban",placeholder:"HU42 1177 3016 1111 1018 0000 0000",value:i.iban,onChange:j=>d("iban",j.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"swift",children:"SWIFT/BIC Code"}),n.jsx(me,{id:"swift",placeholder:"e.g., OTPVHUHB",value:i.swift,onChange:j=>d("swift",j.target.value)})]})]})}),n.jsx(Yt,{value:"card",className:"space-y-4 mt-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"cardNumber",children:"Card Number"}),n.jsx(me,{id:"cardNumber",placeholder:"XXXX XXXX XXXX XXXX",maxLength:19,value:i.cardNumber,onChange:j=>d("cardNumber",j.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"cardHolder",children:"Card Holder Name"}),n.jsx(me,{id:"cardHolder",placeholder:"Name as on card",value:i.cardHolder,onChange:j=>d("cardHolder",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"expiryDate",children:"Expiry Date"}),n.jsx(me,{id:"expiryDate",placeholder:"MM/YY",maxLength:5,value:i.expiryDate,onChange:j=>d("expiryDate",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"cvv",children:"CVV"}),n.jsx(me,{id:"cvv",type:"password",placeholder:"XXX",maxLength:4,value:i.cvv,onChange:j=>d("cvv",j.target.value)})]})]})}),n.jsx(Yt,{value:"cash",className:"mt-4",children:n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg text-center text-muted-foreground",children:[n.jsx(qg,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/50"}),n.jsx("p",{className:"text-sm",children:"Cash payment selected. No additional details required."})]})})]})]})}),n.jsx(Y,{children:n.jsxs(X,{className:"p-6 space-y-2",children:[n.jsx(G,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(Mn,{id:"notes",placeholder:"Add any additional payment notes or instructions...",rows:3,value:i.notes,onChange:j=>d("notes",j.target.value)})]})}),(h||m)&&n.jsx(Y,{className:"bg-primary/5 border-primary/20",children:n.jsxs(X,{className:"p-6",children:[n.jsx("h3",{className:"font-semibold mb-3 text-primary",children:"Payment Summary"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[h&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Apartment:"}),n.jsx("span",{className:"font-medium",children:h.name})]}),m&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Vendor:"}),n.jsx("span",{className:"font-medium",children:m.name})]}),i.orderReference&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Order Reference:"}),n.jsx("span",{className:"font-mono font-medium",children:i.orderReference})]}),i.dueDate&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Due Date:"}),n.jsx("span",{className:"font-medium",children:new Date(i.dueDate).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Payment Method:"}),n.jsx(Ce,{variant:"outline",children:l.toUpperCase()})]})]})]})})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(ee,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(ee,{onClick:f,className:"px-8",children:"Create Payment"})]})]})})},qi=ur.create({baseURL:Fi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});qi.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));qi.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const wu={getPayments:async e=>(await qi.get("/payments/",{params:e})).data,getPayment:async e=>(await qi.get(`/payments/${e}/`)).data,createPayment:async e=>(await qi.post("/payments/",e)).data,createPaymentFromOrder:async e=>(await qi.post("/payments/from-order/",e)).data,updatePayment:async(e,t)=>(await qi.put(`/payments/${e}/`,t)).data,patchPayment:async(e,t)=>(await qi.patch(`/payments/${e}/`,t)).data,deletePayment:async e=>{await qi.delete(`/payments/${e}/`)},getPaymentHistory:async e=>{const t=e?{payment:e}:{},r=await qi.get("/payment-history/",{params:t});return r.data.results||r.data},createPaymentHistory:async e=>(await qi.post("/payment-history/",e)).data,deletePaymentHistory:async e=>{await qi.delete(`/payment-history/${e}/`)}},Is={all:["payments"],lists:()=>[...Is.all,"list"],list:e=>[...Is.lists(),e],details:()=>[...Is.all,"detail"],detail:e=>[...Is.details(),e],history:e=>[...Is.all,"history",e]},TJ=e=>ls({queryKey:Is.list(e),queryFn:()=>wu.getPayments(e)}),OJ=e=>ls({queryKey:Is.detail(e),queryFn:()=>wu.getPayment(e),enabled:!!e}),vet=()=>{const e=Hr();return dn({mutationFn:t=>wu.createPaymentFromOrder(t),onSuccess:()=>{e.invalidateQueries({queryKey:Is.lists()})}})},DJ=()=>{const e=Hr();return dn({mutationFn:({id:t,data:r})=>wu.updatePayment(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:Is.lists()}),e.invalidateQueries({queryKey:Is.detail(t.id)})}})},yet=()=>{const e=Hr();return dn({mutationFn:t=>wu.deletePayment(t),onSuccess:()=>{e.invalidateQueries({queryKey:Is.lists()})}})},IJ=()=>{const e=Hr();return dn({mutationFn:t=>wu.createPaymentHistory(t),onSuccess:t=>{e.invalidateQueries({queryKey:Is.history(t.payment)}),e.invalidateQueries({queryKey:Is.lists()}),e.invalidateQueries({queryKey:Is.details()})}})},jet=()=>{const e=Hr();return dn({mutationFn:t=>wu.deletePaymentHistory(t),onSuccess:()=>{e.invalidateQueries({queryKey:Is.history()}),e.invalidateQueries({queryKey:Is.lists()}),e.invalidateQueries({queryKey:Is.details()})}})};function bet(){return n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(_,{className:"h-11 w-40 rounded-md"}),n.jsx(_,{className:"h-10 w-36 rounded-md"})]})}function wet(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{iconBg:"bg-primary/10"},{iconBg:"bg-green-500/10"},{iconBg:"bg-yellow-500/10"},{iconBg:"bg-red-500/10"}].map((e,t)=>n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-3 w-24"}),n.jsx(_,{className:"h-8 w-32"}),t===3&&n.jsx(_,{className:"h-3 w-20 mt-1"})]}),n.jsx("div",{className:`p-3 rounded-lg ${e.iconBg}`,children:n.jsx(_,{className:"h-6 w-6 rounded"})})]})})},t))})}function Net(){return n.jsxs(Y,{children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-6 w-40"}),n.jsx(_,{className:"h-4 w-64"})]}),n.jsx(_,{className:"h-10 w-[130px] rounded-md"})]})}),n.jsxs(X,{children:[n.jsx("div",{className:"grid w-full grid-cols-3 bg-muted rounded-lg p-1 mb-6",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-4 w-24"})]},t))}),n.jsx("div",{className:"h-[350px] flex items-end justify-between gap-2 px-4",children:[...Array(12)].map((e,t)=>n.jsxs("div",{className:"flex-1 flex flex-col justify-end gap-1",children:[n.jsx(_,{className:"w-full rounded-t",style:{height:`${Math.random()*60+40}%`}}),n.jsx(_,{className:"h-3 w-full"})]},t))})]})]})}function _et(){return n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(_,{className:"h-6 w-32"}),n.jsx(_,{className:"h-9 w-28 rounded-md"})]})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsx(_,{className:"h-10 flex-1 rounded-md"}),n.jsx(_,{className:"h-10 w-[140px] rounded-md"}),n.jsx(_,{className:"h-10 w-[140px] rounded-md"}),n.jsx(_,{className:"h-10 w-[140px] rounded-md"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]},t))})]})]})}function Cet(){return n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(_,{className:"h-6 w-48"}),n.jsx(_,{className:"h-9 w-32 rounded-md"})]})}),n.jsx(X,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Order Ref","Vendor","Apartment","Due Date","Total","Paid","Outstanding","Status","Actions"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(_,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(8)].map((e,t)=>n.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-3 w-32"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx(_,{className:"h-4 w-28"}),n.jsx(_,{className:"h-3 w-36"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-32"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-5 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx(_,{className:"h-8 w-8 rounded"}),n.jsx(_,{className:"h-8 w-8 rounded"}),n.jsx(_,{className:"h-8 w-8 rounded"})]})})]},t))})]})})})]})}function Eet(){return n.jsxs("div",{className:"space-y-6",children:[n.jsx(bet,{}),n.jsx(wet,{}),n.jsx(Net,{}),n.jsx(_et,{}),n.jsx(Cet,{})]})}const Aet=()=>{var wt,Qe;const e=fr(),{apartments:t,vendors:r,updatePayment:s,addPaymentToHistory:a}=Sl(),{data:i,isLoading:o,error:l,refetch:c}=TJ({page_size:100}),d=yet();DJ();const u=IJ(),f=(i==null?void 0:i.results)||[],[m,h]=v.useState(""),[x,p]=v.useState("All"),[g,j]=v.useState("All"),[y,w]=v.useState("All"),[b,N]=v.useState(""),[S,E]=v.useState(""),[C,A]=v.useState(""),[P,R]=v.useState(""),[I,z]=v.useState(null),[U,L]=v.useState(!1),[T,k]=v.useState(!1),[O,M]=v.useState(!1),[ie,ce]=v.useState("30d"),[D,W]=v.useState("trends"),[F,q]=v.useState(!1),[le,fe]=v.useState(!1),[B,K]=v.useState(null),se=je=>{var He;return((He=je.apartment_details)==null?void 0:He.name)||"Unknown"},Ne=je=>({Paid:"bg-success/10 text-success border-success/20",Partial:"bg-warning/10 text-warning border-warning/20",Unpaid:"bg-muted text-muted-foreground border-border",Overdue:"bg-danger/10 text-danger border-danger/20"})[je]||"bg-muted",ue=je=>{switch(je){case"Paid":return n.jsx(Lr,{className:"h-3.5 w-3.5"});case"Partial":return n.jsx(jr,{className:"h-3.5 w-3.5"});case"Overdue":return n.jsx(Ct,{className:"h-3.5 w-3.5"});default:return n.jsx(br,{className:"h-3.5 w-3.5"})}},ge=v.useMemo(()=>f.filter(je=>{var jt;const He=se(je),ye=je.vendor_name||((jt=je.vendor_details)==null?void 0:jt.name)||"",Je=ye.toLowerCase().includes(m.toLowerCase())||je.order_reference.toLowerCase().includes(m.toLowerCase())||He.toLowerCase().includes(m.toLowerCase()),sr=x==="All"||je.status===x,Er=g==="All"||ye===g,dt=y==="All"||je.apartment===y;let Ht=!0;if(b||S){const It=new Date(je.due_date);b&&(Ht=Ht&&It>=new Date(b)),S&&(Ht=Ht&&It<=new Date(S))}let Nr=!0;if(C||P){const It=je.total_amount||0;C&&(Nr=Nr&&It>=parseFloat(C)),P&&(Nr=Nr&&It<=parseFloat(P))}return Je&&sr&&Er&&dt&&Ht&&Nr}),[f,m,x,g,y,b,S,C,P]),xe=ge.reduce((je,He)=>je+(He.total_amount||0),0),Se=ge.reduce((je,He)=>je+(He.amount_paid||0),0),Me=xe-Se,Oe=ge.filter(je=>je.status==="Overdue").length,te=ge.filter(je=>je.status==="Partial").length,he=Array.from(new Set(f.map(je=>{var He;return je.vendor_name||((He=je.vendor_details)==null?void 0:He.name)||""}))).filter(Boolean).sort(),oe=()=>{h(""),p("All"),j("All"),w("All"),N(""),E(""),A(""),R("")},be=[m,x!=="All",g!=="All",y!=="All",b,S,C,P].filter(Boolean).length,Le=je=>{z(je),L(!0)},Ie=()=>{Ue.success("Export Started",{description:"Your payment report is being generated..."})},de=v.useMemo(()=>{const je=new Date;let He;switch(ie){case"7d":fc(je,7),He=7;break;case"30d":fc(je,30),He=30;break;case"90d":fc(je,90),He=90;break;case"1y":gxe(je,12),He=365;break;default:fc(je,30),He=30}const ye=[];for(let Je=He;Je>=0;Je--){const sr=fc(je,Je),Er=Kt(sr,"yyyy-MM-dd"),Ht=f.filter(Nr=>{var jt;return Nr.last_payment_date===Er?!0:(jt=Nr.payment_history)==null?void 0:jt.some(It=>It.date===Er)}).reduce((Nr,jt)=>{var ar;const It=((ar=jt.payment_history)==null?void 0:ar.filter(Kn=>Kn.date===Er))||[];return Nr+It.reduce((Kn,Ss)=>Kn+(Ss.amount||0),0)},0);ye.push({date:Kt(sr,"MMM dd"),fullDate:Er,paid:Ht,pending:f.filter(Nr=>Nr.due_date===Er&&Nr.status!=="Paid").reduce((Nr,jt)=>Nr+(jt.outstanding_amount||0),0)})}return ye},[f,ie]),Re=v.useMemo(()=>{const je={Paid:f.filter(He=>He.status==="Paid").length,Partial:f.filter(He=>He.status==="Partial").length,Unpaid:f.filter(He=>He.status==="Unpaid").length,Overdue:f.filter(He=>He.status==="Overdue").length};return[{name:"Paid",value:je.Paid,color:"hsl(var(--success))"},{name:"Partial",value:je.Partial,color:"hsl(var(--warning))"},{name:"Unpaid",value:je.Unpaid,color:"hsl(var(--muted-foreground))"},{name:"Overdue",value:je.Overdue,color:"hsl(var(--danger))"}].filter(He=>He.value>0)},[f]),ot=v.useMemo(()=>{const je={};return f.forEach(He=>{var Je;const ye=He.vendor_name||((Je=He.vendor_details)==null?void 0:Je.name)||"Unknown";je[ye]||(je[ye]={total:0,paid:0,pending:0}),je[ye].total+=He.total_amount||0,je[ye].paid+=He.amount_paid||0,je[ye].pending+=He.outstanding_amount||0}),Object.entries(je).map(([He,ye])=>({vendor:He,...ye})).sort((He,ye)=>ye.total-He.total).slice(0,5)},[f]);return o?n.jsx(ut,{title:"Payments",children:n.jsx(Eet,{})}):n.jsxs(ut,{title:"Payments",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs(ee,{onClick:()=>e("/payments/new"),size:"lg",className:"h-11",children:[n.jsx(Fn,{className:"h-5 w-5 mr-2"}),"Create Payment"]}),n.jsxs(ee,{variant:"outline",onClick:Ie,children:[n.jsx(xv,{className:"h-4 w-4 mr-2"}),"Export Report"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold tracking-tight",children:[xe.toLocaleString()," HUF"]})]}),n.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:n.jsx(br,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Total Paid"}),n.jsxs("p",{className:"text-2xl font-bold tracking-tight text-success",children:[Se.toLocaleString()," HUF"]})]}),n.jsx("div",{className:"p-3 bg-success/10 rounded-lg",children:n.jsx(Lr,{className:"h-6 w-6 text-success"})})]})})}),n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Outstanding"}),n.jsxs("p",{className:"text-2xl font-bold tracking-tight text-warning",children:[Me.toLocaleString()," HUF"]})]}),n.jsx("div",{className:"p-3 bg-warning/10 rounded-lg",children:n.jsx(jr,{className:"h-6 w-6 text-warning"})})]})})}),n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Overdue"}),n.jsx("p",{className:"text-2xl font-bold tracking-tight text-danger",children:Oe}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[te," Partial"]})]}),n.jsx("div",{className:"p-3 bg-danger/10 rounded-lg",children:n.jsx(Ct,{className:"h-6 w-6 text-danger"})})]})})})]}),n.jsxs(Y,{children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(Ve,{className:"text-lg font-semibold",children:"Payment Analytics"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Visual insights into payment trends and status"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(at,{value:ie,onValueChange:je=>ce(je),children:[n.jsx(nt,{className:"w-[130px]",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"7d",children:"Last 7 days"}),n.jsx(Z,{value:"30d",children:"Last 30 days"}),n.jsx(Z,{value:"90d",children:"Last 90 days"}),n.jsx(Z,{value:"1y",children:"Last year"})]})]})})]})}),n.jsx(X,{children:n.jsxs(wo,{value:D,onValueChange:je=>W(je),children:[n.jsxs($i,{className:"grid w-full grid-cols-3 mb-6",children:[n.jsxs(Lt,{value:"trends",className:"flex items-center gap-2",children:[n.jsx(yf,{className:"h-4 w-4"}),"Payment Trends"]}),n.jsxs(Lt,{value:"status",className:"flex items-center gap-2",children:[n.jsx(Lr,{className:"h-4 w-4"}),"Status Distribution"]}),n.jsxs(Lt,{value:"vendors",className:"flex items-center gap-2",children:[n.jsx(qa,{className:"h-4 w-4"}),"Vendor Comparison"]})]}),n.jsx(Yt,{value:"trends",className:"mt-0",children:n.jsx(rn,{width:"100%",height:350,children:n.jsxs(X6e,{data:de,children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorPaid",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"hsl(var(--success))",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"hsl(var(--success))",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorPending",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"hsl(var(--warning))",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"hsl(var(--warning))",stopOpacity:0})]})]}),n.jsx(Tn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(Xr,{dataKey:"date",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(Qr,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:je=>`${(je/1e3).toFixed(0)}k`}),n.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:je=>[`${je.toLocaleString()} HUF`,""]}),n.jsx(Go,{}),n.jsx(Uc,{type:"monotone",dataKey:"paid",stroke:"hsl(var(--success))",fillOpacity:1,fill:"url(#colorPaid)",name:"Paid"}),n.jsx(Uc,{type:"monotone",dataKey:"pending",stroke:"hsl(var(--warning))",fillOpacity:1,fill:"url(#colorPending)",name:"Pending"})]})})}),n.jsx(Yt,{value:"status",className:"mt-0",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(rn,{width:"100%",height:350,children:n.jsxs(yg,{children:[n.jsx(Si,{data:Re,cx:"50%",cy:"50%",labelLine:!1,label:({name:je,percent:He})=>`${je}: ${(He*100).toFixed(0)}%`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:Re.map((je,He)=>n.jsx(ua,{fill:je.color},`cell-${He}`))}),n.jsx(mr,{})]})}),n.jsx("div",{className:"flex flex-col justify-center space-y-4",children:Re.map(je=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:je.color}}),n.jsx("span",{className:"font-medium",children:je.name})]}),n.jsx("span",{className:"text-2xl font-bold",children:je.value})]},je.name))})]})}),n.jsx(Yt,{value:"vendors",className:"mt-0",children:n.jsx(rn,{width:"100%",height:350,children:n.jsxs(da,{data:ot,children:[n.jsx(Tn,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(Xr,{dataKey:"vendor",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(Qr,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:je=>`${(je/1e3).toFixed(0)}k`}),n.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:je=>[`${je.toLocaleString()} HUF`,""]}),n.jsx(Go,{}),n.jsx(mn,{dataKey:"paid",fill:"hsl(var(--success))",name:"Paid",radius:[4,4,0,0]}),n.jsx(mn,{dataKey:"pending",fill:"hsl(var(--warning))",name:"Pending",radius:[4,4,0,0]})]})})})]})})]}),n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search by vendor, order reference, or apartment...",value:m,onChange:je=>h(je.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap lg:flex-nowrap",children:[n.jsxs(at,{value:x,onValueChange:p,children:[n.jsx(nt,{className:"w-full sm:w-[140px]",children:n.jsx(it,{placeholder:"Status"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"All",children:"All Status"}),n.jsx(Z,{value:"Paid",children:"Paid"}),n.jsx(Z,{value:"Partial",children:"Partial"}),n.jsx(Z,{value:"Unpaid",children:"Unpaid"}),n.jsx(Z,{value:"Overdue",children:"Overdue"})]})]}),n.jsxs(at,{value:g,onValueChange:j,children:[n.jsx(nt,{className:"w-full sm:w-[140px]",children:n.jsx(it,{placeholder:"Vendor"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"All",children:"All Vendors"}),he.map(je=>n.jsx(Z,{value:je,children:je},je))]})]}),n.jsxs(ee,{variant:F?"default":"outline",onClick:()=>q(!F),className:"relative",children:[n.jsx(gv,{className:"h-4 w-4 mr-2"}),"Filters",be>0&&n.jsx(Ce,{className:"ml-2 h-5 w-5 p-0 flex items-center justify-center bg-primary text-primary-foreground",children:be}),F?n.jsx(Zw,{className:"h-4 w-4 ml-2"}):n.jsx(Wf,{className:"h-4 w-4 ml-2"})]})]})]}),F&&n.jsxs("div",{className:"pt-4 border-t space-y-4 animate-slide-down",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Advanced Filters"}),be>0&&n.jsxs(ee,{variant:"ghost",size:"sm",onClick:oe,className:"h-8 text-xs",children:[n.jsx(Zn,{className:"h-3 w-3 mr-1"}),"Clear All"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{className:"text-xs font-medium text-muted-foreground",children:"Apartment"}),n.jsxs(at,{value:y,onValueChange:w,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"All Apartments"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"All",children:"All Apartments"}),t.map(je=>n.jsx(Z,{value:je.id,children:je.name},je.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{className:"text-xs font-medium text-muted-foreground",children:"Due Date From"}),n.jsx(me,{type:"date",value:b,onChange:je=>N(je.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{className:"text-xs font-medium text-muted-foreground",children:"Due Date To"}),n.jsx(me,{type:"date",value:S,onChange:je=>E(je.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{className:"text-xs font-medium text-muted-foreground",children:"Min Amount (HUF)"}),n.jsx(me,{type:"number",placeholder:"0",value:C,onChange:je=>A(je.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{className:"text-xs font-medium text-muted-foreground",children:"Max Amount (HUF)"}),n.jsx(me,{type:"number",placeholder:"1000000",value:P,onChange:je=>R(je.target.value)})]})]}),be>0&&n.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[m&&n.jsxs(Ce,{variant:"secondary",className:"gap-1",children:["Search: ",m,n.jsx(Zn,{className:"h-3 w-3 cursor-pointer",onClick:()=>h("")})]}),x!=="All"&&n.jsxs(Ce,{variant:"secondary",className:"gap-1",children:["Status: ",x,n.jsx(Zn,{className:"h-3 w-3 cursor-pointer",onClick:()=>p("All")})]}),g!=="All"&&n.jsxs(Ce,{variant:"secondary",className:"gap-1",children:["Vendor: ",g,n.jsx(Zn,{className:"h-3 w-3 cursor-pointer",onClick:()=>j("All")})]}),y!=="All"&&n.jsxs(Ce,{variant:"secondary",className:"gap-1",children:["Apartment: ",((wt=t.find(je=>je.id===y))==null?void 0:wt.name)||y,n.jsx(Zn,{className:"h-3 w-3 cursor-pointer",onClick:()=>w("All")})]}),b&&n.jsxs(Ce,{variant:"secondary",className:"gap-1",children:["From: ",Kt(new Date(b),"MMM dd, yyyy"),n.jsx(Zn,{className:"h-3 w-3 cursor-pointer",onClick:()=>N("")})]}),S&&n.jsxs(Ce,{variant:"secondary",className:"gap-1",children:["To: ",Kt(new Date(S),"MMM dd, yyyy"),n.jsx(Zn,{className:"h-3 w-3 cursor-pointer",onClick:()=>E("")})]}),C&&n.jsxs(Ce,{variant:"secondary",className:"gap-1",children:["Min: ",parseFloat(C).toLocaleString()," HUF",n.jsx(Zn,{className:"h-3 w-3 cursor-pointer",onClick:()=>A("")})]}),P&&n.jsxs(Ce,{variant:"secondary",className:"gap-1",children:["Max: ",parseFloat(P).toLocaleString()," HUF",n.jsx(Zn,{className:"h-3 w-3 cursor-pointer",onClick:()=>R("")})]})]})]}),n.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",n.jsx("span",{className:"font-semibold text-foreground",children:ge.length})," of"," ",n.jsx("span",{className:"font-semibold text-foreground",children:f.length})," payments"]})})]})})}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx(Ve,{className:"text-lg font-semibold",children:"Payment Records"})}),n.jsx(X,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(js,{children:[n.jsx(bs,{children:n.jsxs($t,{className:"bg-muted/50",children:[n.jsx(Pe,{className:"font-semibold",children:"Vendor"}),n.jsx(Pe,{className:"font-semibold",children:"Order Ref"}),n.jsx(Pe,{className:"font-semibold",children:"Apartment"}),n.jsx(Pe,{className:"font-semibold text-right",children:"Total Amount"}),n.jsx(Pe,{className:"font-semibold text-right",children:"Paid"}),n.jsx(Pe,{className:"font-semibold text-right",children:"Balance"}),n.jsx(Pe,{className:"font-semibold",children:"Due Date"}),n.jsx(Pe,{className:"font-semibold",children:"Status"}),n.jsx(Pe,{className:"font-semibold text-center",children:"Actions"})]})}),n.jsx(ws,{children:ge.length===0?n.jsx($t,{children:n.jsx(_e,{colSpan:9,className:"text-center py-12 text-muted-foreground",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(bb,{className:"h-12 w-12 text-muted-foreground/50"}),n.jsx("p",{children:"No payments found matching your filters"})]})})}):ge.map(je=>{var jt;const He=je.total_amount||0,ye=je.amount_paid||0,Je=je.outstanding_amount||0,sr=je.status==="Overdue",Ht=new Date(je.due_date)<new Date&&je.status!=="Paid",Nr=je.vendor_name||((jt=je.vendor_details)==null?void 0:jt.name)||"Unknown";return n.jsxs($t,{className:ve("transition-colors cursor-pointer hover:bg-muted/50",sr&&"bg-danger/5 hover:bg-danger/10"),onClick:()=>e(`/payments/${je.id}`),children:[n.jsxs(_e,{children:[n.jsx("div",{className:"font-medium text-foreground",children:Nr}),je.notes&&n.jsx("div",{className:"text-xs text-muted-foreground mt-0.5 max-w-[200px] truncate",children:je.notes})]}),n.jsx(_e,{children:n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(bb,{className:"h-3.5 w-3.5 text-muted-foreground"}),n.jsx("span",{className:"font-mono text-sm",children:je.order_reference})]})}),n.jsx(_e,{children:n.jsx(Ce,{variant:"outline",className:"font-normal",children:se(je)})}),n.jsx(_e,{className:"text-right",children:n.jsxs("span",{className:"font-semibold",children:[He.toLocaleString()," HUF"]})}),n.jsx(_e,{className:"text-right",children:ye>0?n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs("div",{className:"font-semibold text-success",children:[ye.toLocaleString()," HUF"]}),je.last_payment_date&&n.jsx("div",{className:"text-xs text-muted-foreground",children:Kt(new Date(je.last_payment_date),"MMM dd")})]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(_e,{className:"text-right",children:Je>0?n.jsxs("span",{className:ve("font-semibold",sr?"text-danger":"text-warning"),children:[Je.toLocaleString()," HUF"]}):n.jsx("span",{className:"text-success",children:" Paid"})}),n.jsx(_e,{children:n.jsx("div",{className:ve("text-sm",Ht&&"text-danger font-semibold"),children:Kt(new Date(je.due_date),"MMM dd, yyyy")})}),n.jsx(_e,{children:n.jsxs(Ce,{className:Ne(je.status),children:[ue(je.status),n.jsx("span",{className:"ml-1",children:je.status})]})}),n.jsx(_e,{className:"text-center",onClick:It=>It.stopPropagation(),children:n.jsx("div",{className:"flex items-center justify-center gap-1",children:n.jsxs(Iv,{children:[n.jsx(Rv,{asChild:!0,children:n.jsx(ee,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(A9,{className:"h-4 w-4"})})}),n.jsxs(Op,{align:"end",children:[n.jsxs(wn,{onClick:()=>e(`/payments/${je.id}`),children:[n.jsx(Ha,{className:"h-4 w-4 mr-2"}),"View Details"]}),je.status!=="Paid"&&n.jsxs(n.Fragment,{children:[n.jsx(wc,{}),n.jsxs(wn,{onClick:()=>Le(je),className:"text-success focus:text-success",children:[n.jsx(br,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]}),n.jsx(wc,{}),n.jsxs(wn,{onClick:()=>e(`/payments/${je.id}/edit`),children:[n.jsx($s,{className:"h-4 w-4 mr-2"}),"Edit Payment"]}),n.jsx(wc,{}),n.jsxs(wn,{className:"text-danger focus:text-danger",onClick:()=>{K(je),fe(!0)},children:[n.jsx(on,{className:"h-4 w-4 mr-2"}),"Delete Payment"]})]})]})})})]},je.id)})})]})})})]})]}),n.jsx(PJ,{payment:I,open:U,onOpenChange:L,onSave:async(je,He,ye,Je)=>{if(I)try{await u.mutateAsync({payment:I.id,date:new Date().toISOString().split("T")[0],amount:je,method:He,reference_no:ye,note:Je}),Ue.success("Payment Recorded",{description:`${je.toLocaleString()} HUF recorded successfully`}),L(!1),c()}catch{Ue.error("Failed to record payment")}}}),n.jsx(xet,{payment:I,open:T,onOpenChange:k}),n.jsx(get,{open:O,onOpenChange:M}),n.jsx(Xl,{open:le,onOpenChange:fe,children:n.jsxs(sl,{className:"max-w-md",onKeyDown:async je=>{if(je.key==="Enter"&&B&&!d.isPending){je.preventDefault();try{await d.mutateAsync(B.id),Ue.success("Payment Deleted",{description:`Payment ${B.order_reference} has been deleted.`}),fe(!1),K(null),c()}catch{Ue.error("Failed to delete payment")}}},children:[n.jsxs(al,{className:"space-y-4",children:[n.jsx("div",{className:"mx-auto w-14 h-14 rounded-full bg-danger/10 flex items-center justify-center",children:n.jsx(fo,{className:"h-7 w-7 text-danger"})}),n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx(ol,{className:"text-xl",children:"Delete Payment"}),n.jsx(ll,{className:"text-base",children:"Are you sure you want to delete this payment record?"})]}),B&&n.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 border space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Order Reference"}),n.jsx("span",{className:"font-semibold",children:B.order_reference})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Vendor"}),n.jsx("span",{className:"font-medium",children:B.vendor_name||((Qe=B.vendor_details)==null?void 0:Qe.name)||"N/A"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Amount"}),n.jsxs("span",{className:"font-semibold text-primary",children:[(B.total_amount||0).toLocaleString()," HUF"]})]})]}),n.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:[n.jsx(fo,{className:"h-3.5 w-3.5 inline mr-1 text-warning"}),"This action cannot be undone. All payment history will be lost."]})]}),n.jsxs(il,{className:"sm:space-x-3 mt-2",children:[n.jsxs(dl,{className:"flex-1 sm:flex-none",children:[n.jsx(El,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsx(cl,{className:"flex-1 sm:flex-none bg-danger text-danger-foreground hover:bg-danger/90",disabled:d.isPending,onClick:async()=>{if(B)try{await d.mutateAsync(B.id),Ue.success("Payment Deleted",{description:`Payment ${B.order_reference} has been deleted.`}),fe(!1),K(null),c()}catch{Ue.error("Failed to delete payment")}},children:d.isPending?n.jsxs(n.Fragment,{children:[n.jsx(zt,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(on,{className:"h-4 w-4 mr-2"}),"Delete Payment"]})})]})]})})]})},ket=()=>{var L,T,k;const e=fr(),[t,r]=v.useState("select-order"),[s,a]=v.useState(null),[i,o]=v.useState([]),[l,c]=v.useState({due_date:"",total_amount:"",needs_to_pay:"",shipping_cost:"",discount:"",payment_method:"Bank Transfer",reference_number:"",notes:"",bank_name:"",account_holder:"",account_number:"",iban:"",card_holder:"",card_last_four:""}),[d,u]=v.useState(""),[f,m]=v.useState(!1),{orders:h,loading:x}=TX({page_size:100}),{data:p}=TJ({page_size:200}),g=(p==null?void 0:p.results)||[],j=vet(),y=v.useMemo(()=>{const O=new Map;return g.forEach(M=>{M.order&&(!O.get(M.order)||M.status==="Paid")&&O.set(M.order,{status:M.status,paymentId:M.id})}),O},[g]),w=v.useMemo(()=>h.filter(O=>{const M=y.get(O.id);return!M||M.status!=="Paid"}),[h,y]),b=v.useMemo(()=>{if(!d.trim())return w;const O=d.toLowerCase();return w.filter(M=>{var ie,ce,D;return((ie=M.po_number)==null?void 0:ie.toLowerCase().includes(O))||((ce=M.vendor_name)==null?void 0:ce.toLowerCase().includes(O))||((D=M.apartment_name)==null?void 0:D.toLowerCase().includes(O))})},[w,d]),N=v.useMemo(()=>!s||!s.items||i.length===0?0:s.items.filter(O=>i.includes(O.id||"")).reduce((O,M)=>{const ie=parseFloat(String(M.unit_price||0)),ce=M.quantity||1;return O+ie*ce},0),[s,i]);v.useEffect(()=>{if(s&&s.items){o(s.items.map(M=>M.id||"").filter(Boolean));const O=new Date;O.setDate(O.getDate()+30),c(M=>({...M,due_date:O.toISOString().split("T")[0],total_amount:"",needs_to_pay:"0",shipping_cost:"0",discount:"0"}))}},[s]),v.useEffect(()=>{N>0&&c(O=>({...O,total_amount:Math.round(N).toString()}))},[N]);const S=v.useMemo(()=>{const O=parseInt(l.total_amount)||0,M=parseInt(l.shipping_cost)||0,ie=parseInt(l.discount)||0;return O+M-ie},[l.total_amount,l.shipping_cost,l.discount]),E=v.useMemo(()=>{const O=parseInt(l.needs_to_pay)||0;return S-O},[S,l.needs_to_pay]),C=async O=>{m(!0);try{const M=await Zs.getOrder(O.id);a(M),r("review-items")}catch(M){console.error("Error fetching order details:",M),Ue.error("Failed to load order details")}finally{m(!1)}},A=O=>{o(M=>M.includes(O)?M.filter(ie=>ie!==O):[...M,O])},P=()=>{if(!s||!s.items)return;const O=s.items.map(M=>M.id||"").filter(Boolean);i.length===O.length?o([]):o(O)},R=async()=>{var O,M;if(!s){Ue.error("Please select an order");return}if(i.length===0){Ue.error("Please select at least one item");return}if(!l.due_date){Ue.error("Please set a due date");return}try{const ie=parseInt(l.needs_to_pay)||0,ce={order:s.id,order_items:i,due_date:l.due_date,total_amount:parseInt(l.total_amount)||0,shipping_cost:parseInt(l.shipping_cost)||0,discount:parseInt(l.discount)||0,amount_paid:0,payment_method:l.payment_method,reference_number:l.reference_number,notes:l.notes,bank_name:l.bank_name,account_holder:l.account_holder,account_number:l.account_number,iban:l.iban,card_holder:l.card_holder,card_last_four:l.card_last_four},D=await j.mutateAsync(ce);ie>0&&await wu.createPaymentHistory({payment:D.id,date:new Date().toISOString().split("T")[0],amount:ie,method:l.payment_method||"Bank Transfer",reference_no:l.reference_number||"",note:"Initial payment when creating payment record"}),Ue.success("Payment created successfully!"),e("/payments")}catch(ie){console.error("Error creating payment:",ie),Ue.error(((M=(O=ie.response)==null?void 0:O.data)==null?void 0:M.message)||"Failed to create payment")}},I=O=>({pending:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",confirmed:"bg-blue-500/10 text-blue-600 border-blue-500/20",processing:"bg-purple-500/10 text-purple-600 border-purple-500/20",shipped:"bg-indigo-500/10 text-indigo-600 border-indigo-500/20",delivered:"bg-green-500/10 text-green-600 border-green-500/20",cancelled:"bg-red-500/10 text-red-600 border-red-500/20"})[O==null?void 0:O.toLowerCase()]||"bg-gray-500/10 text-gray-600",z=[{id:"select-order",label:"Select Order",icon:ss},{id:"review-items",label:"Review Items",icon:ct},{id:"payment-details",label:"Payment Details",icon:ns}],U=z.findIndex(O=>O.id===t);return n.jsx(ut,{title:"Create Payment",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>e("/payments"),className:"h-10 w-10 rounded-full",children:n.jsx(tr,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Payment"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Create a payment record from an existing order"})]})]}),n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between relative",children:[n.jsx("div",{className:"absolute top-5 left-0 right-0 h-0.5 bg-muted",children:n.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${U/(z.length-1)*100}%`}})}),z.map((O,M)=>{const ie=O.icon,ce=M<U,D=O.id===t;return n.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[n.jsx("div",{className:ve("w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300",ce&&"bg-primary text-primary-foreground",D&&"bg-primary text-primary-foreground ring-4 ring-primary/20",!ce&&!D&&"bg-muted text-muted-foreground"),children:ce?n.jsx(eo,{className:"h-5 w-5"}):n.jsx(ie,{className:"h-5 w-5"})}),n.jsx("span",{className:ve("mt-2 text-sm font-medium",D?"text-primary":"text-muted-foreground"),children:O.label})]},O.id)})]})}),t==="select-order"&&n.jsxs(Y,{className:"border-0 shadow-lg",children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:n.jsx(ss,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Select an Order"}),n.jsx(Tr,{children:"Choose an order to create a payment record"})]})]})}),n.jsxs(X,{className:"space-y-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Rs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search by PO number, vendor, or apartment...",value:d,onChange:O=>u(O.target.value),className:"pl-10 h-11"})]}),x||f?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(zt,{className:"h-6 w-6 animate-spin text-muted-foreground mr-2"}),n.jsx("span",{className:"text-muted-foreground",children:f?"Loading order details...":"Loading orders..."})]}):b.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[n.jsx(ss,{className:"h-10 w-10 mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No orders found"})]}):n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs(js,{children:[n.jsx(bs,{children:n.jsxs($t,{className:"bg-muted/50 hover:bg-muted/50",children:[n.jsx(Pe,{className:"font-semibold",children:"PO Number"}),n.jsx(Pe,{className:"font-semibold",children:"Apartment"}),n.jsx(Pe,{className:"font-semibold",children:"Vendor"}),n.jsx(Pe,{className:"font-semibold text-center",children:"Items"}),n.jsx(Pe,{className:"font-semibold",children:"Date"}),n.jsx(Pe,{className:"font-semibold text-right",children:"Total"}),n.jsx(Pe,{className:"w-10"})]})}),n.jsx(ws,{children:b.map(O=>{var ie,ce;const M=parseFloat(String(O.total||0));return n.jsxs($t,{onClick:()=>C(O),className:ve("cursor-pointer transition-colors",(s==null?void 0:s.id)===O.id?"bg-primary/5":"hover:bg-muted/50"),children:[n.jsx(_e,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-semibold",children:O.po_number}),n.jsx(Ce,{variant:"outline",className:ve("text-xs",I(O.status)),children:O.status}),((ie=y.get(O.id))==null?void 0:ie.status)==="Partial"&&n.jsx(Ce,{variant:"outline",className:"text-xs bg-warning/10 text-warning border-warning/20",children:"Has Payment"})]})}),n.jsx(_e,{children:n.jsx("span",{className:"text-muted-foreground",children:O.apartment_name||"N/A"})}),n.jsx(_e,{children:n.jsx("span",{className:"text-muted-foreground",children:O.vendor_name||"N/A"})}),n.jsx(_e,{className:"text-center",children:n.jsx("span",{className:"text-muted-foreground",children:O.items_count||((ce=O.items)==null?void 0:ce.length)||0})}),n.jsx(_e,{children:n.jsx("span",{className:"text-muted-foreground",children:O.placed_on?Kt(new Date(O.placed_on),"MMM dd, yyyy"):"N/A"})}),n.jsx(_e,{className:"text-right",children:n.jsxs("span",{className:"font-semibold text-primary",children:[M.toLocaleString()," HUF"]})}),n.jsx(_e,{children:n.jsx(Xd,{className:"h-4 w-4 text-muted-foreground"})})]},O.id)})})]})})]})]}),t==="review-items"&&s&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(Y,{className:"border-0 shadow-lg bg-gradient-to-br from-primary/5 to-primary/10",children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Selected Order"}),n.jsx("h2",{className:"text-2xl font-bold",children:s.po_number}),n.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(dr,{className:"h-4 w-4"}),s.apartment_name]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(qn,{className:"h-4 w-4"}),s.vendor_name]})]})]}),n.jsx(ee,{variant:"outline",onClick:()=>r("select-order"),children:"Change Order"})]})})}),n.jsxs(Y,{className:"border-0 shadow-lg",children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:n.jsx(ct,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Order Items"}),n.jsx(Tr,{children:"Select items to include in this payment"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hc,{id:"select-all",checked:i.length===(((L=s.items)==null?void 0:L.length)||0),onCheckedChange:P}),n.jsxs(G,{htmlFor:"select-all",className:"cursor-pointer text-sm font-medium",children:["Select All (",i.length,"/",((T=s.items)==null?void 0:T.length)||0,")"]})]})]})}),n.jsxs(X,{children:[n.jsx("div",{className:"rounded-xl border overflow-hidden",children:n.jsxs(js,{children:[n.jsx(bs,{children:n.jsxs($t,{className:"bg-muted/50",children:[n.jsx(Pe,{className:"w-12"}),n.jsx(Pe,{children:"Product"}),n.jsx(Pe,{children:"Category"}),n.jsx(Pe,{className:"text-center",children:"Quantity"}),n.jsx(Pe,{className:"text-right",children:"Unit Price"}),n.jsx(Pe,{className:"text-right",children:"Total"})]})}),n.jsx(ws,{children:(s.items||[]).map(O=>{const M=i.includes(O.id||""),ie=parseFloat(String(O.unit_price||0)),ce=ie*(O.quantity||1);return n.jsxs($t,{className:ve("cursor-pointer transition-colors",M?"bg-primary/5":"hover:bg-muted/50"),onClick:()=>A(O.id||""),children:[n.jsx(_e,{onClick:D=>D.stopPropagation(),children:n.jsx(Hc,{checked:M,onCheckedChange:()=>A(O.id||"")})}),n.jsx(_e,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[O.product_image||O.product_image_url?n.jsx("img",{src:O.product_image||O.product_image_url,alt:O.product_name||"Product",className:"w-10 h-10 rounded-lg object-cover border"}):n.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:n.jsx(ct,{className:"h-5 w-5 text-muted-foreground"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:O.product_name||"Unknown Product"}),O.sku&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",O.sku]})]})]})}),n.jsx(_e,{children:n.jsx(Ce,{variant:"outline",className:"font-normal",children:O.category_name||"N/A"})}),n.jsx(_e,{className:"text-center font-medium",children:O.quantity}),n.jsxs(_e,{className:"text-right",children:[ie.toLocaleString()," HUF"]}),n.jsxs(_e,{className:"text-right font-semibold",children:[ce.toLocaleString()," HUF"]})]},O.id)})})]})}),n.jsx("div",{className:"mt-6 p-4 rounded-xl bg-gradient-to-r from-primary/10 to-primary/5 border border-primary/20",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:n.jsx(or,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.length," item",i.length!==1?"s":""," selected"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready for payment"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),n.jsxs("p",{className:"text-3xl font-bold text-primary",children:[N.toLocaleString()," ",n.jsx("span",{className:"text-lg",children:"HUF"})]})]})]})})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(ee,{variant:"outline",onClick:()=>r("select-order"),className:"gap-2",children:[n.jsx(tr,{className:"h-4 w-4"}),"Back"]}),n.jsxs(ee,{onClick:()=>r("payment-details"),disabled:i.length===0,className:"gap-2",children:["Continue",n.jsx(Xd,{className:"h-4 w-4"})]})]})]}),t==="payment-details"&&s&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(Y,{className:"border-0 shadow-lg",children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 bg-green-500/10 rounded-xl",children:n.jsx(br,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Payment Amount"}),n.jsx(Tr,{children:"Set the payment amounts"})]})]})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"total_amount",className:"text-sm font-medium",children:["Total Amount (HUF) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(me,{id:"total_amount",type:"number",step:"1",min:"0",value:l.total_amount,onChange:O=>c(M=>({...M,total_amount:O.target.value})),placeholder:"0",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"needs_to_pay",className:"text-sm font-medium",children:"Amount Paid (HUF)"}),n.jsx(me,{id:"needs_to_pay",type:"number",step:"1",min:"0",value:l.needs_to_pay,onChange:O=>c(M=>({...M,needs_to_pay:O.target.value})),placeholder:"0",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{className:"text-sm font-medium",children:"Outstanding Balance (HUF)"}),n.jsx("div",{className:ve("h-11 px-3 flex items-center rounded-md border bg-muted/50 font-semibold",E>0?"text-red-600":E<0?"text-green-600":"text-muted-foreground"),children:E.toLocaleString()})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"shipping_cost",className:"text-sm font-medium",children:["Shipping Cost (HUF) ",n.jsx("span",{className:"text-muted-foreground text-xs",children:"(Optional)"})]}),n.jsx(me,{id:"shipping_cost",type:"number",step:"1",min:"0",value:l.shipping_cost,onChange:O=>c(M=>({...M,shipping_cost:O.target.value})),placeholder:"0",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"discount",className:"text-sm font-medium",children:["Discount (HUF) ",n.jsx("span",{className:"text-muted-foreground text-xs",children:"(Optional)"})]}),n.jsx(me,{id:"discount",type:"number",step:"1",min:"0",value:l.discount,onChange:O=>c(M=>({...M,discount:O.target.value})),placeholder:"0",className:"h-11"})]})]}),(parseInt(l.shipping_cost)>0||parseInt(l.discount)>0)&&n.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),n.jsxs("span",{children:[parseInt(l.total_amount||"0").toLocaleString()," HUF"]})]}),parseInt(l.shipping_cost)>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"+ Shipping"}),n.jsxs("span",{children:[parseInt(l.shipping_cost).toLocaleString()," HUF"]})]}),parseInt(l.discount)>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"- Discount"}),n.jsxs("span",{className:"text-green-600",children:["-",parseInt(l.discount).toLocaleString()," HUF"]})]}),n.jsx(Rt,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between font-semibold",children:[n.jsx("span",{children:"Final Total"}),n.jsxs("span",{className:"text-primary",children:[S.toLocaleString()," HUF"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"due_date",className:"flex items-center gap-2 text-sm font-medium",children:[n.jsx(en,{className:"h-4 w-4 text-muted-foreground"}),"Due Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(me,{id:"due_date",type:"date",value:l.due_date,onChange:O=>c(M=>({...M,due_date:O.target.value})),className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{className:"flex items-center gap-2 text-sm font-medium",children:[n.jsx(Sn,{className:"h-4 w-4 text-muted-foreground"}),"Order Reference"]}),n.jsx("div",{className:"h-11 px-3 flex items-center rounded-md border bg-muted/50 text-muted-foreground",children:s.po_number})]})]})]})]}),n.jsxs(Y,{className:"border-0 shadow-lg",children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:n.jsx(ns,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Payment Details"}),n.jsx(Tr,{children:"Configure payment method and details"})]})]})}),n.jsxs(X,{className:"space-y-6",children:[n.jsx("div",{className:"space-y-3",children:n.jsx("div",{className:"grid grid-cols-3 gap-2 p-1 bg-muted rounded-lg",children:[{value:"Bank Transfer",icon:Jk,label:"Bank Transfer"},{value:"Card Payment",icon:ns,label:"Card Payment"},{value:"Cash",icon:qg,label:"Cash"}].map(O=>{const M=O.icon,ie=l.payment_method===O.value;return n.jsxs("button",{type:"button",onClick:()=>c(ce=>({...ce,payment_method:O.value})),className:ve("py-2.5 px-4 rounded-md transition-all duration-200 flex items-center justify-center gap-2",ie?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[n.jsx(M,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:O.label})]},O.value)})})}),l.payment_method==="Bank Transfer"&&n.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"bank_name",className:"text-sm font-medium",children:"Bank Name"}),n.jsx(me,{id:"bank_name",value:l.bank_name,onChange:O=>c(M=>({...M,bank_name:O.target.value})),placeholder:"e.g., OTP Bank",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"account_holder",className:"text-sm font-medium",children:"Account Holder"}),n.jsx(me,{id:"account_holder",value:l.account_holder,onChange:O=>c(M=>({...M,account_holder:O.target.value})),placeholder:"Full name",className:"h-11"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"account_number",className:"text-sm font-medium",children:"Account Number"}),n.jsx(me,{id:"account_number",value:l.account_number,onChange:O=>c(M=>({...M,account_number:O.target.value})),placeholder:"XXXX-XXXX-XXXX-XXXX",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"iban",className:"text-sm font-medium",children:"IBAN"}),n.jsx(me,{id:"iban",value:l.iban,onChange:O=>c(M=>({...M,iban:O.target.value})),placeholder:"HU42 1177 3016 1111 1018 0000 0000",className:"h-11"})]})]})]}),l.payment_method==="Card Payment"&&n.jsx("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"card_holder",className:"text-sm font-medium",children:"Card Holder Name"}),n.jsx(me,{id:"card_holder",value:l.card_holder,onChange:O=>c(M=>({...M,card_holder:O.target.value})),placeholder:"Name on card",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"card_last_four",className:"text-sm font-medium",children:"Card Last 4 Digits"}),n.jsx(me,{id:"card_last_four",value:l.card_last_four,onChange:O=>c(M=>({...M,card_last_four:O.target.value.slice(0,4)})),placeholder:"1234",maxLength:4,className:"h-11"})]})]})}),l.payment_method==="Cash"&&n.jsx("div",{className:"p-4 bg-muted/30 rounded-lg border",children:n.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"No additional details required for cash payment"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"reference",className:"text-sm font-medium",children:"Reference Number (Optional)"}),n.jsx(me,{id:"reference",value:l.reference_number,onChange:O=>c(M=>({...M,reference_number:O.target.value})),placeholder:"e.g., INV-2025-001",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"notes",className:"text-sm font-medium",children:"Notes (Optional)"}),n.jsx(Mn,{id:"notes",value:l.notes,onChange:O=>c(M=>({...M,notes:O.target.value})),placeholder:"Add any additional notes...",rows:3})]})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(ee,{variant:"outline",onClick:()=>r("review-items"),className:"gap-2",children:[n.jsx(tr,{className:"h-4 w-4"}),"Back"]}),n.jsx(ee,{onClick:R,disabled:j.isPending||!l.due_date||!l.total_amount,className:"gap-2 px-8",children:j.isPending?n.jsxs(n.Fragment,{children:[n.jsx(zt,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Qd,{className:"h-4 w-4"}),"Create Payment"]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Y,{className:"border-0 shadow-lg",children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"text-base flex items-center gap-2",children:[n.jsx(ss,{className:"h-4 w-4"}),"Order Summary"]})}),n.jsx(X,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Order Number"}),n.jsx("span",{className:"font-medium",children:s.po_number})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Apartment"}),n.jsx("span",{className:"font-medium",children:s.apartment_name})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Vendor"}),n.jsx("span",{className:"font-medium",children:s.vendor_name})]}),n.jsx(Rt,{}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Items Selected"}),n.jsxs("span",{className:"font-medium",children:[i.length," of ",((k=s.items)==null?void 0:k.length)||0]})]})]})})]}),n.jsxs(Y,{className:"border-0 shadow-lg bg-gradient-to-br from-primary/5 to-primary/10",children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"text-base flex items-center gap-2",children:[n.jsx(br,{className:"h-4 w-4"}),"Payment Summary"]})}),n.jsx(X,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),n.jsxs("span",{className:"font-medium",children:[parseInt(l.total_amount||"0").toLocaleString()," HUF"]})]}),parseInt(l.shipping_cost)>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),n.jsxs("span",{className:"font-medium",children:["+",parseInt(l.shipping_cost).toLocaleString()," HUF"]})]}),parseInt(l.discount)>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Discount"}),n.jsxs("span",{className:"font-medium text-green-600",children:["-",parseInt(l.discount).toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Final Total"}),n.jsxs("span",{className:"font-medium",children:[S.toLocaleString()," HUF"]})]}),n.jsx(Rt,{}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Amount Paid"}),n.jsxs("span",{className:"font-medium text-green-600",children:[parseInt(l.needs_to_pay||"0").toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Outstanding"}),n.jsxs("span",{className:ve("font-medium",E>0?"text-red-600":"text-green-600"),children:[E.toLocaleString()," HUF"]})]}),n.jsx(Rt,{}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Due Date"}),n.jsx("span",{className:"font-medium",children:l.due_date?Kt(new Date(l.due_date),"MMM dd, yyyy"):"Not set"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Method"}),n.jsx("span",{className:"font-medium",children:l.payment_method})]}),n.jsx(Rt,{}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold",children:"Outstanding Balance"}),n.jsxs("span",{className:"text-2xl font-bold text-primary",children:[E.toLocaleString()," HUF"]})]})]})})]}),n.jsx(Y,{className:"border-0 shadow-lg",children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:ve("p-2 rounded-lg",parseInt(l.needs_to_pay||"0")>0?parseInt(l.needs_to_pay||"0")>=S?"bg-green-500/10":"bg-blue-500/10":"bg-yellow-500/10"),children:n.jsx(jr,{className:ve("h-5 w-5",parseInt(l.needs_to_pay||"0")>0?parseInt(l.needs_to_pay||"0")>=S?"text-green-600":"text-blue-600":"text-yellow-600")})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Payment Status"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:parseInt(l.needs_to_pay||"0")<=0?"Will be created as Unpaid":parseInt(l.needs_to_pay||"0")>=S?"Will be created as Paid":"Will be created as Partial"})]})]})})})]})]})]})})};function Pet(){return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(_,{className:"h-9 w-24 rounded-md"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-9 w-48"}),n.jsx(_,{className:"h-4 w-32"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(_,{className:"h-6 w-20 rounded-full"}),n.jsx(_,{className:"h-9 w-24 rounded-md"})]})]})}function Tet(){return n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-40"})]}),n.jsx(_,{className:"h-4 w-48"})]})})}),n.jsxs(X,{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{bg:"bg-muted/50"},{bg:"bg-green-500/10"},{bg:"bg-yellow-500/10"}].map((e,t)=>n.jsxs("div",{className:`p-4 rounded-lg ${e.bg} border`,children:[n.jsx(_,{className:"h-4 w-24 mb-1"}),n.jsx(_,{className:"h-8 w-32"})]},t))}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-4 w-12"})]}),n.jsx(_,{className:"h-3 w-full rounded-full"})]}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-5 w-24"})]},t))})]})]})}function Oet(){return n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-32"})]})}),n.jsx(X,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Product","SKU","Unit Price","Qty","Total"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(_,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(3)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(_,{className:"w-10 h-10 rounded"}),n.jsx(_,{className:"h-4 w-32"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-8"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-28"})})]},t))})]})})})]})}function Det(){return n.jsxs(Y,{children:[n.jsxs(we,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-36"})]}),n.jsx(_,{className:"h-9 w-36 rounded-md"})]}),n.jsx(X,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Date","Amount","Method","Reference","Note",""].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(_,{className:"h-4 w-16"})},t))})}),n.jsx("tbody",{children:[...Array(3)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-6 w-28 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-32"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-8 w-8 rounded"})})]},t))})]})})})]})}function Iet(){return n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-5 w-24"})]})}),n.jsxs(X,{className:"space-y-3",children:[[...Array(5)].map((e,t)=>n.jsxs("div",{className:"space-y-1",children:[n.jsx(_,{className:"h-3 w-16"}),n.jsx(_,{className:"h-4 w-full"})]},t)),n.jsx(_,{className:"h-9 w-full rounded-md mt-4"})]})]})}function Ret(){return n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-5 w-20"})]})}),n.jsxs(X,{className:"space-y-3",children:[[...Array(5)].map((e,t)=>n.jsxs("div",{className:"space-y-1",children:[n.jsx(_,{className:"h-3 w-20"}),n.jsx(_,{className:"h-4 w-full"})]},t)),n.jsx(_,{className:"h-9 w-full rounded-md mt-4"})]})]})}function Met(){return n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx(_,{className:"h-5 w-28"})}),n.jsxs(X,{className:"space-y-2",children:[n.jsx(_,{className:"h-10 w-full rounded-md"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]})}function Fet(){return n.jsx(ut,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Pet,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(Tet,{}),n.jsx(Oet,{}),n.jsx(Det,{})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(Iet,{}),n.jsx(Ret,{}),n.jsx(Met,{})]})]})]})})}function $et(){var y,w,b,N;const{id:e}=Mi(),t=fr(),{data:r,isLoading:s,error:a,refetch:i}=OJ(e||""),o=IJ(),l=jet(),[c,d]=v.useState(!1),u=a?"Payment not found":e?null:"No payment ID provided";if(s)return n.jsx(Fet,{});if(u||!r)return n.jsx(ut,{title:"Payment Not Found",children:n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-4",children:[n.jsx(Ct,{className:"h-12 w-12 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold",children:"Payment Not Found"}),n.jsx("p",{className:"text-muted-foreground",children:u}),n.jsxs(ee,{onClick:()=>t("/payments"),children:[n.jsx(tr,{className:"h-4 w-4 mr-2"}),"Back to Payments"]})]})});const f=S=>({Paid:"bg-success/10 text-success border-success/20",Partial:"bg-warning/10 text-warning border-warning/20",Unpaid:"bg-muted text-muted-foreground border-border",Overdue:"bg-danger/10 text-danger border-danger/20"})[S]||"bg-muted",m=S=>{switch(S){case"Paid":return n.jsx(Lr,{className:"h-4 w-4"});case"Partial":return n.jsx(jr,{className:"h-4 w-4"});case"Overdue":return n.jsx(Ct,{className:"h-4 w-4"});default:return n.jsx(br,{className:"h-4 w-4"})}},h=r.total_amount||0,x=r.amount_paid||0,p=r.outstanding_amount||0;r.shipping_cost,r.discount;const g=r.final_total||h,j=g>0?x/g*100:0;return n.jsxs(ut,{title:"Payment Details",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(ee,{variant:"ghost",onClick:()=>t("/payments"),children:[n.jsx(tr,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Payment Details"}),n.jsxs("p",{className:"text-muted-foreground",children:["Order Ref: ",r.order_reference]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(Ce,{className:f(r.status),children:[m(r.status),n.jsx("span",{className:"ml-1",children:r.status})]}),n.jsxs(ee,{variant:"outline",onClick:()=>t(`/payments/${r.id}/edit`),children:[n.jsx($s,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(bb,{className:"h-5 w-5 text-primary"}),"Payment Overview"]}),n.jsxs(Tr,{children:["Created on ",r.created_at?Kt(new Date(r.created_at),"MMM dd, yyyy"):"Unknown"]})]})})}),n.jsxs(X,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold",children:[h.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"p-4 rounded-lg bg-success/10 border border-success/20",children:[n.jsx("p",{className:"text-sm text-success mb-1",children:"Amount Paid"}),n.jsxs("p",{className:"text-2xl font-bold text-success",children:[x.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"p-4 rounded-lg bg-warning/10 border border-warning/20",children:[n.jsx("p",{className:"text-sm text-warning mb-1",children:"Outstanding"}),n.jsxs("p",{className:"text-2xl font-bold text-warning",children:[p.toLocaleString()," HUF"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Payment Progress"}),n.jsxs("span",{className:"font-medium",children:[j.toFixed(1),"%"]})]}),n.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-success transition-all duration-500",style:{width:`${Math.min(j,100)}%`}})})]}),n.jsx(Rt,{}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(en,{className:"h-3 w-3"})," Due Date"]}),n.jsx("p",{className:"font-medium",children:r.due_date?Kt(new Date(r.due_date),"MMM dd, yyyy"):"Not set"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(jr,{className:"h-3 w-3"})," Last Payment"]}),n.jsx("p",{className:"font-medium",children:r.last_payment_date?Kt(new Date(r.last_payment_date),"MMM dd, yyyy"):"No payments yet"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(ct,{className:"h-3 w-3"})," Products"]}),n.jsxs("p",{className:"font-medium",children:[r.order_items_count||((y=r.order_item_details)==null?void 0:y.length)||r.product_count||0," items"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(Ce,{className:f(r.status),children:r.status})]})]}),r.notes&&n.jsxs(n.Fragment,{children:[n.jsx(Rt,{}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mb-2",children:[n.jsx(Sn,{className:"h-3 w-3"})," Notes"]}),n.jsx("p",{className:"text-sm whitespace-pre-wrap bg-muted/50 p-3 rounded-lg",children:r.notes})]})]})]})]}),(r.order_item_details&&r.order_item_details.length>0||r.product_details&&r.product_details.length>0)&&n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ct,{className:"h-5 w-5"}),"Products (",((w=r.order_item_details)==null?void 0:w.length)||((b=r.product_details)==null?void 0:b.length)||0,")"]})}),n.jsx(X,{children:n.jsxs(js,{children:[n.jsx(bs,{children:n.jsxs($t,{children:[n.jsx(Pe,{children:"Product"}),n.jsx(Pe,{children:"SKU"}),n.jsx(Pe,{className:"text-right",children:"Unit Price"}),n.jsx(Pe,{className:"text-center",children:"Qty"}),n.jsx(Pe,{className:"text-right",children:"Total"})]})}),n.jsx(ws,{children:r.order_item_details&&r.order_item_details.length>0?r.order_item_details.map(S=>n.jsxs($t,{children:[n.jsx(_e,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[S.product_image&&n.jsx("img",{src:S.product_image,alt:S.product_name,className:"w-10 h-10 rounded object-cover"}),n.jsx("span",{className:"font-medium",children:S.product_name})]})}),n.jsx(_e,{children:n.jsx("span",{className:"text-muted-foreground font-mono text-sm",children:S.sku||"N/A"})}),n.jsxs(_e,{className:"text-right",children:[parseFloat(String(S.unit_price)).toLocaleString()," HUF"]}),n.jsx(_e,{className:"text-center",children:S.quantity}),n.jsxs(_e,{className:"text-right font-medium",children:[parseFloat(String(S.total_price)).toLocaleString()," HUF"]})]},S.id)):(N=r.product_details)==null?void 0:N.map(S=>n.jsxs($t,{children:[n.jsx(_e,{className:"font-medium",children:S.product}),n.jsx(_e,{children:n.jsx(Ce,{variant:"outline",children:S.category_name||"N/A"})}),n.jsxs(_e,{className:"text-right",children:[parseFloat(S.unit_price).toLocaleString()," HUF"]}),n.jsx(_e,{className:"text-center",children:S.qty}),n.jsxs(_e,{className:"text-right font-medium",children:[(parseFloat(S.unit_price)*S.qty).toLocaleString()," HUF"]})]},S.id))})]})})]}),n.jsxs(Y,{children:[n.jsxs(we,{className:"flex flex-row items-center justify-between",children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(s5,{className:"h-5 w-5"}),"Payment History"]}),r.status!=="Paid"&&n.jsxs(ee,{size:"sm",onClick:()=>d(!0),children:[n.jsx(Fn,{className:"h-4 w-4 mr-1"}),"Record Payment"]})]}),n.jsx(X,{children:r.payment_history&&r.payment_history.length>0?n.jsxs(js,{children:[n.jsx(bs,{children:n.jsxs($t,{children:[n.jsx(Pe,{children:"Date"}),n.jsx(Pe,{children:"Amount"}),n.jsx(Pe,{children:"Method"}),n.jsx(Pe,{children:"Reference"}),n.jsx(Pe,{children:"Note"}),n.jsx(Pe,{className:"w-[50px]"})]})}),n.jsx(ws,{children:r.payment_history.map(S=>n.jsxs($t,{children:[n.jsx(_e,{children:S.date?Kt(new Date(S.date),"MMM dd, yyyy"):"N/A"}),n.jsxs(_e,{className:"font-medium text-success",children:["+",(S.amount||0).toLocaleString()," HUF"]}),n.jsx(_e,{children:n.jsxs(Ce,{variant:"outline",className:"gap-1",children:[S.method==="Bank Transfer"&&n.jsx(qg,{className:"h-3 w-3"}),S.method==="Credit Card"&&n.jsx(ns,{className:"h-3 w-3"}),S.method]})}),n.jsx(_e,{className:"font-mono text-sm",children:S.reference_no||"-"}),n.jsx(_e,{className:"text-muted-foreground max-w-[200px] truncate",children:S.note||"-"}),n.jsx(_e,{children:n.jsx(ee,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground hover:text-danger",onClick:async()=>{if(confirm("Are you sure you want to delete this payment record?"))try{await l.mutateAsync(S.id),Ue.success("Payment record deleted"),i()}catch{Ue.error("Failed to delete payment record")}},children:n.jsx(on,{className:"h-4 w-4"})})})]},S.id))})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[n.jsx(s5,{className:"h-12 w-12 mb-2 opacity-50"}),n.jsx("p",{children:"No payment history yet"}),r.status!=="Paid"&&n.jsxs(ee,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>d(!0),children:[n.jsx(Fn,{className:"h-4 w-4 mr-1"}),"Record First Payment"]})]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2 text-base",children:[n.jsx(dr,{className:"h-4 w-4"}),"Apartment"]})}),n.jsx(X,{className:"space-y-3",children:r.apartment_details?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),n.jsx("p",{className:"font-medium",children:r.apartment_details.name})]}),r.apartment_details.address&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),n.jsx("p",{className:"font-medium",children:r.apartment_details.address})]}),r.apartment_details.type&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),n.jsx(Ce,{variant:"outline",children:r.apartment_details.type})]}),r.apartment_details.status&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(Ce,{variant:"secondary",children:r.apartment_details.status})]}),r.apartment_details.designer&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Designer"}),n.jsx("p",{className:"font-medium",children:r.apartment_details.designer})]}),n.jsx(ee,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>{var S;return t(`/apartments/${(S=r.apartment_details)==null?void 0:S.id}`)},children:"View Apartment"})]}):n.jsx("p",{className:"text-muted-foreground",children:"No apartment details available"})})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2 text-base",children:[n.jsx(qn,{className:"h-4 w-4"}),"Vendor"]})}),n.jsx(X,{className:"space-y-3",children:r.vendor_details?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Company"}),n.jsx("p",{className:"font-medium",children:r.vendor_details.name})]}),r.vendor_details.contact_person&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(qn,{className:"h-3 w-3"})," Contact Person"]}),n.jsx("p",{className:"font-medium",children:r.vendor_details.contact_person})]}),r.vendor_details.email&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(cn,{className:"h-3 w-3"})," Email"]}),n.jsx("a",{href:`mailto:${r.vendor_details.email}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.email})]}),r.vendor_details.phone&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(xo,{className:"h-3 w-3"})," Phone"]}),n.jsx("a",{href:`tel:${r.vendor_details.phone}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.phone})]}),r.vendor_details.address&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),n.jsxs("p",{className:"font-medium text-sm",children:[r.vendor_details.address,r.vendor_details.city&&`, ${r.vendor_details.city}`,r.vendor_details.country&&`, ${r.vendor_details.country}`]})]}),n.jsx(ee,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>{var S;return t(`/vendors/${(S=r.vendor_details)==null?void 0:S.id}`)},children:"View Vendor"})]}):n.jsx("p",{className:"text-muted-foreground",children:"No vendor details available"})})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx(Ve,{className:"text-base",children:"Quick Actions"})}),n.jsxs(X,{className:"space-y-2",children:[r.status!=="Paid"&&n.jsxs(ee,{className:"w-full",onClick:()=>d(!0),children:[n.jsx(br,{className:"h-4 w-4 mr-2"}),"Record Payment"]}),n.jsxs(ee,{variant:"outline",className:"w-full",onClick:()=>t(`/payments/${r.id}/edit`),children:[n.jsx($s,{className:"h-4 w-4 mr-2"}),"Edit Payment"]})]})]})]})]})]}),n.jsx(PJ,{payment:r,open:c,onOpenChange:d,onSave:async(S,E,C,A)=>{try{await o.mutateAsync({payment:r.id,date:new Date().toISOString().split("T")[0],amount:S,method:E,reference_no:C,note:A}),Ue.success("Payment Recorded",{description:`${S.toLocaleString()} HUF recorded successfully`}),d(!1),i()}catch{Ue.error("Failed to record payment")}}})]})}function Let(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-4 w-28"})]})}function Bet(){return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(_,{className:"h-10 w-10 rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(_,{className:"h-9 w-32 mb-2"}),n.jsx(_,{className:"h-4 w-64"})]})]})}function Uet(){return n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-40"})]})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]})]})]})}function Vet(){return n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-36"})]})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-28"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-10 w-full rounded-md bg-muted"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-16"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-36"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]})]})]})}function zet(){return n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-32"})]})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[n.jsx(_,{className:"h-5 w-48"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-16"}),n.jsx(_,{className:"h-24 w-full rounded-md"})]})]})]})}function Wet(){return n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-5 w-5 rounded"}),n.jsx(_,{className:"h-6 w-48"})]})}),n.jsx(X,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["","Product Name","SKU","Quantity","Unit Price","Total"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(_,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(4)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-5 w-5 rounded"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-40"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-12"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-28"})})]},t))})]})})})]})}function Het(){return n.jsx(ut,{title:"Loading...",children:n.jsx("div",{className:"container px-0 py-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Let,{}),n.jsx(Bet,{}),n.jsx(Uet,{}),n.jsx(Vet,{}),n.jsx(zet,{}),n.jsx(Wet,{}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(_,{className:"h-10 w-24 rounded-md"}),n.jsx(_,{className:"h-10 w-32 rounded-md"})]})]})})})}const qet=()=>{const e=fr(),{id:t}=Mi(),[r,s]=v.useState({apartment:"",vendor:"",order_reference:"",due_date:"",total_amount:"",amount_paid:"0",status:"Unpaid",last_payment_date:"",payment_method:"Bank Transfer",bank_name:"",account_holder:"",account_number:"",iban:"",swift_bic_code:"",card_number:"",card_holder_name:"",expiry_date:"",cvv:"",notes:""}),[a,i]=v.useState({}),[o,l]=v.useState([]),{data:c,isLoading:d}=OJ(t||""),u=DJ(),{data:f,isLoading:m}=OO(),h=(f==null?void 0:f.results)||[],{data:x,isLoading:p}=Zf(),g=(x==null?void 0:x.results)||[],{data:j,isLoading:y}=QY();j!=null&&j.results,v.useEffect(()=>{c&&(s({apartment:c.apartment,vendor:c.vendor,order_reference:c.order_reference,due_date:c.due_date,total_amount:String(c.total_amount),amount_paid:String(c.amount_paid),status:c.status,last_payment_date:c.last_payment_date||"",payment_method:"Bank Transfer",bank_name:"",account_holder:"",account_number:"",iban:"",swift_bic_code:"",card_number:"",card_holder_name:"",expiry_date:"",cvv:"",notes:c.notes}),l(c.products||[]))},[c]);const w=r.total_amount&&r.amount_paid?(parseFloat(r.total_amount)-parseFloat(r.amount_paid)).toFixed(2):"0.00",b=(C,A)=>{s(P=>({...P,[C]:A})),a[C]&&i(P=>{const R={...P};return delete R[C],R})},N=()=>{const C={};return r.apartment||(C.apartment="Apartment is required"),r.vendor||(C.vendor="Vendor is required"),r.order_reference.trim()||(C.order_reference="Order reference is required"),r.due_date||(C.due_date="Due date is required"),(!r.total_amount||parseFloat(r.total_amount)<=0)&&(C.total_amount="Valid total amount is required"),r.amount_paid&&parseFloat(r.amount_paid)<0&&(C.amount_paid="Amount paid cannot be negative"),r.amount_paid&&r.total_amount&&parseFloat(r.amount_paid)>parseFloat(r.total_amount)&&(C.amount_paid="Amount paid cannot exceed total amount"),i(C),Object.keys(C).length===0},S=async C=>{var A,P;if(C.preventDefault(),!N()){Ue.error("Please fix the errors in the form");return}if(!t){Ue.error("Payment ID is required");return}try{const R={apartment:r.apartment,vendor:r.vendor,order_reference:r.order_reference,due_date:r.due_date,total_amount:r.total_amount,amount_paid:r.amount_paid||"0",status:r.status,last_payment_date:r.last_payment_date||null,notes:r.notes,products:o};await u.mutateAsync({id:t,data:R}),Ue.success("Payment updated successfully"),e("/payments")}catch(R){console.error("Error updating payment:",R),Ue.error(((P=(A=R.response)==null?void 0:A.data)==null?void 0:P.message)||"Failed to update payment")}},E=()=>{e("/payments")};return d||m||p?n.jsx(Het,{}):n.jsx(ut,{title:"Edit Payment",children:n.jsxs("div",{className:"container px-0 py-6 ",children:[n.jsx(Ca,{className:"mb-6",children:n.jsxs(Ea,{children:[n.jsx(Jt,{children:n.jsx(Bn,{href:"/payments",children:"Payments"})}),n.jsx(pn,{}),n.jsx(Jt,{children:n.jsx(ni,{children:"Edit Payment"})})]})}),n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ee,{variant:"ghost",size:"icon",onClick:E,className:"h-10 w-10",children:n.jsx(tr,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Payment"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Update payment information and details"})]})]})}),n.jsxs("form",{onSubmit:S,className:"space-y-6",children:[n.jsxs(Y,{children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(Sn,{className:"h-5 w-5 text-primary"})}),n.jsx(Ve,{className:"text-lg font-semibold",children:"Order Information"})]})}),n.jsx(X,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"apartment",className:"required flex items-center gap-2",children:[n.jsx(dr,{className:"h-4 w-4 text-muted-foreground"}),"Apartment"]}),n.jsxs(at,{value:r.apartment,onValueChange:C=>b("apartment",C),children:[n.jsx(nt,{id:"apartment",className:a.apartment?"border-destructive":"",children:n.jsx(it,{placeholder:"Select apartment"})}),n.jsx(st,{children:m?n.jsx(Z,{value:"loading",disabled:!0,children:"Loading apartments..."}):h.length===0?n.jsx(Z,{value:"empty",disabled:!0,children:"No apartments found"}):h.map(C=>n.jsx(Z,{value:C.id,children:C.name},C.id))})]}),a.apartment&&n.jsx("p",{className:"text-sm text-destructive",children:a.apartment})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"vendor",className:"required flex items-center gap-2",children:[n.jsx(_a,{className:"h-4 w-4 text-muted-foreground"}),"Vendor"]}),n.jsxs(at,{value:r.vendor,onValueChange:C=>b("vendor",C),children:[n.jsx(nt,{id:"vendor",className:a.vendor?"border-destructive":"",children:n.jsx(it,{placeholder:"Select vendor"})}),n.jsx(st,{children:p?n.jsx(Z,{value:"loading",disabled:!0,children:"Loading vendors..."}):g.length===0?n.jsx(Z,{value:"empty",disabled:!0,children:"No vendors found"}):g.map(C=>n.jsx(Z,{value:C.id,children:C.name},C.id))})]}),a.vendor&&n.jsx("p",{className:"text-sm text-destructive",children:a.vendor})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"order_reference",className:"required flex items-center gap-2",children:[n.jsx(bb,{className:"h-4 w-4 text-muted-foreground"}),"Order Reference"]}),n.jsx(me,{id:"order_reference",value:r.order_reference,onChange:C=>b("order_reference",C.target.value),placeholder:"e.g., ORD-2025-001",className:a.order_reference?"border-destructive":""}),a.order_reference&&n.jsx("p",{className:"text-sm text-destructive",children:a.order_reference})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"due_date",className:"required flex items-center gap-2",children:[n.jsx(en,{className:"h-4 w-4 text-muted-foreground"}),"Due Date"]}),n.jsx(me,{id:"due_date",type:"date",value:r.due_date,onChange:C=>b("due_date",C.target.value),className:a.due_date?"border-destructive":""}),a.due_date&&n.jsx("p",{className:"text-sm text-destructive",children:a.due_date})]})]})})]}),n.jsxs(Y,{children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(br,{className:"h-5 w-5 text-primary"})}),n.jsx(Ve,{className:"text-lg font-semibold",children:"Payment Amount"})]})}),n.jsx(X,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"total_amount",className:"required",children:"Total Amount (HUF)"}),n.jsx(me,{id:"total_amount",type:"number",step:"0.01",min:"0",value:r.total_amount,onChange:C=>b("total_amount",C.target.value),placeholder:"0.00",className:a.total_amount?"border-destructive":""}),a.total_amount&&n.jsx("p",{className:"text-sm text-destructive",children:a.total_amount})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"amount_paid",children:"Amount Paid (HUF)"}),n.jsx(me,{id:"amount_paid",type:"number",step:"0.01",min:"0",value:r.amount_paid,onChange:C=>b("amount_paid",C.target.value),placeholder:"0.00",className:a.amount_paid?"border-destructive":""}),a.amount_paid&&n.jsx("p",{className:"text-sm text-destructive",children:a.amount_paid})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"balance",children:"Balance (HUF)"}),n.jsx(me,{id:"balance",value:w,readOnly:!0,className:"bg-muted text-primary font-semibold"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically calculated"})]})]})})]}),n.jsxs(Y,{children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(ns,{className:"h-5 w-5 text-primary"})}),n.jsx(Ve,{className:"text-lg font-semibold",children:"Payment Details"})]})}),n.jsx(X,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(G,{children:"Payment Method"}),n.jsx(wo,{value:r.payment_method,onValueChange:C=>b("payment_method",C),children:n.jsxs($i,{className:"grid w-full grid-cols-3",children:[n.jsxs(Lt,{value:"Bank Transfer",children:[n.jsx(Jk,{className:"h-4 w-4 mr-2"}),"Bank Transfer"]}),n.jsxs(Lt,{value:"Card Payment",children:[n.jsx(ns,{className:"h-4 w-4 mr-2"}),"Card Payment"]}),n.jsxs(Lt,{value:"Cash",children:[n.jsx(qg,{className:"h-4 w-4 mr-2"}),"Cash"]})]})})]}),r.payment_method==="Bank Transfer"&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Bank Transfer Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"bank_name",children:"Bank Name"}),n.jsx(me,{id:"bank_name",value:r.bank_name,onChange:C=>b("bank_name",C.target.value),placeholder:"e.g., OTP Bank"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"account_holder",children:"Account Holder"}),n.jsx(me,{id:"account_holder",value:r.account_holder,onChange:C=>b("account_holder",C.target.value),placeholder:"Full name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"account_number",children:"Account Number"}),n.jsx(me,{id:"account_number",value:r.account_number,onChange:C=>b("account_number",C.target.value),placeholder:"XXXX-XXXX-XXXX-XXXX"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"iban",children:"IBAN"}),n.jsx(me,{id:"iban",value:r.iban,onChange:C=>b("iban",C.target.value),placeholder:"HU42 1177 3016 1111 1018 0000 0000"})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"swift_bic_code",children:"SWIFT/BIC Code"}),n.jsx(me,{id:"swift_bic_code",value:r.swift_bic_code,onChange:C=>b("swift_bic_code",C.target.value),placeholder:"e.g., OTPVHUHB"})]})]})]}),r.payment_method==="Card Payment"&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Card Payment Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"card_number",children:"Card Number"}),n.jsx(me,{id:"card_number",value:r.card_number,onChange:C=>b("card_number",C.target.value),placeholder:"XXXX XXXX XXXX XXXX",maxLength:19})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"card_holder_name",children:"Card Holder Name"}),n.jsx(me,{id:"card_holder_name",value:r.card_holder_name,onChange:C=>b("card_holder_name",C.target.value),placeholder:"Name as on card"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"expiry_date",children:"Expiry Date"}),n.jsx(me,{id:"expiry_date",value:r.expiry_date,onChange:C=>b("expiry_date",C.target.value),placeholder:"MM/YY",maxLength:5})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"cvv",children:"CVV"}),n.jsx(me,{id:"cvv",value:r.cvv,onChange:C=>b("cvv",C.target.value),placeholder:"XXX",maxLength:4,type:"password"})]})]})]}),r.payment_method==="Cash"&&n.jsxs("div",{className:"p-6 border rounded-lg bg-muted/50 text-center",children:[n.jsx($9,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cash payment selected. No additional details required."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(ta,{id:"notes",value:r.notes,onChange:C=>b("notes",C.target.value),placeholder:"Add any additional payment notes or instructions...",rows:4})]})]})})]}),n.jsxs("div",{className:"flex items-center justify-end gap-4 mt-6",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:E,disabled:u.isPending,children:"Cancel"}),n.jsx(ee,{type:"submit",disabled:u.isPending,children:u.isPending?n.jsxs(n.Fragment,{children:[n.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Qd,{className:"mr-2 h-4 w-4"}),"Update Payment"]})})]})]})]})})};function Get(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{iconBg:"bg-primary/10"},{iconBg:"bg-green-500/10"},{iconBg:"bg-blue-500/10"},{iconBg:"bg-yellow-500/10"}].map((e,t)=>n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-28"}),n.jsx(_,{className:"h-9 w-16"})]}),n.jsx("div",{className:`h-10 w-10 rounded-lg ${e.iconBg} flex items-center justify-center`,children:n.jsx(_,{className:"h-6 w-6 rounded"})})]})})},t))})}function Ket(){return n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsx("div",{className:"relative flex-1",children:n.jsx(_,{className:"h-10 w-full rounded-md"})}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsx(_,{className:"h-10 w-[150px] rounded-md"}),n.jsx(_,{className:"h-10 w-[150px] rounded-md"}),n.jsx(_,{className:"h-10 w-32 rounded-md"})]})]})})})}function Yet(){return n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx(Ve,{className:"flex items-center justify-between",children:n.jsx(_,{className:"h-6 w-40"})})}),n.jsx(X,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(_,{className:"h-4 w-12"})}),n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(_,{className:"h-4 w-24"})}),n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(_,{className:"h-4 w-16"})}),n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(_,{className:"h-4 w-20"})}),n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(_,{className:"h-4 w-20"})}),n.jsx("th",{className:"px-4 py-3 text-center",children:n.jsx(_,{className:"h-4 w-14 mx-auto"})}),n.jsx("th",{className:"px-4 py-3 text-center",children:n.jsx(_,{className:"h-4 w-14 mx-auto"})}),n.jsx("th",{className:"px-4 py-3 text-right",children:n.jsx(_,{className:"h-4 w-16 ml-auto"})})]})}),n.jsx("tbody",{children:[...Array(8)].map((e,t)=>n.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"flex items-center justify-center bg-muted rounded-lg w-12 h-12",children:n.jsx(_,{className:"w-10 h-10 rounded-lg"})})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-3 w-40"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-36"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((r,s)=>n.jsx(_,{className:"h-3 w-3 rounded-sm"},s)),n.jsx(_,{className:"h-4 w-8 ml-1"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"flex justify-center",children:n.jsx(_,{className:"h-6 w-8 rounded-full"})})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"flex justify-center",children:n.jsx(_,{className:"h-6 w-8 rounded-full"})})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(_,{className:"h-8 w-8 rounded"}),n.jsx(_,{className:"h-8 w-8 rounded"}),n.jsx(_,{className:"h-8 w-8 rounded"})]})})]},t))})]})})})]})}function Xet(){return n.jsxs("div",{className:"space-y-6",children:[n.jsx(Get,{}),n.jsx(Ket,{}),n.jsx(Yet,{})]})}const Qet=()=>{const e=fr(),[t,r]=v.useState(""),[s,a]=v.useState("all"),[i,o]=v.useState("all"),[l,c]=v.useState(!1),[d,u]=v.useState(null),{data:f,isLoading:m,error:h}=Zf(),x=MY(),p=(f==null?void 0:f.results)||[],g=v.useMemo(()=>p.filter(b=>{const N=b.name.toLowerCase().includes(t.toLowerCase())||b.email.toLowerCase().includes(t.toLowerCase())||b.contact_person.toLowerCase().includes(t.toLowerCase()),S=s==="all"||s==="active"&&b.active_issues===0||s==="issues"&&b.active_issues>0,E=parseFloat(b.reliability),C=i==="all"||i==="high"&&E>=4.5||i==="medium"&&E>=3.5&&E<4.5||i==="low"&&E<3.5;return N&&S&&C}),[p,t,s,i]),j=b=>{const N=typeof b=="string"?parseFloat(b):b;return n.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((S,E)=>n.jsx($j,{className:`h-3 w-3 ${E<Math.floor(N)?"fill-yellow-500 text-yellow-500":"text-muted-foreground"}`},E)),n.jsx("span",{className:"text-sm font-medium ml-1",children:N.toFixed(1)})]})},y=(b,N)=>{u({id:b,name:N}),c(!0)},w=()=>{d&&x.mutate(d.id,{onSuccess:()=>{c(!1),u(null)}})};return m?n.jsx(ut,{title:"Vendors",children:n.jsx(Xet,{})}):n.jsx(ut,{title:"Vendors",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(Y,{className:"",children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Vendors"}),n.jsx("p",{className:"text-3xl font-bold",children:p.length})]}),n.jsx(dr,{className:"h-10 w-10 text-primary opacity-20"})]})})}),n.jsx(Y,{className:"",children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Vendors"}),n.jsx("p",{className:"text-3xl font-bold",children:p.filter(b=>b.active_issues===0).length})]}),n.jsx(qa,{className:"h-10 w-10 text-green-500 opacity-20"})]})})}),n.jsx(Y,{className:"",children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Orders"}),n.jsx("p",{className:"text-3xl font-bold",children:p.reduce((b,N)=>b+N.orders_count,0)})]}),n.jsx(ct,{className:"h-10 w-10 text-blue-500 opacity-20"})]})})}),n.jsx(Y,{className:"",children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Reliability"}),n.jsx("p",{className:"text-3xl font-bold",children:p.length>0?(p.reduce((b,N)=>b+parseFloat(N.reliability),0)/p.length).toFixed(1):"0.0"})]}),n.jsx($j,{className:"h-10 w-10 text-yellow-500 opacity-20"})]})})})]}),n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Rs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search by vendor name or email...",value:t,onChange:b=>r(b.target.value),className:"pl-9"})]}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs(at,{value:s,onValueChange:a,children:[n.jsxs(nt,{className:"w-[150px]",children:[n.jsx(gv,{className:"h-4 w-4 mr-2"}),n.jsx(it,{placeholder:"Status"})]}),n.jsxs(st,{children:[n.jsx(Z,{value:"all",children:"All Status"}),n.jsx(Z,{value:"active",children:"Active"}),n.jsx(Z,{value:"issues",children:"With Issues"})]})]}),n.jsxs(at,{value:i,onValueChange:o,children:[n.jsxs(nt,{className:"w-[150px]",children:[n.jsx($j,{className:"h-4 w-4 mr-2"}),n.jsx(it,{placeholder:"Reliability"})]}),n.jsxs(st,{children:[n.jsx(Z,{value:"all",children:"All Ratings"}),n.jsx(Z,{value:"high",children:"High (4.5+)"}),n.jsx(Z,{value:"medium",children:"Medium (3.5-4.5)"}),n.jsx(Z,{value:"low",children:"Low (<3.5)"})]})]}),n.jsxs(ee,{onClick:()=>e("/vendors/new"),className:"gap-2",children:[n.jsx(Fn,{className:"h-4 w-4"}),"Add Vendor"]})]})]})})}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center justify-between",children:[n.jsxs("span",{children:["All Vendors (",g.length,")"]}),t&&n.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>{r(""),a("all"),o("all")},children:"Clear Filters"})]})}),n.jsx(X,{children:g.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ct,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No vendors found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filters"}),n.jsxs(ee,{onClick:()=>e("/vendors/new"),children:[n.jsx(Fn,{className:"h-4 w-4 mr-2"}),"Add Your First Vendor"]})]}):n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(js,{children:[n.jsx(bs,{children:n.jsxs($t,{children:[n.jsx(Pe,{className:"w-[80px]",children:"Logo"}),n.jsx(Pe,{children:"Vendor Name"}),n.jsx(Pe,{children:"Contact"}),n.jsx(Pe,{children:"Lead Time"}),n.jsx(Pe,{children:"Reliability"}),n.jsx(Pe,{className:"text-center",children:"Orders"}),n.jsx(Pe,{className:"text-center",children:"Issues"}),n.jsx(Pe,{className:"text-right",children:"Actions"})]})}),n.jsx(ws,{children:g.map(b=>n.jsxs($t,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>e(`/vendors/${b.id}`),children:[n.jsx(_e,{children:n.jsx("div",{className:"flex items-center justify-center bg-muted rounded-lg w-12 h-12 overflow-hidden",children:b.website?n.jsx(n.Fragment,{children:n.jsx("img",{src:`https://logo.clearbit.com/${new URL(b.website).hostname}`,alt:`${b.name} logo`,className:"w-10 h-10 object-contain",onError:N=>{const S=N.currentTarget;if(!S.dataset.fallbackAttempted)S.dataset.fallbackAttempted="true",S.src=`https://www.google.com/s2/favicons?domain=${new URL(b.website).hostname}&sz=128`;else{S.style.display="none";const E=S.parentElement;if(E){const C=document.createElement("span");C.className="text-2xl",C.textContent=b.logo||b.name.charAt(0).toUpperCase(),E.appendChild(C)}}}})}):n.jsx("span",{className:"text-2xl",children:b.logo||b.name.charAt(0).toUpperCase()})})}),n.jsx(_e,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:b.name}),n.jsx("a",{href:b.website,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline",onClick:N=>N.stopPropagation(),children:b.website.replace("https://","")})]})}),n.jsx(_e,{children:n.jsx("div",{className:"text-sm",children:n.jsx("p",{children:b.email})})}),n.jsx(_e,{children:n.jsx(Ce,{variant:"outline",className:"font-mono",children:b.lead_time})}),n.jsx(_e,{children:j(b.reliability)}),n.jsx(_e,{className:"text-center",children:n.jsx(Ce,{variant:"secondary",className:"font-semibold",children:b.orders_count})}),n.jsx(_e,{className:"text-center",children:n.jsx(Ce,{variant:b.active_issues>0?"destructive":"default",className:"font-semibold",children:b.active_issues})}),n.jsx(_e,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(ee,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),e(`/vendors/${b.id}`)},title:"View Details",children:n.jsx(Ha,{className:"h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),e(`/vendors/${b.id}/edit`)},title:"Edit Vendor",children:n.jsx($s,{className:"h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),y(b.id,b.name)},title:"Delete Vendor",disabled:x.isPending,children:n.jsx(on,{className:"h-4 w-4"})})]})})]},b.id))})]})})})]}),h&&n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ct,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Failed to load vendors"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:h instanceof Error?h.message:"An error occurred while fetching vendors"}),n.jsx(ee,{onClick:()=>window.location.reload(),children:"Try Again"})]})})}),n.jsx(Xl,{open:l,onOpenChange:c,children:n.jsxs(sl,{children:[n.jsxs(al,{children:[n.jsx(ol,{children:"Are you sure?"}),n.jsxs(ll,{children:["This will permanently delete ",n.jsx("strong",{children:d==null?void 0:d.name}),". This action cannot be undone."]})]}),n.jsxs(il,{children:[n.jsx(dl,{disabled:x.isPending,children:"Cancel"}),n.jsx(cl,{onClick:w,disabled:x.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:x.isPending?n.jsxs(n.Fragment,{children:[n.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})})]})})},Zet=()=>{const e=fr(),t=gLe(),[r,s]=v.useState("basic"),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[m,h]=v.useState(""),[x,p]=v.useState(""),[g,j]=v.useState(""),[y,w]=v.useState(""),[b,N]=v.useState(""),[S,E]=v.useState(""),[C,A]=v.useState(""),[P,R]=v.useState(""),[I,z]=v.useState(""),[U,L]=v.useState(""),[T,k]=v.useState(""),[O,M]=v.useState(""),[ie,ce]=v.useState(""),[D,W]=v.useState(""),[F,q]=v.useState(""),[le,fe]=v.useState(""),B=()=>{if(!a||!c||!o){Ue.error("Please fill in all required fields (Company Name, Contact Person, Email)"),s("basic");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)){Ue.error("Please enter a valid email address"),s("basic");return}const Se={name:a,company_name:a,contact_person:o,email:c,phone:u||"",website:m||"",logo:"",lead_time:O||"7-14 days",address:g||"",city:y||"",country:b||"",postal_code:S||"",tax_id:C||"",business_type:P||"",year_established:I||"",employee_count:U||"",category:x||"",product_categories:"",certifications:"",specializations:"",payment_terms:T||"",delivery_terms:O||"",warranty_period:ie||"",return_policy:D||"",minimum_order:F||"",notes:le||""};t.mutate(Se,{onSuccess:()=>{e("/vendors")}})},K=xe=>{Ue.info(`Import from ${xe.toUpperCase()} coming soon!`)},se=["basic","address","business","terms"],Ne=se.indexOf(r),ue=()=>{Ne<se.length-1&&s(se[Ne+1])},ge=()=>{Ne>0&&s(se[Ne-1])};return n.jsx(ut,{title:"Add New Vendor",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ee,{variant:"ghost",onClick:()=>e("/vendors"),className:"gap-2",children:[n.jsx(tr,{className:"h-4 w-4"}),"Back to Vendors"]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(ee,{variant:"outline",className:"gap-2",children:[n.jsx(Pi,{className:"h-4 w-4"}),"Import Data"]}),n.jsx(ee,{onClick:B,className:"gap-2",disabled:t.isPending,children:t.isPending?n.jsxs(n.Fragment,{children:[n.jsx(zt,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Qd,{className:"h-4 w-4"}),"Save Vendor"]})})]})]}),n.jsx(Y,{className:"border-dashed",children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h3",{className:"font-semibold",children:"Quick Import"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Import vendor data from existing files"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>K("excel"),className:"gap-2",children:[n.jsx(rP,{className:"h-4 w-4"}),"Excel"]}),n.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>K("csv"),className:"gap-2",children:[n.jsx(Sn,{className:"h-4 w-4"}),"CSV"]}),n.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>K("docs"),className:"gap-2",children:[n.jsx(gne,{className:"h-4 w-4"}),"Docs"]})]})]})})}),n.jsxs(Y,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Vendor Information"}),n.jsx(Tr,{children:"Fill in the vendor details below. Fields marked with * are required."})]}),n.jsxs(X,{children:[n.jsxs(wo,{value:r,onValueChange:s,children:[n.jsxs($i,{className:"grid w-full grid-cols-4",children:[n.jsx(Lt,{value:"basic",children:"Basic Info"}),n.jsx(Lt,{value:"address",children:"Address"}),n.jsx(Lt,{value:"business",children:"Business"}),n.jsx(Lt,{value:"terms",children:"Terms"})]}),n.jsx(Yt,{value:"basic",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"companyName",children:["Company Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(dr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"companyName",placeholder:"Enter company name",value:a,onChange:xe=>i(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"category",children:"Category"}),n.jsxs(at,{value:x,onValueChange:p,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select category"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"furniture",children:"Furniture"}),n.jsx(Z,{value:"electronics",children:"Electronics"}),n.jsx(Z,{value:"lighting",children:"Lighting"}),n.jsx(Z,{value:"appliances",children:"Appliances"}),n.jsx(Z,{value:"textiles",children:"Textiles"}),n.jsx(Z,{value:"construction",children:"Construction"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"contactPerson",children:["Contact Person ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(qn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"contactPerson",placeholder:"Primary contact name",value:o,onChange:xe=>l(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"email",children:["Email ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(cn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"email",type:"email",placeholder:"contact@company.com",value:c,onChange:xe=>d(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"phone",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(xo,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"phone",placeholder:"+1 (555) 000-0000",value:u,onChange:xe=>f(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"website",children:"Website"}),n.jsxs("div",{className:"relative",children:[n.jsx($l,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"website",placeholder:"https://company.com",value:m,onChange:xe=>h(xe.target.value),className:"pl-9"})]})]})]})}),n.jsx(Yt,{value:"address",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"address",children:"Street Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(vs,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"address",placeholder:"123 Main Street",value:g,onChange:xe=>j(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"city",children:"City"}),n.jsx(me,{id:"city",placeholder:"City",value:y,onChange:xe=>w(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"postalCode",children:"Postal Code"}),n.jsx(me,{id:"postalCode",placeholder:"10001",value:S,onChange:xe=>E(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"country",children:"Country"}),n.jsx(me,{id:"country",placeholder:"Country",value:b,onChange:xe=>N(xe.target.value)})]})]})}),n.jsx(Yt,{value:"business",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"taxId",children:"Tax ID / VAT Number"}),n.jsx(me,{id:"taxId",placeholder:"XX-XXXXXXX",value:C,onChange:xe=>A(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"businessType",children:"Business Type"}),n.jsxs(at,{value:P,onValueChange:R,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select type"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"manufacturer",children:"Manufacturer"}),n.jsx(Z,{value:"distributor",children:"Distributor"}),n.jsx(Z,{value:"wholesaler",children:"Wholesaler"}),n.jsx(Z,{value:"retailer",children:"Retailer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"yearEstablished",children:"Year Established"}),n.jsx(me,{id:"yearEstablished",placeholder:"2020",value:I,onChange:xe=>z(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"employeeCount",children:"Number of Employees"}),n.jsx(me,{id:"employeeCount",placeholder:"50",value:U,onChange:xe=>L(xe.target.value)})]})]})}),n.jsx(Yt,{value:"terms",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"paymentTerms",children:"Payment Terms"}),n.jsxs(at,{value:T,onValueChange:k,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select payment terms"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"net-30",children:"Net 30"}),n.jsx(Z,{value:"net-60",children:"Net 60"}),n.jsx(Z,{value:"net-90",children:"Net 90"}),n.jsx(Z,{value:"cod",children:"Cash on Delivery"}),n.jsx(Z,{value:"advance",children:"Advance Payment"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"deliveryTerms",children:"Delivery Terms"}),n.jsx(me,{id:"deliveryTerms",placeholder:"E.g., 7-14 business days",value:O,onChange:xe=>M(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"warrantyPeriod",children:"Warranty Period"}),n.jsx(me,{id:"warrantyPeriod",placeholder:"E.g., 12 months",value:ie,onChange:xe=>ce(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"minimumOrder",children:"Minimum Order Value"}),n.jsxs("div",{className:"relative",children:[n.jsx(br,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"minimumOrder",placeholder:"500",value:F,onChange:xe=>q(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"returnPolicy",children:"Return Policy"}),n.jsx(Mn,{id:"returnPolicy",placeholder:"Describe return and refund policy",value:D,onChange:xe=>W(xe.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(Mn,{id:"notes",placeholder:"Any additional information about the vendor",value:le,onChange:xe=>fe(xe.target.value),rows:4})]})]})})]}),n.jsxs("div",{className:"flex justify-between mt-6 pt-6 border-t",children:[n.jsxs(ee,{type:"button",variant:"outline",onClick:ge,disabled:Ne===0,className:"gap-2",children:[n.jsx(eP,{className:"h-4 w-4"}),"Previous"]}),n.jsx("div",{className:"flex gap-2",children:Ne===se.length-1?n.jsx(ee,{type:"button",onClick:B,disabled:t.isPending,className:"gap-2",children:t.isPending?n.jsxs(n.Fragment,{children:[n.jsx(zt,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Qd,{className:"h-4 w-4"}),"Save Vendor"]})}):n.jsxs(ee,{type:"button",variant:"outline",onClick:ue,className:"gap-2",children:["Next",n.jsx(Xd,{className:"h-4 w-4"})]})})]})]})]})]})})};function Jet(){return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(_,{className:"h-9 w-40 rounded-md"}),n.jsx(_,{className:"h-9 w-32 rounded-md"})]})}function ett(){return n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsx("div",{className:"flex items-center justify-center bg-muted rounded-full w-24 h-24",children:n.jsx(_,{className:"w-20 h-20 rounded-full"})}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-9 w-48"}),n.jsx(_,{className:"h-4 w-32"})]}),n.jsx(_,{className:"h-6 w-16 rounded-full"})]}),n.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[[...Array(5)].map((e,t)=>n.jsx(_,{className:"h-4 w-4 rounded-sm"},t)),n.jsx(_,{className:"h-4 w-8 ml-1"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-4 w-32"})]},t))})]})]})})})}function ttt(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{iconBg:"bg-primary/10"},{iconBg:"bg-red-500/10"},{iconBg:"bg-primary/10"},{iconBg:"bg-green-500/10"}].map((e,t)=>n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-9 w-16"})]}),n.jsx("div",{className:`h-8 w-8 rounded-lg ${e.iconBg} flex items-center justify-center`,children:n.jsx(_,{className:"h-5 w-5 rounded"})})]})})},t))})}function rtt(){return n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx(_,{className:"h-6 w-32"})}),n.jsxs(X,{children:[n.jsx("div",{className:"grid w-full grid-cols-5 bg-muted rounded-lg p-1 mb-6",children:[...Array(5)].map((e,t)=>n.jsx("div",{className:"flex items-center justify-center py-2",children:n.jsx(_,{className:"h-4 w-16"})},t))}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(_,{className:"h-6 w-40"}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"space-y-3",children:[...Array(2)].map((e,t)=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-4 w-48"})]},t))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(_,{className:"h-6 w-32"}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex justify-between",children:[n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-4 w-20"})]},t))})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(_,{className:"h-6 w-40"}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[...Array(3)].map((e,t)=>n.jsx(Y,{children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx(_,{className:"h-8 w-8 rounded-lg mx-auto"}),n.jsx(_,{className:"h-7 w-16 mx-auto"}),n.jsx(_,{className:"h-3 w-28 mx-auto"})]})})},t))})]})]})]})]})}function ntt(){return n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Image","Product Details","Category","Client","Apartment","Room","Qty","Unit Price","Total","Payment","Availability","Actions"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(_,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(5)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"w-16 h-16 rounded-md"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2 min-w-[200px]",children:[n.jsx(_,{className:"h-4 w-40"}),n.jsx(_,{className:"h-3 w-32"}),n.jsx(_,{className:"h-3 w-28"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-6 w-24 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2 min-w-[150px]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_,{className:"h-4 w-4 rounded"}),n.jsx(_,{className:"h-4 w-24"})]}),n.jsx(_,{className:"h-3 w-32"}),n.jsx(_,{className:"h-3 w-28"}),n.jsx(_,{className:"h-5 w-16 rounded-full"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2 min-w-[150px]",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-3 w-24"}),n.jsx(_,{className:"h-3 w-28"}),n.jsx(_,{className:"h-5 w-20 rounded-full"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-4 w-16"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx(_,{className:"h-4 w-12 ml-auto"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx(_,{className:"h-4 w-24 ml-auto"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-28 ml-auto"}),n.jsx(_,{className:"h-3 w-20 ml-auto"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2 min-w-[120px]",children:[n.jsx(_,{className:"h-6 w-16 rounded-full"}),n.jsx(_,{className:"h-3 w-24"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(_,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx(_,{className:"h-8 w-8 rounded ml-auto"})})]},t))})]})})}function stt(){return n.jsx(ut,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Jet,{}),n.jsx(ett,{}),n.jsx(ttt,{}),n.jsx(rtt,{})]})})}const att=()=>{const{id:e}=Mi(),t=fr(),[r,s]=v.useState("overview"),{data:a,isLoading:i,error:o}=RY(e||null),{data:l=[],isLoading:c}=yLe(e||null),d=jLe(e||"");if(i)return n.jsx(stt,{});if(o||!a)return n.jsx(ut,{title:"Vendor Not Found",children:n.jsx(Y,{children:n.jsxs(X,{className:"p-12 text-center",children:[n.jsx(Ct,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Vendor Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:o instanceof Error?o.message:"The vendor you're looking for doesn't exist."}),n.jsx(ee,{onClick:()=>t("/vendors"),children:"Back to Vendors"})]})})});const u=f=>{const m=typeof f=="string"?parseFloat(f):f;return n.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((h,x)=>n.jsx($j,{className:`h-4 w-4 ${x<Math.floor(m)?"fill-yellow-500 text-yellow-500":"text-muted-foreground"}`},x)),n.jsx("span",{className:"text-sm font-medium ml-1",children:m.toFixed(1)})]})};return n.jsx(ut,{title:a.name,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ee,{variant:"ghost",onClick:()=>t("/vendors"),className:"gap-2",children:[n.jsx(tr,{className:"h-4 w-4"}),"Back to Vendors"]}),n.jsxs(ee,{onClick:()=>t(`/vendors/${e}/edit`),className:"gap-2",children:[n.jsx($s,{className:"h-4 w-4"}),"Edit Vendor"]})]}),n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsx("div",{className:"flex items-center justify-center bg-muted rounded-full w-24 h-24 overflow-hidden",children:a.website?n.jsx("img",{src:`https://logo.clearbit.com/${new URL(a.website).hostname}`,alt:`${a.name} logo`,className:"w-20 h-20 object-contain",onError:f=>{const m=f.currentTarget;if(!m.dataset.fallbackAttempted)m.dataset.fallbackAttempted="true",m.src=`https://www.google.com/s2/favicons?domain=${new URL(a.website).hostname}&sz=128`;else{m.style.display="none";const h=m.parentElement;if(h){const x=document.createElement("span");x.className="text-4xl",x.textContent=a.logo||a.name.charAt(0).toUpperCase(),h.appendChild(x)}}}}):n.jsx("span",{className:"text-4xl",children:a.logo||a.name.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold",children:a.name}),n.jsx("p",{className:"text-muted-foreground",children:"Verified Vendor"})]}),n.jsx(Ce,{variant:"secondary",className:"text-sm",children:"Active"})]}),n.jsx("div",{className:"flex items-center gap-2 mb-4",children:u(a.reliability)})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(cn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:`mailto:${a.email}`,className:"hover:underline",children:a.email})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx($l,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:a.website.replace("https://","")})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(jr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:["Lead Time: ",a.lead_time]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ct,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[a.orders_count," Total Orders"]})]})]})]})]})})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),n.jsx("p",{className:"text-3xl font-bold mt-1",children:a.orders_count})]}),n.jsx(ct,{className:"h-8 w-8 text-primary"})]})})}),n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Issues"}),n.jsx("p",{className:"text-3xl font-bold mt-1",children:a.active_issues})]}),n.jsx(Ct,{className:`h-8 w-8 ${a.active_issues>0?"text-destructive":"text-green-500"}`})]})})}),n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Products"}),n.jsx("p",{className:"text-3xl font-bold mt-1",children:c?n.jsx("span",{className:"inline-block h-9 w-12 bg-muted animate-pulse rounded"}):l.length})]}),n.jsx(ct,{className:"h-8 w-8 text-primary"})]})})}),n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Reliability"}),n.jsx("p",{className:"text-3xl font-bold mt-1",children:(typeof a.reliability=="string"?parseFloat(a.reliability):a.reliability).toFixed(1)})]}),n.jsx(qa,{className:"h-8 w-8 text-green-500"})]})})})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx(Ve,{children:"Vendor Details"})}),n.jsx(X,{children:n.jsxs(wo,{value:r,onValueChange:s,children:[n.jsxs($i,{className:"grid w-full grid-cols-5",children:[n.jsx(Lt,{value:"overview",children:"Overview"}),n.jsx(Lt,{value:"products",children:"Products"}),n.jsx(Lt,{value:"orders",children:"Orders"}),n.jsx(Lt,{value:"issues",children:"Issues"}),n.jsx(Lt,{value:"payments",children:"Payments"})]}),n.jsxs(Yt,{value:"overview",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Contact Information"}),n.jsx(Rt,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(cn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:a.email})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx($l,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm hover:underline",children:a.website})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Business Details"}),n.jsx(Rt,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Lead Time"}),n.jsx("span",{className:"text-sm font-medium",children:a.lead_time})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Reliability Score"}),n.jsxs("span",{className:"text-sm font-medium",children:[a.reliability,"/5.0"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Orders"}),n.jsx("span",{className:"text-sm font-medium",children:a.orders_count})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Performance Metrics"}),n.jsx(Rt,{}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsx(Y,{children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Lr,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold",children:"95%"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"On-Time Delivery"})]})})}),n.jsx(Y,{children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(qa,{className:"h-8 w-8 text-primary mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold",children:"4.5"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Quality Rating"})]})})}),n.jsx(Y,{children:n.jsx(X,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ct,{className:"h-8 w-8 text-primary mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold",children:"98%"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Accuracy"})]})})})]})]})]}),n.jsx(Yt,{value:"products",className:"mt-6",children:c?n.jsx(ntt,{}):l.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ct,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Products"}),n.jsx("p",{className:"text-muted-foreground",children:"This vendor hasn't supplied any products yet."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(js,{children:[n.jsx(bs,{children:n.jsxs($t,{children:[n.jsx(Pe,{className:"w-[80px]",children:"Image"}),n.jsx(Pe,{children:"Product Details"}),n.jsx(Pe,{children:"Category"}),n.jsx(Pe,{children:"Client"}),n.jsx(Pe,{children:"Apartment"}),n.jsx(Pe,{children:"Room"}),n.jsx(Pe,{className:"text-right",children:"Qty"}),n.jsx(Pe,{className:"text-right",children:"Unit Price"}),n.jsx(Pe,{className:"text-right",children:"Total"}),n.jsx(Pe,{children:"Payment"}),n.jsx(Pe,{children:"Availability"}),n.jsx(Pe,{className:"text-right",children:"Actions"})]})}),n.jsx(ws,{children:l.map(f=>{var m;return n.jsxs($t,{children:[n.jsxs(_e,{children:[f.product_image?n.jsx("img",{src:f.product_image,alt:f.product,className:"w-16 h-16 object-cover rounded-md",onError:h=>{var x;h.currentTarget.style.display="none",(x=h.currentTarget.nextElementSibling)==null||x.classList.remove("hidden")}}):null,n.jsx("div",{className:`w-16 h-16 bg-muted rounded-md flex items-center justify-center ${f.product_image?"hidden":""}`,children:n.jsx(ki,{className:"h-6 w-6 text-muted-foreground"})})]}),n.jsx(_e,{children:n.jsxs("div",{className:"space-y-1 min-w-[200px]",children:[n.jsx("p",{className:"font-medium",children:f.product}),f.description&&n.jsx("p",{className:"text-xs text-muted-foreground",children:f.description}),f.dimensions&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.dimensions]}),f.material&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.material]}),f.color&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.color]}),f.brand&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.brand]})]})}),n.jsx(_e,{children:n.jsx(Ce,{variant:"outline",children:f.category_name})}),n.jsx(_e,{children:(m=f.apartment_details)!=null&&m.client_details?n.jsxs("div",{className:"space-y-1 min-w-[150px]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium",children:f.apartment_details.client_details.name})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f.apartment_details.client_details.email}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f.apartment_details.client_details.phone}),n.jsx(Ce,{variant:"secondary",className:"text-xs",children:f.apartment_details.client_details.type})]}):n.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),n.jsx(_e,{children:f.apartment_details?n.jsxs("div",{className:"space-y-1 min-w-[150px]",children:[n.jsx("p",{className:"text-sm font-medium",children:f.apartment_details.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f.apartment_details.type}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.apartment_details.owner]}),n.jsx(Ce,{variant:f.apartment_details.status==="Delivery"?"default":f.apartment_details.status==="In Progress"?"secondary":"outline",className:"text-xs",children:f.apartment_details.status})]}):n.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),n.jsx(_e,{children:n.jsx("span",{className:"text-sm",children:f.room||"-"})}),n.jsx(_e,{className:"text-right",children:n.jsx("span",{className:"font-medium",children:f.qty||"-"})}),n.jsx(_e,{className:"text-right",children:f.unit_price?n.jsx("div",{className:"space-y-1",children:n.jsx("span",{className:"font-medium",children:typeof f.unit_price=="number"?`${f.unit_price.toFixed(2)} ${f.currency||""}`:`${f.unit_price} ${f.currency||""}`})}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(_e,{className:"text-right",children:f.total_amount||f.total_cost?n.jsxs("div",{className:"space-y-1",children:[n.jsxs("span",{className:"font-semibold text-primary",children:[f.total_amount||f.total_cost," ",f.currency||""]}),f.outstanding_balance&&parseFloat(f.outstanding_balance)>0&&n.jsxs("p",{className:"text-xs text-destructive",children:["Due: ",f.outstanding_balance," ",f.currency]})]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(_e,{children:n.jsxs("div",{className:"space-y-1 min-w-[120px]",children:[n.jsx(Ce,{variant:f.payment_status==="Paid"?"default":f.payment_status==="Unpaid"?"destructive":f.payment_status==="Partial"?"secondary":"outline",children:f.payment_status||"Unknown"}),f.paid_amount&&parseFloat(f.paid_amount)>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Paid: ",f.paid_amount," ",f.currency]})]})}),n.jsx(_e,{children:n.jsx(Ce,{variant:f.availability==="In Stock"?"default":f.availability==="Out of Stock"?"destructive":f.availability==="Pre-order"?"secondary":"outline",children:f.availability||"Unknown"})}),n.jsx(_e,{className:"text-right",children:n.jsxs(Xl,{children:[n.jsx(hY,{asChild:!0,children:n.jsx(ee,{variant:"ghost",size:"sm",disabled:d.isPending,className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:n.jsx(on,{className:"h-4 w-4"})})}),n.jsxs(sl,{children:[n.jsxs(al,{children:[n.jsx(ol,{children:"Remove Product?"}),n.jsxs(ll,{children:['Are you sure you want to remove "',f.product,'" from this vendor? This action cannot be undone.']})]}),n.jsxs(il,{children:[n.jsx(dl,{children:"Cancel"}),n.jsx(cl,{onClick:()=>d.mutate(f.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remove"})]})]})]})})]},f.id)})})]})})}),n.jsx(Yt,{value:"orders",className:"mt-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(wr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Orders"}),n.jsx("p",{className:"text-muted-foreground",children:"Order history for this vendor will be displayed here."})]})}),n.jsx(Yt,{value:"issues",className:"mt-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ct,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Issues"}),n.jsx("p",{className:"text-muted-foreground",children:"Issue tracking for this vendor will be displayed here."})]})}),n.jsx(Yt,{value:"payments",className:"mt-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(br,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payments"}),n.jsx("p",{className:"text-muted-foreground",children:"Payment history for this vendor will be displayed here."})]})})]})})]})]})})};function itt(){return n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsx(_,{className:"h-10 w-32 rounded-md"})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(_,{className:"h-10 w-24 rounded-md"}),n.jsx(_,{className:"h-10 w-32 rounded-md"})]})]})}function ott(){return n.jsxs(Y,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-7 w-48"}),n.jsx(_,{className:"h-4 w-96"})]})}),n.jsxs(X,{children:[n.jsx("div",{className:"flex gap-1 border-b mb-6",children:["Basic Info","Address","Business","Products","Terms"].map((e,t)=>n.jsx(_,{className:"h-10 w-28 rounded-t-md"},t))}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-16"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-28"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx(_,{className:"h-5 w-32"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-12"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-20"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-24"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx(_,{className:"h-5 w-36"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-16"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-28"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx(_,{className:"h-5 w-40"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-36"}),n.jsx(_,{className:"h-20 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-28"}),n.jsx(_,{className:"h-20 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-20 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx(_,{className:"h-5 w-44"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-28"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(_,{className:"h-4 w-32"}),n.jsx(_,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[n.jsx(_,{className:"h-4 w-16"}),n.jsx(_,{className:"h-24 w-full rounded-md"})]})]})]})]})}function ltt(){return n.jsx(ut,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(itt,{}),n.jsx(ott,{})]})})}const ctt=()=>{const{id:e}=Mi(),t=fr(),[r,s]=v.useState("basic"),{data:a,isLoading:i,error:o}=RY(e||null),l=vLe(),c=MY(),[d,u]=v.useState(""),[f,m]=v.useState(""),[h,x]=v.useState(""),[p,g]=v.useState(""),[j,y]=v.useState(""),[w,b]=v.useState(""),[N,S]=v.useState(""),[E,C]=v.useState(""),[A,P]=v.useState(""),[R,I]=v.useState(""),[z,U]=v.useState(""),[L,T]=v.useState(""),[k,O]=v.useState(""),[M,ie]=v.useState(""),[ce,D]=v.useState(""),[W,F]=v.useState(""),[q,le]=v.useState(""),[fe,B]=v.useState(""),[K,se]=v.useState(""),[Ne,ue]=v.useState(""),[ge,xe]=v.useState(""),[Se,Me]=v.useState(""),[Oe,te]=v.useState("");if(v.useEffect(()=>{a&&(u(a.name||""),m(a.contact_person||""),x(a.email||""),g(a.phone||""),y(a.website||""),b(a.category||""),S(a.address||""),C(a.city||""),P(a.country||""),I(a.postal_code||""),U(a.tax_id||""),T(a.business_type||""),O(a.year_established||""),ie(a.employee_count||""),D(a.product_categories||""),F(a.certifications||""),le(a.specializations||""),B(a.payment_terms||""),se(a.delivery_terms||""),ue(a.warranty_period||""),xe(a.return_policy||""),Me(a.minimum_order||""),te(a.notes||""))},[a]),i)return n.jsx(ltt,{});if(o||!a)return n.jsx(ut,{title:"Vendor Not Found",children:n.jsx(Y,{children:n.jsxs(X,{className:"p-12 text-center",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Vendor Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:o instanceof Error?o.message:"The vendor you're trying to edit doesn't exist."}),n.jsx(ee,{onClick:()=>t("/vendors"),children:"Back to Vendors"})]})})});const he=()=>{if(!d||!h||!f){Ue.error("Please fill in all required fields (Company Name, Contact Person, Email)"),s("basic");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h)){Ue.error("Please enter a valid email address"),s("basic");return}const Le={name:d,company_name:d,contact_person:f,email:h,phone:p||"",website:j||"",category:w||"",address:N||"",city:E||"",country:A||"",postal_code:R||"",tax_id:z||"",business_type:L||"",year_established:k||"",employee_count:M||"",product_categories:ce||"",certifications:W||"",specializations:q||"",payment_terms:fe||"",delivery_terms:K||"",warranty_period:Ne||"",return_policy:ge||"",minimum_order:Se||"",notes:Oe||""};l.mutate({id:e,data:Le},{onSuccess:()=>{t(`/vendors/${e}`)}})},oe=()=>{c.mutate(e,{onSuccess:()=>{t("/vendors")}})};return n.jsx(ut,{title:`Edit ${a.name}`,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ee,{variant:"ghost",onClick:()=>t(`/vendors/${e}`),className:"gap-2",children:[n.jsx(tr,{className:"h-4 w-4"}),"Back to Vendor"]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(Xl,{children:[n.jsx(hY,{asChild:!0,children:n.jsxs(ee,{variant:"destructive",className:"gap-2",children:[n.jsx(on,{className:"h-4 w-4"}),"Delete"]})}),n.jsxs(sl,{children:[n.jsxs(al,{children:[n.jsx(ol,{children:"Are you sure?"}),n.jsx(ll,{children:"This will permanently delete this vendor and all associated data. This action cannot be undone."})]}),n.jsxs(il,{children:[n.jsx(dl,{disabled:c.isPending,children:"Cancel"}),n.jsx(cl,{onClick:oe,disabled:c.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:c.isPending?n.jsxs(n.Fragment,{children:[n.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})]}),n.jsx(ee,{onClick:he,className:"gap-2",disabled:l.isPending,children:l.isPending?n.jsxs(n.Fragment,{children:[n.jsx(zt,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Qd,{className:"h-4 w-4"}),"Save Changes"]})})]})]}),n.jsxs(Y,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Vendor Information"}),n.jsx(Tr,{children:"Update the vendor details below. Fields marked with * are required."})]}),n.jsx(X,{children:n.jsxs(wo,{value:r,onValueChange:s,children:[n.jsxs($i,{className:"grid w-full grid-cols-5",children:[n.jsx(Lt,{value:"basic",children:"Basic Info"}),n.jsx(Lt,{value:"address",children:"Address"}),n.jsx(Lt,{value:"business",children:"Business"}),n.jsx(Lt,{value:"products",children:"Products"}),n.jsx(Lt,{value:"terms",children:"Terms"})]}),n.jsx(Yt,{value:"basic",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"companyName",children:["Company Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(dr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"companyName",placeholder:"Enter company name",value:d,onChange:be=>u(be.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"category",children:"Category"}),n.jsxs(at,{value:w,onValueChange:b,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select category"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"furniture",children:"Furniture"}),n.jsx(Z,{value:"electronics",children:"Electronics"}),n.jsx(Z,{value:"lighting",children:"Lighting"}),n.jsx(Z,{value:"appliances",children:"Appliances"}),n.jsx(Z,{value:"textiles",children:"Textiles"}),n.jsx(Z,{value:"construction",children:"Construction"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"contactPerson",children:["Contact Person ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(qn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"contactPerson",placeholder:"Primary contact name",value:f,onChange:be=>m(be.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:"email",children:["Email ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(cn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"email",type:"email",placeholder:"contact@company.com",value:h,onChange:be=>x(be.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"phone",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(xo,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"phone",placeholder:"+1 (555) 000-0000",value:p,onChange:be=>g(be.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"website",children:"Website"}),n.jsxs("div",{className:"relative",children:[n.jsx($l,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"website",placeholder:"https://company.com",value:j,onChange:be=>y(be.target.value),className:"pl-9"})]})]})]})}),n.jsx(Yt,{value:"address",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"address",children:"Street Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(vs,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"address",placeholder:"123 Main Street",value:N,onChange:be=>S(be.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"city",children:"City"}),n.jsx(me,{id:"city",placeholder:"City",value:E,onChange:be=>C(be.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"postalCode",children:"Postal Code"}),n.jsx(me,{id:"postalCode",placeholder:"10001",value:R,onChange:be=>I(be.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"country",children:"Country"}),n.jsx(me,{id:"country",placeholder:"Country",value:A,onChange:be=>P(be.target.value)})]})]})}),n.jsx(Yt,{value:"business",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"taxId",children:"Tax ID / VAT Number"}),n.jsx(me,{id:"taxId",placeholder:"XX-XXXXXXX",value:z,onChange:be=>U(be.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"businessType",children:"Business Type"}),n.jsxs(at,{value:L,onValueChange:T,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select type"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"manufacturer",children:"Manufacturer"}),n.jsx(Z,{value:"distributor",children:"Distributor"}),n.jsx(Z,{value:"wholesaler",children:"Wholesaler"}),n.jsx(Z,{value:"retailer",children:"Retailer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"yearEstablished",children:"Year Established"}),n.jsx(me,{id:"yearEstablished",placeholder:"2020",value:k,onChange:be=>O(be.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"employeeCount",children:"Number of Employees"}),n.jsx(me,{id:"employeeCount",placeholder:"50",value:M,onChange:be=>ie(be.target.value)})]})]})}),n.jsx(Yt,{value:"products",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"productCategories",children:"Product Categories"}),n.jsx(Mn,{id:"productCategories",placeholder:"E.g., Furniture, Lighting, Appliances (comma-separated)",value:ce,onChange:be=>D(be.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"specializations",children:"Specializations"}),n.jsx(Mn,{id:"specializations",placeholder:"What makes this vendor unique?",value:q,onChange:be=>le(be.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"certifications",children:"Certifications & Compliance"}),n.jsx(Mn,{id:"certifications",placeholder:"ISO, Quality certifications, etc.",value:W,onChange:be=>F(be.target.value),rows:3})]})]})}),n.jsx(Yt,{value:"terms",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"paymentTerms",children:"Payment Terms"}),n.jsxs(at,{value:fe,onValueChange:B,children:[n.jsx(nt,{children:n.jsx(it,{placeholder:"Select payment terms"})}),n.jsxs(st,{children:[n.jsx(Z,{value:"net-30",children:"Net 30"}),n.jsx(Z,{value:"net-60",children:"Net 60"}),n.jsx(Z,{value:"net-90",children:"Net 90"}),n.jsx(Z,{value:"cod",children:"Cash on Delivery"}),n.jsx(Z,{value:"advance",children:"Advance Payment"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"deliveryTerms",children:"Delivery Terms"}),n.jsx(me,{id:"deliveryTerms",placeholder:"E.g., 7-14 business days",value:K,onChange:be=>se(be.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"warrantyPeriod",children:"Warranty Period"}),n.jsx(me,{id:"warrantyPeriod",placeholder:"E.g., 12 months",value:Ne,onChange:be=>ue(be.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"minimumOrder",children:"Minimum Order Value"}),n.jsxs("div",{className:"relative",children:[n.jsx(br,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"minimumOrder",placeholder:"500",value:Se,onChange:be=>Me(be.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"returnPolicy",children:"Return Policy"}),n.jsx(Mn,{id:"returnPolicy",placeholder:"Describe return and refund policy",value:ge,onChange:be=>xe(be.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(G,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(Mn,{id:"notes",placeholder:"Any additional information about the vendor",value:Oe,onChange:be=>te(be.target.value),rows:4})]})]})})]})})]})]})})},Nj=[{id:1,name:"Barbara Kovacs",role:"Designer",email:"barbara@buy2rent.com",phone:"+36 20 123 4567",assigned_apartments:2,status:"Active",last_active:"2025-11-05 14:30"},{id:2,name:"Maria Weber",role:"Designer",email:"maria@buy2rent.com",phone:"+43 664 987 6543",assigned_apartments:2,status:"Active",last_active:"2025-11-05 09:15"},{id:3,name:"Admin User",role:"System Admin",email:"admin@buy2rent.com",phone:"+36 30 555 1234",assigned_apartments:0,status:"Active",last_active:"2025-11-05 15:45"}],PL=[{id:1,name:"Supplier Issue Email",enabled:!0,template:{subject:"Issue Report - {{product}} - Order {{order_no}}",body:`Dear {{vendor}},

We have identified an issue with the following product:

Product: {{product}}
Apartment: {{apartment}}
Issue Type: {{issue_type}}
Description: {{description}}

Please advise on next steps for resolution.

Best regards,
Buy2Rent Team`}},{id:2,name:"Payment Reminder",enabled:!0,template:{subject:"Payment Reminder - Invoice {{invoice_no}}",body:`Dear {{vendor}},

This is a reminder that payment for invoice {{invoice_no}} is due on {{due_date}}.

Amount: {{amount}}
Order: {{order_no}}

Thank you,
Buy2Rent Finance Team`}},{id:3,name:"Out-of-Stock Replacement",enabled:!1,template:{subject:"Product Replacement Request - {{product}}",body:`Dear {{vendor}},

The product {{product}} is currently out of stock. Could you please suggest a suitable replacement?

Original Product: {{product}}
Apartment: {{apartment}}
Budget: {{price}}

Thank you,
Buy2Rent Procurement`}}],dtt=()=>{const[e,t]=v.useState(""),r=Nj.filter(a=>a.name.toLowerCase().includes(e.toLowerCase())||a.email.toLowerCase().includes(e.toLowerCase())||a.role.toLowerCase().includes(e.toLowerCase())),s=a=>({"System Admin":"bg-purple-500/10 text-purple-500",Designer:"bg-blue-500/10 text-blue-500",Manager:"bg-green-500/10 text-green-500"})[a]||"bg-gray-500/10 text-gray-500";return n.jsx(ut,{title:"Users",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),n.jsx("p",{className:"text-3xl font-bold",children:Nj.length})]})})}),n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Users"}),n.jsx("p",{className:"text-3xl font-bold",children:Nj.filter(a=>a.status==="Active").length})]})})}),n.jsx(Y,{children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Designers"}),n.jsx("p",{className:"text-3xl font-bold",children:Nj.filter(a=>a.role==="Designer").length})]})})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(Rs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(me,{placeholder:"Search users...",value:e,onChange:a=>t(a.target.value),className:"pl-9"})]}),n.jsxs(ee,{children:[n.jsx(Fn,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{children:["All Users (",r.length,")"]})}),n.jsx(X,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(js,{children:[n.jsx(bs,{children:n.jsxs($t,{children:[n.jsx(Pe,{children:"Name"}),n.jsx(Pe,{children:"Role"}),n.jsx(Pe,{children:"Email"}),n.jsx(Pe,{children:"Phone"}),n.jsx(Pe,{children:"Assigned Apartments"}),n.jsx(Pe,{children:"Status"}),n.jsx(Pe,{children:"Last Active"}),n.jsx(Pe,{className:"text-right",children:"Actions"})]})}),n.jsx(ws,{children:r.map(a=>n.jsxs($t,{children:[n.jsx(_e,{className:"font-medium",children:a.name}),n.jsx(_e,{children:n.jsx(Ce,{className:s(a.role),children:a.role})}),n.jsx(_e,{children:a.email}),n.jsx(_e,{children:a.phone}),n.jsx(_e,{children:a.assigned_apartments>0?n.jsx(Ce,{variant:"secondary",children:a.assigned_apartments}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(_e,{children:n.jsx(Ce,{variant:a.status==="Active"?"default":"secondary",children:a.status})}),n.jsx(_e,{className:"text-sm text-muted-foreground",children:a.last_active}),n.jsx(_e,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(ee,{size:"sm",variant:"ghost",children:n.jsx($s,{className:"h-4 w-4"})}),n.jsx(ee,{size:"sm",variant:"ghost",children:n.jsx(F9,{className:"h-4 w-4"})})]})})]},a.id))})]})})})]})]})})},utt=()=>{const[e,t]=v.useState(PL.reduce((i,o)=>({...i,[o.id]:o.enabled}),{})),{toast:r}=xr(),s=i=>{t(o=>({...o,[i]:!o[i]})),r({title:"Automation Updated",description:`Automation ${e[i]?"disabled":"enabled"} successfully.`})},a=i=>{r({title:"Template Saved",description:"Email template has been updated successfully."})};return n.jsx(ut,{title:"Automations",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Y,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:n.jsx(X,{className:"p-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 rounded-2xl bg-primary/10",children:n.jsx(Gg,{className:"h-8 w-8 text-primary"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"AI Workflow Automation"}),n.jsx("p",{className:"text-muted-foreground",children:"Configure automated email templates and workflows to streamline vendor communication, payment reminders, and issue resolution."})]})]})})}),PL.map(i=>n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ve,{children:i.name}),n.jsx(Ce,{variant:e[i.id]?"default":"secondary",children:e[i.id]?"Active":"Inactive"})]}),n.jsx(Tr,{children:"Automatically send emails when triggered by system events"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(G,{htmlFor:`toggle-${i.id}`,className:"text-sm text-muted-foreground",children:e[i.id]?"Enabled":"Disabled"}),n.jsx(Pn,{id:`toggle-${i.id}`,checked:e[i.id],onCheckedChange:()=>s(i.id)})]})]})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(G,{htmlFor:`subject-${i.id}`,className:"flex items-center gap-2",children:[n.jsx(cn,{className:"h-4 w-4"}),"Email Subject"]}),n.jsx(me,{id:`subject-${i.id}`,defaultValue:i.template.subject,placeholder:"Email subject line...",disabled:!e[i.id]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:`body-${i.id}`,children:"Email Body"}),n.jsx(ta,{id:`body-${i.id}`,defaultValue:i.template.body,placeholder:"Email template body...",rows:8,disabled:!e[i.id],className:"font-mono text-sm"}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[n.jsx(Ce,{variant:"outline",className:"text-xs",children:"{{vendor}}"}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:"{{product}}"}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:"{{apartment}}"}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:"{{order_no}}"}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:"{{due_date}}"}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:"{{amount}}"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(ee,{onClick:()=>a(i.id),disabled:!e[i.id],children:[n.jsx(Qd,{className:"h-4 w-4 mr-2"}),"Save Template"]})})]})]},i.id)),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(jr,{className:"h-5 w-5"}),"Recent Automation Events"]})}),n.jsx(X,{children:n.jsx("div",{className:"space-y-3",children:[{event:"Issue email sent to IKEA Hungary",time:"2 hours ago",type:"issue"},{event:"Payment reminder sent to Royalty Line",time:"5 hours ago",type:"payment"},{event:"Stock check email sent to Philips",time:"1 day ago",type:"stock"},{event:"RMA request email sent to Home Depot",time:"2 days ago",type:"issue"}].map((i,o)=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(cn,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:i.event}),n.jsx("p",{className:"text-xs text-muted-foreground",children:i.time})]})]}),n.jsx(Ce,{variant:"outline",children:i.type})]},o))})})]})]})})},ftt=xN.replace("/auth",""),ii=ur.create({baseURL:ftt,headers:{"Content-Type":"application/json"}});ii.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});ii.interceptors.response.use(e=>e,async e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const rx={getSettings:async()=>(await ii.get("/auth/settings/")).data,updateSettings:async e=>(await ii.put("/auth/settings/",e)).data,resetSettings:async()=>(await ii.delete("/auth/settings/")).data,getNotificationSettings:async()=>(await ii.get("/auth/settings/notifications/")).data,updateNotificationSettings:async e=>(await ii.put("/auth/settings/notifications/",e)).data,getDisplaySettings:async()=>(await ii.get("/auth/settings/display/")).data,updateDisplaySettings:async e=>(await ii.put("/auth/settings/display/",e)).data,getRegionalSettings:async()=>(await ii.get("/auth/settings/regional/")).data,updateRegionalSettings:async e=>(await ii.put("/auth/settings/regional/",e)).data,getProfileSettings:async()=>(await ii.get("/auth/settings/profile/")).data,updateProfileSettings:async e=>(await ii.put("/auth/settings/profile/",e)).data},$a={all:["settings"],notifications:["settings","notifications"],display:["settings","display"],regional:["settings","regional"],profile:["settings","profile"]},mtt={company:"",job_title:"",email_notifications:!0,push_notifications:!0,sms_notifications:!1,order_updates:!0,payment_alerts:!0,delivery_notifications:!0,vendor_messages:!0,system_alerts:!0,weekly_reports:!1,monthly_reports:!0,sound_enabled:!0,desktop_notifications:!0,theme:"light",compact_view:!1,sidebar_collapsed:!1,show_avatars:!0,animations_enabled:!0,language:"en",timezone:"UTC+1",date_format:"YYYY-MM-DD",time_format:"24h",currency:"HUF",number_format:"hu-HU",two_factor_enabled:!1},htt=()=>ls({queryKey:$a.all,queryFn:async()=>{try{return await rx.getSettings()}catch(e){return console.warn("Failed to fetch settings, using defaults:",e),mtt}},staleTime:5*60*1e3,retry:1}),ptt=()=>{const e=Hr();return dn({mutationFn:t=>rx.updateSettings(t),onSuccess:t=>{e.setQueryData($a.all,t.settings),e.invalidateQueries({queryKey:$a.notifications}),e.invalidateQueries({queryKey:$a.display}),e.invalidateQueries({queryKey:$a.regional}),e.invalidateQueries({queryKey:$a.profile})}})},xtt=()=>{const e=Hr();return dn({mutationFn:rx.resetSettings,onSuccess:t=>{e.setQueryData($a.all,t.settings),e.invalidateQueries({queryKey:$a.all})}})},gtt=()=>{const e=Hr();return dn({mutationFn:t=>rx.updateNotificationSettings(t),onSuccess:t=>{e.setQueryData($a.notifications,t.settings),e.invalidateQueries({queryKey:$a.all})}})},vtt=()=>{const e=Hr();return dn({mutationFn:t=>rx.updateDisplaySettings(t),onSuccess:t=>{e.setQueryData($a.display,t.settings),e.invalidateQueries({queryKey:$a.all})}})},ytt=()=>{const e=Hr();return dn({mutationFn:t=>rx.updateRegionalSettings(t),onSuccess:t=>{e.setQueryData($a.regional,t.settings),e.invalidateQueries({queryKey:$a.all})}})},jtt=()=>{const{theme:e,setTheme:t}=wp(),{toast:r}=xr(),{user:s}=Ev(),[a,i]=v.useState("account"),{data:o,isLoading:l,refetch:c}=htt(),d=ptt(),u=xtt(),f=gtt(),m=vtt(),h=ytt(),[x,p]=v.useState({firstName:"",lastName:"",email:"",phone:"",company:"",jobTitle:""}),[g,j]=v.useState(!1),[y,w]=v.useState(!1),[b,N]=v.useState(!1),[S,E]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[C,A]=v.useState({emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,orderUpdates:!0,paymentAlerts:!0,deliveryNotifications:!0,vendorMessages:!0,systemAlerts:!0,weeklyReports:!1,monthlyReports:!0,soundEnabled:!0,desktopNotifications:!0}),[P,R]=v.useState({compactView:!1,sidebarCollapsed:localStorage.getItem("sidebarCollapsed")==="true",showAvatars:!0,animationsEnabled:!0}),[I,z]=v.useState({language:"en",timezone:"UTC+1",dateFormat:"YYYY-MM-DD",timeFormat:"24h",currency:"HUF",numberFormat:"hu-HU"}),[U,L]=v.useState(!1);v.useEffect(()=>{o&&(p({firstName:(s==null?void 0:s.first_name)||"",lastName:(s==null?void 0:s.last_name)||"",email:(s==null?void 0:s.email)||o.user_email||"",phone:(s==null?void 0:s.phone)||"",company:o.company||"",jobTitle:o.job_title||""}),A({emailNotifications:o.email_notifications,pushNotifications:o.push_notifications,smsNotifications:o.sms_notifications,orderUpdates:o.order_updates,paymentAlerts:o.payment_alerts,deliveryNotifications:o.delivery_notifications,vendorMessages:o.vendor_messages,systemAlerts:o.system_alerts,weeklyReports:o.weekly_reports,monthlyReports:o.monthly_reports,soundEnabled:o.sound_enabled,desktopNotifications:o.desktop_notifications}),R({compactView:o.compact_view,sidebarCollapsed:o.sidebar_collapsed,showAvatars:o.show_avatars,animationsEnabled:o.animations_enabled}),z({language:o.language,timezone:o.timezone,dateFormat:o.date_format,timeFormat:o.time_format,currency:o.currency,numberFormat:o.number_format}),L(o.two_factor_enabled))},[o,s]);const T=async()=>{try{await d.mutateAsync({company:x.company,job_title:x.jobTitle}),r({title:"Account Updated",description:"Your account information has been saved successfully."})}catch{r({title:"Error",description:"Failed to save account settings.",variant:"destructive"})}},k=()=>{if(S.newPassword!==S.confirmPassword){r({title:"Error",description:"New passwords do not match.",variant:"destructive"});return}r({title:"Password Changed",description:"Your password has been updated successfully."}),E({currentPassword:"",newPassword:"",confirmPassword:""})},O=async()=>{try{await f.mutateAsync({email_notifications:C.emailNotifications,push_notifications:C.pushNotifications,sms_notifications:C.smsNotifications,order_updates:C.orderUpdates,payment_alerts:C.paymentAlerts,delivery_notifications:C.deliveryNotifications,vendor_messages:C.vendorMessages,system_alerts:C.systemAlerts,weekly_reports:C.weeklyReports,monthly_reports:C.monthlyReports,sound_enabled:C.soundEnabled,desktop_notifications:C.desktopNotifications}),r({title:"Preferences Saved",description:"Your notification preferences have been updated."})}catch{r({title:"Error",description:"Failed to save notification settings.",variant:"destructive"})}},M=async()=>{try{await m.mutateAsync({theme:e,compact_view:P.compactView,sidebar_collapsed:P.sidebarCollapsed,show_avatars:P.showAvatars,animations_enabled:P.animationsEnabled}),localStorage.setItem("sidebarCollapsed",String(P.sidebarCollapsed)),window.dispatchEvent(new CustomEvent("sidebarPreferenceChanged",{detail:{collapsed:P.sidebarCollapsed}})),r({title:"Display Settings Saved",description:"Your display preferences have been updated."})}catch{r({title:"Error",description:"Failed to save display settings.",variant:"destructive"})}},ie=async()=>{try{await h.mutateAsync({language:I.language,timezone:I.timezone,date_format:I.dateFormat,time_format:I.timeFormat,currency:I.currency,number_format:I.numberFormat}),r({title:"Regional Settings Saved",description:"Your regional preferences have been updated."})}catch{r({title:"Error",description:"Failed to save regional settings.",variant:"destructive"})}},ce=async F=>{try{await u.mutateAsync(),r({title:"Settings Reset",description:"All settings have been reset to defaults."}),c()}catch{r({title:"Error",description:"Failed to reset settings.",variant:"destructive"})}},D=async F=>{try{await d.mutateAsync({two_factor_enabled:F}),L(F),r({title:F?"2FA Enabled":"2FA Disabled",description:F?"Two-factor authentication has been enabled.":"Two-factor authentication has been disabled."})}catch{r({title:"Error",description:"Failed to update 2FA settings.",variant:"destructive"})}};if(l)return n.jsx(ut,{title:"Settings",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx(_,{className:"h-6 w-24"})}),n.jsx(X,{className:"space-y-2",children:[1,2,3,4,5].map(F=>n.jsx(_,{className:"h-10 w-full"},F))})]})}),n.jsx("div",{className:"lg:col-span-3",children:n.jsxs(Y,{children:[n.jsxs(we,{children:[n.jsx(_,{className:"h-6 w-48"}),n.jsx(_,{className:"h-4 w-64"})]}),n.jsx(X,{className:"space-y-4",children:[1,2,3,4].map(F=>n.jsx(_,{className:"h-12 w-full"},F))})]})})]})});const W=[{id:"account",icon:qn,label:"Account"},{id:"security",icon:a5,label:"Security"},{id:"notifications",icon:zu,label:"Notifications"},{id:"display",icon:Cne,label:"Display"},{id:"regional",icon:$l,label:"Regional Settings"}];return n.jsx(ut,{title:"Settings",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs(Y,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(yv,{className:"h-5 w-5"}),"Settings"]})}),n.jsx(X,{className:"p-2",children:n.jsx("nav",{className:"space-y-1",children:W.map(F=>n.jsxs(ee,{variant:a===F.id?"secondary":"ghost",className:"w-full justify-start",onClick:()=>i(F.id),children:[n.jsx(F.icon,{className:"mr-2 h-4 w-4"}),F.label]},F.id))})})]})}),n.jsxs("div",{className:"lg:col-span-3",children:[a==="account"&&n.jsxs(Y,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Personal Information"}),n.jsx(Tr,{children:"Update your personal details and contact information"})]}),n.jsxs(X,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"firstName",children:"First Name"}),n.jsx(me,{id:"firstName",value:x.firstName,onChange:F=>p({...x,firstName:F.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"lastName",children:"Last Name"}),n.jsx(me,{id:"lastName",value:x.lastName,onChange:F=>p({...x,lastName:F.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"email",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(cn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"email",type:"email",className:"pl-10",value:x.email,onChange:F=>p({...x,email:F.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"phone",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(xo,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(me,{id:"phone",type:"tel",className:"pl-10",value:x.phone,onChange:F=>p({...x,phone:F.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"company",children:"Company"}),n.jsx(me,{id:"company",value:x.company,onChange:F=>p({...x,company:F.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"jobTitle",children:"Job Title"}),n.jsx(me,{id:"jobTitle",value:x.jobTitle,onChange:F=>p({...x,jobTitle:F.target.value})})]})]}),n.jsx(Rt,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(ee,{variant:"outline",onClick:()=>p({firstName:"John",lastName:"Smith",email:"john.smith@example.com",phone:"+1 (555) 123-4567",company:"Tech Solutions Inc.",jobTitle:"Property Manager"}),children:"Cancel"}),n.jsxs(ee,{onClick:T,disabled:d.isPending,children:[d.isPending?n.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(eo,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})]}),a==="security"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs(Y,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Change Password"}),n.jsx(Tr,{children:"Update your password to keep your account secure"})]}),n.jsxs(X,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"currentPassword",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"currentPassword",type:g?"text":"password",value:S.currentPassword,onChange:F=>E({...S,currentPassword:F.target.value})}),n.jsx(ee,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>j(!g),children:g?n.jsx(Gm,{className:"h-4 w-4"}):n.jsx(Ha,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"newPassword",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"newPassword",type:y?"text":"password",value:S.newPassword,onChange:F=>E({...S,newPassword:F.target.value})}),n.jsx(ee,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>w(!y),children:y?n.jsx(Gm,{className:"h-4 w-4"}):n.jsx(Ha,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"confirmPassword",children:"Confirm New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(me,{id:"confirmPassword",type:b?"text":"password",value:S.confirmPassword,onChange:F=>E({...S,confirmPassword:F.target.value})}),n.jsx(ee,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>N(!b),children:b?n.jsx(Gm,{className:"h-4 w-4"}):n.jsx(Ha,{className:"h-4 w-4"})})]})]})]}),n.jsx(Rt,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(ee,{variant:"outline",onClick:()=>E({currentPassword:"",newPassword:"",confirmPassword:""}),children:"Cancel"}),n.jsxs(ee,{onClick:k,children:[n.jsx(a5,{className:"mr-2 h-4 w-4"}),"Update Password"]})]})]})]}),n.jsxs(Y,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Two-Factor Authentication"}),n.jsx(Tr,{children:"Add an extra layer of security to your account"})]}),n.jsx(X,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(One,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium",children:"Enable 2FA"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Require a verification code in addition to your password"})]})]}),n.jsx(Pn,{checked:U,onCheckedChange:D,disabled:d.isPending})]})})]})]}),a==="notifications"&&n.jsxs(Y,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Notification Preferences"}),n.jsx(Tr,{children:"Manage how and when you receive notifications"})]}),n.jsxs(X,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Notification Channels"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(cn,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Email Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]})]}),n.jsx(Pn,{checked:C.emailNotifications,onCheckedChange:F=>A({...C,emailNotifications:F})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(zu,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Push Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive browser push notifications"})]})]}),n.jsx(Pn,{checked:C.pushNotifications,onCheckedChange:F=>A({...C,pushNotifications:F})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Vd,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"SMS Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via text message"})]})]}),n.jsx(Pn,{checked:C.smsNotifications,onCheckedChange:F=>A({...C,smsNotifications:F})})]})]})]}),n.jsx(Rt,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Activity Notifications"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Order Updates"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified about order status changes"})]}),n.jsx(Pn,{checked:C.orderUpdates,onCheckedChange:F=>A({...C,orderUpdates:F})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Payment Alerts"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications for payment activities"})]}),n.jsx(Pn,{checked:C.paymentAlerts,onCheckedChange:F=>A({...C,paymentAlerts:F})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Delivery Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Updates on delivery status and schedules"})]}),n.jsx(Pn,{checked:C.deliveryNotifications,onCheckedChange:F=>A({...C,deliveryNotifications:F})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Vendor Messages"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Messages and updates from vendors"})]}),n.jsx(Pn,{checked:C.vendorMessages,onCheckedChange:F=>A({...C,vendorMessages:F})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"System Alerts"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Important system notifications and updates"})]}),n.jsx(Pn,{checked:C.systemAlerts,onCheckedChange:F=>A({...C,systemAlerts:F})})]})]})]}),n.jsx(Rt,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Report Notifications"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Weekly Reports"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive weekly summary reports"})]}),n.jsx(Pn,{checked:C.weeklyReports,onCheckedChange:F=>A({...C,weeklyReports:F})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Monthly Reports"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive monthly summary reports"})]}),n.jsx(Pn,{checked:C.monthlyReports,onCheckedChange:F=>A({...C,monthlyReports:F})})]})]})]}),n.jsx(Rt,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Sound & Desktop"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[C.soundEnabled?n.jsx(Rne,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Mne,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Sound Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Play sounds for notifications"})]})]}),n.jsx(Pn,{checked:C.soundEnabled,onCheckedChange:F=>A({...C,soundEnabled:F})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Desktop Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Show notifications on desktop"})]}),n.jsx(Pn,{checked:C.desktopNotifications,onCheckedChange:F=>A({...C,desktopNotifications:F})})]})]})]})]}),n.jsx(Rt,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsxs(ee,{variant:"outline",onClick:()=>ce(),disabled:u.isPending,children:[u.isPending?n.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(lf,{className:"mr-2 h-4 w-4"}),"Reset to Default"]}),n.jsxs(ee,{onClick:O,disabled:f.isPending,children:[f.isPending?n.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(eo,{className:"mr-2 h-4 w-4"}),"Save Preferences"]})]})]})]}),a==="display"&&n.jsxs(Y,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Appearance"}),n.jsx(Tr,{children:"Customize how the application looks and feels"})]}),n.jsxs(X,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[e==="dark"?n.jsx(vv,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(jv,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Theme"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your preferred color scheme"})]})]}),n.jsxs(at,{value:e,onValueChange:t,children:[n.jsx(nt,{className:"w-32",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"light",children:"Light"}),n.jsx(Z,{value:"dark",children:"Dark"}),n.jsx(Z,{value:"system",children:"System"})]})]})]}),n.jsx(Rt,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Compact View"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Display more content with reduced spacing"})]}),n.jsx(Pn,{checked:P.compactView,onCheckedChange:F=>R({...P,compactView:F})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Collapsed Sidebar"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Show sidebar in collapsed state by default"})]}),n.jsx(Pn,{checked:P.sidebarCollapsed,onCheckedChange:F=>{R({...P,sidebarCollapsed:F}),localStorage.setItem("sidebarCollapsed",String(F)),window.dispatchEvent(new CustomEvent("sidebarPreferenceChanged",{detail:{collapsed:F}})),r({title:"Sidebar Preference Updated",description:`Sidebar will be ${F?"collapsed":"expanded"} by default.`})}})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Show Avatars"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Display user avatars throughout the app"})]}),n.jsx(Pn,{checked:P.showAvatars,onCheckedChange:F=>R({...P,showAvatars:F})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Enable Animations"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Show smooth transitions and animations"})]}),n.jsx(Pn,{checked:P.animationsEnabled,onCheckedChange:F=>R({...P,animationsEnabled:F})})]})]}),n.jsx(Rt,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsxs(ee,{variant:"outline",onClick:()=>ce(),disabled:u.isPending,children:[u.isPending?n.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(lf,{className:"mr-2 h-4 w-4"}),"Reset to Default"]}),n.jsxs(ee,{onClick:M,disabled:m.isPending,children:[m.isPending?n.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(eo,{className:"mr-2 h-4 w-4"}),"Save Settings"]})]})]})]}),a==="regional"&&n.jsxs(Y,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Regional Preferences"}),n.jsx(Tr,{children:"Configure language, timezone, and formatting options"})]}),n.jsxs(X,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"language",children:"Language"}),n.jsxs(at,{value:I.language,onValueChange:F=>z({...I,language:F}),children:[n.jsx(nt,{id:"language",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"en",children:"English"}),n.jsx(Z,{value:"es",children:"Spanish"}),n.jsx(Z,{value:"fr",children:"French"}),n.jsx(Z,{value:"de",children:"German"}),n.jsx(Z,{value:"zh",children:"Chinese"}),n.jsx(Z,{value:"ja",children:"Japanese"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"timezone",children:"Timezone"}),n.jsxs("div",{className:"relative",children:[n.jsx($l,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground z-10"}),n.jsxs(at,{value:I.timezone,onValueChange:F=>z({...I,timezone:F}),children:[n.jsx(nt,{id:"timezone",className:"pl-10",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"UTC-12",children:"UTC-12:00 Baker Island"}),n.jsx(Z,{value:"UTC-11",children:"UTC-11:00 American Samoa"}),n.jsx(Z,{value:"UTC-10",children:"UTC-10:00 Hawaii"}),n.jsx(Z,{value:"UTC-9",children:"UTC-09:00 Alaska"}),n.jsx(Z,{value:"UTC-8",children:"UTC-08:00 Pacific Time"}),n.jsx(Z,{value:"UTC-7",children:"UTC-07:00 Mountain Time"}),n.jsx(Z,{value:"UTC-6",children:"UTC-06:00 Central Time"}),n.jsx(Z,{value:"UTC-5",children:"UTC-05:00 Eastern Time"}),n.jsx(Z,{value:"UTC-4",children:"UTC-04:00 Atlantic Time"}),n.jsx(Z,{value:"UTC-3",children:"UTC-03:00 Buenos Aires"}),n.jsx(Z,{value:"UTC-2",children:"UTC-02:00 Mid-Atlantic"}),n.jsx(Z,{value:"UTC-1",children:"UTC-01:00 Azores"}),n.jsx(Z,{value:"UTC+0",children:"UTC+00:00 London"}),n.jsx(Z,{value:"UTC+1",children:"UTC+01:00 Paris"}),n.jsx(Z,{value:"UTC+2",children:"UTC+02:00 Cairo"}),n.jsx(Z,{value:"UTC+3",children:"UTC+03:00 Moscow"}),n.jsx(Z,{value:"UTC+4",children:"UTC+04:00 Dubai"}),n.jsx(Z,{value:"UTC+5",children:"UTC+05:00 Pakistan"}),n.jsx(Z,{value:"UTC+6",children:"UTC+06:00 Bangladesh"}),n.jsx(Z,{value:"UTC+7",children:"UTC+07:00 Bangkok"}),n.jsx(Z,{value:"UTC+8",children:"UTC+08:00 Singapore"}),n.jsx(Z,{value:"UTC+9",children:"UTC+09:00 Tokyo"}),n.jsx(Z,{value:"UTC+10",children:"UTC+10:00 Sydney"}),n.jsx(Z,{value:"UTC+11",children:"UTC+11:00 Solomon Islands"}),n.jsx(Z,{value:"UTC+12",children:"UTC+12:00 New Zealand"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"dateFormat",children:"Date Format"}),n.jsxs("div",{className:"relative",children:[n.jsx(en,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground z-10"}),n.jsxs(at,{value:I.dateFormat,onValueChange:F=>z({...I,dateFormat:F}),children:[n.jsx(nt,{id:"dateFormat",className:"pl-10",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"MM/DD/YYYY",children:"MM/DD/YYYY (12/31/2024)"}),n.jsx(Z,{value:"DD/MM/YYYY",children:"DD/MM/YYYY (31/12/2024)"}),n.jsx(Z,{value:"YYYY-MM-DD",children:"YYYY-MM-DD (2024-12-31)"}),n.jsx(Z,{value:"DD.MM.YYYY",children:"DD.MM.YYYY (31.12.2024)"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"timeFormat",children:"Time Format"}),n.jsxs(at,{value:I.timeFormat,onValueChange:F=>z({...I,timeFormat:F}),children:[n.jsx(nt,{id:"timeFormat",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"12h",children:"12-hour (3:30 PM)"}),n.jsx(Z,{value:"24h",children:"24-hour (15:30)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"currency",children:"Currency"}),n.jsxs("div",{className:"relative",children:[n.jsx(br,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground z-10"}),n.jsxs(at,{value:I.currency,onValueChange:F=>z({...I,currency:F}),children:[n.jsx(nt,{id:"currency",className:"pl-10",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"HUF",children:"HUF - Hungarian Forint (Ft)"}),n.jsx(Z,{value:"USD",children:"USD - US Dollar ($)"}),n.jsx(Z,{value:"EUR",children:"EUR - Euro ()"}),n.jsx(Z,{value:"GBP",children:"GBP - British Pound ()"}),n.jsx(Z,{value:"JPY",children:"JPY - Japanese Yen ()"}),n.jsx(Z,{value:"CNY",children:"CNY - Chinese Yuan ()"}),n.jsx(Z,{value:"INR",children:"INR - Indian Rupee ()"}),n.jsx(Z,{value:"CAD",children:"CAD - Canadian Dollar ($)"}),n.jsx(Z,{value:"AUD",children:"AUD - Australian Dollar ($)"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"numberFormat",children:"Number Format"}),n.jsxs(at,{value:I.numberFormat,onValueChange:F=>z({...I,numberFormat:F}),children:[n.jsx(nt,{id:"numberFormat",children:n.jsx(it,{})}),n.jsxs(st,{children:[n.jsx(Z,{value:"en-US",children:"1,234.56 (US)"}),n.jsx(Z,{value:"de-DE",children:"1.234,56 (German)"}),n.jsx(Z,{value:"fr-FR",children:"1 234,56 (French)"}),n.jsx(Z,{value:"en-IN",children:"1,23,456.78 (Indian)"})]})]})]})]}),n.jsx(Rt,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsxs(ee,{variant:"outline",onClick:()=>ce(),disabled:u.isPending,children:[u.isPending?n.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(lf,{className:"mr-2 h-4 w-4"}),"Reset to Default"]}),n.jsxs(ee,{onClick:ie,disabled:h.isPending,children:[h.isPending?n.jsx(zt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(eo,{className:"mr-2 h-4 w-4"}),"Save Settings"]})]})]})]})]})]})})},btt=()=>{var g;const e=ql(),t=fr(),{issues:r,vendors:s}=Sl(),a=((g=e.state)==null?void 0:g.selectedIssues)||[],[i,o]=v.useState({subject:"",message:"",includeIssueDetails:!0,includePhotos:!0}),[l,c]=v.useState(!1),[d,u]=v.useState(new Set),f=v.useMemo(()=>{const j={};return a.forEach(y=>{const w=y.vendor,b=y.vendor_details||s.find(N=>N.id===w);j[w]||(j[w]={vendor:b||{id:w,name:"Unknown Vendor"},issues:[]}),j[w].issues.push(y)}),j},[a,s]),m=Object.keys(f).length,h=a.length,x=j=>{u(y=>{const w=new Set(y);return w.has(j)?w.delete(j):w.add(j),w})},p=async()=>{var j,y;if(!i.subject||!i.message){Ue.error("Please provide email subject and message");return}c(!0);try{const w=a.map(N=>N.id),b=await ms.sendBulkEmail({issue_ids:w,subject:i.subject,message:i.message,include_issue_details:i.includeIssueDetails,include_photos:i.includePhotos});b.success?(Ue.success("Emails Sent Successfully",{description:`Sent ${b.results.sent} emails to vendors about ${b.results.total_issues} issues.`}),t("/issues")):Ue.error("Failed to send some emails",{description:b.message||"Please check the details and try again."})}catch(w){console.error("Bulk email error:",w),Ue.error("Failed to send emails",{description:((y=(j=w.response)==null?void 0:j.data)==null?void 0:y.message)||w.message||"An error occurred while sending emails."})}finally{c(!1)}};return n.jsx(ut,{title:"Send Bulk Email to Vendors",subtitle:"Send a standardized email to all vendors with open issues. Each vendor will receive information about their specific issues.",actions:n.jsxs(ee,{variant:"outline",onClick:()=>t("/issues"),children:[n.jsx(tr,{className:"h-4 w-4 mr-2"}),"Back to Issues"]}),children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Y,{children:n.jsxs(X,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(Dc,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Recipients"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:m})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Vendors"})]})}),n.jsx(Y,{children:n.jsxs(X,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-danger/10 rounded-lg",children:n.jsx(ct,{className:"h-5 w-5 text-danger"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Issues"}),n.jsx("p",{className:"text-2xl font-bold text-danger",children:h})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Items"})]})}),n.jsx(Y,{children:n.jsxs(X,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-warning/10 rounded-lg",children:n.jsx(cn,{className:"h-5 w-5 text-warning"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Emails"}),n.jsx("p",{className:"text-2xl font-bold text-warning",children:m})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"To Send"})]})})]}),n.jsxs(Y,{children:[n.jsxs(we,{children:[n.jsxs(Ve,{className:"text-lg flex items-center gap-2",children:[n.jsx(Dc,{className:"h-5 w-5"}),"Recipients by Vendor"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Click on a vendor to view their issues"})]}),n.jsx(X,{children:n.jsx("div",{className:"space-y-3",children:Object.entries(f).map(([j,{vendor:y,issues:w}])=>n.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[n.jsxs("button",{onClick:()=>x(j),className:"w-full flex items-center justify-between p-4 bg-muted/30 hover:bg-muted/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[d.has(j)?n.jsx(Wf,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Xd,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"font-semibold text-base",children:y.name}),y.email&&n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-0.5",children:[n.jsx(cn,{className:"h-3 w-3"}),y.email]})]})]}),n.jsxs(Ce,{variant:"outline",className:"ml-2",children:[w.length," ",w.length===1?"issue":"issues"]})]}),d.has(j)&&n.jsx("div",{className:"p-4 bg-background border-t space-y-2",children:w.map((b,N)=>n.jsx("div",{className:"p-3 rounded-lg border bg-card hover:bg-accent/5 transition-colors",children:n.jsx("div",{className:"flex items-start justify-between gap-3",children:n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ce,{variant:"secondary",className:"text-xs",children:["#",N+1]}),n.jsx("span",{className:"text-sm font-medium",children:b.display_product_name||b.product_name||"Product Issue"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx(Ct,{className:"h-3 w-3"}),n.jsx("span",{className:"font-medium",children:b.type}),n.jsx("span",{children:""}),n.jsx(Ce,{variant:b.priority==="Critical"?"destructive":b.priority==="High"?"default":"secondary",className:"text-xs",children:b.priority})]}),b.description&&n.jsxs("p",{className:"text-xs text-muted-foreground line-clamp-2 flex items-start gap-1",children:[n.jsx(Sn,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),b.description]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx(en,{className:"h-3 w-3"}),n.jsxs("span",{children:["Reported: ",new Date(b.reported_on).toLocaleDateString()]}),n.jsx("span",{children:""}),n.jsx(Ce,{variant:"outline",className:"text-xs",children:b.status})]})]})})},b.id))})]},j))})})]}),n.jsx(Rt,{}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx(Ve,{className:"text-lg",children:"Compose Email"})}),n.jsxs(X,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"subject",children:"Email Subject *"}),n.jsx("input",{id:"subject",type:"text",placeholder:"e.g., Urgent: Product Issues Requiring Resolution",value:i.subject,onChange:j=>o(y=>({...y,subject:j.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(G,{htmlFor:"message",children:"Email Message *"}),n.jsx(Mn,{id:"message",placeholder:`Dear Vendor Team,

We have identified several issues with the products delivered. Please review the details below and provide a resolution plan at your earliest convenience.

Best regards,
Procurement Team`,value:i.message,onChange:j=>o(y=>({...y,message:j.target.value})),rows:10,className:"resize-none"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"This message will be sent to all vendors. Issue-specific details will be automatically appended."})]}),n.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[n.jsx(G,{className:"text-sm font-semibold",children:"Email Options"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Hc,{id:"includeDetails",checked:i.includeIssueDetails,onCheckedChange:j=>o(y=>({...y,includeIssueDetails:j}))}),n.jsx("label",{htmlFor:"includeDetails",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Include detailed issue information (product names, SKUs, descriptions)"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Hc,{id:"includePhotos",checked:i.includePhotos,onCheckedChange:j=>o(y=>({...y,includePhotos:j}))}),n.jsx("label",{htmlFor:"includePhotos",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Attach issue photos to emails"})]})]})]})]}),n.jsxs(Y,{children:[n.jsx(we,{children:n.jsx(Ve,{className:"text-lg",children:"Email Preview"})}),n.jsx(X,{children:n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-3 text-sm",children:[n.jsxs("div",{className:"font-semibold",children:["Subject: ",i.subject||"(No subject)"]}),n.jsx(Rt,{}),n.jsx("div",{className:"whitespace-pre-wrap",children:i.message||"(No message)"}),i.includeIssueDetails&&n.jsxs(n.Fragment,{children:[n.jsx(Rt,{}),n.jsx("div",{className:"text-xs text-muted-foreground italic",children:"[Vendor-specific issue details will be inserted here]"})]})]})})]}),n.jsxs("div",{className:"flex justify-end gap-3 pb-6",children:[n.jsx(ee,{type:"button",variant:"outline",onClick:()=>t("/issues"),children:"Cancel"}),n.jsxs(ee,{onClick:p,disabled:l||!i.subject||!i.message,size:"lg",children:[n.jsx(I9,{className:"h-4 w-4 mr-2"}),l?"Sending...":`Send ${m} Emails`]})]})]})})},wtt=new Uie,Ntt=()=>n.jsx(qie,{client:wtt,children:n.jsx(Oce,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:n.jsxs(w7,{children:[n.jsx(yse,{}),n.jsx(Qse,{}),n.jsx(Joe,{children:n.jsx(Tce,{children:n.jsxs(Hoe,{children:[n.jsx(Qt,{path:"/login",element:n.jsx(bde,{})}),n.jsx(Qt,{path:"/signup",element:n.jsx(Nde,{})}),n.jsx(Qt,{path:"/forgot-password",element:n.jsx(Sde,{})}),n.jsx(Qt,{path:"/",element:n.jsx(G7,{to:"/overview",replace:!0})}),n.jsx(Qt,{path:"/clients",element:n.jsx(lr,{children:n.jsx(X$e,{})})}),n.jsx(Qt,{path:"/clients/:id",element:n.jsx(lr,{children:n.jsx(dLe,{})})}),n.jsx(Qt,{path:"/apartments",element:n.jsx(lr,{children:n.jsx(bLe,{})})}),n.jsx(Qt,{path:"/apartments/new",element:n.jsx(lr,{children:n.jsx(OLe,{})})}),n.jsx(Qt,{path:"/apartments/:id",element:n.jsx(lr,{children:n.jsx(r9e,{})})}),n.jsx(Qt,{path:"/apartments/:id/edit",element:n.jsx(lr,{children:n.jsx(o9e,{})})}),n.jsx(Qt,{path:"/products",element:n.jsx(lr,{children:n.jsx(l9e,{})})}),n.jsx(Qt,{path:"/products/new",element:n.jsx(lr,{children:n.jsx(c9e,{})})}),n.jsx(Qt,{path:"/products/import",element:n.jsx(lr,{children:n.jsx(v9e,{})})}),n.jsx(Qt,{path:"/products/:id",element:n.jsx(lr,{children:n.jsx(d9e,{})})}),n.jsx(Qt,{path:"/products/:id/edit",element:n.jsx(lr,{children:n.jsx(p9e,{})})}),n.jsx(Qt,{path:"/orders",element:n.jsx(lr,{children:n.jsx(A9e,{})})}),n.jsx(Qt,{path:"/orders/new",element:n.jsx(lr,{children:n.jsx(k9e,{})})}),n.jsx(Qt,{path:"/orders/import",element:n.jsx(lr,{children:n.jsx(P9e,{})})}),n.jsx(Qt,{path:"/orders/:id",element:n.jsx(lr,{children:n.jsx(B9e,{})})}),n.jsx(Qt,{path:"/orders/:id/edit",element:n.jsx(lr,{children:n.jsx(G9e,{})})}),n.jsx(Qt,{path:"/deliveries",element:n.jsx(lr,{children:n.jsx(w7e,{})})}),n.jsx(Qt,{path:"/issues",element:n.jsx(lr,{children:n.jsx(BJe,{})})}),n.jsx(Qt,{path:"/issues/new",element:n.jsx(lr,{children:n.jsx(GJe,{})})}),n.jsx(Qt,{path:"/issues/bulk-email",element:n.jsx(lr,{children:n.jsx(btt,{})})}),n.jsx(Qt,{path:"/issues/:issueId",element:n.jsx(lr,{children:n.jsx(iet,{})})}),n.jsx(Qt,{path:"/issues/:issueId/edit",element:n.jsx(lr,{children:n.jsx(pet,{})})}),n.jsx(Qt,{path:"/payments",element:n.jsx(lr,{children:n.jsx(Aet,{})})}),n.jsx(Qt,{path:"/payments/new",element:n.jsx(lr,{children:n.jsx(ket,{})})}),n.jsx(Qt,{path:"/payments/:id",element:n.jsx(lr,{children:n.jsx($et,{})})}),n.jsx(Qt,{path:"/payments/:id/edit",element:n.jsx(lr,{children:n.jsx(qet,{})})}),n.jsx(Qt,{path:"/vendors",element:n.jsx(lr,{children:n.jsx(Qet,{})})}),n.jsx(Qt,{path:"/vendors/new",element:n.jsx(lr,{children:n.jsx(Zet,{})})}),n.jsx(Qt,{path:"/vendors/:id",element:n.jsx(lr,{children:n.jsx(att,{})})}),n.jsx(Qt,{path:"/vendors/:id/edit",element:n.jsx(lr,{children:n.jsx(ctt,{})})}),n.jsx(Qt,{path:"/users",element:n.jsx(lr,{children:n.jsx(dtt,{})})}),n.jsx(Qt,{path:"/automations",element:n.jsx(lr,{children:n.jsx(utt,{})})}),n.jsx(Qt,{path:"/settings",element:n.jsx(lr,{children:n.jsx(jtt,{})})}),n.jsx(Qt,{path:"/overview",element:n.jsx(lr,{children:n.jsx(r$e,{})})}),n.jsx(Qt,{path:"*",element:n.jsx(n$e,{})})]})})})]})})});JB(document.getElementById("root")).render(n.jsx(Ntt,{}));
