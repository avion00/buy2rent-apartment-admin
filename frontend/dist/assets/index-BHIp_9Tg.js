var Uee=Object.defineProperty;var CD=e=>{throw TypeError(e)};var Vee=(e,t,r)=>t in e?Uee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ht=(e,t,r)=>Vee(e,typeof t!="symbol"?t+"":t,r),g_=(e,t,r)=>t.has(e)||CD("Cannot "+r);var pe=(e,t,r)=>(g_(e,t,"read from private field"),r?r.call(e):t.get(e)),Et=(e,t,r)=>t.has(e)?CD("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),mt=(e,t,r,s)=>(g_(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),Xt=(e,t,r)=>(g_(e,t,"access private method"),r);var Oy=(e,t,r,s)=>({set _(a){mt(e,t,a,r)},get _(){return pe(e,t,s)}});function zee(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Dy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var k8={exports:{}},Yw={},T8={exports:{}},sr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv=Symbol.for("react.element"),Wee=Symbol.for("react.portal"),Hee=Symbol.for("react.fragment"),qee=Symbol.for("react.strict_mode"),Gee=Symbol.for("react.profiler"),Kee=Symbol.for("react.provider"),Yee=Symbol.for("react.context"),Xee=Symbol.for("react.forward_ref"),Qee=Symbol.for("react.suspense"),Zee=Symbol.for("react.memo"),Jee=Symbol.for("react.lazy"),AD=Symbol.iterator;function ete(e){return e===null||typeof e!="object"?null:(e=AD&&e[AD]||e["@@iterator"],typeof e=="function"?e:null)}var O8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D8=Object.assign,I8={};function Ip(e,t,r){this.props=e,this.context=t,this.refs=I8,this.updater=r||O8}Ip.prototype.isReactComponent={};Ip.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ip.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function R8(){}R8.prototype=Ip.prototype;function SP(e,t,r){this.props=e,this.context=t,this.refs=I8,this.updater=r||O8}var CP=SP.prototype=new R8;CP.constructor=SP;D8(CP,Ip.prototype);CP.isPureReactComponent=!0;var ED=Array.isArray,M8=Object.prototype.hasOwnProperty,AP={current:null},F8={key:!0,ref:!0,__self:!0,__source:!0};function $8(e,t,r){var s,a={},i=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)M8.call(t,s)&&!F8.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps,l)a[s]===void 0&&(a[s]=l[s]);return{$$typeof:Cv,type:e,key:i,ref:o,props:a,_owner:AP.current}}function tte(e,t){return{$$typeof:Cv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function EP(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cv}function rte(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var PD=/\/+/g;function v_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rte(""+e.key):t.toString(36)}function Vj(e,t,r,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Cv:case Wee:o=!0}}if(o)return o=e,a=a(o),e=s===""?"."+v_(o,0):s,ED(a)?(r="",e!=null&&(r=e.replace(PD,"$&/")+"/"),Vj(a,t,r,"",function(d){return d})):a!=null&&(EP(a)&&(a=tte(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(PD,"$&/")+"/")+e)),t.push(a)),1;if(o=0,s=s===""?".":s+":",ED(e))for(var l=0;l<e.length;l++){i=e[l];var c=s+v_(i,l);o+=Vj(i,t,r,c,a)}else if(c=ete(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=s+v_(i,l++),o+=Vj(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Iy(e,t,r){if(e==null)return e;var s=[],a=0;return Vj(e,s,"","",function(i){return t.call(r,i,a++)}),s}function nte(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var La={current:null},zj={transition:null},ste={ReactCurrentDispatcher:La,ReactCurrentBatchConfig:zj,ReactCurrentOwner:AP};function L8(){throw Error("act(...) is not supported in production builds of React.")}sr.Children={map:Iy,forEach:function(e,t,r){Iy(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Iy(e,function(){t++}),t},toArray:function(e){return Iy(e,function(t){return t})||[]},only:function(e){if(!EP(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};sr.Component=Ip;sr.Fragment=Hee;sr.Profiler=Gee;sr.PureComponent=SP;sr.StrictMode=qee;sr.Suspense=Qee;sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ste;sr.act=L8;sr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=D8({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=AP.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)M8.call(t,c)&&!F8.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:Cv,type:e.type,key:a,ref:i,props:s,_owner:o}};sr.createContext=function(e){return e={$$typeof:Yee,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Kee,_context:e},e.Consumer=e};sr.createElement=$8;sr.createFactory=function(e){var t=$8.bind(null,e);return t.type=e,t};sr.createRef=function(){return{current:null}};sr.forwardRef=function(e){return{$$typeof:Xee,render:e}};sr.isValidElement=EP;sr.lazy=function(e){return{$$typeof:Jee,_payload:{_status:-1,_result:e},_init:nte}};sr.memo=function(e,t){return{$$typeof:Zee,type:e,compare:t===void 0?null:t}};sr.startTransition=function(e){var t=zj.transition;zj.transition={};try{e()}finally{zj.transition=t}};sr.unstable_act=L8;sr.useCallback=function(e,t){return La.current.useCallback(e,t)};sr.useContext=function(e){return La.current.useContext(e)};sr.useDebugValue=function(){};sr.useDeferredValue=function(e){return La.current.useDeferredValue(e)};sr.useEffect=function(e,t){return La.current.useEffect(e,t)};sr.useId=function(){return La.current.useId()};sr.useImperativeHandle=function(e,t,r){return La.current.useImperativeHandle(e,t,r)};sr.useInsertionEffect=function(e,t){return La.current.useInsertionEffect(e,t)};sr.useLayoutEffect=function(e,t){return La.current.useLayoutEffect(e,t)};sr.useMemo=function(e,t){return La.current.useMemo(e,t)};sr.useReducer=function(e,t,r){return La.current.useReducer(e,t,r)};sr.useRef=function(e){return La.current.useRef(e)};sr.useState=function(e){return La.current.useState(e)};sr.useSyncExternalStore=function(e,t,r){return La.current.useSyncExternalStore(e,t,r)};sr.useTransition=function(){return La.current.useTransition()};sr.version="18.3.1";T8.exports=sr;var v=T8.exports;const z=Pr(v),PP=zee({__proto__:null,default:z},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ate=v,ite=Symbol.for("react.element"),ote=Symbol.for("react.fragment"),lte=Object.prototype.hasOwnProperty,cte=ate.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dte={key:!0,ref:!0,__self:!0,__source:!0};function B8(e,t,r){var s,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)lte.call(t,s)&&!dte.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:ite,type:e,key:i,ref:o,props:a,_owner:cte.current}}Yw.Fragment=ote;Yw.jsx=B8;Yw.jsxs=B8;k8.exports=Yw;var n=k8.exports,U8={exports:{}},Gi={},V8={exports:{}},z8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,O){var K=M.length;M.push(O);e:for(;0<K;){var se=K-1>>>1,R=M[se];if(0<a(R,O))M[se]=O,M[K]=R,K=se;else break e}}function r(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var O=M[0],K=M.pop();if(K!==O){M[0]=K;e:for(var se=0,R=M.length,V=R>>>1;se<V;){var L=2*(se+1)-1,G=M[L],le=L+1,me=M[le];if(0>a(G,K))le<R&&0>a(me,G)?(M[se]=me,M[le]=K,se=le):(M[se]=G,M[L]=K,se=L);else if(le<R&&0>a(me,K))M[se]=me,M[le]=K,se=le;else break e}}return O}function a(M,O){var K=M.sortIndex-O.sortIndex;return K!==0?K:M.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,m=3,h=!1,x=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var O=r(d);O!==null;){if(O.callback===null)s(d);else if(O.startTime<=M)s(d),O.sortIndex=O.expirationTime,t(c,O);else break;O=r(d)}}function b(M){if(p=!1,w(M),!x)if(r(c)!==null)x=!0,T(N);else{var O=r(d);O!==null&&k(b,O.startTime-M)}}function N(M,O){x=!1,p&&(p=!1,j(A),A=-1),h=!0;var K=m;try{for(w(O),f=r(c);f!==null&&(!(f.expirationTime>O)||M&&!D());){var se=f.callback;if(typeof se=="function"){f.callback=null,m=f.priorityLevel;var R=se(f.expirationTime<=O);O=e.unstable_now(),typeof R=="function"?f.callback=R:f===r(c)&&s(c),w(O)}else s(c);f=r(c)}if(f!==null)var V=!0;else{var L=r(d);L!==null&&k(b,L.startTime-O),V=!1}return V}finally{f=null,m=K,h=!1}}var _=!1,S=null,A=-1,E=5,P=-1;function D(){return!(e.unstable_now()-P<E)}function I(){if(S!==null){var M=e.unstable_now();P=M;var O=!0;try{O=S(!0,M)}finally{O?W():(_=!1,S=null)}}else _=!1}var W;if(typeof y=="function")W=function(){y(I)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,F=H.port2;H.port1.onmessage=I,W=function(){F.postMessage(null)}}else W=function(){g(I,0)};function T(M){S=M,_||(_=!0,W())}function k(M,O){A=g(function(){M(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){x||h||(x=!0,T(N))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(m){case 1:case 2:case 3:var O=3;break;default:O=m}var K=m;m=O;try{return M()}finally{m=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,O){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var K=m;m=M;try{return O()}finally{m=K}},e.unstable_scheduleCallback=function(M,O,K){var se=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?se+K:se):K=se,M){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=K+R,M={id:u++,callback:O,priorityLevel:M,startTime:K,expirationTime:R,sortIndex:-1},K>se?(M.sortIndex=K,t(d,M),r(c)===null&&M===r(d)&&(p?(j(A),A=-1):p=!0,k(b,K-se))):(M.sortIndex=R,t(c,M),x||h||(x=!0,T(N))),M},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(M){var O=m;return function(){var K=m;m=O;try{return M.apply(this,arguments)}finally{m=K}}}})(z8);V8.exports=z8;var ute=V8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fte=v,Bi=ute;function Ke(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W8=new Set,qg={};function sm(e,t){Uh(e,t),Uh(e+"Capture",t)}function Uh(e,t){for(qg[e]=t,e=0;e<t.length;e++)W8.add(t[e])}var zc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),CC=Object.prototype.hasOwnProperty,mte=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kD={},TD={};function hte(e){return CC.call(TD,e)?!0:CC.call(kD,e)?!1:mte.test(e)?TD[e]=!0:(kD[e]=!0,!1)}function pte(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xte(e,t,r,s){if(t===null||typeof t>"u"||pte(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ba(e,t,r,s,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Qs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qs[e]=new Ba(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qs[t]=new Ba(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qs[e]=new Ba(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qs[e]=new Ba(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qs[e]=new Ba(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qs[e]=new Ba(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qs[e]=new Ba(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qs[e]=new Ba(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qs[e]=new Ba(e,5,!1,e.toLowerCase(),null,!1,!1)});var kP=/[\-:]([a-z])/g;function TP(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kP,TP);Qs[t]=new Ba(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kP,TP);Qs[t]=new Ba(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kP,TP);Qs[t]=new Ba(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qs[e]=new Ba(e,1,!1,e.toLowerCase(),null,!1,!1)});Qs.xlinkHref=new Ba("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qs[e]=new Ba(e,1,!1,e.toLowerCase(),null,!0,!0)});function OP(e,t,r,s){var a=Qs.hasOwnProperty(t)?Qs[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xte(t,r,a,s)&&(r=null),s||a===null?hte(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var id=fte.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ry=Symbol.for("react.element"),Um=Symbol.for("react.portal"),Vm=Symbol.for("react.fragment"),DP=Symbol.for("react.strict_mode"),AC=Symbol.for("react.profiler"),H8=Symbol.for("react.provider"),q8=Symbol.for("react.context"),IP=Symbol.for("react.forward_ref"),EC=Symbol.for("react.suspense"),PC=Symbol.for("react.suspense_list"),RP=Symbol.for("react.memo"),Sd=Symbol.for("react.lazy"),G8=Symbol.for("react.offscreen"),OD=Symbol.iterator;function Nx(e){return e===null||typeof e!="object"?null:(e=OD&&e[OD]||e["@@iterator"],typeof e=="function"?e:null)}var En=Object.assign,y_;function tg(e){if(y_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);y_=t&&t[1]||""}return`
`+y_+e}var j_=!1;function b_(e,t){if(!e||j_)return"";j_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{j_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?tg(e):""}function gte(e){switch(e.tag){case 5:return tg(e.type);case 16:return tg("Lazy");case 13:return tg("Suspense");case 19:return tg("SuspenseList");case 0:case 2:case 15:return e=b_(e.type,!1),e;case 11:return e=b_(e.type.render,!1),e;case 1:return e=b_(e.type,!0),e;default:return""}}function kC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vm:return"Fragment";case Um:return"Portal";case AC:return"Profiler";case DP:return"StrictMode";case EC:return"Suspense";case PC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q8:return(e.displayName||"Context")+".Consumer";case H8:return(e._context.displayName||"Context")+".Provider";case IP:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case RP:return t=e.displayName||null,t!==null?t:kC(e.type)||"Memo";case Sd:t=e._payload,e=e._init;try{return kC(e(t))}catch{}}return null}function vte(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kC(t);case 8:return t===DP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function K8(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yte(e){var t=K8(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function My(e){e._valueTracker||(e._valueTracker=yte(e))}function Y8(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=K8(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function hb(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function TC(e,t){var r=t.checked;return En({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function DD(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=cu(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function X8(e,t){t=t.checked,t!=null&&OP(e,"checked",t,!1)}function OC(e,t){X8(e,t);var r=cu(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?DC(e,t.type,r):t.hasOwnProperty("defaultValue")&&DC(e,t.type,cu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ID(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function DC(e,t,r){(t!=="number"||hb(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var rg=Array.isArray;function sh(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+cu(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function IC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ke(91));return En({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function RD(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ke(92));if(rg(r)){if(1<r.length)throw Error(Ke(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:cu(r)}}function Q8(e,t){var r=cu(t.value),s=cu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function MD(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Z8(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function RC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Z8(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fy,J8=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fy=Fy||document.createElement("div"),Fy.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fy.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var mg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jte=["Webkit","ms","Moz","O"];Object.keys(mg).forEach(function(e){jte.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mg[t]=mg[e]})});function eB(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||mg.hasOwnProperty(e)&&mg[e]?(""+t).trim():t+"px"}function tB(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=eB(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var bte=En({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function MC(e,t){if(t){if(bte[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ke(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ke(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ke(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ke(62))}}function FC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $C=null;function MP(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var LC=null,ah=null,ih=null;function FD(e){if(e=Pv(e)){if(typeof LC!="function")throw Error(Ke(280));var t=e.stateNode;t&&(t=eN(t),LC(e.stateNode,e.type,t))}}function rB(e){ah?ih?ih.push(e):ih=[e]:ah=e}function nB(){if(ah){var e=ah,t=ih;if(ih=ah=null,FD(e),t)for(e=0;e<t.length;e++)FD(t[e])}}function sB(e,t){return e(t)}function aB(){}var w_=!1;function iB(e,t,r){if(w_)return e(t,r);w_=!0;try{return sB(e,t,r)}finally{w_=!1,(ah!==null||ih!==null)&&(aB(),nB())}}function Kg(e,t){var r=e.stateNode;if(r===null)return null;var s=eN(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ke(231,t,typeof r));return r}var BC=!1;if(zc)try{var _x={};Object.defineProperty(_x,"passive",{get:function(){BC=!0}}),window.addEventListener("test",_x,_x),window.removeEventListener("test",_x,_x)}catch{BC=!1}function wte(e,t,r,s,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var hg=!1,pb=null,xb=!1,UC=null,Nte={onError:function(e){hg=!0,pb=e}};function _te(e,t,r,s,a,i,o,l,c){hg=!1,pb=null,wte.apply(Nte,arguments)}function Ste(e,t,r,s,a,i,o,l,c){if(_te.apply(this,arguments),hg){if(hg){var d=pb;hg=!1,pb=null}else throw Error(Ke(198));xb||(xb=!0,UC=d)}}function am(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function oB(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $D(e){if(am(e)!==e)throw Error(Ke(188))}function Cte(e){var t=e.alternate;if(!t){if(t=am(e),t===null)throw Error(Ke(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return $D(a),e;if(i===s)return $D(a),t;i=i.sibling}throw Error(Ke(188))}if(r.return!==s.return)r=a,s=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,s=i;break}if(l===s){o=!0,s=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,s=a;break}if(l===s){o=!0,s=i,r=a;break}l=l.sibling}if(!o)throw Error(Ke(189))}}if(r.alternate!==s)throw Error(Ke(190))}if(r.tag!==3)throw Error(Ke(188));return r.stateNode.current===r?e:t}function lB(e){return e=Cte(e),e!==null?cB(e):null}function cB(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cB(e);if(t!==null)return t;e=e.sibling}return null}var dB=Bi.unstable_scheduleCallback,LD=Bi.unstable_cancelCallback,Ate=Bi.unstable_shouldYield,Ete=Bi.unstable_requestPaint,Wn=Bi.unstable_now,Pte=Bi.unstable_getCurrentPriorityLevel,FP=Bi.unstable_ImmediatePriority,uB=Bi.unstable_UserBlockingPriority,gb=Bi.unstable_NormalPriority,kte=Bi.unstable_LowPriority,fB=Bi.unstable_IdlePriority,Xw=null,Wl=null;function Tte(e){if(Wl&&typeof Wl.onCommitFiberRoot=="function")try{Wl.onCommitFiberRoot(Xw,e,void 0,(e.current.flags&128)===128)}catch{}}var el=Math.clz32?Math.clz32:Ite,Ote=Math.log,Dte=Math.LN2;function Ite(e){return e>>>=0,e===0?32:31-(Ote(e)/Dte|0)|0}var $y=64,Ly=4194304;function ng(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vb(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?s=ng(l):(i&=o,i!==0&&(s=ng(i)))}else o=r&~a,o!==0?s=ng(o):i!==0&&(s=ng(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-el(t),a=1<<r,s|=e[r],t&=~a;return s}function Rte(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mte(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-el(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&s)&&(a[o]=Rte(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function VC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mB(){var e=$y;return $y<<=1,!($y&4194240)&&($y=64),e}function N_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Av(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-el(t),e[t]=r}function Fte(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-el(r),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~i}}function $P(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-el(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var Mr=0;function hB(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pB,LP,xB,gB,vB,zC=!1,By=[],Xd=null,Qd=null,Zd=null,Yg=new Map,Xg=new Map,Ed=[],$te="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BD(e,t){switch(e){case"focusin":case"focusout":Xd=null;break;case"dragenter":case"dragleave":Qd=null;break;case"mouseover":case"mouseout":Zd=null;break;case"pointerover":case"pointerout":Yg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xg.delete(t.pointerId)}}function Sx(e,t,r,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Pv(t),t!==null&&LP(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Lte(e,t,r,s,a){switch(t){case"focusin":return Xd=Sx(Xd,e,t,r,s,a),!0;case"dragenter":return Qd=Sx(Qd,e,t,r,s,a),!0;case"mouseover":return Zd=Sx(Zd,e,t,r,s,a),!0;case"pointerover":var i=a.pointerId;return Yg.set(i,Sx(Yg.get(i)||null,e,t,r,s,a)),!0;case"gotpointercapture":return i=a.pointerId,Xg.set(i,Sx(Xg.get(i)||null,e,t,r,s,a)),!0}return!1}function yB(e){var t=rf(e.target);if(t!==null){var r=am(t);if(r!==null){if(t=r.tag,t===13){if(t=oB(r),t!==null){e.blockedOn=t,vB(e.priority,function(){xB(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wj(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=WC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);$C=s,r.target.dispatchEvent(s),$C=null}else return t=Pv(r),t!==null&&LP(t),e.blockedOn=r,!1;t.shift()}return!0}function UD(e,t,r){Wj(e)&&r.delete(t)}function Bte(){zC=!1,Xd!==null&&Wj(Xd)&&(Xd=null),Qd!==null&&Wj(Qd)&&(Qd=null),Zd!==null&&Wj(Zd)&&(Zd=null),Yg.forEach(UD),Xg.forEach(UD)}function Cx(e,t){e.blockedOn===t&&(e.blockedOn=null,zC||(zC=!0,Bi.unstable_scheduleCallback(Bi.unstable_NormalPriority,Bte)))}function Qg(e){function t(a){return Cx(a,e)}if(0<By.length){Cx(By[0],e);for(var r=1;r<By.length;r++){var s=By[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Xd!==null&&Cx(Xd,e),Qd!==null&&Cx(Qd,e),Zd!==null&&Cx(Zd,e),Yg.forEach(t),Xg.forEach(t),r=0;r<Ed.length;r++)s=Ed[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Ed.length&&(r=Ed[0],r.blockedOn===null);)yB(r),r.blockedOn===null&&Ed.shift()}var oh=id.ReactCurrentBatchConfig,yb=!0;function Ute(e,t,r,s){var a=Mr,i=oh.transition;oh.transition=null;try{Mr=1,BP(e,t,r,s)}finally{Mr=a,oh.transition=i}}function Vte(e,t,r,s){var a=Mr,i=oh.transition;oh.transition=null;try{Mr=4,BP(e,t,r,s)}finally{Mr=a,oh.transition=i}}function BP(e,t,r,s){if(yb){var a=WC(e,t,r,s);if(a===null)D_(e,t,s,jb,r),BD(e,s);else if(Lte(a,e,t,r,s))s.stopPropagation();else if(BD(e,s),t&4&&-1<$te.indexOf(e)){for(;a!==null;){var i=Pv(a);if(i!==null&&pB(i),i=WC(e,t,r,s),i===null&&D_(e,t,s,jb,r),i===a)break;a=i}a!==null&&s.stopPropagation()}else D_(e,t,s,null,r)}}var jb=null;function WC(e,t,r,s){if(jb=null,e=MP(s),e=rf(e),e!==null)if(t=am(e),t===null)e=null;else if(r=t.tag,r===13){if(e=oB(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jb=e,null}function jB(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pte()){case FP:return 1;case uB:return 4;case gb:case kte:return 16;case fB:return 536870912;default:return 16}default:return 16}}var Ud=null,UP=null,Hj=null;function bB(){if(Hj)return Hj;var e,t=UP,r=t.length,s,a="value"in Ud?Ud.value:Ud.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(s=1;s<=o&&t[r-s]===a[i-s];s++);return Hj=a.slice(e,1<s?1-s:void 0)}function qj(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uy(){return!0}function VD(){return!1}function Ki(e){function t(r,s,a,i,o){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Uy:VD,this.isPropagationStopped=VD,this}return En(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Uy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Uy)},persist:function(){},isPersistent:Uy}),t}var Rp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},VP=Ki(Rp),Ev=En({},Rp,{view:0,detail:0}),zte=Ki(Ev),__,S_,Ax,Qw=En({},Ev,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ax&&(Ax&&e.type==="mousemove"?(__=e.screenX-Ax.screenX,S_=e.screenY-Ax.screenY):S_=__=0,Ax=e),__)},movementY:function(e){return"movementY"in e?e.movementY:S_}}),zD=Ki(Qw),Wte=En({},Qw,{dataTransfer:0}),Hte=Ki(Wte),qte=En({},Ev,{relatedTarget:0}),C_=Ki(qte),Gte=En({},Rp,{animationName:0,elapsedTime:0,pseudoElement:0}),Kte=Ki(Gte),Yte=En({},Rp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xte=Ki(Yte),Qte=En({},Rp,{data:0}),WD=Ki(Qte),Zte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ere={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tre(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ere[e])?!!t[e]:!1}function zP(){return tre}var rre=En({},Ev,{key:function(e){if(e.key){var t=Zte[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qj(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jte[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zP,charCode:function(e){return e.type==="keypress"?qj(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qj(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nre=Ki(rre),sre=En({},Qw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),HD=Ki(sre),are=En({},Ev,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zP}),ire=Ki(are),ore=En({},Rp,{propertyName:0,elapsedTime:0,pseudoElement:0}),lre=Ki(ore),cre=En({},Qw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dre=Ki(cre),ure=[9,13,27,32],WP=zc&&"CompositionEvent"in window,pg=null;zc&&"documentMode"in document&&(pg=document.documentMode);var fre=zc&&"TextEvent"in window&&!pg,wB=zc&&(!WP||pg&&8<pg&&11>=pg),qD=" ",GD=!1;function NB(e,t){switch(e){case"keyup":return ure.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _B(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zm=!1;function mre(e,t){switch(e){case"compositionend":return _B(t);case"keypress":return t.which!==32?null:(GD=!0,qD);case"textInput":return e=t.data,e===qD&&GD?null:e;default:return null}}function hre(e,t){if(zm)return e==="compositionend"||!WP&&NB(e,t)?(e=bB(),Hj=UP=Ud=null,zm=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wB&&t.locale!=="ko"?null:t.data;default:return null}}var pre={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pre[e.type]:t==="textarea"}function SB(e,t,r,s){rB(s),t=bb(t,"onChange"),0<t.length&&(r=new VP("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var xg=null,Zg=null;function xre(e){MB(e,0)}function Zw(e){var t=qm(e);if(Y8(t))return e}function gre(e,t){if(e==="change")return t}var CB=!1;if(zc){var A_;if(zc){var E_="oninput"in document;if(!E_){var YD=document.createElement("div");YD.setAttribute("oninput","return;"),E_=typeof YD.oninput=="function"}A_=E_}else A_=!1;CB=A_&&(!document.documentMode||9<document.documentMode)}function XD(){xg&&(xg.detachEvent("onpropertychange",AB),Zg=xg=null)}function AB(e){if(e.propertyName==="value"&&Zw(Zg)){var t=[];SB(t,Zg,e,MP(e)),iB(xre,t)}}function vre(e,t,r){e==="focusin"?(XD(),xg=t,Zg=r,xg.attachEvent("onpropertychange",AB)):e==="focusout"&&XD()}function yre(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zw(Zg)}function jre(e,t){if(e==="click")return Zw(t)}function bre(e,t){if(e==="input"||e==="change")return Zw(t)}function wre(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ol=typeof Object.is=="function"?Object.is:wre;function Jg(e,t){if(ol(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!CC.call(t,a)||!ol(e[a],t[a]))return!1}return!0}function QD(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ZD(e,t){var r=QD(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=QD(r)}}function EB(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?EB(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function PB(){for(var e=window,t=hb();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=hb(e.document)}return t}function HP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Nre(e){var t=PB(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&EB(r.ownerDocument.documentElement,r)){if(s!==null&&HP(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=ZD(r,i);var o=ZD(r,s);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _re=zc&&"documentMode"in document&&11>=document.documentMode,Wm=null,HC=null,gg=null,qC=!1;function JD(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qC||Wm==null||Wm!==hb(s)||(s=Wm,"selectionStart"in s&&HP(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),gg&&Jg(gg,s)||(gg=s,s=bb(HC,"onSelect"),0<s.length&&(t=new VP("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Wm)))}function Vy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Hm={animationend:Vy("Animation","AnimationEnd"),animationiteration:Vy("Animation","AnimationIteration"),animationstart:Vy("Animation","AnimationStart"),transitionend:Vy("Transition","TransitionEnd")},P_={},kB={};zc&&(kB=document.createElement("div").style,"AnimationEvent"in window||(delete Hm.animationend.animation,delete Hm.animationiteration.animation,delete Hm.animationstart.animation),"TransitionEvent"in window||delete Hm.transitionend.transition);function Jw(e){if(P_[e])return P_[e];if(!Hm[e])return e;var t=Hm[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in kB)return P_[e]=t[r];return e}var TB=Jw("animationend"),OB=Jw("animationiteration"),DB=Jw("animationstart"),IB=Jw("transitionend"),RB=new Map,e5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _u(e,t){RB.set(e,t),sm(t,[e])}for(var k_=0;k_<e5.length;k_++){var T_=e5[k_],Sre=T_.toLowerCase(),Cre=T_[0].toUpperCase()+T_.slice(1);_u(Sre,"on"+Cre)}_u(TB,"onAnimationEnd");_u(OB,"onAnimationIteration");_u(DB,"onAnimationStart");_u("dblclick","onDoubleClick");_u("focusin","onFocus");_u("focusout","onBlur");_u(IB,"onTransitionEnd");Uh("onMouseEnter",["mouseout","mouseover"]);Uh("onMouseLeave",["mouseout","mouseover"]);Uh("onPointerEnter",["pointerout","pointerover"]);Uh("onPointerLeave",["pointerout","pointerover"]);sm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sm("onBeforeInput",["compositionend","keypress","textInput","paste"]);sm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Are=new Set("cancel close invalid load scroll toggle".split(" ").concat(sg));function t5(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Ste(s,t,void 0,e),e.currentTarget=null}function MB(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;t5(a,l,d),i=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;t5(a,l,d),i=c}}}if(xb)throw e=UC,xb=!1,UC=null,e}function nn(e,t){var r=t[QC];r===void 0&&(r=t[QC]=new Set);var s=e+"__bubble";r.has(s)||(FB(t,e,2,!1),r.add(s))}function O_(e,t,r){var s=0;t&&(s|=4),FB(r,e,s,t)}var zy="_reactListening"+Math.random().toString(36).slice(2);function e0(e){if(!e[zy]){e[zy]=!0,W8.forEach(function(r){r!=="selectionchange"&&(Are.has(r)||O_(r,!1,e),O_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zy]||(t[zy]=!0,O_("selectionchange",!1,t))}}function FB(e,t,r,s){switch(jB(t)){case 1:var a=Ute;break;case 4:a=Vte;break;default:a=BP}r=a.bind(null,t,r,e),a=void 0,!BC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function D_(e,t,r,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=rf(l),o===null)return;if(c=o.tag,c===5||c===6){s=i=o;continue e}l=l.parentNode}}s=s.return}iB(function(){var d=i,u=MP(r),f=[];e:{var m=RB.get(e);if(m!==void 0){var h=VP,x=e;switch(e){case"keypress":if(qj(r)===0)break e;case"keydown":case"keyup":h=nre;break;case"focusin":x="focus",h=C_;break;case"focusout":x="blur",h=C_;break;case"beforeblur":case"afterblur":h=C_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=zD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Hte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=ire;break;case TB:case OB:case DB:h=Kte;break;case IB:h=lre;break;case"scroll":h=zte;break;case"wheel":h=dre;break;case"copy":case"cut":case"paste":h=Xte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=HD}var p=(t&4)!==0,g=!p&&e==="scroll",j=p?m!==null?m+"Capture":null:m;p=[];for(var y=d,w;y!==null;){w=y;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,j!==null&&(b=Kg(y,j),b!=null&&p.push(t0(y,b,w)))),g)break;y=y.return}0<p.length&&(m=new h(m,x,null,r,u),f.push({event:m,listeners:p}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&r!==$C&&(x=r.relatedTarget||r.fromElement)&&(rf(x)||x[Wc]))break e;if((h||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,h?(x=r.relatedTarget||r.toElement,h=d,x=x?rf(x):null,x!==null&&(g=am(x),x!==g||x.tag!==5&&x.tag!==6)&&(x=null)):(h=null,x=d),h!==x)){if(p=zD,b="onMouseLeave",j="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=HD,b="onPointerLeave",j="onPointerEnter",y="pointer"),g=h==null?m:qm(h),w=x==null?m:qm(x),m=new p(b,y+"leave",h,r,u),m.target=g,m.relatedTarget=w,b=null,rf(u)===d&&(p=new p(j,y+"enter",x,r,u),p.target=w,p.relatedTarget=g,b=p),g=b,h&&x)t:{for(p=h,j=x,y=0,w=p;w;w=wm(w))y++;for(w=0,b=j;b;b=wm(b))w++;for(;0<y-w;)p=wm(p),y--;for(;0<w-y;)j=wm(j),w--;for(;y--;){if(p===j||j!==null&&p===j.alternate)break t;p=wm(p),j=wm(j)}p=null}else p=null;h!==null&&r5(f,m,h,p,!1),x!==null&&g!==null&&r5(f,g,x,p,!0)}}e:{if(m=d?qm(d):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var N=gre;else if(KD(m))if(CB)N=bre;else{N=yre;var _=vre}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=jre);if(N&&(N=N(e,d))){SB(f,N,r,u);break e}_&&_(e,m,d),e==="focusout"&&(_=m._wrapperState)&&_.controlled&&m.type==="number"&&DC(m,"number",m.value)}switch(_=d?qm(d):window,e){case"focusin":(KD(_)||_.contentEditable==="true")&&(Wm=_,HC=d,gg=null);break;case"focusout":gg=HC=Wm=null;break;case"mousedown":qC=!0;break;case"contextmenu":case"mouseup":case"dragend":qC=!1,JD(f,r,u);break;case"selectionchange":if(_re)break;case"keydown":case"keyup":JD(f,r,u)}var S;if(WP)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else zm?NB(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(wB&&r.locale!=="ko"&&(zm||A!=="onCompositionStart"?A==="onCompositionEnd"&&zm&&(S=bB()):(Ud=u,UP="value"in Ud?Ud.value:Ud.textContent,zm=!0)),_=bb(d,A),0<_.length&&(A=new WD(A,e,null,r,u),f.push({event:A,listeners:_}),S?A.data=S:(S=_B(r),S!==null&&(A.data=S)))),(S=fre?mre(e,r):hre(e,r))&&(d=bb(d,"onBeforeInput"),0<d.length&&(u=new WD("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=S))}MB(f,t)})}function t0(e,t,r){return{instance:e,listener:t,currentTarget:r}}function bb(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Kg(e,r),i!=null&&s.unshift(t0(e,i,a)),i=Kg(e,t),i!=null&&s.push(t0(e,i,a))),e=e.return}return s}function wm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function r5(e,t,r,s,a){for(var i=t._reactName,o=[];r!==null&&r!==s;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&d!==null&&(l=d,a?(c=Kg(r,i),c!=null&&o.unshift(t0(r,c,l))):a||(c=Kg(r,i),c!=null&&o.push(t0(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Ere=/\r\n?/g,Pre=/\u0000|\uFFFD/g;function n5(e){return(typeof e=="string"?e:""+e).replace(Ere,`
`).replace(Pre,"")}function Wy(e,t,r){if(t=n5(t),n5(e)!==t&&r)throw Error(Ke(425))}function wb(){}var GC=null,KC=null;function YC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var XC=typeof setTimeout=="function"?setTimeout:void 0,kre=typeof clearTimeout=="function"?clearTimeout:void 0,s5=typeof Promise=="function"?Promise:void 0,Tre=typeof queueMicrotask=="function"?queueMicrotask:typeof s5<"u"?function(e){return s5.resolve(null).then(e).catch(Ore)}:XC;function Ore(e){setTimeout(function(){throw e})}function I_(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),Qg(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);Qg(t)}function Jd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function a5(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Mp=Math.random().toString(36).slice(2),Fl="__reactFiber$"+Mp,r0="__reactProps$"+Mp,Wc="__reactContainer$"+Mp,QC="__reactEvents$"+Mp,Dre="__reactListeners$"+Mp,Ire="__reactHandles$"+Mp;function rf(e){var t=e[Fl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Wc]||r[Fl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=a5(e);e!==null;){if(r=e[Fl])return r;e=a5(e)}return t}e=r,r=e.parentNode}return null}function Pv(e){return e=e[Fl]||e[Wc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qm(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ke(33))}function eN(e){return e[r0]||null}var ZC=[],Gm=-1;function Su(e){return{current:e}}function cn(e){0>Gm||(e.current=ZC[Gm],ZC[Gm]=null,Gm--)}function Xr(e,t){Gm++,ZC[Gm]=e.current,e.current=t}var du={},pa=Su(du),Ja=Su(!1),Of=du;function Vh(e,t){var r=e.type.contextTypes;if(!r)return du;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ei(e){return e=e.childContextTypes,e!=null}function Nb(){cn(Ja),cn(pa)}function i5(e,t,r){if(pa.current!==du)throw Error(Ke(168));Xr(pa,t),Xr(Ja,r)}function $B(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(Ke(108,vte(e)||"Unknown",a));return En({},r,s)}function _b(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||du,Of=pa.current,Xr(pa,e),Xr(Ja,Ja.current),!0}function o5(e,t,r){var s=e.stateNode;if(!s)throw Error(Ke(169));r?(e=$B(e,t,Of),s.__reactInternalMemoizedMergedChildContext=e,cn(Ja),cn(pa),Xr(pa,e)):cn(Ja),Xr(Ja,r)}var Nc=null,tN=!1,R_=!1;function LB(e){Nc===null?Nc=[e]:Nc.push(e)}function Rre(e){tN=!0,LB(e)}function Cu(){if(!R_&&Nc!==null){R_=!0;var e=0,t=Mr;try{var r=Nc;for(Mr=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Nc=null,tN=!1}catch(a){throw Nc!==null&&(Nc=Nc.slice(e+1)),dB(FP,Cu),a}finally{Mr=t,R_=!1}}return null}var Km=[],Ym=0,Sb=null,Cb=0,co=[],uo=0,Df=null,Cc=1,Ac="";function Wu(e,t){Km[Ym++]=Cb,Km[Ym++]=Sb,Sb=e,Cb=t}function BB(e,t,r){co[uo++]=Cc,co[uo++]=Ac,co[uo++]=Df,Df=e;var s=Cc;e=Ac;var a=32-el(s)-1;s&=~(1<<a),r+=1;var i=32-el(t)+a;if(30<i){var o=a-a%5;i=(s&(1<<o)-1).toString(32),s>>=o,a-=o,Cc=1<<32-el(t)+a|r<<a|s,Ac=i+e}else Cc=1<<i|r<<a|s,Ac=e}function qP(e){e.return!==null&&(Wu(e,1),BB(e,1,0))}function GP(e){for(;e===Sb;)Sb=Km[--Ym],Km[Ym]=null,Cb=Km[--Ym],Km[Ym]=null;for(;e===Df;)Df=co[--uo],co[uo]=null,Ac=co[--uo],co[uo]=null,Cc=co[--uo],co[uo]=null}var Di=null,Ti=null,hn=!1,Wo=null;function UB(e,t){var r=mo(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function l5(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Di=e,Ti=Jd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Di=e,Ti=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Df!==null?{id:Cc,overflow:Ac}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=mo(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Di=e,Ti=null,!0):!1;default:return!1}}function JC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function e4(e){if(hn){var t=Ti;if(t){var r=t;if(!l5(e,t)){if(JC(e))throw Error(Ke(418));t=Jd(r.nextSibling);var s=Di;t&&l5(e,t)?UB(s,r):(e.flags=e.flags&-4097|2,hn=!1,Di=e)}}else{if(JC(e))throw Error(Ke(418));e.flags=e.flags&-4097|2,hn=!1,Di=e}}}function c5(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Di=e}function Hy(e){if(e!==Di)return!1;if(!hn)return c5(e),hn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!YC(e.type,e.memoizedProps)),t&&(t=Ti)){if(JC(e))throw VB(),Error(Ke(418));for(;t;)UB(e,t),t=Jd(t.nextSibling)}if(c5(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ke(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ti=Jd(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ti=null}}else Ti=Di?Jd(e.stateNode.nextSibling):null;return!0}function VB(){for(var e=Ti;e;)e=Jd(e.nextSibling)}function zh(){Ti=Di=null,hn=!1}function KP(e){Wo===null?Wo=[e]:Wo.push(e)}var Mre=id.ReactCurrentBatchConfig;function Ex(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ke(309));var s=r.stateNode}if(!s)throw Error(Ke(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ke(284));if(!r._owner)throw Error(Ke(290,e))}return e}function qy(e,t){throw e=Object.prototype.toString.call(t),Error(Ke(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function d5(e){var t=e._init;return t(e._payload)}function zB(e){function t(j,y){if(e){var w=j.deletions;w===null?(j.deletions=[y],j.flags|=16):w.push(y)}}function r(j,y){if(!e)return null;for(;y!==null;)t(j,y),y=y.sibling;return null}function s(j,y){for(j=new Map;y!==null;)y.key!==null?j.set(y.key,y):j.set(y.index,y),y=y.sibling;return j}function a(j,y){return j=nu(j,y),j.index=0,j.sibling=null,j}function i(j,y,w){return j.index=w,e?(w=j.alternate,w!==null?(w=w.index,w<y?(j.flags|=2,y):w):(j.flags|=2,y)):(j.flags|=1048576,y)}function o(j){return e&&j.alternate===null&&(j.flags|=2),j}function l(j,y,w,b){return y===null||y.tag!==6?(y=V_(w,j.mode,b),y.return=j,y):(y=a(y,w),y.return=j,y)}function c(j,y,w,b){var N=w.type;return N===Vm?u(j,y,w.props.children,b,w.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Sd&&d5(N)===y.type)?(b=a(y,w.props),b.ref=Ex(j,y,w),b.return=j,b):(b=Jj(w.type,w.key,w.props,null,j.mode,b),b.ref=Ex(j,y,w),b.return=j,b)}function d(j,y,w,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=z_(w,j.mode,b),y.return=j,y):(y=a(y,w.children||[]),y.return=j,y)}function u(j,y,w,b,N){return y===null||y.tag!==7?(y=_f(w,j.mode,b,N),y.return=j,y):(y=a(y,w),y.return=j,y)}function f(j,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=V_(""+y,j.mode,w),y.return=j,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ry:return w=Jj(y.type,y.key,y.props,null,j.mode,w),w.ref=Ex(j,null,y),w.return=j,w;case Um:return y=z_(y,j.mode,w),y.return=j,y;case Sd:var b=y._init;return f(j,b(y._payload),w)}if(rg(y)||Nx(y))return y=_f(y,j.mode,w,null),y.return=j,y;qy(j,y)}return null}function m(j,y,w,b){var N=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(j,y,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ry:return w.key===N?c(j,y,w,b):null;case Um:return w.key===N?d(j,y,w,b):null;case Sd:return N=w._init,m(j,y,N(w._payload),b)}if(rg(w)||Nx(w))return N!==null?null:u(j,y,w,b,null);qy(j,w)}return null}function h(j,y,w,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return j=j.get(w)||null,l(y,j,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ry:return j=j.get(b.key===null?w:b.key)||null,c(y,j,b,N);case Um:return j=j.get(b.key===null?w:b.key)||null,d(y,j,b,N);case Sd:var _=b._init;return h(j,y,w,_(b._payload),N)}if(rg(b)||Nx(b))return j=j.get(w)||null,u(y,j,b,N,null);qy(y,b)}return null}function x(j,y,w,b){for(var N=null,_=null,S=y,A=y=0,E=null;S!==null&&A<w.length;A++){S.index>A?(E=S,S=null):E=S.sibling;var P=m(j,S,w[A],b);if(P===null){S===null&&(S=E);break}e&&S&&P.alternate===null&&t(j,S),y=i(P,y,A),_===null?N=P:_.sibling=P,_=P,S=E}if(A===w.length)return r(j,S),hn&&Wu(j,A),N;if(S===null){for(;A<w.length;A++)S=f(j,w[A],b),S!==null&&(y=i(S,y,A),_===null?N=S:_.sibling=S,_=S);return hn&&Wu(j,A),N}for(S=s(j,S);A<w.length;A++)E=h(S,j,A,w[A],b),E!==null&&(e&&E.alternate!==null&&S.delete(E.key===null?A:E.key),y=i(E,y,A),_===null?N=E:_.sibling=E,_=E);return e&&S.forEach(function(D){return t(j,D)}),hn&&Wu(j,A),N}function p(j,y,w,b){var N=Nx(w);if(typeof N!="function")throw Error(Ke(150));if(w=N.call(w),w==null)throw Error(Ke(151));for(var _=N=null,S=y,A=y=0,E=null,P=w.next();S!==null&&!P.done;A++,P=w.next()){S.index>A?(E=S,S=null):E=S.sibling;var D=m(j,S,P.value,b);if(D===null){S===null&&(S=E);break}e&&S&&D.alternate===null&&t(j,S),y=i(D,y,A),_===null?N=D:_.sibling=D,_=D,S=E}if(P.done)return r(j,S),hn&&Wu(j,A),N;if(S===null){for(;!P.done;A++,P=w.next())P=f(j,P.value,b),P!==null&&(y=i(P,y,A),_===null?N=P:_.sibling=P,_=P);return hn&&Wu(j,A),N}for(S=s(j,S);!P.done;A++,P=w.next())P=h(S,j,A,P.value,b),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?A:P.key),y=i(P,y,A),_===null?N=P:_.sibling=P,_=P);return e&&S.forEach(function(I){return t(j,I)}),hn&&Wu(j,A),N}function g(j,y,w,b){if(typeof w=="object"&&w!==null&&w.type===Vm&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ry:e:{for(var N=w.key,_=y;_!==null;){if(_.key===N){if(N=w.type,N===Vm){if(_.tag===7){r(j,_.sibling),y=a(_,w.props.children),y.return=j,j=y;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Sd&&d5(N)===_.type){r(j,_.sibling),y=a(_,w.props),y.ref=Ex(j,_,w),y.return=j,j=y;break e}r(j,_);break}else t(j,_);_=_.sibling}w.type===Vm?(y=_f(w.props.children,j.mode,b,w.key),y.return=j,j=y):(b=Jj(w.type,w.key,w.props,null,j.mode,b),b.ref=Ex(j,y,w),b.return=j,j=b)}return o(j);case Um:e:{for(_=w.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(j,y.sibling),y=a(y,w.children||[]),y.return=j,j=y;break e}else{r(j,y);break}else t(j,y);y=y.sibling}y=z_(w,j.mode,b),y.return=j,j=y}return o(j);case Sd:return _=w._init,g(j,y,_(w._payload),b)}if(rg(w))return x(j,y,w,b);if(Nx(w))return p(j,y,w,b);qy(j,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(j,y.sibling),y=a(y,w),y.return=j,j=y):(r(j,y),y=V_(w,j.mode,b),y.return=j,j=y),o(j)):r(j,y)}return g}var Wh=zB(!0),WB=zB(!1),Ab=Su(null),Eb=null,Xm=null,YP=null;function XP(){YP=Xm=Eb=null}function QP(e){var t=Ab.current;cn(Ab),e._currentValue=t}function t4(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function lh(e,t){Eb=e,YP=Xm=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xa=!0),e.firstContext=null)}function wo(e){var t=e._currentValue;if(YP!==e)if(e={context:e,memoizedValue:t,next:null},Xm===null){if(Eb===null)throw Error(Ke(308));Xm=e,Eb.dependencies={lanes:0,firstContext:e}}else Xm=Xm.next=e;return t}var nf=null;function ZP(e){nf===null?nf=[e]:nf.push(e)}function HB(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,ZP(t)):(r.next=a.next,a.next=r),t.interleaved=r,Hc(e,s)}function Hc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Cd=!1;function JP(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qB(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function eu(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,pr&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Hc(e,r)}return a=s.interleaved,a===null?(t.next=t,ZP(s)):(t.next=a.next,a.next=t),s.interleaved=t,Hc(e,r)}function Gj(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,$P(e,r)}}function u5(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Pb(e,t,r,s){var a=e.updateQueue;Cd=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,h=l.eventTime;if((s&m)===m){u!==null&&(u=u.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,p=l;switch(m=t,h=r,p.tag){case 1:if(x=p.payload,typeof x=="function"){f=x.call(h,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=p.payload,m=typeof x=="function"?x.call(h,f,m):x,m==null)break e;f=En({},f,m);break e;case 2:Cd=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=h,c=f):u=u.next=h,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Rf|=o,e.lanes=o,e.memoizedState=f}}function f5(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(Ke(191,a));a.call(s)}}}var kv={},Hl=Su(kv),n0=Su(kv),s0=Su(kv);function sf(e){if(e===kv)throw Error(Ke(174));return e}function ek(e,t){switch(Xr(s0,t),Xr(n0,e),Xr(Hl,kv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:RC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=RC(t,e)}cn(Hl),Xr(Hl,t)}function Hh(){cn(Hl),cn(n0),cn(s0)}function GB(e){sf(s0.current);var t=sf(Hl.current),r=RC(t,e.type);t!==r&&(Xr(n0,e),Xr(Hl,r))}function tk(e){n0.current===e&&(cn(Hl),cn(n0))}var Nn=Su(0);function kb(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var M_=[];function rk(){for(var e=0;e<M_.length;e++)M_[e]._workInProgressVersionPrimary=null;M_.length=0}var Kj=id.ReactCurrentDispatcher,F_=id.ReactCurrentBatchConfig,If=0,Cn=null,hs=null,Cs=null,Tb=!1,vg=!1,a0=0,Fre=0;function ra(){throw Error(Ke(321))}function nk(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ol(e[r],t[r]))return!1;return!0}function sk(e,t,r,s,a,i){if(If=i,Cn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Kj.current=e===null||e.memoizedState===null?Ure:Vre,e=r(s,a),vg){i=0;do{if(vg=!1,a0=0,25<=i)throw Error(Ke(301));i+=1,Cs=hs=null,t.updateQueue=null,Kj.current=zre,e=r(s,a)}while(vg)}if(Kj.current=Ob,t=hs!==null&&hs.next!==null,If=0,Cs=hs=Cn=null,Tb=!1,t)throw Error(Ke(300));return e}function ak(){var e=a0!==0;return a0=0,e}function El(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cs===null?Cn.memoizedState=Cs=e:Cs=Cs.next=e,Cs}function No(){if(hs===null){var e=Cn.alternate;e=e!==null?e.memoizedState:null}else e=hs.next;var t=Cs===null?Cn.memoizedState:Cs.next;if(t!==null)Cs=t,hs=e;else{if(e===null)throw Error(Ke(310));hs=e,e={memoizedState:hs.memoizedState,baseState:hs.baseState,baseQueue:hs.baseQueue,queue:hs.queue,next:null},Cs===null?Cn.memoizedState=Cs=e:Cs=Cs.next=e}return Cs}function i0(e,t){return typeof t=="function"?t(e):t}function $_(e){var t=No(),r=t.queue;if(r===null)throw Error(Ke(311));r.lastRenderedReducer=e;var s=hs,a=s.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}s.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,s=s.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((If&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=s):c=c.next=f,Cn.lanes|=u,Rf|=u}d=d.next}while(d!==null&&d!==i);c===null?o=s:c.next=l,ol(s,t.memoizedState)||(Xa=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Cn.lanes|=i,Rf|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function L_(e){var t=No(),r=t.queue;if(r===null)throw Error(Ke(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);ol(i,t.memoizedState)||(Xa=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function KB(){}function YB(e,t){var r=Cn,s=No(),a=t(),i=!ol(s.memoizedState,a);if(i&&(s.memoizedState=a,Xa=!0),s=s.queue,ik(ZB.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||Cs!==null&&Cs.memoizedState.tag&1){if(r.flags|=2048,o0(9,QB.bind(null,r,s,a,t),void 0,null),Ts===null)throw Error(Ke(349));If&30||XB(r,t,a)}return a}function XB(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Cn.updateQueue,t===null?(t={lastEffect:null,stores:null},Cn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function QB(e,t,r,s){t.value=r,t.getSnapshot=s,JB(t)&&e9(e)}function ZB(e,t,r){return r(function(){JB(t)&&e9(e)})}function JB(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ol(e,r)}catch{return!0}}function e9(e){var t=Hc(e,1);t!==null&&tl(t,e,1,-1)}function m5(e){var t=El();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i0,lastRenderedState:e},t.queue=e,e=e.dispatch=Bre.bind(null,Cn,e),[t.memoizedState,e]}function o0(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Cn.updateQueue,t===null?(t={lastEffect:null,stores:null},Cn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function t9(){return No().memoizedState}function Yj(e,t,r,s){var a=El();Cn.flags|=e,a.memoizedState=o0(1|t,r,void 0,s===void 0?null:s)}function rN(e,t,r,s){var a=No();s=s===void 0?null:s;var i=void 0;if(hs!==null){var o=hs.memoizedState;if(i=o.destroy,s!==null&&nk(s,o.deps)){a.memoizedState=o0(t,r,i,s);return}}Cn.flags|=e,a.memoizedState=o0(1|t,r,i,s)}function h5(e,t){return Yj(8390656,8,e,t)}function ik(e,t){return rN(2048,8,e,t)}function r9(e,t){return rN(4,2,e,t)}function n9(e,t){return rN(4,4,e,t)}function s9(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function a9(e,t,r){return r=r!=null?r.concat([e]):null,rN(4,4,s9.bind(null,t,e),r)}function ok(){}function i9(e,t){var r=No();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&nk(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function o9(e,t){var r=No();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&nk(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function l9(e,t,r){return If&21?(ol(r,t)||(r=mB(),Cn.lanes|=r,Rf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xa=!0),e.memoizedState=r)}function $re(e,t){var r=Mr;Mr=r!==0&&4>r?r:4,e(!0);var s=F_.transition;F_.transition={};try{e(!1),t()}finally{Mr=r,F_.transition=s}}function c9(){return No().memoizedState}function Lre(e,t,r){var s=ru(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},d9(e))u9(t,r);else if(r=HB(e,t,r,s),r!==null){var a=Oa();tl(r,e,s,a),f9(r,t,s)}}function Bre(e,t,r){var s=ru(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(d9(e))u9(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,ol(l,o)){var c=t.interleaved;c===null?(a.next=a,ZP(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=HB(e,t,a,s),r!==null&&(a=Oa(),tl(r,e,s,a),f9(r,t,s))}}function d9(e){var t=e.alternate;return e===Cn||t!==null&&t===Cn}function u9(e,t){vg=Tb=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function f9(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,$P(e,r)}}var Ob={readContext:wo,useCallback:ra,useContext:ra,useEffect:ra,useImperativeHandle:ra,useInsertionEffect:ra,useLayoutEffect:ra,useMemo:ra,useReducer:ra,useRef:ra,useState:ra,useDebugValue:ra,useDeferredValue:ra,useTransition:ra,useMutableSource:ra,useSyncExternalStore:ra,useId:ra,unstable_isNewReconciler:!1},Ure={readContext:wo,useCallback:function(e,t){return El().memoizedState=[e,t===void 0?null:t],e},useContext:wo,useEffect:h5,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Yj(4194308,4,s9.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Yj(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yj(4,2,e,t)},useMemo:function(e,t){var r=El();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=El();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Lre.bind(null,Cn,e),[s.memoizedState,e]},useRef:function(e){var t=El();return e={current:e},t.memoizedState=e},useState:m5,useDebugValue:ok,useDeferredValue:function(e){return El().memoizedState=e},useTransition:function(){var e=m5(!1),t=e[0];return e=$re.bind(null,e[1]),El().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Cn,a=El();if(hn){if(r===void 0)throw Error(Ke(407));r=r()}else{if(r=t(),Ts===null)throw Error(Ke(349));If&30||XB(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,h5(ZB.bind(null,s,i,e),[e]),s.flags|=2048,o0(9,QB.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=El(),t=Ts.identifierPrefix;if(hn){var r=Ac,s=Cc;r=(s&~(1<<32-el(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=a0++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Fre++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vre={readContext:wo,useCallback:i9,useContext:wo,useEffect:ik,useImperativeHandle:a9,useInsertionEffect:r9,useLayoutEffect:n9,useMemo:o9,useReducer:$_,useRef:t9,useState:function(){return $_(i0)},useDebugValue:ok,useDeferredValue:function(e){var t=No();return l9(t,hs.memoizedState,e)},useTransition:function(){var e=$_(i0)[0],t=No().memoizedState;return[e,t]},useMutableSource:KB,useSyncExternalStore:YB,useId:c9,unstable_isNewReconciler:!1},zre={readContext:wo,useCallback:i9,useContext:wo,useEffect:ik,useImperativeHandle:a9,useInsertionEffect:r9,useLayoutEffect:n9,useMemo:o9,useReducer:L_,useRef:t9,useState:function(){return L_(i0)},useDebugValue:ok,useDeferredValue:function(e){var t=No();return hs===null?t.memoizedState=e:l9(t,hs.memoizedState,e)},useTransition:function(){var e=L_(i0)[0],t=No().memoizedState;return[e,t]},useMutableSource:KB,useSyncExternalStore:YB,useId:c9,unstable_isNewReconciler:!1};function Lo(e,t){if(e&&e.defaultProps){t=En({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function r4(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:En({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var nN={isMounted:function(e){return(e=e._reactInternals)?am(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Oa(),a=ru(e),i=Dc(s,a);i.payload=t,r!=null&&(i.callback=r),t=eu(e,i,a),t!==null&&(tl(t,e,a,s),Gj(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Oa(),a=ru(e),i=Dc(s,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=eu(e,i,a),t!==null&&(tl(t,e,a,s),Gj(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Oa(),s=ru(e),a=Dc(r,s);a.tag=2,t!=null&&(a.callback=t),t=eu(e,a,s),t!==null&&(tl(t,e,s,r),Gj(t,e,s))}};function p5(e,t,r,s,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,o):t.prototype&&t.prototype.isPureReactComponent?!Jg(r,s)||!Jg(a,i):!0}function m9(e,t,r){var s=!1,a=du,i=t.contextType;return typeof i=="object"&&i!==null?i=wo(i):(a=ei(t)?Of:pa.current,s=t.contextTypes,i=(s=s!=null)?Vh(e,a):du),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nN,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function x5(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&nN.enqueueReplaceState(t,t.state,null)}function n4(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},JP(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=wo(i):(i=ei(t)?Of:pa.current,a.context=Vh(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(r4(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&nN.enqueueReplaceState(a,a.state,null),Pb(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function qh(e,t){try{var r="",s=t;do r+=gte(s),s=s.return;while(s);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function B_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function s4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Wre=typeof WeakMap=="function"?WeakMap:Map;function h9(e,t,r){r=Dc(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Ib||(Ib=!0,h4=s),s4(e,t)},r}function p9(e,t,r){r=Dc(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){s4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){s4(e,t),typeof s!="function"&&(tu===null?tu=new Set([this]):tu.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function g5(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Wre;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=sne.bind(null,e,t,r),t.then(e,e))}function v5(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function y5(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Dc(-1,1),t.tag=2,eu(r,t,1))),r.lanes|=1),e)}var Hre=id.ReactCurrentOwner,Xa=!1;function Sa(e,t,r,s){t.child=e===null?WB(t,null,r,s):Wh(t,e.child,r,s)}function j5(e,t,r,s,a){r=r.render;var i=t.ref;return lh(t,a),s=sk(e,t,r,s,i,a),r=ak(),e!==null&&!Xa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qc(e,t,a)):(hn&&r&&qP(t),t.flags|=1,Sa(e,t,s,a),t.child)}function b5(e,t,r,s,a){if(e===null){var i=r.type;return typeof i=="function"&&!pk(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,x9(e,t,i,s,a)):(e=Jj(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Jg,r(o,s)&&e.ref===t.ref)return qc(e,t,a)}return t.flags|=1,e=nu(i,s),e.ref=t.ref,e.return=t,t.child=e}function x9(e,t,r,s,a){if(e!==null){var i=e.memoizedProps;if(Jg(i,s)&&e.ref===t.ref)if(Xa=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(Xa=!0);else return t.lanes=e.lanes,qc(e,t,a)}return a4(e,t,r,s,a)}function g9(e,t,r){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xr(Zm,_i),_i|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xr(Zm,_i),_i|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,Xr(Zm,_i),_i|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,Xr(Zm,_i),_i|=s;return Sa(e,t,a,r),t.child}function v9(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function a4(e,t,r,s,a){var i=ei(r)?Of:pa.current;return i=Vh(t,i),lh(t,a),r=sk(e,t,r,s,i,a),s=ak(),e!==null&&!Xa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qc(e,t,a)):(hn&&s&&qP(t),t.flags|=1,Sa(e,t,r,a),t.child)}function w5(e,t,r,s,a){if(ei(r)){var i=!0;_b(t)}else i=!1;if(lh(t,a),t.stateNode===null)Xj(e,t),m9(t,r,s),n4(t,r,s,a),s=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=wo(d):(d=ei(r)?Of:pa.current,d=Vh(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==d)&&x5(t,o,s,d),Cd=!1;var m=t.memoizedState;o.state=m,Pb(t,s,o,a),c=t.memoizedState,l!==s||m!==c||Ja.current||Cd?(typeof u=="function"&&(r4(t,r,u,s),c=t.memoizedState),(l=Cd||p5(t,r,l,s,m,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=d,s=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,qB(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Lo(t.type,l),o.props=d,f=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=wo(c):(c=ei(r)?Of:pa.current,c=Vh(t,c));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&x5(t,o,s,c),Cd=!1,m=t.memoizedState,o.state=m,Pb(t,s,o,a);var x=t.memoizedState;l!==f||m!==x||Ja.current||Cd?(typeof h=="function"&&(r4(t,r,h,s),x=t.memoizedState),(d=Cd||p5(t,r,d,s,m,x,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),o.props=s,o.state=x,o.context=c,s=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return i4(e,t,r,s,i,a)}function i4(e,t,r,s,a,i){v9(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return a&&o5(t,r,!1),qc(e,t,i);s=t.stateNode,Hre.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Wh(t,e.child,null,i),t.child=Wh(t,null,l,i)):Sa(e,t,l,i),t.memoizedState=s.state,a&&o5(t,r,!0),t.child}function y9(e){var t=e.stateNode;t.pendingContext?i5(e,t.pendingContext,t.pendingContext!==t.context):t.context&&i5(e,t.context,!1),ek(e,t.containerInfo)}function N5(e,t,r,s,a){return zh(),KP(a),t.flags|=256,Sa(e,t,r,s),t.child}var o4={dehydrated:null,treeContext:null,retryLane:0};function l4(e){return{baseLanes:e,cachePool:null,transitions:null}}function j9(e,t,r){var s=t.pendingProps,a=Nn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Xr(Nn,a&1),e===null)return e4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=iN(o,s,0,null),e=_f(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=l4(r),t.memoizedState=o4,e):lk(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return qre(e,t,o,s,l,a,r);if(i){i=s.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=nu(a,c),s.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=nu(l,i):(i=_f(i,o,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=e.child.memoizedState,o=o===null?l4(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=o4,s}return i=e.child,e=i.sibling,s=nu(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function lk(e,t){return t=iN({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gy(e,t,r,s){return s!==null&&KP(s),Wh(t,e.child,null,r),e=lk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qre(e,t,r,s,a,i,o){if(r)return t.flags&256?(t.flags&=-257,s=B_(Error(Ke(422))),Gy(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=iN({mode:"visible",children:s.children},a,0,null),i=_f(i,a,o,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&Wh(t,e.child,null,o),t.child.memoizedState=l4(o),t.memoizedState=o4,i);if(!(t.mode&1))return Gy(e,t,o,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(Ke(419)),s=B_(i,s,void 0),Gy(e,t,o,s)}if(l=(o&e.childLanes)!==0,Xa||l){if(s=Ts,s!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Hc(e,a),tl(s,e,a,-1))}return hk(),s=B_(Error(Ke(421))),Gy(e,t,o,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=ane.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ti=Jd(a.nextSibling),Di=t,hn=!0,Wo=null,e!==null&&(co[uo++]=Cc,co[uo++]=Ac,co[uo++]=Df,Cc=e.id,Ac=e.overflow,Df=t),t=lk(t,s.children),t.flags|=4096,t)}function _5(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),t4(e.return,t,r)}function U_(e,t,r,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=a)}function b9(e,t,r){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Sa(e,t,s.children,r),s=Nn.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_5(e,r,t);else if(e.tag===19)_5(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Xr(Nn,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&kb(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),U_(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&kb(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}U_(t,!0,r,null,i);break;case"together":U_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xj(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Rf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ke(153));if(t.child!==null){for(e=t.child,r=nu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=nu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Gre(e,t,r){switch(t.tag){case 3:y9(t),zh();break;case 5:GB(t);break;case 1:ei(t.type)&&_b(t);break;case 4:ek(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Xr(Ab,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Xr(Nn,Nn.current&1),t.flags|=128,null):r&t.child.childLanes?j9(e,t,r):(Xr(Nn,Nn.current&1),e=qc(e,t,r),e!==null?e.sibling:null);Xr(Nn,Nn.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return b9(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Xr(Nn,Nn.current),s)break;return null;case 22:case 23:return t.lanes=0,g9(e,t,r)}return qc(e,t,r)}var w9,c4,N9,_9;w9=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};c4=function(){};N9=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,sf(Hl.current);var i=null;switch(r){case"input":a=TC(e,a),s=TC(e,s),i=[];break;case"select":a=En({},a,{value:void 0}),s=En({},s,{value:void 0}),i=[];break;case"textarea":a=IC(e,a),s=IC(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=wb)}MC(r,s);var o;r=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(qg.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(l=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(qg.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&nn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};_9=function(e,t,r,s){r!==s&&(t.flags|=4)};function Px(e,t){if(!hn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function na(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Kre(e,t,r){var s=t.pendingProps;switch(GP(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return na(t),null;case 1:return ei(t.type)&&Nb(),na(t),null;case 3:return s=t.stateNode,Hh(),cn(Ja),cn(pa),rk(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Hy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wo!==null&&(g4(Wo),Wo=null))),c4(e,t),na(t),null;case 5:tk(t);var a=sf(s0.current);if(r=t.type,e!==null&&t.stateNode!=null)N9(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(Ke(166));return na(t),null}if(e=sf(Hl.current),Hy(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[Fl]=t,s[r0]=i,e=(t.mode&1)!==0,r){case"dialog":nn("cancel",s),nn("close",s);break;case"iframe":case"object":case"embed":nn("load",s);break;case"video":case"audio":for(a=0;a<sg.length;a++)nn(sg[a],s);break;case"source":nn("error",s);break;case"img":case"image":case"link":nn("error",s),nn("load",s);break;case"details":nn("toggle",s);break;case"input":DD(s,i),nn("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},nn("invalid",s);break;case"textarea":RD(s,i),nn("invalid",s)}MC(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&Wy(s.textContent,l,e),a=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Wy(s.textContent,l,e),a=["children",""+l]):qg.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&nn("scroll",s)}switch(r){case"input":My(s),ID(s,i,!0);break;case"textarea":My(s),MD(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=wb)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Z8(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),r==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[Fl]=t,e[r0]=s,w9(e,t,!1,!1),t.stateNode=e;e:{switch(o=FC(r,s),r){case"dialog":nn("cancel",e),nn("close",e),a=s;break;case"iframe":case"object":case"embed":nn("load",e),a=s;break;case"video":case"audio":for(a=0;a<sg.length;a++)nn(sg[a],e);a=s;break;case"source":nn("error",e),a=s;break;case"img":case"image":case"link":nn("error",e),nn("load",e),a=s;break;case"details":nn("toggle",e),a=s;break;case"input":DD(e,s),a=TC(e,s),nn("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=En({},s,{value:void 0}),nn("invalid",e);break;case"textarea":RD(e,s),a=IC(e,s),nn("invalid",e);break;default:a=s}MC(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?tB(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&J8(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Gg(e,c):typeof c=="number"&&Gg(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qg.hasOwnProperty(i)?c!=null&&i==="onScroll"&&nn("scroll",e):c!=null&&OP(e,i,c,o))}switch(r){case"input":My(e),ID(e,s,!1);break;case"textarea":My(e),MD(e);break;case"option":s.value!=null&&e.setAttribute("value",""+cu(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?sh(e,!!s.multiple,i,!1):s.defaultValue!=null&&sh(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=wb)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return na(t),null;case 6:if(e&&t.stateNode!=null)_9(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(Ke(166));if(r=sf(s0.current),sf(Hl.current),Hy(t)){if(s=t.stateNode,r=t.memoizedProps,s[Fl]=t,(i=s.nodeValue!==r)&&(e=Di,e!==null))switch(e.tag){case 3:Wy(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wy(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Fl]=t,t.stateNode=s}return na(t),null;case 13:if(cn(Nn),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(hn&&Ti!==null&&t.mode&1&&!(t.flags&128))VB(),zh(),t.flags|=98560,i=!1;else if(i=Hy(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(Ke(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ke(317));i[Fl]=t}else zh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;na(t),i=!1}else Wo!==null&&(g4(Wo),Wo=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Nn.current&1?vs===0&&(vs=3):hk())),t.updateQueue!==null&&(t.flags|=4),na(t),null);case 4:return Hh(),c4(e,t),e===null&&e0(t.stateNode.containerInfo),na(t),null;case 10:return QP(t.type._context),na(t),null;case 17:return ei(t.type)&&Nb(),na(t),null;case 19:if(cn(Nn),i=t.memoizedState,i===null)return na(t),null;if(s=(t.flags&128)!==0,o=i.rendering,o===null)if(s)Px(i,!1);else{if(vs!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=kb(e),o!==null){for(t.flags|=128,Px(i,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Xr(Nn,Nn.current&1|2),t.child}e=e.sibling}i.tail!==null&&Wn()>Gh&&(t.flags|=128,s=!0,Px(i,!1),t.lanes=4194304)}else{if(!s)if(e=kb(o),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Px(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!hn)return na(t),null}else 2*Wn()-i.renderingStartTime>Gh&&r!==1073741824&&(t.flags|=128,s=!0,Px(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Wn(),t.sibling=null,r=Nn.current,Xr(Nn,s?r&1|2:r&1),t):(na(t),null);case 22:case 23:return mk(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?_i&1073741824&&(na(t),t.subtreeFlags&6&&(t.flags|=8192)):na(t),null;case 24:return null;case 25:return null}throw Error(Ke(156,t.tag))}function Yre(e,t){switch(GP(t),t.tag){case 1:return ei(t.type)&&Nb(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hh(),cn(Ja),cn(pa),rk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tk(t),null;case 13:if(cn(Nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ke(340));zh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return cn(Nn),null;case 4:return Hh(),null;case 10:return QP(t.type._context),null;case 22:case 23:return mk(),null;case 24:return null;default:return null}}var Ky=!1,oa=!1,Xre=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Qm(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Dn(e,t,s)}else r.current=null}function d4(e,t,r){try{r()}catch(s){Dn(e,t,s)}}var S5=!1;function Qre(e,t){if(GC=yb,e=PB(),HP(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||s!==0&&f.nodeType!==3||(c=o+s),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===r&&++d===a&&(l=o),m===i&&++u===s&&(c=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(KC={focusedElem:e,selectionRange:r},yb=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){t=vt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var p=x.memoizedProps,g=x.memoizedState,j=t.stateNode,y=j.getSnapshotBeforeUpdate(t.elementType===t.type?p:Lo(t.type,p),g);j.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ke(163))}}catch(b){Dn(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}return x=S5,S5=!1,x}function yg(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&d4(t,r,i)}a=a.next}while(a!==s)}}function sN(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function u4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function S9(e){var t=e.alternate;t!==null&&(e.alternate=null,S9(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fl],delete t[r0],delete t[QC],delete t[Dre],delete t[Ire])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function C9(e){return e.tag===5||e.tag===3||e.tag===4}function C5(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||C9(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function f4(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=wb));else if(s!==4&&(e=e.child,e!==null))for(f4(e,t,r),e=e.sibling;e!==null;)f4(e,t,r),e=e.sibling}function m4(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(m4(e,t,r),e=e.sibling;e!==null;)m4(e,t,r),e=e.sibling}var Vs=null,Uo=!1;function xd(e,t,r){for(r=r.child;r!==null;)A9(e,t,r),r=r.sibling}function A9(e,t,r){if(Wl&&typeof Wl.onCommitFiberUnmount=="function")try{Wl.onCommitFiberUnmount(Xw,r)}catch{}switch(r.tag){case 5:oa||Qm(r,t);case 6:var s=Vs,a=Uo;Vs=null,xd(e,t,r),Vs=s,Uo=a,Vs!==null&&(Uo?(e=Vs,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Vs.removeChild(r.stateNode));break;case 18:Vs!==null&&(Uo?(e=Vs,r=r.stateNode,e.nodeType===8?I_(e.parentNode,r):e.nodeType===1&&I_(e,r),Qg(e)):I_(Vs,r.stateNode));break;case 4:s=Vs,a=Uo,Vs=r.stateNode.containerInfo,Uo=!0,xd(e,t,r),Vs=s,Uo=a;break;case 0:case 11:case 14:case 15:if(!oa&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&d4(r,t,o),a=a.next}while(a!==s)}xd(e,t,r);break;case 1:if(!oa&&(Qm(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){Dn(r,t,l)}xd(e,t,r);break;case 21:xd(e,t,r);break;case 22:r.mode&1?(oa=(s=oa)||r.memoizedState!==null,xd(e,t,r),oa=s):xd(e,t,r);break;default:xd(e,t,r)}}function A5(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Xre),t.forEach(function(s){var a=ine.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function Io(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Vs=l.stateNode,Uo=!1;break e;case 3:Vs=l.stateNode.containerInfo,Uo=!0;break e;case 4:Vs=l.stateNode.containerInfo,Uo=!0;break e}l=l.return}if(Vs===null)throw Error(Ke(160));A9(i,o,a),Vs=null,Uo=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Dn(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)E9(t,e),t=t.sibling}function E9(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Io(t,e),Nl(e),s&4){try{yg(3,e,e.return),sN(3,e)}catch(p){Dn(e,e.return,p)}try{yg(5,e,e.return)}catch(p){Dn(e,e.return,p)}}break;case 1:Io(t,e),Nl(e),s&512&&r!==null&&Qm(r,r.return);break;case 5:if(Io(t,e),Nl(e),s&512&&r!==null&&Qm(r,r.return),e.flags&32){var a=e.stateNode;try{Gg(a,"")}catch(p){Dn(e,e.return,p)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&X8(a,i),FC(l,o);var d=FC(l,i);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?tB(a,f):u==="dangerouslySetInnerHTML"?J8(a,f):u==="children"?Gg(a,f):OP(a,u,f,d)}switch(l){case"input":OC(a,i);break;case"textarea":Q8(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?sh(a,!!i.multiple,h,!1):m!==!!i.multiple&&(i.defaultValue!=null?sh(a,!!i.multiple,i.defaultValue,!0):sh(a,!!i.multiple,i.multiple?[]:"",!1))}a[r0]=i}catch(p){Dn(e,e.return,p)}}break;case 6:if(Io(t,e),Nl(e),s&4){if(e.stateNode===null)throw Error(Ke(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){Dn(e,e.return,p)}}break;case 3:if(Io(t,e),Nl(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Qg(t.containerInfo)}catch(p){Dn(e,e.return,p)}break;case 4:Io(t,e),Nl(e);break;case 13:Io(t,e),Nl(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(uk=Wn())),s&4&&A5(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(oa=(d=oa)||u,Io(t,e),oa=d):Io(t,e),Nl(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(vt=e,u=e.child;u!==null;){for(f=vt=u;vt!==null;){switch(m=vt,h=m.child,m.tag){case 0:case 11:case 14:case 15:yg(4,m,m.return);break;case 1:Qm(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){s=m,r=m.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(p){Dn(s,r,p)}}break;case 5:Qm(m,m.return);break;case 22:if(m.memoizedState!==null){P5(f);continue}}h!==null?(h.return=m,vt=h):P5(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=eB("display",o))}catch(p){Dn(e,e.return,p)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(p){Dn(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Io(t,e),Nl(e),s&4&&A5(e);break;case 21:break;default:Io(t,e),Nl(e)}}function Nl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(C9(r)){var s=r;break e}r=r.return}throw Error(Ke(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Gg(a,""),s.flags&=-33);var i=C5(e);m4(e,i,a);break;case 3:case 4:var o=s.stateNode.containerInfo,l=C5(e);f4(e,l,o);break;default:throw Error(Ke(161))}}catch(c){Dn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zre(e,t,r){vt=e,P9(e)}function P9(e,t,r){for(var s=(e.mode&1)!==0;vt!==null;){var a=vt,i=a.child;if(a.tag===22&&s){var o=a.memoizedState!==null||Ky;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||oa;l=Ky;var d=oa;if(Ky=o,(oa=c)&&!d)for(vt=a;vt!==null;)o=vt,c=o.child,o.tag===22&&o.memoizedState!==null?k5(a):c!==null?(c.return=o,vt=c):k5(a);for(;i!==null;)vt=i,P9(i),i=i.sibling;vt=a,Ky=l,oa=d}E5(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,vt=i):E5(e)}}function E5(e){for(;vt!==null;){var t=vt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:oa||sN(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!oa)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Lo(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&f5(t,i,s);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}f5(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Qg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ke(163))}oa||t.flags&512&&u4(t)}catch(m){Dn(t,t.return,m)}}if(t===e){vt=null;break}if(r=t.sibling,r!==null){r.return=t.return,vt=r;break}vt=t.return}}function P5(e){for(;vt!==null;){var t=vt;if(t===e){vt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,vt=r;break}vt=t.return}}function k5(e){for(;vt!==null;){var t=vt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{sN(4,t)}catch(c){Dn(t,r,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){Dn(t,a,c)}}var i=t.return;try{u4(t)}catch(c){Dn(t,i,c)}break;case 5:var o=t.return;try{u4(t)}catch(c){Dn(t,o,c)}}}catch(c){Dn(t,t.return,c)}if(t===e){vt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,vt=l;break}vt=t.return}}var Jre=Math.ceil,Db=id.ReactCurrentDispatcher,ck=id.ReactCurrentOwner,go=id.ReactCurrentBatchConfig,pr=0,Ts=null,ts=null,Ks=0,_i=0,Zm=Su(0),vs=0,l0=null,Rf=0,aN=0,dk=0,jg=null,Ga=null,uk=0,Gh=1/0,vc=null,Ib=!1,h4=null,tu=null,Yy=!1,Vd=null,Rb=0,bg=0,p4=null,Qj=-1,Zj=0;function Oa(){return pr&6?Wn():Qj!==-1?Qj:Qj=Wn()}function ru(e){return e.mode&1?pr&2&&Ks!==0?Ks&-Ks:Mre.transition!==null?(Zj===0&&(Zj=mB()),Zj):(e=Mr,e!==0||(e=window.event,e=e===void 0?16:jB(e.type)),e):1}function tl(e,t,r,s){if(50<bg)throw bg=0,p4=null,Error(Ke(185));Av(e,r,s),(!(pr&2)||e!==Ts)&&(e===Ts&&(!(pr&2)&&(aN|=r),vs===4&&Pd(e,Ks)),ti(e,s),r===1&&pr===0&&!(t.mode&1)&&(Gh=Wn()+500,tN&&Cu()))}function ti(e,t){var r=e.callbackNode;Mte(e,t);var s=vb(e,e===Ts?Ks:0);if(s===0)r!==null&&LD(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&LD(r),t===1)e.tag===0?Rre(T5.bind(null,e)):LB(T5.bind(null,e)),Tre(function(){!(pr&6)&&Cu()}),r=null;else{switch(hB(s)){case 1:r=FP;break;case 4:r=uB;break;case 16:r=gb;break;case 536870912:r=fB;break;default:r=gb}r=F9(r,k9.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function k9(e,t){if(Qj=-1,Zj=0,pr&6)throw Error(Ke(327));var r=e.callbackNode;if(ch()&&e.callbackNode!==r)return null;var s=vb(e,e===Ts?Ks:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Mb(e,s);else{t=s;var a=pr;pr|=2;var i=O9();(Ts!==e||Ks!==t)&&(vc=null,Gh=Wn()+500,Nf(e,t));do try{rne();break}catch(l){T9(e,l)}while(!0);XP(),Db.current=i,pr=a,ts!==null?t=0:(Ts=null,Ks=0,t=vs)}if(t!==0){if(t===2&&(a=VC(e),a!==0&&(s=a,t=x4(e,a))),t===1)throw r=l0,Nf(e,0),Pd(e,s),ti(e,Wn()),r;if(t===6)Pd(e,s);else{if(a=e.current.alternate,!(s&30)&&!ene(a)&&(t=Mb(e,s),t===2&&(i=VC(e),i!==0&&(s=i,t=x4(e,i))),t===1))throw r=l0,Nf(e,0),Pd(e,s),ti(e,Wn()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(Ke(345));case 2:Hu(e,Ga,vc);break;case 3:if(Pd(e,s),(s&130023424)===s&&(t=uk+500-Wn(),10<t)){if(vb(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Oa(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=XC(Hu.bind(null,e,Ga,vc),t);break}Hu(e,Ga,vc);break;case 4:if(Pd(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var o=31-el(s);i=1<<o,o=t[o],o>a&&(a=o),s&=~i}if(s=a,s=Wn()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Jre(s/1960))-s,10<s){e.timeoutHandle=XC(Hu.bind(null,e,Ga,vc),s);break}Hu(e,Ga,vc);break;case 5:Hu(e,Ga,vc);break;default:throw Error(Ke(329))}}}return ti(e,Wn()),e.callbackNode===r?k9.bind(null,e):null}function x4(e,t){var r=jg;return e.current.memoizedState.isDehydrated&&(Nf(e,t).flags|=256),e=Mb(e,t),e!==2&&(t=Ga,Ga=r,t!==null&&g4(t)),e}function g4(e){Ga===null?Ga=e:Ga.push.apply(Ga,e)}function ene(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],i=a.getSnapshot;a=a.value;try{if(!ol(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pd(e,t){for(t&=~dk,t&=~aN,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-el(t),s=1<<r;e[r]=-1,t&=~s}}function T5(e){if(pr&6)throw Error(Ke(327));ch();var t=vb(e,0);if(!(t&1))return ti(e,Wn()),null;var r=Mb(e,t);if(e.tag!==0&&r===2){var s=VC(e);s!==0&&(t=s,r=x4(e,s))}if(r===1)throw r=l0,Nf(e,0),Pd(e,t),ti(e,Wn()),r;if(r===6)throw Error(Ke(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hu(e,Ga,vc),ti(e,Wn()),null}function fk(e,t){var r=pr;pr|=1;try{return e(t)}finally{pr=r,pr===0&&(Gh=Wn()+500,tN&&Cu())}}function Mf(e){Vd!==null&&Vd.tag===0&&!(pr&6)&&ch();var t=pr;pr|=1;var r=go.transition,s=Mr;try{if(go.transition=null,Mr=1,e)return e()}finally{Mr=s,go.transition=r,pr=t,!(pr&6)&&Cu()}}function mk(){_i=Zm.current,cn(Zm)}function Nf(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,kre(r)),ts!==null)for(r=ts.return;r!==null;){var s=r;switch(GP(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Nb();break;case 3:Hh(),cn(Ja),cn(pa),rk();break;case 5:tk(s);break;case 4:Hh();break;case 13:cn(Nn);break;case 19:cn(Nn);break;case 10:QP(s.type._context);break;case 22:case 23:mk()}r=r.return}if(Ts=e,ts=e=nu(e.current,null),Ks=_i=t,vs=0,l0=null,dk=aN=Rf=0,Ga=jg=null,nf!==null){for(t=0;t<nf.length;t++)if(r=nf[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,s.next=o}r.pending=s}nf=null}return e}function T9(e,t){do{var r=ts;try{if(XP(),Kj.current=Ob,Tb){for(var s=Cn.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Tb=!1}if(If=0,Cs=hs=Cn=null,vg=!1,a0=0,ck.current=null,r===null||r.return===null){vs=1,l0=t,ts=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Ks,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=v5(o);if(h!==null){h.flags&=-257,y5(h,o,l,i,t),h.mode&1&&g5(i,d,t),t=h,c=d;var x=t.updateQueue;if(x===null){var p=new Set;p.add(c),t.updateQueue=p}else x.add(c);break e}else{if(!(t&1)){g5(i,d,t),hk();break e}c=Error(Ke(426))}}else if(hn&&l.mode&1){var g=v5(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),y5(g,o,l,i,t),KP(qh(c,l));break e}}i=c=qh(c,l),vs!==4&&(vs=2),jg===null?jg=[i]:jg.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var j=h9(i,c,t);u5(i,j);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(tu===null||!tu.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=p9(i,l,t);u5(i,b);break e}}i=i.return}while(i!==null)}I9(r)}catch(N){t=N,ts===r&&r!==null&&(ts=r=r.return);continue}break}while(!0)}function O9(){var e=Db.current;return Db.current=Ob,e===null?Ob:e}function hk(){(vs===0||vs===3||vs===2)&&(vs=4),Ts===null||!(Rf&268435455)&&!(aN&268435455)||Pd(Ts,Ks)}function Mb(e,t){var r=pr;pr|=2;var s=O9();(Ts!==e||Ks!==t)&&(vc=null,Nf(e,t));do try{tne();break}catch(a){T9(e,a)}while(!0);if(XP(),pr=r,Db.current=s,ts!==null)throw Error(Ke(261));return Ts=null,Ks=0,vs}function tne(){for(;ts!==null;)D9(ts)}function rne(){for(;ts!==null&&!Ate();)D9(ts)}function D9(e){var t=M9(e.alternate,e,_i);e.memoizedProps=e.pendingProps,t===null?I9(e):ts=t,ck.current=null}function I9(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Yre(r,t),r!==null){r.flags&=32767,ts=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vs=6,ts=null;return}}else if(r=Kre(r,t,_i),r!==null){ts=r;return}if(t=t.sibling,t!==null){ts=t;return}ts=t=e}while(t!==null);vs===0&&(vs=5)}function Hu(e,t,r){var s=Mr,a=go.transition;try{go.transition=null,Mr=1,nne(e,t,r,s)}finally{go.transition=a,Mr=s}return null}function nne(e,t,r,s){do ch();while(Vd!==null);if(pr&6)throw Error(Ke(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ke(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Fte(e,i),e===Ts&&(ts=Ts=null,Ks=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Yy||(Yy=!0,F9(gb,function(){return ch(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=go.transition,go.transition=null;var o=Mr;Mr=1;var l=pr;pr|=4,ck.current=null,Qre(e,r),E9(r,e),Nre(KC),yb=!!GC,KC=GC=null,e.current=r,Zre(r),Ete(),pr=l,Mr=o,go.transition=i}else e.current=r;if(Yy&&(Yy=!1,Vd=e,Rb=a),i=e.pendingLanes,i===0&&(tu=null),Tte(r.stateNode),ti(e,Wn()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(Ib)throw Ib=!1,e=h4,h4=null,e;return Rb&1&&e.tag!==0&&ch(),i=e.pendingLanes,i&1?e===p4?bg++:(bg=0,p4=e):bg=0,Cu(),null}function ch(){if(Vd!==null){var e=hB(Rb),t=go.transition,r=Mr;try{if(go.transition=null,Mr=16>e?16:e,Vd===null)var s=!1;else{if(e=Vd,Vd=null,Rb=0,pr&6)throw Error(Ke(331));var a=pr;for(pr|=4,vt=e.current;vt!==null;){var i=vt,o=i.child;if(vt.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(vt=d;vt!==null;){var u=vt;switch(u.tag){case 0:case 11:case 15:yg(8,u,i)}var f=u.child;if(f!==null)f.return=u,vt=f;else for(;vt!==null;){u=vt;var m=u.sibling,h=u.return;if(S9(u),u===d){vt=null;break}if(m!==null){m.return=h,vt=m;break}vt=h}}}var x=i.alternate;if(x!==null){var p=x.child;if(p!==null){x.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}vt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,vt=o;else e:for(;vt!==null;){if(i=vt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yg(9,i,i.return)}var j=i.sibling;if(j!==null){j.return=i.return,vt=j;break e}vt=i.return}}var y=e.current;for(vt=y;vt!==null;){o=vt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,vt=w;else e:for(o=y;vt!==null;){if(l=vt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:sN(9,l)}}catch(N){Dn(l,l.return,N)}if(l===o){vt=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,vt=b;break e}vt=l.return}}if(pr=a,Cu(),Wl&&typeof Wl.onPostCommitFiberRoot=="function")try{Wl.onPostCommitFiberRoot(Xw,e)}catch{}s=!0}return s}finally{Mr=r,go.transition=t}}return!1}function O5(e,t,r){t=qh(r,t),t=h9(e,t,1),e=eu(e,t,1),t=Oa(),e!==null&&(Av(e,1,t),ti(e,t))}function Dn(e,t,r){if(e.tag===3)O5(e,e,r);else for(;t!==null;){if(t.tag===3){O5(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(tu===null||!tu.has(s))){e=qh(r,e),e=p9(t,e,1),t=eu(t,e,1),e=Oa(),t!==null&&(Av(t,1,e),ti(t,e));break}}t=t.return}}function sne(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Oa(),e.pingedLanes|=e.suspendedLanes&r,Ts===e&&(Ks&r)===r&&(vs===4||vs===3&&(Ks&130023424)===Ks&&500>Wn()-uk?Nf(e,0):dk|=r),ti(e,t)}function R9(e,t){t===0&&(e.mode&1?(t=Ly,Ly<<=1,!(Ly&130023424)&&(Ly=4194304)):t=1);var r=Oa();e=Hc(e,t),e!==null&&(Av(e,t,r),ti(e,r))}function ane(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),R9(e,r)}function ine(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(Ke(314))}s!==null&&s.delete(t),R9(e,r)}var M9;M9=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ja.current)Xa=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Xa=!1,Gre(e,t,r);Xa=!!(e.flags&131072)}else Xa=!1,hn&&t.flags&1048576&&BB(t,Cb,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Xj(e,t),e=t.pendingProps;var a=Vh(t,pa.current);lh(t,r),a=sk(null,t,s,e,a,r);var i=ak();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ei(s)?(i=!0,_b(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,JP(t),a.updater=nN,t.stateNode=a,a._reactInternals=t,n4(t,s,e,r),t=i4(null,t,s,!0,i,r)):(t.tag=0,hn&&i&&qP(t),Sa(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Xj(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=lne(s),e=Lo(s,e),a){case 0:t=a4(null,t,s,e,r);break e;case 1:t=w5(null,t,s,e,r);break e;case 11:t=j5(null,t,s,e,r);break e;case 14:t=b5(null,t,s,Lo(s.type,e),r);break e}throw Error(Ke(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Lo(s,a),a4(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Lo(s,a),w5(e,t,s,a,r);case 3:e:{if(y9(t),e===null)throw Error(Ke(387));s=t.pendingProps,i=t.memoizedState,a=i.element,qB(e,t),Pb(t,s,null,r);var o=t.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=qh(Error(Ke(423)),t),t=N5(e,t,s,r,a);break e}else if(s!==a){a=qh(Error(Ke(424)),t),t=N5(e,t,s,r,a);break e}else for(Ti=Jd(t.stateNode.containerInfo.firstChild),Di=t,hn=!0,Wo=null,r=WB(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(zh(),s===a){t=qc(e,t,r);break e}Sa(e,t,s,r)}t=t.child}return t;case 5:return GB(t),e===null&&e4(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,YC(s,a)?o=null:i!==null&&YC(s,i)&&(t.flags|=32),v9(e,t),Sa(e,t,o,r),t.child;case 6:return e===null&&e4(t),null;case 13:return j9(e,t,r);case 4:return ek(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Wh(t,null,s,r):Sa(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Lo(s,a),j5(e,t,s,a,r);case 7:return Sa(e,t,t.pendingProps,r),t.child;case 8:return Sa(e,t,t.pendingProps.children,r),t.child;case 12:return Sa(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Xr(Ab,s._currentValue),s._currentValue=o,i!==null)if(ol(i.value,o)){if(i.children===a.children&&!Ja.current){t=qc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Dc(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),t4(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ke(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),t4(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Sa(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,lh(t,r),a=wo(a),s=s(a),t.flags|=1,Sa(e,t,s,r),t.child;case 14:return s=t.type,a=Lo(s,t.pendingProps),a=Lo(s.type,a),b5(e,t,s,a,r);case 15:return x9(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:Lo(s,a),Xj(e,t),t.tag=1,ei(s)?(e=!0,_b(t)):e=!1,lh(t,r),m9(t,s,a),n4(t,s,a,r),i4(null,t,s,!0,e,r);case 19:return b9(e,t,r);case 22:return g9(e,t,r)}throw Error(Ke(156,t.tag))};function F9(e,t){return dB(e,t)}function one(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mo(e,t,r,s){return new one(e,t,r,s)}function pk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lne(e){if(typeof e=="function")return pk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===IP)return 11;if(e===RP)return 14}return 2}function nu(e,t){var r=e.alternate;return r===null?(r=mo(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Jj(e,t,r,s,a,i){var o=2;if(s=e,typeof e=="function")pk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Vm:return _f(r.children,a,i,t);case DP:o=8,a|=8;break;case AC:return e=mo(12,r,t,a|2),e.elementType=AC,e.lanes=i,e;case EC:return e=mo(13,r,t,a),e.elementType=EC,e.lanes=i,e;case PC:return e=mo(19,r,t,a),e.elementType=PC,e.lanes=i,e;case G8:return iN(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H8:o=10;break e;case q8:o=9;break e;case IP:o=11;break e;case RP:o=14;break e;case Sd:o=16,s=null;break e}throw Error(Ke(130,e==null?e:typeof e,""))}return t=mo(o,r,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function _f(e,t,r,s){return e=mo(7,e,s,t),e.lanes=r,e}function iN(e,t,r,s){return e=mo(22,e,s,t),e.elementType=G8,e.lanes=r,e.stateNode={isHidden:!1},e}function V_(e,t,r){return e=mo(6,e,null,t),e.lanes=r,e}function z_(e,t,r){return t=mo(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cne(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=N_(0),this.expirationTimes=N_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=N_(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function xk(e,t,r,s,a,i,o,l,c){return e=new cne(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=mo(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},JP(i),e}function dne(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Um,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function $9(e){if(!e)return du;e=e._reactInternals;e:{if(am(e)!==e||e.tag!==1)throw Error(Ke(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ei(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ke(171))}if(e.tag===1){var r=e.type;if(ei(r))return $B(e,r,t)}return t}function L9(e,t,r,s,a,i,o,l,c){return e=xk(r,s,!0,e,a,i,o,l,c),e.context=$9(null),r=e.current,s=Oa(),a=ru(r),i=Dc(s,a),i.callback=t??null,eu(r,i,a),e.current.lanes=a,Av(e,a,s),ti(e,s),e}function oN(e,t,r,s){var a=t.current,i=Oa(),o=ru(a);return r=$9(r),t.context===null?t.context=r:t.pendingContext=r,t=Dc(i,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=eu(a,t,o),e!==null&&(tl(e,a,o,i),Gj(e,a,o)),o}function Fb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function D5(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function gk(e,t){D5(e,t),(e=e.alternate)&&D5(e,t)}function une(){return null}var B9=typeof reportError=="function"?reportError:function(e){console.error(e)};function vk(e){this._internalRoot=e}lN.prototype.render=vk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ke(409));oN(e,t,null,null)};lN.prototype.unmount=vk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mf(function(){oN(null,e,null,null)}),t[Wc]=null}};function lN(e){this._internalRoot=e}lN.prototype.unstable_scheduleHydration=function(e){if(e){var t=gB();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ed.length&&t!==0&&t<Ed[r].priority;r++);Ed.splice(r,0,e),r===0&&yB(e)}};function yk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cN(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function I5(){}function fne(e,t,r,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=Fb(o);i.call(d)}}var o=L9(t,s,e,0,null,!1,!1,"",I5);return e._reactRootContainer=o,e[Wc]=o.current,e0(e.nodeType===8?e.parentNode:e),Mf(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var l=s;s=function(){var d=Fb(c);l.call(d)}}var c=xk(e,0,!1,null,null,!1,!1,"",I5);return e._reactRootContainer=c,e[Wc]=c.current,e0(e.nodeType===8?e.parentNode:e),Mf(function(){oN(t,c,r,s)}),c}function dN(e,t,r,s,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Fb(o);l.call(c)}}oN(t,o,e,a)}else o=fne(r,t,e,a,s);return Fb(o)}pB=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ng(t.pendingLanes);r!==0&&($P(t,r|1),ti(t,Wn()),!(pr&6)&&(Gh=Wn()+500,Cu()))}break;case 13:Mf(function(){var s=Hc(e,1);if(s!==null){var a=Oa();tl(s,e,1,a)}}),gk(e,1)}};LP=function(e){if(e.tag===13){var t=Hc(e,134217728);if(t!==null){var r=Oa();tl(t,e,134217728,r)}gk(e,134217728)}};xB=function(e){if(e.tag===13){var t=ru(e),r=Hc(e,t);if(r!==null){var s=Oa();tl(r,e,t,s)}gk(e,t)}};gB=function(){return Mr};vB=function(e,t){var r=Mr;try{return Mr=e,t()}finally{Mr=r}};LC=function(e,t,r){switch(t){case"input":if(OC(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=eN(s);if(!a)throw Error(Ke(90));Y8(s),OC(s,a)}}}break;case"textarea":Q8(e,r);break;case"select":t=r.value,t!=null&&sh(e,!!r.multiple,t,!1)}};sB=fk;aB=Mf;var mne={usingClientEntryPoint:!1,Events:[Pv,qm,eN,rB,nB,fk]},kx={findFiberByHostInstance:rf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hne={bundleType:kx.bundleType,version:kx.version,rendererPackageName:kx.rendererPackageName,rendererConfig:kx.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:id.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lB(e),e===null?null:e.stateNode},findFiberByHostInstance:kx.findFiberByHostInstance||une,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xy.isDisabled&&Xy.supportsFiber)try{Xw=Xy.inject(hne),Wl=Xy}catch{}}Gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mne;Gi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yk(t))throw Error(Ke(200));return dne(e,t,null,r)};Gi.createRoot=function(e,t){if(!yk(e))throw Error(Ke(299));var r=!1,s="",a=B9;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=xk(e,1,!1,null,null,r,!1,s,a),e[Wc]=t.current,e0(e.nodeType===8?e.parentNode:e),new vk(t)};Gi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ke(188)):(e=Object.keys(e).join(","),Error(Ke(268,e)));return e=lB(t),e=e===null?null:e.stateNode,e};Gi.flushSync=function(e){return Mf(e)};Gi.hydrate=function(e,t,r){if(!cN(t))throw Error(Ke(200));return dN(null,e,t,!0,r)};Gi.hydrateRoot=function(e,t,r){if(!yk(e))throw Error(Ke(405));var s=r!=null&&r.hydratedSources||null,a=!1,i="",o=B9;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=L9(t,null,e,1,r??null,a,!1,i,o),e[Wc]=t.current,e0(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new lN(t)};Gi.render=function(e,t,r){if(!cN(t))throw Error(Ke(200));return dN(null,e,t,!1,r)};Gi.unmountComponentAtNode=function(e){if(!cN(e))throw Error(Ke(40));return e._reactRootContainer?(Mf(function(){dN(null,null,e,!1,function(){e._reactRootContainer=null,e[Wc]=null})}),!0):!1};Gi.unstable_batchedUpdates=fk;Gi.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!cN(r))throw Error(Ke(200));if(e==null||e._reactInternals===void 0)throw Error(Ke(38));return dN(e,t,r,!1,s)};Gi.version="18.3.1-next-f1338f8080-20240426";function U9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(U9)}catch(e){console.error(e)}}U9(),U8.exports=Gi;var fl=U8.exports;const uN=Pr(fl);var V9,R5=fl;V9=R5.createRoot,R5.hydrateRoot;const pne=1,xne=1e6;let W_=0;function gne(){return W_=(W_+1)%Number.MAX_SAFE_INTEGER,W_.toString()}const H_=new Map,M5=e=>{if(H_.has(e))return;const t=setTimeout(()=>{H_.delete(e),wg({type:"REMOVE_TOAST",toastId:e})},xne);H_.set(e,t)},vne=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,pne)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?M5(r):e.toasts.forEach(s=>{M5(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},eb=[];let tb={toasts:[]};function wg(e){tb=vne(tb,e),eb.forEach(t=>{t(tb)})}function yne({...e}){const t=gne(),r=a=>wg({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>wg({type:"DISMISS_TOAST",toastId:t});return wg({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:r}}function xr(){const[e,t]=v.useState(tb);return v.useEffect(()=>(eb.push(t),()=>{const r=eb.indexOf(t);r>-1&&eb.splice(r,1)}),[e]),{...e,toast:yne,dismiss:r=>wg({type:"DISMISS_TOAST",toastId:r})}}function He(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function jne(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function fN(...e){return t=>e.forEach(r=>jne(r,t))}function It(...e){return v.useCallback(fN(...e),e)}function bne(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,wne(a,...t)]}function wne(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Xl=v.forwardRef((e,t)=>{const{children:r,...s}=e,a=v.Children.toArray(r),i=a.find(Nne);if(i){const o=i.props.children,l=a.map(c=>c===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return n.jsx(v4,{...s,ref:t,children:v.isValidElement(o)?v.cloneElement(o,void 0,l):null})}return n.jsx(v4,{...s,ref:t,children:r})});Xl.displayName="Slot";var v4=v.forwardRef((e,t)=>{const{children:r,...s}=e;if(v.isValidElement(r)){const a=Sne(r);return v.cloneElement(r,{..._ne(s,r.props),ref:t?fN(t,a):a})}return v.Children.count(r)>1?v.Children.only(null):null});v4.displayName="SlotClone";var jk=({children:e})=>n.jsx(n.Fragment,{children:e});function Nne(e){return v.isValidElement(e)&&e.type===jk}function _ne(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Sne(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Tv(e){const t=e+"CollectionProvider",[r,s]=bne(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:x,children:p}=h,g=z.useRef(null),j=z.useRef(new Map).current;return n.jsx(a,{scope:x,itemMap:j,collectionRef:g,children:p})};o.displayName=t;const l=e+"CollectionSlot",c=z.forwardRef((h,x)=>{const{scope:p,children:g}=h,j=i(l,p),y=It(x,j.collectionRef);return n.jsx(Xl,{ref:y,children:g})});c.displayName=l;const d=e+"CollectionItemSlot",u="data-radix-collection-item",f=z.forwardRef((h,x)=>{const{scope:p,children:g,...j}=h,y=z.useRef(null),w=It(x,y),b=i(d,p);return z.useEffect(()=>(b.itemMap.set(y,{ref:y,...j}),()=>void b.itemMap.delete(y))),n.jsx(Xl,{[u]:"",ref:w,children:g})});f.displayName=d;function m(h){const x=i(e+"CollectionConsumer",h);return z.useCallback(()=>{const g=x.collectionRef.current;if(!g)return[];const j=Array.from(g.querySelectorAll(`[${u}]`));return Array.from(x.itemMap.values()).sort((b,N)=>j.indexOf(b.ref.current)-j.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},m,s]}function Cne(e,t){const r=v.createContext(t),s=i=>{const{children:o,...l}=i,c=v.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};s.displayName=e+"Provider";function a(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function ea(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];const d=f=>{var j;const{scope:m,children:h,...x}=f,p=((j=m==null?void 0:m[e])==null?void 0:j[c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})};d.displayName=i+"Provider";function u(f,m){var p;const h=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,Ane(a,...t)]}function Ane(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Ene=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ft=Ene.reduce((e,t)=>{const r=v.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?Xl:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(l,{...o,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function bk(e,t){e&&fl.flushSync(()=>e.dispatchEvent(t))}function pn(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function Pne(e,t=globalThis==null?void 0:globalThis.document){const r=pn(e);v.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var kne="DismissableLayer",y4="dismissableLayer.update",Tne="dismissableLayer.pointerDownOutside",One="dismissableLayer.focusOutside",F5,z9=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),im=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=v.useContext(z9),[u,f]=v.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=v.useState({}),x=It(t,S=>f(S)),p=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),j=p.indexOf(g),y=u?p.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,b=y>=j,N=Ine(S=>{const A=S.target,E=[...d.branches].some(P=>P.contains(A));!b||E||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},m),_=Rne(S=>{const A=S.target;[...d.branches].some(P=>P.contains(A))||(i==null||i(S),o==null||o(S),S.defaultPrevented||l==null||l())},m);return Pne(S=>{y===d.layers.size-1&&(s==null||s(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),v.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(F5=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),$5(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=F5)}},[u,m,r,d]),v.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),$5())},[u,d]),v.useEffect(()=>{const S=()=>h({});return document.addEventListener(y4,S),()=>document.removeEventListener(y4,S)},[]),n.jsx(ft.div,{...c,ref:x,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:He(e.onFocusCapture,_.onFocusCapture),onBlurCapture:He(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:He(e.onPointerDownCapture,N.onPointerDownCapture)})});im.displayName=kne;var Dne="DismissableLayerBranch",W9=v.forwardRef((e,t)=>{const r=v.useContext(z9),s=v.useRef(null),a=It(t,s);return v.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(ft.div,{...e,ref:a})});W9.displayName=Dne;function Ine(e,t=globalThis==null?void 0:globalThis.document){const r=pn(e),s=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){H9(Tne,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function Rne(e,t=globalThis==null?void 0:globalThis.document){const r=pn(e),s=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!s.current&&H9(One,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function $5(){const e=new CustomEvent(y4);document.dispatchEvent(e)}function H9(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?bk(a,i):a.dispatchEvent(i)}var Mne=im,Fne=W9,ss=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},$ne="Portal",Fp=v.forwardRef((e,t)=>{var l;const{container:r,...s}=e,[a,i]=v.useState(!1);ss(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?uN.createPortal(n.jsx(ft.div,{...s,ref:t}),o):null});Fp.displayName=$ne;function Lne(e,t){return v.useReducer((r,s)=>t[r][s]??r,e)}var as=e=>{const{present:t,children:r}=e,s=Bne(t),a=typeof r=="function"?r({present:s.isPresent}):v.Children.only(r),i=It(s.ref,Une(a));return typeof r=="function"||s.isPresent?v.cloneElement(a,{ref:i}):null};as.displayName="Presence";function Bne(e){const[t,r]=v.useState(),s=v.useRef({}),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Lne(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=Qy(s.current);i.current=l==="mounted"?d:"none"},[l]),ss(()=>{const d=s.current,u=a.current;if(u!==e){const m=i.current,h=Qy(d);e?c("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),ss(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=h=>{const p=Qy(s.current).includes(h.animationName);if(h.target===t&&p&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},m=h=>{h.target===t&&(i.current=Qy(s.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(d=>{d&&(s.current=getComputedStyle(d)),r(d)},[])}}function Qy(e){return(e==null?void 0:e.animationName)||"none"}function Une(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ia({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=Vne({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:s,l=pn(r),c=v.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else a(d)},[i,e,a,l]);return[o,c]}function Vne({defaultProp:e,onChange:t}){const r=v.useState(e),[s]=r,a=v.useRef(s),i=pn(t);return v.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}var zne="VisuallyHidden",Ov=v.forwardRef((e,t)=>n.jsx(ft.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Ov.displayName=zne;var Wne=Ov,wk="ToastProvider",[Nk,Hne,qne]=Tv("Toast"),[q9,Ont]=ea("Toast",[qne]),[Gne,mN]=q9(wk),G9=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=v.useState(null),[d,u]=v.useState(0),f=v.useRef(!1),m=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${wk}\`. Expected non-empty \`string\`.`),n.jsx(Nk.Provider,{scope:t,children:n.jsx(Gne,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>u(h=>h+1),[]),onToastRemove:v.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};G9.displayName=wk;var K9="ToastViewport",Kne=["F8"],j4="toast.viewportPause",b4="toast.viewportResume",Y9=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=Kne,label:a="Notifications ({hotkey})",...i}=e,o=mN(K9,r),l=Hne(r),c=v.useRef(null),d=v.useRef(null),u=v.useRef(null),f=v.useRef(null),m=It(t,f,o.onViewportChange),h=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;v.useEffect(()=>{const g=j=>{var w;s.length!==0&&s.every(b=>j[b]||j.code===b)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[s]),v.useEffect(()=>{const g=c.current,j=f.current;if(x&&g&&j){const y=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(j4);j.dispatchEvent(_),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(b4);j.dispatchEvent(_),o.isClosePausedRef.current=!1}},b=_=>{!g.contains(_.relatedTarget)&&w()},N=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",y),g.addEventListener("focusout",b),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",b),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const p=v.useCallback(({tabbingDirection:g})=>{const y=l().map(w=>{const b=w.ref.current,N=[b,...ose(b)];return g==="forwards"?N:N.reverse()});return(g==="forwards"?y.reverse():y).flat()},[l]);return v.useEffect(()=>{const g=f.current;if(g){const j=y=>{var N,_,S;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const A=document.activeElement,E=y.shiftKey;if(y.target===g&&E){(N=d.current)==null||N.focus();return}const I=p({tabbingDirection:E?"backwards":"forwards"}),W=I.findIndex(H=>H===A);q_(I.slice(W+1))?y.preventDefault():E?(_=d.current)==null||_.focus():(S=u.current)==null||S.focus()}};return g.addEventListener("keydown",j),()=>g.removeEventListener("keydown",j)}},[l,p]),n.jsxs(Fne,{ref:c,role:"region","aria-label":a.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&n.jsx(w4,{ref:d,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"forwards"});q_(g)}}),n.jsx(Nk.Slot,{scope:r,children:n.jsx(ft.ol,{tabIndex:-1,...i,ref:m})}),x&&n.jsx(w4,{ref:u,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"backwards"});q_(g)}})]})});Y9.displayName=K9;var X9="ToastFocusProxy",w4=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,i=mN(X9,r);return n.jsx(Ov,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&s()}})});w4.displayName=X9;var hN="Toast",Yne="toast.swipeStart",Xne="toast.swipeMove",Qne="toast.swipeCancel",Zne="toast.swipeEnd",Q9=v.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=Ia({prop:s,defaultProp:a,onChange:i});return n.jsx(as,{present:r||l,children:n.jsx(tse,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:pn(e.onPause),onResume:pn(e.onResume),onSwipeStart:He(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:He(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:He(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:He(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Q9.displayName=hN;var[Jne,ese]=q9(hN,{onClose(){}}),tse=v.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:h,...x}=e,p=mN(hN,r),[g,j]=v.useState(null),y=It(t,H=>j(H)),w=v.useRef(null),b=v.useRef(null),N=a||p.duration,_=v.useRef(0),S=v.useRef(N),A=v.useRef(0),{onToastAdd:E,onToastRemove:P}=p,D=pn(()=>{var F;(g==null?void 0:g.contains(document.activeElement))&&((F=p.viewport)==null||F.focus()),o()}),I=v.useCallback(H=>{!H||H===1/0||(window.clearTimeout(A.current),_.current=new Date().getTime(),A.current=window.setTimeout(D,H))},[D]);v.useEffect(()=>{const H=p.viewport;if(H){const F=()=>{I(S.current),d==null||d()},T=()=>{const k=new Date().getTime()-_.current;S.current=S.current-k,window.clearTimeout(A.current),c==null||c()};return H.addEventListener(j4,T),H.addEventListener(b4,F),()=>{H.removeEventListener(j4,T),H.removeEventListener(b4,F)}}},[p.viewport,N,c,d,I]),v.useEffect(()=>{i&&!p.isClosePausedRef.current&&I(N)},[i,N,p.isClosePausedRef,I]),v.useEffect(()=>(E(),()=>P()),[E,P]);const W=v.useMemo(()=>g?s7(g):null,[g]);return p.viewport?n.jsxs(n.Fragment,{children:[W&&n.jsx(rse,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:W}),n.jsx(Jne,{scope:r,onClose:D,children:fl.createPortal(n.jsx(Nk.ItemSlot,{scope:r,children:n.jsx(Mne,{asChild:!0,onEscapeKeyDown:He(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||D(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(ft.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:He(e.onKeyDown,H=>{H.key==="Escape"&&(l==null||l(H.nativeEvent),H.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:He(e.onPointerDown,H=>{H.button===0&&(w.current={x:H.clientX,y:H.clientY})}),onPointerMove:He(e.onPointerMove,H=>{if(!w.current)return;const F=H.clientX-w.current.x,T=H.clientY-w.current.y,k=!!b.current,M=["left","right"].includes(p.swipeDirection),O=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,K=M?O(0,F):0,se=M?0:O(0,T),R=H.pointerType==="touch"?10:2,V={x:K,y:se},L={originalEvent:H,delta:V};k?(b.current=V,Zy(Xne,f,L,{discrete:!1})):L5(V,p.swipeDirection,R)?(b.current=V,Zy(Yne,u,L,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(F)>R||Math.abs(T)>R)&&(w.current=null)}),onPointerUp:He(e.onPointerUp,H=>{const F=b.current,T=H.target;if(T.hasPointerCapture(H.pointerId)&&T.releasePointerCapture(H.pointerId),b.current=null,w.current=null,F){const k=H.currentTarget,M={originalEvent:H,delta:F};L5(F,p.swipeDirection,p.swipeThreshold)?Zy(Zne,h,M,{discrete:!0}):Zy(Qne,m,M,{discrete:!0}),k.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),rse=e=>{const{__scopeToast:t,children:r,...s}=e,a=mN(hN,t),[i,o]=v.useState(!1),[l,c]=v.useState(!1);return ase(()=>o(!0)),v.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(Fp,{asChild:!0,children:n.jsx(Ov,{...s,children:i&&n.jsxs(n.Fragment,{children:[a.label," ",r]})})})},nse="ToastTitle",Z9=v.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(ft.div,{...s,ref:t})});Z9.displayName=nse;var sse="ToastDescription",J9=v.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(ft.div,{...s,ref:t})});J9.displayName=sse;var e7="ToastAction",t7=v.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?n.jsx(n7,{altText:r,asChild:!0,children:n.jsx(_k,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${e7}\`. Expected non-empty \`string\`.`),null)});t7.displayName=e7;var r7="ToastClose",_k=v.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,a=ese(r7,r);return n.jsx(n7,{asChild:!0,children:n.jsx(ft.button,{type:"button",...s,ref:t,onClick:He(e.onClick,a.onClose)})})});_k.displayName=r7;var n7=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return n.jsx(ft.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function s7(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),ise(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...s7(s))}}),t}function Zy(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?bk(a,i):a.dispatchEvent(i)}var L5=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>r:!i&&a>r};function ase(e=()=>{}){const t=pn(e);ss(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function ise(e){return e.nodeType===e.ELEMENT_NODE}function ose(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function q_(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var lse=G9,a7=Y9,i7=Q9,o7=Z9,l7=J9,c7=t7,d7=_k;function u7(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=u7(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Vt(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=u7(e))&&(s&&(s+=" "),s+=t);return s}const B5=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,U5=Vt,$p=(e,t)=>r=>{var s;if((t==null?void 0:t.variants)==null)return U5(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],f=i==null?void 0:i[d];if(u===null)return null;const m=B5(u)||B5(f);return a[d][m]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,m]=u;return m===void 0||(d[f]=m),d},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,u)=>{let{class:f,className:m,...h}=u;return Object.entries(h).every(x=>{let[p,g]=x;return Array.isArray(g)?g.includes({...i,...l}[p]):{...i,...l}[p]===g})?[...d,f,m]:d},[]);return U5(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f7=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dse={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...dse,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:f7("lucide",a),...l},[...o.map(([d,u])=>v.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t)=>{const r=v.forwardRef(({className:s,...a},i)=>v.createElement(use,{ref:i,iconNode:t,className:f7(`lucide-${cse(e)}`,s),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=ze("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=ze("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=ze("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=ze("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=ze("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=ze("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=ze("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=ze("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=ze("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=ze("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=ze("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=ze("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=ze("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=ze("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=ze("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=ze("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=ze("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=ze("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=ze("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=ze("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=ze("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=ze("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=ze("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=ze("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=ze("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=ze("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=ze("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=ze("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=ze("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=ze("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=ze("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=ze("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=ze("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=ze("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=ze("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=ze("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=ze("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=ze("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=ze("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=ze("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=ze("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=ze("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=ze("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=ze("MapPinned",[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=ze("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=ze("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=ze("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=ze("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=ze("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=ze("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=ze("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=ze("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=ze("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ze("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=ze("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=ze("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=ze("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=ze("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=ze("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=ze("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=ze("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ze("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dse=ze("Sofa",[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=ze("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=ze("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=ze("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=ze("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=ze("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=ze("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=ze("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=ze("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=ze("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=ze("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=ze("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rse=ze("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mse=ze("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=ze("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=ze("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=ze("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fse=ze("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),kk="-",$se=e=>{const t=Bse(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(kk);return l[0]===""&&l.length!==1&&l.shift(),E7(l,t)||Lse(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},E7=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?E7(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(kk);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Y5=/^\[(.+)\]$/,Lse=e=>{if(Y5.test(e)){const t=Y5.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Bse=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return Vse(Object.entries(e.classGroups),r).forEach(([i,o])=>{_4(o,s,i,t)}),s},_4=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:X5(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(Use(a)){_4(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{_4(o,X5(t,i),r,s)})})},X5=(e,t)=>{let r=e;return t.split(kk).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},Use=e=>e.isThemeGetter,Vse=(e,t)=>t?e.map(([r,s])=>{const a=s.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,zse=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},P7="!",Wse=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let g=0;g<l.length;g++){let j=l[g];if(d===0){if(j===a&&(s||l.slice(g,g+i)===t)){c.push(l.slice(u,g)),u=g+i;continue}if(j==="/"){f=g;continue}}j==="["?d++:j==="]"&&d--}const m=c.length===0?l:l.substring(u),h=m.startsWith(P7),x=h?m.substring(1):m,p=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:x,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},Hse=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},qse=e=>({cache:zse(e.cacheSize),parseClassName:Wse(e),...$se(e)}),Gse=/\s+/,Kse=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(Gse);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:h}=r(d);let x=!!h,p=s(x?m.substring(0,h):m);if(!p){if(!x){l=d+(l.length>0?" "+l:l);continue}if(p=s(m),!p){l=d+(l.length>0?" "+l:l);continue}x=!1}const g=Hse(u).join(":"),j=f?g+P7:g,y=j+p;if(i.includes(y))continue;i.push(y);const w=a(p,x);for(let b=0;b<w.length;++b){const N=w[b];i.push(j+N)}l=d+(l.length>0?" "+l:l)}return l};function Yse(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=k7(t))&&(s&&(s+=" "),s+=r);return s}const k7=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=k7(e[s]))&&(r&&(r+=" "),r+=t);return r};function Xse(e,...t){let r,s,a,i=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return r=qse(d),s=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=s(c);if(d)return d;const u=Kse(c,r);return a(c,u),u}return function(){return i(Yse.apply(null,arguments))}}const rn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},T7=/^\[(?:([a-z-]+):)?(.+)\]$/i,Qse=/^\d+\/\d+$/,Zse=new Set(["px","full","screen"]),Jse=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eae=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tae=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rae=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nae=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fc=e=>fh(e)||Zse.has(e)||Qse.test(e),gd=e=>Lp(e,"length",uae),fh=e=>!!e&&!Number.isNaN(Number(e)),K_=e=>Lp(e,"number",fh),Tx=e=>!!e&&Number.isInteger(Number(e)),sae=e=>e.endsWith("%")&&fh(e.slice(0,-1)),Gt=e=>T7.test(e),vd=e=>Jse.test(e),aae=new Set(["length","size","percentage"]),iae=e=>Lp(e,aae,O7),oae=e=>Lp(e,"position",O7),lae=new Set(["image","url"]),cae=e=>Lp(e,lae,mae),dae=e=>Lp(e,"",fae),Ox=()=>!0,Lp=(e,t,r)=>{const s=T7.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},uae=e=>eae.test(e)&&!tae.test(e),O7=()=>!1,fae=e=>rae.test(e),mae=e=>nae.test(e),hae=()=>{const e=rn("colors"),t=rn("spacing"),r=rn("blur"),s=rn("brightness"),a=rn("borderColor"),i=rn("borderRadius"),o=rn("borderSpacing"),l=rn("borderWidth"),c=rn("contrast"),d=rn("grayscale"),u=rn("hueRotate"),f=rn("invert"),m=rn("gap"),h=rn("gradientColorStops"),x=rn("gradientColorStopPositions"),p=rn("inset"),g=rn("margin"),j=rn("opacity"),y=rn("padding"),w=rn("saturate"),b=rn("scale"),N=rn("sepia"),_=rn("skew"),S=rn("space"),A=rn("translate"),E=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Gt,t],I=()=>[Gt,t],W=()=>["",fc,gd],H=()=>["auto",fh,Gt],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],k=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",Gt],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[fh,Gt];return{cacheSize:500,separator:":",theme:{colors:[Ox],spacing:[fc,gd],blur:["none","",vd,Gt],brightness:se(),borderColor:[e],borderRadius:["none","","full",vd,Gt],borderSpacing:I(),borderWidth:W(),contrast:se(),grayscale:O(),hueRotate:se(),invert:O(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[sae,gd],inset:D(),margin:D(),opacity:se(),padding:I(),saturate:se(),scale:se(),sepia:O(),skew:se(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Gt]}],container:["container"],columns:[{columns:[vd]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Gt]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Tx,Gt]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Gt]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",Tx,Gt]}],"grid-cols":[{"grid-cols":[Ox]}],"col-start-end":[{col:["auto",{span:["full",Tx,Gt]},Gt]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Ox]}],"row-start-end":[{row:["auto",{span:[Tx,Gt]},Gt]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Gt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Gt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Gt,t]}],"min-w":[{"min-w":[Gt,t,"min","max","fit"]}],"max-w":[{"max-w":[Gt,t,"none","full","min","max","fit","prose",{screen:[vd]},vd]}],h:[{h:[Gt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Gt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Gt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Gt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",vd,gd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",K_]}],"font-family":[{font:[Ox]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Gt]}],"line-clamp":[{"line-clamp":["none",fh,K_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fc,Gt]}],"list-image":[{"list-image":["none",Gt]}],"list-style-type":[{list:["none","disc","decimal",Gt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fc,gd]}],"underline-offset":[{"underline-offset":["auto",fc,Gt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Gt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Gt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),oae]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",iae]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cae]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:T()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[fc,Gt]}],"outline-w":[{outline:[fc,gd]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[fc,gd]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",vd,dae]}],"shadow-color":[{shadow:[Ox]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...k(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":k()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",vd,Gt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Gt]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",Gt]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",Gt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Tx,Gt]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Gt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Gt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Gt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[fc,gd,K_]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},pae=Xse(hae);function ge(...e){return pae(Vt(e))}const xae=lse,D7=v.forwardRef(({className:e,...t},r)=>n.jsx(a7,{ref:r,className:ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));D7.displayName=a7.displayName;const gae=$p("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),I7=v.forwardRef(({className:e,variant:t,...r},s)=>n.jsx(i7,{ref:s,className:ge(gae({variant:t}),e),...r}));I7.displayName=i7.displayName;const vae=v.forwardRef(({className:e,...t},r)=>n.jsx(c7,{ref:r,className:ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));vae.displayName=c7.displayName;const R7=v.forwardRef(({className:e,...t},r)=>n.jsx(d7,{ref:r,className:ge("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(ms,{className:"h-4 w-4"})}));R7.displayName=d7.displayName;const M7=v.forwardRef(({className:e,...t},r)=>n.jsx(o7,{ref:r,className:ge("text-sm font-semibold",e),...t}));M7.displayName=o7.displayName;const F7=v.forwardRef(({className:e,...t},r)=>n.jsx(l7,{ref:r,className:ge("text-sm opacity-90",e),...t}));F7.displayName=l7.displayName;function yae(){const{toasts:e}=xr();return n.jsxs(xae,{children:[e.map(function({id:t,title:r,description:s,action:a,...i}){return n.jsxs(I7,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(M7,{children:r}),s&&n.jsx(F7,{children:s})]}),a,n.jsx(R7,{})]},t)}),n.jsx(D7,{})]})}var Ub=["light","dark"],Tk="(prefers-color-scheme: dark)",jae=typeof window>"u",Ok=v.createContext(void 0),bae={setTheme:e=>{},themes:[]},Bp=()=>{var e;return(e=v.useContext(Ok))!=null?e:bae},wae=e=>v.useContext(Ok)?e.children:v.createElement(_ae,{...e}),Nae=["light","dark"],_ae=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:s=!0,storageKey:a="theme",themes:i=Nae,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:d,nonce:u})=>{let[f,m]=v.useState(()=>Q5(a,o)),[h,x]=v.useState(()=>Q5(a)),p=c?Object.values(c):i,g=v.useCallback(b=>{let N=b;if(!N)return;b==="system"&&r&&(N=Z5());let _=c?c[N]:N,S=t?Cae():null,A=document.documentElement;if(l==="class"?(A.classList.remove(...p),_&&A.classList.add(_)):_?A.setAttribute(l,_):A.removeAttribute(l),s){let E=Ub.includes(o)?o:null,P=Ub.includes(N)?N:E;A.style.colorScheme=P}S==null||S()},[]),j=v.useCallback(b=>{let N=typeof b=="function"?b(b):b;m(N);try{localStorage.setItem(a,N)}catch{}},[e]),y=v.useCallback(b=>{let N=Z5(b);x(N),f==="system"&&r&&!e&&g("system")},[f,e]);v.useEffect(()=>{let b=window.matchMedia(Tk);return b.addListener(y),y(b),()=>b.removeListener(y)},[y]),v.useEffect(()=>{let b=N=>{if(N.key!==a)return;let _=N.newValue||o;j(_)};return window.addEventListener("storage",b),()=>window.removeEventListener("storage",b)},[j]),v.useEffect(()=>{g(e??f)},[e,f]);let w=v.useMemo(()=>({theme:f,setTheme:j,forcedTheme:e,resolvedTheme:f==="system"?h:f,themes:r?[...i,"system"]:i,systemTheme:r?h:void 0}),[f,j,e,h,r,i]);return v.createElement(Ok.Provider,{value:w},v.createElement(Sae,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:s,storageKey:a,themes:i,defaultTheme:o,attribute:l,value:c,children:d,attrs:p,nonce:u}),d)},Sae=v.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:s,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?Ub.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(x,p=!1,g=!0)=>{let j=o?o[x]:x,y=p?x+"|| ''":`'${j}'`,w="";return a&&g&&!p&&Ub.includes(x)&&(w+=`d.style.colorScheme = '${x}';`),r==="class"?p||j?w+=`c.add(${y})`:w+="null":j&&(w+=`d[s](n,${y})`),w},h=e?`!function(){${u}${m(e)}}()`:s?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${Tk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return v.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})}),Q5=(e,t)=>{if(jae)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},Cae=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},Z5=e=>(e||(e=window.matchMedia(Tk)),e.matches?"dark":"light"),Aae=e=>{switch(e){case"success":return kae;case"info":return Oae;case"warning":return Tae;case"error":return Dae;default:return null}},Eae=Array(12).fill(0),Pae=({visible:e})=>z.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},z.createElement("div",{className:"sonner-spinner"},Eae.map((t,r)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),kae=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Tae=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Oae=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Dae=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Iae=()=>{let[e,t]=z.useState(document.hidden);return z.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},S4=1,Rae=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:S4++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...s,dismissible:o,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),a=r!==void 0;return s.then(async i=>{if(Fae(i)&&!i.ok){a=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:r,type:"error",message:o,description:l})}else if(t.success!==void 0){a=!1;let o=typeof t.success=="function"?await t.success(i):t.success,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"success",message:o,description:l})}}).catch(async i=>{if(t.error!==void 0){a=!1;let o=typeof t.error=="function"?await t.error(i):t.error,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"error",message:o,description:l})}}).finally(()=>{var i;a&&(this.dismiss(r),r=void 0),(i=t.finally)==null||i.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||S4++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},wi=new Rae,Mae=(e,t)=>{let r=(t==null?void 0:t.id)||S4++;return wi.addToast({title:e,...t,id:r}),r},Fae=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",$ae=Mae,Lae=()=>wi.toasts,Ue=Object.assign($ae,{success:wi.success,info:wi.info,warning:wi.warning,error:wi.error,custom:wi.custom,message:wi.message,promise:wi.promise,dismiss:wi.dismiss,loading:wi.loading},{getHistory:Lae});function Bae(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}Bae(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Jy(e){return e.label!==void 0}var Uae=3,Vae="32px",zae=4e3,Wae=356,Hae=14,qae=20,Gae=200;function Kae(...e){return e.filter(Boolean).join(" ")}var Yae=e=>{var t,r,s,a,i,o,l,c,d,u;let{invert:f,toast:m,unstyled:h,interacting:x,setHeights:p,visibleToasts:g,heights:j,index:y,toasts:w,expanded:b,removeToast:N,defaultRichColors:_,closeButton:S,style:A,cancelButtonStyle:E,actionButtonStyle:P,className:D="",descriptionClassName:I="",duration:W,position:H,gap:F,loadingIcon:T,expandByDefault:k,classNames:M,icons:O,closeButtonAriaLabel:K="Close toast",pauseWhenPageIsHidden:se,cn:R}=e,[V,L]=z.useState(!1),[G,le]=z.useState(!1),[me,B]=z.useState(!1),[Y,oe]=z.useState(!1),[Ne,ue]=z.useState(0),[ve,xe]=z.useState(0),Ee=z.useRef(null),Fe=z.useRef(null),Oe=y===0,ae=y+1<=g,he=m.type,ce=m.dismissible!==!1,je=m.className||"",Le=m.descriptionClassName||"",Ie=z.useMemo(()=>j.findIndex(jt=>jt.toastId===m.id)||0,[j,m.id]),de=z.useMemo(()=>{var jt;return(jt=m.closeButton)!=null?jt:S},[m.closeButton,S]),Re=z.useMemo(()=>m.duration||W||zae,[m.duration,W]),it=z.useRef(0),bt=z.useRef(0),Qe=z.useRef(0),ye=z.useRef(null),[Ge,At]=H.split("-"),Pt=z.useMemo(()=>j.reduce((jt,Mt,Jt)=>Jt>=Ie?jt:jt+Mt.height,0),[j,Ie]),fr=Iae(),jr=m.invert||f,Pn=he==="loading";bt.current=z.useMemo(()=>Ie*F+Pt,[Ie,Pt]),z.useEffect(()=>{L(!0)},[]),z.useLayoutEffect(()=>{if(!V)return;let jt=Fe.current,Mt=jt.style.height;jt.style.height="auto";let Jt=jt.getBoundingClientRect().height;jt.style.height=Mt,xe(Jt),p(Bn=>Bn.find(ls=>ls.toastId===m.id)?Bn.map(ls=>ls.toastId===m.id?{...ls,height:Jt}:ls):[{toastId:m.id,height:Jt,position:m.position},...Bn])},[V,m.title,m.description,p,m.id]);let gr=z.useCallback(()=>{le(!0),ue(bt.current),p(jt=>jt.filter(Mt=>Mt.toastId!==m.id)),setTimeout(()=>{N(m)},Gae)},[m,N,p,bt]);z.useEffect(()=>{if(m.promise&&he==="loading"||m.duration===1/0||m.type==="loading")return;let jt,Mt=Re;return b||x||se&&fr?(()=>{if(Qe.current<it.current){let Jt=new Date().getTime()-it.current;Mt=Mt-Jt}Qe.current=new Date().getTime()})():Mt!==1/0&&(it.current=new Date().getTime(),jt=setTimeout(()=>{var Jt;(Jt=m.onAutoClose)==null||Jt.call(m,m),gr()},Mt)),()=>clearTimeout(jt)},[b,x,k,m,Re,gr,m.promise,he,se,fr]),z.useEffect(()=>{let jt=Fe.current;if(jt){let Mt=jt.getBoundingClientRect().height;return xe(Mt),p(Jt=>[{toastId:m.id,height:Mt,position:m.position},...Jt]),()=>p(Jt=>Jt.filter(Bn=>Bn.toastId!==m.id))}},[p,m.id]),z.useEffect(()=>{m.delete&&gr()},[gr,m.delete]);function kr(){return O!=null&&O.loading?z.createElement("div",{className:"sonner-loader","data-visible":he==="loading"},O.loading):T?z.createElement("div",{className:"sonner-loader","data-visible":he==="loading"},T):z.createElement(Pae,{visible:he==="loading"})}return z.createElement("li",{"aria-live":m.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Fe,className:R(D,je,M==null?void 0:M.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,M==null?void 0:M.default,M==null?void 0:M[he],(r=m==null?void 0:m.classNames)==null?void 0:r[he]),"data-sonner-toast":"","data-rich-colors":(s=m.richColors)!=null?s:_,"data-styled":!(m.jsx||m.unstyled||h),"data-mounted":V,"data-promise":!!m.promise,"data-removed":G,"data-visible":ae,"data-y-position":Ge,"data-x-position":At,"data-index":y,"data-front":Oe,"data-swiping":me,"data-dismissible":ce,"data-type":he,"data-invert":jr,"data-swipe-out":Y,"data-expanded":!!(b||k&&V),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${G?Ne:bt.current}px`,"--initial-height":k?"auto":`${ve}px`,...A,...m.style},onPointerDown:jt=>{Pn||!ce||(Ee.current=new Date,ue(bt.current),jt.target.setPointerCapture(jt.pointerId),jt.target.tagName!=="BUTTON"&&(B(!0),ye.current={x:jt.clientX,y:jt.clientY}))},onPointerUp:()=>{var jt,Mt,Jt,Bn;if(Y||!ce)return;ye.current=null;let ls=Number(((jt=Fe.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount").replace("px",""))||0),$s=new Date().getTime()-((Mt=Ee.current)==null?void 0:Mt.getTime()),pd=Math.abs(ls)/$s;if(Math.abs(ls)>=qae||pd>.11){ue(bt.current),(Jt=m.onDismiss)==null||Jt.call(m,m),gr(),oe(!0);return}(Bn=Fe.current)==null||Bn.style.setProperty("--swipe-amount","0px"),B(!1)},onPointerMove:jt=>{var Mt;if(!ye.current||!ce)return;let Jt=jt.clientY-ye.current.y,Bn=jt.clientX-ye.current.x,ls=(Ge==="top"?Math.min:Math.max)(0,Jt),$s=jt.pointerType==="touch"?10:2;Math.abs(ls)>$s?(Mt=Fe.current)==null||Mt.style.setProperty("--swipe-amount",`${Jt}px`):Math.abs(Bn)>$s&&(ye.current=null)}},de&&!m.jsx?z.createElement("button",{"aria-label":K,"data-disabled":Pn,"data-close-button":!0,onClick:Pn||!ce?()=>{}:()=>{var jt;gr(),(jt=m.onDismiss)==null||jt.call(m,m)},className:R(M==null?void 0:M.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,m.jsx||z.isValidElement(m.title)?m.jsx||m.title:z.createElement(z.Fragment,null,he||m.icon||m.promise?z.createElement("div",{"data-icon":"",className:R(M==null?void 0:M.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||kr():null,m.type!=="loading"?m.icon||(O==null?void 0:O[he])||Aae(he):null):null,z.createElement("div",{"data-content":"",className:R(M==null?void 0:M.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},z.createElement("div",{"data-title":"",className:R(M==null?void 0:M.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},m.title),m.description?z.createElement("div",{"data-description":"",className:R(I,Le,M==null?void 0:M.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},m.description):null),z.isValidElement(m.cancel)?m.cancel:m.cancel&&Jy(m.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||E,onClick:jt=>{var Mt,Jt;Jy(m.cancel)&&ce&&((Jt=(Mt=m.cancel).onClick)==null||Jt.call(Mt,jt),gr())},className:R(M==null?void 0:M.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,z.isValidElement(m.action)?m.action:m.action&&Jy(m.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||P,onClick:jt=>{var Mt,Jt;Jy(m.action)&&(jt.defaultPrevented||((Jt=(Mt=m.action).onClick)==null||Jt.call(Mt,jt),gr()))},className:R(M==null?void 0:M.actionButton,(u=m==null?void 0:m.classNames)==null?void 0:u.actionButton)},m.action.label):null))};function J5(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Xae=e=>{let{invert:t,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:o,offset:l,theme:c="light",richColors:d,duration:u,style:f,visibleToasts:m=Uae,toastOptions:h,dir:x=J5(),gap:p=Hae,loadingIcon:g,icons:j,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:w,cn:b=Kae}=e,[N,_]=z.useState([]),S=z.useMemo(()=>Array.from(new Set([r].concat(N.filter(se=>se.position).map(se=>se.position)))),[N,r]),[A,E]=z.useState([]),[P,D]=z.useState(!1),[I,W]=z.useState(!1),[H,F]=z.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=z.useRef(null),k=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=z.useRef(null),O=z.useRef(!1),K=z.useCallback(se=>{var R;(R=N.find(V=>V.id===se.id))!=null&&R.delete||wi.dismiss(se.id),_(V=>V.filter(({id:L})=>L!==se.id))},[N]);return z.useEffect(()=>wi.subscribe(se=>{if(se.dismiss){_(R=>R.map(V=>V.id===se.id?{...V,delete:!0}:V));return}setTimeout(()=>{uN.flushSync(()=>{_(R=>{let V=R.findIndex(L=>L.id===se.id);return V!==-1?[...R.slice(0,V),{...R[V],...se},...R.slice(V+1)]:[se,...R]})})})}),[]),z.useEffect(()=>{if(c!=="system"){F(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:se})=>{F(se?"dark":"light")})},[c]),z.useEffect(()=>{N.length<=1&&D(!1)},[N]),z.useEffect(()=>{let se=R=>{var V,L;s.every(G=>R[G]||R.code===G)&&(D(!0),(V=T.current)==null||V.focus()),R.code==="Escape"&&(document.activeElement===T.current||(L=T.current)!=null&&L.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",se),()=>document.removeEventListener("keydown",se)},[s]),z.useEffect(()=>{if(T.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,O.current=!1)}},[T.current]),N.length?z.createElement("section",{"aria-label":`${y} ${k}`,tabIndex:-1},S.map((se,R)=>{var V;let[L,G]=se.split("-");return z.createElement("ol",{key:se,dir:x==="auto"?J5():x,tabIndex:-1,ref:T,className:o,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":L,"data-x-position":G,style:{"--front-toast-height":`${((V=A[0])==null?void 0:V.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||Vae,"--width":`${Wae}px`,"--gap":`${p}px`,...f},onBlur:le=>{O.current&&!le.currentTarget.contains(le.relatedTarget)&&(O.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||O.current||(O.current=!0,M.current=le.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{I||D(!1)},onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},N.filter(le=>!le.position&&R===0||le.position===se).map((le,me)=>{var B,Y;return z.createElement(Yae,{key:le.id,icons:j,index:me,toast:le,defaultRichColors:d,duration:(B=h==null?void 0:h.duration)!=null?B:u,className:h==null?void 0:h.className,descriptionClassName:h==null?void 0:h.descriptionClassName,invert:t,visibleToasts:m,closeButton:(Y=h==null?void 0:h.closeButton)!=null?Y:i,interacting:I,position:se,style:h==null?void 0:h.style,unstyled:h==null?void 0:h.unstyled,classNames:h==null?void 0:h.classNames,cancelButtonStyle:h==null?void 0:h.cancelButtonStyle,actionButtonStyle:h==null?void 0:h.actionButtonStyle,removeToast:K,toasts:N.filter(oe=>oe.position==le.position),heights:A.filter(oe=>oe.position==le.position),setHeights:E,expandByDefault:a,gap:p,loadingIcon:g,expanded:P,pauseWhenPageIsHidden:w,cn:b})}))})):null};const Qae=({...e})=>{const{theme:t="system"}=Bp();return n.jsx(Xae,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Zae=PP.useId||(()=>{}),Jae=0;function ai(e){const[t,r]=v.useState(Zae());return ss(()=>{r(s=>s??String(Jae++))},[e]),t?`radix-${t}`:""}const eie=["top","right","bottom","left"],mu=Math.min,Ai=Math.max,Vb=Math.round,ej=Math.floor,hu=e=>({x:e,y:e}),tie={left:"right",right:"left",bottom:"top",top:"bottom"},rie={start:"end",end:"start"};function C4(e,t,r){return Ai(e,mu(t,r))}function Kc(e,t){return typeof e=="function"?e(t):e}function Yc(e){return e.split("-")[0]}function Up(e){return e.split("-")[1]}function Dk(e){return e==="x"?"y":"x"}function Ik(e){return e==="y"?"height":"width"}function pu(e){return["top","bottom"].includes(Yc(e))?"y":"x"}function Rk(e){return Dk(pu(e))}function nie(e,t,r){r===void 0&&(r=!1);const s=Up(e),a=Rk(e),i=Ik(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=zb(o)),[o,zb(o)]}function sie(e){const t=zb(e);return[A4(e),t,A4(t)]}function A4(e){return e.replace(/start|end/g,t=>rie[t])}function aie(e,t,r){const s=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:s:t?s:a;case"left":case"right":return t?i:o;default:return[]}}function iie(e,t,r,s){const a=Up(e);let i=aie(Yc(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(A4)))),i}function zb(e){return e.replace(/left|right|bottom|top/g,t=>tie[t])}function oie(e){return{top:0,right:0,bottom:0,left:0,...e}}function $7(e){return typeof e!="number"?oie(e):{top:e,right:e,bottom:e,left:e}}function Wb(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function eI(e,t,r){let{reference:s,floating:a}=e;const i=pu(t),o=Rk(t),l=Ik(o),c=Yc(t),d=i==="y",u=s.x+s.width/2-a.width/2,f=s.y+s.height/2-a.height/2,m=s[l]/2-a[l]/2;let h;switch(c){case"top":h={x:u,y:s.y-a.height};break;case"bottom":h={x:u,y:s.y+s.height};break;case"right":h={x:s.x+s.width,y:f};break;case"left":h={x:s.x-a.width,y:f};break;default:h={x:s.x,y:s.y}}switch(Up(t)){case"start":h[o]-=m*(r&&d?-1:1);break;case"end":h[o]+=m*(r&&d?-1:1);break}return h}const lie=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:f}=eI(d,s,c),m=s,h={},x=0;for(let p=0;p<l.length;p++){const{name:g,fn:j}=l[p],{x:y,y:w,data:b,reset:N}=await j({x:u,y:f,initialPlacement:s,placement:m,strategy:a,middlewareData:h,rects:d,platform:o,elements:{reference:e,floating:t}});u=y??u,f=w??f,h={...h,[g]:{...h[g],...b}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:u,y:f}=eI(d,m,c)),p=-1)}return{x:u,y:f,placement:m,strategy:a,middlewareData:h}};async function u0(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=Kc(t,e),x=$7(h),g=l[m?f==="floating"?"reference":"floating":f],j=Wb(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=f==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Wb(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(j.top-N.top+x.top)/b.y,bottom:(N.bottom-j.bottom+x.bottom)/b.y,left:(j.left-N.left+x.left)/b.x,right:(N.right-j.right+x.right)/b.x}}const cie=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Kc(e,t)||{};if(d==null)return{};const f=$7(u),m={x:r,y:s},h=Rk(a),x=Ik(h),p=await o.getDimensions(d),g=h==="y",j=g?"top":"left",y=g?"bottom":"right",w=g?"clientHeight":"clientWidth",b=i.reference[x]+i.reference[h]-m[h]-i.floating[x],N=m[h]-i.reference[h],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let S=_?_[w]:0;(!S||!await(o.isElement==null?void 0:o.isElement(_)))&&(S=l.floating[w]||i.floating[x]);const A=b/2-N/2,E=S/2-p[x]/2-1,P=mu(f[j],E),D=mu(f[y],E),I=P,W=S-p[x]-D,H=S/2-p[x]/2+A,F=C4(I,H,W),T=!c.arrow&&Up(a)!=null&&H!==F&&i.reference[x]/2-(H<I?P:D)-p[x]/2<0,k=T?H<I?H-I:H-W:0;return{[h]:m[h]+k,data:{[h]:F,centerOffset:H-F-k,...T&&{alignmentOffset:k}},reset:T}}}),die=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:p=!0,...g}=Kc(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const j=Yc(a),y=pu(l),w=Yc(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=m||(w||!p?[zb(l)]:sie(l)),_=x!=="none";!m&&_&&N.push(...iie(l,p,x,b));const S=[l,...N],A=await u0(t,g),E=[];let P=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&E.push(A[j]),f){const H=nie(a,o,b);E.push(A[H[0]],A[H[1]])}if(P=[...P,{placement:a,overflows:E}],!E.every(H=>H<=0)){var D,I;const H=(((D=i.flip)==null?void 0:D.index)||0)+1,F=S[H];if(F)return{data:{index:H,overflows:P},reset:{placement:F}};let T=(I=P.filter(k=>k.overflows[0]<=0).sort((k,M)=>k.overflows[1]-M.overflows[1])[0])==null?void 0:I.placement;if(!T)switch(h){case"bestFit":{var W;const k=(W=P.filter(M=>{if(_){const O=pu(M.placement);return O===y||O==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(O=>O>0).reduce((O,K)=>O+K,0)]).sort((M,O)=>M[1]-O[1])[0])==null?void 0:W[0];k&&(T=k);break}case"initialPlacement":T=l;break}if(a!==T)return{reset:{placement:T}}}return{}}}};function tI(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function rI(e){return eie.some(t=>e[t]>=0)}const uie=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=Kc(e,t);switch(s){case"referenceHidden":{const i=await u0(t,{...a,elementContext:"reference"}),o=tI(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:rI(o)}}}case"escaped":{const i=await u0(t,{...a,altBoundary:!0}),o=tI(i,r.floating);return{data:{escapedOffsets:o,escaped:rI(o)}}}default:return{}}}}};async function fie(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Yc(r),l=Up(r),c=pu(r)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,f=Kc(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(h=l==="end"?x*-1:x),c?{x:h*u,y:m*d}:{x:m*d,y:h*u}}const mie=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await fie(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},hie=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:j,y}=g;return{x:j,y}}},...c}=Kc(e,t),d={x:r,y:s},u=await u0(t,c),f=pu(Yc(a)),m=Dk(f);let h=d[m],x=d[f];if(i){const g=m==="y"?"top":"left",j=m==="y"?"bottom":"right",y=h+u[g],w=h-u[j];h=C4(y,h,w)}if(o){const g=f==="y"?"top":"left",j=f==="y"?"bottom":"right",y=x+u[g],w=x-u[j];x=C4(y,x,w)}const p=l.fn({...t,[m]:h,[f]:x});return{...p,data:{x:p.x-r,y:p.y-s,enabled:{[m]:i,[f]:o}}}}}},pie=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Kc(e,t),u={x:r,y:s},f=pu(a),m=Dk(f);let h=u[m],x=u[f];const p=Kc(l,t),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=m==="y"?"height":"width",b=i.reference[m]-i.floating[w]+g.mainAxis,N=i.reference[m]+i.reference[w]-g.mainAxis;h<b?h=b:h>N&&(h=N)}if(d){var j,y;const w=m==="y"?"width":"height",b=["top","left"].includes(Yc(a)),N=i.reference[f]-i.floating[w]+(b&&((j=o.offset)==null?void 0:j[f])||0)+(b?0:g.crossAxis),_=i.reference[f]+i.reference[w]+(b?0:((y=o.offset)==null?void 0:y[f])||0)-(b?g.crossAxis:0);x<N?x=N:x>_&&(x=_)}return{[m]:h,[f]:x}}}},xie=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Kc(e,t),u=await u0(t,d),f=Yc(a),m=Up(a),h=pu(a)==="y",{width:x,height:p}=i.floating;let g,j;f==="top"||f==="bottom"?(g=f,j=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(j=f,g=m==="end"?"top":"bottom");const y=p-u.top-u.bottom,w=x-u.left-u.right,b=mu(p-u[g],y),N=mu(x-u[j],w),_=!t.middlewareData.shift;let S=b,A=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(A=w),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(S=y),_&&!m){const P=Ai(u.left,0),D=Ai(u.right,0),I=Ai(u.top,0),W=Ai(u.bottom,0);h?A=x-2*(P!==0||D!==0?P+D:Ai(u.left,u.right)):S=p-2*(I!==0||W!==0?I+W:Ai(u.top,u.bottom))}await c({...t,availableWidth:A,availableHeight:S});const E=await o.getDimensions(l.floating);return x!==E.width||p!==E.height?{reset:{rects:!0}}:{}}}};function xN(){return typeof window<"u"}function Vp(e){return L7(e)?(e.nodeName||"").toLowerCase():"#document"}function Ii(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function nc(e){var t;return(t=(L7(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function L7(e){return xN()?e instanceof Node||e instanceof Ii(e).Node:!1}function ll(e){return xN()?e instanceof Element||e instanceof Ii(e).Element:!1}function Zl(e){return xN()?e instanceof HTMLElement||e instanceof Ii(e).HTMLElement:!1}function nI(e){return!xN()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ii(e).ShadowRoot}function $v(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=cl(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!["inline","contents"].includes(a)}function gie(e){return["table","td","th"].includes(Vp(e))}function gN(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Mk(e){const t=Fk(),r=ll(e)?cl(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function vie(e){let t=xu(e);for(;Zl(t)&&!Kh(t);){if(Mk(t))return t;if(gN(t))return null;t=xu(t)}return null}function Fk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Kh(e){return["html","body","#document"].includes(Vp(e))}function cl(e){return Ii(e).getComputedStyle(e)}function vN(e){return ll(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xu(e){if(Vp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||nI(e)&&e.host||nc(e);return nI(t)?t.host:t}function B7(e){const t=xu(e);return Kh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Zl(t)&&$v(t)?t:B7(t)}function f0(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=B7(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=Ii(a);if(i){const l=E4(o);return t.concat(o,o.visualViewport||[],$v(a)?a:[],l&&r?f0(l):[])}return t.concat(a,f0(a,[],r))}function E4(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function U7(e){const t=cl(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=Zl(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,l=Vb(r)!==i||Vb(s)!==o;return l&&(r=i,s=o),{width:r,height:s,$:l}}function $k(e){return ll(e)?e:e.contextElement}function mh(e){const t=$k(e);if(!Zl(t))return hu(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=U7(t);let o=(i?Vb(r.width):r.width)/s,l=(i?Vb(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const yie=hu(0);function V7(e){const t=Ii(e);return!Fk()||!t.visualViewport?yie:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function jie(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ii(e)?!1:t}function $f(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=$k(e);let o=hu(1);t&&(s?ll(s)&&(o=mh(s)):o=mh(e));const l=jie(i,r,s)?V7(i):hu(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,f=a.height/o.y;if(i){const m=Ii(i),h=s&&ll(s)?Ii(s):s;let x=m,p=E4(x);for(;p&&s&&h!==x;){const g=mh(p),j=p.getBoundingClientRect(),y=cl(p),w=j.left+(p.clientLeft+parseFloat(y.paddingLeft))*g.x,b=j.top+(p.clientTop+parseFloat(y.paddingTop))*g.y;c*=g.x,d*=g.y,u*=g.x,f*=g.y,c+=w,d+=b,x=Ii(p),p=E4(x)}}return Wb({width:u,height:f,x:c,y:d})}function bie(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=nc(s),l=t?gN(t.floating):!1;if(s===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=hu(1);const u=hu(0),f=Zl(s);if((f||!f&&!i)&&((Vp(s)!=="body"||$v(o))&&(c=vN(s)),Zl(s))){const m=$f(s);d=mh(s),u.x=m.x+s.clientLeft,u.y=m.y+s.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x,y:r.y*d.y-c.scrollTop*d.y+u.y}}function wie(e){return Array.from(e.getClientRects())}function P4(e,t){const r=vN(e).scrollLeft;return t?t.left+r:$f(nc(e)).left+r}function Nie(e){const t=nc(e),r=vN(e),s=e.ownerDocument.body,a=Ai(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=Ai(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+P4(e);const l=-r.scrollTop;return cl(s).direction==="rtl"&&(o+=Ai(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}function _ie(e,t){const r=Ii(e),s=nc(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=Fk();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function Sie(e,t){const r=$f(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=Zl(e)?mh(e):hu(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=s*i.y;return{width:o,height:l,x:c,y:d}}function sI(e,t,r){let s;if(t==="viewport")s=_ie(e,r);else if(t==="document")s=Nie(nc(e));else if(ll(t))s=Sie(t,r);else{const a=V7(e);s={...t,x:t.x-a.x,y:t.y-a.y}}return Wb(s)}function z7(e,t){const r=xu(e);return r===t||!ll(r)||Kh(r)?!1:cl(r).position==="fixed"||z7(r,t)}function Cie(e,t){const r=t.get(e);if(r)return r;let s=f0(e,[],!1).filter(l=>ll(l)&&Vp(l)!=="body"),a=null;const i=cl(e).position==="fixed";let o=i?xu(e):e;for(;ll(o)&&!Kh(o);){const l=cl(o),c=Mk(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||$v(o)&&!c&&z7(e,o))?s=s.filter(u=>u!==o):a=l,o=xu(o)}return t.set(e,s),s}function Aie(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?gN(t)?[]:Cie(t,this._c):[].concat(r),s],l=o[0],c=o.reduce((d,u)=>{const f=sI(t,u,a);return d.top=Ai(f.top,d.top),d.right=mu(f.right,d.right),d.bottom=mu(f.bottom,d.bottom),d.left=Ai(f.left,d.left),d},sI(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Eie(e){const{width:t,height:r}=U7(e);return{width:t,height:r}}function Pie(e,t,r){const s=Zl(t),a=nc(t),i=r==="fixed",o=$f(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=hu(0);if(s||!s&&!i)if((Vp(t)!=="body"||$v(a))&&(l=vN(t)),s){const h=$f(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=P4(a));let d=0,u=0;if(a&&!s&&!i){const h=a.getBoundingClientRect();u=h.top+l.scrollTop,d=h.left+l.scrollLeft-P4(a,h)}const f=o.left+l.scrollLeft-c.x-d,m=o.top+l.scrollTop-c.y-u;return{x:f,y:m,width:o.width,height:o.height}}function Y_(e){return cl(e).position==="static"}function aI(e,t){if(!Zl(e)||cl(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return nc(e)===r&&(r=r.ownerDocument.body),r}function W7(e,t){const r=Ii(e);if(gN(e))return r;if(!Zl(e)){let a=xu(e);for(;a&&!Kh(a);){if(ll(a)&&!Y_(a))return a;a=xu(a)}return r}let s=aI(e,t);for(;s&&gie(s)&&Y_(s);)s=aI(s,t);return s&&Kh(s)&&Y_(s)&&!Mk(s)?r:s||vie(e)||r}const kie=async function(e){const t=this.getOffsetParent||W7,r=this.getDimensions,s=await r(e.floating);return{reference:Pie(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Tie(e){return cl(e).direction==="rtl"}const Oie={convertOffsetParentRelativeRectToViewportRelativeRect:bie,getDocumentElement:nc,getClippingRect:Aie,getOffsetParent:W7,getElementRects:kie,getClientRects:wie,getDimensions:Eie,getScale:mh,isElement:ll,isRTL:Tie};function Die(e,t){let r=null,s;const a=nc(e);function i(){var l;clearTimeout(s),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:u,width:f,height:m}=e.getBoundingClientRect();if(l||t(),!f||!m)return;const h=ej(u),x=ej(a.clientWidth-(d+f)),p=ej(a.clientHeight-(u+m)),g=ej(d),y={rootMargin:-h+"px "+-x+"px "+-p+"px "+-g+"px",threshold:Ai(0,mu(1,c))||1};let w=!0;function b(N){const _=N[0].intersectionRatio;if(_!==c){if(!w)return o();_?o(!1,_):s=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(b,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(b,y)}r.observe(e)}return o(!0),i}function Iie(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,d=$k(e),u=a||i?[...d?f0(d):[],...f0(t)]:[];u.forEach(j=>{a&&j.addEventListener("scroll",r,{passive:!0}),i&&j.addEventListener("resize",r)});const f=d&&l?Die(d,r):null;let m=-1,h=null;o&&(h=new ResizeObserver(j=>{let[y]=j;y&&y.target===d&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),r()}),d&&!c&&h.observe(d),h.observe(t));let x,p=c?$f(e):null;c&&g();function g(){const j=$f(e);p&&(j.x!==p.x||j.y!==p.y||j.width!==p.width||j.height!==p.height)&&r(),p=j,x=requestAnimationFrame(g)}return r(),()=>{var j;u.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(j=h)==null||j.disconnect(),h=null,c&&cancelAnimationFrame(x)}}const Rie=mie,Mie=hie,Fie=die,$ie=xie,Lie=uie,iI=cie,Bie=pie,Uie=(e,t,r)=>{const s=new Map,a={platform:Oie,...r},i={...a.platform,_c:s};return lie(e,t,{...a,platform:i})};var nb=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Hb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!Hb(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Hb(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function H7(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function oI(e,t){const r=H7(e);return Math.round(t*r)/r}function X_(e){const t=v.useRef(e);return nb(()=>{t.current=e}),t}function Vie(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=v.useState(s);Hb(m,s)||h(s);const[x,p]=v.useState(null),[g,j]=v.useState(null),y=v.useCallback(M=>{M!==_.current&&(_.current=M,p(M))},[]),w=v.useCallback(M=>{M!==S.current&&(S.current=M,j(M))},[]),b=i||x,N=o||g,_=v.useRef(null),S=v.useRef(null),A=v.useRef(u),E=c!=null,P=X_(c),D=X_(a),I=X_(d),W=v.useCallback(()=>{if(!_.current||!S.current)return;const M={placement:t,strategy:r,middleware:m};D.current&&(M.platform=D.current),Uie(_.current,S.current,M).then(O=>{const K={...O,isPositioned:I.current!==!1};H.current&&!Hb(A.current,K)&&(A.current=K,fl.flushSync(()=>{f(K)}))})},[m,t,r,D,I]);nb(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[d]);const H=v.useRef(!1);nb(()=>(H.current=!0,()=>{H.current=!1}),[]),nb(()=>{if(b&&(_.current=b),N&&(S.current=N),b&&N){if(P.current)return P.current(b,N,W);W()}},[b,N,W,P,E]);const F=v.useMemo(()=>({reference:_,floating:S,setReference:y,setFloating:w}),[y,w]),T=v.useMemo(()=>({reference:b,floating:N}),[b,N]),k=v.useMemo(()=>{const M={position:r,left:0,top:0};if(!T.floating)return M;const O=oI(T.floating,u.x),K=oI(T.floating,u.y);return l?{...M,transform:"translate("+O+"px, "+K+"px)",...H7(T.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:O,top:K}},[r,l,T.floating,u.x,u.y]);return v.useMemo(()=>({...u,update:W,refs:F,elements:T,floatingStyles:k}),[u,W,F,T,k])}const zie=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?iI({element:s.current,padding:a}).fn(r):{}:s?iI({element:s,padding:a}).fn(r):{}}}},Wie=(e,t)=>({...Rie(e),options:[e,t]}),Hie=(e,t)=>({...Mie(e),options:[e,t]}),qie=(e,t)=>({...Bie(e),options:[e,t]}),Gie=(e,t)=>({...Fie(e),options:[e,t]}),Kie=(e,t)=>({...$ie(e),options:[e,t]}),Yie=(e,t)=>({...Lie(e),options:[e,t]}),Xie=(e,t)=>({...zie(e),options:[e,t]});var Qie="Arrow",q7=v.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(ft.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});q7.displayName=Qie;var Zie=q7;function Jie(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,eoe(a,...t)]}function eoe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function yN(e){const[t,r]=v.useState(void 0);return ss(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var Lk="Popper",[G7,Eu]=Jie(Lk),[toe,K7]=G7(Lk),Y7=e=>{const{__scopePopper:t,children:r}=e,[s,a]=v.useState(null);return n.jsx(toe,{scope:t,anchor:s,onAnchorChange:a,children:r})};Y7.displayName=Lk;var X7="PopperAnchor",Q7=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=K7(X7,r),o=v.useRef(null),l=It(t,o);return v.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:n.jsx(ft.div,{...a,ref:l})});Q7.displayName=X7;var Bk="PopperContent",[roe,noe]=G7(Bk),Z7=v.forwardRef((e,t)=>{var me,B,Y,oe,Ne,ue;const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:x,...p}=e,g=K7(Bk,r),[j,y]=v.useState(null),w=It(t,ve=>y(ve)),[b,N]=v.useState(null),_=yN(b),S=(_==null?void 0:_.width)??0,A=(_==null?void 0:_.height)??0,E=s+(i!=="center"?"-"+i:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},D=Array.isArray(d)?d:[d],I=D.length>0,W={padding:P,boundary:D.filter(aoe),altBoundary:I},{refs:H,floatingStyles:F,placement:T,isPositioned:k,middlewareData:M}=Vie({strategy:"fixed",placement:E,whileElementsMounted:(...ve)=>Iie(...ve,{animationFrame:h==="always"}),elements:{reference:g.anchor},middleware:[Wie({mainAxis:a+A,alignmentAxis:o}),c&&Hie({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?qie():void 0,...W}),c&&Gie({...W}),Kie({...W,apply:({elements:ve,rects:xe,availableWidth:Ee,availableHeight:Fe})=>{const{width:Oe,height:ae}=xe.reference,he=ve.floating.style;he.setProperty("--radix-popper-available-width",`${Ee}px`),he.setProperty("--radix-popper-available-height",`${Fe}px`),he.setProperty("--radix-popper-anchor-width",`${Oe}px`),he.setProperty("--radix-popper-anchor-height",`${ae}px`)}}),b&&Xie({element:b,padding:l}),ioe({arrowWidth:S,arrowHeight:A}),m&&Yie({strategy:"referenceHidden",...W})]}),[O,K]=tU(T),se=pn(x);ss(()=>{k&&(se==null||se())},[k,se]);const R=(me=M.arrow)==null?void 0:me.x,V=(B=M.arrow)==null?void 0:B.y,L=((Y=M.arrow)==null?void 0:Y.centerOffset)!==0,[G,le]=v.useState();return ss(()=>{j&&le(window.getComputedStyle(j).zIndex)},[j]),n.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:k?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(oe=M.transformOrigin)==null?void 0:oe.x,(Ne=M.transformOrigin)==null?void 0:Ne.y].join(" "),...((ue=M.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(roe,{scope:r,placedSide:O,onArrowChange:N,arrowX:R,arrowY:V,shouldHideArrow:L,children:n.jsx(ft.div,{"data-side":O,"data-align":K,...p,ref:w,style:{...p.style,animation:k?void 0:"none"}})})})});Z7.displayName=Bk;var J7="PopperArrow",soe={top:"bottom",right:"left",bottom:"top",left:"right"},eU=v.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=noe(J7,s),o=soe[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(Zie,{...a,ref:r,style:{...a.style,display:"block"}})})});eU.displayName=J7;function aoe(e){return e!==null}var ioe=e=>({name:"transformOrigin",options:e,fn(t){var g,j,y;const{placement:r,rects:s,middlewareData:a}=t,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=tU(r),f={start:"0%",center:"50%",end:"100%"}[u],m=(((j=a.arrow)==null?void 0:j.x)??0)+l/2,h=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let x="",p="";return d==="bottom"?(x=o?f:`${m}px`,p=`${-c}px`):d==="top"?(x=o?f:`${m}px`,p=`${s.floating.height+c}px`):d==="right"?(x=`${-c}px`,p=o?f:`${h}px`):d==="left"&&(x=`${s.floating.width+c}px`,p=o?f:`${h}px`),{data:{x,y:p}}}});function tU(e){const[t,r="center"]=e.split("-");return[t,r]}var jN=Y7,Lv=Q7,bN=Z7,wN=eU,[NN,Dnt]=ea("Tooltip",[Eu]),_N=Eu(),rU="TooltipProvider",ooe=700,k4="tooltip.open",[loe,Uk]=NN(rU),nU=e=>{const{__scopeTooltip:t,delayDuration:r=ooe,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:i}=e,[o,l]=v.useState(!0),c=v.useRef(!1),d=v.useRef(0);return v.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),n.jsx(loe,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:v.useCallback(u=>{c.current=u},[]),disableHoverableContent:a,children:i})};nU.displayName=rU;var SN="Tooltip",[coe,CN]=NN(SN),sU=e=>{const{__scopeTooltip:t,children:r,open:s,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=Uk(SN,e.__scopeTooltip),d=_N(t),[u,f]=v.useState(null),m=ai(),h=v.useRef(0),x=o??c.disableHoverableContent,p=l??c.delayDuration,g=v.useRef(!1),[j=!1,y]=Ia({prop:s,defaultProp:a,onChange:S=>{S?(c.onOpen(),document.dispatchEvent(new CustomEvent(k4))):c.onClose(),i==null||i(S)}}),w=v.useMemo(()=>j?g.current?"delayed-open":"instant-open":"closed",[j]),b=v.useCallback(()=>{window.clearTimeout(h.current),h.current=0,g.current=!1,y(!0)},[y]),N=v.useCallback(()=>{window.clearTimeout(h.current),h.current=0,y(!1)},[y]),_=v.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{g.current=!0,y(!0),h.current=0},p)},[p,y]);return v.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),n.jsx(jN,{...d,children:n.jsx(coe,{scope:t,contentId:m,open:j,stateAttribute:w,trigger:u,onTriggerChange:f,onTriggerEnter:v.useCallback(()=>{c.isOpenDelayed?_():b()},[c.isOpenDelayed,_,b]),onTriggerLeave:v.useCallback(()=>{x?N():(window.clearTimeout(h.current),h.current=0)},[N,x]),onOpen:b,onClose:N,disableHoverableContent:x,children:r})})};sU.displayName=SN;var T4="TooltipTrigger",aU=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=CN(T4,r),i=Uk(T4,r),o=_N(r),l=v.useRef(null),c=It(t,l,a.onTriggerChange),d=v.useRef(!1),u=v.useRef(!1),f=v.useCallback(()=>d.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),n.jsx(Lv,{asChild:!0,...o,children:n.jsx(ft.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:c,onPointerMove:He(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:He(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:He(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:He(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:He(e.onBlur,a.onClose),onClick:He(e.onClick,a.onClose)})})});aU.displayName=T4;var doe="TooltipPortal",[Int,uoe]=NN(doe,{forceMount:void 0}),Yh="TooltipContent",iU=v.forwardRef((e,t)=>{const r=uoe(Yh,e.__scopeTooltip),{forceMount:s=r.forceMount,side:a="top",...i}=e,o=CN(Yh,e.__scopeTooltip);return n.jsx(as,{present:s||o.open,children:o.disableHoverableContent?n.jsx(oU,{side:a,...i,ref:t}):n.jsx(foe,{side:a,...i,ref:t})})}),foe=v.forwardRef((e,t)=>{const r=CN(Yh,e.__scopeTooltip),s=Uk(Yh,e.__scopeTooltip),a=v.useRef(null),i=It(t,a),[o,l]=v.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:f}=s,m=v.useCallback(()=>{l(null),f(!1)},[f]),h=v.useCallback((x,p)=>{const g=x.currentTarget,j={x:x.clientX,y:x.clientY},y=xoe(j,g.getBoundingClientRect()),w=goe(j,y),b=voe(p.getBoundingClientRect()),N=joe([...w,...b]);l(N),f(!0)},[f]);return v.useEffect(()=>()=>m(),[m]),v.useEffect(()=>{if(c&&u){const x=g=>h(g,u),p=g=>h(g,c);return c.addEventListener("pointerleave",x),u.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",p)}}},[c,u,h,m]),v.useEffect(()=>{if(o){const x=p=>{const g=p.target,j={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(g))||(u==null?void 0:u.contains(g)),w=!yoe(j,o);y?m():w&&(m(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,u,o,d,m]),n.jsx(oU,{...e,ref:i})}),[moe,hoe]=NN(SN,{isInside:!1}),oU=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=CN(Yh,r),d=_N(r),{onClose:u}=c;return v.useEffect(()=>(document.addEventListener(k4,u),()=>document.removeEventListener(k4,u)),[u]),v.useEffect(()=>{if(c.trigger){const f=m=>{const h=m.target;h!=null&&h.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),n.jsx(im,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:n.jsxs(bN,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(jk,{children:s}),n.jsx(moe,{scope:r,isInside:!0,children:n.jsx(Wne,{id:c.contentId,role:"tooltip",children:a||s})})]})})});iU.displayName=Yh;var lU="TooltipArrow",poe=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...s}=e,a=_N(r);return hoe(lU,r).isInside?null:n.jsx(wN,{...a,...s,ref:t})});poe.displayName=lU;function xoe(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,s,a,i)){case i:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function goe(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return s}function voe(e){const{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}function yoe(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>s!=u>s&&r<(d-l)*(s-c)/(u-c)+l&&(a=!a)}return a}function joe(e){const t=e.slice();return t.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),boe(t)}function boe(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const a=e[s];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var woe=nU,Noe=sU,_oe=aU,cU=iU;const dU=woe,Soe=Noe,Coe=_oe,uU=v.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(cU,{ref:s,sideOffset:t,className:ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));uU.displayName=cU.displayName;var zp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Lf=typeof window>"u"||"Deno"in globalThis;function oo(){}function Aoe(e,t){return typeof e=="function"?e(t):e}function O4(e){return typeof e=="number"&&e>=0&&e!==1/0}function fU(e,t){return Math.max(e+(t||0)-Date.now(),0)}function hh(e,t){return typeof e=="function"?e(t):e}function qo(e,t){return typeof e=="function"?e(t):e}function lI(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(s){if(t.queryHash!==Vk(o,t.options))return!1}else if(!m0(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function cI(e,t){const{exact:r,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Bf(t.options.mutationKey)!==Bf(i))return!1}else if(!m0(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function Vk(e,t){return((t==null?void 0:t.queryKeyHashFn)||Bf)(e)}function Bf(e){return JSON.stringify(e,(t,r)=>D4(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function m0(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!m0(e[r],t[r])):!1}function mU(e,t){if(e===t)return e;const r=dI(e)&&dI(t);if(r||D4(e)&&D4(t)){const s=r?e:Object.keys(e),a=s.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d];(!r&&s.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=mU(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function qb(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function dI(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function D4(e){if(!uI(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!uI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function uI(e){return Object.prototype.toString.call(e)==="[object Object]"}function Eoe(e){return new Promise(t=>{setTimeout(t,e)})}function I4(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?mU(e,t):t}function Poe(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function koe(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var zk=Symbol();function hU(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===zk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var xf,Od,Eh,j8,Toe=(j8=class extends zp{constructor(){super();Et(this,xf);Et(this,Od);Et(this,Eh);mt(this,Eh,t=>{if(!Lf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){pe(this,Od)||this.setEventListener(pe(this,Eh))}onUnsubscribe(){var t;this.hasListeners()||((t=pe(this,Od))==null||t.call(this),mt(this,Od,void 0))}setEventListener(t){var r;mt(this,Eh,t),(r=pe(this,Od))==null||r.call(this),mt(this,Od,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){pe(this,xf)!==t&&(mt(this,xf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof pe(this,xf)=="boolean"?pe(this,xf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},xf=new WeakMap,Od=new WeakMap,Eh=new WeakMap,j8),Wk=new Toe,Ph,Dd,kh,b8,Ooe=(b8=class extends zp{constructor(){super();Et(this,Ph,!0);Et(this,Dd);Et(this,kh);mt(this,kh,t=>{if(!Lf&&window.addEventListener){const r=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){pe(this,Dd)||this.setEventListener(pe(this,kh))}onUnsubscribe(){var t;this.hasListeners()||((t=pe(this,Dd))==null||t.call(this),mt(this,Dd,void 0))}setEventListener(t){var r;mt(this,kh,t),(r=pe(this,Dd))==null||r.call(this),mt(this,Dd,t(this.setOnline.bind(this)))}setOnline(t){pe(this,Ph)!==t&&(mt(this,Ph,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return pe(this,Ph)}},Ph=new WeakMap,Dd=new WeakMap,kh=new WeakMap,b8),Gb=new Ooe;function R4(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}function Doe(e){return Math.min(1e3*2**e,3e4)}function pU(e){return(e??"online")==="online"?Gb.isOnline():!0}var xU=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Q_(e){return e instanceof xU}function gU(e){let t=!1,r=0,s=!1,a;const i=R4(),o=p=>{var g;s||(m(new xU(p)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>Wk.isFocused()&&(e.networkMode==="always"||Gb.isOnline())&&e.canRun(),u=()=>pU(e.networkMode)&&e.canRun(),f=p=>{var g;s||(s=!0,(g=e.onSuccess)==null||g.call(e,p),a==null||a(),i.resolve(p))},m=p=>{var g;s||(s=!0,(g=e.onError)==null||g.call(e,p),a==null||a(),i.reject(p))},h=()=>new Promise(p=>{var g;a=j=>{(s||d())&&p(j)},(g=e.onPause)==null||g.call(e)}).then(()=>{var p;a=void 0,s||(p=e.onContinue)==null||p.call(e)}),x=()=>{if(s)return;let p;const g=r===0?e.initialPromise:void 0;try{p=g??e.fn()}catch(j){p=Promise.reject(j)}Promise.resolve(p).then(f).catch(j=>{var _;if(s)return;const y=e.retry??(Lf?0:3),w=e.retryDelay??Doe,b=typeof w=="function"?w(r,j):w,N=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,j);if(t||!N){m(j);return}r++,(_=e.onFail)==null||_.call(e,r,j),Eoe(b).then(()=>d()?void 0:h()).then(()=>{t?m(j):x()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?x():h().then(x),i)}}function Ioe(){let e=[],t=0,r=l=>{l()},s=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{a=l}}}var ps=Ioe(),gf,w8,vU=(w8=class{constructor(){Et(this,gf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),O4(this.gcTime)&&mt(this,gf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Lf?1/0:5*60*1e3))}clearGcTimeout(){pe(this,gf)&&(clearTimeout(pe(this,gf)),mt(this,gf,void 0))}},gf=new WeakMap,w8),Th,Oh,io,sa,wv,vf,Bo,xc,N8,Roe=(N8=class extends vU{constructor(t){super();Et(this,Bo);Et(this,Th);Et(this,Oh);Et(this,io);Et(this,sa);Et(this,wv);Et(this,vf);mt(this,vf,!1),mt(this,wv,t.defaultOptions),this.setOptions(t.options),this.observers=[],mt(this,io,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,mt(this,Th,Moe(this.options)),this.state=t.state??pe(this,Th),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=pe(this,sa))==null?void 0:t.promise}setOptions(t){this.options={...pe(this,wv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&pe(this,io).remove(this)}setData(t,r){const s=I4(this.state.data,t,this.options);return Xt(this,Bo,xc).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){Xt(this,Bo,xc).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=pe(this,sa))==null?void 0:s.promise;return(a=pe(this,sa))==null||a.cancel(t),r?r.then(oo).catch(oo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(pe(this,Th))}isActive(){return this.observers.some(t=>qo(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!fU(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=pe(this,sa))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=pe(this,sa))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),pe(this,io).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(pe(this,sa)&&(pe(this,vf)?pe(this,sa).cancel({revert:!0}):pe(this,sa).cancelRetry()),this.scheduleGc()),pe(this,io).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xt(this,Bo,xc).call(this,{type:"invalidate"})}fetch(t,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(pe(this,sa))return pe(this,sa).continueRetry(),pe(this,sa).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(mt(this,vf,!0),s.signal)})},i=()=>{const f=hU(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return a(m),mt(this,vf,!1),this.options.persister?this.options.persister(f,m,this):f(m)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),mt(this,Oh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Xt(this,Bo,xc).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=f=>{var m,h,x,p;Q_(f)&&f.silent||Xt(this,Bo,xc).call(this,{type:"error",error:f}),Q_(f)||((h=(m=pe(this,io).config).onError)==null||h.call(m,f,this),(p=(x=pe(this,io).config).onSettled)==null||p.call(x,this.state.data,f,this)),this.scheduleGc()};return mt(this,sa,gU({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var m,h,x,p;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(g){l(g);return}(h=(m=pe(this,io).config).onSuccess)==null||h.call(m,f,this),(p=(x=pe(this,io).config).onSettled)==null||p.call(x,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Xt(this,Bo,xc).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Xt(this,Bo,xc).call(this,{type:"pause"})},onContinue:()=>{Xt(this,Bo,xc).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),pe(this,sa).start()}},Th=new WeakMap,Oh=new WeakMap,io=new WeakMap,sa=new WeakMap,wv=new WeakMap,vf=new WeakMap,Bo=new WeakSet,xc=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...yU(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Q_(a)&&a.revert&&pe(this,Oh)?{...pe(this,Oh),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),ps.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),pe(this,io).notify({query:this,type:"updated",action:t})})},N8);function yU(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:pU(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Moe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ol,_8,Foe=(_8=class extends zp{constructor(t={}){super();Et(this,Ol);this.config=t,mt(this,Ol,new Map)}build(t,r,s){const a=r.queryKey,i=r.queryHash??Vk(a,r);let o=this.get(i);return o||(o=new Roe({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:s,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){pe(this,Ol).has(t.queryHash)||(pe(this,Ol).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=pe(this,Ol).get(t.queryHash);r&&(t.destroy(),r===t&&pe(this,Ol).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ps.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return pe(this,Ol).get(t)}getAll(){return[...pe(this,Ol).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(s=>lI(r,s))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(s=>lI(t,s)):r}notify(t){ps.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ps.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ps.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ol=new WeakMap,_8),Dl,ja,yf,Il,bd,S8,$oe=(S8=class extends vU{constructor(t){super();Et(this,Il);Et(this,Dl);Et(this,ja);Et(this,yf);this.mutationId=t.mutationId,mt(this,ja,t.mutationCache),mt(this,Dl,[]),this.state=t.state||jU(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){pe(this,Dl).includes(t)||(pe(this,Dl).push(t),this.clearGcTimeout(),pe(this,ja).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){mt(this,Dl,pe(this,Dl).filter(r=>r!==t)),this.scheduleGc(),pe(this,ja).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){pe(this,Dl).length||(this.state.status==="pending"?this.scheduleGc():pe(this,ja).remove(this))}continue(){var t;return((t=pe(this,yf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,d,u,f,m,h,x,p,g,j,y,w,b,N,_,S;mt(this,yf,gU({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,E)=>{Xt(this,Il,bd).call(this,{type:"failed",failureCount:A,error:E})},onPause:()=>{Xt(this,Il,bd).call(this,{type:"pause"})},onContinue:()=>{Xt(this,Il,bd).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>pe(this,ja).canRun(this)}));const r=this.state.status==="pending",s=!pe(this,yf).canStart();try{if(!r){Xt(this,Il,bd).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(a=pe(this,ja).config).onMutate)==null?void 0:i.call(a,t,this));const E=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));E!==this.state.context&&Xt(this,Il,bd).call(this,{type:"pending",context:E,variables:t,isPaused:s})}const A=await pe(this,yf).start();return await((d=(c=pe(this,ja).config).onSuccess)==null?void 0:d.call(c,A,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,A,t,this.state.context)),await((h=(m=pe(this,ja).config).onSettled)==null?void 0:h.call(m,A,null,this.state.variables,this.state.context,this)),await((p=(x=this.options).onSettled)==null?void 0:p.call(x,A,null,t,this.state.context)),Xt(this,Il,bd).call(this,{type:"success",data:A}),A}catch(A){try{throw await((j=(g=pe(this,ja).config).onError)==null?void 0:j.call(g,A,t,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,A,t,this.state.context)),await((N=(b=pe(this,ja).config).onSettled)==null?void 0:N.call(b,void 0,A,this.state.variables,this.state.context,this)),await((S=(_=this.options).onSettled)==null?void 0:S.call(_,void 0,A,t,this.state.context)),A}finally{Xt(this,Il,bd).call(this,{type:"error",error:A})}}finally{pe(this,ja).runNext(this)}}},Dl=new WeakMap,ja=new WeakMap,yf=new WeakMap,Il=new WeakSet,bd=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ps.batch(()=>{pe(this,Dl).forEach(s=>{s.onMutationUpdate(t)}),pe(this,ja).notify({mutation:this,type:"updated",action:t})})},S8);function jU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bi,Nv,C8,Loe=(C8=class extends zp{constructor(t={}){super();Et(this,bi);Et(this,Nv);this.config=t,mt(this,bi,new Map),mt(this,Nv,Date.now())}build(t,r,s){const a=new $oe({mutationCache:this,mutationId:++Oy(this,Nv)._,options:t.defaultMutationOptions(r),state:s});return this.add(a),a}add(t){const r=tj(t),s=pe(this,bi).get(r)??[];s.push(t),pe(this,bi).set(r,s),this.notify({type:"added",mutation:t})}remove(t){var s;const r=tj(t);if(pe(this,bi).has(r)){const a=(s=pe(this,bi).get(r))==null?void 0:s.filter(i=>i!==t);a&&(a.length===0?pe(this,bi).delete(r):pe(this,bi).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const r=(s=pe(this,bi).get(tj(t)))==null?void 0:s.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var s;const r=(s=pe(this,bi).get(tj(t)))==null?void 0:s.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ps.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...pe(this,bi).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(s=>cI(r,s))}findAll(t={}){return this.getAll().filter(r=>cI(t,r))}notify(t){ps.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ps.batch(()=>Promise.all(t.map(r=>r.continue().catch(oo))))}},bi=new WeakMap,Nv=new WeakMap,C8);function tj(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function fI(e){return{onFetch:(t,r)=>{var u,f,m,h,x;const s=t.options,a=(m=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((h=t.state.data)==null?void 0:h.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},j=hU(t.options,t.fetchOptions),y=async(w,b,N)=>{if(p)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const _={queryKey:t.queryKey,pageParam:b,direction:N?"backward":"forward",meta:t.options.meta};g(_);const S=await j(_),{maxPages:A}=t.options,E=N?koe:Poe;return{pages:E(w.pages,S,A),pageParams:E(w.pageParams,b,A)}};if(a&&i.length){const w=a==="backward",b=w?Boe:mI,N={pages:i,pageParams:o},_=b(s,N);l=await y(N,_,w)}else{const w=e??i.length;do{const b=c===0?o[0]??s.initialPageParam:mI(s,l);if(c>0&&b==null)break;l=await y(l,b),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,g;return(g=(p=t.options).persister)==null?void 0:g.call(p,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function mI(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function Boe(e,{pages:t,pageParams:r}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,r[0],r):void 0}var kn,Id,Rd,Dh,Ih,Md,Rh,Mh,A8,Uoe=(A8=class{constructor(e={}){Et(this,kn);Et(this,Id);Et(this,Rd);Et(this,Dh);Et(this,Ih);Et(this,Md);Et(this,Rh);Et(this,Mh);mt(this,kn,e.queryCache||new Foe),mt(this,Id,e.mutationCache||new Loe),mt(this,Rd,e.defaultOptions||{}),mt(this,Dh,new Map),mt(this,Ih,new Map),mt(this,Md,0)}mount(){Oy(this,Md)._++,pe(this,Md)===1&&(mt(this,Rh,Wk.subscribe(async e=>{e&&(await this.resumePausedMutations(),pe(this,kn).onFocus())})),mt(this,Mh,Gb.subscribe(async e=>{e&&(await this.resumePausedMutations(),pe(this,kn).onOnline())})))}unmount(){var e,t;Oy(this,Md)._--,pe(this,Md)===0&&((e=pe(this,Rh))==null||e.call(this),mt(this,Rh,void 0),(t=pe(this,Mh))==null||t.call(this),mt(this,Mh,void 0))}isFetching(e){return pe(this,kn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return pe(this,Id).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=pe(this,kn).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=pe(this,kn).build(this,r);return e.revalidateIfStale&&s.isStaleByTime(hh(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return pe(this,kn).findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=pe(this,kn).get(s.queryHash),i=a==null?void 0:a.state.data,o=Aoe(t,i);if(o!==void 0)return pe(this,kn).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ps.batch(()=>pe(this,kn).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=pe(this,kn).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=pe(this,kn);ps.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=pe(this,kn),s={type:"active",...e};return ps.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},s=ps.batch(()=>pe(this,kn).findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(oo).catch(oo)}invalidateQueries(e={},t={}){return ps.batch(()=>{if(pe(this,kn).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=ps.batch(()=>pe(this,kn).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(oo)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(oo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=pe(this,kn).build(this,t);return r.isStaleByTime(hh(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(oo).catch(oo)}fetchInfiniteQuery(e){return e.behavior=fI(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(oo).catch(oo)}ensureInfiniteQueryData(e){return e.behavior=fI(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Gb.isOnline()?pe(this,Id).resumePausedMutations():Promise.resolve()}getQueryCache(){return pe(this,kn)}getMutationCache(){return pe(this,Id)}getDefaultOptions(){return pe(this,Rd)}setDefaultOptions(e){mt(this,Rd,e)}setQueryDefaults(e,t){pe(this,Dh).set(Bf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...pe(this,Dh).values()];let r={};return t.forEach(s=>{m0(e,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(e,t){pe(this,Ih).set(Bf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...pe(this,Ih).values()];let r={};return t.forEach(s=>{m0(e,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...pe(this,Rd).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Vk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===zk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...pe(this,Rd).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){pe(this,kn).clear(),pe(this,Id).clear()}},kn=new WeakMap,Id=new WeakMap,Rd=new WeakMap,Dh=new WeakMap,Ih=new WeakMap,Md=new WeakMap,Rh=new WeakMap,Mh=new WeakMap,A8),Wa,ir,_v,ba,jf,Fh,Fd,Rl,Sv,$h,Lh,bf,wf,$d,Bh,Er,ag,M4,F4,$4,L4,B4,U4,V4,bU,E8,Voe=(E8=class extends zp{constructor(t,r){super();Et(this,Er);Et(this,Wa);Et(this,ir);Et(this,_v);Et(this,ba);Et(this,jf);Et(this,Fh);Et(this,Fd);Et(this,Rl);Et(this,Sv);Et(this,$h);Et(this,Lh);Et(this,bf);Et(this,wf);Et(this,$d);Et(this,Bh,new Set);this.options=r,mt(this,Wa,t),mt(this,Rl,null),mt(this,Fd,R4()),this.options.experimental_prefetchInRender||pe(this,Fd).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(pe(this,ir).addObserver(this),hI(pe(this,ir),this.options)?Xt(this,Er,ag).call(this):this.updateResult(),Xt(this,Er,L4).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return z4(pe(this,ir),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return z4(pe(this,ir),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Xt(this,Er,B4).call(this),Xt(this,Er,U4).call(this),pe(this,ir).removeObserver(this)}setOptions(t,r){const s=this.options,a=pe(this,ir);if(this.options=pe(this,Wa).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qo(this.options.enabled,pe(this,ir))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Xt(this,Er,V4).call(this),pe(this,ir).setOptions(this.options),s._defaulted&&!qb(this.options,s)&&pe(this,Wa).getQueryCache().notify({type:"observerOptionsUpdated",query:pe(this,ir),observer:this});const i=this.hasListeners();i&&pI(pe(this,ir),a,this.options,s)&&Xt(this,Er,ag).call(this),this.updateResult(r),i&&(pe(this,ir)!==a||qo(this.options.enabled,pe(this,ir))!==qo(s.enabled,pe(this,ir))||hh(this.options.staleTime,pe(this,ir))!==hh(s.staleTime,pe(this,ir)))&&Xt(this,Er,M4).call(this);const o=Xt(this,Er,F4).call(this);i&&(pe(this,ir)!==a||qo(this.options.enabled,pe(this,ir))!==qo(s.enabled,pe(this,ir))||o!==pe(this,$d))&&Xt(this,Er,$4).call(this,o)}getOptimisticResult(t){const r=pe(this,Wa).getQueryCache().build(pe(this,Wa),t),s=this.createResult(r,t);return Woe(this,s)&&(mt(this,ba,s),mt(this,Fh,this.options),mt(this,jf,pe(this,ir).state)),s}getCurrentResult(){return pe(this,ba)}trackResult(t,r){const s={};return Object.keys(t).forEach(a=>{Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),s}trackProp(t){pe(this,Bh).add(t)}getCurrentQuery(){return pe(this,ir)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=pe(this,Wa).defaultQueryOptions(t),s=pe(this,Wa).getQueryCache().build(pe(this,Wa),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(t){return Xt(this,Er,ag).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),pe(this,ba)))}createResult(t,r){var A;const s=pe(this,ir),a=this.options,i=pe(this,ba),o=pe(this,jf),l=pe(this,Fh),d=t!==s?t.state:pe(this,_v),{state:u}=t;let f={...u},m=!1,h;if(r._optimisticResults){const E=this.hasListeners(),P=!E&&hI(t,r),D=E&&pI(t,s,r,a);(P||D)&&(f={...f,...yU(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:p,status:g}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&r.select===pe(this,Sv))h=pe(this,$h);else try{mt(this,Sv,r.select),h=r.select(f.data),h=I4(i==null?void 0:i.data,h,r),mt(this,$h,h),mt(this,Rl,null)}catch(E){mt(this,Rl,E)}else h=f.data;if(r.placeholderData!==void 0&&h===void 0&&g==="pending"){let E;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))E=i.data;else if(E=typeof r.placeholderData=="function"?r.placeholderData((A=pe(this,Lh))==null?void 0:A.state.data,pe(this,Lh)):r.placeholderData,r.select&&E!==void 0)try{E=r.select(E),mt(this,Rl,null)}catch(P){mt(this,Rl,P)}E!==void 0&&(g="success",h=I4(i==null?void 0:i.data,E,r),m=!0)}pe(this,Rl)&&(x=pe(this,Rl),h=pe(this,$h),p=Date.now(),g="error");const j=f.fetchStatus==="fetching",y=g==="pending",w=g==="error",b=y&&j,N=h!==void 0,S={status:g,fetchStatus:f.fetchStatus,isPending:y,isSuccess:g==="success",isError:w,isInitialLoading:b,isLoading:b,data:h,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:j,isRefetching:j&&!y,isLoadingError:w&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:w&&N,isStale:Hk(t,r),refetch:this.refetch,promise:pe(this,Fd)};if(this.options.experimental_prefetchInRender){const E=I=>{S.status==="error"?I.reject(S.error):S.data!==void 0&&I.resolve(S.data)},P=()=>{const I=mt(this,Fd,S.promise=R4());E(I)},D=pe(this,Fd);switch(D.status){case"pending":t.queryHash===s.queryHash&&E(D);break;case"fulfilled":(S.status==="error"||S.data!==D.value)&&P();break;case"rejected":(S.status!=="error"||S.error!==D.reason)&&P();break}}return S}updateResult(t){const r=pe(this,ba),s=this.createResult(pe(this,ir),this.options);if(mt(this,jf,pe(this,ir).state),mt(this,Fh,this.options),pe(this,jf).data!==void 0&&mt(this,Lh,pe(this,ir)),qb(s,r))return;mt(this,ba,s);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!pe(this,Bh).size)return!0;const c=new Set(l??pe(this,Bh));return this.options.throwOnError&&c.add("error"),Object.keys(pe(this,ba)).some(d=>{const u=d;return pe(this,ba)[u]!==r[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),Xt(this,Er,bU).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Xt(this,Er,L4).call(this)}},Wa=new WeakMap,ir=new WeakMap,_v=new WeakMap,ba=new WeakMap,jf=new WeakMap,Fh=new WeakMap,Fd=new WeakMap,Rl=new WeakMap,Sv=new WeakMap,$h=new WeakMap,Lh=new WeakMap,bf=new WeakMap,wf=new WeakMap,$d=new WeakMap,Bh=new WeakMap,Er=new WeakSet,ag=function(t){Xt(this,Er,V4).call(this);let r=pe(this,ir).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(oo)),r},M4=function(){Xt(this,Er,B4).call(this);const t=hh(this.options.staleTime,pe(this,ir));if(Lf||pe(this,ba).isStale||!O4(t))return;const s=fU(pe(this,ba).dataUpdatedAt,t)+1;mt(this,bf,setTimeout(()=>{pe(this,ba).isStale||this.updateResult()},s))},F4=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(pe(this,ir)):this.options.refetchInterval)??!1},$4=function(t){Xt(this,Er,U4).call(this),mt(this,$d,t),!(Lf||qo(this.options.enabled,pe(this,ir))===!1||!O4(pe(this,$d))||pe(this,$d)===0)&&mt(this,wf,setInterval(()=>{(this.options.refetchIntervalInBackground||Wk.isFocused())&&Xt(this,Er,ag).call(this)},pe(this,$d)))},L4=function(){Xt(this,Er,M4).call(this),Xt(this,Er,$4).call(this,Xt(this,Er,F4).call(this))},B4=function(){pe(this,bf)&&(clearTimeout(pe(this,bf)),mt(this,bf,void 0))},U4=function(){pe(this,wf)&&(clearInterval(pe(this,wf)),mt(this,wf,void 0))},V4=function(){const t=pe(this,Wa).getQueryCache().build(pe(this,Wa),this.options);if(t===pe(this,ir))return;const r=pe(this,ir);mt(this,ir,t),mt(this,_v,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},bU=function(t){ps.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(pe(this,ba))}),pe(this,Wa).getQueryCache().notify({query:pe(this,ir),type:"observerResultsUpdated"})})},E8);function zoe(e,t){return qo(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function hI(e,t){return zoe(e,t)||e.state.data!==void 0&&z4(e,t,t.refetchOnMount)}function z4(e,t,r){if(qo(t.enabled,e)!==!1){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&Hk(e,t)}return!1}function pI(e,t,r,s){return(e!==t||qo(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Hk(e,r)}function Hk(e,t){return qo(t.enabled,e)!==!1&&e.isStaleByTime(hh(t.staleTime,e))}function Woe(e,t){return!qb(e.getCurrentResult(),t)}var Ld,Bd,Ha,_c,Vc,sb,W4,P8,Hoe=(P8=class extends zp{constructor(r,s){super();Et(this,Vc);Et(this,Ld);Et(this,Bd);Et(this,Ha);Et(this,_c);mt(this,Ld,r),this.setOptions(s),this.bindMethods(),Xt(this,Vc,sb).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const s=this.options;this.options=pe(this,Ld).defaultMutationOptions(r),qb(this.options,s)||pe(this,Ld).getMutationCache().notify({type:"observerOptionsUpdated",mutation:pe(this,Ha),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Bf(s.mutationKey)!==Bf(this.options.mutationKey)?this.reset():((a=pe(this,Ha))==null?void 0:a.state.status)==="pending"&&pe(this,Ha).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=pe(this,Ha))==null||r.removeObserver(this)}onMutationUpdate(r){Xt(this,Vc,sb).call(this),Xt(this,Vc,W4).call(this,r)}getCurrentResult(){return pe(this,Bd)}reset(){var r;(r=pe(this,Ha))==null||r.removeObserver(this),mt(this,Ha,void 0),Xt(this,Vc,sb).call(this),Xt(this,Vc,W4).call(this)}mutate(r,s){var a;return mt(this,_c,s),(a=pe(this,Ha))==null||a.removeObserver(this),mt(this,Ha,pe(this,Ld).getMutationCache().build(pe(this,Ld),this.options)),pe(this,Ha).addObserver(this),pe(this,Ha).execute(r)}},Ld=new WeakMap,Bd=new WeakMap,Ha=new WeakMap,_c=new WeakMap,Vc=new WeakSet,sb=function(){var s;const r=((s=pe(this,Ha))==null?void 0:s.state)??jU();mt(this,Bd,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},W4=function(r){ps.batch(()=>{var s,a,i,o,l,c,d,u;if(pe(this,_c)&&this.hasListeners()){const f=pe(this,Bd).variables,m=pe(this,Bd).context;(r==null?void 0:r.type)==="success"?((a=(s=pe(this,_c)).onSuccess)==null||a.call(s,r.data,f,m),(o=(i=pe(this,_c)).onSettled)==null||o.call(i,r.data,null,f,m)):(r==null?void 0:r.type)==="error"&&((c=(l=pe(this,_c)).onError)==null||c.call(l,r.error,f,m),(u=(d=pe(this,_c)).onSettled)==null||u.call(d,void 0,r.error,f,m))}this.listeners.forEach(f=>{f(pe(this,Bd))})})},P8),wU=v.createContext(void 0),Gr=e=>{const t=v.useContext(wU);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},qoe=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(wU.Provider,{value:e,children:t})),NU=v.createContext(!1),Goe=()=>v.useContext(NU);NU.Provider;function Koe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Yoe=v.createContext(Koe()),Xoe=()=>v.useContext(Yoe);function _U(e,t){return typeof e=="function"?e(...t):!!e}function SU(){}var Qoe=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Zoe=e=>{v.useEffect(()=>{e.clearReset()},[e])},Joe=({result:e,errorResetBoundary:t,throwOnError:r,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&_U(r,[e.error,s]),ele=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},tle=(e,t)=>e.isLoading&&e.isFetching&&!t,rle=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,xI=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function nle(e,t,r){var u,f,m,h,x;const s=Gr(),a=Goe(),i=Xoe(),o=s.defaultQueryOptions(e);(f=(u=s.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,o),o._optimisticResults=a?"isRestoring":"optimistic",ele(o),Qoe(o,i),Zoe(i);const l=!s.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new t(s,o)),d=c.getOptimisticResult(o);if(v.useSyncExternalStore(v.useCallback(p=>{const g=a?()=>{}:c.subscribe(ps.batchCalls(p));return c.updateResult(),g},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),rle(o,d))throw xI(o,c,i);if(Joe({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw d.error;if((h=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||h.call(m,o,d),o.experimental_prefetchInRender&&!Lf&&tle(d,a)){const p=l?xI(o,c,i):(x=s.getQueryCache().get(o.queryHash))==null?void 0:x.promise;p==null||p.catch(SU).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Ns(e,t){return nle(e,Voe)}function un(e,t){const r=Gr(),[s]=v.useState(()=>new Hoe(r,e));v.useEffect(()=>{s.setOptions(e)},[s,e]);const a=v.useSyncExternalStore(v.useCallback(o=>s.subscribe(ps.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=v.useCallback((o,l)=>{s.mutate(o,l).catch(SU)},[s]);if(a.error&&_U(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},h0.apply(this,arguments)}var zd;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(zd||(zd={}));const gI="popstate";function sle(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:o,hash:l}=s.location;return H4("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:Kb(a)}return ile(t,r,null,e)}function Yn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function CU(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ale(){return Math.random().toString(36).substr(2,8)}function vI(e,t){return{usr:e.state,key:e.key,idx:t}}function H4(e,t,r,s){return r===void 0&&(r=null),h0({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Wp(t):t,{state:r,key:t&&t.key||s||ale()})}function Kb(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Wp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function ile(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=zd.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(h0({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function f(){l=zd.Pop;let g=u(),j=g==null?null:g-d;d=g,c&&c({action:l,location:p.location,delta:j})}function m(g,j){l=zd.Push;let y=H4(p.location,g,j);d=u()+1;let w=vI(y,d),b=p.createHref(y);try{o.pushState(w,"",b)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(b)}i&&c&&c({action:l,location:p.location,delta:1})}function h(g,j){l=zd.Replace;let y=H4(p.location,g,j);d=u();let w=vI(y,d),b=p.createHref(y);o.replaceState(w,"",b),i&&c&&c({action:l,location:p.location,delta:0})}function x(g){let j=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof g=="string"?g:Kb(g);return y=y.replace(/ $/,"%20"),Yn(j,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,j)}let p={get action(){return l},get location(){return e(a,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(gI,f),c=g,()=>{a.removeEventListener(gI,f),c=null}},createHref(g){return t(a,g)},createURL:x,encodeLocation(g){let j=x(g);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:m,replace:h,go(g){return o.go(g)}};return p}var yI;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(yI||(yI={}));function ole(e,t,r){return r===void 0&&(r="/"),lle(e,t,r,!1)}function lle(e,t,r,s){let a=typeof t=="string"?Wp(t):t,i=qk(a.pathname||"/",r);if(i==null)return null;let o=AU(e);cle(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=jle(i);l=vle(o[c],d,s)}return l}function AU(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Yn(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=su([s,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Yn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),AU(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:xle(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of EU(i.path))a(i,o,c)}),t}function EU(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=EU(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function cle(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:gle(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const dle=/^:[\w-]+$/,ule=3,fle=2,mle=1,hle=10,ple=-2,jI=e=>e==="*";function xle(e,t){let r=e.split("/"),s=r.length;return r.some(jI)&&(s+=ple),t&&(s+=fle),r.filter(a=>!jI(a)).reduce((a,i)=>a+(dle.test(i)?ule:i===""?mle:hle),s)}function gle(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function vle(e,t,r){let{routesMeta:s}=e,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=bI({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!f&&d&&r&&!s[s.length-1].route.index&&(f=bI({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:su([i,f.pathname]),pathnameBase:_le(su([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=su([i,f.pathnameBase]))}return o}function bI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=yle(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,u,f)=>{let{paramName:m,isOptional:h}=u;if(m==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const x=l[f];return h&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function yle(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),CU(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function jle(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return CU(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qk(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function ble(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?Wp(e):e;return{pathname:r?r.startsWith("/")?r:wle(r,t):t,search:Sle(s),hash:Cle(a)}}function wle(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Z_(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Nle(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Gk(e,t){let r=Nle(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Kk(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Wp(e):(a=h0({},e),Yn(!a.pathname||!a.pathname.includes("?"),Z_("?","pathname","search",a)),Yn(!a.pathname||!a.pathname.includes("#"),Z_("#","pathname","hash",a)),Yn(!a.search||!a.search.includes("#"),Z_("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=ble(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const su=e=>e.join("/").replace(/\/\/+/g,"/"),_le=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Sle=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Cle=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ale(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const PU=["post","put","patch","delete"];new Set(PU);const Ele=["get",...PU];new Set(Ele);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},p0.apply(this,arguments)}const Yk=v.createContext(null),Ple=v.createContext(null),Pu=v.createContext(null),AN=v.createContext(null),od=v.createContext({outlet:null,matches:[],isDataRoute:!1}),kU=v.createContext(null);function kle(e,t){let{relative:r}=t===void 0?{}:t;Hp()||Yn(!1);let{basename:s,navigator:a}=v.useContext(Pu),{hash:i,pathname:o,search:l}=OU(e,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:su([s,o])),a.createHref({pathname:c,search:l,hash:i})}function Hp(){return v.useContext(AN)!=null}function sc(){return Hp()||Yn(!1),v.useContext(AN).location}function TU(e){v.useContext(Pu).static||v.useLayoutEffect(e)}function ur(){let{isDataRoute:e}=v.useContext(od);return e?zle():Tle()}function Tle(){Hp()||Yn(!1);let e=v.useContext(Yk),{basename:t,future:r,navigator:s}=v.useContext(Pu),{matches:a}=v.useContext(od),{pathname:i}=sc(),o=JSON.stringify(Gk(a,r.v7_relativeSplatPath)),l=v.useRef(!1);return TU(()=>{l.current=!0}),v.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let f=Kk(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:su([t,f.pathname])),(u.replace?s.replace:s.push)(f,u.state,u)},[t,s,o,i,e])}function Yi(){let{matches:e}=v.useContext(od),t=e[e.length-1];return t?t.params:{}}function OU(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=v.useContext(Pu),{matches:a}=v.useContext(od),{pathname:i}=sc(),o=JSON.stringify(Gk(a,s.v7_relativeSplatPath));return v.useMemo(()=>Kk(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Ole(e,t){return Dle(e,t)}function Dle(e,t,r,s){Hp()||Yn(!1);let{navigator:a}=v.useContext(Pu),{matches:i}=v.useContext(od),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=sc(),u;if(t){var f;let g=typeof t=="string"?Wp(t):t;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||Yn(!1),u=g}else u=d;let m=u.pathname||"/",h=m;if(c!=="/"){let g=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=ole(e,{pathname:h}),p=$le(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:su([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:su([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,s);return t&&p?v.createElement(AN.Provider,{value:{location:p0({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:zd.Pop}},p):p}function Ile(){let e=Vle(),t=Ale(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:a},r):null,null)}const Rle=v.createElement(Ile,null);class Mle extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(od.Provider,{value:this.props.routeContext},v.createElement(kU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fle(e){let{routeContext:t,match:r,children:s}=e,a=v.useContext(Yk);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(od.Provider,{value:t},s)}function $le(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||Yn(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:m,errors:h}=r,x=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,f,m)=>{let h,x=!1,p=null,g=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||Rle,c&&(d<0&&m===0?(x=!0,g=null):d===m&&(x=!0,g=f.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,m+1)),y=()=>{let w;return h?w=p:x?w=g:f.route.Component?w=v.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,v.createElement(Fle,{match:f,routeContext:{outlet:u,matches:j,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?v.createElement(Mle,{location:r.location,revalidation:r.revalidation,component:p,error:h,children:y(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):y()},null)}var DU=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(DU||{}),Yb=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Yb||{});function Lle(e){let t=v.useContext(Yk);return t||Yn(!1),t}function Ble(e){let t=v.useContext(Ple);return t||Yn(!1),t}function Ule(e){let t=v.useContext(od);return t||Yn(!1),t}function IU(e){let t=Ule(),r=t.matches[t.matches.length-1];return r.route.id||Yn(!1),r.route.id}function Vle(){var e;let t=v.useContext(kU),r=Ble(Yb.UseRouteError),s=IU(Yb.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function zle(){let{router:e}=Lle(DU.UseNavigateStable),t=IU(Yb.UseNavigateStable),r=v.useRef(!1);return TU(()=>{r.current=!0}),v.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,p0({fromRouteId:t},i)))},[e,t])}function RU(e){let{to:t,replace:r,state:s,relative:a}=e;Hp()||Yn(!1);let{future:i,static:o}=v.useContext(Pu),{matches:l}=v.useContext(od),{pathname:c}=sc(),d=ur(),u=Kk(t,Gk(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(u);return v.useEffect(()=>d(JSON.parse(f),{replace:r,state:s,relative:a}),[d,f,a,r,s]),null}function Qt(e){Yn(!1)}function Wle(e){let{basename:t="/",children:r=null,location:s,navigationType:a=zd.Pop,navigator:i,static:o=!1,future:l}=e;Hp()&&Yn(!1);let c=t.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:c,navigator:i,static:o,future:p0({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=Wp(s));let{pathname:u="/",search:f="",hash:m="",state:h=null,key:x="default"}=s,p=v.useMemo(()=>{let g=qk(u,c);return g==null?null:{location:{pathname:g,search:f,hash:m,state:h,key:x},navigationType:a}},[c,u,f,m,h,x,a]);return p==null?null:v.createElement(Pu.Provider,{value:d},v.createElement(AN.Provider,{children:r,value:p}))}function Hle(e){let{children:t,location:r}=e;return Ole(q4(t),r)}new Promise(()=>{});function q4(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(s,a)=>{if(!v.isValidElement(s))return;let i=[...t,a];if(s.type===v.Fragment){r.push.apply(r,q4(s.props.children,i));return}s.type!==Qt&&Yn(!1),!s.props.index||!s.props.children||Yn(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=q4(s.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function G4(){return G4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},G4.apply(this,arguments)}function qle(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Gle(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Kle(e,t){return e.button===0&&(!t||t==="_self")&&!Gle(e)}function K4(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(a=>[r,a]):[[r,s]])},[]))}function Yle(e,t){let r=K4(e);return t&&t.forEach((s,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Xle=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Qle="6";try{window.__reactRouterVersion=Qle}catch{}const Zle="startTransition",wI=PP[Zle];function Jle(e){let{basename:t,children:r,future:s,window:a}=e,i=v.useRef();i.current==null&&(i.current=sle({window:a,v5Compat:!0}));let o=i.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=v.useCallback(f=>{d&&wI?wI(()=>c(f)):c(f)},[c,d]);return v.useLayoutEffect(()=>o.listen(u),[o,u]),v.createElement(Wle,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:s})}const ece=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zi=v.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:f}=t,m=qle(t,Xle),{basename:h}=v.useContext(Pu),x,p=!1;if(typeof d=="string"&&tce.test(d)&&(x=d,ece))try{let w=new URL(window.location.href),b=d.startsWith("//")?new URL(w.protocol+d):new URL(d),N=qk(b.pathname,h);b.origin===w.origin&&N!=null?d=N+b.search+b.hash:p=!0}catch{}let g=kle(d,{relative:a}),j=rce(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:f});function y(w){s&&s(w),w.defaultPrevented||j(w)}return v.createElement("a",G4({},m,{href:x||g,onClick:p||i?s:y,ref:r,target:c}))});var NI;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(NI||(NI={}));var _I;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_I||(_I={}));function rce(e,t){let{target:r,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=ur(),d=sc(),u=OU(e,{relative:o});return v.useCallback(f=>{if(Kle(f,r)){f.preventDefault();let m=s!==void 0?s:Kb(d)===Kb(u);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,a,r,e,i,o,l])}function EN(e){let t=v.useRef(K4(e)),r=v.useRef(!1),s=sc(),a=v.useMemo(()=>Yle(s.search,r.current?null:t.current),[s.search]),i=ur(),o=v.useCallback((l,c)=>{const d=K4(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}function MU(e,t){return function(){return e.apply(t,arguments)}}const{toString:nce}=Object.prototype,{getPrototypeOf:Xk}=Object,{iterator:PN,toStringTag:FU}=Symbol,kN=(e=>t=>{const r=nce.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ml=e=>(e=e.toLowerCase(),t=>kN(t)===e),TN=e=>t=>typeof t===e,{isArray:qp}=Array,Xh=TN("undefined");function Bv(e){return e!==null&&!Xh(e)&&e.constructor!==null&&!Xh(e.constructor)&&ii(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const $U=ml("ArrayBuffer");function sce(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&$U(e.buffer),t}const ace=TN("string"),ii=TN("function"),LU=TN("number"),Uv=e=>e!==null&&typeof e=="object",ice=e=>e===!0||e===!1,ab=e=>{if(kN(e)!=="object")return!1;const t=Xk(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(FU in e)&&!(PN in e)},oce=e=>{if(!Uv(e)||Bv(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},lce=ml("Date"),cce=ml("File"),dce=ml("Blob"),uce=ml("FileList"),fce=e=>Uv(e)&&ii(e.pipe),mce=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ii(e.append)&&((t=kN(e))==="formdata"||t==="object"&&ii(e.toString)&&e.toString()==="[object FormData]"))},hce=ml("URLSearchParams"),[pce,xce,gce,vce]=["ReadableStream","Request","Response","Headers"].map(ml),yce=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vv(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),qp(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(Bv(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(s=0;s<o;s++)l=i[s],t.call(null,e[l],l,e)}}function BU(e,t){if(Bv(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,a;for(;s-- >0;)if(a=r[s],t===a.toLowerCase())return a;return null}const of=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,UU=e=>!Xh(e)&&e!==of;function Y4(){const{caseless:e,skipUndefined:t}=UU(this)&&this||{},r={},s=(a,i)=>{const o=e&&BU(r,i)||i;ab(r[o])&&ab(a)?r[o]=Y4(r[o],a):ab(a)?r[o]=Y4({},a):qp(a)?r[o]=a.slice():(!t||!Xh(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Vv(arguments[a],s);return r}const jce=(e,t,r,{allOwnKeys:s}={})=>(Vv(t,(a,i)=>{r&&ii(a)?e[i]=MU(a,r):e[i]=a},{allOwnKeys:s}),e),bce=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),wce=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Nce=(e,t,r,s)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!s||s(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&Xk(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},_ce=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},Sce=e=>{if(!e)return null;if(qp(e))return e;let t=e.length;if(!LU(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Cce=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Xk(Uint8Array)),Ace=(e,t)=>{const s=(e&&e[PN]).call(e);let a;for(;(a=s.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Ece=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},Pce=ml("HTMLFormElement"),kce=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),SI=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Tce=ml("RegExp"),VU=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};Vv(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(s[i]=o||a)}),Object.defineProperties(e,s)},Oce=e=>{VU(e,(t,r)=>{if(ii(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(ii(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Dce=(e,t)=>{const r={},s=a=>{a.forEach(i=>{r[i]=!0})};return qp(e)?s(e):s(String(e).split(t)),r},Ice=()=>{},Rce=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Mce(e){return!!(e&&ii(e.append)&&e[FU]==="FormData"&&e[PN])}const Fce=e=>{const t=new Array(10),r=(s,a)=>{if(Uv(s)){if(t.indexOf(s)>=0)return;if(Bv(s))return s;if(!("toJSON"in s)){t[a]=s;const i=qp(s)?[]:{};return Vv(s,(o,l)=>{const c=r(o,a+1);!Xh(c)&&(i[l]=c)}),t[a]=void 0,i}}return s};return r(e,0)},$ce=ml("AsyncFunction"),Lce=e=>e&&(Uv(e)||ii(e))&&ii(e.then)&&ii(e.catch),zU=((e,t)=>e?setImmediate:t?((r,s)=>(of.addEventListener("message",({source:a,data:i})=>{a===of&&i===r&&s.length&&s.shift()()},!1),a=>{s.push(a),of.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ii(of.postMessage)),Bce=typeof queueMicrotask<"u"?queueMicrotask.bind(of):typeof process<"u"&&process.nextTick||zU,Uce=e=>e!=null&&ii(e[PN]),De={isArray:qp,isArrayBuffer:$U,isBuffer:Bv,isFormData:mce,isArrayBufferView:sce,isString:ace,isNumber:LU,isBoolean:ice,isObject:Uv,isPlainObject:ab,isEmptyObject:oce,isReadableStream:pce,isRequest:xce,isResponse:gce,isHeaders:vce,isUndefined:Xh,isDate:lce,isFile:cce,isBlob:dce,isRegExp:Tce,isFunction:ii,isStream:fce,isURLSearchParams:hce,isTypedArray:Cce,isFileList:uce,forEach:Vv,merge:Y4,extend:jce,trim:yce,stripBOM:bce,inherits:wce,toFlatObject:Nce,kindOf:kN,kindOfTest:ml,endsWith:_ce,toArray:Sce,forEachEntry:Ace,matchAll:Ece,isHTMLForm:Pce,hasOwnProperty:SI,hasOwnProp:SI,reduceDescriptors:VU,freezeMethods:Oce,toObjectSet:Dce,toCamelCase:kce,noop:Ice,toFiniteNumber:Rce,findKey:BU,global:of,isContextDefined:UU,isSpecCompliantForm:Mce,toJSONObject:Fce,isAsyncFn:$ce,isThenable:Lce,setImmediate:zU,asap:Bce,isIterable:Uce};function Wt(e,t,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}De.inherits(Wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:De.toJSONObject(this.config),code:this.code,status:this.status}}});const WU=Wt.prototype,HU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{HU[e]={value:e}});Object.defineProperties(Wt,HU);Object.defineProperty(WU,"isAxiosError",{value:!0});Wt.from=(e,t,r,s,a,i)=>{const o=Object.create(WU);De.toFlatObject(e,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Wt.call(o,l,c,r,s,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const Vce=null;function X4(e){return De.isPlainObject(e)||De.isArray(e)}function qU(e){return De.endsWith(e,"[]")?e.slice(0,-2):e}function CI(e,t,r){return e?e.concat(t).map(function(a,i){return a=qU(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function zce(e){return De.isArray(e)&&!e.some(X4)}const Wce=De.toFlatObject(De,{},null,function(t){return/^is[A-Z]/.test(t)});function ON(e,t,r){if(!De.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=De.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,g){return!De.isUndefined(g[p])});const s=r.metaTokens,a=r.visitor||u,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&De.isSpecCompliantForm(t);if(!De.isFunction(a))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(De.isDate(x))return x.toISOString();if(De.isBoolean(x))return x.toString();if(!c&&De.isBlob(x))throw new Wt("Blob is not supported. Use a Buffer instead.");return De.isArrayBuffer(x)||De.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,p,g){let j=x;if(x&&!g&&typeof x=="object"){if(De.endsWith(p,"{}"))p=s?p:p.slice(0,-2),x=JSON.stringify(x);else if(De.isArray(x)&&zce(x)||(De.isFileList(x)||De.endsWith(p,"[]"))&&(j=De.toArray(x)))return p=qU(p),j.forEach(function(w,b){!(De.isUndefined(w)||w===null)&&t.append(o===!0?CI([p],b,i):o===null?p:p+"[]",d(w))}),!1}return X4(x)?!0:(t.append(CI(g,p,i),d(x)),!1)}const f=[],m=Object.assign(Wce,{defaultVisitor:u,convertValue:d,isVisitable:X4});function h(x,p){if(!De.isUndefined(x)){if(f.indexOf(x)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(x),De.forEach(x,function(j,y){(!(De.isUndefined(j)||j===null)&&a.call(t,j,De.isString(y)?y.trim():y,p,m))===!0&&h(j,p?p.concat(y):[y])}),f.pop()}}if(!De.isObject(e))throw new TypeError("data must be an object");return h(e),t}function AI(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Qk(e,t){this._pairs=[],e&&ON(e,this,t)}const GU=Qk.prototype;GU.append=function(t,r){this._pairs.push([t,r])};GU.toString=function(t){const r=t?function(s){return t.call(this,s,AI)}:AI;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Hce(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function KU(e,t,r){if(!t)return e;const s=r&&r.encode||Hce;De.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=De.isURLSearchParams(t)?t.toString():new Qk(t,r).toString(s),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class EI{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){De.forEach(this.handlers,function(s){s!==null&&t(s)})}}const YU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qce=typeof URLSearchParams<"u"?URLSearchParams:Qk,Gce=typeof FormData<"u"?FormData:null,Kce=typeof Blob<"u"?Blob:null,Yce={isBrowser:!0,classes:{URLSearchParams:qce,FormData:Gce,Blob:Kce},protocols:["http","https","file","blob","url","data"]},Zk=typeof window<"u"&&typeof document<"u",Q4=typeof navigator=="object"&&navigator||void 0,Xce=Zk&&(!Q4||["ReactNative","NativeScript","NS"].indexOf(Q4.product)<0),Qce=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Zce=Zk&&window.location.href||"http://localhost",Jce=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zk,hasStandardBrowserEnv:Xce,hasStandardBrowserWebWorkerEnv:Qce,navigator:Q4,origin:Zce},Symbol.toStringTag,{value:"Module"})),ca={...Jce,...Yce};function ede(e,t){return ON(e,new ca.classes.URLSearchParams,{visitor:function(r,s,a,i){return ca.isNode&&De.isBuffer(r)?(this.append(s,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function tde(e){return De.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function rde(e){const t={},r=Object.keys(e);let s;const a=r.length;let i;for(s=0;s<a;s++)i=r[s],t[i]=e[i];return t}function XU(e){function t(r,s,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&De.isArray(a)?a.length:o,c?(De.hasOwnProp(a,o)?a[o]=[a[o],s]:a[o]=s,!l):((!a[o]||!De.isObject(a[o]))&&(a[o]=[]),t(r,s,a[o],i)&&De.isArray(a[o])&&(a[o]=rde(a[o])),!l)}if(De.isFormData(e)&&De.isFunction(e.entries)){const r={};return De.forEachEntry(e,(s,a)=>{t(tde(s),a,r,0)}),r}return null}function nde(e,t,r){if(De.isString(e))try{return(t||JSON.parse)(e),De.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(e)}const zv={transitional:YU,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",a=s.indexOf("application/json")>-1,i=De.isObject(t);if(i&&De.isHTMLForm(t)&&(t=new FormData(t)),De.isFormData(t))return a?JSON.stringify(XU(t)):t;if(De.isArrayBuffer(t)||De.isBuffer(t)||De.isStream(t)||De.isFile(t)||De.isBlob(t)||De.isReadableStream(t))return t;if(De.isArrayBufferView(t))return t.buffer;if(De.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ede(t,this.formSerializer).toString();if((l=De.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ON(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),nde(t)):t}],transformResponse:[function(t){const r=this.transitional||zv.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(De.isResponse(t)||De.isReadableStream(t))return t;if(t&&De.isString(t)&&(s&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Wt.from(l,Wt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ca.classes.FormData,Blob:ca.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};De.forEach(["delete","get","head","post","put","patch"],e=>{zv.headers[e]={}});const sde=De.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ade=e=>{const t={};let r,s,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),s=o.substring(a+1).trim(),!(!r||t[r]&&sde[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},PI=Symbol("internals");function Dx(e){return e&&String(e).trim().toLowerCase()}function ib(e){return e===!1||e==null?e:De.isArray(e)?e.map(ib):String(e)}function ide(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const ode=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function J_(e,t,r,s,a){if(De.isFunction(s))return s.call(this,t,r);if(a&&(t=r),!!De.isString(t)){if(De.isString(s))return t.indexOf(s)!==-1;if(De.isRegExp(s))return s.test(t)}}function lde(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function cde(e,t){const r=De.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(a,i,o){return this[s].call(this,t,a,i,o)},configurable:!0})})}class oi{constructor(t){t&&this.set(t)}set(t,r,s){const a=this;function i(l,c,d){const u=Dx(c);if(!u)throw new Error("header name must be a non-empty string");const f=De.findKey(a,u);(!f||a[f]===void 0||d===!0||d===void 0&&a[f]!==!1)&&(a[f||c]=ib(l))}const o=(l,c)=>De.forEach(l,(d,u)=>i(d,u,c));if(De.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(De.isString(t)&&(t=t.trim())&&!ode(t))o(ade(t),r);else if(De.isObject(t)&&De.isIterable(t)){let l={},c,d;for(const u of t){if(!De.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?De.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,r)}else t!=null&&i(r,t,s);return this}get(t,r){if(t=Dx(t),t){const s=De.findKey(this,t);if(s){const a=this[s];if(!r)return a;if(r===!0)return ide(a);if(De.isFunction(r))return r.call(this,a,s);if(De.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Dx(t),t){const s=De.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||J_(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let a=!1;function i(o){if(o=Dx(o),o){const l=De.findKey(s,o);l&&(!r||J_(s,s[l],l,r))&&(delete s[l],a=!0)}}return De.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let s=r.length,a=!1;for(;s--;){const i=r[s];(!t||J_(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,s={};return De.forEach(this,(a,i)=>{const o=De.findKey(s,i);if(o){r[o]=ib(a),delete r[i];return}const l=t?lde(i):String(i).trim();l!==i&&delete r[i],r[l]=ib(a),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return De.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=t&&De.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[PI]=this[PI]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Dx(o);s[l]||(cde(a,o),s[l]=!0)}return De.isArray(t)?t.forEach(i):i(t),this}}oi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);De.reduceDescriptors(oi.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});De.freezeMethods(oi);function eS(e,t){const r=this||zv,s=t||r,a=oi.from(s.headers);let i=s.data;return De.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function QU(e){return!!(e&&e.__CANCEL__)}function Gp(e,t,r){Wt.call(this,e??"canceled",Wt.ERR_CANCELED,t,r),this.name="CanceledError"}De.inherits(Gp,Wt,{__CANCEL__:!0});function ZU(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new Wt("Request failed with status code "+r.status,[Wt.ERR_BAD_REQUEST,Wt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function dde(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ude(e,t){e=e||10;const r=new Array(e),s=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=s[i];o||(o=d),r[a]=c,s[a]=d;let f=i,m=0;for(;f!==a;)m+=r[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-o<t)return;const h=u&&d-u;return h?Math.round(m*1e3/h):void 0}}function fde(e,t){let r=0,s=1e3/t,a,i;const o=(d,u=Date.now())=>{r=u,a=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),f=u-r;f>=s?o(d,u):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},s-f)))},()=>a&&o(a)]}const Xb=(e,t,r=3)=>{let s=0;const a=ude(50,250);return fde(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-s,d=a(c),u=o<=l;s=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},kI=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},TI=e=>(...t)=>De.asap(()=>e(...t)),mde=ca.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ca.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ca.origin),ca.navigator&&/(msie|trident)/i.test(ca.navigator.userAgent)):()=>!0,hde=ca.hasStandardBrowserEnv?{write(e,t,r,s,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];De.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),De.isString(s)&&l.push(`path=${s}`),De.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),De.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function pde(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xde(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function JU(e,t,r){let s=!pde(t);return e&&(s||r==!1)?xde(e,t):t}const OI=e=>e instanceof oi?{...e}:e;function Uf(e,t){t=t||{};const r={};function s(d,u,f,m){return De.isPlainObject(d)&&De.isPlainObject(u)?De.merge.call({caseless:m},d,u):De.isPlainObject(u)?De.merge({},u):De.isArray(u)?u.slice():u}function a(d,u,f,m){if(De.isUndefined(u)){if(!De.isUndefined(d))return s(void 0,d,f,m)}else return s(d,u,f,m)}function i(d,u){if(!De.isUndefined(u))return s(void 0,u)}function o(d,u){if(De.isUndefined(u)){if(!De.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function l(d,u,f){if(f in t)return s(d,u);if(f in e)return s(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,f)=>a(OI(d),OI(u),f,!0)};return De.forEach(Object.keys({...e,...t}),function(u){const f=c[u]||a,m=f(e[u],t[u],u);De.isUndefined(m)&&f!==l||(r[u]=m)}),r}const eV=e=>{const t=Uf({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=oi.from(o),t.url=KU(JU(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),De.isFormData(r)){if(ca.hasStandardBrowserEnv||ca.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(De.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{d.includes(u.toLowerCase())&&o.set(u,f)})}}if(ca.hasStandardBrowserEnv&&(s&&De.isFunction(s)&&(s=s(t)),s||s!==!1&&mde(t.url))){const c=a&&i&&hde.read(i);c&&o.set(a,c)}return t},gde=typeof XMLHttpRequest<"u",vde=gde&&function(e){return new Promise(function(r,s){const a=eV(e);let i=a.data;const o=oi.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,u,f,m,h,x;function p(){h&&h(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function j(){if(!g)return;const w=oi.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:w,config:e,request:g};ZU(function(S){r(S),p()},function(S){s(S),p()},N),g=null}"onloadend"in g?g.onloadend=j:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(j)},g.onabort=function(){g&&(s(new Wt("Request aborted",Wt.ECONNABORTED,e,g)),g=null)},g.onerror=function(b){const N=b&&b.message?b.message:"Network Error",_=new Wt(N,Wt.ERR_NETWORK,e,g);_.event=b||null,s(_),g=null},g.ontimeout=function(){let b=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||YU;a.timeoutErrorMessage&&(b=a.timeoutErrorMessage),s(new Wt(b,N.clarifyTimeoutError?Wt.ETIMEDOUT:Wt.ECONNABORTED,e,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&De.forEach(o.toJSON(),function(b,N){g.setRequestHeader(N,b)}),De.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),l&&l!=="json"&&(g.responseType=a.responseType),d&&([m,x]=Xb(d,!0),g.addEventListener("progress",m)),c&&g.upload&&([f,h]=Xb(c),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(u=w=>{g&&(s(!w||w.type?new Gp(null,e,g):w),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const y=dde(a.url);if(y&&ca.protocols.indexOf(y)===-1){s(new Wt("Unsupported protocol "+y+":",Wt.ERR_BAD_REQUEST,e));return}g.send(i||null)})},yde=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,a;const i=function(d){if(!a){a=!0,l();const u=d instanceof Error?d:this.reason;s.abort(u instanceof Wt?u:new Gp(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new Wt(`timeout ${t} of ms exceeded`,Wt.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>De.asap(l),c}},jde=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,a;for(;s<r;)a=s+t,yield e.slice(s,a),s=a},bde=async function*(e,t){for await(const r of wde(e))yield*jde(r,t)},wde=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},DI=(e,t,r,s)=>{const a=bde(e,t);let i=0,o,l=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){l(),c.close();return}let f=u.byteLength;if(r){let m=i+=f;r(m)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},II=64*1024,{isFunction:rj}=De,Nde=(({Request:e,Response:t})=>({Request:e,Response:t}))(De.global),{ReadableStream:RI,TextEncoder:MI}=De.global,FI=(e,...t)=>{try{return!!e(...t)}catch{return!1}},_de=e=>{e=De.merge.call({skipUndefined:!0},Nde,e);const{fetch:t,Request:r,Response:s}=e,a=t?rj(t):typeof fetch=="function",i=rj(r),o=rj(s);if(!a)return!1;const l=a&&rj(RI),c=a&&(typeof MI=="function"?(x=>p=>x.encode(p))(new MI):async x=>new Uint8Array(await new r(x).arrayBuffer())),d=i&&l&&FI(()=>{let x=!1;const p=new r(ca.origin,{body:new RI,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!p}),u=o&&l&&FI(()=>De.isReadableStream(new s("").body)),f={stream:u&&(x=>x.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!f[x]&&(f[x]=(p,g)=>{let j=p&&p[x];if(j)return j.call(p);throw new Wt(`Response type '${x}' is not supported`,Wt.ERR_NOT_SUPPORT,g)})});const m=async x=>{if(x==null)return 0;if(De.isBlob(x))return x.size;if(De.isSpecCompliantForm(x))return(await new r(ca.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(De.isArrayBufferView(x)||De.isArrayBuffer(x))return x.byteLength;if(De.isURLSearchParams(x)&&(x=x+""),De.isString(x))return(await c(x)).byteLength},h=async(x,p)=>{const g=De.toFiniteNumber(x.getContentLength());return g??m(p)};return async x=>{let{url:p,method:g,data:j,signal:y,cancelToken:w,timeout:b,onDownloadProgress:N,onUploadProgress:_,responseType:S,headers:A,withCredentials:E="same-origin",fetchOptions:P}=eV(x),D=t||fetch;S=S?(S+"").toLowerCase():"text";let I=yde([y,w&&w.toAbortSignal()],b),W=null;const H=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let F;try{if(_&&d&&g!=="get"&&g!=="head"&&(F=await h(A,j))!==0){let se=new r(p,{method:"POST",body:j,duplex:"half"}),R;if(De.isFormData(j)&&(R=se.headers.get("content-type"))&&A.setContentType(R),se.body){const[V,L]=kI(F,Xb(TI(_)));j=DI(se.body,II,V,L)}}De.isString(E)||(E=E?"include":"omit");const T=i&&"credentials"in r.prototype,k={...P,signal:I,method:g.toUpperCase(),headers:A.normalize().toJSON(),body:j,duplex:"half",credentials:T?E:void 0};W=i&&new r(p,k);let M=await(i?D(W,P):D(p,k));const O=u&&(S==="stream"||S==="response");if(u&&(N||O&&H)){const se={};["status","statusText","headers"].forEach(G=>{se[G]=M[G]});const R=De.toFiniteNumber(M.headers.get("content-length")),[V,L]=N&&kI(R,Xb(TI(N),!0))||[];M=new s(DI(M.body,II,V,()=>{L&&L(),H&&H()}),se)}S=S||"text";let K=await f[De.findKey(f,S)||"text"](M,x);return!O&&H&&H(),await new Promise((se,R)=>{ZU(se,R,{data:K,headers:oi.from(M.headers),status:M.status,statusText:M.statusText,config:x,request:W})})}catch(T){throw H&&H(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new Wt("Network Error",Wt.ERR_NETWORK,x,W),{cause:T.cause||T}):Wt.from(T,T&&T.code,x,W)}}},Sde=new Map,tV=e=>{let t=e&&e.env||{};const{fetch:r,Request:s,Response:a}=t,i=[s,a,r];let o=i.length,l=o,c,d,u=Sde;for(;l--;)c=i[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:_de(t)),u=d;return d};tV();const Jk={http:Vce,xhr:vde,fetch:{get:tV}};De.forEach(Jk,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const $I=e=>`- ${e}`,Cde=e=>De.isFunction(e)||e===null||e===!1;function Ade(e,t){e=De.isArray(e)?e:[e];const{length:r}=e;let s,a;const i={};for(let o=0;o<r;o++){s=e[o];let l;if(a=s,!Cde(s)&&(a=Jk[(l=String(s)).toLowerCase()],a===void 0))throw new Wt(`Unknown adapter '${l}'`);if(a&&(De.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map($I).join(`
`):" "+$I(o[0]):"as no adapter specified";throw new Wt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const rV={getAdapter:Ade,adapters:Jk};function tS(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Gp(null,e)}function LI(e){return tS(e),e.headers=oi.from(e.headers),e.data=eS.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),rV.getAdapter(e.adapter||zv.adapter,e)(e).then(function(s){return tS(e),s.data=eS.call(e,e.transformResponse,s),s.headers=oi.from(s.headers),s},function(s){return QU(s)||(tS(e),s&&s.response&&(s.response.data=eS.call(e,e.transformResponse,s.response),s.response.headers=oi.from(s.response.headers))),Promise.reject(s)})}const nV="1.13.2",DN={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{DN[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const BI={};DN.transitional=function(t,r,s){function a(i,o){return"[Axios v"+nV+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,l)=>{if(t===!1)throw new Wt(a(o," has been removed"+(r?" in "+r:"")),Wt.ERR_DEPRECATED);return r&&!BI[o]&&(BI[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};DN.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Ede(e,t,r){if(typeof e!="object")throw new Wt("options must be an object",Wt.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const i=s[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new Wt("option "+i+" must be "+c,Wt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Wt("Unknown option "+i,Wt.ERR_BAD_OPTION)}}const ob={assertOptions:Ede,validators:DN},_l=ob.validators;class Cf{constructor(t){this.defaults=t||{},this.interceptors={request:new EI,response:new EI}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Uf(this.defaults,r);const{transitional:s,paramsSerializer:a,headers:i}=r;s!==void 0&&ob.assertOptions(s,{silentJSONParsing:_l.transitional(_l.boolean),forcedJSONParsing:_l.transitional(_l.boolean),clarifyTimeoutError:_l.transitional(_l.boolean)},!1),a!=null&&(De.isFunction(a)?r.paramsSerializer={serialize:a}:ob.assertOptions(a,{encode:_l.function,serialize:_l.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ob.assertOptions(r,{baseUrl:_l.spelling("baseURL"),withXsrfToken:_l.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&De.merge(i.common,i[r.method]);i&&De.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),r.headers=oi.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,f=0,m;if(!c){const x=[LI.bind(this),void 0];for(x.unshift(...l),x.push(...d),m=x.length,u=Promise.resolve(r);f<m;)u=u.then(x[f++],x[f++]);return u}m=l.length;let h=r;for(;f<m;){const x=l[f++],p=l[f++];try{h=x(h)}catch(g){p.call(this,g);break}}try{u=LI.call(this,h)}catch(x){return Promise.reject(x)}for(f=0,m=d.length;f<m;)u=u.then(d[f++],d[f++]);return u}getUri(t){t=Uf(this.defaults,t);const r=JU(t.baseURL,t.url,t.allowAbsoluteUrls);return KU(r,t.params,t.paramsSerializer)}}De.forEach(["delete","get","head","options"],function(t){Cf.prototype[t]=function(r,s){return this.request(Uf(s||{},{method:t,url:r,data:(s||{}).data}))}});De.forEach(["post","put","patch"],function(t){function r(s){return function(i,o,l){return this.request(Uf(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Cf.prototype[t]=r(),Cf.prototype[t+"Form"]=r(!0)});class eT{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{s.subscribe(l),i=l}).then(a);return o.cancel=function(){s.unsubscribe(i)},o},t(function(i,o,l){s.reason||(s.reason=new Gp(i,o,l),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new eT(function(a){t=a}),cancel:t}}}function Pde(e){return function(r){return e.apply(null,r)}}function kde(e){return De.isObject(e)&&e.isAxiosError===!0}const Z4={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Z4).forEach(([e,t])=>{Z4[t]=e});function sV(e){const t=new Cf(e),r=MU(Cf.prototype.request,t);return De.extend(r,Cf.prototype,t,{allOwnKeys:!0}),De.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return sV(Uf(e,a))},r}const or=sV(zv);or.Axios=Cf;or.CanceledError=Gp;or.CancelToken=eT;or.isCancel=QU;or.VERSION=nV;or.toFormData=ON;or.AxiosError=Wt;or.Cancel=or.CanceledError;or.all=function(t){return Promise.all(t)};or.spread=Pde;or.isAxiosError=kde;or.mergeConfig=Uf;or.AxiosHeaders=oi;or.formToJSON=e=>XU(De.isHTMLForm(e)?new FormData(e):e);or.getAdapter=rV.getAdapter;or.HttpStatusCode=Z4;or.default=or;const Xi="https://procurement.buy2rent.eu/api",Wv="https://procurement.buy2rent.eu/auth";console.log("API Configuration:",{API_BASE_URL:Xi,AUTH_BASE_URL:Wv,mode:"production"});const aa=or.create({baseURL:Wv,timeout:1e4,headers:{"Content-Type":"application/json"}});let Ix=!1,J4=[];const nj=(e=null)=>{J4.forEach(t=>{e?t.reject(e):t.resolve()}),J4=[]};aa.interceptors.response.use(e=>e,async e=>{var r,s;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if((s=t.url)!=null&&s.includes("/refresh/"))return mn.clearTokens(),Ix=!1,nj(e),Promise.reject(e);if(Ix)return new Promise((i,o)=>{J4.push({resolve:i,reject:o})}).then(()=>aa(t)).catch(i=>Promise.reject(i));t._retry=!0,Ix=!0;const a=mn.getRefreshToken();if(!a)return Ix=!1,mn.clearTokens(),nj(e),Promise.reject(e);try{const i=await aa.post("/refresh/",{refresh:a}),{access:o}=i.data,l=mn.getRefreshToken();return l&&mn.setTokens(o,l),t.headers.Authorization=`Bearer ${o}`,nj(),aa(t)}catch(i){return nj(i),mn.clearTokens(),Promise.reject(i)}finally{Ix=!1}}return Promise.reject(e)});const yc={async login(e){return(await aa.post("/login/",e)).data},async register(e){const r=(await aa.post("/register/",e)).data;return{access:r.tokens.access,refresh:r.tokens.refresh,user:r.user}},async refreshToken(e){return(await aa.post("/refresh/",{refresh:e})).data},async logout(e){const t=localStorage.getItem("access_token");await aa.post("/logout/",{refresh:e},{headers:t?{Authorization:`Bearer ${t}`}:{}})},async getProfile(){const e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found");return(await aa.get("/profile/",{headers:{Authorization:`Bearer ${e}`}})).data},async updateProfile(e){const t=localStorage.getItem("access_token");if(!t)throw new Error("No access token found");return(await aa.put("/profile/",e,{headers:{Authorization:`Bearer ${t}`}})).data},async requestPasswordReset(e){await aa.post("/password-reset/",e)},async confirmPasswordReset(e){await aa.post("/password-reset-confirm/",e)},async changePassword(e){const t=localStorage.getItem("access_token");if(!t)throw new Error("No access token found");await aa.post("/change-password/",e,{headers:{Authorization:`Bearer ${t}`}})},async getSessions(){const e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found");return(await aa.get("/sessions/",{headers:{Authorization:`Bearer ${e}`}})).data},async terminateSession(e){const t=localStorage.getItem("access_token");if(!t)throw new Error("No access token found");await aa.delete(`/sessions/${e}/`,{headers:{Authorization:`Bearer ${t}`}})},async terminateAllSessions(){const e=localStorage.getItem("access_token");if(!e)throw new Error("No access token found");await aa.delete("/sessions/",{headers:{Authorization:`Bearer ${e}`}})}},mn={getAccessToken(){return localStorage.getItem("access_token")},getRefreshToken(){return localStorage.getItem("refresh_token")},setTokens(e,t){localStorage.setItem("access_token",e),localStorage.setItem("refresh_token",t)},clearTokens(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},isAuthenticated(){return!!this.getAccessToken()}},aV=v.createContext(void 0);function Tde({children:e}){const[t,r]=v.useState(null),[s,a]=v.useState(!0);v.useEffect(()=>{const p=setTimeout(()=>{console.warn("Auth check timed out after 15 seconds"),a(!1)},15e3);return i().finally(()=>{clearTimeout(p)}),()=>clearTimeout(p)},[]);const i=async()=>{try{const p=mn.getAccessToken(),g=mn.getRefreshToken();if(!p&&!g){a(!1);return}if(!p&&g)try{const j=await yc.refreshToken(g);mn.setTokens(j.access,g)}catch(j){console.error("Token refresh failed during auth check:",j),mn.clearTokens(),a(!1);return}if(mn.getAccessToken())try{const j=await yc.getProfile();r({...j,name:j.first_name&&j.last_name?`${j.first_name} ${j.last_name}`:j.username})}catch(j){console.error("Profile fetch failed:",j),mn.clearTokens(),r(null)}}catch(p){console.error("Auth check failed:",p),mn.clearTokens(),r(null)}finally{a(!1)}},o=async()=>{try{const p=await yc.getProfile();r({...p,name:p.first_name&&p.last_name?`${p.first_name} ${p.last_name}`:p.username})}catch(p){throw console.error("Failed to refresh user:",p),p}},l=async(p,g)=>{var j,y,w,b,N,_;try{const S=await yc.login({email:p,password:g});mn.setTokens(S.access,S.refresh),r({...S.user,name:S.user.first_name&&S.user.last_name?`${S.user.first_name} ${S.user.last_name}`:S.user.username})}catch(S){console.error("Login failed:",S);const A=((y=(j=S.response)==null?void 0:j.data)==null?void 0:y.message)||((b=(w=S.response)==null?void 0:w.data)==null?void 0:b.detail)||((_=(N=S.response)==null?void 0:N.data)==null?void 0:_.error)||S.message||"Login failed";throw new Error(A)}},c=async(p,g,j)=>{var y,w,b,N,_,S,A,E,P,D;try{const I=(j==null?void 0:j.split(" "))||[],W=I[0]||"User",H=I.slice(1).join(" ")||"Name",F=await yc.register({username:p.split("@")[0],email:p,password:g,password_confirm:g,first_name:W,last_name:H});mn.setTokens(F.access,F.refresh),r({...F.user,name:F.user.first_name&&F.user.last_name?`${F.user.first_name} ${F.user.last_name}`:F.user.username})}catch(I){console.error("Signup failed:",I);const W=((w=(y=I.response)==null?void 0:y.data)==null?void 0:w.details)||((N=(b=I.response)==null?void 0:b.data)==null?void 0:N.errors);let H=((S=(_=I.response)==null?void 0:_.data)==null?void 0:S.message)||((E=(A=I.response)==null?void 0:A.data)==null?void 0:E.detail)||((D=(P=I.response)==null?void 0:P.data)==null?void 0:D.error)||I.message||"Signup failed";if(W&&typeof W=="object"){const F=Object.values(W)[0];Array.isArray(F)?H=F[0]:typeof F=="string"&&(H=F)}throw new Error(H)}},d=async()=>{try{window.location.href="/api/auth/google"}catch(p){throw p}},u=async()=>{try{window.location.href="/api/auth/facebook"}catch(p){throw p}},f=async()=>{try{window.location.href="/api/auth/twitter"}catch(p){throw p}},m=async()=>{try{const p=mn.getRefreshToken();p&&await yc.logout(p),mn.clearTokens(),r(null)}catch(p){console.error("Logout failed:",p),mn.clearTokens(),r(null)}},h=async p=>{var g,j;try{await yc.requestPasswordReset({email:p})}catch(y){throw console.error("Password reset failed:",y),new Error(((j=(g=y.response)==null?void 0:g.data)==null?void 0:j.detail)||y.message||"Password reset failed")}},x=async p=>{try{console.warn("Email verification not implemented yet")}catch(g){throw g}};return n.jsx(aV.Provider,{value:{user:t,loading:s,login:l,signup:c,loginWithGoogle:d,loginWithFacebook:u,loginWithTwitter:f,logout:m,resetPassword:h,verifyEmail:x,refreshUser:o},children:e})}function Hv(){const e=v.useContext(aV);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function C({className:e,...t}){return n.jsx("div",{className:ge("relative overflow-hidden rounded-md bg-muted","before:absolute before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:bg-gradient-to-r","before:from-transparent before:via-white/10 before:to-transparent",e),...t})}function lr({children:e}){const{user:t,loading:r}=Hv(),s=sc();if(r)return n.jsxs("div",{className:"min-h-screen flex bg-background",children:[n.jsxs("div",{className:"w-64 border-r border-border p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[n.jsx(C,{className:"h-10 w-10 rounded-lg"}),n.jsx(C,{className:"h-5 w-32"})]}),[...Array(8)].map((i,o)=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-4 w-24"})]},o))]}),n.jsx("div",{className:"flex-1 p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-8 w-64"}),n.jsx(C,{className:"h-4 w-96"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((i,o)=>n.jsxs("div",{className:"border rounded-lg p-6 space-y-3",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-8 w-20"}),n.jsx(C,{className:"h-3 w-16"})]},o))}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(2)].map((i,o)=>n.jsxs("div",{className:"border rounded-lg p-6 space-y-4",children:[n.jsx(C,{className:"h-6 w-40"}),n.jsx("div",{className:"space-y-2",children:[...Array(4)].map((l,c)=>n.jsx(C,{className:"h-4 w-full"},c))})]},o))})]})})]});const a=mn.isAuthenticated();return!t&&!a?n.jsx(RU,{to:"/login",state:{from:s},replace:!0}):a&&!t?n.jsxs("div",{className:"min-h-screen flex bg-background",children:[n.jsxs("div",{className:"w-64 border-r border-border p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[n.jsx(C,{className:"h-10 w-10 rounded-lg"}),n.jsx(C,{className:"h-5 w-32"})]}),[...Array(8)].map((i,o)=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-4 w-24"})]},o))]}),n.jsx("div",{className:"flex-1 p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-8 w-64"}),n.jsx(C,{className:"h-4 w-96"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((i,o)=>n.jsxs("div",{className:"border rounded-lg p-6 space-y-3",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-8 w-20"}),n.jsx(C,{className:"h-3 w-16"})]},o))})]})})]}):n.jsx(n.Fragment,{children:e})}function Ode({children:e,...t}){return n.jsx(wae,{...t,children:e})}var qv=e=>e.type==="checkbox",lf=e=>e instanceof Date,Ca=e=>e==null;const iV=e=>typeof e=="object";var Xn=e=>!Ca(e)&&!Array.isArray(e)&&iV(e)&&!lf(e),Dde=e=>Xn(e)&&e.target?qv(e.target)?e.target.checked:e.target.value:e,Ide=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Rde=(e,t)=>e.has(Ide(t)),Mde=e=>{const t=e.constructor&&e.constructor.prototype;return Xn(t)&&t.hasOwnProperty("isPrototypeOf")},tT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function no(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(tT&&(e instanceof Blob||e instanceof FileList))&&(r||Xn(e)))if(t=r?[]:{},!r&&!Mde(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=no(e[s]));else return e;return t}var IN=e=>Array.isArray(e)?e.filter(Boolean):[],Vn=e=>e===void 0,gt=(e,t,r)=>{if(!t||!Xn(e))return r;const s=IN(t.split(/[,[\].]+?/)).reduce((a,i)=>Ca(a)?a:a[i],e);return Vn(s)||s===e?Vn(e[t])?r:e[t]:s},kl=e=>typeof e=="boolean",rT=e=>/^\w*$/.test(e),oV=e=>IN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Lr=(e,t,r)=>{let s=-1;const a=rT(t)?[t]:oV(t),i=a.length,o=i-1;for(;++s<i;){const l=a[s];let c=r;if(s!==o){const d=e[l];c=Xn(d)||Array.isArray(d)?d:isNaN(+a[s+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const UI={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Go={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},mc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};z.createContext(null);var Fde=(e,t,r,s=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Go.all&&(t._proxyFormState[o]=!s||Go.all),e[o]}});return a},qa=e=>Xn(e)&&!Object.keys(e).length,$de=(e,t,r,s)=>{r(e);const{name:a,...i}=e;return qa(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===Go.all)},lb=e=>Array.isArray(e)?e:[e];function Lde(e){const t=z.useRef(e);t.current=e,z.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var Ul=e=>typeof e=="string",Bde=(e,t,r,s,a)=>Ul(e)?(s&&t.watch.add(e),gt(r,e,a)):Array.isArray(e)?e.map(i=>(s&&t.watch.add(i),gt(r,i))):(s&&(t.watchAll=!0),r),lV=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},VI=e=>({isOnSubmit:!e||e===Go.onSubmit,isOnBlur:e===Go.onBlur,isOnChange:e===Go.onChange,isOnAll:e===Go.all,isOnTouch:e===Go.onTouched}),zI=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const _g=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const i=gt(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(_g(l,t))break}else if(Xn(l)&&_g(l,t))break}}};var Ude=(e,t,r)=>{const s=lb(gt(e,r));return Lr(s,"root",t[r]),Lr(e,r,s),e},nT=e=>e.type==="file",Ec=e=>typeof e=="function",Qb=e=>{if(!tT)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},cb=e=>Ul(e),sT=e=>e.type==="radio",Zb=e=>e instanceof RegExp;const WI={value:!1,isValid:!1},HI={value:!0,isValid:!0};var cV=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Vn(e[0].attributes.value)?Vn(e[0].value)||e[0].value===""?HI:{value:e[0].value,isValid:!0}:HI:WI}return WI};const qI={isValid:!1,value:null};var dV=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,qI):qI;function GI(e,t,r="validate"){if(cb(e)||Array.isArray(e)&&e.every(cb)||kl(e)&&!e)return{type:r,message:cb(e)?e:"",ref:t}}var Nm=e=>Xn(e)&&!Zb(e)?e:{value:e,message:""},KI=async(e,t,r,s,a)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:d,min:u,max:f,pattern:m,validate:h,name:x,valueAsNumber:p,mount:g,disabled:j}=e._f,y=gt(t,x);if(!g||j)return{};const w=o?o[0]:i,b=I=>{s&&w.reportValidity&&(w.setCustomValidity(kl(I)?"":I||""),w.reportValidity())},N={},_=sT(i),S=qv(i),A=_||S,E=(p||nT(i))&&Vn(i.value)&&Vn(y)||Qb(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,P=lV.bind(null,x,r,N),D=(I,W,H,F=mc.maxLength,T=mc.minLength)=>{const k=I?W:H;N[x]={type:I?F:T,message:k,ref:i,...P(I?F:T,k)}};if(a?!Array.isArray(y)||!y.length:l&&(!A&&(E||Ca(y))||kl(y)&&!y||S&&!cV(o).isValid||_&&!dV(o).isValid)){const{value:I,message:W}=cb(l)?{value:!!l,message:l}:Nm(l);if(I&&(N[x]={type:mc.required,message:W,ref:w,...P(mc.required,W)},!r))return b(W),N}if(!E&&(!Ca(u)||!Ca(f))){let I,W;const H=Nm(f),F=Nm(u);if(!Ca(y)&&!isNaN(y)){const T=i.valueAsNumber||y&&+y;Ca(H.value)||(I=T>H.value),Ca(F.value)||(W=T<F.value)}else{const T=i.valueAsDate||new Date(y),k=K=>new Date(new Date().toDateString()+" "+K),M=i.type=="time",O=i.type=="week";Ul(H.value)&&y&&(I=M?k(y)>k(H.value):O?y>H.value:T>new Date(H.value)),Ul(F.value)&&y&&(W=M?k(y)<k(F.value):O?y<F.value:T<new Date(F.value))}if((I||W)&&(D(!!I,H.message,F.message,mc.max,mc.min),!r))return b(N[x].message),N}if((c||d)&&!E&&(Ul(y)||a&&Array.isArray(y))){const I=Nm(c),W=Nm(d),H=!Ca(I.value)&&y.length>+I.value,F=!Ca(W.value)&&y.length<+W.value;if((H||F)&&(D(H,I.message,W.message),!r))return b(N[x].message),N}if(m&&!E&&Ul(y)){const{value:I,message:W}=Nm(m);if(Zb(I)&&!y.match(I)&&(N[x]={type:mc.pattern,message:W,ref:i,...P(mc.pattern,W)},!r))return b(W),N}if(h){if(Ec(h)){const I=await h(y,t),W=GI(I,w);if(W&&(N[x]={...W,...P(mc.validate,W.message)},!r))return b(W.message),N}else if(Xn(h)){let I={};for(const W in h){if(!qa(I)&&!r)break;const H=GI(await h[W](y,t),w,W);H&&(I={...H,...P(W,H.message)},b(H.message),r&&(N[x]=I))}if(!qa(I)&&(N[x]={ref:w,...I},!r))return N}}return b(!0),N};function Vde(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=Vn(e)?s++:e[t[s++]];return e}function zde(e){for(const t in e)if(e.hasOwnProperty(t)&&!Vn(e[t]))return!1;return!0}function ds(e,t){const r=Array.isArray(t)?t:rT(t)?[t]:oV(t),s=r.length===1?e:Vde(e,r),a=r.length-1,i=r[a];return s&&delete s[i],a!==0&&(Xn(s)&&qa(s)||Array.isArray(s)&&zde(s))&&ds(e,r.slice(0,-1)),e}var rS=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},eA=e=>Ca(e)||!iV(e);function kd(e,t){if(eA(e)||eA(t))return e===t;if(lf(e)&&lf(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const a of r){const i=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const o=t[a];if(lf(i)&&lf(o)||Xn(i)&&Xn(o)||Array.isArray(i)&&Array.isArray(o)?!kd(i,o):i!==o)return!1}}return!0}var uV=e=>e.type==="select-multiple",Wde=e=>sT(e)||qv(e),nS=e=>Qb(e)&&e.isConnected,fV=e=>{for(const t in e)if(Ec(e[t]))return!0;return!1};function Jb(e,t={}){const r=Array.isArray(e);if(Xn(e)||r)for(const s in e)Array.isArray(e[s])||Xn(e[s])&&!fV(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Jb(e[s],t[s])):Ca(e[s])||(t[s]=!0);return t}function mV(e,t,r){const s=Array.isArray(e);if(Xn(e)||s)for(const a in e)Array.isArray(e[a])||Xn(e[a])&&!fV(e[a])?Vn(t)||eA(r[a])?r[a]=Array.isArray(e[a])?Jb(e[a],[]):{...Jb(e[a])}:mV(e[a],Ca(t)?{}:t[a],r[a]):r[a]=!kd(e[a],t[a]);return r}var Rx=(e,t)=>mV(e,t,Jb(t)),hV=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>Vn(e)?e:t?e===""?NaN:e&&+e:r&&Ul(e)?new Date(e):s?s(e):e;function sS(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return nT(t)?t.files:sT(t)?dV(e.refs).value:uV(t)?[...t.selectedOptions].map(({value:r})=>r):qv(t)?cV(e.refs).value:hV(Vn(t.value)?e.ref.value:t.value,e)}var Hde=(e,t,r,s)=>{const a={};for(const i of e){const o=gt(t,i);o&&Lr(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}},Mx=e=>Vn(e)?e:Zb(e)?e.source:Xn(e)?Zb(e.value)?e.value.source:e.value:e;const YI="AsyncFunction";var qde=e=>(!e||!e.validate)&&!!(Ec(e.validate)&&e.validate.constructor.name===YI||Xn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===YI)),Gde=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function XI(e,t,r){const s=gt(e,r);if(s||rT(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=gt(t,i),l=gt(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var Kde=(e,t,r,s,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:(r?s.isOnChange:a.isOnChange)?e:!0,Yde=(e,t)=>!IN(gt(e,t)).length&&ds(e,t);const Xde={mode:Go.onSubmit,reValidateMode:Go.onChange,shouldFocusError:!0};function Qde(e={}){let t={...Xde,...e},r={submitCount:0,isDirty:!1,isLoading:Ec(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=Xn(t.defaultValues)||Xn(t.values)?no(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:no(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:rS(),array:rS(),state:rS()},m=VI(t.mode),h=VI(t.reValidateMode),x=t.criteriaMode===Go.all,p=ae=>he=>{clearTimeout(d),d=setTimeout(ae,he)},g=async ae=>{if(!e.disabled&&(u.isValid||ae)){const he=t.resolver?qa((await A()).errors):await P(s,!0);he!==r.isValid&&f.state.next({isValid:he})}},j=(ae,he)=>{!e.disabled&&(u.isValidating||u.validatingFields)&&((ae||Array.from(l.mount)).forEach(ce=>{ce&&(he?Lr(r.validatingFields,ce,he):ds(r.validatingFields,ce))}),f.state.next({validatingFields:r.validatingFields,isValidating:!qa(r.validatingFields)}))},y=(ae,he=[],ce,je,Le=!0,Ie=!0)=>{if(je&&ce&&!e.disabled){if(o.action=!0,Ie&&Array.isArray(gt(s,ae))){const de=ce(gt(s,ae),je.argA,je.argB);Le&&Lr(s,ae,de)}if(Ie&&Array.isArray(gt(r.errors,ae))){const de=ce(gt(r.errors,ae),je.argA,je.argB);Le&&Lr(r.errors,ae,de),Yde(r.errors,ae)}if(u.touchedFields&&Ie&&Array.isArray(gt(r.touchedFields,ae))){const de=ce(gt(r.touchedFields,ae),je.argA,je.argB);Le&&Lr(r.touchedFields,ae,de)}u.dirtyFields&&(r.dirtyFields=Rx(a,i)),f.state.next({name:ae,isDirty:I(ae,he),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Lr(i,ae,he)},w=(ae,he)=>{Lr(r.errors,ae,he),f.state.next({errors:r.errors})},b=ae=>{r.errors=ae,f.state.next({errors:r.errors,isValid:!1})},N=(ae,he,ce,je)=>{const Le=gt(s,ae);if(Le){const Ie=gt(i,ae,Vn(ce)?gt(a,ae):ce);Vn(Ie)||je&&je.defaultChecked||he?Lr(i,ae,he?Ie:sS(Le._f)):F(ae,Ie),o.mount&&g()}},_=(ae,he,ce,je,Le)=>{let Ie=!1,de=!1;const Re={name:ae};if(!e.disabled){const it=!!(gt(s,ae)&&gt(s,ae)._f&&gt(s,ae)._f.disabled);if(!ce||je){u.isDirty&&(de=r.isDirty,r.isDirty=Re.isDirty=I(),Ie=de!==Re.isDirty);const bt=it||kd(gt(a,ae),he);de=!!(!it&&gt(r.dirtyFields,ae)),bt||it?ds(r.dirtyFields,ae):Lr(r.dirtyFields,ae,!0),Re.dirtyFields=r.dirtyFields,Ie=Ie||u.dirtyFields&&de!==!bt}if(ce){const bt=gt(r.touchedFields,ae);bt||(Lr(r.touchedFields,ae,ce),Re.touchedFields=r.touchedFields,Ie=Ie||u.touchedFields&&bt!==ce)}Ie&&Le&&f.state.next(Re)}return Ie?Re:{}},S=(ae,he,ce,je)=>{const Le=gt(r.errors,ae),Ie=u.isValid&&kl(he)&&r.isValid!==he;if(e.delayError&&ce?(c=p(()=>w(ae,ce)),c(e.delayError)):(clearTimeout(d),c=null,ce?Lr(r.errors,ae,ce):ds(r.errors,ae)),(ce?!kd(Le,ce):Le)||!qa(je)||Ie){const de={...je,...Ie&&kl(he)?{isValid:he}:{},errors:r.errors,name:ae};r={...r,...de},f.state.next(de)}},A=async ae=>{j(ae,!0);const he=await t.resolver(i,t.context,Hde(ae||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return j(ae),he},E=async ae=>{const{errors:he}=await A(ae);if(ae)for(const ce of ae){const je=gt(he,ce);je?Lr(r.errors,ce,je):ds(r.errors,ce)}else r.errors=he;return he},P=async(ae,he,ce={valid:!0})=>{for(const je in ae){const Le=ae[je];if(Le){const{_f:Ie,...de}=Le;if(Ie){const Re=l.array.has(Ie.name),it=Le._f&&qde(Le._f);it&&u.validatingFields&&j([je],!0);const bt=await KI(Le,i,x,t.shouldUseNativeValidation&&!he,Re);if(it&&u.validatingFields&&j([je]),bt[Ie.name]&&(ce.valid=!1,he))break;!he&&(gt(bt,Ie.name)?Re?Ude(r.errors,bt,Ie.name):Lr(r.errors,Ie.name,bt[Ie.name]):ds(r.errors,Ie.name))}!qa(de)&&await P(de,he,ce)}}return ce.valid},D=()=>{for(const ae of l.unMount){const he=gt(s,ae);he&&(he._f.refs?he._f.refs.every(ce=>!nS(ce)):!nS(he._f.ref))&&le(ae)}l.unMount=new Set},I=(ae,he)=>!e.disabled&&(ae&&he&&Lr(i,ae,he),!kd(se(),a)),W=(ae,he,ce)=>Bde(ae,l,{...o.mount?i:Vn(he)?a:Ul(ae)?{[ae]:he}:he},ce,he),H=ae=>IN(gt(o.mount?i:a,ae,e.shouldUnregister?gt(a,ae,[]):[])),F=(ae,he,ce={})=>{const je=gt(s,ae);let Le=he;if(je){const Ie=je._f;Ie&&(!Ie.disabled&&Lr(i,ae,hV(he,Ie)),Le=Qb(Ie.ref)&&Ca(he)?"":he,uV(Ie.ref)?[...Ie.ref.options].forEach(de=>de.selected=Le.includes(de.value)):Ie.refs?qv(Ie.ref)?Ie.refs.length>1?Ie.refs.forEach(de=>(!de.defaultChecked||!de.disabled)&&(de.checked=Array.isArray(Le)?!!Le.find(Re=>Re===de.value):Le===de.value)):Ie.refs[0]&&(Ie.refs[0].checked=!!Le):Ie.refs.forEach(de=>de.checked=de.value===Le):nT(Ie.ref)?Ie.ref.value="":(Ie.ref.value=Le,Ie.ref.type||f.values.next({name:ae,values:{...i}})))}(ce.shouldDirty||ce.shouldTouch)&&_(ae,Le,ce.shouldTouch,ce.shouldDirty,!0),ce.shouldValidate&&K(ae)},T=(ae,he,ce)=>{for(const je in he){const Le=he[je],Ie=`${ae}.${je}`,de=gt(s,Ie);(l.array.has(ae)||Xn(Le)||de&&!de._f)&&!lf(Le)?T(Ie,Le,ce):F(Ie,Le,ce)}},k=(ae,he,ce={})=>{const je=gt(s,ae),Le=l.array.has(ae),Ie=no(he);Lr(i,ae,Ie),Le?(f.array.next({name:ae,values:{...i}}),(u.isDirty||u.dirtyFields)&&ce.shouldDirty&&f.state.next({name:ae,dirtyFields:Rx(a,i),isDirty:I(ae,Ie)})):je&&!je._f&&!Ca(Ie)?T(ae,Ie,ce):F(ae,Ie,ce),zI(ae,l)&&f.state.next({...r}),f.values.next({name:o.mount?ae:void 0,values:{...i}})},M=async ae=>{o.mount=!0;const he=ae.target;let ce=he.name,je=!0;const Le=gt(s,ce),Ie=()=>he.type?sS(Le._f):Dde(ae),de=Re=>{je=Number.isNaN(Re)||lf(Re)&&isNaN(Re.getTime())||kd(Re,gt(i,ce,Re))};if(Le){let Re,it;const bt=Ie(),Qe=ae.type===UI.BLUR||ae.type===UI.FOCUS_OUT,ye=!Gde(Le._f)&&!t.resolver&&!gt(r.errors,ce)&&!Le._f.deps||Kde(Qe,gt(r.touchedFields,ce),r.isSubmitted,h,m),Ge=zI(ce,l,Qe);Lr(i,ce,bt),Qe?(Le._f.onBlur&&Le._f.onBlur(ae),c&&c(0)):Le._f.onChange&&Le._f.onChange(ae);const At=_(ce,bt,Qe,!1),Pt=!qa(At)||Ge;if(!Qe&&f.values.next({name:ce,type:ae.type,values:{...i}}),ye)return u.isValid&&(e.mode==="onBlur"?Qe&&g():g()),Pt&&f.state.next({name:ce,...Ge?{}:At});if(!Qe&&Ge&&f.state.next({...r}),t.resolver){const{errors:fr}=await A([ce]);if(de(bt),je){const jr=XI(r.errors,s,ce),Pn=XI(fr,s,jr.name||ce);Re=Pn.error,ce=Pn.name,it=qa(fr)}}else j([ce],!0),Re=(await KI(Le,i,x,t.shouldUseNativeValidation))[ce],j([ce]),de(bt),je&&(Re?it=!1:u.isValid&&(it=await P(s,!0)));je&&(Le._f.deps&&K(Le._f.deps),S(ce,it,Re,At))}},O=(ae,he)=>{if(gt(r.errors,he)&&ae.focus)return ae.focus(),1},K=async(ae,he={})=>{let ce,je;const Le=lb(ae);if(t.resolver){const Ie=await E(Vn(ae)?ae:Le);ce=qa(Ie),je=ae?!Le.some(de=>gt(Ie,de)):ce}else ae?(je=(await Promise.all(Le.map(async Ie=>{const de=gt(s,Ie);return await P(de&&de._f?{[Ie]:de}:de)}))).every(Boolean),!(!je&&!r.isValid)&&g()):je=ce=await P(s);return f.state.next({...!Ul(ae)||u.isValid&&ce!==r.isValid?{}:{name:ae},...t.resolver||!ae?{isValid:ce}:{},errors:r.errors}),he.shouldFocus&&!je&&_g(s,O,ae?Le:l.mount),je},se=ae=>{const he={...o.mount?i:a};return Vn(ae)?he:Ul(ae)?gt(he,ae):ae.map(ce=>gt(he,ce))},R=(ae,he)=>({invalid:!!gt((he||r).errors,ae),isDirty:!!gt((he||r).dirtyFields,ae),error:gt((he||r).errors,ae),isValidating:!!gt(r.validatingFields,ae),isTouched:!!gt((he||r).touchedFields,ae)}),V=ae=>{ae&&lb(ae).forEach(he=>ds(r.errors,he)),f.state.next({errors:ae?r.errors:{}})},L=(ae,he,ce)=>{const je=(gt(s,ae,{_f:{}})._f||{}).ref,Le=gt(r.errors,ae)||{},{ref:Ie,message:de,type:Re,...it}=Le;Lr(r.errors,ae,{...it,...he,ref:je}),f.state.next({name:ae,errors:r.errors,isValid:!1}),ce&&ce.shouldFocus&&je&&je.focus&&je.focus()},G=(ae,he)=>Ec(ae)?f.values.subscribe({next:ce=>ae(W(void 0,he),ce)}):W(ae,he,!0),le=(ae,he={})=>{for(const ce of ae?lb(ae):l.mount)l.mount.delete(ce),l.array.delete(ce),he.keepValue||(ds(s,ce),ds(i,ce)),!he.keepError&&ds(r.errors,ce),!he.keepDirty&&ds(r.dirtyFields,ce),!he.keepTouched&&ds(r.touchedFields,ce),!he.keepIsValidating&&ds(r.validatingFields,ce),!t.shouldUnregister&&!he.keepDefaultValue&&ds(a,ce);f.values.next({values:{...i}}),f.state.next({...r,...he.keepDirty?{isDirty:I()}:{}}),!he.keepIsValid&&g()},me=({disabled:ae,name:he,field:ce,fields:je,value:Le})=>{if(kl(ae)&&o.mount||ae){const Ie=ae?void 0:Vn(Le)?sS(ce?ce._f:gt(je,he)._f):Le;Lr(i,he,Ie),_(he,Ie,!1,!1,!0)}},B=(ae,he={})=>{let ce=gt(s,ae);const je=kl(he.disabled)||kl(e.disabled);return Lr(s,ae,{...ce||{},_f:{...ce&&ce._f?ce._f:{ref:{name:ae}},name:ae,mount:!0,...he}}),l.mount.add(ae),ce?me({field:ce,disabled:kl(he.disabled)?he.disabled:e.disabled,name:ae,value:he.value}):N(ae,!0,he.value),{...je?{disabled:he.disabled||e.disabled}:{},...t.progressive?{required:!!he.required,min:Mx(he.min),max:Mx(he.max),minLength:Mx(he.minLength),maxLength:Mx(he.maxLength),pattern:Mx(he.pattern)}:{},name:ae,onChange:M,onBlur:M,ref:Le=>{if(Le){B(ae,he),ce=gt(s,ae);const Ie=Vn(Le.value)&&Le.querySelectorAll&&Le.querySelectorAll("input,select,textarea")[0]||Le,de=Wde(Ie),Re=ce._f.refs||[];if(de?Re.find(it=>it===Ie):Ie===ce._f.ref)return;Lr(s,ae,{_f:{...ce._f,...de?{refs:[...Re.filter(nS),Ie,...Array.isArray(gt(a,ae))?[{}]:[]],ref:{type:Ie.type,name:ae}}:{ref:Ie}}}),N(ae,!1,void 0,Ie)}else ce=gt(s,ae,{}),ce._f&&(ce._f.mount=!1),(t.shouldUnregister||he.shouldUnregister)&&!(Rde(l.array,ae)&&o.action)&&l.unMount.add(ae)}}},Y=()=>t.shouldFocusError&&_g(s,O,l.mount),oe=ae=>{kl(ae)&&(f.state.next({disabled:ae}),_g(s,(he,ce)=>{const je=gt(s,ce);je&&(he.disabled=je._f.disabled||ae,Array.isArray(je._f.refs)&&je._f.refs.forEach(Le=>{Le.disabled=je._f.disabled||ae}))},0,!1))},Ne=(ae,he)=>async ce=>{let je;ce&&(ce.preventDefault&&ce.preventDefault(),ce.persist&&ce.persist());let Le=no(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:Ie,values:de}=await A();r.errors=Ie,Le=de}else await P(s);if(ds(r.errors,"root"),qa(r.errors)){f.state.next({errors:{}});try{await ae(Le,ce)}catch(Ie){je=Ie}}else he&&await he({...r.errors},ce),Y(),setTimeout(Y);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:qa(r.errors)&&!je,submitCount:r.submitCount+1,errors:r.errors}),je)throw je},ue=(ae,he={})=>{gt(s,ae)&&(Vn(he.defaultValue)?k(ae,no(gt(a,ae))):(k(ae,he.defaultValue),Lr(a,ae,no(he.defaultValue))),he.keepTouched||ds(r.touchedFields,ae),he.keepDirty||(ds(r.dirtyFields,ae),r.isDirty=he.defaultValue?I(ae,no(gt(a,ae))):I()),he.keepError||(ds(r.errors,ae),u.isValid&&g()),f.state.next({...r}))},ve=(ae,he={})=>{const ce=ae?no(ae):a,je=no(ce),Le=qa(ae),Ie=Le?a:je;if(he.keepDefaultValues||(a=ce),!he.keepValues){if(he.keepDirtyValues){const de=new Set([...l.mount,...Object.keys(Rx(a,i))]);for(const Re of Array.from(de))gt(r.dirtyFields,Re)?Lr(Ie,Re,gt(i,Re)):k(Re,gt(Ie,Re))}else{if(tT&&Vn(ae))for(const de of l.mount){const Re=gt(s,de);if(Re&&Re._f){const it=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(Qb(it)){const bt=it.closest("form");if(bt){bt.reset();break}}}}s={}}i=e.shouldUnregister?he.keepDefaultValues?no(a):{}:no(Ie),f.array.next({values:{...Ie}}),f.values.next({values:{...Ie}})}l={mount:he.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!he.keepIsValid||!!he.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:he.keepSubmitCount?r.submitCount:0,isDirty:Le?!1:he.keepDirty?r.isDirty:!!(he.keepDefaultValues&&!kd(ae,a)),isSubmitted:he.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Le?{}:he.keepDirtyValues?he.keepDefaultValues&&i?Rx(a,i):r.dirtyFields:he.keepDefaultValues&&ae?Rx(a,ae):he.keepDirty?r.dirtyFields:{},touchedFields:he.keepTouched?r.touchedFields:{},errors:he.keepErrors?r.errors:{},isSubmitSuccessful:he.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},xe=(ae,he)=>ve(Ec(ae)?ae(i):ae,he);return{control:{register:B,unregister:le,getFieldState:R,handleSubmit:Ne,setError:L,_executeSchema:A,_getWatch:W,_getDirty:I,_updateValid:g,_removeUnmounted:D,_updateFieldArray:y,_updateDisabledField:me,_getFieldArray:H,_reset:ve,_resetDefaultValues:()=>Ec(t.defaultValues)&&t.defaultValues().then(ae=>{xe(ae,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:ae=>{r={...r,...ae}},_disableForm:oe,_subjects:f,_proxyFormState:u,_setErrors:b,get _fields(){return s},get _formValues(){return i},get _state(){return o},set _state(ae){o=ae},get _defaultValues(){return a},get _names(){return l},set _names(ae){l=ae},get _formState(){return r},set _formState(ae){r=ae},get _options(){return t},set _options(ae){t={...t,...ae}}},trigger:K,register:B,handleSubmit:Ne,watch:G,setValue:k,getValues:se,reset:xe,resetField:ue,clearErrors:V,unregister:le,setError:L,setFocus:(ae,he={})=>{const ce=gt(s,ae),je=ce&&ce._f;if(je){const Le=je.refs?je.refs[0]:je.ref;Le.focus&&(Le.focus(),he.shouldSelect&&Le.select())}},getFieldState:R}}function aT(e={}){const t=z.useRef(),r=z.useRef(),[s,a]=z.useState({isDirty:!1,isValidating:!1,isLoading:Ec(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Ec(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Qde(e),formState:s});const i=t.current.control;return i._options=e,Lde({subject:i._subjects.state,next:o=>{$de(o,i._proxyFormState,i._updateFormState)&&a({...i._formState})}}),z.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),z.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==s.isDirty&&i._subjects.state.next({isDirty:o})}},[i,s.isDirty]),z.useEffect(()=>{e.values&&!kd(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),z.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),z.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),z.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),z.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[s]),t.current.formState=Fde(s,i),t.current}const QI=(e,t,r)=>{if(e&&"reportValidity"in e){const s=gt(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},pV=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?QI(s.ref,r,e):s.refs&&s.refs.forEach(a=>QI(a,r,e))}},Zde=(e,t)=>{t.shouldUseNativeValidation&&pV(e,t);const r={};for(const s in e){const a=gt(t.fields,s),i=Object.assign(e[s]||{},{ref:a&&a.ref});if(Jde(t.names||Object.keys(e),s)){const o=Object.assign({},gt(r,s));Lr(o,"root",i),Lr(r,s,o)}else Lr(r,s,i)}return r},Jde=(e,t)=>e.some(r=>r.startsWith(t+"."));var eue=function(e,t){for(var r={};e.length;){var s=e[0],a=s.code,i=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,d=c&&c[s.code];r[o]=lV(o,t,r,a,d?[].concat(d,s.message):s.message)}e.shift()}return r},iT=function(e,t,r){return r===void 0&&(r={}),function(s,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return i.shouldUseNativeValidation&&pV({},i),{errors:{},values:r.raw?s:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Zde(eue(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},hr;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(hr||(hr={}));var ZI;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(ZI||(ZI={}));const pt=hr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Qu=e=>{switch(typeof e){case"undefined":return pt.undefined;case"string":return pt.string;case"number":return isNaN(e)?pt.nan:pt.number;case"boolean":return pt.boolean;case"function":return pt.function;case"bigint":return pt.bigint;case"symbol":return pt.symbol;case"object":return Array.isArray(e)?pt.array:e===null?pt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?pt.promise:typeof Map<"u"&&e instanceof Map?pt.map:typeof Set<"u"&&e instanceof Set?pt.set:typeof Date<"u"&&e instanceof Date?pt.date:pt.object;default:return pt.unknown}},Ye=hr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class vo extends Error{constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),s}static assert(t){if(!(t instanceof vo))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,hr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):s.push(t(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}vo.create=e=>new vo(e);const x0=(e,t)=>{let r;switch(e.code){case Ye.invalid_type:e.received===pt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ye.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,hr.jsonStringifyReplacer)}`;break;case Ye.unrecognized_keys:r=`Unrecognized key(s) in object: ${hr.joinValues(e.keys,", ")}`;break;case Ye.invalid_union:r="Invalid input";break;case Ye.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${hr.joinValues(e.options)}`;break;case Ye.invalid_enum_value:r=`Invalid enum value. Expected ${hr.joinValues(e.options)}, received '${e.received}'`;break;case Ye.invalid_arguments:r="Invalid function arguments";break;case Ye.invalid_return_type:r="Invalid function return type";break;case Ye.invalid_date:r="Invalid date";break;case Ye.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:hr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ye.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ye.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ye.custom:r="Invalid input";break;case Ye.invalid_intersection_types:r="Intersection results could not be merged";break;case Ye.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ye.not_finite:r="Number must be finite";break;default:r=t.defaultError,hr.assertNever(e)}return{message:r}};let tue=x0;function tA(){return tue}const rA=e=>{const{data:t,path:r,errorMaps:s,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function ut(e,t){const r=tA(),s=rA({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===x0?void 0:x0].filter(a=>!!a)});e.common.issues.push(s)}class Ma{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const a of r){if(a.status==="aborted")return Rt;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const a of r){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return Ma.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Rt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const Rt=Object.freeze({status:"aborted"}),ig=e=>({status:"dirty",value:e}),di=e=>({status:"valid",value:e}),JI=e=>e.status==="aborted",eR=e=>e.status==="dirty",e1=e=>e.status==="valid",t1=e=>typeof Promise<"u"&&e instanceof Promise;function r1(e,t,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function xV(e,t,r,s,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Nt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Nt||(Nt={}));var og,lg;class Jl{constructor(t,r,s,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const tR=(e,t)=>{if(e1(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new vo(e.common.issues);return this._error=r,this._error}}};function qt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:a}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??s)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??r)!==null&&d!==void 0?d:l.defaultError}},description:a}}class nr{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Qu(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Qu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ma,ctx:{common:t.parent.common,data:t.data,parsedType:Qu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(t1(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){var s;const a={common:{issues:[],async:(s=r==null?void 0:r.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Qu(t)},i=this._parseSync({data:t,path:a.path,parent:a});return tR(a,i)}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Qu(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(t1(a)?a:Promise.resolve(a));return tR(s,i)}refine(t,r){const s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Ye.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(t){return new Qc({schema:this,typeName:Dt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Ic.create(this,this._def)}nullable(){return zf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ql.create(this,this._def)}promise(){return v0.create(this,this._def)}or(t){return a1.create([this,t],this._def)}and(t){return i1.create(this,t,this._def)}transform(t){return new Qc({...qt(this._def),schema:this,typeName:Dt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new u1({...qt(this._def),innerType:this,defaultValue:r,typeName:Dt.ZodDefault})}brand(){return new jV({typeName:Dt.ZodBranded,type:this,...qt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new f1({...qt(this._def),innerType:this,catchValue:r,typeName:Dt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return RN.create(this,t)}readonly(){return m1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const rue=/^c[^\s-]{8,}$/i,nue=/^[0-9a-z]+$/,sue=/^[0-9A-HJKMNP-TV-Z]{26}$/,aue=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,iue=/^[a-z0-9_-]{21}$/i,oue=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,lue=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,cue="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let aS;const due=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,uue=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,fue=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,gV="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",mue=new RegExp(`^${gV}$`);function vV(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function hue(e){return new RegExp(`^${vV(e)}$`)}function pue(e){let t=`${gV}T${vV(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function xue(e,t){return!!((t==="v4"||!t)&&due.test(e)||(t==="v6"||!t)&&uue.test(e))}class Pc extends nr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==pt.string){const i=this._getOrReturnCtx(t);return ut(i,{code:Ye.invalid_type,expected:pt.string,received:i.parsedType}),Rt}const s=new Ma;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:Ye.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:Ye.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?ut(a,{code:Ye.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ut(a,{code:Ye.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")lue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"email",code:Ye.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")aS||(aS=new RegExp(cue,"u")),aS.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"emoji",code:Ye.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")aue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"uuid",code:Ye.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")iue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"nanoid",code:Ye.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")rue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"cuid",code:Ye.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")nue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"cuid2",code:Ye.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")sue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"ulid",code:Ye.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),ut(a,{validation:"url",code:Ye.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"regex",code:Ye.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Ye.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Ye.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Ye.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?pue(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Ye.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?mue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Ye.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?hue(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{code:Ye.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?oue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"duration",code:Ye.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?xue(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"ip",code:Ye.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?fue.test(t.data)||(a=this._getOrReturnCtx(t,a),ut(a,{validation:"base64",code:Ye.invalid_string,message:i.message}),s.dirty()):hr.assertNever(i);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(a=>t.test(a),{validation:r,code:Ye.invalid_string,...Nt.errToObj(s)})}_addCheck(t){return new Pc({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Nt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Nt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Nt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Nt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Nt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Nt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Nt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Nt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Nt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Nt.errToObj(t)})}datetime(t){var r,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,...Nt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Nt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Nt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Nt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Nt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Nt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Nt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Nt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Nt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Nt.errToObj(r)})}nonempty(t){return this.min(1,Nt.errToObj(t))}trim(){return new Pc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Pc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Pc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Pc.create=e=>{var t;return new Pc({checks:[],typeName:Dt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...qt(e)})};function gue(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=r>s?r:s,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class Qh extends nr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==pt.number){const i=this._getOrReturnCtx(t);return ut(i,{code:Ye.invalid_type,expected:pt.number,received:i.parsedType}),Rt}let s;const a=new Ma;for(const i of this._def.checks)i.kind==="int"?hr.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),ut(s,{code:Ye.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Ye.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Ye.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?gue(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Ye.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),ut(s,{code:Ye.not_finite,message:i.message}),a.dirty()):hr.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Nt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Nt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Nt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Nt.toString(r))}setLimit(t,r,s,a){return new Qh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:Nt.toString(a)}]})}_addCheck(t){return new Qh({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Nt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Nt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Nt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Nt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Nt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Nt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Nt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Nt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Nt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&hr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Qh.create=e=>new Qh({checks:[],typeName:Dt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...qt(e)});class Zh extends nr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==pt.bigint){const i=this._getOrReturnCtx(t);return ut(i,{code:Ye.invalid_type,expected:pt.bigint,received:i.parsedType}),Rt}let s;const a=new Ma;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Ye.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Ye.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),ut(s,{code:Ye.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):hr.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Nt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Nt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Nt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Nt.toString(r))}setLimit(t,r,s,a){return new Zh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:Nt.toString(a)}]})}_addCheck(t){return new Zh({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Nt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Nt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Nt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Nt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Nt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Zh.create=e=>{var t;return new Zh({checks:[],typeName:Dt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...qt(e)})};class nA extends nr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==pt.boolean){const s=this._getOrReturnCtx(t);return ut(s,{code:Ye.invalid_type,expected:pt.boolean,received:s.parsedType}),Rt}return di(t.data)}}nA.create=e=>new nA({typeName:Dt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...qt(e)});class g0 extends nr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==pt.date){const i=this._getOrReturnCtx(t);return ut(i,{code:Ye.invalid_type,expected:pt.date,received:i.parsedType}),Rt}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ut(i,{code:Ye.invalid_date}),Rt}const s=new Ma;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:Ye.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),ut(a,{code:Ye.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):hr.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new g0({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Nt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Nt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}g0.create=e=>new g0({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Dt.ZodDate,...qt(e)});class sA extends nr{_parse(t){if(this._getType(t)!==pt.symbol){const s=this._getOrReturnCtx(t);return ut(s,{code:Ye.invalid_type,expected:pt.symbol,received:s.parsedType}),Rt}return di(t.data)}}sA.create=e=>new sA({typeName:Dt.ZodSymbol,...qt(e)});class n1 extends nr{_parse(t){if(this._getType(t)!==pt.undefined){const s=this._getOrReturnCtx(t);return ut(s,{code:Ye.invalid_type,expected:pt.undefined,received:s.parsedType}),Rt}return di(t.data)}}n1.create=e=>new n1({typeName:Dt.ZodUndefined,...qt(e)});class s1 extends nr{_parse(t){if(this._getType(t)!==pt.null){const s=this._getOrReturnCtx(t);return ut(s,{code:Ye.invalid_type,expected:pt.null,received:s.parsedType}),Rt}return di(t.data)}}s1.create=e=>new s1({typeName:Dt.ZodNull,...qt(e)});class aA extends nr{constructor(){super(...arguments),this._any=!0}_parse(t){return di(t.data)}}aA.create=e=>new aA({typeName:Dt.ZodAny,...qt(e)});class ph extends nr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return di(t.data)}}ph.create=e=>new ph({typeName:Dt.ZodUnknown,...qt(e)});class gu extends nr{_parse(t){const r=this._getOrReturnCtx(t);return ut(r,{code:Ye.invalid_type,expected:pt.never,received:r.parsedType}),Rt}}gu.create=e=>new gu({typeName:Dt.ZodNever,...qt(e)});class iA extends nr{_parse(t){if(this._getType(t)!==pt.undefined){const s=this._getOrReturnCtx(t);return ut(s,{code:Ye.invalid_type,expected:pt.void,received:s.parsedType}),Rt}return di(t.data)}}iA.create=e=>new iA({typeName:Dt.ZodVoid,...qt(e)});class ql extends nr{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),a=this._def;if(r.parsedType!==pt.array)return ut(r,{code:Ye.invalid_type,expected:pt.array,received:r.parsedType}),Rt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(ut(r,{code:o?Ye.too_big:Ye.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(ut(r,{code:Ye.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(ut(r,{code:Ye.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Jl(r,o,r.path,l)))).then(o=>Ma.mergeArray(s,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Jl(r,o,r.path,l)));return Ma.mergeArray(s,i)}get element(){return this._def.type}min(t,r){return new ql({...this._def,minLength:{value:t,message:Nt.toString(r)}})}max(t,r){return new ql({...this._def,maxLength:{value:t,message:Nt.toString(r)}})}length(t,r){return new ql({...this._def,exactLength:{value:t,message:Nt.toString(r)}})}nonempty(t){return this.min(1,t)}}ql.create=(e,t)=>new ql({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Dt.ZodArray,...qt(t)});function Fm(e){if(e instanceof On){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=Ic.create(Fm(s))}return new On({...e._def,shape:()=>t})}else return e instanceof ql?new ql({...e._def,type:Fm(e.element)}):e instanceof Ic?Ic.create(Fm(e.unwrap())):e instanceof zf?zf.create(Fm(e.unwrap())):e instanceof Xc?Xc.create(e.items.map(t=>Fm(t))):e}class On extends nr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=hr.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==pt.object){const d=this._getOrReturnCtx(t);return ut(d,{code:Ye.invalid_type,expected:pt.object,received:d.parsedType}),Rt}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof gu&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Jl(a,f,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof gu){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(ut(a,{code:Ye.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Jl(a,f,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,m=await u.value;d.push({key:f,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>Ma.mergeObjectSync(s,d)):Ma.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return Nt.errToObj,new On({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,s).message)!==null&&o!==void 0?o:s.defaultError;return r.code==="unrecognized_keys"?{message:(l=Nt.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new On({...this._def,unknownKeys:"strip"})}passthrough(){return new On({...this._def,unknownKeys:"passthrough"})}extend(t){return new On({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new On({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Dt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new On({...this._def,catchall:t})}pick(t){const r={};return hr.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new On({...this._def,shape:()=>r})}omit(t){const r={};return hr.objectKeys(this.shape).forEach(s=>{t[s]||(r[s]=this.shape[s])}),new On({...this._def,shape:()=>r})}deepPartial(){return Fm(this)}partial(t){const r={};return hr.objectKeys(this.shape).forEach(s=>{const a=this.shape[s];t&&!t[s]?r[s]=a:r[s]=a.optional()}),new On({...this._def,shape:()=>r})}required(t){const r={};return hr.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Ic;)i=i._def.innerType;r[s]=i}}),new On({...this._def,shape:()=>r})}keyof(){return yV(hr.objectKeys(this.shape))}}On.create=(e,t)=>new On({shape:()=>e,unknownKeys:"strip",catchall:gu.create(),typeName:Dt.ZodObject,...qt(t)});On.strictCreate=(e,t)=>new On({shape:()=>e,unknownKeys:"strict",catchall:gu.create(),typeName:Dt.ZodObject,...qt(t)});On.lazycreate=(e,t)=>new On({shape:e,unknownKeys:"strip",catchall:gu.create(),typeName:Dt.ZodObject,...qt(t)});class a1 extends nr{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new vo(l.ctx.common.issues));return ut(r,{code:Ye.invalid_union,unionErrors:o}),Rt}if(r.common.async)return Promise.all(s.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of s){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new vo(c));return ut(r,{code:Ye.invalid_union,unionErrors:l}),Rt}}get options(){return this._def.options}}a1.create=(e,t)=>new a1({options:e,typeName:Dt.ZodUnion,...qt(t)});const gc=e=>e instanceof l1?gc(e.schema):e instanceof Qc?gc(e.innerType()):e instanceof c1?[e.value]:e instanceof Vf?e.options:e instanceof d1?hr.objectValues(e.enum):e instanceof u1?gc(e._def.innerType):e instanceof n1?[void 0]:e instanceof s1?[null]:e instanceof Ic?[void 0,...gc(e.unwrap())]:e instanceof zf?[null,...gc(e.unwrap())]:e instanceof jV||e instanceof m1?gc(e.unwrap()):e instanceof f1?gc(e._def.innerType):[];class oT extends nr{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==pt.object)return ut(r,{code:Ye.invalid_type,expected:pt.object,received:r.parsedType}),Rt;const s=this.discriminator,a=r.data[s],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(ut(r,{code:Ye.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),Rt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,s){const a=new Map;for(const i of r){const o=gc(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new oT({typeName:Dt.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...qt(s)})}}function oA(e,t){const r=Qu(e),s=Qu(t);if(e===t)return{valid:!0,data:e};if(r===pt.object&&s===pt.object){const a=hr.objectKeys(t),i=hr.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=oA(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===pt.array&&s===pt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=oA(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===pt.date&&s===pt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class i1 extends nr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(JI(i)||JI(o))return Rt;const l=oA(i.value,o.value);return l.valid?((eR(i)||eR(o))&&r.dirty(),{status:r.value,value:l.data}):(ut(s,{code:Ye.invalid_intersection_types}),Rt)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}i1.create=(e,t,r)=>new i1({left:e,right:t,typeName:Dt.ZodIntersection,...qt(r)});class Xc extends nr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==pt.array)return ut(s,{code:Ye.invalid_type,expected:pt.array,received:s.parsedType}),Rt;if(s.data.length<this._def.items.length)return ut(s,{code:Ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Rt;!this._def.rest&&s.data.length>this._def.items.length&&(ut(s,{code:Ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Jl(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>Ma.mergeArray(r,o)):Ma.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Xc({...this._def,rest:t})}}Xc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xc({items:e,typeName:Dt.ZodTuple,rest:null,...qt(t)})};class o1 extends nr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==pt.object)return ut(s,{code:Ye.invalid_type,expected:pt.object,received:s.parsedType}),Rt;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in s.data)a.push({key:i._parse(new Jl(s,l,s.path,l)),value:o._parse(new Jl(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?Ma.mergeObjectAsync(r,a):Ma.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,s){return r instanceof nr?new o1({keyType:t,valueType:r,typeName:Dt.ZodRecord,...qt(s)}):new o1({keyType:Pc.create(),valueType:t,typeName:Dt.ZodRecord,...qt(r)})}}class lA extends nr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==pt.map)return ut(s,{code:Ye.invalid_type,expected:pt.map,received:s.parsedType}),Rt;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:a._parse(new Jl(s,l,s.path,[d,"key"])),value:i._parse(new Jl(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Rt;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Rt;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}lA.create=(e,t,r)=>new lA({valueType:t,keyType:e,typeName:Dt.ZodMap,...qt(r)});class Jh extends nr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==pt.set)return ut(s,{code:Ye.invalid_type,expected:pt.set,received:s.parsedType}),Rt;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(ut(s,{code:Ye.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(ut(s,{code:Ye.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Rt;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...s.data.values()].map((c,d)=>i._parse(new Jl(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Jh({...this._def,minSize:{value:t,message:Nt.toString(r)}})}max(t,r){return new Jh({...this._def,maxSize:{value:t,message:Nt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Jh.create=(e,t)=>new Jh({valueType:e,minSize:null,maxSize:null,typeName:Dt.ZodSet,...qt(t)});class Sg extends nr{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==pt.function)return ut(r,{code:Ye.invalid_type,expected:pt.function,received:r.parsedType}),Rt;function s(l,c){return rA({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,tA(),x0].filter(d=>!!d),issueData:{code:Ye.invalid_arguments,argumentsError:c}})}function a(l,c){return rA({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,tA(),x0].filter(d=>!!d),issueData:{code:Ye.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof v0){const l=this;return di(async function(...c){const d=new vo([]),u=await l._def.args.parseAsync(c,i).catch(h=>{throw d.addIssue(s(c,h)),d}),f=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(f,i).catch(h=>{throw d.addIssue(a(f,h)),d})})}else{const l=this;return di(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new vo([s(c,d.error)]);const u=Reflect.apply(o,this,d.data),f=l._def.returns.safeParse(u,i);if(!f.success)throw new vo([a(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Sg({...this._def,args:Xc.create(t).rest(ph.create())})}returns(t){return new Sg({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,s){return new Sg({args:t||Xc.create([]).rest(ph.create()),returns:r||ph.create(),typeName:Dt.ZodFunction,...qt(s)})}}class l1 extends nr{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}l1.create=(e,t)=>new l1({getter:e,typeName:Dt.ZodLazy,...qt(t)});class c1 extends nr{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ut(r,{received:r.data,code:Ye.invalid_literal,expected:this._def.value}),Rt}return{status:"valid",value:t.data}}get value(){return this._def.value}}c1.create=(e,t)=>new c1({value:e,typeName:Dt.ZodLiteral,...qt(t)});function yV(e,t){return new Vf({values:e,typeName:Dt.ZodEnum,...qt(t)})}class Vf extends nr{constructor(){super(...arguments),og.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return ut(r,{expected:hr.joinValues(s),received:r.parsedType,code:Ye.invalid_type}),Rt}if(r1(this,og)||xV(this,og,new Set(this._def.values)),!r1(this,og).has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return ut(r,{received:r.data,code:Ye.invalid_enum_value,options:s}),Rt}return di(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Vf.create(t,{...this._def,...r})}exclude(t,r=this._def){return Vf.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}og=new WeakMap;Vf.create=yV;class d1 extends nr{constructor(){super(...arguments),lg.set(this,void 0)}_parse(t){const r=hr.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==pt.string&&s.parsedType!==pt.number){const a=hr.objectValues(r);return ut(s,{expected:hr.joinValues(a),received:s.parsedType,code:Ye.invalid_type}),Rt}if(r1(this,lg)||xV(this,lg,new Set(hr.getValidEnumValues(this._def.values))),!r1(this,lg).has(t.data)){const a=hr.objectValues(r);return ut(s,{received:s.data,code:Ye.invalid_enum_value,options:a}),Rt}return di(t.data)}get enum(){return this._def.values}}lg=new WeakMap;d1.create=(e,t)=>new d1({values:e,typeName:Dt.ZodNativeEnum,...qt(t)});class v0 extends nr{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==pt.promise&&r.common.async===!1)return ut(r,{code:Ye.invalid_type,expected:pt.promise,received:r.parsedType}),Rt;const s=r.parsedType===pt.promise?r.data:Promise.resolve(r.data);return di(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}v0.create=(e,t)=>new v0({type:e,typeName:Dt.ZodPromise,...qt(t)});class Qc extends nr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Dt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{ut(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Rt;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?Rt:c.status==="dirty"||r.value==="dirty"?ig(c.value):c});{if(r.value==="aborted")return Rt;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?Rt:l.status==="dirty"||r.value==="dirty"?ig(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?Rt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?Rt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!e1(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>e1(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);hr.assertNever(a)}}Qc.create=(e,t,r)=>new Qc({schema:e,typeName:Dt.ZodEffects,effect:t,...qt(r)});Qc.createWithPreprocess=(e,t,r)=>new Qc({schema:t,effect:{type:"preprocess",transform:e},typeName:Dt.ZodEffects,...qt(r)});class Ic extends nr{_parse(t){return this._getType(t)===pt.undefined?di(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ic.create=(e,t)=>new Ic({innerType:e,typeName:Dt.ZodOptional,...qt(t)});class zf extends nr{_parse(t){return this._getType(t)===pt.null?di(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}zf.create=(e,t)=>new zf({innerType:e,typeName:Dt.ZodNullable,...qt(t)});class u1 extends nr{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===pt.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}u1.create=(e,t)=>new u1({innerType:e,typeName:Dt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...qt(t)});class f1 extends nr{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return t1(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new vo(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new vo(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}f1.create=(e,t)=>new f1({innerType:e,typeName:Dt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...qt(t)});class cA extends nr{_parse(t){if(this._getType(t)!==pt.nan){const s=this._getOrReturnCtx(t);return ut(s,{code:Ye.invalid_type,expected:pt.nan,received:s.parsedType}),Rt}return{status:"valid",value:t.data}}}cA.create=e=>new cA({typeName:Dt.ZodNaN,...qt(e)});class jV extends nr{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class RN extends nr{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?Rt:i.status==="dirty"?(r.dirty(),ig(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?Rt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,r){return new RN({in:t,out:r,typeName:Dt.ZodPipeline})}}class m1 extends nr{_parse(t){const r=this._def.innerType._parse(t),s=a=>(e1(a)&&(a.value=Object.freeze(a.value)),a);return t1(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}}m1.create=(e,t)=>new m1({innerType:e,typeName:Dt.ZodReadonly,...qt(t)});On.lazycreate;var Dt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Dt||(Dt={}));const cf=Pc.create;Qh.create;cA.create;Zh.create;nA.create;g0.create;sA.create;n1.create;s1.create;aA.create;ph.create;gu.create;iA.create;ql.create;const lT=On.create;On.strictCreate;a1.create;oT.create;i1.create;Xc.create;o1.create;lA.create;Jh.create;Sg.create;l1.create;c1.create;Vf.create;d1.create;v0.create;Qc.create;Ic.create;zf.create;Qc.createWithPreprocess;RN.create;const y0=$p("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=v.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},i)=>{const o=s?Xl:"button";return n.jsx(o,{className:ge(y0({variant:t,size:r,className:e})),ref:i,...a})});re.displayName="Button";const fe=v.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));fe.displayName="Input";var vue="Label",bV=v.forwardRef((e,t)=>n.jsx(ft.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));bV.displayName=vue;var wV=bV;const yue=$p("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),q=v.forwardRef(({className:e,...t},r)=>n.jsx(wV,{ref:r,className:ge(yue(),e),...t}));q.displayName=wV.displayName;const jue=lT({email:cf().email("Please enter a valid email address"),password:cf().min(6,"Password must be at least 6 characters")});function bue(){const[e,t]=v.useState(!1),[r,s]=v.useState(!1),{login:a,loginWithGoogle:i,loginWithFacebook:o,loginWithTwitter:l}=Hv(),{toast:c}=xr(),d=ur(),{theme:u,setTheme:f}=Bp(),{register:m,handleSubmit:h,formState:{errors:x}}=aT({resolver:iT(jue)}),p=async j=>{s(!0);try{await a(j.email,j.password),c({title:"Welcome back!",description:"You have successfully logged in."}),d("/overview")}catch(y){c({title:"Login failed",description:y.message||"Please check your credentials and try again.",variant:"destructive"})}finally{s(!1)}},g=async j=>{s(!0);try{j==="google"?await i():j==="facebook"?await o():await l()}catch(y){c({title:"Login failed",description:y.message||"Something went wrong. Please try again.",variant:"destructive"}),s(!1)}};return n.jsxs("div",{className:"min-h-screen flex",children:[n.jsxs("div",{className:"flex-1 flex items-center justify-center p-8 lg:p-12 bg-background relative",children:[n.jsx(re,{variant:"ghost",size:"icon",onClick:()=>f(u==="dark"?"light":"dark"),className:"absolute top-4 right-4 z-10",children:u==="dark"?n.jsx(Fv,{className:"h-5 w-5"}):n.jsx(Rv,{className:"h-5 w-5"})}),n.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Welcome back"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Sign in to continue to your account"})]}),n.jsxs("form",{onSubmit:h(p),className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"email",className:"text-sm font-semibold",children:"Email address"}),n.jsx(fe,{id:"email",type:"email",placeholder:"name@example.com",...m("email"),className:`h-12 text-base ${x.email?"border-destructive":""}`}),x.email&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:x.email.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(q,{htmlFor:"password",className:"text-sm font-semibold",children:"Password"}),n.jsx(zi,{to:"/forgot-password",className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:"Forgot?"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(fe,{id:"password",type:e?"text":"password",placeholder:"Enter your password",...m("password"),className:`h-12 text-base pr-12 ${x.password?"border-destructive":""}`}),n.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:e?n.jsx(dh,{className:"h-5 w-5"}):n.jsx(ri,{className:"h-5 w-5"})})]}),x.password&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:x.password.message})]}),n.jsx(re,{type:"submit",className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all shadow-md",disabled:r,children:r?"Signing in...":"Sign in"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t border-border"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"bg-background px-4 text-muted-foreground font-medium",children:"or"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(re,{type:"button",variant:"outline",className:"w-full h-12 text-base font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>g("google"),disabled:r,children:[n.jsx(p7,{className:"mr-3 h-5 w-5"}),"Continue with Google"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs(re,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>g("facebook"),disabled:r,children:[n.jsx(v7,{className:"mr-2 h-5 w-5"}),"Facebook"]}),n.jsxs(re,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>g("twitter"),disabled:r,children:[n.jsx(N7,{className:"mr-2 h-5 w-5"}),"Twitter"]})]})]}),n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-muted-foreground",children:["Don't have an account?"," ",n.jsx(zi,{to:"/signup",className:"text-primary font-semibold hover:text-primary/80 transition-colors",children:"Create account"})]})})]})]}),n.jsxs("div",{className:"hidden lg:flex lg:flex-1 bg-gradient-to-br from-primary via-primary/90 to-accent relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"}),n.jsx("div",{className:"relative flex flex-col items-center justify-center p-12 text-white",children:n.jsxs("div",{className:"max-w-md space-y-6 animate-fade-in",children:[n.jsx("h2",{className:"text-5xl font-bold leading-tight",children:"Manage your business with ease"}),n.jsx("p",{className:"text-xl text-white/90 leading-relaxed",children:"Streamline your operations, track your inventory, and grow your business with our all-in-one platform."}),n.jsxs("div",{className:"flex items-center gap-2 pt-8",children:[n.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(j=>n.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 border-2 border-white flex items-center justify-center backdrop-blur-sm",children:n.jsx("span",{className:"text-sm font-semibold",children:j})},j))}),n.jsx("p",{className:"text-sm text-white/80 font-medium",children:"Trusted by 1000+ businesses"})]})]})}),n.jsx("div",{className:"absolute top-20 right-20 w-72 h-72 bg-white/10 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-20 left-20 w-96 h-96 bg-accent/20 rounded-full blur-3xl"})]})]})}const wue=lT({name:cf().min(2,"Name must be at least 2 characters").max(100,"Name is too long"),email:cf().email("Please enter a valid email address").max(255,"Email is too long"),password:cf().min(8,"Password must be at least 8 characters").max(100,"Password is too long").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:cf()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function Nue(){const[e,t]=v.useState(!1),[r,s]=v.useState(!1),[a,i]=v.useState(!1),{signup:o,loginWithGoogle:l,loginWithFacebook:c,loginWithTwitter:d}=Hv(),{toast:u}=xr(),f=ur(),{theme:m,setTheme:h}=Bp(),{register:x,handleSubmit:p,formState:{errors:g},watch:j}=aT({resolver:iT(wue)}),y=j("password",""),w=[{label:"At least 8 characters",met:y.length>=8},{label:"One uppercase letter",met:/[A-Z]/.test(y)},{label:"One lowercase letter",met:/[a-z]/.test(y)},{label:"One number",met:/[0-9]/.test(y)}],b=async _=>{i(!0);try{await o(_.email,_.password,_.name),u({title:"Account created!",description:"Please check your email to verify your account."}),f("/overview")}catch(S){u({title:"Signup failed",description:S.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{i(!1)}},N=async _=>{i(!0);try{_==="google"?await l():_==="facebook"?await c():await d()}catch(S){u({title:"Signup failed",description:S.message||"Something went wrong. Please try again.",variant:"destructive"}),i(!1)}};return n.jsxs("div",{className:"min-h-screen flex",children:[n.jsxs("div",{className:"hidden lg:flex lg:flex-1 bg-gradient-to-br from-accent via-accent/90 to-primary relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"}),n.jsx("div",{className:"relative flex flex-col items-center justify-center p-12 text-white",children:n.jsxs("div",{className:"max-w-md space-y-6 animate-fade-in",children:[n.jsx("h2",{className:"text-5xl font-bold leading-tight",children:"Start your journey today"}),n.jsx("p",{className:"text-xl text-white/90 leading-relaxed",children:"Join thousands of businesses already using our platform to streamline their operations and boost productivity."}),n.jsx("div",{className:"grid grid-cols-2 gap-6 pt-8",children:[{label:"Active Users",value:"10,000+"},{label:"Success Rate",value:"99.9%"},{label:"Countries",value:"50+"},{label:"Support 24/7",value:"Available"}].map(_=>n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-3xl font-bold",children:_.value}),n.jsx("p",{className:"text-sm text-white/80",children:_.label})]},_.label))})]})}),n.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-white/10 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-primary/20 rounded-full blur-3xl"})]}),n.jsxs("div",{className:"flex-1 flex items-center justify-center p-8 lg:p-12 bg-background overflow-y-auto relative",children:[n.jsx(re,{variant:"ghost",size:"icon",onClick:()=>h(m==="dark"?"light":"dark"),className:"absolute top-4 right-4 z-10",children:m==="dark"?n.jsx(Fv,{className:"h-5 w-5"}):n.jsx(Rv,{className:"h-5 w-5"})}),n.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Create account"}),n.jsx("p",{className:"text-muted-foreground text-lg",children:"Start your free trial today"})]}),n.jsxs("form",{onSubmit:p(b),className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"name",className:"text-sm font-semibold",children:"Full name"}),n.jsx(fe,{id:"name",type:"text",placeholder:"John Doe",...x("name"),className:`h-12 text-base ${g.name?"border-destructive":""}`}),g.name&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:g.name.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"email",className:"text-sm font-semibold",children:"Email address"}),n.jsx(fe,{id:"email",type:"email",placeholder:"name@example.com",...x("email"),className:`h-12 text-base ${g.email?"border-destructive":""}`}),g.email&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:g.email.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"password",className:"text-sm font-semibold",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(fe,{id:"password",type:e?"text":"password",placeholder:"Create a strong password",...x("password"),className:`h-12 text-base pr-12 ${g.password?"border-destructive":""}`}),n.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:e?n.jsx(dh,{className:"h-5 w-5"}):n.jsx(ri,{className:"h-5 w-5"})})]}),y&&n.jsx("div",{className:"space-y-2 pt-2",children:w.map(_=>n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(ar,{className:`h-4 w-4 ${_.met?"text-success":"text-muted-foreground"}`}),n.jsx("span",{className:_.met?"text-success":"text-muted-foreground",children:_.label})]},_.label))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"confirmPassword",className:"text-sm font-semibold",children:"Confirm password"}),n.jsxs("div",{className:"relative",children:[n.jsx(fe,{id:"confirmPassword",type:r?"text":"password",placeholder:"Confirm your password",...x("confirmPassword"),className:`h-12 text-base pr-12 ${g.confirmPassword?"border-destructive":""}`}),n.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:r?n.jsx(dh,{className:"h-5 w-5"}):n.jsx(ri,{className:"h-5 w-5"})})]}),g.confirmPassword&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:g.confirmPassword.message})]}),n.jsx(re,{type:"submit",className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all shadow-md",disabled:a,children:a?"Creating account...":"Create account"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t border-border"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"bg-background px-4 text-muted-foreground font-medium",children:"or"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(re,{type:"button",variant:"outline",className:"w-full h-12 text-base font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>N("google"),disabled:a,children:[n.jsx(p7,{className:"mr-3 h-5 w-5"}),"Continue with Google"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs(re,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>N("facebook"),disabled:a,children:[n.jsx(v7,{className:"mr-2 h-5 w-5"}),"Facebook"]}),n.jsxs(re,{type:"button",variant:"outline",className:"h-12 font-medium hover:bg-accent hover:scale-[1.02] transition-all",onClick:()=>N("twitter"),disabled:a,children:[n.jsx(N7,{className:"mr-2 h-5 w-5"}),"Twitter"]})]})]}),n.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["By creating an account, you agree to our"," ",n.jsx("a",{href:"#",className:"text-primary hover:underline font-medium",children:"Terms of Service"})," ","and"," ",n.jsx("a",{href:"#",className:"text-primary hover:underline font-medium",children:"Privacy Policy"})]}),n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-muted-foreground",children:["Already have an account?"," ",n.jsx(zi,{to:"/login",className:"text-primary font-semibold hover:text-primary/80 transition-colors",children:"Sign in"})]})})]})]})]})}const _ue=lT({email:cf().email("Please enter a valid email address").max(255,"Email is too long")});function Sue(){const[e,t]=v.useState(!1),[r,s]=v.useState(!1),{resetPassword:a}=Hv(),{toast:i}=xr(),{theme:o,setTheme:l}=Bp(),{register:c,handleSubmit:d,formState:{errors:u},getValues:f}=aT({resolver:iT(_ue)}),m=async h=>{t(!0);try{await a(h.email),s(!0),i({title:"Email sent!",description:"Check your inbox for password reset instructions."})}catch(x){i({title:"Failed to send email",description:x.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{t(!1)}};return n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-accent/5 p-4 relative",children:[n.jsx(re,{variant:"ghost",size:"icon",onClick:()=>l(o==="dark"?"light":"dark"),className:"absolute top-4 right-4 z-10",children:o==="dark"?n.jsx(Fv,{className:"h-5 w-5"}):n.jsx(Rv,{className:"h-5 w-5"})}),n.jsx("div",{className:"w-full max-w-md",children:n.jsx("div",{className:"bg-card rounded-3xl shadow-2xl border border-border p-8 lg:p-10 animate-fade-in",children:r?n.jsx(n.Fragment,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-success/10 mb-6",children:n.jsx(Vr,{className:"h-10 w-10 text-success"})}),n.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-foreground mb-3",children:"Check your email"}),n.jsx("p",{className:"text-muted-foreground text-base mb-6 leading-relaxed",children:"We've sent password reset instructions to"}),n.jsx("p",{className:"font-semibold text-foreground text-lg mb-6",children:f("email")}),n.jsx("div",{className:"bg-muted/50 rounded-xl p-4 mb-6",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Didn't receive the email? Check your spam folder or"," ",n.jsx("button",{type:"button",onClick:()=>s(!1),className:"text-primary hover:underline font-medium",children:"try another email address"})]})}),n.jsx(zi,{to:"/login",children:n.jsx(re,{className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all",children:"Back to login"})})]})}):n.jsxs(n.Fragment,{children:[n.jsxs(zi,{to:"/login",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-8 transition-colors group",children:[n.jsx(rr,{className:"mr-2 h-4 w-4 group-hover:-translate-x-1 transition-transform"}),"Back to login"]}),n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary/10 mb-6",children:n.jsx(yn,{className:"h-8 w-8 text-primary"})}),n.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-foreground mb-3",children:"Forgot password?"}),n.jsx("p",{className:"text-muted-foreground text-base lg:text-lg leading-relaxed",children:"No worries! Enter your email and we'll send you reset instructions."})]}),n.jsxs("form",{onSubmit:d(m),className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"email",className:"text-sm font-semibold",children:"Email address"}),n.jsx(fe,{id:"email",type:"email",placeholder:"name@example.com",...c("email"),className:`h-12 text-base ${u.email?"border-destructive":""}`}),u.email&&n.jsx("p",{className:"text-sm text-destructive font-medium",children:u.email.message})]}),n.jsx(re,{type:"submit",className:"w-full h-12 text-base font-semibold hover:scale-[1.02] transition-all shadow-md",disabled:e,children:e?"Sending...":"Send reset instructions"})]})]})})})]})}var cT="Avatar",[Cue,Mnt]=ea(cT),[Aue,NV]=Cue(cT),_V=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...s}=e,[a,i]=v.useState("idle");return n.jsx(Aue,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:n.jsx(ft.span,{...s,ref:t})})});_V.displayName=cT;var SV="AvatarImage",CV=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=NV(SV,r),l=Eue(s,i.referrerPolicy),c=pn(d=>{a(d),o.onImageLoadingStatusChange(d)});return ss(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?n.jsx(ft.img,{...i,ref:t,src:s}):null});CV.displayName=SV;var AV="AvatarFallback",EV=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:s,...a}=e,i=NV(AV,r),[o,l]=v.useState(s===void 0);return v.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(ft.span,{...a,ref:t}):null});EV.displayName=AV;function Eue(e,t){const[r,s]=v.useState("idle");return ss(()=>{if(!e){s("error");return}let a=!0;const i=new window.Image,o=l=>()=>{a&&s(l)};return s("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,t&&(i.referrerPolicy=t),()=>{a=!1}},[e,t]),r}var PV=_V,kV=CV,TV=EV;const dA=v.forwardRef(({className:e,...t},r)=>n.jsx(PV,{ref:r,className:ge("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));dA.displayName=PV.displayName;const Pue=v.forwardRef(({className:e,...t},r)=>n.jsx(kV,{ref:r,className:ge("aspect-square h-full w-full",e),...t}));Pue.displayName=kV.displayName;const uA=v.forwardRef(({className:e,...t},r)=>n.jsx(TV,{ref:r,className:ge("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));uA.displayName=TV.displayName;var kue=v.createContext(void 0);function om(e){const t=v.useContext(kue);return e||t||"ltr"}var iS=0;function MN(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??rR()),document.body.insertAdjacentElement("beforeend",e[1]??rR()),iS++,()=>{iS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),iS--}},[])}function rR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var oS="focusScope.autoFocusOnMount",lS="focusScope.autoFocusOnUnmount",nR={bubbles:!1,cancelable:!0},Tue="FocusScope",Gv=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),d=pn(a),u=pn(i),f=v.useRef(null),m=It(t,p=>c(p)),h=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let p=function(w){if(h.paused||!l)return;const b=w.target;l.contains(b)?f.current=b:wd(f.current,{select:!0})},g=function(w){if(h.paused||!l)return;const b=w.relatedTarget;b!==null&&(l.contains(b)||wd(f.current,{select:!0}))},j=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&wd(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const y=new MutationObserver(j);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),y.disconnect()}}},[s,l,h.paused]),v.useEffect(()=>{if(l){aR.add(h);const p=document.activeElement;if(!l.contains(p)){const j=new CustomEvent(oS,nR);l.addEventListener(oS,d),l.dispatchEvent(j),j.defaultPrevented||(Oue(Fue(OV(l)),{select:!0}),document.activeElement===p&&wd(l))}return()=>{l.removeEventListener(oS,d),setTimeout(()=>{const j=new CustomEvent(lS,nR);l.addEventListener(lS,u),l.dispatchEvent(j),j.defaultPrevented||wd(p??document.body,{select:!0}),l.removeEventListener(lS,u),aR.remove(h)},0)}}},[l,d,u,h]);const x=v.useCallback(p=>{if(!r&&!s||h.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,j=document.activeElement;if(g&&j){const y=p.currentTarget,[w,b]=Due(y);w&&b?!p.shiftKey&&j===b?(p.preventDefault(),r&&wd(w,{select:!0})):p.shiftKey&&j===w&&(p.preventDefault(),r&&wd(b,{select:!0})):j===y&&p.preventDefault()}},[r,s,h.paused]);return n.jsx(ft.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});Gv.displayName=Tue;function Oue(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(wd(s,{select:t}),document.activeElement!==r)return}function Due(e){const t=OV(e),r=sR(t,e),s=sR(t.reverse(),e);return[r,s]}function OV(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function sR(e,t){for(const r of e)if(!Iue(r,{upTo:t}))return r}function Iue(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Rue(e){return e instanceof HTMLInputElement&&"select"in e}function wd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Rue(e)&&t&&e.select()}}var aR=Mue();function Mue(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=iR(e,t),e.unshift(t)},remove(t){var r;e=iR(e,t),(r=e[0])==null||r.resume()}}}function iR(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function Fue(e){return e.filter(t=>t.tagName!=="A")}function $ue(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,Lue(a,...t)]}function Lue(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var cS="rovingFocusGroup.onEntryFocus",Bue={bubbles:!1,cancelable:!0},FN="RovingFocusGroup",[fA,DV,Uue]=Tv(FN),[Vue,Kp]=$ue(FN,[Uue]),[zue,Wue]=Vue(FN),IV=v.forwardRef((e,t)=>n.jsx(fA.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(fA.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Hue,{...e,ref:t})})}));IV.displayName=FN;var Hue=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,m=v.useRef(null),h=It(t,m),x=om(i),[p=null,g]=Ia({prop:o,defaultProp:l,onChange:c}),[j,y]=v.useState(!1),w=pn(d),b=DV(r),N=v.useRef(!1),[_,S]=v.useState(0);return v.useEffect(()=>{const A=m.current;if(A)return A.addEventListener(cS,w),()=>A.removeEventListener(cS,w)},[w]),n.jsx(zue,{scope:r,orientation:s,dir:x,loop:a,currentTabStopId:p,onItemFocus:v.useCallback(A=>g(A),[g]),onItemShiftTab:v.useCallback(()=>y(!0),[]),onFocusableItemAdd:v.useCallback(()=>S(A=>A+1),[]),onFocusableItemRemove:v.useCallback(()=>S(A=>A-1),[]),children:n.jsx(ft.div,{tabIndex:j||_===0?-1:0,"data-orientation":s,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:He(e.onMouseDown,()=>{N.current=!0}),onFocus:He(e.onFocus,A=>{const E=!N.current;if(A.target===A.currentTarget&&E&&!j){const P=new CustomEvent(cS,Bue);if(A.currentTarget.dispatchEvent(P),!P.defaultPrevented){const D=b().filter(T=>T.focusable),I=D.find(T=>T.active),W=D.find(T=>T.id===p),F=[I,W,...D].filter(Boolean).map(T=>T.ref.current);FV(F,u)}}N.current=!1}),onBlur:He(e.onBlur,()=>y(!1))})})}),RV="RovingFocusGroupItem",MV=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,...o}=e,l=ai(),c=i||l,d=Wue(RV,r),u=d.currentTabStopId===c,f=DV(r),{onFocusableItemAdd:m,onFocusableItemRemove:h}=d;return v.useEffect(()=>{if(s)return m(),()=>h()},[s,m,h]),n.jsx(fA.ItemSlot,{scope:r,id:c,focusable:s,active:a,children:n.jsx(ft.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:He(e.onMouseDown,x=>{s?d.onItemFocus(c):x.preventDefault()}),onFocus:He(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:He(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const p=Kue(x,d.orientation,d.dir);if(p!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let j=f().filter(y=>y.focusable).map(y=>y.ref.current);if(p==="last")j.reverse();else if(p==="prev"||p==="next"){p==="prev"&&j.reverse();const y=j.indexOf(x.currentTarget);j=d.loop?Yue(j,y+1):j.slice(y+1)}setTimeout(()=>FV(j))}})})})});MV.displayName=RV;var que={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Gue(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Kue(e,t,r){const s=Gue(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return que[s]}function FV(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function Yue(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var dT=IV,uT=MV,Xue=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},_m=new WeakMap,sj=new WeakMap,aj={},dS=0,$V=function(e){return e&&(e.host||$V(e.parentNode))},Que=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=$V(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Zue=function(e,t,r,s){var a=Que(t,Array.isArray(e)?e:[e]);aj[r]||(aj[r]=new WeakMap);var i=aj[r],o=[],l=new Set,c=new Set(a),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};a.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))u(m);else try{var h=m.getAttribute(s),x=h!==null&&h!=="false",p=(_m.get(m)||0)+1,g=(i.get(m)||0)+1;_m.set(m,p),i.set(m,g),o.push(m),p===1&&x&&sj.set(m,!0),g===1&&m.setAttribute(r,"true"),x||m.setAttribute(s,"true")}catch(j){console.error("aria-hidden: cannot operate on ",m,j)}})};return u(t),l.clear(),dS++,function(){o.forEach(function(f){var m=_m.get(f)-1,h=i.get(f)-1;_m.set(f,m),i.set(f,h),m||(sj.has(f)||f.removeAttribute(s),sj.delete(f)),h||f.removeAttribute(r)}),dS--,dS||(_m=new WeakMap,_m=new WeakMap,sj=new WeakMap,aj={})}},Kv=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=Xue(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),Zue(s,a,r,"aria-hidden")):function(){return null}},da=function(){return da=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},da.apply(this,arguments)};function fT(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function LV(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var Cg="right-scroll-bar-position",Ag="width-before-scroll-bar",Jue="with-scroll-bars-hidden",efe="--removed-body-scroll-bar-size";function uS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function tfe(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var rfe=typeof window<"u"?v.useLayoutEffect:v.useEffect,oR=new WeakMap;function BV(e,t){var r=tfe(null,function(s){return e.forEach(function(a){return uS(a,s)})});return rfe(function(){var s=oR.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||uS(l,null)}),i.forEach(function(l){a.has(l)||uS(l,o)})}oR.set(r,e)},[e]),r}function nfe(e){return e}function sfe(e,t){t===void 0&&(t=nfe);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function UV(e){e===void 0&&(e={});var t=sfe(null);return t.options=da({async:!0,ssr:!1},e),t}var VV=function(e){var t=e.sideCar,r=fT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return v.createElement(s,da({},r))};VV.isSideCarExport=!0;function zV(e,t){return e.useMedium(t),VV}var WV=UV(),fS=function(){},$N=v.forwardRef(function(e,t){var r=v.useRef(null),s=v.useState({onScrollCapture:fS,onWheelCapture:fS,onTouchMoveCapture:fS}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,h=e.noIsolation,x=e.inert,p=e.allowPinchZoom,g=e.as,j=g===void 0?"div":g,y=e.gapMode,w=fT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=m,N=BV([r,t]),_=da(da({},w),a);return v.createElement(v.Fragment,null,u&&v.createElement(b,{sideCar:WV,removeScrollBar:d,shards:f,noIsolation:h,inert:x,setCallbacks:i,allowPinchZoom:!!p,lockRef:r,gapMode:y}),o?v.cloneElement(v.Children.only(l),da(da({},_),{ref:N})):v.createElement(j,da({},_,{className:c,ref:N}),l))});$N.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$N.classNames={fullWidth:Ag,zeroRight:Cg};var afe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ife(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=afe();return t&&e.setAttribute("nonce",t),e}function ofe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function lfe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var cfe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=ife())&&(ofe(t,r),lfe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},dfe=function(){var e=cfe();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},mT=function(){var e=dfe(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},ufe={left:0,top:0,right:0,gap:0},mS=function(e){return parseInt(e||"",10)||0},ffe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[mS(r),mS(s),mS(a)]},mfe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ufe;var t=ffe(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},hfe=mT(),xh="data-scroll-locked",pfe=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Jue,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(xh,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cg,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Ag,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Cg," .").concat(Cg,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Ag," .").concat(Ag,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(xh,`] {
    `).concat(efe,": ").concat(l,`px;
  }
`)},lR=function(){var e=parseInt(document.body.getAttribute(xh)||"0",10);return isFinite(e)?e:0},xfe=function(){v.useEffect(function(){return document.body.setAttribute(xh,(lR()+1).toString()),function(){var e=lR()-1;e<=0?document.body.removeAttribute(xh):document.body.setAttribute(xh,e.toString())}},[])},HV=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;xfe();var i=v.useMemo(function(){return mfe(a)},[a]);return v.createElement(hfe,{styles:pfe(i,!t,a,r?"":"!important")})},mA=!1;if(typeof window<"u")try{var ij=Object.defineProperty({},"passive",{get:function(){return mA=!0,!0}});window.addEventListener("test",ij,ij),window.removeEventListener("test",ij,ij)}catch{mA=!1}var Sm=mA?{passive:!1}:!1,gfe=function(e){return e.tagName==="TEXTAREA"},qV=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!gfe(e)&&r[t]==="visible")},vfe=function(e){return qV(e,"overflowY")},yfe=function(e){return qV(e,"overflowX")},cR=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=GV(e,s);if(a){var i=KV(e,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},jfe=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},bfe=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},GV=function(e,t){return e==="v"?vfe(t):yfe(t)},KV=function(e,t){return e==="v"?jfe(t):bfe(t)},wfe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Nfe=function(e,t,r,s,a){var i=wfe(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,m=0;do{var h=KV(e,l),x=h[0],p=h[1],g=h[2],j=p-g-i*x;(x||j)&&GV(e,l)&&(f+=j,m+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!a)||!u&&(Math.abs(m)<1||!a))&&(d=!0),d},oj=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},dR=function(e){return[e.deltaX,e.deltaY]},uR=function(e){return e&&"current"in e?e.current:e},_fe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Sfe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Cfe=0,Cm=[];function Afe(e){var t=v.useRef([]),r=v.useRef([0,0]),s=v.useRef(),a=v.useState(Cfe++)[0],i=v.useState(mT)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=LV([e.lockRef.current],(e.shards||[]).map(uR),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var j=oj(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-j[0],b="deltaY"in p?p.deltaY:y[1]-j[1],N,_=p.target,S=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in p&&S==="h"&&_.type==="range")return!1;var A=cR(S,_);if(!A)return!0;if(A?N=S:(N=S==="v"?"h":"v",A=cR(S,_)),!A)return!1;if(!s.current&&"changedTouches"in p&&(w||b)&&(s.current=N),!N)return!0;var E=s.current||N;return Nfe(E,g,p,E==="h"?w:b,!0)},[]),c=v.useCallback(function(p){var g=p;if(!(!Cm.length||Cm[Cm.length-1]!==i)){var j="deltaY"in g?dR(g):oj(g),y=t.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&_fe(N.delta,j)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(uR).filter(Boolean).filter(function(N){return N.contains(g.target)}),b=w.length>0?l(g,w[0]):!o.current.noIsolation;b&&g.cancelable&&g.preventDefault()}}},[]),d=v.useCallback(function(p,g,j,y){var w={name:p,delta:g,target:j,should:y,shadowParent:Efe(j)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),u=v.useCallback(function(p){r.current=oj(p),s.current=void 0},[]),f=v.useCallback(function(p){d(p.type,dR(p),p.target,l(p,e.lockRef.current))},[]),m=v.useCallback(function(p){d(p.type,oj(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return Cm.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Sm),document.addEventListener("touchmove",c,Sm),document.addEventListener("touchstart",u,Sm),function(){Cm=Cm.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Sm),document.removeEventListener("touchmove",c,Sm),document.removeEventListener("touchstart",u,Sm)}},[]);var h=e.removeScrollBar,x=e.inert;return v.createElement(v.Fragment,null,x?v.createElement(i,{styles:Sfe(a)}):null,h?v.createElement(HV,{gapMode:e.gapMode}):null)}function Efe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Pfe=zV(WV,Afe);var Yv=v.forwardRef(function(e,t){return v.createElement($N,da({},e,{ref:t,sideCar:Pfe}))});Yv.classNames=$N.classNames;var hA=["Enter"," "],kfe=["ArrowDown","PageUp","Home"],YV=["ArrowUp","PageDown","End"],Tfe=[...kfe,...YV],Ofe={ltr:[...hA,"ArrowRight"],rtl:[...hA,"ArrowLeft"]},Dfe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Xv="Menu",[j0,Ife,Rfe]=Tv(Xv),[lm,XV]=ea(Xv,[Rfe,Eu,Kp]),LN=Eu(),QV=Kp(),[Mfe,cm]=lm(Xv),[Ffe,Qv]=lm(Xv),ZV=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,l=LN(t),[c,d]=v.useState(null),u=v.useRef(!1),f=pn(i),m=om(a);return v.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),n.jsx(jN,{...l,children:n.jsx(Mfe,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:d,children:n.jsx(Ffe,{scope:t,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:m,modal:o,children:s})})})};ZV.displayName=Xv;var $fe="MenuAnchor",hT=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=LN(r);return n.jsx(Lv,{...a,...s,ref:t})});hT.displayName=$fe;var pT="MenuPortal",[Lfe,JV]=lm(pT,{forceMount:void 0}),ez=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,i=cm(pT,t);return n.jsx(Lfe,{scope:t,forceMount:r,children:n.jsx(as,{present:r||i.open,children:n.jsx(Fp,{asChild:!0,container:a,children:s})})})};ez.displayName=pT;var yo="MenuContent",[Bfe,xT]=lm(yo),tz=v.forwardRef((e,t)=>{const r=JV(yo,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=cm(yo,e.__scopeMenu),o=Qv(yo,e.__scopeMenu);return n.jsx(j0.Provider,{scope:e.__scopeMenu,children:n.jsx(as,{present:s||i.open,children:n.jsx(j0.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(Ufe,{...a,ref:t}):n.jsx(Vfe,{...a,ref:t})})})})}),Ufe=v.forwardRef((e,t)=>{const r=cm(yo,e.__scopeMenu),s=v.useRef(null),a=It(t,s);return v.useEffect(()=>{const i=s.current;if(i)return Kv(i)},[]),n.jsx(gT,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:He(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Vfe=v.forwardRef((e,t)=>{const r=cm(yo,e.__scopeMenu);return n.jsx(gT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),gT=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:h,disableOutsideScroll:x,...p}=e,g=cm(yo,r),j=Qv(yo,r),y=LN(r),w=QV(r),b=Ife(r),[N,_]=v.useState(null),S=v.useRef(null),A=It(t,S,g.onContentChange),E=v.useRef(0),P=v.useRef(""),D=v.useRef(0),I=v.useRef(null),W=v.useRef("right"),H=v.useRef(0),F=x?Yv:v.Fragment,T=x?{as:Xl,allowPinchZoom:!0}:void 0,k=O=>{var me,B;const K=P.current+O,se=b().filter(Y=>!Y.disabled),R=document.activeElement,V=(me=se.find(Y=>Y.ref.current===R))==null?void 0:me.textValue,L=se.map(Y=>Y.textValue),G=eme(L,K,V),le=(B=se.find(Y=>Y.textValue===G))==null?void 0:B.ref.current;(function Y(oe){P.current=oe,window.clearTimeout(E.current),oe!==""&&(E.current=window.setTimeout(()=>Y(""),1e3))})(K),le&&setTimeout(()=>le.focus())};v.useEffect(()=>()=>window.clearTimeout(E.current),[]),MN();const M=v.useCallback(O=>{var se,R;return W.current===((se=I.current)==null?void 0:se.side)&&rme(O,(R=I.current)==null?void 0:R.area)},[]);return n.jsx(Bfe,{scope:r,searchRef:P,onItemEnter:v.useCallback(O=>{M(O)&&O.preventDefault()},[M]),onItemLeave:v.useCallback(O=>{var K;M(O)||((K=S.current)==null||K.focus(),_(null))},[M]),onTriggerLeave:v.useCallback(O=>{M(O)&&O.preventDefault()},[M]),pointerGraceTimerRef:D,onPointerGraceIntentChange:v.useCallback(O=>{I.current=O},[]),children:n.jsx(F,{...T,children:n.jsx(Gv,{asChild:!0,trapped:a,onMountAutoFocus:He(i,O=>{var K;O.preventDefault(),(K=S.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(im,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:m,onDismiss:h,children:n.jsx(dT,{asChild:!0,...w,dir:j.dir,orientation:"vertical",loop:s,currentTabStopId:N,onCurrentTabStopIdChange:_,onEntryFocus:He(c,O=>{j.isUsingKeyboardRef.current||O.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(bN,{role:"menu","aria-orientation":"vertical","data-state":gz(g.open),"data-radix-menu-content":"",dir:j.dir,...y,...p,ref:A,style:{outline:"none",...p.style},onKeyDown:He(p.onKeyDown,O=>{const se=O.target.closest("[data-radix-menu-content]")===O.currentTarget,R=O.ctrlKey||O.altKey||O.metaKey,V=O.key.length===1;se&&(O.key==="Tab"&&O.preventDefault(),!R&&V&&k(O.key));const L=S.current;if(O.target!==L||!Tfe.includes(O.key))return;O.preventDefault();const le=b().filter(me=>!me.disabled).map(me=>me.ref.current);YV.includes(O.key)&&le.reverse(),Zfe(le)}),onBlur:He(e.onBlur,O=>{O.currentTarget.contains(O.target)||(window.clearTimeout(E.current),P.current="")}),onPointerMove:He(e.onPointerMove,b0(O=>{const K=O.target,se=H.current!==O.clientX;if(O.currentTarget.contains(K)&&se){const R=O.clientX>H.current?"right":"left";W.current=R,H.current=O.clientX}}))})})})})})})});tz.displayName=yo;var zfe="MenuGroup",vT=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(ft.div,{role:"group",...s,ref:t})});vT.displayName=zfe;var Wfe="MenuLabel",rz=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(ft.div,{...s,ref:t})});rz.displayName=Wfe;var h1="MenuItem",fR="menu.itemSelect",BN=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...a}=e,i=v.useRef(null),o=Qv(h1,e.__scopeMenu),l=xT(h1,e.__scopeMenu),c=It(t,i),d=v.useRef(!1),u=()=>{const f=i.current;if(!r&&f){const m=new CustomEvent(fR,{bubbles:!0,cancelable:!0});f.addEventListener(fR,h=>s==null?void 0:s(h),{once:!0}),bk(f,m),m.defaultPrevented?d.current=!1:o.onClose()}};return n.jsx(nz,{...a,ref:c,disabled:r,onClick:He(e.onClick,u),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),d.current=!0},onPointerUp:He(e.onPointerUp,f=>{var m;d.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:He(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||hA.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});BN.displayName=h1;var nz=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...i}=e,o=xT(h1,r),l=QV(r),c=v.useRef(null),d=It(t,c),[u,f]=v.useState(!1),[m,h]=v.useState("");return v.useEffect(()=>{const x=c.current;x&&h((x.textContent??"").trim())},[i.children]),n.jsx(j0.ItemSlot,{scope:r,disabled:s,textValue:a??m,children:n.jsx(uT,{asChild:!0,...l,focusable:!s,children:n.jsx(ft.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:d,onPointerMove:He(e.onPointerMove,b0(x=>{s?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:He(e.onPointerLeave,b0(x=>o.onItemLeave(x))),onFocus:He(e.onFocus,()=>f(!0)),onBlur:He(e.onBlur,()=>f(!1))})})})}),Hfe="MenuCheckboxItem",sz=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...a}=e;return n.jsx(cz,{scope:e.__scopeMenu,checked:r,children:n.jsx(BN,{role:"menuitemcheckbox","aria-checked":p1(r)?"mixed":r,...a,ref:t,"data-state":jT(r),onSelect:He(a.onSelect,()=>s==null?void 0:s(p1(r)?!0:!r),{checkForDefaultPrevented:!1})})})});sz.displayName=Hfe;var az="MenuRadioGroup",[qfe,Gfe]=lm(az,{value:void 0,onValueChange:()=>{}}),iz=v.forwardRef((e,t)=>{const{value:r,onValueChange:s,...a}=e,i=pn(s);return n.jsx(qfe,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(vT,{...a,ref:t})})});iz.displayName=az;var oz="MenuRadioItem",lz=v.forwardRef((e,t)=>{const{value:r,...s}=e,a=Gfe(oz,e.__scopeMenu),i=r===a.value;return n.jsx(cz,{scope:e.__scopeMenu,checked:i,children:n.jsx(BN,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":jT(i),onSelect:He(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});lz.displayName=oz;var yT="MenuItemIndicator",[cz,Kfe]=lm(yT,{checked:!1}),dz=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...a}=e,i=Kfe(yT,r);return n.jsx(as,{present:s||p1(i.checked)||i.checked===!0,children:n.jsx(ft.span,{...a,ref:t,"data-state":jT(i.checked)})})});dz.displayName=yT;var Yfe="MenuSeparator",uz=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(ft.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});uz.displayName=Yfe;var Xfe="MenuArrow",fz=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=LN(r);return n.jsx(wN,{...a,...s,ref:t})});fz.displayName=Xfe;var Qfe="MenuSub",[Fnt,mz]=lm(Qfe),cg="MenuSubTrigger",hz=v.forwardRef((e,t)=>{const r=cm(cg,e.__scopeMenu),s=Qv(cg,e.__scopeMenu),a=mz(cg,e.__scopeMenu),i=xT(cg,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>u,[u]),v.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),n.jsx(hT,{asChild:!0,...d,children:n.jsx(nz,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":gz(r.open),...e,ref:fN(t,a.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:He(e.onPointerMove,b0(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:He(e.onPointerLeave,b0(f=>{var h,x;u();const m=(h=r.content)==null?void 0:h.getBoundingClientRect();if(m){const p=(x=r.content)==null?void 0:x.dataset.side,g=p==="right",j=g?-5:5,y=m[g?"left":"right"],w=m[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+j,y:f.clientY},{x:y,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:y,y:m.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:He(e.onKeyDown,f=>{var h;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||Ofe[s.dir].includes(f.key)&&(r.onOpenChange(!0),(h=r.content)==null||h.focus(),f.preventDefault())})})})});hz.displayName=cg;var pz="MenuSubContent",xz=v.forwardRef((e,t)=>{const r=JV(yo,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=cm(yo,e.__scopeMenu),o=Qv(yo,e.__scopeMenu),l=mz(pz,e.__scopeMenu),c=v.useRef(null),d=It(t,c);return n.jsx(j0.Provider,{scope:e.__scopeMenu,children:n.jsx(as,{present:s||i.open,children:n.jsx(j0.Slot,{scope:e.__scopeMenu,children:n.jsx(gT,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:He(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:He(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:He(e.onKeyDown,u=>{var h;const f=u.currentTarget.contains(u.target),m=Dfe[o.dir].includes(u.key);f&&m&&(i.onOpenChange(!1),(h=l.trigger)==null||h.focus(),u.preventDefault())})})})})})});xz.displayName=pz;function gz(e){return e?"open":"closed"}function p1(e){return e==="indeterminate"}function jT(e){return p1(e)?"indeterminate":e?"checked":"unchecked"}function Zfe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Jfe(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function eme(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Jfe(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function tme(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>s!=u>s&&r<(d-l)*(s-c)/(u-c)+l&&(a=!a)}return a}function rme(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return tme(r,t)}function b0(e){return t=>t.pointerType==="mouse"?e(t):void 0}var nme=ZV,sme=hT,ame=ez,ime=tz,ome=vT,lme=rz,cme=BN,dme=sz,ume=iz,fme=lz,mme=dz,hme=uz,pme=fz,xme=hz,gme=xz,bT="DropdownMenu",[vme,$nt]=ea(bT,[XV]),Ua=XV(),[yme,vz]=vme(bT),yz=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Ua(t),d=v.useRef(null),[u=!1,f]=Ia({prop:a,defaultProp:i,onChange:o});return n.jsx(yme,{scope:t,triggerId:ai(),triggerRef:d,contentId:ai(),open:u,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(m=>!m),[f]),modal:l,children:n.jsx(nme,{...c,open:u,onOpenChange:f,dir:s,modal:l,children:r})})};yz.displayName=bT;var jz="DropdownMenuTrigger",bz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,i=vz(jz,r),o=Ua(r);return n.jsx(sme,{asChild:!0,...o,children:n.jsx(ft.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:fN(t,i.triggerRef),onPointerDown:He(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:He(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});bz.displayName=jz;var jme="DropdownMenuPortal",wz=e=>{const{__scopeDropdownMenu:t,...r}=e,s=Ua(t);return n.jsx(ame,{...s,...r})};wz.displayName=jme;var Nz="DropdownMenuContent",_z=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=vz(Nz,r),i=Ua(r),o=v.useRef(!1);return n.jsx(ime,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:He(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:He(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_z.displayName=Nz;var bme="DropdownMenuGroup",wme=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ua(r);return n.jsx(ome,{...a,...s,ref:t})});wme.displayName=bme;var Nme="DropdownMenuLabel",Sz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ua(r);return n.jsx(lme,{...a,...s,ref:t})});Sz.displayName=Nme;var _me="DropdownMenuItem",Cz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ua(r);return n.jsx(cme,{...a,...s,ref:t})});Cz.displayName=_me;var Sme="DropdownMenuCheckboxItem",Az=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ua(r);return n.jsx(dme,{...a,...s,ref:t})});Az.displayName=Sme;var Cme="DropdownMenuRadioGroup",Ame=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ua(r);return n.jsx(ume,{...a,...s,ref:t})});Ame.displayName=Cme;var Eme="DropdownMenuRadioItem",Ez=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ua(r);return n.jsx(fme,{...a,...s,ref:t})});Ez.displayName=Eme;var Pme="DropdownMenuItemIndicator",Pz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ua(r);return n.jsx(mme,{...a,...s,ref:t})});Pz.displayName=Pme;var kme="DropdownMenuSeparator",kz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ua(r);return n.jsx(hme,{...a,...s,ref:t})});kz.displayName=kme;var Tme="DropdownMenuArrow",Ome=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ua(r);return n.jsx(pme,{...a,...s,ref:t})});Ome.displayName=Tme;var Dme="DropdownMenuSubTrigger",Tz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ua(r);return n.jsx(xme,{...a,...s,ref:t})});Tz.displayName=Dme;var Ime="DropdownMenuSubContent",Oz=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Ua(r);return n.jsx(gme,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Oz.displayName=Ime;var Rme=yz,Mme=bz,Fme=wz,Dz=_z,Iz=Sz,Rz=Cz,Mz=Az,Fz=Ez,$z=Pz,Lz=kz,Bz=Tz,Uz=Oz;const Zv=Rme,Jv=Mme,$me=v.forwardRef(({className:e,inset:t,children:r,...s},a)=>n.jsxs(Bz,{ref:a,className:ge("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[r,n.jsx(uu,{className:"ml-auto h-4 w-4"})]}));$me.displayName=Bz.displayName;const Lme=v.forwardRef(({className:e,...t},r)=>n.jsx(Uz,{ref:r,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Lme.displayName=Uz.displayName;const Yp=v.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(Fme,{children:n.jsx(Dz,{ref:s,sideOffset:t,className:ge("z-[9999] min-w-[12rem] overflow-hidden rounded-lg border border-border/50 bg-popover backdrop-blur-xl p-2 text-popover-foreground shadow-2xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Yp.displayName=Dz.displayName;const In=v.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(Rz,{ref:s,className:ge("relative flex cursor-pointer select-none items-center rounded-md px-3 py-2.5 text-sm font-medium outline-none transition-colors","hover:bg-accent/80 hover:text-accent-foreground focus:bg-accent/80 focus:text-accent-foreground","data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));In.displayName=Rz.displayName;const Vz=v.forwardRef(({className:e,children:t,checked:r,...s},a)=>n.jsxs(Mz,{ref:a,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx($z,{children:n.jsx(ho,{className:"h-4 w-4"})})}),t]}));Vz.displayName=Mz.displayName;const Bme=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Fz,{ref:s,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx($z,{children:n.jsx(x7,{className:"h-2 w-2 fill-current"})})}),t]}));Bme.displayName=Fz.displayName;const pA=v.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(Iz,{ref:s,className:ge("px-3 py-2 text-xs font-bold text-muted-foreground uppercase tracking-wider",t&&"pl-8",e),...r}));pA.displayName=Iz.displayName;const Rc=v.forwardRef(({className:e,...t},r)=>n.jsx(Lz,{ref:r,className:ge("my-1.5 h-px bg-border/50",e),...t}));Rc.displayName=Lz.displayName;var wT="Dialog",[zz,Wz]=ea(wT),[Ume,hl]=zz(wT),Hz=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[d=!1,u]=Ia({prop:s,defaultProp:a,onChange:i});return n.jsx(Ume,{scope:t,triggerRef:l,contentRef:c,contentId:ai(),titleId:ai(),descriptionId:ai(),open:d,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};Hz.displayName=wT;var qz="DialogTrigger",Gz=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=hl(qz,r),i=It(t,a.triggerRef);return n.jsx(ft.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":ST(a.open),...s,ref:i,onClick:He(e.onClick,a.onOpenToggle)})});Gz.displayName=qz;var NT="DialogPortal",[Vme,Kz]=zz(NT,{forceMount:void 0}),Yz=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=hl(NT,t);return n.jsx(Vme,{scope:t,forceMount:r,children:v.Children.map(s,o=>n.jsx(as,{present:r||i.open,children:n.jsx(Fp,{asChild:!0,container:a,children:o})}))})};Yz.displayName=NT;var x1="DialogOverlay",Xz=v.forwardRef((e,t)=>{const r=Kz(x1,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=hl(x1,e.__scopeDialog);return i.modal?n.jsx(as,{present:s||i.open,children:n.jsx(zme,{...a,ref:t})}):null});Xz.displayName=x1;var zme=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=hl(x1,r);return n.jsx(Yv,{as:Xl,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(ft.div,{"data-state":ST(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Wf="DialogContent",Qz=v.forwardRef((e,t)=>{const r=Kz(Wf,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=hl(Wf,e.__scopeDialog);return n.jsx(as,{present:s||i.open,children:i.modal?n.jsx(Wme,{...a,ref:t}):n.jsx(Hme,{...a,ref:t})})});Qz.displayName=Wf;var Wme=v.forwardRef((e,t)=>{const r=hl(Wf,e.__scopeDialog),s=v.useRef(null),a=It(t,r.contentRef,s);return v.useEffect(()=>{const i=s.current;if(i)return Kv(i)},[]),n.jsx(Zz,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:He(e.onFocusOutside,i=>i.preventDefault())})}),Hme=v.forwardRef((e,t)=>{const r=hl(Wf,e.__scopeDialog),s=v.useRef(!1),a=v.useRef(!1);return n.jsx(Zz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Zz=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=hl(Wf,r),c=v.useRef(null),d=It(t,c);return MN(),n.jsxs(n.Fragment,{children:[n.jsx(Gv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(im,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ST(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(Gme,{titleId:l.titleId}),n.jsx(Yme,{contentRef:c,descriptionId:l.descriptionId})]})]})}),_T="DialogTitle",Jz=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=hl(_T,r);return n.jsx(ft.h2,{id:a.titleId,...s,ref:t})});Jz.displayName=_T;var eW="DialogDescription",tW=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=hl(eW,r);return n.jsx(ft.p,{id:a.descriptionId,...s,ref:t})});tW.displayName=eW;var rW="DialogClose",nW=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=hl(rW,r);return n.jsx(ft.button,{type:"button",...s,ref:t,onClick:He(e.onClick,()=>a.onOpenChange(!1))})});nW.displayName=rW;function ST(e){return e?"open":"closed"}var sW="DialogTitleWarning",[qme,aW]=Cne(sW,{contentName:Wf,titleName:_T,docsSlug:"dialog"}),Gme=({titleId:e})=>{const t=aW(sW),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Kme="DialogDescriptionWarning",Yme=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${aW(Kme).contentName}}.`;return v.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},CT=Hz,iW=Gz,AT=Yz,ey=Xz,ty=Qz,ry=Jz,ny=tW,UN=nW;const Xme=CT,Qme=AT,oW=v.forwardRef(({className:e,...t},r)=>n.jsx(ey,{className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));oW.displayName=ey.displayName;const Zme=$p("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),lW=v.forwardRef(({side:e="right",className:t,children:r,...s},a)=>n.jsxs(Qme,{children:[n.jsx(oW,{}),n.jsxs(ty,{ref:a,className:ge(Zme({side:e}),t),...s,children:[r,n.jsxs(UN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(ms,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));lW.displayName=ty.displayName;const cW=({className:e,...t})=>n.jsx("div",{className:ge("flex flex-col space-y-2 text-center sm:text-left",e),...t});cW.displayName="SheetHeader";const dW=v.forwardRef(({className:e,...t},r)=>n.jsx(ry,{ref:r,className:ge("text-lg font-semibold text-foreground",e),...t}));dW.displayName=ry.displayName;const Jme=v.forwardRef(({className:e,...t},r)=>n.jsx(ny,{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));Jme.displayName=ny.displayName;function xA(e,[t,r]){return Math.min(r,Math.max(t,e))}function ehe(e,t){return v.useReducer((r,s)=>t[r][s]??r,e)}var ET="ScrollArea",[uW,Lnt]=ea(ET),[the,Ao]=uW(ET),fW=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=v.useState(null),[d,u]=v.useState(null),[f,m]=v.useState(null),[h,x]=v.useState(null),[p,g]=v.useState(null),[j,y]=v.useState(0),[w,b]=v.useState(0),[N,_]=v.useState(!1),[S,A]=v.useState(!1),E=It(t,D=>c(D)),P=om(a);return n.jsx(the,{scope:r,type:s,dir:P,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:m,scrollbarX:h,onScrollbarXChange:x,scrollbarXEnabled:N,onScrollbarXEnabledChange:_,scrollbarY:p,onScrollbarYChange:g,scrollbarYEnabled:S,onScrollbarYEnabledChange:A,onCornerWidthChange:y,onCornerHeightChange:b,children:n.jsx(ft.div,{dir:P,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});fW.displayName=ET;var mW="ScrollAreaViewport",hW=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:s,asChild:a,nonce:i,...o}=e,l=Ao(mW,r),c=v.useRef(null),d=It(t,c,l.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),n.jsx(ft.div,{"data-radix-scroll-area-viewport":"",...o,asChild:a,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:uhe({asChild:a,children:s},u=>n.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});hW.displayName=mW;var ac="ScrollAreaScrollbar",PT=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Ao(ac,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return v.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?n.jsx(rhe,{...s,ref:t,forceMount:r}):a.type==="scroll"?n.jsx(nhe,{...s,ref:t,forceMount:r}):a.type==="auto"?n.jsx(pW,{...s,ref:t,forceMount:r}):a.type==="always"?n.jsx(kT,{...s,ref:t}):null});PT.displayName=ac;var rhe=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Ao(ac,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(as,{present:r||i,children:n.jsx(pW,{"data-state":i?"visible":"hidden",...s,ref:t})})}),nhe=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=Ao(ac,e.__scopeScrollArea),i=e.orientation==="horizontal",o=zN(()=>c("SCROLL_END"),100),[l,c]=ehe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),v.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let f=d[u];const m=()=>{const h=d[u];f!==h&&(c("SCROLL"),o()),f=h};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),n.jsx(as,{present:r||l!=="hidden",children:n.jsx(kT,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:He(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:He(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),pW=v.forwardRef((e,t)=>{const r=Ao(ac,e.__scopeScrollArea),{forceMount:s,...a}=e,[i,o]=v.useState(!1),l=e.orientation==="horizontal",c=zN(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return ep(r.viewport,c),ep(r.content,c),n.jsx(as,{present:s||i,children:n.jsx(kT,{"data-state":i?"visible":"hidden",...a,ref:t})})}),kT=v.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,a=Ao(ac,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=jW(l.viewport,l.content),u={...s,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,h){return che(m,o.current,l,h)}return r==="horizontal"?n.jsx(she,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,h=mR(m,l,a.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):r==="vertical"?n.jsx(ahe,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,h=mR(m,l);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),she=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=Ao(ac,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),d=It(t,c,i.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(gW,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":VN(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),wW(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:v1(o.paddingLeft),paddingEnd:v1(o.paddingRight)}})}})}),ahe=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=Ao(ac,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),d=It(t,c,i.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(gW,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":VN(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),wW(m,f)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:v1(o.paddingTop),paddingEnd:v1(o.paddingBottom)}})}})}),[ihe,xW]=uW(ac),gW=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...m}=e,h=Ao(ac,r),[x,p]=v.useState(null),g=It(t,E=>p(E)),j=v.useRef(null),y=v.useRef(""),w=h.viewport,b=s.content-s.viewport,N=pn(u),_=pn(c),S=zN(f,10);function A(E){if(j.current){const P=E.clientX-j.current.left,D=E.clientY-j.current.top;d({x:P,y:D})}}return v.useEffect(()=>{const E=P=>{const D=P.target;(x==null?void 0:x.contains(D))&&N(P,b)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[w,x,b,N]),v.useEffect(_,[s,_]),ep(x,S),ep(h.content,S),n.jsx(ihe,{scope:r,scrollbar:x,hasThumb:a,onThumbChange:pn(i),onThumbPointerUp:pn(o),onThumbPositionChange:_,onThumbPointerDown:pn(l),children:n.jsx(ft.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:He(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),j.current=x.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),A(E))}),onPointerMove:He(e.onPointerMove,A),onPointerUp:He(e.onPointerUp,E=>{const P=E.target;P.hasPointerCapture(E.pointerId)&&P.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=y.current,h.viewport&&(h.viewport.style.scrollBehavior=""),j.current=null})})})}),g1="ScrollAreaThumb",vW=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=xW(g1,e.__scopeScrollArea);return n.jsx(as,{present:r||a.hasThumb,children:n.jsx(ohe,{ref:t,...s})})}),ohe=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:s,...a}=e,i=Ao(g1,r),o=xW(g1,r),{onThumbPositionChange:l}=o,c=It(t,f=>o.onThumbChange(f)),d=v.useRef(),u=zN(()=>{d.current&&(d.current(),d.current=void 0)},100);return v.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(u(),!d.current){const h=dhe(f,l);d.current=h,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,u,l]),n.jsx(ft.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:He(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),x=f.clientX-h.left,p=f.clientY-h.top;o.onThumbPointerDown({x,y:p})}),onPointerUp:He(e.onPointerUp,o.onThumbPointerUp)})});vW.displayName=g1;var TT="ScrollAreaCorner",yW=v.forwardRef((e,t)=>{const r=Ao(TT,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?n.jsx(lhe,{...e,ref:t}):null});yW.displayName=TT;var lhe=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...s}=e,a=Ao(TT,r),[i,o]=v.useState(0),[l,c]=v.useState(0),d=!!(i&&l);return ep(a.scrollbarX,()=>{var f;const u=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),ep(a.scrollbarY,()=>{var f;const u=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?n.jsx(ft.div,{...s,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function v1(e){return e?parseInt(e,10):0}function jW(e,t){const r=e/t;return isNaN(r)?0:r}function VN(e){const t=jW(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function che(e,t,r,s="ltr"){const a=VN(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,f=s==="ltr"?[0,u]:[u*-1,0];return bW([c,d],f)(e)}function mR(e,t,r="ltr"){const s=VN(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-s,c=r==="ltr"?[0,o]:[o*-1,0],d=xA(e,c);return bW([0,o],[0,l])(d)}function bW(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function wW(e,t){return e>0&&e<t}var dhe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function zN(e,t){const r=pn(e),s=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),v.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function ep(e,t){const r=pn(t);ss(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,r])}function uhe(e,t){const{asChild:r,children:s}=e;if(!r)return typeof t=="function"?t(s):t;const a=v.Children.only(s);return v.cloneElement(a,{children:typeof t=="function"?t(a.props.children):t})}var NW=fW,fhe=hW,mhe=yW;const ic=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(NW,{ref:s,className:ge("relative overflow-hidden",e),...r,children:[n.jsx(fhe,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(_W,{}),n.jsx(mhe,{})]}));ic.displayName=NW.displayName;const _W=v.forwardRef(({className:e,orientation:t="vertical",...r},s)=>n.jsx(PT,{ref:s,orientation:t,className:ge("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(vW,{className:"relative flex-1 rounded-full bg-border"})}));_W.displayName=PT.displayName;var hR=1,hhe=.9,phe=.8,xhe=.17,hS=.1,pS=.999,ghe=.9999,vhe=.99,yhe=/[\\\/_+.#"@\[\(\{&]/,jhe=/[\\\/_+.#"@\[\(\{&]/g,bhe=/[\s-]/,SW=/[\s-]/g;function gA(e,t,r,s,a,i,o){if(i===t.length)return a===e.length?hR:vhe;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=s.charAt(i),d=r.indexOf(c,a),u=0,f,m,h,x;d>=0;)f=gA(e,t,r,s,d+1,i+1,o),f>u&&(d===a?f*=hR:yhe.test(e.charAt(d-1))?(f*=phe,h=e.slice(a,d-1).match(jhe),h&&a>0&&(f*=Math.pow(pS,h.length))):bhe.test(e.charAt(d-1))?(f*=hhe,x=e.slice(a,d-1).match(SW),x&&a>0&&(f*=Math.pow(pS,x.length))):(f*=xhe,a>0&&(f*=Math.pow(pS,d-a))),e.charAt(d)!==t.charAt(i)&&(f*=ghe)),(f<hS&&r.charAt(d-1)===s.charAt(i+1)||s.charAt(i+1)===s.charAt(i)&&r.charAt(d-1)!==s.charAt(i))&&(m=gA(e,t,r,s,d+1,i+2,o),m*hS>f&&(f=m*hS)),f>u&&(u=f),d=r.indexOf(c,d+1);return o[l]=u,u}function pR(e){return e.toLowerCase().replace(SW," ")}function whe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,gA(e,t,pR(e),pR(t),0,0,{})}function Zs(){return Zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Zs.apply(null,arguments)}function gh(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Nhe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function CW(...e){return t=>e.forEach(r=>Nhe(r,t))}function sy(...e){return v.useCallback(CW(...e),e)}function _he(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return v.createElement(p.Provider,{value:g},h)}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,She(a,...t)]}function She(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}const vA=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},Che=PP.useId||(()=>{});let Ahe=0;function xS(e){const[t,r]=v.useState(Che());return vA(()=>{e||r(s=>s??String(Ahe++))},[e]),e||(t?`radix-${t}`:"")}function Hf(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var s;return(s=t.current)===null||s===void 0?void 0:s.call(t,...r)},[])}function Ehe({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=Phe({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:s,l=Hf(r),c=v.useCallback(d=>{if(i){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else a(d)},[i,e,a,l]);return[o,c]}function Phe({defaultProp:e,onChange:t}){const r=v.useState(e),[s]=r,a=v.useRef(s),i=Hf(t);return v.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}const OT=v.forwardRef((e,t)=>{const{children:r,...s}=e,a=v.Children.toArray(r),i=a.find(The);if(i){const o=i.props.children,l=a.map(c=>c===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return v.createElement(yA,Zs({},s,{ref:t}),v.isValidElement(o)?v.cloneElement(o,void 0,l):null)}return v.createElement(yA,Zs({},s,{ref:t}),r)});OT.displayName="Slot";const yA=v.forwardRef((e,t)=>{const{children:r,...s}=e;return v.isValidElement(r)?v.cloneElement(r,{...Ohe(s,r.props),ref:t?CW(t,r.ref):r.ref}):v.Children.count(r)>1?v.Children.only(null):null});yA.displayName="SlotClone";const khe=({children:e})=>v.createElement(v.Fragment,null,e);function The(e){return v.isValidElement(e)&&e.type===khe}function Ohe(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...l)=>{i(...l),a(...l)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}const Dhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Eo=Dhe.reduce((e,t)=>{const r=v.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?OT:t;return v.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),v.createElement(l,Zs({},o,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ihe(e,t){e&&fl.flushSync(()=>e.dispatchEvent(t))}function Rhe(e,t=globalThis==null?void 0:globalThis.document){const r=Hf(e);v.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s),()=>t.removeEventListener("keydown",s)},[r,t])}const jA="dismissableLayer.update",Mhe="dismissableLayer.pointerDownOutside",Fhe="dismissableLayer.focusOutside";let xR;const $he=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lhe=v.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...d}=e,u=v.useContext($he),[f,m]=v.useState(null),h=(r=f==null?void 0:f.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,x]=v.useState({}),p=sy(t,A=>m(A)),g=Array.from(u.layers),[j]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(j),w=f?g.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,N=w>=y,_=Bhe(A=>{const E=A.target,P=[...u.branches].some(D=>D.contains(E));!N||P||(i==null||i(A),l==null||l(A),A.defaultPrevented||c==null||c())},h),S=Uhe(A=>{const E=A.target;[...u.branches].some(D=>D.contains(E))||(o==null||o(A),l==null||l(A),A.defaultPrevented||c==null||c())},h);return Rhe(A=>{w===u.layers.size-1&&(a==null||a(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},h),v.useEffect(()=>{if(f)return s&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(xR=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),gR(),()=>{s&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=xR)}},[f,h,s,u]),v.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),gR())},[f,u]),v.useEffect(()=>{const A=()=>x({});return document.addEventListener(jA,A),()=>document.removeEventListener(jA,A)},[]),v.createElement(Eo.div,Zs({},d,{ref:p,style:{pointerEvents:b?N?"auto":"none":void 0,...e.style},onFocusCapture:gh(e.onFocusCapture,S.onFocusCapture),onBlurCapture:gh(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:gh(e.onPointerDownCapture,_.onPointerDownCapture)}))});function Bhe(e,t=globalThis==null?void 0:globalThis.document){const r=Hf(e),s=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let u=function(){AW(Mhe,r,d,{discrete:!0})};var c=u;const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function Uhe(e,t=globalThis==null?void 0:globalThis.document){const r=Hf(e),s=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!s.current&&AW(Fhe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function gR(){const e=new CustomEvent(jA);document.dispatchEvent(e)}function AW(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?Ihe(a,i):a.dispatchEvent(i)}const gS="focusScope.autoFocusOnMount",vS="focusScope.autoFocusOnUnmount",vR={bubbles:!1,cancelable:!0},Vhe=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),d=Hf(a),u=Hf(i),f=v.useRef(null),m=sy(t,p=>c(p)),h=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let y=function(_){if(h.paused||!l)return;const S=_.target;l.contains(S)?f.current=S:Nd(f.current,{select:!0})},w=function(_){if(h.paused||!l)return;const S=_.relatedTarget;S!==null&&(l.contains(S)||Nd(f.current,{select:!0}))},b=function(_){if(document.activeElement===document.body)for(const A of _)A.removedNodes.length>0&&Nd(l)};var p=y,g=w,j=b;document.addEventListener("focusin",y),document.addEventListener("focusout",w);const N=new MutationObserver(b);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),N.disconnect()}}},[s,l,h.paused]),v.useEffect(()=>{if(l){jR.add(h);const p=document.activeElement;if(!l.contains(p)){const j=new CustomEvent(gS,vR);l.addEventListener(gS,d),l.dispatchEvent(j),j.defaultPrevented||(zhe(Khe(EW(l)),{select:!0}),document.activeElement===p&&Nd(l))}return()=>{l.removeEventListener(gS,d),setTimeout(()=>{const j=new CustomEvent(vS,vR);l.addEventListener(vS,u),l.dispatchEvent(j),j.defaultPrevented||Nd(p??document.body,{select:!0}),l.removeEventListener(vS,u),jR.remove(h)},0)}}},[l,d,u,h]);const x=v.useCallback(p=>{if(!r&&!s||h.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,j=document.activeElement;if(g&&j){const y=p.currentTarget,[w,b]=Whe(y);w&&b?!p.shiftKey&&j===b?(p.preventDefault(),r&&Nd(w,{select:!0})):p.shiftKey&&j===w&&(p.preventDefault(),r&&Nd(b,{select:!0})):j===y&&p.preventDefault()}},[r,s,h.paused]);return v.createElement(Eo.div,Zs({tabIndex:-1},o,{ref:m,onKeyDown:x}))});function zhe(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Nd(s,{select:t}),document.activeElement!==r)return}function Whe(e){const t=EW(e),r=yR(t,e),s=yR(t.reverse(),e);return[r,s]}function EW(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function yR(e,t){for(const r of e)if(!Hhe(r,{upTo:t}))return r}function Hhe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function qhe(e){return e instanceof HTMLInputElement&&"select"in e}function Nd(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&qhe(e)&&t&&e.select()}}const jR=Ghe();function Ghe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=bR(e,t),e.unshift(t)},remove(t){var r;e=bR(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function bR(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function Khe(e){return e.filter(t=>t.tagName!=="A")}const Yhe=v.forwardRef((e,t)=>{var r;const{container:s=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...a}=e;return s?uN.createPortal(v.createElement(Eo.div,Zs({},a,{ref:t})),s):null});function Xhe(e,t){return v.useReducer((r,s)=>{const a=t[r][s];return a??r},e)}const WN=e=>{const{present:t,children:r}=e,s=Qhe(t),a=typeof r=="function"?r({present:s.isPresent}):v.Children.only(r),i=sy(s.ref,a.ref);return typeof r=="function"||s.isPresent?v.cloneElement(a,{ref:i}):null};WN.displayName="Presence";function Qhe(e){const[t,r]=v.useState(),s=v.useRef({}),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Xhe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=lj(s.current);i.current=l==="mounted"?d:"none"},[l]),vA(()=>{const d=s.current,u=a.current;if(u!==e){const m=i.current,h=lj(d);e?c("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),vA(()=>{if(t){const d=f=>{const h=lj(s.current).includes(f.animationName);f.target===t&&h&&fl.flushSync(()=>c("ANIMATION_END"))},u=f=>{f.target===t&&(i.current=lj(s.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(d=>{d&&(s.current=getComputedStyle(d)),r(d)},[])}}function lj(e){return(e==null?void 0:e.animationName)||"none"}let yS=0;function Zhe(){v.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:wR()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:wR()),yS++,()=>{yS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),yS--}},[])}function wR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var PW=UV(),jS=function(){},HN=v.forwardRef(function(e,t){var r=v.useRef(null),s=v.useState({onScrollCapture:jS,onWheelCapture:jS,onTouchMoveCapture:jS}),a=s[0],i=s[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,m=e.sideCar,h=e.noIsolation,x=e.inert,p=e.allowPinchZoom,g=e.as,j=g===void 0?"div":g,y=fT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=m,b=BV([r,t]),N=da(da({},y),a);return v.createElement(v.Fragment,null,u&&v.createElement(w,{sideCar:PW,removeScrollBar:d,shards:f,noIsolation:h,inert:x,setCallbacks:i,allowPinchZoom:!!p,lockRef:r}),o?v.cloneElement(v.Children.only(l),da(da({},N),{ref:b})):v.createElement(j,da({},N,{className:c,ref:b}),l))});HN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};HN.classNames={fullWidth:Ag,zeroRight:Cg};var bA=!1;if(typeof window<"u")try{var cj=Object.defineProperty({},"passive",{get:function(){return bA=!0,!0}});window.addEventListener("test",cj,cj),window.removeEventListener("test",cj,cj)}catch{bA=!1}var Am=bA?{passive:!1}:!1,Jhe=function(e){return e.tagName==="TEXTAREA"},kW=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Jhe(e)&&r[t]==="visible")},epe=function(e){return kW(e,"overflowY")},tpe=function(e){return kW(e,"overflowX")},NR=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=TW(e,r);if(s){var a=OW(e,r),i=a[1],o=a[2];if(i>o)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},rpe=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},npe=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},TW=function(e,t){return e==="v"?epe(t):tpe(t)},OW=function(e,t){return e==="v"?rpe(t):npe(t)},spe=function(e,t){return e==="h"&&t==="rtl"?-1:1},ape=function(e,t,r,s,a){var i=spe(e,window.getComputedStyle(t).direction),o=i*s,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,m=0;do{var h=OW(e,l),x=h[0],p=h[1],g=h[2],j=p-g-i*x;(x||j)&&TW(e,l)&&(f+=j,m+=x),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(f===0||!a)||!u&&(m===0||!a))&&(d=!0),d},dj=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},_R=function(e){return[e.deltaX,e.deltaY]},SR=function(e){return e&&"current"in e?e.current:e},ipe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ope=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},lpe=0,Em=[];function cpe(e){var t=v.useRef([]),r=v.useRef([0,0]),s=v.useRef(),a=v.useState(lpe++)[0],i=v.useState(function(){return mT()})[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=LV([e.lockRef.current],(e.shards||[]).map(SR),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,g){if("touches"in p&&p.touches.length===2)return!o.current.allowPinchZoom;var j=dj(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-j[0],b="deltaY"in p?p.deltaY:y[1]-j[1],N,_=p.target,S=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in p&&S==="h"&&_.type==="range")return!1;var A=NR(S,_);if(!A)return!0;if(A?N=S:(N=S==="v"?"h":"v",A=NR(S,_)),!A)return!1;if(!s.current&&"changedTouches"in p&&(w||b)&&(s.current=N),!N)return!0;var E=s.current||N;return ape(E,g,p,E==="h"?w:b,!0)},[]),c=v.useCallback(function(p){var g=p;if(!(!Em.length||Em[Em.length-1]!==i)){var j="deltaY"in g?_R(g):dj(g),y=t.current.filter(function(N){return N.name===g.type&&N.target===g.target&&ipe(N.delta,j)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(SR).filter(Boolean).filter(function(N){return N.contains(g.target)}),b=w.length>0?l(g,w[0]):!o.current.noIsolation;b&&g.cancelable&&g.preventDefault()}}},[]),d=v.useCallback(function(p,g,j,y){var w={name:p,delta:g,target:j,should:y};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),u=v.useCallback(function(p){r.current=dj(p),s.current=void 0},[]),f=v.useCallback(function(p){d(p.type,_R(p),p.target,l(p,e.lockRef.current))},[]),m=v.useCallback(function(p){d(p.type,dj(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return Em.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Am),document.addEventListener("touchmove",c,Am),document.addEventListener("touchstart",u,Am),function(){Em=Em.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Am),document.removeEventListener("touchmove",c,Am),document.removeEventListener("touchstart",u,Am)}},[]);var h=e.removeScrollBar,x=e.inert;return v.createElement(v.Fragment,null,x?v.createElement(i,{styles:ope(a)}):null,h?v.createElement(HV,{gapMode:"margin"}):null)}const dpe=zV(PW,cpe);var DW=v.forwardRef(function(e,t){return v.createElement(HN,da({},e,{ref:t,sideCar:dpe}))});DW.classNames=HN.classNames;const IW="Dialog",[RW,Bnt]=_he(IW),[upe,dm]=RW(IW),fpe=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[d=!1,u]=Ehe({prop:s,defaultProp:a,onChange:i});return v.createElement(upe,{scope:t,triggerRef:l,contentRef:c,contentId:xS(),titleId:xS(),descriptionId:xS(),open:d,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(f=>!f),[u]),modal:o},r)},MW="DialogPortal",[mpe,FW]=RW(MW,{forceMount:void 0}),hpe=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=dm(MW,t);return v.createElement(mpe,{scope:t,forceMount:r},v.Children.map(s,o=>v.createElement(WN,{present:r||i.open},v.createElement(Yhe,{asChild:!0,container:a},o))))},wA="DialogOverlay",ppe=v.forwardRef((e,t)=>{const r=FW(wA,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=dm(wA,e.__scopeDialog);return i.modal?v.createElement(WN,{present:s||i.open},v.createElement(xpe,Zs({},a,{ref:t}))):null}),xpe=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=dm(wA,r);return v.createElement(DW,{as:OT,allowPinchZoom:!0,shards:[a.contentRef]},v.createElement(Eo.div,Zs({"data-state":LW(a.open)},s,{ref:t,style:{pointerEvents:"auto",...s.style}})))}),w0="DialogContent",gpe=v.forwardRef((e,t)=>{const r=FW(w0,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=dm(w0,e.__scopeDialog);return v.createElement(WN,{present:s||i.open},i.modal?v.createElement(vpe,Zs({},a,{ref:t})):v.createElement(ype,Zs({},a,{ref:t})))}),vpe=v.forwardRef((e,t)=>{const r=dm(w0,e.__scopeDialog),s=v.useRef(null),a=sy(t,r.contentRef,s);return v.useEffect(()=>{const i=s.current;if(i)return Kv(i)},[]),v.createElement($W,Zs({},e,{ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:gh(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)===null||o===void 0||o.focus()}),onPointerDownOutside:gh(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:gh(e.onFocusOutside,i=>i.preventDefault())}))}),ype=v.forwardRef((e,t)=>{const r=dm(w0,e.__scopeDialog),s=v.useRef(!1),a=v.useRef(!1);return v.createElement($W,Zs({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o;if((o=e.onCloseAutoFocus)===null||o===void 0||o.call(e,i),!i.defaultPrevented){var l;s.current||(l=r.triggerRef.current)===null||l===void 0||l.focus(),i.preventDefault()}s.current=!1,a.current=!1},onInteractOutside:i=>{var o,l;(o=e.onInteractOutside)===null||o===void 0||o.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;((l=r.triggerRef.current)===null||l===void 0?void 0:l.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}}))}),$W=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=dm(w0,r),c=v.useRef(null),d=sy(t,c);return Zhe(),v.createElement(v.Fragment,null,v.createElement(Vhe,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i},v.createElement(Lhe,Zs({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":LW(l.open)},o,{ref:d,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function LW(e){return e?"open":"closed"}const jpe=fpe,bpe=hpe,wpe=ppe,Npe=gpe;var Fx='[cmdk-group=""]',bS='[cmdk-group-items=""]',_pe='[cmdk-group-heading=""]',DT='[cmdk-item=""]',CR=`${DT}:not([aria-disabled="true"])`,NA="cmdk-item-select",Zu="data-value",Spe=(e,t,r)=>whe(e,t,r),BW=v.createContext(void 0),ay=()=>v.useContext(BW),UW=v.createContext(void 0),IT=()=>v.useContext(UW),VW=v.createContext(void 0),zW=v.forwardRef((e,t)=>{let r=$m(()=>{var R,V;return{search:"",value:(V=(R=e.value)!=null?R:e.defaultValue)!=null?V:"",filtered:{count:0,items:new Map,groups:new Set}}}),s=$m(()=>new Set),a=$m(()=>new Map),i=$m(()=>new Map),o=$m(()=>new Set),l=WW(e),{label:c,children:d,value:u,onValueChange:f,filter:m,shouldFilter:h,loop:x,disablePointerSelection:p=!1,vimBindings:g=!0,...j}=e,y=v.useId(),w=v.useId(),b=v.useId(),N=v.useRef(null),_=Mpe();qf(()=>{if(u!==void 0){let R=u.trim();r.current.value=R,S.emit()}},[u]),qf(()=>{_(6,W)},[]);let S=v.useMemo(()=>({subscribe:R=>(o.current.add(R),()=>o.current.delete(R)),snapshot:()=>r.current,setState:(R,V,L)=>{var G,le,me;if(!Object.is(r.current[R],V)){if(r.current[R]=V,R==="search")I(),P(),_(1,D);else if(R==="value"&&(L||_(5,W),((G=l.current)==null?void 0:G.value)!==void 0)){let B=V??"";(me=(le=l.current).onValueChange)==null||me.call(le,B);return}S.emit()}},emit:()=>{o.current.forEach(R=>R())}}),[]),A=v.useMemo(()=>({value:(R,V,L)=>{var G;V!==((G=i.current.get(R))==null?void 0:G.value)&&(i.current.set(R,{value:V,keywords:L}),r.current.filtered.items.set(R,E(V,L)),_(2,()=>{P(),S.emit()}))},item:(R,V)=>(s.current.add(R),V&&(a.current.has(V)?a.current.get(V).add(R):a.current.set(V,new Set([R]))),_(3,()=>{I(),P(),r.current.value||D(),S.emit()}),()=>{i.current.delete(R),s.current.delete(R),r.current.filtered.items.delete(R);let L=H();_(4,()=>{I(),(L==null?void 0:L.getAttribute("id"))===R&&D(),S.emit()})}),group:R=>(a.current.has(R)||a.current.set(R,new Set),()=>{i.current.delete(R),a.current.delete(R)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],disablePointerSelection:p,listId:y,inputId:b,labelId:w,listInnerRef:N}),[]);function E(R,V){var L,G;let le=(G=(L=l.current)==null?void 0:L.filter)!=null?G:Spe;return R?le(R,r.current.search,V):0}function P(){if(!r.current.search||l.current.shouldFilter===!1)return;let R=r.current.filtered.items,V=[];r.current.filtered.groups.forEach(G=>{let le=a.current.get(G),me=0;le.forEach(B=>{let Y=R.get(B);me=Math.max(Y,me)}),V.push([G,me])});let L=N.current;F().sort((G,le)=>{var me,B;let Y=G.getAttribute("id"),oe=le.getAttribute("id");return((me=R.get(oe))!=null?me:0)-((B=R.get(Y))!=null?B:0)}).forEach(G=>{let le=G.closest(bS);le?le.appendChild(G.parentElement===le?G:G.closest(`${bS} > *`)):L.appendChild(G.parentElement===L?G:G.closest(`${bS} > *`))}),V.sort((G,le)=>le[1]-G[1]).forEach(G=>{let le=N.current.querySelector(`${Fx}[${Zu}="${encodeURIComponent(G[0])}"]`);le==null||le.parentElement.appendChild(le)})}function D(){let R=F().find(L=>L.getAttribute("aria-disabled")!=="true"),V=R==null?void 0:R.getAttribute(Zu);S.setState("value",V||void 0)}function I(){var R,V,L,G;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=s.current.size;return}r.current.filtered.groups=new Set;let le=0;for(let me of s.current){let B=(V=(R=i.current.get(me))==null?void 0:R.value)!=null?V:"",Y=(G=(L=i.current.get(me))==null?void 0:L.keywords)!=null?G:[],oe=E(B,Y);r.current.filtered.items.set(me,oe),oe>0&&le++}for(let[me,B]of a.current)for(let Y of B)if(r.current.filtered.items.get(Y)>0){r.current.filtered.groups.add(me);break}r.current.filtered.count=le}function W(){var R,V,L;let G=H();G&&(((R=G.parentElement)==null?void 0:R.firstChild)===G&&((L=(V=G.closest(Fx))==null?void 0:V.querySelector(_pe))==null||L.scrollIntoView({block:"nearest"})),G.scrollIntoView({block:"nearest"}))}function H(){var R;return(R=N.current)==null?void 0:R.querySelector(`${DT}[aria-selected="true"]`)}function F(){var R;return Array.from((R=N.current)==null?void 0:R.querySelectorAll(CR))}function T(R){let V=F()[R];V&&S.setState("value",V.getAttribute(Zu))}function k(R){var V;let L=H(),G=F(),le=G.findIndex(B=>B===L),me=G[le+R];(V=l.current)!=null&&V.loop&&(me=le+R<0?G[G.length-1]:le+R===G.length?G[0]:G[le+R]),me&&S.setState("value",me.getAttribute(Zu))}function M(R){let V=H(),L=V==null?void 0:V.closest(Fx),G;for(;L&&!G;)L=R>0?Ipe(L,Fx):Rpe(L,Fx),G=L==null?void 0:L.querySelector(CR);G?S.setState("value",G.getAttribute(Zu)):k(R)}let O=()=>T(F().length-1),K=R=>{R.preventDefault(),R.metaKey?O():R.altKey?M(1):k(1)},se=R=>{R.preventDefault(),R.metaKey?T(0):R.altKey?M(-1):k(-1)};return v.createElement(Eo.div,{ref:t,tabIndex:-1,...j,"cmdk-root":"",onKeyDown:R=>{var V;if((V=j.onKeyDown)==null||V.call(j,R),!R.defaultPrevented)switch(R.key){case"n":case"j":{g&&R.ctrlKey&&K(R);break}case"ArrowDown":{K(R);break}case"p":case"k":{g&&R.ctrlKey&&se(R);break}case"ArrowUp":{se(R);break}case"Home":{R.preventDefault(),T(0);break}case"End":{R.preventDefault(),O();break}case"Enter":if(!R.nativeEvent.isComposing&&R.keyCode!==229){R.preventDefault();let L=H();if(L){let G=new Event(NA);L.dispatchEvent(G)}}}}},v.createElement("label",{"cmdk-label":"",htmlFor:A.inputId,id:A.labelId,style:$pe},c),qN(e,R=>v.createElement(UW.Provider,{value:S},v.createElement(BW.Provider,{value:A},R))))}),Cpe=v.forwardRef((e,t)=>{var r,s;let a=v.useId(),i=v.useRef(null),o=v.useContext(VW),l=ay(),c=WW(e),d=(s=(r=c.current)==null?void 0:r.forceMount)!=null?s:o==null?void 0:o.forceMount;qf(()=>{if(!d)return l.item(a,o==null?void 0:o.id)},[d]);let u=HW(a,i,[e.value,e.children,i],e.keywords),f=IT(),m=Gf(_=>_.value&&_.value===u.current),h=Gf(_=>d||l.filter()===!1?!0:_.search?_.filtered.items.get(a)>0:!0);v.useEffect(()=>{let _=i.current;if(!(!_||e.disabled))return _.addEventListener(NA,x),()=>_.removeEventListener(NA,x)},[h,e.onSelect,e.disabled]);function x(){var _,S;p(),(S=(_=c.current).onSelect)==null||S.call(_,u.current)}function p(){f.setState("value",u.current,!0)}if(!h)return null;let{disabled:g,value:j,onSelect:y,forceMount:w,keywords:b,...N}=e;return v.createElement(Eo.div,{ref:N0([i,t]),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!m,"data-disabled":!!g,"data-selected":!!m,onPointerMove:g||l.disablePointerSelection?void 0:p,onClick:g?void 0:x},e.children)}),Ape=v.forwardRef((e,t)=>{let{heading:r,children:s,forceMount:a,...i}=e,o=v.useId(),l=v.useRef(null),c=v.useRef(null),d=v.useId(),u=ay(),f=Gf(h=>a||u.filter()===!1?!0:h.search?h.filtered.groups.has(o):!0);qf(()=>u.group(o),[]),HW(o,l,[e.value,e.heading,c]);let m=v.useMemo(()=>({id:o,forceMount:a}),[a]);return v.createElement(Eo.div,{ref:N0([l,t]),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&v.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:d},r),qN(e,h=>v.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?d:void 0},v.createElement(VW.Provider,{value:m},h))))}),Epe=v.forwardRef((e,t)=>{let{alwaysRender:r,...s}=e,a=v.useRef(null),i=Gf(o=>!o.search);return!r&&!i?null:v.createElement(Eo.div,{ref:N0([a,t]),...s,"cmdk-separator":"",role:"separator"})}),Ppe=v.forwardRef((e,t)=>{let{onValueChange:r,...s}=e,a=e.value!=null,i=IT(),o=Gf(u=>u.search),l=Gf(u=>u.value),c=ay(),d=v.useMemo(()=>{var u;let f=(u=c.listInnerRef.current)==null?void 0:u.querySelector(`${DT}[${Zu}="${encodeURIComponent(l)}"]`);return f==null?void 0:f.getAttribute("id")},[]);return v.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),v.createElement(Eo.input,{ref:t,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":d,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),kpe=v.forwardRef((e,t)=>{let{children:r,label:s="Suggestions",...a}=e,i=v.useRef(null),o=v.useRef(null),l=ay();return v.useEffect(()=>{if(o.current&&i.current){let c=o.current,d=i.current,u,f=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let m=c.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return f.observe(c),()=>{cancelAnimationFrame(u),f.unobserve(c)}}},[]),v.createElement(Eo.div,{ref:N0([i,t]),...a,"cmdk-list":"",role:"listbox","aria-label":s,id:l.listId},qN(e,c=>v.createElement("div",{ref:N0([o,l.listInnerRef]),"cmdk-list-sizer":""},c)))}),Tpe=v.forwardRef((e,t)=>{let{open:r,onOpenChange:s,overlayClassName:a,contentClassName:i,container:o,...l}=e;return v.createElement(jpe,{open:r,onOpenChange:s},v.createElement(bpe,{container:o},v.createElement(wpe,{"cmdk-overlay":"",className:a}),v.createElement(Npe,{"aria-label":e.label,"cmdk-dialog":"",className:i},v.createElement(zW,{ref:t,...l}))))}),Ope=v.forwardRef((e,t)=>Gf(r=>r.filtered.count===0)?v.createElement(Eo.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Dpe=v.forwardRef((e,t)=>{let{progress:r,children:s,label:a="Loading...",...i}=e;return v.createElement(Eo.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},qN(e,o=>v.createElement("div",{"aria-hidden":!0},o)))}),mi=Object.assign(zW,{List:kpe,Item:Cpe,Input:Ppe,Group:Ape,Separator:Epe,Dialog:Tpe,Empty:Ope,Loading:Dpe});function Ipe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Rpe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function WW(e){let t=v.useRef(e);return qf(()=>{t.current=e}),t}var qf=typeof window>"u"?v.useEffect:v.useLayoutEffect;function $m(e){let t=v.useRef();return t.current===void 0&&(t.current=e()),t}function N0(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}function Gf(e){let t=IT(),r=()=>e(t.snapshot());return v.useSyncExternalStore(t.subscribe,r,r)}function HW(e,t,r,s=[]){let a=v.useRef(),i=ay();return qf(()=>{var o;let l=(()=>{var d;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():a.current}})(),c=s.map(d=>d.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(Zu,l),a.current=l}),a}var Mpe=()=>{let[e,t]=v.useState(),r=$m(()=>new Map);return qf(()=>{r.current.forEach(s=>s()),r.current=new Map},[e]),(s,a)=>{r.current.set(s,a),t({})}};function Fpe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function qN({asChild:e,children:t},r){return e&&v.isValidElement(t)?v.cloneElement(Fpe(t),{ref:t.ref},r(t.props.children)):r(t)}var $pe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Zr=CT,Lpe=iW,Bpe=AT,qW=v.forwardRef(({className:e,...t},r)=>n.jsx(ey,{ref:r,className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));qW.displayName=ey.displayName;const qr=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(Bpe,{children:[n.jsx(qW,{}),n.jsxs(ty,{ref:s,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(UN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(ms,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qr.displayName=ty.displayName;const Jr=({className:e,...t})=>n.jsx("div",{className:ge("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Jr.displayName="DialogHeader";const Va=({className:e,...t})=>n.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Va.displayName="DialogFooter";const en=v.forwardRef(({className:e,...t},r)=>n.jsx(ry,{ref:r,className:ge("text-lg font-semibold leading-none tracking-tight",e),...t}));en.displayName=ry.displayName;const is=v.forwardRef(({className:e,...t},r)=>n.jsx(ny,{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));is.displayName=ny.displayName;const RT=v.forwardRef(({className:e,...t},r)=>n.jsx(mi,{ref:r,className:ge("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));RT.displayName=mi.displayName;const Upe=({children:e,shouldFilter:t=!0,...r})=>n.jsx(Zr,{...r,children:n.jsx(qr,{className:"overflow-hidden p-0 shadow-2xl border-border/50 max-w-2xl",children:n.jsx(RT,{shouldFilter:t,className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-semibold [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:uppercase [&_[cmdk-group-heading]]:tracking-wider [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-3 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),MT=v.forwardRef(({className:e,...t},r)=>n.jsxs("div",{className:"flex items-center border-b border-border/50 px-4 bg-muted/30","cmdk-input-wrapper":"",children:[n.jsx(ua,{className:"mr-3 h-5 w-5 shrink-0 text-primary/70"}),n.jsx(mi.Input,{ref:r,className:ge("flex h-14 w-full rounded-md bg-transparent py-3 text-base outline-none placeholder:text-muted-foreground/70 disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));MT.displayName=mi.Input.displayName;const FT=v.forwardRef(({className:e,...t},r)=>n.jsx(mi.List,{ref:r,className:ge("max-h-[400px] overflow-y-auto overflow-x-hidden p-2",e),...t}));FT.displayName=mi.List.displayName;const GW=v.forwardRef((e,t)=>n.jsx(mi.Empty,{ref:t,className:"py-12 text-center text-sm text-muted-foreground",...e}));GW.displayName=mi.Empty.displayName;const Tl=v.forwardRef(({className:e,...t},r)=>n.jsx(mi.Group,{ref:r,className:ge("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-3 [&_[cmdk-group-heading]]:py-2 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-semibold [&_[cmdk-group-heading]]:text-muted-foreground/80 [&_[cmdk-group-heading]]:uppercase [&_[cmdk-group-heading]]:tracking-wider",e),...t}));Tl.displayName=mi.Group.displayName;const Vpe=v.forwardRef(({className:e,...t},r)=>n.jsx(mi.Separator,{ref:r,className:ge("-mx-1 h-px bg-border",e),...t}));Vpe.displayName=mi.Separator.displayName;const yi=v.forwardRef(({className:e,...t},r)=>n.jsx(mi.Item,{ref:r,className:ge("relative flex cursor-pointer select-none items-center rounded-lg px-3 py-2.5 text-sm outline-none transition-all duration-150 data-[disabled=true]:pointer-events-none data-[selected='true']:bg-primary/10 data-[selected='true']:text-primary data-[selected=true]:shadow-sm data-[disabled=true]:opacity-50 hover:bg-muted/50",e),...t}));yi.displayName=mi.Item.displayName;const xi=or.create({baseURL:Xi,timeout:3e4,headers:{"Content-Type":"application/json"}});xi.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const uj={async getNotifications(e){return(await xi.get("/notifications/",{params:e})).data},async getRecentNotifications(){return(await xi.get("/notifications/recent/")).data},async getNotification(e){return(await xi.get(`/notifications/${e}/`)).data},async getUnreadCount(){return(await xi.get("/notifications/unread_count/")).data.unread_count},async markAsRead(e){return(await xi.post(`/notifications/${e}/mark_read/`)).data},async markAllAsRead(){return(await xi.post("/notifications/mark_all_read/")).data},async deleteNotification(e){await xi.delete(`/notifications/${e}/`)},async clearReadNotifications(){return(await xi.delete("/notifications/clear_read/")).data},async getByType(e){return(await xi.get("/notifications/by_type/",{params:{type:e}})).data},async createNotification(e){return(await xi.post("/notifications/",e)).data},async getPreferences(){return(await xi.get("/notification-preferences/")).data},async updatePreferences(e){return(await xi.post("/notification-preferences/",e)).data}},zpe=e=>({info:"text-blue-500",success:"text-green-500",warning:"text-amber-500",error:"text-red-500",order:"text-blue-500",delivery:"text-cyan-500",payment:"text-green-500",issue:"text-orange-500",system:"text-purple-500"})[e]||"text-muted-foreground",Wpe=e=>{const t=new Date(e),s=new Date().getTime()-t.getTime(),a=Math.floor(s/6e4),i=Math.floor(s/36e5),o=Math.floor(s/864e5);return a<1?"Just now":a<60?`${a} min ago`:i<24?`${i} hour${i>1?"s":""} ago`:o<7?`${o} day${o>1?"s":""} ago`:t.toLocaleDateString()},$T=or.create({baseURL:Xi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});$T.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));$T.interceptors.response.use(e=>e,e=>{var t,r;return console.error("Search API error:",(t=e.response)==null?void 0:t.status,(r=e.response)==null?void 0:r.data),Promise.reject(e)});const Hpe={async globalSearch(e,t=5){return(await $T.get("/search/",{params:{q:e,limit:t}})).data}};function qpe({className:e,onMenuToggle:t}){const[r,s]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState(""),[c,d]=v.useState(null),[u,f]=v.useState(!1),[m,h]=v.useState([]),[x,p]=v.useState(0),[g,j]=v.useState(!1),[y,w]=v.useState(null),[b,N]=v.useState(!1),_=ur(),{toast:S}=xr();v.useEffect(()=>{(async()=>{try{if(mn.isAuthenticated()){const T=await yc.getProfile();d(T)}}catch(T){console.error("Failed to fetch profile:",T)}})()},[]),v.useEffect(()=>{const F=async()=>{try{if(mn.isAuthenticated()){j(!0);const[k,M]=await Promise.all([uj.getRecentNotifications(),uj.getUnreadCount()]);h(k),p(M)}}catch(k){console.error("Failed to fetch notifications:",k)}finally{j(!1)}};F();const T=setInterval(F,3e4);return()=>clearInterval(T)},[]);const A=v.useCallback(async()=>{try{await uj.markAllAsRead(),h(F=>F.map(T=>({...T,is_read:!0}))),p(0),S({title:"Notifications marked as read",description:"All notifications have been marked as read."})}catch(F){console.error("Failed to mark all as read:",F)}},[S]),E=v.useCallback(async F=>{try{await uj.markAsRead(F),h(T=>T.map(k=>k.id===F?{...k,is_read:!0}:k)),p(T=>Math.max(0,T-1))}catch(T){console.error("Failed to mark as read:",T)}},[]),P=v.useCallback(async()=>{f(!0);try{const F=mn.getRefreshToken();F&&await yc.logout(F),mn.clearTokens(),S({title:"Logged out",description:"You have been successfully logged out."}),_("/login")}catch(F){console.error("Logout failed:",F),mn.clearTokens(),_("/login")}finally{f(!1)}},[_,S]),D=v.useMemo(()=>{var k,M,O,K;if(!c)return"U";const F=((k=c.first_name)==null?void 0:k[0])||"",T=((M=c.last_name)==null?void 0:M[0])||"";return F||T?(F+T).toUpperCase():((K=(O=c.username)==null?void 0:O[0])==null?void 0:K.toUpperCase())||"U"},[c]),I=v.useMemo(()=>c?c.first_name&&c.last_name?`${c.first_name} ${c.last_name}`:c.username||"User":"User",[c]);v.useEffect(()=>{const F=T=>{T.key==="k"&&(T.metaKey||T.ctrlKey)&&(T.preventDefault(),s(k=>!k))};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[]);const W=F=>{switch(F){case"order":return bs;case"payment":return js;case"delivery":return _r;case"issue":return St;case"warning":return St;case"success":return ho;default:return af}};v.useEffect(()=>{const F=setTimeout(async()=>{var k,M;const T=o.trim();if(T.length>=2){N(!0);try{console.log("Searching for:",T);const O=await Hpe.globalSearch(T,5);console.log("Search results:",O),w(O)}catch(O){console.error("Search failed:",O),console.error("Error response:",(k=O.response)==null?void 0:k.data),console.error("Error status:",(M=O.response)==null?void 0:M.status),w(null)}finally{N(!1)}}else w(null)},300);return()=>clearTimeout(F)},[o]);const H=(F,T,k)=>{s(!1),l(""),w(null),F==="apartment"?_(`/apartments/${T}`):F==="client"?_("/clients"):F==="vendor"?_("/vendors"):F==="delivery"?_("/deliveries"):F==="issue"?_(k?`/apartments/${k}`:"/issues"):F==="product"&&k&&_(`/apartments/${k}`)};return n.jsxs(n.Fragment,{children:[n.jsx("header",{className:ge("sticky top-0 z-20 w-full","bg-background/80 backdrop-blur-xl","border-b border-border/40","supports-[backdrop-filter]:bg-background/60",e),children:n.jsxs("div",{className:"flex items-center justify-between h-16 px-4 lg:px-6",children:[n.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[n.jsx(re,{variant:"ghost",size:"icon",className:"md:hidden h-9 w-9 hover:bg-muted/80",onClick:t,children:n.jsx(Sse,{className:"h-5 w-5"})}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center shadow-lg shadow-primary/20",children:n.jsx(Ho,{className:"h-4 w-4 text-primary-foreground"})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-bold tracking-tight text-foreground",children:"Buy2Rent"}),n.jsx("span",{className:"text-[10px] text-muted-foreground -mt-0.5",children:"Procurement"})]})]})}),n.jsxs(re,{variant:"outline",className:ge("relative hidden lg:flex items-center gap-3","h-10 rounded-xl px-4","bg-muted/30 hover:bg-muted/50","border-border/50 hover:border-primary/30","text-sm text-muted-foreground","transition-all duration-300","min-w-[280px] lg:min-w-[360px]","justify-start","group"),onClick:()=>s(!0),children:[n.jsx(ua,{className:"h-4 w-4 text-muted-foreground/70 group-hover:text-primary transition-colors"}),n.jsx("span",{className:"flex-1 text-left text-muted-foreground/70",children:"Search apartments, clients, products..."}),n.jsxs("kbd",{className:ge("hidden lg:inline-flex h-5 select-none items-center gap-1","rounded-md border border-border/50 bg-background/80","px-1.5 font-mono text-[10px] font-medium text-muted-foreground/70"),children:[n.jsx("span",{className:"text-xs",children:""}),"K"]})]})]}),n.jsxs("div",{className:"flex items-center gap-1 lg:gap-2",children:[n.jsx(re,{variant:"ghost",size:"icon",className:"lg:hidden h-9 w-9 hover:bg-muted/80",onClick:()=>s(!0),children:n.jsx(ua,{className:"h-5 w-5"})}),n.jsxs(re,{variant:"ghost",size:"icon",className:ge("relative h-9 w-9 rounded-xl","hover:bg-muted/80 transition-all duration-200","group"),onClick:()=>i(!0),children:[n.jsx(af,{className:"h-5 w-5 text-muted-foreground group-hover:text-foreground transition-colors"}),x>0&&n.jsx("span",{className:ge("absolute -top-0.5 -right-0.5","flex h-5 min-w-5 items-center justify-center","rounded-full bg-primary px-1","text-[10px] font-bold text-primary-foreground","shadow-lg shadow-primary/30","animate-in zoom-in-50"),children:x})]}),n.jsx("div",{className:"hidden lg:block h-6 w-px bg-border/50 mx-2"}),n.jsxs(Zv,{children:[n.jsx(Jv,{asChild:!0,children:n.jsxs(re,{variant:"ghost",className:ge("h-10 gap-2 px-2 lg:px-3 rounded-xl","hover:bg-muted/80 transition-all duration-200"),children:[n.jsx(dA,{className:ge("h-8 w-8","ring-2 ring-primary/20 ring-offset-2 ring-offset-background","transition-all duration-300"),children:n.jsx(uA,{className:"bg-gradient-to-br from-primary via-primary to-primary/80 text-primary-foreground text-xs font-semibold",children:D})}),n.jsxs("div",{className:"hidden lg:flex flex-col items-start",children:[n.jsx("span",{className:"text-sm font-medium",children:I}),n.jsx("span",{className:"text-[10px] text-muted-foreground",children:(c==null?void 0:c.username)||"User"})]}),n.jsx(Au,{className:"hidden lg:block h-4 w-4 text-muted-foreground"})]})}),n.jsxs(Yp,{align:"end",className:ge("w-64 p-2","bg-popover/95 backdrop-blur-xl","border-border/50","shadow-xl"),children:[n.jsxs("div",{className:"flex items-center gap-3 p-2 mb-2",children:[n.jsx(dA,{className:"h-10 w-10 ring-2 ring-primary/20",children:n.jsx(uA,{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground font-semibold",children:D})}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-semibold",children:I}),n.jsx("span",{className:"text-xs text-muted-foreground",children:(c==null?void 0:c.email)||"user@example.com"})]})]}),n.jsx(Rc,{className:"bg-border/50"}),n.jsxs(In,{className:"cursor-pointer rounded-lg h-10 gap-3",children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-muted/50 flex items-center justify-center",children:n.jsx(N4,{className:"h-4 w-4 text-muted-foreground"})}),n.jsx("span",{children:"Profile"})]}),n.jsxs(In,{className:"cursor-pointer rounded-lg h-10 gap-3",onClick:()=>_("/settings"),children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-muted/50 flex items-center justify-center",children:n.jsx(Mv,{className:"h-4 w-4 text-muted-foreground"})}),n.jsx("span",{children:"Settings"})]}),n.jsxs(In,{className:"cursor-pointer rounded-lg h-10 gap-3",children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-muted/50 flex items-center justify-center",children:n.jsx(Gc,{className:"h-4 w-4 text-muted-foreground"})}),n.jsx("span",{children:"Team"})]}),n.jsx(Rc,{className:"bg-border/50"}),n.jsxs(In,{className:"cursor-pointer rounded-lg h-10 gap-3 text-red-500 hover:text-red-500 hover:bg-red-500/10",onClick:P,disabled:u,children:[n.jsx("div",{className:"h-8 w-8 rounded-lg bg-red-500/10 flex items-center justify-center",children:n.jsx(Nse,{className:ge("h-4 w-4",u&&"animate-spin")})}),n.jsx("span",{children:u?"Logging out...":"Log out"})]})]})]})]})]})}),n.jsxs(Upe,{open:r,onOpenChange:F=>{s(F),F||l("")},shouldFilter:!1,children:[n.jsxs("div",{className:"flex items-center border-b px-3",children:[n.jsx(ua,{className:"h-4 w-4 text-muted-foreground mr-2"}),n.jsx(MT,{placeholder:"Search apartments, clients, vendors, products...",className:"h-14 text-base border-0 focus:ring-0",value:o,onValueChange:l})]}),n.jsxs(FT,{className:"min-h-[350px] max-h-[450px]",children:[b&&n.jsx("div",{className:"py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Searching..."})]})}),!b&&o.length>=2&&y&&y.total_results===0&&n.jsx("div",{className:"py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(ua,{className:"h-10 w-10 text-muted-foreground/30"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"No results found"}),n.jsx("p",{className:"text-xs text-muted-foreground/70",children:"Try searching for apartments, clients, vendors, or products"})]})}),y&&y.apartments.length>0&&n.jsx(Tl,{heading:`Apartments (${y.apartments.length})`,children:y.apartments.map(F=>n.jsxs(yi,{value:`apartment-${F.id}`,onSelect:()=>H("apartment",F.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-emerald-500/10 flex items-center justify-center mr-3",children:n.jsx(dr,{className:"h-4 w-4 text-emerald-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:F.address})]}),n.jsx("span",{className:ge("text-[10px] px-2 py-0.5 rounded-full",F.status==="In Progress"?"bg-blue-500/10 text-blue-500":F.status==="Completed"?"bg-green-500/10 text-green-500":"bg-muted text-muted-foreground"),children:F.status})]},F.id))}),y&&y.clients.length>0&&n.jsx(Tl,{heading:`Clients (${y.clients.length})`,children:y.clients.map(F=>n.jsxs(yi,{value:`client-${F.id}`,onSelect:()=>H("client",F.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-violet-500/10 flex items-center justify-center mr-3",children:n.jsx(_7,{className:"h-4 w-4 text-violet-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:F.email})]}),n.jsx("span",{className:ge("text-[10px] px-2 py-0.5 rounded-full",F.account_status==="Active"?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"),children:F.account_status})]},F.id))}),y&&y.vendors.length>0&&n.jsx(Tl,{heading:`Vendors (${y.vendors.length})`,children:y.vendors.map(F=>n.jsxs(yi,{value:`vendor-${F.id}`,onSelect:()=>H("vendor",F.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-amber-500/10 flex items-center justify-center mr-3",children:n.jsx(Ra,{className:"h-4 w-4 text-amber-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:F.company_name||F.email||"No details"})]})]},F.id))}),y&&y.products.length>0&&n.jsx(Tl,{heading:`Products (${y.products.length})`,children:y.products.map(F=>n.jsxs(yi,{value:`product-${F.id}`,onSelect:()=>H("product",F.id,F.apartment_id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-orange-500/10 flex items-center justify-center mr-3",children:n.jsx(lt,{className:"h-4 w-4 text-orange-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.product}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[F.vendor,"  ",F.category||"Uncategorized"]})]}),n.jsx("span",{className:ge("text-[10px] px-2 py-0.5 rounded-full",F.status==="Delivered"?"bg-green-500/10 text-green-500":F.status==="Ordered"?"bg-blue-500/10 text-blue-500":"bg-muted text-muted-foreground"),children:F.status})]},F.id))}),y&&y.deliveries.length>0&&n.jsx(Tl,{heading:`Deliveries (${y.deliveries.length})`,children:y.deliveries.map(F=>n.jsxs(yi,{value:`delivery-${F.id}`,onSelect:()=>H("delivery",F.id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-cyan-500/10 flex items-center justify-center mr-3",children:n.jsx(_r,{className:"h-4 w-4 text-cyan-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.order_reference||`Delivery #${F.id.slice(0,8)}`}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[F.vendor,"  ",F.expected_date||"No date"]})]}),n.jsx("span",{className:ge("text-[10px] px-2 py-0.5 rounded-full",F.status==="Delivered"?"bg-green-500/10 text-green-500":F.status==="In Transit"?"bg-blue-500/10 text-blue-500":F.status==="Scheduled"?"bg-amber-500/10 text-amber-500":"bg-muted text-muted-foreground"),children:F.status})]},F.id))}),y&&y.issues.length>0&&n.jsx(Tl,{heading:`Issues (${y.issues.length})`,children:y.issues.map(F=>n.jsxs(yi,{value:`issue-${F.id}`,onSelect:()=>H("issue",F.id,F.apartment_id),className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-red-500/10 flex items-center justify-center mr-3",children:n.jsx(St,{className:"h-4 w-4 text-red-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:F.product_name}),n.jsxs("span",{className:"text-xs text-muted-foreground line-clamp-1",children:[F.type,"  ",F.priority]})]}),n.jsx("span",{className:ge("text-[10px] px-2 py-0.5 rounded-full",F.status==="Closed"?"bg-green-500/10 text-green-500":F.status==="Open"?"bg-red-500/10 text-red-500":"bg-amber-500/10 text-amber-500"),children:F.status})]},F.id))}),!o&&n.jsxs(Tl,{heading:"Quick Actions",children:[n.jsxs(yi,{value:"go-to-apartments",onSelect:()=>{s(!1),_("/apartments")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-emerald-500/10 flex items-center justify-center mr-3",children:n.jsx(dr,{className:"h-4 w-4 text-emerald-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:"View All Apartments"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse apartments"})]})]}),n.jsxs(yi,{value:"go-to-clients",onSelect:()=>{s(!1),_("/clients")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-violet-500/10 flex items-center justify-center mr-3",children:n.jsx(Gc,{className:"h-4 w-4 text-violet-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:"View All Clients"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse clients"})]})]}),n.jsxs(yi,{value:"go-to-vendors",onSelect:()=>{s(!1),_("/vendors")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-amber-500/10 flex items-center justify-center mr-3",children:n.jsx(Ra,{className:"h-4 w-4 text-amber-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:"View All Vendors"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse vendors"})]})]}),n.jsxs(yi,{value:"go-to-deliveries",onSelect:()=>{s(!1),_("/deliveries")},className:"cursor-pointer py-3 px-4 rounded-lg mx-2 my-1",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-cyan-500/10 flex items-center justify-center mr-3",children:n.jsx(_r,{className:"h-4 w-4 text-cyan-500"})}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsx("span",{className:"font-medium",children:"View All Deliveries"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Browse deliveries"})]})]})]})]})]}),n.jsx(Xme,{open:a,onOpenChange:i,children:n.jsxs(lW,{className:"w-full sm:w-[420px] p-0 border-l-border/50",children:[n.jsx(cW,{className:"p-6 pb-4 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx(af,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(dW,{className:"text-lg",children:"Notifications"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[x," unread messages"]})]})]}),x>0&&n.jsxs(re,{variant:"ghost",size:"sm",className:"text-xs text-primary hover:text-primary",onClick:A,children:[n.jsx(ho,{className:"h-3 w-3 mr-1"}),"Mark all read"]})]})}),n.jsx(ic,{className:"h-[calc(100vh-120px)]",children:n.jsx("div",{className:"p-4 space-y-2",children:g?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full"})}):m.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"h-12 w-12 rounded-xl bg-muted/50 flex items-center justify-center mb-3",children:n.jsx(af,{className:"h-6 w-6 text-muted-foreground/50"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No notifications"}),n.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:"You're all caught up!"})]}):m.map(F=>{const T=W(F.notification_type);return n.jsx("div",{className:ge("group relative p-4 rounded-xl border transition-all duration-200 cursor-pointer","hover:shadow-md hover:scale-[1.01]",F.is_read?"bg-card border-border/50 hover:bg-muted/50":"bg-primary/5 border-primary/20 hover:bg-primary/10"),onClick:()=>{F.is_read||E(F.id),F.action_url&&(_(F.action_url),i(!1))},children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:ge("h-10 w-10 rounded-xl flex items-center justify-center flex-shrink-0",F.is_read?"bg-muted/50":"bg-background"),children:n.jsx(T,{className:ge("h-5 w-5",zpe(F.notification_type))})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("p",{className:"font-medium text-sm",children:F.title}),!F.is_read&&n.jsx("span",{className:"h-2 w-2 rounded-full bg-primary flex-shrink-0 mt-1.5"})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:F.message}),n.jsxs("div",{className:"flex items-center gap-1 mt-2 text-[10px] text-muted-foreground/70",children:[n.jsx(wr,{className:"h-3 w-3"}),n.jsx("span",{children:Wpe(F.created_at)})]})]})]})},F.id)})})})]})})]})}const wS=768;function KW(){const[e,t]=v.useState(void 0);return v.useEffect(()=>{const r=window.matchMedia(`(max-width: ${wS-1}px)`),s=()=>{t(window.innerWidth<wS)};return r.addEventListener("change",s),t(window.innerWidth<wS),()=>r.removeEventListener("change",s)},[]),!!e}const Gpe="/assets/buy2rent-CUbASZeg.png",Kpe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAAyCAYAAACauW+fAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADwZJREFUeNrsWwlYVdUW3ne+gDiWQw6pDyXLPmdNqLwKjljyKrG0TCtnM8vZ0rSytKeYiebwyinQcAiVckBDK3DAAVBfaQ6k4ggoCNz53vevc/e5Hi6XQYLv63vvrO9b3z5nn7X3Xmf/e6299jr3MiaTTDLJJJNMMskkk0wyySSTTDLJJJNMMv39SCFe/Gt88EQULR6suVPoQqVWspp1m7D6AV1YkyfDmN1qZA67taI6nQafAf/crl07GaEqIrV40aJxjX4oni035MBcpQToGhXTaNVM56NkfsoLzOfuXvZomxeZyufhiupUwDk7JSUlBuXiTp062WSoqgh4q82hQ6ErD+BKAlylZAq1GsCrmRKlk9mZqTCbZV1OYab8a+yRx/qymo26VkQn0qE2uHHHjh2bogxLSkqaERwcfEiGq/JIKbl2lGulaJRMo9PAwnVM56tjeirBel898/HzFa6dliyWk7GLFWSd/qv61QR3CwoKWp+YmNhFhqtqgC91LycrFwDXu8DWFwHdVQrXYB8/P2wDJpZ/bTdzOqyVoWeAwWBYn5CQ8JAMWSW7eu9unQBXInhTwdLVrGH9GkyDUqPVMDX29Tt5ZsHV07VG45JR056v0biulfnMlneCaWpWirG2DA0NnYXyHRm2qgIe+7gC8b4AqtoVvKnU6k3j5+/fpIDlk/UrFEoW+2VES61OOzIr1xhAwKsAuLAwhIBPg71fycx3T3sC/wfn45I6f3AH8DNl6PtGXFzcgvDw8GsydFUAvBKBm5pbsIZbNBZAWnJa5nap3OtTv1dD9uCK+S98A9knXN6AZBHsOR3MYraCr7JqTYt0vysiIuJLlNcldVpwg9jY2DA6WZaib7UBAwbQ4vhOhq4SgSdrVqtU3HWrXcBrXcDD3es9G+/59Twds47q9bqvIBtFsnSut1ltANzCTCYAbzJ7Nru9efPmCx51heC7Q4YMOR8dHR2K696l6BwqA1+JwR25dLhtd4B2v9Qyvd7FJZGPn88fWgR+DoeTmYxmVnCvkBXkGcFU5pc7roiJiaFIcEUZOjeXYatEi6fInFy0WqtyW7vU8mHxZm8dLPkonILAEVaLjZmNFmY2m5nFaBUs3gxX71RoK3KOL41UMmyVCDxZuCsiV7v3dpUEeHCLz6b3e4b2f0rRKhH92WyOh99+45neN2/m/lPYz+HWzULpAp7u6zbv4DmmvSRloqKihACuzLOlTFULvBDU8Sgd1/2mTwjpwBCtA3XGrA7mMFtqZmZmNyFLdwVyFmYF6GaLlVlxb0XZIDDEc0zfRYsW1fSii++4ceNeRWkoQ2e9DFtlunoOvBt0TVG3j7LevXxLPafTLABqhjs3C1Z9H3SL2eYG3OFUsYAuQ1j1uv/wHPP59957z9vHIB8euJW1N/xHhq1SgdeKLr2I5fOjnCBjs9kBONw5gS26cwF0F9M+byNrR1TvcKiYzq+utzEf51xRipFhq0xXr78PvEZLlu/KvtERzw7ACVg36KJblwBOVu4CHmy3Mwf41E9fM61PdfZQ4yfEYeK4RZN1N+J19EGmTjn1vfjxxx8ny7A9OM2aRUlP1hjzd0U4uosPrhyemQhLN1DGjaxdgSDO6XAwC7n1QgFss59OZRGidRF8k8X/dna+YOE2gQlwh5DqFaI4q5nVbvgY6zZkPi2Ay6jaD36ED9mEl/T9trw5+IEKhWKLZ+W0adPaliB/bcGCBbeqelLDn21GBtRaUnUH/Gfcz5dE/V6RvK8nGZnrNwg/Qdcq0Q/jB8yfP/8lmmfM3+QiwN9Kn5sIwA0UsVPcLBzPTASyWXDruN+xduuJHTabDR7AwewA2G61PT6kT2Bw9p3CLmThdI73JJvFyDr0m2Bq0fkFytb1ADekLF0F9F8aGRk5YdKkScXDfKczWXLUU0qi//OQT6DtAW3NVTGpzz3dtNs7g9rQpIbW8BMyWCy3wEKI7/hiU9rX8UkZRuiXjvsnS+mGUthzAUp0VeiI8b9grm8chzBGUBHg8859lkgRtR0AEtCUiBH3cTqiwaKndR747889Ox0Z3rp9r06NvsUst/J66FZrWd169RcGv74yftmyZTSeDtF73ANE55QdjEHb0ePHjzeW8GJlHfFm4YU/qewJ7fNUk5ZThrTfkZNnCqzup90bu//8DaqPCAkIyyuw1Knlr3s7dML2KKiXKJ5W8B7LxPaYh/oowvhcZOP9AvE4mz+jIgAcyMX/JM8gNsdzPxTN+LO74EeZ6zO2CXwWcle5XBiOyUtwSVH2KYwxg8ZyA3/3908TrWaLwWR0u3FJtC4AP7fb8Og53iZg87w+r6NY6+1ZzRr+h2N3p/Xs9PxkNnLkyHwO1GIUE8sxt5fh/pbVrl17KdoaS1nRIvC7Vq9evYtf+40YMeJFlB2FFQ7CPSUV2tM95FaL7VEfxregaxjrck5OTlfuMfZC7E+JXG/usnWoj9q/NHwWQP+I9NyXcrXlyrjTglcZFd46LLRTo2h4UFP41Pj6UuBJD7E/uF8V3DB9m3iXVz2Nx0kYp+GqVate4R6yG392DLwT87ARY2eiT9revuDPboLbcW+aA06G3GLIHYZcHh2VuTekHAqlx39xT17m0fcTL/4y1fn7vonO9PhxzuNbRzoPxQxzHlz7qnPfqpede5a9NKekiQfwfcBOL5w59oXWxSL4NWvW+EOhNGfZlNqzZ8/yuDKR3vaonyY+4PeR0nuJ3GlefXrv3r29JP25PdywYcM0uM/i9UISalfkc2PA2eCvPXXaHfVi8qGNw8VxE72NS++Gqnck4/XCODqUayR11ziLtIbLhHiZL6ncGcj5orSCHbzOwe/3uaN6yq8XOZrRmdxqdUfriOwt3ib96TYNaDWN8PLI7Oejmb182+li5+7hw4ff02q1owcPHrwXt9VKwbQNgBgEKyjvRxkD+syWbsG8TBJ3tBLa3RbLXr167cXEnOCeIQL9zYmJiSnEYg2SnD5mCuAevryV36cUSVSEtqrftGWjhv61/IsNhP4Gi9fR0dEBEmu3YpwrGIc81DBet3758uUb6GLs2LEkR7+LHAaZtR4Z0KNouxvlSXQ/EmVfOjJDrgXqZ6JuFHf1F3G/kjyU2+2cjBuTaLVYDBY6jhH4kjM5HecQuK1ZtPHkNx7voZ036qme2bmm6cXScHr1iv3Hro6J3JjKuj5Zf6BkgimKP3Do1I3bmOB54iSWQtcjIiLab968+UY5XH1JNAOLZz7EyGt96OlyJa74AKq7434AP3oKWzbqNqOOFl8EReHQ5XHolOE5SP+QVpTObvX9qqEfYE4G+1fTReubT39V6upLIHLVGzDOFMguxfV4MYwICgrKpIvk5GRqv5TX0zv8DE4UnQfa7uPvQttUsrQedWRg5DoTcN+ryDneWGB0W7fL0gE4jmcUvVO0jmkaCJD7eSjsjxf0LZaC06kPHTx5bQaBToR2sfwR/WyaDvV9eoyP27N9+/YPBwwYECzZx7wRfaefHR4ePhbyZVn8Vc4iUfDUlMbDOFvKG7RhnO2Q/425AtbJuE7g1kb0ozfQ+/Zo5bNz3Zt9mEY105hr7Kiw22PXbTo61kMsi8cO4k+QyYt+v2HDhj3Vq1dfw+s6SeTXA3Axk1kgqff8kGWSXGs8AmNpnaZYAkcAnp/FRSt38uMZt41qALlaOebtdlL69Qmff3virliBdp4uVQiCAKYtPj5+VFhY2BHc1iilzzFxcXHrsFqPlDH2ph9++GGReJOfn99u0KBB62hhoT1lMDLK8+EHeolHIHKLndF2mmRLWuLZuLfhsYAfY8e8lpV5Z7bS6biw7ce0yXa7c9HoWcUW6nHotw3vO4/nLmgeYhcuXLgtPT1dlLF6AOeQHFUv8sVyo6REHCvn7yjdQsZCi+uzKqJ5SsY4HRX6CObUa1XzPlt//FiRrypalcg+vHR/Wu3fv/9ZFAtZ2V/dloSGhvqWIZOF/m6IPGfOHIrwz/FnLSSTyNCXmpfipBahffv2RXMLJRK3snOoL5I5NAQFtN29ZczKa5duzc7Jyo3fGHe874iZcd5AFywVeq1CH+SqKRahIGBrWlraaFEfiXEQ0db6JhbeMDCdnN5nrh+hHHtAXESc7fyd/dwrxWI2M4fd6QJcUbFzrU6jij9+9nYxi0DdAX6ZyjNV0gCMHThw4BODwRDEg5KSqEtCQsJb3bt3/xLyJcm0Qj/uvZT/JLszvz3Fz8ICoa9h6OsIymaS9LE04i6A1dNRS5pOW4J6d1DVtf2jNRNjR8efS81omJtz71u73f7a3MgE1rp5HT13I6YzF7OZl76XQzcVVJ3DU9ZfQQ8b9FnLj8XPcSsm3XdPmTKFti9feCIKBgfz/d3xANAU8rIOzQ/GCnRDHPtJn1/h0oMrmszQalRXT13IbvvBysPZFWmflJTUDIHMEcn+V1Iypy1c/pkHDO7+wF5JE3YLY6TxRAfjLrO+VA30/bTE6n1DQkJo0mvRHos+GgQHB98Tn+emze5z/sLNXXl38ljunfyJiIu0dWv5KZwEuVPQK3NC5MHv0s9n0UoN9uwf7/wu9Jkt0Yei7018O3lZkuSi4K+eJMVr4FvPfl4Xgn5/4nPRw7MedVM9FvAp9X3glJRmrFtR4H/LyHm3oqATYUIvSaPuEohc8luSI5A05emNzMeOHTtPfaJ/YRNNSUn5tGPHjm/wPZYW/u+Svi9JGw8dOtSYmZlJQR55ozgp6ETpqRfvmArMt+gHJyqFYqFap1HkFZpd3ypcwLMJA9vs5P3W9ewf/S2GPmroM4K7Y3LlKdB5OMp7qO/OP2hRUHYR9RSj0LEtHc/aSN5bGvgVeNaj3UbIPy/J9J2Q/mmyAfsLP3KYEpV06a+mQE+ePEn6DClDrFq7du1WeLRrVoLsFcjavIxTh28rl/lJg6g6RceQv962bVuyQA3k6FckG8mQUlNTn8Kzo0WCjkkGPU49L3FL41GKU/RCxLlTopJ3oh9xboX+vejTTLIXF0DmBq8nw2wsyqH+kqSNXvLN4zqemcqop9OB+CPW/fL3Su95geng9ZIs2AF5Vv4/gN/CAc8Dnzx79myD/7V3VMswF6eMjIz19MGGbwVfBQYGFsizIpNMMskkk0wyySSTTDLJJNPfgP4rwAAac5xZmi8mLQAAAABJRU5ErkJggg==",Lm=or.create({baseURL:Xi,headers:{"Content-Type":"application/json"}});Lm.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const LT={getOverview:async()=>(await Lm.get("/dashboard/overview/")).data,getStats:async()=>(await Lm.get("/dashboard/stats/")).data,getCharts:async()=>(await Lm.get("/dashboard/charts/")).data,getRecentActivities:async()=>{var t,r;const e=await Lm.get("/dashboard/recent-activities/");return console.log("=== API Response ==="),console.log("Full response:",e.data),console.log("Recent Orders count:",(t=e.data.recent_orders)==null?void 0:t.length),((r=e.data.recent_orders)==null?void 0:r.length)>0&&(console.log("First order:",e.data.recent_orders[0]),console.log("First order items:",e.data.recent_orders[0].items)),e.data},getQuickStats:async()=>(await Lm.get("/dashboard/quick-stats/")).data},BT={all:["dashboard"],overview:["dashboard","overview"],stats:["dashboard","stats"],charts:["dashboard","charts"],recentActivities:["dashboard","recent-activities"],quickStats:["dashboard","quick-stats"]},Ype=()=>Ns({queryKey:BT.overview,queryFn:LT.getOverview,staleTime:60*1e3,refetchInterval:5*60*1e3}),YW=()=>Ns({queryKey:BT.recentActivities,queryFn:LT.getRecentActivities,staleTime:30*1e3}),Xpe=()=>Ns({queryKey:BT.quickStats,queryFn:LT.getQuickStats,staleTime:60*1e3});function Qpe({isCollapsed:e,onToggle:t,className:r,isMobileOpen:s=!1}){const a=sc(),i=KW(),{theme:o,setTheme:l}=Bp(),c=o==="dark",{data:d,isLoading:u}=Xpe(),f=()=>{l(c?"light":"dark")},m=v.useMemo(()=>{var b,N,_;const p=((b=d==null?void 0:d.active_apartments)==null?void 0:b.value)??0,g=((N=d==null?void 0:d.deliveries_this_week)==null?void 0:N.value)??0,j=((_=d==null?void 0:d.open_issues)==null?void 0:_.value)??0,y=(d==null?void 0:d.total_clients)??0,w=(d==null?void 0:d.total_vendors)??0;return{totalApartments:p,pendingDeliveries:g,openIssues:j,totalClients:y,totalVendors:w}},[d]),h=[{title:"Main",items:[{title:"Overview",icon:y7,href:"/overview",color:"text-blue-500"}]},{title:"Management",items:[{title:"Clients",icon:Gc,href:"/clients",color:"text-violet-500"},{title:"Apartments",icon:Sk,href:"/apartments",color:"text-emerald-500"},{title:"Orders",icon:bs,href:"/orders",color:"text-orange-500"},{title:"Deliveries",icon:_r,href:"/deliveries",badge:m.pendingDeliveries>0?m.pendingDeliveries:void 0,color:"text-cyan-500"},{title:"Payments",icon:js,href:"/payments",color:"text-green-500"},{title:"Issues",icon:St,href:"/issues",badge:m.openIssues>0?m.openIssues:void 0,color:"text-red-500"},{title:"Vendors",icon:Ra,href:"/vendors",color:"text-amber-500"}]},{title:"System",items:[{title:"Automations",icon:d0,href:"/automations",color:"text-yellow-500"},{title:"Settings",icon:Mv,href:"/settings",color:"text-slate-500"}]}],x=({item:p,isActive:g})=>{const j=n.jsxs(zi,{to:p.href,className:ge("group relative flex items-center gap-3 rounded-xl px-3 py-2.5 transition-all duration-300 ease-out","hover:bg-gradient-to-r hover:from-sidebar-accent hover:to-sidebar-accent/50",g?"bg-gradient-to-r from-primary/15 to-primary/5 text-primary shadow-sm":"text-sidebar-foreground/80 hover:text-sidebar-foreground",e&&!i&&"justify-center px-2.5"),children:[n.jsxs("div",{className:ge("relative flex items-center justify-center transition-transform duration-300","group-hover:scale-110",g&&"scale-110"),children:[n.jsx(p.icon,{className:ge("h-[18px] w-[18px] shrink-0 transition-colors duration-300",g?"text-primary":p.color||"text-sidebar-foreground/70","group-hover:text-primary")}),g&&n.jsx("div",{className:ge("absolute inset-0 blur-lg opacity-50",p.color||"bg-primary")})]}),n.jsx("span",{className:ge("text-sm font-medium transition-all duration-300 whitespace-nowrap",e&&!i?"opacity-0 w-0 hidden":"opacity-100",g&&"font-semibold"),children:p.title}),p.badge&&!e&&n.jsx("span",{className:ge("ml-auto flex h-5 min-w-5 items-center justify-center rounded-full px-1.5","text-[10px] font-semibold","bg-primary/10 text-primary","animate-pulse"),children:p.badge}),p.badge&&e&&!i&&n.jsx("span",{className:"absolute -top-0.5 -right-0.5 h-2 w-2 rounded-full bg-primary animate-pulse"})]});return e&&!i?n.jsxs(Soe,{delayDuration:0,children:[n.jsx(Coe,{asChild:!0,children:j}),n.jsxs(uU,{side:"right",sideOffset:12,className:"z-[100] flex items-center gap-2 bg-popover/95 backdrop-blur-sm shadow-lg border-border/50",children:[p.title,p.badge&&n.jsx("span",{className:"flex h-5 min-w-5 items-center justify-center rounded-full bg-primary/10 text-primary text-[10px] font-semibold px-1.5",children:p.badge})]})]}):j};return n.jsx(dU,{delayDuration:0,children:n.jsxs("aside",{className:ge("fixed top-0 left-0 flex flex-col h-screen","bg-gradient-to-b from-sidebar via-sidebar to-sidebar/95","border-r border-sidebar-border/50","transition-all duration-300 ease-out","backdrop-blur-xl",i?ge("w-72 z-50 shadow-2xl",s?"translate-x-0":"-translate-x-full"):ge(e?"w-[72px]":"w-72","z-40"),r),children:[n.jsxs("div",{className:ge("flex items-center shrink-0 relative","h-16 px-4","border-b border-sidebar-border/50","bg-gradient-to-r from-sidebar to-sidebar/80"),children:[n.jsx("div",{className:ge("flex items-center gap-3 transition-all duration-300",e&&!i?"justify-center w-full":""),children:n.jsx("div",{className:ge("relative flex items-center justify-center","transition-all duration-300",e&&!i?"w-10 h-10":"w-auto h-10"),children:n.jsx("img",{src:c?Kpe:Gpe,alt:"Buy2Rent",className:ge("transition-all duration-300 object-contain",e&&!i?"h-8 w-8":"h-9 max-w-[160px]")})})}),!i&&n.jsx(re,{variant:"outline",size:"icon",onClick:t,className:ge("absolute -right-4 top-1/2 -translate-y-1/2 z-50","h-7 w-7 rounded-full","bg-background border-2 border-border shadow-lg","hover:bg-primary hover:text-primary-foreground hover:border-primary","hover:scale-110","transition-all duration-300","flex items-center justify-center"),children:e?n.jsx(uu,{className:"h-4 w-4"}):n.jsx(Ck,{className:"h-4 w-4"})})]}),n.jsx(ic,{className:"flex-1 py-1",children:n.jsx("nav",{className:"px-3 ",children:h.map((p,g)=>n.jsx("div",{children:n.jsx("div",{className:"",children:p.items.map((j,y)=>{const w=a.pathname===j.href||j.href!=="/overview"&&a.pathname.startsWith(j.href+"/");return n.jsx(x,{item:j,isActive:w},y)})})},g))})}),n.jsxs("div",{className:ge("mt-auto shrink-0","border-t border-sidebar-border/50","bg-gradient-to-t from-sidebar/50 to-transparent"),children:[n.jsx("div",{className:ge("p-3",e&&!i?"px-2":"px-4"),children:n.jsxs("button",{onClick:f,className:ge("w-full flex items-center gap-3 rounded-xl p-2.5 transition-all duration-300","bg-sidebar-accent/30 hover:bg-sidebar-accent/50","group",e&&!i&&"justify-center"),children:[n.jsxs("div",{className:ge("relative flex items-center justify-center","h-8 w-8 rounded-lg","bg-gradient-to-br transition-all duration-500",c?"from-indigo-500/20 to-purple-500/20":"from-amber-500/20 to-orange-500/20","group-hover:scale-110"),children:[n.jsx(Fv,{className:ge("h-4 w-4 absolute transition-all duration-500",c?"opacity-0 rotate-90 scale-0":"opacity-100 rotate-0 scale-100 text-amber-500")}),n.jsx(Rv,{className:ge("h-4 w-4 absolute transition-all duration-500",c?"opacity-100 rotate-0 scale-100 text-indigo-400":"opacity-0 -rotate-90 scale-0")})]}),(!e||i)&&n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("p",{className:"text-xs font-medium text-sidebar-foreground",children:c?"Dark Mode":"Light Mode"}),n.jsx("p",{className:"text-[10px] text-sidebar-foreground/50",children:"Click to switch"})]})]})}),(!e||i)&&n.jsx("div",{className:"p-4 pt-0",children:n.jsxs("div",{className:ge("relative overflow-hidden rounded-xl p-4","bg-gradient-to-br from-primary/10 via-primary/5 to-transparent","border border-primary/10"),children:[n.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary/5 rounded-full blur-2xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-primary/5 rounded-full blur-xl"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("div",{className:"p-1.5 rounded-lg bg-primary/10",children:n.jsx(Ho,{className:"h-3.5 w-3.5 text-primary"})}),n.jsx("span",{className:"text-xs font-semibold text-sidebar-foreground",children:"Project Overview"})]}),n.jsxs("div",{className:"space-y-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("span",{className:"text-2xl font-bold text-sidebar-foreground",children:m.totalApartments}),n.jsx("span",{className:"text-xs text-sidebar-foreground/60",children:"Apartments"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-sidebar-border/30",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(_r,{className:"h-3 w-3 text-cyan-500"}),n.jsxs("span",{className:"text-[10px] text-sidebar-foreground/70",children:[n.jsx("span",{className:"font-semibold text-sidebar-foreground",children:m.pendingDeliveries})," Deliveries"]})]}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(St,{className:"h-3 w-3 text-red-500"}),n.jsxs("span",{className:"text-[10px] text-sidebar-foreground/70",children:[n.jsx("span",{className:"font-semibold text-sidebar-foreground",children:m.openIssues})," Issues"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-sidebar-border/30",children:[n.jsxs("p",{className:"text-[10px] text-sidebar-foreground/50 flex items-center gap-1",children:[n.jsx(Gc,{className:"h-3 w-3"}),m.totalClients," Clients"]}),n.jsxs("p",{className:"text-[10px] text-sidebar-foreground/50 flex items-center gap-1",children:[n.jsx(Ra,{className:"h-3 w-3"}),m.totalVendors," Vendors"]})]})]})]})]})})]})]})})}function ct({children:e,title:t,subtitle:r,actions:s,fullWidth:a=!1,noPadding:i=!1}){const o=KW(),[l,c]=v.useState(()=>localStorage.getItem("sidebarCollapsed")==="true"),[d,u]=v.useState(!1);z.useEffect(()=>{const m=h=>{c(h.detail.collapsed)};return window.addEventListener("sidebarPreferenceChanged",m),()=>{window.removeEventListener("sidebarPreferenceChanged",m)}},[]);const f=()=>{o?u(m=>!m):c(m=>{const h=!m;return localStorage.setItem("sidebarCollapsed",String(h)),h})};return n.jsxs("div",{className:"h-screen flex bg-background overflow-hidden",children:[o&&d&&n.jsx("div",{className:ge("fixed inset-0 z-40 lg:hidden","bg-background/80 backdrop-blur-sm","animate-in fade-in-0 duration-200"),onClick:()=>u(!1)}),n.jsx(Qpe,{isCollapsed:l,onToggle:f,isMobileOpen:d}),n.jsxs("div",{className:ge("flex-1 flex flex-col min-w-0 w-full lg:w-auto h-screen","transition-all duration-300 ease-out","relative z-10"),style:{marginLeft:o?0:l?"72px":"288px"},children:[n.jsx(qpe,{onMenuToggle:f}),n.jsx("main",{className:"flex-1 overflow-y-auto overflow-x-hidden bg-gradient-to-br from-background via-background to-muted/20",children:n.jsxs("div",{className:ge("animate-in fade-in-0  slide-in-from-bottom-4 duration-500",!i&&"p-4 lg:p-6 xl:p-8",!a&&"max-w-[1600px] mx-auto"),children:[(t||s)&&n.jsxs("div",{className:ge("flex flex-col sm:flex-row sm:items-center justify-between gap-4","mb-6 lg:mb-8"),children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h1",{className:ge("text-2xl lg:text-3xl font-bold tracking-tight","bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text"),children:t}),r&&n.jsx("p",{className:"text-sm text-muted-foreground",children:r})]}),s&&n.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:s})]}),n.jsx("div",{className:"relative",children:e})]})})]})]})}const X=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ge("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));X.displayName="Card";const we=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ge("flex flex-col space-y-1.5 p-6",e),...t}));we.displayName="CardHeader";const Ve=v.forwardRef(({className:e,...t},r)=>n.jsx("h3",{ref:r,className:ge("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ve.displayName="CardTitle";const Ir=v.forwardRef(({className:e,...t},r)=>n.jsx("p",{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));Ir.displayName="CardDescription";const Q=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ge("p-6 pt-0",e),...t}));Q.displayName="CardContent";const Zpe=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ge("flex items-center p-6 pt-0",e),...t}));Zpe.displayName="CardFooter";function $x({title:e,value:t,icon:r,trend:s,className:a}){return n.jsx(X,{className:ge("overflow-hidden",a),children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:e}),n.jsx("p",{className:"text-3xl font-bold",children:t}),s&&n.jsxs("p",{className:ge("text-xs font-medium",s.value>0?"text-success":s.value<0?"text-danger":"text-muted-foreground"),children:[s.value>0?"+":"",s.value,"% ",s.label]})]}),n.jsx("div",{className:"p-3 rounded-2xl bg-primary/10",children:n.jsx(r,{className:"h-6 w-6 text-primary"})})]})})})}const Jpe=$p("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ae({className:e,variant:t,...r}){return n.jsx("div",{className:ge(Jpe({variant:t}),e),...r})}function Ct(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function zr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Ws(e,t){const r=Ct(e);return isNaN(t)?zr(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function _o(e,t){const r=Ct(e);if(isNaN(t))return zr(e,NaN);if(!t)return r;const s=r.getDate(),a=zr(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return s>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}const UT=6048e5,exe=864e5,txe=6e4,rxe=36e5,nxe=1e3,fj=43200,AR=1440;let sxe={};function ku(){return sxe}function Wi(e,t){var l,c,d,u;const r=ku(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Ct(e),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Zc(e){return Wi(e,{weekStartsOn:1})}function XW(e){const t=Ct(e),r=t.getFullYear(),s=zr(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=Zc(s),i=zr(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Zc(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function tp(e){const t=Ct(e);return t.setHours(0,0,0,0),t}function vu(e){const t=Ct(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Qo(e,t){const r=tp(e),s=tp(t),a=+r-vu(r),i=+s-vu(s);return Math.round((a-i)/exe)}function axe(e){const t=XW(e),r=zr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Zc(r)}function _A(e,t){const r=t*7;return Ws(e,r)}function ixe(e,t){return _o(e,t*12)}function oxe(e){let t;return e.forEach(function(r){const s=Ct(r);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function lxe(e){let t;return e.forEach(r=>{const s=Ct(r);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function db(e,t){const r=Ct(e),s=Ct(t),a=r.getTime()-s.getTime();return a<0?-1:a>0?1:a}function cxe(e){return zr(e,Date.now())}function Qa(e,t){const r=tp(e),s=tp(t);return+r==+s}function VT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function dxe(e){if(!VT(e)&&typeof e!="number")return!1;const t=Ct(e);return!isNaN(Number(t))}function rp(e,t){const r=Ct(e),s=Ct(t),a=r.getFullYear()-s.getFullYear(),i=r.getMonth()-s.getMonth();return a*12+i}function uxe(e,t,r){const s=Wi(e,r),a=Wi(t,r),i=+s-vu(s),o=+a-vu(a);return Math.round((i-o)/UT)}function mj(e,t){const r=Ct(e),s=Ct(t),a=ER(r,s),i=Math.abs(Qo(r,s));r.setDate(r.getDate()-a*i);const o=+(ER(r,s)===-a),l=a*(i-o);return l===0?0:l}function ER(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function fxe(e){return t=>{const s=(e?Math[e]:Math.trunc)(t);return s===0?0:s}}function mxe(e,t){return+Ct(e)-+Ct(t)}function hxe(e){const t=Ct(e);return t.setHours(23,59,59,999),t}function GN(e){const t=Ct(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function pxe(e){const t=Ct(e);return+hxe(t)==+GN(t)}function xxe(e,t){const r=Ct(e),s=Ct(t),a=db(r,s),i=Math.abs(rp(r,s));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=db(r,s)===-a;pxe(Ct(e))&&i===1&&db(e,s)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function gxe(e,t,r){const s=mxe(e,t)/1e3;return fxe(r==null?void 0:r.roundingMethod)(s)}function li(e){const t=Ct(e);return t.setDate(1),t.setHours(0,0,0,0),t}function QW(e){const t=Ct(e),r=zr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function zT(e,t){var l,c,d,u;const r=ku(),s=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=Ct(e),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function ZW(e){return zT(e,{weekStartsOn:1})}const vxe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yxe=(e,t,r)=>{let s;const a=vxe[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function NS(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const jxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bxe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wxe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Nxe={date:NS({formats:jxe,defaultWidth:"full"}),time:NS({formats:bxe,defaultWidth:"full"}),dateTime:NS({formats:wxe,defaultWidth:"full"})},_xe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Sxe=(e,t,r,s)=>_xe[e];function Lx(e){return(t,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Cxe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Axe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Exe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Pxe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Txe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Oxe=(e,t)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Dxe={ordinalNumber:Oxe,era:Lx({values:Cxe,defaultWidth:"wide"}),quarter:Lx({values:Axe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Lx({values:Exe,defaultWidth:"wide"}),day:Lx({values:Pxe,defaultWidth:"wide"}),dayPeriod:Lx({values:kxe,defaultWidth:"wide",formattingValues:Txe,defaultFormattingWidth:"wide"})};function Bx(e){return(t,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Rxe(l,f=>f.test(o)):Ixe(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function Ixe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Rxe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Mxe(e){return(t,r={})=>{const s=t.match(e.matchPattern);if(!s)return null;const a=s[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Fxe=/^(\d+)(th|st|nd|rd)?/i,$xe=/\d+/i,Lxe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Bxe={any:[/^b/i,/^(a|c)/i]},Uxe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Vxe={any:[/1/i,/2/i,/3/i,/4/i]},zxe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Wxe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Hxe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qxe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gxe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Kxe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Yxe={ordinalNumber:Mxe({matchPattern:Fxe,parsePattern:$xe,valueCallback:e=>parseInt(e,10)}),era:Bx({matchPatterns:Lxe,defaultMatchWidth:"wide",parsePatterns:Bxe,defaultParseWidth:"any"}),quarter:Bx({matchPatterns:Uxe,defaultMatchWidth:"wide",parsePatterns:Vxe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Bx({matchPatterns:zxe,defaultMatchWidth:"wide",parsePatterns:Wxe,defaultParseWidth:"any"}),day:Bx({matchPatterns:Hxe,defaultMatchWidth:"wide",parsePatterns:qxe,defaultParseWidth:"any"}),dayPeriod:Bx({matchPatterns:Gxe,defaultMatchWidth:"any",parsePatterns:Kxe,defaultParseWidth:"any"})},KN={code:"en-US",formatDistance:yxe,formatLong:Nxe,formatRelative:Sxe,localize:Dxe,match:Yxe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Xxe(e){const t=Ct(e);return Qo(t,QW(t))+1}function WT(e){const t=Ct(e),r=+Zc(t)-+axe(t);return Math.round(r/UT)+1}function HT(e,t){var u,f,m,h;const r=Ct(e),s=r.getFullYear(),a=ku(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(m=a.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,o=zr(e,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=Wi(o,t),c=zr(e,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=Wi(c,t);return r.getTime()>=l.getTime()?s+1:r.getTime()>=d.getTime()?s:s-1}function Qxe(e,t){var l,c,d,u;const r=ku(),s=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=HT(e,t),i=zr(e,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),Wi(i,t)}function qT(e,t){const r=Ct(e),s=+Wi(r,t)-+Qxe(r,t);return Math.round(s/UT)+1}function Or(e,t){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return r+s}const yd={y(e,t){const r=e.getFullYear(),s=r>0?r:1-r;return Or(t==="yy"?s%100:s,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Or(r+1,2)},d(e,t){return Or(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Or(e.getHours()%12||12,t.length)},H(e,t){return Or(e.getHours(),t.length)},m(e,t){return Or(e.getMinutes(),t.length)},s(e,t){return Or(e.getSeconds(),t.length)},S(e,t){const r=t.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return Or(a,t.length)}},Pm={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},PR={G:function(e,t,r){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return yd.y(e,t)},Y:function(e,t,r,s){const a=HT(e,s),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Or(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Or(i,t.length)},R:function(e,t){const r=XW(e);return Or(r,t.length)},u:function(e,t){const r=e.getFullYear();return Or(r,t.length)},Q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Or(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,r){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Or(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,r){const s=e.getMonth();switch(t){case"M":case"MM":return yd.M(e,t);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,r){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Or(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,r,s){const a=qT(e,s);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Or(a,t.length)},I:function(e,t,r){const s=WT(e);return t==="Io"?r.ordinalNumber(s,{unit:"week"}):Or(s,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):yd.d(e,t)},D:function(e,t,r){const s=Xxe(e);return t==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Or(s,t.length)},E:function(e,t,r){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Or(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,s){const a=e.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Or(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const s=e.getDay(),a=s===0?7:s;switch(t){case"i":return String(a);case"ii":return Or(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const s=e.getHours();let a;switch(s===12?a=Pm.noon:s===0?a=Pm.midnight:a=s/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const s=e.getHours();let a;switch(s>=17?a=Pm.evening:s>=12?a=Pm.afternoon:s>=4?a=Pm.morning:a=Pm.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return yd.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):yd.H(e,t)},K:function(e,t,r){const s=e.getHours()%12;return t==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Or(s,t.length)},k:function(e,t,r){let s=e.getHours();return s===0&&(s=24),t==="ko"?r.ordinalNumber(s,{unit:"hour"}):Or(s,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):yd.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):yd.s(e,t)},S:function(e,t){return yd.S(e,t)},X:function(e,t,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return TR(s);case"XXXX":case"XX":return qu(s);case"XXXXX":case"XXX":default:return qu(s,":")}},x:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"x":return TR(s);case"xxxx":case"xx":return qu(s);case"xxxxx":case"xxx":default:return qu(s,":")}},O:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+kR(s,":");case"OOOO":default:return"GMT"+qu(s,":")}},z:function(e,t,r){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+kR(s,":");case"zzzz":default:return"GMT"+qu(s,":")}},t:function(e,t,r){const s=Math.trunc(e.getTime()/1e3);return Or(s,t.length)},T:function(e,t,r){const s=e.getTime();return Or(s,t.length)}};function kR(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+t+Or(i,2)}function TR(e,t){return e%60===0?(e>0?"-":"+")+Or(Math.abs(e)/60,2):qu(e,t)}function qu(e,t=""){const r=e>0?"-":"+",s=Math.abs(e),a=Or(Math.trunc(s/60),2),i=Or(s%60,2);return r+a+t+i}const OR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},JW=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Zxe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return OR(e,t);let i;switch(s){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",OR(s,t)).replace("{{time}}",JW(a,t))},SA={p:JW,P:Zxe},Jxe=/^D+$/,ege=/^Y+$/,tge=["D","DD","YY","YYYY"];function eH(e){return Jxe.test(e)}function tH(e){return ege.test(e)}function CA(e,t,r){const s=rge(e,t,r);if(console.warn(s),tge.includes(e))throw new RangeError(s)}function rge(e,t,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,age=/^'([^]*?)'?$/,ige=/''/g,oge=/[a-zA-Z]/;function Ht(e,t,r){var u,f,m,h,x,p,g,j;const s=ku(),a=(r==null?void 0:r.locale)??s.locale??KN,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(m=s.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:p.weekStartsOn)??s.weekStartsOn??((j=(g=s.locale)==null?void 0:g.options)==null?void 0:j.weekStartsOn)??0,l=Ct(e);if(!dxe(l))throw new RangeError("Invalid time value");let c=t.match(sge).map(y=>{const w=y[0];if(w==="p"||w==="P"){const b=SA[w];return b(y,a.formatLong)}return y}).join("").match(nge).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:lge(y)};if(PR[w])return{isToken:!0,value:y};if(w.match(oge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&tH(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&eH(w))&&CA(w,t,String(e));const b=PR[w[0]];return b(l,w,a.localize,d)}).join("")}function lge(e){const t=e.match(age);return t?t[1].replace(ige,"'"):e}function cge(e,t,r){const s=ku(),a=(r==null?void 0:r.locale)??s.locale??KN,i=2520,o=db(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=Ct(t),d=Ct(e)):(c=Ct(e),d=Ct(t));const u=gxe(d,c),f=(vu(d)-vu(c))/1e3,m=Math.round((u-f)/60);let h;if(m<2)return r!=null&&r.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<AR){const x=Math.round(m/60);return a.formatDistance("aboutXHours",x,l)}else{if(m<i)return a.formatDistance("xDays",1,l);if(m<fj){const x=Math.round(m/AR);return a.formatDistance("xDays",x,l)}else if(m<fj*2)return h=Math.round(m/fj),a.formatDistance("aboutXMonths",h,l)}if(h=xxe(d,c),h<12){const x=Math.round(m/fj);return a.formatDistance("xMonths",x,l)}else{const x=h%12,p=Math.trunc(h/12);return x<3?a.formatDistance("aboutXYears",p,l):x<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function dge(e,t){return cge(e,cxe(e),t)}function uge(e){const t=Ct(e),r=t.getFullYear(),s=t.getMonth(),a=zr(e,0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}function fge(){return Object.assign({},ku())}function mge(e){let r=Ct(e).getDay();return r===0&&(r=7),r}function hge(e){return Math.trunc(+Ct(e)/1e3)}function pge(e){const t=Ct(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function xge(e,t){return uxe(pge(e),li(e),t)+1}function AA(e,t){const r=Ct(e),s=Ct(t);return r.getTime()>s.getTime()}function rH(e,t){const r=Ct(e),s=Ct(t);return+r<+s}function gge(e,t){const r=t instanceof Date?zr(t,0):new t(0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}const vge=10;class nH{constructor(){ht(this,"subPriority",0)}validate(t,r){return!0}}class yge extends nH{constructor(t,r,s,a,i){super(),this.value=t,this.validateValue=r,this.setValue=s,this.priority=a,i&&(this.subPriority=i)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,s){return this.setValue(t,r,this.value,s)}}class jge extends nH{constructor(){super(...arguments);ht(this,"priority",vge);ht(this,"subPriority",-1)}set(r,s){return s.timestampIsSet?r:zr(r,gge(r,Date))}}class Sr{run(t,r,s,a){const i=this.parse(t,r,s,a);return i?{setter:new yge(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,r,s){return!0}}class bge extends Sr{constructor(){super(...arguments);ht(this,"priority",140);ht(this,"incompatibleTokens",["R","u","t","T"])}parse(r,s,a){switch(s){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,s,a){return s.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const qn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ll={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Gn(e,t){return e&&{value:t(e.value),rest:e.rest}}function _n(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Bl(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const s=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:s*(a*rxe+i*txe+o*nxe),rest:t.slice(r[0].length)}}function sH(e){return _n(qn.anyDigitsSigned,e)}function Ln(e,t){switch(e){case 1:return _n(qn.singleDigit,t);case 2:return _n(qn.twoDigits,t);case 3:return _n(qn.threeDigits,t);case 4:return _n(qn.fourDigits,t);default:return _n(new RegExp("^\\d{1,"+e+"}"),t)}}function y1(e,t){switch(e){case 1:return _n(qn.singleDigitSigned,t);case 2:return _n(qn.twoDigitsSigned,t);case 3:return _n(qn.threeDigitsSigned,t);case 4:return _n(qn.fourDigitsSigned,t);default:return _n(new RegExp("^-?\\d{1,"+e+"}"),t)}}function GT(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function aH(e,t){const r=t>0,s=r?t:1-t;let a;if(s<=50)a=e||100;else{const i=s+50,o=Math.trunc(i/100)*100,l=e>=i%100;a=e+o-(l?100:0)}return r?a:1-a}function iH(e){return e%400===0||e%4===0&&e%100!==0}class wge extends Sr{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,s,a){const i=o=>({year:o,isTwoDigitYear:s==="yy"});switch(s){case"y":return Gn(Ln(4,r),i);case"yo":return Gn(a.ordinalNumber(r,{unit:"year"}),i);default:return Gn(Ln(s.length,r),i)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,a){const i=r.getFullYear();if(a.isTwoDigitYear){const l=aH(a.year,i);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const o=!("era"in s)||s.era===1?a.year:1-a.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class Nge extends Sr{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,s,a){const i=o=>({year:o,isTwoDigitYear:s==="YY"});switch(s){case"Y":return Gn(Ln(4,r),i);case"Yo":return Gn(a.ordinalNumber(r,{unit:"year"}),i);default:return Gn(Ln(s.length,r),i)}}validate(r,s){return s.isTwoDigitYear||s.year>0}set(r,s,a,i){const o=HT(r,i);if(a.isTwoDigitYear){const c=aH(a.year,o);return r.setFullYear(c,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Wi(r,i)}const l=!("era"in s)||s.era===1?a.year:1-a.year;return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Wi(r,i)}}class _ge extends Sr{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,s){return y1(s==="R"?4:s.length,r)}set(r,s,a){const i=zr(r,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),Zc(i)}}class Sge extends Sr{constructor(){super(...arguments);ht(this,"priority",130);ht(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,s){return y1(s==="u"?4:s.length,r)}set(r,s,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class Cge extends Sr{constructor(){super(...arguments);ht(this,"priority",120);ht(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,a){switch(s){case"Q":case"QQ":return Ln(s.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=1&&s<=4}set(r,s,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class Age extends Sr{constructor(){super(...arguments);ht(this,"priority",120);ht(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,s,a){switch(s){case"q":case"qq":return Ln(s.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=1&&s<=4}set(r,s,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class Ege extends Sr{constructor(){super(...arguments);ht(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ht(this,"priority",110)}parse(r,s,a){const i=o=>o-1;switch(s){case"M":return Gn(_n(qn.month,r),i);case"MM":return Gn(Ln(2,r),i);case"Mo":return Gn(a.ordinalNumber(r,{unit:"month"}),i);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=11}set(r,s,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class Pge extends Sr{constructor(){super(...arguments);ht(this,"priority",110);ht(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,s,a){const i=o=>o-1;switch(s){case"L":return Gn(_n(qn.month,r),i);case"LL":return Gn(Ln(2,r),i);case"Lo":return Gn(a.ordinalNumber(r,{unit:"month"}),i);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=11}set(r,s,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function kge(e,t,r){const s=Ct(e),a=qT(s,r)-t;return s.setDate(s.getDate()-a*7),s}class Tge extends Sr{constructor(){super(...arguments);ht(this,"priority",100);ht(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,s,a){switch(s){case"w":return _n(qn.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return Ln(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,a,i){return Wi(kge(r,a,i),i)}}function Oge(e,t){const r=Ct(e),s=WT(r)-t;return r.setDate(r.getDate()-s*7),r}class Dge extends Sr{constructor(){super(...arguments);ht(this,"priority",100);ht(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,s,a){switch(s){case"I":return _n(qn.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return Ln(s.length,r)}}validate(r,s){return s>=1&&s<=53}set(r,s,a){return Zc(Oge(r,a))}}const Ige=[31,28,31,30,31,30,31,31,30,31,30,31],Rge=[31,29,31,30,31,30,31,31,30,31,30,31];class Mge extends Sr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"subPriority",1);ht(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,s,a){switch(s){case"d":return _n(qn.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return Ln(s.length,r)}}validate(r,s){const a=r.getFullYear(),i=iH(a),o=r.getMonth();return i?s>=1&&s<=Rge[o]:s>=1&&s<=Ige[o]}set(r,s,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class Fge extends Sr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"subpriority",1);ht(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,s,a){switch(s){case"D":case"DD":return _n(qn.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return Ln(s.length,r)}}validate(r,s){const a=r.getFullYear();return iH(a)?s>=1&&s<=366:s>=1&&s<=365}set(r,s,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function KT(e,t,r){var f,m,h,x;const s=ku(),a=(r==null?void 0:r.weekStartsOn)??((m=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??s.weekStartsOn??((x=(h=s.locale)==null?void 0:h.options)==null?void 0:x.weekStartsOn)??0,i=Ct(e),o=i.getDay(),c=(t%7+7)%7,d=7-a,u=t<0||t>6?t-(o+d)%7:(c+d)%7-(o+d)%7;return Ws(i,u)}class $ge extends Sr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,s,a){switch(s){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,a,i){return r=KT(r,a,i),r.setHours(0,0,0,0),r}}class Lge extends Sr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,s,a,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(s){case"e":case"ee":return Gn(Ln(s.length,r),o);case"eo":return Gn(a.ordinalNumber(r,{unit:"day"}),o);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,s){return s>=0&&s<=6}set(r,s,a,i){return r=KT(r,a,i),r.setHours(0,0,0,0),r}}class Bge extends Sr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,s,a,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(s){case"c":case"cc":return Gn(Ln(s.length,r),o);case"co":return Gn(a.ordinalNumber(r,{unit:"day"}),o);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,s){return s>=0&&s<=6}set(r,s,a,i){return r=KT(r,a,i),r.setHours(0,0,0,0),r}}function Uge(e,t){const r=Ct(e),s=mge(r),a=t-s;return Ws(r,a)}class Vge extends Sr{constructor(){super(...arguments);ht(this,"priority",90);ht(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,s,a){const i=o=>o===0?7:o;switch(s){case"i":case"ii":return Ln(s.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return Gn(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return Gn(a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Gn(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Gn(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,s){return s>=1&&s<=7}set(r,s,a){return r=Uge(r,a),r.setHours(0,0,0,0),r}}class zge extends Sr{constructor(){super(...arguments);ht(this,"priority",80);ht(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,s,a){switch(s){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,a){return r.setHours(GT(a),0,0,0),r}}class Wge extends Sr{constructor(){super(...arguments);ht(this,"priority",80);ht(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,s,a){switch(s){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,a){return r.setHours(GT(a),0,0,0),r}}class Hge extends Sr{constructor(){super(...arguments);ht(this,"priority",80);ht(this,"incompatibleTokens",["a","b","t","T"])}parse(r,s,a){switch(s){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,s,a){return r.setHours(GT(a),0,0,0),r}}class qge extends Sr{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,s,a){switch(s){case"h":return _n(qn.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return Ln(s.length,r)}}validate(r,s){return s>=1&&s<=12}set(r,s,a){const i=r.getHours()>=12;return i&&a<12?r.setHours(a+12,0,0,0):!i&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class Gge extends Sr{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,s,a){switch(s){case"H":return _n(qn.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return Ln(s.length,r)}}validate(r,s){return s>=0&&s<=23}set(r,s,a){return r.setHours(a,0,0,0),r}}class Kge extends Sr{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,s,a){switch(s){case"K":return _n(qn.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return Ln(s.length,r)}}validate(r,s){return s>=0&&s<=11}set(r,s,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class Yge extends Sr{constructor(){super(...arguments);ht(this,"priority",70);ht(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,s,a){switch(s){case"k":return _n(qn.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return Ln(s.length,r)}}validate(r,s){return s>=1&&s<=24}set(r,s,a){const i=a<=24?a%24:a;return r.setHours(i,0,0,0),r}}class Xge extends Sr{constructor(){super(...arguments);ht(this,"priority",60);ht(this,"incompatibleTokens",["t","T"])}parse(r,s,a){switch(s){case"m":return _n(qn.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return Ln(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,a){return r.setMinutes(a,0,0),r}}class Qge extends Sr{constructor(){super(...arguments);ht(this,"priority",50);ht(this,"incompatibleTokens",["t","T"])}parse(r,s,a){switch(s){case"s":return _n(qn.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return Ln(s.length,r)}}validate(r,s){return s>=0&&s<=59}set(r,s,a){return r.setSeconds(a,0),r}}class Zge extends Sr{constructor(){super(...arguments);ht(this,"priority",30);ht(this,"incompatibleTokens",["t","T"])}parse(r,s){const a=i=>Math.trunc(i*Math.pow(10,-s.length+3));return Gn(Ln(s.length,r),a)}set(r,s,a){return r.setMilliseconds(a),r}}class Jge extends Sr{constructor(){super(...arguments);ht(this,"priority",10);ht(this,"incompatibleTokens",["t","T","x"])}parse(r,s){switch(s){case"X":return Bl(Ll.basicOptionalMinutes,r);case"XX":return Bl(Ll.basic,r);case"XXXX":return Bl(Ll.basicOptionalSeconds,r);case"XXXXX":return Bl(Ll.extendedOptionalSeconds,r);case"XXX":default:return Bl(Ll.extended,r)}}set(r,s,a){return s.timestampIsSet?r:zr(r,r.getTime()-vu(r)-a)}}class e0e extends Sr{constructor(){super(...arguments);ht(this,"priority",10);ht(this,"incompatibleTokens",["t","T","X"])}parse(r,s){switch(s){case"x":return Bl(Ll.basicOptionalMinutes,r);case"xx":return Bl(Ll.basic,r);case"xxxx":return Bl(Ll.basicOptionalSeconds,r);case"xxxxx":return Bl(Ll.extendedOptionalSeconds,r);case"xxx":default:return Bl(Ll.extended,r)}}set(r,s,a){return s.timestampIsSet?r:zr(r,r.getTime()-vu(r)-a)}}class t0e extends Sr{constructor(){super(...arguments);ht(this,"priority",40);ht(this,"incompatibleTokens","*")}parse(r){return sH(r)}set(r,s,a){return[zr(r,a*1e3),{timestampIsSet:!0}]}}class r0e extends Sr{constructor(){super(...arguments);ht(this,"priority",20);ht(this,"incompatibleTokens","*")}parse(r){return sH(r)}set(r,s,a){return[zr(r,a),{timestampIsSet:!0}]}}const n0e={G:new bge,y:new wge,Y:new Nge,R:new _ge,u:new Sge,Q:new Cge,q:new Age,M:new Ege,L:new Pge,w:new Tge,I:new Dge,d:new Mge,D:new Fge,E:new $ge,e:new Lge,c:new Bge,i:new Vge,a:new zge,b:new Wge,B:new Hge,h:new qge,H:new Gge,K:new Kge,k:new Yge,m:new Xge,s:new Qge,S:new Zge,X:new Jge,x:new e0e,t:new t0e,T:new r0e},s0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,a0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,i0e=/^'([^]*?)'?$/,o0e=/''/g,l0e=/\S/,c0e=/[a-zA-Z]/;function d0e(e,t,r,s){var p,g,j,y;const a=fge(),i=a.locale??KN,o=a.firstWeekContainsDate??((g=(p=a.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,l=a.weekStartsOn??((y=(j=a.locale)==null?void 0:j.options)==null?void 0:y.weekStartsOn)??0,c={firstWeekContainsDate:o,weekStartsOn:l,locale:i},d=[new jge],u=t.match(a0e).map(w=>{const b=w[0];if(b in SA){const N=SA[b];return N(w,i.formatLong)}return w}).join("").match(s0e),f=[];for(let w of u){tH(w)&&CA(w,t,e),eH(w)&&CA(w,t,e);const b=w[0],N=n0e[b];if(N){const{incompatibleTokens:_}=N;if(Array.isArray(_)){const A=f.find(E=>_.includes(E.token)||E.token===b);if(A)throw new RangeError(`The format string mustn't contain \`${A.fullToken}\` and \`${w}\` at the same time`)}else if(N.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);f.push({token:b,fullToken:w});const S=N.run(e,w,i.match,c);if(!S)return zr(r,NaN);d.push(S.setter),e=S.rest}else{if(b.match(c0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");if(w==="''"?w="'":b==="'"&&(w=u0e(w)),e.indexOf(w)===0)e=e.slice(w.length);else return zr(r,NaN)}}if(e.length>0&&l0e.test(e))return zr(r,NaN);const m=d.map(w=>w.priority).sort((w,b)=>b-w).filter((w,b,N)=>N.indexOf(w)===b).map(w=>d.filter(b=>b.priority===w).sort((b,N)=>N.subPriority-b.subPriority)).map(w=>w[0]);let h=Ct(r);if(isNaN(h.getTime()))return zr(r,NaN);const x={};for(const w of m){if(!w.validate(h,c))return zr(r,NaN);const b=w.set(h,x,c);Array.isArray(b)?(h=b[0],Object.assign(x,b[1])):h=b}return zr(r,h)}function u0e(e){return e.match(i0e)[1].replace(o0e,"'")}function YT(e,t){const r=Ct(e),s=Ct(t);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function f0e(e,t){const r=Ct(e),s=Ct(t);return r.getFullYear()===s.getFullYear()}function Sc(e,t){return Ws(e,-t)}function _S(e,t){const r=Ct(e),s=r.getFullYear(),a=r.getDate(),i=zr(e,0);i.setFullYear(s,t,15),i.setHours(0,0,0,0);const o=uge(i);return r.setMonth(t,Math.min(a,o)),r}function DR(e,t){const r=Ct(e);return isNaN(+r)?zr(e,NaN):(r.setFullYear(t),r)}function m0e(e,t){return _o(e,-t)}const IR={order:bs,"shopping-cart":bs,payment:js,"credit-card":js,delivery:_r,truck:_r,issue:St,"alert-circle":St,product:lt,package:lt,apartment:dr,building:dr,client:Gc,users:Gc,vendor:Ra,store:Ra,user:$n,status:Ff,activity:Ff,ai:ys,bot:ys},h0e={created:Kn,updated:kse,deleted:xn,delivered:Vr,payment_received:Vr,completed:Vr,cancelled:xn,status_changed:$b},p0e=(e,t)=>({created:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},updated:{bg:"bg-blue-500/5 dark:bg-blue-500/10",border:"border-blue-500/20",icon:"text-blue-500",badge:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/20",glow:"shadow-blue-500/5"},deleted:{bg:"bg-red-500/5 dark:bg-red-500/10",border:"border-red-500/20",icon:"text-red-500",badge:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",glow:"shadow-red-500/5"},delivered:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},payment_received:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},completed:{bg:"bg-emerald-500/5 dark:bg-emerald-500/10",border:"border-emerald-500/20",icon:"text-emerald-500",badge:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20",glow:"shadow-emerald-500/5"},cancelled:{bg:"bg-red-500/5 dark:bg-red-500/10",border:"border-red-500/20",icon:"text-red-500",badge:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",glow:"shadow-red-500/5"},status_changed:{bg:"bg-amber-500/5 dark:bg-amber-500/10",border:"border-amber-500/20",icon:"text-amber-500",badge:"bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-500/20",glow:"shadow-amber-500/5"}})[e]||{bg:"bg-slate-500/5 dark:bg-slate-500/10",border:"border-slate-500/20",icon:"text-slate-500",badge:"bg-slate-500/10 text-slate-600 dark:text-slate-400 border-slate-500/20",glow:"shadow-slate-500/5"},x0e=e=>({order:"Order",payment:"Payment",delivery:"Delivery",issue:"Issue",product:"Product",apartment:"Apartment",client:"Client",vendor:"Vendor",user:"User"})[e]||e;function g0e(){const{data:e,isLoading:t,refetch:r}=YW(),s=(e==null?void 0:e.activities)||[],a=i=>{try{return dge(new Date(i),{addSuffix:!0})}catch{return"recently"}};return t?n.jsxs(X,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/80",children:[n.jsx(we,{className:"pb-3",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(d0,{className:"h-4 w-4 text-primary"})}),n.jsx(Ve,{className:"text-lg font-semibold",children:"Recent Activity"})]})})}),n.jsx(Q,{children:n.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(i=>n.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-muted/30",children:[n.jsx(C,{className:"h-10 w-10 rounded-xl"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(C,{className:"h-4 w-40"}),n.jsx(C,{className:"h-3 w-56"}),n.jsx(C,{className:"h-3 w-24"})]})]},i))})})]}):n.jsxs(X,{className:"border-0 shadow-lg bg-gradient-to-br from-card to-card/80 overflow-hidden",children:[n.jsx(we,{className:"pb-3 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-primary/20 to-primary/5 shadow-sm",children:n.jsx(d0,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-lg font-semibold",children:"Recent Activity"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[s.length," activities tracked"]})]})]}),n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>r(),className:"h-9 w-9 p-0 hover:bg-primary/10 hover:text-primary transition-colors",children:n.jsx(Sf,{className:"h-4 w-4"})})]})}),n.jsx(Q,{className:"p-0",children:n.jsx(ic,{className:"h-[480px]",children:n.jsx("div",{className:"p-4 space-y-2",children:s.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-muted/50 mb-4",children:n.jsx(Ff,{className:"h-8 w-8 text-muted-foreground/50"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No recent activities"}),n.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1 max-w-[200px]",children:"Activities will appear here when you create, update, or delete records"})]}):s.slice(0,15).map((i,o)=>{const l=IR[i.icon]||IR[i.type]||Ff,c=h0e[i.action]||Kn,d=p0e(i.action,i.type);return n.jsxs("div",{className:ge("group relative flex items-center gap-3 px-4 py-2.5 rounded-lg transition-all duration-300","hover:shadow-sm cursor-pointer border border-transparent","hover:border-border/50 hover:bg-muted/30"),children:[o<s.slice(0,15).length-1&&n.jsx("div",{className:"absolute left-[26px] top-[42px] w-[1px] h-[calc(100%-14px)] bg-border/30"}),n.jsxs("div",{className:"relative flex-shrink-0",children:[n.jsx("div",{className:ge("p-2 rounded-lg transition-all duration-300","group-hover:shadow-sm",d.bg,`border ${d.border}`),children:n.jsx(l,{className:ge("h-4 w-4",d.icon)})}),n.jsx("div",{className:ge("absolute -bottom-1 -right-1 p-0.5 rounded-full bg-background border shadow-sm",d.border),children:n.jsx(c,{className:ge("h-2.5 w-2.5",d.icon)})})]}),n.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-0 space-y-0.5",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-semibold text-sm text-foreground truncate",children:i.title}),n.jsx(Ae,{variant:"outline",className:ge("text-[9px] px-2 py-0.5 h-4 font-semibold uppercase tracking-wide border flex-shrink-0",d.badge),children:i.action})]}),n.jsx("p",{className:"text-xs text-muted-foreground/80 truncate leading-relaxed",children:i.description})]}),n.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center gap-1.5 min-w-[70px]",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary/40"}),n.jsx("span",{className:"text-xs font-medium text-foreground/70",children:x0e(i.type)})]}),i.apartment&&n.jsxs("div",{className:"flex items-center gap-1.5 min-w-[100px] max-w-[140px]",children:[n.jsx(dr,{className:"h-3.5 w-3.5 text-muted-foreground/50 flex-shrink-0"}),n.jsx("span",{className:"text-xs text-muted-foreground/70 truncate",children:i.apartment})]}),n.jsxs("div",{className:"flex items-center gap-1.5 min-w-[90px]",children:[n.jsx(wr,{className:"h-3.5 w-3.5 text-muted-foreground/50 flex-shrink-0"}),n.jsx("span",{className:"text-xs text-muted-foreground/70 whitespace-nowrap",children:a(i.created_at)})]})]})]})]},i.id)})})})})]})}var v0e=Array.isArray,hi=v0e,y0e=typeof Dy=="object"&&Dy&&Dy.Object===Object&&Dy,oH=y0e,j0e=oH,b0e=typeof self=="object"&&self&&self.Object===Object&&self,w0e=j0e||b0e||Function("return this")(),oc=w0e,N0e=oc,_0e=N0e.Symbol,iy=_0e,RR=iy,lH=Object.prototype,S0e=lH.hasOwnProperty,C0e=lH.toString,Ux=RR?RR.toStringTag:void 0;function A0e(e){var t=S0e.call(e,Ux),r=e[Ux];try{e[Ux]=void 0;var s=!0}catch{}var a=C0e.call(e);return s&&(t?e[Ux]=r:delete e[Ux]),a}var E0e=A0e,P0e=Object.prototype,k0e=P0e.toString;function T0e(e){return k0e.call(e)}var O0e=T0e,MR=iy,D0e=E0e,I0e=O0e,R0e="[object Null]",M0e="[object Undefined]",FR=MR?MR.toStringTag:void 0;function F0e(e){return e==null?e===void 0?M0e:R0e:FR&&FR in Object(e)?D0e(e):I0e(e)}var ld=F0e;function $0e(e){return e!=null&&typeof e=="object"}var cd=$0e,L0e=ld,B0e=cd,U0e="[object Symbol]";function V0e(e){return typeof e=="symbol"||B0e(e)&&L0e(e)==U0e}var Xp=V0e,z0e=hi,W0e=Xp,H0e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q0e=/^\w*$/;function G0e(e,t){if(z0e(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||W0e(e)?!0:q0e.test(e)||!H0e.test(e)||t!=null&&e in Object(t)}var XT=G0e;function K0e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Tu=K0e;const Qp=Pr(Tu);var Y0e=ld,X0e=Tu,Q0e="[object AsyncFunction]",Z0e="[object Function]",J0e="[object GeneratorFunction]",eve="[object Proxy]";function tve(e){if(!X0e(e))return!1;var t=Y0e(e);return t==Z0e||t==J0e||t==Q0e||t==eve}var QT=tve;const Ot=Pr(QT);var rve=oc,nve=rve["__core-js_shared__"],sve=nve,SS=sve,$R=function(){var e=/[^.]+$/.exec(SS&&SS.keys&&SS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ave(e){return!!$R&&$R in e}var ive=ave,ove=Function.prototype,lve=ove.toString;function cve(e){if(e!=null){try{return lve.call(e)}catch{}try{return e+""}catch{}}return""}var cH=cve,dve=QT,uve=ive,fve=Tu,mve=cH,hve=/[\\^$.*+?()[\]{}|]/g,pve=/^\[object .+?Constructor\]$/,xve=Function.prototype,gve=Object.prototype,vve=xve.toString,yve=gve.hasOwnProperty,jve=RegExp("^"+vve.call(yve).replace(hve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bve(e){if(!fve(e)||uve(e))return!1;var t=dve(e)?jve:pve;return t.test(mve(e))}var wve=bve;function Nve(e,t){return e==null?void 0:e[t]}var _ve=Nve,Sve=wve,Cve=_ve;function Ave(e,t){var r=Cve(e,t);return Sve(r)?r:void 0}var um=Ave,Eve=um,Pve=Eve(Object,"create"),YN=Pve,LR=YN;function kve(){this.__data__=LR?LR(null):{},this.size=0}var Tve=kve;function Ove(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Dve=Ove,Ive=YN,Rve="__lodash_hash_undefined__",Mve=Object.prototype,Fve=Mve.hasOwnProperty;function $ve(e){var t=this.__data__;if(Ive){var r=t[e];return r===Rve?void 0:r}return Fve.call(t,e)?t[e]:void 0}var Lve=$ve,Bve=YN,Uve=Object.prototype,Vve=Uve.hasOwnProperty;function zve(e){var t=this.__data__;return Bve?t[e]!==void 0:Vve.call(t,e)}var Wve=zve,Hve=YN,qve="__lodash_hash_undefined__";function Gve(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Hve&&t===void 0?qve:t,this}var Kve=Gve,Yve=Tve,Xve=Dve,Qve=Lve,Zve=Wve,Jve=Kve;function Zp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}Zp.prototype.clear=Yve;Zp.prototype.delete=Xve;Zp.prototype.get=Qve;Zp.prototype.has=Zve;Zp.prototype.set=Jve;var eye=Zp;function tye(){this.__data__=[],this.size=0}var rye=tye;function nye(e,t){return e===t||e!==e&&t!==t}var ZT=nye,sye=ZT;function aye(e,t){for(var r=e.length;r--;)if(sye(e[r][0],t))return r;return-1}var XN=aye,iye=XN,oye=Array.prototype,lye=oye.splice;function cye(e){var t=this.__data__,r=iye(t,e);if(r<0)return!1;var s=t.length-1;return r==s?t.pop():lye.call(t,r,1),--this.size,!0}var dye=cye,uye=XN;function fye(e){var t=this.__data__,r=uye(t,e);return r<0?void 0:t[r][1]}var mye=fye,hye=XN;function pye(e){return hye(this.__data__,e)>-1}var xye=pye,gye=XN;function vye(e,t){var r=this.__data__,s=gye(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this}var yye=vye,jye=rye,bye=dye,wye=mye,Nye=xye,_ye=yye;function Jp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}Jp.prototype.clear=jye;Jp.prototype.delete=bye;Jp.prototype.get=wye;Jp.prototype.has=Nye;Jp.prototype.set=_ye;var QN=Jp,Sye=um,Cye=oc,Aye=Sye(Cye,"Map"),JT=Aye,BR=eye,Eye=QN,Pye=JT;function kye(){this.size=0,this.__data__={hash:new BR,map:new(Pye||Eye),string:new BR}}var Tye=kye;function Oye(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Dye=Oye,Iye=Dye;function Rye(e,t){var r=e.__data__;return Iye(t)?r[typeof t=="string"?"string":"hash"]:r.map}var ZN=Rye,Mye=ZN;function Fye(e){var t=Mye(this,e).delete(e);return this.size-=t?1:0,t}var $ye=Fye,Lye=ZN;function Bye(e){return Lye(this,e).get(e)}var Uye=Bye,Vye=ZN;function zye(e){return Vye(this,e).has(e)}var Wye=zye,Hye=ZN;function qye(e,t){var r=Hye(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this}var Gye=qye,Kye=Tye,Yye=$ye,Xye=Uye,Qye=Wye,Zye=Gye;function ex(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}ex.prototype.clear=Kye;ex.prototype.delete=Yye;ex.prototype.get=Xye;ex.prototype.has=Qye;ex.prototype.set=Zye;var eO=ex,dH=eO,Jye="Expected a function";function tO(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Jye);var r=function(){var s=arguments,a=t?t.apply(this,s):s[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,s);return r.cache=i.set(a,o)||i,o};return r.cache=new(tO.Cache||dH),r}tO.Cache=dH;var uH=tO;const eje=Pr(uH);var tje=uH,rje=500;function nje(e){var t=tje(e,function(s){return r.size===rje&&r.clear(),s}),r=t.cache;return t}var sje=nje,aje=sje,ije=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oje=/\\(\\)?/g,lje=aje(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ije,function(r,s,a,i){t.push(a?i.replace(oje,"$1"):s||r)}),t}),cje=lje;function dje(e,t){for(var r=-1,s=e==null?0:e.length,a=Array(s);++r<s;)a[r]=t(e[r],r,e);return a}var rO=dje,UR=iy,uje=rO,fje=hi,mje=Xp,hje=1/0,VR=UR?UR.prototype:void 0,zR=VR?VR.toString:void 0;function fH(e){if(typeof e=="string")return e;if(fje(e))return uje(e,fH)+"";if(mje(e))return zR?zR.call(e):"";var t=e+"";return t=="0"&&1/e==-hje?"-0":t}var pje=fH,xje=pje;function gje(e){return e==null?"":xje(e)}var mH=gje,vje=hi,yje=XT,jje=cje,bje=mH;function wje(e,t){return vje(e)?e:yje(e,t)?[e]:jje(bje(e))}var hH=wje,Nje=Xp,_je=1/0;function Sje(e){if(typeof e=="string"||Nje(e))return e;var t=e+"";return t=="0"&&1/e==-_je?"-0":t}var JN=Sje,Cje=hH,Aje=JN;function Eje(e,t){t=Cje(t,e);for(var r=0,s=t.length;e!=null&&r<s;)e=e[Aje(t[r++])];return r&&r==s?e:void 0}var nO=Eje,Pje=nO;function kje(e,t,r){var s=e==null?void 0:Pje(e,t);return s===void 0?r:s}var pH=kje;const Ri=Pr(pH);function Tje(e){return e==null}var Oje=Tje;const $t=Pr(Oje);var Dje=ld,Ije=hi,Rje=cd,Mje="[object String]";function Fje(e){return typeof e=="string"||!Ije(e)&&Rje(e)&&Dje(e)==Mje}var $je=Fje;const oy=Pr($je);var xH={exports:{}},$r={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sO=Symbol.for("react.element"),aO=Symbol.for("react.portal"),e2=Symbol.for("react.fragment"),t2=Symbol.for("react.strict_mode"),r2=Symbol.for("react.profiler"),n2=Symbol.for("react.provider"),s2=Symbol.for("react.context"),Lje=Symbol.for("react.server_context"),a2=Symbol.for("react.forward_ref"),i2=Symbol.for("react.suspense"),o2=Symbol.for("react.suspense_list"),l2=Symbol.for("react.memo"),c2=Symbol.for("react.lazy"),Bje=Symbol.for("react.offscreen"),gH;gH=Symbol.for("react.module.reference");function Po(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case sO:switch(e=e.type,e){case e2:case r2:case t2:case i2:case o2:return e;default:switch(e=e&&e.$$typeof,e){case Lje:case s2:case a2:case c2:case l2:case n2:return e;default:return t}}case aO:return t}}}$r.ContextConsumer=s2;$r.ContextProvider=n2;$r.Element=sO;$r.ForwardRef=a2;$r.Fragment=e2;$r.Lazy=c2;$r.Memo=l2;$r.Portal=aO;$r.Profiler=r2;$r.StrictMode=t2;$r.Suspense=i2;$r.SuspenseList=o2;$r.isAsyncMode=function(){return!1};$r.isConcurrentMode=function(){return!1};$r.isContextConsumer=function(e){return Po(e)===s2};$r.isContextProvider=function(e){return Po(e)===n2};$r.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===sO};$r.isForwardRef=function(e){return Po(e)===a2};$r.isFragment=function(e){return Po(e)===e2};$r.isLazy=function(e){return Po(e)===c2};$r.isMemo=function(e){return Po(e)===l2};$r.isPortal=function(e){return Po(e)===aO};$r.isProfiler=function(e){return Po(e)===r2};$r.isStrictMode=function(e){return Po(e)===t2};$r.isSuspense=function(e){return Po(e)===i2};$r.isSuspenseList=function(e){return Po(e)===o2};$r.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===e2||e===r2||e===t2||e===i2||e===o2||e===Bje||typeof e=="object"&&e!==null&&(e.$$typeof===c2||e.$$typeof===l2||e.$$typeof===n2||e.$$typeof===s2||e.$$typeof===a2||e.$$typeof===gH||e.getModuleId!==void 0)};$r.typeOf=Po;xH.exports=$r;var vH=xH.exports,Uje=ld,Vje=cd,zje="[object Number]";function Wje(e){return typeof e=="number"||Vje(e)&&Uje(e)==zje}var yH=Wje;const Hje=Pr(yH);var qje=yH;function Gje(e){return qje(e)&&e!=+e}var Kje=Gje;const tx=Pr(Kje);var Pa=function(t){return t===0?0:t>0?1:-1},df=function(t){return oy(t)&&t.indexOf("%")===t.length-1},Xe=function(t){return Hje(t)&&!tx(t)},ws=function(t){return Xe(t)||oy(t)},Yje=0,fm=function(t){var r=++Yje;return"".concat(t||"").concat(r)},ka=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xe(t)&&!oy(t))return s;var i;if(df(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return tx(i)&&(i=s),a&&i>r&&(i=r),i},Td=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Xje=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,s={},a=0;a<r;a++)if(!s[t[a]])s[t[a]]=!0;else return!0;return!1},xs=function(t,r){return Xe(t)&&Xe(r)?function(s){return t+s*(r-t)}:function(){return r}};function j1(e,t,r){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):Ri(s,t))===r})}function vh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function EA(e){"@babel/helpers - typeof";return EA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EA(e)}var Qje=["viewBox","children"],Zje=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],WR=["points","pathLength"],CS={svg:Qje,polygon:WR,polyline:WR},iO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],b1=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(v.isValidElement(t)&&(s=t.props),!Qp(s))return null;var a={};return Object.keys(s).forEach(function(i){iO.includes(i)&&(a[i]=r||function(o){return s[i](s,o)})}),a},Jje=function(t,r,s){return function(a){return t(r,s,a),null}},Kf=function(t,r,s){if(!Qp(t)||EA(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];iO.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Jje(o,r,s))}),a},ebe=["children"],tbe=["children"];function HR(e,t){if(e==null)return{};var r=rbe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function rbe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function PA(e){"@babel/helpers - typeof";return PA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PA(e)}var qR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Mc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},GR=null,AS=null,oO=function e(t){if(t===GR&&Array.isArray(AS))return AS;var r=[];return v.Children.forEach(t,function(s){$t(s)||(vH.isFragment(s)?r=r.concat(e(s.props.children)):r.push(s))}),AS=r,GR=t,r};function Mi(e,t){var r=[],s=[];return Array.isArray(t)?s=t.map(function(a){return Mc(a)}):s=[Mc(t)],oO(e).forEach(function(a){var i=Ri(a,"type.displayName")||Ri(a,"type.name");s.indexOf(i)!==-1&&r.push(a)}),r}function Si(e,t){var r=Mi(e,t);return r&&r[0]}var KR=function(t){if(!t||!t.props)return!1;var r=t.props,s=r.width,a=r.height;return!(!Xe(s)||s<=0||!Xe(a)||a<=0)},nbe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],sbe=function(t){return t&&t.type&&oy(t.type)&&nbe.indexOf(t.type)>=0},jH=function(t){return t&&PA(t)==="object"&&"clipDot"in t},abe=function(t,r,s,a){var i,o=(i=CS==null?void 0:CS[a])!==null&&i!==void 0?i:[];return!Ot(t)&&(a&&o.includes(r)||Zje.includes(r))||s&&iO.includes(r)},wt=function(t,r,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(v.isValidElement(t)&&(a=t.props),!Qp(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;abe((l=a)===null||l===void 0?void 0:l[o],o,r,s)&&(i[o]=a[o])}),i},kA=function e(t,r){if(t===r)return!0;var s=v.Children.count(t);if(s!==v.Children.count(r))return!1;if(s===0)return!0;if(s===1)return YR(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<s;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!YR(i,o))return!1}return!0},YR=function(t,r){if($t(t)&&$t(r))return!0;if(!$t(t)&&!$t(r)){var s=t.props||{},a=s.children,i=HR(s,ebe),o=r.props||{},l=o.children,c=HR(o,tbe);return a&&l?vh(i,c)&&kA(a,l):!a&&!l?vh(i,c):!1}return!1},XR=function(t,r){var s=[],a={};return oO(t).forEach(function(i,o){if(sbe(i))s.push(i);else if(i){var l=Mc(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var f=d(i,l,o);s.push(f),a[l]=!0}}}),s},ibe=function(t){var r=t&&t.type;return r&&qR[r]?qR[r]:null},obe=function(t,r){return oO(r).indexOf(t)},lbe=["children","width","height","viewBox","className","style","title","desc"];function TA(){return TA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},TA.apply(this,arguments)}function cbe(e,t){if(e==null)return{};var r=dbe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function dbe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function OA(e){var t=e.children,r=e.width,s=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=cbe(e,lbe),u=a||{width:r,height:s,x:0,y:0},f=Vt("recharts-surface",i);return z.createElement("svg",TA({},wt(d,!0,"svg"),{className:f,width:r,height:s,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),z.createElement("title",null,l),z.createElement("desc",null,c),t)}var ube=["children","className"];function DA(){return DA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},DA.apply(this,arguments)}function fbe(e,t){if(e==null)return{};var r=mbe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function mbe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var tr=z.forwardRef(function(e,t){var r=e.children,s=e.className,a=fbe(e,ube),i=Vt("recharts-layer",s);return z.createElement("g",DA({className:i},wt(a,!0),{ref:t}),r)}),nl=function(t,r){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]};function hbe(e,t,r){var s=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++s<a;)i[s]=e[s+t];return i}var pbe=hbe,xbe=pbe;function gbe(e,t,r){var s=e.length;return r=r===void 0?s:r,!t&&r>=s?e:xbe(e,t,r)}var vbe=gbe,ybe="\\ud800-\\udfff",jbe="\\u0300-\\u036f",bbe="\\ufe20-\\ufe2f",wbe="\\u20d0-\\u20ff",Nbe=jbe+bbe+wbe,_be="\\ufe0e\\ufe0f",Sbe="\\u200d",Cbe=RegExp("["+Sbe+ybe+Nbe+_be+"]");function Abe(e){return Cbe.test(e)}var bH=Abe;function Ebe(e){return e.split("")}var Pbe=Ebe,wH="\\ud800-\\udfff",kbe="\\u0300-\\u036f",Tbe="\\ufe20-\\ufe2f",Obe="\\u20d0-\\u20ff",Dbe=kbe+Tbe+Obe,Ibe="\\ufe0e\\ufe0f",Rbe="["+wH+"]",IA="["+Dbe+"]",RA="\\ud83c[\\udffb-\\udfff]",Mbe="(?:"+IA+"|"+RA+")",NH="[^"+wH+"]",_H="(?:\\ud83c[\\udde6-\\uddff]){2}",SH="[\\ud800-\\udbff][\\udc00-\\udfff]",Fbe="\\u200d",CH=Mbe+"?",AH="["+Ibe+"]?",$be="(?:"+Fbe+"(?:"+[NH,_H,SH].join("|")+")"+AH+CH+")*",Lbe=AH+CH+$be,Bbe="(?:"+[NH+IA+"?",IA,_H,SH,Rbe].join("|")+")",Ube=RegExp(RA+"(?="+RA+")|"+Bbe+Lbe,"g");function Vbe(e){return e.match(Ube)||[]}var zbe=Vbe,Wbe=Pbe,Hbe=bH,qbe=zbe;function Gbe(e){return Hbe(e)?qbe(e):Wbe(e)}var Kbe=Gbe,Ybe=vbe,Xbe=bH,Qbe=Kbe,Zbe=mH;function Jbe(e){return function(t){t=Zbe(t);var r=Xbe(t)?Qbe(t):void 0,s=r?r[0]:t.charAt(0),a=r?Ybe(r,1).join(""):t.slice(1);return s[e]()+a}}var e1e=Jbe,t1e=e1e,r1e=t1e("toUpperCase"),n1e=r1e;const d2=Pr(n1e);function Yr(e){return function(){return e}}const EH=Math.cos,w1=Math.sin,pl=Math.sqrt,N1=Math.PI,u2=2*N1,MA=Math.PI,FA=2*MA,Gu=1e-6,s1e=FA-Gu;function PH(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function a1e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return PH;const r=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+s[a]}}class i1e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?PH:a1e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,s,a){this._append`Q${+t},${+r},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,r,s,a,i,o){this._append`C${+t},${+r},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,s,a,i){if(t=+t,r=+r,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-t,d=a-r,u=o-t,f=l-r,m=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Gu)if(!(Math.abs(f*c-d*u)>Gu)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=s-o,x=a-l,p=c*c+d*d,g=h*h+x*x,j=Math.sqrt(p),y=Math.sqrt(m),w=i*Math.tan((MA-Math.acos((p+m-g)/(2*j*y)))/2),b=w/y,N=w/j;Math.abs(b-1)>Gu&&this._append`L${t+b*u},${r+b*f}`,this._append`A${i},${i},0,0,${+(f*h>u*x)},${this._x1=t+N*c},${this._y1=r+N*d}`}}arc(t,r,s,a,i,o){if(t=+t,r=+r,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),d=t+l,u=r+c,f=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>Gu||Math.abs(this._y1-u)>Gu)&&this._append`L${d},${u}`,s&&(m<0&&(m=m%FA+FA),m>s1e?this._append`A${s},${s},0,1,${f},${t-l},${r-c}A${s},${s},0,1,${f},${this._x1=d},${this._y1=u}`:m>Gu&&this._append`A${s},${s},0,${+(m>=MA)},${f},${this._x1=t+s*Math.cos(i)},${this._y1=r+s*Math.sin(i)}`)}rect(t,r,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function lO(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);t=s}return e},()=>new i1e(t)}function cO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function kH(e){this._context=e}kH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function f2(e){return new kH(e)}function TH(e){return e[0]}function OH(e){return e[1]}function DH(e,t){var r=Yr(!0),s=null,a=f2,i=null,o=lO(l);e=typeof e=="function"?e:e===void 0?TH:Yr(e),t=typeof t=="function"?t:t===void 0?OH:Yr(t);function l(c){var d,u=(c=cO(c)).length,f,m=!1,h;for(s==null&&(i=a(h=o())),d=0;d<=u;++d)!(d<u&&r(f=c[d],d,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(f,d,c),+t(f,d,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Yr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Yr(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Yr(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function hj(e,t,r){var s=null,a=Yr(!0),i=null,o=f2,l=null,c=lO(d);e=typeof e=="function"?e:e===void 0?TH:Yr(+e),t=typeof t=="function"?t:Yr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?OH:Yr(+r);function d(f){var m,h,x,p=(f=cO(f)).length,g,j=!1,y,w=new Array(p),b=new Array(p);for(i==null&&(l=o(y=c())),m=0;m<=p;++m){if(!(m<p&&a(g=f[m],m,f))===j)if(j=!j)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=m-1;x>=h;--x)l.point(w[x],b[x]);l.lineEnd(),l.areaEnd()}j&&(w[m]=+e(g,m,f),b[m]=+t(g,m,f),l.point(s?+s(g,m,f):w[m],r?+r(g,m,f):b[m]))}if(y)return l=null,y+""||null}function u(){return DH().defined(a).curve(o).context(i)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Yr(+f),s=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Yr(+f),d):e},d.x1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:Yr(+f),d):s},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Yr(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Yr(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Yr(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(s).y(t)},d.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Yr(!!f),d):a},d.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),d):o},d.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),d):i},d}class IH{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function o1e(e){return new IH(e,!0)}function l1e(e){return new IH(e,!1)}const dO={draw(e,t){const r=pl(t/N1);e.moveTo(r,0),e.arc(0,0,r,0,u2)}},c1e={draw(e,t){const r=pl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},RH=pl(1/3),d1e=RH*2,u1e={draw(e,t){const r=pl(t/d1e),s=r*RH;e.moveTo(0,-r),e.lineTo(s,0),e.lineTo(0,r),e.lineTo(-s,0),e.closePath()}},f1e={draw(e,t){const r=pl(t),s=-r/2;e.rect(s,s,r,r)}},m1e=.8908130915292852,MH=w1(N1/10)/w1(7*N1/10),h1e=w1(u2/10)*MH,p1e=-EH(u2/10)*MH,x1e={draw(e,t){const r=pl(t*m1e),s=h1e*r,a=p1e*r;e.moveTo(0,-r),e.lineTo(s,a);for(let i=1;i<5;++i){const o=u2*i/5,l=EH(o),c=w1(o);e.lineTo(c*r,-l*r),e.lineTo(l*s-c*a,c*s+l*a)}e.closePath()}},ES=pl(3),g1e={draw(e,t){const r=-pl(t/(ES*3));e.moveTo(0,r*2),e.lineTo(-ES*r,-r),e.lineTo(ES*r,-r),e.closePath()}},Ji=-.5,eo=pl(3)/2,$A=1/pl(12),v1e=($A/2+1)*3,y1e={draw(e,t){const r=pl(t/v1e),s=r/2,a=r*$A,i=s,o=r*$A+r,l=-i,c=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Ji*s-eo*a,eo*s+Ji*a),e.lineTo(Ji*i-eo*o,eo*i+Ji*o),e.lineTo(Ji*l-eo*c,eo*l+Ji*c),e.lineTo(Ji*s+eo*a,Ji*a-eo*s),e.lineTo(Ji*i+eo*o,Ji*o-eo*i),e.lineTo(Ji*l+eo*c,Ji*c-eo*l),e.closePath()}};function j1e(e,t){let r=null,s=lO(a);e=typeof e=="function"?e:Yr(e||dO),t=typeof t=="function"?t:Yr(t===void 0?64:+t);function a(){let i;if(r||(r=i=s()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Yr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Yr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function _1(){}function S1(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function FH(e){this._context=e}FH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:S1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:S1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function b1e(e){return new FH(e)}function $H(e){this._context=e}$H.prototype={areaStart:_1,areaEnd:_1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:S1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function w1e(e){return new $H(e)}function LH(e){this._context=e}LH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:S1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function N1e(e){return new LH(e)}function BH(e){this._context=e}BH.prototype={areaStart:_1,areaEnd:_1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function _1e(e){return new BH(e)}function QR(e){return e<0?-1:1}function ZR(e,t,r){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(r-e._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(QR(i)+QR(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function JR(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function PS(e,t,r){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-s)/3;e._context.bezierCurveTo(s+l,a+l*t,i-l,o-l*r,i,o)}function C1(e){this._context=e}C1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:PS(this,this._t0,JR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,PS(this,JR(this,r=ZR(this,e,t)),r);break;default:PS(this,this._t0,r=ZR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function UH(e){this._context=new VH(e)}(UH.prototype=Object.create(C1.prototype)).point=function(e,t){C1.prototype.point.call(this,t,e)};function VH(e){this._context=e}VH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,s,a,i){this._context.bezierCurveTo(t,e,s,r,i,a)}};function S1e(e){return new C1(e)}function C1e(e){return new UH(e)}function zH(e){this._context=e}zH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var s=eM(e),a=eM(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function eM(e){var t,r=e.length-1,s,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)s=a[t]/i[t-1],i[t]-=s,o[t]-=s*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function A1e(e){return new zH(e)}function m2(e,t){this._context=e,this._t=t}m2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function E1e(e){return new m2(e,.5)}function P1e(e){return new m2(e,0)}function k1e(e){return new m2(e,1)}function np(e,t){if((o=e.length)>1)for(var r=1,s,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function LA(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function T1e(e,t){return e[t]}function O1e(e){const t=[];return t.key=e,t}function D1e(){var e=Yr([]),t=LA,r=np,s=T1e;function a(i){var o=Array.from(e.apply(this,arguments),O1e),l,c=o.length,d=-1,u;for(const f of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+s(f,o[l].key,d,i)]).data=f;for(l=0,u=cO(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Yr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:Yr(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?LA:typeof i=="function"?i:Yr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??np,a):r},a}function I1e(e,t){if((s=e.length)>0){for(var r,s,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<s;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<s;++r)e[r][a][1]/=o}np(e,t)}}function R1e(e,t){if((a=e.length)>0){for(var r=0,s=e[t[0]],a,i=s.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;s[r][1]+=s[r][0]=-l/2}np(e,t)}}function M1e(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],f=u[s][1]||0,m=u[s-1][1]||0,h=(f-m)/2,x=0;x<l;++x){var p=e[t[x]],g=p[s][1]||0,j=p[s-1][1]||0;h+=g-j}c+=f,d+=h*f}a[s-1][1]+=a[s-1][0]=r,c&&(r-=d/c)}a[s-1][1]+=a[s-1][0]=r,np(e,t)}}function _0(e){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_0(e)}var F1e=["type","size","sizeType"];function BA(){return BA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},BA.apply(this,arguments)}function tM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function rM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tM(Object(r),!0).forEach(function(s){$1e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function $1e(e,t,r){return t=L1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L1e(e){var t=B1e(e,"string");return _0(t)=="symbol"?t:t+""}function B1e(e,t){if(_0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(_0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U1e(e,t){if(e==null)return{};var r=V1e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function V1e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var WH={symbolCircle:dO,symbolCross:c1e,symbolDiamond:u1e,symbolSquare:f1e,symbolStar:x1e,symbolTriangle:g1e,symbolWye:y1e},z1e=Math.PI/180,W1e=function(t){var r="symbol".concat(d2(t));return WH[r]||dO},H1e=function(t,r,s){if(r==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*z1e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},q1e=function(t,r){WH["symbol".concat(d2(t))]=r},uO=function(t){var r=t.type,s=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=U1e(t,F1e),d=rM(rM({},c),{},{type:s,size:i,sizeType:l}),u=function(){var g=W1e(s),j=j1e().type(g).size(H1e(i,l,s));return j()},f=d.className,m=d.cx,h=d.cy,x=wt(d,!0);return m===+m&&h===+h&&i===+i?z.createElement("path",BA({},x,{className:Vt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:u()})):null};uO.registerSymbol=q1e;function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function UA(){return UA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},UA.apply(this,arguments)}function nM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function G1e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nM(Object(r),!0).forEach(function(s){S0(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function K1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y1e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,qH(s.key),s)}}function X1e(e,t,r){return t&&Y1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q1e(e,t,r){return t=A1(t),Z1e(e,HH()?Reflect.construct(t,r||[],A1(e).constructor):t.apply(e,r))}function Z1e(e,t){if(t&&(sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J1e(e)}function J1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HH=function(){return!!e})()}function A1(e){return A1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A1(e)}function ewe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VA(e,t)}function VA(e,t){return VA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},VA(e,t)}function S0(e,t,r){return t=qH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=twe(e,"string");return sp(t)=="symbol"?t:t+""}function twe(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(sp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var to=32,fO=function(e){function t(){return K1e(this,t),Q1e(this,t,arguments)}return ewe(t,e),X1e(t,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=to/2,o=to/6,l=to/3,c=s.inactive?a:s.color;if(s.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:to,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(to,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return z.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(to/8,"h").concat(to,"v").concat(to*3/4,"h").concat(-to,"z"),className:"recharts-legend-icon"});if(z.isValidElement(s.legendIcon)){var d=G1e({},s);return delete d.legendIcon,z.cloneElement(s.legendIcon,d)}return z.createElement(uO,{fill:c,cx:i,cy:i,size:to,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:to,height:to},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,x){var p=h.formatter||c,g=Vt(S0(S0({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",h.inactive));if(h.type==="none")return null;var j=Ot(h.value)?null:h.value;nl(!Ot(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=h.inactive?d:h.color;return z.createElement("li",UA({className:g,style:f,key:"legend-item-".concat(x)},Kf(s.props,h,x)),z.createElement(OA,{width:o,height:o,viewBox:u,style:m},s.renderIcon(h)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(j,h,x):j))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);S0(fO,"displayName","Legend");S0(fO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var rwe=QN;function nwe(){this.__data__=new rwe,this.size=0}var swe=nwe;function awe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var iwe=awe;function owe(e){return this.__data__.get(e)}var lwe=owe;function cwe(e){return this.__data__.has(e)}var dwe=cwe,uwe=QN,fwe=JT,mwe=eO,hwe=200;function pwe(e,t){var r=this.__data__;if(r instanceof uwe){var s=r.__data__;if(!fwe||s.length<hwe-1)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new mwe(s)}return r.set(e,t),this.size=r.size,this}var xwe=pwe,gwe=QN,vwe=swe,ywe=iwe,jwe=lwe,bwe=dwe,wwe=xwe;function rx(e){var t=this.__data__=new gwe(e);this.size=t.size}rx.prototype.clear=vwe;rx.prototype.delete=ywe;rx.prototype.get=jwe;rx.prototype.has=bwe;rx.prototype.set=wwe;var GH=rx,Nwe="__lodash_hash_undefined__";function _we(e){return this.__data__.set(e,Nwe),this}var Swe=_we;function Cwe(e){return this.__data__.has(e)}var Awe=Cwe,Ewe=eO,Pwe=Swe,kwe=Awe;function E1(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Ewe;++t<r;)this.add(e[t])}E1.prototype.add=E1.prototype.push=Pwe;E1.prototype.has=kwe;var KH=E1;function Twe(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(t(e[r],r,e))return!0;return!1}var YH=Twe;function Owe(e,t){return e.has(t)}var XH=Owe,Dwe=KH,Iwe=YH,Rwe=XH,Mwe=1,Fwe=2;function $we(e,t,r,s,a,i){var o=r&Mwe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var f=-1,m=!0,h=r&Fwe?new Dwe:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var x=e[f],p=t[f];if(s)var g=o?s(p,x,f,t,e,i):s(x,p,f,e,t,i);if(g!==void 0){if(g)continue;m=!1;break}if(h){if(!Iwe(t,function(j,y){if(!Rwe(h,y)&&(x===j||a(x,j,r,s,i)))return h.push(y)})){m=!1;break}}else if(!(x===p||a(x,p,r,s,i))){m=!1;break}}return i.delete(e),i.delete(t),m}var QH=$we,Lwe=oc,Bwe=Lwe.Uint8Array,Uwe=Bwe;function Vwe(e){var t=-1,r=Array(e.size);return e.forEach(function(s,a){r[++t]=[a,s]}),r}var zwe=Vwe;function Wwe(e){var t=-1,r=Array(e.size);return e.forEach(function(s){r[++t]=s}),r}var mO=Wwe,sM=iy,aM=Uwe,Hwe=ZT,qwe=QH,Gwe=zwe,Kwe=mO,Ywe=1,Xwe=2,Qwe="[object Boolean]",Zwe="[object Date]",Jwe="[object Error]",eNe="[object Map]",tNe="[object Number]",rNe="[object RegExp]",nNe="[object Set]",sNe="[object String]",aNe="[object Symbol]",iNe="[object ArrayBuffer]",oNe="[object DataView]",iM=sM?sM.prototype:void 0,kS=iM?iM.valueOf:void 0;function lNe(e,t,r,s,a,i,o){switch(r){case oNe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case iNe:return!(e.byteLength!=t.byteLength||!i(new aM(e),new aM(t)));case Qwe:case Zwe:case tNe:return Hwe(+e,+t);case Jwe:return e.name==t.name&&e.message==t.message;case rNe:case sNe:return e==t+"";case eNe:var l=Gwe;case nNe:var c=s&Ywe;if(l||(l=Kwe),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;s|=Xwe,o.set(e,t);var u=qwe(l(e),l(t),s,a,i,o);return o.delete(e),u;case aNe:if(kS)return kS.call(e)==kS.call(t)}return!1}var cNe=lNe;function dNe(e,t){for(var r=-1,s=t.length,a=e.length;++r<s;)e[a+r]=t[r];return e}var ZH=dNe,uNe=ZH,fNe=hi;function mNe(e,t,r){var s=t(e);return fNe(e)?s:uNe(s,r(e))}var hNe=mNe;function pNe(e,t){for(var r=-1,s=e==null?0:e.length,a=0,i=[];++r<s;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var xNe=pNe;function gNe(){return[]}var vNe=gNe,yNe=xNe,jNe=vNe,bNe=Object.prototype,wNe=bNe.propertyIsEnumerable,oM=Object.getOwnPropertySymbols,NNe=oM?function(e){return e==null?[]:(e=Object(e),yNe(oM(e),function(t){return wNe.call(e,t)}))}:jNe,_Ne=NNe;function SNe(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s}var CNe=SNe,ANe=ld,ENe=cd,PNe="[object Arguments]";function kNe(e){return ENe(e)&&ANe(e)==PNe}var TNe=kNe,lM=TNe,ONe=cd,JH=Object.prototype,DNe=JH.hasOwnProperty,INe=JH.propertyIsEnumerable,RNe=lM(function(){return arguments}())?lM:function(e){return ONe(e)&&DNe.call(e,"callee")&&!INe.call(e,"callee")},hO=RNe,P1={exports:{}};function MNe(){return!1}var FNe=MNe;P1.exports;(function(e,t){var r=oc,s=FNe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||s;e.exports=d})(P1,P1.exports);var eq=P1.exports,$Ne=9007199254740991,LNe=/^(?:0|[1-9]\d*)$/;function BNe(e,t){var r=typeof e;return t=t??$Ne,!!t&&(r=="number"||r!="symbol"&&LNe.test(e))&&e>-1&&e%1==0&&e<t}var pO=BNe,UNe=9007199254740991;function VNe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=UNe}var xO=VNe,zNe=ld,WNe=xO,HNe=cd,qNe="[object Arguments]",GNe="[object Array]",KNe="[object Boolean]",YNe="[object Date]",XNe="[object Error]",QNe="[object Function]",ZNe="[object Map]",JNe="[object Number]",e2e="[object Object]",t2e="[object RegExp]",r2e="[object Set]",n2e="[object String]",s2e="[object WeakMap]",a2e="[object ArrayBuffer]",i2e="[object DataView]",o2e="[object Float32Array]",l2e="[object Float64Array]",c2e="[object Int8Array]",d2e="[object Int16Array]",u2e="[object Int32Array]",f2e="[object Uint8Array]",m2e="[object Uint8ClampedArray]",h2e="[object Uint16Array]",p2e="[object Uint32Array]",sn={};sn[o2e]=sn[l2e]=sn[c2e]=sn[d2e]=sn[u2e]=sn[f2e]=sn[m2e]=sn[h2e]=sn[p2e]=!0;sn[qNe]=sn[GNe]=sn[a2e]=sn[KNe]=sn[i2e]=sn[YNe]=sn[XNe]=sn[QNe]=sn[ZNe]=sn[JNe]=sn[e2e]=sn[t2e]=sn[r2e]=sn[n2e]=sn[s2e]=!1;function x2e(e){return HNe(e)&&WNe(e.length)&&!!sn[zNe(e)]}var g2e=x2e;function v2e(e){return function(t){return e(t)}}var tq=v2e,k1={exports:{}};k1.exports;(function(e,t){var r=oH,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(k1,k1.exports);var y2e=k1.exports,j2e=g2e,b2e=tq,cM=y2e,dM=cM&&cM.isTypedArray,w2e=dM?b2e(dM):j2e,rq=w2e,N2e=CNe,_2e=hO,S2e=hi,C2e=eq,A2e=pO,E2e=rq,P2e=Object.prototype,k2e=P2e.hasOwnProperty;function T2e(e,t){var r=S2e(e),s=!r&&_2e(e),a=!r&&!s&&C2e(e),i=!r&&!s&&!a&&E2e(e),o=r||s||a||i,l=o?N2e(e.length,String):[],c=l.length;for(var d in e)(t||k2e.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||A2e(d,c)))&&l.push(d);return l}var O2e=T2e,D2e=Object.prototype;function I2e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||D2e;return e===r}var R2e=I2e;function M2e(e,t){return function(r){return e(t(r))}}var nq=M2e,F2e=nq,$2e=F2e(Object.keys,Object),L2e=$2e,B2e=R2e,U2e=L2e,V2e=Object.prototype,z2e=V2e.hasOwnProperty;function W2e(e){if(!B2e(e))return U2e(e);var t=[];for(var r in Object(e))z2e.call(e,r)&&r!="constructor"&&t.push(r);return t}var H2e=W2e,q2e=QT,G2e=xO;function K2e(e){return e!=null&&G2e(e.length)&&!q2e(e)}var ly=K2e,Y2e=O2e,X2e=H2e,Q2e=ly;function Z2e(e){return Q2e(e)?Y2e(e):X2e(e)}var h2=Z2e,J2e=hNe,e_e=_Ne,t_e=h2;function r_e(e){return J2e(e,t_e,e_e)}var n_e=r_e,uM=n_e,s_e=1,a_e=Object.prototype,i_e=a_e.hasOwnProperty;function o_e(e,t,r,s,a,i){var o=r&s_e,l=uM(e),c=l.length,d=uM(t),u=d.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var m=l[f];if(!(o?m in t:i_e.call(t,m)))return!1}var h=i.get(e),x=i.get(t);if(h&&x)return h==t&&x==e;var p=!0;i.set(e,t),i.set(t,e);for(var g=o;++f<c;){m=l[f];var j=e[m],y=t[m];if(s)var w=o?s(y,j,m,t,e,i):s(j,y,m,e,t,i);if(!(w===void 0?j===y||a(j,y,r,s,i):w)){p=!1;break}g||(g=m=="constructor")}if(p&&!g){var b=e.constructor,N=t.constructor;b!=N&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof N=="function"&&N instanceof N)&&(p=!1)}return i.delete(e),i.delete(t),p}var l_e=o_e,c_e=um,d_e=oc,u_e=c_e(d_e,"DataView"),f_e=u_e,m_e=um,h_e=oc,p_e=m_e(h_e,"Promise"),x_e=p_e,g_e=um,v_e=oc,y_e=g_e(v_e,"Set"),sq=y_e,j_e=um,b_e=oc,w_e=j_e(b_e,"WeakMap"),N_e=w_e,zA=f_e,WA=JT,HA=x_e,qA=sq,GA=N_e,aq=ld,nx=cH,fM="[object Map]",__e="[object Object]",mM="[object Promise]",hM="[object Set]",pM="[object WeakMap]",xM="[object DataView]",S_e=nx(zA),C_e=nx(WA),A_e=nx(HA),E_e=nx(qA),P_e=nx(GA),Ku=aq;(zA&&Ku(new zA(new ArrayBuffer(1)))!=xM||WA&&Ku(new WA)!=fM||HA&&Ku(HA.resolve())!=mM||qA&&Ku(new qA)!=hM||GA&&Ku(new GA)!=pM)&&(Ku=function(e){var t=aq(e),r=t==__e?e.constructor:void 0,s=r?nx(r):"";if(s)switch(s){case S_e:return xM;case C_e:return fM;case A_e:return mM;case E_e:return hM;case P_e:return pM}return t});var k_e=Ku,TS=GH,T_e=QH,O_e=cNe,D_e=l_e,gM=k_e,vM=hi,yM=eq,I_e=rq,R_e=1,jM="[object Arguments]",bM="[object Array]",pj="[object Object]",M_e=Object.prototype,wM=M_e.hasOwnProperty;function F_e(e,t,r,s,a,i){var o=vM(e),l=vM(t),c=o?bM:gM(e),d=l?bM:gM(t);c=c==jM?pj:c,d=d==jM?pj:d;var u=c==pj,f=d==pj,m=c==d;if(m&&yM(e)){if(!yM(t))return!1;o=!0,u=!1}if(m&&!u)return i||(i=new TS),o||I_e(e)?T_e(e,t,r,s,a,i):O_e(e,t,c,r,s,a,i);if(!(r&R_e)){var h=u&&wM.call(e,"__wrapped__"),x=f&&wM.call(t,"__wrapped__");if(h||x){var p=h?e.value():e,g=x?t.value():t;return i||(i=new TS),a(p,g,r,s,i)}}return m?(i||(i=new TS),D_e(e,t,r,s,a,i)):!1}var $_e=F_e,L_e=$_e,NM=cd;function iq(e,t,r,s,a){return e===t?!0:e==null||t==null||!NM(e)&&!NM(t)?e!==e&&t!==t:L_e(e,t,r,s,iq,a)}var gO=iq,B_e=GH,U_e=gO,V_e=1,z_e=2;function W_e(e,t,r,s){var a=r.length,i=a,o=!s;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var f=new B_e;if(s)var m=s(d,u,c,e,t,f);if(!(m===void 0?U_e(u,d,V_e|z_e,s,f):m))return!1}}return!0}var H_e=W_e,q_e=Tu;function G_e(e){return e===e&&!q_e(e)}var oq=G_e,K_e=oq,Y_e=h2;function X_e(e){for(var t=Y_e(e),r=t.length;r--;){var s=t[r],a=e[s];t[r]=[s,a,K_e(a)]}return t}var Q_e=X_e;function Z_e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var lq=Z_e,J_e=H_e,eSe=Q_e,tSe=lq;function rSe(e){var t=eSe(e);return t.length==1&&t[0][2]?tSe(t[0][0],t[0][1]):function(r){return r===e||J_e(r,e,t)}}var nSe=rSe;function sSe(e,t){return e!=null&&t in Object(e)}var aSe=sSe,iSe=hH,oSe=hO,lSe=hi,cSe=pO,dSe=xO,uSe=JN;function fSe(e,t,r){t=iSe(t,e);for(var s=-1,a=t.length,i=!1;++s<a;){var o=uSe(t[s]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++s!=a?i:(a=e==null?0:e.length,!!a&&dSe(a)&&cSe(o,a)&&(lSe(e)||oSe(e)))}var mSe=fSe,hSe=aSe,pSe=mSe;function xSe(e,t){return e!=null&&pSe(e,t,hSe)}var gSe=xSe,vSe=gO,ySe=pH,jSe=gSe,bSe=XT,wSe=oq,NSe=lq,_Se=JN,SSe=1,CSe=2;function ASe(e,t){return bSe(e)&&wSe(t)?NSe(_Se(e),t):function(r){var s=ySe(r,e);return s===void 0&&s===t?jSe(r,e):vSe(t,s,SSe|CSe)}}var ESe=ASe;function PSe(e){return e}var sx=PSe;function kSe(e){return function(t){return t==null?void 0:t[e]}}var TSe=kSe,OSe=nO;function DSe(e){return function(t){return OSe(t,e)}}var ISe=DSe,RSe=TSe,MSe=ISe,FSe=XT,$Se=JN;function LSe(e){return FSe(e)?RSe($Se(e)):MSe(e)}var BSe=LSe,USe=nSe,VSe=ESe,zSe=sx,WSe=hi,HSe=BSe;function qSe(e){return typeof e=="function"?e:e==null?zSe:typeof e=="object"?WSe(e)?VSe(e[0],e[1]):USe(e):HSe(e)}var lc=qSe;function GSe(e,t,r,s){for(var a=e.length,i=r+(s?1:-1);s?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var cq=GSe;function KSe(e){return e!==e}var YSe=KSe;function XSe(e,t,r){for(var s=r-1,a=e.length;++s<a;)if(e[s]===t)return s;return-1}var QSe=XSe,ZSe=cq,JSe=YSe,eCe=QSe;function tCe(e,t,r){return t===t?eCe(e,t,r):ZSe(e,JSe,r)}var rCe=tCe,nCe=rCe;function sCe(e,t){var r=e==null?0:e.length;return!!r&&nCe(e,t,0)>-1}var aCe=sCe;function iCe(e,t,r){for(var s=-1,a=e==null?0:e.length;++s<a;)if(r(t,e[s]))return!0;return!1}var oCe=iCe;function lCe(){}var cCe=lCe,OS=sq,dCe=cCe,uCe=mO,fCe=1/0,mCe=OS&&1/uCe(new OS([,-0]))[1]==fCe?function(e){return new OS(e)}:dCe,hCe=mCe,pCe=KH,xCe=aCe,gCe=oCe,vCe=XH,yCe=hCe,jCe=mO,bCe=200;function wCe(e,t,r){var s=-1,a=xCe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=gCe;else if(i>=bCe){var d=t?null:yCe(e);if(d)return jCe(d);o=!1,a=vCe,c=new pCe}else c=t?[]:l;e:for(;++s<i;){var u=e[s],f=t?t(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;t&&c.push(f),l.push(u)}else a(c,f,r)||(c!==l&&c.push(f),l.push(u))}return l}var NCe=wCe,_Ce=lc,SCe=NCe;function CCe(e,t){return e&&e.length?SCe(e,_Ce(t)):[]}var ACe=CCe;const _M=Pr(ACe);function dq(e,t,r){return t===!0?_M(e,r):Ot(t)?_M(e,t):e}function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}var ECe=["ref"];function SM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function hc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(r),!0).forEach(function(s){p2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function PCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CM(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,fq(s.key),s)}}function kCe(e,t,r){return t&&CM(e.prototype,t),r&&CM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TCe(e,t,r){return t=T1(t),OCe(e,uq()?Reflect.construct(t,r||[],T1(e).constructor):t.apply(e,r))}function OCe(e,t){if(t&&(ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DCe(e)}function DCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uq=function(){return!!e})()}function T1(e){return T1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T1(e)}function ICe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KA(e,t)}function KA(e,t){return KA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},KA(e,t)}function p2(e,t,r){return t=fq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fq(e){var t=RCe(e,"string");return ap(t)=="symbol"?t:t+""}function RCe(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ap(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MCe(e,t){if(e==null)return{};var r=FCe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function FCe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function $Ce(e){return e.value}function LCe(e,t){if(z.isValidElement(e))return z.cloneElement(e,t);if(typeof e=="function")return z.createElement(e,t);t.ref;var r=MCe(t,ECe);return z.createElement(fO,r)}var AM=1,sl=function(e){function t(){var r;PCe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=TCe(this,t,[].concat(a)),p2(r,"lastBoundingBox",{width:-1,height:-1}),r}return ICe(t,e),kCe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>AM||Math.abs(a.height-this.lastBoundingBox.height)>AM)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?hc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,f,m;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();f={left:((d||0)-h.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();m={top:((u||0)-x.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return hc(hc({},f),m)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,f=hc(hc({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return z.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){s.wrapperNode=h}},LCe(i,hc(hc({},this.props),{},{payload:dq(u,d,$Ce)})))}}],[{key:"getWithHeight",value:function(s,a){var i=hc(hc({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&Xe(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])}(v.PureComponent);p2(sl,"displayName","Legend");p2(sl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var EM=iy,BCe=hO,UCe=hi,PM=EM?EM.isConcatSpreadable:void 0;function VCe(e){return UCe(e)||BCe(e)||!!(PM&&e&&e[PM])}var zCe=VCe,WCe=ZH,HCe=zCe;function mq(e,t,r,s,a){var i=-1,o=e.length;for(r||(r=HCe),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?mq(l,t-1,r,s,a):WCe(a,l):s||(a[a.length]=l)}return a}var hq=mq;function qCe(e){return function(t,r,s){for(var a=-1,i=Object(t),o=s(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var GCe=qCe,KCe=GCe,YCe=KCe(),XCe=YCe,QCe=XCe,ZCe=h2;function JCe(e,t){return e&&QCe(e,t,ZCe)}var pq=JCe,e4e=ly;function t4e(e,t){return function(r,s){if(r==null)return r;if(!e4e(r))return e(r,s);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&s(o[i],i,o)!==!1;);return r}}var r4e=t4e,n4e=pq,s4e=r4e,a4e=s4e(n4e),vO=a4e,i4e=vO,o4e=ly;function l4e(e,t){var r=-1,s=o4e(e)?Array(e.length):[];return i4e(e,function(a,i,o){s[++r]=t(a,i,o)}),s}var xq=l4e;function c4e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var d4e=c4e,kM=Xp;function u4e(e,t){if(e!==t){var r=e!==void 0,s=e===null,a=e===e,i=kM(e),o=t!==void 0,l=t===null,c=t===t,d=kM(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||s&&o&&c||!r&&c||!a)return 1;if(!s&&!i&&!d&&e<t||d&&r&&a&&!s&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var f4e=u4e,m4e=f4e;function h4e(e,t,r){for(var s=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++s<o;){var c=m4e(a[s],i[s]);if(c){if(s>=l)return c;var d=r[s];return c*(d=="desc"?-1:1)}}return e.index-t.index}var p4e=h4e,DS=rO,x4e=nO,g4e=lc,v4e=xq,y4e=d4e,j4e=tq,b4e=p4e,w4e=sx,N4e=hi;function _4e(e,t,r){t.length?t=DS(t,function(i){return N4e(i)?function(o){return x4e(o,i.length===1?i[0]:i)}:i}):t=[w4e];var s=-1;t=DS(t,j4e(g4e));var a=v4e(e,function(i,o,l){var c=DS(t,function(d){return d(i)});return{criteria:c,index:++s,value:i}});return y4e(a,function(i,o){return b4e(i,o,r)})}var S4e=_4e;function C4e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var A4e=C4e,E4e=A4e,TM=Math.max;function P4e(e,t,r){return t=TM(t===void 0?e.length-1:t,0),function(){for(var s=arguments,a=-1,i=TM(s.length-t,0),o=Array(i);++a<i;)o[a]=s[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=s[a];return l[t]=r(o),E4e(e,this,l)}}var k4e=P4e;function T4e(e){return function(){return e}}var O4e=T4e,D4e=um,I4e=function(){try{var e=D4e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),gq=I4e,R4e=O4e,OM=gq,M4e=sx,F4e=OM?function(e,t){return OM(e,"toString",{configurable:!0,enumerable:!1,value:R4e(t),writable:!0})}:M4e,$4e=F4e,L4e=800,B4e=16,U4e=Date.now;function V4e(e){var t=0,r=0;return function(){var s=U4e(),a=B4e-(s-r);if(r=s,a>0){if(++t>=L4e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var z4e=V4e,W4e=$4e,H4e=z4e,q4e=H4e(W4e),G4e=q4e,K4e=sx,Y4e=k4e,X4e=G4e;function Q4e(e,t){return X4e(Y4e(e,t,K4e),e+"")}var Z4e=Q4e,J4e=ZT,eAe=ly,tAe=pO,rAe=Tu;function nAe(e,t,r){if(!rAe(r))return!1;var s=typeof t;return(s=="number"?eAe(r)&&tAe(t,r.length):s=="string"&&t in r)?J4e(r[t],e):!1}var x2=nAe,sAe=hq,aAe=S4e,iAe=Z4e,DM=x2,oAe=iAe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&DM(e,t[0],t[1])?t=[]:r>2&&DM(t[0],t[1],t[2])&&(t=[t[0]]),aAe(e,sAe(t,1),[])}),lAe=oAe;const yO=Pr(lAe);function C0(e){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C0(e)}function YA(){return YA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},YA.apply(this,arguments)}function cAe(e,t){return mAe(e)||fAe(e,t)||uAe(e,t)||dAe()}function dAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uAe(e,t){if(e){if(typeof e=="string")return IM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IM(e,t)}}function IM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function fAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function mAe(e){if(Array.isArray(e))return e}function RM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function IS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(r),!0).forEach(function(s){hAe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function hAe(e,t,r){return t=pAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pAe(e){var t=xAe(e,"string");return C0(t)=="symbol"?t:t+""}function xAe(e,t){if(C0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(C0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gAe(e){return Array.isArray(e)&&ws(e[0])&&ws(e[1])?e.join(" ~ "):e}var vAe=function(t){var r=t.separator,s=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,f=t.formatter,m=t.itemSorter,h=t.wrapperClassName,x=t.labelClassName,p=t.label,g=t.labelFormatter,j=t.accessibilityLayer,y=j===void 0?!1:j,w=function(){if(u&&u.length){var I={padding:0,margin:0},W=(m?yO(u,m):u).map(function(H,F){if(H.type==="none")return null;var T=IS({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),k=H.formatter||f||gAe,M=H.value,O=H.name,K=M,se=O;if(k&&K!=null&&se!=null){var R=k(M,O,H,F,u);if(Array.isArray(R)){var V=cAe(R,2);K=V[0],se=V[1]}else K=R}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:T},ws(se)?z.createElement("span",{className:"recharts-tooltip-item-name"},se):null,ws(se)?z.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,z.createElement("span",{className:"recharts-tooltip-item-value"},K),z.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:I},W)}return null},b=IS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=IS({margin:0},d),_=!$t(p),S=_?p:"",A=Vt("recharts-default-tooltip",h),E=Vt("recharts-tooltip-label",x);_&&g&&u!==void 0&&u!==null&&(S=g(p,u));var P=y?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",YA({className:A,style:b},P),z.createElement("p",{className:E,style:N},z.isValidElement(S)?S:"".concat(S)),w())};function A0(e){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A0(e)}function xj(e,t,r){return t=yAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yAe(e){var t=jAe(e,"string");return A0(t)=="symbol"?t:t+""}function jAe(e,t){if(A0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(A0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vx="recharts-tooltip-wrapper",bAe={visibility:"hidden"};function wAe(e){var t=e.coordinate,r=e.translateX,s=e.translateY;return Vt(Vx,xj(xj(xj(xj({},"".concat(Vx,"-right"),Xe(r)&&t&&Xe(t.x)&&r>=t.x),"".concat(Vx,"-left"),Xe(r)&&t&&Xe(t.x)&&r<t.x),"".concat(Vx,"-bottom"),Xe(s)&&t&&Xe(t.y)&&s>=t.y),"".concat(Vx,"-top"),Xe(s)&&t&&Xe(t.y)&&s<t.y))}function MM(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&Xe(i[s]))return i[s];var u=r[s]-l-a,f=r[s]+a;if(t[s])return o[s]?u:f;if(o[s]){var m=u,h=c[s];return m<h?Math.max(f,c[s]):Math.max(u,c[s])}var x=f+l,p=c[s]+d;return x>p?Math.max(u,c[s]):Math.max(f,c[s])}function NAe(e){var t=e.translateX,r=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function _Ae(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,f;return o.height>0&&o.width>0&&r?(u=MM({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=MM({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=NAe({translateX:u,translateY:f,useTranslate3d:l})):d=bAe,{cssProperties:d,cssClasses:wAe({translateX:u,translateY:f,coordinate:r})}}function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function FM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function $M(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FM(Object(r),!0).forEach(function(s){QA(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function SAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CAe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,yq(s.key),s)}}function AAe(e,t,r){return t&&CAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EAe(e,t,r){return t=O1(t),PAe(e,vq()?Reflect.construct(t,r||[],O1(e).constructor):t.apply(e,r))}function PAe(e,t){if(t&&(ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kAe(e)}function kAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vq=function(){return!!e})()}function O1(e){return O1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O1(e)}function TAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XA(e,t)}function XA(e,t){return XA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},XA(e,t)}function QA(e,t,r){return t=yq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yq(e){var t=OAe(e,"string");return ip(t)=="symbol"?t:t+""}function OAe(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ip(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LM=1,DAe=function(e){function t(){var r;SAe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=EAe(this,t,[].concat(a)),QA(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),QA(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return TAe(t,e),AAe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>LM||Math.abs(s.height-this.state.lastBoundingBox.height)>LM)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,h=a.offset,x=a.position,p=a.reverseDirection,g=a.useTranslate3d,j=a.viewBox,y=a.wrapperStyle,w=_Ae({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:h,position:x,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:j}),b=w.cssClasses,N=w.cssProperties,_=$M($M({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return z.createElement("div",{tabIndex:-1,className:b,style:_,ref:function(A){s.wrapperNode=A}},d)}}])}(v.PureComponent),IAe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},al={isSsr:IAe(),get:function(t){return al[t]},set:function(t,r){if(typeof t=="string")al[t]=r;else{var s=Object.keys(t);s&&s.length&&s.forEach(function(a){al[a]=t[a]})}}};function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function BM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function UM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BM(Object(r),!0).forEach(function(s){jO(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function RAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MAe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,bq(s.key),s)}}function FAe(e,t,r){return t&&MAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ae(e,t,r){return t=D1(t),LAe(e,jq()?Reflect.construct(t,r||[],D1(e).constructor):t.apply(e,r))}function LAe(e,t){if(t&&(op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BAe(e)}function BAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jq=function(){return!!e})()}function D1(e){return D1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},D1(e)}function UAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZA(e,t)}function ZA(e,t){return ZA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},ZA(e,t)}function jO(e,t,r){return t=bq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bq(e){var t=VAe(e,"string");return op(t)=="symbol"?t:t+""}function VAe(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(op(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zAe(e){return e.dataKey}function WAe(e,t){return z.isValidElement(e)?z.cloneElement(e,t):typeof e=="function"?z.createElement(e,t):z.createElement(vAe,t)}var mr=function(e){function t(){return RAe(this,t),$Ae(this,t,arguments)}return UAe(t,e),FAe(t,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,f=a.filterNull,m=a.isAnimationActive,h=a.offset,x=a.payload,p=a.payloadUniqBy,g=a.position,j=a.reverseDirection,y=a.useTranslate3d,w=a.viewBox,b=a.wrapperStyle,N=x??[];f&&N.length&&(N=dq(x.filter(function(S){return S.value!=null&&(S.hide!==!0||s.props.includeHidden)}),p,zAe));var _=N.length>0;return z.createElement(DAe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:u,hasPayload:_,offset:h,position:g,reverseDirection:j,useTranslate3d:y,viewBox:w,wrapperStyle:b},WAe(d,UM(UM({},this.props),{},{payload:N})))}}])}(v.PureComponent);jO(mr,"displayName","Tooltip");jO(mr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!al.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var HAe=oc,qAe=function(){return HAe.Date.now()},GAe=qAe,KAe=/\s/;function YAe(e){for(var t=e.length;t--&&KAe.test(e.charAt(t)););return t}var XAe=YAe,QAe=XAe,ZAe=/^\s+/;function JAe(e){return e&&e.slice(0,QAe(e)+1).replace(ZAe,"")}var eEe=JAe,tEe=eEe,VM=Tu,rEe=Xp,zM=NaN,nEe=/^[-+]0x[0-9a-f]+$/i,sEe=/^0b[01]+$/i,aEe=/^0o[0-7]+$/i,iEe=parseInt;function oEe(e){if(typeof e=="number")return e;if(rEe(e))return zM;if(VM(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=VM(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=tEe(e);var r=sEe.test(e);return r||aEe.test(e)?iEe(e.slice(2),r?2:8):nEe.test(e)?zM:+e}var wq=oEe,lEe=Tu,RS=GAe,WM=wq,cEe="Expected a function",dEe=Math.max,uEe=Math.min;function fEe(e,t,r){var s,a,i,o,l,c,d=0,u=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(cEe);t=WM(t)||0,lEe(r)&&(u=!!r.leading,f="maxWait"in r,i=f?dEe(WM(r.maxWait)||0,t):i,m="trailing"in r?!!r.trailing:m);function h(_){var S=s,A=a;return s=a=void 0,d=_,o=e.apply(A,S),o}function x(_){return d=_,l=setTimeout(j,t),u?h(_):o}function p(_){var S=_-c,A=_-d,E=t-S;return f?uEe(E,i-A):E}function g(_){var S=_-c,A=_-d;return c===void 0||S>=t||S<0||f&&A>=i}function j(){var _=RS();if(g(_))return y(_);l=setTimeout(j,p(_))}function y(_){return l=void 0,m&&s?h(_):(s=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),d=0,s=c=a=l=void 0}function b(){return l===void 0?o:y(RS())}function N(){var _=RS(),S=g(_);if(s=arguments,a=this,c=_,S){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(j,t),h(c)}return l===void 0&&(l=setTimeout(j,t)),o}return N.cancel=w,N.flush=b,N}var mEe=fEe,hEe=mEe,pEe=Tu,xEe="Expected a function";function gEe(e,t,r){var s=!0,a=!0;if(typeof e!="function")throw new TypeError(xEe);return pEe(r)&&(s="leading"in r?!!r.leading:s,a="trailing"in r?!!r.trailing:a),hEe(e,t,{leading:s,maxWait:t,trailing:a})}var vEe=gEe;const Nq=Pr(vEe);function E0(e){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E0(e)}function HM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function gj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(r),!0).forEach(function(s){yEe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function yEe(e,t,r){return t=jEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jEe(e){var t=bEe(e,"string");return E0(t)=="symbol"?t:t+""}function bEe(e,t){if(E0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(E0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wEe(e,t){return CEe(e)||SEe(e,t)||_Ee(e,t)||NEe()}function NEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ee(e,t){if(e){if(typeof e=="string")return qM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qM(e,t)}}function qM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function SEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function CEe(e){if(Array.isArray(e))return e}var fn=v.forwardRef(function(e,t){var r=e.aspect,s=e.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,f=e.minHeight,m=e.maxHeight,h=e.children,x=e.debounce,p=x===void 0?0:x,g=e.id,j=e.className,y=e.onResize,w=e.style,b=w===void 0?{}:w,N=v.useRef(null),_=v.useRef();_.current=y,v.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var S=v.useState({containerWidth:a.width,containerHeight:a.height}),A=wEe(S,2),E=A[0],P=A[1],D=v.useCallback(function(W,H){P(function(F){var T=Math.round(W),k=Math.round(H);return F.containerWidth===T&&F.containerHeight===k?F:{containerWidth:T,containerHeight:k}})},[]);v.useEffect(function(){var W=function(O){var K,se=O[0].contentRect,R=se.width,V=se.height;D(R,V),(K=_.current)===null||K===void 0||K.call(_,R,V)};p>0&&(W=Nq(W,p,{trailing:!0,leading:!1}));var H=new ResizeObserver(W),F=N.current.getBoundingClientRect(),T=F.width,k=F.height;return D(T,k),H.observe(N.current),function(){H.disconnect()}},[D,p]);var I=v.useMemo(function(){var W=E.containerWidth,H=E.containerHeight;if(W<0||H<0)return null;nl(df(o)||df(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),nl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=df(o)?W:o,T=df(c)?H:c;r&&r>0&&(F?T=F/r:T&&(F=T*r),m&&T>m&&(T=m)),nl(F>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,T,o,c,u,f,r);var k=!Array.isArray(h)&&Mc(h.type).endsWith("Chart");return z.Children.map(h,function(M){return vH.isElement(M)?v.cloneElement(M,gj({width:F,height:T},k?{style:gj({height:"100%",width:"100%",maxHeight:T,maxWidth:F},M.props.style)}:{})):M})},[r,h,c,m,f,u,E,o]);return z.createElement("div",{id:g?"".concat(g):void 0,className:Vt("recharts-responsive-container",j),style:gj(gj({},b),{},{width:o,height:c,minWidth:u,minHeight:f,maxHeight:m}),ref:N},I)}),Na=function(t){return null};Na.displayName="Cell";function P0(e){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P0(e)}function GM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function JA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GM(Object(r),!0).forEach(function(s){AEe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GM(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function AEe(e,t,r){return t=EEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EEe(e){var t=PEe(e,"string");return P0(t)=="symbol"?t:t+""}function PEe(e,t){if(P0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(P0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var km={widthCache:{},cacheCount:0},kEe=2e3,TEe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},KM="recharts_measurement_span";function OEe(e){var t=JA({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Eg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||al.isSsr)return{width:0,height:0};var s=OEe(r),a=JSON.stringify({text:t,copyStyle:s});if(km.widthCache[a])return km.widthCache[a];try{var i=document.getElementById(KM);i||(i=document.createElement("span"),i.setAttribute("id",KM),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=JA(JA({},TEe),s);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return km.widthCache[a]=c,++km.cacheCount>kEe&&(km.cacheCount=0,km.widthCache={}),c}catch{return{width:0,height:0}}},DEe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function k0(e){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k0(e)}function I1(e,t){return FEe(e)||MEe(e,t)||REe(e,t)||IEe()}function IEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function REe(e,t){if(e){if(typeof e=="string")return YM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YM(e,t)}}function YM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function MEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function FEe(e){if(Array.isArray(e))return e}function $Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XM(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,BEe(s.key),s)}}function LEe(e,t,r){return t&&XM(e.prototype,t),r&&XM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BEe(e){var t=UEe(e,"string");return k0(t)=="symbol"?t:t+""}function UEe(e,t){if(k0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(k0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var QM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VEe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zEe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_q={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},WEe=Object.keys(_q),Jm="NaN";function HEe(e,t){return e*_q[t]}var vj=function(){function e(t,r){$Ee(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!VEe.test(r)&&(this.num=NaN,this.unit=""),WEe.includes(r)&&(this.num=HEe(t,r),this.unit="px")}return LEe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var s,a=(s=zEe.exec(r))!==null&&s!==void 0?s:[],i=I1(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function Sq(e){if(e.includes(Jm))return Jm;for(var t=e;t.includes("*")||t.includes("/");){var r,s=(r=QM.exec(t))!==null&&r!==void 0?r:[],a=I1(s,4),i=a[1],o=a[2],l=a[3],c=vj.parse(i??""),d=vj.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Jm;t=t.replace(QM,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=ZM.exec(t))!==null&&f!==void 0?f:[],h=I1(m,4),x=h[1],p=h[2],g=h[3],j=vj.parse(x??""),y=vj.parse(g??""),w=p==="+"?j.add(y):j.subtract(y);if(w.isNaN())return Jm;t=t.replace(ZM,w.toString())}return t}var JM=/\(([^()]*)\)/;function qEe(e){for(var t=e;t.includes("(");){var r=JM.exec(t),s=I1(r,2),a=s[1];t=t.replace(JM,Sq(a))}return t}function GEe(e){var t=e.replace(/\s+/g,"");return t=qEe(t),t=Sq(t),t}function KEe(e){try{return GEe(e)}catch{return Jm}}function MS(e){var t=KEe(e.slice(5,-1));return t===Jm?"":t}var YEe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],XEe=["dx","dy","angle","className","breakAll"];function eE(){return eE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},eE.apply(this,arguments)}function eF(e,t){if(e==null)return{};var r=QEe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function QEe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function tF(e,t){return tPe(e)||ePe(e,t)||JEe(e,t)||ZEe()}function ZEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JEe(e,t){if(e){if(typeof e=="string")return rF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rF(e,t)}}function rF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function ePe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function tPe(e){if(Array.isArray(e))return e}var Cq=/[ \f\n\r\t\v\u2028\u2029]+/,Aq=function(t){var r=t.children,s=t.breakAll,a=t.style;try{var i=[];$t(r)||(s?i=r.toString().split(""):i=r.toString().split(Cq));var o=i.map(function(c){return{word:c,width:Eg(c,a).width}}),l=s?0:Eg("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},rPe=function(t,r,s,a,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=Xe(o),f=l,m=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(T,k){var M=k.word,O=k.width,K=T[T.length-1];if(K&&(a==null||i||K.width+O+s<Number(a)))K.words.push(M),K.width+=O+s;else{var se={words:[M],width:O};T.push(se)}return T},[])},h=m(r),x=function(F){return F.reduce(function(T,k){return T.width>k.width?T:k})};if(!u)return h;for(var p="",g=function(F){var T=f.slice(0,F),k=Aq({breakAll:d,style:c,children:T+p}).wordsWithComputedWidth,M=m(k),O=M.length>o||x(M).width>Number(a);return[O,M]},j=0,y=f.length-1,w=0,b;j<=y&&w<=f.length-1;){var N=Math.floor((j+y)/2),_=N-1,S=g(_),A=tF(S,2),E=A[0],P=A[1],D=g(N),I=tF(D,1),W=I[0];if(!E&&!W&&(j=N+1),E&&W&&(y=N-1),!E&&W){b=P;break}w++}return b||h},nF=function(t){var r=$t(t)?[]:t.toString().split(Cq);return[{words:r}]},nPe=function(t){var r=t.width,s=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||s)&&!al.isSsr){var c,d,u=Aq({breakAll:o,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,m=u.spaceWidth;c=f,d=m}else return nF(a);return rPe({breakAll:o,children:a,maxLines:l,style:i},c,d,r,s)}return nF(a)},sF="#808080",Yf=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,f=u===void 0?!1:u,m=t.textAnchor,h=m===void 0?"start":m,x=t.verticalAnchor,p=x===void 0?"end":x,g=t.fill,j=g===void 0?sF:g,y=eF(t,YEe),w=v.useMemo(function(){return nPe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),b=y.dx,N=y.dy,_=y.angle,S=y.className,A=y.breakAll,E=eF(y,XEe);if(!ws(s)||!ws(i))return null;var P=s+(Xe(b)?b:0),D=i+(Xe(N)?N:0),I;switch(p){case"start":I=MS("calc(".concat(d,")"));break;case"middle":I=MS("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:I=MS("calc(".concat(w.length-1," * -").concat(l,")"));break}var W=[];if(f){var H=w[0].width,F=y.width;W.push("scale(".concat((Xe(F)?F/H:1)/H,")"))}return _&&W.push("rotate(".concat(_,", ").concat(P,", ").concat(D,")")),W.length&&(E.transform=W.join(" ")),z.createElement("text",eE({},wt(E,!0),{x:P,y:D,className:Vt("recharts-text",S),textAnchor:h,fill:j.includes("url")?sF:j}),w.map(function(T,k){var M=T.words.join(A?"":" ");return z.createElement("tspan",{x:P,dy:k===0?I:l,key:"".concat(M,"-").concat(k)},M)}))};function au(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bO(e){let t,r,s;e.length!==2?(t=au,r=(l,c)=>au(e(l),c),s=(l,c)=>e(l)-c):(t=e===au||e===sPe?e:aPe,r=e,s=e);function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){const f=a(l,c,d,u-1);return f>d&&s(l[f-1],c)>-s(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function aPe(){return 0}function Eq(e){return e===null?NaN:+e}function*iPe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const oPe=bO(au),cy=oPe.right;bO(Eq).center;class aF extends Map{constructor(t,r=dPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(iF(this,t))}has(t){return super.has(iF(this,t))}set(t,r){return super.set(lPe(this,t),r)}delete(t){return super.delete(cPe(this,t))}}function iF({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):r}function lPe({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):(e.set(s,r),r)}function cPe({_intern:e,_key:t},r){const s=t(r);return e.has(s)&&(r=e.get(s),e.delete(s)),r}function dPe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function uPe(e=au){if(e===au)return Pq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const s=e(t,r);return s||s===0?s:(e(r,r)===0)-(e(t,t)===0)}}function Pq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const fPe=Math.sqrt(50),mPe=Math.sqrt(10),hPe=Math.sqrt(2);function R1(e,t,r){const s=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=fPe?10:i>=mPe?5:i>=hPe?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?R1(e,t,r*2):[l,c,d]}function tE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const s=t<e,[a,i,o]=s?R1(t,e,r):R1(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function rE(e,t,r){return t=+t,e=+e,r=+r,R1(e,t,r)[2]}function nE(e,t,r){t=+t,e=+e,r=+r;const s=t<e,a=s?rE(t,e,r):rE(e,t,r);return(s?-1:1)*(a<0?1/-a:a)}function oF(e,t){let r;for(const s of e)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);return r}function lF(e,t){let r;for(const s of e)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);return r}function kq(e,t,r=0,s=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(e.length-1,s)),!(r<=t&&t<=s))return e;for(a=a===void 0?Pq:uPe(a);s>r;){if(s-r>600){const c=s-r+1,d=t-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),h=Math.max(r,Math.floor(t-d*f/c+m)),x=Math.min(s,Math.floor(t+(c-d)*f/c+m));kq(e,t,h,x,a)}const i=e[t];let o=r,l=s;for(zx(e,r,t),a(e[s],i)>0&&zx(e,r,s);o<l;){for(zx(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?zx(e,r,l):(++l,zx(e,l,s)),l<=t&&(r=l+1),t<=l&&(s=l-1)}return e}function zx(e,t,r){const s=e[t];e[t]=e[r],e[r]=s}function pPe(e,t,r){if(e=Float64Array.from(iPe(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return lF(e);if(t>=1)return oF(e);var s,a=(s-1)*t,i=Math.floor(a),o=oF(kq(e,i).subarray(0,i+1)),l=lF(e.subarray(i+1));return o+(l-o)*(a-i)}}function xPe(e,t,r=Eq){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+r(e[0],0,e);if(t>=1)return+r(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function gPe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++s<a;)i[s]=e+s*r;return i}function ko(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function dd(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const sE=Symbol("implicit");function wO(){var e=new aF,t=[],r=[],s=sE;function a(i){let o=e.get(i);if(o===void 0){if(s!==sE)return s;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new aF;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return wO(t,r).unknown(s)},ko.apply(a,arguments),a}function T0(){var e=wO().unknown(void 0),t=e.domain,r=e.range,s=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var m=t().length,h=a<s,x=h?a:s,p=h?s:a;i=(p-x)/Math.max(1,m-c+d*2),l&&(i=Math.floor(i)),x+=(p-x-i*(m-c))*u,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var g=gPe(m).map(function(j){return x+i*j});return r(h?g.reverse():g)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([s,a]=m,s=+s,a=+a,f()):[s,a]},e.rangeRound=function(m){return[s,a]=m,s=+s,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(d=+m,f()):d},e.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),f()):u},e.copy=function(){return T0(t(),[s,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},ko.apply(f(),arguments)}function Tq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Tq(t())},e}function Pg(){return Tq(T0.apply(null,arguments).paddingInner(1))}function NO(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Oq(e,t){var r=Object.create(e.prototype);for(var s in t)r[s]=t[s];return r}function dy(){}var O0=.7,M1=1/O0,yh="\\s*([+-]?\\d+)\\s*",D0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vPe=/^#([0-9a-f]{3,8})$/,yPe=new RegExp(`^rgb\\(${yh},${yh},${yh}\\)$`),jPe=new RegExp(`^rgb\\(${Gl},${Gl},${Gl}\\)$`),bPe=new RegExp(`^rgba\\(${yh},${yh},${yh},${D0}\\)$`),wPe=new RegExp(`^rgba\\(${Gl},${Gl},${Gl},${D0}\\)$`),NPe=new RegExp(`^hsl\\(${D0},${Gl},${Gl}\\)$`),_Pe=new RegExp(`^hsla\\(${D0},${Gl},${Gl},${D0}\\)$`),cF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NO(dy,I0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dF,formatHex:dF,formatHex8:SPe,formatHsl:CPe,formatRgb:uF,toString:uF});function dF(){return this.rgb().formatHex()}function SPe(){return this.rgb().formatHex8()}function CPe(){return Dq(this).formatHsl()}function uF(){return this.rgb().formatRgb()}function I0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=vPe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?fF(t):r===3?new Za(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?yj(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?yj(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=yPe.exec(e))?new Za(t[1],t[2],t[3],1):(t=jPe.exec(e))?new Za(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=bPe.exec(e))?yj(t[1],t[2],t[3],t[4]):(t=wPe.exec(e))?yj(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=NPe.exec(e))?pF(t[1],t[2]/100,t[3]/100,1):(t=_Pe.exec(e))?pF(t[1],t[2]/100,t[3]/100,t[4]):cF.hasOwnProperty(e)?fF(cF[e]):e==="transparent"?new Za(NaN,NaN,NaN,0):null}function fF(e){return new Za(e>>16&255,e>>8&255,e&255,1)}function yj(e,t,r,s){return s<=0&&(e=t=r=NaN),new Za(e,t,r,s)}function APe(e){return e instanceof dy||(e=I0(e)),e?(e=e.rgb(),new Za(e.r,e.g,e.b,e.opacity)):new Za}function aE(e,t,r,s){return arguments.length===1?APe(e):new Za(e,t,r,s??1)}function Za(e,t,r,s){this.r=+e,this.g=+t,this.b=+r,this.opacity=+s}NO(Za,aE,Oq(dy,{brighter(e){return e=e==null?M1:Math.pow(M1,e),new Za(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?O0:Math.pow(O0,e),new Za(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Za(Af(this.r),Af(this.g),Af(this.b),F1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mF,formatHex:mF,formatHex8:EPe,formatRgb:hF,toString:hF}));function mF(){return`#${uf(this.r)}${uf(this.g)}${uf(this.b)}`}function EPe(){return`#${uf(this.r)}${uf(this.g)}${uf(this.b)}${uf((isNaN(this.opacity)?1:this.opacity)*255)}`}function hF(){const e=F1(this.opacity);return`${e===1?"rgb(":"rgba("}${Af(this.r)}, ${Af(this.g)}, ${Af(this.b)}${e===1?")":`, ${e})`}`}function F1(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Af(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function uf(e){return e=Af(e),(e<16?"0":"")+e.toString(16)}function pF(e,t,r,s){return s<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ko(e,t,r,s)}function Dq(e){if(e instanceof Ko)return new Ko(e.h,e.s,e.l,e.opacity);if(e instanceof dy||(e=I0(e)),!e)return new Ko;if(e instanceof Ko)return e;e=e.rgb();var t=e.r/255,r=e.g/255,s=e.b/255,a=Math.min(t,r,s),i=Math.max(t,r,s),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-s)/l+(r<s)*6:r===i?o=(s-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Ko(o,l,c,e.opacity)}function PPe(e,t,r,s){return arguments.length===1?Dq(e):new Ko(e,t,r,s??1)}function Ko(e,t,r,s){this.h=+e,this.s=+t,this.l=+r,this.opacity=+s}NO(Ko,PPe,Oq(dy,{brighter(e){return e=e==null?M1:Math.pow(M1,e),new Ko(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?O0:Math.pow(O0,e),new Ko(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*t,a=2*r-s;return new Za(FS(e>=240?e-240:e+120,a,s),FS(e,a,s),FS(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new Ko(xF(this.h),jj(this.s),jj(this.l),F1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=F1(this.opacity);return`${e===1?"hsl(":"hsla("}${xF(this.h)}, ${jj(this.s)*100}%, ${jj(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xF(e){return e=(e||0)%360,e<0?e+360:e}function jj(e){return Math.max(0,Math.min(1,e||0))}function FS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const _O=e=>()=>e;function kPe(e,t){return function(r){return e+r*t}}function TPe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(s){return Math.pow(e+s*t,r)}}function OPe(e){return(e=+e)==1?Iq:function(t,r){return r-t?TPe(t,r,e):_O(isNaN(t)?r:t)}}function Iq(e,t){var r=t-e;return r?kPe(e,r):_O(isNaN(e)?t:e)}const gF=function e(t){var r=OPe(t);function s(a,i){var o=r((a=aE(a)).r,(i=aE(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=Iq(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return s.gamma=e,s}(1);function DPe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<r;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function IPe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function RPe(e,t){var r=t?t.length:0,s=e?Math.min(r,e.length):0,a=new Array(s),i=new Array(r),o;for(o=0;o<s;++o)a[o]=ax(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function MPe(e,t){var r=new Date;return e=+e,t=+t,function(s){return r.setTime(e*(1-s)+t*s),r}}function $1(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function FPe(e,t){var r={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ax(e[a],t[a]):s[a]=t[a];return function(i){for(a in r)s[a]=r[a](i);return s}}var iE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$S=new RegExp(iE.source,"g");function $Pe(e){return function(){return e}}function LPe(e){return function(t){return e(t)+""}}function BPe(e,t){var r=iE.lastIndex=$S.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(s=iE.exec(e))&&(a=$S.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:$1(s,a)})),r=$S.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?LPe(c[0].x):$Pe(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function ax(e,t){var r=typeof t,s;return t==null||r==="boolean"?_O(t):(r==="number"?$1:r==="string"?(s=I0(t))?(t=s,gF):BPe:t instanceof I0?gF:t instanceof Date?MPe:IPe(t)?DPe:Array.isArray(t)?RPe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?FPe:$1)(e,t)}function SO(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function UPe(e,t){t===void 0&&(t=e,e=ax);for(var r=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);r<s;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function VPe(e){return function(){return e}}function L1(e){return+e}var vF=[0,1];function Ta(e){return e}function oE(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:VPe(isNaN(t)?NaN:.5)}function zPe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(s){return Math.max(e,Math.min(t,s))}}function WPe(e,t,r){var s=e[0],a=e[1],i=t[0],o=t[1];return a<s?(s=oE(a,s),i=r(o,i)):(s=oE(s,a),i=r(i,o)),function(l){return i(s(l))}}function HPe(e,t,r){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)a[o]=oE(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=cy(e,l,1,s)-1;return i[c](a[c](l))}}function uy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function g2(){var e=vF,t=vF,r=ax,s,a,i,o=Ta,l,c,d;function u(){var m=Math.min(e.length,t.length);return o!==Ta&&(o=zPe(e[0],e[m-1])),l=m>2?HPe:WPe,c=d=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(s),t,r)))(s(o(m)))}return f.invert=function(m){return o(a((d||(d=l(t,e.map(s),$1)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,L1),u()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),u()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),r=SO,u()},f.clamp=function(m){return arguments.length?(o=m?!0:Ta,u()):o!==Ta},f.interpolate=function(m){return arguments.length?(r=m,u()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,h){return s=m,a=h,u()}}function CO(){return g2()(Ta,Ta)}function qPe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function B1(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,s=e.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+e.slice(r+1)]}function lp(e){return e=B1(Math.abs(e)),e?e[1]:NaN}function GPe(e,t){return function(r,s){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>s));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function KPe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var YPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function R0(e){if(!(t=YPe.exec(e)))throw new Error("invalid format: "+e);var t;return new AO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}R0.prototype=AO.prototype;function AO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}AO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XPe(e){e:for(var t=e.length,r=1,s=-1,a;r<t;++r)switch(e[r]){case".":s=a=r;break;case"0":s===0&&(s=r),a=r;break;default:if(!+e[r])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var Rq;function QPe(e,t){var r=B1(e,t);if(!r)return e+"";var s=r[0],a=r[1],i=a-(Rq=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+B1(e,Math.max(0,t+i-1))[0]}function yF(e,t){var r=B1(e,t);if(!r)return e+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const jF={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:qPe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yF(e*100,t),r:yF,s:QPe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function bF(e){return e}var wF=Array.prototype.map,NF=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ZPe(e){var t=e.grouping===void 0||e.thousands===void 0?bF:GPe(wF.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?bF:KPe(wF.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=R0(f);var m=f.fill,h=f.align,x=f.sign,p=f.symbol,g=f.zero,j=f.width,y=f.comma,w=f.precision,b=f.trim,N=f.type;N==="n"?(y=!0,N="g"):jF[N]||(w===void 0&&(w=12),b=!0,N="g"),(g||m==="0"&&h==="=")&&(g=!0,m="0",h="=");var _=p==="$"?r:p==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",S=p==="$"?s:/[%p]/.test(N)?o:"",A=jF[N],E=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function P(D){var I=_,W=S,H,F,T;if(N==="c")W=A(D)+W,D="";else{D=+D;var k=D<0||1/D<0;if(D=isNaN(D)?c:A(Math.abs(D),w),b&&(D=XPe(D)),k&&+D==0&&x!=="+"&&(k=!1),I=(k?x==="("?x:l:x==="-"||x==="("?"":x)+I,W=(N==="s"?NF[8+Rq/3]:"")+W+(k&&x==="("?")":""),E){for(H=-1,F=D.length;++H<F;)if(T=D.charCodeAt(H),48>T||T>57){W=(T===46?a+D.slice(H+1):D.slice(H))+W,D=D.slice(0,H);break}}}y&&!g&&(D=t(D,1/0));var M=I.length+D.length+W.length,O=M<j?new Array(j-M+1).join(m):"";switch(y&&g&&(D=t(O+D,O.length?j-W.length:1/0),O=""),h){case"<":D=I+D+W+O;break;case"=":D=I+O+D+W;break;case"^":D=O.slice(0,M=O.length>>1)+I+D+W+O.slice(M);break;default:D=O+I+D+W;break}return i(D)}return P.toString=function(){return f+""},P}function u(f,m){var h=d((f=R0(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(lp(m)/3)))*3,p=Math.pow(10,-x),g=NF[8+x/3];return function(j){return h(p*j)+g}}return{format:d,formatPrefix:u}}var bj,EO,Mq;JPe({thousands:",",grouping:[3],currency:["$",""]});function JPe(e){return bj=ZPe(e),EO=bj.format,Mq=bj.formatPrefix,bj}function eke(e){return Math.max(0,-lp(Math.abs(e)))}function tke(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lp(t)/3)))*3-lp(Math.abs(e)))}function rke(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,lp(t)-lp(e))+1}function Fq(e,t,r,s){var a=nE(e,t,r),i;switch(s=R0(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=tke(a,o))&&(s.precision=i),Mq(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=rke(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=eke(a))&&(s.precision=i-(s.type==="%")*2);break}}return EO(s)}function Ou(e){var t=e.domain;return e.ticks=function(r){var s=t();return tE(s[0],s[s.length-1],r??10)},e.tickFormat=function(r,s){var a=t();return Fq(a[0],a[a.length-1],r??10,s)},e.nice=function(r){r==null&&(r=10);var s=t(),a=0,i=s.length-1,o=s[a],l=s[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=rE(o,l,r),d===c)return s[a]=o,s[i]=l,t(s);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function U1(){var e=CO();return e.copy=function(){return uy(e,U1())},ko.apply(e,arguments),Ou(e)}function $q(e){var t;function r(s){return s==null||isNaN(s=+s)?t:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(e=Array.from(s,L1),r):e.slice()},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return $q(e).unknown(t)},e=arguments.length?Array.from(e,L1):[0,1],Ou(r)}function Lq(e,t){e=e.slice();var r=0,s=e.length-1,a=e[r],i=e[s],o;return i<a&&(o=r,r=s,s=o,o=a,a=i,i=o),e[r]=t.floor(a),e[s]=t.ceil(i),e}function _F(e){return Math.log(e)}function SF(e){return Math.exp(e)}function nke(e){return-Math.log(-e)}function ske(e){return-Math.exp(-e)}function ake(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ike(e){return e===10?ake:e===Math.E?Math.exp:t=>Math.pow(e,t)}function oke(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function CF(e){return(t,r)=>-e(-t,r)}function PO(e){const t=e(_F,SF),r=t.domain;let s=10,a,i;function o(){return a=oke(s),i=ike(s),r()[0]<0?(a=CF(a),i=CF(i),e(nke,ske)):e(_F,SF),t}return t.base=function(l){return arguments.length?(s=+l,o()):s},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let m=a(d),h=a(u),x,p;const g=l==null?10:+l;let j=[];if(!(s%1)&&h-m<g){if(m=Math.floor(m),h=Math.ceil(h),d>0){for(;m<=h;++m)for(x=1;x<s;++x)if(p=m<0?x/i(-m):x*i(m),!(p<d)){if(p>u)break;j.push(p)}}else for(;m<=h;++m)for(x=s-1;x>=1;--x)if(p=m>0?x/i(-m):x*i(m),!(p<d)){if(p>u)break;j.push(p)}j.length*2<g&&(j=tE(d,u,g))}else j=tE(m,h,Math.min(h-m,g)).map(i);return f?j.reverse():j},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=R0(c)).precision==null&&(c.trim=!0),c=EO(c)),l===1/0)return c;const d=Math.max(1,s*l/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*s<s-.5&&(f*=s),f<=d?c(u):""}},t.nice=()=>r(Lq(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function Bq(){const e=PO(g2()).domain([1,10]);return e.copy=()=>uy(e,Bq()).base(e.base()),ko.apply(e,arguments),e}function AF(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function EF(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function kO(e){var t=1,r=e(AF(t),EF(t));return r.constant=function(s){return arguments.length?e(AF(t=+s),EF(t)):t},Ou(r)}function Uq(){var e=kO(g2());return e.copy=function(){return uy(e,Uq()).constant(e.constant())},ko.apply(e,arguments)}function PF(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lke(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function cke(e){return e<0?-e*e:e*e}function TO(e){var t=e(Ta,Ta),r=1;function s(){return r===1?e(Ta,Ta):r===.5?e(lke,cke):e(PF(r),PF(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,s()):r},Ou(t)}function OO(){var e=TO(g2());return e.copy=function(){return uy(e,OO()).exponent(e.exponent())},ko.apply(e,arguments),e}function dke(){return OO.apply(null,arguments).exponent(.5)}function kF(e){return Math.sign(e)*e*e}function uke(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Vq(){var e=CO(),t=[0,1],r=!1,s;function a(i){var o=uke(e(i));return isNaN(o)?s:r?Math.round(o):o}return a.invert=function(i){return e.invert(kF(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,L1)).map(kF)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return Vq(e.domain(),t).round(r).clamp(e.clamp()).unknown(s)},ko.apply(a,arguments),Ou(a)}function zq(){var e=[],t=[],r=[],s;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=xPe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:t[cy(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(au),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return r.slice()},i.copy=function(){return zq().domain(e).range(t).unknown(s)},ko.apply(i,arguments)}function Wq(){var e=0,t=1,r=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[cy(s,c,0,r)]:i}function l(){var c=-1;for(s=new Array(r);++c<r;)s[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,s[0]]:d>=r?[s[r-1],t]:[s[d-1],s[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return Wq().domain([e,t]).range(a).unknown(i)},ko.apply(Ou(o),arguments)}function Hq(){var e=[.5],t=[0,1],r,s=1;function a(i){return i!=null&&i<=i?t[cy(e,i,0,s)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Hq().domain(e).range(t).unknown(r)},ko.apply(a,arguments)}const LS=new Date,BS=new Date;function _s(e,t,r,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>_s(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(LS.setTime(+i),BS.setTime(+o),e(LS),e(BS),Math.floor(r(LS,BS))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const V1=_s(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);V1.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_s(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):V1);V1.range;const kc=1e3,po=kc*60,Tc=po*60,Jc=Tc*24,DO=Jc*7,TF=Jc*30,US=Jc*365,ff=_s(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*kc)},(e,t)=>(t-e)/kc,e=>e.getUTCSeconds());ff.range;const IO=_s(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kc)},(e,t)=>{e.setTime(+e+t*po)},(e,t)=>(t-e)/po,e=>e.getMinutes());IO.range;const RO=_s(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*po)},(e,t)=>(t-e)/po,e=>e.getUTCMinutes());RO.range;const MO=_s(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kc-e.getMinutes()*po)},(e,t)=>{e.setTime(+e+t*Tc)},(e,t)=>(t-e)/Tc,e=>e.getHours());MO.range;const FO=_s(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Tc)},(e,t)=>(t-e)/Tc,e=>e.getUTCHours());FO.range;const fy=_s(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*po)/Jc,e=>e.getDate()-1);fy.range;const v2=_s(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jc,e=>e.getUTCDate()-1);v2.range;const qq=_s(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jc,e=>Math.floor(e/Jc));qq.range;function mm(e){return _s(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*po)/DO)}const y2=mm(0),z1=mm(1),fke=mm(2),mke=mm(3),cp=mm(4),hke=mm(5),pke=mm(6);y2.range;z1.range;fke.range;mke.range;cp.range;hke.range;pke.range;function hm(e){return _s(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/DO)}const j2=hm(0),W1=hm(1),xke=hm(2),gke=hm(3),dp=hm(4),vke=hm(5),yke=hm(6);j2.range;W1.range;xke.range;gke.range;dp.range;vke.range;yke.range;const $O=_s(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());$O.range;const LO=_s(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());LO.range;const ed=_s(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ed.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_s(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ed.range;const td=_s(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());td.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_s(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});td.range;function Gq(e,t,r,s,a,i){const o=[[ff,1,kc],[ff,5,5*kc],[ff,15,15*kc],[ff,30,30*kc],[i,1,po],[i,5,5*po],[i,15,15*po],[i,30,30*po],[a,1,Tc],[a,3,3*Tc],[a,6,6*Tc],[a,12,12*Tc],[s,1,Jc],[s,2,2*Jc],[r,1,DO],[t,1,TF],[t,3,3*TF],[e,1,US]];function l(d,u,f){const m=u<d;m&&([d,u]=[u,d]);const h=f&&typeof f.range=="function"?f:c(d,u,f),x=h?h.range(d,+u+1):[];return m?x.reverse():x}function c(d,u,f){const m=Math.abs(u-d)/f,h=bO(([,,g])=>g).right(o,m);if(h===o.length)return e.every(nE(d/US,u/US,f));if(h===0)return V1.every(Math.max(nE(d,u,f),1));const[x,p]=o[m/o[h-1][2]<o[h][2]/m?h-1:h];return x.every(p)}return[l,c]}const[jke,bke]=Gq(td,LO,j2,qq,FO,RO),[wke,Nke]=Gq(ed,$O,y2,fy,MO,IO);function VS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function zS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Wx(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function _ke(e){var t=e.dateTime,r=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=Hx(a),u=qx(a),f=Hx(i),m=qx(i),h=Hx(o),x=qx(o),p=Hx(l),g=qx(l),j=Hx(c),y=qx(c),w={a:k,A:M,b:O,B:K,c:null,d:FF,e:FF,f:Gke,g:nTe,G:aTe,H:Wke,I:Hke,j:qke,L:Kq,m:Kke,M:Yke,p:se,q:R,Q:BF,s:UF,S:Xke,u:Qke,U:Zke,V:Jke,w:eTe,W:tTe,x:null,X:null,y:rTe,Y:sTe,Z:iTe,"%":LF},b={a:V,A:L,b:G,B:le,c:null,d:$F,e:$F,f:dTe,g:jTe,G:wTe,H:oTe,I:lTe,j:cTe,L:Xq,m:uTe,M:fTe,p:me,q:B,Q:BF,s:UF,S:mTe,u:hTe,U:pTe,V:xTe,w:gTe,W:vTe,x:null,X:null,y:yTe,Y:bTe,Z:NTe,"%":LF},N={a:P,A:D,b:I,B:W,c:H,d:RF,e:RF,f:Bke,g:IF,G:DF,H:MF,I:MF,j:Mke,L:Lke,m:Rke,M:Fke,p:E,q:Ike,Q:Vke,s:zke,S:$ke,u:Pke,U:kke,V:Tke,w:Eke,W:Oke,x:F,X:T,y:IF,Y:DF,Z:Dke,"%":Uke};w.x=_(r,w),w.X=_(s,w),w.c=_(t,w),b.x=_(r,b),b.X=_(s,b),b.c=_(t,b);function _(Y,oe){return function(Ne){var ue=[],ve=-1,xe=0,Ee=Y.length,Fe,Oe,ae;for(Ne instanceof Date||(Ne=new Date(+Ne));++ve<Ee;)Y.charCodeAt(ve)===37&&(ue.push(Y.slice(xe,ve)),(Oe=OF[Fe=Y.charAt(++ve)])!=null?Fe=Y.charAt(++ve):Oe=Fe==="e"?" ":"0",(ae=oe[Fe])&&(Fe=ae(Ne,Oe)),ue.push(Fe),xe=ve+1);return ue.push(Y.slice(xe,ve)),ue.join("")}}function S(Y,oe){return function(Ne){var ue=Wx(1900,void 0,1),ve=A(ue,Y,Ne+="",0),xe,Ee;if(ve!=Ne.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(oe&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(xe=zS(Wx(ue.y,0,1)),Ee=xe.getUTCDay(),xe=Ee>4||Ee===0?W1.ceil(xe):W1(xe),xe=v2.offset(xe,(ue.V-1)*7),ue.y=xe.getUTCFullYear(),ue.m=xe.getUTCMonth(),ue.d=xe.getUTCDate()+(ue.w+6)%7):(xe=VS(Wx(ue.y,0,1)),Ee=xe.getDay(),xe=Ee>4||Ee===0?z1.ceil(xe):z1(xe),xe=fy.offset(xe,(ue.V-1)*7),ue.y=xe.getFullYear(),ue.m=xe.getMonth(),ue.d=xe.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Ee="Z"in ue?zS(Wx(ue.y,0,1)).getUTCDay():VS(Wx(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(Ee+5)%7:ue.w+ue.U*7-(Ee+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,zS(ue)):VS(ue)}}function A(Y,oe,Ne,ue){for(var ve=0,xe=oe.length,Ee=Ne.length,Fe,Oe;ve<xe;){if(ue>=Ee)return-1;if(Fe=oe.charCodeAt(ve++),Fe===37){if(Fe=oe.charAt(ve++),Oe=N[Fe in OF?oe.charAt(ve++):Fe],!Oe||(ue=Oe(Y,Ne,ue))<0)return-1}else if(Fe!=Ne.charCodeAt(ue++))return-1}return ue}function E(Y,oe,Ne){var ue=d.exec(oe.slice(Ne));return ue?(Y.p=u.get(ue[0].toLowerCase()),Ne+ue[0].length):-1}function P(Y,oe,Ne){var ue=h.exec(oe.slice(Ne));return ue?(Y.w=x.get(ue[0].toLowerCase()),Ne+ue[0].length):-1}function D(Y,oe,Ne){var ue=f.exec(oe.slice(Ne));return ue?(Y.w=m.get(ue[0].toLowerCase()),Ne+ue[0].length):-1}function I(Y,oe,Ne){var ue=j.exec(oe.slice(Ne));return ue?(Y.m=y.get(ue[0].toLowerCase()),Ne+ue[0].length):-1}function W(Y,oe,Ne){var ue=p.exec(oe.slice(Ne));return ue?(Y.m=g.get(ue[0].toLowerCase()),Ne+ue[0].length):-1}function H(Y,oe,Ne){return A(Y,t,oe,Ne)}function F(Y,oe,Ne){return A(Y,r,oe,Ne)}function T(Y,oe,Ne){return A(Y,s,oe,Ne)}function k(Y){return o[Y.getDay()]}function M(Y){return i[Y.getDay()]}function O(Y){return c[Y.getMonth()]}function K(Y){return l[Y.getMonth()]}function se(Y){return a[+(Y.getHours()>=12)]}function R(Y){return 1+~~(Y.getMonth()/3)}function V(Y){return o[Y.getUTCDay()]}function L(Y){return i[Y.getUTCDay()]}function G(Y){return c[Y.getUTCMonth()]}function le(Y){return l[Y.getUTCMonth()]}function me(Y){return a[+(Y.getUTCHours()>=12)]}function B(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var oe=_(Y+="",w);return oe.toString=function(){return Y},oe},parse:function(Y){var oe=S(Y+="",!1);return oe.toString=function(){return Y},oe},utcFormat:function(Y){var oe=_(Y+="",b);return oe.toString=function(){return Y},oe},utcParse:function(Y){var oe=S(Y+="",!0);return oe.toString=function(){return Y},oe}}}var OF={"-":"",_:" ",0:"0"},Fs=/^\s*\d+/,Ske=/^%/,Cke=/[\\^$*+?|[\]().{}]/g;function yr(e,t,r){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<r?new Array(r-i+1).join(t)+a:a)}function Ake(e){return e.replace(Cke,"\\$&")}function Hx(e){return new RegExp("^(?:"+e.map(Ake).join("|")+")","i")}function qx(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Eke(e,t,r){var s=Fs.exec(t.slice(r,r+1));return s?(e.w=+s[0],r+s[0].length):-1}function Pke(e,t,r){var s=Fs.exec(t.slice(r,r+1));return s?(e.u=+s[0],r+s[0].length):-1}function kke(e,t,r){var s=Fs.exec(t.slice(r,r+2));return s?(e.U=+s[0],r+s[0].length):-1}function Tke(e,t,r){var s=Fs.exec(t.slice(r,r+2));return s?(e.V=+s[0],r+s[0].length):-1}function Oke(e,t,r){var s=Fs.exec(t.slice(r,r+2));return s?(e.W=+s[0],r+s[0].length):-1}function DF(e,t,r){var s=Fs.exec(t.slice(r,r+4));return s?(e.y=+s[0],r+s[0].length):-1}function IF(e,t,r){var s=Fs.exec(t.slice(r,r+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function Dke(e,t,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function Ike(e,t,r){var s=Fs.exec(t.slice(r,r+1));return s?(e.q=s[0]*3-3,r+s[0].length):-1}function Rke(e,t,r){var s=Fs.exec(t.slice(r,r+2));return s?(e.m=s[0]-1,r+s[0].length):-1}function RF(e,t,r){var s=Fs.exec(t.slice(r,r+2));return s?(e.d=+s[0],r+s[0].length):-1}function Mke(e,t,r){var s=Fs.exec(t.slice(r,r+3));return s?(e.m=0,e.d=+s[0],r+s[0].length):-1}function MF(e,t,r){var s=Fs.exec(t.slice(r,r+2));return s?(e.H=+s[0],r+s[0].length):-1}function Fke(e,t,r){var s=Fs.exec(t.slice(r,r+2));return s?(e.M=+s[0],r+s[0].length):-1}function $ke(e,t,r){var s=Fs.exec(t.slice(r,r+2));return s?(e.S=+s[0],r+s[0].length):-1}function Lke(e,t,r){var s=Fs.exec(t.slice(r,r+3));return s?(e.L=+s[0],r+s[0].length):-1}function Bke(e,t,r){var s=Fs.exec(t.slice(r,r+6));return s?(e.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function Uke(e,t,r){var s=Ske.exec(t.slice(r,r+1));return s?r+s[0].length:-1}function Vke(e,t,r){var s=Fs.exec(t.slice(r));return s?(e.Q=+s[0],r+s[0].length):-1}function zke(e,t,r){var s=Fs.exec(t.slice(r));return s?(e.s=+s[0],r+s[0].length):-1}function FF(e,t){return yr(e.getDate(),t,2)}function Wke(e,t){return yr(e.getHours(),t,2)}function Hke(e,t){return yr(e.getHours()%12||12,t,2)}function qke(e,t){return yr(1+fy.count(ed(e),e),t,3)}function Kq(e,t){return yr(e.getMilliseconds(),t,3)}function Gke(e,t){return Kq(e,t)+"000"}function Kke(e,t){return yr(e.getMonth()+1,t,2)}function Yke(e,t){return yr(e.getMinutes(),t,2)}function Xke(e,t){return yr(e.getSeconds(),t,2)}function Qke(e){var t=e.getDay();return t===0?7:t}function Zke(e,t){return yr(y2.count(ed(e)-1,e),t,2)}function Yq(e){var t=e.getDay();return t>=4||t===0?cp(e):cp.ceil(e)}function Jke(e,t){return e=Yq(e),yr(cp.count(ed(e),e)+(ed(e).getDay()===4),t,2)}function eTe(e){return e.getDay()}function tTe(e,t){return yr(z1.count(ed(e)-1,e),t,2)}function rTe(e,t){return yr(e.getFullYear()%100,t,2)}function nTe(e,t){return e=Yq(e),yr(e.getFullYear()%100,t,2)}function sTe(e,t){return yr(e.getFullYear()%1e4,t,4)}function aTe(e,t){var r=e.getDay();return e=r>=4||r===0?cp(e):cp.ceil(e),yr(e.getFullYear()%1e4,t,4)}function iTe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+yr(t/60|0,"0",2)+yr(t%60,"0",2)}function $F(e,t){return yr(e.getUTCDate(),t,2)}function oTe(e,t){return yr(e.getUTCHours(),t,2)}function lTe(e,t){return yr(e.getUTCHours()%12||12,t,2)}function cTe(e,t){return yr(1+v2.count(td(e),e),t,3)}function Xq(e,t){return yr(e.getUTCMilliseconds(),t,3)}function dTe(e,t){return Xq(e,t)+"000"}function uTe(e,t){return yr(e.getUTCMonth()+1,t,2)}function fTe(e,t){return yr(e.getUTCMinutes(),t,2)}function mTe(e,t){return yr(e.getUTCSeconds(),t,2)}function hTe(e){var t=e.getUTCDay();return t===0?7:t}function pTe(e,t){return yr(j2.count(td(e)-1,e),t,2)}function Qq(e){var t=e.getUTCDay();return t>=4||t===0?dp(e):dp.ceil(e)}function xTe(e,t){return e=Qq(e),yr(dp.count(td(e),e)+(td(e).getUTCDay()===4),t,2)}function gTe(e){return e.getUTCDay()}function vTe(e,t){return yr(W1.count(td(e)-1,e),t,2)}function yTe(e,t){return yr(e.getUTCFullYear()%100,t,2)}function jTe(e,t){return e=Qq(e),yr(e.getUTCFullYear()%100,t,2)}function bTe(e,t){return yr(e.getUTCFullYear()%1e4,t,4)}function wTe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?dp(e):dp.ceil(e),yr(e.getUTCFullYear()%1e4,t,4)}function NTe(){return"+0000"}function LF(){return"%"}function BF(e){return+e}function UF(e){return Math.floor(+e/1e3)}var Tm,Zq,Jq;_Te({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _Te(e){return Tm=_ke(e),Zq=Tm.format,Tm.parse,Jq=Tm.utcFormat,Tm.utcParse,Tm}function STe(e){return new Date(e)}function CTe(e){return e instanceof Date?+e:+new Date(+e)}function BO(e,t,r,s,a,i,o,l,c,d){var u=CO(),f=u.invert,m=u.domain,h=d(".%L"),x=d(":%S"),p=d("%I:%M"),g=d("%I %p"),j=d("%a %d"),y=d("%b %d"),w=d("%B"),b=d("%Y");function N(_){return(c(_)<_?h:l(_)<_?x:o(_)<_?p:i(_)<_?g:s(_)<_?a(_)<_?j:y:r(_)<_?w:b)(_)}return u.invert=function(_){return new Date(f(_))},u.domain=function(_){return arguments.length?m(Array.from(_,CTe)):m().map(STe)},u.ticks=function(_){var S=m();return e(S[0],S[S.length-1],_??10)},u.tickFormat=function(_,S){return S==null?N:d(S)},u.nice=function(_){var S=m();return(!_||typeof _.range!="function")&&(_=t(S[0],S[S.length-1],_??10)),_?m(Lq(S,_)):u},u.copy=function(){return uy(u,BO(e,t,r,s,a,i,o,l,c,d))},u}function ATe(){return ko.apply(BO(wke,Nke,ed,$O,y2,fy,MO,IO,ff,Zq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ETe(){return ko.apply(BO(jke,bke,td,LO,j2,v2,FO,RO,ff,Jq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function b2(){var e=0,t=1,r,s,a,i,o=Ta,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),s=i(t=+t),a=r===s?0:1/(s-r),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function u(f){return function(m){var h,x;return arguments.length?([h,x]=m,o=f(h,x),d):[o(0),o(1)]}}return d.range=u(ax),d.rangeRound=u(SO),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return i=f,r=f(e),s=f(t),a=r===s?0:1/(s-r),d}}function Du(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function eG(){var e=Ou(b2()(Ta));return e.copy=function(){return Du(e,eG())},dd.apply(e,arguments)}function tG(){var e=PO(b2()).domain([1,10]);return e.copy=function(){return Du(e,tG()).base(e.base())},dd.apply(e,arguments)}function rG(){var e=kO(b2());return e.copy=function(){return Du(e,rG()).constant(e.constant())},dd.apply(e,arguments)}function UO(){var e=TO(b2());return e.copy=function(){return Du(e,UO()).exponent(e.exponent())},dd.apply(e,arguments)}function PTe(){return UO.apply(null,arguments).exponent(.5)}function nG(){var e=[],t=Ta;function r(s){if(s!=null&&!isNaN(s=+s))return t((cy(e,s,1)-1)/(e.length-1))}return r.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(au),r},r.interpolator=function(s){return arguments.length?(t=s,r):t},r.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(a,i)=>pPe(e,i/s))},r.copy=function(){return nG(t).domain(e)},dd.apply(r,arguments)}function w2(){var e=0,t=.5,r=1,s=1,a,i,o,l,c,d=Ta,u,f=!1,m;function h(p){return isNaN(p=+p)?m:(p=.5+((p=+u(p))-i)*(s*p<s*i?l:c),d(f?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t,r]=p,a=u(e=+e),i=u(t=+t),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,h):[e,t,r]},h.clamp=function(p){return arguments.length?(f=!!p,h):f},h.interpolator=function(p){return arguments.length?(d=p,h):d};function x(p){return function(g){var j,y,w;return arguments.length?([j,y,w]=g,d=UPe(p,[j,y,w]),h):[d(0),d(.5),d(1)]}}return h.range=x(ax),h.rangeRound=x(SO),h.unknown=function(p){return arguments.length?(m=p,h):m},function(p){return u=p,a=p(e),i=p(t),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,h}}function sG(){var e=Ou(w2()(Ta));return e.copy=function(){return Du(e,sG())},dd.apply(e,arguments)}function aG(){var e=PO(w2()).domain([.1,1,10]);return e.copy=function(){return Du(e,aG()).base(e.base())},dd.apply(e,arguments)}function iG(){var e=kO(w2());return e.copy=function(){return Du(e,iG()).constant(e.constant())},dd.apply(e,arguments)}function VO(){var e=TO(w2());return e.copy=function(){return Du(e,VO()).exponent(e.exponent())},dd.apply(e,arguments)}function kTe(){return VO.apply(null,arguments).exponent(.5)}const VF=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:T0,scaleDiverging:sG,scaleDivergingLog:aG,scaleDivergingPow:VO,scaleDivergingSqrt:kTe,scaleDivergingSymlog:iG,scaleIdentity:$q,scaleImplicit:sE,scaleLinear:U1,scaleLog:Bq,scaleOrdinal:wO,scalePoint:Pg,scalePow:OO,scaleQuantile:zq,scaleQuantize:Wq,scaleRadial:Vq,scaleSequential:eG,scaleSequentialLog:tG,scaleSequentialPow:UO,scaleSequentialQuantile:nG,scaleSequentialSqrt:PTe,scaleSequentialSymlog:rG,scaleSqrt:dke,scaleSymlog:Uq,scaleThreshold:Hq,scaleTime:ATe,scaleUtc:ETe,tickFormat:Fq},Symbol.toStringTag,{value:"Module"}));var TTe=Xp;function OTe(e,t,r){for(var s=-1,a=e.length;++s<a;){var i=e[s],o=t(i);if(o!=null&&(l===void 0?o===o&&!TTe(o):r(o,l)))var l=o,c=i}return c}var N2=OTe;function DTe(e,t){return e>t}var oG=DTe,ITe=N2,RTe=oG,MTe=sx;function FTe(e){return e&&e.length?ITe(e,MTe,RTe):void 0}var $Te=FTe;const Wd=Pr($Te);function LTe(e,t){return e<t}var lG=LTe,BTe=N2,UTe=lG,VTe=sx;function zTe(e){return e&&e.length?BTe(e,VTe,UTe):void 0}var WTe=zTe;const _2=Pr(WTe);var HTe=rO,qTe=lc,GTe=xq,KTe=hi;function YTe(e,t){var r=KTe(e)?HTe:GTe;return r(e,qTe(t))}var XTe=YTe,QTe=hq,ZTe=XTe;function JTe(e,t){return QTe(ZTe(e,t),1)}var eOe=JTe;const tOe=Pr(eOe);var rOe=gO;function nOe(e,t){return rOe(e,t)}var sOe=nOe;const Xf=Pr(sOe);var ix=1e9,aOe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},WO,vn=!0,So="[DecimalError] ",Ef=So+"Invalid argument: ",zO=So+"Exponent out of range: ",ox=Math.floor,Yu=Math.pow,iOe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ki,Ss=1e7,ln=7,cG=9007199254740991,H1=ox(cG/ln),yt={};yt.absoluteValue=yt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};yt.comparedTo=yt.cmp=function(e){var t,r,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,r=s<a?s:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};yt.decimalPlaces=yt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ln;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};yt.dividedBy=yt.div=function(e){return Fc(this,new this.constructor(e))};yt.dividedToIntegerBy=yt.idiv=function(e){var t=this,r=t.constructor;return Wr(Fc(t,new r(e),0,1),r.precision)};yt.equals=yt.eq=function(e){return!this.cmp(e)};yt.exponent=function(){return rs(this)};yt.greaterThan=yt.gt=function(e){return this.cmp(e)>0};yt.greaterThanOrEqualTo=yt.gte=function(e){return this.cmp(e)>=0};yt.isInteger=yt.isint=function(){return this.e>this.d.length-2};yt.isNegative=yt.isneg=function(){return this.s<0};yt.isPositive=yt.ispos=function(){return this.s>0};yt.isZero=function(){return this.s===0};yt.lessThan=yt.lt=function(e){return this.cmp(e)<0};yt.lessThanOrEqualTo=yt.lte=function(e){return this.cmp(e)<1};yt.logarithm=yt.log=function(e){var t,r=this,s=r.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(ki))throw Error(So+"NaN");if(r.s<1)throw Error(So+(r.s?"NaN":"-Infinity"));return r.eq(ki)?new s(0):(vn=!1,t=Fc(M0(r,i),M0(e,i),i),vn=!0,Wr(t,a))};yt.minus=yt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fG(t,e):dG(t,(e.s=-e.s,e))};yt.modulo=yt.mod=function(e){var t,r=this,s=r.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(So+"NaN");return r.s?(vn=!1,t=Fc(r,e,0,1).times(e),vn=!0,r.minus(t)):Wr(new s(r),a)};yt.naturalExponential=yt.exp=function(){return uG(this)};yt.naturalLogarithm=yt.ln=function(){return M0(this)};yt.negated=yt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};yt.plus=yt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?dG(t,e):fG(t,(e.s=-e.s,e))};yt.precision=yt.sd=function(e){var t,r,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ef+e);if(t=rs(a)+1,s=a.d.length-1,r=s*ln+1,s=a.d[s],s){for(;s%10==0;s/=10)r--;for(s=a.d[0];s>=10;s/=10)r++}return e&&t>r?t:r};yt.squareRoot=yt.sqrt=function(){var e,t,r,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(So+"NaN")}for(e=rs(l),vn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Vl(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=ox((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new c(t)):s=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=s,s=i.plus(Fc(l,i,o+2)).times(.5),Vl(i.d).slice(0,o)===(t=Vl(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Wr(i,r+1,0),i.times(i).eq(l)){s=i;break}}else if(t!="9999")break;o+=4}return vn=!0,Wr(s,r)};yt.times=yt.mul=function(e){var t,r,s,a,i,o,l,c,d,u=this,f=u.constructor,m=u.d,h=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,c=m.length,d=h.length,c<d&&(i=m,m=h,h=i,o=c,c=d,d=o),i=[],o=c+d,s=o;s--;)i.push(0);for(s=d;--s>=0;){for(t=0,a=c+s;a>s;)l=i[a]+h[s]*m[a-s-1]+t,i[a--]=l%Ss|0,t=l/Ss|0;i[a]=(i[a]+t)%Ss|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,vn?Wr(e,f.precision):e};yt.toDecimalPlaces=yt.todp=function(e,t){var r=this,s=r.constructor;return r=new s(r),e===void 0?r:(ec(e,0,ix),t===void 0?t=s.rounding:ec(t,0,8),Wr(r,e+rs(r)+1,t))};yt.toExponential=function(e,t){var r,s=this,a=s.constructor;return e===void 0?r=Qf(s,!0):(ec(e,0,ix),t===void 0?t=a.rounding:ec(t,0,8),s=Wr(new a(s),e+1,t),r=Qf(s,!0,e+1)),r};yt.toFixed=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?Qf(a):(ec(e,0,ix),t===void 0?t=i.rounding:ec(t,0,8),s=Wr(new i(a),e+rs(a)+1,t),r=Qf(s.abs(),!1,e+rs(s)+1),a.isneg()&&!a.isZero()?"-"+r:r)};yt.toInteger=yt.toint=function(){var e=this,t=e.constructor;return Wr(new t(e),rs(e)+1,t.rounding)};yt.toNumber=function(){return+this};yt.toPower=yt.pow=function(e){var t,r,s,a,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(ki);if(l=new c(l),!l.s){if(e.s<1)throw Error(So+"Infinity");return l}if(l.eq(ki))return l;if(s=c.precision,e.eq(ki))return Wr(l,s);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=u<0?-u:u)<=cG){for(a=new c(ki),t=Math.ceil(s/ln+4),vn=!1;r%2&&(a=a.times(l),WF(a.d,t)),r=ox(r/2),r!==0;)l=l.times(l),WF(l.d,t);return vn=!0,e.s<0?new c(ki).div(a):Wr(a,s)}}else if(i<0)throw Error(So+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,vn=!1,a=e.times(M0(l,s+d)),vn=!0,a=uG(a),a.s=i,a};yt.toPrecision=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?(r=rs(a),s=Qf(a,r<=i.toExpNeg||r>=i.toExpPos)):(ec(e,1,ix),t===void 0?t=i.rounding:ec(t,0,8),a=Wr(new i(a),e,t),r=rs(a),s=Qf(a,e<=r||r<=i.toExpNeg,e)),s};yt.toSignificantDigits=yt.tosd=function(e,t){var r=this,s=r.constructor;return e===void 0?(e=s.precision,t=s.rounding):(ec(e,1,ix),t===void 0?t=s.rounding:ec(t,0,8)),Wr(new s(r),e,t)};yt.toString=yt.valueOf=yt.val=yt.toJSON=yt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rs(e),r=e.constructor;return Qf(e,t<=r.toExpNeg||t>=r.toExpPos)};function dG(e,t){var r,s,a,i,o,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),vn?Wr(t,f):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=d.length):(s=d,a=o,l=c.length),o=Math.ceil(f/ln),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,s=d,d=c,c=s),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Ss|0,c[i]%=Ss;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,vn?Wr(t,f):t}function ec(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ef+e)}function Vl(e){var t,r,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)s=e[t]+"",r=ln-s.length,r&&(i+=Ad(r)),i+=s;o=e[t],s=o+"",r=ln-s.length,r&&(i+=Ad(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Fc=function(){function e(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%Ss|0,o=i/Ss|0;return o&&s.unshift(o),s}function t(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function r(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*Ss+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,d,u,f,m,h,x,p,g,j,y,w,b,N,_,S,A,E=s.constructor,P=s.s==a.s?1:-1,D=s.d,I=a.d;if(!s.s)return new E(s);if(!a.s)throw Error(So+"Division by zero");for(c=s.e-a.e,S=I.length,N=D.length,h=new E(P),x=h.d=[],d=0;I[d]==(D[d]||0);)++d;if(I[d]>(D[d]||0)&&--c,i==null?y=i=E.precision:o?y=i+(rs(s)-rs(a))+1:y=i,y<0)return new E(0);if(y=y/ln+2|0,d=0,S==1)for(u=0,I=I[0],y++;(d<N||u)&&y--;d++)w=u*Ss+(D[d]||0),x[d]=w/I|0,u=w%I|0;else{for(u=Ss/(I[0]+1)|0,u>1&&(I=e(I,u),D=e(D,u),S=I.length,N=D.length),b=S,p=D.slice(0,S),g=p.length;g<S;)p[g++]=0;A=I.slice(),A.unshift(0),_=I[0],I[1]>=Ss/2&&++_;do u=0,l=t(I,p,S,g),l<0?(j=p[0],S!=g&&(j=j*Ss+(p[1]||0)),u=j/_|0,u>1?(u>=Ss&&(u=Ss-1),f=e(I,u),m=f.length,g=p.length,l=t(f,p,m,g),l==1&&(u--,r(f,S<m?A:I,m))):(u==0&&(l=u=1),f=I.slice()),m=f.length,m<g&&f.unshift(0),r(p,f,g),l==-1&&(g=p.length,l=t(I,p,S,g),l<1&&(u++,r(p,S<g?A:I,g))),g=p.length):l===0&&(u++,p=[0]),x[d++]=u,l&&p[0]?p[g++]=D[b]||0:(p=[D[b]],g=1);while((b++<N||p[0]!==void 0)&&y--)}return x[0]||x.shift(),h.e=c,Wr(h,o?i+rs(h)+1:i)}}();function uG(e,t){var r,s,a,i,o,l,c=0,d=0,u=e.constructor,f=u.precision;if(rs(e)>16)throw Error(zO+rs(e));if(!e.s)return new u(ki);for(t==null?(vn=!1,l=f):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(s=Math.log(Yu(2,d))/Math.LN10*2+5|0,l+=s,r=a=i=new u(ki),u.precision=l;;){if(a=Wr(a.times(e),l),r=r.times(++c),o=i.plus(Fc(a,r,l)),Vl(o.d).slice(0,l)===Vl(i.d).slice(0,l)){for(;d--;)i=Wr(i.times(i),l);return u.precision=f,t==null?(vn=!0,Wr(i,f)):i}i=o}}function rs(e){for(var t=e.e*ln,r=e.d[0];r>=10;r/=10)t++;return t}function WS(e,t,r){if(t>e.LN10.sd())throw vn=!0,r&&(e.precision=r),Error(So+"LN10 precision limit exceeded");return Wr(new e(e.LN10),t)}function Ad(e){for(var t="";e--;)t+="0";return t}function M0(e,t){var r,s,a,i,o,l,c,d,u,f=1,m=10,h=e,x=h.d,p=h.constructor,g=p.precision;if(h.s<1)throw Error(So+(h.s?"NaN":"-Infinity"));if(h.eq(ki))return new p(0);if(t==null?(vn=!1,d=g):d=t,h.eq(10))return t==null&&(vn=!0),WS(p,d);if(d+=m,p.precision=d,r=Vl(x),s=r.charAt(0),i=rs(h),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&r.charAt(1)>3;)h=h.times(e),r=Vl(h.d),s=r.charAt(0),f++;i=rs(h),s>1?(h=new p("0."+r),i++):h=new p(s+"."+r.slice(1))}else return c=WS(p,d+2,g).times(i+""),h=M0(new p(s+"."+r.slice(1)),d-m).plus(c),p.precision=g,t==null?(vn=!0,Wr(h,g)):h;for(l=o=h=Fc(h.minus(ki),h.plus(ki),d),u=Wr(h.times(h),d),a=3;;){if(o=Wr(o.times(u),d),c=l.plus(Fc(o,new p(a),d)),Vl(c.d).slice(0,d)===Vl(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(WS(p,d+2,g).times(i+""))),l=Fc(l,new p(f),d),p.precision=g,t==null?(vn=!0,Wr(l,g)):l;l=c,a+=2}}function zF(e,t){var r,s,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,r=r-s-1,e.e=ox(r/ln),e.d=[],s=(r+1)%ln,r<0&&(s+=ln),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=ln;s<a;)e.d.push(+t.slice(s,s+=ln));t=t.slice(s),s=ln-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),vn&&(e.e>H1||e.e<-H1))throw Error(zO+r)}else e.s=0,e.e=0,e.d=[0];return e}function Wr(e,t,r){var s,a,i,o,l,c,d,u,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(s=t-o,s<0)s+=ln,a=t,d=f[u=0];else{if(u=Math.ceil((s+1)/ln),i=f.length,u>=i)return e;for(d=i=f[u],o=1;i>=10;i/=10)o++;s%=ln,a=s-ln+o}if(r!==void 0&&(i=Yu(10,o-a-1),l=d/i%10|0,c=t<0||f[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(s>0?a>0?d/Yu(10,o-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=rs(e),f.length=1,t=t-i-1,f[0]=Yu(10,(ln-t%ln)%ln),e.e=ox(-t/ln)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(s==0?(f.length=u,i=1,u--):(f.length=u+1,i=Yu(10,ln-s),f[u]=a>0?(d/Yu(10,o-a)%Yu(10,a)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==Ss&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Ss)break;f[u--]=0,i=1}for(s=f.length;f[--s]===0;)f.pop();if(vn&&(e.e>H1||e.e<-H1))throw Error(zO+rs(e));return e}function fG(e,t){var r,s,a,i,o,l,c,d,u,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),vn?Wr(t,h):t;if(c=e.d,f=t.d,s=t.e,d=e.e,c=c.slice(),o=d-s,o){for(u=o<0,u?(r=c,o=-o,l=f.length):(r=f,s=d,l=c.length),a=Math.max(Math.ceil(h/ln),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){u=c[a]<f[a];break}o=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Ss-1;--c[i],c[a]+=Ss}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(t.d=c,t.e=s,vn?Wr(t,h):t):new m(0)}function Qf(e,t,r){var s,a=rs(e),i=Vl(e.d),o=i.length;return t?(r&&(s=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ad(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ad(-a-1)+i,r&&(s=r-o)>0&&(i+=Ad(s))):a>=o?(i+=Ad(a+1-o),r&&(s=r-a-1)>0&&(i=i+"."+Ad(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),r&&(s=r-o)>0&&(a+1===o&&(i+="."),i+=Ad(s))),e.s<0?"-"+i:i}function WF(e,t){if(e.length>t)return e.length=t,!0}function mG(e){var t,r,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ef+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return zF(o,i.toString())}else if(typeof i!="string")throw Error(Ef+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,iOe.test(i))zF(o,i);else throw Error(Ef+i)}if(a.prototype=yt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=mG,a.config=a.set=oOe,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(r=s[t++])||(e[r]=this[r]);return a.config(e),a}function oOe(e){if(!e||typeof e!="object")throw Error(So+"Object expected");var t,r,s,a=["precision",1,ix,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[r=a[t]])!==void 0)if(ox(s)===s&&s>=a[t+1]&&s<=a[t+2])this[r]=s;else throw Error(Ef+r+": "+s);if((s=e[r="LN10"])!==void 0)if(s==Math.LN10)this[r]=new this(s);else throw Error(Ef+r+": "+s);return this}var WO=mG(aOe);ki=new WO(1);const Br=WO;function lOe(e){return fOe(e)||uOe(e)||dOe(e)||cOe()}function cOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dOe(e,t){if(e){if(typeof e=="string")return lE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lE(e,t)}}function uOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function fOe(e){if(Array.isArray(e))return lE(e)}function lE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var mOe=function(t){return t},hG={"@@functional/placeholder":!0},pG=function(t){return t===hG},HF=function(t){return function r(){return arguments.length===0||arguments.length===1&&pG(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},hOe=function e(t,r){return t===1?r:HF(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==hG}).length;return o>=t?r.apply(void 0,a):e(t-o,HF(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(f){return pG(f)?c.shift():f});return r.apply(void 0,lOe(u).concat(c))}))})},S2=function(t){return hOe(t.length,t)},cE=function(t,r){for(var s=[],a=t;a<r;++a)s[a-t]=a;return s},pOe=S2(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),xOe=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];if(!r.length)return mOe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},dE=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},xG=function(t){var r=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,s=t.apply(void 0,i)),s}};function gOe(e){var t;return e===0?t=1:t=Math.floor(new Br(e).abs().log(10).toNumber())+1,t}function vOe(e,t,r){for(var s=new Br(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(r),a++;return i}var yOe=S2(function(e,t,r){var s=+e,a=+t;return s+r*(a-s)}),jOe=S2(function(e,t,r){var s=t-+e;return s=s||1/0,(r-e)/s}),bOe=S2(function(e,t,r){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(r-e)/s))});const C2={rangeStep:vOe,getDigitCount:gOe,interpolateNumber:yOe,uninterpolateNumber:jOe,uninterpolateTruncation:bOe};function uE(e){return _Oe(e)||NOe(e)||gG(e)||wOe()}function wOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _Oe(e){if(Array.isArray(e))return fE(e)}function F0(e,t){return AOe(e)||COe(e,t)||gG(e,t)||SOe()}function SOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gG(e,t){if(e){if(typeof e=="string")return fE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fE(e,t)}}function fE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function COe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],s=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));s=!0);}catch(c){a=!0,i=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function AOe(e){if(Array.isArray(e))return e}function vG(e){var t=F0(e,2),r=t[0],s=t[1],a=r,i=s;return r>s&&(a=s,i=r),[a,i]}function yG(e,t,r){if(e.lte(0))return new Br(0);var s=C2.getDigitCount(e.toNumber()),a=new Br(10).pow(s),i=e.div(a),o=s!==1?.05:.1,l=new Br(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Br(Math.ceil(c))}function EOe(e,t,r){var s=1,a=new Br(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(s=new Br(10).pow(C2.getDigitCount(e)-1),a=new Br(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new Br(Math.floor(e)))}else e===0?a=new Br(Math.floor((t-1)/2)):r||(a=new Br(Math.floor(e)));var o=Math.floor((t-1)/2),l=xOe(pOe(function(c){return a.add(new Br(c-o).mul(s)).toNumber()}),cE);return l(0,t)}function jG(e,t,r,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Br(0),tickMin:new Br(0),tickMax:new Br(0)};var i=yG(new Br(t).sub(e).div(r-1),s,a),o;e<=0&&t>=0?o=new Br(0):(o=new Br(e).add(t).div(2),o=o.sub(new Br(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Br(t).sub(o).div(i).toNumber()),d=l+c+1;return d>r?jG(e,t,r,s,a+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:i,tickMin:o.sub(new Br(l).mul(i)),tickMax:o.add(new Br(c).mul(i))})}function POe(e){var t=F0(e,2),r=t[0],s=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=vG([r,s]),c=F0(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var f=u===1/0?[d].concat(uE(cE(0,a-1).map(function(){return 1/0}))):[].concat(uE(cE(0,a-1).map(function(){return-1/0})),[u]);return r>s?dE(f):f}if(d===u)return EOe(d,a,i);var m=jG(d,u,o,i),h=m.step,x=m.tickMin,p=m.tickMax,g=C2.rangeStep(x,p.add(new Br(.1).mul(h)),h);return r>s?dE(g):g}function kOe(e,t){var r=F0(e,2),s=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=vG([s,a]),l=F0(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[s,a];if(c===d)return[c];var u=Math.max(t,2),f=yG(new Br(d).sub(c).div(u-1),i,0),m=[].concat(uE(C2.rangeStep(new Br(c),new Br(d).sub(new Br(.99).mul(f)),f)),[d]);return s>a?dE(m):m}var TOe=xG(POe),OOe=xG(kOe),DOe="Invariant failed";function yu(e,t){throw new Error(DOe)}var IOe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function q1(){return q1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},q1.apply(this,arguments)}function ROe(e,t){return LOe(e)||$Oe(e,t)||FOe(e,t)||MOe()}function MOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FOe(e,t){if(e){if(typeof e=="string")return qF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qF(e,t)}}function qF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function $Oe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function LOe(e){if(Array.isArray(e))return e}function BOe(e,t){if(e==null)return{};var r=UOe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function UOe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function VOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zOe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,NG(s.key),s)}}function WOe(e,t,r){return t&&zOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HOe(e,t,r){return t=G1(t),qOe(e,bG()?Reflect.construct(t,r||[],G1(e).constructor):t.apply(e,r))}function qOe(e,t){if(t&&(up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GOe(e)}function GOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bG=function(){return!!e})()}function G1(e){return G1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G1(e)}function KOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mE(e,t)}function mE(e,t){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},mE(e,t)}function wG(e,t,r){return t=NG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NG(e){var t=YOe(e,"string");return up(t)=="symbol"?t:t+""}function YOe(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(up(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var my=function(e){function t(){return VOe(this,t),HOe(this,t,arguments)}return KOe(t,e),WOe(t,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,c=s.data,d=s.dataPointFormatter,u=s.xAxis,f=s.yAxis,m=BOe(s,IOe),h=wt(m,!1);this.props.direction==="x"&&u.type!=="number"&&yu();var x=c.map(function(p){var g=d(p,l),j=g.x,y=g.y,w=g.value,b=g.errorVal;if(!b)return null;var N=[],_,S;if(Array.isArray(b)){var A=ROe(b,2);_=A[0],S=A[1]}else _=S=b;if(i==="vertical"){var E=u.scale,P=y+a,D=P+o,I=P-o,W=E(w-_),H=E(w+S);N.push({x1:H,y1:D,x2:H,y2:I}),N.push({x1:W,y1:P,x2:H,y2:P}),N.push({x1:W,y1:D,x2:W,y2:I})}else if(i==="horizontal"){var F=f.scale,T=j+a,k=T-o,M=T+o,O=F(w-_),K=F(w+S);N.push({x1:k,y1:K,x2:M,y2:K}),N.push({x1:T,y1:O,x2:T,y2:K}),N.push({x1:k,y1:O,x2:M,y2:O})}return z.createElement(tr,q1({className:"recharts-errorBar",key:"bar-".concat(N.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},h),N.map(function(se){return z.createElement("line",q1({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return z.createElement(tr,{className:"recharts-errorBars"},x)}}])}(z.Component);wG(my,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});wG(my,"displayName","ErrorBar");function $0(e){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$0(e)}function GF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Bu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GF(Object(r),!0).forEach(function(s){XOe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function XOe(e,t,r){return t=QOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QOe(e){var t=ZOe(e,"string");return $0(t)=="symbol"?t:t+""}function ZOe(e,t){if($0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if($0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _G=function(t){var r=t.children,s=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Si(r,sl);if(!o)return null;var l=sl.defaultProps,c=l!==void 0?Bu(Bu({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(s||[]).reduce(function(u,f){var m=f.item,h=f.props,x=h.sectors||h.data||[];return u.concat(x.map(function(p){return{type:o.props.iconType||m.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):d=(s||[]).map(function(u){var f=u.item,m=f.type.defaultProps,h=m!==void 0?Bu(Bu({},m),f.props):{},x=h.dataKey,p=h.name,g=h.legendType,j=h.hide;return{inactive:j,dataKey:x,type:c.iconType||g||"square",color:HO(f),value:p||x,payload:h}}),Bu(Bu(Bu({},c),sl.getWithHeight(o,a)),{},{payload:d,item:o})};function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function KF(e){return r3e(e)||t3e(e)||e3e(e)||JOe()}function JOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e3e(e,t){if(e){if(typeof e=="string")return hE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hE(e,t)}}function t3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function r3e(e){if(Array.isArray(e))return hE(e)}function hE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function YF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YF(Object(r),!0).forEach(function(s){jh(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function jh(e,t,r){return t=n3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n3e(e){var t=s3e(e,"string");return L0(t)=="symbol"?t:t+""}function s3e(e,t){if(L0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(L0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hn(e,t,r){return $t(e)||$t(t)?r:ws(t)?Ri(e,t,r):Ot(t)?t(e):r}function kg(e,t,r,s){var a=tOe(e,function(l){return Hn(l,t)});if(r==="number"){var i=a.filter(function(l){return Xe(l)||parseFloat(l)});return i.length?[_2(i),Wd(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!$t(l)}):a;return o.map(function(l){return ws(l)||l instanceof Date?l:""})}var a3e=function(t){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=s==null?void 0:s.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,f=a[d].coordinate,m=d>=l-1?a[0].coordinate:a[d+1].coordinate,h=void 0;if(Pa(f-u)!==Pa(m-f)){var x=[];if(Pa(m-f)===Pa(c[1]-c[0])){h=m;var p=f+c[1]-c[0];x[0]=Math.min(p,(p+u)/2),x[1]=Math.max(p,(p+u)/2)}else{h=u;var g=m+c[1]-c[0];x[0]=Math.min(f,(g+f)/2),x[1]=Math.max(f,(g+f)/2)}var j=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>j[0]&&t<=j[1]||t>=x[0]&&t<=x[1]){o=a[d].index;break}}else{var y=Math.min(u,m),w=Math.max(u,m);if(t>(y+f)/2&&t<=(w+f)/2){o=a[d].index;break}}}else for(var b=0;b<l;b++)if(b===0&&t<=(s[b].coordinate+s[b+1].coordinate)/2||b>0&&b<l-1&&t>(s[b].coordinate+s[b-1].coordinate)/2&&t<=(s[b].coordinate+s[b+1].coordinate)/2||b===l-1&&t>(s[b].coordinate+s[b-1].coordinate)/2){o=s[b].index;break}return o},HO=function(t){var r,s=t,a=s.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Rn(Rn({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},i3e=function(t){var r=t.barSize,s=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,f=Object.keys(u),m=0,h=f.length;m<h;m++){var x=u[f[m]],p=x.items,g=x.cateAxisId,j=p.filter(function(S){return Mc(S.type).indexOf("Bar")>=0});if(j&&j.length){var y=j[0].type.defaultProps,w=y!==void 0?Rn(Rn({},y),j[0].props):j[0].props,b=w.barSize,N=w[g];o[N]||(o[N]=[]);var _=$t(b)?r:b;o[N].push({item:j[0],stackList:j.slice(1),barSize:$t(_)?void 0:ka(_,s,0)})}}return o},o3e=function(t){var r=t.barGap,s=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=ka(r,a,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,h=a/c,x=o.reduce(function(b,N){return b+N.barSize||0},0);x+=(c-1)*d,x>=a&&(x-=(c-1)*d,d=0),x>=a&&h>0&&(m=!0,h*=.9,x=c*h);var p=(a-x)/2>>0,g={offset:p-d,size:0};u=o.reduce(function(b,N){var _={item:N.item,position:{offset:g.offset+g.size+d,size:m?h:N.barSize}},S=[].concat(KF(b),[_]);return g=S[S.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(A){S.push({item:A,position:g})}),S},f)}else{var j=ka(s,a,0,!0);a-2*j-(c-1)*d<=0&&(d=0);var y=(a-2*j-(c-1)*d)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;u=o.reduce(function(b,N,_){var S=[].concat(KF(b),[{item:N.item,position:{offset:j+(y+d)*_+(y-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(A){S.push({item:A,position:S[S.length-1].position})}),S},f)}return u},l3e=function(t,r,s,a){var i=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),d=_G({children:i,legendWidth:c});if(d){var u=a||{},f=u.width,m=u.height,h=d.align,x=d.verticalAlign,p=d.layout;if((p==="vertical"||p==="horizontal"&&x==="middle")&&h!=="center"&&Xe(t[h]))return Rn(Rn({},t),{},jh({},h,t[h]+(f||0)));if((p==="horizontal"||p==="vertical"&&h==="center")&&x!=="middle"&&Xe(t[x]))return Rn(Rn({},t),{},jh({},x,t[x]+(m||0)))}return t},c3e=function(t,r,s){return $t(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||s==="x"?r==="xAxis":s==="y"?r==="yAxis":!0},SG=function(t,r,s,a,i){var o=r.props.children,l=Mi(o,my).filter(function(d){return c3e(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var f=Hn(u,s);if($t(f))return d;var m=Array.isArray(f)?[_2(f),Wd(f)]:[f,f],h=c.reduce(function(x,p){var g=Hn(u,p,0),j=m[0]-Math.abs(Array.isArray(g)?g[0]:g),y=m[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(j,x[0]),Math.max(y,x[1])]},[1/0,-1/0]);return[Math.min(h[0],d[0]),Math.max(h[1],d[1])]},[1/0,-1/0])}return null},d3e=function(t,r,s,a,i){var o=r.map(function(l){return SG(t,l,s,i,a)}).filter(function(l){return!$t(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},CG=function(t,r,s,a,i){var o=r.map(function(c){var d=c.props.dataKey;return s==="number"&&d&&SG(t,c,d,a)||kg(t,d,s,i)});if(s==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,f=d.length;u<f;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},AG=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},EG=function(t,r,s,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===s&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(s),l},Oc=function(t,r,s){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||s)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Pa(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var m=i?i.indexOf(f):f;return{coordinate:a(m)+d,value:f,offset:d}});return u.filter(function(f){return!tx(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:a(f)+d,value:f,index:m,offset:d}}):a.ticks&&!s?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+d,value:f,offset:d}}):a.domain().map(function(f,m){return{coordinate:a(f)+d,value:i?i[f]:f,index:m,offset:d}})},HS=new WeakMap,wj=function(t,r){if(typeof r!="function")return t;HS.has(t)||HS.set(t,new WeakMap);var s=HS.get(t);if(s.has(r))return s.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return s.set(r,a),a},PG=function(t,r,s){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:T0(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:U1(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!s)?{scale:Pg(),realScaleType:"point"}:i==="category"?{scale:T0(),realScaleType:"band"}:{scale:U1(),realScaleType:"linear"};if(oy(a)){var c="scale".concat(d2(a));return{scale:(VF[c]||Pg)(),realScaleType:VF[c]?c:"point"}}return Ot(a)?{scale:a}:{scale:Pg(),realScaleType:"point"}},XF=1e-4,kG=function(t){var r=t.domain();if(!(!r||r.length<=2)){var s=r.length,a=t.range(),i=Math.min(a[0],a[1])-XF,o=Math.max(a[0],a[1])+XF,l=t(r[0]),c=t(r[s-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[s-1]])}},u3e=function(t,r){if(!t)return null;for(var s=0,a=t.length;s<a;s++)if(t[s].item===r)return t[s].position;return null},f3e=function(t,r){if(!r||r.length!==2||!Xe(r[0])||!Xe(r[1]))return t;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Xe(t[0])||t[0]<s)&&(i[0]=s),(!Xe(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},m3e=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0,l=0;l<r;++l){var c=tx(t[l][s][1])?t[l][s][0]:t[l][s][1];c>=0?(t[l][s][0]=i,t[l][s][1]=i+c,i=t[l][s][1]):(t[l][s][0]=o,t[l][s][1]=o+c,o=t[l][s][1])}},h3e=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0;o<r;++o){var l=tx(t[o][s][1])?t[o][s][0]:t[o][s][1];l>=0?(t[o][s][0]=i,t[o][s][1]=i+l,i=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},p3e={sign:m3e,expand:I1e,none:np,silhouette:R1e,wiggle:M1e,positive:h3e},x3e=function(t,r,s){var a=r.map(function(l){return l.props.dataKey}),i=p3e[s],o=D1e().keys(a).value(function(l,c){return+Hn(l,c,0)}).order(LA).offset(i);return o(t)},g3e=function(t,r,s,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(f,m){var h,x=(h=m.type)!==null&&h!==void 0&&h.defaultProps?Rn(Rn({},m.type.defaultProps),m.props):m.props,p=x.stackId,g=x.hide;if(g)return f;var j=x[s],y=f[j]||{hasStack:!1,stackGroups:{}};if(ws(p)){var w=y.stackGroups[p]||{numericAxisId:s,cateAxisId:a,items:[]};w.items.push(m),y.hasStack=!0,y.stackGroups[p]=w}else y.stackGroups[fm("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[m]};return Rn(Rn({},f),{},jh({},j,y))},c),u={};return Object.keys(d).reduce(function(f,m){var h=d[m];if(h.hasStack){var x={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(p,g){var j=h.stackGroups[g];return Rn(Rn({},p),{},jh({},g,{numericAxisId:s,cateAxisId:a,items:j.items,stackedData:x3e(t,j.items,i)}))},x)}return Rn(Rn({},f),{},jh({},m,h))},u)},TG=function(t,r){var s=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=s||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=TOe(d,i,l);return t.domain([_2(u),Wd(u)]),{niceTicks:u}}if(i&&a==="number"){var f=t.domain(),m=OOe(f,i,l);return{niceTicks:m}}return null};function K1(e){var t=e.axis,r=e.ticks,s=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!$t(a[t.dataKey])){var l=j1(r,"value",a[t.dataKey]);if(l)return l.coordinate+s/2}return r[i]?r[i].coordinate+s/2:null}var c=Hn(a,$t(o)?t.dataKey:o);return $t(c)?null:t.scale(c)}var QF=function(t){var r=t.axis,s=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return s[l]?s[l].coordinate+a:null;var c=Hn(o,r.dataKey,r.domain[l]);return $t(c)?null:r.scale(c)-i/2+a},v3e=function(t){var r=t.numericAxis,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},y3e=function(t,r){var s,a=(s=t.type)!==null&&s!==void 0&&s.defaultProps?Rn(Rn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(ws(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},j3e=function(t){return t.reduce(function(r,s){return[_2(s.concat([r[0]]).filter(Xe)),Wd(s.concat([r[1]]).filter(Xe))]},[1/0,-1/0])},OG=function(t,r,s){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,u){var f=j3e(u.slice(r,s+1));return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},ZF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pE=function(t,r,s){if(Ot(t))return t(r,s);if(!Array.isArray(t))return r;var a=[];if(Xe(t[0]))a[0]=s?t[0]:Math.min(t[0],r[0]);else if(ZF.test(t[0])){var i=+ZF.exec(t[0])[1];a[0]=r[0]-i}else Ot(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Xe(t[1]))a[1]=s?t[1]:Math.max(t[1],r[1]);else if(JF.test(t[1])){var o=+JF.exec(t[1])[1];a[1]=r[1]+o}else Ot(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Y1=function(t,r,s){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!s||a>0)return a}if(t&&r&&r.length>=2){for(var i=yO(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},e6=function(t,r,s){return!t||!t.length||Xf(t,Ri(s,"type.defaultProps.domain"))?r:t},DG=function(t,r){var s=t.type.defaultProps?Rn(Rn({},t.type.defaultProps),t.props):t.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,d=s.chartType,u=s.hide;return Rn(Rn({},wt(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:HO(t),value:Hn(r,a),type:c,payload:r,chartType:d,hide:u})};function B0(e){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B0(e)}function t6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function jc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t6(Object(r),!0).forEach(function(s){IG(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function IG(e,t,r){return t=b3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b3e(e){var t=w3e(e,"string");return B0(t)=="symbol"?t:t+""}function w3e(e,t){if(B0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(B0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N3e(e,t){return A3e(e)||C3e(e,t)||S3e(e,t)||_3e()}function _3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S3e(e,t){if(e){if(typeof e=="string")return r6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r6(e,t)}}function r6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function C3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function A3e(e){if(Array.isArray(e))return e}var X1=Math.PI/180,E3e=function(t){return t*180/Math.PI},Qr=function(t,r,s,a){return{x:t+Math.cos(-X1*a)*s,y:r+Math.sin(-X1*a)*s}},RG=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(r-(s.top||0)-(s.bottom||0)))/2},P3e=function(t,r,s,a,i){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=ka(t.cx,o,o/2),f=ka(t.cy,l,l/2),m=RG(o,l,s),h=ka(t.innerRadius,m,0),x=ka(t.outerRadius,m,m*.8),p=Object.keys(r);return p.reduce(function(g,j){var y=r[j],w=y.domain,b=y.reversed,N;if($t(y.range))a==="angleAxis"?N=[c,d]:a==="radiusAxis"&&(N=[h,x]),b&&(N=[N[1],N[0]]);else{N=y.range;var _=N,S=N3e(_,2);c=S[0],d=S[1]}var A=PG(y,i),E=A.realScaleType,P=A.scale;P.domain(w).range(N),kG(P);var D=TG(P,jc(jc({},y),{},{realScaleType:E})),I=jc(jc(jc({},y),D),{},{range:N,radius:x,realScaleType:E,scale:P,cx:u,cy:f,innerRadius:h,outerRadius:x,startAngle:c,endAngle:d});return jc(jc({},g),{},IG({},j,I))},{})},k3e=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},T3e=function(t,r){var s=t.x,a=t.y,i=r.cx,o=r.cy,l=k3e({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(s-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:E3e(d),angleInRadian:d}},O3e=function(t){var r=t.startAngle,s=t.endAngle,a=Math.floor(r/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:s-o*360}},D3e=function(t,r){var s=r.startAngle,a=r.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},n6=function(t,r){var s=t.x,a=t.y,i=T3e({x:s,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=O3e(r),f=u.startAngle,m=u.endAngle,h=l,x;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;x=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;x=h>=m&&h<=f}return x?jc(jc({},r),{},{radius:o,angle:D3e(h,r)}):null},MG=function(t){return!v.isValidElement(t)&&!Ot(t)&&typeof t!="boolean"?t.className:""};function U0(e){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U0(e)}var I3e=["offset"];function R3e(e){return L3e(e)||$3e(e)||F3e(e)||M3e()}function M3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F3e(e,t){if(e){if(typeof e=="string")return xE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xE(e,t)}}function $3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function L3e(e){if(Array.isArray(e))return xE(e)}function xE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function B3e(e,t){if(e==null)return{};var r=U3e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function U3e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function s6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s6(Object(r),!0).forEach(function(s){V3e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function V3e(e,t,r){return t=z3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z3e(e){var t=W3e(e,"string");return U0(t)=="symbol"?t:t+""}function W3e(e,t){if(U0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(U0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},V0.apply(this,arguments)}var H3e=function(t){var r=t.value,s=t.formatter,a=$t(t.children)?r:t.children;return Ot(s)?s(a):a},q3e=function(t,r){var s=Pa(r-t),a=Math.min(Math.abs(r-t),360);return s*a},G3e=function(t,r,s){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,u=c.cy,f=c.innerRadius,m=c.outerRadius,h=c.startAngle,x=c.endAngle,p=c.clockWise,g=(f+m)/2,j=q3e(h,x),y=j>=0?1:-1,w,b;a==="insideStart"?(w=h+y*o,b=p):a==="insideEnd"?(w=x-y*o,b=!p):a==="end"&&(w=x+y*o,b=p),b=j<=0?b:!b;var N=Qr(d,u,g,w),_=Qr(d,u,g,w+(b?1:-1)*359),S="M".concat(N.x,",").concat(N.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(_.x,",").concat(_.y),A=$t(t.id)?fm("recharts-radial-line-"):t.id;return z.createElement("text",V0({},s,{dominantBaseline:"central",className:Vt("recharts-radial-bar-label",l)}),z.createElement("defs",null,z.createElement("path",{id:A,d:S})),z.createElement("textPath",{xlinkHref:"#".concat(A)},r))},K3e=function(t){var r=t.viewBox,s=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,f=i.endAngle,m=(u+f)/2;if(a==="outside"){var h=Qr(o,l,d+s,m),x=h.x,p=h.y;return{x,y:p,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+d)/2,j=Qr(o,l,g,m),y=j.x,w=j.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Y3e=function(t){var r=t.viewBox,s=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,f=u>=0?1:-1,m=f*a,h=f>0?"end":"start",x=f>0?"start":"end",p=d>=0?1:-1,g=p*a,j=p>0?"end":"start",y=p>0?"start":"end";if(i==="top"){var w={x:l+d/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return cs(cs({},w),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var b={x:l+d/2,y:c+u+m,textAnchor:"middle",verticalAnchor:x};return cs(cs({},b),s?{height:Math.max(s.y+s.height-(c+u),0),width:d}:{})}if(i==="left"){var N={x:l-g,y:c+u/2,textAnchor:j,verticalAnchor:"middle"};return cs(cs({},N),s?{width:Math.max(N.x-s.x,0),height:u}:{})}if(i==="right"){var _={x:l+d+g,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return cs(cs({},_),s?{width:Math.max(s.x+s.width-_.x,0),height:u}:{})}var S=s?{width:d,height:u}:{};return i==="insideLeft"?cs({x:l+g,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},S):i==="insideRight"?cs({x:l+d-g,y:c+u/2,textAnchor:j,verticalAnchor:"middle"},S):i==="insideTop"?cs({x:l+d/2,y:c+m,textAnchor:"middle",verticalAnchor:x},S):i==="insideBottom"?cs({x:l+d/2,y:c+u-m,textAnchor:"middle",verticalAnchor:h},S):i==="insideTopLeft"?cs({x:l+g,y:c+m,textAnchor:y,verticalAnchor:x},S):i==="insideTopRight"?cs({x:l+d-g,y:c+m,textAnchor:j,verticalAnchor:x},S):i==="insideBottomLeft"?cs({x:l+g,y:c+u-m,textAnchor:y,verticalAnchor:h},S):i==="insideBottomRight"?cs({x:l+d-g,y:c+u-m,textAnchor:j,verticalAnchor:h},S):Qp(i)&&(Xe(i.x)||df(i.x))&&(Xe(i.y)||df(i.y))?cs({x:l+ka(i.x,d),y:c+ka(i.y,u),textAnchor:"end",verticalAnchor:"end"},S):cs({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},S)},X3e=function(t){return"cx"in t&&Xe(t.cx)};function As(e){var t=e.offset,r=t===void 0?5:t,s=B3e(e,I3e),a=cs({offset:r},s),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,f=u===void 0?"":u,m=a.textBreakAll;if(!i||$t(l)&&$t(c)&&!v.isValidElement(d)&&!Ot(d))return null;if(v.isValidElement(d))return v.cloneElement(d,a);var h;if(Ot(d)){if(h=v.createElement(d,a),v.isValidElement(h))return h}else h=H3e(a);var x=X3e(i),p=wt(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return G3e(a,h,p);var g=x?K3e(a):Y3e(a);return z.createElement(Yf,V0({className:Vt("recharts-label",f)},p,g,{breakAll:m}),h)}As.displayName="Label";var FG=function(t){var r=t.cx,s=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,f=t.x,m=t.y,h=t.top,x=t.left,p=t.width,g=t.height,j=t.clockWise,y=t.labelViewBox;if(y)return y;if(Xe(p)&&Xe(g)){if(Xe(f)&&Xe(m))return{x:f,y:m,width:p,height:g};if(Xe(h)&&Xe(x))return{x:h,y:x,width:p,height:g}}return Xe(f)&&Xe(m)?{x:f,y:m,width:0,height:0}:Xe(r)&&Xe(s)?{cx:r,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:j}:t.viewBox?t.viewBox:{}},Q3e=function(t,r){return t?t===!0?z.createElement(As,{key:"label-implicit",viewBox:r}):ws(t)?z.createElement(As,{key:"label-implicit",viewBox:r,value:t}):v.isValidElement(t)?t.type===As?v.cloneElement(t,{key:"label-implicit",viewBox:r}):z.createElement(As,{key:"label-implicit",content:t,viewBox:r}):Ot(t)?z.createElement(As,{key:"label-implicit",content:t,viewBox:r}):Qp(t)?z.createElement(As,V0({viewBox:r},t,{key:"label-implicit"})):null:null},Z3e=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var a=t.children,i=FG(t),o=Mi(a,As).map(function(c,d){return v.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!s)return o;var l=Q3e(t.label,r||i);return[l].concat(R3e(o))};As.parseViewBox=FG;As.renderCallByParent=Z3e;function J3e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var eDe=J3e;const tDe=Pr(eDe);function z0(e){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z0(e)}var rDe=["valueAccessor"],nDe=["data","dataKey","clockWise","id","textBreakAll"];function sDe(e){return lDe(e)||oDe(e)||iDe(e)||aDe()}function aDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iDe(e,t){if(e){if(typeof e=="string")return gE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gE(e,t)}}function oDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lDe(e){if(Array.isArray(e))return gE(e)}function gE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Q1(){return Q1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Q1.apply(this,arguments)}function a6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function i6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a6(Object(r),!0).forEach(function(s){cDe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function cDe(e,t,r){return t=dDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dDe(e){var t=uDe(e,"string");return z0(t)=="symbol"?t:t+""}function uDe(e,t){if(z0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(z0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o6(e,t){if(e==null)return{};var r=fDe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function fDe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var mDe=function(t){return Array.isArray(t.value)?tDe(t.value):t.value};function Kl(e){var t=e.valueAccessor,r=t===void 0?mDe:t,s=o6(e,rDe),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,d=o6(s,nDe);return!a||!a.length?null:z.createElement(tr,{className:"recharts-label-list"},a.map(function(u,f){var m=$t(i)?r(u,f):Hn(u&&u.payload,i),h=$t(l)?{}:{id:"".concat(l,"-").concat(f)};return z.createElement(As,Q1({},wt(u,!0),d,h,{parentViewBox:u.parentViewBox,value:m,textBreakAll:c,viewBox:As.parseViewBox($t(o)?u:i6(i6({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Kl.displayName="LabelList";function hDe(e,t){return e?e===!0?z.createElement(Kl,{key:"labelList-implicit",data:t}):z.isValidElement(e)||Ot(e)?z.createElement(Kl,{key:"labelList-implicit",data:t,content:e}):Qp(e)?z.createElement(Kl,Q1({data:t},e,{key:"labelList-implicit"})):null:null}function pDe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var s=e.children,a=Mi(s,Kl).map(function(o,l){return v.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=hDe(e.label,t);return[i].concat(sDe(a))}Kl.renderCallByParent=pDe;function W0(e){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W0(e)}function vE(){return vE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},vE.apply(this,arguments)}function l6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function c6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l6(Object(r),!0).forEach(function(s){xDe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function xDe(e,t,r){return t=gDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gDe(e){var t=vDe(e,"string");return W0(t)=="symbol"?t:t+""}function vDe(e,t){if(W0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(W0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yDe=function(t,r){var s=Pa(r-t),a=Math.min(Math.abs(r-t),359.999);return s*a},Nj=function(t){var r=t.cx,s=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+a,f=Math.asin(c/u)/X1,m=d?i:i+o*f,h=Qr(r,s,u,m),x=Qr(r,s,a,m),p=d?i-o*f:i,g=Qr(r,s,u*Math.cos(f*X1),p);return{center:h,circleTangency:x,lineTangency:g,theta:f}},$G=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=yDe(o,l),d=o+c,u=Qr(r,s,i,o),f=Qr(r,s,i,d),m="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=Qr(r,s,a,o),x=Qr(r,s,a,d);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(r,",").concat(s," Z");return m},jDe=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,f=Pa(u-d),m=Nj({cx:r,cy:s,radius:i,angle:d,sign:f,cornerRadius:o,cornerIsExternal:c}),h=m.circleTangency,x=m.lineTangency,p=m.theta,g=Nj({cx:r,cy:s,radius:i,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:c}),j=g.circleTangency,y=g.lineTangency,w=g.theta,b=c?Math.abs(d-u):Math.abs(d-u)-p-w;if(b<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):$G({cx:r,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var N="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var _=Nj({cx:r,cy:s,radius:a,angle:d,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),S=_.circleTangency,A=_.lineTangency,E=_.theta,P=Nj({cx:r,cy:s,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),D=P.circleTangency,I=P.lineTangency,W=P.theta,H=c?Math.abs(d-u):Math.abs(d-u)-E-W;if(H<0&&o===0)return"".concat(N,"L").concat(r,",").concat(s,"Z");N+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(H>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else N+="L".concat(r,",").concat(s,"Z");return N},bDe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},LG=function(t){var r=c6(c6({},bDe),t),s=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,m=r.className;if(o<i||u===f)return null;var h=Vt("recharts-sector",m),x=o-i,p=ka(l,x,0,!0),g;return p>0&&Math.abs(u-f)<360?g=jDe({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:f}):g=$G({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:f}),z.createElement("path",vE({},wt(r,!0),{className:h,d:g,role:"img"}))};function H0(e){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H0(e)}function yE(){return yE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},yE.apply(this,arguments)}function d6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function u6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d6(Object(r),!0).forEach(function(s){wDe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function wDe(e,t,r){return t=NDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NDe(e){var t=_De(e,"string");return H0(t)=="symbol"?t:t+""}function _De(e,t){if(H0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(H0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f6={curveBasisClosed:w1e,curveBasisOpen:N1e,curveBasis:b1e,curveBumpX:o1e,curveBumpY:l1e,curveLinearClosed:_1e,curveLinear:f2,curveMonotoneX:S1e,curveMonotoneY:C1e,curveNatural:A1e,curveStep:E1e,curveStepAfter:k1e,curveStepBefore:P1e},_j=function(t){return t.x===+t.x&&t.y===+t.y},Gx=function(t){return t.x},Kx=function(t){return t.y},SDe=function(t,r){if(Ot(t))return t;var s="curve".concat(d2(t));return(s==="curveMonotone"||s==="curveBump")&&r?f6["".concat(s).concat(r==="vertical"?"Y":"X")]:f6[s]||f2},CDe=function(t){var r=t.type,s=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=SDe(s,l),f=d?i.filter(function(p){return _j(p)}):i,m;if(Array.isArray(o)){var h=d?o.filter(function(p){return _j(p)}):o,x=f.map(function(p,g){return u6(u6({},p),{},{base:h[g]})});return l==="vertical"?m=hj().y(Kx).x1(Gx).x0(function(p){return p.base.x}):m=hj().x(Gx).y1(Kx).y0(function(p){return p.base.y}),m.defined(_j).curve(u),m(x)}return l==="vertical"&&Xe(o)?m=hj().y(Kx).x1(Gx).x0(o):Xe(o)?m=hj().x(Gx).y1(Kx).y0(o):m=DH().x(Gx).y(Kx),m.defined(_j).curve(u),m(f)},Pf=function(t){var r=t.className,s=t.points,a=t.path,i=t.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?CDe(t):a;return z.createElement("path",yE({},wt(t,!1),b1(t),{className:Vt("recharts-curve",r),d:o,ref:i}))},BG={exports:{}},ADe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",EDe=ADe,PDe=EDe;function UG(){}function VG(){}VG.resetWarningCache=UG;var kDe=function(){function e(s,a,i,o,l,c){if(c!==PDe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:VG,resetWarningCache:UG};return r.PropTypes=r,r};BG.exports=kDe();var TDe=BG.exports;const Kt=Pr(TDe);var ODe=Object.getOwnPropertyNames,DDe=Object.getOwnPropertySymbols,IDe=Object.prototype.hasOwnProperty;function m6(e,t){return function(s,a,i){return e(s,a,i)&&t(s,a,i)}}function Sj(e){return function(r,s,a){if(!r||!s||typeof r!="object"||typeof s!="object")return e(r,s,a);var i=a.cache,o=i.get(r),l=i.get(s);if(o&&l)return o===s&&l===r;i.set(r,s),i.set(s,r);var c=e(r,s,a);return i.delete(r),i.delete(s),c}}function h6(e){return ODe(e).concat(DDe(e))}var zG=Object.hasOwn||function(e,t){return IDe.call(e,t)};function lx(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var WG="_owner",p6=Object.getOwnPropertyDescriptor,x6=Object.keys;function RDe(e,t,r){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!r.equals(e[s],t[s],s,s,e,t,r))return!1;return!0}function MDe(e,t){return lx(e.getTime(),t.getTime())}function g6(e,t,r){if(e.size!==t.size)return!1;for(var s={},a=e.entries(),i=0,o,l;(o=a.next())&&!o.done;){for(var c=t.entries(),d=!1,u=0;(l=c.next())&&!l.done;){var f=o.value,m=f[0],h=f[1],x=l.value,p=x[0],g=x[1];!d&&!s[u]&&(d=r.equals(m,p,i,u,e,t,r)&&r.equals(h,g,m,p,e,t,r))&&(s[u]=!0),u++}if(!d)return!1;i++}return!0}function FDe(e,t,r){var s=x6(e),a=s.length;if(x6(t).length!==a)return!1;for(var i;a-- >0;)if(i=s[a],i===WG&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!zG(t,i)||!r.equals(e[i],t[i],i,i,e,t,r))return!1;return!0}function Yx(e,t,r){var s=h6(e),a=s.length;if(h6(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=s[a],i===WG&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!zG(t,i)||!r.equals(e[i],t[i],i,i,e,t,r)||(o=p6(e,i),l=p6(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function $De(e,t){return lx(e.valueOf(),t.valueOf())}function LDe(e,t){return e.source===t.source&&e.flags===t.flags}function v6(e,t,r){if(e.size!==t.size)return!1;for(var s={},a=e.values(),i,o;(i=a.next())&&!i.done;){for(var l=t.values(),c=!1,d=0;(o=l.next())&&!o.done;)!c&&!s[d]&&(c=r.equals(i.value,o.value,i.value,o.value,e,t,r))&&(s[d]=!0),d++;if(!c)return!1}return!0}function BDe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var UDe="[object Arguments]",VDe="[object Boolean]",zDe="[object Date]",WDe="[object Map]",HDe="[object Number]",qDe="[object Object]",GDe="[object RegExp]",KDe="[object Set]",YDe="[object String]",XDe=Array.isArray,y6=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,j6=Object.assign,QDe=Object.prototype.toString.call.bind(Object.prototype.toString);function ZDe(e){var t=e.areArraysEqual,r=e.areDatesEqual,s=e.areMapsEqual,a=e.areObjectsEqual,i=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(u,f,m){if(u===f)return!0;if(u==null||f==null||typeof u!="object"||typeof f!="object")return u!==u&&f!==f;var h=u.constructor;if(h!==f.constructor)return!1;if(h===Object)return a(u,f,m);if(XDe(u))return t(u,f,m);if(y6!=null&&y6(u))return c(u,f,m);if(h===Date)return r(u,f,m);if(h===RegExp)return o(u,f,m);if(h===Map)return s(u,f,m);if(h===Set)return l(u,f,m);var x=QDe(u);return x===zDe?r(u,f,m):x===GDe?o(u,f,m):x===WDe?s(u,f,m):x===KDe?l(u,f,m):x===qDe?typeof u.then!="function"&&typeof f.then!="function"&&a(u,f,m):x===UDe?a(u,f,m):x===VDe||x===HDe||x===YDe?i(u,f,m):!1}}function JDe(e){var t=e.circular,r=e.createCustomConfig,s=e.strict,a={areArraysEqual:s?Yx:RDe,areDatesEqual:MDe,areMapsEqual:s?m6(g6,Yx):g6,areObjectsEqual:s?Yx:FDe,arePrimitiveWrappersEqual:$De,areRegExpsEqual:LDe,areSetsEqual:s?m6(v6,Yx):v6,areTypedArraysEqual:s?Yx:BDe};if(r&&(a=j6({},a,r(a))),t){var i=Sj(a.areArraysEqual),o=Sj(a.areMapsEqual),l=Sj(a.areObjectsEqual),c=Sj(a.areSetsEqual);a=j6({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function e5e(e){return function(t,r,s,a,i,o,l){return e(t,r,l)}}function t5e(e){var t=e.circular,r=e.comparator,s=e.createState,a=e.equals,i=e.strict;if(s)return function(c,d){var u=s(),f=u.cache,m=f===void 0?t?new WeakMap:void 0:f,h=u.meta;return r(c,d,{cache:m,equals:a,meta:h,strict:i})};if(t)return function(c,d){return r(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var r5e=Iu();Iu({strict:!0});Iu({circular:!0});Iu({circular:!0,strict:!0});Iu({createInternalComparator:function(){return lx}});Iu({strict:!0,createInternalComparator:function(){return lx}});Iu({circular:!0,createInternalComparator:function(){return lx}});Iu({circular:!0,createInternalComparator:function(){return lx},strict:!0});function Iu(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,s=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=JDe(e),c=ZDe(l),d=s?s(c):e5e(c);return t5e({circular:r,comparator:c,createState:a,equals:d,strict:o})}function n5e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function b6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,s=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):n5e(a)};requestAnimationFrame(s)}function jE(e){"@babel/helpers - typeof";return jE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jE(e)}function s5e(e){return l5e(e)||o5e(e)||i5e(e)||a5e()}function a5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i5e(e,t){if(e){if(typeof e=="string")return w6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w6(e,t)}}function w6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function o5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l5e(e){if(Array.isArray(e))return e}function c5e(){var e={},t=function(){return null},r=!1,s=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=s5e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){b6(a.bind(null,d),c);return}a(c),b6(a.bind(null,d));return}jE(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,s(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function q0(e){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q0(e)}function N6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function _6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N6(Object(r),!0).forEach(function(s){HG(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function HG(e,t,r){return t=d5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d5e(e){var t=u5e(e,"string");return q0(t)==="symbol"?t:String(t)}function u5e(e,t){if(q0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(q0(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f5e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},m5e=function(t){return t},h5e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Tg=function(t,r){return Object.keys(r).reduce(function(s,a){return _6(_6({},s),{},HG({},a,t(a,r[a])))},{})},S6=function(t,r,s){return t.map(function(a){return"".concat(h5e(a)," ").concat(r,"ms ").concat(s)}).join(",")};function p5e(e,t){return v5e(e)||g5e(e,t)||qG(e,t)||x5e()}function x5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function v5e(e){if(Array.isArray(e))return e}function y5e(e){return w5e(e)||b5e(e)||qG(e)||j5e()}function j5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qG(e,t){if(e){if(typeof e=="string")return bE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bE(e,t)}}function b5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w5e(e){if(Array.isArray(e))return bE(e)}function bE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var Z1=1e-4,GG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},KG=function(t,r){return t.map(function(s,a){return s*Math.pow(r,a)}).reduce(function(s,a){return s+a})},C6=function(t,r){return function(s){var a=GG(t,r);return KG(a,s)}},N5e=function(t,r){return function(s){var a=GG(t,r),i=[].concat(y5e(a.map(function(o,l){return o*l}).slice(1)),[0]);return KG(i,s)}},A6=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=p5e(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var f=C6(a,o),m=C6(i,l),h=N5e(a,o),x=function(j){return j>1?1:j<0?0:j},p=function(j){for(var y=j>1?1:j,w=y,b=0;b<8;++b){var N=f(w)-y,_=h(w);if(Math.abs(N-y)<Z1||_<Z1)return m(w);w=x(w-N/_)}return m(w)};return p.isStepper=!1,p},_5e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,s=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(u,f,m){var h=-(u-f)*s,x=m*i,p=m+(h-x)*l/1e3,g=m*l/1e3+u;return Math.abs(g-f)<Z1&&Math.abs(p)<Z1?[f,0]:[g,p]};return c.isStepper=!0,c.dt=l,c},S5e=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return A6(a);case"spring":return _5e();default:if(a.split("(")[0]==="cubic-bezier")return A6(a)}return typeof a=="function"?a:null};function G0(e){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G0(e)}function E6(e){return E5e(e)||A5e(e)||YG(e)||C5e()}function C5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function E5e(e){if(Array.isArray(e))return NE(e)}function P6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Us(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P6(Object(r),!0).forEach(function(s){wE(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function wE(e,t,r){return t=P5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P5e(e){var t=k5e(e,"string");return G0(t)==="symbol"?t:String(t)}function k5e(e,t){if(G0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(G0(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T5e(e,t){return I5e(e)||D5e(e,t)||YG(e,t)||O5e()}function O5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YG(e,t){if(e){if(typeof e=="string")return NE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NE(e,t)}}function NE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function D5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function I5e(e){if(Array.isArray(e))return e}var J1=function(t,r,s){return t+(r-t)*s},_E=function(t){var r=t.from,s=t.to;return r!==s},R5e=function e(t,r,s){var a=Tg(function(i,o){if(_E(o)){var l=t(o.from,o.to,o.velocity),c=T5e(l,2),d=c[0],u=c[1];return Us(Us({},o),{},{from:d,velocity:u})}return o},r);return s<1?Tg(function(i,o){return _E(o)?Us(Us({},o),{},{velocity:J1(o.velocity,a[i].velocity,s),from:J1(o.from,a[i].from,s)}):o},r):e(t,a,s-1)};const M5e=function(e,t,r,s,a){var i=f5e(e,t),o=i.reduce(function(g,j){return Us(Us({},g),{},wE({},j,[e[j],t[j]]))},{}),l=i.reduce(function(g,j){return Us(Us({},g),{},wE({},j,{from:e[j],velocity:0,to:t[j]}))},{}),c=-1,d,u,f=function(){return null},m=function(){return Tg(function(j,y){return y.from},l)},h=function(){return!Object.values(l).filter(_E).length},x=function(j){d||(d=j);var y=j-d,w=y/r.dt;l=R5e(r,l,w),a(Us(Us(Us({},e),t),m())),d=j,h()||(c=requestAnimationFrame(f))},p=function(j){u||(u=j);var y=(j-u)/s,w=Tg(function(N,_){return J1.apply(void 0,E6(_).concat([r(y)]))},o);if(a(Us(Us(Us({},e),t),w)),y<1)c=requestAnimationFrame(f);else{var b=Tg(function(N,_){return J1.apply(void 0,E6(_).concat([r(1)]))},o);a(Us(Us(Us({},e),t),b))}};return f=r.isStepper?x:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}var F5e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function $5e(e,t){if(e==null)return{};var r=L5e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function L5e(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function qS(e){return z5e(e)||V5e(e)||U5e(e)||B5e()}function B5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U5e(e,t){if(e){if(typeof e=="string")return SE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SE(e,t)}}function V5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function z5e(e){if(Array.isArray(e))return SE(e)}function SE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function k6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k6(Object(r),!0).forEach(function(s){dg(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function dg(e,t,r){return t=XG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H5e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,XG(s.key),s)}}function q5e(e,t,r){return t&&H5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XG(e){var t=G5e(e,"string");return fp(t)==="symbol"?t:String(t)}function G5e(e,t){if(fp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(fp(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CE(e,t)}function CE(e,t){return CE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},CE(e,t)}function Y5e(e){var t=X5e();return function(){var s=ew(e),a;if(t){var i=ew(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return AE(this,a)}}function AE(e,t){if(t&&(fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EE(e)}function EE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X5e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ew(e){return ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ew(e)}var dl=function(e){K5e(r,e);var t=Y5e(r);function r(s,a){var i;W5e(this,r),i=t.call(this,s,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,f=o.steps,m=o.children,h=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(EE(i)),i.changeStyle=i.changeStyle.bind(EE(i)),!l||h<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:u}),AE(i);if(f&&f.length)i.state={style:f[0].style};else if(d){if(typeof m=="function")return i.state={style:d},AE(i);i.state={style:c?dg({},c,d):d}}else i.state={style:{}};return i}return q5e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,f=i.from,m=this.state.style;if(l){if(!o){var h={style:c?dg({},c,u):u};this.state&&m&&(c&&m[c]!==u||!c&&m!==u)&&this.setState(h);return}if(!(r5e(a.to,u)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=x||d?f:a.to;if(this.state&&m){var g={style:c?dg({},c,p):p};(c&&m[c]!==p||!c&&m!==p)&&this.setState(g)}this.runAnimation(Ro(Ro({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,h=M5e(o,l,S5e(d),c,this.changeStyle),x=function(){i.stopJSAnimation=h()};this.manager.start([m,u,x,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,f=d.duration,m=f===void 0?0:f,h=function(p,g,j){if(j===0)return p;var y=g.duration,w=g.easing,b=w===void 0?"ease":w,N=g.style,_=g.properties,S=g.onAnimationEnd,A=j>0?o[j-1]:g,E=_||Object.keys(N);if(typeof b=="function"||b==="spring")return[].concat(qS(p),[i.runJSAnimation.bind(i,{from:A.style,to:N,duration:y,easing:b}),y]);var P=S6(E,y,b),D=Ro(Ro(Ro({},A.style),N),{},{transition:P});return[].concat(qS(p),[D,y,S]).filter(m5e)};return this.manager.start([c].concat(qS(o.reduce(h,[u,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=c5e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,h=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof d=="function"||typeof h=="function"||d==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var p=l?dg({},l,c):c,g=S6(Object.keys(p),o,d);x.start([u,i,Ro(Ro({},p),{},{transition:g}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=$5e(a,F5e),d=v.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var f=function(h){var x=h.props,p=x.style,g=p===void 0?{}:p,j=x.className,y=v.cloneElement(h,Ro(Ro({},c),{},{style:Ro(Ro({},g),u),className:j}));return y};return d===1?f(v.Children.only(i)):z.createElement("div",null,v.Children.map(i,function(m){return f(m)}))}}]),r}(v.PureComponent);dl.displayName="Animate";dl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};dl.propTypes={from:Kt.oneOfType([Kt.object,Kt.string]),to:Kt.oneOfType([Kt.object,Kt.string]),attributeName:Kt.string,duration:Kt.number,begin:Kt.number,easing:Kt.oneOfType([Kt.string,Kt.func]),steps:Kt.arrayOf(Kt.shape({duration:Kt.number.isRequired,style:Kt.object.isRequired,easing:Kt.oneOfType([Kt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Kt.func]),properties:Kt.arrayOf("string"),onAnimationEnd:Kt.func})),children:Kt.oneOfType([Kt.node,Kt.func]),isActive:Kt.bool,canBegin:Kt.bool,onAnimationEnd:Kt.func,shouldReAnimate:Kt.bool,onAnimationStart:Kt.func,onAnimationReStart:Kt.func};Kt.object,Kt.object,Kt.object,Kt.element;Kt.object,Kt.object,Kt.object,Kt.oneOfType([Kt.array,Kt.element]),Kt.any;function K0(e){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K0(e)}function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},tw.apply(this,arguments)}function Q5e(e,t){return tIe(e)||eIe(e,t)||J5e(e,t)||Z5e()}function Z5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J5e(e,t){if(e){if(typeof e=="string")return T6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T6(e,t)}}function T6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function eIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function tIe(e){if(Array.isArray(e))return e}function O6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function D6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O6(Object(r),!0).forEach(function(s){rIe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function rIe(e,t,r){return t=nIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nIe(e){var t=sIe(e,"string");return K0(t)=="symbol"?t:t+""}function sIe(e,t){if(K0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(K0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I6=function(t,r,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,u;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],m=0,h=4;m<h;m++)f[m]=i[m]>o?o:i[m];u="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(t+c*f[0],",").concat(r)),u+="L ".concat(t+s-c*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(t+s,",").concat(r+l*f[1])),u+="L ".concat(t+s,",").concat(r+a-l*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(t+s-c*f[2],",").concat(r+a)),u+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+a-l*f[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);u="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+s-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+s,",").concat(r+l*x,`
            L `).concat(t+s,",").concat(r+a-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t+s-c*x,",").concat(r+a,`
            L `).concat(t+c*x,",").concat(r+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(t,",").concat(r+a-l*x," Z")}else u="M ".concat(t,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return u},aIe=function(t,r){if(!t||!r)return!1;var s=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return s>=d&&s<=u&&a>=f&&a<=m}return!1},iIe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qO=function(t){var r=D6(D6({},iIe),t),s=v.useRef(),a=v.useState(-1),i=Q5e(a,2),o=i[0],l=i[1];v.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var b=s.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,d=r.y,u=r.width,f=r.height,m=r.radius,h=r.className,x=r.animationEasing,p=r.animationDuration,g=r.animationBegin,j=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||u===0||f===0)return null;var w=Vt("recharts-rectangle",h);return y?z.createElement(dl,{canBegin:o>0,from:{width:u,height:f,x:c,y:d},to:{width:u,height:f,x:c,y:d},duration:p,animationEasing:x,isActive:y},function(b){var N=b.width,_=b.height,S=b.x,A=b.y;return z.createElement(dl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,isActive:j,easing:x},z.createElement("path",tw({},wt(r,!0),{className:w,d:I6(S,A,N,_,m),ref:s})))}):z.createElement("path",tw({},wt(r,!0),{className:w,d:I6(c,d,u,f,m)}))},oIe=["points","className","baseLinePoints","connectNulls"];function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},eh.apply(this,arguments)}function lIe(e,t){if(e==null)return{};var r=cIe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function cIe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function R6(e){return mIe(e)||fIe(e)||uIe(e)||dIe()}function dIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uIe(e,t){if(e){if(typeof e=="string")return PE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PE(e,t)}}function fIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mIe(e){if(Array.isArray(e))return PE(e)}function PE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var M6=function(t){return t&&t.x===+t.x&&t.y===+t.y},hIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(s){M6(s)?r[r.length-1].push(s):r[r.length-1].length>0&&r.push([])}),M6(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Og=function(t,r){var s=hIe(t);r&&(s=[s.reduce(function(i,o){return[].concat(R6(i),R6(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},pIe=function(t,r,s){var a=Og(t,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Og(r.reverse(),s).slice(1))},xIe=function(t){var r=t.points,s=t.className,a=t.baseLinePoints,i=t.connectNulls,o=lIe(t,oIe);if(!r||!r.length)return null;var l=Vt("recharts-polygon",s);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=pIe(r,a,i);return z.createElement("g",{className:l},z.createElement("path",eh({},wt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?z.createElement("path",eh({},wt(o,!0),{fill:"none",d:Og(r,i)})):null,c?z.createElement("path",eh({},wt(o,!0),{fill:"none",d:Og(a,i)})):null)}var u=Og(r,i);return z.createElement("path",eh({},wt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function kE(){return kE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},kE.apply(this,arguments)}var hy=function(t){var r=t.cx,s=t.cy,a=t.r,i=t.className,o=Vt("recharts-dot",i);return r===+r&&s===+s&&a===+a?z.createElement("circle",kE({},wt(t,!1),b1(t),{className:o,cx:r,cy:s,r:a})):null};function Y0(e){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y0(e)}var gIe=["x","y","top","left","width","height","className"];function TE(){return TE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},TE.apply(this,arguments)}function F6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function vIe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F6(Object(r),!0).forEach(function(s){yIe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function yIe(e,t,r){return t=jIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jIe(e){var t=bIe(e,"string");return Y0(t)=="symbol"?t:t+""}function bIe(e,t){if(Y0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Y0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wIe(e,t){if(e==null)return{};var r=NIe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function NIe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var _Ie=function(t,r,s,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(s)},SIe=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,f=u===void 0?0:u,m=t.height,h=m===void 0?0:m,x=t.className,p=wIe(t,gIe),g=vIe({x:s,y:i,top:l,left:d,width:f,height:h},p);return!Xe(s)||!Xe(i)||!Xe(f)||!Xe(h)||!Xe(l)||!Xe(d)?null:z.createElement("path",TE({},wt(g,!0),{className:Vt("recharts-cross",x),d:_Ie(s,i,f,h,l,d)}))},CIe=N2,AIe=oG,EIe=lc;function PIe(e,t){return e&&e.length?CIe(e,EIe(t),AIe):void 0}var kIe=PIe;const TIe=Pr(kIe);var OIe=N2,DIe=lc,IIe=lG;function RIe(e,t){return e&&e.length?OIe(e,DIe(t),IIe):void 0}var MIe=RIe;const FIe=Pr(MIe);var $Ie=["cx","cy","angle","ticks","axisLine"],LIe=["ticks","tick","angle","tickFormatter","stroke"];function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Dg.apply(this,arguments)}function $6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$6(Object(r),!0).forEach(function(s){A2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function L6(e,t){if(e==null)return{};var r=BIe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function BIe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function UIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,ZG(s.key),s)}}function VIe(e,t,r){return t&&B6(e.prototype,t),r&&B6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zIe(e,t,r){return t=rw(t),WIe(e,QG()?Reflect.construct(t,r||[],rw(e).constructor):t.apply(e,r))}function WIe(e,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HIe(e)}function HIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QG=function(){return!!e})()}function rw(e){return rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rw(e)}function qIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OE(e,t)}function OE(e,t){return OE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},OE(e,t)}function A2(e,t,r){return t=ZG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZG(e){var t=GIe(e,"string");return mp(t)=="symbol"?t:t+""}function GIe(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(mp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E2=function(e){function t(){return UIe(this,t),zIe(this,t,arguments)}return qIe(t,e),VIe(t,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Qr(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=TIe(l,function(u){return u.coordinate||0}),d=FIe(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,d=L6(s,$Ie),u=l.reduce(function(x,p){return[Math.min(x[0],p.coordinate),Math.max(x[1],p.coordinate)]},[1/0,-1/0]),f=Qr(a,i,u[0],o),m=Qr(a,i,u[1],o),h=Uu(Uu(Uu({},wt(d,!1)),{},{fill:"none"},wt(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return z.createElement("line",Dg({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=L6(a,LIe),f=this.getTickTextAnchor(),m=wt(u,!1),h=wt(o,!1),x=i.map(function(p,g){var j=s.getTickValueCoord(p),y=Uu(Uu(Uu(Uu({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},m),{},{stroke:"none",fill:d},h),{},{index:g},j),{},{payload:p});return z.createElement(tr,Dg({className:Vt("recharts-polar-radius-axis-tick",MG(o)),key:"tick-".concat(p.coordinate)},Kf(s.props,p,g)),t.renderTickItem(o,y,c?c(p.value,g):p.value))});return z.createElement(tr,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:z.createElement(tr,{className:Vt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),As.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return z.isValidElement(s)?o=z.cloneElement(s,a):Ot(s)?o=s(a):o=z.createElement(Yf,Dg({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(v.PureComponent);A2(E2,"displayName","PolarRadiusAxis");A2(E2,"axisType","radiusAxis");A2(E2,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ju.apply(this,arguments)}function U6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Vu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U6(Object(r),!0).forEach(function(s){P2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function KIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,eK(s.key),s)}}function YIe(e,t,r){return t&&V6(e.prototype,t),r&&V6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XIe(e,t,r){return t=nw(t),QIe(e,JG()?Reflect.construct(t,r||[],nw(e).constructor):t.apply(e,r))}function QIe(e,t){if(t&&(hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZIe(e)}function ZIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JG=function(){return!!e})()}function nw(e){return nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nw(e)}function JIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DE(e,t)}function DE(e,t){return DE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},DE(e,t)}function P2(e,t,r){return t=eK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eK(e){var t=eRe(e,"string");return hp(t)=="symbol"?t:t+""}function eRe(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(hp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tRe=Math.PI/180,z6=1e-5,k2=function(e){function t(){return KIe(this,t),XIe(this,t,arguments)}return JIe(t,e),YIe(t,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,f=Qr(i,o,l,s.coordinate),m=Qr(i,o,l+(c==="inner"?-1:1)*u,s.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*tRe),o;return i>z6?o=a==="outer"?"start":"end":i<-z6?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,d=Vu(Vu({},wt(this.props,!1)),{},{fill:"none"},wt(l,!1));if(c==="circle")return z.createElement(hy,Ju({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,f=u.map(function(m){return Qr(a,i,o,m.coordinate)});return z.createElement(xIe,Ju({className:"recharts-polar-angle-axis-line"},d,{points:f}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=wt(this.props,!1),f=wt(o,!1),m=Vu(Vu({},u),{},{fill:"none"},wt(l,!1)),h=i.map(function(x,p){var g=s.getTickLineCoord(x),j=s.getTickTextAnchor(x),y=Vu(Vu(Vu({textAnchor:j},u),{},{stroke:"none",fill:d},f),{},{index:p,payload:x,x:g.x2,y:g.y2});return z.createElement(tr,Ju({className:Vt("recharts-polar-angle-axis-tick",MG(o)),key:"tick-".concat(x.coordinate)},Kf(s.props,x,p)),l&&z.createElement("line",Ju({className:"recharts-polar-angle-axis-tick-line"},m,g)),o&&t.renderTickItem(o,y,c?c(x.value,p):x.value))});return z.createElement(tr,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:z.createElement(tr,{className:Vt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return z.isValidElement(s)?o=z.cloneElement(s,a):Ot(s)?o=s(a):o=z.createElement(Yf,Ju({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(v.PureComponent);P2(k2,"displayName","PolarAngleAxis");P2(k2,"axisType","angleAxis");P2(k2,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var rRe=nq,nRe=rRe(Object.getPrototypeOf,Object),sRe=nRe,aRe=ld,iRe=sRe,oRe=cd,lRe="[object Object]",cRe=Function.prototype,dRe=Object.prototype,tK=cRe.toString,uRe=dRe.hasOwnProperty,fRe=tK.call(Object);function mRe(e){if(!oRe(e)||aRe(e)!=lRe)return!1;var t=iRe(e);if(t===null)return!0;var r=uRe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&tK.call(r)==fRe}var hRe=mRe;const pRe=Pr(hRe);var xRe=ld,gRe=cd,vRe="[object Boolean]";function yRe(e){return e===!0||e===!1||gRe(e)&&xRe(e)==vRe}var jRe=yRe;const bRe=Pr(jRe);function X0(e){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X0(e)}function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},sw.apply(this,arguments)}function wRe(e,t){return CRe(e)||SRe(e,t)||_Re(e,t)||NRe()}function NRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Re(e,t){if(e){if(typeof e=="string")return W6(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W6(e,t)}}function W6(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function SRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function CRe(e){if(Array.isArray(e))return e}function H6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function q6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H6(Object(r),!0).forEach(function(s){ARe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ARe(e,t,r){return t=ERe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ERe(e){var t=PRe(e,"string");return X0(t)=="symbol"?t:t+""}function PRe(e,t){if(X0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(X0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G6=function(t,r,s,a,i){var o=s-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+s,",").concat(r),l+="L ".concat(t+s-o/2,",").concat(r+i),l+="L ".concat(t+s-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},kRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},TRe=function(t){var r=q6(q6({},kRe),t),s=v.useRef(),a=v.useState(-1),i=wRe(a,2),o=i[0],l=i[1];v.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var w=s.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,f=r.lowerWidth,m=r.height,h=r.className,x=r.animationEasing,p=r.animationDuration,g=r.animationBegin,j=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||m!==+m||u===0&&f===0||m===0)return null;var y=Vt("recharts-trapezoid",h);return j?z.createElement(dl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:d},to:{upperWidth:u,lowerWidth:f,height:m,x:c,y:d},duration:p,animationEasing:x,isActive:j},function(w){var b=w.upperWidth,N=w.lowerWidth,_=w.height,S=w.x,A=w.y;return z.createElement(dl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,easing:x},z.createElement("path",sw({},wt(r,!0),{className:y,d:G6(S,A,b,N,_),ref:s})))}):z.createElement("g",null,z.createElement("path",sw({},wt(r,!0),{className:y,d:G6(c,d,u,f,m)})))},ORe=["option","shapeType","propTransformer","activeClassName","isActive"];function Q0(e){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q0(e)}function DRe(e,t){if(e==null)return{};var r=IRe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function IRe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function K6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K6(Object(r),!0).forEach(function(s){RRe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function RRe(e,t,r){return t=MRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MRe(e){var t=FRe(e,"string");return Q0(t)=="symbol"?t:t+""}function FRe(e,t){if(Q0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Q0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Re(e,t){return aw(aw({},t),e)}function LRe(e,t){return e==="symbols"}function Y6(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return z.createElement(qO,r);case"trapezoid":return z.createElement(TRe,r);case"sector":return z.createElement(LG,r);case"symbols":if(LRe(t))return z.createElement(uO,r);break;default:return null}}function BRe(e){return v.isValidElement(e)?e.props:e}function rK(e){var t=e.option,r=e.shapeType,s=e.propTransformer,a=s===void 0?$Re:s,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=DRe(e,ORe),d;if(v.isValidElement(t))d=v.cloneElement(t,aw(aw({},c),BRe(t)));else if(Ot(t))d=t(c);else if(pRe(t)&&!bRe(t)){var u=a(t,c);d=z.createElement(Y6,{shapeType:r,elementProps:u})}else{var f=c;d=z.createElement(Y6,{shapeType:r,elementProps:f})}return l?z.createElement(tr,{className:o},d):d}function T2(e,t){return t!=null&&"trapezoids"in e.props}function O2(e,t){return t!=null&&"sectors"in e.props}function Z0(e,t){return t!=null&&"points"in e.props}function URe(e,t){var r,s,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return a&&i}function VRe(e,t){var r=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return r&&s}function zRe(e,t){var r=e.x===t.x,s=e.y===t.y,a=e.z===t.z;return r&&s&&a}function WRe(e,t){var r;return T2(e,t)?r=URe:O2(e,t)?r=VRe:Z0(e,t)&&(r=zRe),r}function HRe(e,t){var r;return T2(e,t)?r="trapezoids":O2(e,t)?r="sectors":Z0(e,t)&&(r="points"),r}function qRe(e,t){if(T2(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(O2(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return Z0(e,t)?t.payload:{}}function GRe(e){var t=e.activeTooltipItem,r=e.graphicalItem,s=e.itemData,a=HRe(r,t),i=qRe(r,t),o=s.filter(function(c,d){var u=Xf(i,c),f=r.props[a].filter(function(x){var p=WRe(r,t);return p(x,t)}),m=r.props[a].indexOf(f[f.length-1]),h=d===m;return u&&h}),l=s.indexOf(o[o.length-1]);return l}var ub;function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},th.apply(this,arguments)}function X6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X6(Object(r),!0).forEach(function(s){fo(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function KRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q6(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,sK(s.key),s)}}function YRe(e,t,r){return t&&Q6(e.prototype,t),r&&Q6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XRe(e,t,r){return t=iw(t),QRe(e,nK()?Reflect.construct(t,r||[],iw(e).constructor):t.apply(e,r))}function QRe(e,t){if(t&&(pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZRe(e)}function ZRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nK=function(){return!!e})()}function iw(e){return iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iw(e)}function JRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IE(e,t)}function IE(e,t){return IE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},IE(e,t)}function fo(e,t,r){return t=sK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sK(e){var t=eMe(e,"string");return pp(t)=="symbol"?t:t+""}function eMe(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(pp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fi=function(e){function t(r){var s;return KRe(this,t),s=XRe(this,t,[r]),fo(s,"pieRef",null),fo(s,"sectorRefs",[]),fo(s,"id",fm("recharts-pie-")),fo(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),Ot(a)&&a()}),fo(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),Ot(a)&&a()}),s.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},s}return JRe(t,e),YRe(t,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=wt(this.props,!1),f=wt(o,!1),m=wt(l,!1),h=o&&o.offsetRadius||20,x=s.map(function(p,g){var j=(p.startAngle+p.endAngle)/2,y=Qr(p.cx,p.cy,p.outerRadius+h,j),w=Kr(Kr(Kr(Kr({},u),p),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(y.x,p.cx)},y),b=Kr(Kr(Kr(Kr({},u),p),{},{fill:"none",stroke:p.fill},m),{},{index:g,points:[Qr(p.cx,p.cy,p.outerRadius,j),y]}),N=c;return $t(c)&&$t(d)?N="value":$t(c)&&(N=d),z.createElement(tr,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(g)},l&&t.renderLabelLineItem(l,b,"line"),t.renderLabelItem(o,w,Hn(p,N)))});return z.createElement(tr,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return s.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&s.length!==1)return null;var f=a.isActiveIndex(u),m=c&&a.hasActiveIndex()?c:null,h=f?o:m,x=Kr(Kr({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return z.createElement(tr,th({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Kf(a.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),z.createElement(rK,th({option:h,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,f=this.state,m=f.prevSectors,h=f.prevIsAnimationActive;return z.createElement(dl,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var p=x.t,g=[],j=i&&i[0],y=j.startAngle;return i.forEach(function(w,b){var N=m&&m[b],_=b>0?Ri(w,"paddingAngle",0):0;if(N){var S=xs(N.endAngle-N.startAngle,w.endAngle-w.startAngle),A=Kr(Kr({},w),{},{startAngle:y+_,endAngle:y+S(p)+_});g.push(A),y=A.endAngle}else{var E=w.endAngle,P=w.startAngle,D=xs(0,E-P),I=D(p),W=Kr(Kr({},w),{},{startAngle:y+_,endAngle:y+I+_});g.push(W),y=W.endAngle}}),z.createElement(tr,null,s.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Xf(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,f=a.innerRadius,m=a.outerRadius,h=a.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!Xe(d)||!Xe(u)||!Xe(f)||!Xe(m))return null;var p=Vt("recharts-pie",l);return z.createElement(tr,{tabIndex:this.props.rootTabIndex,className:p,ref:function(j){s.pieRef=j}},this.renderSectors(),c&&this.renderLabels(o),As.renderCallByParent(this.props,null,!1),(!h||x)&&Kl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(z.isValidElement(s))return z.cloneElement(s,a);if(Ot(s))return s(a);var o=Vt("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return z.createElement(Pf,th({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(z.isValidElement(s))return z.cloneElement(s,a);var o=i;if(Ot(s)&&(o=s(a),z.isValidElement(o)))return o;var l=Vt("recharts-pie-label-text",typeof s!="boolean"&&!Ot(s)?s.className:"");return z.createElement(Yf,th({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(v.PureComponent);ub=Fi;fo(Fi,"displayName","Pie");fo(Fi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!al.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});fo(Fi,"parseDeltaAngle",function(e,t){var r=Pa(t-e),s=Math.min(Math.abs(t-e),360);return r*s});fo(Fi,"getRealPieData",function(e){var t=e.data,r=e.children,s=wt(e,!1),a=Mi(r,Na);return t&&t.length?t.map(function(i,o){return Kr(Kr(Kr({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Kr(Kr({},s),i.props)}):[]});fo(Fi,"parseCoordinateOfPie",function(e,t){var r=t.top,s=t.left,a=t.width,i=t.height,o=RG(a,i),l=s+ka(e.cx,a,a/2),c=r+ka(e.cy,i,i/2),d=ka(e.innerRadius,o,0),u=ka(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:f}});fo(Fi,"getComposedData",function(e){var t=e.item,r=e.offset,s=t.type.defaultProps!==void 0?Kr(Kr({},t.type.defaultProps),t.props):t.props,a=ub.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,d=s.dataKey,u=s.nameKey,f=s.valueKey,m=s.tooltipType,h=Math.abs(s.minAngle),x=ub.parseCoordinateOfPie(s,r),p=ub.parseDeltaAngle(o,l),g=Math.abs(p),j=d;$t(d)&&$t(f)?(nl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):$t(d)&&(nl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=f);var y=a.filter(function(A){return Hn(A,j,0)!==0}).length,w=(g>=360?y:y-1)*c,b=g-y*h-w,N=a.reduce(function(A,E){var P=Hn(E,j,0);return A+(Xe(P)?P:0)},0),_;if(N>0){var S;_=a.map(function(A,E){var P=Hn(A,j,0),D=Hn(A,u,E),I=(Xe(P)?P:0)/N,W;E?W=S.endAngle+Pa(p)*c*(P!==0?1:0):W=o;var H=W+Pa(p)*((P!==0?h:0)+I*b),F=(W+H)/2,T=(x.innerRadius+x.outerRadius)/2,k=[{name:D,value:P,payload:A,dataKey:j,type:m}],M=Qr(x.cx,x.cy,T,F);return S=Kr(Kr(Kr({percent:I,cornerRadius:i,name:D,tooltipPayload:k,midAngle:F,middleRadius:T,tooltipPosition:M},A),x),{},{value:Hn(A,j),startAngle:W,endAngle:H,payload:A,paddingAngle:Pa(p)*c}),S})}return Kr(Kr({},x),{},{sectors:_,data:a})});var tMe=Math.ceil,rMe=Math.max;function nMe(e,t,r,s){for(var a=-1,i=rMe(tMe((t-e)/(r||1)),0),o=Array(i);i--;)o[s?i:++a]=e,e+=r;return o}var sMe=nMe,aMe=wq,Z6=1/0,iMe=17976931348623157e292;function oMe(e){if(!e)return e===0?e:0;if(e=aMe(e),e===Z6||e===-Z6){var t=e<0?-1:1;return t*iMe}return e===e?e:0}var aK=oMe,lMe=sMe,cMe=x2,GS=aK;function dMe(e){return function(t,r,s){return s&&typeof s!="number"&&cMe(t,r,s)&&(r=s=void 0),t=GS(t),r===void 0?(r=t,t=0):r=GS(r),s=s===void 0?t<r?1:-1:GS(s),lMe(t,r,s,e)}}var uMe=dMe,fMe=uMe,mMe=fMe(),hMe=mMe;const ow=Pr(hMe);function J0(e){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J0(e)}function J6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function e$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J6(Object(r),!0).forEach(function(s){iK(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J6(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function iK(e,t,r){return t=pMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pMe(e){var t=xMe(e,"string");return J0(t)=="symbol"?t:t+""}function xMe(e,t){if(J0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(J0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gMe=["Webkit","Moz","O","ms"],vMe=function(t,r){var s=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=gMe.reduce(function(i,o){return e$(e$({},i),{},iK({},o+s,r))},{});return a[t]=r,a};function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},lw.apply(this,arguments)}function t$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function KS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t$(Object(r),!0).forEach(function(s){ji(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function yMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,lK(s.key),s)}}function jMe(e,t,r){return t&&r$(e.prototype,t),r&&r$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bMe(e,t,r){return t=cw(t),wMe(e,oK()?Reflect.construct(t,r||[],cw(e).constructor):t.apply(e,r))}function wMe(e,t){if(t&&(xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NMe(e)}function NMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oK=function(){return!!e})()}function cw(e){return cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cw(e)}function _Me(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RE(e,t)}function RE(e,t){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},RE(e,t)}function ji(e,t,r){return t=lK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lK(e){var t=SMe(e,"string");return xp(t)=="symbol"?t:t+""}function SMe(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(xp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CMe=function(t){var r=t.data,s=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=Pg().domain(ow(0,c)).range([i,i+o-l]),u=d.domain().map(function(f){return d(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(s),endX:d(a),scale:d,scaleValues:u}},n$=function(t){return t.changedTouches&&!!t.changedTouches.length},gp=function(e){function t(r){var s;return yMe(this,t),s=bMe(this,t,[r]),ji(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),ji(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),ji(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),ji(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),ji(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),ji(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),ji(s,"handleSlideDragStart",function(a){var i=n$(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return _Me(t,e),jMe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,f=Math.min(a,i),m=Math.max(a,i),h=t.getIndexInRange(o,f),x=t.getIndexInRange(o,m);return{startIndex:h-h%c,endIndex:x===u?u:x-x%c}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Hn(i[s],l,s);return Ot(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,f=c.travellerWidth,m=c.startIndex,h=c.endIndex,x=c.onChange,p=s.pageX-i;p>0?p=Math.min(p,d+u-f-l,d+u-f-o):p<0&&(p=Math.max(p,d-o,d-l));var g=this.getIndex({startX:o+p,endX:l+p});(g.startIndex!==m||g.endIndex!==h)&&x&&x(g),this.setState({startX:o+p,endX:l+p,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=n$(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,f=u.x,m=u.width,h=u.travellerWidth,x=u.onChange,p=u.gap,g=u.data,j={startX:this.state.startX,endX:this.state.endX},y=s.pageX-i;y>0?y=Math.min(y,f+m-h-d):y<0&&(y=Math.max(y,f-d)),j[o]=d+y;var w=this.getIndex(j),b=w.startIndex,N=w.endIndex,_=function(){var A=g.length-1;return o==="startX"&&(l>c?b%p===0:N%p===0)||l<c&&N===A||o==="endX"&&(l>c?N%p===0:b%p===0)||l>c&&N===A};this.setState(ji(ji({},o,d+y),"brushMoveStartX",s.pageX),function(){x&&_()&&x(w)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],f=l.indexOf(u);if(f!==-1){var m=f+s;if(!(m===-1||m>=l.length)){var h=l[m];a==="startX"&&h>=d||a==="endX"&&h<=c||this.setState(ji({},a,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.fill,d=s.stroke;return z.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.data,d=s.children,u=s.padding,f=v.Children.only(d);return f?z.cloneElement(f,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,f=c.height,m=c.traveller,h=c.ariaLabel,x=c.data,p=c.startIndex,g=c.endIndex,j=Math.max(s,this.props.x),y=KS(KS({},wt(this.props,!1)),{},{x:j,y:d,width:u,height:f}),w=h||"Min value: ".concat((i=x[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[g])===null||o===void 0?void 0:o.name);return z.createElement(tr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,y))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(s,a)+d,f=Math.max(Math.abs(a-s)-d,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:f,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,d=s.stroke,u=this.state,f=u.startX,m=u.endX,h=5,x={pointerEvents:"none",fill:d};return z.createElement(tr,{className:"recharts-brush-texts"},z.createElement(Yf,lw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-h,y:o+l/2},x),this.getTextOfTick(a)),z.createElement(Yf,lw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+h,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,c=s.y,d=s.width,u=s.height,f=s.alwaysShowText,m=this.state,h=m.startX,x=m.endX,p=m.isTextActive,g=m.isSlideMoving,j=m.isTravellerMoving,y=m.isTravellerFocused;if(!a||!a.length||!Xe(l)||!Xe(c)||!Xe(d)||!Xe(u)||d<=0||u<=0)return null;var w=Vt("recharts-brush",i),b=z.Children.count(o)===1,N=vMe("userSelect","none");return z.createElement(tr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),b&&this.renderPanorama(),this.renderSlide(h,x),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(x,"endX"),(p||g||j||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.stroke,d=Math.floor(i+l/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),z.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return z.isValidElement(s)?i=z.cloneElement(s,a):Ot(s)?i=s(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,c=s.travellerWidth,d=s.updateId,u=s.startIndex,f=s.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return KS({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?CMe({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var m=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>a?l=c:o=c}return a>=s[l]?l:o}}])}(v.PureComponent);ji(gp,"displayName","Brush");ji(gp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var AMe=vO;function EMe(e,t){var r;return AMe(e,function(s,a,i){return r=t(s,a,i),!r}),!!r}var PMe=EMe,kMe=YH,TMe=lc,OMe=PMe,DMe=hi,IMe=x2;function RMe(e,t,r){var s=DMe(e)?kMe:OMe;return r&&IMe(e,t,r)&&(t=void 0),s(e,TMe(t))}var MMe=RMe;const FMe=Pr(MMe);var Yl=function(t,r){var s=t.alwaysShow,a=t.ifOverflow;return s&&(a="extendDomain"),a===r},s$=gq;function $Me(e,t,r){t=="__proto__"&&s$?s$(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var LMe=$Me,BMe=LMe,UMe=pq,VMe=lc;function zMe(e,t){var r={};return t=VMe(t),UMe(e,function(s,a,i){BMe(r,a,t(s,a,i))}),r}var WMe=zMe;const HMe=Pr(WMe);function qMe(e,t){for(var r=-1,s=e==null?0:e.length;++r<s;)if(!t(e[r],r,e))return!1;return!0}var GMe=qMe,KMe=vO;function YMe(e,t){var r=!0;return KMe(e,function(s,a,i){return r=!!t(s,a,i),r}),r}var XMe=YMe,QMe=GMe,ZMe=XMe,JMe=lc,eFe=hi,tFe=x2;function rFe(e,t,r){var s=eFe(e)?QMe:ZMe;return r&&tFe(e,t,r)&&(t=void 0),s(e,JMe(t))}var nFe=rFe;const cK=Pr(nFe);var sFe=["x","y"];function ev(e){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(e)}function ME(){return ME=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ME.apply(this,arguments)}function a$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Xx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a$(Object(r),!0).forEach(function(s){aFe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function aFe(e,t,r){return t=iFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iFe(e){var t=oFe(e,"string");return ev(t)=="symbol"?t:t+""}function oFe(e,t){if(ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(ev(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lFe(e,t){if(e==null)return{};var r=cFe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function cFe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function dFe(e,t){var r=e.x,s=e.y,a=lFe(e,sFe),i="".concat(r),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),d="".concat(t.height||a.height),u=parseInt(d,10),f="".concat(t.width||a.width),m=parseInt(f,10);return Xx(Xx(Xx(Xx(Xx({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:m,name:t.name,radius:t.radius})}function i$(e){return z.createElement(rK,ME({shapeType:"rectangle",propTransformer:dFe,activeClassName:"recharts-active-bar"},e))}var uFe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof t=="number")return t;var i=typeof s=="number";return i?t(s,a):(i||yu(),r)}},fFe=["value","background"],dK;function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}function mFe(e,t){if(e==null)return{};var r=hFe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function hFe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},dw.apply(this,arguments)}function o$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o$(Object(r),!0).forEach(function(s){Hd(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function pFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,fK(s.key),s)}}function xFe(e,t,r){return t&&l$(e.prototype,t),r&&l$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gFe(e,t,r){return t=uw(t),vFe(e,uK()?Reflect.construct(t,r||[],uw(e).constructor):t.apply(e,r))}function vFe(e,t){if(t&&(vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yFe(e)}function yFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uK=function(){return!!e})()}function uw(e){return uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uw(e)}function jFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FE(e,t)}function FE(e,t){return FE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},FE(e,t)}function Hd(e,t,r){return t=fK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fK(e){var t=bFe(e,"string");return vp(t)=="symbol"?t:t+""}function bFe(e,t){if(vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(vp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wn=function(e){function t(){var r;pFe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=gFe(this,t,[].concat(a)),Hd(r,"state",{isAnimationFinished:!1}),Hd(r,"id",fm("recharts-bar-")),Hd(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Hd(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return jFe(t,e),xFe(t,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=wt(this.props,!1);return s&&s.map(function(f,m){var h=m===c,x=h?d:o,p=Jn(Jn(Jn({},u),f),{},{isActive:h,option:x,index:m,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return z.createElement(tr,dw({className:"recharts-bar-rectangle"},Kf(a.props,f,m),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),z.createElement(i$,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,f=a.animationId,m=this.state.prevData;return z.createElement(dl,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var x=h.t,p=i.map(function(g,j){var y=m&&m[j];if(y){var w=xs(y.x,g.x),b=xs(y.y,g.y),N=xs(y.width,g.width),_=xs(y.height,g.height);return Jn(Jn({},g),{},{x:w(x),y:b(x),width:N(x),height:_(x)})}if(o==="horizontal"){var S=xs(0,g.height),A=S(x);return Jn(Jn({},g),{},{y:g.y+g.height-A,height:A})}var E=xs(0,g.width),P=E(x);return Jn(Jn({},g),{},{width:P})});return z.createElement(tr,null,s.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Xf(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=wt(this.props.background,!1);return i.map(function(d,u){d.value;var f=d.background,m=mFe(d,fFe);if(!f)return null;var h=Jn(Jn(Jn(Jn(Jn({},m),{},{fill:"#eee"},f),c),Kf(s.props,d,u)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return z.createElement(i$,dw({key:"background-bar-".concat(u),option:s.props.background,isActive:u===l},h))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=Mi(u,my);if(!f)return null;var m=d==="vertical"?o[0].height/2:o[0].width/2,h=function(g,j){var y=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:y,errorVal:Hn(g,j)}},x={clipPath:s?"url(#clipPath-".concat(a,")"):null};return z.createElement(tr,x,f.map(function(p){return z.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:m,dataPointFormatter:h})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,c=s.yAxis,d=s.left,u=s.top,f=s.width,m=s.height,h=s.isAnimationActive,x=s.background,p=s.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,j=Vt("recharts-bar",o),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,b=y||w,N=$t(p)?this.id:p;return z.createElement(tr,{className:j},y||w?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(N)},z.createElement("rect",{x:y?d:d-f/2,y:w?u:u-m/2,width:y?f:f*2,height:w?m:m*2}))):null,z.createElement(tr,{className:"recharts-bar-rectangles",clipPath:b?"url(#clipPath-".concat(N,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(b,N),(!h||g)&&Kl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])}(v.PureComponent);dK=wn;Hd(wn,"displayName","Bar");Hd(wn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!al.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Hd(wn,"getComposedData",function(e){var t=e.props,r=e.item,s=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,m=e.offset,h=u3e(s,r);if(!h)return null;var x=t.layout,p=r.type.defaultProps,g=p!==void 0?Jn(Jn({},p),r.props):r.props,j=g.dataKey,y=g.children,w=g.minPointSize,b=x==="horizontal"?o:i,N=d?b.scale.domain():null,_=v3e({numericAxis:b}),S=Mi(y,Na),A=f.map(function(E,P){var D,I,W,H,F,T;d?D=f3e(d[u+P],N):(D=Hn(E,j),Array.isArray(D)||(D=[_,D]));var k=uFe(w,dK.defaultProps.minPointSize)(D[1],P);if(x==="horizontal"){var M,O=[o.scale(D[0]),o.scale(D[1])],K=O[0],se=O[1];I=QF({axis:i,ticks:l,bandSize:a,offset:h.offset,entry:E,index:P}),W=(M=se??K)!==null&&M!==void 0?M:void 0,H=h.size;var R=K-se;if(F=Number.isNaN(R)?0:R,T={x:I,y:o.y,width:H,height:o.height},Math.abs(k)>0&&Math.abs(F)<Math.abs(k)){var V=Pa(F||k)*(Math.abs(k)-Math.abs(F));W-=V,F+=V}}else{var L=[i.scale(D[0]),i.scale(D[1])],G=L[0],le=L[1];if(I=G,W=QF({axis:o,ticks:c,bandSize:a,offset:h.offset,entry:E,index:P}),H=le-G,F=h.size,T={x:i.x,y:W,width:i.width,height:F},Math.abs(k)>0&&Math.abs(H)<Math.abs(k)){var me=Pa(H||k)*(Math.abs(k)-Math.abs(H));H+=me}}return Jn(Jn(Jn({},E),{},{x:I,y:W,width:H,height:F,value:d?D:D[1],payload:E,background:T},S&&S[P]&&S[P].props),{},{tooltipPayload:[DG(r,E)],tooltipPosition:{x:I+H/2,y:W+F/2}})});return Jn({data:A,layout:x},m)});function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}function wFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,mK(s.key),s)}}function NFe(e,t,r){return t&&c$(e.prototype,t),r&&c$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d$(Object(r),!0).forEach(function(s){D2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function D2(e,t,r){return t=mK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mK(e){var t=_Fe(e,"string");return tv(t)=="symbol"?t:t+""}function _Fe(e,t){if(tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(tv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GO=function(t,r,s,a,i){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(r),f={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},m=!!Si(d,wn);return u.reduce(function(h,x){var p=r[x],g=p.orientation,j=p.domain,y=p.padding,w=y===void 0?{}:y,b=p.mirror,N=p.reversed,_="".concat(g).concat(b?"Mirror":""),S,A,E,P,D;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var I=j[1]-j[0],W=1/0,H=p.categoricalDomain.sort();if(H.forEach(function(L,G){G>0&&(W=Math.min((L||0)-(H[G-1]||0),W))}),Number.isFinite(W)){var F=W/I,T=p.layout==="vertical"?s.height:s.width;if(p.padding==="gap"&&(S=F*T/2),p.padding==="no-gap"){var k=ka(t.barCategoryGap,F*T),M=F*T/2;S=M-k-(M-k)/T*k}}}a==="xAxis"?A=[s.left+(w.left||0)+(S||0),s.left+s.width-(w.right||0)-(S||0)]:a==="yAxis"?A=c==="horizontal"?[s.top+s.height-(w.bottom||0),s.top+(w.top||0)]:[s.top+(w.top||0)+(S||0),s.top+s.height-(w.bottom||0)-(S||0)]:A=p.range,N&&(A=[A[1],A[0]]);var O=PG(p,i,m),K=O.scale,se=O.realScaleType;K.domain(j).range(A),kG(K);var R=TG(K,Vo(Vo({},p),{},{realScaleType:se}));a==="xAxis"?(D=g==="top"&&!b||g==="bottom"&&b,E=s.left,P=f[_]-D*p.height):a==="yAxis"&&(D=g==="left"&&!b||g==="right"&&b,E=f[_]-D*p.width,P=s.top);var V=Vo(Vo(Vo({},p),R),{},{realScaleType:se,x:E,y:P,scale:K,width:a==="xAxis"?s.width:p.width,height:a==="yAxis"?s.height:p.height});return V.bandSize=Y1(V,R),!p.hide&&a==="xAxis"?f[_]+=(D?-1:1)*V.height:p.hide||(f[_]+=(D?-1:1)*V.width),Vo(Vo({},h),{},D2({},x,V))},{})},hK=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},SFe=function(t){var r=t.x1,s=t.y1,a=t.x2,i=t.y2;return hK({x:r,y:s},{x:a,y:i})},pK=function(){function e(t){wFe(this,e),this.scale=t}return NFe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();D2(pK,"EPS",1e-4);var KO=function(t){var r=Object.keys(t).reduce(function(s,a){return Vo(Vo({},s),{},D2({},a,pK.create(t[a])))},{});return Vo(Vo({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return HMe(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return cK(a,function(i,o){return r[o].isInRange(i)})}})};function CFe(e){return(e%180+180)%180}var AFe=function(t){var r=t.width,s=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=CFe(a),o=i*Math.PI/180,l=Math.atan(s/r),c=o>l&&o<Math.PI-l?s/Math.sin(o):r/Math.cos(o);return Math.abs(c)},EFe=lc,PFe=ly,kFe=h2;function TFe(e){return function(t,r,s){var a=Object(t);if(!PFe(t)){var i=EFe(r);t=kFe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,s);return o>-1?a[i?t[o]:o]:void 0}}var OFe=TFe,DFe=aK;function IFe(e){var t=DFe(e),r=t%1;return t===t?r?t-r:t:0}var RFe=IFe,MFe=cq,FFe=lc,$Fe=RFe,LFe=Math.max;function BFe(e,t,r){var s=e==null?0:e.length;if(!s)return-1;var a=r==null?0:$Fe(r);return a<0&&(a=LFe(s+a,0)),MFe(e,FFe(t),a)}var UFe=BFe,VFe=OFe,zFe=UFe,WFe=VFe(zFe),HFe=WFe;const qFe=Pr(HFe);var GFe=eje(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),YO=v.createContext(void 0),XO=v.createContext(void 0),xK=v.createContext(void 0),gK=v.createContext({}),vK=v.createContext(void 0),yK=v.createContext(0),jK=v.createContext(0),u$=function(t){var r=t.state,s=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=GFe(i);return z.createElement(YO.Provider,{value:s},z.createElement(XO.Provider,{value:a},z.createElement(gK.Provider,{value:i},z.createElement(xK.Provider,{value:u},z.createElement(vK.Provider,{value:o},z.createElement(yK.Provider,{value:d},z.createElement(jK.Provider,{value:c},l)))))))},KFe=function(){return v.useContext(vK)},bK=function(t){var r=v.useContext(YO);r==null&&yu();var s=r[t];return s==null&&yu(),s},YFe=function(){var t=v.useContext(YO);return Td(t)},XFe=function(){var t=v.useContext(XO),r=qFe(t,function(s){return cK(s.domain,Number.isFinite)});return r||Td(t)},wK=function(t){var r=v.useContext(XO);r==null&&yu();var s=r[t];return s==null&&yu(),s},QFe=function(){var t=v.useContext(xK);return t},ZFe=function(){return v.useContext(gK)},QO=function(){return v.useContext(jK)},ZO=function(){return v.useContext(yK)};function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function JFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e6e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,_K(s.key),s)}}function t6e(e,t,r){return t&&e6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function r6e(e,t,r){return t=fw(t),n6e(e,NK()?Reflect.construct(t,r||[],fw(e).constructor):t.apply(e,r))}function n6e(e,t){if(t&&(yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s6e(e)}function s6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NK=function(){return!!e})()}function fw(e){return fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fw(e)}function a6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$E(e,t)}function $E(e,t){return $E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},$E(e,t)}function f$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function m$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f$(Object(r),!0).forEach(function(s){JO(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function JO(e,t,r){return t=_K(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _K(e){var t=i6e(e,"string");return yp(t)=="symbol"?t:t+""}function i6e(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(yp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o6e(e,t){return u6e(e)||d6e(e,t)||c6e(e,t)||l6e()}function l6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c6e(e,t){if(e){if(typeof e=="string")return h$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h$(e,t)}}function h$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function d6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function u6e(e){if(Array.isArray(e))return e}function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},LE.apply(this,arguments)}var f6e=function(t,r){var s;return z.isValidElement(t)?s=z.cloneElement(t,r):Ot(t)?s=t(r):s=z.createElement("line",LE({},r,{className:"recharts-reference-line-line"})),s},m6e=function(t,r,s,a,i,o,l,c,d){var u=i.x,f=i.y,m=i.width,h=i.height;if(s){var x=d.y,p=t.y.apply(x,{position:o});if(Yl(d,"discard")&&!t.y.isInRange(p))return null;var g=[{x:u+m,y:p},{x:u,y:p}];return c==="left"?g.reverse():g}if(r){var j=d.x,y=t.x.apply(j,{position:o});if(Yl(d,"discard")&&!t.x.isInRange(y))return null;var w=[{x:y,y:f+h},{x:y,y:f}];return l==="top"?w.reverse():w}if(a){var b=d.segment,N=b.map(function(_){return t.apply(_,{position:o})});return Yl(d,"discard")&&FMe(N,function(_){return!t.isInRange(_)})?null:N}return null};function h6e(e){var t=e.x,r=e.y,s=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=KFe(),u=bK(a),f=wK(i),m=QFe();if(!d||!m)return null;nl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=KO({x:u.scale,y:f.scale}),x=ws(t),p=ws(r),g=s&&s.length===2,j=m6e(h,x,p,g,m,e.position,u.orientation,f.orientation,e);if(!j)return null;var y=o6e(j,2),w=y[0],b=w.x,N=w.y,_=y[1],S=_.x,A=_.y,E=Yl(e,"hidden")?"url(#".concat(d,")"):void 0,P=m$(m$({clipPath:E},wt(e,!0)),{},{x1:b,y1:N,x2:S,y2:A});return z.createElement(tr,{className:Vt("recharts-reference-line",l)},f6e(o,P),As.renderCallByParent(e,SFe({x1:b,y1:N,x2:S,y2:A})))}var e3=function(e){function t(){return JFe(this,t),r6e(this,t,arguments)}return a6e(t,e),t6e(t,[{key:"render",value:function(){return z.createElement(h6e,this.props)}}])}(z.Component);JO(e3,"displayName","ReferenceLine");JO(e3,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function BE(){return BE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},BE.apply(this,arguments)}function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function p$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function x$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p$(Object(r),!0).forEach(function(s){I2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function p6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x6e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,CK(s.key),s)}}function g6e(e,t,r){return t&&x6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function v6e(e,t,r){return t=mw(t),y6e(e,SK()?Reflect.construct(t,r||[],mw(e).constructor):t.apply(e,r))}function y6e(e,t){if(t&&(jp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j6e(e)}function j6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SK=function(){return!!e})()}function mw(e){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(e)}function b6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UE(e,t)}function UE(e,t){return UE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},UE(e,t)}function I2(e,t,r){return t=CK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CK(e){var t=w6e(e,"string");return jp(t)=="symbol"?t:t+""}function w6e(e,t){if(jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(jp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N6e=function(t){var r=t.x,s=t.y,a=t.xAxis,i=t.yAxis,o=KO({x:a.scale,y:i.scale}),l=o.apply({x:r,y:s},{bandAware:!0});return Yl(t,"discard")&&!o.isInRange(l)?null:l},R2=function(e){function t(){return p6e(this,t),v6e(this,t,arguments)}return b6e(t,e),g6e(t,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,d=ws(a),u=ws(i);if(nl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var f=N6e(this.props);if(!f)return null;var m=f.x,h=f.y,x=this.props,p=x.shape,g=x.className,j=Yl(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=x$(x$({clipPath:j},wt(this.props,!0)),{},{cx:m,cy:h});return z.createElement(tr,{className:Vt("recharts-reference-dot",g)},t.renderDot(p,y),As.renderCallByParent(this.props,{x:m-o,y:h-o,width:2*o,height:2*o}))}}])}(z.Component);I2(R2,"displayName","ReferenceDot");I2(R2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});I2(R2,"renderDot",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):Ot(e)?r=e(t):r=z.createElement(hy,BE({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function VE(){return VE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},VE.apply(this,arguments)}function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function g$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function v$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g$(Object(r),!0).forEach(function(s){M2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function _6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S6e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,EK(s.key),s)}}function C6e(e,t,r){return t&&S6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function A6e(e,t,r){return t=hw(t),E6e(e,AK()?Reflect.construct(t,r||[],hw(e).constructor):t.apply(e,r))}function E6e(e,t){if(t&&(bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P6e(e)}function P6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AK=function(){return!!e})()}function hw(e){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hw(e)}function k6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zE(e,t)}function zE(e,t){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},zE(e,t)}function M2(e,t,r){return t=EK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EK(e){var t=T6e(e,"string");return bp(t)=="symbol"?t:t+""}function T6e(e,t){if(bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(bp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O6e=function(t,r,s,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var m=KO({x:u.scale,y:f.scale}),h={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:s?m.y.apply(c,{position:"start"}):m.y.rangeMin},x={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(d,{position:"end"}):m.y.rangeMax};return Yl(i,"discard")&&(!m.isInRange(h)||!m.isInRange(x))?null:hK(h,x)},F2=function(e){function t(){return _6e(this,t),A6e(this,t,arguments)}return k6e(t,e),C6e(t,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,c=s.className,d=s.alwaysShow,u=s.clipPathId;nl(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ws(a),m=ws(i),h=ws(o),x=ws(l),p=this.props.shape;if(!f&&!m&&!h&&!x&&!p)return null;var g=O6e(f,m,h,x,this.props);if(!g&&!p)return null;var j=Yl(this.props,"hidden")?"url(#".concat(u,")"):void 0;return z.createElement(tr,{className:Vt("recharts-reference-area",c)},t.renderRect(p,v$(v$({clipPath:j},wt(this.props,!0)),g)),As.renderCallByParent(this.props,g))}}])}(z.Component);M2(F2,"displayName","ReferenceArea");M2(F2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});M2(F2,"renderRect",function(e,t){var r;return z.isValidElement(e)?r=z.cloneElement(e,t):Ot(e)?r=e(t):r=z.createElement(qO,VE({},t,{className:"recharts-reference-area-rect"})),r});function PK(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var s=[],a=0;a<e.length;a+=t)s.push(e[a]);return s}function D6e(e,t,r){var s={width:e.width+t.width,height:e.height+t.height};return AFe(s,r)}function I6e(e,t,r){var s=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function pw(e,t,r,s,a){if(e*t<e*s||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-a)<=0}function R6e(e,t){return PK(e,t+1)}function M6e(e,t,r,s,a){for(var i=(s||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,f=function(){var x=s==null?void 0:s[c];if(x===void 0)return{v:PK(s,d)};var p=c,g,j=function(){return g===void 0&&(g=r(x,p)),g},y=x.coordinate,w=c===0||pw(e,y,j,u,l);w||(c=0,u=o,d+=1),w&&(u=y+e*(j()/2+a),c+=d)},m;d<=i.length;)if(m=f(),m)return m.v;return[]}function rv(e){"@babel/helpers - typeof";return rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rv(e)}function y$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y$(Object(r),!0).forEach(function(s){F6e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function F6e(e,t,r){return t=$6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $6e(e){var t=L6e(e,"string");return rv(t)=="symbol"?t:t+""}function L6e(e,t){if(rv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(rv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B6e(e,t,r,s,a){for(var i=(s||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(m){var h=i[m],x,p=function(){return x===void 0&&(x=r(h,m)),x};if(m===o-1){var g=e*(h.coordinate+e*p()/2-c);i[m]=h=ia(ia({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate})}else i[m]=h=ia(ia({},h),{},{tickCoord:h.coordinate});var j=pw(e,h.tickCoord,p,l,c);j&&(c=h.tickCoord-e*(p()/2+a),i[m]=ia(ia({},h),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function U6e(e,t,r,s,a,i){var o=(s||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=s[l-1],f=r(u,l-1),m=e*(u.coordinate+e*f/2-d);o[l-1]=u=ia(ia({},u),{},{tickCoord:m>0?u.coordinate-m*e:u.coordinate});var h=pw(e,u.tickCoord,function(){return f},c,d);h&&(d=u.tickCoord-e*(f/2+a),o[l-1]=ia(ia({},u),{},{isShow:!0}))}for(var x=i?l-1:l,p=function(y){var w=o[y],b,N=function(){return b===void 0&&(b=r(w,y)),b};if(y===0){var _=e*(w.coordinate-e*N()/2-c);o[y]=w=ia(ia({},w),{},{tickCoord:_<0?w.coordinate-_*e:w.coordinate})}else o[y]=w=ia(ia({},w),{},{tickCoord:w.coordinate});var S=pw(e,w.tickCoord,N,c,d);S&&(c=w.tickCoord+e*(N()/2+a),o[y]=ia(ia({},w),{},{isShow:!0}))},g=0;g<x;g++)p(g);return o}function t3(e,t,r){var s=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!s)return[];if(Xe(c)||al.isSsr)return R6e(a,typeof c=="number"&&Xe(c)?c:0);var m=[],h=l==="top"||l==="bottom"?"width":"height",x=u&&h==="width"?Eg(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,b){var N=Ot(d)?d(w.value,b):w.value;return h==="width"?D6e(Eg(N,{fontSize:t,letterSpacing:r}),x,f):Eg(N,{fontSize:t,letterSpacing:r})[h]},g=a.length>=2?Pa(a[1].coordinate-a[0].coordinate):1,j=I6e(i,g,h);return c==="equidistantPreserveStart"?M6e(g,j,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=U6e(g,j,p,a,o,c==="preserveStartEnd"):m=B6e(g,j,p,a,o),m.filter(function(y){return y.isShow}))}var V6e=["viewBox"],z6e=["viewBox"],W6e=["ticks"];function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function rh(){return rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},rh.apply(this,arguments)}function j$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j$(Object(r),!0).forEach(function(s){r3(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function YS(e,t){if(e==null)return{};var r=H6e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function H6e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function q6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,TK(s.key),s)}}function G6e(e,t,r){return t&&b$(e.prototype,t),r&&b$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function K6e(e,t,r){return t=xw(t),Y6e(e,kK()?Reflect.construct(t,r||[],xw(e).constructor):t.apply(e,r))}function Y6e(e,t){if(t&&(wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X6e(e)}function X6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kK=function(){return!!e})()}function xw(e){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xw(e)}function Q6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WE(e,t)}function WE(e,t){return WE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},WE(e,t)}function r3(e,t,r){return t=TK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TK(e){var t=Z6e(e,"string");return wp(t)=="symbol"?t:t+""}function Z6e(e,t){if(wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(wp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cx=function(e){function t(r){var s;return q6e(this,t),s=K6e(this,t,[r]),s.state={fontSize:"",letterSpacing:""},s}return Q6e(t,e),G6e(t,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=YS(s,V6e),l=this.props,c=l.viewBox,d=YS(l,z6e);return!vh(i,c)||!vh(o,d)||!vh(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,f=a.mirror,m=a.tickMargin,h,x,p,g,j,y,w=f?-1:1,b=s.tickSize||u,N=Xe(s.tickCoord)?s.tickCoord:s.coordinate;switch(d){case"top":h=x=s.coordinate,g=o+ +!f*c,p=g-w*b,y=p-w*m,j=N;break;case"left":p=g=s.coordinate,x=i+ +!f*l,h=x-w*b,j=h-w*m,y=N;break;case"right":p=g=s.coordinate,x=i+ +f*l,h=x+w*b,j=h+w*m,y=N;break;default:h=x=s.coordinate,g=o+ +f*c,p=g+w*b,y=p+w*m,j=N;break}return{line:{x1:h,y1:p,x2:x,y2:g},tick:{x:j,y}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.orientation,d=s.mirror,u=s.axisLine,f=ga(ga(ga({},wt(this.props,!1)),wt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!d||c==="bottom"&&d);f=ga(ga({},f),{},{x1:a,y1:i+m*l,x2:a+o,y2:i+m*l})}else{var h=+(c==="left"&&!d||c==="right"&&d);f=ga(ga({},f),{},{x1:a+h*o,y1:i,x2:a+h*o,y2:i+l})}return z.createElement("line",rh({},f,{className:Vt("recharts-cartesian-axis-line",Ri(u,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,f=l.tickFormatter,m=l.unit,h=t3(ga(ga({},this.props),{},{ticks:s}),a,i),x=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),g=wt(this.props,!1),j=wt(u,!1),y=ga(ga({},g),{},{fill:"none"},wt(c,!1)),w=h.map(function(b,N){var _=o.getTickLineCoord(b),S=_.line,A=_.tick,E=ga(ga(ga(ga({textAnchor:x,verticalAnchor:p},g),{},{stroke:"none",fill:d},j),A),{},{index:N,payload:b,visibleTicksCount:h.length,tickFormatter:f});return z.createElement(tr,rh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},Kf(o.props,b,N)),c&&z.createElement("line",rh({},y,S,{className:Vt("recharts-cartesian-axis-tick-line",Ri(c,"className"))})),u&&t.renderTickItem(u,E,"".concat(Ot(f)?f(b.value,N):b.value).concat(m||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var f=this.props,m=f.ticks,h=YS(f,W6e),x=m;return Ot(c)&&(x=m&&m.length>0?c(this.props):c(h)),o<=0||l<=0||!x||!x.length?null:z.createElement(tr,{className:Vt("recharts-cartesian-axis",d),ref:function(g){s.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),As.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return z.isValidElement(s)?o=z.cloneElement(s,a):Ot(s)?o=s(a):o=z.createElement(Yf,rh({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(v.Component);r3(cx,"displayName","CartesianAxis");r3(cx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var J6e=["x1","y1","x2","y2","key"],e$e=["offset"];function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function w$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function la(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w$(Object(r),!0).forEach(function(s){t$e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function t$e(e,t,r){return t=r$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r$e(e){var t=n$e(e,"string");return Zf(t)=="symbol"?t:t+""}function n$e(e,t){if(Zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Zf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},mf.apply(this,arguments)}function N$(e,t){if(e==null)return{};var r=s$e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function s$e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var a$e=function(t){var r=t.fill;if(!r||r==="none")return null;var s=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return z.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function OK(e,t){var r;if(z.isValidElement(e))r=z.cloneElement(e,t);else if(Ot(e))r=e(t);else{var s=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=N$(t,J6e),d=wt(c,!1);d.offset;var u=N$(d,e$e);r=z.createElement("line",mf({},u,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function i$e(e){var t=e.x,r=e.width,s=e.horizontal,a=s===void 0?!0:s,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=la(la({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return OK(a,d)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function o$e(e){var t=e.y,r=e.height,s=e.vertical,a=s===void 0?!0:s,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=la(la({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return OK(a,d)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function l$e(e){var t=e.horizontalFill,r=e.fillOpacity,s=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(m){return Math.round(m+a-a)}).sort(function(m,h){return m-h});a!==u[0]&&u.unshift(0);var f=u.map(function(m,h){var x=!u[h+1],p=x?a+o-m:u[h+1]-m;if(p<=0)return null;var g=h%t.length;return z.createElement("rect",{key:"react-".concat(h),y:m,x:s,height:p,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function c$e(e){var t=e.vertical,r=t===void 0?!0:t,s=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!s||!s.length)return null;var u=d.map(function(m){return Math.round(m+i-i)}).sort(function(m,h){return m-h});i!==u[0]&&u.unshift(0);var f=u.map(function(m,h){var x=!u[h+1],p=x?i+l-m:u[h+1]-m;if(p<=0)return null;var g=h%s.length;return z.createElement("rect",{key:"react-".concat(h),x:m,y:o,width:p,height:c,stroke:"none",fill:s[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var d$e=function(t,r){var s=t.xAxis,a=t.width,i=t.height,o=t.offset;return EG(t3(la(la(la({},cx.defaultProps),s),{},{ticks:Oc(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},u$e=function(t,r){var s=t.yAxis,a=t.width,i=t.height,o=t.offset;return EG(t3(la(la(la({},cx.defaultProps),s),{},{ticks:Oc(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Om={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Un(e){var t,r,s,a,i,o,l=QO(),c=ZO(),d=ZFe(),u=la(la({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Om.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Om.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:Om.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Om.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Om.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Om.verticalFill,x:Xe(e.x)?e.x:d.left,y:Xe(e.y)?e.y:d.top,width:Xe(e.width)?e.width:d.width,height:Xe(e.height)?e.height:d.height}),f=u.x,m=u.y,h=u.width,x=u.height,p=u.syncWithTicks,g=u.horizontalValues,j=u.verticalValues,y=YFe(),w=XFe();if(!Xe(h)||h<=0||!Xe(x)||x<=0||!Xe(f)||f!==+f||!Xe(m)||m!==+m)return null;var b=u.verticalCoordinatesGenerator||d$e,N=u.horizontalCoordinatesGenerator||u$e,_=u.horizontalPoints,S=u.verticalPoints;if((!_||!_.length)&&Ot(N)){var A=g&&g.length,E=N({yAxis:w?la(la({},w),{},{ticks:A?g:w.ticks}):void 0,width:l,height:c,offset:d},A?!0:p);nl(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Zf(E),"]")),Array.isArray(E)&&(_=E)}if((!S||!S.length)&&Ot(b)){var P=j&&j.length,D=b({xAxis:y?la(la({},y),{},{ticks:P?j:y.ticks}):void 0,width:l,height:c,offset:d},P?!0:p);nl(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Zf(D),"]")),Array.isArray(D)&&(S=D)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(a$e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),z.createElement(i$e,mf({},u,{offset:d,horizontalPoints:_,xAxis:y,yAxis:w})),z.createElement(o$e,mf({},u,{offset:d,verticalPoints:S,xAxis:y,yAxis:w})),z.createElement(l$e,mf({},u,{horizontalPoints:_})),z.createElement(c$e,mf({},u,{verticalPoints:S})))}Un.displayName="CartesianGrid";var f$e=["type","layout","connectNulls","ref"],m$e=["key"];function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function _$(e,t){if(e==null)return{};var r=h$e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function h$e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ig.apply(this,arguments)}function S$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S$(Object(r),!0).forEach(function(s){zo(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Dm(e){return v$e(e)||g$e(e)||x$e(e)||p$e()}function p$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x$e(e,t){if(e){if(typeof e=="string")return HE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HE(e,t)}}function g$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v$e(e){if(Array.isArray(e))return HE(e)}function HE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function y$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,IK(s.key),s)}}function j$e(e,t,r){return t&&C$(e.prototype,t),r&&C$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function b$e(e,t,r){return t=gw(t),w$e(e,DK()?Reflect.construct(t,r||[],gw(e).constructor):t.apply(e,r))}function w$e(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N$e(e)}function N$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DK=function(){return!!e})()}function gw(e){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gw(e)}function _$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qE(e,t)}function qE(e,t){return qE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},qE(e,t)}function zo(e,t,r){return t=IK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IK(e){var t=S$e(e,"string");return Np(t)=="symbol"?t:t+""}function S$e(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Np(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tc=function(e){function t(){var r;y$e(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=b$e(this,t,[].concat(a)),zo(r,"state",{isAnimationFinished:!0,totalLength:0}),zo(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),zo(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(j,y){return j+y});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),f=o%d,m=l-o,h=[],x=0,p=0;x<c.length;p+=c[x],++x)if(p+c[x]>f){h=[].concat(Dm(c.slice(0,x)),[f-p]);break}var g=h.length%2===0?[0,m]:[m];return[].concat(Dm(t.repeat(c,u)),Dm(h),g).map(function(j){return"".concat(j,"px")}).join(", ")}),zo(r,"id",fm("recharts-line-")),zo(r,"pathRef",function(o){r.mainCurve=o}),zo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),zo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return _$e(t,e),j$e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,f=Mi(u,my);if(!f)return null;var m=function(p,g){return{x:p.x,y:p.y,value:p.value,errorVal:Hn(p.payload,g)}},h={clipPath:s?"url(#clipPath-".concat(a,")"):null};return z.createElement(tr,h,f.map(function(x){return z.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:m})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,f=wt(this.props,!1),m=wt(c,!0),h=d.map(function(p,g){var j=gi(gi(gi({key:"dot-".concat(g),r:3},f),m),{},{value:p.value,dataKey:u,cx:p.x,cy:p.y,index:g,payload:p.payload});return t.renderDotItem(c,j)}),x={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return z.createElement(tr,Ig({className:"recharts-line-dots",key:"dots"},x),h)}},{key:"renderCurveStatically",value:function(s,a,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var f=_$(l,f$e),m=gi(gi(gi({},wt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:c,layout:d,connectNulls:u});return z.createElement(Pf,Ig({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,m=o.animationEasing,h=o.animationId,x=o.animateNewValues,p=o.width,g=o.height,j=this.state,y=j.prevPoints,w=j.totalLength;return z.createElement(dl,{begin:u,duration:f,isActive:d,easing:m,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var N=b.t;if(y){var _=y.length/l.length,S=l.map(function(I,W){var H=Math.floor(W*_);if(y[H]){var F=y[H],T=xs(F.x,I.x),k=xs(F.y,I.y);return gi(gi({},I),{},{x:T(N),y:k(N)})}if(x){var M=xs(p*2,I.x),O=xs(g/2,I.y);return gi(gi({},I),{},{x:M(N),y:O(N)})}return gi(gi({},I),{},{x:I.x,y:I.y})});return i.renderCurveStatically(S,s,a)}var A=xs(0,w),E=A(N),P;if(c){var D="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});P=i.getStrokeDasharray(E,w,D)}else P=i.generateSimpleStrokeDasharray(w,E);return i.renderCurveStatically(l,s,a,{strokeDasharray:P})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!Xf(d,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,u=a.yAxis,f=a.top,m=a.left,h=a.width,x=a.height,p=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var j=this.state.isAnimationFinished,y=l.length===1,w=Vt("recharts-line",c),b=d&&d.allowDataOverflow,N=u&&u.allowDataOverflow,_=b||N,S=$t(g)?this.id:g,A=(s=wt(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},E=A.r,P=E===void 0?3:E,D=A.strokeWidth,I=D===void 0?2:D,W=jH(o)?o:{},H=W.clipDot,F=H===void 0?!0:H,T=P*2+I;return z.createElement(tr,{className:w},b||N?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(S)},z.createElement("rect",{x:b?m:m-h/2,y:N?f:f-x/2,width:b?h:h*2,height:N?x:x*2})),!F&&z.createElement("clipPath",{id:"clipPath-dots-".concat(S)},z.createElement("rect",{x:m-T/2,y:f-T/2,width:h+T,height:x+T}))):null,!y&&this.renderCurve(_,S),this.renderErrorBar(_,S),(y||o)&&this.renderDots(_,F,S),(!p||j)&&Kl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat(Dm(s),[0]):s,o=[],l=0;l<a;++l)o=[].concat(Dm(o),Dm(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if(z.isValidElement(s))i=z.cloneElement(s,a);else if(Ot(s))i=s(a);else{var o=a.key,l=_$(a,m$e),c=Vt("recharts-line-dot",typeof s!="boolean"?s.className:"");i=z.createElement(hy,Ig({key:o},l,{className:c}))}return i}}])}(v.PureComponent);zo(tc,"displayName","Line");zo(tc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!al.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});zo(tc,"getComposedData",function(e){var t=e.props,r=e.xAxis,s=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,f=c.map(function(m,h){var x=Hn(m,o);return u==="horizontal"?{x:K1({axis:r,ticks:a,bandSize:l,entry:m,index:h}),y:$t(x)?null:s.scale(x),value:x,payload:m}:{x:$t(x)?null:r.scale(x),y:K1({axis:s,ticks:i,bandSize:l,entry:m,index:h}),value:x,payload:m}});return gi({points:f,layout:u},d)});var C$e=["layout","type","stroke","connectNulls","isRange","ref"],A$e=["key"],RK;function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function MK(e,t){if(e==null)return{};var r=E$e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function E$e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},hf.apply(this,arguments)}function A$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function _d(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A$(Object(r),!0).forEach(function(s){zl(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function P$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E$(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,$K(s.key),s)}}function k$e(e,t,r){return t&&E$(e.prototype,t),r&&E$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function T$e(e,t,r){return t=vw(t),O$e(e,FK()?Reflect.construct(t,r||[],vw(e).constructor):t.apply(e,r))}function O$e(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D$e(e)}function D$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FK=function(){return!!e})()}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vw(e)}function I$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GE(e,t)}function GE(e,t){return GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},GE(e,t)}function zl(e,t,r){return t=$K(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $K(e){var t=R$e(e,"string");return _p(t)=="symbol"?t:t+""}function R$e(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(_p(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rd=function(e){function t(){var r;P$e(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=T$e(this,t,[].concat(a)),zl(r,"state",{isAnimationFinished:!0}),zl(r,"id",fm("recharts-area-")),zl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ot(o)&&o()}),zl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ot(o)&&o()}),r}return I$e(t,e),k$e(t,[{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,f=c.dataKey,m=wt(this.props,!1),h=wt(d,!0),x=u.map(function(g,j){var y=_d(_d(_d({key:"dot-".concat(j),r:3},m),h),{},{index:j,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:u});return t.renderDotItem(d,y)}),p={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return z.createElement(tr,hf({className:"recharts-area-dots"},p),x)}},{key:"renderHorizontalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=s*Math.abs(c-d),f=Wd(o.map(function(m){return m.y||0}));return Xe(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Wd(i.map(function(m){return m.y||0})),f)),Xe(f)?z.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=s*Math.abs(c-d),f=Wd(o.map(function(m){return m.x||0}));return Xe(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Wd(i.map(function(m){return m.x||0})),f)),Xe(f)?z.createElement("rect",{x:0,y:c<d?c:c-u,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(s){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,a,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,f=l.connectNulls,m=l.isRange;l.ref;var h=MK(l,C$e);return z.createElement(tr,{clipPath:i?"url(#clipPath-".concat(o,")"):null},z.createElement(Pf,hf({},wt(h,!0),{points:s,connectNulls:f,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&z.createElement(Pf,hf({},wt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:s})),u!=="none"&&m&&z.createElement(Pf,hf({},wt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,m=o.animationEasing,h=o.animationId,x=this.state,p=x.prevPoints,g=x.prevBaseLine;return z.createElement(dl,{begin:u,duration:f,isActive:d,easing:m,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var y=j.t;if(p){var w=p.length/l.length,b=l.map(function(A,E){var P=Math.floor(E*w);if(p[P]){var D=p[P],I=xs(D.x,A.x),W=xs(D.y,A.y);return _d(_d({},A),{},{x:I(y),y:W(y)})}return A}),N;if(Xe(c)&&typeof c=="number"){var _=xs(g,c);N=_(y)}else if($t(c)||tx(c)){var S=xs(g,0);N=S(y)}else N=c.map(function(A,E){var P=Math.floor(E*w);if(g[P]){var D=g[P],I=xs(D.x,A.x),W=xs(D.y,A.y);return _d(_d({},A),{},{x:I(y),y:W(y)})}return A});return i.renderAreaStatically(b,N,s,a)}return z.createElement(tr,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(y))),z.createElement(tr,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,s,a)))})}},{key:"renderArea",value:function(s,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,f=d.prevBaseLine,m=d.totalLength;return c&&o&&o.length&&(!u&&m>0||!Xf(u,o)||!Xf(f,l))?this.renderAreaWithAnimation(s,a):this.renderAreaStatically(o,l,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.top,u=a.left,f=a.xAxis,m=a.yAxis,h=a.width,x=a.height,p=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var j=this.state.isAnimationFinished,y=l.length===1,w=Vt("recharts-area",c),b=f&&f.allowDataOverflow,N=m&&m.allowDataOverflow,_=b||N,S=$t(g)?this.id:g,A=(s=wt(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},E=A.r,P=E===void 0?3:E,D=A.strokeWidth,I=D===void 0?2:D,W=jH(o)?o:{},H=W.clipDot,F=H===void 0?!0:H,T=P*2+I;return z.createElement(tr,{className:w},b||N?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(S)},z.createElement("rect",{x:b?u:u-h/2,y:N?d:d-x/2,width:b?h:h*2,height:N?x:x*2})),!F&&z.createElement("clipPath",{id:"clipPath-dots-".concat(S)},z.createElement("rect",{x:u-T/2,y:d-T/2,width:h+T,height:x+T}))):null,y?null:this.renderArea(_,S),(o||y)&&this.renderDots(_,F,S),(!p||j)&&Kl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:s.points!==a.curPoints||s.baseLine!==a.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])}(v.PureComponent);RK=rd;zl(rd,"displayName","Area");zl(rd,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!al.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});zl(rd,"getBaseValue",function(e,t,r,s){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(Xe(l)&&typeof l=="number")return l;var c=a==="horizontal"?s:r,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),f=Math.min(d[0],d[1]);return l==="dataMin"?f:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});zl(rd,"getComposedData",function(e){var t=e.props,r=e.item,s=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,m=e.offset,h=t.layout,x=d&&d.length,p=RK.getBaseValue(t,r,s,a),g=h==="horizontal",j=!1,y=f.map(function(b,N){var _;x?_=d[u+N]:(_=Hn(b,c),Array.isArray(_)?j=!0:_=[p,_]);var S=_[1]==null||x&&Hn(b,c)==null;return g?{x:K1({axis:s,ticks:i,bandSize:l,entry:b,index:N}),y:S?null:a.scale(_[1]),value:_,payload:b}:{x:S?null:s.scale(_[1]),y:K1({axis:a,ticks:o,bandSize:l,entry:b,index:N}),value:_,payload:b}}),w;return x||j?w=y.map(function(b){var N=Array.isArray(b.value)?b.value[0]:null;return g?{x:b.x,y:N!=null&&b.y!=null?a.scale(N):null}:{x:N!=null?s.scale(N):null,y:b.y}}):w=g?a.scale(p):s.scale(p),_d({points:y,baseLine:w,layout:h,isRange:j},m)});zl(rd,"renderDotItem",function(e,t){var r;if(z.isValidElement(e))r=z.cloneElement(e,t);else if(Ot(e))r=e(t);else{var s=Vt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=MK(t,A$e);r=z.createElement(hy,hf({},i,{key:a,className:s}))}return r});function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function M$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F$e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,UK(s.key),s)}}function $$e(e,t,r){return t&&F$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L$e(e,t,r){return t=yw(t),B$e(e,LK()?Reflect.construct(t,r||[],yw(e).constructor):t.apply(e,r))}function B$e(e,t){if(t&&(Sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U$e(e)}function U$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LK=function(){return!!e})()}function yw(e){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(e)}function V$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KE(e,t)}function KE(e,t){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},KE(e,t)}function BK(e,t,r){return t=UK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UK(e){var t=z$e(e,"string");return Sp(t)=="symbol"?t:t+""}function z$e(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Sp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YE(){return YE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},YE.apply(this,arguments)}function W$e(e){var t=e.xAxisId,r=QO(),s=ZO(),a=bK(t);return a==null?null:z.createElement(cx,YE({},a,{className:Vt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(o){return Oc(o,!0)}}))}var an=function(e){function t(){return M$e(this,t),L$e(this,t,arguments)}return V$e(t,e),$$e(t,[{key:"render",value:function(){return z.createElement(W$e,this.props)}}])}(z.Component);BK(an,"displayName","XAxis");BK(an,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function H$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q$e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,WK(s.key),s)}}function G$e(e,t,r){return t&&q$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K$e(e,t,r){return t=jw(t),Y$e(e,VK()?Reflect.construct(t,r||[],jw(e).constructor):t.apply(e,r))}function Y$e(e,t){if(t&&(Cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X$e(e)}function X$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VK=function(){return!!e})()}function jw(e){return jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jw(e)}function Q$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XE(e,t)}function XE(e,t){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},XE(e,t)}function zK(e,t,r){return t=WK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WK(e){var t=Z$e(e,"string");return Cp(t)=="symbol"?t:t+""}function Z$e(e,t){if(Cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Cp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QE(){return QE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},QE.apply(this,arguments)}var J$e=function(t){var r=t.yAxisId,s=QO(),a=ZO(),i=wK(r);return i==null?null:z.createElement(cx,QE({},i,{className:Vt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return Oc(l,!0)}}))},on=function(e){function t(){return H$e(this,t),K$e(this,t,arguments)}return Q$e(t,e),G$e(t,[{key:"render",value:function(){return z.createElement(J$e,this.props)}}])}(z.Component);zK(on,"displayName","YAxis");zK(on,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function P$(e){return nLe(e)||rLe(e)||tLe(e)||eLe()}function eLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tLe(e,t){if(e){if(typeof e=="string")return ZE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZE(e,t)}}function rLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nLe(e){if(Array.isArray(e))return ZE(e)}function ZE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var JE=function(t,r,s,a,i){var o=Mi(t,e3),l=Mi(t,R2),c=[].concat(P$(o),P$(l)),d=Mi(t,F2),u="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(p,g){if(g.props[u]===s&&Yl(g.props,"extendDomain")&&Xe(g.props[f])){var j=g.props[f];return[Math.min(p[0],j),Math.max(p[1],j)]}return p},m)),d.length){var h="".concat(f,"1"),x="".concat(f,"2");m=d.reduce(function(p,g){if(g.props[u]===s&&Yl(g.props,"extendDomain")&&Xe(g.props[h])&&Xe(g.props[x])){var j=g.props[h],y=g.props[x];return[Math.min(p[0],j,y),Math.max(p[1],j,y)]}return p},m)}return i&&i.length&&(m=i.reduce(function(p,g){return Xe(g)?[Math.min(p[0],g),Math.max(p[1],g)]:p},m)),m},HK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,f,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new a(u,f||c,m),x=r?r+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],h]:c._events[x].push(h):(c._events[x]=h,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,x=new Array(h);m<h;m++)x[m]=f[m].fn;return x},l.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,m,h,x){var p=r?r+d:d;if(!this._events[p])return!1;var g=this._events[p],j=arguments.length,y,w;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),j){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,m),!0;case 5:return g.fn.call(g.context,u,f,m,h),!0;case 6:return g.fn.call(g.context,u,f,m,h,x),!0}for(w=1,y=new Array(j-1);w<j;w++)y[w-1]=arguments[w];g.fn.apply(g.context,y)}else{var b=g.length,N;for(w=0;w<b;w++)switch(g[w].once&&this.removeListener(d,g[w].fn,void 0,!0),j){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,u);break;case 3:g[w].fn.call(g[w].context,u,f);break;case 4:g[w].fn.call(g[w].context,u,f,m);break;default:if(!y)for(N=1,y=new Array(j-1);N<j;N++)y[N-1]=arguments[N];g[w].fn.apply(g[w].context,y)}}return!0},l.prototype.on=function(d,u,f){return i(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return i(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,m){var h=r?r+d:d;if(!this._events[h])return this;if(!u)return o(this,h),this;var x=this._events[h];if(x.fn)x.fn===u&&(!m||x.once)&&(!f||x.context===f)&&o(this,h);else{for(var p=0,g=[],j=x.length;p<j;p++)(x[p].fn!==u||m&&!x[p].once||f&&x[p].context!==f)&&g.push(x[p]);g.length?this._events[h]=g.length===1?g[0]:g:o(this,h)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(HK);var sLe=HK.exports;const aLe=Pr(sLe);var XS=new aLe,QS="recharts.syncMouseEvents";function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}function iLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oLe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,qK(s.key),s)}}function lLe(e,t,r){return t&&oLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZS(e,t,r){return t=qK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qK(e){var t=cLe(e,"string");return nv(t)=="symbol"?t:t+""}function cLe(e,t){if(nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(nv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dLe=function(){function e(){iLe(this,e),ZS(this,"activeIndex",0),ZS(this,"coordinateList",[]),ZS(this,"layout","horizontal")}return lLe(e,[{key:"setDetails",value:function(r){var s,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,f=u===void 0?null:u,m=r.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((s=window)===null||s===void 0?void 0:s.scrollY)||0,f=i+c+d,m=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function uLe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var s=e==null?void 0:e[0],a=e==null?void 0:e[1];if(s&&a&&Xe(s)&&Xe(a))return!0}return!1}function fLe(e,t,r,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?s:r.width-1,height:e==="horizontal"?r.height-1:s}}function GK(e){var t=e.cx,r=e.cy,s=e.radius,a=e.startAngle,i=e.endAngle,o=Qr(t,r,s,a),l=Qr(t,r,s,i);return{points:[o,l],cx:t,cy:r,radius:s,startAngle:a,endAngle:i}}function mLe(e,t,r){var s,a,i,o;if(e==="horizontal")s=t.x,i=s,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,s=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,f=t.angle,m=Qr(l,c,d,f),h=Qr(l,c,u,f);s=m.x,a=m.y,i=h.x,o=h.y}else return GK(t);return[{x:s,y:a},{x:i,y:o}]}function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function k$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Cj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k$(Object(r),!0).forEach(function(s){hLe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function hLe(e,t,r){return t=pLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pLe(e){var t=xLe(e,"string");return sv(t)=="symbol"?t:t+""}function xLe(e,t){if(sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(sv(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gLe(e){var t,r,s=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,h=(t=s.props.cursor)!==null&&t!==void 0?t:(r=s.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!s||!h||!i||!o||m!=="ScatterChart"&&a!=="axis")return null;var x,p=Pf;if(m==="ScatterChart")x=o,p=SIe;else if(m==="BarChart")x=fLe(f,o,c,u),p=qO;else if(f==="radial"){var g=GK(o),j=g.cx,y=g.cy,w=g.radius,b=g.startAngle,N=g.endAngle;x={cx:j,cy:y,startAngle:b,endAngle:N,innerRadius:w,outerRadius:w},p=LG}else x={points:mLe(f,o,c)},p=Pf;var _=Cj(Cj(Cj(Cj({stroke:"#ccc",pointerEvents:"none"},c),x),wt(h,!1)),{},{payload:l,payloadIndex:d,className:Vt("recharts-tooltip-cursor",h.className)});return v.isValidElement(h)?v.cloneElement(h,_):v.createElement(p,_)}var vLe=["item"],yLe=["children","className","width","height","style","compact","title","desc"];function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Rg.apply(this,arguments)}function T$(e,t){return wLe(e)||bLe(e,t)||YK(e,t)||jLe()}function jLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function wLe(e){if(Array.isArray(e))return e}function O$(e,t){if(e==null)return{};var r=NLe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function NLe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function _Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SLe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,XK(s.key),s)}}function CLe(e,t,r){return t&&SLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ALe(e,t,r){return t=bw(t),ELe(e,KK()?Reflect.construct(t,r||[],bw(e).constructor):t.apply(e,r))}function ELe(e,t){if(t&&(Ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PLe(e)}function PLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KK=function(){return!!e})()}function bw(e){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(e)}function kLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eP(e,t)}function eP(e,t){return eP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},eP(e,t)}function Ep(e){return DLe(e)||OLe(e)||YK(e)||TLe()}function TLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YK(e,t){if(e){if(typeof e=="string")return tP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tP(e,t)}}function OLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DLe(e){if(Array.isArray(e))return tP(e)}function tP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function D$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D$(Object(r),!0).forEach(function(s){kt(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function kt(e,t,r){return t=XK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XK(e){var t=ILe(e,"string");return Ap(t)=="symbol"?t:t+""}function ILe(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t||"default");if(Ap(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RLe={xAxis:["bottom","top"],yAxis:["left","right"]},MLe={width:"100%",height:"100%"},QK={x:0,y:0};function Aj(e){return e}var FLe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},$Le=function(t,r,s,a){var i=r.find(function(u){return u&&u.index===s});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return Be(Be(Be({},a),Qr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return Be(Be(Be({},a),Qr(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return QK},$2=function(t,r){var s=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(s??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Ep(l),Ep(d)):l},[]);return o.length>0?o:t&&t.length&&Xe(a)&&Xe(i)?t.slice(a,i+1):[]};function ZK(e){return e==="number"?[0,"auto"]:void 0}var rP=function(t,r,s,a){var i=t.graphicalItems,o=t.tooltipAxis,l=$2(r,t);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(c,d){var u,f=(u=d.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?l:f;m=j1(h,o.dataKey,a)}else m=f&&f[s]||l[s];return m?[].concat(Ep(c),[DG(d,m)]):c},[])},I$=function(t,r,s,a){var i=a||{x:t.chartX,y:t.chartY},o=FLe(i,s),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=a3e(o,l,d,c);if(u>=0&&d){var f=d[u]&&d[u].value,m=rP(t,r,u,f),h=$Le(s,l,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:m,activeCoordinate:h}}return null},LLe=function(t,r){var s=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,m=t.stackOffset,h=AG(u,i);return s.reduce(function(x,p){var g,j=p.type.defaultProps!==void 0?Be(Be({},p.type.defaultProps),p.props):p.props,y=j.type,w=j.dataKey,b=j.allowDataOverflow,N=j.allowDuplicatedCategory,_=j.scale,S=j.ticks,A=j.includeHidden,E=j[o];if(x[E])return x;var P=$2(t.data,{graphicalItems:a.filter(function(R){var V,L=o in R.props?R.props[o]:(V=R.type.defaultProps)===null||V===void 0?void 0:V[o];return L===E}),dataStartIndex:c,dataEndIndex:d}),D=P.length,I,W,H;uLe(j.domain,b,y)&&(I=pE(j.domain,null,b),h&&(y==="number"||_!=="auto")&&(H=kg(P,w,"category")));var F=ZK(y);if(!I||I.length===0){var T,k=(T=j.domain)!==null&&T!==void 0?T:F;if(w){if(I=kg(P,w,y),y==="category"&&h){var M=Xje(I);N&&M?(W=I,I=ow(0,D)):N||(I=e6(k,I,p).reduce(function(R,V){return R.indexOf(V)>=0?R:[].concat(Ep(R),[V])},[]))}else if(y==="category")N?I=I.filter(function(R){return R!==""&&!$t(R)}):I=e6(k,I,p).reduce(function(R,V){return R.indexOf(V)>=0||V===""||$t(V)?R:[].concat(Ep(R),[V])},[]);else if(y==="number"){var O=d3e(P,a.filter(function(R){var V,L,G=o in R.props?R.props[o]:(V=R.type.defaultProps)===null||V===void 0?void 0:V[o],le="hide"in R.props?R.props.hide:(L=R.type.defaultProps)===null||L===void 0?void 0:L.hide;return G===E&&(A||!le)}),w,i,u);O&&(I=O)}h&&(y==="number"||_!=="auto")&&(H=kg(P,w,"category"))}else h?I=ow(0,D):l&&l[E]&&l[E].hasStack&&y==="number"?I=m==="expand"?[0,1]:OG(l[E].stackGroups,c,d):I=CG(P,a.filter(function(R){var V=o in R.props?R.props[o]:R.type.defaultProps[o],L="hide"in R.props?R.props.hide:R.type.defaultProps.hide;return V===E&&(A||!L)}),y,u,!0);if(y==="number")I=JE(f,I,E,i,S),k&&(I=pE(k,I,b));else if(y==="category"&&k){var K=k,se=I.every(function(R){return K.indexOf(R)>=0});se&&(I=K)}}return Be(Be({},x),{},kt({},E,Be(Be({},j),{},{axisType:i,domain:I,categoricalDomain:H,duplicateDomain:W,originalDomain:(g=j.domain)!==null&&g!==void 0?g:F,isCategorical:h,layout:u})))},{})},BLe=function(t,r){var s=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,m=$2(t.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:d}),h=m.length,x=AG(u,i),p=-1;return s.reduce(function(g,j){var y=j.type.defaultProps!==void 0?Be(Be({},j.type.defaultProps),j.props):j.props,w=y[o],b=ZK("number");if(!g[w]){p++;var N;return x?N=ow(0,h):l&&l[w]&&l[w].hasStack?(N=OG(l[w].stackGroups,c,d),N=JE(f,N,w,i)):(N=pE(b,CG(m,s.filter(function(_){var S,A,E=o in _.props?_.props[o]:(S=_.type.defaultProps)===null||S===void 0?void 0:S[o],P="hide"in _.props?_.props.hide:(A=_.type.defaultProps)===null||A===void 0?void 0:A.hide;return E===w&&!P}),"number",u),a.defaultProps.allowDataOverflow),N=JE(f,N,w,i)),Be(Be({},g),{},kt({},w,Be(Be({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ri(RLe,"".concat(i,".").concat(p%2),null),domain:N,originalDomain:b,isCategorical:x,layout:u})))}return g},{})},ULe=function(t,r){var s=r.axisType,a=s===void 0?"xAxis":s,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),m=Mi(u,i),h={};return m&&m.length?h=LLe(t,{axes:m,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(h=BLe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),h},VLe=function(t){var r=Td(t),s=Oc(r,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:yO(s,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Y1(r,s)}},R$=function(t){var r=t.children,s=t.defaultShowTooltip,a=Si(r,gp),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},zLe=function(t){return!t||!t.length?!1:t.some(function(r){var s=Mc(r&&r.type);return s&&s.indexOf("Bar")>=0})},M$=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},WLe=function(t,r){var s=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=s.width,u=s.height,f=s.children,m=s.margin||{},h=Si(f,gp),x=Si(f,sl),p=Object.keys(c).reduce(function(N,_){var S=c[_],A=S.orientation;return!S.mirror&&!S.hide?Be(Be({},N),{},kt({},A,N[A]+S.width)):N},{left:m.left||0,right:m.right||0}),g=Object.keys(o).reduce(function(N,_){var S=o[_],A=S.orientation;return!S.mirror&&!S.hide?Be(Be({},N),{},kt({},A,Ri(N,"".concat(A))+S.height)):N},{top:m.top||0,bottom:m.bottom||0}),j=Be(Be({},g),p),y=j.bottom;h&&(j.bottom+=h.props.height||gp.defaultProps.height),x&&r&&(j=l3e(j,a,s,r));var w=d-j.left-j.right,b=u-j.top-j.bottom;return Be(Be({brushBottom:y},j),{},{width:Math.max(w,0),height:Math.max(b,0)})},HLe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},L2=function(t){var r=t.chartName,s=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,m=function(g,j){var y=j.graphicalItems,w=j.stackGroups,b=j.offset,N=j.updateId,_=j.dataStartIndex,S=j.dataEndIndex,A=g.barSize,E=g.layout,P=g.barGap,D=g.barCategoryGap,I=g.maxBarSize,W=M$(E),H=W.numericAxisName,F=W.cateAxisName,T=zLe(y),k=[];return y.forEach(function(M,O){var K=$2(g.data,{graphicalItems:[M],dataStartIndex:_,dataEndIndex:S}),se=M.type.defaultProps!==void 0?Be(Be({},M.type.defaultProps),M.props):M.props,R=se.dataKey,V=se.maxBarSize,L=se["".concat(H,"Id")],G=se["".concat(F,"Id")],le={},me=c.reduce(function(ce,je){var Le=j["".concat(je.axisType,"Map")],Ie=se["".concat(je.axisType,"Id")];Le&&Le[Ie]||je.axisType==="zAxis"||yu();var de=Le[Ie];return Be(Be({},ce),{},kt(kt({},je.axisType,de),"".concat(je.axisType,"Ticks"),Oc(de)))},le),B=me[F],Y=me["".concat(F,"Ticks")],oe=w&&w[L]&&w[L].hasStack&&y3e(M,w[L].stackGroups),Ne=Mc(M.type).indexOf("Bar")>=0,ue=Y1(B,Y),ve=[],xe=T&&i3e({barSize:A,stackGroups:w,totalSize:HLe(me,F)});if(Ne){var Ee,Fe,Oe=$t(V)?I:V,ae=(Ee=(Fe=Y1(B,Y,!0))!==null&&Fe!==void 0?Fe:Oe)!==null&&Ee!==void 0?Ee:0;ve=o3e({barGap:P,barCategoryGap:D,bandSize:ae!==ue?ae:ue,sizeList:xe[G],maxBarSize:Oe}),ae!==ue&&(ve=ve.map(function(ce){return Be(Be({},ce),{},{position:Be(Be({},ce.position),{},{offset:ce.position.offset-ae/2})})}))}var he=M&&M.type&&M.type.getComposedData;he&&k.push({props:Be(Be({},he(Be(Be({},me),{},{displayedData:K,props:g,dataKey:R,item:M,bandSize:ue,barPosition:ve,offset:b,stackedData:oe,layout:E,dataStartIndex:_,dataEndIndex:S}))),{},kt(kt(kt({key:M.key||"item-".concat(O)},H,me[H]),F,me[F]),"animationId",N)),childIndex:obe(M,g.children),item:M})}),k},h=function(g,j){var y=g.props,w=g.dataStartIndex,b=g.dataEndIndex,N=g.updateId;if(!KR({props:y}))return null;var _=y.children,S=y.layout,A=y.stackOffset,E=y.data,P=y.reverseStackOrder,D=M$(S),I=D.numericAxisName,W=D.cateAxisName,H=Mi(_,s),F=g3e(E,H,"".concat(I,"Id"),"".concat(W,"Id"),A,P),T=c.reduce(function(se,R){var V="".concat(R.axisType,"Map");return Be(Be({},se),{},kt({},V,ULe(y,Be(Be({},R),{},{graphicalItems:H,stackGroups:R.axisType===I&&F,dataStartIndex:w,dataEndIndex:b}))))},{}),k=WLe(Be(Be({},T),{},{props:y,graphicalItems:H}),j==null?void 0:j.legendBBox);Object.keys(T).forEach(function(se){T[se]=u(y,T[se],k,se.replace("Map",""),r)});var M=T["".concat(W,"Map")],O=VLe(M),K=m(y,Be(Be({},T),{},{dataStartIndex:w,dataEndIndex:b,updateId:N,graphicalItems:H,stackGroups:F,offset:k}));return Be(Be({formattedGraphicalItems:K,graphicalItems:H,offset:k,stackGroups:F},O),T)},x=function(p){function g(j){var y,w,b;return _Le(this,g),b=ALe(this,g,[j]),kt(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),kt(b,"accessibilityManager",new dLe),kt(b,"handleLegendBBoxUpdate",function(N){if(N){var _=b.state,S=_.dataStartIndex,A=_.dataEndIndex,E=_.updateId;b.setState(Be({legendBBox:N},h({props:b.props,dataStartIndex:S,dataEndIndex:A,updateId:E},Be(Be({},b.state),{},{legendBBox:N}))))}}),kt(b,"handleReceiveSyncEvent",function(N,_,S){if(b.props.syncId===N){if(S===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(_)}}),kt(b,"handleBrushChange",function(N){var _=N.startIndex,S=N.endIndex;if(_!==b.state.dataStartIndex||S!==b.state.dataEndIndex){var A=b.state.updateId;b.setState(function(){return Be({dataStartIndex:_,dataEndIndex:S},h({props:b.props,dataStartIndex:_,dataEndIndex:S,updateId:A},b.state))}),b.triggerSyncEvent({dataStartIndex:_,dataEndIndex:S})}}),kt(b,"handleMouseEnter",function(N){var _=b.getMouseInfo(N);if(_){var S=Be(Be({},_),{},{isTooltipActive:!0});b.setState(S),b.triggerSyncEvent(S);var A=b.props.onMouseEnter;Ot(A)&&A(S,N)}}),kt(b,"triggeredAfterMouseMove",function(N){var _=b.getMouseInfo(N),S=_?Be(Be({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(S),b.triggerSyncEvent(S);var A=b.props.onMouseMove;Ot(A)&&A(S,N)}),kt(b,"handleItemMouseEnter",function(N){b.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),kt(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),kt(b,"handleMouseMove",function(N){N.persist(),b.throttleTriggeredAfterMouseMove(N)}),kt(b,"handleMouseLeave",function(N){b.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};b.setState(_),b.triggerSyncEvent(_);var S=b.props.onMouseLeave;Ot(S)&&S(_,N)}),kt(b,"handleOuterEvent",function(N){var _=ibe(N),S=Ri(b.props,"".concat(_));if(_&&Ot(S)){var A,E;/.*touch.*/i.test(_)?E=b.getMouseInfo(N.changedTouches[0]):E=b.getMouseInfo(N),S((A=E)!==null&&A!==void 0?A:{},N)}}),kt(b,"handleClick",function(N){var _=b.getMouseInfo(N);if(_){var S=Be(Be({},_),{},{isTooltipActive:!0});b.setState(S),b.triggerSyncEvent(S);var A=b.props.onClick;Ot(A)&&A(S,N)}}),kt(b,"handleMouseDown",function(N){var _=b.props.onMouseDown;if(Ot(_)){var S=b.getMouseInfo(N);_(S,N)}}),kt(b,"handleMouseUp",function(N){var _=b.props.onMouseUp;if(Ot(_)){var S=b.getMouseInfo(N);_(S,N)}}),kt(b,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),kt(b,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.handleMouseDown(N.changedTouches[0])}),kt(b,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&b.handleMouseUp(N.changedTouches[0])}),kt(b,"triggerSyncEvent",function(N){b.props.syncId!==void 0&&XS.emit(QS,b.props.syncId,N,b.eventEmitterSymbol)}),kt(b,"applySyncEvent",function(N){var _=b.props,S=_.layout,A=_.syncMethod,E=b.state.updateId,P=N.dataStartIndex,D=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)b.setState(Be({dataStartIndex:P,dataEndIndex:D},h({props:b.props,dataStartIndex:P,dataEndIndex:D,updateId:E},b.state)));else if(N.activeTooltipIndex!==void 0){var I=N.chartX,W=N.chartY,H=N.activeTooltipIndex,F=b.state,T=F.offset,k=F.tooltipTicks;if(!T)return;if(typeof A=="function")H=A(k,N);else if(A==="value"){H=-1;for(var M=0;M<k.length;M++)if(k[M].value===N.activeLabel){H=M;break}}var O=Be(Be({},T),{},{x:T.left,y:T.top}),K=Math.min(I,O.x+O.width),se=Math.min(W,O.y+O.height),R=k[H]&&k[H].value,V=rP(b.state,b.props.data,H),L=k[H]?{x:S==="horizontal"?k[H].coordinate:K,y:S==="horizontal"?se:k[H].coordinate}:QK;b.setState(Be(Be({},N),{},{activeLabel:R,activeCoordinate:L,activePayload:V,activeTooltipIndex:H}))}else b.setState(N)}),kt(b,"renderCursor",function(N){var _,S=b.state,A=S.isTooltipActive,E=S.activeCoordinate,P=S.activePayload,D=S.offset,I=S.activeTooltipIndex,W=S.tooltipAxisBandSize,H=b.getTooltipEventType(),F=(_=N.props.active)!==null&&_!==void 0?_:A,T=b.props.layout,k=N.key||"_recharts-cursor";return z.createElement(gLe,{key:k,activeCoordinate:E,activePayload:P,activeTooltipIndex:I,chartName:r,element:N,isActive:F,layout:T,offset:D,tooltipAxisBandSize:W,tooltipEventType:H})}),kt(b,"renderPolarAxis",function(N,_,S){var A=Ri(N,"type.axisType"),E=Ri(b.state,"".concat(A,"Map")),P=N.type.defaultProps,D=P!==void 0?Be(Be({},P),N.props):N.props,I=E&&E[D["".concat(A,"Id")]];return v.cloneElement(N,Be(Be({},I),{},{className:Vt(A,I.className),key:N.key||"".concat(_,"-").concat(S),ticks:Oc(I,!0)}))}),kt(b,"renderPolarGrid",function(N){var _=N.props,S=_.radialLines,A=_.polarAngles,E=_.polarRadius,P=b.state,D=P.radiusAxisMap,I=P.angleAxisMap,W=Td(D),H=Td(I),F=H.cx,T=H.cy,k=H.innerRadius,M=H.outerRadius;return v.cloneElement(N,{polarAngles:Array.isArray(A)?A:Oc(H,!0).map(function(O){return O.coordinate}),polarRadius:Array.isArray(E)?E:Oc(W,!0).map(function(O){return O.coordinate}),cx:F,cy:T,innerRadius:k,outerRadius:M,key:N.key||"polar-grid",radialLines:S})}),kt(b,"renderLegend",function(){var N=b.state.formattedGraphicalItems,_=b.props,S=_.children,A=_.width,E=_.height,P=b.props.margin||{},D=A-(P.left||0)-(P.right||0),I=_G({children:S,formattedGraphicalItems:N,legendWidth:D,legendContent:d});if(!I)return null;var W=I.item,H=O$(I,vLe);return v.cloneElement(W,Be(Be({},H),{},{chartWidth:A,chartHeight:E,margin:P,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),kt(b,"renderTooltip",function(){var N,_=b.props,S=_.children,A=_.accessibilityLayer,E=Si(S,mr);if(!E)return null;var P=b.state,D=P.isTooltipActive,I=P.activeCoordinate,W=P.activePayload,H=P.activeLabel,F=P.offset,T=(N=E.props.active)!==null&&N!==void 0?N:D;return v.cloneElement(E,{viewBox:Be(Be({},F),{},{x:F.left,y:F.top}),active:T,label:H,payload:T?W:[],coordinate:I,accessibilityLayer:A})}),kt(b,"renderBrush",function(N){var _=b.props,S=_.margin,A=_.data,E=b.state,P=E.offset,D=E.dataStartIndex,I=E.dataEndIndex,W=E.updateId;return v.cloneElement(N,{key:N.key||"_recharts-brush",onChange:wj(b.handleBrushChange,N.props.onChange),data:A,x:Xe(N.props.x)?N.props.x:P.left,y:Xe(N.props.y)?N.props.y:P.top+P.height+P.brushBottom-(S.bottom||0),width:Xe(N.props.width)?N.props.width:P.width,startIndex:D,endIndex:I,updateId:"brush-".concat(W)})}),kt(b,"renderReferenceElement",function(N,_,S){if(!N)return null;var A=b,E=A.clipPathId,P=b.state,D=P.xAxisMap,I=P.yAxisMap,W=P.offset,H=N.type.defaultProps||{},F=N.props,T=F.xAxisId,k=T===void 0?H.xAxisId:T,M=F.yAxisId,O=M===void 0?H.yAxisId:M;return v.cloneElement(N,{key:N.key||"".concat(_,"-").concat(S),xAxis:D[k],yAxis:I[O],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:E})}),kt(b,"renderActivePoints",function(N){var _=N.item,S=N.activePoint,A=N.basePoint,E=N.childIndex,P=N.isRange,D=[],I=_.props.key,W=_.item.type.defaultProps!==void 0?Be(Be({},_.item.type.defaultProps),_.item.props):_.item.props,H=W.activeDot,F=W.dataKey,T=Be(Be({index:E,dataKey:F,cx:S.x,cy:S.y,r:4,fill:HO(_.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},wt(H,!1)),b1(H));return D.push(g.renderActiveDot(H,T,"".concat(I,"-activePoint-").concat(E))),A?D.push(g.renderActiveDot(H,Be(Be({},T),{},{cx:A.x,cy:A.y}),"".concat(I,"-basePoint-").concat(E))):P&&D.push(null),D}),kt(b,"renderGraphicChild",function(N,_,S){var A=b.filterFormatItem(N,_,S);if(!A)return null;var E=b.getTooltipEventType(),P=b.state,D=P.isTooltipActive,I=P.tooltipAxis,W=P.activeTooltipIndex,H=P.activeLabel,F=b.props.children,T=Si(F,mr),k=A.props,M=k.points,O=k.isRange,K=k.baseLine,se=A.item.type.defaultProps!==void 0?Be(Be({},A.item.type.defaultProps),A.item.props):A.item.props,R=se.activeDot,V=se.hide,L=se.activeBar,G=se.activeShape,le=!!(!V&&D&&T&&(R||L||G)),me={};E!=="axis"&&T&&T.props.trigger==="click"?me={onClick:wj(b.handleItemMouseEnter,N.props.onClick)}:E!=="axis"&&(me={onMouseLeave:wj(b.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:wj(b.handleItemMouseEnter,N.props.onMouseEnter)});var B=v.cloneElement(N,Be(Be({},A.props),me));function Y(je){return typeof I.dataKey=="function"?I.dataKey(je.payload):null}if(le)if(W>=0){var oe,Ne;if(I.dataKey&&!I.allowDuplicatedCategory){var ue=typeof I.dataKey=="function"?Y:"payload.".concat(I.dataKey.toString());oe=j1(M,ue,H),Ne=O&&K&&j1(K,ue,H)}else oe=M==null?void 0:M[W],Ne=O&&K&&K[W];if(G||L){var ve=N.props.activeIndex!==void 0?N.props.activeIndex:W;return[v.cloneElement(N,Be(Be(Be({},A.props),me),{},{activeIndex:ve})),null,null]}if(!$t(oe))return[B].concat(Ep(b.renderActivePoints({item:A,activePoint:oe,basePoint:Ne,childIndex:W,isRange:O})))}else{var xe,Ee=(xe=b.getItemByXY(b.state.activeCoordinate))!==null&&xe!==void 0?xe:{graphicalItem:B},Fe=Ee.graphicalItem,Oe=Fe.item,ae=Oe===void 0?N:Oe,he=Fe.childIndex,ce=Be(Be(Be({},A.props),me),{},{activeIndex:he});return[v.cloneElement(ae,ce),null,null]}return O?[B,null,null]:[B,null]}),kt(b,"renderCustomized",function(N,_,S){return v.cloneElement(N,Be(Be({key:"recharts-customized-".concat(S)},b.props),b.state))}),kt(b,"renderMap",{CartesianGrid:{handler:Aj,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:Aj},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:Aj},YAxis:{handler:Aj},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((y=j.id)!==null&&y!==void 0?y:fm("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=Nq(b.triggeredAfterMouseMove,(w=j.throttleDelay)!==null&&w!==void 0?w:1e3/60),b.state={},b}return kLe(g,p),CLe(g,[{key:"componentDidMount",value:function(){var y,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,w=y.children,b=y.data,N=y.height,_=y.layout,S=Si(w,mr);if(S){var A=S.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,P=rP(this.state,b,A,E),D=this.state.tooltipTicks[A].coordinate,I=(this.state.offset.top+N)/2,W=_==="horizontal",H=W?{x:D,y:I}:{y:D,x:I},F=this.state.formattedGraphicalItems.find(function(k){var M=k.item;return M.type.name==="Scatter"});F&&(H=Be(Be({},H),F.props.points[A].tooltipPosition),P=F.props.points[A].tooltipPayload);var T={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:E,activePayload:P,activeCoordinate:H};this.setState(T),this.renderCursor(S),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var b,N;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(y){kA([Si(y.children,mr)],[Si(this.props.children,mr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Si(this.props.children,mr);if(y&&typeof y.props.shared=="boolean"){var w=y.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var w=this.container,b=w.getBoundingClientRect(),N=DEe(b),_={chartX:Math.round(y.pageX-N.left),chartY:Math.round(y.pageY-N.top)},S=b.width/w.offsetWidth||1,A=this.inRange(_.chartX,_.chartY,S);if(!A)return null;var E=this.state,P=E.xAxisMap,D=E.yAxisMap,I=this.getTooltipEventType();if(I!=="axis"&&P&&D){var W=Td(P).scale,H=Td(D).scale,F=W&&W.invert?W.invert(_.chartX):null,T=H&&H.invert?H.invert(_.chartY):null;return Be(Be({},_),{},{xValue:F,yValue:T})}var k=I$(this.state,this.props.data,this.props.layout,A);return k?Be(Be({},_),k):null}},{key:"inRange",value:function(y,w){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,_=y/b,S=w/b;if(N==="horizontal"||N==="vertical"){var A=this.state.offset,E=_>=A.left&&_<=A.left+A.width&&S>=A.top&&S<=A.top+A.height;return E?{x:_,y:S}:null}var P=this.state,D=P.angleAxisMap,I=P.radiusAxisMap;if(D&&I){var W=Td(D);return n6({x:_,y:S},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,w=this.getTooltipEventType(),b=Si(y,mr),N={};b&&w==="axis"&&(b.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var _=b1(this.props,this.handleOuterEvent);return Be(Be({},_),N)}},{key:"addListener",value:function(){XS.on(QS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){XS.removeListener(QS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,w,b){for(var N=this.state.formattedGraphicalItems,_=0,S=N.length;_<S;_++){var A=N[_];if(A.item===y||A.props.key===y.key||w===Mc(A.item.type)&&b===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,w=this.state.offset,b=w.left,N=w.top,_=w.height,S=w.width;return z.createElement("defs",null,z.createElement("clipPath",{id:y},z.createElement("rect",{x:b,y:N,height:_,width:S})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(w,b){var N=T$(b,2),_=N[0],S=N[1];return Be(Be({},w),{},kt({},_,S.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(w,b){var N=T$(b,2),_=N[0],S=N[1];return Be(Be({},w),{},kt({},_,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(y){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(y){var w=this.state,b=w.formattedGraphicalItems,N=w.activeItem;if(b&&b.length)for(var _=0,S=b.length;_<S;_++){var A=b[_],E=A.props,P=A.item,D=P.type.defaultProps!==void 0?Be(Be({},P.type.defaultProps),P.props):P.props,I=Mc(P.type);if(I==="Bar"){var W=(E.data||[]).find(function(k){return aIe(y,k)});if(W)return{graphicalItem:A,payload:W}}else if(I==="RadialBar"){var H=(E.data||[]).find(function(k){return n6(y,k)});if(H)return{graphicalItem:A,payload:H}}else if(T2(A,N)||O2(A,N)||Z0(A,N)){var F=GRe({graphicalItem:A,activeTooltipItem:N,itemData:D.data}),T=D.activeIndex===void 0?F:D.activeIndex;return{graphicalItem:Be(Be({},A),{},{childIndex:T}),payload:Z0(A,N)?D.data[F]:A.props.data[F]}}}return null}},{key:"render",value:function(){var y=this;if(!KR(this))return null;var w=this.props,b=w.children,N=w.className,_=w.width,S=w.height,A=w.style,E=w.compact,P=w.title,D=w.desc,I=O$(w,yLe),W=wt(I,!1);if(E)return z.createElement(u$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(OA,Rg({},W,{width:_,height:S,title:P,desc:D}),this.renderClipPath(),XR(b,this.renderMap)));if(this.props.accessibilityLayer){var H,F;W.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,W.role=(F=this.props.role)!==null&&F!==void 0?F:"application",W.onKeyDown=function(k){y.accessibilityManager.keyboardEvent(k)},W.onFocus=function(){y.accessibilityManager.focus()}}var T=this.parseEventsOfWrapper();return z.createElement(u$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",Rg({className:Vt("recharts-wrapper",N),style:Be({position:"relative",cursor:"default",width:_,height:S},A)},T,{ref:function(M){y.container=M}}),z.createElement(OA,Rg({},W,{width:_,height:S,title:P,desc:D,style:MLe}),this.renderClipPath(),XR(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);return kt(x,"displayName",r),kt(x,"defaultProps",Be({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),kt(x,"getDerivedStateFromProps",function(p,g){var j=p.dataKey,y=p.data,w=p.children,b=p.width,N=p.height,_=p.layout,S=p.stackOffset,A=p.margin,E=g.dataStartIndex,P=g.dataEndIndex;if(g.updateId===void 0){var D=R$(p);return Be(Be(Be({},D),{},{updateId:0},h(Be(Be({props:p},D),{},{updateId:0}),g)),{},{prevDataKey:j,prevData:y,prevWidth:b,prevHeight:N,prevLayout:_,prevStackOffset:S,prevMargin:A,prevChildren:w})}if(j!==g.prevDataKey||y!==g.prevData||b!==g.prevWidth||N!==g.prevHeight||_!==g.prevLayout||S!==g.prevStackOffset||!vh(A,g.prevMargin)){var I=R$(p),W={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},H=Be(Be({},I$(g,y,_)),{},{updateId:g.updateId+1}),F=Be(Be(Be({},I),W),H);return Be(Be(Be({},F),h(Be({props:p},F),g)),{},{prevDataKey:j,prevData:y,prevWidth:b,prevHeight:N,prevLayout:_,prevStackOffset:S,prevMargin:A,prevChildren:w})}if(!kA(w,g.prevChildren)){var T,k,M,O,K=Si(w,gp),se=K&&(T=(k=K.props)===null||k===void 0?void 0:k.startIndex)!==null&&T!==void 0?T:E,R=K&&(M=(O=K.props)===null||O===void 0?void 0:O.endIndex)!==null&&M!==void 0?M:P,V=se!==E||R!==P,L=!$t(y),G=L&&!V?g.updateId:g.updateId+1;return Be(Be({updateId:G},h(Be(Be({props:p},g),{},{updateId:G,dataStartIndex:se,dataEndIndex:R}),g)),{},{prevChildren:w,dataStartIndex:se,dataEndIndex:R})}return null}),kt(x,"renderActiveDot",function(p,g,j){var y;return v.isValidElement(p)?y=v.cloneElement(p,g):Ot(p)?y=p(g):y=z.createElement(hy,g),z.createElement(tr,{className:"recharts-active-dot",key:j},y)}),function(g){return z.createElement(x,g)}},B2=L2({chartName:"LineChart",GraphicalChild:tc,axisComponents:[{axisType:"xAxis",AxisComp:an},{axisType:"yAxis",AxisComp:on}],formatAxisMap:GO}),wa=L2({chartName:"BarChart",GraphicalChild:wn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:an},{axisType:"yAxis",AxisComp:on}],formatAxisMap:GO}),Mg=L2({chartName:"PieChart",GraphicalChild:Fi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:k2},{axisType:"radiusAxis",AxisComp:E2}],formatAxisMap:P3e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),qLe=L2({chartName:"AreaChart",GraphicalChild:rd,axisComponents:[{axisType:"xAxis",AxisComp:an},{axisType:"yAxis",AxisComp:on}],formatAxisMap:GO});const GLe={light:"",dark:".dark"},JK=v.createContext(null);function eY(){const e=v.useContext(JK);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const av=v.forwardRef(({id:e,className:t,children:r,config:s,...a},i)=>{const o=v.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return n.jsx(JK.Provider,{value:{config:s},children:n.jsxs("div",{"data-chart":l,ref:i,className:ge("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[n.jsx(KLe,{id:l,config:s}),n.jsx(fn,{children:r})]})})});av.displayName="Chart";const KLe=({id:e,config:t})=>{const r=Object.entries(t).filter(([s,a])=>a.theme||a.color);return r.length?n.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(GLe).map(([s,a])=>`
${a} [data-chart=${e}] {
${r.map(([i,o])=>{var c;const l=((c=o.theme)==null?void 0:c[s])||o.color;return l?`  --color-${i}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},F$=mr,iv=v.forwardRef(({active:e,payload:t,className:r,indicator:s="dot",hideLabel:a=!1,hideIndicator:i=!1,label:o,labelFormatter:l,labelClassName:c,formatter:d,color:u,nameKey:f,labelKey:m},h)=>{const{config:x}=eY(),p=v.useMemo(()=>{var N;if(a||!(t!=null&&t.length))return null;const[j]=t,y=`${m||j.dataKey||j.name||"value"}`,w=nP(x,j,y),b=!m&&typeof o=="string"?((N=x[o])==null?void 0:N.label)||o:w==null?void 0:w.label;return l?n.jsx("div",{className:ge("font-medium",c),children:l(b,t)}):b?n.jsx("div",{className:ge("font-medium",c),children:b}):null},[o,l,t,a,c,x,m]);if(!e||!(t!=null&&t.length))return null;const g=t.length===1&&s!=="dot";return n.jsxs("div",{ref:h,className:ge("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[g?null:p,n.jsx("div",{className:"grid gap-1.5",children:t.map((j,y)=>{const w=`${f||j.name||j.dataKey||"value"}`,b=nP(x,j,w),N=u||j.payload.fill||j.color;return n.jsx("div",{className:ge("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",s==="dot"&&"items-center"),children:d&&(j==null?void 0:j.value)!==void 0&&j.name?d(j.value,j.name,j,y,j.payload):n.jsxs(n.Fragment,{children:[b!=null&&b.icon?n.jsx(b.icon,{}):!i&&n.jsx("div",{className:ge("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":s==="dot","w-1":s==="line","w-0 border-[1.5px] border-dashed bg-transparent":s==="dashed","my-0.5":g&&s==="dashed"}),style:{"--color-bg":N,"--color-border":N}}),n.jsxs("div",{className:ge("flex flex-1 justify-between leading-none",g?"items-end":"items-center"),children:[n.jsxs("div",{className:"grid gap-1.5",children:[g?p:null,n.jsx("span",{className:"text-muted-foreground",children:(b==null?void 0:b.label)||j.name})]}),j.value&&n.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:j.value.toLocaleString()})]})]})},j.dataKey)})})]})});iv.displayName="ChartTooltip";const YLe=v.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:s="bottom",nameKey:a},i)=>{const{config:o}=eY();return r!=null&&r.length?n.jsx("div",{ref:i,className:ge("flex items-center justify-center gap-4",s==="top"?"pb-3":"pt-3",e),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,d=nP(o,l,c);return n.jsxs("div",{className:ge("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[d!=null&&d.icon&&!t?n.jsx(d.icon,{}):n.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),d==null?void 0:d.label]},l.value)})}):null});YLe.displayName="ChartLegend";function nP(e,t,r){if(typeof t!="object"||t===null)return;const s="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=r;return r in t&&typeof t[r]=="string"?a=t[r]:s&&r in s&&typeof s[r]=="string"&&(a=s[r]),a in e?e[a]:e[r]}const XLe=[{month:"Jun",ordered:0,delivered:0},{month:"Jul",ordered:0,delivered:0},{month:"Aug",ordered:0,delivered:0},{month:"Sep",ordered:0,delivered:0},{month:"Oct",ordered:0,delivered:0},{month:"Nov",ordered:0,delivered:0}],QLe=[{month:"Jun",amount:0},{month:"Jul",amount:0},{month:"Aug",amount:0},{month:"Sep",amount:0},{month:"Oct",amount:0},{month:"Nov",amount:0}],ZLe=()=>{var j,y,w,b,N,_,S,A,E,P,D,I,W,H,F;const{data:e,isLoading:t,refetch:r}=Ype(),{data:s}=YW(),[a,i]=v.useState(null),[o,l]=v.useState(null),[c,d]=v.useState(null),[u,f]=v.useState(null),m=e==null?void 0:e.kpi,h=(e==null?void 0:e.orders_chart)||XLe,x=(e==null?void 0:e.spending_chart)||QLe,p=(s==null?void 0:s.recent_orders)||[];s!=null&&s.recent_issues;const g=(s==null?void 0:s.recent_payments)||[];return console.log("Recent Data:",s),console.log("Recent Orders:",p),t?n.jsx(ct,{title:"Dashboard Overview",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[1,2,3,4,5].map(T=>n.jsx(X,{children:n.jsxs(Q,{className:"p-6",children:[n.jsx(C,{className:"h-4 w-24 mb-2"}),n.jsx(C,{className:"h-8 w-16 mb-2"}),n.jsx(C,{className:"h-3 w-20"})]})},T))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsx(C,{className:"h-[300px] w-full"})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsx(C,{className:"h-[300px] w-full"})})})]})]})}):n.jsx(ct,{title:"Dashboard Overview",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsx($x,{title:"Active Apartments",value:((j=m==null?void 0:m.active_apartments)==null?void 0:j.value)??0,icon:dr,trend:{value:((y=m==null?void 0:m.active_apartments)==null?void 0:y.trend)??0,label:((w=m==null?void 0:m.active_apartments)==null?void 0:w.trend_label)??"vs last month"}}),n.jsx($x,{title:"Pending Orders",value:((b=m==null?void 0:m.pending_orders)==null?void 0:b.value)??0,icon:lt,trend:{value:((N=m==null?void 0:m.pending_orders)==null?void 0:N.trend)??0,label:((_=m==null?void 0:m.pending_orders)==null?void 0:_.trend_label)??"vs last week"}}),n.jsx($x,{title:"Open Issues",value:((S=m==null?void 0:m.open_issues)==null?void 0:S.value)??0,icon:St,trend:{value:((A=m==null?void 0:m.open_issues)==null?void 0:A.trend)??0,label:((E=m==null?void 0:m.open_issues)==null?void 0:E.trend_label)??"no change"}}),n.jsx($x,{title:"Deliveries This Week",value:((P=m==null?void 0:m.deliveries_this_week)==null?void 0:P.value)??0,icon:_r,trend:{value:((D=m==null?void 0:m.deliveries_this_week)==null?void 0:D.trend)??0,label:((I=m==null?void 0:m.deliveries_this_week)==null?void 0:I.trend_label)??"vs last week"}}),n.jsx($x,{title:"Overdue Payments",value:((W=m==null?void 0:m.overdue_payments)==null?void 0:W.value)??0,icon:js,trend:{value:((H=m==null?void 0:m.overdue_payments)==null?void 0:H.trend)??0,label:((F=m==null?void 0:m.overdue_payments)==null?void 0:F.trend_label)??"vs last month"}})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs(X,{className:"overflow-hidden",children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"flex items-center gap-2 text-base sm:text-lg",children:[n.jsx(lt,{className:"h-4 w-4 sm:h-5 sm:w-5"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Orders Placed vs Delivered"})]})}),n.jsx(Q,{className:"p-2 sm:p-6",children:n.jsx(av,{config:{ordered:{label:"ordered",color:"hsl(var(--primary))"},delivered:{label:"delivered",color:"hsl(var(--success))"}},className:"h-[280px] sm:h-[320px] w-full",children:n.jsx(fn,{width:"100%",height:"100%",children:n.jsxs(wa,{data:h,margin:{top:10,right:5,left:-20,bottom:5},children:[n.jsx(Un,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(an,{dataKey:"month",tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),n.jsx(on,{tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),n.jsx(F$,{content:n.jsx(iv,{})}),n.jsx(sl,{wrapperStyle:{fontSize:"11px",paddingTop:"10px"},iconSize:10}),n.jsx(wn,{dataKey:"ordered",fill:"hsl(var(--primary))",radius:[6,6,0,0]}),n.jsx(wn,{dataKey:"delivered",fill:"hsl(var(--success))",radius:[6,6,0,0]})]})})})})]}),n.jsxs(X,{className:"overflow-hidden",children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"flex items-center gap-2 text-base sm:text-lg",children:[n.jsx(ni,{className:"h-4 w-4 sm:h-5 sm:w-5"}),n.jsx("span",{className:"text-sm sm:text-base",children:"Total Spending Trend"})]})}),n.jsx(Q,{className:"p-2 sm:p-6",children:n.jsx(av,{config:{amount:{label:"Amount ()",color:"hsl(var(--primary))"}},className:"h-[280px] sm:h-[320px] w-full",children:n.jsx(fn,{width:"100%",height:"100%",children:n.jsxs(B2,{data:x,margin:{top:10,right:5,left:-20,bottom:5},children:[n.jsx(Un,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(an,{dataKey:"month",tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),n.jsx(on,{tick:{fontSize:11},stroke:"hsl(var(--muted-foreground))"}),n.jsx(F$,{content:n.jsx(iv,{})}),n.jsx(tc,{type:"monotone",dataKey:"amount",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",r:3}})]})})})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(X,{className:"overflow-hidden",children:[n.jsx(we,{className:"border-b bg-gradient-to-r from-background to-muted/20",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(lt,{className:"h-5 w-5 text-primary"})}),n.jsx("span",{children:"Recent Orders"})]}),n.jsxs(Ae,{variant:"secondary",className:"font-semibold",children:[p.length," orders"]})]})}),n.jsx(Q,{className:"p-4",children:n.jsx("div",{className:"space-y-3",children:p.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-muted/50 mb-3",children:n.jsx(lt,{className:"h-8 w-8 text-muted-foreground"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No recent orders"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Orders will appear here once placed"})]}):p.slice(0,5).map(T=>{var K,se;const k=o===T.id,M=a===T.id,O=k||M;return n.jsxs("div",{className:`
                          group relative rounded-xl border-2
                          transition-all duration-500 ease-out cursor-pointer
                          ${O?"bg-gradient-to-br from-primary/5 via-primary/3 to-background shadow-xl border-primary/30":"bg-card/50 hover:bg-card border-border/50 hover:border-border hover:shadow-md"}
                        `,onMouseEnter:()=>!k&&i(T.id),onMouseLeave:()=>!k&&i(null),onClick:()=>l(k?null:T.id),children:[n.jsx("div",{className:`
                          absolute inset-0 bg-gradient-to-r from-primary/5 to-transparent opacity-0 transition-opacity duration-500 pointer-events-none rounded-xl
                          ${O?"opacity-100":""}
                        `}),n.jsx("div",{className:"relative p-4",children:n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:[n.jsx("div",{className:`
                                p-2 rounded-lg transition-all duration-300
                                ${O?"bg-primary/15":"bg-muted/60"}
                              `,children:n.jsx(uh,{className:`h-4 w-4 transition-colors ${O?"text-primary":"text-muted-foreground"}`})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ae,{variant:"outline",className:`text-xs font-bold transition-all ${O?"border-primary/50 bg-primary/5":""}`,children:T.po_number}),n.jsx(Ae,{variant:T.status==="delivered"?"default":T.status==="sent"?"secondary":T.status==="cancelled"?"destructive":"outline",className:"text-xs capitalize",children:T.status})]}),n.jsx("p",{className:"text-sm font-semibold text-foreground truncate",children:T.apartment})]})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsxs("p",{className:`text-base font-bold transition-colors ${O?"text-primary":"text-foreground"}`,children:[T.total.toLocaleString()," Ft"]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[((K=T.items)==null?void 0:K.length)||0," ",((se=T.items)==null?void 0:se.length)===1?"item":"items"]})]})]})}),n.jsx("div",{className:`
                          transition-all duration-500 ease-out overflow-hidden
                          ${O?"max-h-[600px]":"max-h-0"}
                        `,children:n.jsx("div",{className:"overflow-visible",children:n.jsxs("div",{className:"px-4 pb-4 pt-2 border-t border-border/50 bg-gradient-to-b from-muted/20 via-muted/5 to-transparent",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4 mt-3",children:[n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(uh,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Order ID"})]}),n.jsxs("p",{className:"text-xs font-mono font-medium text-foreground truncate",title:T.id,children:[T.id.substring(0,8),"..."]})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(xa,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Apartment"})]}),n.jsx("p",{className:"text-xs font-medium text-foreground truncate",title:T.apartment,children:T.apartment})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Ra,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Vendor"})]}),n.jsx("p",{className:"text-xs font-medium text-foreground truncate",title:T.vendor,children:T.vendor})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-background/40 border border-border/30",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:n.jsx(Hr,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Placed On"}),n.jsx("p",{className:"text-xs font-semibold text-foreground",children:T.placed_on?Ht(new Date(T.placed_on),"MMM dd, yyyy"):"N/A"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-background/40 border border-border/30",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:n.jsx(Nr,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-xs font-bold text-primary",children:[T.total.toLocaleString()," Ft"]})]})]})]}),T.items&&T.items.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 px-1",children:[n.jsx("div",{className:"p-1 rounded bg-primary/10",children:n.jsx(lt,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("p",{className:"text-xs font-bold text-foreground uppercase tracking-wide",children:["Products (",T.items.length,")"]})]}),n.jsx("div",{className:"space-y-2 max-h-[240px] overflow-y-auto pr-2",style:{scrollbarWidth:"thin",scrollbarColor:"hsl(var(--primary) / 0.3) transparent"},children:T.items.map((R,V)=>n.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-lg bg-background/80 border border-border/40 hover:bg-background hover:border-primary/30 hover:shadow-sm transition-all duration-200",children:[R.product_image?n.jsx("img",{src:R.product_image,alt:R.product_name,className:"w-10 h-10 rounded-md object-cover flex-shrink-0 border-2 border-border/50"}):n.jsx("div",{className:"w-10 h-10 rounded-md bg-muted/60 flex items-center justify-center flex-shrink-0 border-2 border-border/50",children:n.jsx(lt,{className:"w-5 h-5 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-semibold text-foreground truncate leading-tight mb-1",title:R.product_name,children:R.product_name}),n.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-muted-foreground",children:[n.jsxs("span",{className:"font-medium",children:["Qty: ",n.jsx("span",{className:"text-foreground font-semibold",children:R.quantity})]}),n.jsx("span",{children:""}),n.jsxs("span",{className:"font-medium",children:[R.unit_price.toLocaleString()," Ft/unit"]})]})]}),n.jsx("div",{className:"text-right flex-shrink-0",children:n.jsxs("p",{className:"text-xs font-bold text-foreground",children:[(R.quantity*R.unit_price).toLocaleString()," Ft"]})})]},R.id))})]})]})})})]},T.id)})})})]}),n.jsxs(X,{className:"overflow-hidden",children:[n.jsx(we,{className:"border-b bg-gradient-to-r from-background to-muted/20",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(js,{className:"h-5 w-5 text-primary"})}),n.jsx("span",{children:"Recent Payments"})]}),n.jsxs(Ae,{variant:"secondary",className:"font-semibold",children:[g.length," payments"]})]})}),n.jsx(Q,{className:"p-4",children:n.jsx("div",{className:"space-y-3",children:g.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"p-4 rounded-full bg-muted/50 mb-3",children:n.jsx(js,{className:"h-8 w-8 text-muted-foreground"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No recent payments"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Payments will appear here once made"})]}):g.slice(0,5).map(T=>{const k=u===T.id,M=c===T.id,O=k||M;return n.jsxs("div",{className:`
                          group relative rounded-xl border-2
                          transition-all duration-500 ease-out cursor-pointer
                          ${O?"bg-gradient-to-br from-primary/5 via-primary/3 to-background shadow-xl border-primary/30":"bg-card/50 hover:bg-card border-border/50 hover:border-border hover:shadow-md"}
                        `,onMouseEnter:()=>!k&&d(T.id),onMouseLeave:()=>!k&&d(null),onClick:()=>f(k?null:T.id),children:[n.jsx("div",{className:`
                          absolute inset-0 bg-gradient-to-r from-primary/5 to-transparent opacity-0 transition-opacity duration-500 pointer-events-none rounded-xl
                          ${O?"opacity-100":""}
                        `}),n.jsx("div",{className:"relative p-4",children:n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:[n.jsx("div",{className:`
                                p-2 rounded-lg transition-all duration-300
                                ${O?"bg-primary/15":"bg-muted/60"}
                              `,children:n.jsx(js,{className:`h-4 w-4 transition-colors ${O?"text-primary":"text-muted-foreground"}`})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ae,{variant:"outline",className:`text-xs font-bold transition-all ${O?"border-primary/50 bg-primary/5":""}`,children:T.order_reference}),n.jsx(Ae,{variant:T.status==="Paid"?"default":T.status==="Partial"?"secondary":"destructive",className:"text-xs capitalize",children:T.status})]}),n.jsx("p",{className:"text-sm font-semibold text-foreground truncate",children:T.vendor||"Unknown vendor"})]})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsxs("p",{className:`text-base font-bold transition-colors ${O?"text-primary":"text-foreground"}`,children:[T.amount_paid.toLocaleString()," Ft"]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["of ",T.total_amount.toLocaleString()," Ft"]})]})]})}),n.jsx("div",{className:`
                          transition-all duration-500 ease-out overflow-hidden
                          ${O?"max-h-[600px]":"max-h-0"}
                        `,children:n.jsx("div",{className:"overflow-visible",children:n.jsxs("div",{className:"px-4 pb-4 pt-2 border-t border-border/50 bg-gradient-to-b from-muted/20 via-muted/5 to-transparent",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4 mt-3",children:[n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(uh,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Payment ID"})]}),n.jsxs("p",{className:"text-xs font-mono font-medium text-foreground truncate",title:T.id,children:[T.id.substring(0,8),"..."]})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(lt,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Order Ref"})]}),n.jsx("p",{className:"text-xs font-medium text-foreground truncate",title:T.order_reference,children:T.order_reference})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Ra,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Vendor"})]}),n.jsx("p",{className:"text-xs font-medium text-foreground truncate",title:T.vendor,children:T.vendor||"Unknown"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-background/40 border border-border/30",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:n.jsx(Nr,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Amount Paid"}),n.jsxs("p",{className:"text-xs font-bold text-primary",children:[T.amount_paid.toLocaleString()," Ft"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 p-2.5 rounded-lg bg-background/40 border border-border/30",children:[n.jsx("div",{className:"p-1.5 rounded-md bg-primary/10",children:n.jsx(Nr,{className:"h-3.5 w-3.5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-xs font-semibold text-foreground",children:[T.total_amount.toLocaleString()," Ft"]})]})]})]}),n.jsxs("div",{className:"space-y-2 p-3 rounded-lg bg-background/60 border border-border/50",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-xs font-semibold text-foreground",children:"Payment Progress"}),n.jsxs("p",{className:"text-xs font-bold text-primary",children:[Math.round(T.amount_paid/T.total_amount*100),"%"]})]}),n.jsx("div",{className:"w-full bg-muted/50 rounded-full h-2 overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-primary/70 rounded-full transition-all duration-500",style:{width:`${T.amount_paid/T.total_amount*100}%`}})}),n.jsxs("div",{className:"flex items-center justify-between text-[10px] text-muted-foreground",children:[n.jsxs("span",{children:["Paid: ",T.amount_paid.toLocaleString()," Ft"]}),n.jsxs("span",{children:["Remaining: ",(T.total_amount-T.amount_paid).toLocaleString()," Ft"]})]})]})]})})})]},T.id)})})})]})]}),n.jsx(g0e,{})]})})},JLe=()=>{const e=sc();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),n.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),n.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},tY=or.create({baseURL:Xi.replace("/api",""),headers:{"Content-Type":"application/json"}});tY.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const e8e=()=>{const[e,t]=v.useState(!1);return{enhanceText:async(s,a="improve")=>{var i,o;if(!s||!s.trim())return Ue.error("Please enter some text first"),null;t(!0);try{const l=await tY.post("/api/utils/enhance-text/",{text:s,type:a});return Ue.success("Text enhanced successfully"),l.data.enhanced}catch(l){console.error("Failed to enhance text:",l);const c=((o=(i=l.response)==null?void 0:i.data)==null?void 0:o.error)||"Failed to enhance text";return Ue.error(c),null}finally{t(!1)}},isEnhancing:e}},pf=({text:e,onTextEnhanced:t,className:r="",variant:s="outline",size:a="sm"})=>{const{enhanceText:i,isEnhancing:o}=e8e(),[l,c]=v.useState(!1),d=async u=>{c(!1);const f=await i(e,u);f&&t(f)};return n.jsxs(Zv,{open:l,onOpenChange:c,children:[n.jsx(Jv,{asChild:!0,children:n.jsx(re,{type:"button",variant:s,size:a,className:r,disabled:o||!(e!=null&&e.trim()),children:o?n.jsx(n.Fragment,{children:n.jsx(Lt,{className:"h-4 w-4  animate-spin"})}):n.jsx(n.Fragment,{children:n.jsx(Ho,{className:"h-4 w-4 "})})})}),n.jsxs(Yp,{align:"end",children:[n.jsxs(In,{onClick:()=>d("improve"),children:[n.jsx(Ho,{className:"h-4 w-4 mr-2"}),"Improve & Fix"]}),n.jsxs(In,{onClick:()=>d("shorten"),children:[n.jsx(Ho,{className:"h-4 w-4 mr-2"}),"Make Shorter"]}),n.jsxs(In,{onClick:()=>d("professional"),children:[n.jsx(Ho,{className:"h-4 w-4 mr-2"}),"Professional Tone"]}),n.jsxs(In,{onClick:()=>d("friendly"),children:[n.jsx(Ho,{className:"h-4 w-4 mr-2"}),"Friendly Tone"]}),n.jsxs(In,{onClick:()=>d("translate"),children:[n.jsx(Ho,{className:"h-4 w-4 mr-2"}),"Translate to English"]})]})]})},fa=v.forwardRef(({className:e,value:t,onChange:r,...s},a)=>{const[i,o]=v.useState(t||"");v.useEffect(()=>{o(t||"")},[t]);const l=d=>{o(d.target.value),r==null||r(d)},c=d=>{const u={target:{value:d}};o(d),r==null||r(u)};return n.jsxs("div",{className:"relative",children:[n.jsx("textarea",{className:ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 pr-24 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,value:i,onChange:l,...s}),n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(pf,{text:i.toString(),onTextEnhanced:c,variant:"ghost",size:"sm"})})]})});fa.displayName="EnhancedTextarea";const Ds=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:ge("w-full caption-bottom text-sm",e),...t})}));Ds.displayName="Table";const Is=v.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:ge("[&_tr]:border-b",e),...t}));Is.displayName="TableHeader";const Rs=v.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:ge("[&_tr:last-child]:border-0",e),...t}));Rs.displayName="TableBody";const t8e=v.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:ge("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));t8e.displayName="TableFooter";const Bt=v.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:ge("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Bt.displayName="TableRow";const Te=v.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:ge("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Te.displayName="TableHead";const Se=v.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:ge("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Se.displayName="TableCell";const r8e=v.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:ge("mt-4 text-sm text-muted-foreground",e),...t}));r8e.displayName="TableCaption";function U2(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var n8e=[" ","Enter","ArrowUp","ArrowDown"],s8e=[" ","Enter"],py="Select",[V2,z2,a8e]=Tv(py),[dx,Unt]=ea(py,[a8e,Eu]),W2=Eu(),[i8e,Ru]=dx(py),[o8e,l8e]=dx(py),rY=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:m,required:h,form:x}=e,p=W2(t),[g,j]=v.useState(null),[y,w]=v.useState(null),[b,N]=v.useState(!1),_=om(d),[S=!1,A]=Ia({prop:s,defaultProp:a,onChange:i}),[E,P]=Ia({prop:o,defaultProp:l,onChange:c}),D=v.useRef(null),I=g?x||!!g.closest("form"):!0,[W,H]=v.useState(new Set),F=Array.from(W).map(T=>T.props.value).join(";");return n.jsx(jN,{...p,children:n.jsxs(i8e,{required:h,scope:t,trigger:g,onTriggerChange:j,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:N,contentId:ai(),value:E,onValueChange:P,open:S,onOpenChange:A,dir:_,triggerPointerDownPosRef:D,disabled:m,children:[n.jsx(V2.Provider,{scope:t,children:n.jsx(o8e,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(T=>{H(k=>new Set(k).add(T))},[]),onNativeOptionRemove:v.useCallback(T=>{H(k=>{const M=new Set(k);return M.delete(T),M})},[]),children:r})}),I?n.jsxs(AY,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:f,value:E,onChange:T=>P(T.target.value),disabled:m,form:x,children:[E===void 0?n.jsx("option",{value:""}):null,Array.from(W)]},F):null]})})};rY.displayName=py;var nY="SelectTrigger",sY=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=W2(r),o=Ru(nY,r),l=o.disabled||s,c=It(t,o.onTriggerChange),d=z2(r),u=v.useRef("touch"),[f,m,h]=EY(p=>{const g=d().filter(w=>!w.disabled),j=g.find(w=>w.value===o.value),y=PY(g,p,j);y!==void 0&&o.onValueChange(y.value)}),x=p=>{l||(o.onOpenChange(!0),h()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return n.jsx(Lv,{asChild:!0,...i,children:n.jsx(ft.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":CY(o.value)?"":void 0,...a,ref:c,onClick:He(a.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&x(p)}),onPointerDown:He(a.onPointerDown,p=>{u.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(x(p),p.preventDefault())}),onKeyDown:He(a.onKeyDown,p=>{const g=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&m(p.key),!(g&&p.key===" ")&&n8e.includes(p.key)&&(x(),p.preventDefault())})})})});sY.displayName=nY;var aY="SelectValue",iY=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...l}=e,c=Ru(aY,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,f=It(t,c.onValueNodeChange);return ss(()=>{d(u)},[d,u]),n.jsx(ft.span,{...l,ref:f,style:{pointerEvents:"none"},children:CY(c.value)?n.jsx(n.Fragment,{children:o}):i})});iY.displayName=aY;var c8e="SelectIcon",oY=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(ft.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});oY.displayName=c8e;var d8e="SelectPortal",lY=e=>n.jsx(Fp,{asChild:!0,...e});lY.displayName=d8e;var Jf="SelectContent",cY=v.forwardRef((e,t)=>{const r=Ru(Jf,e.__scopeSelect),[s,a]=v.useState();if(ss(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?fl.createPortal(n.jsx(dY,{scope:e.__scopeSelect,children:n.jsx(V2.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(uY,{...e,ref:t})});cY.displayName=Jf;var $o=10,[dY,Mu]=dx(Jf),u8e="SelectContentImpl",uY=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:x,hideWhenDetached:p,avoidCollisions:g,...j}=e,y=Ru(Jf,r),[w,b]=v.useState(null),[N,_]=v.useState(null),S=It(t,me=>b(me)),[A,E]=v.useState(null),[P,D]=v.useState(null),I=z2(r),[W,H]=v.useState(!1),F=v.useRef(!1);v.useEffect(()=>{if(w)return Kv(w)},[w]),MN();const T=v.useCallback(me=>{const[B,...Y]=I().map(ue=>ue.ref.current),[oe]=Y.slice(-1),Ne=document.activeElement;for(const ue of me)if(ue===Ne||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===B&&N&&(N.scrollTop=0),ue===oe&&N&&(N.scrollTop=N.scrollHeight),ue==null||ue.focus(),document.activeElement!==Ne))return},[I,N]),k=v.useCallback(()=>T([A,w]),[T,A,w]);v.useEffect(()=>{W&&k()},[W,k]);const{onOpenChange:M,triggerPointerDownPosRef:O}=y;v.useEffect(()=>{if(w){let me={x:0,y:0};const B=oe=>{var Ne,ue;me={x:Math.abs(Math.round(oe.pageX)-(((Ne=O.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(oe.pageY)-(((ue=O.current)==null?void 0:ue.y)??0))}},Y=oe=>{me.x<=10&&me.y<=10?oe.preventDefault():w.contains(oe.target)||M(!1),document.removeEventListener("pointermove",B),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",B),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",Y,{capture:!0})}}},[w,M,O]),v.useEffect(()=>{const me=()=>M(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[M]);const[K,se]=EY(me=>{const B=I().filter(Ne=>!Ne.disabled),Y=B.find(Ne=>Ne.ref.current===document.activeElement),oe=PY(B,me,Y);oe&&setTimeout(()=>oe.ref.current.focus())}),R=v.useCallback((me,B,Y)=>{const oe=!F.current&&!Y;(y.value!==void 0&&y.value===B||oe)&&(E(me),oe&&(F.current=!0))},[y.value]),V=v.useCallback(()=>w==null?void 0:w.focus(),[w]),L=v.useCallback((me,B,Y)=>{const oe=!F.current&&!Y;(y.value!==void 0&&y.value===B||oe)&&D(me)},[y.value]),G=s==="popper"?sP:fY,le=G===sP?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:x,hideWhenDetached:p,avoidCollisions:g}:{};return n.jsx(dY,{scope:r,content:w,viewport:N,onViewportChange:_,itemRefCallback:R,selectedItem:A,onItemLeave:V,itemTextRefCallback:L,focusSelectedItem:k,selectedItemText:P,position:s,isPositioned:W,searchRef:K,children:n.jsx(Yv,{as:Xl,allowPinchZoom:!0,children:n.jsx(Gv,{asChild:!0,trapped:y.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:He(a,me=>{var B;(B=y.trigger)==null||B.focus({preventScroll:!0}),me.preventDefault()}),children:n.jsx(im,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:n.jsx(G,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:me=>me.preventDefault(),...j,...le,onPlaced:()=>H(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:He(j.onKeyDown,me=>{const B=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!B&&me.key.length===1&&se(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let oe=I().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(me.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const Ne=me.target,ue=oe.indexOf(Ne);oe=oe.slice(ue+1)}setTimeout(()=>T(oe)),me.preventDefault()}})})})})})})});uY.displayName=u8e;var f8e="SelectItemAlignedPosition",fY=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=Ru(Jf,r),o=Mu(Jf,r),[l,c]=v.useState(null),[d,u]=v.useState(null),f=It(t,S=>u(S)),m=z2(r),h=v.useRef(!1),x=v.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:j,focusSelectedItem:y}=o,w=v.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&p&&g&&j){const S=i.trigger.getBoundingClientRect(),A=d.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),P=j.getBoundingClientRect();if(i.dir!=="rtl"){const Ne=P.left-A.left,ue=E.left-Ne,ve=S.left-ue,xe=S.width+ve,Ee=Math.max(xe,A.width),Fe=window.innerWidth-$o,Oe=xA(ue,[$o,Math.max($o,Fe-Ee)]);l.style.minWidth=xe+"px",l.style.left=Oe+"px"}else{const Ne=A.right-P.right,ue=window.innerWidth-E.right-Ne,ve=window.innerWidth-S.right-ue,xe=S.width+ve,Ee=Math.max(xe,A.width),Fe=window.innerWidth-$o,Oe=xA(ue,[$o,Math.max($o,Fe-Ee)]);l.style.minWidth=xe+"px",l.style.right=Oe+"px"}const D=m(),I=window.innerHeight-$o*2,W=p.scrollHeight,H=window.getComputedStyle(d),F=parseInt(H.borderTopWidth,10),T=parseInt(H.paddingTop,10),k=parseInt(H.borderBottomWidth,10),M=parseInt(H.paddingBottom,10),O=F+T+W+M+k,K=Math.min(g.offsetHeight*5,O),se=window.getComputedStyle(p),R=parseInt(se.paddingTop,10),V=parseInt(se.paddingBottom,10),L=S.top+S.height/2-$o,G=I-L,le=g.offsetHeight/2,me=g.offsetTop+le,B=F+T+me,Y=O-B;if(B<=L){const Ne=D.length>0&&g===D[D.length-1].ref.current;l.style.bottom="0px";const ue=d.clientHeight-p.offsetTop-p.offsetHeight,ve=Math.max(G,le+(Ne?V:0)+ue+k),xe=B+ve;l.style.height=xe+"px"}else{const Ne=D.length>0&&g===D[0].ref.current;l.style.top="0px";const ve=Math.max(L,F+p.offsetTop+(Ne?R:0)+le)+Y;l.style.height=ve+"px",p.scrollTop=B-L+p.offsetTop}l.style.margin=`${$o}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=I+"px",s==null||s(),requestAnimationFrame(()=>h.current=!0)}},[m,i.trigger,i.valueNode,l,d,p,g,j,i.dir,s]);ss(()=>w(),[w]);const[b,N]=v.useState();ss(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const _=v.useCallback(S=>{S&&x.current===!0&&(w(),y==null||y(),x.current=!1)},[w,y]);return n.jsx(h8e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:_,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:n.jsx(ft.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});fY.displayName=f8e;var m8e="SelectPopperPosition",sP=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=$o,...i}=e,o=W2(r);return n.jsx(bN,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});sP.displayName=m8e;var[h8e,n3]=dx(Jf,{}),aP="SelectViewport",mY=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,i=Mu(aP,r),o=n3(aP,r),l=It(t,i.onViewportChange),c=v.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(V2.Slot,{scope:r,children:n.jsx(ft.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:He(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const h=Math.abs(c.current-u.scrollTop);if(h>0){const x=window.innerHeight-$o*2,p=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),j=Math.max(p,g);if(j<x){const y=j+h,w=Math.min(x,y),b=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(u.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});mY.displayName=aP;var hY="SelectGroup",[p8e,x8e]=dx(hY),g8e=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=ai();return n.jsx(p8e,{scope:r,id:a,children:n.jsx(ft.div,{role:"group","aria-labelledby":a,...s,ref:t})})});g8e.displayName=hY;var pY="SelectLabel",xY=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=x8e(pY,r);return n.jsx(ft.div,{id:a.id,...s,ref:t})});xY.displayName=pY;var ww="SelectItem",[v8e,gY]=dx(ww),vY=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,l=Ru(ww,r),c=Mu(ww,r),d=l.value===s,[u,f]=v.useState(i??""),[m,h]=v.useState(!1),x=It(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,s,a)}),p=ai(),g=v.useRef("touch"),j=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(v8e,{scope:r,value:s,disabled:a,textId:p,isSelected:d,onItemTextChange:v.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:n.jsx(V2.ItemSlot,{scope:r,value:s,disabled:a,textValue:u,children:n.jsx(ft.div,{role:"option","aria-labelledby":p,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:He(o.onFocus,()=>h(!0)),onBlur:He(o.onBlur,()=>h(!1)),onClick:He(o.onClick,()=>{g.current!=="mouse"&&j()}),onPointerUp:He(o.onPointerUp,()=>{g.current==="mouse"&&j()}),onPointerDown:He(o.onPointerDown,y=>{g.current=y.pointerType}),onPointerMove:He(o.onPointerMove,y=>{var w;g.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):g.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:He(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:He(o.onKeyDown,y=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&y.key===" "||(s8e.includes(y.key)&&j(),y.key===" "&&y.preventDefault())})})})})});vY.displayName=ww;var ug="SelectItemText",yY=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=Ru(ug,r),l=Mu(ug,r),c=gY(ug,r),d=l8e(ug,r),[u,f]=v.useState(null),m=It(t,j=>f(j),c.onItemTextChange,j=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,j,c.value,c.disabled)}),h=u==null?void 0:u.textContent,x=v.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=d;return ss(()=>(p(x),()=>g(x)),[p,g,x]),n.jsxs(n.Fragment,{children:[n.jsx(ft.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?fl.createPortal(i.children,o.valueNode):null]})});yY.displayName=ug;var jY="SelectItemIndicator",bY=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return gY(jY,r).isSelected?n.jsx(ft.span,{"aria-hidden":!0,...s,ref:t}):null});bY.displayName=jY;var iP="SelectScrollUpButton",wY=v.forwardRef((e,t)=>{const r=Mu(iP,e.__scopeSelect),s=n3(iP,e.__scopeSelect),[a,i]=v.useState(!1),o=It(t,s.onScrollButtonChange);return ss(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(_Y,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});wY.displayName=iP;var oP="SelectScrollDownButton",NY=v.forwardRef((e,t)=>{const r=Mu(oP,e.__scopeSelect),s=n3(oP,e.__scopeSelect),[a,i]=v.useState(!1),o=It(t,s.onScrollButtonChange);return ss(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?n.jsx(_Y,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});NY.displayName=oP;var _Y=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=Mu("SelectScrollButton",r),o=v.useRef(null),l=z2(r),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),ss(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(ft.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:He(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:He(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:He(a.onPointerLeave,()=>{c()})})}),y8e="SelectSeparator",SY=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(ft.div,{"aria-hidden":!0,...s,ref:t})});SY.displayName=y8e;var lP="SelectArrow",j8e=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=W2(r),i=Ru(lP,r),o=Mu(lP,r);return i.open&&o.position==="popper"?n.jsx(wN,{...a,...s,ref:t}):null});j8e.displayName=lP;function CY(e){return e===""||e===void 0}var AY=v.forwardRef((e,t)=>{const{value:r,...s}=e,a=v.useRef(null),i=It(t,a),o=U2(r);return v.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&u){const f=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(f)}},[o,r]),n.jsx(Ov,{asChild:!0,children:n.jsx("select",{...s,ref:i,defaultValue:r})})});AY.displayName="BubbleSelect";function EY(e){const t=pn(e),r=v.useRef(""),s=v.useRef(0),a=v.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=v.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function PY(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=b8e(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function b8e(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var w8e=rY,kY=sY,N8e=iY,_8e=oY,S8e=lY,TY=cY,C8e=mY,OY=xY,DY=vY,A8e=yY,E8e=bY,IY=wY,RY=NY,MY=SY;const tt=w8e,rt=N8e,Je=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(kY,{ref:s,className:ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(_8e,{asChild:!0,children:n.jsx(Au,{className:"h-4 w-4 opacity-50"})})]}));Je.displayName=kY.displayName;const FY=v.forwardRef(({className:e,...t},r)=>n.jsx(IY,{ref:r,className:ge("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(pN,{className:"h-4 w-4"})}));FY.displayName=IY.displayName;const $Y=v.forwardRef(({className:e,...t},r)=>n.jsx(RY,{ref:r,className:ge("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Au,{className:"h-4 w-4"})}));$Y.displayName=RY.displayName;const et=v.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(S8e,{children:n.jsxs(TY,{ref:a,className:ge("relative z-[9999] max-h-96 overflow-hidden rounded-lg border border-border/50 bg-popover backdrop-blur-xl text-popover-foreground shadow-2xl","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,sideOffset:4,...s,children:[n.jsx(FY,{}),n.jsx(C8e,{className:ge("p-2 min-w-[12rem]",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full"),children:t}),n.jsx($Y,{})]})}));et.displayName=TY.displayName;const P8e=v.forwardRef(({className:e,...t},r)=>n.jsx(OY,{ref:r,className:ge("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));P8e.displayName=OY.displayName;const ee=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(DY,{ref:s,className:ge("relative flex w-full cursor-pointer select-none items-center rounded-md py-2.5 px-3 text-sm font-medium outline-none","hover:bg-accent/80 hover:text-accent-foreground focus:bg-accent/80 focus:text-accent-foreground","data-[disabled]:pointer-events-none data-[disabled]:opacity-50","transition-colors duration-150",e),...r,children:[n.jsx("span",{className:"absolute left-3 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(E8e,{children:n.jsx(ho,{className:"h-4 w-4 text-primary"})})}),n.jsx(A8e,{className:"pl-6",children:t})]}));ee.displayName=DY.displayName;const k8e=v.forwardRef(({className:e,...t},r)=>n.jsx(MY,{ref:r,className:ge("my-1.5 h-px bg-border/50",e),...t}));k8e.displayName=MY.displayName;var LY="AlertDialog",[T8e,Vnt]=ea(LY,[Wz]),ud=Wz(),BY=e=>{const{__scopeAlertDialog:t,...r}=e,s=ud(t);return n.jsx(CT,{...s,...r,modal:!0})};BY.displayName=LY;var O8e="AlertDialogTrigger",UY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=ud(r);return n.jsx(iW,{...a,...s,ref:t})});UY.displayName=O8e;var D8e="AlertDialogPortal",VY=e=>{const{__scopeAlertDialog:t,...r}=e,s=ud(t);return n.jsx(AT,{...s,...r})};VY.displayName=D8e;var I8e="AlertDialogOverlay",zY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=ud(r);return n.jsx(ey,{...a,...s,ref:t})});zY.displayName=I8e;var bh="AlertDialogContent",[R8e,M8e]=T8e(bh),WY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...a}=e,i=ud(r),o=v.useRef(null),l=It(t,o),c=v.useRef(null);return n.jsx(qme,{contentName:bh,titleName:HY,docsSlug:"alert-dialog",children:n.jsx(R8e,{scope:r,cancelRef:c,children:n.jsxs(ty,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:He(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[n.jsx(jk,{children:s}),n.jsx($8e,{contentRef:o})]})})})});WY.displayName=bh;var HY="AlertDialogTitle",qY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=ud(r);return n.jsx(ry,{...a,...s,ref:t})});qY.displayName=HY;var GY="AlertDialogDescription",KY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=ud(r);return n.jsx(ny,{...a,...s,ref:t})});KY.displayName=GY;var F8e="AlertDialogAction",YY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=ud(r);return n.jsx(UN,{...a,...s,ref:t})});YY.displayName=F8e;var XY="AlertDialogCancel",QY=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=M8e(XY,r),i=ud(r),o=It(t,a);return n.jsx(UN,{...i,...s,ref:o})});QY.displayName=XY;var $8e=({contentRef:e})=>{const t=`\`${bh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${bh}\` by passing a \`${GY}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${bh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},L8e=BY,B8e=UY,U8e=VY,ZY=zY,JY=WY,eX=YY,tX=QY,rX=qY,nX=KY;const cc=L8e,sX=B8e,V8e=U8e,aX=v.forwardRef(({className:e,...t},r)=>n.jsx(ZY,{className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));aX.displayName=ZY.displayName;const xl=v.forwardRef(({className:e,...t},r)=>n.jsxs(V8e,{children:[n.jsx(aX,{}),n.jsx(JY,{ref:r,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));xl.displayName=JY.displayName;const gl=({className:e,...t})=>n.jsx("div",{className:ge("flex flex-col space-y-2 text-center sm:text-left",e),...t});gl.displayName="AlertDialogHeader";const vl=({className:e,...t})=>n.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});vl.displayName="AlertDialogFooter";const yl=v.forwardRef(({className:e,...t},r)=>n.jsx(rX,{ref:r,className:ge("text-lg font-semibold",e),...t}));yl.displayName=rX.displayName;const jl=v.forwardRef(({className:e,...t},r)=>n.jsx(nX,{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));jl.displayName=nX.displayName;const bl=v.forwardRef(({className:e,...t},r)=>n.jsx(eX,{ref:r,className:ge(y0(),e),...t}));bl.displayName=eX.displayName;const wl=v.forwardRef(({className:e,...t},r)=>n.jsx(tX,{ref:r,className:ge(y0({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));wl.displayName=tX.displayName;const _a=or.create({baseURL:Xi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1,validateStatus:e=>e<500});_a.interceptors.request.use(e=>(e.metadata={startTime:Date.now()},e),e=>Promise.reject(e));_a.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));let Ej=!1,cP=[];const JS=(e,t=null)=>{cP.forEach(r=>{e?r.reject(e):r.resolve(t)}),cP=[]};_a.interceptors.response.use(e=>e,async e=>{var r,s;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){if(Ej)return new Promise((i,o)=>{cP.push({resolve:i,reject:o})}).then(i=>(t.headers&&(t.headers.Authorization=`Bearer ${i}`),_a(t))).catch(i=>Promise.reject(i));t._retry=!0,Ej=!0;const a=localStorage.getItem("refresh_token");if(!a)return Ej=!1,JS(e,null),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),Promise.reject(e);try{const i=await or.post(`${Wv}/refresh/`,{refresh:a},{timeout:1e4}),{access:o}=i.data;return localStorage.setItem("access_token",o),t.headers&&(t.headers.Authorization=`Bearer ${o}`),JS(null,o),_a(t)}catch(i){return JS(i,null),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),Promise.reject(i)}finally{Ej=!1}}if((s=e.response)!=null&&s.data){const a=e.response.data,i=a.error||a.detail||a.message||"An error occurred";return Promise.reject(new Error(i))}return Promise.reject(e)});const xy={async getClients(e){return(await _a.get("/clients/",{params:e,signal:new AbortController().signal})).data},async getClient(e){return(await _a.get(`/clients/${e}/`,{headers:{"Cache-Control":"max-age=300"}})).data},async createClient(e){return(await _a.post("/clients/",e)).data},async updateClient(e,t){return(await _a.patch(`/clients/${e}/`,t)).data},async deleteClient(e){await _a.delete(`/clients/${e}/`)},async replaceClient(e,t){return(await _a.put(`/clients/${e}/`,t)).data},async batchGetClients(e){const t=e.map(r=>this.getClient(r));return Promise.all(t)},async checkEmailExists(e){try{return(await _a.get("/clients/",{params:{search:e}})).data.results.some(r=>r.email===e)}catch{return!1}},async getClientApartments(e){return(await _a.get(`/clients/${e}/apartments/`)).data},async getClientProducts(e){return(await _a.get(`/clients/${e}/products/`)).data},async getClientDetails(e){return(await _a.get(`/clients/${e}/details/`)).data}},Yo={all:["clients"],lists:()=>[...Yo.all,"list"],list:e=>[...Yo.lists(),e],details:()=>[...Yo.all,"detail"],detail:e=>[...Yo.details(),e]};function z8e(e,t){const[r,s]=v.useState(e);return v.useEffect(()=>{const a=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function H2(e,t){const r=z8e(e==null?void 0:e.search,300),s={...e,search:r};return Ns({queryKey:Yo.list(s),queryFn:()=>xy.getClients(s),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:a=>a,...t})}function W8e(){const e=Gr(),{toast:t}=xr();return un({mutationFn:r=>xy.createClient(r),onMutate:async r=>{await e.cancelQueries({queryKey:Yo.all});const s=e.getQueryData(Yo.all),a={id:`temp-${Date.now()}`,...r,apartments_count:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return e.setQueriesData({queryKey:Yo.lists()},i=>i&&{...i,results:[a,...i.results||[]],count:(i.count||0)+1}),{previousClients:s,optimisticClient:a}},onError:(r,s,a)=>{a!=null&&a.previousClients&&e.setQueryData(Yo.all,a.previousClients),t({title:"Error creating client",description:r.message||"Something went wrong",variant:"destructive"})},onSuccess:r=>{t({title:"Client created",description:`${r.name} has been created successfully.`})},onSettled:()=>{e.invalidateQueries({queryKey:Yo.all})}})}function iX(){const e=Gr(),{toast:t}=xr();return un({mutationFn:({id:r,data:s})=>xy.updateClient(r,s),onSuccess:r=>{e.invalidateQueries({queryKey:Yo.detail(r.id)}),e.invalidateQueries({queryKey:["clients"]}),t({title:"Client updated",description:`${r.name} has been updated successfully.`})},onError:r=>{t({title:"Error updating client",description:r.message||"Something went wrong",variant:"destructive"})}})}function H8e(){const e=Gr(),{toast:t}=xr();return un({mutationFn:({id:r,name:s})=>xy.deleteClient(r).then(()=>({id:r,name:s})),onSuccess:r=>{e.invalidateQueries({queryKey:["clients"]}),t({title:"Client deleted",description:`${r.name} has been deleted successfully.`})},onError:r=>{t({title:"Error deleting client",description:r.message||"Something went wrong",variant:"destructive"})}})}const q8e=()=>{const e=ur(),{toast:t}=xr(),[r,s]=v.useState(""),[a,i]=v.useState("all"),[o,l]=v.useState("all"),[c,d]=v.useState(!1),[u,f]=v.useState(null),[m,h]=v.useState(!1),[x,p]=v.useState(null),{data:g,isLoading:j,error:y,refetch:w}=H2({search:r||void 0,account_status:a!=="all"?a:void 0,type:o!=="all"?o:void 0}),b=W8e(),N=iX(),_=H8e(),S=v.useMemo(()=>(g==null?void 0:g.results)||[],[g==null?void 0:g.results]),[A,E]=v.useState({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""}),P=S,D=v.useMemo(()=>{const O=(g==null?void 0:g.results)||[],K=O.length,se=O.filter(me=>me.account_status==="Active").length,R=O.filter(me=>me.account_status==="Inactive").length,V=O.filter(me=>me.type==="Investor").length,L=O.filter(me=>me.type==="Buy2Rent Internal").length,G=O.reduce((me,B)=>me+(B.apartments_count||0),0),le=K>0?(G/K).toFixed(1):"0";return{totalClients:K,activeClients:se,inactiveClients:R,investorClients:V,internalClients:L,totalApartments:G,avgApartmentsPerClient:le}},[g==null?void 0:g.results]),I=v.useCallback(O=>{s(O.target.value)},[]),W=O=>{if(O){const K=S.find(se=>se.id===O);K&&(f(O),E({name:K.name,email:K.email,phone:K.phone||"",account_status:K.account_status,type:K.type,notes:K.notes||""}))}else f(null),E({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""});d(!0)},H=async O=>{if(O.preventDefault(),console.log("Form submitted with data:",A),!A.name.trim()||!A.email.trim()){t({title:"Validation Error",description:"Name and email are required.",variant:"destructive"});return}try{u?(console.log("Updating client:",u),await N.mutateAsync({id:u,data:A}),t({title:"Success",description:"Client updated successfully"})):(console.log("Creating new client:",A),await b.mutateAsync(A),t({title:"Success",description:"Client created successfully"})),d(!1),f(null),E({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""})}catch(K){console.error("Error submitting form:",K)}},F=(O,K)=>{const se=S.find(V=>V.id===O),R=(se==null?void 0:se.apartments_count)??0;if(R>0){t({title:"Cannot delete client",description:`${K} has ${R} apartment(s) associated. Please reassign or delete the apartments first.`,variant:"destructive"});return}p({id:O,name:K}),h(!0)},T=async()=>{if(x)try{await _.mutateAsync({id:x.id,name:x.name}),t({title:"Success",description:`Client "${x.name}" deleted successfully`})}catch{}finally{h(!1),p(null)}},k=O=>{e(`/clients/${O}`)},M=O=>O==="Active"?"bg-success/10 text-success border-success/20":"bg-muted text-muted-foreground border-border/50";return j?n.jsx(ct,{title:"Clients",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(C,{className:"h-10 w-64"}),n.jsx(C,{className:"h-10 w-32"})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsx(C,{className:"h-6 w-48"})}),n.jsx(Q,{children:n.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(O=>n.jsx(C,{className:"h-16 w-full"},O))})})]})]})}):y?n.jsx(ct,{title:"Clients",children:n.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[n.jsxs("p",{className:"text-destructive mb-4",children:["Failed to load clients: ",y.message]}),n.jsxs(re,{onClick:()=>w(),variant:"outline",children:[n.jsx(Sf,{className:"mr-2 h-4 w-4"}),"Retry"]})]})}):n.jsx(ct,{title:"Clients",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-muted/20",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Total Clients"}),n.jsx("p",{className:"text-2xl font-bold mt-1",children:D.totalClients})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx(Gc,{className:"h-5 w-5 text-primary"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-green-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Active"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-green-600",children:D.activeClients})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-green-500/10 flex items-center justify-center",children:n.jsx(_7,{className:"h-5 w-5 text-green-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-red-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Inactive"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-red-500",children:D.inactiveClients})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-red-500/10 flex items-center justify-center",children:n.jsx(S7,{className:"h-5 w-5 text-red-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-violet-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Investors"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-violet-600",children:D.investorClients})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-violet-500/10 flex items-center justify-center",children:n.jsx(m7,{className:"h-5 w-5 text-violet-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-emerald-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Apartments"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-emerald-600",children:D.totalApartments})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-emerald-500/10 flex items-center justify-center",children:n.jsx(y7,{className:"h-5 w-5 text-emerald-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-amber-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Avg/Client"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-amber-600",children:D.avgApartmentsPerClient})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-amber-500/10 flex items-center justify-center",children:n.jsx(ni,{className:"h-5 w-5 text-amber-500"})})]})})})]}),n.jsx("div",{className:"flex flex-col gap-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-stretch sm:items-center",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(ua,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/70 pointer-events-none z-10"}),n.jsx(fe,{placeholder:"Search by name or email...",value:r,onChange:I,className:"pl-10 h-11 bg-muted/30 border-border/50 focus:bg-background transition-colors",autoComplete:"off"},"client-search-input")]}),n.jsxs("div",{className:"flex gap-2 flex-wrap sm:flex-nowrap",children:[n.jsxs(tt,{value:a,onValueChange:i,children:[n.jsx(Je,{className:"w-full sm:w-[140px] h-11 bg-muted/30 border-border/50",children:n.jsx(rt,{placeholder:"Status"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"all",children:"All Status"}),n.jsx(ee,{value:"Active",children:"Active"}),n.jsx(ee,{value:"Inactive",children:"Inactive"})]})]}),n.jsxs(tt,{value:o,onValueChange:l,children:[n.jsx(Je,{className:"w-full sm:w-[160px] h-11 bg-muted/30 border-border/50",children:n.jsx(rt,{placeholder:"Type"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"all",children:"All Types"}),n.jsx(ee,{value:"Individual",children:"Individual"}),n.jsx(ee,{value:"Company",children:"Company"})]})]}),n.jsxs(Zr,{open:c,onOpenChange:d,children:[n.jsx(Lpe,{asChild:!0,children:n.jsxs(re,{onClick:()=>W(),className:"h-11 w-full sm:w-auto",children:[n.jsx(Kn,{className:"h-4 w-4 mr-2"}),"Add Client"]})}),n.jsx(qr,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:n.jsxs("form",{onSubmit:H,children:[n.jsx(Jr,{className:"pb-4 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsxs("div",{children:[n.jsx(en,{className:"text-xl",children:u?"Edit Client":"Add New Client"}),n.jsx(is,{className:"text-sm",children:u?"Update client information":"Create a new client profile"})]})]})}),n.jsxs("div",{className:"grid gap-6 py-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Basic Information"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"name",className:"text-sm font-medium",children:"Full Name *"}),n.jsx(fe,{id:"name",value:A.name,onChange:O=>E({...A,name:O.target.value}),placeholder:"John Doe",className:"h-11"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Contact Information"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"email",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Email *"]}),n.jsx(fe,{id:"email",type:"email",value:A.email,onChange:O=>E({...A,email:O.target.value}),placeholder:"john@example.com",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"phone",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Phone"]}),n.jsx(fe,{id:"phone",value:A.phone,onChange:O=>E({...A,phone:O.target.value}),placeholder:"+36 20 123 4567",className:"h-11"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Account Settings"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"type",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Client Type"]}),n.jsxs(tt,{value:A.type,onValueChange:O=>E({...A,type:O}),children:[n.jsx(Je,{id:"type",className:"h-11",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"Investor",children:"Investor"}),n.jsx(ee,{value:"Buy2Rent Internal",children:"Buy2Rent Internal"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"status",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Account Status"]}),n.jsxs(tt,{value:A.account_status,onValueChange:O=>E({...A,account_status:O}),children:[n.jsx(Je,{id:"status",className:"h-11",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"Active",children:"Active"}),n.jsx(ee,{value:"Inactive",children:"Inactive"}),n.jsx(ee,{value:"Suspended",children:"Suspended"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2",children:[n.jsx("div",{className:"w-1 h-5 bg-primary rounded-full"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Additional Information"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"notes",className:"text-sm font-medium flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Notes"]}),n.jsx(fa,{id:"notes",value:A.notes,onChange:O=>E({...A,notes:O.target.value}),placeholder:"Add any additional notes or comments about this client...",rows:4,className:"resize-none"})]})]})]}),n.jsxs(Va,{className:"pt-6 border-t border-border/50 gap-3",children:[n.jsx(re,{type:"button",variant:"outline",onClick:()=>d(!1),className:"flex-1 h-11",children:"Cancel"}),n.jsxs(re,{type:"submit",className:"flex-1 h-11 bg-primary hover:bg-primary/90",children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),u?"Save Changes":"Create Client"]})]})]})})]})]})]})}),n.jsxs(X,{className:"border-border/50",children:[n.jsx(we,{className:"border-b border-border/50 bg-muted/20",children:n.jsxs(Ve,{className:"text-lg font-semibold",children:["All Clients (",P.length,")"]})}),n.jsx(Q,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ds,{children:[n.jsx(Is,{children:n.jsxs(Bt,{className:"hover:bg-transparent border-b border-border/50",children:[n.jsx(Te,{className:"font-semibold text-foreground/90",children:"Name"}),n.jsx(Te,{className:"font-semibold text-foreground/90",children:"Type"}),n.jsx(Te,{className:"font-semibold text-foreground/90",children:"Email"}),n.jsx(Te,{className:"font-semibold text-foreground/90",children:"Phone"}),n.jsx(Te,{className:"font-semibold text-foreground/90",children:"Status"}),n.jsx(Te,{className:"font-semibold text-foreground/90",children:"Apartments"}),n.jsx(Te,{className:"font-semibold text-foreground/90",children:"Notes"}),n.jsx(Te,{className:"text-right font-semibold text-foreground/90",children:"Actions"})]})}),n.jsx(Rs,{children:P.length===0?n.jsx(Bt,{className:"hover:bg-transparent",children:n.jsx(Se,{colSpan:8,className:"text-center py-12 text-muted-foreground",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(ua,{className:"h-8 w-8 text-muted-foreground/50"}),n.jsx("p",{className:"font-medium",children:"No clients found"}),n.jsx("p",{className:"text-sm",children:"Try adjusting your filters or add a new client."})]})})}):P.map(O=>{const K=O.apartments_count??0;return n.jsxs(Bt,{className:"hover:bg-muted/30 transition-colors border-b border-border/30 last:border-0",children:[n.jsx(Se,{className:"font-medium text-foreground py-4",children:O.name}),n.jsx(Se,{className:"py-4",children:n.jsx(Ae,{variant:"outline",className:"capitalize border-border/50 bg-muted/40",children:O.type})}),n.jsx(Se,{className:"text-muted-foreground py-4",children:O.email}),n.jsx(Se,{className:"text-muted-foreground py-4",children:O.phone}),n.jsx(Se,{className:"py-4",children:n.jsx(Ae,{className:M(O.account_status),children:O.account_status})}),n.jsx(Se,{className:"py-4",children:n.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[n.jsx(dr,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium",children:K})]})}),n.jsx(Se,{className:"max-w-[200px] truncate text-muted-foreground py-4",children:O.notes||"-"}),n.jsx(Se,{className:"text-right py-4",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(re,{size:"sm",variant:"ghost",onClick:()=>k(O.id),className:"hover:bg-primary/10 hover:text-primary",title:"View Details",children:n.jsx(ri,{className:"h-4 w-4"})}),n.jsx(re,{size:"sm",variant:"ghost",onClick:()=>W(O.id),className:"hover:bg-muted/50 hover:text-foreground",title:"Edit Client",children:n.jsx(Ys,{className:"h-4 w-4"})}),n.jsx(re,{size:"sm",variant:"ghost",onClick:()=>F(O.id,O.name),className:"hover:bg-destructive/10 hover:text-destructive",title:"Delete Client",children:n.jsx(xn,{className:"h-4 w-4"})})]})})]},O.id)})})]})})})]}),n.jsx(cc,{open:m,onOpenChange:h,children:n.jsxs(xl,{children:[n.jsx(gl,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(si,{className:"h-6 w-6 text-destructive"})}),n.jsxs("div",{children:[n.jsx(yl,{className:"text-xl",children:"Delete Client"}),n.jsx(jl,{className:"mt-1",children:"This action cannot be undone."})]})]})}),n.jsx("div",{className:"py-4",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to delete"," ",n.jsxs("span",{className:"font-semibold text-foreground",children:['"',x==null?void 0:x.name,'"']}),"? This will permanently remove the client from the system."]})}),n.jsxs(vl,{children:[n.jsx(wl,{autoFocus:!1,children:"Cancel"}),n.jsx(bl,{onClick:T,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",autoFocus:!0,children:"Delete Client"})]})]})})]})})};var s3="Tabs",[G8e,znt]=ea(s3,[Kp]),oX=Kp(),[K8e,a3]=G8e(s3),lX=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=om(l),[f,m]=Ia({prop:s,onChange:a,defaultProp:i});return n.jsx(K8e,{scope:r,baseId:ai(),value:f,onValueChange:m,orientation:o,dir:u,activationMode:c,children:n.jsx(ft.div,{dir:u,"data-orientation":o,...d,ref:t})})});lX.displayName=s3;var cX="TabsList",dX=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,i=a3(cX,r),o=oX(r);return n.jsx(dT,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(ft.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});dX.displayName=cX;var uX="TabsTrigger",fX=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...i}=e,o=a3(uX,r),l=oX(r),c=pX(o.baseId,s),d=xX(o.baseId,s),u=s===o.value;return n.jsx(uT,{asChild:!0,...l,focusable:!a,active:u,children:n.jsx(ft.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:He(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(s):f.preventDefault()}),onKeyDown:He(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(s)}),onFocus:He(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!a&&f&&o.onValueChange(s)})})})});fX.displayName=uX;var mX="TabsContent",hX=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:i,...o}=e,l=a3(mX,r),c=pX(l.baseId,s),d=xX(l.baseId,s),u=s===l.value,f=v.useRef(u);return v.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),n.jsx(as,{present:a||u,children:({present:m})=>n.jsx(ft.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});hX.displayName=mX;function pX(e,t){return`${e}-trigger-${t}`}function xX(e,t){return`${e}-content-${t}`}var Y8e=lX,gX=dX,vX=fX,yX=hX;const To=Y8e,Qi=v.forwardRef(({className:e,...t},r)=>n.jsx(gX,{ref:r,className:ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Qi.displayName=gX.displayName;const Ut=v.forwardRef(({className:e,...t},r)=>n.jsx(vX,{ref:r,className:ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ut.displayName=vX.displayName;const Yt=v.forwardRef(({className:e,...t},r)=>n.jsx(yX,{ref:r,className:ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Yt.displayName=yX.displayName;function X8e(e,t=[]){let r=[];function s(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];function d(f){const{scope:m,children:h,...x}=f,p=(m==null?void 0:m[e][c])||l,g=v.useMemo(()=>x,Object.values(x));return n.jsx(p.Provider,{value:g,children:h})}function u(f,m){const h=(m==null?void 0:m[e][c])||l,x=v.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[s,Q8e(a,...t)]}function Q8e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var i3="Progress",o3=100,[Z8e,Wnt]=X8e(i3),[J8e,eBe]=Z8e(i3),jX=v.forwardRef((e,t)=>{const{__scopeProgress:r,value:s=null,max:a,getValueLabel:i=tBe,...o}=e;(a||a===0)&&!$$(a)&&console.error(rBe(`${a}`,"Progress"));const l=$$(a)?a:o3;s!==null&&!L$(s,l)&&console.error(nBe(`${s}`,"Progress"));const c=L$(s,l)?s:null,d=Nw(c)?i(c,l):void 0;return n.jsx(J8e,{scope:r,value:c,max:l,children:n.jsx(ft.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Nw(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":NX(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});jX.displayName=i3;var bX="ProgressIndicator",wX=v.forwardRef((e,t)=>{const{__scopeProgress:r,...s}=e,a=eBe(bX,r);return n.jsx(ft.div,{"data-state":NX(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});wX.displayName=bX;function tBe(e,t){return`${Math.round(e/t*100)}%`}function NX(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Nw(e){return typeof e=="number"}function $$(e){return Nw(e)&&!isNaN(e)&&e>0}function L$(e,t){return Nw(e)&&!isNaN(e)&&e<=t&&e>=0}function rBe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${o3}\`.`}function nBe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${o3} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var _X=jX,sBe=wX;const q2=v.forwardRef(({className:e,value:t,...r},s)=>n.jsx(_X,{ref:s,className:ge("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:n.jsx(sBe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));q2.displayName=_X.displayName;const gn=v.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));gn.displayName="Textarea";const Fa=v.forwardRef(({...e},t)=>n.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));Fa.displayName="Breadcrumb";const $a=v.forwardRef(({className:e,...t},r)=>n.jsx("ol",{ref:r,className:ge("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));$a.displayName="BreadcrumbList";const er=v.forwardRef(({className:e,...t},r)=>n.jsx("li",{ref:r,className:ge("inline-flex items-center gap-1.5",e),...t}));er.displayName="BreadcrumbItem";const Qn=v.forwardRef(({asChild:e,className:t,...r},s)=>{const a=e?Xl:"a";return n.jsx(a,{ref:s,className:ge("transition-colors hover:text-foreground",t),...r})});Qn.displayName="BreadcrumbLink";const pi=v.forwardRef(({className:e,...t},r)=>n.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:ge("font-normal text-foreground",e),...t}));pi.displayName="BreadcrumbPage";const Sn=({children:e,className:t,...r})=>n.jsx("li",{role:"presentation","aria-hidden":"true",className:ge("[&>svg]:size-3.5",t),...r,children:e??n.jsx(uu,{})});Sn.displayName="BreadcrumbSeparator";const aBe=()=>n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-4 w-2"}),n.jsx(C,{className:"h-4 w-32"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-9 w-20 rounded-md"}),n.jsx(C,{className:"h-9 w-24 rounded-md"})]})]}),n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/5 via-primary/3 to-background border border-border/50",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-white/5 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.5))]"}),n.jsxs("div",{className:"relative p-8",children:[n.jsx(C,{className:"h-9 w-24 rounded-md absolute top-4 left-4"}),n.jsxs("div",{className:"flex items-start gap-6 mt-8",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-primary/20 to-primary/10 animate-pulse"}),n.jsx(C,{className:"absolute -bottom-2 -right-2 w-8 h-8 rounded-full border-4 border-background"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(C,{className:"h-9 w-48"}),n.jsx(C,{className:"h-6 w-20 rounded-full"}),n.jsx(C,{className:"h-6 w-24 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-3 gap-6 mt-4",children:[1,2,3].map(e=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C,{className:"w-10 h-10 rounded-lg"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-3 w-12"}),n.jsx(C,{className:"h-4 w-32"})]})]},e))}),n.jsx("div",{className:"mt-4 p-3 rounded-lg bg-background/60 border border-border/50",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(C,{className:"h-4 w-4 mt-0.5"}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsx(C,{className:"h-3 w-full"}),n.jsx(C,{className:"h-3 w-3/4"})]})]})})]})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{gradient:"from-blue-500/5 to-blue-500/0",iconBg:"bg-blue-500/10",accentBg:"bg-blue-500/5"},{gradient:"from-amber-500/5 to-amber-500/0",iconBg:"bg-amber-500/10",accentBg:"bg-amber-500/5"},{gradient:"from-green-500/5 to-green-500/0",iconBg:"bg-green-500/10",accentBg:"bg-green-500/5"},{gradient:"from-orange-500/5 to-orange-500/0",iconBg:"bg-orange-500/10",accentBg:"bg-orange-500/5"}].map((e,t)=>n.jsx(X,{className:`border-border/50 bg-gradient-to-br ${e.gradient} hover:shadow-xl transition-all duration-300 group`,children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:`w-14 h-14 rounded-2xl ${e.iconBg} flex items-center justify-center group-hover:scale-110 transition-transform`,children:n.jsx(C,{className:"w-7 h-7 rounded"})}),n.jsx("div",{className:`w-10 h-10 rounded-xl ${e.accentBg} flex items-center justify-center`,children:n.jsx(C,{className:"w-5 h-5 rounded"})})]}),n.jsxs("div",{children:[n.jsx(C,{className:"h-8 w-24 mb-1"}),n.jsx(C,{className:"h-4 w-32 mb-3"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"w-2 h-2 rounded-full animate-pulse"}),n.jsx(C,{className:"h-3 w-28"})]})})]})]})},t))}),n.jsxs(X,{className:"border-border/50 bg-gradient-to-br from-card to-card/50",children:[n.jsx(we,{className:"pb-3 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(C,{className:"h-6 w-6"}),n.jsx(C,{className:"h-6 w-48"})]}),n.jsx(C,{className:"h-4 w-64 mt-1"})]}),n.jsx(C,{className:"h-6 w-20 rounded-full"})]})}),n.jsxs(Q,{className:"p-0",children:[n.jsx("div",{className:"px-6 pt-4",children:n.jsx("div",{className:"grid w-full grid-cols-3 bg-muted/50 rounded-lg p-1",children:[1,2,3].map(e=>n.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[n.jsx(C,{className:"h-4 w-4"}),n.jsx(C,{className:"h-4 w-16"})]},e))})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{gradient:"from-blue-500/10 to-blue-500/5",border:"border-blue-500/20"},{gradient:"from-green-500/10 to-green-500/5",border:"border-green-500/20"},{gradient:"from-orange-500/10 to-orange-500/5",border:"border-orange-500/20"},{gradient:"from-purple-500/10 to-purple-500/5",border:"border-purple-500/20"}].map((e,t)=>n.jsxs("div",{className:`p-4 rounded-xl bg-gradient-to-br ${e.gradient} border ${e.border}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(C,{className:"w-8 h-8 rounded-lg"}),n.jsx(C,{className:"h-3 w-20"})]}),n.jsx(C,{className:"h-7 w-16"})]},t))}),n.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-4 w-24"})]}),n.jsx(C,{className:"h-3 w-full rounded-full"}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx(C,{className:"h-3 w-20"}),n.jsx(C,{className:"h-3 w-20"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-8 w-20"}),n.jsx(C,{className:"h-8 w-20"}),n.jsx(C,{className:"h-8 w-20"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx(C,{className:"h-4 w-48 mb-3"}),n.jsx("div",{className:"h-[220px] flex items-center justify-center",children:n.jsxs("div",{className:"relative",children:[n.jsx(C,{className:"h-40 w-40 rounded-full"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"h-20 w-20 rounded-full bg-background"})})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx(C,{className:"h-4 w-40 mb-3"}),n.jsx("div",{className:"h-[220px] space-y-3 flex flex-col justify-end",children:[70,90,50,85,60].map((e,t)=>n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx(C,{className:"h-3 w-16"}),n.jsx(C,{className:"h-4 flex-1",style:{height:`${e}%`}})]},t))})]})]}),n.jsxs("div",{children:[n.jsx(C,{className:"h-5 w-32 mb-4"}),n.jsx("div",{className:"space-y-3",children:[1,2,3].map(e=>n.jsxs("div",{className:"p-5 rounded-xl bg-gradient-to-br from-card to-muted/20 border border-border/50 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center",children:n.jsx(C,{className:"w-6 h-6 rounded"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-5 w-40"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-3 w-3 rounded"}),n.jsx(C,{className:"h-3 w-56"})]})]})]}),n.jsx(C,{className:"h-6 w-28 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-4 gap-2 pt-3 border-t border-border/30",children:[1,2,3,4].map(t=>n.jsxs("div",{className:"p-2 rounded-lg bg-gradient-to-br from-muted/60 to-muted/30",children:[n.jsx(C,{className:"h-2 w-16 mb-1"}),n.jsx(C,{className:"h-4 w-20"})]},t))})]},e))})]})]})]})]})]})}),iBe=()=>{var se,R,V,L,G,le,me,B,Y,oe,Ne,ue;const{id:e}=Yi(),t=ur(),{toast:r}=xr();v.useState("portfolio");const[s,a]=v.useState("overview"),[i,o]=v.useState("financial"),[l,c]=v.useState("status"),[d,u]=v.useState("status"),[f,m]=v.useState(!1),[h,x]=v.useState({name:"",email:"",phone:"",account_status:"Active",type:"Investor",notes:""}),{data:p,isLoading:g,error:j,refetch:y}=Ns({queryKey:["clientDetails",e],queryFn:()=>xy.getClientDetails(e),enabled:!!e}),w=iX(),b=p,N=p==null?void 0:p.apartments,_=(N==null?void 0:N.data)||[];N!=null&&N.count;const S=p==null?void 0:p.products,A=(S==null?void 0:S.data)||[];S!=null&&S.count;const E=(p==null?void 0:p.statistics)||{},P=(E==null?void 0:E.apartments)||{},D=(E==null?void 0:E.products)||{},I=(E==null?void 0:E.financial)||{},W=ve=>ve==="Active"?"bg-success/10 text-success border-success/20":"bg-muted text-muted-foreground border-border/50",H=ve=>({"Design Approved":"bg-primary/10 text-primary border-primary/20",Ordering:"bg-warning/10 text-warning border-warning/20",Renovating:"bg-accent/10 text-accent border-accent/20",Completed:"bg-success/10 text-success border-success/20"})[ve]||"bg-muted text-muted-foreground border-border/50",F=()=>{b&&(x({name:b.name,email:b.email,phone:b.phone||"",account_status:b.account_status,type:b.type,notes:b.notes||""}),m(!0))},T=async ve=>{if(ve.preventDefault(),!h.name.trim()||!h.email.trim()){r({title:"Validation Error",description:"Name and email are required.",variant:"destructive"});return}try{await w.mutateAsync({id:e,data:h}),r({title:"Success",description:"Client updated successfully"}),m(!1),y()}catch(xe){console.error("Error updating client:",xe)}},k=P.by_status?Object.entries(P.by_status).map(([ve,xe])=>({name:ve,value:xe,fill:ve==="Completed"?"#10b981":ve==="Renovating"?"#8b5cf6":ve==="Ordering"?"#f59e0b":"#3b82f6"})):[],M=D.by_status?Object.entries(D.by_status).map(([ve,xe])=>({name:ve,value:xe})):[],O=[{name:"Paid",value:I.total_paid||0,fill:"#10b981"},{name:"Outstanding",value:I.outstanding||0,fill:"#f59e0b"}],K=["#3b82f6","#8b5cf6","#f59e0b","#10b981","#ef4444","#06b6d4"];return g?n.jsx(aBe,{}):j||!b?n.jsx(ct,{title:"Client Not Found",children:n.jsx(X,{children:n.jsxs(Q,{className:"p-12 text-center",children:[n.jsx(St,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Client Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:j instanceof Error?j.message:"The client you're looking for doesn't exist."}),n.jsx(re,{onClick:()=>t("/clients"),children:"Back to Clients"})]})})}):n.jsxs(ct,{title:b.name,children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsx(Fa,{children:n.jsxs($a,{children:[n.jsx(er,{children:n.jsx(Qn,{asChild:!0,children:n.jsx(zi,{to:"/clients",children:"Clients"})})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(pi,{children:b.name})})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(re,{variant:"outline",size:"sm",onClick:F,children:[n.jsx(Ys,{className:"mr-2 h-4 w-4"}),"Edit"]}),n.jsxs(re,{variant:"destructive",size:"sm",onClick:()=>{window.confirm(`Are you sure you want to delete "${b.name}"?`)&&t("/clients")},children:[n.jsx(xn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/5 via-primary/3 to-background border border-border/50",children:[n.jsx("div",{className:"absolute inset-0 bg-grid-white/5 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.5))]"}),n.jsxs("div",{className:"relative p-8",children:[n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>t("/clients"),className:"absolute top-4 left-4 flex items-center gap-1",children:n.jsx(rr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex items-start gap-6 mt-8",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center text-white shadow-xl",children:n.jsx(N4,{className:"h-14 w-14"})}),n.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 rounded-full bg-success border-4 border-background flex items-center justify-center",children:n.jsx(ar,{className:"h-4 w-4 text-white"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h2",{className:"text-3xl font-bold text-foreground",children:b.name}),n.jsx(Ae,{className:W(b.account_status),children:b.account_status}),n.jsxs(Ae,{variant:"secondary",children:[n.jsx(fse,{className:"h-3.5 w-3.5 mr-1"}),b.type]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-6 mt-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:n.jsx(yn,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Email"}),n.jsx("p",{className:"text-sm font-semibold",children:b.email})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-success/10 flex items-center justify-center",children:n.jsx(Co,{className:"h-5 w-5 text-success"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Phone"}),n.jsx("p",{className:"text-sm font-semibold",children:b.phone})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-500/10 flex items-center justify-center",children:n.jsx(Hr,{className:"h-5 w-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Member Since"}),n.jsx("p",{className:"text-sm font-semibold",children:Ht(new Date(b.created_at),"MMM dd, yyyy")})]})]})]}),b.notes&&n.jsx("div",{className:"mt-4 p-3 rounded-lg bg-background/60 border border-border/50",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(An,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.notes})]})})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-blue-500/5 to-blue-500/0 hover:shadow-xl transition-all duration-300 group",children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:n.jsx(dr,{className:"h-7 w-7 text-blue-600"})}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/5 flex items-center justify-center",children:n.jsx(ni,{className:"h-5 w-5 text-blue-600/60"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-3xl font-bold text-foreground mb-1",children:P.total}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Total Apartments"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-success",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-success animate-pulse"}),n.jsx("span",{className:"font-medium",children:"Active Properties"})]})})]})]})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-amber-500/5 to-amber-500/0 hover:shadow-xl transition-all duration-300 group",children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-amber-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:n.jsx(lt,{className:"h-7 w-7 text-amber-600"})}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-500/5 flex items-center justify-center",children:n.jsx(Ng,{className:"h-5 w-5 text-amber-600/60"})})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-3xl font-bold text-foreground mb-1",children:D.total}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Total Products"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600",children:[n.jsx(Bb,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium",children:"Across All Properties"})]})})]})]})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-green-500/5 to-green-500/0 hover:shadow-xl transition-all duration-300 group",children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-green-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:n.jsx(Nr,{className:"h-7 w-7 text-green-600"})}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-500/5 flex items-center justify-center",children:n.jsx(C7,{className:"h-5 w-5 text-green-600/60"})})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold text-foreground mb-1",children:[new Intl.NumberFormat("hu-HU").format(D.total_value||0)," Ft"]}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Total Investment"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600",children:[n.jsx(ni,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium",children:"Portfolio Value"})]})})]})]})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-orange-500/5 to-orange-500/0 hover:shadow-xl transition-all duration-300 group",children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-orange-500/10 flex items-center justify-center group-hover:scale-110 transition-transform",children:n.jsx(St,{className:"h-7 w-7 text-orange-600"})}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-500/5 flex items-center justify-center",children:n.jsx(wr,{className:"h-5 w-5 text-orange-600/60"})})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold text-foreground mb-1",children:[I.outstanding<0?"-":"",new Intl.NumberFormat("hu-HU").format(Math.abs(I.outstanding||0))," Ft"]}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"Outstanding Amount"}),n.jsx("div",{className:"mt-3 pt-3 border-t border-border/50",children:n.jsxs("div",{className:"flex items-center gap-2 text-xs text-orange-600",children:[n.jsx(Ff,{className:"w-3 h-3"}),n.jsx("span",{className:"font-medium",children:"Pending Payments"})]})})]})]})})]}),n.jsxs(X,{className:"border-border/50 bg-gradient-to-br from-card to-card/50",children:[n.jsx(we,{className:"pb-3 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Ve,{className:"text-xl flex items-center gap-2",children:[n.jsx(h7,{className:"h-6 w-6 text-primary"}),"Analytics Dashboard"]}),n.jsx(Ir,{className:"mt-1",children:"Comprehensive insights and analytics"})]}),n.jsxs(Ae,{variant:"outline",className:"text-xs",children:[n.jsx(Ff,{className:"h-3 w-3 mr-1"}),"Live Data"]})]})}),n.jsx(Q,{className:"p-0",children:n.jsxs(To,{value:s,onValueChange:a,className:"w-full",children:[n.jsx("div",{className:"px-6 pt-4",children:n.jsxs(Qi,{className:"grid w-full grid-cols-3 bg-muted/50",children:[n.jsxs(Ut,{value:"overview",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[n.jsx(H5,{className:"h-4 w-4 mr-2"}),"Overview"]}),n.jsxs(Ut,{value:"apartments",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[n.jsx(dr,{className:"h-4 w-4 mr-2"}),"Apartments"]}),n.jsxs(Ut,{value:"products",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[n.jsx(lt,{className:"h-4 w-4 mr-2"}),"Products"]})]})}),n.jsxs(Yt,{value:"overview",className:"p-6 space-y-6 mt-0",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center",children:n.jsx(Ng,{className:"h-4 w-4 text-blue-600"})}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Total Orders"})]}),n.jsx("p",{className:"text-xl font-bold text-foreground",children:((se=p==null?void 0:p.orders)==null?void 0:se.count)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-500/10 to-green-500/5 border border-green-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-500/20 flex items-center justify-center",children:n.jsx(lt,{className:"h-4 w-4 text-green-600"})}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Deliveries"})]}),n.jsx("p",{className:"text-xl font-bold text-green-600",children:((R=p==null?void 0:p.deliveries)==null?void 0:R.count)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-orange-500/10 to-orange-500/5 border border-orange-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-500/20 flex items-center justify-center",children:n.jsx(St,{className:"h-4 w-4 text-orange-600"})}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Open Issues"})]}),n.jsx("p",{className:"text-xl font-bold text-orange-600",children:((V=p==null?void 0:p.issues)==null?void 0:V.open_count)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-500/10 to-purple-500/5 border border-purple-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center",children:n.jsx(N4,{className:"h-4 w-4 text-purple-600"})}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Vendors"})]}),n.jsx("p",{className:"text-xl font-bold text-purple-600",children:((L=p==null?void 0:p.vendors)==null?void 0:L.count)||new Set(A.map(ve=>ve.vendor_id).filter(Boolean)).size})]})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-muted/30 border border-border/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Payment Progress"}),n.jsxs("span",{className:"text-sm font-bold text-primary",children:[Math.round((I.total_paid||0)/(I.total_spent||1)*100),"% Complete"]})]}),n.jsx(q2,{value:Math.min((I.total_paid||0)/(I.total_spent||1)*100,100),className:"h-3"}),n.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-muted-foreground",children:[n.jsxs("span",{children:[new Intl.NumberFormat("hu-HU").format(I.total_paid||0)," Ft paid"]}),n.jsxs("span",{children:[new Intl.NumberFormat("hu-HU").format(I.outstanding||0)," Ft remaining"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Financial Analytics"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(re,{size:"sm",variant:i==="financial"?"default":"outline",onClick:()=>o("financial"),className:"h-8 text-xs",children:[n.jsx(H5,{className:"h-3 w-3 mr-1"}),"Financial"]}),n.jsxs(re,{size:"sm",variant:i==="apartments"?"default":"outline",onClick:()=>o("apartments"),className:"h-8 text-xs",children:[n.jsx(dr,{className:"h-3 w-3 mr-1"}),"Properties"]}),n.jsxs(re,{size:"sm",variant:i==="products"?"default":"outline",onClick:()=>o("products"),className:"h-8 text-xs",children:[n.jsx(lt,{className:"h-3 w-3 mr-1"}),"Products"]})]})]}),i==="financial"&&O.some(ve=>ve.value>0)&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Payment Distribution"}),n.jsx(fn,{width:"100%",height:200,children:n.jsxs(Mg,{children:[n.jsx(Fi,{data:O,cx:"50%",cy:"50%",labelLine:!1,label:({name:ve,percent:xe})=>`${ve}: ${(xe*100).toFixed(0)}%`,outerRadius:70,fill:"#8884d8",dataKey:"value",children:O.map((ve,xe)=>n.jsx(Na,{fill:ve.fill},`cell-${xe}`))}),n.jsx(mr,{formatter:ve=>`${new Intl.NumberFormat("hu-HU").format(ve)} Ft`})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Payment Breakdown"}),n.jsx(fn,{width:"100%",height:200,children:n.jsxs(wa,{data:O,layout:"vertical",children:[n.jsx(Un,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{type:"number",tick:{fontSize:11}}),n.jsx(on,{dataKey:"name",type:"category",tick:{fontSize:11},width:90}),n.jsx(mr,{formatter:ve=>`${new Intl.NumberFormat("hu-HU").format(ve)} Ft`}),n.jsx(wn,{dataKey:"value",radius:[0,6,6,0],children:O.map((ve,xe)=>n.jsx(Na,{fill:ve.fill},`cell-${xe}`))})]})})]})]}),i==="apartments"&&k.length>0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Apartment Status Distribution"}),n.jsx(fn,{width:"100%",height:200,children:n.jsxs(Mg,{children:[n.jsx(Fi,{data:k,cx:"50%",cy:"50%",labelLine:!1,label:({name:ve,percent:xe})=>`${(xe*100).toFixed(0)}%`,outerRadius:70,fill:"#8884d8",dataKey:"value",children:k.map((ve,xe)=>n.jsx(Na,{fill:ve.fill},`cell-${xe}`))}),n.jsx(mr,{})]})}),n.jsx("div",{className:"grid grid-cols-2 gap-2 mt-3",children:k.map((ve,xe)=>n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/30",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ve.fill}}),n.jsx("span",{className:"text-xs font-medium truncate",children:ve.name}),n.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:ve.value})]},xe))})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Breakdown"}),n.jsx(fn,{width:"100%",height:200,children:n.jsxs(wa,{data:k,children:[n.jsx(Un,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:70}),n.jsx(on,{tick:{fontSize:11}}),n.jsx(mr,{}),n.jsx(wn,{dataKey:"value",radius:[6,6,0,0],children:k.map((ve,xe)=>n.jsx(Na,{fill:ve.fill},`cell-${xe}`))})]})})]})]}),i==="products"&&M.length>0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Product Status Distribution"}),n.jsx(fn,{width:"100%",height:200,children:n.jsxs(wa,{data:M,children:[n.jsx(Un,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:70}),n.jsx(on,{tick:{fontSize:11}}),n.jsx(mr,{}),n.jsx(wn,{dataKey:"value",fill:"#8b5cf6",radius:[6,6,0,0],children:M.map((ve,xe)=>n.jsx(Na,{fill:K[xe%K.length]},`cell-${xe}`))})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Breakdown"}),n.jsx(fn,{width:"100%",height:200,children:n.jsxs(wa,{data:M,layout:"vertical",children:[n.jsx(Un,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{type:"number",tick:{fontSize:11}}),n.jsx(on,{dataKey:"name",type:"category",tick:{fontSize:10},width:110}),n.jsx(mr,{}),n.jsx(wn,{dataKey:"value",radius:[0,6,6,0],children:M.map((ve,xe)=>n.jsx(Na,{fill:K[xe%K.length]},`cell-${xe}`))})]})}),n.jsx("div",{className:"grid grid-cols-2 gap-2 mt-3",children:M.slice(0,6).map((ve,xe)=>n.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-muted/30",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:K[xe%K.length]}}),n.jsx("span",{className:"text-xs font-medium truncate",children:ve.name}),n.jsx("span",{className:"text-xs text-muted-foreground ml-auto",children:ve.value})]},xe))})]})]})]}),n.jsxs(Yt,{value:"apartments",className:"p-6 space-y-6 mt-0",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ar,{className:"h-5 w-5 text-blue-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Completed"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((G=P.by_status)==null?void 0:G.Completed)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-amber-500/10 to-amber-500/5 border border-amber-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(wr,{className:"h-5 w-5 text-amber-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"In Progress"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((le=P.by_status)==null?void 0:le.Renovating)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-500/10 to-purple-500/5 border border-purple-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Bb,{className:"h-5 w-5 text-purple-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Planning"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((me=P.by_status)==null?void 0:me.Planning)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-500/10 to-green-500/5 border border-green-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ni,{className:"h-5 w-5 text-green-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Avg Progress"})]}),n.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[Math.round(_.reduce((ve,xe)=>ve+(xe.progress||0),0)/(_.length||1)),"%"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Apartment Analytics"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(re,{size:"sm",variant:l==="status"?"default":"outline",onClick:()=>c("status"),className:"h-8 text-xs",children:"Status"}),n.jsx(re,{size:"sm",variant:l==="value"?"default":"outline",onClick:()=>c("value"),className:"h-8 text-xs",children:"Value"}),n.jsx(re,{size:"sm",variant:l==="products"?"default":"outline",onClick:()=>c("products"),className:"h-8 text-xs",children:"Products"})]})]}),l==="status"&&k.length>0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Distribution"}),n.jsx(fn,{width:"100%",height:220,children:n.jsxs(Mg,{children:[n.jsx(Fi,{data:k,cx:"50%",cy:"50%",labelLine:!1,label:({name:ve,percent:xe})=>`${ve}: ${(xe*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:k.map((ve,xe)=>n.jsx(Na,{fill:ve.fill},`cell-${xe}`))}),n.jsx(mr,{})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Comparison"}),n.jsx(fn,{width:"100%",height:220,children:n.jsxs(wa,{data:k,children:[n.jsx(Un,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(on,{tick:{fontSize:11}}),n.jsx(mr,{}),n.jsx(wn,{dataKey:"value",radius:[8,8,0,0],children:k.map((ve,xe)=>n.jsx(Na,{fill:ve.fill},`cell-${xe}`))})]})})]})]}),l==="value"&&n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Apartment Value Distribution"}),n.jsx(fn,{width:"100%",height:250,children:n.jsxs(wa,{data:_.map(ve=>{const xe=A.filter(Fe=>Fe.apartment_id===ve.id),Ee=xe.reduce((Fe,Oe)=>Fe+parseFloat(Oe.unit_price||0)*Oe.qty,0);return{name:ve.name,value:Ee,products:xe.length}}),children:[n.jsx(Un,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(on,{tick:{fontSize:11}}),n.jsx(mr,{formatter:ve=>`${new Intl.NumberFormat("hu-HU").format(ve)} Ft`}),n.jsx(wn,{dataKey:"value",fill:"#10b981",radius:[8,8,0,0]})]})})]}),l==="products"&&n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Products per Apartment"}),n.jsx(fn,{width:"100%",height:250,children:n.jsxs(wa,{data:_.map(ve=>({name:ve.name,products:A.filter(xe=>xe.apartment_id===ve.id).length})),children:[n.jsx(Un,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(on,{tick:{fontSize:11}}),n.jsx(mr,{}),n.jsx(wn,{dataKey:"products",fill:"#f59e0b",radius:[8,8,0,0]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"All Apartments"}),n.jsx("div",{className:"space-y-3",children:_.slice(0,5).map(ve=>{const xe=A.filter(Fe=>Fe.apartment_id===ve.id),Ee=xe.reduce((Fe,Oe)=>Fe+parseFloat(Oe.unit_price||0)*Oe.qty,0);return n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-card to-muted/20 border border-border/50 hover:border-primary/30 transition-all",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:n.jsx(dr,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-foreground",children:ve.name}),n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(xa,{className:"h-3 w-3"}),ve.address]})]})]}),n.jsx(Ae,{variant:"outline",className:H(ve.status),children:ve.status})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[n.jsxs("div",{className:"p-2 rounded-lg bg-muted/40",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-semibold",children:"Type"}),n.jsx("p",{className:"text-xs font-bold",children:ve.type||"N/A"})]}),n.jsxs("div",{className:"p-2 rounded-lg bg-amber-500/10",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-semibold",children:"Products"}),n.jsx("p",{className:"text-xs font-bold",children:xe.length})]}),n.jsxs("div",{className:"p-2 rounded-lg bg-green-500/10",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-semibold",children:"Value"}),n.jsxs("p",{className:"text-xs font-bold",children:[new Intl.NumberFormat("hu-HU",{notation:"compact"}).format(Ee)," Ft"]})]}),n.jsxs("div",{className:"p-2 rounded-lg bg-primary/10",children:[n.jsx("p",{className:"text-[10px] text-muted-foreground uppercase font-semibold",children:"Due Date"}),n.jsx("p",{className:"text-xs font-bold",children:ve.due_date?Ht(new Date(ve.due_date),"MMM dd"):"N/A"})]})]})]},ve.id)})})]})]}),n.jsxs(Yt,{value:"products",className:"p-6 space-y-6 mt-0",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-500/10 to-purple-500/5 border border-purple-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Ng,{className:"h-5 w-5 text-purple-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Ordered"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((B=D.by_status)==null?void 0:B.Ordered)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-500/5 border border-blue-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(lt,{className:"h-5 w-5 text-blue-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Delivered"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((Y=D.by_status)==null?void 0:Y.Delivered)||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-amber-500/10 to-amber-500/5 border border-amber-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(wr,{className:"h-5 w-5 text-amber-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Pending"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((oe=D.by_status)==null?void 0:oe.Pending)||((Ne=D.by_status)==null?void 0:Ne["Not Ordered"])||0})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-500/10 to-green-500/5 border border-green-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ar,{className:"h-5 w-5 text-green-600"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"Installed"})]}),n.jsx("p",{className:"text-2xl font-bold text-foreground",children:((ue=D.by_status)==null?void 0:ue.Installed)||0})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Product Analytics"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(re,{size:"sm",variant:d==="status"?"default":"outline",onClick:()=>u("status"),className:"h-8 text-xs",children:"Status"}),n.jsx(re,{size:"sm",variant:d==="category"?"default":"outline",onClick:()=>u("category"),className:"h-8 text-xs",children:"Category"}),n.jsx(re,{size:"sm",variant:d==="vendor"?"default":"outline",onClick:()=>u("vendor"),className:"h-8 text-xs",children:"Vendors"})]})]}),d==="status"&&M.length>0&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Distribution"}),n.jsx(fn,{width:"100%",height:220,children:n.jsxs(wa,{data:M,children:[n.jsx(Un,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(on,{tick:{fontSize:11}}),n.jsx(mr,{}),n.jsx(wn,{dataKey:"value",radius:[8,8,0,0],children:M.map((ve,xe)=>n.jsx(Na,{fill:K[xe%K.length]},`cell-${xe}`))})]})})]}),n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Breakdown"}),n.jsx(fn,{width:"100%",height:220,children:n.jsxs(wa,{data:M,layout:"vertical",children:[n.jsx(Un,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{type:"number",tick:{fontSize:11}}),n.jsx(on,{dataKey:"name",type:"category",tick:{fontSize:10},width:110}),n.jsx(mr,{}),n.jsx(wn,{dataKey:"value",radius:[0,8,8,0],children:M.map((ve,xe)=>n.jsx(Na,{fill:K[xe%K.length]},`cell-${xe}`))})]})})]})]}),d==="category"&&n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Products by Category"}),n.jsx(fn,{width:"100%",height:250,children:n.jsxs(wa,{data:Object.entries(A.reduce((ve,xe)=>{var Fe;const Ee=xe.category_name||((Fe=xe.category_details)==null?void 0:Fe.name)||"Uncategorized";return ve[Ee]=(ve[Ee]||0)+1,ve},{})).map(([ve,xe])=>({name:ve,value:xe})).slice(0,10),children:[n.jsx(Un,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(on,{tick:{fontSize:11}}),n.jsx(mr,{}),n.jsx(wn,{dataKey:"value",fill:"#8b5cf6",radius:[8,8,0,0]})]})})]}),d==="vendor"&&n.jsxs("div",{className:"p-4 rounded-xl bg-card border border-border/50",children:[n.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Products by Vendor"}),n.jsx(fn,{width:"100%",height:250,children:n.jsxs(wa,{data:Object.entries(A.reduce((ve,xe)=>{const Ee=xe.vendor_name||"Unknown";return ve[Ee]=(ve[Ee]||0)+1,ve},{})).map(([ve,xe])=>({name:ve,value:xe})).slice(0,10),children:[n.jsx(Un,{strokeDasharray:"3 3",opacity:.1}),n.jsx(an,{dataKey:"name",tick:{fontSize:10},angle:-45,textAnchor:"end",height:80}),n.jsx(on,{tick:{fontSize:11}}),n.jsx(mr,{}),n.jsx(wn,{dataKey:"value",fill:"#10b981",radius:[8,8,0,0]})]})})]}),M.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:"Status Legend"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:M.map((ve,xe)=>n.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/30 border border-border/50",children:[n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:K[xe%K.length]}}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium truncate",children:ve.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[ve.value," products"]})]})]},xe))})]})]})]})})]})]}),n.jsx(Zr,{open:f,onOpenChange:m,children:n.jsx(qr,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:n.jsxs("form",{onSubmit:T,children:[n.jsx(Jr,{className:"pb-4 border-b border-border/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsxs("div",{children:[n.jsx(en,{className:"text-xl",children:"Edit Client"}),n.jsx(is,{className:"text-sm",children:"Update client information"})]})]})}),n.jsxs("div",{className:"grid gap-6 py-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/30",children:[n.jsx($n,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Basic Information"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"name",className:"text-sm font-medium",children:["Full Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(fe,{id:"name",value:h.name,onChange:ve=>x({...h,name:ve.target.value}),placeholder:"John Doe",className:"h-11",required:!0})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/30",children:[n.jsx(yn,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Contact Information"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"email",className:"text-sm font-medium",children:["Email ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(fe,{id:"email",type:"email",value:h.email,onChange:ve=>x({...h,email:ve.target.value}),placeholder:"john@example.com",className:"h-11",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"phone",className:"text-sm font-medium",children:"Phone"}),n.jsx(fe,{id:"phone",type:"tel",value:h.phone,onChange:ve=>x({...h,phone:ve.target.value}),placeholder:"+36 20 123 4567",className:"h-11"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/30",children:[n.jsx(m7,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Account Settings"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"type",className:"text-sm font-medium",children:"Client Type"}),n.jsxs(tt,{value:h.type,onValueChange:ve=>x({...h,type:ve}),children:[n.jsx(Je,{id:"type",className:"h-11",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"Investor",children:"Investor"}),n.jsx(ee,{value:"Buy2Rent Internal",children:"Buy2Rent Internal"}),n.jsx(ee,{value:"Company",children:"Company"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",className:"text-sm font-medium",children:"Account Status"}),n.jsxs(tt,{value:h.account_status,onValueChange:ve=>x({...h,account_status:ve}),children:[n.jsx(Je,{id:"status",className:"h-11",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"Active",children:"Active"}),n.jsx(ee,{value:"Inactive",children:"Inactive"})]})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-border/30",children:[n.jsx(An,{className:"h-4 w-4 text-primary"}),n.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Additional Information"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",className:"text-sm font-medium",children:"Notes"}),n.jsx(gn,{id:"notes",value:h.notes,onChange:ve=>x({...h,notes:ve.target.value}),placeholder:"Add any additional notes or comments about this client...",className:"min-h-[100px] resize-none"})]})]})]}),n.jsxs(Va,{className:"pt-6 border-t border-border/50 gap-3",children:[n.jsx(re,{type:"button",variant:"outline",onClick:()=>m(!1),className:"flex-1 h-11",children:"Cancel"}),n.jsx(re,{type:"submit",className:"flex-1 h-11 bg-primary hover:bg-primary/90",disabled:w.isPending,children:w.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Changes"]})})]})]})})})]})},Pl=or.create({baseURL:Xi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});Pl.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Pl.interceptors.response.use(e=>e,async e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const dc={getApartments:async e=>(await Pl.get("/apartments/",{params:e})).data,getApartment:async e=>(await Pl.get(`/apartments/${e}/`)).data,createApartment:async e=>(await Pl.post("/apartments/",e)).data,updateApartment:async(e,t)=>(await Pl.put(`/apartments/${e}/`,t)).data,patchApartment:async(e,t)=>(await Pl.patch(`/apartments/${e}/`,t)).data,deleteApartment:async e=>{await Pl.delete(`/apartments/${e}/`)},getApartmentStatistics:async e=>(await Pl.get(`/apartments/${e}/statistics/`)).data,getApartmentActivities:async e=>(await Pl.get(`/apartments/${e}/activities/`)).data},Ka={all:["apartments"],lists:()=>[...Ka.all,"list"],list:e=>[...Ka.lists(),e],details:()=>[...Ka.all,"detail"],detail:e=>[...Ka.details(),e],statistics:e=>[...Ka.all,"statistics",e],activities:e=>[...Ka.all,"activities",e]};function oBe(e,t){const[r,s]=v.useState(e);return v.useEffect(()=>{const a=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function l3(e){const t=oBe(e==null?void 0:e.search,300),r={...e,search:t};return Ns({queryKey:Ka.list(r),queryFn:()=>dc.getApartments(r),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:s=>s})}function c3(e){return Ns({queryKey:Ka.detail(e),queryFn:()=>dc.getApartment(e),enabled:!!e,staleTime:5*60*1e3})}function lBe(){const e=Gr(),{toast:t}=xr();return un({mutationFn:r=>dc.createApartment(r),onSuccess:r=>{e.invalidateQueries({queryKey:Ka.lists()}),t({title:"Success",description:`Apartment "${r.name}" created successfully`})},onError:r=>{t({title:"Error creating apartment",description:r.message||"Something went wrong",variant:"destructive"})}})}function cBe(){const e=Gr(),{toast:t}=xr();return un({mutationFn:({id:r,data:s})=>dc.updateApartment(r,s),onSuccess:r=>{e.invalidateQueries({queryKey:Ka.lists()}),e.invalidateQueries({queryKey:Ka.detail(r.id)}),t({title:"Success",description:`Apartment "${r.name}" updated successfully`})},onError:r=>{t({title:"Error updating apartment",description:r.message||"Something went wrong",variant:"destructive"})}})}function dBe(){const e=Gr(),{toast:t}=xr();return un({mutationFn:({id:r})=>dc.deleteApartment(r),onSuccess:(r,s)=>{e.invalidateQueries({queryKey:Ka.lists()}),t({title:"Success",description:`Apartment "${s.name}" deleted successfully`})},onError:r=>{t({title:"Error deleting apartment",description:r.message||"Something went wrong",variant:"destructive"})}})}function uBe(e){return Ns({queryKey:Ka.statistics(e),queryFn:()=>dc.getApartmentStatistics(e),enabled:!!e,staleTime:2*60*1e3,refetchOnWindowFocus:!1})}function fBe(e){return Ns({queryKey:Ka.activities(e),queryFn:()=>dc.getApartmentActivities(e),enabled:!!e,staleTime:1*60*1e3,refetchOnWindowFocus:!1})}const bc=or.create({baseURL:Xi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});bc.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));bc.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});const Oo={getVendors:async e=>{const t=e?{search:e}:{};return(await bc.get("/vendors/",{params:t})).data},getVendor:async e=>(await bc.get(`/vendors/${e}/`)).data,createVendor:async e=>(await bc.post("/vendors/",e)).data,updateVendor:async(e,t)=>(await bc.patch(`/vendors/${e}/`,t)).data,deleteVendor:async e=>{await bc.delete(`/vendors/${e}/`)},getVendorProducts:async e=>(await bc.get(`/vendors/${e}/products/`)).data,removeVendorProduct:async(e,t)=>{await bc.delete(`/vendors/${e}/products/${t}/`)}},nd={vendors:["vendors"],vendor:e=>["vendors",e],vendorProducts:e=>["vendors",e,"products"]};function pm(e){return Ns({queryKey:nd.vendors,queryFn:()=>Oo.getVendors(e),staleTime:10*60*1e3,retry:1,refetchOnWindowFocus:!1})}function SX(e){return Ns({queryKey:nd.vendor(e),queryFn:()=>Oo.getVendor(e),enabled:!!e,staleTime:10*60*1e3,retry:1,refetchOnWindowFocus:!1})}function mBe(){const e=Gr();return un({mutationFn:t=>Oo.createVendor(t),onSuccess:()=>{e.invalidateQueries({queryKey:nd.vendors}),Ue.success("Vendor created successfully")},onError:t=>{var s,a;const r=((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||t.message||"Failed to create vendor";Ue.error(r),console.error("Create vendor error:",t)}})}function hBe(){const e=Gr();return un({mutationFn:({id:t,data:r})=>Oo.updateVendor(t,r),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:nd.vendors}),e.invalidateQueries({queryKey:nd.vendor(r.id)}),Ue.success("Vendor updated successfully")},onError:t=>{var s,a;const r=((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||t.message||"Failed to update vendor";Ue.error(r),console.error("Update vendor error:",t)}})}function CX(){const e=Gr();return un({mutationFn:t=>Oo.deleteVendor(t),onSuccess:()=>{e.invalidateQueries({queryKey:nd.vendors}),Ue.success("Vendor deleted successfully")},onError:t=>{var s,a;const r=((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.message)||t.message||"Failed to delete vendor";Ue.error(r),console.error("Delete vendor error:",t)}})}function pBe(e){return Ns({queryKey:nd.vendorProducts(e),queryFn:()=>Oo.getVendorProducts(e),enabled:!!e,staleTime:5*60*1e3,retry:1,refetchOnWindowFocus:!1})}function xBe(e){const t=Gr();return un({mutationFn:r=>Oo.removeVendorProduct(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:nd.vendorProducts(e)}),t.invalidateQueries({queryKey:nd.vendor(e)}),Ue.success("Product removed from vendor successfully")},onError:r=>{var a,i;const s=((i=(a=r.response)==null?void 0:a.data)==null?void 0:i.message)||r.message||"Failed to remove product";Ue.error(s),console.error("Remove product error:",r)}})}const Ls=or.create({baseURL:Xi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});Ls.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Ls.interceptors.response.use(e=>e,async e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const Hi={getProducts:async e=>(await Ls.get("/products/",{params:e})).data,getProductsByApartment:async(e,t)=>(await Ls.get("/products/by_apartment/",{params:{apartment_id:e,...t}})).data,getProductsByCategory:async e=>(await Ls.get("/products/by_category/",{params:e})).data,getProduct:async e=>(await Ls.get(`/products/${e}/`)).data,createProduct:async e=>{const t=e instanceof FormData?{headers:{"Content-Type":void 0}}:{};return(await Ls.post("/products/",e,t)).data},updateProduct:async(e,t)=>{const r=t instanceof FormData?{headers:{"Content-Type":void 0}}:{};return(await Ls.patch(`/products/${e}/`,t,r)).data},deleteProduct:async e=>{await Ls.delete(`/products/${e}/`)},getProductCategories:async e=>(await Ls.get("/products/categories/",{params:{apartment_id:e}})).data,createCategory:async e=>(await Ls.post("/products/create_category/",{...e,sheet_name:e.sheet_name||e.name})).data,importProducts:async(e,t,r)=>{console.log(" DEBUG productApi: Received parameters:",{file:e.name,apartmentId:t,vendorId:r});const s=new FormData;s.append("file",e),s.append("apartment_id",t),s.append("vendor_id",r),console.log(" DEBUG productApi: FormData contents:");for(let[i,o]of s.entries())console.log(`  ${i}:`,o);return(await Ls.post("/products/import_excel/",s,{headers:{"Content-Type":"multipart/form-data"}})).data},getImportSessions:async e=>(await Ls.get("/products/import_sessions/",{params:{apartment:e}})).data,deleteImportSession:async e=>{await Ls.delete(`/products/delete_import_session/${e}/`)},downloadImportTemplate:async()=>(await Ls.get("/products/import_template/",{responseType:"blob"})).data,getProductStatistics:async e=>(await Ls.get("/products/statistics/",{params:e?{apartment:e}:void 0})).data,createApartmentAndImport:async e=>{const t=new FormData;return t.append("file",e.file),t.append("apartment_name",e.apartment_name),e.apartment_type&&t.append("apartment_type",e.apartment_type),e.owner&&t.append("owner",e.owner),e.status&&t.append("status",e.status),e.designer&&t.append("designer",e.designer),e.start_date&&t.append("start_date",e.start_date),e.due_date&&t.append("due_date",e.due_date),e.address&&t.append("address",e.address),e.vendor_id&&t.append("vendor_id",e.vendor_id),(await Ls.post("/products/create_apartment_and_import/",t,{headers:{"Content-Type":"multipart/form-data"}})).data}},gBe=()=>{const e=ur(),[t,r]=EN(),{toast:s}=xr(),[a,i]=v.useState(""),[o,l]=v.useState("all"),[c,d]=v.useState(!1),[u,f]=v.useState([]),[m,h]=v.useState(!1),[x,p]=v.useState(!1),[g,j]=v.useState({}),[y,w]=v.useState({open:!1,id:"",name:""}),[b,N]=v.useState({name:"",type:"furnishing",client:"",address:"",status:"Planning",designer:"",start_date:"",due_date:"",vendor:""}),_=t.get("type")||"furnishing",S=B=>{B&&r({type:B})},{data:A,isLoading:E,error:P,refetch:D}=l3({search:a||void 0,type:_!=="all"?_:void 0,status:o!=="all"?o:void 0}),I=dBe(),{data:W,isLoading:H}=H2({page_size:100,ordering:"name"}),{data:F,isLoading:T}=pm(),k=(F==null?void 0:F.results)||[],M=v.useMemo(()=>(A==null?void 0:A.results)||[],[A==null?void 0:A.results]),O=v.useMemo(()=>{const B=(A==null?void 0:A.results)||[],Y=B.length,oe=B.filter(Oe=>Oe.type==="furnishing").length,Ne=B.filter(Oe=>Oe.type==="renovating").length,ue=B.filter(Oe=>Oe.status==="Planning").length,ve=B.filter(Oe=>Oe.status==="Ordering").length,xe=B.filter(Oe=>Oe.status==="Delivery").length,Ee=B.filter(Oe=>Oe.status==="Completed").length,Fe=Y-Ee;return{totalApartments:Y,furnishingCount:oe,renovatingCount:Ne,planningCount:ue,orderingCount:ve,deliveryCount:xe,completeCount:Ee,inProgressCount:Fe}},[A==null?void 0:A.results]),K=()=>{const B={};if(b.name.trim()?b.name.trim().length<3&&(B.name="Apartment name must be at least 3 characters"):B.name="Apartment name is required",b.client||(B.client="Client selection is required"),b.address.trim()?b.address.trim().length<10&&(B.address="Please provide a complete address (minimum 10 characters)"):B.address="Address is required",b.start_date||(B.start_date="Start date is required"),b.due_date||(B.due_date="Due date is required"),b.start_date&&b.due_date){const Y=new Date(b.start_date);new Date(b.due_date)<=Y&&(B.due_date="Due date must be after start date")}return j(B),Object.keys(B).length===0},se=B=>{var ue;const Y=(ue=B.name.split(".").pop())==null?void 0:ue.toLowerCase(),oe=["xlsx","xls","csv"],Ne=50*1024*1024;return oe.includes(Y||"")?B.size>Ne?{valid:!1,error:`File too large: ${B.name}. Maximum size is 50MB.`}:B.size===0?{valid:!1,error:`Empty file: ${B.name}. Please select a valid file.`}:{valid:!0}:{valid:!1,error:`Invalid file type: ${B.name}. Only Excel (.xlsx, .xls) and CSV (.csv) files are allowed.`}},R=async()=>{var B,Y;if(j({}),!K()){s({title:"Validation Error",description:"Please fix the errors in the form before submitting.",variant:"destructive"});return}if(u.length>0)for(const oe of u){const Ne=se(oe);if(!Ne.valid){s({title:"File Validation Error",description:Ne.error,variant:"destructive"});return}}p(!0);try{if(u.length===0){s({title:"File Required",description:"Please upload an Excel or CSV file to import products.",variant:"destructive"}),p(!1);return}const oe=await Hi.createApartmentAndImport({file:u[0],apartment_name:b.name,apartment_type:b.type,owner:b.client,status:b.status,designer:b.designer,start_date:b.start_date,due_date:b.due_date,address:b.address,vendor_id:b.vendor||void 0});if(oe.success)s({title:"Success!",description:n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-semibold",children:oe.message}),n.jsxs("p",{className:"text-sm",children:["Apartment: ",oe.data.apartment_name]}),n.jsxs("p",{className:"text-sm",children:["Products imported: ",oe.data.successful_imports," / ",oe.data.total_products]}),oe.data.failed_imports>0&&n.jsxs("p",{className:"text-sm text-yellow-600",children:["Failed: ",oe.data.failed_imports]}),oe.data.errors.length>0&&n.jsxs("p",{className:"text-sm text-red-600",children:["Errors: ",oe.data.errors.join(", ")]})]})}),V(),d(!1),D(),setTimeout(()=>{e(`/apartments/${oe.data.apartment_id}`)},1e3);else throw new Error(oe.message||"Import failed")}catch(oe){console.error("Import error:",oe),s({title:"Error",description:((Y=(B=oe.response)==null?void 0:B.data)==null?void 0:Y.message)||oe.message||"Failed to create apartment and import products. Please try again.",variant:"destructive"})}finally{p(!1)}},V=()=>{N({name:"",type:"furnishing",client:"",address:"",status:"Planning",designer:"",start_date:"",due_date:"",vendor:""}),f([]),j({})},L=B=>{const Y=Array.from(B),oe=[];for(const Ne of Y){const ue=se(Ne);ue.valid?oe.push(Ne):s({title:"File Validation Error",description:ue.error,variant:"destructive"})}oe.length>0&&f(Ne=>[...Ne,...oe])},G=(B,Y)=>{w({open:!0,id:B,name:Y})},le=async()=>{try{await I.mutateAsync({id:y.id,name:y.name}),w({open:!1,id:"",name:""})}catch(B){console.error("Delete failed:",B)}},me=B=>({Planning:"bg-blue-500/10 text-blue-500",Ordering:"bg-yellow-500/10 text-yellow-500",Delivery:"bg-purple-500/10 text-purple-500",Complete:"bg-green-500/10 text-green-500"})[B]||"bg-gray-500/10 text-gray-500";return n.jsx(ct,{title:"Apartments",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-muted/20",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Total"}),n.jsx("p",{className:"text-2xl font-bold mt-1",children:O.totalApartments})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:n.jsx(dr,{className:"h-5 w-5 text-primary"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-yellow-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Furnishing"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-yellow-600",children:O.furnishingCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-yellow-500/10 flex items-center justify-center",children:n.jsx(Dse,{className:"h-5 w-5 text-yellow-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-orange-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Renovating"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-orange-600",children:O.renovatingCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-orange-500/10 flex items-center justify-center",children:n.jsx(yse,{className:"h-5 w-5 text-orange-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-blue-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"In Progress"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-blue-600",children:O.inProgressCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-500/10 flex items-center justify-center",children:n.jsx(wr,{className:"h-5 w-5 text-blue-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-green-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Completed"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-green-600",children:O.completeCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-green-500/10 flex items-center justify-center",children:n.jsx(Vr,{className:"h-5 w-5 text-green-500"})})]})})}),n.jsx(X,{className:"border-border/50 bg-gradient-to-br from-background to-purple-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Delivery"}),n.jsx("p",{className:"text-2xl font-bold mt-1 text-purple-600",children:O.deliveryCount})]}),n.jsx("div",{className:"h-10 w-10 rounded-xl bg-purple-500/10 flex items-center justify-center",children:n.jsx(lt,{className:"h-5 w-5 text-purple-500"})})]})})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[n.jsxs("div",{className:"flex gap-2 flex-1 max-w-md",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ua,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{placeholder:"Search apartments...",value:a,onChange:B=>i(B.target.value),className:"pl-9"})]}),n.jsxs(tt,{value:o,onValueChange:l,children:[n.jsx(Je,{className:"w-[140px]",children:n.jsx(rt,{placeholder:"Status"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"all",children:"All Status"}),n.jsx(ee,{value:"Planning",children:"Planning"}),n.jsx(ee,{value:"Ordering",children:"Ordering"}),n.jsx(ee,{value:"Delivery",children:"Delivery"}),n.jsx(ee,{value:"Complete",children:"Complete"}),n.jsx(ee,{value:"Design Approved",children:"Design Approved"}),n.jsx(ee,{value:"Renovating",children:"Renovating"})]})]})]}),n.jsxs("div",{className:"flex gap-3 items-center",children:[n.jsx(re,{variant:_==="furnishing"?"default":"outline",onClick:()=>S("furnishing"),className:_==="furnishing"?"bg-yellow-500 hover:bg-yellow-600 text-white":"",children:"Furnishing"}),n.jsx(re,{variant:_==="renovating"?"default":"outline",onClick:()=>S("renovating"),children:"Renovating"}),n.jsxs(re,{variant:"outline",onClick:()=>d(!0),children:[n.jsx(Vi,{className:"h-4 w-4 mr-2"}),"Import Data"]}),n.jsxs(re,{onClick:()=>e("/apartments/new"),className:"bg-cyan-500 hover:bg-cyan-600",children:[n.jsx(Kn,{className:"h-4 w-4 mr-2"}),"Add Apartment"]})]})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ve,{children:["All Apartments (",(A==null?void 0:A.count)||0,")"]}),n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>D(),disabled:E,children:n.jsx(Sf,{className:`h-4 w-4 ${E?"animate-spin":""}`})})]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ds,{children:[n.jsx(Is,{children:n.jsxs(Bt,{children:[n.jsx(Te,{children:"Apartment Name"}),n.jsx(Te,{children:"Type"}),n.jsx(Te,{children:"Clients"}),n.jsx(Te,{children:"Address"}),n.jsx(Te,{children:"Status"}),n.jsx(Te,{children:"Designer"}),n.jsx(Te,{children:"Start Date"}),n.jsx(Te,{children:"Due Date"}),n.jsx(Te,{className:"text-right",children:"Actions"})]})}),n.jsx(Rs,{children:E?Array.from({length:3}).map((B,Y)=>n.jsxs(Bt,{children:[n.jsx(Se,{children:n.jsx(C,{className:"h-4 w-32"})}),n.jsx(Se,{children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx(Se,{children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx(Se,{children:n.jsx(C,{className:"h-4 w-40"})}),n.jsx(Se,{children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx(Se,{children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx(Se,{children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx(Se,{children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx(Se,{children:n.jsx(C,{className:"h-4 w-16"})}),n.jsx(Se,{children:n.jsx(C,{className:"h-4 w-20"})})]},Y)):P?n.jsx(Bt,{children:n.jsx(Se,{colSpan:10,className:"text-center py-8 text-destructive",children:"Error loading apartments. Please try again."})}):M.length===0?n.jsx(Bt,{children:n.jsx(Se,{colSpan:10,className:"text-center py-8 text-muted-foreground",children:"No apartments found. Try adjusting your filters or add a new apartment."})}):M.map(B=>{var Y;return n.jsxs(Bt,{children:[n.jsx(Se,{className:"font-medium",children:B.name}),n.jsx(Se,{children:n.jsx(Ae,{variant:"outline",className:"capitalize",children:B.type})}),n.jsx(Se,{children:((Y=B.client_details)==null?void 0:Y.name)||"N/A"}),n.jsx(Se,{className:"max-w-[200px] truncate",children:B.address}),n.jsx(Se,{children:n.jsx(Ae,{className:me(B.status),children:B.status})}),n.jsx(Se,{children:B.designer}),n.jsx(Se,{children:B.start_date}),n.jsx(Se,{children:B.due_date}),n.jsx(Se,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(re,{size:"sm",variant:"ghost",onClick:()=>e(`/apartments/${B.id}`),children:n.jsx(ri,{className:"h-4 w-4"})}),n.jsx(re,{size:"sm",variant:"ghost",onClick:()=>e(`/apartments/${B.id}/edit`),children:n.jsx(Ys,{className:"h-4 w-4"})}),n.jsx(re,{size:"sm",variant:"ghost",onClick:()=>G(B.id,B.name),children:n.jsx(xn,{className:"h-4 w-4"})})]})})]},B.id)})})]})})})]}),n.jsx(Zr,{open:c,onOpenChange:d,children:n.jsxs(qr,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(Jr,{children:[n.jsx(en,{className:"text-xl",children:"Create Apartment & Import Data"}),n.jsx(is,{children:"Fill in the apartment details and upload Excel (.xlsx, .xls) or CSV (.csv) files to import product data."})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Apartment Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apt-name",children:["Apartment Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(fe,{id:"apt-name",placeholder:"Enter apartment name",value:b.name,onChange:B=>{N({...b,name:B.target.value}),g.name&&j({...g,name:""})},className:g.name?"border-destructive":""}),g.name&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apt-type",children:["Type ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(tt,{value:b.type,onValueChange:B=>N({...b,type:B}),children:[n.jsx(Je,{id:"apt-type",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"furnishing",children:"Furnishing"}),n.jsx(ee,{value:"renovating",children:"Renovating"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apt-owner",children:["Clients ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(tt,{value:b.client,onValueChange:B=>{N({...b,client:B}),g.client&&j({...g,client:""})},disabled:H,children:[n.jsx(Je,{id:"apt-client",className:g.client?"border-destructive":"",children:n.jsx(rt,{placeholder:H?"Loading clients...":"Select client"})}),n.jsx(et,{children:W!=null&&W.results&&W.results.length>0?W.results.map(B=>n.jsx(ee,{value:B.id,children:B.name},B.id)):n.jsx(ee,{value:"no-clients",disabled:!0,children:"No clients available"})})]}),g.client&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.client})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apt-status",children:["Status ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs(tt,{value:b.status,onValueChange:B=>N({...b,status:B}),children:[n.jsx(Je,{id:"apt-status",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"Planning",children:"Planning"}),n.jsx(ee,{value:"Design Approved",children:"Design Approved"}),n.jsx(ee,{value:"Ordering",children:"Ordering"}),n.jsx(ee,{value:"Delivery",children:"Delivery"}),n.jsx(ee,{value:"Installation",children:"Installation"}),n.jsx(ee,{value:"Completed",children:"Completed"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"apt-designer",children:"Designer"}),n.jsx(fe,{id:"apt-designer",placeholder:"Enter designer name",value:b.designer,onChange:B=>N({...b,designer:B.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apt-start",children:["Start Date ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(fe,{id:"apt-start",type:"date",value:b.start_date,onChange:B=>{N({...b,start_date:B.target.value}),g.start_date&&j({...g,start_date:""})},className:g.start_date?"border-destructive":""}),g.start_date&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.start_date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apt-due",children:["Due Date ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(fe,{id:"apt-due",type:"date",value:b.due_date,onChange:B=>{N({...b,due_date:B.target.value}),g.due_date&&j({...g,due_date:""})},className:g.due_date?"border-destructive":""}),g.due_date&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.due_date})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apt-address",children:["Address ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsx(gn,{id:"apt-address",placeholder:"Enter complete address",value:b.address,onChange:B=>{N({...b,address:B.target.value}),g.address&&j({...g,address:""})},rows:3,className:g.address?"border-destructive":""}),g.address&&n.jsx("p",{className:"text-sm text-destructive mt-1",children:g.address})]})]}),n.jsxs("div",{className:"space-y-4 bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Import Product Data"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Upload Excel or CSV files containing product information for this apartment."})]}),n.jsxs(re,{variant:"outline",size:"sm",className:"gap-2",onClick:async()=>{try{const B=await Hi.downloadImportTemplate(),Y=window.URL.createObjectURL(B),oe=document.createElement("a");oe.href=Y,oe.download="apartment-template.xlsx",document.body.appendChild(oe),oe.click(),window.URL.revokeObjectURL(Y),document.body.removeChild(oe),s({title:"Success",description:"Template downloaded successfully"})}catch{s({title:"Error",description:"Failed to download template",variant:"destructive"})}},children:[n.jsx(Dv,{className:"h-4 w-4"}),"Download Template"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"apt-vendor",children:"Vendor (Optional)"}),n.jsxs(tt,{value:b.vendor,onValueChange:B=>N({...b,vendor:B}),disabled:T,children:[n.jsx(Je,{id:"apt-vendor",children:n.jsx(rt,{placeholder:T?"Loading vendors...":"Select a vendor (optional)"})}),n.jsx(et,{children:k.length>0?k.map(B=>n.jsx(ee,{value:B.id,children:B.name},B.id)):n.jsx(ee,{value:"no-vendors",disabled:!0,children:"No vendors available"})})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Optionally assign a vendor to all imported products"})]}),n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${m?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onDragEnter:B=>{B.preventDefault(),B.stopPropagation(),h(!0)},onDragLeave:B=>{B.preventDefault(),B.stopPropagation(),h(!1)},onDragOver:B=>{B.preventDefault(),B.stopPropagation()},onDrop:B=>{B.preventDefault(),B.stopPropagation(),h(!1),B.dataTransfer.files&&L(B.dataTransfer.files)},children:[n.jsx(pse,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("p",{className:"text-base font-medium mb-1",children:"Drag & drop files here"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"or click to browse"}),n.jsxs("label",{htmlFor:"file-upload",children:[n.jsx(re,{variant:"outline",size:"sm",className:"gap-2",asChild:!0,children:n.jsxs("span",{children:[n.jsx(Vi,{className:"h-4 w-4"}),"Choose Files"]})}),n.jsx("input",{id:"file-upload",type:"file",className:"hidden",accept:".xlsx,.xls,.csv",multiple:!0,onChange:B=>{B.target.files&&L(B.target.files)}})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Maximum file size: 50MB. Supported formats: Excel (.xlsx, .xls) and CSV (.csv)"}),u.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm font-medium",children:["Uploaded Files (",u.length,")"]}),u.map((B,Y)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Vr,{className:"h-5 w-5 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:B.name}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[(B.size/1024).toFixed(2)," KB"]})]})]}),n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>{f(u.filter((oe,Ne)=>Ne!==Y))},children:n.jsx(ms,{className:"h-4 w-4"})})]},Y))]})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(re,{variant:"outline",onClick:()=>{d(!1),V()},disabled:x,children:"Cancel"}),n.jsx(re,{variant:"outline",onClick:V,disabled:x,children:"Reset Form"})]}),n.jsx(re,{className:"bg-blue-600 hover:bg-blue-700 gap-2",onClick:R,disabled:x,children:x?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Kn,{className:"h-4 w-4"}),"Create Apartment & Import Data"]})})]})]})}),n.jsx(cc,{open:y.open,onOpenChange:B=>!B&&w({open:!1,id:"",name:""}),children:n.jsxs(xl,{children:[n.jsx(gl,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(si,{className:"h-6 w-6 text-destructive"})}),n.jsxs("div",{children:[n.jsx(yl,{className:"text-xl",children:"Delete Apartment"}),n.jsx(jl,{className:"mt-1",children:"This action cannot be undone."})]})]})}),n.jsx("div",{className:"py-4",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to delete"," ",n.jsxs("span",{className:"font-semibold text-foreground",children:['"',y.name,'"']}),"? This will permanently remove the apartment and all associated products from the system."]})}),n.jsxs(vl,{children:[n.jsx(wl,{autoFocus:!1,children:"Cancel"}),n.jsx(bl,{onClick:le,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",autoFocus:!0,children:"Delete Apartment"})]})]})})]})})};var d3="Radio",[vBe,AX]=ea(d3),[yBe,jBe]=vBe(d3),EX=v.forwardRef((e,t)=>{const{__scopeRadio:r,name:s,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[f,m]=v.useState(null),h=It(t,g=>m(g)),x=v.useRef(!1),p=f?d||!!f.closest("form"):!0;return n.jsxs(yBe,{scope:r,checked:a,disabled:o,children:[n.jsx(ft.button,{type:"button",role:"radio","aria-checked":a,"data-state":TX(a),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:h,onClick:He(e.onClick,g=>{a||c==null||c(),p&&(x.current=g.isPropagationStopped(),x.current||g.stopPropagation())})}),p&&n.jsx(bBe,{control:f,bubbles:!x.current,name:s,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});EX.displayName=d3;var PX="RadioIndicator",kX=v.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:s,...a}=e,i=jBe(PX,r);return n.jsx(as,{present:s||i.checked,children:n.jsx(ft.span,{"data-state":TX(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});kX.displayName=PX;var bBe=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,i=v.useRef(null),o=U2(r),l=yN(t);return v.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&f){const m=new Event("click",{bubbles:s});f.call(c,r),c.dispatchEvent(m)}},[o,r,s]),n.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function TX(e){return e?"checked":"unchecked"}var wBe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],u3="RadioGroup",[NBe,Hnt]=ea(u3,[Kp,AX]),OX=Kp(),DX=AX(),[_Be,SBe]=NBe(u3),IX=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:s,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:f,...m}=e,h=OX(r),x=om(d),[p,g]=Ia({prop:i,defaultProp:a,onChange:f});return n.jsx(_Be,{scope:r,name:s,required:o,disabled:l,value:p,onValueChange:g,children:n.jsx(dT,{asChild:!0,...h,orientation:c,dir:x,loop:u,children:n.jsx(ft.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...m,ref:t})})})});IX.displayName=u3;var RX="RadioGroupItem",MX=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:s,...a}=e,i=SBe(RX,r),o=i.disabled||s,l=OX(r),c=DX(r),d=v.useRef(null),u=It(t,d),f=i.value===a.value,m=v.useRef(!1);return v.useEffect(()=>{const h=p=>{wBe.includes(p.key)&&(m.current=!0)},x=()=>m.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",x)}},[]),n.jsx(uT,{asChild:!0,...l,focusable:!o,active:f,children:n.jsx(EX,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:He(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:He(a.onFocus,()=>{var h;m.current&&((h=d.current)==null||h.click())})})})});MX.displayName=RX;var CBe="RadioGroupIndicator",FX=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...s}=e,a=DX(r);return n.jsx(kX,{...a,...s,ref:t})});FX.displayName=CBe;var $X=IX,LX=MX,ABe=FX;const f3=v.forwardRef(({className:e,...t},r)=>n.jsx($X,{className:ge("grid gap-2",e),...t,ref:r}));f3.displayName=$X.displayName;const ov=v.forwardRef(({className:e,...t},r)=>n.jsx(LX,{ref:r,className:ge("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(ABe,{className:"flex items-center justify-center",children:n.jsx(x7,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ov.displayName=LX.displayName;const EBe=()=>{const e=ur(),{toast:t}=xr(),{data:r,isLoading:s}=H2({}),a=(r==null?void 0:r.results)||[],i=lBe(),[o,l]=v.useState({name:"",type:"furnishing",client:"",address:"",designer:"",status:"Planning",start_date:"",due_date:"",progress:0,notes:""}),[c,d]=v.useState({}),u=()=>{const m={};return o.name.trim()||(m.name="Apartment name is required"),o.client||(m.client="Client selection is required"),o.address.trim()||(m.address="Address is required"),o.designer.trim()||(m.designer="Designer is required"),o.start_date||(m.start_date="Start date is required"),o.due_date||(m.due_date="Due date is required"),o.start_date&&o.due_date&&new Date(o.due_date)<new Date(o.start_date)&&(m.due_date="Due date must be after start date"),d(m),Object.keys(m).length===0},f=async m=>{var h,x;if(m.preventDefault(),!u()){t({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{await i.mutateAsync(o),t({title:"Success",description:`${o.name} has been created successfully.`}),e("/apartments?type="+o.type)}catch(p){t({title:"Error",description:((x=(h=p.response)==null?void 0:h.data)==null?void 0:x.message)||"Failed to create apartment. Please try again.",variant:"destructive"})}};return n.jsx(ct,{title:"New Apartment",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Fa,{children:n.jsxs($a,{children:[n.jsx(er,{children:n.jsx(Qn,{href:"/apartments",children:"Apartments"})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(pi,{children:"New Apartment"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(re,{variant:"ghost",size:"icon",onClick:()=>e("/apartments"),children:n.jsx(rr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"New Apartment"})]}),n.jsx("form",{onSubmit:f,children:n.jsxs(X,{children:[n.jsx(we,{children:n.jsx(Ve,{children:"Apartment Details"})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"name",children:"Apartment Name *"}),n.jsx(fe,{id:"name",value:o.name,onChange:m=>l({...o,name:m.target.value}),placeholder:"Izabella utca 3  A/12"}),c.name&&n.jsx("p",{className:"text-sm text-destructive",children:c.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Type *"}),n.jsx(f3,{value:o.type,onValueChange:m=>l({...o,type:m}),children:n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ov,{value:"furnishing",id:"furnishing"}),n.jsx(q,{htmlFor:"furnishing",className:"font-normal cursor-pointer",children:"Furnishing"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ov,{value:"renovating",id:"renovating"}),n.jsx(q,{htmlFor:"renovating",className:"font-normal cursor-pointer",children:"Renovating"})]})]})})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"client",children:"Client/Owner *"}),n.jsxs(tt,{value:o.client,onValueChange:m=>l({...o,client:m}),disabled:s,children:[n.jsx(Je,{id:"client",children:n.jsx(rt,{placeholder:s?"Loading clients...":"Select client"})}),n.jsx(et,{children:a.map(m=>n.jsxs(ee,{value:m.id,children:[m.name," - ",m.type]},m.id))})]}),c.client&&n.jsx("p",{className:"text-sm text-destructive",children:c.client})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"designer",children:"Assigned Designer *"}),n.jsx(fe,{id:"designer",value:o.designer,onChange:m=>l({...o,designer:m.target.value}),placeholder:"Enter designer name"}),c.designer&&n.jsx("p",{className:"text-sm text-destructive",children:c.designer})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"address",children:"Address *"}),n.jsx(fe,{id:"address",value:o.address,onChange:m=>l({...o,address:m.target.value}),placeholder:"Izabella u. 3, Budapest"}),c.address&&n.jsx("p",{className:"text-sm text-destructive",children:c.address})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",children:"Status"}),n.jsxs(tt,{value:o.status,onValueChange:m=>l({...o,status:m}),children:[n.jsx(Je,{id:"status",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"Planning",children:"Planning"}),n.jsx(ee,{value:"Design Approved",children:"Design Approved"}),n.jsx(ee,{value:"Ordering",children:"Ordering"}),n.jsx(ee,{value:"Delivery",children:"Delivery"}),n.jsx(ee,{value:"Renovating",children:"Renovating"}),n.jsx(ee,{value:"Complete",children:"Complete"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"start_date",children:"Start Date *"}),n.jsx(fe,{id:"start_date",type:"date",value:o.start_date,onChange:m=>l({...o,start_date:m.target.value})}),c.start_date&&n.jsx("p",{className:"text-sm text-destructive",children:c.start_date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"due_date",children:"Due Date *"}),n.jsx(fe,{id:"due_date",type:"date",value:o.due_date,onChange:m=>l({...o,due_date:m.target.value})}),c.due_date&&n.jsx("p",{className:"text-sm text-destructive",children:c.due_date})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Notes"}),n.jsx(fa,{id:"notes",value:o.notes,onChange:m=>l({...o,notes:m.target.value}),placeholder:"Additional notes about this apartment...",rows:4})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(re,{type:"button",variant:"outline",onClick:()=>e("/apartments"),children:"Cancel"}),n.jsx(re,{type:"submit",disabled:i.isPending,children:i.isPending?"Creating...":"Create Apartment"})]})]})]})})]})})},zn={all:["products"],lists:()=>[...zn.all,"list"],list:e=>[...zn.lists(),e],details:()=>[...zn.all,"detail"],detail:e=>[...zn.details(),e],byApartment:e=>[...zn.all,"apartment",e],byCategory:()=>[...zn.all,"category"],categories:e=>[...zn.all,"categories",e],statistics:e=>[...zn.all,"statistics",e],importSessions:e=>[...zn.all,"importSessions",e]};function BX(e,t){const[r,s]=v.useState(e);return v.useEffect(()=>{const a=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function UX(e){const t=BX(e==null?void 0:e.search,300),r={...e,search:t};return Ns({queryKey:zn.list(r),queryFn:()=>Hi.getProducts(r),staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:s=>s})}function PBe(e,t){const r=BX(t==null?void 0:t.search,300),s={...t,search:r};return Ns({queryKey:[...zn.byApartment(e),s],queryFn:async()=>{const a=await Hi.getProductsByApartment(e,s);return Array.isArray(a)?a:[]},enabled:!!e,staleTime:5*60*1e3,refetchOnWindowFocus:!1,retry:2,placeholderData:a=>a})}function VX(e){return Ns({queryKey:zn.detail(e),queryFn:()=>Hi.getProduct(e),enabled:!!e,staleTime:5*60*1e3})}function kBe(){const e=Gr(),{toast:t}=xr();return un({mutationFn:r=>Hi.createProduct(r),onSuccess:r=>{e.invalidateQueries({queryKey:zn.lists()}),e.invalidateQueries({queryKey:zn.byApartment(r.apartment)}),t({title:"Success",description:`Product "${r.product}" created successfully`})},onError:r=>{t({title:"Error creating product",description:r.message||"Something went wrong",variant:"destructive"})}})}function zX(){const e=Gr(),{toast:t}=xr();return un({mutationFn:({id:r,data:s})=>Hi.updateProduct(r,s),onSuccess:r=>{e.invalidateQueries({queryKey:zn.lists()}),e.invalidateQueries({queryKey:zn.detail(r.id)}),e.invalidateQueries({queryKey:zn.byApartment(r.apartment)}),t({title:"Success",description:`Product "${r.product}" updated successfully`})},onError:r=>{t({title:"Error updating product",description:r.message||"Something went wrong",variant:"destructive"})}})}function TBe(){const e=Gr(),{toast:t}=xr();return un({mutationFn:({id:r})=>Hi.deleteProduct(r),onSuccess:(r,s)=>{e.invalidateQueries({queryKey:zn.lists()}),e.invalidateQueries({queryKey:zn.byApartment(s.apartmentId)}),t({title:"Success",description:`Product "${s.name}" deleted successfully`})},onError:r=>{t({title:"Error deleting product",description:r.message||"Something went wrong",variant:"destructive"})}})}function WX(e){return Ns({queryKey:zn.categories(e),queryFn:()=>Hi.getProductCategories(e),enabled:!!e,staleTime:0,gcTime:0,retry:1,refetchOnWindowFocus:!1})}function HX(){const e=Gr(),{toast:t}=xr();return un({mutationFn:r=>Hi.createCategory(r),onSuccess:(r,s)=>{e.invalidateQueries({queryKey:zn.categories(s.apartment)}),t({title:"Success",description:`Category "${r.name}" created successfully`})},onError:r=>{t({title:"Error creating category",description:r.message||"Something went wrong",variant:"destructive"})}})}const za=or.create({baseURL:Xi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});za.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));za.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});const es={getOrders:async e=>(await za.get("/orders/",{params:e})).data,getOrder:async e=>(await za.get(`/orders/${e}/`)).data,createOrder:async e=>(await za.post("/orders/",e)).data,updateOrder:async(e,t)=>(await za.patch(`/orders/${e}/`,t)).data,deleteOrder:async e=>{await za.delete(`/orders/${e}/`)},getStatistics:async()=>(await za.get("/orders/statistics/")).data,updateStatus:async(e,t)=>(await za.patch(`/orders/${e}/update_status/`,{status:t})).data,markDelivered:async(e,t)=>(await za.patch(`/orders/${e}/`,{status:"delivered",actual_delivery:t||new Date().toISOString().split("T")[0],is_delivered:!0})).data,getVendorOrders:async e=>(await za.get("/orders/",{params:{vendor:e}})).data,getApartmentOrders:async e=>(await za.get("/orders/",{params:{apartment:e}})).data,getDashboardCharts:async()=>(await za.get("/dashboard/charts/")).data,importOrder:async e=>{const t=new FormData;return t.append("file",e.file),t.append("apartment_id",e.apartment_id),t.append("vendor_id",e.vendor_id),t.append("po_number",e.po_number),e.status&&t.append("status",e.status),e.confirmation_code&&t.append("confirmation_code",e.confirmation_code),e.tracking_number&&t.append("tracking_number",e.tracking_number),e.expected_delivery&&t.append("expected_delivery",e.expected_delivery),e.shipping_address&&t.append("shipping_address",e.shipping_address),e.notes&&t.append("notes",e.notes),(await za.post("/orders/import_order/",t,{headers:{"Content-Type":"multipart/form-data"}})).data}},OBe=Object.freeze(Object.defineProperty({__proto__:null,orderApi:es},Symbol.toStringTag,{value:"Module"})),ao=or.create({baseURL:Xi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});ao.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));ao.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const fd={getPayments:async e=>(await ao.get("/payments/",{params:e})).data,getPayment:async e=>(await ao.get(`/payments/${e}/`)).data,createPayment:async e=>(await ao.post("/payments/",e)).data,createPaymentFromOrder:async e=>(await ao.post("/payments/from-order/",e)).data,updatePayment:async(e,t)=>(await ao.put(`/payments/${e}/`,t)).data,patchPayment:async(e,t)=>(await ao.patch(`/payments/${e}/`,t)).data,deletePayment:async e=>{await ao.delete(`/payments/${e}/`)},getPaymentHistory:async e=>{const t=e?{payment:e}:{},r=await ao.get("/payment-history/",{params:t});return r.data.results||r.data},createPaymentHistory:async e=>(await ao.post("/payment-history/",e)).data,deletePaymentHistory:async e=>{await ao.delete(`/payment-history/${e}/`)}},gs={all:["payments"],lists:()=>[...gs.all,"list"],list:e=>[...gs.lists(),e],details:()=>[...gs.all,"detail"],detail:e=>[...gs.details(),e],history:e=>[...gs.all,"history",e]},m3=e=>Ns({queryKey:gs.list(e),queryFn:()=>fd.getPayments(e)}),qX=e=>Ns({queryKey:gs.detail(e),queryFn:()=>fd.getPayment(e),enabled:!!e}),DBe=()=>{const e=Gr();return un({mutationFn:t=>fd.createPaymentFromOrder(t),onSuccess:()=>{e.invalidateQueries({queryKey:gs.lists()})}})},GX=()=>{const e=Gr();return un({mutationFn:({id:t,data:r})=>fd.updatePayment(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:gs.lists()}),e.invalidateQueries({queryKey:gs.detail(t.id)})}})},IBe=()=>{const e=Gr();return un({mutationFn:({id:t,data:r})=>fd.patchPayment(t,r),onSuccess:t=>{e.invalidateQueries({queryKey:gs.lists()}),e.invalidateQueries({queryKey:gs.detail(t.id)})}})},RBe=()=>{const e=Gr();return un({mutationFn:t=>fd.deletePayment(t),onSuccess:()=>{e.invalidateQueries({queryKey:gs.lists()})}})},h3=()=>{const e=Gr();return un({mutationFn:t=>fd.createPaymentHistory(t),onSuccess:t=>{e.invalidateQueries({queryKey:gs.history(t.payment)}),e.invalidateQueries({queryKey:gs.lists()}),e.invalidateQueries({queryKey:gs.details()})}})},MBe=()=>{const e=Gr();return un({mutationFn:t=>fd.deletePaymentHistory(t),onSuccess:()=>{e.invalidateQueries({queryKey:gs.history()}),e.invalidateQueries({queryKey:gs.lists()}),e.invalidateQueries({queryKey:gs.details()})}})},p3=({payment:e,open:t,onOpenChange:r,onSave:s})=>{var w;const[a,i]=v.useState(0),[o,l]=v.useState("Bank Transfer"),[c,d]=v.useState(""),[u,f]=v.useState(""),m=(e==null?void 0:e.total_amount)??(e==null?void 0:e.totalAmount)??0,h=(e==null?void 0:e.amount_paid)??(e==null?void 0:e.amountPaid)??0,x=(e==null?void 0:e.vendor_name)??((w=e==null?void 0:e.vendor_details)==null?void 0:w.name)??(e==null?void 0:e.vendor)??"Unknown",p=(e==null?void 0:e.order_reference)??(e==null?void 0:e.orderReference)??"";if(v.useEffect(()=>{if(t&&e){const b=(e==null?void 0:e.total_amount)??(e==null?void 0:e.totalAmount)??0,N=(e==null?void 0:e.amount_paid)??(e==null?void 0:e.amountPaid)??0,_=b-N;i(_>0?_:0),l("Bank Transfer"),d(""),f("")}},[t,e==null?void 0:e.id]),!e)return n.jsx(Zr,{open:t,onOpenChange:r,children:n.jsx(qr,{className:"max-w-2xl",children:n.jsx(Jr,{children:n.jsx(en,{children:"Loading..."})})})});const g=m-h,j=g-a,y=()=>{if(!(a<=0)){if(a>g){alert("Payment amount cannot exceed remaining balance");return}s(a,o,c,u)}};return n.jsx(Zr,{open:t,onOpenChange:r,children:n.jsxs(qr,{className:"max-w-2xl",children:[n.jsxs(Jr,{children:[n.jsxs(en,{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(Nr,{className:"h-5 w-5 text-primary"})}),"Record Payment"]}),n.jsxs(is,{children:["Record a new payment for ",n.jsx("span",{className:"font-semibold",children:x})," - ",p]})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-muted/30 rounded-lg border",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-lg font-bold",children:[m.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Already Paid"}),n.jsxs("p",{className:"text-lg font-bold text-success",children:[h.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Remaining"}),n.jsxs("p",{className:"text-lg font-bold text-warning",children:[g.toLocaleString()," HUF"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"amount",className:"text-sm font-semibold",children:"Payment Amount *"}),n.jsxs("div",{className:"relative",children:[n.jsx(fe,{id:"amount",type:"number",value:a,onChange:b=>i(Number(b.target.value)),placeholder:"Enter amount",className:"text-lg font-semibold pr-16",min:0,max:g}),n.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground font-medium",children:"HUF"})]}),a>0&&n.jsxs("div",{className:"flex items-center justify-between text-sm px-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"New balance after payment:"}),n.jsxs("span",{className:`font-semibold ${j===0?"text-success":"text-warning"}`,children:[j.toLocaleString()," HUF"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paymentMethod",className:"text-sm font-semibold",children:"Payment Method *"}),n.jsxs(tt,{value:o,onValueChange:l,children:[n.jsx(Je,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(js,{className:"h-4 w-4"}),n.jsx(rt,{})]})}),n.jsxs(et,{children:[n.jsx(ee,{value:"Bank Transfer",children:"Bank Transfer"}),n.jsx(ee,{value:"Credit Card",children:"Credit Card"}),n.jsx(ee,{value:"Cash",children:"Cash"}),n.jsx(ee,{value:"Check",children:"Check"}),n.jsx(ee,{value:"Wire Transfer",children:"Wire Transfer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"referenceNo",className:"text-sm font-semibold",children:"Reference Number"}),n.jsx(fe,{id:"referenceNo",value:c,onChange:b=>d(b.target.value),placeholder:"Optional",className:"font-mono"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"note",className:"text-sm font-semibold",children:"Notes"}),n.jsx(gn,{id:"note",value:u,onChange:b=>f(b.target.value),placeholder:"Add any additional notes about this payment...",rows:3,className:"resize-none"})]})]}),n.jsxs(Va,{className:"gap-2",children:[n.jsx(re,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),n.jsxs(re,{onClick:y,disabled:a<=0||a>g,className:"min-w-[120px]",children:[n.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]})]})})};function FBe({open:e,onOpenChange:t,payment:r,onUpdate:s}){const[a,i]=v.useState(""),[o,l]=v.useState(!1);v.useEffect(()=>{r!=null&&r.due_date&&i(r.due_date)},[r]);const c=async()=>{if(!(!(r!=null&&r.id)||!a)){l(!0);try{await s(r.id,a),t(!1)}catch(d){console.error("Failed to update payment due date:",d)}finally{l(!1)}}};return r?n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(qr,{className:"sm:max-w-[425px]",children:[n.jsxs(Jr,{children:[n.jsx(en,{children:"Update Payment Due Date"}),n.jsxs(is,{children:["Update the payment due date for order ",r.order_reference||"N/A"]})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(q,{htmlFor:"due-date",children:"Due Date"}),n.jsxs("div",{className:"relative",children:[n.jsx(fe,{id:"due-date",type:"date",value:a,onChange:d=>i(d.target.value),className:"pl-10"}),n.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-muted-foreground",children:"Total Amount"}),n.jsxs("div",{className:"font-medium",children:[((r.total_amount||0)+(r.shipping_cost||0)-(r.discount||0)).toLocaleString()," HUF"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-muted-foreground",children:"Status"}),n.jsx("div",{className:"font-medium",children:r.status||"Unpaid"})]})]})]}),n.jsxs(Va,{children:[n.jsx(re,{variant:"outline",onClick:()=>t(!1),disabled:o,children:"Cancel"}),n.jsx(re,{onClick:c,disabled:o||!a,children:o?"Updating...":"Update Due Date"})]})]})}):null}const $Be="modulepreload",LBe=function(e){return"/"+e},B$={},U$=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=LBe(c),c in B$)return;B$[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":$Be,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function KX({options:e,value:t=[],onChange:r,placeholder:s="Add status...",className:a,allowCustom:i=!1,customPlaceholder:o="Enter custom value..."}){const[l,c]=v.useState(!1),[d,u]=v.useState(""),[f,m]=v.useState(!1),h=g=>{if(g==="Other (Custom)"&&i){m(!0);return}t.includes(g)?r(t.filter(j=>j!==g)):r([...t,g])},x=()=>{d.trim()&&(r([...t,d.trim()]),u(""),m(!1),c(!1))},p=(g,j)=>{j.stopPropagation(),r(t.filter(y=>y!==g))};return n.jsxs("div",{className:ge("flex flex-col gap-2",a),children:[n.jsx("div",{className:"flex flex-wrap gap-1 min-h-[32px]",children:t.map(g=>n.jsxs(Ae,{variant:"secondary",className:"pl-2 pr-1 py-1 text-xs flex items-center gap-1",children:[g,n.jsx("button",{type:"button",className:"h-4 w-4 p-0 hover:bg-transparent inline-flex items-center justify-center rounded-sm hover:opacity-70",onClick:j=>p(g,j),children:n.jsx(ms,{className:"h-3 w-3"})})]},g))}),n.jsxs(Zv,{open:l,onOpenChange:c,children:[n.jsx(Jv,{asChild:!0,children:n.jsxs(re,{variant:"outline",size:"sm",className:"w-full justify-start text-left font-normal",type:"button",children:[n.jsx(Kn,{className:"mr-2 h-3 w-3"}),s]})}),n.jsx(Yp,{className:"w-[250px] p-0 max-h-[300px] overflow-hidden",align:"start",side:"bottom",children:f?n.jsxs("div",{className:"p-3 space-y-2",children:[n.jsx("input",{type:"text",value:d,onChange:g=>u(g.target.value),onKeyDown:g=>{g.key==="Enter"?x():g.key==="Escape"&&(m(!1),u(""))},placeholder:o,className:"w-full px-3 py-2 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",autoFocus:!0}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(re,{type:"button",size:"sm",onClick:x,className:"flex-1",children:"Add"}),n.jsx(re,{type:"button",size:"sm",variant:"outline",onClick:()=>{m(!1),u("")},children:"Cancel"})]})]}):n.jsx(ic,{className:"h-full max-h-[300px]",children:n.jsx("div",{className:"p-1",children:e.map(g=>n.jsxs(Vz,{checked:t.includes(g),onCheckedChange:()=>h(g),onSelect:j=>j.preventDefault(),className:"cursor-pointer",children:[n.jsx("span",{className:"flex-1",children:g}),t.includes(g)&&n.jsx(ho,{className:"h-4 w-4 ml-2"})]},g))})})})]})]})}var x3="Checkbox",[BBe,qnt]=ea(x3),[UBe,VBe]=BBe(x3),YX=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[m,h]=v.useState(null),x=It(t,b=>h(b)),p=v.useRef(!1),g=m?u||!!m.closest("form"):!0,[j=!1,y]=Ia({prop:a,defaultProp:i,onChange:d}),w=v.useRef(j);return v.useEffect(()=>{const b=m==null?void 0:m.form;if(b){const N=()=>y(w.current);return b.addEventListener("reset",N),()=>b.removeEventListener("reset",N)}},[m,y]),n.jsxs(UBe,{scope:r,state:j,disabled:l,children:[n.jsx(ft.button,{type:"button",role:"checkbox","aria-checked":iu(j)?"mixed":j,"aria-required":o,"data-state":ZX(j),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onKeyDown:He(e.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:He(e.onClick,b=>{y(N=>iu(N)?!0:!N),g&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),g&&n.jsx(zBe,{control:m,bubbles:!p.current,name:s,value:c,checked:j,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:iu(i)?!1:i})]})});YX.displayName=x3;var XX="CheckboxIndicator",QX=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,i=VBe(XX,r);return n.jsx(as,{present:s||iu(i.state)||i.state===!0,children:n.jsx(ft.span,{"data-state":ZX(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});QX.displayName=XX;var zBe=e=>{const{control:t,checked:r,bubbles:s=!0,defaultChecked:a,...i}=e,o=v.useRef(null),l=U2(r),c=yN(t);v.useEffect(()=>{const u=o.current,f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&h){const x=new Event("click",{bubbles:s});u.indeterminate=iu(r),h.call(u,iu(r)?!1:r),u.dispatchEvent(x)}},[l,r,s]);const d=v.useRef(iu(r)?!1:r);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function iu(e){return e==="indeterminate"}function ZX(e){return iu(e)?"indeterminate":e?"checked":"unchecked"}var JX=YX,WBe=QX;const jo=v.forwardRef(({className:e,...t},r)=>n.jsx(JX,{ref:r,className:ge("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(WBe,{className:ge("flex items-center justify-center text-current"),children:n.jsx(ho,{className:"h-4 w-4"})})}));jo.displayName=JX.displayName;const HBe=["Other (Custom)","Broken/Damaged","Wrong Item/Color","Missing Parts","Incorrect Quantity","Poor Quality","Late Delivery","Installation Issue","Warranty Claim","Defective Product","Packaging Damage","Wrong Size/Dimensions","Expired Product","Missing Documentation","Safety Hazard"],qBe=[{value:"Critical",label:"Critical",color:"bg-red-500/10 text-red-600 border-red-200"},{value:"High",label:"High",color:"bg-orange-500/10 text-orange-600 border-orange-200"},{value:"Medium",label:"Medium",color:"bg-yellow-500/10 text-yellow-600 border-yellow-200"},{value:"Low",label:"Low",color:"bg-green-500/10 text-green-600 border-green-200"}],GBe=["Blocking Progress","Delaying Project","Partial Impact","Minor Inconvenience","No Impact"],KBe=["Full Replacement","Partial Replacement","Repair","Refund","Credit Note","Exchange","Other"];function YBe({open:e,onOpenChange:t,product:r,apartmentId:s,existingIssueId:a,onSubmit:i}){const[o,l]=v.useState(1),[c,d]=v.useState({}),[u,f]=v.useState(!1),[m,h]=v.useState(!1),[x,p]=v.useState(null),g=v.useRef(!1),[j,y]=v.useState({totalQuantity:0,issueTypes:[],description:"",priority:"",impact:"",expectedResolution:"",replacementEta:"",resolutionType:"",resolutionNotes:"",aiActivated:!1,autoNotifyVendor:!0});v.useEffect(()=>{a&&e&&(async()=>{var D,I;if(a&&e&&(r!=null&&r.order_status_info)){h(!0);try{const{issueApi:W}=await U$(async()=>{const{issueApi:k}=await Promise.resolve().then(()=>XBe);return{issueApi:k}},void 0),H=await W.getIssue(a);p(H);const F=H.type?H.type.split(", ").filter(Boolean):[];y({totalQuantity:((D=H.items)==null?void 0:D.reduce((k,M)=>k+(M.quantity_affected||0),0))||0,issueTypes:F,description:((I=H.description)==null?void 0:I.split(`

Issue Description:
`)[1])||H.description||"",priority:H.priority||"",impact:H.impact||"",expectedResolution:H.expected_resolution||"",replacementEta:H.replacement_eta||"",resolutionType:H.resolution_type||"",resolutionNotes:H.resolution_notes||"",aiActivated:H.ai_activated||!1,autoNotifyVendor:H.auto_notify_vendor!==!1});const T={};r.order_status_info.forEach(k=>{T[k.order_id]={selected:!1,quantity:k.quantity}}),r.order_status_info.forEach(k=>{H.items.some(O=>{var K;return O.description&&k.po_number?O.description.includes(k.po_number):(K=O.order_item)!=null&&K.order?O.order_item.order===k.order_id:!1})&&(T[k.order_id].selected=!0)}),d(T),g.current=!0}catch(W){console.error("Failed to fetch existing issue:",W),Ue.error("Failed to load issue data")}finally{h(!1)}}})()},[a,e]),v.useEffect(()=>{if(r!=null&&r.order_status_info&&!a&&!g.current&&e){const P={};r.order_status_info.forEach(D=>{P[D.order_id]={selected:!1,quantity:D.quantity}}),d(P),g.current=!0}},[r,a,e]),v.useEffect(()=>{e||(l(1),d({}),p(null),g.current=!1,y({totalQuantity:0,issueTypes:[],description:"",priority:"",impact:"",expectedResolution:"",replacementEta:"",resolutionType:"",resolutionNotes:"",aiActivated:!1,autoNotifyVendor:!0}))},[e]);const w=P=>{d(D=>{var I;return{...D,[P]:{...D[P],selected:!((I=D[P])!=null&&I.selected)}}})},N=Object.entries(c).filter(([P,D])=>D.selected).map(([P,D])=>{var W;const I=(W=r==null?void 0:r.order_status_info)==null?void 0:W.find(H=>H.order_id===P);return{orderId:P,orderInfo:I,quantity:D.quantity}}),_=N.reduce((P,D)=>P+D.quantity,0),S=N.length>0;v.useEffect(()=>{o===2&&y(P=>({...P,totalQuantity:_}))},[N.length,o,_]);const A=async()=>{var P,D;if(!j.priority||!j.issueTypes.length||!j.description.trim()){Ue.error("Please complete all required fields (Priority, Issue Types, Description)");return}f(!0);try{const I=N[0],{orderApi:W}=await U$(async()=>{const{orderApi:O}=await Promise.resolve().then(()=>OBe);return{orderApi:O}},void 0),H=await W.getOrder(I.orderId),F=N.map(O=>{var K,se;return{order_item:null,product:(r==null?void 0:r.id)||null,product_name:(r==null?void 0:r.product)||"",quantity_affected:O.quantity,issue_types:j.issueTypes.join(", "),description:`Order: ${((K=O.orderInfo)==null?void 0:K.po_number)||"N/A"} | Ordered: ${(se=O.orderInfo)!=null&&se.expected_delivery?new Date(O.orderInfo.expected_delivery).toLocaleDateString():"N/A"} | Qty: ${O.quantity}`}}),T=N.map(O=>{var K,se;return` Order ${((K=O.orderInfo)==null?void 0:K.po_number)||"N/A"} (${O.quantity} units) - Expected: ${(se=O.orderInfo)!=null&&se.expected_delivery?new Date(O.orderInfo.expected_delivery).toLocaleDateString():"N/A"}`}).join(`
`),k=`Product: ${r==null?void 0:r.product}${r!=null&&r.sku?` (SKU: ${r.sku})`:""}

Affected Orders (${N.length}):
${T}

Total Quantity Affected: ${j.totalQuantity}

Issue Description:
${j.description}`,M={apartment:s,vendor:H.vendor,order:I.orderId,product:(r==null?void 0:r.id)||null,product_name:(r==null?void 0:r.product)||"",type:j.issueTypes.join(", "),description:k,priority:j.priority,expected_resolution:j.expectedResolution||void 0,impact:j.impact||void 0,replacement_eta:j.replacementEta||void 0,ai_activated:j.aiActivated,resolution_status:"Open",resolution_type:j.resolutionType||void 0,resolution_notes:j.resolutionNotes||void 0,auto_notify_vendor:j.autoNotifyVendor,items_data:F};await i(M,a),Ue.success(a?"Issue updated successfully":`Issue reported for ${N.length} order(s)`),t(!1)}catch(I){Ue.error(((D=(P=I.response)==null?void 0:P.data)==null?void 0:D.message)||"Failed to report issue")}finally{f(!1)}};if(!r)return null;const E=r.order_status_info||[];return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(qr,{className:"max-w-3xl max-h-[90vh]",children:[n.jsxs(Jr,{children:[n.jsxs(en,{children:[a?"Edit Issue":"Report Issue"," - ",r.product]}),n.jsx(is,{children:m?"Loading issue data...":o===1?`Step 1: Select which orders have this issue (${E.length} order(s) available)`:"Step 2: Describe the issue and set priority"})]}),n.jsx(ic,{className:"max-h-[60vh] pr-4",children:m?n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[n.jsx(C,{className:"w-16 h-16 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(C,{className:"h-5 w-48"}),n.jsx(C,{className:"h-4 w-32"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(C,{className:"h-5 w-40"}),[1,2,3].map(P=>n.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[n.jsx(C,{className:"w-4 h-4 rounded-full"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-5 w-16 rounded"}),n.jsx(C,{className:"h-4 w-20"})]}),n.jsx(C,{className:"h-3 w-32"})]})]},P))]})]}):n.jsxs(n.Fragment,{children:[o===1&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[r.product_image?n.jsx("img",{src:r.product_image,alt:r.product,className:"w-16 h-16 rounded object-cover border"}):n.jsx("div",{className:"w-16 h-16 rounded flex items-center justify-center border bg-muted",children:n.jsx(lt,{className:"h-8 w-8 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold",children:r.product}),n.jsx("p",{className:"text-sm text-muted-foreground",children:r.sku||"N/A"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium",children:"Select orders with issues:"}),N.length>0&&n.jsxs(Ae,{variant:"secondary",className:"text-xs",children:[N.length," selected  ",_," units total"]})]}),n.jsx("div",{className:"space-y-2",children:E.map(P=>{const D=c[P.order_id];return n.jsx("div",{className:ge("border rounded-lg p-3 transition-all cursor-pointer hover:bg-muted/50",(D==null?void 0:D.selected)&&"ring-2 ring-primary border-primary bg-primary/5"),onClick:()=>w(P.order_id),children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(jo,{checked:(D==null?void 0:D.selected)||!1,onCheckedChange:()=>w(P.order_id),onClick:I=>I.stopPropagation()}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("h4",{className:"font-semibold text-sm",children:P.po_number}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:P.status}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:[" ",P.quantity," units"]}),P.expected_delivery&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:[" Expected: ",new Date(P.expected_delivery).toLocaleDateString()]})]}),P.shipping_address&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:P.shipping_address})]})]})},P.order_id)})}),N.length===0&&n.jsxs("div",{className:"p-4 text-center text-sm text-muted-foreground bg-muted/30 rounded-lg",children:[n.jsx(St,{className:"h-5 w-5 mx-auto mb-2 opacity-50"}),"Select at least one order to continue"]})]})]}),o===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[n.jsxs("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[n.jsx(lt,{className:"h-4 w-4"}),"Selected Orders Summary"]}),n.jsxs("div",{className:"space-y-1 text-xs",children:[N.map(P=>{var D,I;return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-muted-foreground",children:[(D=P.orderInfo)==null?void 0:D.po_number,"  ",(I=P.orderInfo)!=null&&I.expected_delivery?new Date(P.orderInfo.expected_delivery).toLocaleDateString():"N/A"]}),n.jsxs(Ae,{variant:"outline",className:"text-xs",children:[P.quantity," units"]})]},P.orderId)}),n.jsxs("div",{className:"pt-2 mt-2 border-t flex items-center justify-between font-semibold",children:[n.jsx("span",{children:"Total Affected Quantity:"}),n.jsxs("span",{className:"text-primary",children:[_," units"]})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(si,{className:"h-4 w-4"}),"Issue Details"]}),n.jsxs("div",{className:"grid gap-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{className:"flex items-center gap-1.5",children:[n.jsx(si,{className:"h-3.5 w-3.5 text-orange-500"}),"Issue Type(s) *"]}),n.jsx(KX,{options:HBe,value:j.issueTypes,onChange:P=>y(D=>({...D,issueTypes:P})),placeholder:"Select issue types (e.g., Broken/Damaged, Wrong Item)",allowCustom:!0,customPlaceholder:"Custom issue type..."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{className:"flex items-center gap-1.5",children:[n.jsx(An,{className:"h-3.5 w-3.5 text-primary"}),"Issue Description *"]}),n.jsxs("div",{className:"relative",children:[n.jsx(gn,{value:j.description,onChange:P=>y(D=>({...D,description:P.target.value})),placeholder:"Describe the issue in detail... (This will be sent to the vendor with order context)",rows:4,className:"pr-10"}),n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(pf,{text:j.description,onTextEnhanced:P=>y(D=>({...D,description:P})),variant:"ghost",size:"sm"})})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Order details (PO numbers, dates, quantities) will be automatically included for the vendor"})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(si,{className:"h-4 w-4"}),"Priority & Impact"]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Priority *"}),n.jsxs(tt,{value:j.priority,onValueChange:P=>y(D=>({...D,priority:P})),children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select priority"})}),n.jsx(et,{children:qBe.map(P=>n.jsx(ee,{value:P.value,children:n.jsx(Ae,{className:P.color,children:P.label})},P.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Impact"}),n.jsxs(tt,{value:j.impact,onValueChange:P=>y(D=>({...D,impact:P})),children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select impact"})}),n.jsx(et,{children:GBe.map(P=>n.jsx(ee,{value:P,children:P},P))})]})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(Hr,{className:"h-4 w-4"}),"Timeline"]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Expected Resolution"}),n.jsx(fe,{type:"date",value:j.expectedResolution,onChange:P=>y(D=>({...D,expectedResolution:P.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Replacement ETA"}),n.jsx(fe,{type:"date",value:j.replacementEta,onChange:P=>y(D=>({...D,replacementEta:P.target.value}))})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(ar,{className:"h-4 w-4"}),"Resolution"]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Resolution Type"}),n.jsxs(tt,{value:j.resolutionType,onValueChange:P=>y(D=>({...D,resolutionType:P})),children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select type"})}),n.jsx(et,{children:KBe.map(P=>n.jsx(ee,{value:P,children:P},P))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Notes"}),n.jsx(fe,{value:j.resolutionNotes,onChange:P=>y(D=>({...D,resolutionNotes:P.target.value})),placeholder:"Resolution notes..."})]})]})]}),n.jsxs("div",{className:"space-y-3 pt-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(jo,{id:"ai",checked:j.aiActivated,onCheckedChange:P=>y(D=>({...D,aiActivated:P}))}),n.jsx(q,{htmlFor:"ai",className:"text-sm",children:"Enable AI-assisted communication"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(jo,{id:"notify",checked:j.autoNotifyVendor,onCheckedChange:P=>y(D=>({...D,autoNotifyVendor:P}))}),n.jsx(q,{htmlFor:"notify",className:"text-sm",children:"Auto-notify vendor"})]})]}),n.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Report Summary:"}),n.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[n.jsxs("li",{children:[" Product: ",r.product]}),n.jsxs("li",{children:[" Affected Orders: ",N.length]}),n.jsxs("li",{children:[" Total Quantity: ",_," units"]}),n.jsxs("li",{children:[" Issue Types: ",j.issueTypes.length>0?j.issueTypes.join(", "):"Not set"]}),n.jsxs("li",{children:[" Priority: ",j.priority||"Not set"]})]})]})]})]})}),n.jsx(Va,{className:"flex justify-between sm:justify-between",children:o===1?n.jsxs(n.Fragment,{children:[n.jsx(re,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsxs(re,{onClick:()=>l(2),disabled:!S,children:["Next: Describe Issue (",N.length," order",N.length!==1?"s":"",")"]})]}):n.jsxs(n.Fragment,{children:[n.jsx(re,{variant:"outline",onClick:()=>l(1),children:"Back to Orders"}),n.jsx(re,{onClick:A,disabled:u||!j.priority||!j.issueTypes.length||!j.description.trim(),children:u?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):a?`Update Issue for ${N.length} Order${N.length!==1?"s":""}`:`Report Issue for ${N.length} Order${N.length!==1?"s":""}`})]})})]})})}const fs=or.create({baseURL:Xi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});let Pj=!1,dP=[];const V$=(e=null)=>{dP.forEach(t=>{e?t.reject(e):t.resolve()}),dP=[]};fs.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));fs.interceptors.response.use(e=>e,async e=>{var r,s;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!(t!=null&&t._retry)){if((s=t==null?void 0:t.url)!=null&&s.includes("/refresh/"))return localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(e);if(Pj)return new Promise((i,o)=>{dP.push({resolve:i,reject:o})}).then(()=>fs(t));t._retry=!0,Pj=!0;const a=localStorage.getItem("refresh_token");if(!a)return Pj=!1,localStorage.removeItem("access_token"),window.location.href="/login",Promise.reject(e);try{const i=await or.post(`${Wv}/refresh/`,{refresh:a}),{access:o}=i.data;return localStorage.setItem("access_token",o),t.headers&&(t.headers.Authorization=`Bearer ${o}`),V$(),fs(t)}catch(i){return V$(i),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(i)}finally{Pj=!1}}return Promise.reject(e)});const Cr={getIssues:async(e={})=>{const t=new URLSearchParams;return e.search&&t.append("search",e.search),e.status&&t.append("status",e.status),e.priority&&t.append("priority",e.priority),e.apartment&&t.append("apartment",e.apartment),e.vendor&&t.append("vendor",e.vendor),e.product&&t.append("product",e.product),e.page&&t.append("page",e.page.toString()),e.page_size&&t.append("page_size",e.page_size.toString()),(await fs.get(`/issues/?${t.toString()}`)).data},getIssue:async e=>(await fs.get(`/issues/${e}/`)).data,createIssue:async e=>(await fs.post("/issues/",e)).data,updateIssue:async(e,t)=>(await fs.patch(`/issues/${e}/`,t)).data,deleteIssue:async e=>{await fs.delete(`/issues/${e}/`)},uploadPhoto:async(e,t)=>(await fs.post(`/issues/${e}/photos/`,{url:t})).data,activateAIEmail:async e=>await fs.post(`/issues/${e}/activate_ai_email/`),getEmailThread:async e=>await fs.get(`/issues/${e}/email_thread/`),generateAIReply:async(e,t)=>await fs.post(`/issues/${e}/generate_ai_reply/`,{vendor_message:t}),addVendorResponse:async(e,t)=>await fs.post(`/issues/${e}/add_vendor_response/`,t),analyzeVendorResponse:async(e,t)=>await fs.post(`/issues/${e}/analyze_vendor_response/`,{message:t}),getConversation:async e=>(await fs.get(`/issues/${e}/conversation/`)).data,getSummary:async e=>(await fs.get(`/issues/${e}/summary/`)).data,sendManualMessage:async(e,t)=>(await fs.post(`/issues/${e}/send_manual_message/`,t)).data,sendBulkEmail:async e=>(await fs.post("/issues/bulk-email/",e)).data},XBe=Object.freeze(Object.defineProperty({__proto__:null,issueApi:Cr},Symbol.toStringTag,{value:"Module"})),wc=or.create({baseURL:Xi,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1});wc.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));wc.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});const $c={getDeliveries:async(e={})=>{const t=new URLSearchParams;return e.search&&t.append("search",e.search),e.status&&t.append("status",e.status),e.priority&&t.append("priority",e.priority),e.apartment&&t.append("apartment",e.apartment),e.vendor&&t.append("vendor",e.vendor),e.page&&t.append("page",e.page.toString()),e.page_size&&t.append("page_size",e.page_size.toString()),(await wc.get(`/deliveries/?${t.toString()}`)).data},getDelivery:async e=>(await wc.get(`/deliveries/${e}/`)).data,createDelivery:async e=>(await wc.post("/deliveries/",e)).data,updateDelivery:async(e,t)=>(await wc.patch(`/deliveries/${e}/`,t)).data,deleteDelivery:async e=>{await wc.delete(`/deliveries/${e}/`)},updateStatus:async(e,t,r)=>(await wc.patch(`/deliveries/${e}/update_status/`,{status:t,...r})).data,updateDeliveryField:async(e,t,r)=>(await wc.patch(`/deliveries/${e}/`,{[t]:r})).data};var Tt=function(){return Tt=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Tt.apply(this,arguments)};function QBe(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function eQ(e,t,r){for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function gy(e){return e.mode==="multiple"}function vy(e){return e.mode==="range"}function G2(e){return e.mode==="single"}var ZBe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function JBe(e,t){return Ht(e,"LLLL y",t)}function e9e(e,t){return Ht(e,"d",t)}function t9e(e,t){return Ht(e,"LLLL",t)}function r9e(e){return"".concat(e)}function n9e(e,t){return Ht(e,"cccccc",t)}function s9e(e,t){return Ht(e,"yyyy",t)}var a9e=Object.freeze({__proto__:null,formatCaption:JBe,formatDay:e9e,formatMonthCaption:t9e,formatWeekNumber:r9e,formatWeekdayName:n9e,formatYearCaption:s9e}),i9e=function(e,t,r){return Ht(e,"do MMMM (EEEE)",r)},o9e=function(){return"Month: "},l9e=function(){return"Go to next month"},c9e=function(){return"Go to previous month"},d9e=function(e,t){return Ht(e,"cccc",t)},u9e=function(e){return"Week n. ".concat(e)},f9e=function(){return"Year: "},m9e=Object.freeze({__proto__:null,labelDay:i9e,labelMonthDropdown:o9e,labelNext:l9e,labelPrevious:c9e,labelWeekNumber:u9e,labelWeekday:d9e,labelYearDropdown:f9e});function h9e(){var e="buttons",t=ZBe,r=KN,s={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:a9e,labels:m9e,locale:r,modifiersClassNames:s,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function p9e(e){var t=e.fromYear,r=e.toYear,s=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return s?i=li(s):t&&(i=new Date(t,0,1)),a?o=GN(a):r&&(o=new Date(r,11,31)),{fromDate:i?tp(i):void 0,toDate:o?tp(o):void 0}}var tQ=v.createContext(void 0);function x9e(e){var t,r=e.initialProps,s=h9e(),a=p9e(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:s.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(G2(r)||gy(r)||vy(r))&&(c=r.onSelect);var d=Tt(Tt(Tt({},s),r),{captionLayout:l,classNames:Tt(Tt({},s.classNames),r.classNames),components:Tt({},r.components),formatters:Tt(Tt({},s.formatters),r.formatters),fromDate:i,labels:Tt(Tt({},s.labels),r.labels),mode:r.mode||s.mode,modifiers:Tt(Tt({},s.modifiers),r.modifiers),modifiersClassNames:Tt(Tt({},s.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Tt(Tt({},s.styles),r.styles),toDate:o});return n.jsx(tQ.Provider,{value:d,children:e.children})}function tn(){var e=v.useContext(tQ);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function rQ(e){var t=tn(),r=t.locale,s=t.classNames,a=t.styles,i=t.formatters.formatCaption;return n.jsx("div",{className:s.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function g9e(e){return n.jsx("svg",Tt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function nQ(e){var t,r,s=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=tn(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:g9e;return n.jsxs("div",{className:l,style:c,children:[n.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:s,children:i}),n.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,n.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function v9e(e){var t,r=tn(),s=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!s)return n.jsx(n.Fragment,{});if(!a)return n.jsx(n.Fragment,{});var f=[];if(f0e(s,a))for(var m=li(s),h=s.getMonth();h<=a.getMonth();h++)f.push(_S(m,h));else for(var m=li(new Date),h=0;h<=11;h++)f.push(_S(m,h));var x=function(g){var j=Number(g.target.value),y=_S(li(e.displayMonth),j);e.onChange(y)},p=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:nQ;return n.jsx(p,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:x,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(g){return n.jsx("option",{value:g.getMonth(),children:l(g,{locale:o})},g.getMonth())})})}function y9e(e){var t,r=e.displayMonth,s=tn(),a=s.fromDate,i=s.toDate,o=s.locale,l=s.styles,c=s.classNames,d=s.components,u=s.formatters.formatYearCaption,f=s.labels.labelYearDropdown,m=[];if(!a)return n.jsx(n.Fragment,{});if(!i)return n.jsx(n.Fragment,{});for(var h=a.getFullYear(),x=i.getFullYear(),p=h;p<=x;p++)m.push(DR(QW(new Date),p));var g=function(y){var w=DR(li(r),Number(y.target.value));e.onChange(w)},j=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:nQ;return n.jsx(j,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:g,value:r.getFullYear(),caption:u(r,{locale:o}),children:m.map(function(y){return n.jsx("option",{value:y.getFullYear(),children:u(y,{locale:o})},y.getFullYear())})})}function j9e(e,t){var r=v.useState(e),s=r[0],a=r[1],i=t===void 0?s:t;return[i,a]}function b9e(e){var t=e.month,r=e.defaultMonth,s=e.today,a=t||r||s||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&rp(i,a)<0){var d=-1*(c-1);a=_o(i,d)}return o&&rp(a,o)<0&&(a=o),li(a)}function w9e(){var e=tn(),t=b9e(e),r=j9e(t,e.month),s=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=li(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[s,i]}function N9e(e,t){for(var r=t.reverseMonths,s=t.numberOfMonths,a=li(e),i=li(_o(a,s)),o=rp(i,a),l=[],c=0;c<o;c++){var d=_o(a,c);l.push(d)}return r&&(l=l.reverse()),l}function _9e(e,t){if(!t.disableNavigation){var r=t.toDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=li(e);if(!r)return _o(l,o);var c=rp(r,e);if(!(c<i))return _o(l,o)}}function S9e(e,t){if(!t.disableNavigation){var r=t.fromDate,s=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=li(e);if(!r)return _o(l,-o);var c=rp(l,r);if(!(c<=0))return _o(l,-o)}}var sQ=v.createContext(void 0);function C9e(e){var t=tn(),r=w9e(),s=r[0],a=r[1],i=N9e(s,t),o=_9e(s,t),l=S9e(s,t),c=function(f){return i.some(function(m){return YT(f,m)})},d=function(f,m){c(f)||(m&&rH(f,m)?a(_o(f,1+t.numberOfMonths*-1)):a(f))},u={currentMonth:s,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return n.jsx(sQ.Provider,{value:u,children:e.children})}function yy(){var e=v.useContext(sQ);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function z$(e){var t,r=tn(),s=r.classNames,a=r.styles,i=r.components,o=yy().goToMonth,l=function(u){o(_o(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:rQ,d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:s.caption_dropdowns,style:a.caption_dropdowns,children:[n.jsx("div",{className:s.vhidden,children:d}),n.jsx(v9e,{onChange:l,displayMonth:e.displayMonth}),n.jsx(y9e,{onChange:l,displayMonth:e.displayMonth})]})}function A9e(e){return n.jsx("svg",Tt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function E9e(e){return n.jsx("svg",Tt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var _w=v.forwardRef(function(e,t){var r=tn(),s=r.classNames,a=r.styles,i=[s.button_reset,s.button];e.className&&i.push(e.className);var o=i.join(" "),l=Tt(Tt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),n.jsx("button",Tt({},e,{ref:t,type:"button",className:o,style:l}))});function P9e(e){var t,r,s=tn(),a=s.dir,i=s.locale,o=s.classNames,l=s.styles,c=s.labels,d=c.labelPrevious,u=c.labelNext,f=s.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var m=d(e.previousMonth,{locale:i}),h=[o.nav_button,o.nav_button_previous].join(" "),x=u(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),g=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:E9e,j=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:A9e;return n.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&n.jsx(_w,{name:"previous-month","aria-label":m,className:h,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?n.jsx(g,{className:o.nav_icon,style:l.nav_icon}):n.jsx(j,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&n.jsx(_w,{name:"next-month","aria-label":x,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?n.jsx(j,{className:o.nav_icon,style:l.nav_icon}):n.jsx(g,{className:o.nav_icon,style:l.nav_icon})})]})}function W$(e){var t=tn().numberOfMonths,r=yy(),s=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(x){return YT(e.displayMonth,x)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),f=t>1&&(d||!c),m=function(){s&&i(s)},h=function(){a&&i(a)};return n.jsx(P9e,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:a,previousMonth:s,onPreviousClick:m,onNextClick:h})}function k9e(e){var t,r=tn(),s=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:rQ,d;return a?d=n.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=n.jsx(z$,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=n.jsxs(n.Fragment,{children:[n.jsx(z$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx(W$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=n.jsxs(n.Fragment,{children:[n.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(W$,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:s.caption,style:i.caption,children:d})}function T9e(e){var t=tn(),r=t.footer,s=t.styles,a=t.classNames.tfoot;return r?n.jsx("tfoot",{className:a,style:s.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:r})})}):n.jsx(n.Fragment,{})}function O9e(e,t,r){for(var s=r?Zc(new Date):Wi(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Ws(s,i);a.push(o)}return a}function D9e(){var e=tn(),t=e.classNames,r=e.styles,s=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=O9e(a,i,o);return n.jsxs("tr",{style:r.head_row,className:t.head_row,children:[s&&n.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,f){return n.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},f)})]})}function I9e(){var e,t=tn(),r=t.classNames,s=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:D9e;return n.jsx("thead",{style:s.head,className:r.head,children:n.jsx(i,{})})}function R9e(e){var t=tn(),r=t.locale,s=t.formatters.formatDay;return n.jsx(n.Fragment,{children:s(e.date,{locale:r})})}var g3=v.createContext(void 0);function M9e(e){if(!gy(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return n.jsx(g3.Provider,{value:t,children:e.children})}return n.jsx(F9e,{initialProps:e.initialProps,children:e.children})}function F9e(e){var t=e.initialProps,r=e.children,s=t.selected,a=t.min,i=t.max,o=function(d,u,f){var m,h;(m=t.onDayClick)===null||m===void 0||m.call(t,d,u,f);var x=!!(u.selected&&a&&(s==null?void 0:s.length)===a);if(!x){var p=!!(!u.selected&&i&&(s==null?void 0:s.length)===i);if(!p){var g=s?eQ([],s):[];if(u.selected){var j=g.findIndex(function(y){return Qa(d,y)});g.splice(j,1)}else g.push(d);(h=t.onSelect)===null||h===void 0||h.call(t,g,d,u,f)}}},l={disabled:[]};s&&l.disabled.push(function(d){var u=i&&s.length>i-1,f=s.some(function(m){return Qa(m,d)});return!!(u&&!f)});var c={selected:s,onDayClick:o,modifiers:l};return n.jsx(g3.Provider,{value:c,children:r})}function v3(){var e=v.useContext(g3);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function $9e(e,t){var r=t||{},s=r.from,a=r.to;return s&&a?Qa(a,e)&&Qa(s,e)?void 0:Qa(a,e)?{from:a,to:void 0}:Qa(s,e)?void 0:AA(s,e)?{from:e,to:a}:{from:s,to:e}:a?AA(e,a)?{from:a,to:e}:{from:e,to:a}:s?rH(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var y3=v.createContext(void 0);function L9e(e){if(!vy(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(y3.Provider,{value:t,children:e.children})}return n.jsx(B9e,{initialProps:e.initialProps,children:e.children})}function B9e(e){var t=e.initialProps,r=e.children,s=t.selected,a=s||{},i=a.from,o=a.to,l=t.min,c=t.max,d=function(h,x,p){var g,j;(g=t.onDayClick)===null||g===void 0||g.call(t,h,x,p);var y=$9e(h,s);(j=t.onSelect)===null||j===void 0||j.call(t,y,h,x,p)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],Qa(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:Sc(i,l-1),before:Ws(i,l-1)}),i&&o&&u.disabled.push({after:i,before:Ws(i,l-1)}),!i&&o&&u.disabled.push({after:Sc(o,l-1),before:Ws(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:Ws(i,-c+1)}),u.disabled.push({after:Ws(i,c-1)})),i&&o){var f=Qo(o,i)+1,m=c-f;u.disabled.push({before:Sc(i,m)}),u.disabled.push({after:Ws(o,m)})}!i&&o&&(u.disabled.push({before:Ws(o,-c+1)}),u.disabled.push({after:Ws(o,c-1)}))}return n.jsx(y3.Provider,{value:{selected:s,onDayClick:d,modifiers:u},children:r})}function j3(){var e=v.useContext(y3);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function fb(e){return Array.isArray(e)?eQ([],e):e!==void 0?[e]:[]}function U9e(e){var t={};return Object.entries(e).forEach(function(r){var s=r[0],a=r[1];t[s]=fb(a)}),t}var ul;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(ul||(ul={}));var V9e=ul.Selected,pc=ul.Disabled,z9e=ul.Hidden,W9e=ul.Today,eC=ul.RangeEnd,tC=ul.RangeMiddle,rC=ul.RangeStart,H9e=ul.Outside;function q9e(e,t,r){var s,a=(s={},s[V9e]=fb(e.selected),s[pc]=fb(e.disabled),s[z9e]=fb(e.hidden),s[W9e]=[e.today],s[eC]=[],s[tC]=[],s[rC]=[],s[H9e]=[],s);return e.fromDate&&a[pc].push({before:e.fromDate}),e.toDate&&a[pc].push({after:e.toDate}),gy(e)?a[pc]=a[pc].concat(t.modifiers[pc]):vy(e)&&(a[pc]=a[pc].concat(r.modifiers[pc]),a[rC]=r.modifiers[rC],a[tC]=r.modifiers[tC],a[eC]=r.modifiers[eC]),a}var aQ=v.createContext(void 0);function G9e(e){var t=tn(),r=v3(),s=j3(),a=q9e(t,r,s),i=U9e(t.modifiers),o=Tt(Tt({},a),i);return n.jsx(aQ.Provider,{value:o,children:e.children})}function iQ(){var e=v.useContext(aQ);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function K9e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Y9e(e){return!!(e&&typeof e=="object"&&"from"in e)}function X9e(e){return!!(e&&typeof e=="object"&&"after"in e)}function Q9e(e){return!!(e&&typeof e=="object"&&"before"in e)}function Z9e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function J9e(e,t){var r,s=t.from,a=t.to;if(s&&a){var i=Qo(a,s)<0;i&&(r=[a,s],s=r[0],a=r[1]);var o=Qo(e,s)>=0&&Qo(a,e)>=0;return o}return a?Qa(a,e):s?Qa(s,e):!1}function e7e(e){return VT(e)}function t7e(e){return Array.isArray(e)&&e.every(VT)}function r7e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(e7e(r))return Qa(e,r);if(t7e(r))return r.includes(e);if(Y9e(r))return J9e(e,r);if(Z9e(r))return r.dayOfWeek.includes(e.getDay());if(K9e(r)){var s=Qo(r.before,e),a=Qo(r.after,e),i=s>0,o=a<0,l=AA(r.before,r.after);return l?o&&i:i||o}return X9e(r)?Qo(e,r.after)>0:Q9e(r)?Qo(r.before,e)>0:typeof r=="function"?r(e):!1})}function b3(e,t,r){var s=Object.keys(t).reduce(function(i,o){var l=t[o];return r7e(e,l)&&i.push(o),i},[]),a={};return s.forEach(function(i){return a[i]=!0}),r&&!YT(e,r)&&(a.outside=!0),a}function n7e(e,t){for(var r=li(e[0]),s=GN(e[e.length-1]),a,i,o=r;o<=s;){var l=b3(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Ws(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Ws(o,1)}return i||a}var s7e=365;function oQ(e,t){var r=t.moveBy,s=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,f=a.locale,m={day:Ws,week:_A,month:_o,year:ixe,startOfWeek:function(g){return a.ISOWeek?Zc(g):Wi(g,{locale:f,weekStartsOn:c})},endOfWeek:function(g){return a.ISOWeek?ZW(g):zT(g,{locale:f,weekStartsOn:c})}},h=m[r](e,s==="after"?1:-1);s==="before"&&d?h=oxe([d,h]):s==="after"&&u&&(h=lxe([u,h]));var x=!0;if(i){var p=b3(h,i);x=!p.disabled&&!p.hidden}return x?h:l.count>s7e?l.lastFocused:oQ(h,{moveBy:r,direction:s,context:a,modifiers:i,retry:Tt(Tt({},l),{count:l.count+1})})}var lQ=v.createContext(void 0);function a7e(e){var t=yy(),r=iQ(),s=v.useState(),a=s[0],i=s[1],o=v.useState(),l=o[0],c=o[1],d=n7e(t.displayMonths,r),u=a??(l&&t.isDateDisplayed(l))?l:d,f=function(){c(a),i(void 0)},m=function(g){i(g)},h=tn(),x=function(g,j){if(a){var y=oQ(a,{moveBy:g,direction:j,context:h,modifiers:r});Qa(a,y)||(t.goToDate(y,a),m(y))}},p={focusedDay:a,focusTarget:u,blur:f,focus:m,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return n.jsx(lQ.Provider,{value:p,children:e.children})}function w3(){var e=v.useContext(lQ);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function i7e(e,t){var r=iQ(),s=b3(e,r,t);return s}var N3=v.createContext(void 0);function o7e(e){if(!G2(e.initialProps)){var t={selected:void 0};return n.jsx(N3.Provider,{value:t,children:e.children})}return n.jsx(l7e,{initialProps:e.initialProps,children:e.children})}function l7e(e){var t=e.initialProps,r=e.children,s=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:s};return n.jsx(N3.Provider,{value:a,children:r})}function cQ(){var e=v.useContext(N3);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function c7e(e,t){var r=tn(),s=cQ(),a=v3(),i=j3(),o=w3(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,f=o.blur,m=o.focus,h=o.focusMonthBefore,x=o.focusMonthAfter,p=o.focusYearBefore,g=o.focusYearAfter,j=o.focusStartOfWeek,y=o.focusEndOfWeek,w=function(k){var M,O,K,se;G2(r)?(M=s.onDayClick)===null||M===void 0||M.call(s,e,t,k):gy(r)?(O=a.onDayClick)===null||O===void 0||O.call(a,e,t,k):vy(r)?(K=i.onDayClick)===null||K===void 0||K.call(i,e,t,k):(se=r.onDayClick)===null||se===void 0||se.call(r,e,t,k)},b=function(k){var M;m(e),(M=r.onDayFocus)===null||M===void 0||M.call(r,e,t,k)},N=function(k){var M;f(),(M=r.onDayBlur)===null||M===void 0||M.call(r,e,t,k)},_=function(k){var M;(M=r.onDayMouseEnter)===null||M===void 0||M.call(r,e,t,k)},S=function(k){var M;(M=r.onDayMouseLeave)===null||M===void 0||M.call(r,e,t,k)},A=function(k){var M;(M=r.onDayPointerEnter)===null||M===void 0||M.call(r,e,t,k)},E=function(k){var M;(M=r.onDayPointerLeave)===null||M===void 0||M.call(r,e,t,k)},P=function(k){var M;(M=r.onDayTouchCancel)===null||M===void 0||M.call(r,e,t,k)},D=function(k){var M;(M=r.onDayTouchEnd)===null||M===void 0||M.call(r,e,t,k)},I=function(k){var M;(M=r.onDayTouchMove)===null||M===void 0||M.call(r,e,t,k)},W=function(k){var M;(M=r.onDayTouchStart)===null||M===void 0||M.call(r,e,t,k)},H=function(k){var M;(M=r.onDayKeyUp)===null||M===void 0||M.call(r,e,t,k)},F=function(k){var M;switch(k.key){case"ArrowLeft":k.preventDefault(),k.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":k.preventDefault(),k.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":k.preventDefault(),k.stopPropagation(),d();break;case"ArrowUp":k.preventDefault(),k.stopPropagation(),u();break;case"PageUp":k.preventDefault(),k.stopPropagation(),k.shiftKey?p():h();break;case"PageDown":k.preventDefault(),k.stopPropagation(),k.shiftKey?g():x();break;case"Home":k.preventDefault(),k.stopPropagation(),j();break;case"End":k.preventDefault(),k.stopPropagation(),y();break}(M=r.onDayKeyDown)===null||M===void 0||M.call(r,e,t,k)},T={onClick:w,onFocus:b,onBlur:N,onKeyDown:F,onKeyUp:H,onMouseEnter:_,onMouseLeave:S,onPointerEnter:A,onPointerLeave:E,onTouchCancel:P,onTouchEnd:D,onTouchMove:I,onTouchStart:W};return T}function d7e(){var e=tn(),t=cQ(),r=v3(),s=j3(),a=G2(e)?t.selected:gy(e)?r.selected:vy(e)?s.selected:void 0;return a}function u7e(e){return Object.values(ul).includes(e)}function f7e(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(s){var a=e.modifiersClassNames[s];if(a)r.push(a);else if(u7e(s)){var i=e.classNames["day_".concat(s)];i&&r.push(i)}}),r}function m7e(e,t){var r=Tt({},e.styles.day);return Object.keys(t).forEach(function(s){var a;r=Tt(Tt({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[s])}),r}function h7e(e,t,r){var s,a,i,o=tn(),l=w3(),c=i7e(e,t),d=c7e(e,c),u=d7e(),f=!!(o.onDayClick||o.mode!=="default");v.useEffect(function(){var _;c.outside||l.focusedDay&&f&&Qa(l.focusedDay,e)&&((_=r.current)===null||_===void 0||_.focus())},[l.focusedDay,e,r,f,c.outside]);var m=f7e(o,c).join(" "),h=m7e(o,c),x=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:R9e,g=n.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),j={style:h,className:m,children:g,role:"gridcell"},y=l.focusTarget&&Qa(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Qa(l.focusedDay,e),b=Tt(Tt(Tt({},j),(s={disabled:c.disabled,role:"gridcell"},s["aria-selected"]=c.selected,s.tabIndex=w||y?0:-1,s)),d),N={isButton:f,isHidden:x,activeModifiers:c,selectedDays:u,buttonProps:b,divProps:j};return N}function p7e(e){var t=v.useRef(null),r=h7e(e.date,e.displayMonth,t);return r.isHidden?n.jsx("div",{role:"gridcell"}):r.isButton?n.jsx(_w,Tt({name:"day",ref:t},r.buttonProps)):n.jsx("div",Tt({},r.divProps))}function x7e(e){var t=e.number,r=e.dates,s=tn(),a=s.onWeekNumberClick,i=s.styles,o=s.classNames,l=s.locale,c=s.labels.labelWeekNumber,d=s.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return n.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var f=c(Number(t),{locale:l}),m=function(h){a(t,r,h)};return n.jsx(_w,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:m,children:u})}function g7e(e){var t,r,s=tn(),a=s.styles,i=s.classNames,o=s.showWeekNumber,l=s.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:p7e,d=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:x7e,u;return o&&(u=n.jsx("td",{className:i.cell,style:a.cell,children:n.jsx(d,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:i.row,style:a.row,children:[u,e.dates.map(function(f){return n.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:n.jsx(c,{displayMonth:e.displayMonth,date:f})},hge(f))})]})}function H$(e,t,r){for(var s=r!=null&&r.ISOWeek?ZW(t):zT(t,r),a=r!=null&&r.ISOWeek?Zc(e):Wi(e,r),i=Qo(s,a),o=[],l=0;l<=i;l++)o.push(Ws(a,l));var c=o.reduce(function(d,u){var f=r!=null&&r.ISOWeek?WT(u):qT(u,r),m=d.find(function(h){return h.weekNumber===f});return m?(m.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return c}function v7e(e,t){var r=H$(li(e),GN(e),t);if(t!=null&&t.useFixedWeeks){var s=xge(e,t);if(s<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=_A(i,6-s),l=H$(_A(i,1),o,t);r.push.apply(r,l)}}return r}function y7e(e){var t,r,s,a=tn(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,f=a.weekStartsOn,m=a.firstWeekContainsDate,h=a.ISOWeek,x=v7e(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:h,locale:i,weekStartsOn:f,firstWeekContainsDate:m}),p=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:I9e,g=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:g7e,j=(s=u==null?void 0:u.Footer)!==null&&s!==void 0?s:T9e;return n.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&n.jsx(p,{}),n.jsx("tbody",{className:o.tbody,style:l.tbody,children:x.map(function(y){return n.jsx(g,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),n.jsx(j,{displayMonth:e.displayMonth})]})}function j7e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var b7e=j7e()?v.useLayoutEffect:v.useEffect,nC=!1,w7e=0;function q$(){return"react-day-picker-".concat(++w7e)}function N7e(e){var t,r=e??(nC?q$():null),s=v.useState(r),a=s[0],i=s[1];return b7e(function(){a===null&&i(q$())},[]),v.useEffect(function(){nC===!1&&(nC=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function _7e(e){var t,r,s=tn(),a=s.dir,i=s.classNames,o=s.styles,l=s.components,c=yy().displayMonths,d=N7e(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),u=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],m=o.month,h=e.displayIndex===0,x=e.displayIndex===c.length-1,p=!h&&!x;a==="rtl"&&(t=[h,x],x=t[0],h=t[1]),h&&(f.push(i.caption_start),m=Tt(Tt({},m),o.caption_start)),x&&(f.push(i.caption_end),m=Tt(Tt({},m),o.caption_end)),p&&(f.push(i.caption_between),m=Tt(Tt({},m),o.caption_between));var g=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:k9e;return n.jsxs("div",{className:f.join(" "),style:m,children:[n.jsx(g,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(y7e,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function S7e(e){var t=tn(),r=t.classNames,s=t.styles;return n.jsx("div",{className:r.months,style:s.months,children:e.children})}function C7e(e){var t,r,s=e.initialProps,a=tn(),i=w3(),o=yy(),l=v.useState(!1),c=l[0],d=l[1];v.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var f=Tt(Tt({},a.styles.root),a.style),m=Object.keys(s).filter(function(x){return x.startsWith("data-")}).reduce(function(x,p){var g;return Tt(Tt({},x),(g={},g[p]=s[p],g))},{}),h=(r=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:S7e;return n.jsx("div",Tt({className:u.join(" "),style:f,dir:a.dir,id:a.id,nonce:s.nonce,title:s.title,lang:s.lang},m,{children:n.jsx(h,{children:o.displayMonths.map(function(x,p){return n.jsx(_7e,{displayIndex:p,displayMonth:x},p)})})}))}function A7e(e){var t=e.children,r=QBe(e,["children"]);return n.jsx(x9e,{initialProps:r,children:n.jsx(C9e,{children:n.jsx(o7e,{initialProps:r,children:n.jsx(M9e,{initialProps:r,children:n.jsx(L9e,{initialProps:r,children:n.jsx(G9e,{children:n.jsx(a7e,{children:t})})})})})})})}function E7e(e){return n.jsx(A7e,Tt({},e,{children:n.jsx(C7e,{initialProps:e})}))}function Fg({className:e,classNames:t,showOutsideDays:r=!0,...s}){return n.jsx(E7e,{showOutsideDays:r,className:ge("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ge(y0({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ge(y0({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>n.jsx(Ck,{className:"h-4 w-4"}),IconRight:({...a})=>n.jsx(uu,{className:"h-4 w-4"})},...s})}Fg.displayName="Calendar";var _3="Popover",[dQ,Gnt]=ea(_3,[Eu]),jy=Eu(),[P7e,Fu]=dQ(_3),uQ=e=>{const{__scopePopover:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=jy(t),c=v.useRef(null),[d,u]=v.useState(!1),[f=!1,m]=Ia({prop:s,defaultProp:a,onChange:i});return n.jsx(jN,{...l,children:n.jsx(P7e,{scope:t,contentId:ai(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(h=>!h),[m]),hasCustomAnchor:d,onCustomAnchorAdd:v.useCallback(()=>u(!0),[]),onCustomAnchorRemove:v.useCallback(()=>u(!1),[]),modal:o,children:r})})};uQ.displayName=_3;var fQ="PopoverAnchor",k7e=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Fu(fQ,r),i=jy(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return v.useEffect(()=>(o(),()=>l()),[o,l]),n.jsx(Lv,{...i,...s,ref:t})});k7e.displayName=fQ;var mQ="PopoverTrigger",hQ=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Fu(mQ,r),i=jy(r),o=It(t,a.triggerRef),l=n.jsx(ft.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":yQ(a.open),...s,ref:o,onClick:He(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:n.jsx(Lv,{asChild:!0,...i,children:l})});hQ.displayName=mQ;var S3="PopoverPortal",[T7e,O7e]=dQ(S3,{forceMount:void 0}),pQ=e=>{const{__scopePopover:t,forceMount:r,children:s,container:a}=e,i=Fu(S3,t);return n.jsx(T7e,{scope:t,forceMount:r,children:n.jsx(as,{present:r||i.open,children:n.jsx(Fp,{asChild:!0,container:a,children:s})})})};pQ.displayName=S3;var Pp="PopoverContent",xQ=v.forwardRef((e,t)=>{const r=O7e(Pp,e.__scopePopover),{forceMount:s=r.forceMount,...a}=e,i=Fu(Pp,e.__scopePopover);return n.jsx(as,{present:s||i.open,children:i.modal?n.jsx(D7e,{...a,ref:t}):n.jsx(I7e,{...a,ref:t})})});xQ.displayName=Pp;var D7e=v.forwardRef((e,t)=>{const r=Fu(Pp,e.__scopePopover),s=v.useRef(null),a=It(t,s),i=v.useRef(!1);return v.useEffect(()=>{const o=s.current;if(o)return Kv(o)},[]),n.jsx(Yv,{as:Xl,allowPinchZoom:!0,children:n.jsx(gQ,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:He(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),I7e=v.forwardRef((e,t)=>{const r=Fu(Pp,e.__scopePopover),s=v.useRef(!1),a=v.useRef(!1);return n.jsx(gQ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(s.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),gQ=v.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,m=Fu(Pp,r),h=jy(r);return MN(),n.jsx(Gv,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(im,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:n.jsx(bN,{"data-state":yQ(m.open),role:"dialog",id:m.contentId,...h,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),vQ="PopoverClose",R7e=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=Fu(vQ,r);return n.jsx(ft.button,{type:"button",...s,ref:t,onClick:He(e.onClick,()=>a.onOpenChange(!1))})});R7e.displayName=vQ;var M7e="PopoverArrow",F7e=v.forwardRef((e,t)=>{const{__scopePopover:r,...s}=e,a=jy(r);return n.jsx(wN,{...a,...s,ref:t})});F7e.displayName=M7e;function yQ(e){return e?"open":"closed"}var $7e=uQ,L7e=hQ,B7e=pQ,jQ=xQ;const wh=$7e,Nh=L7e,kf=v.forwardRef(({className:e,align:t="center",sideOffset:r=4,...s},a)=>n.jsx(B7e,{children:n.jsx(jQ,{ref:a,align:t,sideOffset:r,className:ge("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));kf.displayName=jQ.displayName;const U7e=({open:e,onOpenChange:t,vendorName:r,productId:s,onVendorUpdated:a,openInEditMode:i=!1})=>{const[o,l]=v.useState(!1),[c,d]=v.useState([]),[u,f]=v.useState(null),[m,h]=v.useState(!1),[x,p]=v.useState("");v.useEffect(()=>{e?(g(),h(i)):(f(null),p(""),h(!1))},[e,i]);const g=async()=>{l(!0);try{const y=await Oo.getVendors();d(y.results);const w=y.results.find(b=>b.name.toLowerCase()===r.toLowerCase());w?(f(w),p(w.id)):(f(null),p(""))}catch(y){console.error("Error fetching vendors:",y),Ue.error("Failed to load vendors")}finally{l(!1)}},j=async()=>{if(!x){Ue.error("Please select a vendor");return}const y=c.find(w=>w.id===x);y&&(a==null||a(y.id,y.name),Ue.success(`Vendor changed to ${y.name}`),t(!1))};return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(qr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Jr,{children:[n.jsxs(en,{className:"flex items-center gap-2",children:[n.jsx(dr,{className:"h-5 w-5"}),"Vendor Details"]}),n.jsx(is,{children:"View vendor information and change vendor assignment"})]}),o?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Lt,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsx("div",{className:"space-y-6 py-4",children:u?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Current Vendor"}),n.jsx(re,{variant:"outline",size:"sm",onClick:()=>h(!m),children:m?"Cancel":"Change Vendor"})]}),m?n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[n.jsx(q,{children:"Select New Vendor"}),n.jsxs(tt,{value:x,onValueChange:p,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Choose a vendor"})}),n.jsx(et,{children:c.map(y=>n.jsx(ee,{value:y.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dr,{className:"h-4 w-4"}),n.jsx("span",{children:y.name}),y.company_name&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",y.company_name,")"]})]})},y.id))})]})]}):n.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 border rounded-lg bg-muted/50",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Vendor Name"}),n.jsx("p",{className:"font-semibold",children:u.name})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Company Name"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(dr,{className:"h-4 w-4 text-muted-foreground"}),u.company_name||"N/A"]})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Contact Person"}),n.jsx("p",{children:u.contact_person||"N/A"})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Category"}),n.jsx("p",{children:u.category||"N/A"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Email"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(yn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:`mailto:${u.email}`,className:"text-primary hover:underline",children:u.email})]})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Phone"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(Co,{className:"h-4 w-4 text-muted-foreground"}),u.phone||"N/A"]})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Website"}),n.jsxs("p",{className:"flex items-center gap-2",children:[n.jsx(Ql,{className:"h-4 w-4 text-muted-foreground"}),u.website?n.jsx("a",{href:u.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:u.website}):"N/A"]})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Address"}),n.jsxs("p",{className:"flex items-start gap-2",children:[n.jsx(xa,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsxs("span",{className:"text-sm",children:[u.address||"N/A",u.city&&`, ${u.city}`,u.country&&`, ${u.country}`]})]})]})]}),n.jsxs("div",{className:"col-span-2 grid grid-cols-3 gap-4 pt-4 border-t",children:[n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Lead Time"}),n.jsx("p",{className:"font-semibold",children:u.lead_time||"N/A"})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Reliability"}),n.jsx("p",{className:"font-semibold",children:u.reliability||"N/A"})]}),n.jsxs("div",{children:[n.jsx(q,{className:"text-xs text-muted-foreground",children:"Total Orders"}),n.jsx("p",{className:"font-semibold",children:u.orders_count||0})]})]})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"No vendor assigned or vendor not found in the system."}),n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[n.jsx(q,{children:"Assign Vendor"}),n.jsxs(tt,{value:x,onValueChange:p,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Choose a vendor"})}),n.jsx(et,{children:c.map(y=>n.jsx(ee,{value:y.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dr,{className:"h-4 w-4"}),n.jsx("span",{children:y.name}),y.company_name&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",y.company_name,")"]})]})},y.id))})]})]})]})}),n.jsxs(Va,{children:[n.jsx(re,{variant:"outline",onClick:()=>t(!1),children:"Close"}),(m||!u)&&n.jsx(re,{onClick:j,disabled:!x,children:u?"Change Vendor":"Assign Vendor"})]})]})})};var C3="Switch",[V7e,Knt]=ea(C3),[z7e,W7e]=V7e(C3),bQ=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[m,h]=v.useState(null),x=It(t,w=>h(w)),p=v.useRef(!1),g=m?u||!!m.closest("form"):!0,[j=!1,y]=Ia({prop:a,defaultProp:i,onChange:d});return n.jsxs(z7e,{scope:r,checked:j,disabled:l,children:[n.jsx(ft.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":_Q(j),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:He(e.onClick,w=>{y(b=>!b),g&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),g&&n.jsx(H7e,{control:m,bubbles:!p.current,name:s,value:c,checked:j,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});bQ.displayName=C3;var wQ="SwitchThumb",NQ=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=W7e(wQ,r);return n.jsx(ft.span,{"data-state":_Q(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});NQ.displayName=wQ;var H7e=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,i=v.useRef(null),o=U2(r),l=yN(t);return v.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&f){const m=new Event("click",{bubbles:s});f.call(c,r),c.dispatchEvent(m)}},[o,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function _Q(e){return e?"checked":"unchecked"}var SQ=bQ,q7e=NQ;const Tn=v.forwardRef(({className:e,...t},r)=>n.jsx(SQ,{className:ge("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(q7e,{className:ge("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Tn.displayName=SQ.displayName;var G7e="Separator",G$="horizontal",K7e=["horizontal","vertical"],CQ=v.forwardRef((e,t)=>{const{decorative:r,orientation:s=G$,...a}=e,i=Y7e(s)?s:G$,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(ft.div,{"data-orientation":i,...l,...a,ref:t})});CQ.displayName=G7e;function Y7e(e){return K7e.includes(e)}var AQ=CQ;const Ft=v.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...s},a)=>n.jsx(AQ,{ref:a,decorative:r,orientation:t,className:ge("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));Ft.displayName=AQ.displayName;const K$=e=>{let t;const r=new Set,s=(d,u)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const m=t;t=u??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(h=>h(t,m))}},a=()=>t,l={setState:s,getState:a,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d))},c=t=e(s,a,l);return l},X7e=e=>e?K$(e):K$,Q7e=e=>e;function Z7e(e,t=Q7e){const r=z.useSyncExternalStore(e.subscribe,z.useCallback(()=>t(e.getState()),[e,t]),z.useCallback(()=>t(e.getInitialState()),[e,t]));return z.useDebugValue(r),r}const J7e=e=>{const t=X7e(e),r=s=>Z7e(t,s);return Object.assign(r,t),r},eUe=e=>J7e;function tUe(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=r.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const uP=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(s){return uP(s)(r)},catch(s){return this}}}catch(r){return{then(s){return this},catch(s){return uP(s)(r)}}}},rUe=(e,t)=>(r,s,a)=>{let i={storage:tUe(()=>localStorage),partialize:p=>p,version:0,merge:(p,g)=>({...g,...p}),...t},o=!1;const l=new Set,c=new Set;let d=i.storage;if(!d)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...p)},s,a);const u=()=>{const p=i.partialize({...s()});return d.setItem(i.name,{state:p,version:i.version})},f=a.setState;a.setState=(p,g)=>(f(p,g),u());const m=e((...p)=>(r(...p),u()),s,a);a.getInitialState=()=>m;let h;const x=()=>{var p,g;if(!d)return;o=!1,l.forEach(y=>{var w;return y((w=s())!=null?w:m)});const j=((g=i.onRehydrateStorage)==null?void 0:g.call(i,(p=s())!=null?p:m))||void 0;return uP(d.getItem.bind(d))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate){const w=i.migrate(y.state,y.version);return w instanceof Promise?w.then(b=>[!0,b]):[!0,w]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var w;const[b,N]=y;if(h=i.merge(N,(w=s())!=null?w:m),r(h,!0),b)return u()}).then(()=>{j==null||j(h,void 0),h=s(),o=!0,c.forEach(y=>y(h))}).catch(y=>{j==null||j(void 0,y)})};return a.persist={setOptions:p=>{i={...i,...p},p.storage&&(d=p.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},i.skipHydration||x(),h||m},nUe=rUe,sUe=()=>({vendors:[{id:"vendor-001",name:"IKEA",companyName:"IKEA Hungary Kft.",contactPerson:"Sales Department",email:"sales@ikea.hu",phone:"+36 1 123 4567",website:"https://www.ikea.com/hu/hu/",notes:"Main furniture supplier"},{id:"vendor-002",name:"Royalty Line",companyName:"Royalty Line Europe",contactPerson:"Customer Service",email:"support@royaltyline.eu",phone:"+36 30 234 5678",website:"https://royaltyline.eu/",notes:"Kitchen and cookware specialist"},{id:"vendor-003",name:"JYSK",companyName:"JYSK Hungary",contactPerson:"B2B Sales",email:"b2b@jysk.hu",phone:"+36 1 345 6789",website:"https://jysk.hu/",notes:"Bedroom furniture and textiles"}],clients:[{id:"client-001",name:"John Doe",email:"john.doe@example.com",phone:"+36 20 123 4567",accountStatus:"Active",type:"Investor",notes:"Long-term investor with multiple properties"},{id:"client-002",name:"Anna Nagy",email:"anna.nagy@example.com",phone:"+36 30 987 6543",accountStatus:"Active",type:"Investor",notes:""},{id:"client-003",name:"Mikls Szab",email:"miklos.szabo@example.com",phone:"+36 70 555 1234",accountStatus:"Active",type:"Investor",notes:""},{id:"client-internal",name:"Buy2Rent Internal",email:"info@buy2rent.com",phone:"+36 1 234 5678",accountStatus:"Active",type:"Buy2Rent Internal",notes:"Internal company projects"}],apartments:[{id:"apt-001",name:"Izabella utca 3  A/12",type:"furnishing",clientId:"client-001",owner:"John Doe",address:"Izabella u. 3, Budapest",status:"Ordering",designer:"Barbara Kovcs",startDate:"2025-10-15",dueDate:"2025-12-05",progress:68,notes:""},{id:"apt-002",name:"Vci t 41  3.em 7",type:"renovating",clientId:"client-002",owner:"Anna Nagy",address:"Vci t 41, Budapest",status:"Renovating",designer:"Barbara Kovcs",startDate:"2025-09-10",dueDate:"2025-11-28",progress:52,notes:""},{id:"apt-003",name:"Andrssy t 25  B/5",type:"furnishing",clientId:"client-003",owner:"Mikls Szab",address:"Andrssy t 25, Budapest",status:"Design Approved",designer:"Barbara Kovcs",startDate:"2025-10-01",dueDate:"2025-12-01",progress:74,notes:""}],products:[{id:"p-1001",apartmentId:"apt-001",product:"Kanap  3 szemlyes",vendor:"IKEA",vendorLink:"https://www.ikea.com/hu/hu/",sku:"IK-SOFA-3",unitPrice:159999,qty:1,availability:"In Stock",status:"Ordered",statusTags:["Ordered"],deliveryStatusTags:["Scheduled"],eta:"2025-11-14",category:"Living Room",room:"Nappali",imageUrl:"",orderedOn:"2025-11-01",expectedDeliveryDate:"2025-11-14",paymentStatus:"Partially Paid",paymentDueDate:"2025-11-12",paymentAmount:159999,paidAmount:63999,issueState:"AI Resolving",issueId:"issue-002",vendorId:"vendor-001"},{id:"p-1002",apartmentId:"apt-001",product:"tkezasztal  Tlgy",vendor:"IKEA",vendorLink:"https://www.ikea.com/hu/hu/",sku:"IK-DINE-OAK",unitPrice:89999,qty:1,availability:"Backorder",status:"Waiting For Stock",statusTags:["Ordered","Waiting For Stock"],deliveryStatusTags:["Scheduled"],eta:"2025-11-25",category:"Dining",room:"tkez",imageUrl:"",orderedOn:"2025-11-02",expectedDeliveryDate:"2025-11-25",paymentStatus:"Partially Paid",paymentDueDate:"2025-11-12",paymentAmount:89999,paidAmount:36001,issueState:"No Issue",vendorId:"vendor-001"},{id:"p-1003",apartmentId:"apt-001",product:"Marble Cookware Set",vendor:"Royalty Line",vendorLink:"https://royaltyline.eu/",sku:"RL-COOK-SET",unitPrice:12999,qty:2,availability:"In Stock",status:"Damaged",statusTags:["Delivered","Damaged"],deliveryStatusTags:["Delivered","Issue Reported"],eta:"2025-11-12",category:"Kitchen",room:"Konyha",imageUrl:"",orderedOn:"2025-10-28",actualDeliveryDate:"2025-11-04",expectedDeliveryDate:"2025-11-04",paymentStatus:"Paid",paymentDueDate:"2025-11-03",paymentAmount:25998,paidAmount:25998,issueState:"AI Resolving",issueId:"issue-001",vendorId:"vendor-002"},{id:"p-1004",apartmentId:"apt-003",product:"King Size gy - Fekete",vendor:"JYSK",vendorLink:"https://jysk.hu/",sku:"JY-BED-KING-BLK",unitPrice:129e3,qty:1,availability:"In Stock",status:"Delivered",statusTags:["Delivered"],deliveryStatusTags:["Delivered"],category:"Bedroom",room:"Hlszoba",imageUrl:"",orderedOn:"2025-10-20",actualDeliveryDate:"2025-11-03",expectedDeliveryDate:"2025-11-03",paymentStatus:"Paid",paymentDueDate:"2025-10-25",paymentAmount:129e3,paidAmount:129e3,issueState:"No Issue",vendorId:"vendor-003"}],deliveries:[{id:"del-001",apartmentId:"apt-001",vendor:"IKEA",orderReference:"IK-ORD-001",expectedDate:"2025-11-14",status:"Scheduled",notes:"Delivery window: 9:00-12:00"},{id:"del-002",apartmentId:"apt-001",vendor:"Royalty Line",orderReference:"RL-ORD-002",expectedDate:"2025-11-04",actualDate:"2025-11-04",receivedBy:"John Doe",status:"Issue Reported",notes:"Items damaged during shipping",proofPhotos:[]}],payments:[{id:"pay-001",apartmentId:"apt-001",vendor:"IKEA",orderReference:"IK-ORD-001",totalAmount:249998,amountPaid:1e5,dueDate:"2025-11-12",status:"Partial",lastPaymentDate:"2025-11-01",paymentHistory:[{date:"2025-11-01",amount:1e5,method:"Bank Transfer",referenceNo:"TRF-20251101-001",note:"Initial payment"}]},{id:"pay-002",apartmentId:"apt-001",vendor:"Royalty Line",orderReference:"RL-ORD-002",totalAmount:25998,amountPaid:25998,dueDate:"2025-11-03",status:"Paid",lastPaymentDate:"2025-10-30",paymentHistory:[{date:"2025-10-30",amount:25998,method:"Credit Card",referenceNo:"CC-20251030-002"}]}],issues:[{id:"issue-001",apartmentId:"apt-001",productId:"p-1003",productName:"Marble Cookware Set",vendor:"Royalty Line",type:"Broken/Damaged",description:"Two pans arrived with cracked marble coating. Product unusable.",reportedOn:"2025-11-04",status:"Pending Vendor Response",photos:[],aiActivated:!0,aiCommunicationLog:[{timestamp:"2025-11-04T16:12:00",sender:"AI",message:`Dear Royalty Line Team,

We received order RL-ORD-002 (Marble Cookware Set, SKU: RL-COOK-SET) on November 4th, 2025. Unfortunately, two pans arrived with cracked marble coating, rendering them unusable.

Kindly confirm the replacement or refund procedure at your earliest convenience.

Best regards,
Buy2Rent FPMS`},{timestamp:"2025-11-04T18:45:00",sender:"Vendor",message:`Hello,

Thank you for contacting us. We apologize for the damaged items. We will arrange a replacement shipment immediately.

Please return the damaged items to our warehouse. RMA #RL-2025-1104.

Expected replacement delivery: November 10th, 2025.

Best regards,
Royalty Line Customer Service`},{timestamp:"2025-11-04T18:46:00",sender:"System",message:" HUMAN ACTION REQUIRED: Vendor requires damaged item to be shipped back. Please arrange pickup or return shipping for damaged cookware set by November 8th, 2025. RMA Number: RL-2025-1104."},{timestamp:"2025-11-04T19:00:00",sender:"AI",message:`Thank you for your prompt response. We acknowledge the replacement shipment scheduled for November 10th. Return shipment will be arranged as per RMA #RL-2025-1104.

Best regards,
Buy2Rent FPMS`}],resolutionStatus:"Resolution Agreed"},{id:"issue-002",apartmentId:"apt-001",productId:"p-1001",productName:"Kanap  3 szemlyes",vendor:"IKEA",type:"Wrong Item/Color",description:"Sofa delivered in wrong color - ordered grey (kivitelben szrke), received beige.",reportedOn:"2025-11-05",status:"Pending Vendor Response",photos:[],aiActivated:!0,aiCommunicationLog:[{timestamp:"2025-11-05T09:15:00",sender:"AI",message:`Dear IKEA Customer Service,

We have an issue with order IK-ORD-001 for the 3-seater sofa (SKU: IK-SOFA-3).

Ordered: Grey color (kivitelben szrke)
Received: Beige color

Could you please advise on the exchange process? We need the correct grey sofa as per our original order.

Best regards,
Buy2Rent Procurement Team`},{timestamp:"2025-11-05T11:30:00",sender:"Vendor",message:`Hello,

Thank you for reporting this issue. We sincerely apologize for the color mix-up.

We have checked our inventory and the grey 3-seater sofa is currently in stock. We can arrange:

1. Pickup of the beige sofa: November 8th, 2025
2. Delivery of the correct grey sofa: November 12th, 2025

No additional charges will apply. We will send you a return label via email within 2 hours.

Reference Number: IKEA-EXCH-20251105-001

Best regards,
IKEA Hungary Customer Service`},{timestamp:"2025-11-05T11:45:00",sender:"AI",message:`Thank you for your prompt response and the proposed solution.

We confirm:
- Pickup of beige sofa: November 8th, 2025 
- Delivery of grey sofa: November 12th, 2025 
- Reference: IKEA-EXCH-20251105-001 

We will ensure the beige sofa is ready for pickup on the 8th. Please send the return label to our registered email address.

Thank you for your cooperation.

Best regards,
Buy2Rent Procurement Team`},{timestamp:"2025-11-05T14:20:00",sender:"Vendor",message:`Perfect! Return label has been sent to your email (info@buy2rent.com).

Pickup scheduled for November 8th between 10:00-14:00.
Delivery scheduled for November 12th between 9:00-13:00.

We have also applied a 10% courtesy discount on your next purchase as an apology for the inconvenience.

Thank you for your understanding!

IKEA Hungary`},{timestamp:"2025-11-05T14:25:00",sender:"AI",message:`Excellent! We have received the return label.

We appreciate the courtesy discount and your professional handling of this matter. Looking forward to receiving the correct grey sofa on November 12th.

Best regards,
Buy2Rent Procurement Team`}],resolutionStatus:"Resolution Agreed"}],activities:[{id:"act-001",apartmentId:"apt-001",timestamp:"2025-11-04T09:15:00",actor:"Admin",icon:"ShoppingCart",summary:'Product "Kanap  3 szemlyes" marked as Ordered',type:"product"},{id:"act-002",apartmentId:"apt-001",timestamp:"2025-11-04T14:30:00",actor:"Admin",icon:"CreditCard",summary:"Partial payment of 100,000 HUF logged for IKEA order (Outstanding: 149,998 HUF)",type:"payment"},{id:"act-003",apartmentId:"apt-001",timestamp:"2025-11-04T16:12:00",actor:"AI Assistant",icon:"Mail",summary:"AI emailed vendor Royalty Line about broken cookware set",type:"ai"},{id:"act-004",apartmentId:"apt-001",timestamp:"2025-11-04T11:45:00",actor:"John Doe",icon:"PackageCheck",summary:"Delivery received from Royalty Line - issue reported",type:"delivery"}],aiNotes:[{id:"ai-001",apartmentId:"apt-001",timestamp:"2025-11-04T16:12:00",sender:"AI",content:`Dear Royalty Line Team,

We received order RL-ORD-002 (Marble Cookware Set, SKU: RL-COOK-SET) on November 4th, 2025. Unfortunately, two pans arrived with cracked marble coating, rendering them unusable.

Kindly confirm the replacement or refund procedure at your earliest convenience.

Best regards,
Buy2Rent FPMS`,emailSubject:"Issue Report: Damaged Items - Order RL-ORD-002",relatedTo:"issue-001"}],manualNotes:{}}),Sl=sUe(),Ml=eUe()(nUe((e,t)=>({clients:Sl.clients,apartments:Sl.apartments,vendors:Sl.vendors,products:Sl.products,deliveries:Sl.deliveries,payments:Sl.payments,issues:Sl.issues,activities:Sl.activities,aiNotes:Sl.aiNotes,manualNotes:Sl.manualNotes,addClient:r=>e(s=>({clients:[...s.clients,{...r,id:`client-${Date.now()}`}]})),updateClient:(r,s)=>e(a=>({clients:a.clients.map(i=>i.id===r?{...i,...s}:i)})),deleteClient:r=>e(s=>({clients:s.clients.filter(a=>a.id!==r)})),getClient:r=>t().clients.find(s=>s.id===r),addVendor:r=>e(s=>({vendors:[...s.vendors,{...r,id:`vendor-${Date.now()}`}]})),updateVendor:(r,s)=>e(a=>({vendors:a.vendors.map(i=>i.id===r?{...i,...s}:i)})),deleteVendor:r=>e(s=>({vendors:s.vendors.filter(a=>a.id!==r)})),getVendor:r=>t().vendors.find(s=>s.id===r),getVendorByName:r=>t().vendors.find(s=>s.name.toLowerCase()===r.toLowerCase()),addApartment:r=>e(s=>({apartments:[...s.apartments,{...r,id:`apt-${Date.now()}`}]})),updateApartment:(r,s)=>e(a=>({apartments:a.apartments.map(i=>i.id===r?{...i,...s}:i)})),deleteApartment:r=>e(s=>({apartments:s.apartments.filter(a=>a.id!==r)})),getApartment:r=>t().apartments.find(s=>s.id===r),getApartmentsByType:r=>t().apartments.filter(s=>s.type===r),getApartmentsByClient:r=>t().apartments.filter(s=>s.clientId===r),addProduct:r=>e(s=>({products:[...s.products,{...r,id:`p-${Date.now()}`}]})),addProducts:r=>e(s=>({products:[...s.products,...r.map((a,i)=>({...a,id:`p-${Date.now()}-${i}`}))]})),updateProduct:(r,s)=>e(a=>({products:a.products.map(i=>i.id===r?{...i,...s}:i)})),deleteProduct:r=>e(s=>({products:s.products.filter(a=>a.id!==r)})),getProduct:r=>t().products.find(s=>s.id===r),getProductsByApartment:r=>t().products.filter(s=>s.apartmentId===r),addDelivery:r=>e(s=>({deliveries:[...s.deliveries,{...r,id:`del-${Date.now()}`}]})),updateDelivery:(r,s)=>e(a=>({deliveries:a.deliveries.map(i=>i.id===r?{...i,...s}:i)})),getDeliveriesByApartment:r=>t().deliveries.filter(s=>s.apartmentId===r),addPayment:r=>e(s=>({payments:[...s.payments,{...r,id:`pay-${Date.now()}`}]})),updatePayment:(r,s)=>e(a=>({payments:a.payments.map(i=>i.id===r?{...i,...s}:i)})),addPaymentToHistory:(r,s)=>e(a=>({payments:a.payments.map(i=>i.id===r?{...i,paymentHistory:[...i.paymentHistory,s],amountPaid:i.amountPaid+s.amount,lastPaymentDate:s.date,status:i.amountPaid+s.amount>=i.totalAmount?"Paid":"Partial"}:i)})),getPaymentsByApartment:r=>t().payments.filter(s=>s.apartmentId===r),addIssue:r=>e(s=>({issues:[...s.issues,{...r,id:`issue-${Date.now()}`}]})),updateIssue:(r,s)=>e(a=>({issues:a.issues.map(i=>i.id===r?{...i,...s}:i)})),getIssuesByApartment:r=>t().issues.filter(s=>s.apartmentId===r),addActivity:r=>e(s=>({activities:[...s.activities,{...r,id:`act-${Date.now()}`,timestamp:new Date().toISOString()}]})),getActivitiesByApartment:r=>t().activities.filter(s=>s.apartmentId===r).sort((s,a)=>new Date(a.timestamp).getTime()-new Date(s.timestamp).getTime()),addAINote:r=>e(s=>({aiNotes:[...s.aiNotes,{...r,id:`ai-${Date.now()}`,timestamp:new Date().toISOString()}]})),getAINotesByApartment:r=>t().aiNotes.filter(s=>s.apartmentId===r).sort((s,a)=>new Date(a.timestamp).getTime()-new Date(s.timestamp).getTime()),setManualNote:(r,s)=>e(a=>({manualNotes:{...a.manualNotes,[r]:s}})),getManualNote:r=>t().manualNotes[r]||""}),{name:"fpms-data-storage"})),EQ=({open:e,onOpenChange:t,product:r,onIssueUpdated:s})=>{const a=Ml(S=>S.getIssuesByApartment),i=Ml(S=>S.addIssue),o=Ml(S=>S.updateIssue),l=Ml(S=>S.updateProduct),c=Ml(S=>S.addActivity),d=Ml(S=>S.addAINote),f=a(r.apartmentId).find(S=>S.id===r.issueId||S.productId===r.id),[m,h]=v.useState(""),[x,p]=v.useState("Broken/Damaged"),[g,j]=v.useState(!1),[y,w]=v.useState("Open");v.useEffect(()=>{f?(h(f.description),p(f.type),j(f.aiActivated||!1),w(f.resolutionStatus||"Open")):(h(""),p("Broken/Damaged"),j(!1),w("Open"))},[f,e]);const b=()=>{if(!m.trim()){Ue.error("Please provide a description of the issue");return}if(f){o(f.id,{description:m,type:x,aiActivated:g,resolutionStatus:y});const S=g?"AI Resolving":y==="Closed"?"Resolved":"Issue Reported";l(r.id,{issueState:S}),Ue.success("Issue updated")}else{const S={apartmentId:r.apartmentId,productId:r.id,productName:r.product,vendor:r.vendor,type:x,description:m,reportedOn:new Date().toISOString(),status:"Open",aiActivated:g,aiCommunicationLog:[],resolutionStatus:"Open"};i(S);const A=g?"AI Resolving":"Issue Reported";l(r.id,{issueState:A}),c({apartmentId:r.apartmentId,actor:"Admin",icon:"AlertCircle",summary:`Issue reported for "${r.product}": ${x}`,type:"issue"}),g&&setTimeout(()=>{d({apartmentId:r.apartmentId,sender:"AI",content:`Automatically analyzing issue with ${r.product}. Preparing vendor communication for ${r.vendor}...`})},500),Ue.success("Issue created"+(g?" - AI activated":""))}s==null||s(),t(!1)},N=()=>{const S=!g;j(S),f&&S&&Ue.info("AI Chatbot activated for this issue")},_=S=>{switch(S){case"Closed":return n.jsx(Vr,{className:"h-4 w-4 text-success"});case"Resolution Agreed":return n.jsx(Vr,{className:"h-4 w-4 text-primary"});case"Pending Vendor Response":return n.jsx(wr,{className:"h-4 w-4 text-warning"});default:return n.jsx(St,{className:"h-4 w-4 text-danger"})}};return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(qr,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs(Jr,{children:[n.jsxs(en,{children:["Issue Management - ",r.product]}),n.jsx(is,{children:"Report and track issues, activate AI assistance for automated vendor communication"})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6 py-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"issueType",children:"Issue Type"}),n.jsxs(tt,{value:x,onValueChange:S=>p(S),children:[n.jsx(Je,{children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"Broken/Damaged",children:"Broken/Damaged"}),n.jsx(ee,{value:"Wrong Item/Color",children:"Wrong Item/Color"}),n.jsx(ee,{value:"Missing Parts",children:"Missing Parts"}),n.jsx(ee,{value:"Incorrect Quantity",children:"Incorrect Quantity"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"description",children:"Detailed Description"}),n.jsx(fa,{id:"description",value:m,onChange:S=>h(S.target.value),placeholder:"Describe the issue in detail...",rows:4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"resolutionStatus",children:"Resolution Status"}),n.jsxs(tt,{value:y,onValueChange:S=>w(S),children:[n.jsx(Je,{children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"Open",children:"Open"}),n.jsx(ee,{value:"Pending Vendor Response",children:"Pending Vendor Response"}),n.jsx(ee,{value:"Resolution Agreed",children:"Resolution Agreed"}),n.jsx(ee,{value:"Closed",children:"Closed"})]})]})]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/30",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ys,{className:"h-5 w-5 text-primary"}),n.jsx(q,{htmlFor:"aiActivated",className:"text-base font-semibold cursor-pointer",children:"Activate AI Chatbot for Resolution"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"AI will automatically communicate with vendor to resolve this issue"})]}),n.jsx(Tn,{id:"aiActivated",checked:g,onCheckedChange:N})]}),g&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[n.jsx(w7,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:"AI Chatbot is active"}),n.jsxs(re,{size:"sm",variant:"outline",className:"ml-auto",onClick:()=>Ue.info("AI chatbot paused for this issue"),children:[n.jsx(Pse,{className:"h-3 w-3 mr-1"}),"Pause AI"]})]})]}),f&&f.aiCommunicationLog&&f.aiCommunicationLog.length>0&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(q,{className:"text-base font-semibold",children:"AI Communication Log"}),n.jsxs(Ae,{variant:"outline",children:[f.aiCommunicationLog.length," messages"]})]}),n.jsx(ic,{className:"h-64 border rounded-lg p-4",children:n.jsx("div",{className:"space-y-4",children:f.aiCommunicationLog.map((S,A)=>{const E=S.message.toLowerCase().includes("please arrange")||S.message.toLowerCase().includes("action required")||S.message.toLowerCase().includes("human action");return n.jsxs("div",{className:ge("flex gap-3 p-3 rounded-lg",S.sender==="AI"?"bg-primary/5":"bg-muted",E&&"border-2 border-warning shadow-sm"),children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:S.sender==="AI"?n.jsx(ys,{className:"h-4 w-4 text-primary"}):S.sender==="Vendor"?n.jsx($n,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(St,{className:"h-4 w-4 text-warning"})}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ae,{variant:S.sender==="AI"?"default":"outline",className:ge("text-xs",E&&"bg-warning text-warning-foreground"),children:S.sender}),E&&n.jsxs(Ae,{variant:"outline",className:"text-xs bg-warning/10 text-warning border-warning/50",children:[n.jsx(St,{className:"h-3 w-3 mr-1"}),"Action Required"]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(S.timestamp).toLocaleString()})]}),n.jsx("p",{className:ge("text-sm whitespace-pre-wrap",E&&"font-medium"),children:S.message})]})]},A)})})}),f.aiCommunicationLog.some(S=>S.message.toLowerCase().includes("please arrange")||S.message.toLowerCase().includes("action required"))&&n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-warning/10 border border-warning/30 rounded-lg",children:[n.jsx(St,{className:"h-5 w-5 text-warning"}),n.jsx("span",{className:"text-sm font-medium text-warning-foreground",children:"Human action required - please review the communication log above"})]})]})]}),f&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{}),n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[_(f.resolutionStatus),n.jsx("span",{className:"font-medium",children:"Current Status:"}),n.jsx(Ae,{children:f.resolutionStatus||"Open"})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Reported: ",new Date(f.reportedOn).toLocaleDateString()]})]})]})]}),n.jsxs(Va,{children:[n.jsx(re,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsxs(re,{onClick:b,children:[f?"Update":"Create"," Issue"]})]})]})})},aUe=({open:e,onOpenChange:t,product:r})=>{if(!r)return null;const s=a=>a!=null&&a.includes("DPD")?"bg-blue-500 text-white":a!=null&&a.includes("GLS")?"bg-yellow-500 text-black":a!=null&&a.includes("Sameday")?"bg-green-500 text-white":"bg-muted text-muted-foreground";return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(qr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Jr,{children:[n.jsxs(en,{className:"flex items-center gap-2",children:[n.jsx(_r,{className:"h-5 w-5 text-primary"}),"Delivery Location Details"]}),n.jsxs(is,{children:["Complete delivery information for ",r.product]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start gap-4 p-4 bg-muted/50 rounded-lg",children:[r.product_image?n.jsx("img",{src:r.product_image,alt:r.product,className:"h-16 w-16 rounded object-cover"}):n.jsx("div",{className:"h-16 w-16 rounded bg-muted flex items-center justify-center",children:n.jsx(lt,{className:"h-8 w-8 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-lg",children:r.product}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["SKU: ",r.sku]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Vendor: ",r.vendor]})]})]}),n.jsx(Ft,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(_r,{className:"h-4 w-4 text-primary"}),n.jsx("h4",{className:"font-semibold",children:"Delivery Service"})]}),n.jsx(Ae,{className:s(r.deliveryType),variant:"secondary",children:r.deliveryType||"Not specified"}),r.trackingNumber&&n.jsxs("div",{className:"mt-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Tracking Number:"}),n.jsx("span",{className:"ml-2 font-mono font-medium",children:r.trackingNumber})]})]}),n.jsx(Ft,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(xa,{className:"h-4 w-4 text-primary"}),n.jsx("h4",{className:"font-semibold",children:"Delivery Address"})]}),n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg space-y-2",children:[n.jsx("p",{className:"font-medium",children:r.deliveryAddress||"Not specified"}),r.deliveryCity&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:[r.deliveryCity,", ",r.deliveryPostalCode||""]}),r.deliveryCountry&&n.jsx("p",{className:"text-sm text-muted-foreground",children:r.deliveryCountry})]})]}),n.jsx(Ft,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(lt,{className:"h-4 w-4 text-primary"}),n.jsx("h4",{className:"font-semibold",children:"How to Receive"})]}),n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg space-y-3",children:[r.deliveryInstructions?n.jsx("p",{className:"text-sm leading-relaxed",children:r.deliveryInstructions}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No special instructions"}),r.deliveryContactPerson&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx($n,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),n.jsx("span",{className:"font-medium",children:r.deliveryContactPerson})]}),r.deliveryContactPhone&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Co,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:r.deliveryContactPhone})]}),r.deliveryContactEmail&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(yn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:r.deliveryContactEmail})]})]})]}),n.jsx(Ft,{}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(wr,{className:"h-4 w-4 text-primary"}),n.jsx("h4",{className:"font-semibold",children:"Delivery Schedule"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground mb-1",children:"Expected Delivery"}),n.jsx("p",{className:"font-medium",children:r.expectedDeliveryDate?new Date(r.expectedDeliveryDate).toLocaleDateString():"Not set"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground mb-1",children:"Actual Delivery"}),n.jsx("p",{className:"font-medium",children:r.actualDeliveryDate?new Date(r.actualDeliveryDate).toLocaleDateString():"Pending"})]}),r.deliveryTimeWindow&&n.jsxs("div",{className:"col-span-2",children:[n.jsx("p",{className:"text-muted-foreground mb-1",children:"Time Window"}),n.jsx("p",{className:"font-medium",children:r.deliveryTimeWindow})]})]})]}),r.deliveryNotes&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Additional Notes"}),n.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed p-3 bg-muted/30 rounded",children:r.deliveryNotes})]})]})]})]})})},iUe=({open:e,onOpenChange:t,currentSku:r,productId:s,productName:a,onSkuUpdated:i})=>{const[o,l]=v.useState(r||""),[c,d]=v.useState(!1);v.useEffect(()=>{e&&l(r||"")},[e,r]);const u=async()=>{if(!o.trim()){Ue.error("SKU cannot be empty");return}d(!0);try{i==null||i(o.trim()),t(!1)}catch(m){console.error("Error updating SKU:",m),Ue.error("Failed to update SKU")}finally{d(!1)}},f=m=>{m.key==="Enter"&&!c&&u()};return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(qr,{className:"max-w-md",children:[n.jsxs(Jr,{children:[n.jsxs(en,{className:"flex items-center gap-2",children:[n.jsx(lt,{className:"h-5 w-5"}),"Edit SKU"]}),n.jsxs(is,{children:['Update the SKU for "',a,'"']})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"sku",children:"SKU (Stock Keeping Unit)"}),n.jsx(fe,{id:"sku",value:o,onChange:m=>l(m.target.value),onKeyPress:f,placeholder:"Enter SKU code",className:"font-mono",autoFocus:!0,disabled:c}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter a unique identifier for this product"})]})}),n.jsxs(Va,{children:[n.jsx(re,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),n.jsxs(re,{onClick:u,disabled:c||!o.trim(),children:[c&&n.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Save SKU"]})]})]})})},oUe=({open:e,onOpenChange:t,currentPrice:r,productId:s,productName:a,onPriceUpdated:i})=>{const[o,l]=v.useState((r==null?void 0:r.toString())||""),[c,d]=v.useState(!1);v.useEffect(()=>{if(e){const h=r?Math.round(parseFloat(r.toString())):0;l(h.toString())}},[e,r]);const u=async()=>{const h=parseInt(o);if(!o.trim()||isNaN(h)){Ue.error("Please enter a valid price");return}if(h<0){Ue.error("Price cannot be negative");return}d(!0);try{i==null||i(h.toString()),t(!1)}catch(x){console.error("Error updating unit price:",x),Ue.error("Failed to update unit price")}finally{d(!1)}},f=h=>{h.key==="Enter"&&!c&&u()},m=h=>{const x=h.target.value;(x===""||/^\d+$/.test(x))&&l(x)};return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(qr,{className:"max-w-md",children:[n.jsxs(Jr,{children:[n.jsxs(en,{className:"flex items-center gap-2",children:[n.jsx(Nr,{className:"h-5 w-5"}),"Edit Unit Price"]}),n.jsxs(is,{children:['Update the unit price for "',a,'"']})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"price",children:"Unit Price (HUF)"}),n.jsxs("div",{className:"relative",children:[n.jsx(fe,{id:"price",value:o,onChange:m,onKeyPress:f,placeholder:"Enter unit price",className:"pr-12",autoFocus:!0,disabled:c,type:"text",inputMode:"numeric"}),n.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground",children:"HUF"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the price per unit in Hungarian Forint (whole numbers only)"})]})}),n.jsxs(Va,{children:[n.jsx(re,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),n.jsxs(re,{onClick:u,disabled:c||!o.trim()||isNaN(parseInt(o)),children:[c&&n.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Price"]})]})]})})},lUe=({open:e,onOpenChange:t,currentQuantity:r,productId:s,productName:a,onQuantityUpdated:i})=>{const[o,l]=v.useState((r==null?void 0:r.toString())||"1"),[c,d]=v.useState(!1);v.useEffect(()=>{e&&l((r==null?void 0:r.toString())||"1")},[e,r]);const u=async()=>{const p=parseInt(o);if(!o.trim()||isNaN(p)){Ue.error("Please enter a valid quantity");return}if(p<=0){Ue.error("Quantity must be greater than 0");return}d(!0);try{i==null||i(o.trim()),t(!1)}catch(g){console.error("Error updating quantity:",g),Ue.error("Failed to update quantity")}finally{d(!1)}},f=p=>{p.key==="Enter"&&!c&&u()},m=p=>{const g=p.target.value;(g===""||/^\d+$/.test(g))&&l(g)},h=()=>{const p=parseInt(o)||0;l((p+1).toString())},x=()=>{const p=parseInt(o)||0;p>1&&l((p-1).toString())};return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(qr,{className:"max-w-md",children:[n.jsxs(Jr,{children:[n.jsxs(en,{className:"flex items-center gap-2",children:[n.jsx(uh,{className:"h-5 w-5"}),"Edit Quantity"]}),n.jsxs(is,{children:['Update the quantity for "',a,'"']})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"quantity",children:"Quantity"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(re,{type:"button",variant:"outline",size:"icon",onClick:x,disabled:c||parseInt(o)<=1,children:"-"}),n.jsx(fe,{id:"quantity",value:o,onChange:m,onKeyPress:f,placeholder:"Enter quantity",className:"text-center",autoFocus:!0,disabled:c,type:"text",inputMode:"numeric"}),n.jsx(re,{type:"button",variant:"outline",size:"icon",onClick:h,disabled:c,children:"+"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the number of units to order"})]})}),n.jsxs(Va,{children:[n.jsx(re,{variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),n.jsxs(re,{onClick:u,disabled:c||!o.trim()||parseInt(o)<=0,children:[c&&n.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Quantity"]})]})]})})},cUe=[{value:"Confirmed",label:"Confirmed",icon:Vr,color:"text-yellow-500"},{value:"In Transit",label:"In Transit",icon:_r,color:"text-blue-500"},{value:"Delayed",label:"Delayed",icon:wr,color:"text-orange-500"},{value:"Received",label:"Received",icon:lt,color:"text-green-500"},{value:"Cancelled",label:"Cancelled",icon:$l,color:"text-red-500"},{value:"Returned",label:"Returned",icon:Tse,color:"text-purple-500"}];function PQ({open:e,onOpenChange:t,deliveryId:r,currentStatus:s,orderReference:a,onStatusUpdated:i}){const{toast:o}=xr(),[l,c]=v.useState(s),[d,u]=v.useState(!1),[f,m]=v.useState(!1),[h,x]=v.useState(null),[p,g]=v.useState(""),[j,y]=v.useState(""),[w,b]=v.useState(void 0),[N,_]=v.useState(""),[S,A]=v.useState(""),[E,P]=v.useState(""),[D,I]=v.useState(""),[W,H]=v.useState(""),[F,T]=v.useState("");v.useEffect(()=>{e&&r?(g(""),y(""),b(void 0),_(""),A(""),P(""),I(""),H(""),T(""),x(null),m(!0),$c.getDelivery(r).then(O=>{if(x(O),c(O.status),O.received_by&&y(O.received_by),O.actual_date)try{const K=d0e(O.actual_date,"yyyy-MM-dd",new Date);b(K)}catch(K){console.error("Error parsing date:",K)}if(O.status_history&&O.status_history.length>0){const K=O.status_history[0];O.status==="Received"&&K.received_by&&y(K.received_by),O.status==="In Transit"&&K.location&&_(K.location),O.status==="Delayed"&&K.delay_reason&&A(K.delay_reason),O.status==="Returned"&&K.notes&&P(K.notes),O.status==="Cancelled"&&K.notes&&I(K.notes),O.status==="Confirmed"&&(K.received_by&&H(K.received_by),K.notes&&T(K.notes))}O.notes&&g(O.notes)}).catch(O=>{console.error("Error fetching delivery details:",O),o({title:"Error",description:"Failed to load delivery details",variant:"destructive"})}).finally(()=>{m(!1)})):e||(g(""),y(""),b(void 0),_(""),A(""),P(""),I(""),H(""),T(""),x(null))},[e,r,o]);const k=async()=>{var O,K;if(!l){o({title:"Error",description:"Please select a status",variant:"destructive"});return}if(l==="Received"&&!j){o({title:"Error",description:"Please enter who received the delivery",variant:"destructive"});return}if(l==="Delayed"&&!S){o({title:"Error",description:"Please enter the delay reason",variant:"destructive"});return}if(l==="Returned"&&!E){o({title:"Error",description:"Please enter the return reason",variant:"destructive"});return}if(l==="Cancelled"&&!D){o({title:"Error",description:"Please enter the cancellation reason",variant:"destructive"});return}try{u(!0);const se={status_notes:p};l==="Received"&&(se.received_by=j,w&&(se.actual_date=Ht(w,"yyyy-MM-dd"))),l==="In Transit"&&(se.location=N),l==="Delayed"&&(se.delay_reason=S),l==="Returned"&&(se.status_notes=E+(p?`

Additional Notes: ${p}`:"")),l==="Cancelled"&&(se.status_notes=D+(p?`

Additional Notes: ${p}`:"")),l==="Confirmed"&&(se.received_by=W,se.status_notes=F||p),await $c.updateStatus(r,l,se),o({title:"Success",description:`Delivery status updated to ${l}`}),t(!1),i&&i()}catch(se){o({title:"Error",description:((K=(O=se.response)==null?void 0:O.data)==null?void 0:K.error)||"Failed to update delivery status",variant:"destructive"})}finally{u(!1)}},M=()=>{switch(l){case"Received":return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"receivedBy",children:["Received By ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(fe,{id:"receivedBy",placeholder:"Enter recipient name",value:j,onChange:O=>y(O.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Delivery Date"}),n.jsxs(wh,{children:[n.jsx(Nh,{asChild:!0,children:n.jsxs(re,{variant:"outline",className:ge("w-full justify-start text-left font-normal",!w&&"text-muted-foreground"),children:[n.jsx(Hr,{className:"mr-2 h-4 w-4"}),w?Ht(w,"PPP"):"Pick a date"]})}),n.jsx(kf,{className:"w-auto p-0",align:"start",children:n.jsx(Fg,{mode:"single",selected:w,onSelect:b,initialFocus:!0})})]})]})]});case"In Transit":return n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"location",children:"Current Location"}),n.jsx(fe,{id:"location",placeholder:"Enter current location",value:N,onChange:O=>_(O.target.value)})]});case"Delayed":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"delayReason",children:["Delay Reason ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(gn,{id:"delayReason",placeholder:"Explain the reason for delay",value:S,onChange:O=>A(O.target.value),rows:3}),n.jsx(pf,{text:S,onEnhanced:A,context:"delivery delay reason"})]})]});case"Returned":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"returnReason",children:["Return Reason ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(gn,{id:"returnReason",placeholder:"Explain why the delivery was returned",value:E,onChange:O=>P(O.target.value),rows:3}),n.jsx(pf,{text:E,onEnhanced:P,context:"delivery return reason"})]})]});case"Cancelled":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"cancellationReason",children:["Cancellation Reason ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(gn,{id:"cancellationReason",placeholder:"Explain why the delivery was cancelled",value:D,onChange:O=>I(O.target.value),rows:3}),n.jsx(pf,{text:D,onEnhanced:I,context:"delivery cancellation reason"})]})]});case"Confirmed":return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"confirmedBy",children:"Confirmed By"}),n.jsx(fe,{id:"confirmedBy",placeholder:"Enter name of person who confirmed",value:W,onChange:O=>H(O.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"confirmationNotes",children:"Confirmation Notes"}),n.jsx(gn,{id:"confirmationNotes",placeholder:"Add any confirmation details",value:F,onChange:O=>T(O.target.value),rows:2})]})]});default:return null}};return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(qr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Jr,{children:[n.jsx(en,{children:"Update Delivery Status"}),n.jsxs(is,{children:[a,"  ",s]})]}),f?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Lt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(q,{children:"Select Status"}),n.jsx("div",{className:"grid grid-cols-3 gap-3",children:cUe.map(O=>{const K=O.icon;return n.jsxs("button",{onClick:()=>c(O.value),className:ge("flex flex-col items-center justify-center gap-2 p-4 rounded-lg border-2 transition-all",l===O.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:[n.jsx(K,{className:ge("h-6 w-6",O.color)}),n.jsx("span",{className:"text-sm font-medium",children:O.label})]},O.value)})})]}),M(),l!=="Returned"&&l!=="Cancelled"&&l!=="Confirmed"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Additional Notes"}),n.jsxs("div",{className:"relative",children:[n.jsx(gn,{id:"notes",placeholder:"Add any additional notes",value:p,onChange:O=>g(O.target.value),rows:3}),n.jsx(pf,{text:p,onEnhanced:g,context:"delivery additional notes"})]})]})]}),!f&&n.jsxs(Va,{children:[n.jsx(re,{variant:"outline",onClick:()=>t(!1),disabled:d,children:"Cancel"}),n.jsx(re,{onClick:k,disabled:d,children:d?"Updating...":"Update Status"})]})]})})}function dUe(){return n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4 mb-4",children:[n.jsx(C,{className:"h-9 w-24 rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(C,{className:"h-9 w-64 mb-3"}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[n.jsx(C,{className:"h-6 w-24 rounded-full"}),n.jsx(C,{className:"h-6 w-20 rounded-full"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(C,{className:"h-9 w-20 rounded-md"}),n.jsx(C,{className:"h-9 w-24 rounded-md"})]})]})})}function uUe(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-24"})]})}),n.jsxs(Q,{children:[n.jsx(C,{className:"h-8 w-32 mb-2"}),n.jsx(C,{className:"h-3 w-40"})]})]},t))})}function fUe(){return n.jsxs(X,{className:"lg:col-span-2",children:[n.jsx(we,{children:n.jsx(C,{className:"h-6 w-40"})}),n.jsx(Q,{className:"space-y-3",children:n.jsx("div",{className:"grid grid-cols-2 gap-4",children:[...Array(6)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-20"}),n.jsx(C,{className:"h-4 w-32"})]},t))})})]})}function mUe(){return n.jsxs(X,{children:[n.jsx(we,{children:n.jsx(C,{className:"h-6 w-32"})}),n.jsx(Q,{children:n.jsx("div",{className:"space-y-3",children:[...Array(5)].map((e,t)=>n.jsxs("div",{className:"flex gap-3",children:[n.jsx(C,{className:"h-4 w-4 rounded-full flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(C,{className:"h-3 w-32"}),n.jsx(C,{className:"h-4 w-full"})]})]},t))})})]})}function hUe(){return n.jsx(X,{children:n.jsx(Q,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-muted/50 border-b",children:n.jsx("tr",{children:[...Array(8)].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(5)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C,{className:"h-12 w-12 rounded-lg flex-shrink-0"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-40"}),n.jsx(C,{className:"h-3 w-24"})]})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-16"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-24 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"})]})})]},t))})]})})})})}function pUe(){return n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0",children:n.jsx("div",{className:"grid w-full grid-cols-4 min-w-[600px] sm:min-w-0 lg:w-auto lg:inline-grid bg-muted rounded-lg p-1",children:[...Array(4)].map((e,t)=>n.jsx("div",{className:"flex items-center justify-center py-2 px-4",children:n.jsx(C,{className:"h-4 w-20"})},t))})})})}function xUe(){return n.jsxs(ct,{title:"Loading...",children:[n.jsx("div",{className:"mb-6 flex items-center gap-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-2"}),n.jsx(C,{className:"h-4 w-32"})]})}),n.jsx(dUe,{}),n.jsx(pUe,{}),n.jsxs("div",{className:"space-y-6 mt-6",children:[n.jsx(uUe,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx(fUe,{}),n.jsx(mUe,{})]})]})]})}function gUe(){return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[n.jsx(C,{className:"h-7 w-64"}),n.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[n.jsx(C,{className:"h-9 w-32 rounded-md"}),n.jsx(C,{className:"h-9 w-28 rounded-md"})]})]}),n.jsx(hUe,{})]})}var A3="Collapsible",[vUe,kQ]=ea(A3),[yUe,E3]=vUe(A3),TQ=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c=!1,d]=Ia({prop:s,defaultProp:a,onChange:o});return n.jsx(yUe,{scope:r,disabled:i,contentId:ai(),open:c,onOpenToggle:v.useCallback(()=>d(u=>!u),[d]),children:n.jsx(ft.div,{"data-state":k3(c),"data-disabled":i?"":void 0,...l,ref:t})})});TQ.displayName=A3;var OQ="CollapsibleTrigger",DQ=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,...s}=e,a=E3(OQ,r);return n.jsx(ft.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":k3(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:He(e.onClick,a.onOpenToggle)})});DQ.displayName=OQ;var P3="CollapsibleContent",IQ=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=E3(P3,e.__scopeCollapsible);return n.jsx(as,{present:r||a.open,children:({present:i})=>n.jsx(jUe,{...s,ref:t,present:i})})});IQ.displayName=P3;var jUe=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:s,children:a,...i}=e,o=E3(P3,r),[l,c]=v.useState(s),d=v.useRef(null),u=It(t,d),f=v.useRef(0),m=f.current,h=v.useRef(0),x=h.current,p=o.open||l,g=v.useRef(p),j=v.useRef();return v.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),ss(()=>{const y=d.current;if(y){j.current=j.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();f.current=w.height,h.current=w.width,g.current||(y.style.transitionDuration=j.current.transitionDuration,y.style.animationName=j.current.animationName),c(s)}},[o.open,s]),n.jsx(ft.div,{"data-state":k3(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:p&&a})});function k3(e){return e?"open":"closed"}var bUe=TQ,wUe=DQ,NUe=IQ,md="Accordion",_Ue=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[T3,SUe,CUe]=Tv(md),[K2,Ynt]=ea(md,[CUe,kQ]),O3=kQ(),RQ=z.forwardRef((e,t)=>{const{type:r,...s}=e,a=s,i=s;return n.jsx(T3.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?n.jsx(kUe,{...i,ref:t}):n.jsx(PUe,{...a,ref:t})})});RQ.displayName=md;var[MQ,AUe]=K2(md),[FQ,EUe]=K2(md,{collapsible:!1}),PUe=z.forwardRef((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=Ia({prop:r,defaultProp:s,onChange:a});return n.jsx(MQ,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:z.useCallback(()=>i&&c(""),[i,c]),children:n.jsx(FQ,{scope:e.__scopeAccordion,collapsible:i,children:n.jsx($Q,{...o,ref:t})})})}),kUe=z.forwardRef((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},...i}=e,[o=[],l]=Ia({prop:r,defaultProp:s,onChange:a}),c=z.useCallback(u=>l((f=[])=>[...f,u]),[l]),d=z.useCallback(u=>l((f=[])=>f.filter(m=>m!==u)),[l]);return n.jsx(MQ,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:n.jsx(FQ,{scope:e.__scopeAccordion,collapsible:!0,children:n.jsx($Q,{...i,ref:t})})})}),[TUe,Y2]=K2(md),$Q=z.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:s,dir:a,orientation:i="vertical",...o}=e,l=z.useRef(null),c=It(l,t),d=SUe(r),f=om(a)==="ltr",m=He(e.onKeyDown,h=>{var A;if(!_Ue.includes(h.key))return;const x=h.target,p=d().filter(E=>{var P;return!((P=E.ref.current)!=null&&P.disabled)}),g=p.findIndex(E=>E.ref.current===x),j=p.length;if(g===-1)return;h.preventDefault();let y=g;const w=0,b=j-1,N=()=>{y=g+1,y>b&&(y=w)},_=()=>{y=g-1,y<w&&(y=b)};switch(h.key){case"Home":y=w;break;case"End":y=b;break;case"ArrowRight":i==="horizontal"&&(f?N():_());break;case"ArrowDown":i==="vertical"&&N();break;case"ArrowLeft":i==="horizontal"&&(f?_():N());break;case"ArrowUp":i==="vertical"&&_();break}const S=y%j;(A=p[S].ref.current)==null||A.focus()});return n.jsx(TUe,{scope:r,disabled:s,direction:a,orientation:i,children:n.jsx(T3.Slot,{scope:r,children:n.jsx(ft.div,{...o,"data-orientation":i,ref:c,onKeyDown:s?void 0:m})})})}),Sw="AccordionItem",[OUe,D3]=K2(Sw),LQ=z.forwardRef((e,t)=>{const{__scopeAccordion:r,value:s,...a}=e,i=Y2(Sw,r),o=AUe(Sw,r),l=O3(r),c=ai(),d=s&&o.value.includes(s)||!1,u=i.disabled||e.disabled;return n.jsx(OUe,{scope:r,open:d,disabled:u,triggerId:c,children:n.jsx(bUe,{"data-orientation":i.orientation,"data-state":HQ(d),...l,...a,ref:t,disabled:u,open:d,onOpenChange:f=>{f?o.onItemOpen(s):o.onItemClose(s)}})})});LQ.displayName=Sw;var BQ="AccordionHeader",UQ=z.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=Y2(md,r),i=D3(BQ,r);return n.jsx(ft.h3,{"data-orientation":a.orientation,"data-state":HQ(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:t})});UQ.displayName=BQ;var fP="AccordionTrigger",VQ=z.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=Y2(md,r),i=D3(fP,r),o=EUe(fP,r),l=O3(r);return n.jsx(T3.ItemSlot,{scope:r,children:n.jsx(wUe,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...s,ref:t})})});VQ.displayName=fP;var zQ="AccordionContent",WQ=z.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=Y2(md,r),i=D3(zQ,r),o=O3(r);return n.jsx(NUe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});WQ.displayName=zQ;function HQ(e){return e?"open":"closed"}var DUe=RQ,IUe=LQ,RUe=UQ,qQ=VQ,GQ=WQ;const KQ=DUe,I3=v.forwardRef(({className:e,...t},r)=>n.jsx(IUe,{ref:r,className:ge("border-b",e),...t}));I3.displayName="AccordionItem";const R3=v.forwardRef(({className:e,children:t,...r},s)=>n.jsx(RUe,{className:"flex",children:n.jsxs(qQ,{ref:s,className:ge("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,n.jsx(Au,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));R3.displayName=qQ.displayName;const M3=v.forwardRef(({className:e,children:t,...r},s)=>n.jsx(GQ,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:n.jsx("div",{className:ge("pb-4 pt-0",e),children:t})}));M3.displayName=GQ.displayName;function MUe({open:e,onOpenChange:t,issueId:r,productName:s,onIssueCreated:a}){const[i,o]=v.useState(null),[l,c]=v.useState([]),[d,u]=v.useState(!1),[f,m]=v.useState(""),[h,x]=v.useState(!1),[p,g]=v.useState(!1),j=_=>{const S=(_||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`);if(!S.trim())return{main:"",quoted:""};const A=[],E=S.search(/\nOn\s.+\swrote:\s*\n/i);E!==-1&&A.push({idx:E});const P=S.search(/\nFrom:\s.+\nSent:\s.+\nTo:\s.+\nSubject:\s.+\n/i);P!==-1&&A.push({idx:P});const D=S.search(/\n>\s?/);if(D!==-1&&A.push({idx:D}),A.length===0)return{main:S.trim(),quoted:""};const I=Math.min(...A.map(F=>F.idx)),W=S.slice(0,I).trim(),H=S.slice(I).trim();return{main:W,quoted:H}};v.useEffect(()=>{if(!e||!r){o(null),c([]);return}let _=!1,S;const A=async E=>{try{E&&u(!0);const[P,D]=await Promise.all([Cr.getIssue(r),Cr.getConversation(r)]);_||(o(P),c(D.conversation||[]),g(P.ai_activated||!1))}catch(P){E&&(console.error("Failed to fetch data:",P),Ue.error("Failed to load communication log"))}finally{E&&!_&&u(!1)}};return A(!0),S=window.setInterval(()=>{A(!1)},8e3),()=>{_=!0,S&&window.clearInterval(S)}},[e,r]);const y=async()=>{var S,A;if(!i)return;const _=!p;g(_);try{if(_){const E=await Cr.activateAIEmail(i.id);if((S=E.data)!=null&&S.success){Ue.success("AI Chatbot activated and email sent to vendor");const P=await Cr.getIssue(i.id);o(P);const D=await Cr.getConversation(i.id);c(D.conversation||[])}else throw new Error(((A=E.data)==null?void 0:A.message)||"Failed to activate AI")}else{await Cr.updateIssue(i.id,{ai_activated:!1}),Ue.info("AI Chatbot paused");const E=await Cr.getIssue(i.id);o(E)}}catch(E){console.error("Failed to toggle AI:",E),Ue.error(E.message||"Failed to update AI status"),g(!_)}},w=async()=>{var _,S,A;if(!(!f.trim()||!i)){x(!0);try{await Cr.sendManualMessage(i.id,{message:f,to_email:((_=i.vendor_details)==null?void 0:_.email)||""});const E=await Cr.getConversation(i.id);c(E.conversation||[]),m(""),Ue.success("Message sent to vendor successfully")}catch(E){console.error("Failed to send message:",E),Ue.error(((A=(S=E.response)==null?void 0:S.data)==null?void 0:A.message)||"Failed to send message to vendor")}finally{x(!1)}}},N=(()=>{const _=l||[],S=_.filter(P=>P.sender==="AI").length,A=_.filter(P=>P.sender==="Vendor").length,E=_.filter(P=>P.sender==="System"||P.sender==="Admin").length;return{total:_.length,aiMessages:S,vendorMessages:A,systemMessages:E}})();return r?n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(qr,{className:"max-w-4xl h-[85vh] overflow-hidden flex flex-col gap-0 p-0",children:[n.jsx(Jr,{className:"px-6 pt-6 pb-4 border-b bg-gradient-to-r from-primary/5 to-transparent shrink-0",children:n.jsxs(en,{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(ys,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:"AI Resolution"}),n.jsx("div",{className:"text-xs font-normal text-muted-foreground",children:s||"Product"})]})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"AI Chatbot"}),n.jsx(Tn,{checked:p,onCheckedChange:y,disabled:!i})]})})]})}),d?n.jsxs("div",{className:"flex-1 min-h-0 overflow-hidden flex flex-col",children:[n.jsx("div",{className:"px-6 py-3 bg-muted/30 border-b shrink-0",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-3.5 w-3.5 rounded-full"}),n.jsx(C,{className:"h-4 w-6"}),n.jsx(C,{className:"h-3 w-12"})]}),n.jsx("div",{className:"h-4 w-px bg-border"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-3.5 w-3.5 rounded-full"}),n.jsx(C,{className:"h-4 w-6"}),n.jsx(C,{className:"h-3 w-8"})]}),n.jsx("div",{className:"h-4 w-px bg-border"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-3.5 w-3.5 rounded-full"}),n.jsx(C,{className:"h-4 w-6"}),n.jsx(C,{className:"h-3 w-16"})]}),n.jsx("div",{className:"h-4 w-px bg-border"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-3.5 w-3.5 rounded-full"}),n.jsx(C,{className:"h-4 w-6"}),n.jsx(C,{className:"h-3 w-14"})]})]}),n.jsx(C,{className:"h-6 w-20 rounded-full"})]})}),n.jsxs("div",{className:"flex-1 min-h-0 overflow-hidden flex flex-col px-6 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3 shrink-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-32"})]}),n.jsx(C,{className:"h-3 w-48"})]}),n.jsx("div",{className:"space-y-2.5",children:[1,2,3].map(_=>n.jsxs("div",{className:"flex gap-2.5 p-3 rounded-lg border bg-muted/50",children:[n.jsx(C,{className:"w-7 h-7 rounded-full shrink-0"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-12 rounded"}),n.jsx(C,{className:"h-5 w-16 rounded"}),n.jsx(C,{className:"h-3 w-24"})]}),n.jsx(C,{className:"h-3 w-full"}),n.jsx(C,{className:"h-3 w-5/6"}),n.jsx(C,{className:"h-3 w-4/6"})]})]},_))}),n.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t shrink-0",children:[n.jsx(C,{className:"h-9 flex-1 rounded-md"}),n.jsx(C,{className:"h-9 w-9 rounded-md"})]})]})]}):n.jsxs("div",{className:"flex-1 min-h-0 overflow-hidden flex flex-col",children:[n.jsx("div",{className:"px-6 py-3 bg-muted/30 border-b shrink-0",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rl,{className:"h-3.5 w-3.5 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium",children:N.total}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Total"})]}),n.jsx("div",{className:"h-4 w-px bg-border"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ys,{className:"h-3.5 w-3.5 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:N.aiMessages}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"AI"})]}),n.jsx("div",{className:"h-4 w-px bg-border"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($n,{className:"h-3.5 w-3.5 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium",children:N.vendorMessages}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Vendor"})]}),n.jsx("div",{className:"h-4 w-px bg-border"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(St,{className:"h-3.5 w-3.5 text-orange-500"}),n.jsx("span",{className:"text-sm font-medium",children:N.systemMessages}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"System"})]})]}),p&&n.jsxs(Ae,{variant:"default",className:"gap-1.5 px-2.5 py-1",children:[n.jsx(Ho,{className:"h-3 w-3 animate-pulse"}),n.jsx("span",{className:"text-xs",children:"AI Active"})]})]})}),n.jsxs("div",{className:"flex-1 min-h-0 overflow-hidden flex flex-col px-6 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3 shrink-0",children:[n.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[n.jsx(rl,{className:"h-4 w-4"}),"Communication Log"]}),p&&n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1.5",children:[n.jsx(Ho,{className:"h-3 w-3 text-primary"}),"AI is actively managing this conversation"]})]}),n.jsx(ic,{className:"flex-1 pr-3",children:n.jsxs("div",{className:"space-y-2.5",children:[l&&l.length>0?l.map((_,S)=>{const A=_.message.toLowerCase().includes("please arrange")||_.message.toLowerCase().includes("action required")||_.message.toLowerCase().includes("human action");return n.jsxs("div",{className:ge("flex gap-2.5 p-3 rounded-lg border transition-all hover:shadow-sm",_.sender==="AI"&&"bg-primary/5 border-primary/20",_.sender==="Vendor"&&"bg-muted/50 border-border",_.sender==="System"&&"bg-orange-50 border-orange-200",A&&"border-2 border-orange-400 shadow-sm"),children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:ge("w-7 h-7 rounded-full flex items-center justify-center",_.sender==="AI"&&"bg-primary text-primary-foreground",_.sender==="Vendor"&&"bg-slate-600 text-white",_.sender==="System"&&"bg-orange-500 text-white"),children:_.sender==="AI"?n.jsx(ys,{className:"h-3.5 w-3.5"}):_.sender==="Vendor"?n.jsx($n,{className:"h-3.5 w-3.5"}):n.jsx(St,{className:"h-3.5 w-3.5"})})}),n.jsxs("div",{className:"flex-1 space-y-1.5 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ae,{variant:_.sender==="AI"?"default":"outline",className:ge("text-[10px] px-1.5 py-0 h-5",A&&"bg-orange-500 text-white border-orange-500"),children:_.sender}),A&&n.jsxs(Ae,{variant:"outline",className:"text-[10px] px-1.5 py-0 h-5 bg-orange-50 text-orange-600 border-orange-300",children:[n.jsx(St,{className:"h-2.5 w-2.5 mr-1"}),"Action Required"]}),_.message_type==="email"&&n.jsx(Ae,{variant:"outline",className:"text-[10px] px-1.5 py-0 h-5",children:"Email"}),n.jsx("span",{className:"text-[10px] text-muted-foreground",children:new Date(_.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),_.subject&&n.jsx("p",{className:"text-xs font-semibold text-foreground line-clamp-1",children:_.subject}),(()=>{const E=_.message_type==="email"||!!_.subject,{main:P,quoted:D}=E?j(_.message):{main:_.message,quoted:""};return n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("p",{className:ge("text-xs whitespace-pre-wrap leading-relaxed text-foreground/90",A&&"font-medium"),children:P}),D&&n.jsx(KQ,{type:"single",collapsible:!0,children:n.jsxs(I3,{value:"quoted",className:"border-0",children:[n.jsx(R3,{className:"py-1.5 text-[10px] text-muted-foreground hover:no-underline",children:"Show previous email"}),n.jsx(M3,{children:n.jsx("div",{className:"text-[10px] text-muted-foreground whitespace-pre-wrap leading-relaxed bg-muted/30 p-2 rounded",children:D})})]})})]})})()]})]},S)}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx("div",{className:"p-3 rounded-full bg-muted mb-3",children:n.jsx(rl,{className:"h-8 w-8 text-muted-foreground"})}),n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"No messages yet"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Start the conversation below"})]}),h&&n.jsxs("div",{className:"flex gap-2.5 p-3 rounded-lg border bg-primary/5 border-primary/20 animate-pulse",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-7 h-7 rounded-full flex items-center justify-center bg-primary text-primary-foreground",children:n.jsx(ys,{className:"h-3.5 w-3.5"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Ae,{variant:"default",className:"text-[10px] px-1.5 py-0 h-5 mb-1.5",children:"AI"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Processing your message..."})]})]})]})}),n.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t shrink-0",children:[n.jsx(fe,{placeholder:"Type your message...",value:f,onChange:_=>m(_.target.value),onKeyPress:_=>_.key==="Enter"&&!_.shiftKey&&w(),disabled:!i,className:"text-sm"}),n.jsx(re,{onClick:w,size:"icon",disabled:!i||!f.trim(),className:"shrink-0",children:n.jsx(Pk,{className:"h-4 w-4"})})]})]})]})]})}):n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(qr,{className:"max-w-2xl",children:[n.jsxs(Jr,{children:[n.jsx(en,{children:"No Issue Found"}),n.jsx(is,{children:"This product doesn't have an associated issue yet. Please create an issue first to use AI communication."})]}),n.jsx("div",{className:"flex justify-end gap-2",children:n.jsx(re,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})})}const FUe=()=>{var ky,Ty;const{id:e}=Yi(),t=ur(),{toast:r}=xr(),{data:s,isLoading:a,error:i}=c3(e||null),{data:o,isLoading:l,error:c,refetch:d}=PBe(e||null),u=o||[],{data:f,isLoading:m}=uBe(e||null),{data:h=[],isLoading:x}=fBe(e||null),p=TBe(),g=zX(),[j,y]=v.useState({open:!1,id:"",name:"",apartmentId:""}),w=Me=>{const U=Me.getFullYear(),ne=String(Me.getMonth()+1).padStart(2,"0"),J=String(Me.getDate()).padStart(2,"0");return`${U}-${ne}-${J}`},b=[],N="";v.useState("");const[_,S]=v.useState(N),[A,E]=v.useState(!1),[P,D]=v.useState(!1),[I,W]=v.useState(""),[H,F]=v.useState(""),[T,k]=v.useState(!1),[M,O]=v.useState(null),[K,se]=v.useState(!1),[R,V]=v.useState(null),[L,G]=v.useState(!1),[le,me]=v.useState(null),[B,Y]=v.useState(!1),[oe,Ne]=v.useState(null),[ue,ve]=v.useState(!1),[xe,Ee]=v.useState(null),[Fe,Oe]=v.useState(!1),[ae,he]=v.useState(null),[ce,je]=v.useState(!1),[Le,Ie]=v.useState(null),[de,Re]=v.useState(!1),[it,bt]=v.useState(null),[Qe,ye]=v.useState(!1),[Ge,At]=v.useState(null),[Pt,fr]=v.useState(!1),[jr,Pn]=v.useState(null),{data:gr}=m3({apartment:e}),kr=h3(),jt=IBe(),Mt=(Me,U)=>{y({open:!0,id:Me,name:U,apartmentId:e||""})},Jt=async()=>{try{await p.mutateAsync({id:j.id,name:j.name,apartmentId:j.apartmentId}),y({open:!1,id:"",name:"",apartmentId:""})}catch{y({open:!1,id:"",name:"",apartmentId:""})}};if(a)return n.jsx(xUe,{});if(i)return n.jsx(ct,{title:"Error",children:n.jsx("div",{className:"container mx-auto py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(St,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),n.jsx("h2",{className:"text-2xl font-semibold text-destructive mb-2",children:"Error loading apartment"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Unable to fetch apartment details. Please try again."}),n.jsxs(re,{onClick:()=>t("/apartments"),className:"mt-4",children:[n.jsx(rr,{className:"mr-2 h-4 w-4"}),"Back to Apartments"]})]})})});if(!s)return n.jsx(ct,{title:"Not Found",children:n.jsx("div",{className:"container mx-auto py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground",children:"Apartment not found"}),n.jsxs(re,{onClick:()=>t("/apartments"),className:"mt-4",children:[n.jsx(rr,{className:"mr-2 h-4 w-4"}),"Back to Apartments"]})]})})});const Bn=()=>{window.confirm(`Are you sure you want to delete "${s.name}"?`)&&(r({title:"Success",description:"Apartment deleted successfully"}),t("/apartments"))},ls=()=>{r({title:"Success",description:"Note saved"})},$s=async(Me,U)=>{try{await g.mutateAsync({id:Me,data:U}),d()}catch{r({title:"Error",description:"Failed to update product",variant:"destructive"})}},pd=(f==null?void 0:f.total_items)||0,Zi=(f==null?void 0:f.ordered_items)||0,bm=(f==null?void 0:f.delivered_items)||0,u_=(f==null?void 0:f.open_issues)||0,f_=(f==null?void 0:f.total_value)||0,m_=(f==null?void 0:f.total_paid)||0,h_=(f==null?void 0:f.outstanding_balance)||0,p_=(f==null?void 0:f.overdue_payments)||0,yx=Me=>{const U=Me.toLowerCase();return U.includes("delivered")||U.includes("closed")||U.includes("paid")||U.includes("completed")?"bg-green-500/10 text-green-500":U.includes("issue")||U.includes("damaged")||U.includes("wrong")||U.includes("missing")||U.includes("overdue")?"bg-red-500/10 text-red-500":U.includes("waiting")||U.includes("pending")||U.includes("partial")?"bg-yellow-500/10 text-yellow-500":U.includes("ordered")||U.includes("shipped")||U.includes("transit")||U.includes("ordering")?"bg-blue-500/10 text-blue-500":U.includes("planning")?"bg-purple-500/10 text-purple-500":"bg-gray-500/10 text-gray-500"};return n.jsxs(ct,{title:s.name,children:[n.jsx("div",{className:"mb-6 flex items-center gap-3",children:n.jsx(Fa,{children:n.jsxs($a,{children:[n.jsx(er,{children:n.jsx(Qn,{asChild:!0,children:n.jsx(zi,{to:"/apartments",children:"Apartments"})})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(pi,{children:s.name})})]})})}),n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4 mb-4",children:[n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>t("/apartments"),className:"flex items-center gap-1",children:n.jsx(rr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-3",children:s.name}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[n.jsx(Ae,{className:s.type==="furnishing"?"bg-primary":"bg-accent",children:s.type==="furnishing"?"Furnishing":"Renovating"}),n.jsx(Ae,{className:yx(s.status),children:s.status})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>t(`/apartments/${s.id}/edit`),children:[n.jsx(Ys,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),n.jsxs(re,{variant:"destructive",size:"sm",onClick:Bn,children:[n.jsx(xn,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]})}),n.jsxs(To,{defaultValue:"overview",className:"space-y-6",children:[n.jsx("div",{className:"overflow-x-auto -mx-4 px-4 sm:mx-0 sm:px-0",children:n.jsxs(Qi,{className:"grid w-full grid-cols-4 min-w-[600px] sm:min-w-0 lg:w-auto lg:inline-grid",children:[n.jsx(Ut,{value:"overview",className:"text-xs sm:text-sm",children:"Overview"}),n.jsx(Ut,{value:"products",className:"text-xs sm:text-sm",children:"Products & Procurement logs"}),n.jsx(Ut,{value:"notes",className:"text-xs sm:text-sm",children:"Notes (AI)"}),n.jsx(Ut,{value:"activity",className:"text-xs sm:text-sm",children:"Activity"})]})}),n.jsxs(Yt,{value:"overview",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(lt,{className:"h-4 w-4 text-primary"}),"Total Items"]})}),n.jsx(Q,{children:m?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-8 w-20 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded mt-2"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold",children:pd}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[Zi," ordered, ",bm," delivered"]})]})})]}),n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(ni,{className:"h-4 w-4 text-success"}),"Total Order Value"]})}),n.jsx(Q,{children:m?n.jsx("div",{className:"h-8 w-32 bg-muted animate-pulse rounded"}):n.jsxs("div",{className:"text-2xl font-bold",children:[f_.toLocaleString()," HUF"]})})]}),n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Nr,{className:"h-4 w-4 text-warning"}),"Outstanding Balance"]})}),n.jsx(Q,{children:m?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-8 w-32 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-3 w-28 bg-muted animate-pulse rounded mt-2"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:[h_.toLocaleString()," HUF"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Paid: ",m_.toLocaleString()," HUF"]})]})})]}),n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(St,{className:"h-4 w-4 text-red-500"}),"Open Issues"]})}),n.jsx(Q,{children:m?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"h-8 w-16 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded mt-2"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-2xl font-bold",children:u_}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[p_," overdue payments"]})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(X,{className:"lg:col-span-2",children:[n.jsx(we,{children:n.jsx(Ve,{children:"Apartment Details"})}),n.jsx(Q,{className:"space-y-3",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Client"}),n.jsx("p",{className:"font-medium",children:((ky=s.client_details)==null?void 0:ky.name)||s.owner||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Designer"}),n.jsx("p",{className:"font-medium",children:s.designer||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Address"}),n.jsx("p",{className:"font-medium",children:s.address})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Status"}),n.jsx("p",{className:"font-medium",children:s.status})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Start Date"}),n.jsx("p",{className:"font-medium",children:s.start_date?new Date(s.start_date).toLocaleDateString():"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Due Date"}),n.jsx("p",{className:"font-medium",children:s.due_date?new Date(s.due_date).toLocaleDateString():"N/A"})]})]})})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsx(Ve,{children:"Recent Activity"})}),n.jsx(Q,{children:x?n.jsx("div",{className:"space-y-3",children:[...Array(5)].map((Me,U)=>n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"h-4 w-4 rounded-full bg-muted animate-pulse flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-3 w-32 bg-muted animate-pulse rounded"}),n.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"})]})]},U))}):n.jsxs("div",{className:"space-y-3",children:[h.slice(0,5).map(Me=>n.jsxs("div",{className:"flex gap-3 text-sm",children:[n.jsx("div",{className:"flex-shrink-0 mt-0.5",children:n.jsx(Vr,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(Me.timestamp).toLocaleString()}),n.jsx("p",{className:"leading-tight",children:Me.summary})]})]},Me.id)),h.length===0&&n.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No activity yet"})]})})]})]})]}),n.jsxs(Yt,{value:"products",className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[n.jsxs("h2",{className:"text-lg sm:text-xl font-semibold",children:["Product & Procurement Log (",u.length,")"]}),n.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[n.jsxs(re,{variant:"outline",size:"sm",className:"flex-1 sm:flex-none",onClick:()=>t(`/products/import?apartmentId=${e}`),children:[n.jsx(Vi,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Import Excel/CSV"}),n.jsx("span",{className:"sm:hidden",children:"Import"})]}),n.jsxs(re,{size:"sm",className:"flex-1 sm:flex-none",onClick:()=>t(`/products/new?apartmentId=${e}`),children:[n.jsx(Kn,{className:"mr-2 h-4 w-4"}),"Add Product"]})]})]}),l?n.jsx(gUe,{}):u.length===0?n.jsx(X,{children:n.jsxs(Q,{className:"py-12 text-center",children:[n.jsx(lt,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No products yet"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first furniture item to get started"}),n.jsxs(re,{onClick:()=>t(`/products/new?apartmentId=${e}`),children:[n.jsx(Kn,{className:"mr-2 h-4 w-4"}),"Add Product"]})]})}):n.jsx(X,{children:n.jsx(Q,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Ds,{children:[n.jsx(Is,{children:n.jsxs(Bt,{children:[n.jsx(Te,{className:"w-16",children:"Image"}),n.jsx(Te,{className:"min-w-[140px]",children:"Product Name"}),n.jsx(Te,{className:"min-w-[140px]",children:"Vendor"}),n.jsx(Te,{className:"min-w-[140px]",children:"SKU"}),n.jsx(Te,{className:"text-right min-w-[140px]",children:"Unit Price"}),n.jsx(Te,{className:"text-center min-w-[140px]",children:"Qty"}),n.jsx(Te,{className:"text-right min-w-[140px]",children:"Total"}),n.jsx(Te,{className:"min-w-[140px]",children:"Product Status"}),n.jsx(Te,{className:"min-w-[140px]",children:"Ordered On"}),n.jsx(Te,{className:"min-w-[140px]",children:"Delivery Status"}),n.jsx(Te,{className:"min-w-[140px]",children:"Expected Delivery"}),n.jsx(Te,{className:"min-w-[200px]",children:"Delivery Location"}),n.jsx(Te,{className:"min-w-[140px]",children:"Actual Delivery"}),n.jsx(Te,{className:"min-w-[140px]",children:"Payment Status"}),n.jsx(Te,{className:"min-w-[140px]",children:"Payment Due"}),n.jsx(Te,{className:"min-w-[140px]",children:"Issue State"}),n.jsx(Te,{className:"min-w-[140px]",children:"Actions / Chatbot"}),n.jsx(Te,{className:"text-center min-w-[140px]",children:"Actions"})]})}),n.jsx(Rs,{children:u.map(Me=>{var J,te,ie;const U=Array.isArray(Me.status)?Me.status:[],ne=U.includes("Delivered")||U.includes("Closed")?"bg-green-500/5":U.includes("Damaged")||U.includes("Wrong Item")||U.includes("Missing")?"bg-red-500/5":U.includes("Shipped")||U.includes("Ordered")?"bg-blue-500/5":U.includes("Waiting For Stock")?"bg-yellow-500/5":"";return parseFloat(Me.payment_amount||"0")-parseFloat(Me.paid_amount||"0"),n.jsxs(Bt,{className:ne,children:[n.jsx(Se,{children:Me.product_image?n.jsx("img",{src:Me.product_image,alt:Me.product,className:"h-10 w-10 rounded object-cover"}):n.jsx("div",{className:"h-10 w-10 rounded bg-muted flex items-center justify-center",children:n.jsx(Ui,{className:"h-5 w-5 text-muted-foreground"})})}),n.jsx(Se,{children:Me.link?n.jsxs("a",{href:Me.link,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-primary hover:underline flex items-center gap-1 cursor-pointer",title:"Click to view product page",children:[Me.product,n.jsx(Ak,{className:"h-3 w-3 flex-shrink-0"})]}):n.jsx("span",{className:"font-medium text-muted-foreground",children:Me.product})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(re,{variant:"link",className:"p-0 h-auto text-primary hover:underline",onClick:()=>{W(Me.vendor_name||"Not Assigned"),F(Me.id),D(!1),E(!0)},children:Me.vendor_name||n.jsx("span",{className:"text-muted-foreground italic",children:"Not Assigned"})}),n.jsx(re,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{W(Me.vendor_name||"Not Assigned"),F(Me.id),D(!0),E(!0)},children:n.jsx(Mv,{className:"h-3 w-3"})})]})}),n.jsx(Se,{children:n.jsx(re,{variant:"link",className:"p-0 h-auto font-mono text-xs text-primary hover:underline",onClick:()=>{me(Me),G(!0)},children:Me.sku||n.jsx("span",{className:"text-muted-foreground italic",children:"Add SKU"})})}),n.jsx(Se,{className:"text-right",children:n.jsxs(re,{variant:"link",className:"p-0 h-auto text-primary hover:underline",onClick:()=>{Ne(Me),Y(!0)},children:[parseFloat(Me.unit_price).toLocaleString()," HUF"]})}),n.jsx(Se,{className:"text-center",children:(()=>{const Z=Me.order_status_info&&Me.order_status_info.length>0?Me.order_status_info.reduce((_e,ke)=>_e+(ke.quantity||0),0):0;return Z>0?n.jsxs("div",{className:"flex flex-col items-center gap-1",children:[n.jsx("span",{className:"font-semibold",children:Z}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"(ordered)"})]}):n.jsx(re,{variant:"link",className:"p-0 h-auto text-primary hover:underline",onClick:()=>{Ee(Me),ve(!0)},children:Me.qty})})()}),n.jsx(Se,{className:"text-right font-semibold",children:(()=>{const Z=Me.order_status_info&&Me.order_status_info.length>0?Me.order_status_info.reduce((be,Ce)=>be+(Ce.quantity||0),0):0,_e=Z>0?Z:Me.qty;return`${(parseFloat(Me.unit_price)*_e).toLocaleString()} HUF`})()}),n.jsx(Se,{children:n.jsx("div",{className:"space-y-1 min-w-[200px]",children:Me.order_status_info&&Me.order_status_info.length>0?Me.order_status_info.map((Z,_e)=>n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(tt,{value:Z.status,onValueChange:async ke=>{try{await es.updateStatus(Z.order_id,ke),r({title:"Success",description:`Order status updated to ${ke}`}),d()}catch{r({title:"Error",description:"Failed to update order status",variant:"destructive"})}},children:[n.jsx(Je,{className:"h-7 w-[100px] text-xs",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"draft",children:"Draft"}),n.jsx(ee,{value:"sent",children:"Sent"}),n.jsx(ee,{value:"cancelled",children:"Cancelled"})]})]}),n.jsx("a",{href:`/orders/${Z.order_id}`,className:"text-xs text-primary hover:underline",title:`View order ${Z.po_number}`,children:Z.po_number}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(Qty: ",Z.quantity,")"]})]},_e)):n.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Not ordered yet"})})}),n.jsx(Se,{children:n.jsx("div",{className:"space-y-1",children:Me.order_status_info&&Me.order_status_info.length>0?Me.order_status_info.map((Z,_e)=>n.jsxs(wh,{children:[n.jsx(Nh,{asChild:!0,children:n.jsxs(re,{variant:"ghost",size:"sm",className:"h-auto p-1 hover:bg-muted flex items-center gap-2",children:[n.jsx(Hr,{className:"h-3 w-3 text-muted-foreground"}),n.jsx("span",{className:"text-xs",children:Z.placed_on?Ht(new Date(Z.placed_on),"MMM dd, yyyy"):"Set date"})]})}),n.jsx(kf,{className:"w-auto p-0",align:"start",children:n.jsx(Fg,{mode:"single",selected:Z.placed_on?new Date(Z.placed_on):void 0,onSelect:async ke=>{if(ke)try{await es.updateOrder(Z.order_id,{placed_on:w(ke)}),r({title:"Success",description:"Order placed date updated"}),d()}catch{r({title:"Error",description:"Failed to update order placed date",variant:"destructive"})}},initialFocus:!0})})]},_e)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})})}),n.jsx(Se,{children:n.jsx("div",{className:"space-y-1 min-w-[200px]",children:Me.delivery_status_info&&Me.delivery_status_info.length>0?Me.delivery_status_info.map((Z,_e)=>n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(re,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>{he(Z),Oe(!0)},children:n.jsx(Ae,{variant:Z.status==="Received"?"default":Z.status==="Returned"?"destructive":Z.status==="In Transit"||Z.status==="Delayed"?"secondary":"outline",className:ge("text-xs",Z.status==="Received"&&"bg-green-500/10 text-green-500",Z.status==="In Transit"&&"bg-blue-500/10 text-blue-500",Z.status==="Confirmed"&&"bg-yellow-500/10 text-yellow-500",Z.status==="Delayed"&&"bg-orange-500/10 text-orange-500",Z.status==="Returned"&&"bg-red-500/10 text-red-500"),children:Z.status})}),n.jsx("a",{href:"/deliveries",className:"text-xs text-primary hover:underline",title:`View delivery ${Z.order_reference}`,children:Z.order_reference}),Z.tracking_number&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(Track: ",Z.tracking_number,")"]}),Z.expected_date&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["ETA: ",new Date(Z.expected_date).toLocaleDateString()]})]},_e)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})})}),n.jsx(Se,{children:n.jsx("div",{className:"space-y-1",children:Me.delivery_status_info&&Me.delivery_status_info.length>0?Me.delivery_status_info.map((Z,_e)=>n.jsxs(wh,{children:[n.jsx(Nh,{asChild:!0,children:n.jsxs(re,{variant:"ghost",size:"sm",className:"h-auto p-1 hover:bg-muted flex items-center gap-2",children:[n.jsx(Hr,{className:"h-3 w-3 text-muted-foreground"}),n.jsx("span",{className:"text-xs",children:Z.expected_date?Ht(new Date(Z.expected_date),"PP"):"Set date"})]})}),n.jsx(kf,{className:"w-auto p-0",align:"start",children:n.jsx(Fg,{mode:"single",selected:Z.expected_date?new Date(Z.expected_date):void 0,onSelect:async ke=>{if(ke)try{await $c.updateDeliveryField(Z.delivery_id,"expected_date",w(ke)),r({title:"Success",description:"Expected delivery date updated"}),d()}catch{r({title:"Error",description:"Failed to update expected delivery date",variant:"destructive"})}},initialFocus:!0})})]},_e)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"No delivery"})})}),n.jsx(Se,{children:n.jsx("div",{className:"space-y-1",children:Me.order_status_info&&Me.order_status_info.length>0?Me.order_status_info.map((Z,_e)=>n.jsxs("div",{className:"flex items-center gap-2 w-full",children:[n.jsx(xa,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),n.jsx(fe,{className:"h-7 text-xs flex-1",placeholder:"Enter delivery address",defaultValue:Z.shipping_address||"",onBlur:async ke=>{const be=ke.target.value;if(be!==Z.shipping_address)try{await es.updateOrder(Z.order_id,{shipping_address:be}),r({title:"Success",description:"Delivery location updated"}),d()}catch{r({title:"Error",description:"Failed to update delivery location",variant:"destructive"})}},onKeyDown:ke=>{ke.key==="Enter"&&ke.currentTarget.blur()}})]},_e)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"No order"})})}),n.jsx(Se,{children:n.jsx("div",{className:"space-y-1",children:Me.delivery_status_info&&Me.delivery_status_info.length>0?Me.delivery_status_info.map((Z,_e)=>n.jsxs(wh,{children:[n.jsx(Nh,{asChild:!0,children:n.jsxs(re,{variant:"ghost",size:"sm",className:"h-auto p-1 hover:bg-muted flex items-center gap-2",children:[n.jsx(Hr,{className:"h-3 w-3 text-muted-foreground"}),n.jsx("span",{className:"text-xs",children:Z.actual_date?Ht(new Date(Z.actual_date),"PP"):"Set date"})]})}),n.jsx(kf,{className:"w-auto p-0",align:"start",children:n.jsx(Fg,{mode:"single",selected:Z.actual_date?new Date(Z.actual_date):void 0,onSelect:async ke=>{if(ke)try{await $c.updateDeliveryField(Z.delivery_id,"actual_date",w(ke)),r({title:"Success",description:"Actual delivery date updated"}),d()}catch{r({title:"Error",description:"Failed to update actual delivery date",variant:"destructive"})}},initialFocus:!0})})]},_e)):n.jsx("span",{className:"text-xs text-muted-foreground",children:"No delivery"})})}),n.jsx(Se,{children:n.jsx("div",{className:"space-y-1",children:Me.order_status_info&&Me.order_status_info.length>0?Me.order_status_info.map((Z,_e)=>{var Pe;const ke=Z.order_id,be=(Pe=gr==null?void 0:gr.results)==null?void 0:Pe.find(qe=>qe.order===ke),Ce=(be==null?void 0:be.status)||"Unpaid";return n.jsxs("div",{className:"flex flex-col gap-0.5",children:[n.jsx(Ae,{variant:Ce==="Paid"?"default":Ce==="Partial"?"secondary":"outline",className:ge("cursor-pointer hover:opacity-80 transition-opacity text-[10px] w-fit",Ce==="Paid"?"bg-green-500/10 text-green-500":Ce==="Partial"?"bg-yellow-500/10 text-yellow-500":"bg-red-500/10 text-red-500"),onClick:()=>{Ce==="Unpaid"?t(`/payments/new?order=${ke}&product=${Me.id}`):be&&(Ie(be),je(!0))},children:Ce}),n.jsx("span",{className:"text-[10px] text-muted-foreground ml-0.5",children:Z.po_number||"N/A"})]},_e)}):n.jsx(Ae,{variant:"outline",className:"bg-gray-500/10 text-gray-500 text-[10px]",children:"No Order"})})}),n.jsx(Se,{children:n.jsx("div",{className:"space-y-1",children:Me.order_status_info&&Me.order_status_info.length>0?Me.order_status_info.map((Z,_e)=>{var Ce;const ke=Z.order_id,be=(Ce=gr==null?void 0:gr.results)==null?void 0:Ce.find(Pe=>Pe.order===ke);return n.jsx("div",{className:"flex flex-col gap-0.5",children:be!=null&&be.due_date?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-[10px] font-medium cursor-pointer hover:text-primary hover:underline",onClick:()=>{bt(be),Re(!0)},children:new Date(be.due_date).toLocaleDateString()}),be.status!=="Paid"&&n.jsx("div",{className:"text-[10px] text-muted-foreground",children:Z.po_number||"N/A"})]}):n.jsx("div",{className:"text-[10px] text-muted-foreground",children:"No payment"})},_e)}):n.jsx("span",{className:"text-[10px] text-muted-foreground",children:"-"})})}),n.jsx(Se,{children:Me.issue_status_info&&Me.issue_status_info.status!=="No Issue"?n.jsx("div",{className:"text-xs text-gray-700 cursor-pointer hover:text-primary hover:underline transition-colors",onClick:()=>{var Z;O(Me),At(((Z=Me.issue_status_info)==null?void 0:Z.issue_id)||null),ye(!0)},children:Me.issue_status_info.type||"Issue reported"}):n.jsx(Ae,{variant:"outline",className:"bg-green-500/10 text-green-500 text-xs cursor-pointer hover:bg-green-500/20 transition-colors",onClick:()=>{O(Me),At(null),ye(!0)},children:"No Issue"})}),n.jsx(Se,{children:n.jsxs(re,{size:"sm",variant:Me.issue_status_info&&Me.issue_status_info.status!=="No Issue"?"default":"outline",onClick:()=>{Pn(Me),fr(!0)},className:ge(((J=Me.issue_status_info)==null?void 0:J.ai_activated)&&"animate-pulse"),children:[n.jsx(ys,{className:ge("mr-1 h-3 w-3",((te=Me.issue_status_info)==null?void 0:te.ai_activated)&&"animate-spin")}),(ie=Me.issue_status_info)!=null&&ie.ai_activated?"AI Active":(Me.issue_status_info&&Me.issue_status_info.status!=="No Issue","AI Chatbot")]})}),n.jsx(Se,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(re,{size:"sm",variant:"ghost",onClick:()=>t(`/products/${Me.id}`),children:n.jsx(ri,{className:"h-4 w-4"})}),n.jsx(re,{size:"sm",variant:"ghost",onClick:()=>t(`/products/${Me.id}/edit`),children:n.jsx(Ys,{className:" h-4 w-4"})}),n.jsx(re,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive",onClick:()=>Mt(Me.id,Me.product),children:n.jsx(xn,{className:"h-4 w-4"})})]})})]},Me.id)})})]})})})})]}),n.jsx(Yt,{value:"notes",className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(X,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Manual Notes"}),n.jsx(Ir,{children:"Add observations or notes about this apartment"})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsx(fa,{value:_,onChange:Me=>S(Me.target.value),rows:10,placeholder:"Enter your notes here..."}),n.jsx(re,{onClick:ls,children:"Save Note"})]})]}),n.jsxs(X,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"AI & Vendor Communication"}),n.jsx(Ir,{children:"AI-generated emails and vendor correspondence"})]}),n.jsx(Q,{children:n.jsxs("div",{className:"space-y-4",children:[b.map(Me=>n.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ae,{variant:Me.sender==="AI"?"default":"outline",children:Me.sender}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(Me.timestamp).toLocaleString()})]})}),Me.emailSubject&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Subject:"}),n.jsx("p",{className:"font-medium text-sm",children:Me.emailSubject})]}),n.jsx("div",{className:"text-sm whitespace-pre-wrap bg-muted/30 p-3 rounded",children:Me.content})]},Me.id)),b.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No AI communications yet"})]})})]})]})}),n.jsxs(Yt,{value:"activity",className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Activity Timeline"}),n.jsx(X,{children:n.jsx(Q,{className:"pt-6",children:n.jsxs("div",{className:"space-y-4",children:[h.map(Me=>n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsxs("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:[Me.icon==="ShoppingCart"&&n.jsx(lt,{className:"h-5 w-5 text-primary"}),Me.icon==="CreditCard"&&n.jsx(Nr,{className:"h-5 w-5 text-primary"}),Me.icon==="Mail"&&n.jsx(yn,{className:"h-5 w-5 text-primary"}),Me.icon==="PackageCheck"&&n.jsx(Vr,{className:"h-5 w-5 text-primary"}),Me.icon==="Package"&&n.jsx(lt,{className:"h-5 w-5 text-primary"})]})}),n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"font-medium text-sm",children:Me.summary}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(Me.timestamp).toLocaleString()})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["by ",Me.actor]})]})]},Me.id)),h.length===0&&n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No activity recorded yet"})]})})})]})]}),n.jsx(U7e,{open:A,onOpenChange:E,vendorName:I,productId:H,openInEditMode:P,onVendorUpdated:(Me,U)=>{$s(H,{vendor:Me,vendor_name:U}),r({title:"Vendor Updated",description:`Product vendor changed to ${U}`}),d()}}),M&&n.jsx(EQ,{open:T,onOpenChange:k,product:M,onIssueUpdated:()=>{}}),n.jsx(aUe,{open:K,onOpenChange:se,product:R}),le&&n.jsx(iUe,{open:L,onOpenChange:G,currentSku:le.sku||"",productId:le.id,productName:le.product,onSkuUpdated:Me=>{$s(le.id,{sku:Me}),r({title:"Success",description:"SKU updated successfully"}),d()}}),oe&&n.jsx(oUe,{open:B,onOpenChange:Y,currentPrice:oe.unit_price||"0",productId:oe.id,productName:oe.product,onPriceUpdated:Me=>{$s(oe.id,{unit_price:Me}),r({title:"Success",description:"Unit price updated successfully"}),d()}}),xe&&n.jsx(lUe,{open:ue,onOpenChange:ve,currentQuantity:xe.qty||"1",productId:xe.id,productName:xe.product,onQuantityUpdated:Me=>{$s(xe.id,{qty:Me}),r({title:"Success",description:"Quantity updated successfully"}),d()}}),ae&&n.jsx(PQ,{open:Fe,onOpenChange:Oe,deliveryId:ae.delivery_id,currentStatus:ae.status,orderReference:ae.order_reference,onStatusUpdated:()=>{d()}}),n.jsx(p3,{payment:Le,open:ce,onOpenChange:je,onSave:async(Me,U,ne,J)=>{try{await kr.mutateAsync({payment:Le.id,date:new Date().toISOString().split("T")[0],amount:Me,method:U,reference_no:ne,note:J}),r({title:"Success",description:"Payment recorded successfully"}),je(!1),d()}catch{r({title:"Error",description:"Failed to record payment",variant:"destructive"})}}}),n.jsx(FBe,{payment:it,open:de,onOpenChange:Re,onUpdate:async(Me,U)=>{try{await jt.mutateAsync({id:Me,data:{due_date:U}}),r({title:"Success",description:"Payment due date updated successfully"}),d()}catch(ne){throw r({title:"Error",description:"Failed to update payment due date",variant:"destructive"}),ne}}}),n.jsx(YBe,{product:M,apartmentId:e||"",existingIssueId:Ge,open:Qe,onOpenChange:Me=>{ye(Me),Me||At(null)},onSubmit:async(Me,U)=>{var ne,J;try{U?(await Cr.updateIssue(U,Me),r({title:"Success",description:"Issue updated successfully"})):(await Cr.createIssue(Me),r({title:"Success",description:"Issue reported successfully"})),d()}catch(te){throw r({title:"Error",description:((J=(ne=te.response)==null?void 0:ne.data)==null?void 0:J.message)||`Failed to ${U?"update":"report"} issue`,variant:"destructive"}),te}}}),n.jsx(MUe,{open:Pt,onOpenChange:fr,issueId:((Ty=jr==null?void 0:jr.issue_status_info)==null?void 0:Ty.issue_id)||null,productName:(jr==null?void 0:jr.product)||"Product",onIssueCreated:Me=>{d()}}),n.jsx(cc,{open:j.open,onOpenChange:Me=>!Me&&y({open:!1,id:"",name:"",apartmentId:""}),children:n.jsxs(xl,{children:[n.jsx(gl,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(xn,{className:"h-5 w-5 text-destructive"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(yl,{children:"Delete Product"}),n.jsxs(jl,{children:['Are you sure you want to delete "',j.name,'"? This action cannot be undone.']})]})]})}),n.jsxs(vl,{children:[n.jsx(wl,{onClick:()=>y({open:!1,id:"",name:"",apartmentId:""}),children:"Cancel"}),n.jsx(bl,{onClick:Jt,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",autoFocus:!0,children:"Delete"})]})]})})]})};function $Ue(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-12"})]})}function LUe(){return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-10 w-10 rounded-md"}),n.jsx(C,{className:"h-9 w-48"})]})}function BUe(){return n.jsxs(X,{children:[n.jsx(we,{children:n.jsx(C,{className:"h-6 w-40"})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(C,{className:"h-5 w-24 rounded-full"}),n.jsx(C,{className:"h-5 w-24 rounded-full"})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-36"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-24 w-full rounded-md"})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})]})]})}function UUe(){return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx($Ue,{}),n.jsx(LUe,{}),n.jsx(BUe,{})]})})}const VUe=()=>{const{id:e}=Yi(),t=ur(),{toast:r}=xr(),{data:s,isLoading:a,error:i}=c3(e||null),{data:o,isLoading:l}=H2({}),c=(o==null?void 0:o.results)||[],d=cBe(),[u,f]=v.useState({name:"",type:"furnishing",client:"",address:"",designer:"",status:"Planning",start_date:"",due_date:"",notes:"",progress:0}),[m,h]=v.useState({});if(v.useEffect(()=>{s&&f({name:s.name,type:s.type,client:s.client||s.client_id||"",address:s.address,designer:s.designer,status:s.status,start_date:s.start_date,due_date:s.due_date,notes:s.notes||"",progress:s.progress})},[s]),a)return n.jsx(UUe,{});if(i||!s)return n.jsx(ct,{title:"Apartment Not Found",children:n.jsx(X,{children:n.jsxs(Q,{className:"py-8",children:[n.jsx("p",{className:"text-center text-muted-foreground",children:"Apartment not found"}),n.jsx("div",{className:"flex justify-center mt-4",children:n.jsx(re,{onClick:()=>t("/apartments"),children:"Back to Apartments"})})]})})});const x=()=>{const g={};return u.name.trim()||(g.name="Apartment name is required"),u.client||(g.client="Client selection is required"),u.address.trim()||(g.address="Address is required"),u.designer.trim()||(g.designer="Designer is required"),u.start_date||(g.start_date="Start date is required"),u.due_date||(g.due_date="Due date is required"),u.start_date&&u.due_date&&new Date(u.due_date)<new Date(u.start_date)&&(g.due_date="Due date must be after start date"),h(g),Object.keys(g).length===0},p=async g=>{var j,y;if(g.preventDefault(),!x()){r({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{await d.mutateAsync({id:s.id,data:u}),t("/apartments")}catch(w){r({title:"Error",description:((y=(j=w.response)==null?void 0:j.data)==null?void 0:y.message)||"Failed to update apartment. Please try again.",variant:"destructive"})}};return n.jsx(ct,{title:"Edit Apartment",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Fa,{children:n.jsxs($a,{children:[n.jsx(er,{children:n.jsx(Qn,{href:"/apartments",children:"Apartments"})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(Qn,{href:`/apartments/${s.id}`,children:s.name})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(pi,{children:"Edit"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(re,{variant:"ghost",size:"icon",onClick:()=>t(`/apartments/${s.id}`),children:n.jsx(rr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"Edit Apartment"})]}),n.jsx("form",{onSubmit:p,children:n.jsxs(X,{children:[n.jsx(we,{children:n.jsx(Ve,{children:"Apartment Details"})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"name",children:"Apartment Name *"}),n.jsx(fe,{id:"name",value:u.name,onChange:g=>f({...u,name:g.target.value}),placeholder:"Izabella utca 3  A/12"}),m.name&&n.jsx("p",{className:"text-sm text-destructive",children:m.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Type *"}),n.jsx(f3,{value:u.type,onValueChange:g=>f({...u,type:g}),children:n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ov,{value:"furnishing",id:"furnishing"}),n.jsx(q,{htmlFor:"furnishing",className:"font-normal cursor-pointer",children:"Furnishing"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ov,{value:"renovating",id:"renovating"}),n.jsx(q,{htmlFor:"renovating",className:"font-normal cursor-pointer",children:"Renovating"})]})]})})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"client",children:"Client/Owner *"}),n.jsxs(tt,{value:u.client,onValueChange:g=>f({...u,client:g}),disabled:l,children:[n.jsx(Je,{id:"client",children:n.jsx(rt,{placeholder:l?"Loading clients...":"Select client"})}),n.jsx(et,{children:c.map(g=>n.jsxs(ee,{value:g.id,children:[g.name," - ",g.type]},g.id))})]}),m.client&&n.jsx("p",{className:"text-sm text-destructive",children:m.client})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"designer",children:"Assigned Designer *"}),n.jsx(fe,{id:"designer",value:u.designer,onChange:g=>f({...u,designer:g.target.value}),placeholder:"Enter designer name"}),m.designer&&n.jsx("p",{className:"text-sm text-destructive",children:m.designer})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"address",children:"Address *"}),n.jsx(fe,{id:"address",value:u.address,onChange:g=>f({...u,address:g.target.value}),placeholder:"Izabella u. 3, Budapest"}),m.address&&n.jsx("p",{className:"text-sm text-destructive",children:m.address})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",children:"Status"}),n.jsxs(tt,{value:u.status,onValueChange:g=>f({...u,status:g}),children:[n.jsx(Je,{id:"status",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"Planning",children:"Planning"}),n.jsx(ee,{value:"Design Approved",children:"Design Approved"}),n.jsx(ee,{value:"Ordering",children:"Ordering"}),n.jsx(ee,{value:"Delivery",children:"Delivery"}),n.jsx(ee,{value:"Renovating",children:"Renovating"}),n.jsx(ee,{value:"Complete",children:"Complete"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"start_date",children:"Start Date *"}),n.jsx(fe,{id:"start_date",type:"date",value:u.start_date,onChange:g=>f({...u,start_date:g.target.value})}),m.start_date&&n.jsx("p",{className:"text-sm text-destructive",children:m.start_date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"due_date",children:"Due Date *"}),n.jsx(fe,{id:"due_date",type:"date",value:u.due_date,onChange:g=>f({...u,due_date:g.target.value})}),m.due_date&&n.jsx("p",{className:"text-sm text-destructive",children:m.due_date})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"progress",children:"Progress (%)"}),n.jsx(fe,{id:"progress",type:"number",min:"0",max:"100",value:u.progress,onChange:g=>f({...u,progress:Number(g.target.value)})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Notes"}),n.jsx(fa,{id:"notes",value:u.notes,onChange:g=>f({...u,notes:g.target.value}),placeholder:"Additional notes about this apartment...",rows:4})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(re,{type:"button",variant:"outline",onClick:()=>t(`/apartments/${s.id}`),children:"Cancel"}),n.jsx(re,{type:"submit",disabled:d.isPending,children:d.isPending?"Saving...":"Save Changes"})]})]})]})})]})})},zUe=()=>{const[e,t]=v.useState("all"),[r,s]=v.useState(""),a=[{id:1,image:"",name:"Modern Sectional Sofa",sku:"SOF-2024-001",vendor:"IKEA",price:1299.99,qty:1,availability:"In Stock",orderStatus:"Ordered",expectedDelivery:"2024-01-20",paymentStatus:"Paid"},{id:2,image:"",name:"Queen Size Bed Frame",sku:"BED-2024-012",vendor:"Wayfair",price:899,qty:1,availability:"Low Stock",orderStatus:"Pending",expectedDelivery:"",paymentStatus:"Due"},{id:3,image:"",name:"Dining Chair Set (4pc)",sku:"CHR-2024-045",vendor:"West Elm",price:599.99,qty:4,availability:"In Stock",orderStatus:"Delivered",expectedDelivery:"2024-01-15",paymentStatus:"Paid"},{id:4,image:"",name:"Floor Lamp Modern",sku:"LMP-2024-078",vendor:"CB2",price:189.99,qty:2,availability:"Out of Stock",orderStatus:"Pending",expectedDelivery:"",paymentStatus:"Partial"},{id:5,image:"",name:"Wall Art Canvas Set",sku:"ART-2024-023",vendor:"Etsy",price:129.99,qty:3,availability:"In Stock",orderStatus:"Ordered",expectedDelivery:"2024-01-18",paymentStatus:"Due"}],i=o=>({Ordered:"bg-primary/10 text-primary",Pending:"bg-warning/10 text-warning",Delivered:"bg-success/10 text-success","In Stock":"bg-success/10 text-success","Low Stock":"bg-warning/10 text-warning","Out of Stock":"bg-danger/10 text-danger",Paid:"bg-success/10 text-success",Partial:"bg-warning/10 text-warning",Due:"bg-danger/10 text-danger"})[o]||"bg-muted";return n.jsx(ct,{title:"Products",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ua,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{placeholder:"Search by name, SKU, or vendor...",className:"pl-10",value:r,onChange:o=>s(o.target.value)})]}),n.jsxs(tt,{value:e,onValueChange:t,children:[n.jsx(Je,{className:"w-full md:w-[200px]",children:n.jsx(rt,{placeholder:"Filter by status"})}),n.jsxs(et,{sideOffset:5,children:[n.jsx(ee,{value:"all",children:"All Status"}),n.jsx(ee,{value:"ordered",children:"Ordered"}),n.jsx(ee,{value:"pending",children:"Pending"}),n.jsx(ee,{value:"delivered",children:"Delivered"})]})]}),n.jsxs(re,{variant:"outline",onClick:()=>console.log("More filters clicked"),children:[n.jsx(Iv,{className:"h-4 w-4 mr-2"}),"More Filters"]})]})})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-bold",children:"247"})]}),n.jsx(lt,{className:"h-8 w-8 text-primary"})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Ordered"}),n.jsx("p",{className:"text-2xl font-bold",children:"168"})]}),n.jsx(Vr,{className:"h-8 w-8 text-success"})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Delivered"}),n.jsx("p",{className:"text-2xl font-bold",children:"112"})]}),n.jsx(Hr,{className:"h-8 w-8 text-warning"})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Issues"}),n.jsx("p",{className:"text-2xl font-bold",children:"12"})]}),n.jsx(St,{className:"h-8 w-8 text-danger"})]})})})]}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ds,{children:[n.jsx(Is,{children:n.jsxs(Bt,{children:[n.jsx(Te,{children:"Image"}),n.jsx(Te,{children:"Name / SKU"}),n.jsx(Te,{children:"Vendor"}),n.jsx(Te,{children:"Price"}),n.jsx(Te,{children:"Qty"}),n.jsx(Te,{children:"Availability"}),n.jsx(Te,{children:"Order Status"}),n.jsx(Te,{children:"Expected Delivery"}),n.jsx(Te,{children:"Payment"}),n.jsx(Te,{children:"Actions"})]})}),n.jsx(Rs,{children:a.map(o=>n.jsxs(Bt,{children:[n.jsx(Se,{children:n.jsx("div",{className:"text-3xl",children:o.image})}),n.jsx(Se,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:o.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:o.sku})]})}),n.jsx(Se,{children:n.jsx(re,{variant:"link",className:"p-0 h-auto",children:o.vendor})}),n.jsxs(Se,{children:["$",o.price.toFixed(2)]}),n.jsx(Se,{children:o.qty}),n.jsx(Se,{children:n.jsx(Ae,{className:i(o.availability),children:o.availability})}),n.jsx(Se,{children:n.jsx(Ae,{className:i(o.orderStatus),children:o.orderStatus})}),n.jsx(Se,{children:o.expectedDelivery||n.jsx(re,{variant:"outline",size:"sm",children:"Set Date"})}),n.jsx(Se,{children:n.jsx(Ae,{className:i(o.paymentStatus),children:o.paymentStatus})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(re,{variant:"outline",size:"sm",children:"View"}),n.jsx(re,{variant:"outline",size:"sm",children:"Edit"})]})})]},o.id))})]})})})})]})})};function Cw({options:e,value:t,onValueChange:r,onCreate:s,onNavigateToCreate:a,placeholder:i="Select option...",searchPlaceholder:o="Search...",emptyText:l="No results found.",createText:c="Create new",isLoading:d=!1,disabled:u=!1,className:f}){const[m,h]=v.useState(!1),[x,p]=v.useState(!1),[g,j]=v.useState(""),[y,w]=v.useState(!1),[b,N]=v.useState(""),_=e.find(E=>E.value===t),S=async()=>{if(g.trim()){w(!0);try{if(s){const E=await s(g.trim());r(E.id),p(!1),j(""),h(!1)}}catch(E){console.error("Error creating item:",E)}finally{w(!1)}}},A=()=>{a?(a(),h(!1)):(p(!0),j(b))};return n.jsxs(n.Fragment,{children:[n.jsxs(wh,{open:m,onOpenChange:h,children:[n.jsx(Nh,{asChild:!0,children:n.jsxs(re,{variant:"outline",role:"combobox","aria-expanded":m,className:ge("w-full justify-between",f),disabled:u||d,children:[d?"Loading...":_?_.label:n.jsx("span",{className:"text-muted-foreground",children:i}),n.jsx(mse,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),n.jsx(kf,{className:"w-full p-0",align:"start",children:n.jsxs(RT,{children:[n.jsx(MT,{placeholder:o,value:b,onValueChange:N}),n.jsxs(FT,{children:[n.jsx(GW,{children:n.jsx("div",{className:"text-sm text-muted-foreground py-2",children:l})}),n.jsx(Tl,{children:e.map(E=>n.jsxs(yi,{value:E.value,onSelect:P=>{r(P===t?"":P),h(!1)},children:[n.jsx(ho,{className:ge("mr-2 h-4 w-4",t===E.value?"opacity-100":"opacity-0")}),E.label]},E.value))}),n.jsx(Tl,{children:n.jsxs(yi,{onSelect:A,className:"text-primary",children:[n.jsx(Kn,{className:"mr-2 h-4 w-4"}),c,b&&!a&&` "${b}"`]})})]})]})})]}),n.jsx(Zr,{open:x,onOpenChange:p,children:n.jsxs(qr,{children:[n.jsxs(Jr,{children:[n.jsx(en,{children:c}),n.jsx(is,{children:"Enter a name for the new item. Click create when you're done."})]}),n.jsx("div",{className:"grid gap-4 py-4",children:n.jsxs("div",{className:"grid gap-2",children:[n.jsx(q,{htmlFor:"name",children:"Name"}),n.jsx(fe,{id:"name",value:g,onChange:E=>j(E.target.value),placeholder:"Enter name...",onKeyDown:E=>{E.key==="Enter"&&(E.preventDefault(),S())}})]})}),n.jsxs(Va,{children:[n.jsx(re,{variant:"outline",onClick:()=>{p(!1),j("")},disabled:y,children:"Cancel"}),n.jsx(re,{onClick:S,disabled:y||!g.trim(),children:y?"Creating...":"Create"})]})]})})]})}const WUe=()=>{const[e]=EN(),t=e.get("apartmentId"),r=ur(),{toast:s}=xr(),[a,i]=v.useState({product:"",description:"",category:"",vendor:"",vendor_link:"",sku:"",dimensions:"",weight:"",material:"",color:"",model_number:"",brand:"",country_of_origin:"",sn:"",unit_price:"",qty:1,cost:"",total_cost:"",shipping_cost:"0",discount:"0",currency:"HUF",availability:"In Stock",status:"Design Approved",room:"",link:"",size:"",nm:"",plusz_nm:"",price_per_nm:"",price_per_package:"",nm_per_package:"",all_package:"",package_need_to_order:"",all_price:"",eta:"",ordered_on:"",payment_status:"Unpaid",payment_due_date:"",payment_amount:"",paid_amount:"0",delivery_type:"",delivery_status_tags:"",delivery_address:"",delivery_city:"",delivery_postal_code:"",delivery_country:"",delivery_time_window:"",delivery_instructions:"",delivery_contact_person:"",delivery_contact_phone:"",delivery_contact_email:"",delivery_notes:"",tracking_number:"",condition_on_arrival:"",sender:"",sender_address:"",sender_phone:"",recipient:"",recipient_address:"",recipient_phone:"",recipient_email:"",locker_provider:"",locker_id:"",pickup_provider:"",pickup_location:"",customs_description:"",item_value:"",hs_category:"",insurance:"no",cod:"",pickup_time:"",delivery_deadline:"",special_instructions:"",issue_state:"No Issue",issue_type:"",issue_description:"",replacement_requested:!1,replacement_approved:!1,replacement_eta:"",replacement_of:"",gallery_images:"",attachments:"",notes:"",manual_notes:"",ai_summary_notes:""}),[o,l]=v.useState({}),[c,d]=v.useState(null),[u,f]=v.useState(""),[m,h]=v.useState("basic"),{data:x,isLoading:p}=c3(t),{data:g,isLoading:j,error:y}=WX(t),w=Array.isArray(g)?g:[],{data:b,isLoading:N,error:_}=pm(),S=(b==null?void 0:b.results)||[],A=kBe(),E=HX();if(v.useEffect(()=>{t||(s({title:"Error",description:"Apartment ID is required",variant:"destructive"}),r("/apartments"))},[t,r,s]),v.useEffect(()=>{y&&!j&&s({title:"Warning",description:"Failed to load categories. You can still add a product by entering the category ID manually.",variant:"destructive"})},[y,j,s]),v.useEffect(()=>{_&&!N&&s({title:"Warning",description:"Failed to load vendors. You can still add a product by entering the vendor ID manually.",variant:"destructive"})},[_,N,s]),p)return n.jsx(ct,{title:"Loading...",children:n.jsx("div",{className:"container mx-auto py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Lt,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground",children:"Loading apartment details..."})]})})});const P=T=>{var M;const k=(M=T.target.files)==null?void 0:M[0];if(k){d(k);const O=new FileReader;O.onloadend=()=>{f(O.result)},O.readAsDataURL(k)}},D=()=>{d(null),f("")},I=()=>{const T={};return a.product.trim()||(T.product="Product name is required"),a.category||(T.category="Category is required"),a.vendor||(T.vendor="Vendor is required"),(!a.unit_price||parseFloat(a.unit_price)<=0)&&(T.unit_price="Valid unit price is required"),(!a.qty||a.qty<=0)&&(T.qty="Valid quantity is required"),l(T),Object.keys(T).length===0},W=async T=>{if(T.preventDefault(),!I()){s({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{if(c){const k=new FormData;k.append("apartment",t),k.append("category",a.category),k.append("product",a.product),k.append("vendor",a.vendor),k.append("unit_price",a.unit_price),k.append("qty",a.qty.toString()),k.append("availability",a.availability),k.append("status",a.status),k.append("payment_status",a.payment_status),k.append("paid_amount",a.paid_amount),k.append("currency",a.currency),k.append("issue_state",a.issue_state),k.append("image_file",c),console.log(" Sending FormData with image:"),console.log("  - Image file:",c),console.log("  - File name:",c.name),console.log("  - File size:",c.size),console.log("  - File type:",c.type);for(let M of k.entries())console.log(`  - ${M[0]}:`,M[1]);a.description&&k.append("description",a.description),a.vendor_link&&k.append("vendor_link",a.vendor_link),a.sku&&k.append("sku",a.sku),a.dimensions&&k.append("dimensions",a.dimensions),a.weight&&k.append("weight",a.weight),a.material&&k.append("material",a.material),a.color&&k.append("color",a.color),a.model_number&&k.append("model_number",a.model_number),a.brand&&k.append("brand",a.brand),a.country_of_origin&&k.append("country_of_origin",a.country_of_origin),a.sn&&k.append("sn",a.sn),a.cost&&k.append("cost",a.cost),a.total_cost&&k.append("total_cost",a.total_cost),a.shipping_cost&&k.append("shipping_cost",a.shipping_cost),a.discount&&k.append("discount",a.discount),a.room&&k.append("room",a.room),a.link&&k.append("link",a.link),a.size&&k.append("size",a.size),a.nm&&k.append("nm",a.nm),a.plusz_nm&&k.append("plusz_nm",a.plusz_nm),a.price_per_nm&&k.append("price_per_nm",a.price_per_nm),a.price_per_package&&k.append("price_per_package",a.price_per_package),a.nm_per_package&&k.append("nm_per_package",a.nm_per_package),a.all_package&&k.append("all_package",a.all_package),a.package_need_to_order&&k.append("package_need_to_order",a.package_need_to_order),a.all_price&&k.append("all_price",a.all_price),a.eta&&k.append("eta",a.eta),a.ordered_on&&k.append("ordered_on",a.ordered_on),a.payment_due_date&&k.append("payment_due_date",a.payment_due_date),a.payment_amount&&k.append("payment_amount",a.payment_amount),a.delivery_type&&k.append("delivery_type",a.delivery_type),a.delivery_status_tags&&k.append("delivery_status_tags",a.delivery_status_tags),a.delivery_address&&k.append("delivery_address",a.delivery_address),a.delivery_city&&k.append("delivery_city",a.delivery_city),a.delivery_postal_code&&k.append("delivery_postal_code",a.delivery_postal_code),a.delivery_country&&k.append("delivery_country",a.delivery_country),a.delivery_time_window&&k.append("delivery_time_window",a.delivery_time_window),a.delivery_instructions&&k.append("delivery_instructions",a.delivery_instructions),a.delivery_contact_person&&k.append("delivery_contact_person",a.delivery_contact_person),a.delivery_contact_phone&&k.append("delivery_contact_phone",a.delivery_contact_phone),a.delivery_contact_email&&k.append("delivery_contact_email",a.delivery_contact_email),a.delivery_notes&&k.append("delivery_notes",a.delivery_notes),a.tracking_number&&k.append("tracking_number",a.tracking_number),a.condition_on_arrival&&k.append("condition_on_arrival",a.condition_on_arrival),a.sender&&k.append("sender",a.sender),a.sender_address&&k.append("sender_address",a.sender_address),a.sender_phone&&k.append("sender_phone",a.sender_phone),a.recipient&&k.append("recipient",a.recipient),a.recipient_address&&k.append("recipient_address",a.recipient_address),a.recipient_phone&&k.append("recipient_phone",a.recipient_phone),a.recipient_email&&k.append("recipient_email",a.recipient_email),a.locker_provider&&k.append("locker_provider",a.locker_provider),a.locker_id&&k.append("locker_id",a.locker_id),a.pickup_provider&&k.append("pickup_provider",a.pickup_provider),a.pickup_location&&k.append("pickup_location",a.pickup_location),a.customs_description&&k.append("customs_description",a.customs_description),a.item_value&&k.append("item_value",a.item_value),a.hs_category&&k.append("hs_category",a.hs_category),a.insurance&&k.append("insurance",a.insurance),a.cod&&k.append("cod",a.cod),a.pickup_time&&k.append("pickup_time",a.pickup_time),a.delivery_deadline&&k.append("delivery_deadline",a.delivery_deadline),a.special_instructions&&k.append("special_instructions",a.special_instructions),a.issue_type&&k.append("issue_type",a.issue_type),a.issue_description&&k.append("issue_description",a.issue_description),k.append("replacement_requested",a.replacement_requested.toString()),k.append("replacement_approved",a.replacement_approved.toString()),a.replacement_eta&&k.append("replacement_eta",a.replacement_eta),a.replacement_of&&k.append("replacement_of",a.replacement_of),a.gallery_images&&k.append("gallery_images",a.gallery_images),a.attachments&&k.append("attachments",a.attachments),a.notes&&k.append("notes",a.notes),a.manual_notes&&k.append("manual_notes",a.manual_notes),a.ai_summary_notes&&k.append("ai_summary_notes",a.ai_summary_notes),await A.mutateAsync(k)}else{const k={apartment:t,category:a.category,product:a.product,description:a.description||void 0,vendor:a.vendor,vendor_link:a.vendor_link||void 0,sku:a.sku||void 0,dimensions:a.dimensions||void 0,weight:a.weight||void 0,material:a.material||void 0,color:a.color||void 0,model_number:a.model_number||void 0,brand:a.brand||void 0,country_of_origin:a.country_of_origin||void 0,sn:a.sn||void 0,unit_price:a.unit_price,qty:a.qty,cost:a.cost||void 0,total_cost:a.total_cost||void 0,shipping_cost:a.shipping_cost||void 0,discount:a.discount||void 0,currency:a.currency,availability:a.availability,status:a.status,room:a.room||void 0,link:a.link||void 0,size:a.size||void 0,nm:a.nm||void 0,plusz_nm:a.plusz_nm||void 0,price_per_nm:a.price_per_nm||void 0,price_per_package:a.price_per_package||void 0,nm_per_package:a.nm_per_package||void 0,all_package:a.all_package||void 0,package_need_to_order:a.package_need_to_order||void 0,all_price:a.all_price||void 0,eta:a.eta||null,ordered_on:a.ordered_on||null,payment_status:a.payment_status,payment_due_date:a.payment_due_date||null,payment_amount:a.payment_amount||null,paid_amount:a.paid_amount,delivery_type:a.delivery_type||void 0,delivery_status_tags:a.delivery_status_tags||void 0,delivery_address:a.delivery_address||void 0,delivery_city:a.delivery_city||void 0,delivery_postal_code:a.delivery_postal_code||void 0,delivery_country:a.delivery_country||void 0,delivery_time_window:a.delivery_time_window||void 0,delivery_instructions:a.delivery_instructions||void 0,delivery_contact_person:a.delivery_contact_person||void 0,delivery_contact_phone:a.delivery_contact_phone||void 0,delivery_contact_email:a.delivery_contact_email||void 0,delivery_notes:a.delivery_notes||void 0,tracking_number:a.tracking_number||void 0,condition_on_arrival:a.condition_on_arrival||void 0,sender:a.sender||void 0,sender_address:a.sender_address||void 0,sender_phone:a.sender_phone||void 0,recipient:a.recipient||void 0,recipient_address:a.recipient_address||void 0,recipient_phone:a.recipient_phone||void 0,recipient_email:a.recipient_email||void 0,locker_provider:a.locker_provider||void 0,locker_id:a.locker_id||void 0,pickup_provider:a.pickup_provider||void 0,pickup_location:a.pickup_location||void 0,customs_description:a.customs_description||void 0,item_value:a.item_value||void 0,hs_category:a.hs_category||void 0,insurance:a.insurance||void 0,cod:a.cod||void 0,pickup_time:a.pickup_time||void 0,delivery_deadline:a.delivery_deadline||void 0,special_instructions:a.special_instructions||void 0,issue_state:a.issue_state,issue_type:a.issue_type||void 0,issue_description:a.issue_description||void 0,replacement_requested:a.replacement_requested,replacement_approved:a.replacement_approved,replacement_eta:a.replacement_eta||null,replacement_of:a.replacement_of||void 0,gallery_images:a.gallery_images||void 0,attachments:a.attachments||void 0,notes:a.notes||void 0,manual_notes:a.manual_notes||void 0,ai_summary_notes:a.ai_summary_notes||void 0};await A.mutateAsync(k)}r(`/apartments/${t}`)}catch{}};if(!x)return n.jsx(ct,{title:"Apartment Not Found",children:n.jsx(X,{children:n.jsxs(Q,{className:"py-8",children:[n.jsx("p",{className:"text-center text-muted-foreground",children:"Apartment not found"}),n.jsx("div",{className:"flex justify-center mt-4",children:n.jsx(re,{onClick:()=>r("/apartments"),children:"Back to Apartments"})})]})})});const H=a.unit_price&&a.qty?parseFloat(a.unit_price)*a.qty+(parseFloat(a.shipping_cost)||0)-(parseFloat(a.discount)||0):0,F=H-(parseFloat(a.paid_amount)||0);return n.jsx(ct,{title:"Add Product",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Fa,{children:n.jsxs($a,{children:[n.jsx(er,{children:n.jsx(Qn,{href:"/apartments",children:"Apartments"})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(Qn,{href:`/apartments/${t}`,children:x.name})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(pi,{children:"Add Product"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(re,{variant:"ghost",size:"icon",onClick:()=>r(`/apartments/${t}`),children:n.jsx(rr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"Add Product"})]}),n.jsx("form",{onSubmit:W,children:n.jsx(X,{children:n.jsxs(Q,{children:[n.jsxs(To,{value:m,onValueChange:h,children:[n.jsxs(Qi,{className:"grid w-full grid-cols-4 mt-6",children:[n.jsx(Ut,{value:"basic",children:"Basic Info"}),n.jsx(Ut,{value:"measurements",children:"Measurements"}),n.jsx(Ut,{value:"pricing",children:"Pricing"}),n.jsx(Ut,{value:"additional",children:"Additional"})]}),n.jsxs(Yt,{value:"basic",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Product Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"product",children:"Product Name *"}),n.jsx(fe,{id:"product",value:a.product,onChange:T=>i({...a,product:T.target.value}),placeholder:"Modern Sofa"}),o.product&&n.jsx("p",{className:"text-sm text-destructive",children:o.product})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"category",children:"Category *"}),n.jsx(Cw,{options:w.map(T=>({value:T.id,label:T.name})),value:a.category,onValueChange:T=>i({...a,category:T}),onCreate:async T=>{const k=await E.mutateAsync({name:T,apartment:t,sheet_name:T});return{id:k.id,name:k.name}},placeholder:"Select category",searchPlaceholder:"Search categories...",emptyText:"No categories found.",createText:"Create new category",isLoading:j}),o.category&&n.jsx("p",{className:"text-sm text-destructive",children:o.category})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"vendor",children:"Vendor *"}),n.jsx(Cw,{options:S.map(T=>({value:T.id,label:T.company_name||T.name})),value:a.vendor,onValueChange:T=>i({...a,vendor:T}),onNavigateToCreate:()=>{r("/vendors/new")},placeholder:"Select vendor",searchPlaceholder:"Search vendors...",emptyText:"No vendors found.",createText:"Create new vendor",isLoading:N}),o.vendor&&n.jsx("p",{className:"text-sm text-destructive",children:o.vendor})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"link",children:"Product Link (Optional)"}),n.jsx(fe,{id:"link",type:"url",value:a.link,onChange:T=>i({...a,link:T.target.value}),placeholder:"https://example.com/product"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"sku",children:"SKU *"}),n.jsx(fe,{id:"sku",value:a.sku,onChange:T=>i({...a,sku:T.target.value}),placeholder:"SOFA-001"}),o.sku&&n.jsx("p",{className:"text-sm text-destructive",children:o.sku})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"room",children:"Room (Optional)"}),n.jsx(fe,{id:"room",value:a.room,onChange:T=>i({...a,room:T.target.value}),placeholder:"Living Room, Bedroom, etc."})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"imageFile",children:"Product Image"}),u?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"relative w-full h-48 border rounded-md overflow-hidden bg-muted",children:[n.jsx("img",{src:u,alt:"Product preview",className:"w-full h-full object-contain"}),n.jsx(re,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:D,children:"Remove"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:c==null?void 0:c.name})]}):n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(fe,{id:"imageFile",type:"file",accept:"image/*",onChange:P,className:"cursor-pointer"})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload a product image (JPG, PNG, GIF, etc.)"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"unitPrice",children:"Unit Price (HUF) *"}),n.jsx(fe,{id:"unitPrice",type:"number",min:"0",step:"0.01",value:a.unit_price,onChange:T=>i({...a,unit_price:T.target.value}),placeholder:"150000"}),o.unitPrice&&n.jsx("p",{className:"text-sm text-destructive",children:o.unitPrice})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"qty",children:"Quantity *"}),n.jsx(fe,{id:"qty",type:"number",min:"1",value:a.qty,onChange:T=>i({...a,qty:parseInt(T.target.value)||1}),placeholder:"1"}),o.qty&&n.jsx("p",{className:"text-sm text-destructive",children:o.qty})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"availability",children:"Availability *"}),n.jsxs(tt,{value:a.availability,onValueChange:T=>i({...a,availability:T}),children:[n.jsx(Je,{id:"availability",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"In Stock",children:"In Stock"}),n.jsx(ee,{value:"Backorder",children:"Backorder"}),n.jsx(ee,{value:"Out of Stock",children:"Out of Stock"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",children:"Product Status *"}),n.jsxs(tt,{value:a.status,onValueChange:T=>i({...a,status:T}),children:[n.jsx(Je,{id:"status",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"Design Approved",children:"Design Approved"}),n.jsx(ee,{value:"Ready To Order",children:"Ready To Order"}),n.jsx(ee,{value:"Ordered",children:"Ordered"}),n.jsx(ee,{value:"Shipped",children:"Shipped"}),n.jsx(ee,{value:"Delivered",children:"Delivered"}),n.jsx(ee,{value:"Damaged",children:"Damaged"}),n.jsx(ee,{value:"Wrong Item",children:"Wrong Item"}),n.jsx(ee,{value:"Missing",children:"Missing"})]})]})]})]})]}),n.jsxs(Yt,{value:"measurements",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Product Specifications"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"dimensions",children:"Dimensions"}),n.jsx(fe,{id:"dimensions",value:a.dimensions,onChange:T=>i({...a,dimensions:T.target.value}),placeholder:"120x80x45 cm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"weight",children:"Weight"}),n.jsx(fe,{id:"weight",value:a.weight,onChange:T=>i({...a,weight:T.target.value}),placeholder:"25 kg"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"material",children:"Material"}),n.jsx(fe,{id:"material",value:a.material,onChange:T=>i({...a,material:T.target.value}),placeholder:"Oak Wood"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"color",children:"Color"}),n.jsx(fe,{id:"color",value:a.color,onChange:T=>i({...a,color:T.target.value}),placeholder:"Natural Oak"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"size",children:"Size"}),n.jsx(fe,{id:"size",value:a.size,onChange:T=>i({...a,size:T.target.value}),placeholder:"Large"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"NM Measurements (for Flooring/Tiles)"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"nm",children:"NM"}),n.jsx(fe,{id:"nm",type:"number",step:"0.01",value:a.nm,onChange:T=>i({...a,nm:T.target.value}),placeholder:"10.5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"plusz_nm",children:"Plus NM"}),n.jsx(fe,{id:"plusz_nm",type:"number",step:"0.01",value:a.plusz_nm,onChange:T=>i({...a,plusz_nm:T.target.value}),placeholder:"1.5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"price_per_nm",children:"Price per NM"}),n.jsx(fe,{id:"price_per_nm",type:"number",step:"0.01",value:a.price_per_nm,onChange:T=>i({...a,price_per_nm:T.target.value}),placeholder:"5000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"price_per_package",children:"Price per Package"}),n.jsx(fe,{id:"price_per_package",type:"number",step:"0.01",value:a.price_per_package,onChange:T=>i({...a,price_per_package:T.target.value}),placeholder:"15000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"nm_per_package",children:"NM per Package"}),n.jsx(fe,{id:"nm_per_package",type:"number",step:"0.01",value:a.nm_per_package,onChange:T=>i({...a,nm_per_package:T.target.value}),placeholder:"3"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"package_need_to_order",children:"Package Need to Order"}),n.jsx(fe,{id:"package_need_to_order",type:"number",value:a.package_need_to_order,onChange:T=>i({...a,package_need_to_order:T.target.value}),placeholder:"8"})]})]})]})]}),n.jsxs(Yt,{value:"pricing",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Payment Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"total_amount",children:"Total Amount (HUF)"}),n.jsx("div",{className:"h-10 px-3 py-2 rounded-md border border-input bg-muted flex items-center",children:n.jsx("span",{className:"font-semibold text-lg",children:H.toLocaleString()})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: (Unit Price  Qty) + Shipping - Discount"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"shipping_cost",children:"Shipping Cost (Optional)"}),n.jsx(fe,{id:"shipping_cost",type:"number",min:"0",step:"0.01",value:a.shipping_cost,onChange:T=>i({...a,shipping_cost:T.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"discount",children:"Discount (Optional)"}),n.jsx(fe,{id:"discount",type:"number",min:"0",step:"0.01",value:a.discount,onChange:T=>i({...a,discount:T.target.value}),placeholder:"0"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paid_amount",children:"Paid Amount"}),n.jsx(fe,{id:"paid_amount",type:"number",min:"0",step:"0.01",value:a.paid_amount,onChange:T=>i({...a,paid_amount:T.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Outstanding Balance"}),n.jsx("div",{className:`h-10 px-3 py-2 rounded-md border flex items-center ${F>0?"bg-red-50 border-red-200 text-red-700":"bg-green-50 border-green-200 text-green-700"}`,children:n.jsxs("span",{className:"font-semibold text-lg",children:[F.toLocaleString()," HUF"]})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: Total Amount - Paid Amount"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paymentStatus",children:"Payment Status *"}),n.jsxs(tt,{value:a.payment_status,onValueChange:T=>i({...a,payment_status:T}),children:[n.jsx(Je,{id:"paymentStatus",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"Unpaid",children:"Unpaid"}),n.jsx(ee,{value:"Partially Paid",children:"Partially Paid"}),n.jsx(ee,{value:"Paid",children:"Paid"}),n.jsx(ee,{value:"Overdue",children:"Overdue"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"currency",children:"Currency"}),n.jsxs(tt,{value:a.currency,onValueChange:T=>i({...a,currency:T}),children:[n.jsx(Je,{id:"currency",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"HUF",children:"HUF (Hungarian Forint)"}),n.jsx(ee,{value:"EUR",children:"EUR (Euro)"}),n.jsx(ee,{value:"USD",children:"USD (US Dollar)"})]})]})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paymentDueDate",children:"Payment Due Date *"}),n.jsx(fe,{id:"paymentDueDate",type:"date",value:a.payment_due_date,onChange:T=>i({...a,payment_due_date:T.target.value})})]})})]}),n.jsxs(Yt,{value:"additional",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"brand",children:"Brand"}),n.jsx(fe,{id:"brand",value:a.brand,onChange:T=>i({...a,brand:T.target.value}),placeholder:"e.g., IKEA, Samsung, etc."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"country_of_origin",children:"Country of Origin"}),n.jsx(fe,{id:"country_of_origin",value:a.country_of_origin,onChange:T=>i({...a,country_of_origin:T.target.value}),placeholder:"e.g., Hungary, China, Germany"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"condition_on_arrival",children:"Condition on Arrival"}),n.jsx(fe,{id:"condition_on_arrival",value:a.condition_on_arrival,onChange:T=>i({...a,condition_on_arrival:T.target.value}),placeholder:"Good, Damaged, Needs Inspection, etc."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-semibold",children:"Notes & Documentation"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"General Notes"}),n.jsx(fa,{id:"notes",value:a.notes,onChange:T=>i({...a,notes:T.target.value}),placeholder:"General notes about this product...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"manual_notes",children:"Manual Notes"}),n.jsx(fa,{id:"manual_notes",value:a.manual_notes,onChange:T=>i({...a,manual_notes:T.target.value}),placeholder:"Manual notes added by staff...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"ai_summary_notes",children:"AI Summary Notes"}),n.jsx(fa,{id:"ai_summary_notes",value:a.ai_summary_notes,onChange:T=>i({...a,ai_summary_notes:T.target.value}),placeholder:"AI-generated summary and insights...",rows:3}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"AI-generated summaries and recommendations"})]})]})]})]}),n.jsxs("div",{className:"flex gap-4 justify-between mt-6 border-t pt-6",children:[n.jsx("div",{children:m!=="basic"&&n.jsx(re,{type:"button",variant:"outline",onClick:T=>{T.preventDefault(),T.stopPropagation();const k=["basic","measurements","pricing","additional"],M=k.indexOf(m);M>0&&h(k[M-1])},children:" Previous"})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(re,{type:"button",variant:"outline",onClick:T=>{T.preventDefault(),T.stopPropagation(),r(`/apartments/${t}`)},children:"Cancel"}),m!=="additional"?n.jsx(re,{type:"button",onClick:T=>{T.preventDefault(),T.stopPropagation();const k=["basic","measurements","pricing","additional"],M=k.indexOf(m);M<k.length-1&&h(k[M+1])},children:"Next "}):n.jsxs(re,{type:"submit",disabled:A.isPending,children:[A.isPending&&n.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}),A.isPending?"Adding...":"Add Product"]})]})]})]})})})]})})},HUe=()=>{var w;const{id:e}=Yi(),t=ur(),[r,s]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState({x:0,y:0}),[c,d]=v.useState(!1),{data:u,isLoading:f,error:m}=VX(e||null),h=u==null?void 0:u.apartment_details,x=null,p=[],g=b=>{const N=b.currentTarget.getBoundingClientRect(),_=(b.clientX-N.left)/N.width*100,S=(b.clientY-N.top)/N.height*100;l({x:_,y:S})};if(v.useEffect(()=>{const b=N=>{N.key==="Escape"&&c&&d(!1)};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[c]),f)return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"container mx-auto py-8",children:[n.jsx(Fa,{className:"mb-6",children:n.jsxs($a,{children:[n.jsx(er,{children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(C,{className:"h-4 w-32"})})]})}),n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-8 w-64"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-6 w-20"}),n.jsx(C,{className:"h-6 w-24"}),n.jsx(C,{className:"h-6 w-20"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-9 w-20"}),n.jsx(C,{className:"h-9 w-24"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[n.jsxs(X,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-primary/5 to-transparent",children:n.jsx(C,{className:"h-6 w-48"})}),n.jsxs(Q,{className:"space-y-4 pt-6",children:[n.jsx(C,{className:"h-20 w-full"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((b,N)=>n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx(C,{className:"h-4 w-16 mb-2"}),n.jsx(C,{className:"h-5 w-24"})]},N))})]})]}),n.jsxs(X,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-blue-500/5 to-transparent",children:n.jsx(C,{className:"h-6 w-40"})}),n.jsx(Q,{className:"pt-6",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(5)].map((b,N)=>n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx(C,{className:"h-4 w-20 mb-2"}),n.jsx(C,{className:"h-5 w-28"})]},N))})})]}),n.jsxs(X,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-green-500/5 to-transparent",children:n.jsx(C,{className:"h-6 w-44"})}),n.jsx(Q,{className:"space-y-6 pt-6",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[...Array(3)].map((b,N)=>n.jsxs("div",{className:"p-4 bg-gradient-to-br from-primary/10 to-primary/5 rounded-lg border-2",children:[n.jsx(C,{className:"h-4 w-16 mb-2"}),n.jsx(C,{className:"h-8 w-32"})]},N))})})]}),n.jsxs(X,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-orange-500/5 to-transparent",children:n.jsx(C,{className:"h-6 w-48"})}),n.jsxs(Q,{className:"space-y-4 pt-6",children:[n.jsx(C,{className:"h-32 w-full"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[...Array(4)].map((b,N)=>n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx(C,{className:"h-4 w-24 mb-2"}),n.jsx(C,{className:"h-5 w-32"})]},N))})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-slate-500/5 to-transparent",children:n.jsx(C,{className:"h-6 w-32"})}),n.jsx(Q,{className:"p-0",children:n.jsx(C,{className:"w-full aspect-square"})})]}),n.jsxs(X,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-cyan-500/5 to-transparent",children:n.jsx(C,{className:"h-6 w-28"})}),n.jsx(Q,{className:"space-y-3 pt-6",children:[...Array(5)].map((b,N)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-5 w-20"})]},N))})]})]})]})]})});if(m||!u)return n.jsx(ct,{title:"Product Not Found",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground mb-4",children:"Product not found"}),n.jsxs(re,{onClick:()=>t("/apartments"),children:[n.jsx(rr,{className:"mr-2 h-4 w-4"}),"Back to Apartments"]})]})});const j=()=>{window.confirm(`Are you sure you want to delete "${u.product}"?`)&&(Ue.success("Product deleted successfully"),t(`/apartments/${u.apartment}`))},y=b=>{const N=b.toLowerCase();return N.includes("delivered")||N.includes("closed")||N.includes("paid")?"bg-success text-success-foreground":N.includes("issue")||N.includes("damaged")||N.includes("wrong")||N.includes("missing")?"bg-danger text-danger-foreground":N.includes("waiting")||N.includes("pending")||N.includes("partial")?"bg-warning text-warning-foreground":N.includes("ordered")||N.includes("shipped")||N.includes("transit")?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"};return n.jsxs(ct,{title:u.product,children:[n.jsx(Fa,{className:"mb-6",children:n.jsxs($a,{children:[n.jsx(er,{children:n.jsx(Qn,{asChild:!0,children:n.jsx(zi,{to:"/apartments",children:"Apartments"})})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(Qn,{asChild:!0,children:n.jsx(zi,{to:`/apartments/${u.apartment}`,children:(h==null?void 0:h.name)||"Apartment"})})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(pi,{children:u.product})})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-start space-x-2  mb-3",children:[n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>t(`/apartments/${u.apartment}`),className:"shrink-0",children:n.jsx(rr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold truncate",children:u.product})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[(w=u.status_tags)==null?void 0:w.map(b=>n.jsx(Ae,{className:y(b),children:b},b)),(u.delivery_status_tags||[]).map(b=>n.jsx(Ae,{variant:"outline",className:y(b),children:b},b))]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 sm:flex-nowrap",children:[p.length>0&&n.jsxs(wh,{open:r,onOpenChange:s,children:[n.jsx(Nh,{asChild:!0,children:n.jsxs(re,{variant:"outline",size:"icon",className:"relative shrink-0",children:[n.jsx(af,{className:"h-4 w-4"}),p.length>0&&n.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-danger text-danger-foreground text-xs flex items-center justify-center",children:p.length})]})}),n.jsx(kf,{className:"w-80",align:"end",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Notifications"}),n.jsx(ic,{className:"h-[300px]",children:n.jsx("div",{className:"space-y-3",children:p.map(b=>n.jsxs("div",{className:"p-3 rounded-lg border border-border bg-muted/30 space-y-1",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("p",{className:"font-medium text-sm",children:b.title}),n.jsx(Ae,{variant:"outline",className:b.type==="success"?"bg-success/10 text-success border-success/20":b.type==="warning"?"bg-warning/10 text-warning border-warning/20":"bg-primary/10 text-primary border-primary/20",children:b.type})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b.message}),n.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(b.timestamp).toLocaleString()})]},b.id))})})]})})]}),n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>t(`/products/${u.id}/edit`),className:"shrink-0",children:[n.jsx(Ys,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Edit"})]}),n.jsxs(re,{variant:"destructive",size:"sm",onClick:j,className:"shrink-0",children:[n.jsx(xn,{className:"mr-2 h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"xl:col-span-2 space-y-6",children:[n.jsxs(X,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-primary/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(lt,{className:"h-5 w-5 text-primary"}),"Product Information"]})}),n.jsxs(Q,{className:"space-y-6 pt-6",children:[u.description&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Description"}),n.jsx("p",{className:"text-sm leading-relaxed",children:u.description})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(dr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Vendor"})]}),n.jsx("p",{className:"font-semibold",children:u.vendor_name||"-"}),u.vendor_link&&n.jsxs("a",{href:u.vendor_link,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline flex items-center gap-1 mt-1",children:["Visit Website",n.jsx(Ak,{className:"h-3 w-3"})]})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(z5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"SKU"})]}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:u.sku||"-"})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(K5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Category"})]}),n.jsx("p",{className:"font-semibold",children:u.category_name||"-"})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(W5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Room"})]}),n.jsx("p",{className:"font-semibold",children:u.room||"-"})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(ar,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Availability"})]}),n.jsx(Ae,{variant:u.availability==="In Stock"?"default":"secondary",children:u.availability})]}),u.brand&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(K5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Brand"})]}),n.jsx("p",{className:"font-semibold",children:u.brand})]}),u.model_number&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(An,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Model Number"})]}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:u.model_number})]}),u.sn&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(z5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Serial Number"})]}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:u.sn})]}),u.country_of_origin&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ql,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Country of Origin"})]}),n.jsx("p",{className:"font-semibold",children:u.country_of_origin})]})]})]})]}),(u.dimensions||u.weight||u.material||u.color||u.size)&&n.jsxs(X,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-blue-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(G_,{className:"h-5 w-5 text-blue-600"}),"Specifications"]})}),n.jsx(Q,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.dimensions&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(G_,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Dimensions"})]}),n.jsx("p",{className:"font-semibold",children:u.dimensions})]}),u.weight&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(A7,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Weight"})]}),n.jsx("p",{className:"font-semibold",children:u.weight})]}),u.material&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(W5,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Material"})]}),n.jsx("p",{className:"font-semibold",children:u.material})]}),u.color&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Ese,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Color"})]}),n.jsx("p",{className:"font-semibold",children:u.color})]}),u.size&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(G_,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Size"})]}),n.jsx("p",{className:"font-semibold",children:u.size})]})]})})]}),n.jsxs(X,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-green-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Nr,{className:"h-5 w-5 text-green-600"}),"Pricing & Payment"]})}),n.jsxs(Q,{className:"space-y-6 pt-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-4 bg-gradient-to-br from-primary/10 to-primary/5 rounded-lg border-2 border-primary/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Unit Price"}),n.jsxs("p",{className:"text-2xl font-bold text-primary",children:[parseFloat(u.unit_price).toLocaleString()," ",u.currency]})]}),n.jsxs("div",{className:"p-4 bg-gradient-to-br from-blue-500/10 to-blue-500/5 rounded-lg border-2 border-blue-500/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Quantity"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:u.qty})]}),n.jsxs("div",{className:"p-4 bg-gradient-to-br from-green-500/10 to-green-500/5 rounded-lg border-2 border-green-500/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[parseFloat(u.total_amount).toLocaleString()," ",u.currency]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[u.shipping_cost&&parseFloat(u.shipping_cost)>0&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Shipping Cost"}),n.jsxs("p",{className:"font-semibold",children:[parseFloat(u.shipping_cost).toLocaleString()," ",u.currency]})]}),u.discount&&parseFloat(u.discount)>0&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Discount"}),n.jsxs("p",{className:"font-semibold text-green-600",children:["-",parseFloat(u.discount).toLocaleString()," ",u.currency]})]}),n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Payment Status"}),n.jsx(Ae,{className:y(u.payment_status),children:u.payment_status})]}),u.payment_status_from_orders&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Order Payment Status"}),n.jsx(Ae,{className:y(u.payment_status_from_orders),children:u.payment_status_from_orders})]})]}),(u.payment_amount||u.paid_amount)&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-3",children:[n.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[n.jsx(js,{className:"h-4 w-4"}),"Payment Details"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.payment_amount&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Payment Amount"}),n.jsxs("p",{className:"font-semibold",children:[parseFloat(u.payment_amount).toLocaleString()," ",u.currency]})]}),u.paid_amount!==void 0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Paid Amount"}),n.jsxs("p",{className:"font-semibold text-green-600",children:[parseFloat(u.paid_amount).toLocaleString()," ",u.currency]})]}),u.outstanding_balance!==void 0&&n.jsxs("div",{className:"col-span-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Outstanding Balance"}),n.jsxs("p",{className:`text-lg font-bold ${parseFloat(u.outstanding_balance)>0?"text-danger":"text-success"}`,children:[parseFloat(u.outstanding_balance).toLocaleString()," ",u.currency]})]})]})]})]})]}),u.order_status_info&&u.order_status_info.length>0&&n.jsxs(X,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-purple-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(bs,{className:"h-5 w-5 text-purple-600"}),"Order Tracking"]})}),n.jsx(Q,{className:"pt-6",children:n.jsx("div",{className:"space-y-4",children:u.order_status_info.map((b,N)=>n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ae,{className:y(b.status),children:b.status}),b.po_number&&n.jsxs("span",{className:"text-sm font-mono text-muted-foreground",children:["PO: ",b.po_number]})]}),b.quantity&&n.jsxs("span",{className:"text-sm font-semibold",children:["Qty: ",b.quantity]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[b.placed_on&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Placed On"}),n.jsx("p",{className:"font-medium",children:new Date(b.placed_on).toLocaleDateString()})]}),b.expected_delivery&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Delivery"}),n.jsx("p",{className:"font-medium",children:new Date(b.expected_delivery).toLocaleDateString()})]})]}),b.shipping_address&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Shipping Address"}),n.jsx("p",{className:"text-sm",children:b.shipping_address})]})]},N))})})]}),u.delivery_status_info&&u.delivery_status_info.length>0||u.delivery_address||u.tracking_number?n.jsxs(X,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-orange-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(_r,{className:"h-5 w-5 text-orange-600"}),"Delivery Information"]})}),n.jsxs(Q,{className:"space-y-6 pt-6",children:[u.delivery_status_info&&u.delivery_status_info.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Delivery Tracking"}),u.delivery_status_info.map((b,N)=>n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ae,{className:y(b.status),children:b.status}),b.priority&&n.jsx(Ae,{variant:"outline",children:b.priority})]}),b.tracking_number&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Tracking Number"}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:b.tracking_number})]}),b.location&&n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(xa,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Current Location"}),n.jsx("p",{className:"text-sm font-medium",children:b.location})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[b.expected_date&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Date"}),n.jsx("p",{className:"font-medium",children:new Date(b.expected_date).toLocaleDateString()})]}),b.actual_date&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Actual Date"}),n.jsx("p",{className:"font-medium",children:new Date(b.actual_date).toLocaleDateString()})]})]})]},N))]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.delivery_type&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Delivery Type"}),n.jsx("p",{className:"font-semibold capitalize",children:u.delivery_type.replace("_"," ")})]}),u.tracking_number&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Tracking Number"}),n.jsx("p",{className:"font-mono text-sm font-semibold",children:u.tracking_number})]}),u.ordered_on&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(wr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Ordered On"})]}),n.jsx("p",{className:"font-semibold",children:new Date(u.ordered_on).toLocaleDateString()})]}),u.expected_delivery_date&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Delivery"})]}),n.jsx("p",{className:"font-semibold",children:new Date(u.expected_delivery_date).toLocaleDateString()})]}),u.actual_delivery_date&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(ar,{className:"h-4 w-4 text-green-600"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Actual Delivery"})]}),n.jsx("p",{className:"font-semibold text-green-600",children:new Date(u.actual_delivery_date).toLocaleDateString()})]}),u.eta&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(wr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"ETA"})]}),n.jsx("p",{className:"font-semibold",children:new Date(u.eta).toLocaleDateString()})]}),u.condition_on_arrival&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Condition on Arrival"}),n.jsx("p",{className:"font-semibold",children:u.condition_on_arrival})]})]}),u.delivery_address&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[n.jsx(xa,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),n.jsx("h4",{className:"font-semibold text-sm",children:"Delivery Address"})]}),n.jsx("p",{className:"text-sm mb-1",children:u.delivery_address}),(u.delivery_city||u.delivery_postal_code||u.delivery_country)&&n.jsx("p",{className:"text-sm text-muted-foreground",children:[u.delivery_city,u.delivery_postal_code,u.delivery_country].filter(Boolean).join(", ")})]}),(u.delivery_contact_person||u.delivery_contact_phone||u.delivery_contact_email)&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Delivery Contact"}),u.delivery_contact_person&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($n,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:u.delivery_contact_person})]}),u.delivery_contact_phone&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Co,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:`tel:${u.delivery_contact_phone}`,className:"text-sm text-primary hover:underline",children:u.delivery_contact_phone})]}),u.delivery_contact_email&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(yn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:`mailto:${u.delivery_contact_email}`,className:"text-sm text-primary hover:underline",children:u.delivery_contact_email})]})]}),(u.delivery_instructions||u.delivery_notes||u.special_instructions)&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Instructions & Notes"}),u.delivery_instructions&&n.jsxs("div",{className:"mb-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery Instructions"}),n.jsx("p",{className:"text-sm",children:u.delivery_instructions})]}),u.delivery_notes&&n.jsxs("div",{className:"mb-2",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery Notes"}),n.jsx("p",{className:"text-sm",children:u.delivery_notes})]}),u.special_instructions&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Special Instructions"}),n.jsx("p",{className:"text-sm",children:u.special_instructions})]})]})]})]}):null,(u.notes||u.manual_notes||u.ai_summary_notes)&&n.jsxs(X,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-indigo-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(An,{className:"h-5 w-5 text-indigo-600"}),"Notes & Additional Information"]})}),n.jsxs(Q,{className:"space-y-4 pt-6",children:[u.notes&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-semibold",children:"General Notes"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:u.notes})]}),u.manual_notes&&n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-semibold",children:"Manual Notes"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:u.manual_notes})]}),u.ai_summary_notes&&n.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ys,{className:"h-4 w-4 text-primary"}),n.jsx("p",{className:"text-xs text-muted-foreground font-semibold",children:"AI Summary"})]}),n.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:u.ai_summary_notes})]})]})]})]}),n.jsxs("div",{className:"space-y-6",children:[u.product_image?n.jsxs(X,{className:"border-2 overflow-hidden",children:[n.jsx(we,{className:"bg-gradient-to-r from-slate-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Ui,{className:"h-5 w-5"}),"Product Image"]})}),n.jsx(Q,{className:"p-0",children:n.jsxs("div",{className:"relative group cursor-pointer overflow-hidden",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onMouseMove:g,onClick:()=>d(!0),children:[n.jsx("img",{src:u.product_image,alt:u.product,className:"w-full object-cover aspect-square transition-transform duration-200",style:{transform:a?"scale(1.5)":"scale(1)",transformOrigin:`${o.x}% ${o.y}%`}}),n.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors duration-200 pointer-events-none"}),n.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/70 text-white text-xs px-3 py-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none flex items-center gap-1.5",children:[n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"})}),"Hover to zoom  Click for fullscreen"]})]})})]}):n.jsx(X,{className:"border-2",children:n.jsxs(Q,{className:"py-24 text-center",children:[n.jsx("div",{className:"mx-auto h-24 w-24 rounded-full bg-muted flex items-center justify-center mb-4",children:n.jsx(Ui,{className:"h-12 w-12 text-muted-foreground"})}),n.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"No image available"})]})}),n.jsxs(X,{className:"border-2",children:[n.jsx(we,{className:"bg-gradient-to-r from-cyan-500/5 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(j7,{className:"h-5 w-5 text-cyan-600"}),"Quick Stats"]})}),n.jsxs(Q,{className:"space-y-3 pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Ordered"}),u.is_ordered?n.jsx(ar,{className:"h-5 w-5 text-green-600"}):n.jsx($l,{className:"h-5 w-5 text-muted-foreground"})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Active Order"}),u.has_active_order?n.jsx(ar,{className:"h-5 w-5 text-green-600"}):n.jsx($l,{className:"h-5 w-5 text-muted-foreground"})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Created"}),n.jsx("span",{className:"text-sm font-medium",children:new Date(u.created_at).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Last Updated"}),n.jsx("span",{className:"text-sm font-medium",children:new Date(u.updated_at).toLocaleDateString()})]}),u.created_by&&n.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Created By"}),n.jsx("span",{className:"text-sm font-medium",children:u.created_by})]})]})]}),u.issue_state&&u.issue_state!=="No Issue"&&n.jsxs(X,{className:"border-2 border-danger/50 bg-danger/5",children:[n.jsx(we,{className:"bg-gradient-to-r from-danger/10 to-transparent",children:n.jsxs(Ve,{className:"flex items-center gap-2 text-danger",children:[n.jsx(St,{className:"h-5 w-5"}),"Issue Status"]})}),n.jsxs(Q,{className:"space-y-4 pt-6",children:[n.jsxs("div",{className:"p-3 bg-background rounded-lg border border-danger/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Current Status"}),n.jsx(Ae,{className:y(u.issue_state),children:u.issue_state})]}),u.issue_status_info&&u.issue_status_info.status!=="No Issue"&&n.jsxs("div",{className:"space-y-3",children:[u.issue_status_info.type&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Issue Type"}),n.jsx("p",{className:"font-semibold",children:u.issue_status_info.type})]}),u.issue_status_info.priority&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Priority"}),n.jsx(Ae,{variant:"outline",children:u.issue_status_info.priority})]}),u.issue_status_info.created_at&&n.jsxs("div",{className:"p-3 bg-background rounded-lg border",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Reported On"}),n.jsx("p",{className:"font-medium",children:new Date(u.issue_status_info.created_at).toLocaleDateString()})]})]}),u.issue_description&&n.jsxs("div",{className:"p-4 bg-background rounded-lg border border-danger/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Description"}),n.jsx("p",{className:"text-sm leading-relaxed",children:u.issue_description})]}),(u.replacement_requested||u.replacement_approved)&&n.jsxs("div",{className:"p-4 bg-warning/10 rounded-lg border border-warning/20",children:[n.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-semibold",children:"Replacement Status"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[u.replacement_requested?n.jsx(ar,{className:"h-4 w-4 text-warning"}):n.jsx($l,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:"Replacement Requested"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[u.replacement_approved?n.jsx(ar,{className:"h-4 w-4 text-success"}):n.jsx($l,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:"Replacement Approved"})]}),u.replacement_eta&&n.jsxs("div",{className:"mt-2 pt-2 border-t",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Replacement ETA"}),n.jsx("p",{className:"text-sm font-medium",children:new Date(u.replacement_eta).toLocaleDateString()})]})]})]})]})]})]})]}),c&&u.product_image&&n.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:()=>d(!1),children:[n.jsx("button",{onClick:()=>d(!1),className:"absolute top-4 right-4 z-10 h-10 w-10 rounded-full bg-white/10 hover:bg-white/20 backdrop-blur-sm flex items-center justify-center transition-colors duration-200 group","aria-label":"Close fullscreen",children:n.jsx($l,{className:"h-6 w-6 text-white group-hover:scale-110 transition-transform"})}),n.jsxs("div",{className:"absolute top-4 left-4 bg-black/50 backdrop-blur-sm text-white px-4 py-2 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium",children:u.product}),n.jsx("p",{className:"text-xs text-white/70 mt-0.5",children:"Press ESC or click outside to close"})]}),n.jsx("img",{src:u.product_image,alt:u.product,className:"max-h-[90vh] max-w-[90vw] object-contain rounded-lg shadow-2xl",onClick:b=>b.stopPropagation()})]}),n.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-3 mt-6 gap-6",children:n.jsx("div",{className:"xl:col-span-2 space-y-6",children:x})})]})};function qUe(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-12"})]})}function GUe(){return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-10 w-10 rounded-md"}),n.jsx(C,{className:"h-9 w-32"})]})}function KUe(){return n.jsx(X,{children:n.jsxs(Q,{children:[n.jsxs("div",{className:"grid w-full grid-cols-4 gap-1 bg-muted p-1 rounded-lg mt-6",children:[n.jsx(C,{className:"h-10 rounded-md"}),n.jsx(C,{className:"h-10 rounded-md"}),n.jsx(C,{className:"h-10 rounded-md"}),n.jsx(C,{className:"h-10 rounded-md"})]}),n.jsxs("div",{className:"space-y-6 mt-6",children:[n.jsx(C,{className:"h-6 w-48"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-36"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-48 w-full rounded-md"}),n.jsx(C,{className:"h-3 w-40"})]})}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"flex gap-4 justify-between mt-6 border-t pt-6",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})]})]})})}function YUe(){return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(qUe,{}),n.jsx(GUe,{}),n.jsx(KUe,{})]})})}const XUe=()=>{const{id:e}=Yi(),t=ur(),{toast:r}=xr(),{data:s,isLoading:a}=VX(e),i=s==null?void 0:s.apartment,[o,l]=v.useState({product:"",description:"",category:"",vendor:"",vendor_link:"",sku:"",dimensions:"",weight:"",material:"",color:"",model_number:"",brand:"",country_of_origin:"",sn:"",unit_price:"",qty:1,cost:"",total_cost:"",shipping_cost:"0",discount:"0",currency:"HUF",availability:"In Stock",status:"Design Approved",room:"",link:"",size:"",nm:"",plusz_nm:"",price_per_nm:"",price_per_package:"",nm_per_package:"",all_package:"",package_need_to_order:"",all_price:"",eta:"",ordered_on:"",payment_status:"Unpaid",payment_due_date:"",payment_amount:"",paid_amount:"0",delivery_type:"",delivery_status_tags:"",delivery_address:"",delivery_city:"",delivery_postal_code:"",delivery_country:"",delivery_time_window:"",delivery_instructions:"",delivery_contact_person:"",delivery_contact_phone:"",delivery_contact_email:"",delivery_notes:"",tracking_number:"",condition_on_arrival:"",sender:"",sender_address:"",sender_phone:"",recipient:"",recipient_address:"",recipient_phone:"",recipient_email:"",locker_provider:"",locker_id:"",pickup_provider:"",pickup_location:"",customs_description:"",item_value:"",hs_category:"",insurance:"no",cod:"",pickup_time:"",delivery_deadline:"",special_instructions:"",issue_state:"No Issue",issue_type:"",issue_description:"",replacement_requested:!1,replacement_approved:!1,replacement_eta:"",replacement_of:"",gallery_images:"",attachments:"",notes:"",manual_notes:"",ai_summary_notes:""}),[c,d]=v.useState({}),[u,f]=v.useState(null),[m,h]=v.useState(""),[x,p]=v.useState("basic"),{data:g,isLoading:j,error:y}=WX(i),w=Array.isArray(g)?g:[],{data:b,isLoading:N,error:_}=pm(),S=(b==null?void 0:b.results)||[],A=zX(),E=HX();if(v.useEffect(()=>{var T;if(s){const k=s;console.log(" Product data loaded:",s),console.log(" Category ID:",s.category),console.log(" Vendor ID:",s.vendor),l({product:k.product||"",description:k.description||"",category:k.category?String(k.category):"",vendor:k.vendor?String(k.vendor):"",vendor_link:k.vendor_link||"",sku:k.sku||"",dimensions:k.dimensions||"",weight:k.weight||"",material:k.material||"",color:k.color||"",model_number:k.model_number||"",brand:k.brand||"",country_of_origin:k.country_of_origin||"",sn:k.sn||"",unit_price:((T=k.unit_price)==null?void 0:T.toString())||"",qty:k.qty||1,cost:k.cost||"",total_cost:k.total_cost||"",shipping_cost:k.shipping_cost||"0",discount:k.discount||"0",currency:k.currency||"HUF",availability:k.availability||"In Stock",status:Array.isArray(k.status)?k.status[0]||"Design Approved":k.status||"Design Approved",room:k.room||"",link:k.link||"",size:k.size||"",nm:k.nm||"",plusz_nm:k.plusz_nm||"",price_per_nm:k.price_per_nm||"",price_per_package:k.price_per_package||"",nm_per_package:k.nm_per_package||"",all_package:k.all_package||"",package_need_to_order:k.package_need_to_order||"",all_price:k.all_price||"",eta:k.eta||"",ordered_on:k.ordered_on||"",payment_status:k.payment_status||"Unpaid",payment_due_date:k.payment_due_date||"",payment_amount:k.payment_amount||"",paid_amount:k.paid_amount||"0",delivery_type:k.delivery_type||"",delivery_status_tags:k.delivery_status_tags||"",delivery_address:k.delivery_address||"",delivery_city:k.delivery_city||"",delivery_postal_code:k.delivery_postal_code||"",delivery_country:k.delivery_country||"",delivery_time_window:k.delivery_time_window||"",delivery_instructions:k.delivery_instructions||"",delivery_contact_person:k.delivery_contact_person||"",delivery_contact_phone:k.delivery_contact_phone||"",delivery_contact_email:k.delivery_contact_email||"",delivery_notes:k.delivery_notes||"",tracking_number:k.tracking_number||"",condition_on_arrival:k.condition_on_arrival||"",sender:k.sender||"",sender_address:k.sender_address||"",sender_phone:k.sender_phone||"",recipient:k.recipient||"",recipient_address:k.recipient_address||"",recipient_phone:k.recipient_phone||"",recipient_email:k.recipient_email||"",locker_provider:k.locker_provider||"",locker_id:k.locker_id||"",pickup_provider:k.pickup_provider||"",pickup_location:k.pickup_location||"",customs_description:k.customs_description||"",item_value:k.item_value||"",hs_category:k.hs_category||"",insurance:k.insurance||"no",cod:k.cod||"",pickup_time:k.pickup_time||"",delivery_deadline:k.delivery_deadline||"",special_instructions:k.special_instructions||"",issue_state:k.issue_state||"No Issue",issue_type:k.issue_type||"",issue_description:k.issue_description||"",replacement_requested:k.replacement_requested||!1,replacement_approved:k.replacement_approved||!1,replacement_eta:k.replacement_eta||"",replacement_of:k.replacement_of||"",gallery_images:k.gallery_images||"",attachments:k.attachments||"",notes:k.notes||"",manual_notes:k.manual_notes||"",ai_summary_notes:k.ai_summary_notes||""}),s.product_image&&h(s.product_image)}},[s]),v.useEffect(()=>{y&&!j&&r({title:"Warning",description:"Failed to load categories. You can still add a product by entering the category ID manually.",variant:"destructive"})},[y,j,r]),v.useEffect(()=>{_&&!N&&r({title:"Warning",description:"Failed to load vendors. You can still add a product by entering the vendor ID manually.",variant:"destructive"})},[_,N,r]),a)return n.jsx(YUe,{});if(!s)return n.jsx(ct,{title:"Product Not Found",children:n.jsx(X,{children:n.jsxs(Q,{className:"py-8",children:[n.jsx("p",{className:"text-center text-muted-foreground",children:"Product not found"}),n.jsx("div",{className:"flex justify-center mt-4",children:n.jsx(re,{onClick:()=>t("/apartments"),children:"Back to Apartments"})})]})})});const P=T=>{var M;const k=(M=T.target.files)==null?void 0:M[0];if(k){f(k);const O=new FileReader;O.onloadend=()=>{h(O.result)},O.readAsDataURL(k)}},D=()=>{f(null),h("")},I=()=>{const T={};return o.product.trim()||(T.product="Product name is required"),o.category||(T.category="Category is required"),o.vendor||(T.vendor="Vendor is required"),(!o.unit_price||parseFloat(o.unit_price)<=0)&&(T.unit_price="Valid unit price is required"),(!o.qty||o.qty<=0)&&(T.qty="Valid quantity is required"),d(T),Object.keys(T).length===0},W=async T=>{if(T.preventDefault(),!I()){r({title:"Validation Error",description:"Please fix the errors in the form.",variant:"destructive"});return}try{if(u){const k=new FormData;k.append("category",o.category),k.append("product",o.product),k.append("vendor",o.vendor),k.append("unit_price",o.unit_price),k.append("qty",o.qty.toString()),k.append("availability",o.availability),k.append("status",o.status),k.append("payment_status",o.payment_status),k.append("paid_amount",o.paid_amount),k.append("currency",o.currency),k.append("issue_state",o.issue_state),k.append("image_file",u),console.log(" Sending FormData with image:"),console.log("  - Image file:",u),console.log("  - File name:",u.name),console.log("  - File size:",u.size),console.log("  - File type:",u.type);for(let M of k.entries())console.log(`  - ${M[0]}:`,M[1]);o.description&&k.append("description",o.description),o.vendor_link&&k.append("vendor_link",o.vendor_link),o.sku&&k.append("sku",o.sku),o.dimensions&&k.append("dimensions",o.dimensions),o.weight&&k.append("weight",o.weight),o.material&&k.append("material",o.material),o.color&&k.append("color",o.color),o.model_number&&k.append("model_number",o.model_number),o.brand&&k.append("brand",o.brand),o.country_of_origin&&k.append("country_of_origin",o.country_of_origin),o.sn&&k.append("sn",o.sn),o.cost&&k.append("cost",o.cost),o.total_cost&&k.append("total_cost",o.total_cost),o.shipping_cost&&k.append("shipping_cost",o.shipping_cost),o.discount&&k.append("discount",o.discount),o.room&&k.append("room",o.room),o.link&&k.append("link",o.link),o.size&&k.append("size",o.size),o.nm&&k.append("nm",o.nm),o.plusz_nm&&k.append("plusz_nm",o.plusz_nm),o.price_per_nm&&k.append("price_per_nm",o.price_per_nm),o.price_per_package&&k.append("price_per_package",o.price_per_package),o.nm_per_package&&k.append("nm_per_package",o.nm_per_package),o.all_package&&k.append("all_package",o.all_package),o.package_need_to_order&&k.append("package_need_to_order",o.package_need_to_order),o.all_price&&k.append("all_price",o.all_price),o.eta&&k.append("eta",o.eta),o.ordered_on&&k.append("ordered_on",o.ordered_on),o.payment_due_date&&k.append("payment_due_date",o.payment_due_date),o.payment_amount&&k.append("payment_amount",o.payment_amount),o.delivery_type&&k.append("delivery_type",o.delivery_type),o.delivery_status_tags&&k.append("delivery_status_tags",o.delivery_status_tags),o.delivery_address&&k.append("delivery_address",o.delivery_address),o.delivery_city&&k.append("delivery_city",o.delivery_city),o.delivery_postal_code&&k.append("delivery_postal_code",o.delivery_postal_code),o.delivery_country&&k.append("delivery_country",o.delivery_country),o.delivery_time_window&&k.append("delivery_time_window",o.delivery_time_window),o.delivery_instructions&&k.append("delivery_instructions",o.delivery_instructions),o.delivery_contact_person&&k.append("delivery_contact_person",o.delivery_contact_person),o.delivery_contact_phone&&k.append("delivery_contact_phone",o.delivery_contact_phone),o.delivery_contact_email&&k.append("delivery_contact_email",o.delivery_contact_email),o.delivery_notes&&k.append("delivery_notes",o.delivery_notes),o.tracking_number&&k.append("tracking_number",o.tracking_number),o.condition_on_arrival&&k.append("condition_on_arrival",o.condition_on_arrival),o.sender&&k.append("sender",o.sender),o.sender_address&&k.append("sender_address",o.sender_address),o.sender_phone&&k.append("sender_phone",o.sender_phone),o.recipient&&k.append("recipient",o.recipient),o.recipient_address&&k.append("recipient_address",o.recipient_address),o.recipient_phone&&k.append("recipient_phone",o.recipient_phone),o.recipient_email&&k.append("recipient_email",o.recipient_email),o.locker_provider&&k.append("locker_provider",o.locker_provider),o.locker_id&&k.append("locker_id",o.locker_id),o.pickup_provider&&k.append("pickup_provider",o.pickup_provider),o.pickup_location&&k.append("pickup_location",o.pickup_location),o.customs_description&&k.append("customs_description",o.customs_description),o.item_value&&k.append("item_value",o.item_value),o.hs_category&&k.append("hs_category",o.hs_category),o.insurance&&k.append("insurance",o.insurance),o.cod&&k.append("cod",o.cod),o.pickup_time&&k.append("pickup_time",o.pickup_time),o.delivery_deadline&&k.append("delivery_deadline",o.delivery_deadline),o.special_instructions&&k.append("special_instructions",o.special_instructions),o.issue_type&&k.append("issue_type",o.issue_type),o.issue_description&&k.append("issue_description",o.issue_description),k.append("replacement_requested",o.replacement_requested.toString()),k.append("replacement_approved",o.replacement_approved.toString()),o.replacement_eta&&k.append("replacement_eta",o.replacement_eta),o.replacement_of&&k.append("replacement_of",o.replacement_of),o.notes&&k.append("notes",o.notes),o.manual_notes&&k.append("manual_notes",o.manual_notes),o.ai_summary_notes&&k.append("ai_summary_notes",o.ai_summary_notes),await A.mutateAsync({id:e,data:k})}else{const k={category:o.category,product:o.product,description:o.description||void 0,vendor:o.vendor,vendor_link:o.vendor_link||void 0,sku:o.sku||void 0,dimensions:o.dimensions||void 0,weight:o.weight||void 0,material:o.material||void 0,color:o.color||void 0,model_number:o.model_number||void 0,brand:o.brand||void 0,country_of_origin:o.country_of_origin||void 0,sn:o.sn||void 0,unit_price:o.unit_price,qty:o.qty,shipping_cost:o.shipping_cost||void 0,discount:o.discount||void 0,currency:o.currency,availability:o.availability,status:o.status,room:o.room||void 0,link:o.link||void 0,size:o.size||void 0,nm:o.nm||void 0,price_per_nm:o.price_per_nm||void 0,price_per_package:o.price_per_package||void 0,nm_per_package:o.nm_per_package||void 0,eta:o.eta||null,ordered_on:o.ordered_on||null,payment_status:o.payment_status,payment_due_date:o.payment_due_date||null,payment_amount:o.payment_amount||null,paid_amount:o.paid_amount,delivery_type:o.delivery_type||void 0,delivery_status_tags:o.delivery_status_tags||void 0,delivery_address:o.delivery_address||void 0,delivery_city:o.delivery_city||void 0,delivery_postal_code:o.delivery_postal_code||void 0,delivery_country:o.delivery_country||void 0,delivery_time_window:o.delivery_time_window||void 0,delivery_instructions:o.delivery_instructions||void 0,delivery_contact_person:o.delivery_contact_person||void 0,delivery_contact_phone:o.delivery_contact_phone||void 0,delivery_contact_email:o.delivery_contact_email||void 0,delivery_notes:o.delivery_notes||void 0,tracking_number:o.tracking_number||void 0,condition_on_arrival:o.condition_on_arrival||void 0,delivery_deadline:o.delivery_deadline||void 0,special_instructions:o.special_instructions||void 0,replacement_of:o.replacement_of||void 0,notes:o.notes||void 0,manual_notes:o.manual_notes||void 0,ai_summary_notes:o.ai_summary_notes||void 0};await A.mutateAsync({id:e,data:k})}r({title:"Product Updated",description:"Product has been updated successfully."}),t(`/products/${e}`)}catch{}},H=o.unit_price&&o.qty?parseFloat(o.unit_price)*o.qty+(parseFloat(o.shipping_cost)||0)-(parseFloat(o.discount)||0):0,F=H-(parseFloat(o.paid_amount)||0);return n.jsx(ct,{title:"Edit Product",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Fa,{children:n.jsxs($a,{children:[n.jsx(er,{children:n.jsx(Qn,{href:"/apartments",children:"Apartments"})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(Qn,{href:`/apartments/${i}`,children:"Apartment"})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(Qn,{href:`/products/${e}`,children:s.product})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(pi,{children:"Edit"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(re,{variant:"ghost",size:"icon",onClick:()=>t(`/products/${e}`),children:n.jsx(rr,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-3xl font-bold",children:"Edit Product"})]}),n.jsx("form",{onSubmit:W,children:n.jsx(X,{children:n.jsxs(Q,{children:[n.jsxs(To,{value:x,onValueChange:p,children:[n.jsxs(Qi,{className:"grid w-full grid-cols-4 mt-6",children:[n.jsx(Ut,{value:"basic",children:"Basic Info"}),n.jsx(Ut,{value:"measurements",children:"Measurements"}),n.jsx(Ut,{value:"pricing",children:"Pricing"}),n.jsx(Ut,{value:"additional",children:"Additional"})]}),n.jsxs(Yt,{value:"basic",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Basic Product Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"product",children:"Product Name *"}),n.jsx(fe,{id:"product",value:o.product,onChange:T=>l({...o,product:T.target.value}),placeholder:"Modern Sofa"}),c.product&&n.jsx("p",{className:"text-sm text-destructive",children:c.product})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"category",children:"Category *"}),n.jsx(Cw,{options:w.map(T=>({value:T.id,label:T.name})),value:o.category,onValueChange:T=>l({...o,category:T}),onCreate:async T=>{const k=await E.mutateAsync({name:T,apartment:i,sheet_name:T});return{id:k.id,name:k.name}},placeholder:"Select category",searchPlaceholder:"Search categories...",emptyText:"No categories found.",createText:"Create new category",isLoading:j}),c.category&&n.jsx("p",{className:"text-sm text-destructive",children:c.category})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"vendor",children:"Vendor *"}),n.jsx(Cw,{options:S.map(T=>({value:T.id,label:T.company_name||T.name})),value:o.vendor,onValueChange:T=>l({...o,vendor:T}),onNavigateToCreate:()=>{t("/vendors/new")},placeholder:"Select vendor",searchPlaceholder:"Search vendors...",emptyText:"No vendors found.",createText:"Create new vendor",isLoading:N}),c.vendor&&n.jsx("p",{className:"text-sm text-destructive",children:c.vendor})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"link",children:"Product Link (Optional)"}),n.jsx(fe,{id:"link",type:"url",value:o.link,onChange:T=>l({...o,link:T.target.value}),placeholder:"https://example.com/product"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"sku",children:"SKU *"}),n.jsx(fe,{id:"sku",value:o.sku,onChange:T=>l({...o,sku:T.target.value}),placeholder:"SOFA-001"}),c.sku&&n.jsx("p",{className:"text-sm text-destructive",children:c.sku})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"room",children:"Room (Optional)"}),n.jsx(fe,{id:"room",value:o.room,onChange:T=>l({...o,room:T.target.value}),placeholder:"Living Room, Bedroom, etc."})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"imageFile",children:"Product Image"}),m?n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"relative w-full h-48 border rounded-md overflow-hidden bg-muted",children:[n.jsx("img",{src:m,alt:"Product preview",className:"w-full h-full object-contain"}),n.jsx(re,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:D,children:"Remove"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:u==null?void 0:u.name})]}):n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(fe,{id:"imageFile",type:"file",accept:"image/*",onChange:P,className:"cursor-pointer"})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload a product image (JPG, PNG, GIF, etc.)"})]})}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"unitPrice",children:"Unit Price (HUF) *"}),n.jsx(fe,{id:"unitPrice",type:"number",min:"0",step:"0.01",value:o.unit_price,onChange:T=>l({...o,unit_price:T.target.value}),placeholder:"150000"}),c.unitPrice&&n.jsx("p",{className:"text-sm text-destructive",children:c.unitPrice})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"qty",children:"Quantity *"}),n.jsx(fe,{id:"qty",type:"number",min:"1",value:o.qty,onChange:T=>l({...o,qty:parseInt(T.target.value)||1}),placeholder:"1"}),c.qty&&n.jsx("p",{className:"text-sm text-destructive",children:c.qty})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"availability",children:"Availability *"}),n.jsxs(tt,{value:o.availability,onValueChange:T=>l({...o,availability:T}),children:[n.jsx(Je,{id:"availability",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"In Stock",children:"In Stock"}),n.jsx(ee,{value:"Backorder",children:"Backorder"}),n.jsx(ee,{value:"Out of Stock",children:"Out of Stock"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",children:"Product Status *"}),n.jsxs(tt,{value:o.status,onValueChange:T=>l({...o,status:T}),children:[n.jsx(Je,{id:"status",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"Design Approved",children:"Design Approved"}),n.jsx(ee,{value:"Ready To Order",children:"Ready To Order"}),n.jsx(ee,{value:"Ordered",children:"Ordered"}),n.jsx(ee,{value:"Shipped",children:"Shipped"}),n.jsx(ee,{value:"Delivered",children:"Delivered"}),n.jsx(ee,{value:"Damaged",children:"Damaged"}),n.jsx(ee,{value:"Wrong Item",children:"Wrong Item"}),n.jsx(ee,{value:"Missing",children:"Missing"})]})]})]})]})]}),n.jsxs(Yt,{value:"measurements",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Product Specifications"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"dimensions",children:"Dimensions"}),n.jsx(fe,{id:"dimensions",value:o.dimensions,onChange:T=>l({...o,dimensions:T.target.value}),placeholder:"120x80x45 cm"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"weight",children:"Weight"}),n.jsx(fe,{id:"weight",value:o.weight,onChange:T=>l({...o,weight:T.target.value}),placeholder:"25 kg"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"material",children:"Material"}),n.jsx(fe,{id:"material",value:o.material,onChange:T=>l({...o,material:T.target.value}),placeholder:"Oak Wood"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"color",children:"Color"}),n.jsx(fe,{id:"color",value:o.color,onChange:T=>l({...o,color:T.target.value}),placeholder:"Natural Oak"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"size",children:"Size"}),n.jsx(fe,{id:"size",value:o.size,onChange:T=>l({...o,size:T.target.value}),placeholder:"Large"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"NM Measurements (for Flooring/Tiles)"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"nm",children:"NM"}),n.jsx(fe,{id:"nm",type:"number",step:"0.01",value:o.nm,onChange:T=>l({...o,nm:T.target.value}),placeholder:"10.5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"plusz_nm",children:"Plus NM"}),n.jsx(fe,{id:"plusz_nm",type:"number",step:"0.01",value:o.plusz_nm,onChange:T=>l({...o,plusz_nm:T.target.value}),placeholder:"1.5"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"price_per_nm",children:"Price per NM"}),n.jsx(fe,{id:"price_per_nm",type:"number",step:"0.01",value:o.price_per_nm,onChange:T=>l({...o,price_per_nm:T.target.value}),placeholder:"5000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"price_per_package",children:"Price per Package"}),n.jsx(fe,{id:"price_per_package",type:"number",step:"0.01",value:o.price_per_package,onChange:T=>l({...o,price_per_package:T.target.value}),placeholder:"15000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"nm_per_package",children:"NM per Package"}),n.jsx(fe,{id:"nm_per_package",type:"number",step:"0.01",value:o.nm_per_package,onChange:T=>l({...o,nm_per_package:T.target.value}),placeholder:"3"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"package_need_to_order",children:"Package Need to Order"}),n.jsx(fe,{id:"package_need_to_order",type:"number",value:o.package_need_to_order,onChange:T=>l({...o,package_need_to_order:T.target.value}),placeholder:"8"})]})]})]})]}),n.jsxs(Yt,{value:"pricing",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Payment Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"total_amount",children:"Total Amount (HUF)"}),n.jsx("div",{className:"h-10 px-3 py-2 rounded-md border border-input bg-muted flex items-center",children:n.jsx("span",{className:"font-semibold text-lg",children:H.toLocaleString()})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: (Unit Price  Qty) + Shipping - Discount"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"shipping_cost",children:"Shipping Cost (Optional)"}),n.jsx(fe,{id:"shipping_cost",type:"number",min:"0",step:"0.01",value:o.shipping_cost,onChange:T=>l({...o,shipping_cost:T.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"discount",children:"Discount (Optional)"}),n.jsx(fe,{id:"discount",type:"number",min:"0",step:"0.01",value:o.discount,onChange:T=>l({...o,discount:T.target.value}),placeholder:"0"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paid_amount",children:"Paid Amount"}),n.jsx(fe,{id:"paid_amount",type:"number",min:"0",step:"0.01",value:o.paid_amount,onChange:T=>l({...o,paid_amount:T.target.value}),placeholder:"0"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Outstanding Balance"}),n.jsx("div",{className:`h-10 px-3 py-2 rounded-md border flex items-center ${F>0?"bg-red-50 border-red-200 text-red-700":"bg-green-50 border-green-200 text-green-700"}`,children:n.jsxs("span",{className:"font-semibold text-lg",children:[F.toLocaleString()," HUF"]})}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-calculated: Total Amount - Paid Amount"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paymentStatus",children:"Payment Status *"}),n.jsxs(tt,{value:o.payment_status,onValueChange:T=>l({...o,payment_status:T}),children:[n.jsx(Je,{id:"paymentStatus",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"Unpaid",children:"Unpaid"}),n.jsx(ee,{value:"Partially Paid",children:"Partially Paid"}),n.jsx(ee,{value:"Paid",children:"Paid"}),n.jsx(ee,{value:"Overdue",children:"Overdue"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"currency",children:"Currency"}),n.jsxs(tt,{value:o.currency,onValueChange:T=>l({...o,currency:T}),children:[n.jsx(Je,{id:"currency",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"HUF",children:"HUF (Hungarian Forint)"}),n.jsx(ee,{value:"EUR",children:"EUR (Euro)"}),n.jsx(ee,{value:"USD",children:"USD (US Dollar)"})]})]})]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paymentDueDate",children:"Payment Due Date *"}),n.jsx(fe,{id:"paymentDueDate",type:"date",value:o.payment_due_date,onChange:T=>l({...o,payment_due_date:T.target.value})})]})})]}),n.jsxs(Yt,{value:"additional",className:"space-y-6 mt-6",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Additional Information"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"brand",children:"Brand"}),n.jsx(fe,{id:"brand",value:o.brand,onChange:T=>l({...o,brand:T.target.value}),placeholder:"e.g., IKEA, Samsung, etc."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"country_of_origin",children:"Country of Origin"}),n.jsx(fe,{id:"country_of_origin",value:o.country_of_origin,onChange:T=>l({...o,country_of_origin:T.target.value}),placeholder:"e.g., Hungary, China, Germany"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"condition_on_arrival",children:"Condition on Arrival"}),n.jsx(fe,{id:"condition_on_arrival",value:o.condition_on_arrival,onChange:T=>l({...o,condition_on_arrival:T.target.value}),placeholder:"Good, Damaged, Needs Inspection, etc."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-md font-semibold",children:"Notes & Documentation"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"General Notes"}),n.jsx(fa,{id:"notes",value:o.notes,onChange:T=>l({...o,notes:T.target.value}),placeholder:"General notes about this product...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"manual_notes",children:"Manual Notes"}),n.jsx(fa,{id:"manual_notes",value:o.manual_notes,onChange:T=>l({...o,manual_notes:T.target.value}),placeholder:"Manual notes added by staff...",rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"ai_summary_notes",children:"AI Summary Notes"}),n.jsx(fa,{id:"ai_summary_notes",value:o.ai_summary_notes,onChange:T=>l({...o,ai_summary_notes:T.target.value}),placeholder:"AI-generated summary and insights...",rows:3}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"AI-generated summaries and recommendations"})]})]})]})]}),n.jsxs("div",{className:"flex gap-4 justify-between mt-6 border-t pt-6",children:[n.jsx("div",{children:x!=="basic"&&n.jsx(re,{type:"button",variant:"outline",onClick:T=>{T.preventDefault(),T.stopPropagation();const k=["basic","measurements","pricing","additional"],M=k.indexOf(x);M>0&&p(k[M-1])},children:" Previous"})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(re,{type:"button",variant:"outline",onClick:T=>{T.preventDefault(),T.stopPropagation(),t(`/products/${e}`)},children:"Cancel"}),x!=="additional"?n.jsx(re,{type:"button",onClick:T=>{T.preventDefault(),T.stopPropagation();const k=["basic","measurements","pricing","additional"],M=k.indexOf(x);M<k.length-1&&p(k[M+1])},children:"Next "}):n.jsxs(re,{type:"submit",disabled:A.isPending,children:[A.isPending&&n.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}),A.isPending?"Saving...":"Save Changes"]})]})]})]})})})]})})},QUe=$p("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),qd=v.forwardRef(({className:e,variant:t,...r},s)=>n.jsx("div",{ref:s,role:"alert",className:ge(QUe({variant:t}),e),...r}));qd.displayName="Alert";const ZUe=v.forwardRef(({className:e,...t},r)=>n.jsx("h5",{ref:r,className:ge("mb-1 font-medium leading-none tracking-tight",e),...t}));ZUe.displayName="AlertTitle";const Gd=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:ge("text-sm [&_p]:leading-relaxed",e),...t}));Gd.displayName="AlertDescription";const JUe=()=>{const e=ur(),[t]=EN(),r=t.get("apartmentId"),{toast:s}=xr(),[a,i]=v.useState(null),[o,l]=v.useState(!1),[c,d]=v.useState(0),[u,f]=v.useState(null),[m,h]=v.useState(""),[x,p]=v.useState(""),{data:g,isLoading:j}=pm(),y=(g==null?void 0:g.results)||[],w=S=>S<1024?S+" B":S<1024*1024?(S/1024).toFixed(2)+" KB":(S/(1024*1024)).toFixed(2)+" MB",b=S=>{var E;const A=(E=S.target.files)==null?void 0:E[0];if(A){if(!A.name.match(/\.(xlsx|xls|csv)$/i)){Ue.error("Please select a valid Excel or CSV file");return}if(A.size>50*1024*1024){Ue.error("File too large. Maximum size is 50MB");return}i(A),h(w(A.size)),f(null)}},N=async()=>{var S,A;if(!a||!r){Ue.error("Please select a file");return}l(!0),d(0);try{const E=setInterval(()=>{d(D=>D>=90?(clearInterval(E),90):D+10)},200);console.log(" DEBUG: Sending import request with:",{file:a.name,apartmentId:r,selectedVendorId:x||"none"});const P=await Hi.importProducts(a,r,x||"");clearInterval(E),d(100),f(P),s({title:"Import Successful!",description:n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-semibold",children:P.message}),n.jsxs("p",{className:"text-sm",children:["Total products: ",P.total_products]}),n.jsxs("p",{className:"text-sm",children:["Successfully imported: ",P.successful_imports]}),P.failed_imports>0&&n.jsxs("p",{className:"text-sm text-yellow-600",children:["Failed: ",P.failed_imports]})]})}),setTimeout(()=>{e(`/apartments/${r}`)},2e3)}catch(E){console.error("Import error:",E),s({title:"Import Failed",description:((A=(S=E.response)==null?void 0:S.data)==null?void 0:A.message)||E.message||"Failed to import products. Please try again.",variant:"destructive"}),d(0)}finally{l(!1)}},_=async()=>{try{const S=await Hi.downloadImportTemplate(),A=window.URL.createObjectURL(S),E=document.createElement("a");E.href=A,E.download="apartment-template.xlsx",document.body.appendChild(E),E.click(),window.URL.revokeObjectURL(A),document.body.removeChild(E),Ue.success("Template downloaded successfully")}catch{Ue.error("Failed to download template")}};return n.jsx(ct,{title:"Import Products",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(re,{variant:"ghost",onClick:()=>e(-1),disabled:o,children:[n.jsx(rr,{className:"mr-2 h-4 w-4"}),"Back"]}),n.jsxs(X,{children:[n.jsxs(we,{children:[n.jsx(Ve,{className:"text-xl",children:"Select Vendor (Optional)"}),n.jsx(Ir,{className:"mt-1",children:"Optionally choose a vendor to assign to all imported products"})]}),n.jsx(Q,{children:n.jsxs(tt,{value:x,onValueChange:p,disabled:o,children:[n.jsx(Je,{className:"w-full",children:n.jsx(rt,{placeholder:"Select a vendor"})}),n.jsx(et,{children:j?n.jsx(ee,{value:"loading",disabled:!0,children:"Loading vendors..."}):y.length===0?n.jsx(ee,{value:"no-vendors",disabled:!0,children:"No vendors available"}):y.map(S=>n.jsx(ee,{value:S.id,children:S.name},S.id))})]})})]}),n.jsxs(X,{className:"border-2 border-dashed",children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Upload File"}),n.jsx(Ir,{className:"mt-1",children:"Select an Excel (.xlsx, .xls) or CSV file (max 50MB)"})]}),a&&m&&n.jsx(Ae,{variant:"secondary",className:"text-sm",children:m})]})}),n.jsx(Q,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:b,className:"hidden",disabled:o}),n.jsx(re,{variant:"outline",asChild:!0,disabled:o,className:"relative overflow-hidden",children:n.jsx("span",{children:o?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Vi,{className:"mr-2 h-4 w-4"}),"Choose File"]})})})]}),a&&!o&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ek,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium",children:a.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:m})]})]})]}),o&&c>0&&n.jsxs("div",{className:"space-y-2 p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"font-medium",children:"Uploading and processing..."}),n.jsxs("span",{className:"text-muted-foreground",children:[c.toFixed(0),"%"]})]}),n.jsx(q2,{value:c,className:"h-2"})]}),n.jsx("div",{className:"flex justify-start",children:n.jsxs(re,{variant:"outline",size:"sm",onClick:_,disabled:o,children:[n.jsx(Dv,{className:"mr-2 h-4 w-4"}),"Download Template"]})})]})})]}),u&&n.jsxs(X,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Import Results"}),n.jsx(Ir,{children:"Summary of the import operation"})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs(qd,{children:[n.jsx(Vr,{className:"h-4 w-4 text-success"}),n.jsxs(Gd,{children:[n.jsx("div",{className:"font-semibold",children:"Total Products"}),n.jsx("div",{className:"text-2xl",children:u.total_products})]})]}),n.jsxs(qd,{children:[n.jsx(Vr,{className:"h-4 w-4 text-success"}),n.jsxs(Gd,{children:[n.jsx("div",{className:"font-semibold",children:"Successfully Imported"}),n.jsx("div",{className:"text-2xl text-green-600",children:u.successful_imports})]})]}),u.failed_imports>0&&n.jsxs(qd,{variant:"destructive",children:[n.jsx(St,{className:"h-4 w-4"}),n.jsxs(Gd,{children:[n.jsx("div",{className:"font-semibold",children:"Failed"}),n.jsx("div",{className:"text-2xl",children:u.failed_imports})]})]})]}),u.errors&&u.errors.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Errors:"}),n.jsx("div",{className:"space-y-1",children:u.errors.map((S,A)=>n.jsx("div",{className:"text-sm text-destructive bg-destructive/10 p-2 rounded",children:S},A))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(re,{onClick:()=>e(`/apartments/${r}`),children:[n.jsx(Vr,{className:"mr-2 h-4 w-4"}),"View Products"]})})]})]}),a&&!u&&n.jsx(X,{children:n.jsx(Q,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(re,{variant:"outline",onClick:()=>{i(null),h("")},disabled:o,children:"Clear"}),n.jsx(re,{onClick:N,disabled:!a||o,className:"min-w-[200px]",children:o?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Vi,{className:"mr-2 h-4 w-4"}),"Import Products"]})})]})})})]})})},eVe=({open:e,onOpenChange:t,order:r})=>{const{toast:s}=xr(),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),m=x=>{if(x.preventDefault(),!a){s({title:"Validation Error",description:"Please enter a tracking number",variant:"destructive"});return}s({title:"Tracking Updated",description:`Delivery tracking updated for ${r==null?void 0:r.po_number}`}),t(!1)};if(!r)return null;const h=[{date:"2025-11-06 16:45",status:"Out for Delivery",location:"Local Hub - Budapest",description:"Package is out for delivery and will arrive today",active:!0},{date:"2025-11-06 09:15",status:"In Transit",location:"Distribution Center",description:"Package is on the way to delivery location",active:!1},{date:"2025-11-05 14:30",status:"Package Dispatched",location:"Warehouse - Budapest",description:"Package has been dispatched from warehouse",active:!1}];return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(qr,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsx(Jr,{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg",children:n.jsx(_r,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx(en,{className:"text-lg font-bold",children:"Delivery Tracking"}),n.jsxs(is,{className:"text-sm",children:["Track delivery for ",r.po_number]})]})]})}),n.jsx(Ft,{}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:n.jsxs("div",{className:"space-y-4 p-1",children:[n.jsx(X,{className:"border bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-950/20 dark:to-cyan-950/20",children:n.jsxs(Q,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-blue-600/10 rounded",children:n.jsx(lt,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Status"}),n.jsx("p",{className:"text-sm font-bold",children:r.status})]})]}),n.jsx(Ae,{className:"bg-blue-600 text-white text-xs px-2 py-1",children:r.tracking||"No Tracking"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-blue-200 dark:border-blue-800",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xa,{className:"h-3.5 w-3.5 text-blue-600 dark:text-blue-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"To"}),n.jsx("p",{className:"text-sm font-medium",children:r.apartment})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ase,{className:"h-3.5 w-3.5 text-blue-600 dark:text-blue-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"From"}),n.jsx("p",{className:"text-sm font-medium",children:r.vendor})]})]})]})]})}),r.tracking&&n.jsx(X,{className:"border",children:n.jsxs(Q,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 mb-3 border-b",children:[n.jsx("div",{className:"p-1 bg-primary/10 rounded",children:n.jsx(wr,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Tracking History"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery updates"})]})]}),n.jsx("div",{className:"space-y-4",children:h.map((x,p)=>n.jsxs("div",{className:"flex gap-3 relative",children:[p!==h.length-1&&n.jsx("div",{className:"absolute left-3.5 top-8 bottom-0 w-0.5 bg-gradient-to-b from-primary to-muted"}),n.jsx("div",{className:"relative flex-shrink-0",children:n.jsx("div",{className:`w-7 h-7 rounded-full border-2 border-background flex items-center justify-center ${x.active?"bg-primary shadow-md":"bg-muted"}`,children:x.active?n.jsx(_r,{className:"h-3.5 w-3.5 text-primary-foreground"}):n.jsx(ar,{className:"h-3.5 w-3.5 text-muted-foreground"})})}),n.jsxs("div",{className:`flex-1 pb-2 ${x.active?"pt-0.5":""}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsx("p",{className:`font-semibold text-sm ${x.active?"text-primary":""}`,children:x.status}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:x.date})]}),n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(xa,{className:"h-3 w-3"}),x.location]})]})]},p))})]})}),n.jsx(X,{className:"border",children:n.jsxs(Q,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 mb-3 border-b",children:[n.jsx("div",{className:"p-1 bg-primary/10 rounded",children:n.jsx(lt,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-sm",children:"Update Tracking"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Modify delivery details"})]})]}),n.jsxs("form",{onSubmit:m,className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(q,{htmlFor:"tracking",className:"flex items-center gap-1.5 text-xs font-medium",children:[n.jsx(lt,{className:"h-3 w-3 text-primary"}),"Tracking Number *"]}),n.jsx(fe,{id:"tracking",placeholder:"TRK-99234",value:a,onChange:x=>i(x.target.value),defaultValue:r.tracking,className:"h-9 text-sm"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(q,{htmlFor:"estimated",className:"flex items-center gap-1.5 text-xs font-medium",children:[n.jsx(Hr,{className:"h-3 w-3 text-primary"}),"Delivery Date"]}),n.jsx(fe,{id:"estimated",type:"date",value:o,onChange:x=>l(x.target.value),className:"h-9 text-sm"})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs(q,{htmlFor:"person",className:"flex items-center gap-1.5 text-xs font-medium",children:[n.jsx($n,{className:"h-3 w-3 text-primary"}),"Courier / Person"]}),n.jsx(fe,{id:"person",placeholder:"Delivery person or courier service",value:c,onChange:x=>d(x.target.value),className:"h-9 text-sm"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(q,{htmlFor:"notes",className:"text-xs font-medium",children:"Notes"}),n.jsx(gn,{id:"notes",placeholder:"Special instructions or notes...",value:u,onChange:x=>f(x.target.value),rows:3,className:"resize-none text-sm"})]}),n.jsx(Ft,{className:"my-3"}),n.jsxs(Va,{className:"gap-2",children:[n.jsx(re,{type:"button",variant:"outline",onClick:()=>t(!1),size:"sm",children:"Cancel"}),n.jsxs(re,{type:"submit",className:"gap-1.5",size:"sm",children:[n.jsx(ar,{className:"h-3.5 w-3.5"}),"Update"]})]})]})]})})]})})]})})},Y$={draft:"sent",sent:"sent",Draft:"sent",Sent:"sent"},X$={draft:"Draft",sent:"Sent"},tVe=({open:e,onOpenChange:t,order:r,onStatusUpdate:s})=>{const{toast:a}=xr(),[i,o]=v.useState("");if(!r)return null;const l=r.status.toLowerCase(),c=Y$[r.status]||Y$[l],d=l==="sent",u=X$[l]||r.status,f=X$[c]||c,m=x=>{if(x.preventDefault(),d){a({title:"Already Sent",description:"This order has already been sent to vendor. Track fulfillment in Deliveries page.",variant:"default"});return}s(r.id,c),a({title:"Status Updated",description:`Order ${r.po_number} status changed to ${f}`}),o(""),t(!1)},h=x=>{const p=x.toLowerCase();return{draft:"bg-gray-500/10 text-gray-500",sent:"bg-blue-500/10 text-blue-500"}[p]||"bg-gray-500/10 text-gray-500"};return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(qr,{className:"max-w-md",children:[n.jsxs(Jr,{children:[n.jsxs(en,{className:"flex items-center gap-2",children:[n.jsx(ar,{className:"h-5 w-5"}),"Update Order Status"]}),n.jsxs(is,{children:["Change the status of order ",r.po_number]})]}),n.jsxs("form",{onSubmit:m,className:"space-y-4",children:[n.jsx("div",{className:"bg-muted p-4 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-center gap-4",children:[n.jsx(Ae,{className:h(r.status),children:u}),n.jsx($b,{className:"h-5 w-5 text-muted-foreground"}),n.jsx(Ae,{className:h(c),children:f})]})}),d?n.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4 text-center",children:[n.jsx(ar,{className:"h-12 w-12 text-blue-500 mx-auto mb-2"}),n.jsx("p",{className:"text-sm font-medium",children:"Order Already Sent"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Track fulfillment in the Deliveries page"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsx("p",{className:"font-medium",children:"What happens next?"}),n.jsx("ul",{className:"space-y-1 text-muted-foreground ml-4 list-disc text-xs",children:c==="sent"&&n.jsxs(n.Fragment,{children:[n.jsx("li",{children:"Order will be marked as sent to vendor"}),n.jsx("li",{children:"Create a delivery record to track fulfillment"}),n.jsx("li",{children:"Vendor will confirm and ship items"})]})})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(q,{htmlFor:"notes",className:"text-sm",children:"Notes (Optional)"}),n.jsx(gn,{id:"notes",placeholder:"Add any notes about this status change...",value:i,onChange:x=>o(x.target.value),rows:3,className:"text-sm"})]})]}),n.jsxs(Va,{children:[n.jsx(re,{type:"button",variant:"outline",onClick:()=>t(!1),size:"sm",children:"Cancel"}),!d&&n.jsxs(re,{type:"submit",size:"sm",children:["Update to ",f]})]})]})]})})},YQ=e=>{const[t,r]=v.useState([]),[s,a]=v.useState(!0),[i,o]=v.useState(null),[l,c]=v.useState(0),[d,u]=v.useState(null),[f,m]=v.useState(null),h=v.useCallback(async()=>{try{a(!0),o(null);const w=await es.getOrders(e);r(w.results),c(w.count),u(w.next),m(w.previous)}catch(w){o(w.message||"Failed to fetch orders"),Ue.error("Failed to fetch orders")}finally{a(!1)}},[e==null?void 0:e.search,e==null?void 0:e.status,e==null?void 0:e.vendor,e==null?void 0:e.apartment,e==null?void 0:e.ordering,e==null?void 0:e.page]);return v.useEffect(()=>{h()},[h]),{orders:t,loading:s,error:i,totalCount:l,nextPage:d,previousPage:f,refetch:h,createOrder:async w=>{var b,N;try{const _=await es.createOrder(w);return r(S=>[_,...S]),Ue.success("Order created successfully"),_}catch(_){throw Ue.error(((N=(b=_.response)==null?void 0:b.data)==null?void 0:N.message)||"Failed to create order"),_}},updateOrder:async(w,b)=>{var N,_;try{const S=await es.updateOrder(w,b);return r(A=>A.map(E=>E.id===w?S:E)),Ue.success("Order updated successfully"),S}catch(S){throw Ue.error(((_=(N=S.response)==null?void 0:N.data)==null?void 0:_.message)||"Failed to update order"),S}},deleteOrder:async w=>{var b,N;try{await es.deleteOrder(w),r(_=>_.filter(S=>S.id!==w)),Ue.success("Order deleted successfully")}catch(_){throw Ue.error(((N=(b=_.response)==null?void 0:b.data)==null?void 0:N.message)||"Failed to delete order"),_}},updateStatus:async(w,b)=>{var N,_;try{const S=await es.updateStatus(w,b);return r(A=>A.map(E=>E.id===w?S:E)),Ue.success(`Order status updated to ${b}`),S}catch(S){throw Ue.error(((_=(N=S.response)==null?void 0:N.data)==null?void 0:_.message)||"Failed to update order status"),S}},markDelivered:async(w,b)=>{var N,_;try{const S=await es.markDelivered(w,b);return r(A=>A.map(E=>E.id===w?S:E)),Ue.success("Order marked as delivered"),S}catch(S){throw Ue.error(((_=(N=S.response)==null?void 0:N.data)==null?void 0:_.message)||"Failed to mark order as delivered"),S}}}},XQ=e=>{const[t,r]=v.useState(null),[s,a]=v.useState(!0),[i,o]=v.useState(null);return v.useEffect(()=>{e&&(async()=>{try{a(!0),o(null);const d=await es.getOrder(e);r(d)}catch(d){o(d.message||"Failed to fetch order"),Ue.error("Failed to fetch order details")}finally{a(!1)}})()},[e]),{order:t,loading:s,error:i,updateOrder:async c=>{var d,u;try{const f=await es.updateOrder(e,c);return r(f),Ue.success("Order updated successfully"),f}catch(f){throw Ue.error(((u=(d=f.response)==null?void 0:d.data)==null?void 0:u.message)||"Failed to update order"),f}}}},rVe=()=>{const[e,t]=v.useState(null),[r,s]=v.useState(!0),[a,i]=v.useState(null);return v.useEffect(()=>{(async()=>{try{s(!0),i(null);const l=await es.getStatistics();t(l)}catch(l){i(l.message||"Failed to fetch statistics"),console.error("Failed to fetch order statistics:",l)}finally{s(!1)}})()},[]),{statistics:e,loading:r,error:a}},nVe=()=>{const[e,t]=v.useState(null),[r,s]=v.useState(!0),[a,i]=v.useState(null);return v.useEffect(()=>{(async()=>{try{s(!0),i(null);const l=await es.getDashboardCharts();t(l)}catch(l){i(l.message||"Failed to fetch chart data"),console.error("Failed to fetch order chart data:",l)}finally{s(!1)}})()},[]),{chartData:e,loading:r,error:a}};function sVe(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{iconBg:"bg-primary/10"},{iconBg:"bg-primary/10"},{iconBg:"bg-primary/10"},{iconBg:"bg-primary/10"}].map((e,t)=>n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-8 w-16"}),n.jsx(C,{className:"h-3 w-20"})]}),n.jsx("div",{className:`h-12 w-12 rounded-full ${e.iconBg} flex items-center justify-center`,children:n.jsx(C,{className:"h-6 w-6 rounded"})})]})})},t))})}function aVe(){return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(X,{children:[n.jsx(we,{children:n.jsx(C,{className:"h-6 w-40"})}),n.jsx(Q,{children:n.jsx("div",{className:"h-[280px] p-4",children:n.jsx("div",{className:"flex items-end justify-between h-full gap-2",children:[...Array(6)].map((e,t)=>n.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center gap-2",children:[n.jsx(C,{className:"w-full rounded-t-lg",style:{height:`${Math.random()*60+40}%`}}),n.jsx(C,{className:"h-3 w-12"})]},t))})})})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsx(C,{className:"h-6 w-48"})}),n.jsx(Q,{children:n.jsx("div",{className:"h-[280px] p-4",children:n.jsx("div",{className:"h-full flex flex-col justify-between",children:[...Array(5)].map((e,t)=>n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-2 w-12"}),n.jsx(C,{className:"h-2 rounded-full",style:{width:`${Math.random()*60+20}%`}})]},t))})})})]})]})}function iVe(){return n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx(C,{className:"h-10 flex-1 rounded-md"}),n.jsx(C,{className:"h-10 w-[180px] rounded-md"}),n.jsx(C,{className:"h-10 w-[180px] rounded-md"}),n.jsx(C,{className:"h-10 w-36 rounded-md"}),n.jsx(C,{className:"h-10 w-36 rounded-md"})]})}function oVe(){return n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-6 w-32"}),n.jsx(C,{className:"h-9 w-20 rounded-md"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["PO Number","Apartment","Vendor","Items","Total","Confirmation","Tracking","Status","Placed On","Actions"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(8)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-16"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx(C,{className:"h-8 w-8 rounded ml-auto"})})]},t))})]})})})]})}function lVe(){return n.jsxs("div",{className:"space-y-6",children:[n.jsx(sVe,{}),n.jsx(aVe,{}),n.jsx(iVe,{}),n.jsx(oVe,{})]})}const cVe=()=>{var R;const e=ur(),{toast:t}=xr(),[r,s]=v.useState(""),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(!1),[u,f]=v.useState(!1),[m,h]=v.useState(!1),[x,p]=v.useState(null),[g,j]=v.useState(!1),{orders:y,loading:w,error:b,totalCount:N,updateStatus:_,markDelivered:S,deleteOrder:A,refetch:E}=YQ({search:r,status:a||void 0,vendor:o||void 0}),{statistics:P,loading:D}=rVe(),{chartData:I,loading:W}=nVe(),H=v.useMemo(()=>{const V=new Set;return y.forEach(L=>{L.vendor_name&&V.add(L.vendor_name)}),Array.from(V)},[y]),F=async(V,L)=>{try{await _(String(V),L),f(!1),p(null)}catch(G){console.error("Failed to update status:",G)}},T=async()=>{if(x)try{j(!0),await A(x.id),h(!1),p(null)}catch(V){console.error("Failed to delete order:",V)}finally{j(!1)}},k=V=>{const L=V.toLowerCase();return{draft:"bg-gray-500/10 text-gray-500",sent:"bg-blue-500/10 text-blue-500"}[L]||"bg-gray-500/10 text-gray-500"},M=(P==null?void 0:P.total_value)||y.reduce((V,L)=>V+Number(L.total),0),O=(P==null?void 0:P.average_order_value)||(y.length>0?M/y.length:0),K=(I==null?void 0:I.vendor_spending)||[],se=((R=I==null?void 0:I.monthly_orders)==null?void 0:R.map(V=>({month:V.month,orders:V.orders,spending:V.value})))||[];return w?n.jsx(ct,{title:"Orders Management",children:n.jsx(lVe,{})}):n.jsxs(ct,{title:"Orders Management",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),n.jsx("p",{className:"text-2xl font-bold",children:N||y.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]}),n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(lt,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Spending"}),n.jsxs("p",{className:"text-2xl font-bold",children:["",M.toLocaleString()]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg: ",O.toFixed(0)]})]}),n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Nr,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold",children:(P==null?void 0:P.pending_orders)||y.filter(V=>V.status.toLowerCase()==="sent").length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Sent to vendor"})]}),n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(wr,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Received"}),n.jsx("p",{className:"text-2xl font-bold",children:(P==null?void 0:P.delivered_orders)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivered orders"})]}),n.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(_r,{className:"h-6 w-6 text-primary"})})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(X,{children:[n.jsx(we,{children:n.jsx(Ve,{children:"Spending by Vendor"})}),n.jsx(Q,{children:W?n.jsx("div",{className:"h-[280px] p-4 space-y-4",children:n.jsx("div",{className:"flex items-end justify-between h-full gap-2",children:[...Array(6)].map((V,L)=>n.jsxs("div",{className:"flex-1 flex flex-col justify-end items-center gap-2",children:[n.jsx(C,{className:"w-full rounded-t-lg",style:{height:`${Math.random()*60+40}%`}}),n.jsx(C,{className:"h-3 w-12"})]},L))})}):K.length===0?n.jsxs("div",{className:"h-[280px] flex flex-col items-center justify-center text-center space-y-3",children:[n.jsx(Nr,{className:"h-10 w-10 text-muted-foreground/50"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"No vendor data available"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Create orders to see analytics"})]}),n.jsxs(re,{onClick:()=>e("/orders/new"),size:"sm",variant:"outline",children:[n.jsx(Kn,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}):n.jsx(av,{config:{amount:{label:"Amount ()",color:"hsl(var(--primary))"}},className:"h-[280px]",children:n.jsxs(wa,{data:K,children:[n.jsx(Un,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(an,{dataKey:"vendor",className:"text-xs"}),n.jsx(on,{className:"text-xs"}),n.jsx(mr,{content:n.jsx(iv,{})}),n.jsx(wn,{dataKey:"amount",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsx(Ve,{children:"Monthly Order Trends"})}),n.jsx(Q,{children:W?n.jsx("div",{className:"h-[280px] p-4",children:n.jsx("div",{className:"h-full flex flex-col justify-between",children:[...Array(5)].map((V,L)=>n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-2 w-12"}),n.jsx(C,{className:"h-2 rounded-full",style:{width:`${Math.random()*60+20}%`}})]},L))})}):se.length===0?n.jsxs("div",{className:"h-[280px] flex flex-col items-center justify-center text-center space-y-3",children:[n.jsx(ni,{className:"h-10 w-10 text-muted-foreground/50"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium",children:"No trend data available"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Create orders to see trends"})]}),n.jsxs(re,{onClick:()=>e("/orders/new"),size:"sm",variant:"outline",children:[n.jsx(Kn,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}):n.jsx(av,{config:{orders:{label:"Orders",color:"hsl(var(--primary))"},spending:{label:"Spending ()",color:"hsl(var(--chart-2))"}},className:"h-[280px]",children:n.jsxs(B2,{data:se,children:[n.jsx(Un,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(an,{dataKey:"month",className:"text-xs"}),n.jsx(on,{className:"text-xs"}),n.jsx(mr,{content:n.jsx(iv,{})}),n.jsx(sl,{}),n.jsx(tc,{type:"monotone",dataKey:"orders",stroke:"hsl(var(--primary))",strokeWidth:2}),n.jsx(tc,{type:"monotone",dataKey:"spending",stroke:"hsl(var(--chart-2))",strokeWidth:2})]})})})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ua,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{placeholder:"Search by PO number, apartment, or vendor...",value:r,onChange:V=>s(V.target.value),className:"pl-9"})]}),n.jsxs(tt,{value:a,onValueChange:i,children:[n.jsx(Je,{className:"w-[180px]",children:n.jsx(rt,{placeholder:"Filter by status"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"all",children:"All Statuses"}),n.jsx(ee,{value:"draft",children:"Draft"}),n.jsx(ee,{value:"sent",children:"Sent"})]})]}),n.jsxs(tt,{value:o,onValueChange:l,children:[n.jsx(Je,{className:"w-[180px]",children:n.jsx(rt,{placeholder:"Filter by vendor"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"all",children:"All Vendors"}),H.map(V=>n.jsx(ee,{value:V,children:V},V))]})]}),n.jsxs(re,{onClick:()=>e("/orders/import"),variant:"outline",children:[n.jsx(Vi,{className:"h-4 w-4 mr-2"}),"Import Orders"]}),n.jsxs(re,{onClick:()=>e("/orders/new"),children:[n.jsx(Kn,{className:"h-4 w-4 mr-2"}),"Create Order"]})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ve,{children:["All Orders (",y.length,")"]}),n.jsxs(re,{variant:"outline",size:"sm",children:[n.jsx(V5,{className:"h-4 w-4 mr-2"}),"Sort"]})]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ds,{children:[n.jsx(Is,{children:n.jsxs(Bt,{children:[n.jsx(Te,{children:"PO Number"}),n.jsx(Te,{children:"Apartment"}),n.jsx(Te,{children:"Vendor"}),n.jsx(Te,{children:"Items"}),n.jsx(Te,{children:"Total"}),n.jsx(Te,{children:"Confirmation"}),n.jsx(Te,{children:"Tracking"}),n.jsx(Te,{children:"Status"}),n.jsx(Te,{children:"Placed On"}),n.jsx(Te,{className:"text-right",children:"Actions"})]})}),n.jsx(Rs,{children:y.length===0?n.jsx(Bt,{children:n.jsx(Se,{colSpan:10,className:"text-center py-8 text-muted-foreground",children:"No orders found"})}):y.map(V=>n.jsxs(Bt,{children:[n.jsx(Se,{className:"font-medium",children:V.po_number}),n.jsx(Se,{children:V.apartment_name||"N/A"}),n.jsx(Se,{children:V.vendor_name||"N/A"}),n.jsxs(Se,{children:[V.items_count," items"]}),n.jsxs(Se,{children:["",Number(V.total).toLocaleString()]}),n.jsx(Se,{children:V.confirmation_code?n.jsx("span",{className:"text-xs font-mono",children:V.confirmation_code}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(Se,{children:V.tracking_number?n.jsx("span",{className:"text-xs font-mono",children:V.tracking_number}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(Se,{children:n.jsx(Ae,{className:k(V.status),children:V.status})}),n.jsx(Se,{children:Ht(new Date(V.placed_on),"yyyy-MM-dd")}),n.jsx(Se,{className:"text-right",children:n.jsxs(Zv,{children:[n.jsx(Jv,{asChild:!0,children:n.jsxs(re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-muted",children:[n.jsx("span",{className:"sr-only",children:"Open menu"}),n.jsx(g7,{className:"h-4 w-4"})]})}),n.jsxs(Yp,{align:"end",className:"w-56",children:[n.jsx(pA,{className:"font-semibold text-xs text-muted-foreground uppercase tracking-wide",children:"Order Actions"}),n.jsx(Rc,{}),n.jsxs(In,{onClick:()=>e(`/orders/${V.id}`),className:"cursor-pointer py-2.5",children:[n.jsx(ri,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"View Details"})]}),n.jsxs(In,{onClick:()=>e(`/orders/${V.id}/edit`),className:"cursor-pointer py-2.5",children:[n.jsx(Ys,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"Edit Order"})]}),n.jsxs(In,{onClick:()=>{navigator.clipboard.writeText(V.po_number),t({title:"Copied to clipboard",description:`PO Number ${V.po_number} has been copied.`})},className:"cursor-pointer py-2.5",children:[n.jsx(xse,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"Copy PO Number"})]}),n.jsx(Rc,{}),n.jsx(pA,{className:"font-semibold text-xs text-muted-foreground uppercase tracking-wide",children:"Status & Delivery"}),n.jsxs(In,{onClick:()=>{p(V),f(!0)},className:"cursor-pointer py-2.5",children:[n.jsx(V5,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"Update Status"})]}),n.jsxs(In,{onClick:()=>{p(V),d(!0)},className:"cursor-pointer py-2.5",children:[n.jsx(_r,{className:"mr-3 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:"Delivery Tracking"})]}),V.status.toLowerCase()==="draft"&&n.jsxs(In,{onClick:()=>_(String(V.id),"sent"),className:"cursor-pointer py-2.5",children:[n.jsx(Vr,{className:"mr-3 h-4 w-4 text-blue-500"}),n.jsx("span",{className:"text-blue-600",children:"Mark as Sent"})]}),n.jsx(Rc,{}),(V.status.toLowerCase()==="draft"||V.status.toLowerCase()==="sent")&&n.jsxs(In,{onClick:()=>_(String(V.id),"cancelled"),className:"cursor-pointer py-2.5 text-orange-600 focus:text-orange-600 focus:bg-orange-500/10",children:[n.jsx($l,{className:"mr-3 h-4 w-4"}),n.jsx("span",{children:"Cancel Order"})]}),n.jsxs(In,{onClick:()=>{p(V),h(!0)},className:"cursor-pointer py-2.5 text-destructive focus:text-destructive focus:bg-destructive/10",children:[n.jsx(xn,{className:"mr-3 h-4 w-4"}),n.jsx("span",{children:"Delete Order"})]})]})]})})]},V.id))})]})})})]})]}),n.jsx(eVe,{open:c,onOpenChange:d,order:x}),n.jsx(tVe,{open:u,onOpenChange:f,order:x,onStatusUpdate:F}),n.jsx(cc,{open:m,onOpenChange:h,children:n.jsxs(xl,{children:[n.jsxs(gl,{children:[n.jsx(yl,{children:"Delete Order"}),n.jsxs(jl,{children:["Are you sure you want to delete order ",n.jsx("strong",{children:x==null?void 0:x.po_number}),"? This action cannot be undone and will permanently remove the order and all its items."]})]}),n.jsxs(vl,{children:[n.jsx(wl,{disabled:g,children:"Cancel"}),n.jsx(bl,{onClick:T,disabled:g,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:g?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):"Delete Order"})]})]})})]})},dVe=()=>{const e=ur(),{toast:t}=xr(),[r,s]=v.useState(""),[a,i]=v.useState("all"),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[m,h]=v.useState("draft"),[x,p]=v.useState(""),[g,j]=v.useState(""),[y,w]=v.useState(""),[b,N]=v.useState([]),[_,S]=v.useState(""),[A,E]=v.useState(""),[P,D]=v.useState([]),[I,W]=v.useState([]),[H,F]=v.useState([]),[T,k]=v.useState([]),[M,O]=v.useState(!0),[K,se]=v.useState(!1),[R,V]=v.useState(!1),L=v.useMemo(()=>r?H.filter(Ee=>!a||a==="all"||Ee.vendor===a):[],[H,r,a]);v.useEffect(()=>{let Ee=!1;return(async()=>{try{O(!0);const[Oe,ae]=await Promise.all([dc.getApartments({page_size:100}),Oo.getVendors()]);if(Ee)return;D(Oe.results||[]),W(ae.results||[])}catch(Oe){console.error("Failed to load apartments/vendors",Oe),t({title:"Failed to load data",description:"Could not load apartments or vendors. Please try again.",variant:"destructive"})}finally{Ee||O(!1)}})(),()=>{Ee=!0}},[t]),v.useEffect(()=>{let Ee=!1;return(async()=>{if(!r){F([]),k([]);return}try{se(!0);const Oe=await Hi.getProducts({apartment:r,page_size:1e3});if(Ee)return;F(Oe.results||[]),k([])}catch(Oe){console.error("Failed to load products",Oe),t({title:"Failed to load products",description:"Could not load products for this apartment.",variant:"destructive"})}finally{Ee||se(!1)}})(),()=>{Ee=!0}},[r,t]);const G=Ee=>{const Fe=H.find(he=>he.id===Ee);if(!Fe)return;if(b.find(he=>he.productId===Ee)){t({title:"Product already in order",description:`${Fe.product} is already in your order.`,variant:"destructive"});return}const ae={productId:Fe.id,productName:Fe.product,sku:Fe.sku||"",quantity:1,unitPrice:Math.round(Number(Fe.unit_price)||0)};N(he=>[...he,ae]),t({title:"Product added",description:`${Fe.product} has been added to the order.`})},le=Ee=>{N(b.filter((Fe,Oe)=>Oe!==Ee))},me=(Ee,Fe,Oe)=>{const ae=[...b];ae[Ee]={...ae[Ee],[Fe]:Oe},N(ae)},B=async Ee=>{var Le,Ie;if(Ee.preventDefault(),!r||b.length===0){t({title:"Validation Error",description:"Please select an apartment and add at least one item",variant:"destructive"});return}let Fe=a;if(!Fe||Fe==="all"){const de=H.find(Re=>{var it;return Re.id===((it=b[0])==null?void 0:it.productId)});if(de!=null&&de.vendor)Fe=de.vendor;else{t({title:"Validation Error",description:"Unable to determine vendor for this order. Please select a vendor.",variant:"destructive"});return}}if(!o.trim()){t({title:"Validation Error",description:"PO Number is required.",variant:"destructive"});return}if(b.some(de=>!de.productId||de.quantity<=0||de.unitPrice<0)){t({title:"Validation Error",description:"Each item must have a product, quantity > 0 and price  0.",variant:"destructive"});return}const Oe=b.reduce((de,Re)=>de+Re.quantity*Re.unitPrice,0),ae=parseInt(_||"0",10)||0,he=parseInt(A||"0",10)||0;let ce=Oe+ae-he;ce<0&&(ce=0);const je=b.reduce((de,Re)=>de+Re.quantity,0);try{V(!0);const de=new Date().toISOString().split("T")[0],Re={apartment:r,vendor:Fe,po_number:o.trim(),confirmation_code:c.trim()||void 0,tracking_number:u.trim()||void 0,status:m,expected_delivery:x||void 0,shipping_address:g.trim()||void 0,notes:y.trim()||void 0,items:b.map(it=>({product:it.productId,product_name:it.productName,sku:it.sku,quantity:it.quantity,unit_price:it.unitPrice})),items_count:je,total:ce,placed_on:de};await es.createOrder(Re),t({title:"Order Created",description:`Order created with ${b.length} items. Total: ${ce} HUF`}),e("/orders")}catch(de){console.error("Failed to create order",((Le=de==null?void 0:de.response)==null?void 0:Le.data)||de);let Re="Please check the form and try again.";const it=(Ie=de==null?void 0:de.response)==null?void 0:Ie.data;if(it!=null&&it.details&&typeof it.details=="object"){const bt=[];Object.entries(it.details).forEach(([Qe,ye])=>{Array.isArray(ye)?bt.push(`${Qe}: ${ye.join(", ")}`):typeof ye=="string"&&bt.push(`${Qe}: ${ye}`)}),bt.length&&(Re=bt.join(" | "))}else it!=null&&it.detail&&(Re=String(it.detail));t({title:"Failed to create order",description:Re,variant:"destructive"})}finally{V(!1)}},Y=b.reduce((Ee,Fe)=>Ee+Fe.quantity*Fe.unitPrice,0),oe=parseInt(_||"0",10)||0,Ne=parseInt(A||"0",10)||0;let ue=Y+oe-Ne;ue<0&&(ue=0);const ve=P.find(Ee=>Ee.id===r),xe=I.find(Ee=>Ee.id===a);return r&&L.length>0,T.length>0,n.jsx(ct,{title:"New Order",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Fa,{children:n.jsxs($a,{children:[n.jsx(er,{children:n.jsx(Qn,{href:"/orders",children:"Orders"})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(pi,{children:"New Order"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(re,{variant:"ghost",size:"icon",onClick:()=>e("/orders"),children:n.jsx(rr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(bs,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Create New Purchase Order"}),n.jsx("p",{className:"text-muted-foreground",children:"Fill in the details to create a new order"})]})]})]}),n.jsx("form",{onSubmit:B,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(lt,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(X,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs(q,{htmlFor:"apartment",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(dr,{className:"h-4 w-4 text-primary"}),"Apartment *"]}),n.jsxs(tt,{value:r,onValueChange:s,disabled:M,children:[n.jsx(Je,{className:"h-10",children:n.jsx(rt,{placeholder:M?"Loading apartments...":"Select apartment"})}),n.jsx(et,{children:P.map(Ee=>n.jsx(ee,{value:Ee.id,children:n.jsx("span",{children:Ee.name})},Ee.id))})]}),ve&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Owner: ",ve.owner]})]})}),n.jsx(X,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs(q,{htmlFor:"vendor",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(Ra,{className:"h-4 w-4 text-primary"}),"Vendor (Optional Filter)"]}),n.jsxs(tt,{value:a,onValueChange:i,disabled:M||!r,children:[n.jsx(Je,{className:"h-10",children:n.jsx(rt,{placeholder:r?M?"Loading vendors...":"All vendors":"Select apartment first"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"all",children:"All Vendors"}),I.map(Ee=>n.jsx(ee,{value:Ee.id,children:n.jsx("span",{children:Ee.name})},Ee.id))]})]}),xe&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Lead time: ",xe.lead_time]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"po_number",children:"PO Number *"}),n.jsx(fe,{id:"po_number",value:o,onChange:Ee=>l(Ee.target.value),placeholder:"e.g., PO-2025-00001"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"confirmation_code",children:"Confirmation"}),n.jsx(fe,{id:"confirmation_code",value:c,onChange:Ee=>d(Ee.target.value),placeholder:"e.g., CONF-8831"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"tracking_number",children:"Tracking"}),n.jsx(fe,{id:"tracking_number",value:u,onChange:Ee=>f(Ee.target.value),placeholder:"e.g., TRK-93234"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",children:"Status"}),n.jsxs(tt,{value:m,onValueChange:h,children:[n.jsx(Je,{className:"h-10",children:n.jsx(rt,{placeholder:"Select status"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"draft",children:"Draft"}),n.jsx(ee,{value:"pending",children:"Pending"}),n.jsx(ee,{value:"sent",children:"Sent"}),n.jsx(ee,{value:"confirmed",children:"Confirmed"}),n.jsx(ee,{value:"in_transit",children:"In Transit"}),n.jsx(ee,{value:"delivered",children:"Delivered"}),n.jsx(ee,{value:"received",children:"Received"}),n.jsx(ee,{value:"cancelled",children:"Cancelled"}),n.jsx(ee,{value:"returned",children:"Returned"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"expected_delivery",children:"Expected Delivery"}),n.jsx(fe,{id:"expected_delivery",type:"date",value:x,onChange:Ee=>p(Ee.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"shipping_address",children:"Shipping Address"}),n.jsx(fe,{id:"shipping_address",value:g,onChange:Ee=>j(Ee.target.value),placeholder:"Enter shipping address"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Notes"}),n.jsx(fa,{id:"notes",value:y,onChange:Ee=>w(Ee.target.value),placeholder:"Add any notes about this order",rows:3})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[n.jsxs(X,{className:"lg:col-span-1",children:[n.jsx(we,{className:"py-3 px-4 border-b",children:n.jsxs(Ve,{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(lt,{className:"h-4 w-4 text-primary"}),"Available Products (",L.length,")"]})}),n.jsx(Q,{className:"p-2",children:K?n.jsx("div",{className:"max-h-[450px]",children:n.jsx("div",{children:[...Array(8)].map((Ee,Fe)=>n.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 ${Fe<7?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 rounded overflow-hidden",children:n.jsx(C,{className:"w-full h-full"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1 mb-0.5",children:[n.jsx(C,{className:"h-3 w-32"}),n.jsx(C,{className:"h-2 w-12 opacity-60"})]}),n.jsx(C,{className:"h-2 w-20 opacity-40"})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsx(C,{className:"h-3 w-14 mb-0.5"}),n.jsx(C,{className:"h-2 w-8 ml-auto opacity-40"})]})]},Fe))})}):r?L.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(lt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No products found"}),n.jsx("p",{className:"text-sm",children:a&&a!=="all"?'Try selecting a different vendor or "All Vendors"':"This apartment has no products yet"})]}):n.jsx("div",{className:"max-h-[450px] overflow-y-auto",children:n.jsx("div",{children:L.map((Ee,Fe)=>{const Oe=b.some(ae=>ae.productId===Ee.id);return n.jsxs("div",{onClick:()=>!Oe&&G(Ee.id),className:`group flex items-center gap-2 px-2 py-1.5 transition-all cursor-pointer ${Oe?"opacity-50 cursor-not-allowed bg-muted/30":"hover:bg-accent hover:shadow-sm"} ${Fe<L.length-1?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 bg-muted/30 rounded flex items-center justify-center flex-shrink-0",children:Ee.product_image?n.jsx("img",{src:Ee.product_image,alt:Ee.product,className:"w-full h-full object-cover rounded",onError:ae=>{ae.currentTarget.src="",ae.currentTarget.style.display="none"}}):n.jsx(Ui,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("p",{className:"font-medium text-xs truncate flex-1",children:Ee.product}),Ee.sku&&n.jsx("span",{className:"text-[10px] text-muted-foreground",children:Ee.sku})]}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:Ee.vendor_name||"No vendor"})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsx("p",{className:"font-semibold text-xs",children:Number(Ee.unit_price).toLocaleString()}),Oe?n.jsx("span",{className:"text-[10px] text-green-600 dark:text-green-500 font-medium",children:"Added"}):n.jsx("span",{className:"text-[10px] text-muted-foreground",children:"HUF"})]})]},Ee.id)})})}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(dr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"Please select an apartment first"}),n.jsx("p",{className:"text-sm",children:"Products will appear here after selecting an apartment"})]})})]}),n.jsxs(X,{className:"lg:col-span-1",children:[n.jsx(we,{className:"py-3 px-4 border-b",children:n.jsxs(Ve,{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(bs,{className:"h-4 w-4 text-primary"}),"Order Items (",b.length,")"]}),b.length>0&&n.jsxs("span",{className:"text-xs font-normal text-muted-foreground",children:["Total: ",b.reduce((Ee,Fe)=>Ee+Fe.quantity*Fe.unitPrice,0).toLocaleString()," HUF"]})]})}),n.jsx(Q,{className:"p-2",children:K&&b.length===0?n.jsx("div",{className:"max-h-[450px]",children:n.jsx("div",{children:[...Array(3)].map((Ee,Fe)=>n.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 ${Fe<2?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 rounded overflow-hidden",children:n.jsx(C,{className:"w-full h-full"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1 mb-0.5",children:[n.jsx(C,{className:"h-3 w-28"}),n.jsx(C,{className:"h-2 w-10 opacity-60"})]}),n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[n.jsx(C,{className:"w-5 h-5 rounded"}),n.jsx(C,{className:"w-10 h-5 rounded"}),n.jsx(C,{className:"w-5 h-5 rounded"}),n.jsx(C,{className:"h-2 w-16 ml-1 opacity-40"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-right",children:[n.jsx(C,{className:"h-3 w-16 mb-0.5"}),n.jsx(C,{className:"h-2 w-8 ml-auto opacity-40"})]}),n.jsx(C,{className:"w-5 h-5 rounded-full opacity-30"})]})]},Fe))})}):b.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(bs,{className:"h-6 w-6 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-xs font-medium",children:"No items in order"}),n.jsx("p",{className:"text-[10px] mt-1",children:"Click products to add them"})]}):n.jsx("div",{className:"max-h-[450px] overflow-y-auto",children:n.jsx("div",{children:b.map((Ee,Fe)=>{const Oe=H.find(ae=>ae.id===Ee.productId);return n.jsxs("div",{className:`group flex items-center gap-2 px-2 py-1.5 hover:bg-accent transition-all ${Fe<b.length-1?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 bg-muted/30 rounded flex items-center justify-center flex-shrink-0",children:Oe!=null&&Oe.product_image?n.jsx("img",{src:Oe.product_image,alt:Ee.productName,className:"w-full h-full object-cover rounded",onError:ae=>{ae.currentTarget.src="",ae.currentTarget.style.display="none"}}):n.jsx(Ui,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("p",{className:"text-xs font-medium truncate flex-1",children:Ee.productName}),Ee.sku&&n.jsx("span",{className:"text-[10px] text-muted-foreground",children:Ee.sku})]}),n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[n.jsx("button",{type:"button",onClick:()=>me(Fe,"quantity",Math.max(1,Ee.quantity-1)),className:"w-5 h-5 rounded bg-muted/50 hover:bg-muted flex items-center justify-center transition-colors",children:n.jsx(b7,{className:"h-3 w-3"})}),n.jsx("input",{type:"number",min:"1",value:Ee.quantity,onChange:ae=>me(Fe,"quantity",parseInt(ae.target.value)||1),className:"w-10 h-5 text-[11px] text-center border border-input bg-background rounded px-1"}),n.jsx("button",{type:"button",onClick:()=>me(Fe,"quantity",Ee.quantity+1),className:"w-5 h-5 rounded bg-muted/50 hover:bg-muted flex items-center justify-center transition-colors",children:n.jsx(Kn,{className:"h-3 w-3"})}),n.jsxs("span",{className:"text-[10px] text-muted-foreground ml-1",children:[" ",Ee.unitPrice.toLocaleString()]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs font-semibold",children:(Ee.quantity*Ee.unitPrice).toLocaleString()}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"HUF"})]}),n.jsx("button",{type:"button",onClick:()=>le(Fe),className:"opacity-0 group-hover:opacity-100 w-5 h-5 rounded-full bg-destructive/10 hover:bg-destructive/20 flex items-center justify-center transition-all",children:n.jsx(ms,{className:"h-3 w-3 text-destructive"})})]})]},Fe)})})})})]})]}),n.jsxs(X,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2 text-primary",children:[n.jsx(Nr,{className:"h-5 w-5"}),"Order Summary"]})}),n.jsx(Q,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Items"}),n.jsx("p",{className:"text-3xl font-bold",children:b.length})]}),n.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Units"}),n.jsx("p",{className:"text-3xl font-bold",children:b.reduce((Ee,Fe)=>Ee+Fe.quantity,0)})]}),n.jsxs("div",{className:"space-y-2 p-4 bg-background/50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsx("span",{children:"Items Total"}),n.jsxs("span",{children:[Y," HUF"]})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Shipping Cost"}),n.jsx(fe,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:_,onChange:Ee=>S(Ee.target.value)})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Discount"}),n.jsx(fe,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:A,onChange:Ee=>E(Ee.target.value)})]}),n.jsx(Ft,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold",children:"Total to Pay"}),n.jsxs("span",{className:"text-2xl font-bold text-primary",children:[ue," HUF"]})]})]})]})})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(re,{type:"button",variant:"outline",onClick:()=>e("/orders"),children:"Cancel"}),n.jsx(re,{type:"submit",className:"gap-2",disabled:R,children:R?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(bs,{className:"h-4 w-4"}),"Create Order"]})})]})]})})]})})},uVe=()=>{var L;const e=ur(),{toast:t}=xr(),[r,s]=v.useState(""),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[m,h]=v.useState("draft"),[x,p]=v.useState(""),[g,j]=v.useState(""),[y,w]=v.useState(""),[b,N]=v.useState(null),[_,S]=v.useState(!1),[A,E]=v.useState(0),[P,D]=v.useState(null),[I,W]=v.useState(""),[H,F]=v.useState([]),[T,k]=v.useState([]),[M,O]=v.useState(!1);v.useState(!1),v.useEffect(()=>{(async()=>{try{O(!0);const[le,me]=await Promise.all([dc.getApartments({page_size:100}),Oo.getVendors()]);F(le.results||[]),k(me.results||[])}catch(le){console.error("Failed to load data",le),t({title:"Failed to load data",description:"Could not load apartments or vendors. Please try again.",variant:"destructive"})}finally{O(!1)}})()},[t]);const K=G=>G<1024?G+" B":G<1024*1024?(G/1024).toFixed(2)+" KB":(G/(1024*1024)).toFixed(2)+" MB",se=G=>{var me;const le=(me=G.target.files)==null?void 0:me[0];if(le){if(!le.name.match(/\.(xlsx|xls|csv)$/i)){t({title:"Invalid File Type",description:"Please select a valid Excel or CSV file",variant:"destructive"});return}if(le.size>50*1024*1024){t({title:"File Too Large",description:"Maximum file size is 50MB",variant:"destructive"});return}N(le),W(K(le.size)),D(null)}},R=async()=>{var G,le;if(!r){t({title:"Validation Error",description:"Please select an apartment",variant:"destructive"});return}if(!a){t({title:"Validation Error",description:"Please select a vendor",variant:"destructive"});return}if(!o.trim()){t({title:"Validation Error",description:"PO Number is required",variant:"destructive"});return}if(!b){t({title:"Validation Error",description:"Please select a file to import",variant:"destructive"});return}S(!0),E(0);try{const me=setInterval(()=>{E(Y=>Y>=90?(clearInterval(me),90):Y+10)},200),B=await es.importOrder({file:b,apartment_id:r,vendor_id:a,po_number:o,status:m,confirmation_code:c,tracking_number:u,expected_delivery:x,shipping_address:g,notes:y});clearInterval(me),E(100),D(B),t({title:"Import Successful!",description:`Order ${B.po_number} created with ${B.total_items} items.`}),setTimeout(()=>{e("/orders")},2e3)}catch(me){console.error("Import error:",me),t({title:"Import Failed",description:((le=(G=me.response)==null?void 0:G.data)==null?void 0:le.error)||me.message||"Failed to import order. Please try again.",variant:"destructive"}),E(0)}finally{S(!1)}},V=async()=>{try{const G=await fetch("/api/products/import_template/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(!G.ok)throw new Error("Failed to download template");const le=await G.blob(),me=window.URL.createObjectURL(le),B=document.createElement("a");B.href=me,B.download="order-import-template.xlsx",document.body.appendChild(B),B.click(),window.URL.revokeObjectURL(me),document.body.removeChild(B),t({title:"Success",description:"Template downloaded successfully"})}catch(G){console.error("Template download error:",G),t({title:"Download Failed",description:"Failed to download template. Please try again.",variant:"destructive"})}};return n.jsx(ct,{title:"Import Orders",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(re,{variant:"ghost",onClick:()=>e("/orders"),disabled:_,children:[n.jsx(rr,{className:"mr-2 h-4 w-4"}),"Back"]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(lt,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(X,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs(q,{htmlFor:"apartment",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(dr,{className:"h-4 w-4 text-primary"}),"Apartment *"]}),n.jsxs(tt,{value:r,onValueChange:s,disabled:M||_,children:[n.jsx(Je,{className:"h-10",children:n.jsx(rt,{placeholder:M?"Loading...":"Select apartment"})}),n.jsx(et,{children:H.map(G=>n.jsx(ee,{value:G.id,children:G.name},G.id))})]})]})}),n.jsx(X,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs(q,{htmlFor:"vendor",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(Ra,{className:"h-4 w-4 text-primary"}),"Vendor *"]}),n.jsxs(tt,{value:a,onValueChange:i,disabled:M||_,children:[n.jsx(Je,{className:"h-10",children:n.jsx(rt,{placeholder:M?"Loading...":"Select vendor"})}),n.jsx(et,{children:T.map(G=>n.jsx(ee,{value:G.id,children:G.name},G.id))})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"po_number",children:"PO Number *"}),n.jsx(fe,{id:"po_number",value:o,onChange:G=>l(G.target.value),placeholder:"e.g., PO-2025-00001",disabled:_})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"confirmation_code",children:"Confirmation"}),n.jsx(fe,{id:"confirmation_code",value:c,onChange:G=>d(G.target.value),placeholder:"e.g., CONF-8831",disabled:_})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"tracking_number",children:"Tracking"}),n.jsx(fe,{id:"tracking_number",value:u,onChange:G=>f(G.target.value),placeholder:"e.g., TRK-93234",disabled:_})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",children:"Status"}),n.jsxs(tt,{value:m,onValueChange:h,disabled:_,children:[n.jsx(Je,{className:"h-10",children:n.jsx(rt,{placeholder:"Select status"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"draft",children:"Draft"}),n.jsx(ee,{value:"sent",children:"Sent"}),n.jsx(ee,{value:"cancelled",children:"Cancelled"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"expected_delivery",children:"Expected Delivery"}),n.jsx(fe,{id:"expected_delivery",type:"date",value:x,onChange:G=>p(G.target.value),disabled:_})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"shipping_address",children:"Shipping Address"}),n.jsx(fe,{id:"shipping_address",value:g,onChange:G=>j(G.target.value),placeholder:"Enter shipping address",disabled:_})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Notes"}),n.jsx(fa,{id:"notes",value:y,onChange:G=>w(G.target.value),placeholder:"Add any notes about this order",rows:3,disabled:_})]})]})]}),n.jsxs(X,{className:"border-2 border-dashed",children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Upload File"}),n.jsx(Ir,{className:"mt-1",children:"Select an Excel (.xlsx, .xls) or CSV file (max 50MB)"})]}),b&&I&&n.jsx(Ae,{variant:"secondary",className:"text-sm",children:I})]})}),n.jsx(Q,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"cursor-pointer",children:[n.jsx("input",{type:"file",accept:".xlsx,.xls,.csv",onChange:se,className:"hidden",disabled:_}),n.jsx(re,{variant:"outline",asChild:!0,disabled:_,className:"relative overflow-hidden",children:n.jsx("span",{children:_?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Vi,{className:"mr-2 h-4 w-4"}),"Choose File"]})})})]}),b&&!_&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ek,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium",children:b.name}),n.jsx("span",{className:"text-xs text-muted-foreground",children:I})]})]})]}),_&&A>0&&n.jsxs("div",{className:"space-y-2 p-4 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"font-medium",children:"Uploading and processing..."}),n.jsxs("span",{className:"text-muted-foreground",children:[A.toFixed(0),"%"]})]}),n.jsx(q2,{value:A,className:"h-2"})]}),n.jsx("div",{className:"flex justify-start",children:n.jsxs(re,{variant:"outline",size:"sm",onClick:V,disabled:_,children:[n.jsx(Dv,{className:"mr-2 h-4 w-4"}),"Download Template"]})})]})})]}),P&&n.jsxs(X,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Import Results"}),n.jsx(Ir,{children:"Summary of the import operation"})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(qd,{children:[n.jsx(Vr,{className:"h-4 w-4 text-success"}),n.jsxs(Gd,{children:[n.jsx("div",{className:"font-semibold",children:"Order Created"}),n.jsx("div",{className:"text-2xl",children:P.order_created?"Yes":"No"})]})]}),n.jsxs(qd,{children:[n.jsx(Vr,{className:"h-4 w-4 text-success"}),n.jsxs(Gd,{children:[n.jsx("div",{className:"font-semibold",children:"Total Items"}),n.jsx("div",{className:"text-2xl text-green-600",children:P.total_items})]})]}),n.jsxs(qd,{children:[n.jsx(Vr,{className:"h-4 w-4 text-success"}),n.jsxs(Gd,{children:[n.jsx("div",{className:"font-semibold",children:"Successfully Imported"}),n.jsx("div",{className:"text-2xl text-green-600",children:P.successful_imports})]})]}),n.jsxs(qd,{children:[n.jsx(Vr,{className:"h-4 w-4 text-success"}),n.jsxs(Gd,{children:[n.jsx("div",{className:"font-semibold",children:"Total Amount"}),n.jsxs("div",{className:"text-2xl text-green-600",children:["$",((L=P.total_amount)==null?void 0:L.toFixed(2))||"0.00"]})]})]})]}),P.errors&&P.errors.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Errors:"}),n.jsx("div",{className:"space-y-1",children:P.errors.map((G,le)=>n.jsx("div",{className:"text-sm text-destructive bg-destructive/10 p-2 rounded",children:G},le))})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(re,{onClick:()=>e("/orders"),children:[n.jsx(Vr,{className:"mr-2 h-4 w-4"}),"View Orders"]})})]})]}),!P&&n.jsx(X,{children:n.jsx(Q,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(re,{variant:"outline",onClick:()=>e("/orders"),disabled:_,children:"Cancel"}),n.jsx(re,{onClick:R,disabled:!r||!a||!o||!b||_,className:"min-w-[200px]",children:_?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Vi,{className:"mr-2 h-4 w-4"}),"Import Order"]})})]})})})]})})};function fVe(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-32"})]})}function mVe(){return n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(C,{className:"h-10 w-10 rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(C,{className:"h-6 w-6 rounded"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-9 w-64"}),n.jsx(C,{className:"h-4 w-48"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[n.jsx(C,{className:"h-6 w-24 rounded-full"}),n.jsx(C,{className:"h-6 w-28 rounded-full"})]})]}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})}function hVe(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{iconBg:"bg-blue-500/10"},{iconBg:"bg-green-500/10"},{iconBg:"bg-purple-500/10"},{iconBg:"bg-orange-500/10"}].map((e,t)=>n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${e.iconBg}`,children:n.jsx(C,{className:"h-5 w-5 rounded"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-8 w-16"})]})]})})},t))})}function pVe(){return n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(2)].map((e,t)=>n.jsx("div",{className:"space-y-4",children:[...Array(3)].map((r,s)=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(C,{className:"h-5 w-5 rounded mt-0.5"}),n.jsxs("div",{className:"space-y-2 flex-1",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-5 w-full"})]})]},s))},t))})})]})}function xVe(){return n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-32"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"w-12 px-4 py-3"}),["Product Name","SKU","Quantity","Unit Price","Total"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))]})}),n.jsx("tbody",{children:[...Array(4)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"w-12 px-4 py-4",children:n.jsx(C,{className:"w-10 h-10 rounded"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-40"}),n.jsx(C,{className:"h-3 w-32"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-12 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-28"})})]},t))})]})})})]})}function gVe(){return n.jsxs(X,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-32"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-28"})]}),n.jsx("div",{className:"h-px bg-border"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(C,{className:"h-5 w-24"}),n.jsx(C,{className:"h-8 w-36"})]})]})]})}function vVe(){return n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-20"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"space-y-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(C,{className:"h-7 w-7 rounded-full"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-3 w-40"})]})]},t))})})]})}function yVe(){return n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-16"})]})}),n.jsxs(Q,{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-full"}),n.jsx(C,{className:"h-4 w-full"}),n.jsx(C,{className:"h-4 w-3/4"})]})]})}function jVe(){return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(fVe,{}),n.jsx(mVe,{}),n.jsx(hVe,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(pVe,{}),n.jsx(xVe,{})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(gVe,{}),n.jsx(vVe,{}),n.jsx(yVe,{})]})]})]})})}const bVe=()=>{var l,c;const{id:e}=Yi(),t=ur(),{order:r,loading:s,error:a}=XQ(e||""),i=d=>{const u=d.toLowerCase();return{draft:"bg-gray-500/10 text-gray-500",pending:"bg-yellow-500/10 text-yellow-500",sent:"bg-blue-500/10 text-blue-500",confirmed:"bg-green-500/10 text-green-500",delivered:"bg-purple-500/10 text-purple-500",received:"bg-emerald-500/10 text-emerald-500",cancelled:"bg-red-500/10 text-red-500"}[u]||"bg-gray-500/10 text-gray-500"};if(s)return n.jsx(jVe,{});if(a)return n.jsx(ct,{title:"Error",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(St,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),n.jsx("h2",{className:"text-2xl font-semibold text-destructive mb-2",children:"Error loading order"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:a}),n.jsxs(re,{onClick:()=>t("/orders"),children:[n.jsx(rr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})});if(!r)return n.jsx(ct,{title:"Not Found",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(lt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Order not found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"The order you're looking for doesn't exist."}),n.jsxs(re,{onClick:()=>t("/orders"),children:[n.jsx(rr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})});const o=((l=r.items)==null?void 0:l.reduce((d,u)=>d+Number(u.total_price||0),0))||0;return n.jsx(ct,{title:`Order ${r.po_number}`,children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Fa,{children:n.jsxs($a,{children:[n.jsx(er,{children:n.jsx(Qn,{asChild:!0,children:n.jsx(zi,{to:"/orders",children:"Orders"})})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(pi,{children:r.po_number})})]})}),n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx(re,{variant:"ghost",size:"icon",onClick:()=>t("/orders"),children:n.jsx(rr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(bs,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:r.po_number}),n.jsx("p",{className:"text-muted-foreground",children:"Purchase Order Details"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[n.jsx(Ae,{className:i(r.status),children:r.status}),r.is_delivered&&n.jsxs(Ae,{className:"bg-emerald-500/10 text-emerald-500",children:[n.jsx(ar,{className:"h-3 w-3 mr-1"}),"Delivered"]})]})]}),n.jsxs(re,{variant:"outline",onClick:()=>t(`/orders/${e}/edit`),children:[n.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Edit Order"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:n.jsx(lt,{className:"h-5 w-5 text-blue-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-bold",children:r.items_count})]})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:n.jsx(Nr,{className:"h-5 w-5 text-green-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold",children:[Number(r.total).toLocaleString()," HUF"]})]})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:n.jsx(Hr,{className:"h-5 w-5 text-purple-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Placed On"}),n.jsx("p",{className:"text-2xl font-bold",children:r.placed_on?Ht(new Date(r.placed_on),"MMM dd"):"-"})]})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg",children:n.jsx(_r,{className:"h-5 w-5 text-orange-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected Delivery"}),n.jsx("p",{className:"text-2xl font-bold",children:r.expected_delivery?Ht(new Date(r.expected_delivery),"MMM dd"):"-"})]})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(An,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),n.jsx(Q,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(dr,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Apartment"}),n.jsx("p",{className:"font-medium",children:r.apartment_name||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ra,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor"}),n.jsx("p",{className:"font-medium",children:r.vendor_name||"N/A"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(uh,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"PO Number"}),n.jsx("p",{className:"font-medium font-mono",children:r.po_number})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(hse,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Confirmation Code"}),n.jsx("p",{className:"font-medium font-mono",children:r.confirmation_code||"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(_r,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Tracking Number"}),n.jsx("p",{className:"font-medium font-mono",children:r.tracking_number||"-"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(xa,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Shipping Address"}),n.jsx("p",{className:"font-medium",children:r.shipping_address||"-"})]})]})]})]})})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(lt,{className:"h-5 w-5 text-primary"}),"Order Items (",((c=r.items)==null?void 0:c.length)||0,")"]})}),n.jsx(Q,{children:r.items&&r.items.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Ds,{children:[n.jsx(Is,{children:n.jsxs(Bt,{children:[n.jsx(Te,{className:"w-12"}),n.jsx(Te,{children:"Product Name"}),n.jsx(Te,{children:"SKU"}),n.jsx(Te,{className:"text-center",children:"Quantity"}),n.jsx(Te,{className:"text-right",children:"Unit Price"}),n.jsx(Te,{className:"text-right",children:"Total"})]})}),n.jsx(Rs,{children:r.items.map((d,u)=>n.jsxs(Bt,{children:[n.jsx(Se,{className:"w-12",children:n.jsx("div",{className:"w-10 h-10 bg-muted/30 rounded flex items-center justify-center",children:d.product_image?n.jsx("img",{src:d.product_image,alt:d.product_name,className:"w-full h-full object-cover rounded",onError:f=>{var m;f.currentTarget.src="",f.currentTarget.style.display="none",(m=f.currentTarget.parentElement)==null||m.classList.add("bg-muted/30")}}):n.jsx(Ui,{className:"h-5 w-5 text-muted-foreground"})})}),n.jsx(Se,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:d.product_name}),d.description&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.description})]})}),n.jsx(Se,{children:n.jsx("span",{className:"font-mono text-sm",children:d.sku||"-"})}),n.jsx(Se,{className:"text-center",children:n.jsx(Ae,{variant:"secondary",children:d.quantity})}),n.jsxs(Se,{className:"text-right",children:[Number(d.unit_price).toLocaleString()," HUF"]}),n.jsxs(Se,{className:"text-right font-semibold",children:[Number(d.total_price).toLocaleString()," HUF"]})]},d.id||u))})]})}):n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(lt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No items in this order"})]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2 text-primary",children:[n.jsx(Nr,{className:"h-5 w-5"}),"Order Summary"]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Items Total"}),n.jsxs("span",{children:[o.toLocaleString()," HUF"]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold",children:"Grand Total"}),n.jsxs("span",{className:"text-2xl font-bold text-primary",children:[Number(r.total).toLocaleString()," HUF"]})]})]})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5 text-primary"}),"Timeline"]})}),n.jsx(Q,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-green-500/10 rounded-full",children:n.jsx(ar,{className:"h-4 w-4 text-green-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Order Placed"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.placed_on?Ht(new Date(r.placed_on),"PPP"):"-"})]})]}),r.expected_delivery&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-blue-500/10 rounded-full",children:n.jsx(_r,{className:"h-4 w-4 text-blue-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Expected Delivery"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Ht(new Date(r.expected_delivery),"PPP")})]})]}),r.actual_delivery&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-emerald-500/10 rounded-full",children:n.jsx(ar,{className:"h-4 w-4 text-emerald-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Actual Delivery"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Ht(new Date(r.actual_delivery),"PPP")})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-gray-500/10 rounded-full",children:n.jsx(Hr,{className:"h-4 w-4 text-gray-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Created"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.created_at?Ht(new Date(r.created_at),"PPP p"):"-"})]})]}),r.updated_at&&r.updated_at!==r.created_at&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-1.5 bg-gray-500/10 rounded-full",children:n.jsx(Sf,{className:"h-4 w-4 text-gray-500"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:"Last Updated"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:Ht(new Date(r.updated_at),"PPP p")})]})]})]})})]}),r.notes&&n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(An,{className:"h-5 w-5 text-primary"}),"Notes"]})}),n.jsx(Q,{children:n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:r.notes})})]})]})]})]})})};function wVe(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-12"})]})}function NVe(){return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-10 w-10 rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(C,{className:"h-9 w-32 mb-2"}),n.jsx(C,{className:"h-4 w-64"})]})]})}function _Ve(){return n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"}),n.jsx(C,{className:"h-3 w-32"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"}),n.jsx(C,{className:"h-3 w-28"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-36"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-20 w-full rounded-md"})]})]})]})}function SVe(){return n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-32"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-9 w-32 rounded-md"}),n.jsx(C,{className:"h-9 w-28 rounded-md"})]})]})}),n.jsx(Q,{children:n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex gap-3 p-4 border rounded-lg",children:[n.jsx(C,{className:"h-16 w-16 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-5 w-48"}),n.jsx(C,{className:"h-8 w-8 rounded"})]}),n.jsx(C,{className:"h-4 w-32"}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-3 w-16"}),n.jsx(C,{className:"h-9 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-3 w-20"}),n.jsx(C,{className:"h-9 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-3 w-12"}),n.jsx(C,{className:"h-9 w-full rounded-md"})]})]})]})]},t))})})]})}function CVe(){return n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-32"})]})}),n.jsxs(Q,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-4 w-28"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-4 w-20"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-20"})]}),n.jsx("div",{className:"h-px bg-border"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(C,{className:"h-5 w-24"}),n.jsx(C,{className:"h-7 w-32"})]})]})]})}function AVe(){return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(wVe,{}),n.jsx(NVe,{}),n.jsx(_Ve,{}),n.jsx(SVe,{}),n.jsx(CVe,{}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})]})})}const EVe=()=>{const{id:e}=Yi(),t=ur(),{toast:r}=xr(),{order:s,loading:a,error:i}=XQ(e||""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[m,h]=v.useState(""),[x,p]=v.useState(""),[g,j]=v.useState("draft"),[y,w]=v.useState([]),[b,N]=v.useState(""),[_,S]=v.useState(""),[A,E]=v.useState(""),[P,D]=v.useState(""),[I,W]=v.useState(""),[H,F]=v.useState([]),[T,k]=v.useState([]),[M,O]=v.useState(!1),[K,se]=v.useState(!1),[R,V]=v.useState(!1),{data:L,isLoading:G}=UX({apartment:o,page_size:1e3}),le=(L==null?void 0:L.results)||[],me=v.useMemo(()=>le.filter(ce=>!c||ce.vendor===c),[le,c]);v.useEffect(()=>{let ce=!1;return(async()=>{try{O(!0);const[Le,Ie]=await Promise.all([dc.getApartments({page_size:100}),Oo.getVendors()]);if(ce)return;F(Le.results||[]),k(Ie.results||[])}catch(Le){console.error("Failed to load apartments/vendors",Le),r({title:"Failed to load data",description:"Could not load apartments or vendors. Please try again.",variant:"destructive"})}finally{ce||O(!1)}})(),()=>{ce=!0}},[r]),v.useEffect(()=>{if(s&&!R&&!M&&H.length>0&&T.length>0){const ce=H.some(Le=>Le.id===s.apartment);l(ce?s.apartment:"");const je=T.some(Le=>Le.id===s.vendor);if(d(je?s.vendor:""),f(s.po_number||""),h(s.confirmation_code||""),p(s.tracking_number||""),j(s.status||"draft"),E(s.notes||""),D(s.shipping_address||""),W(s.expected_delivery||""),s.items&&s.items.length>0){const Le=s.items.map(Ie=>({id:Ie.id,productId:Ie.product||"",productName:Ie.product_name||"",sku:Ie.sku||"",quantity:Ie.quantity||1,unitPrice:Math.round(Number(Ie.unit_price)||0)}));w(Le)}V(!0)}},[s,R,M,H,T]);const B=()=>{const ce=new Set(y.map(Ie=>Ie.productId)),je=me.find(Ie=>!ce.has(Ie.id))||me[0];if(!je)return;const Le=Math.round(Number(je.unit_price)||0);w(Ie=>[...Ie,{productId:je.id,productName:je.product,sku:je.sku||"",quantity:1,unitPrice:Le}])},Y=ce=>{w(y.filter((je,Le)=>Le!==ce))},oe=(ce,je,Le)=>{const Ie=[...y];Ie[ce]={...Ie[ce],[je]:Le},w(Ie)},Ne=async ce=>{var it,bt;if(ce.preventDefault(),!o||!c||y.length===0){r({title:"Validation Error",description:"Please fill all required fields",variant:"destructive"});return}if(!u.trim()){r({title:"Validation Error",description:"PO Number is required.",variant:"destructive"});return}if(y.some(Qe=>!Qe.productName||Qe.quantity<=0||Qe.unitPrice<0)){r({title:"Validation Error",description:"Each item must have a product, quantity > 0 and price  0.",variant:"destructive"});return}const je=y.reduce((Qe,ye)=>Qe+ye.quantity*ye.unitPrice,0),Le=parseInt(b||"0",10)||0,Ie=parseInt(_||"0",10)||0;let de=je+Le-Ie;de<0&&(de=0);const Re=y.reduce((Qe,ye)=>Qe+ye.quantity,0);try{se(!0);const Qe={apartment:o,vendor:c,po_number:u.trim(),confirmation_code:m.trim()||void 0,tracking_number:x.trim()||void 0,status:g,notes:A.trim()||void 0,shipping_address:P.trim()||void 0,expected_delivery:I||void 0,items:y.map(ye=>({id:ye.id,product_name:ye.productName,sku:ye.sku,quantity:ye.quantity,unit_price:ye.unitPrice})),items_count:Re,total:de};await es.updateOrder(e,Qe),r({title:"Order Updated",description:`Order updated successfully. Total: ${de} HUF`}),t(`/orders/${e}`)}catch(Qe){console.error("Failed to update order",((it=Qe==null?void 0:Qe.response)==null?void 0:it.data)||Qe);let ye="Please check the form and try again.";const Ge=(bt=Qe==null?void 0:Qe.response)==null?void 0:bt.data;if(Ge!=null&&Ge.details&&typeof Ge.details=="object"){const At=[];Object.entries(Ge.details).forEach(([Pt,fr])=>{Array.isArray(fr)?At.push(`${Pt}: ${fr.join(", ")}`):typeof fr=="string"&&At.push(`${Pt}: ${fr}`)}),At.length&&(ye=At.join(" | "))}else Ge!=null&&Ge.detail&&(ye=String(Ge.detail));r({title:"Failed to update order",description:ye,variant:"destructive"})}finally{se(!1)}},ue=y.reduce((ce,je)=>ce+je.quantity*je.unitPrice,0),ve=parseInt(b||"0",10)||0,xe=parseInt(_||"0",10)||0;let Ee=ue+ve-xe;Ee<0&&(Ee=0);const Fe=H.find(ce=>ce.id===o),Oe=T.find(ce=>ce.id===c);o&&c&&me.length>0;const ae=[{value:"draft",label:"Draft"},{value:"pending",label:"Pending"},{value:"sent",label:"Sent"},{value:"confirmed",label:"Confirmed"},{value:"in_transit",label:"In Transit"},{value:"delivered",label:"Delivered"},{value:"received",label:"Received"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}];return a||M||s&&!R?n.jsx(AVe,{}):i?n.jsx(ct,{title:"Error",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(St,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),n.jsx("h2",{className:"text-2xl font-semibold text-destructive mb-2",children:"Error loading order"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:i}),n.jsxs(re,{onClick:()=>t("/orders"),children:[n.jsx(rr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})}):s?n.jsx(ct,{title:"Edit Order",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Fa,{children:n.jsxs($a,{children:[n.jsx(er,{children:n.jsx(Qn,{asChild:!0,children:n.jsx(zi,{to:"/orders",children:"Orders"})})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(Qn,{asChild:!0,children:n.jsx(zi,{to:`/orders/${e}`,children:s.po_number})})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(pi,{children:"Edit"})})]})}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(re,{variant:"ghost",size:"icon",onClick:()=>t(`/orders/${e}`),children:n.jsx(rr,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(bs,{className:"h-6 w-6 text-primary"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Edit Order"}),n.jsxs("p",{className:"text-muted-foreground",children:["Update order details for ",s.po_number]})]})]})]}),n.jsx("form",{onSubmit:Ne,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(lt,{className:"h-5 w-5 text-primary"}),"Order Information"]})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(X,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs(q,{htmlFor:"apartment",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(dr,{className:"h-4 w-4 text-primary"}),"Apartment *"]}),n.jsxs(tt,{value:o,onValueChange:l,disabled:M,children:[n.jsx(Je,{className:"h-10",children:n.jsx(rt,{placeholder:M?"Loading...":"Select apartment"})}),n.jsx(et,{children:H.map(ce=>n.jsx(ee,{value:ce.id,children:n.jsx("span",{children:ce.name})},ce.id))})]}),Fe&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Owner: ",Fe.owner]})]})}),n.jsx(X,{className:"border hover:border-primary/50 transition-colors",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs(q,{htmlFor:"vendor",className:"flex items-center gap-1.5 text-sm font-medium mb-2",children:[n.jsx(Ra,{className:"h-4 w-4 text-primary"}),"Vendor *"]}),n.jsxs(tt,{value:c,onValueChange:d,disabled:M,children:[n.jsx(Je,{className:"h-10",children:n.jsx(rt,{placeholder:M?"Loading...":"Select vendor"})}),n.jsx(et,{children:T.map(ce=>n.jsx(ee,{value:ce.id,children:n.jsx("span",{children:ce.name})},ce.id))})]}),Oe&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Lead time: ",Oe.lead_time]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"po_number",children:"PO Number *"}),n.jsx(fe,{id:"po_number",value:u,onChange:ce=>f(ce.target.value),placeholder:"e.g., PO-2025-00001"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"confirmation_code",children:"Confirmation"}),n.jsx(fe,{id:"confirmation_code",value:m,onChange:ce=>h(ce.target.value),placeholder:"e.g., CONF-8831"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"tracking_number",children:"Tracking"}),n.jsx(fe,{id:"tracking_number",value:x,onChange:ce=>p(ce.target.value),placeholder:"e.g., TRK-93234"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"status",children:"Status"}),n.jsxs(tt,{value:g,onValueChange:j,children:[n.jsx(Je,{className:"h-10",children:n.jsx(rt,{placeholder:"Select status"})}),n.jsx(et,{children:ae.map(ce=>n.jsx(ee,{value:ce.value,children:ce.label},ce.value))})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"expected_delivery",children:"Expected Delivery"}),n.jsx(fe,{id:"expected_delivery",type:"date",value:I,onChange:ce=>W(ce.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"shipping_address",children:"Shipping Address"}),n.jsx(fe,{id:"shipping_address",value:P,onChange:ce=>D(ce.target.value),placeholder:"Enter shipping address"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Notes"}),n.jsx(fe,{id:"notes",value:A,onChange:ce=>E(ce.target.value),placeholder:"Add any notes about this order"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[n.jsxs(X,{className:"lg:col-span-1",children:[n.jsx(we,{className:"py-3 px-4 border-b",children:n.jsxs(Ve,{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(lt,{className:"h-4 w-4 text-primary"}),"Available Products (",me.length,")"]})}),n.jsx(Q,{className:"p-2",children:G?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(Lt,{className:"h-8 w-8 mx-auto mb-3 opacity-50 animate-spin"}),n.jsx("p",{className:"text-sm",children:"Loading products..."})]}):!o||!c?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(dr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"Please select apartment and vendor"}),n.jsx("p",{className:"text-sm",children:"Products will appear here"})]}):me.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[n.jsx(lt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No products found"}),n.jsx("p",{className:"text-sm",children:"This apartment/vendor has no products"})]}):n.jsx("div",{className:"max-h-[450px] overflow-y-auto",children:n.jsx("div",{children:me.map((ce,je)=>{const Le=y.some(Ie=>Ie.productId===ce.id);return n.jsxs("div",{onClick:()=>!Le&&B(),className:`group flex items-center gap-2 px-2 py-1.5 transition-all cursor-pointer ${Le?"opacity-50 cursor-not-allowed bg-muted/30":"hover:bg-accent hover:shadow-sm"} ${je<me.length-1?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 bg-muted/30 rounded flex items-center justify-center flex-shrink-0",children:ce.product_image?n.jsx("img",{src:ce.product_image,alt:ce.product,className:"w-full h-full object-cover rounded",onError:Ie=>{Ie.currentTarget.src="",Ie.currentTarget.style.display="none"}}):n.jsx(Ui,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("p",{className:"font-medium text-xs truncate flex-1",children:ce.product}),ce.sku&&n.jsx("span",{className:"text-[10px] text-muted-foreground",children:ce.sku})]}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:ce.vendor_name||"No vendor"})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsx("p",{className:"font-semibold text-xs",children:Number(ce.unit_price).toLocaleString()}),Le?n.jsx("span",{className:"text-[10px] text-green-600 dark:text-green-500 font-medium",children:"Added"}):n.jsx("span",{className:"text-[10px] text-muted-foreground",children:"HUF"})]})]},ce.id)})})})})]}),n.jsxs(X,{className:"lg:col-span-1",children:[n.jsx(we,{className:"py-3 px-4 border-b",children:n.jsxs(Ve,{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"flex items-center gap-2 text-sm font-semibold",children:[n.jsx(bs,{className:"h-4 w-4 text-primary"}),"Order Items (",y.length,")"]}),y.length>0&&n.jsxs("span",{className:"text-xs font-normal text-muted-foreground",children:["Total: ",y.reduce((ce,je)=>ce+je.quantity*je.unitPrice,0).toLocaleString()," HUF"]})]})}),n.jsx(Q,{className:"p-2",children:y.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(bs,{className:"h-6 w-6 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-xs font-medium",children:"No items in order"}),n.jsx("p",{className:"text-[10px] mt-1",children:"Click products to add them"})]}):n.jsx("div",{className:"max-h-[450px] overflow-y-auto",children:n.jsx("div",{children:y.map((ce,je)=>{const Le=me.find(Ie=>Ie.id===ce.productId);return n.jsxs("div",{className:`group flex items-center gap-2 px-2 py-1.5 hover:bg-accent transition-all ${je<y.length-1?"border-b border-border/50":""}`,children:[n.jsx("div",{className:"w-8 h-8 bg-muted/30 rounded flex items-center justify-center flex-shrink-0",children:Le!=null&&Le.product_image?n.jsx("img",{src:Le.product_image,alt:ce.productName,className:"w-full h-full object-cover rounded",onError:Ie=>{Ie.currentTarget.src="",Ie.currentTarget.style.display="none"}}):n.jsx(Ui,{className:"h-4 w-4 text-muted-foreground"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-baseline gap-1",children:[n.jsx("p",{className:"text-xs font-medium truncate flex-1",children:ce.productName}),ce.sku&&n.jsx("span",{className:"text-[10px] text-muted-foreground",children:ce.sku})]}),n.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[n.jsx("button",{type:"button",onClick:()=>oe(je,"quantity",Math.max(1,ce.quantity-1)),className:"w-5 h-5 rounded bg-muted/50 hover:bg-muted flex items-center justify-center transition-colors",children:n.jsx(b7,{className:"h-3 w-3"})}),n.jsx("input",{type:"number",min:"1",value:ce.quantity,onChange:Ie=>oe(je,"quantity",parseInt(Ie.target.value)||1),className:"w-10 h-5 text-[11px] text-center border border-input bg-background rounded px-1"}),n.jsx("button",{type:"button",onClick:()=>oe(je,"quantity",ce.quantity+1),className:"w-5 h-5 rounded bg-muted/50 hover:bg-muted flex items-center justify-center transition-colors",children:n.jsx(Kn,{className:"h-3 w-3"})}),n.jsxs("span",{className:"text-[10px] text-muted-foreground ml-1",children:[" ",ce.unitPrice.toLocaleString()]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs font-semibold",children:(ce.quantity*ce.unitPrice).toLocaleString()}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:"HUF"})]}),n.jsx("button",{type:"button",onClick:()=>Y(je),className:"opacity-0 group-hover:opacity-100 w-5 h-5 rounded-full bg-destructive/10 hover:bg-destructive/20 flex items-center justify-center transition-all",children:n.jsx(ms,{className:"h-3 w-3 text-destructive"})})]})]},je)})})})})]})]}),n.jsxs(X,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2 text-primary",children:[n.jsx(Nr,{className:"h-5 w-5"}),"Order Summary"]})}),n.jsx(Q,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Items"}),n.jsx("p",{className:"text-3xl font-bold",children:y.length})]}),n.jsxs("div",{className:"text-center p-4 bg-background/50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Units"}),n.jsx("p",{className:"text-3xl font-bold",children:y.reduce((ce,je)=>ce+je.quantity,0)})]}),n.jsxs("div",{className:"space-y-2 p-4 bg-background/50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsx("span",{children:"Items Total"}),n.jsxs("span",{children:[ue," HUF"]})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Shipping Cost"}),n.jsx(fe,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:b,onChange:ce=>N(ce.target.value)})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Discount"}),n.jsx(fe,{type:"number",min:"0",step:"1",placeholder:"0",className:"h-8 w-28 text-right",value:_,onChange:ce=>S(ce.target.value)})]}),n.jsx(Ft,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold",children:"Total to Pay"}),n.jsxs("span",{className:"text-2xl font-bold text-primary",children:[Ee," HUF"]})]})]})]})})]}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(re,{type:"button",variant:"outline",onClick:()=>t(`/orders/${e}`),children:"Cancel"}),n.jsx(re,{type:"submit",className:"gap-2",disabled:K,children:K?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(fu,{className:"h-4 w-4"}),"Save Changes"]})})]})]})})]})}):n.jsx(ct,{title:"Not Found",children:n.jsx("div",{className:"flex items-center justify-center py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(lt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Order not found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"The order you're looking for doesn't exist."}),n.jsxs(re,{onClick:()=>t("/orders"),children:[n.jsx(rr,{className:"mr-2 h-4 w-4"}),"Back to Orders"]})]})})})},PVe=({open:e,onOpenChange:t,delivery:r})=>{const[s,a]=v.useState(null),[i,o]=v.useState(!1);if(v.useEffect(()=>{e&&(r!=null&&r.id)&&(o(!0),$c.getDelivery(r.id).then(x=>a(x)).catch(x=>console.error("Failed to fetch delivery details:",x)).finally(()=>o(!1)))},[e,r==null?void 0:r.id]),!r)return null;const l=x=>({Scheduled:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/30","In Transit":"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/30",Delivered:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/30",Delayed:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/30",Cancelled:"bg-gray-500/10 text-gray-600 dark:text-gray-400 border-gray-500/30",Returned:"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/30"})[x]||"bg-muted text-muted-foreground",c=x=>({Urgent:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/30",High:"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/30",Medium:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/30",Low:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/30"})[x]||"bg-muted text-muted-foreground",d=s||r,u=s==null?void 0:s.apartment_details,f=s==null?void 0:s.vendor_details,m=u==null?void 0:u.client_details,h=(s==null?void 0:s.order_items)||[];return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(qr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Jr,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(en,{className:"text-lg font-bold",children:"Delivery Details"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-0.5 font-mono",children:d.order_reference})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ae,{className:l(d.status),variant:"outline",children:d.status}),n.jsxs(Ae,{className:c(d.priority),variant:"outline",children:[d.priority," Priority"]})]})]})}),i?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Lt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs(n.Fragment,{children:[n.jsx(Ft,{className:"my-2"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(X,{className:"border-border/50",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:n.jsx(xa,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Delivery Address"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(u==null?void 0:u.name)||d.apartment_name}),(u==null?void 0:u.address)&&n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:u.address})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:n.jsx($n,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Contact Person"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(m==null?void 0:m.name)||(u==null?void 0:u.owner)||"Not specified"})]})]}),(m==null?void 0:m.phone)&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:n.jsx(Co,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Contact Phone"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:m.phone})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-orange-500/10",children:n.jsx(_r,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Vendor"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(f==null?void 0:f.name)||d.vendor_name}),(f==null?void 0:f.delivery_terms)&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Carrier: ",f.delivery_terms]})]})]}),(f==null?void 0:f.contact_person)&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-indigo-500/10",children:n.jsx(dr,{className:"h-4 w-4 text-indigo-600 dark:text-indigo-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Vendor Contact"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:f.contact_person})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/10",children:n.jsx(yn,{className:"h-4 w-4 text-cyan-600 dark:text-cyan-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Vendor Email"}),f!=null&&f.email?n.jsx("a",{href:`mailto:${f.email}`,className:"text-sm font-medium text-primary hover:underline mt-1 block",children:f.email}):n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Not available"})]})]}),(f==null?void 0:f.website)&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-teal-500/10",children:n.jsx(Ql,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Website"}),n.jsxs("a",{href:f.website.startsWith("http")?f.website:`https://${f.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-primary hover:underline mt-1 flex items-center gap-1",children:[f.website,n.jsx(Ak,{className:"h-3 w-3"})]})]})]})]})]})})}),n.jsx(X,{className:"border-border/50",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[n.jsx(Hr,{className:"h-4 w-4 text-primary"}),"Delivery Schedule"]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Expected Delivery"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(s==null?void 0:s.expected_date)||d.expected_date})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Time Slot"}),n.jsxs("p",{className:"text-sm font-semibold mt-1 flex items-center gap-1",children:[n.jsx(wr,{className:"h-3.5 w-3.5 text-muted-foreground"}),(s==null?void 0:s.time_slot)||d.time_slot||"Not specified"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Actual Delivery"}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:(s==null?void 0:s.actual_date)||n.jsx("span",{className:"text-muted-foreground font-normal",children:"Pending"})})]})]})]})}),n.jsx(X,{className:"border-border/50",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[n.jsx(lt,{className:"h-4 w-4 text-primary"}),"Package Details"]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(uh,{className:"h-3 w-3"}),"Order Number"]}),n.jsx(Ae,{variant:"outline",className:"text-xs mt-1.5 font-mono",children:d.order_reference})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(Ng,{className:"h-3 w-3"}),"Items Count"]}),n.jsxs("p",{className:"text-sm font-semibold mt-1",children:[(s==null?void 0:s.order_items_count)||h.length||"-"," items"]})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(A7,{className:"h-3 w-3"}),"Weight"]}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:"-"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(Nr,{className:"h-3 w-3"}),"Order Total"]}),n.jsx("p",{className:"text-sm font-semibold mt-1",children:s!=null&&s.order_total?`${Number(s.order_total).toFixed(2)}`:"-"})]})]}),((s==null?void 0:s.tracking_number)||d.tracking_number)&&n.jsxs("div",{className:"mt-3 pt-3 border-t",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Tracking Number"}),n.jsx(Ae,{className:"bg-primary/10 text-primary text-xs font-mono mt-1.5",children:(s==null?void 0:s.tracking_number)||d.tracking_number})]})]})}),h.length>0&&n.jsx(X,{className:"border-border/50",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[n.jsx(Ng,{className:"h-4 w-4 text-primary"}),"Delivered Products (",h.length,")"]}),n.jsx("div",{className:"rounded-lg border overflow-hidden",children:n.jsxs(Ds,{children:[n.jsx(Is,{children:n.jsxs(Bt,{className:"bg-muted/50",children:[n.jsx(Te,{className:"text-xs font-semibold",children:"Product"}),n.jsx(Te,{className:"text-xs font-semibold",children:"SKU"}),n.jsx(Te,{className:"text-xs font-semibold text-center",children:"Qty"}),n.jsx(Te,{className:"text-xs font-semibold text-right",children:"Unit Price"}),n.jsx(Te,{className:"text-xs font-semibold text-right",children:"Total"})]})}),n.jsx(Rs,{children:h.map((x,p)=>n.jsxs(Bt,{children:[n.jsx(Se,{className:"text-sm font-medium",children:x.product_name}),n.jsx(Se,{className:"text-xs text-muted-foreground font-mono",children:x.sku||"-"}),n.jsx(Se,{className:"text-sm text-center",children:x.quantity}),n.jsxs(Se,{className:"text-sm text-right",children:["",Number(x.unit_price).toFixed(2)]}),n.jsxs(Se,{className:"text-sm font-semibold text-right",children:["",Number(x.total_price).toFixed(2)]})]},x.id||p))})]})})]})}),n.jsx(X,{className:"border-border/50",children:n.jsxs(Q,{className:"p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[n.jsx(An,{className:"h-4 w-4 text-primary"}),"Notes & Instructions"]}),(s==null?void 0:s.order_notes)&&n.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg bg-amber-500/5 border border-amber-500/20 mb-4",children:[n.jsx(St,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-amber-700 dark:text-amber-300",children:"Special Instructions"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:s.order_notes})]})]}),s!=null&&s.status_history&&s.status_history.length>0?n.jsxs("div",{className:"space-y-0",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-3",children:"Status History"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-[11px] top-3 bottom-3 w-0.5 bg-border"}),n.jsx("div",{className:"space-y-3",children:s.status_history.map((x,p)=>{const g=b=>{switch(b){case"Delivered":return{icon:ar,color:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/30"};case"In Transit":return{icon:_r,color:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/30"};case"Scheduled":return{icon:Hr,color:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/30"};case"Delayed":return{icon:wr,color:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/30"};case"Cancelled":return{icon:St,color:"bg-gray-500/10 text-gray-600 dark:text-gray-400 border-gray-500/30"};case"Returned":return{icon:lt,color:"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-500/30"};default:return{icon:An,color:"bg-muted text-muted-foreground"}}},{icon:j,color:y}=g(x.status),w=p===0;return n.jsxs("div",{className:"relative flex gap-3 pl-0",children:[n.jsx("div",{className:`relative z-10 flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center ${y} ${w?"ring-2 ring-primary/20":""}`,children:n.jsx(j,{className:"h-3 w-3"})}),n.jsxs("div",{className:`flex-1 pb-3 ${w?"":"opacity-80"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ae,{variant:"outline",className:`text-xs ${y}`,children:x.status}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(x.created_at).toLocaleString()}),x.changed_by&&n.jsxs("span",{className:"text-xs text-muted-foreground",children:["by ",x.changed_by]})]}),x.notes&&n.jsx("p",{className:"text-sm mt-1 text-foreground",children:x.notes}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[x.received_by&&n.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx($n,{className:"h-3 w-3"}),"Received by: ",x.received_by]}),x.location&&n.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(xa,{className:"h-3 w-3"}),x.location]}),x.delay_reason&&n.jsxs("span",{className:"text-xs text-red-600 dark:text-red-400 flex items-center gap-1",children:[n.jsx(St,{className:"h-3 w-3"}),"Reason: ",x.delay_reason]})]})]})]},x.id)})})]})]}):(s==null?void 0:s.notes)&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery Notes"}),n.jsx("p",{className:"text-sm mt-1",children:s.notes})]})]})}),(s==null?void 0:s.received_by)&&n.jsx(X,{className:"border-green-500/30 bg-green-500/5",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:n.jsx(ar,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Received By"}),n.jsx("p",{className:"text-sm font-semibold",children:s.received_by}),s.actual_date&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["on ",s.actual_date]})]})]})})})]})]})]})})},kVe=({open:e,onOpenChange:t,delivery:r})=>{if(!r)return null;const s=[{date:"2025-11-10 14:30",status:r.status==="Delivered"?"Delivered":r.status==="In Transit"?"Out for Delivery":"Package Ready",location:r.status==="Delivered"?r.apartment_name:"Local Hub",description:r.status==="Delivered"?"Package delivered successfully":r.status==="In Transit"?"Package is out for delivery":"Package is ready for dispatch",active:!0},{date:"2025-11-09 10:15",status:"In Transit",location:"Distribution Center",description:"Package is on the way to delivery location",active:!1},{date:"2025-11-08 16:45",status:"Package Dispatched",location:`${r.vendor_name} Warehouse`,description:"Package has been dispatched from warehouse",active:!1},{date:"2025-11-08 09:00",status:"Order Confirmed",location:r.vendor_name,description:"Order has been confirmed and is being prepared",active:!1}];return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(qr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx(Jr,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-primary/10 rounded-lg",children:n.jsx(_r,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(en,{className:"text-base font-bold",children:"Track Delivery"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:r.order_reference})]})]})}),n.jsx(Ft,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(X,{className:"border bg-gradient-to-br from-primary/5 to-primary/10",children:n.jsxs(Q,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-1.5 bg-primary/10 rounded",children:n.jsx(lt,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Tracking Number"}),n.jsx("p",{className:"text-sm font-bold font-mono",children:r.tracking_number})]})]}),n.jsx(Ae,{className:"bg-primary text-primary-foreground",children:"Carrier"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 pt-2 border-t border-primary/20",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xa,{className:"h-3.5 w-3.5 text-primary flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Destination"}),n.jsx("p",{className:"text-sm font-medium truncate",children:r.apartment_name})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_r,{className:"h-3.5 w-3.5 text-primary flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"From"}),n.jsx("p",{className:"text-sm font-medium truncate",children:r.vendor_name})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hr,{className:"h-3.5 w-3.5 text-primary flex-shrink-0"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"ETA"}),n.jsx("p",{className:"text-sm font-medium",children:r.expected_date})]})]})]})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3 pb-2 border-b",children:[n.jsx("div",{className:"p-1 bg-primary/10 rounded",children:n.jsx(wr,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold",children:"Tracking History"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Latest updates"})]})]}),n.jsx("div",{className:"space-y-4",children:s.map((a,i)=>n.jsxs("div",{className:"flex gap-3 relative",children:[i!==s.length-1&&n.jsx("div",{className:"absolute left-3.5 top-8 bottom-0 w-0.5 bg-gradient-to-b from-primary/50 to-border"}),n.jsx("div",{className:"relative flex-shrink-0",children:n.jsx("div",{className:`w-7 h-7 rounded-full border-2 border-background flex items-center justify-center ${a.active?"bg-primary shadow-lg shadow-primary/20":"bg-muted"}`,children:a.active?n.jsx(_r,{className:"h-3.5 w-3.5 text-primary-foreground"}):n.jsx(ar,{className:"h-3.5 w-3.5 text-muted-foreground"})})}),n.jsxs("div",{className:"flex-1 pb-2",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsx("p",{className:`text-sm font-semibold ${a.active?"text-primary":""}`,children:a.status}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:a.date})]}),n.jsx("p",{className:"text-xs text-muted-foreground mb-0.5",children:a.description}),n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[n.jsx(xa,{className:"h-3 w-3"}),a.location]})]})]},i))})]})})]})]})})};function TVe(e={}){const[t,r]=v.useState([]),[s,a]=v.useState(!0),[i,o]=v.useState(null),[l,c]=v.useState(0),d=v.useCallback(async()=>{try{a(!0),o(null);const m=await $c.getDeliveries(e);r(m.results||[]),c(m.count||0)}catch(m){console.error("Failed to fetch deliveries:",m),o(m.message||"Failed to fetch deliveries"),r([])}finally{a(!1)}},[e.search,e.status,e.priority,e.apartment,e.vendor,e.page,e.page_size]);return v.useEffect(()=>{d()},[d]),{deliveries:t,loading:s,error:i,totalCount:l,refetch:d,updateStatus:async(m,h,x)=>{await $c.updateStatus(m,h,x),await d()},deleteDelivery:async m=>{await $c.deleteDelivery(m),await d()}}}function OVe(){const[e,t]=v.useState({scheduled:0,in_transit:0,delivered:0,delayed:0,total:0}),[r,s]=v.useState(!0);return v.useEffect(()=>{(async()=>{try{s(!0);const o=(await $c.getDeliveries({page_size:1e3})).results||[];t({scheduled:o.filter(l=>l.status==="Scheduled").length,in_transit:o.filter(l=>l.status==="In Transit").length,delivered:o.filter(l=>l.status==="Delivered").length,delayed:o.filter(l=>l.status==="Delayed").length,total:o.length})}catch(i){console.error("Failed to fetch delivery statistics:",i)}finally{s(!1)}})()},[]),{statistics:e,loading:r}}function DVe(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{iconBg:"bg-blue-500/10"},{iconBg:"bg-yellow-500/10"},{iconBg:"bg-green-500/10"},{iconBg:"bg-orange-500/10"}].map((e,t)=>n.jsx(X,{className:"card-hover-effect",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-8 w-12"}),n.jsx(C,{className:"h-4 w-24"})]}),n.jsx("div",{className:`p-2.5 rounded-xl ${e.iconBg}`,children:n.jsx(C,{className:"h-5 w-5 rounded"})})]})})},t))})}function IVe(){return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"h-[200px] flex items-end justify-between gap-2 px-4",children:[...Array(5)].map((e,t)=>n.jsxs("div",{className:"flex-1 flex flex-col justify-end gap-2",children:[n.jsx(C,{className:"w-full rounded-t",style:{height:`${Math.random()*60+40}%`}}),n.jsx(C,{className:"h-3 w-full"})]},t))})})]}),n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"h-[200px] flex items-end justify-between gap-3 px-4",children:[70,85,75,95,80,60,50].map((e,t)=>n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end gap-2",children:[n.jsx(C,{className:"h-2 w-2 rounded-full"}),n.jsx(C,{className:"w-0.5",style:{height:`${e}%`}}),n.jsx(C,{className:"h-3 w-8"})]},t))})})]})]})}function RVe(){return n.jsxs("div",{className:"flex flex-col gap-3 mb-3",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between",children:[n.jsxs("div",{className:"flex gap-1 bg-muted rounded-lg p-1",children:[n.jsx(C,{className:"h-9 w-24 rounded-md"}),n.jsx(C,{className:"h-9 w-32 rounded-md"})]}),n.jsx(C,{className:"h-11 flex-1 max-w-md rounded-md"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-12"})]}),n.jsx(C,{className:"h-11 w-[140px] rounded-md"}),n.jsx(C,{className:"h-11 w-[140px] rounded-md"})]})]})}function MVe(){return n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsx(C,{className:"h-6 w-40"})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Apartment","Vendor","Order No","Priority","ETA","Status","Tracking","Actions"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(8)].map((e,t)=>n.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-32"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-24 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-24 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-28 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"})]})})]},t))})]})})})]})}function FVe(){return n.jsxs("div",{className:"space-y-4",children:[n.jsx(DVe,{}),n.jsx(IVe,{}),n.jsx(RVe,{}),n.jsx(MVe,{})]})}const $Ve=()=>{const[e,t]=v.useState(""),[r,s]=v.useState("all"),[a,i]=v.useState("all"),[o,l]=v.useState(null),[c,d]=v.useState(!1),[u,f]=v.useState(!1),[m,h]=v.useState(!1),{deliveries:x,loading:p,error:g,refetch:j,updateStatus:y}=TVe({search:e||void 0,status:r!=="all"?r:void 0,priority:a!=="all"?a:void 0});OVe();const w=S=>({Confirmed:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400","In Transit":"bg-blue-500/10 text-blue-600 dark:text-blue-400",Delayed:"bg-orange-500/10 text-orange-600 dark:text-orange-400",Received:"bg-green-500/10 text-green-600 dark:text-green-400",Returned:"bg-red-500/10 text-red-600 dark:text-red-400"})[S]||"bg-muted text-muted-foreground",b=S=>({High:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",Medium:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border-yellow-500/20",Low:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20"})[S]||"bg-muted text-muted-foreground",N=Object.entries(x.reduce((S,A)=>{const E=A.vendor_name||"Unknown";return S[E]=(S[E]||0)+1,S},{})).map(([S,A])=>({vendor:S.split(" ")[0],deliveries:A})),_=[{day:"Mon",deliveries:8},{day:"Tue",deliveries:12},{day:"Wed",deliveries:10},{day:"Thu",deliveries:15},{day:"Fri",deliveries:11},{day:"Sat",deliveries:5},{day:"Sun",deliveries:3}];return p?n.jsx(ct,{title:"Deliveries",children:n.jsx(FVe,{})}):n.jsx(ct,{title:"Deliveries",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(X,{className:"card-hover-effect",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Confirmed"}),n.jsx("p",{className:"text-2xl font-bold",children:x.filter(S=>S.status==="Confirmed").length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor accepted"})]}),n.jsx("div",{className:"p-2.5 rounded-xl bg-blue-500/10",children:n.jsx(wr,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})})]})})}),n.jsx(X,{className:"card-hover-effect",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"In Transit"}),n.jsx("p",{className:"text-2xl font-bold",children:x.filter(S=>S.status==="In Transit").length}),n.jsxs("p",{className:"text-sm text-success flex items-center gap-1",children:[n.jsx(ni,{className:"h-4 w-4"}),"Active"]})]}),n.jsx("div",{className:"p-2.5 rounded-xl bg-yellow-500/10",children:n.jsx(_r,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})})]})})}),n.jsx(X,{className:"card-hover-effect",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Received"}),n.jsx("p",{className:"text-2xl font-bold",children:x.filter(S=>S.status==="Received").length}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"})]}),n.jsx("div",{className:"p-2.5 rounded-xl bg-green-500/10",children:n.jsx(ar,{className:"h-5 w-5 text-green-600 dark:text-green-400"})})]})})}),n.jsx(X,{className:"card-hover-effect",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Issues"}),n.jsx("p",{className:"text-2xl font-bold",children:x.filter(S=>S.status==="Delayed"||S.status==="Returned").length}),n.jsxs("p",{className:"text-sm text-orange-600 dark:text-orange-400 flex items-center gap-1",children:[n.jsx(si,{className:"h-4 w-4"}),"Delayed/Returned"]})]}),n.jsx("div",{className:"p-2.5 rounded-xl bg-orange-500/10",children:n.jsx(si,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})})]})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(lt,{className:"h-5 w-5 text-primary"}),"Deliveries by Vendor"]})}),n.jsx(Q,{children:n.jsx(fn,{width:"100%",height:200,children:n.jsxs(wa,{data:N,children:[n.jsx(Un,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(an,{dataKey:"vendor",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(on,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"}}),n.jsx(wn,{dataKey:"deliveries",fill:"hsl(var(--primary))",radius:[8,8,0,0]})]})})})]}),n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(ni,{className:"h-5 w-5 text-primary"}),"Weekly Delivery Trend"]})}),n.jsx(Q,{children:n.jsx(fn,{width:"100%",height:200,children:n.jsxs(B2,{data:_,children:[n.jsx(Un,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(an,{dataKey:"day",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(on,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"}}),n.jsx(tc,{type:"monotone",dataKey:"deliveries",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",r:4}})]})})})]})]}),n.jsxs(To,{defaultValue:"list",className:"w-full",children:[n.jsxs("div",{className:"flex flex-col gap-3 mb-3",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between",children:[n.jsxs(Qi,{children:[n.jsx(Ut,{value:"list",children:"List View"}),n.jsx(Ut,{value:"calendar",children:"Calendar View"})]}),n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(ua,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/70"}),n.jsx(fe,{placeholder:"Search by apartment, vendor, order...",value:e,onChange:S=>t(S.target.value),className:"pl-10 h-11 bg-muted/30 border-border/50 focus:bg-background transition-colors"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Iv,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Filters:"})]}),n.jsxs(tt,{value:r,onValueChange:s,children:[n.jsx(Je,{className:"w-[140px] h-11 bg-muted/30 border-border/50",children:n.jsx(rt,{placeholder:"Status"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"all",children:"All Status"}),n.jsx(ee,{value:"Confirmed",children:"Confirmed"}),n.jsx(ee,{value:"In Transit",children:"In Transit"}),n.jsx(ee,{value:"Delayed",children:"Delayed"}),n.jsx(ee,{value:"Received",children:"Received"}),n.jsx(ee,{value:"Returned",children:"Returned"})]})]}),n.jsxs(tt,{value:a,onValueChange:i,children:[n.jsx(Je,{className:"w-[140px] h-11 bg-muted/30 border-border/50",children:n.jsx(rt,{placeholder:"Priority"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"all",children:"All Priority"}),n.jsx(ee,{value:"High",children:"High"}),n.jsx(ee,{value:"Medium",children:"Medium"}),n.jsx(ee,{value:"Low",children:"Low"})]})]}),(r!=="all"||a!=="all")&&n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>{s("all"),i("all")},className:"h-11",children:"Clear Filters"})]})]}),n.jsx(Yt,{value:"list",className:"mt-0",children:n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"text-lg font-semibold",children:["All Deliveries (",x.length,")"]})}),n.jsx(Q,{children:g?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-destructive",children:g}),n.jsx(re,{variant:"outline",className:"mt-4",onClick:j,children:"Try Again"})]}):n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ds,{children:[n.jsx(Is,{children:n.jsxs(Bt,{children:[n.jsx(Te,{className:"font-semibold text-foreground/90",children:"Apartment"}),n.jsx(Te,{className:"font-semibold text-foreground/90",children:"Vendor"}),n.jsx(Te,{className:"font-semibold text-foreground/90",children:"Order No"}),n.jsx(Te,{className:"font-semibold text-foreground/90",children:"Priority"}),n.jsx(Te,{className:"font-semibold text-foreground/90",children:"ETA"}),n.jsx(Te,{className:"font-semibold text-foreground/90",children:"Status"}),n.jsx(Te,{className:"font-semibold text-foreground/90",children:"Tracking"}),n.jsx(Te,{className:"text-right font-semibold text-foreground/90",children:"Actions"})]})}),n.jsx(Rs,{children:x.length===0?n.jsx(Bt,{children:n.jsx(Se,{colSpan:9,className:"text-center py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"No deliveries found"})})}):x.map(S=>n.jsxs(Bt,{className:"hover:bg-muted/50",children:[n.jsx(Se,{className:"font-medium",children:S.apartment_name}),n.jsx(Se,{className:"text-muted-foreground",children:S.vendor_name}),n.jsx(Se,{children:n.jsx(Ae,{variant:"outline",className:"font-mono",children:S.order_reference})}),n.jsx(Se,{children:n.jsx(Ae,{variant:"outline",className:b(S.priority),children:S.priority})}),n.jsx(Se,{className:"text-muted-foreground",children:S.expected_date}),n.jsx(Se,{children:n.jsx(Ae,{variant:"outline",className:w(S.status),children:S.status})}),n.jsx(Se,{children:S.tracking_number?n.jsx(Ae,{variant:"outline",className:"font-mono",children:S.tracking_number}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(Se,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(re,{size:"sm",variant:"ghost",title:"View Details",onClick:()=>{l(S),d(!0)},children:n.jsx(ri,{className:"h-4 w-4"})}),n.jsx(re,{size:"sm",variant:"ghost",title:"Track Delivery",onClick:()=>{l(S),h(!0)},children:n.jsx(_se,{className:"h-4 w-4"})}),n.jsx(re,{size:"sm",variant:"ghost",title:"Update Status",onClick:()=>{l(S),f(!0)},children:n.jsx(ar,{className:"h-4 w-4"})})]})})]},S.id))})]})})})]})}),n.jsx(Yt,{value:"calendar",className:"mt-0",children:n.jsx(X,{children:n.jsxs(Q,{className:"p-6",children:[n.jsx("div",{className:"grid grid-cols-7 gap-3 mb-3",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(S=>n.jsx("div",{className:"text-center text-sm font-semibold text-muted-foreground py-2",children:S},S))}),n.jsx("div",{className:"grid grid-cols-7 gap-3",children:Array.from({length:35},(S,A)=>{const E=new Date,D=new Date(E.getFullYear(),E.getMonth(),1).getDay(),I=A-D+1,H=new Date(E.getFullYear(),E.getMonth(),I).toISOString().split("T")[0],F=x.filter(T=>T.expected_date===H);return A<D||I>new Date(E.getFullYear(),E.getMonth()+1,0).getDate()?n.jsx("div",{className:"aspect-square"},A):n.jsxs("div",{className:`aspect-square border rounded-lg p-2 hover:border-primary transition-colors ${F.length>0?"bg-primary/5 border-primary/20":"bg-muted/30"}`,children:[n.jsx("div",{className:"text-sm font-medium mb-1",children:I}),F.length>0&&n.jsxs("div",{className:"space-y-1",children:[F.slice(0,2).map(T=>{var k;return n.jsx("div",{className:`text-[10px] px-1 py-0.5 rounded truncate ${w(T.status)}`,children:(k=T.apartment_name)==null?void 0:k.split(" ")[0]},T.id)}),F.length>2&&n.jsxs("div",{className:"text-[10px] text-muted-foreground",children:["+",F.length-2]})]})]},A)})})]})})})]}),n.jsx(PVe,{open:c,onOpenChange:d,delivery:o}),o&&n.jsx(PQ,{open:u,onOpenChange:f,deliveryId:o.id,currentStatus:o.status,orderReference:o.order_reference,onStatusUpdated:()=>{j()}}),n.jsx(kVe,{open:m,onOpenChange:h,delivery:o})]})})};function ya(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var LVe=typeof Symbol=="function"&&Symbol.observable||"@@observable",Q$=LVe,sC=()=>Math.random().toString(36).substring(7).split("").join("."),BVe={INIT:`@@redux/INIT${sC()}`,REPLACE:`@@redux/REPLACE${sC()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${sC()}`},Z$=BVe;function UVe(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function QQ(e,t,r){if(typeof e!="function")throw new Error(ya(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ya(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ya(1));return r(QQ)(e,t)}let s=e,a=t,i=new Map,o=i,l=0,c=!1;function d(){o===i&&(o=new Map,i.forEach((g,j)=>{o.set(j,g)}))}function u(){if(c)throw new Error(ya(3));return a}function f(g){if(typeof g!="function")throw new Error(ya(4));if(c)throw new Error(ya(5));let j=!0;d();const y=l++;return o.set(y,g),function(){if(j){if(c)throw new Error(ya(6));j=!1,d(),o.delete(y),i=null}}}function m(g){if(!UVe(g))throw new Error(ya(7));if(typeof g.type>"u")throw new Error(ya(8));if(typeof g.type!="string")throw new Error(ya(17));if(c)throw new Error(ya(9));try{c=!0,a=s(a,g)}finally{c=!1}return(i=o).forEach(y=>{y()}),g}function h(g){if(typeof g!="function")throw new Error(ya(10));s=g,m({type:Z$.REPLACE})}function x(){const g=f;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(ya(11));function y(){const b=j;b.next&&b.next(u())}return y(),{unsubscribe:g(y)}},[Q$](){return this}}}return m({type:Z$.INIT}),{dispatch:m,subscribe:f,getState:u,replaceReducer:h,[Q$]:x}}function J$(e,t){return function(...r){return t(e.apply(this,r))}}function eL(e,t){if(typeof e=="function")return J$(e,t);if(typeof e!="object"||e===null)throw new Error(ya(16));const r={};for(const s in e){const a=e[s];typeof a=="function"&&(r[s]=J$(a,t))}return r}function ZQ(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...s)=>t(r(...s)))}function VVe(...e){return t=>(r,s)=>{const a=t(r,s);let i=()=>{throw new Error(ya(15))};const o={getState:a.getState,dispatch:(c,...d)=>i(c,...d)},l=e.map(c=>c(o));return i=ZQ(...l)(a.dispatch),{...a,dispatch:i}}}var zVe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by=v;function WVe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var HVe=typeof Object.is=="function"?Object.is:WVe,qVe=by.useSyncExternalStore,GVe=by.useRef,KVe=by.useEffect,YVe=by.useMemo,XVe=by.useDebugValue;zVe.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var i=GVe(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=YVe(function(){function c(h){if(!d){if(d=!0,u=h,h=s(h),a!==void 0&&o.hasValue){var x=o.value;if(a(x,h))return f=x}return f=h}if(x=f,HVe(u,h))return x;var p=s(h);return a!==void 0&&a(x,p)?(u=h,x):(u=h,f=p)}var d=!1,u,f,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,s,a]);var l=qVe(e,i[0],i[1]);return KVe(function(){o.hasValue=!0,o.value=l},[l]),XVe(l),l};var QVe=v.version.startsWith("19"),ZVe=Symbol.for(QVe?"react.transitional.element":"react.element"),JVe=Symbol.for("react.portal"),eze=Symbol.for("react.fragment"),tze=Symbol.for("react.strict_mode"),rze=Symbol.for("react.profiler"),nze=Symbol.for("react.consumer"),sze=Symbol.for("react.context"),JQ=Symbol.for("react.forward_ref"),aze=Symbol.for("react.suspense"),ize=Symbol.for("react.suspense_list"),F3=Symbol.for("react.memo"),oze=Symbol.for("react.lazy"),lze=JQ,cze=F3;function dze(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case ZVe:switch(e=e.type,e){case eze:case rze:case tze:case aze:case ize:return e;default:switch(e=e&&e.$$typeof,e){case sze:case JQ:case oze:case F3:return e;case nze:return e;default:return t}}case JVe:return t}}}function uze(e){return dze(e)===F3}function fze(e,t,r,s,{areStatesEqual:a,areOwnPropsEqual:i,areStatePropsEqual:o}){let l=!1,c,d,u,f,m;function h(y,w){return c=y,d=w,u=e(c,d),f=t(s,d),m=r(u,f,d),l=!0,m}function x(){return u=e(c,d),t.dependsOnOwnProps&&(f=t(s,d)),m=r(u,f,d),m}function p(){return e.dependsOnOwnProps&&(u=e(c,d)),t.dependsOnOwnProps&&(f=t(s,d)),m=r(u,f,d),m}function g(){const y=e(c,d),w=!o(y,u);return u=y,w&&(m=r(u,f,d)),m}function j(y,w){const b=!i(w,d),N=!a(y,c,w,d);return c=y,d=w,b&&N?x():b?p():N?g():m}return function(w,b){return l?j(w,b):h(w,b)}}function mze(e,{initMapStateToProps:t,initMapDispatchToProps:r,initMergeProps:s,...a}){const i=t(e,a),o=r(e,a),l=s(e,a);return fze(i,o,l,e,a)}function hze(e,t){const r={};for(const s in e){const a=e[s];typeof a=="function"&&(r[s]=(...i)=>t(a(...i)))}return r}function mP(e){return function(r){const s=e(r);function a(){return s}return a.dependsOnOwnProps=!1,a}}function tL(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function eZ(e,t){return function(s,{displayName:a}){const i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=e,i.dependsOnOwnProps=tL(e);let d=i(l,c);return typeof d=="function"&&(i.mapToProps=d,i.dependsOnOwnProps=tL(d),d=i(l,c)),d},i}}function $3(e,t){return(r,s)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${s.wrappedComponentName}.`)}}function pze(e){return e&&typeof e=="object"?mP(t=>hze(e,t)):e?typeof e=="function"?eZ(e):$3(e,"mapDispatchToProps"):mP(t=>({dispatch:t}))}function xze(e){return e?typeof e=="function"?eZ(e):$3(e,"mapStateToProps"):mP(()=>({}))}function gze(e,t,r){return{...r,...e,...t}}function vze(e){return function(r,{displayName:s,areMergedPropsEqual:a}){let i=!1,o;return function(c,d,u){const f=e(c,d,u);return i?a(f,o)||(o=f):(i=!0,o=f),o}}}function yze(e){return e?typeof e=="function"?vze(e):$3(e,"mergeProps"):()=>gze}function jze(e){e()}function bze(){let e=null,t=null;return{clear(){e=null,t=null},notify(){jze(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!s||e===null||(s=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var rL={notify(){},get:()=>[]};function tZ(e,t){let r,s=rL,a=0,i=!1;function o(p){u();const g=s.subscribe(p);let j=!1;return()=>{j||(j=!0,g(),f())}}function l(){s.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return i}function u(){a++,r||(r=t?t.addNestedSub(c):e.subscribe(c),s=bze())}function f(){a--,r&&a===0&&(r(),r=void 0,s.clear(),s=rL)}function m(){i||(i=!0,u())}function h(){i&&(i=!1,f())}const x={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>s};return x}var wze=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nze=wze(),_ze=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Sze=_ze(),Cze=()=>Nze||Sze?v.useLayoutEffect:v.useEffect,Aw=Cze();function nL(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function aC(e,t){if(nL(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!nL(e[r[a]],t[r[a]]))return!1;return!0}var Aze={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Eze={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Pze={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},rZ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},kze={[lze]:Pze,[cze]:rZ};function sL(e){return uze(e)?rZ:kze[e.$$typeof]||Aze}var Tze=Object.defineProperty,Oze=Object.getOwnPropertyNames,aL=Object.getOwnPropertySymbols,Dze=Object.getOwnPropertyDescriptor,Ize=Object.getPrototypeOf,iL=Object.prototype;function hP(e,t){if(typeof t!="string"){if(iL){const i=Ize(t);i&&i!==iL&&hP(e,i)}let r=Oze(t);aL&&(r=r.concat(aL(t)));const s=sL(e),a=sL(t);for(let i=0;i<r.length;++i){const o=r[i];if(!Eze[o]&&!(a&&a[o])&&!(s&&s[o])){const l=Dze(t,o);try{Tze(e,o,l)}catch{}}}}return e}var iC=Symbol.for("react-redux-context"),oC=typeof globalThis<"u"?globalThis:{};function Rze(){if(!v.createContext)return{};const e=oC[iC]??(oC[iC]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var nZ=Rze(),Mze=[null,null];function Fze(e,t,r){Aw(()=>e(...t),r)}function $ze(e,t,r,s,a,i){e.current=s,r.current=!1,a.current&&(a.current=null,i())}function Lze(e,t,r,s,a,i,o,l,c,d,u){if(!e)return()=>{};let f=!1,m=null;const h=()=>{if(f||!l.current)return;const p=t.getState();let g,j;try{g=s(p,a.current)}catch(y){j=y,m=y}j||(m=null),g===i.current?o.current||d():(i.current=g,c.current=g,o.current=!0,u())};return r.onStateChange=h,r.trySubscribe(),h(),()=>{if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,m)throw m}}function Bze(e,t){return e===t}function Uze(e,t,r,{pure:s,areStatesEqual:a=Bze,areOwnPropsEqual:i=aC,areStatePropsEqual:o=aC,areMergedPropsEqual:l=aC,forwardRef:c=!1,context:d=nZ}={}){const u=d,f=xze(e),m=pze(t),h=yze(r),x=!!e;return g=>{const j=g.displayName||g.name||"Component",y=`Connect(${j})`,w={shouldHandleStateChanges:x,displayName:y,wrappedComponentName:j,WrappedComponent:g,initMapStateToProps:f,initMapDispatchToProps:m,initMergeProps:h,areStatesEqual:a,areStatePropsEqual:o,areOwnPropsEqual:i,areMergedPropsEqual:l};function b(S){const[A,E,P]=v.useMemo(()=>{const{reactReduxForwardedRef:ue,...ve}=S;return[S.context,ue,ve]},[S]),D=v.useMemo(()=>{let ue=u;return A!=null&&A.Consumer,ue},[A,u]),I=v.useContext(D),W=!!S.store&&!!S.store.getState&&!!S.store.dispatch,H=!!I&&!!I.store,F=W?S.store:I.store,T=H?I.getServerState:F.getState,k=v.useMemo(()=>mze(F.dispatch,w),[F]),[M,O]=v.useMemo(()=>{if(!x)return Mze;const ue=tZ(F,W?void 0:I.subscription),ve=ue.notifyNestedSubs.bind(ue);return[ue,ve]},[F,W,I]),K=v.useMemo(()=>W?I:{...I,subscription:M},[W,I,M]),se=v.useRef(void 0),R=v.useRef(P),V=v.useRef(void 0),L=v.useRef(!1),G=v.useRef(!1),le=v.useRef(void 0);Aw(()=>(G.current=!0,()=>{G.current=!1}),[]);const me=v.useMemo(()=>()=>V.current&&P===R.current?V.current:k(F.getState(),P),[F,P]),B=v.useMemo(()=>ve=>M?Lze(x,F,M,k,R,se,L,G,V,O,ve):()=>{},[M]);Fze($ze,[R,se,L,P,V,O]);let Y;try{Y=v.useSyncExternalStore(B,me,T?()=>k(T(),P):me)}catch(ue){throw le.current&&(ue.message+=`
The error may be correlated with this previous error:
${le.current.stack}

`),ue}Aw(()=>{le.current=void 0,V.current=void 0,se.current=Y});const oe=v.useMemo(()=>v.createElement(g,{...Y,ref:E}),[E,g,Y]);return v.useMemo(()=>x?v.createElement(D.Provider,{value:K},oe):oe,[D,oe,K])}const _=v.memo(b);if(_.WrappedComponent=g,_.displayName=b.displayName=y,c){const A=v.forwardRef(function(P,D){return v.createElement(_,{...P,reactReduxForwardedRef:D})});return A.displayName=y,A.WrappedComponent=g,hP(A,g)}return hP(_,g)}}var sZ=Uze;function Vze(e){const{children:t,context:r,serverState:s,store:a}=e,i=v.useMemo(()=>{const c=tZ(a);return{store:a,subscription:c,getServerState:s?()=>s:void 0}},[a,s]),o=v.useMemo(()=>a.getState(),[a]);Aw(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const l=r||nZ;return v.createElement(l.Provider,{value:i},t)}var zze=Vze,Zo=function(t){var r=t.top,s=t.right,a=t.bottom,i=t.left,o=s-i,l=a-r,c={top:r,right:s,bottom:a,left:i,width:o,height:l,x:i,y:r,center:{x:(s+i)/2,y:(a+r)/2}};return c},L3=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},oL=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},Wze=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},lC={top:0,right:0,bottom:0,left:0},B3=function(t){var r=t.borderBox,s=t.margin,a=s===void 0?lC:s,i=t.border,o=i===void 0?lC:i,l=t.padding,c=l===void 0?lC:l,d=Zo(L3(r,a)),u=Zo(oL(r,o)),f=Zo(oL(u,c));return{marginBox:d,borderBox:Zo(r),paddingBox:u,contentBox:f,margin:a,border:o,padding:c}},ro=function(t){var r=t.slice(0,-2),s=t.slice(-2);if(s!=="px")return 0;var a=Number(r);return isNaN(a)&&yu(),a},Hze=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Ew=function(t,r){var s=t.borderBox,a=t.border,i=t.margin,o=t.padding,l=Wze(s,r);return B3({borderBox:l,border:a,margin:i,padding:o})},Pw=function(t,r){return r===void 0&&(r=Hze()),Ew(t,r)},aZ=function(t,r){var s={top:ro(r.marginTop),right:ro(r.marginRight),bottom:ro(r.marginBottom),left:ro(r.marginLeft)},a={top:ro(r.paddingTop),right:ro(r.paddingRight),bottom:ro(r.paddingBottom),left:ro(r.paddingLeft)},i={top:ro(r.borderTopWidth),right:ro(r.borderRightWidth),bottom:ro(r.borderBottomWidth),left:ro(r.borderLeftWidth)};return B3({borderBox:t,margin:s,padding:a,border:i})},iZ=function(t){var r=t.getBoundingClientRect(),s=window.getComputedStyle(t);return aZ(r,s)},lv=function(t){var r=[],s=null,a=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];r=l,!s&&(s=requestAnimationFrame(function(){s=null,t.apply(void 0,r)}))};return a.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},a};function oZ(e,t){}oZ.bind(null,"warn");oZ.bind(null,"error");function ou(){}function qze(e,t){return{...e,...t}}function xo(e,t,r){const s=t.map(a=>{const i=qze(r,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){s.forEach(i=>{i()})}}const Gze="Invariant failed";class kw extends Error{}kw.prototype.toString=function(){return this.message};function at(e,t){throw new kw(Gze)}class Kze extends z.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=ou,this.onWindowError=r=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),r.error instanceof kw&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=xo(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof kw){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const Yze=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Tw=e=>e+1,Xze=e=>`
  You have lifted an item in position ${Tw(e.source.index)}
`,lZ=(e,t)=>{const r=e.droppableId===t.droppableId,s=Tw(e.index),a=Tw(t.index);return r?`
      You have moved the item from position ${s}
      to position ${a}
    `:`
    You have moved the item from position ${s}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${a}
  `},cZ=(e,t,r)=>t.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,Qze=e=>{const t=e.destination;if(t)return lZ(e.source,t);const r=e.combine;return r?cZ(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},lL=e=>`
  The item has returned to its starting position
  of ${Tw(e.index)}
`,Zze=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${lL(e.source)}
    `;const t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      ${lZ(e.source,t)}
    `:r?`
      You have dropped the item.
      ${cZ(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${lL(e.source)}
  `},mb={dragHandleUsageInstructions:Yze,onDragStart:Xze,onDragUpdate:Qze,onDragEnd:Zze};function Jze(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function dZ(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Jze(e[r],t[r]))return!1;return!0}function cr(e,t){const r=v.useState(()=>({inputs:t,result:e()}))[0],s=v.useRef(!0),a=v.useRef(r),o=s.current||!!(t&&a.current.inputs&&dZ(t,a.current.inputs))?a.current:{inputs:t,result:e()};return v.useEffect(()=>{s.current=!1,a.current=o},[o]),o.result}function _t(e,t){return cr(()=>e,t)}const Ms={x:0,y:0},Gs=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Oi=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),lu=(e,t)=>e.x===t.x&&e.y===t.y,ux=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),em=(e,t,r=0)=>e==="x"?{x:t,y:r}:{x:r,y:t},cv=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),cL=(e,t)=>Math.min(...t.map(r=>cv(e,r))),uZ=e=>t=>({x:e(t.x),y:e(t.y)});var eWe=(e,t)=>{const r=Zo({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r};const wy=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),dL=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],tWe={top:0,right:0,bottom:0,left:0},rWe=(e,t)=>t?wy(e,t.scroll.diff.displacement):e,nWe=(e,t,r)=>r&&r.increasedBy?{...e,[t.end]:e[t.end]+r.increasedBy[t.line]}:e,sWe=(e,t)=>t&&t.shouldClipSubject?eWe(t.pageMarginBox,e):Zo(e);var kp=({page:e,withPlaceholder:t,axis:r,frame:s})=>{const a=rWe(e.marginBox,s),i=nWe(a,r,t),o=sWe(i,s);return{page:e,withPlaceholder:t,active:o}},U3=(e,t)=>{e.frame||at();const r=e.frame,s=Oi(t,r.scroll.initial),a=ux(s),i={...r,scroll:{initial:r.scroll.initial,current:t,diff:{value:s,displacement:a},max:r.scroll.max}},o=kp({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:o}};function Os(e,t=dZ){let r=null;function s(...a){if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;const i=e.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return s.clear=function(){r=null},s}const fZ=Os(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),mZ=Os(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),X2=Os(e=>Object.values(e)),aWe=Os(e=>Object.values(e));var fx=Os((e,t)=>aWe(t).filter(s=>e===s.descriptor.droppableId).sort((s,a)=>s.descriptor.index-a.descriptor.index));function V3(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Q2(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Z2=Os((e,t)=>t.filter(r=>r.descriptor.id!==e.descriptor.id)),iWe=({isMovingForward:e,draggable:t,destination:r,insideDestination:s,previousImpact:a})=>{if(!r.isCombineEnabled||!V3(a))return null;function o(h){const x={type:"COMBINE",combine:{draggableId:h,droppableId:r.descriptor.id}};return{...a,at:x}}const l=a.displaced.all,c=l.length?l[0]:null;if(e)return c?o(c):null;const d=Z2(t,s);if(!c){if(!d.length)return null;const h=d[d.length-1];return o(h.descriptor.id)}const u=d.findIndex(h=>h.descriptor.id===c);u===-1&&at();const f=u-1;if(f<0)return null;const m=d[f];return o(m.descriptor.id)},mx=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const hZ={point:Ms,value:0},dv={invisible:{},visible:{},all:[]},oWe={displaced:dv,displacedBy:hZ,at:null};var bo=(e,t)=>r=>e<=r&&r<=t,pZ=e=>{const t=bo(e.top,e.bottom),r=bo(e.left,e.right);return s=>{if(t(s.top)&&t(s.bottom)&&r(s.left)&&r(s.right))return!0;const i=t(s.top)||t(s.bottom),o=r(s.left)||r(s.right);if(i&&o)return!0;const c=s.top<e.top&&s.bottom>e.bottom,d=s.left<e.left&&s.right>e.right;return c&&d?!0:c&&o||d&&i}},lWe=e=>{const t=bo(e.top,e.bottom),r=bo(e.left,e.right);return s=>t(s.top)&&t(s.bottom)&&r(s.left)&&r(s.right)};const z3={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},xZ={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var cWe=e=>t=>{const r=bo(t.top,t.bottom),s=bo(t.left,t.right);return a=>e===z3?r(a.top)&&r(a.bottom):s(a.left)&&s(a.right)};const dWe=(e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:Ms;return wy(e,r)},uWe=(e,t,r)=>t.subject.active?r(t.subject.active)(e):!1,fWe=(e,t,r)=>r(t)(e),W3=({target:e,destination:t,viewport:r,withDroppableDisplacement:s,isVisibleThroughFrameFn:a})=>{const i=s?dWe(e,t):e;return uWe(i,t,a)&&fWe(i,r,a)},mWe=e=>W3({...e,isVisibleThroughFrameFn:pZ}),gZ=e=>W3({...e,isVisibleThroughFrameFn:lWe}),hWe=e=>W3({...e,isVisibleThroughFrameFn:cWe(e.destination.axis)}),pWe=(e,t,r)=>{if(typeof r=="boolean")return r;if(!t)return!0;const{invisible:s,visible:a}=t;if(s[e])return!1;const i=a[e];return i?i.shouldAnimate:!0};function xWe(e,t){const r=e.page.marginBox,s={top:t.point.y,right:0,bottom:0,left:t.point.x};return Zo(L3(r,s))}function uv({afterDragging:e,destination:t,displacedBy:r,viewport:s,forceShouldAnimate:a,last:i}){return e.reduce(function(l,c){const d=xWe(c,r),u=c.descriptor.id;if(l.all.push(u),!mWe({target:d,destination:t,viewport:s,withDroppableDisplacement:!0}))return l.invisible[c.descriptor.id]=!0,l;const m=pWe(u,i,a),h={draggableId:u,shouldAnimate:m};return l.visible[u]=h,l},{all:[],visible:{},invisible:{}})}function gWe(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function uL({insideDestination:e,inHomeList:t,displacedBy:r,destination:s}){const a=gWe(e,{inHomeList:t});return{displaced:dv,displacedBy:r,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:a}}}}function Ow({draggable:e,insideDestination:t,destination:r,viewport:s,displacedBy:a,last:i,index:o,forceShouldAnimate:l}){const c=mx(e,r);if(o==null)return uL({insideDestination:t,inHomeList:c,displacedBy:a,destination:r});const d=t.find(x=>x.descriptor.index===o);if(!d)return uL({insideDestination:t,inHomeList:c,displacedBy:a,destination:r});const u=Z2(e,t),f=t.indexOf(d),m=u.slice(f);return{displaced:uv({afterDragging:m,destination:r,displacedBy:a,last:i,viewport:s.frame,forceShouldAnimate:l}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:o}}}}function ju(e,t){return!!t.effected[e]}var vWe=({isMovingForward:e,destination:t,draggables:r,combine:s,afterCritical:a})=>{if(!t.isCombineEnabled)return null;const i=s.draggableId,l=r[i].descriptor.index;return ju(i,a)?e?l:l-1:e?l+1:l},yWe=({isMovingForward:e,isInHomeList:t,insideDestination:r,location:s})=>{if(!r.length)return null;const a=s.index,i=e?a+1:a-1,o=r[0].descriptor.index,l=r[r.length-1].descriptor.index,c=t?l:l+1;return i<o||i>c?null:i},jWe=({isMovingForward:e,isInHomeList:t,draggable:r,draggables:s,destination:a,insideDestination:i,previousImpact:o,viewport:l,afterCritical:c})=>{const d=o.at;if(d||at(),d.type==="REORDER"){const f=yWe({isMovingForward:e,isInHomeList:t,location:d.destination,insideDestination:i});return f==null?null:Ow({draggable:r,insideDestination:i,destination:a,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:f})}const u=vWe({isMovingForward:e,destination:a,displaced:o.displaced,draggables:s,combine:d.combine,afterCritical:c});return u==null?null:Ow({draggable:r,insideDestination:i,destination:a,viewport:l,last:o.displaced,displacedBy:o.displacedBy,index:u})},bWe=({displaced:e,afterCritical:t,combineWith:r,displacedBy:s})=>{const a=!!(e.visible[r]||e.invisible[r]);return ju(r,t)?a?Ms:ux(s.point):a?s.point:Ms},wWe=({afterCritical:e,impact:t,draggables:r})=>{const s=Q2(t);s||at();const a=s.draggableId,i=r[a].page.borderBox.center,o=bWe({displaced:t.displaced,afterCritical:e,combineWith:a,displacedBy:t.displacedBy});return Gs(i,o)};const vZ=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,NWe=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,H3=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,fL=({axis:e,moveRelativeTo:t,isMoving:r})=>em(e.line,t.marginBox[e.end]+vZ(e,r),H3(e,t.marginBox,r)),mL=({axis:e,moveRelativeTo:t,isMoving:r})=>em(e.line,t.marginBox[e.start]-NWe(e,r),H3(e,t.marginBox,r)),_We=({axis:e,moveInto:t,isMoving:r})=>em(e.line,t.contentBox[e.start]+vZ(e,r),H3(e,t.contentBox,r));var SWe=({impact:e,draggable:t,draggables:r,droppable:s,afterCritical:a})=>{const i=fx(s.descriptor.id,r),o=t.page,l=s.axis;if(!i.length)return _We({axis:l,moveInto:s.page,isMoving:o});const{displaced:c,displacedBy:d}=e,u=c.all[0];if(u){const m=r[u];if(ju(u,a))return mL({axis:l,moveRelativeTo:m.page,isMoving:o});const h=Ew(m.page,d.point);return mL({axis:l,moveRelativeTo:h,isMoving:o})}const f=i[i.length-1];if(f.descriptor.id===t.descriptor.id)return o.borderBox.center;if(ju(f.descriptor.id,a)){const m=Ew(f.page,ux(a.displacedBy.point));return fL({axis:l,moveRelativeTo:m,isMoving:o})}return fL({axis:l,moveRelativeTo:f.page,isMoving:o})},pP=(e,t)=>{const r=e.frame;return r?Gs(t,r.scroll.diff.displacement):t};const CWe=({impact:e,draggable:t,droppable:r,draggables:s,afterCritical:a})=>{const i=t.page.borderBox.center,o=e.at;return!r||!o?i:o.type==="REORDER"?SWe({impact:e,draggable:t,draggables:s,droppable:r,afterCritical:a}):wWe({impact:e,draggables:s,afterCritical:a})};var J2=e=>{const t=CWe(e),r=e.droppable;return r?pP(r,t):t},yZ=(e,t)=>{const r=Oi(t,e.scroll.initial),s=ux(r);return{frame:Zo({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:s}}}};function hL(e,t){return e.map(r=>t[r])}function AWe(e,t){for(let r=0;r<t.length;r++){const s=t[r].visible[e];if(s)return s}return null}var EWe=({impact:e,viewport:t,destination:r,draggables:s,maxScrollChange:a})=>{const i=yZ(t,Gs(t.scroll.current,a)),o=r.frame?U3(r,Gs(r.frame.scroll.current,a)):r,l=e.displaced,c=uv({afterDragging:hL(l.all,s),destination:r,displacedBy:e.displacedBy,viewport:i.frame,last:l,forceShouldAnimate:!1}),d=uv({afterDragging:hL(l.all,s),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),u={},f={},m=[l,c,d];return l.all.forEach(x=>{const p=AWe(x,m);if(p){f[x]=p;return}u[x]=!0}),{...e,displaced:{all:l.all,invisible:u,visible:f}}},PWe=(e,t)=>Gs(e.scroll.diff.displacement,t),q3=({pageBorderBoxCenter:e,draggable:t,viewport:r})=>{const s=PWe(r,e),a=Oi(s,t.page.borderBox.center);return Gs(t.client.borderBox.center,a)},jZ=({draggable:e,destination:t,newPageBorderBoxCenter:r,viewport:s,withDroppableDisplacement:a,onlyOnMainAxis:i=!1})=>{const o=Oi(r,e.page.borderBox.center),c={target:wy(e.page.borderBox,o),destination:t,withDroppableDisplacement:a,viewport:s};return i?hWe(c):gZ(c)},kWe=({isMovingForward:e,draggable:t,destination:r,draggables:s,previousImpact:a,viewport:i,previousPageBorderBoxCenter:o,previousClientSelection:l,afterCritical:c})=>{if(!r.isEnabled)return null;const d=fx(r.descriptor.id,s),u=mx(t,r),f=iWe({isMovingForward:e,draggable:t,destination:r,insideDestination:d,previousImpact:a})||jWe({isMovingForward:e,isInHomeList:u,draggable:t,draggables:s,destination:r,insideDestination:d,previousImpact:a,viewport:i,afterCritical:c});if(!f)return null;const m=J2({impact:f,draggable:t,droppable:r,draggables:s,afterCritical:c});if(jZ({draggable:t,destination:r,newPageBorderBoxCenter:m,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:q3({pageBorderBoxCenter:m,draggable:t,viewport:i}),impact:f,scrollJumpRequest:null};const x=Oi(m,o),p=EWe({impact:f,viewport:i,destination:r,draggables:s,maxScrollChange:x});return{clientSelection:l,impact:p,scrollJumpRequest:x}};const va=e=>{const t=e.subject.active;return t||at(),t};var TWe=({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:s,viewport:a})=>{const i=r.subject.active;if(!i)return null;const o=r.axis,l=bo(i[o.start],i[o.end]),c=X2(s).filter(u=>u!==r).filter(u=>u.isEnabled).filter(u=>!!u.subject.active).filter(u=>pZ(a.frame)(va(u))).filter(u=>{const f=va(u);return e?i[o.crossAxisEnd]<f[o.crossAxisEnd]:f[o.crossAxisStart]<i[o.crossAxisStart]}).filter(u=>{const f=va(u),m=bo(f[o.start],f[o.end]);return l(f[o.start])||l(f[o.end])||m(i[o.start])||m(i[o.end])}).sort((u,f)=>{const m=va(u)[o.crossAxisStart],h=va(f)[o.crossAxisStart];return e?m-h:h-m}).filter((u,f,m)=>va(u)[o.crossAxisStart]===va(m[0])[o.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const d=c.filter(u=>bo(va(u)[o.start],va(u)[o.end])(t[o.line]));return d.length===1?d[0]:d.length>1?d.sort((u,f)=>va(u)[o.start]-va(f)[o.start])[0]:c.sort((u,f)=>{const m=cL(t,dL(va(u))),h=cL(t,dL(va(f)));return m!==h?m-h:va(u)[o.start]-va(f)[o.start]})[0]};const pL=(e,t)=>{const r=e.page.borderBox.center;return ju(e.descriptor.id,t)?Oi(r,t.displacedBy.point):r},OWe=(e,t)=>{const r=e.page.borderBox;return ju(e.descriptor.id,t)?wy(r,ux(t.displacedBy.point)):r};var DWe=({pageBorderBoxCenter:e,viewport:t,destination:r,insideDestination:s,afterCritical:a})=>s.filter(o=>gZ({target:OWe(o,a),destination:r,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,l)=>{const c=cv(e,pP(r,pL(o,a))),d=cv(e,pP(r,pL(l,a)));return c<d?-1:d<c?1:o.descriptor.index-l.descriptor.index})[0]||null,Ny=Os(function(t,r){const s=r[t.line];return{value:s,point:em(t.line,s)}});const IWe=(e,t,r)=>{const s=e.axis;if(e.descriptor.mode==="virtual")return em(s.line,t[s.line]);const a=e.subject.page.contentBox[s.size],c=fx(e.descriptor.id,r).reduce((d,u)=>d+u.client.marginBox[s.size],0)+t[s.line]-a;return c<=0?null:em(s.line,c)},bZ=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),wZ=(e,t,r)=>{const s=e.frame;mx(t,e)&&at(),e.subject.withPlaceholder&&at();const a=Ny(e.axis,t.displaceBy).point,i=IWe(e,a,r),o={placeholderSize:a,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!s){const u=kp({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:u}}const l=i?Gs(s.scroll.max,i):s.scroll.max,c=bZ(s,l),d=kp({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:c});return{...e,subject:d,frame:c}},RWe=e=>{const t=e.subject.withPlaceholder;t||at();const r=e.frame;if(!r){const o=kp({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const s=t.oldFrameMaxScroll;s||at();const a=bZ(r,s),i=kp({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return{...e,subject:i,frame:a}};var MWe=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:r,draggable:s,draggables:a,destination:i,viewport:o,afterCritical:l})=>{if(!t){if(r.length)return null;const f={displaced:dv,displacedBy:hZ,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},m=J2({impact:f,draggable:s,droppable:i,draggables:a,afterCritical:l}),h=mx(s,i)?i:wZ(i,s,a);return jZ({draggable:s,destination:h,newPageBorderBoxCenter:m,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const c=e[i.axis.line]<=t.page.borderBox.center[i.axis.line],d=(()=>{const f=t.descriptor.index;return t.descriptor.id===s.descriptor.id||c?f:f+1})(),u=Ny(i.axis,s.displaceBy);return Ow({draggable:s,insideDestination:r,destination:i,viewport:o,displacedBy:u,last:dv,index:d})},FWe=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:r,isOver:s,draggables:a,droppables:i,viewport:o,afterCritical:l})=>{const c=TWe({isMovingForward:e,pageBorderBoxCenter:t,source:s,droppables:i,viewport:o});if(!c)return null;const d=fx(c.descriptor.id,a),u=DWe({pageBorderBoxCenter:t,viewport:o,destination:c,insideDestination:d,afterCritical:l}),f=MWe({previousPageBorderBoxCenter:t,destination:c,draggable:r,draggables:a,moveRelativeTo:u,insideDestination:d,viewport:o,afterCritical:l});if(!f)return null;const m=J2({impact:f,draggable:r,droppable:c,draggables:a,afterCritical:l});return{clientSelection:q3({pageBorderBoxCenter:m,draggable:r,viewport:o}),impact:f,scrollJumpRequest:null}},$i=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const $We=(e,t)=>{const r=$i(e);return r?t[r]:null};var LWe=({state:e,type:t})=>{const r=$We(e.impact,e.dimensions.droppables),s=!!r,a=e.dimensions.droppables[e.critical.droppable.id],i=r||a,o=i.axis.direction,l=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(l&&!s)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],u=e.current.page.borderBoxCenter,{draggables:f,droppables:m}=e.dimensions;return l?kWe({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,destination:i,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):FWe({isMovingForward:c,previousPageBorderBoxCenter:u,draggable:d,isOver:i,draggables:f,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function Xu(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function NZ(e){const t=bo(e.top,e.bottom),r=bo(e.left,e.right);return function(a){return t(a.y)&&r(a.x)}}function BWe(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function UWe({pageBorderBox:e,draggable:t,candidates:r}){const s=t.page.borderBox.center,a=r.map(i=>{const o=i.axis,l=em(i.axis.line,e.center[o.line],i.page.borderBox.center[o.crossAxisLine]);return{id:i.descriptor.id,distance:cv(s,l)}}).sort((i,o)=>o.distance-i.distance);return a[0]?a[0].id:null}function VWe({pageBorderBox:e,draggable:t,droppables:r}){const s=X2(r).filter(a=>{if(!a.isEnabled)return!1;const i=a.subject.active;if(!i||!BWe(e,i))return!1;if(NZ(i)(e.center))return!0;const o=a.axis,l=i.center[o.crossAxisLine],c=e[o.crossAxisStart],d=e[o.crossAxisEnd],u=bo(i[o.crossAxisStart],i[o.crossAxisEnd]),f=u(c),m=u(d);return!f&&!m?!0:f?c<l:d>l});return s.length?s.length===1?s[0].descriptor.id:UWe({pageBorderBox:e,draggable:t,candidates:s}):null}const _Z=(e,t)=>Zo(wy(e,t));var zWe=(e,t)=>{const r=e.frame;return r?_Z(t,r.scroll.diff.value):t};function SZ({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function WWe({draggable:e,closest:t,inHomeList:r}){return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var HWe=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:r,insideDestination:s,last:a,viewport:i,afterCritical:o})=>{const l=r.axis,c=Ny(r.axis,t.displaceBy),d=c.value,u=e[l.start],f=e[l.end],h=Z2(t,s).find(p=>{const g=p.descriptor.id,j=p.page.borderBox.center[l.line],y=ju(g,o),w=SZ({displaced:a,id:g});return y?w?f<=j:u<j-d:w?f<=j+d:u<j})||null,x=WWe({draggable:t,closest:h,inHomeList:mx(t,r)});return Ow({draggable:t,insideDestination:s,destination:r,viewport:i,last:a,displacedBy:c,index:x})};const qWe=4;var GWe=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:r,destination:s,insideDestination:a,afterCritical:i})=>{if(!s.isCombineEnabled)return null;const o=s.axis,l=Ny(s.axis,e.displaceBy),c=l.value,d=t[o.start],u=t[o.end],m=Z2(e,a).find(x=>{const p=x.descriptor.id,g=x.page.borderBox,y=g[o.size]/qWe,w=ju(p,i),b=SZ({displaced:r.displaced,id:p});return w?b?u>g[o.start]+y&&u<g[o.end]-y:d>g[o.start]-c+y&&d<g[o.end]-c-y:b?u>g[o.start]+c+y&&u<g[o.end]+c-y:d>g[o.start]+y&&d<g[o.end]-y});return m?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:s.descriptor.id}}}:null},CZ=({pageOffset:e,draggable:t,draggables:r,droppables:s,previousImpact:a,viewport:i,afterCritical:o})=>{const l=_Z(t.page.borderBox,e),c=VWe({pageBorderBox:l,draggable:t,droppables:s});if(!c)return oWe;const d=s[c],u=fx(d.descriptor.id,r),f=zWe(d,l);return GWe({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:a,destination:d,insideDestination:u,afterCritical:o})||HWe({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:d,insideDestination:u,last:a.displaced,viewport:i,afterCritical:o})},G3=(e,t)=>({...e,[t.descriptor.id]:t});const KWe=({previousImpact:e,impact:t,droppables:r})=>{const s=$i(e),a=$i(t);if(!s||s===a)return r;const i=r[s];if(!i.subject.withPlaceholder)return r;const o=RWe(i);return G3(r,o)};var YWe=({draggable:e,draggables:t,droppables:r,previousImpact:s,impact:a})=>{const i=KWe({previousImpact:s,impact:a,droppables:r}),o=$i(a);if(!o)return i;const l=r[o];if(mx(e,l)||l.subject.withPlaceholder)return i;const c=wZ(l,e,t);return G3(i,c)},$g=({state:e,clientSelection:t,dimensions:r,viewport:s,impact:a,scrollJumpRequest:i})=>{const o=s||e.viewport,l=r||e.dimensions,c=t||e.current.client.selection,d=Oi(c,e.initial.client.selection),u={offset:d,selection:c,borderBoxCenter:Gs(e.initial.client.borderBoxCenter,d)},f={selection:Gs(u.selection,o.scroll.current),borderBoxCenter:Gs(u.borderBoxCenter,o.scroll.current),offset:Gs(u.offset,o.scroll.diff.value)},m={client:u,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:l,viewport:o,current:m};const h=l.draggables[e.critical.draggable.id],x=a||CZ({pageOffset:f.offset,draggable:h,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),p=YWe({draggable:h,impact:x,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:m,dimensions:{draggables:l.draggables,droppables:p},impact:x,viewport:o,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function XWe(e,t){return e.map(r=>t[r])}var AZ=({impact:e,viewport:t,draggables:r,destination:s,forceShouldAnimate:a})=>{const i=e.displaced,o=XWe(i.all,r),l=uv({afterDragging:o,destination:s,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:a,last:i});return{...e,displaced:l}},EZ=({impact:e,draggable:t,droppable:r,draggables:s,viewport:a,afterCritical:i})=>{const o=J2({impact:e,draggable:t,draggables:s,droppable:r,afterCritical:i});return q3({pageBorderBoxCenter:o,draggable:t,viewport:a})},PZ=({state:e,dimensions:t,viewport:r})=>{e.movementMode!=="SNAP"&&at();const s=e.impact,a=r||e.viewport,i=t||e.dimensions,{draggables:o,droppables:l}=i,c=o[e.critical.draggable.id],d=$i(s);d||at();const u=l[d],f=AZ({impact:s,viewport:a,destination:u,draggables:o}),m=EZ({impact:f,draggable:c,droppable:u,draggables:o,viewport:a,afterCritical:e.afterCritical});return $g({impact:f,clientSelection:m,state:e,dimensions:i,viewport:a})},QWe=e=>({index:e.index,droppableId:e.droppableId}),kZ=({draggable:e,home:t,draggables:r,viewport:s})=>{const a=Ny(t.axis,e.displaceBy),i=fx(t.descriptor.id,r),o=i.indexOf(e);o===-1&&at();const l=i.slice(o+1),c=l.reduce((m,h)=>(m[h.descriptor.id]=!0,m),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:a,effected:c};return{impact:{displaced:uv({afterDragging:l,destination:t,displacedBy:a,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:QWe(e.descriptor)}},afterCritical:d}},ZWe=(e,t)=>({draggables:e.draggables,droppables:G3(e.droppables,t)}),JWe=({draggable:e,offset:t,initialWindowScroll:r})=>{const s=Ew(e.client,t),a=Pw(s,r);return{...e,placeholder:{...e.placeholder,client:s},client:s,page:a}},eHe=e=>{const t=e.frame;return t||at(),t},tHe=({additions:e,updatedDroppables:t,viewport:r})=>{const s=r.scroll.diff.value;return e.map(a=>{const i=a.descriptor.droppableId,o=t[i],c=eHe(o).scroll.diff.value,d=Gs(s,c);return JWe({draggable:a,offset:d,initialWindowScroll:r.scroll.initial})})},rHe=({state:e,published:t})=>{const r=t.modified.map(j=>{const y=e.dimensions.droppables[j.droppableId];return U3(y,j.scroll)}),s={...e.dimensions.droppables,...fZ(r)},a=mZ(tHe({additions:t.additions,updatedDroppables:s,viewport:e.viewport})),i={...e.dimensions.draggables,...a};t.removals.forEach(j=>{delete i[j]});const o={droppables:s,draggables:i},l=$i(e.impact),c=l?o.droppables[l]:null,d=o.draggables[e.critical.draggable.id],u=o.droppables[e.critical.droppable.id],{impact:f,afterCritical:m}=kZ({draggable:d,home:u,draggables:i,viewport:e.viewport}),h=c&&c.isCombineEnabled?e.impact:f,x=CZ({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:h,viewport:e.viewport,afterCritical:m}),p={...e,phase:"DRAGGING",impact:x,onLiftImpact:f,dimensions:o,afterCritical:m,forceShouldAnimate:!1};return e.phase==="COLLECTING"?p:{...p,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const xP=e=>e.movementMode==="SNAP",cC=(e,t,r)=>{const s=ZWe(e.dimensions,t);return!xP(e)||r?$g({state:e,dimensions:s}):PZ({state:e,dimensions:s})};function dC(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const xL={phase:"IDLE",completed:null,shouldFlush:!1};var nHe=(e=xL,t)=>{if(t.type==="FLUSH")return{...xL,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&at();const{critical:r,clientSelection:s,viewport:a,dimensions:i,movementMode:o}=t.payload,l=i.draggables[r.draggable.id],c=i.droppables[r.droppable.id],d={selection:s,borderBoxCenter:l.client.borderBox.center,offset:Ms},u={client:d,page:{selection:Gs(d.selection,a.scroll.initial),borderBoxCenter:Gs(d.selection,a.scroll.initial),offset:Gs(d.selection,a.scroll.diff.value)}},f=X2(i.droppables).every(p=>!p.isFixedOnPage),{impact:m,afterCritical:h}=kZ({draggable:l,home:c,draggables:i.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:o,dimensions:i,initial:u,current:u,isWindowScrollAllowed:f,impact:m,afterCritical:h,onLiftImpact:m,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&at(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||at(),rHe({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Xu(e)||at();const{client:r}=t.payload;return lu(r,e.current.client.selection)?e:$g({state:e,clientSelection:r,impact:xP(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return dC(e);Xu(e)||at();const{id:r,newScroll:s}=t.payload,a=e.dimensions.droppables[r];if(!a)return e;const i=U3(a,s);return cC(e,i,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Xu(e)||at();const{id:r,isEnabled:s}=t.payload,a=e.dimensions.droppables[r];a||at(),a.isEnabled===s&&at();const i={...a,isEnabled:s};return cC(e,i,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Xu(e)||at();const{id:r,isCombineEnabled:s}=t.payload,a=e.dimensions.droppables[r];a||at(),a.isCombineEnabled===s&&at();const i={...a,isCombineEnabled:s};return cC(e,i,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Xu(e)||at(),e.isWindowScrollAllowed||at();const r=t.payload.newScroll;if(lu(e.viewport.scroll.current,r))return dC(e);const s=yZ(e.viewport,r);return xP(e)?PZ({state:e,viewport:s}):$g({state:e,viewport:s})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Xu(e))return e;const r=t.payload.maxScroll;if(lu(r,e.viewport.scroll.max))return e;const s={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:s}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&at();const r=LWe({state:e,type:t.type});return r?$g({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const r=t.payload.reason;return e.phase!=="COLLECTING"&&at(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(t.type==="DROP_ANIMATE"){const{completed:r,dropDuration:s,newHomeClientOffset:a}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||at(),{phase:"DROP_ANIMATING",completed:r,dropDuration:s,newHomeClientOffset:a,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:r}=t.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};function Ar(e,t){return e instanceof Object&&"type"in e&&e.type===t}const sHe=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),aHe=e=>({type:"LIFT",payload:e}),iHe=e=>({type:"INITIAL_PUBLISH",payload:e}),oHe=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),lHe=()=>({type:"COLLECTION_STARTING",payload:null}),cHe=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),dHe=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),uHe=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),TZ=e=>({type:"MOVE",payload:e}),fHe=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),mHe=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),hHe=()=>({type:"MOVE_UP",payload:null}),pHe=()=>({type:"MOVE_DOWN",payload:null}),xHe=()=>({type:"MOVE_RIGHT",payload:null}),gHe=()=>({type:"MOVE_LEFT",payload:null}),K3=()=>({type:"FLUSH",payload:null}),vHe=e=>({type:"DROP_ANIMATE",payload:e}),Y3=e=>({type:"DROP_COMPLETE",payload:e}),OZ=e=>({type:"DROP",payload:e}),yHe=e=>({type:"DROP_PENDING",payload:e}),DZ=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var jHe=e=>({getState:t,dispatch:r})=>s=>a=>{if(!Ar(a,"LIFT")){s(a);return}const{id:i,clientSelection:o,movementMode:l}=a.payload,c=t();c.phase==="DROP_ANIMATING"&&r(Y3({completed:c.completed})),t().phase!=="IDLE"&&at(),r(K3()),r(sHe({draggableId:i,movementMode:l}));const u={draggableId:i,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:f,dimensions:m,viewport:h}=e.startPublishing(u);r(iHe({critical:f,dimensions:m,clientSelection:o,movementMode:l,viewport:h}))},bHe=e=>()=>t=>r=>{Ar(r,"INITIAL_PUBLISH")&&e.dragging(),Ar(r,"DROP_ANIMATE")&&e.dropping(r.payload.completed.result.reason),(Ar(r,"FLUSH")||Ar(r,"DROP_COMPLETE"))&&e.resting(),t(r)};const X3={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},fv={opacity:{drop:0,combining:.7},scale:{drop:.75}},IZ={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},zu=`${IZ.outOfTheWay}s ${X3.outOfTheWay}`,Lg={fluid:`opacity ${zu}`,snap:`transform ${zu}, opacity ${zu}`,drop:e=>{const t=`${e}s ${X3.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${zu}`,placeholder:`height ${zu}, width ${zu}, margin ${zu}`},gL=e=>lu(e,Ms)?void 0:`translate(${e.x}px, ${e.y}px)`,gP={moveTo:gL,drop:(e,t)=>{const r=gL(e);if(r)return t?`${r} scale(${fv.scale.drop})`:r}},{minDropTime:vP,maxDropTime:RZ}=IZ,wHe=RZ-vP,vL=1500,NHe=.6;var _He=({current:e,destination:t,reason:r})=>{const s=cv(e,t);if(s<=0)return vP;if(s>=vL)return RZ;const a=s/vL,i=vP+wHe*a,o=r==="CANCEL"?i*NHe:i;return Number(o.toFixed(2))},SHe=({impact:e,draggable:t,dimensions:r,viewport:s,afterCritical:a})=>{const{draggables:i,droppables:o}=r,l=$i(e),c=l?o[l]:null,d=o[t.descriptor.droppableId],u=EZ({impact:e,draggable:t,draggables:i,afterCritical:a,droppable:c||d,viewport:s});return Oi(u,t.client.borderBox.center)},CHe=({draggables:e,reason:t,lastImpact:r,home:s,viewport:a,onLiftImpact:i})=>!r.at||t!=="DROP"?{impact:AZ({draggables:e,impact:i,destination:s,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:dv},didDropInsideDroppable:!0};const AHe=({getState:e,dispatch:t})=>r=>s=>{if(!Ar(s,"DROP")){r(s);return}const a=e(),i=s.payload.reason;if(a.phase==="COLLECTING"){t(yHe({reason:i}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&at(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||at();const l=a.critical,c=a.dimensions,d=c.draggables[a.critical.draggable.id],{impact:u,didDropInsideDroppable:f}=CHe({reason:i,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),m=f?V3(u):null,h=f?Q2(u):null,x={index:l.draggable.index,droppableId:l.droppable.id},p={draggableId:d.descriptor.id,type:d.descriptor.type,source:x,reason:i,mode:a.movementMode,destination:m,combine:h},g=SHe({impact:u,draggable:d,dimensions:c,viewport:a.viewport,afterCritical:a.afterCritical}),j={critical:a.critical,afterCritical:a.afterCritical,result:p,impact:u};if(!(!lu(a.current.client.offset,g)||!!p.combine)){t(Y3({completed:j}));return}const w=_He({current:a.current.client.offset,destination:g,reason:i});t(vHe({newHomeClientOffset:g,dropDuration:w,completed:j}))};var MZ=()=>({x:window.pageXOffset,y:window.pageYOffset});function EHe(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function PHe({onWindowScroll:e}){function t(){e(MZ())}const r=lv(t),s=EHe(r);let a=ou;function i(){return a!==ou}function o(){i()&&at(),a=xo(window,[s])}function l(){i()||at(),r.cancel(),a(),a=ou}return{start:o,stop:l,isActive:i}}const kHe=e=>Ar(e,"DROP_COMPLETE")||Ar(e,"DROP_ANIMATE")||Ar(e,"FLUSH"),THe=e=>{const t=PHe({onWindowScroll:r=>{e.dispatch(fHe({newScroll:r}))}});return r=>s=>{!t.isActive()&&Ar(s,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&kHe(s)&&t.stop(),r(s)}};var OHe=e=>{let t=!1,r=!1;const s=setTimeout(()=>{r=!0}),a=i=>{t||r||(t=!0,e(i),clearTimeout(s))};return a.wasCalled=()=>t,a},DHe=()=>{const e=[],t=a=>{const i=e.findIndex(l=>l.timerId===a);i===-1&&at();const[o]=e.splice(i,1);o.callback()};return{add:a=>{const i=setTimeout(()=>t(i)),o={timerId:i,callback:a};e.push(o)},flush:()=>{if(!e.length)return;const a=[...e];e.length=0,a.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const IHe=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,RHe=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,MHe=(e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,s=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&s},Qx=(e,t)=>{t()},kj=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function uC(e,t,r,s){if(!e){r(s(t));return}const a=OHe(r);e(t,{announce:a}),a.wasCalled()||r(s(t))}var FHe=(e,t)=>{const r=DHe();let s=null;const a=(f,m)=>{s&&at(),Qx("onBeforeCapture",()=>{const h=e().onBeforeCapture;h&&h({draggableId:f,mode:m})})},i=(f,m)=>{s&&at(),Qx("onBeforeDragStart",()=>{const h=e().onBeforeDragStart;h&&h(kj(f,m))})},o=(f,m)=>{s&&at();const h=kj(f,m);s={mode:m,lastCritical:f,lastLocation:h.source,lastCombine:null},r.add(()=>{Qx("onDragStart",()=>uC(e().onDragStart,h,t,mb.onDragStart))})},l=(f,m)=>{const h=V3(m),x=Q2(m);s||at();const p=!MHe(f,s.lastCritical);p&&(s.lastCritical=f);const g=!IHe(s.lastLocation,h);g&&(s.lastLocation=h);const j=!RHe(s.lastCombine,x);if(j&&(s.lastCombine=x),!p&&!g&&!j)return;const y={...kj(f,s.mode),combine:x,destination:h};r.add(()=>{Qx("onDragUpdate",()=>uC(e().onDragUpdate,y,t,mb.onDragUpdate))})},c=()=>{s||at(),r.flush()},d=f=>{s||at(),s=null,Qx("onDragEnd",()=>uC(e().onDragEnd,f,t,mb.onDragEnd))};return{beforeCapture:a,beforeStart:i,start:o,update:l,flush:c,drop:d,abort:()=>{if(!s)return;const f={...kj(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};d(f)}}},$He=(e,t)=>{const r=FHe(e,t);return s=>a=>i=>{if(Ar(i,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(Ar(i,"INITIAL_PUBLISH")){const l=i.payload.critical;r.beforeStart(l,i.payload.movementMode),a(i),r.start(l,i.payload.movementMode);return}if(Ar(i,"DROP_COMPLETE")){const l=i.payload.completed.result;r.flush(),a(i),r.drop(l);return}if(a(i),Ar(i,"FLUSH")){r.abort();return}const o=s.getState();o.phase==="DRAGGING"&&r.update(o.critical,o.impact)}};const LHe=e=>t=>r=>{if(!Ar(r,"DROP_ANIMATION_FINISHED")){t(r);return}const s=e.getState();s.phase!=="DROP_ANIMATING"&&at(),e.dispatch(Y3({completed:s.completed}))},BHe=e=>{let t=null,r=null;function s(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return a=>i=>{if((Ar(i,"FLUSH")||Ar(i,"DROP_COMPLETE")||Ar(i,"DROP_ANIMATION_FINISHED"))&&s(),a(i),!Ar(i,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(DZ())}};r=requestAnimationFrame(()=>{r=null,t=xo(window,[o])})}};var UHe=e=>()=>t=>r=>{(Ar(r,"DROP_COMPLETE")||Ar(r,"FLUSH")||Ar(r,"DROP_ANIMATE"))&&e.stopPublishing(),t(r)},VHe=e=>{let t=!1;return()=>r=>s=>{if(Ar(s,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(s.payload.critical.draggable.id),r(s),e.tryRestoreFocusRecorded();return}if(r(s),!!t){if(Ar(s,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Ar(s,"DROP_COMPLETE")){t=!1;const a=s.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const zHe=e=>Ar(e,"DROP_COMPLETE")||Ar(e,"DROP_ANIMATE")||Ar(e,"FLUSH");var WHe=e=>t=>r=>s=>{if(zHe(s)){e.stop(),r(s);return}if(Ar(s,"INITIAL_PUBLISH")){r(s);const a=t.getState();a.phase!=="DRAGGING"&&at(),e.start(a);return}r(s),e.scroll(t.getState())};const HHe=e=>t=>r=>{if(t(r),!Ar(r,"PUBLISH_WHILE_DRAGGING"))return;const s=e.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||e.dispatch(OZ({reason:s.reason})))},qHe=ZQ;var GHe=({dimensionMarshal:e,focusMarshal:t,styleMarshal:r,getResponders:s,announce:a,autoScroller:i})=>QQ(nHe,qHe(VVe(bHe(r),UHe(e),jHe(e),AHe,LHe,BHe,HHe,WHe(i),THe,VHe(t),$He(s,a))));const fC=()=>({additions:{},removals:{},modified:{}});function KHe({registry:e,callbacks:t}){let r=fC(),s=null;const a=()=>{s||(t.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:c,removals:d,modified:u}=r,f=Object.keys(c).map(x=>e.draggable.getById(x).getDimension(Ms)).sort((x,p)=>x.descriptor.index-p.descriptor.index),m=Object.keys(u).map(x=>{const g=e.droppable.getById(x).callbacks.getScrollWhileDragging();return{droppableId:x,scroll:g}}),h={additions:f,removals:Object.keys(d),modified:m};r=fC(),t.publish(h)}))};return{add:c=>{const d=c.descriptor.id;r.additions[d]=c,r.modified[c.descriptor.droppableId]=!0,r.removals[d]&&delete r.removals[d],a()},remove:c=>{const d=c.descriptor;r.removals[d.id]=!0,r.modified[d.droppableId]=!0,r.additions[d.id]&&delete r.additions[d.id],a()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,r=fC())}}}var FZ=({scrollHeight:e,scrollWidth:t,height:r,width:s})=>{const a=Oi({x:t,y:e},{x:s,y:r});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},$Z=()=>{const e=document.documentElement;return e||at(),e},LZ=()=>{const e=$Z();return FZ({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},YHe=()=>{const e=MZ(),t=LZ(),r=e.y,s=e.x,a=$Z(),i=a.clientWidth,o=a.clientHeight,l=s+i,c=r+o;return{frame:Zo({top:r,left:s,right:l,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:Ms,displacement:Ms}}}},XHe=({critical:e,scrollOptions:t,registry:r})=>{const s=YHe(),a=s.scroll.current,i=e.droppable,o=r.droppable.getAllByType(i.type).map(u=>u.callbacks.getDimensionAndWatchScroll(a,t)),l=r.draggable.getAllByType(e.draggable.type).map(u=>u.getDimension(a));return{dimensions:{draggables:mZ(l),droppables:fZ(o)},critical:e,viewport:s}};function yL(e,t,r){return!(r.descriptor.id===t.id||r.descriptor.type!==t.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var QHe=(e,t)=>{let r=null;const s=KHe({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=(m,h)=>{e.droppable.exists(m)||at(),r&&t.updateDroppableIsEnabled({id:m,isEnabled:h})},i=(m,h)=>{r&&(e.droppable.exists(m)||at(),t.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:h}))},o=(m,h)=>{r&&(e.droppable.exists(m)||at(),t.updateDroppableScroll({id:m,newScroll:h}))},l=(m,h)=>{r&&e.droppable.getById(m).callbacks.scroll(h)},c=()=>{if(!r)return;s.stop();const m=r.critical.droppable;e.droppable.getAllByType(m.type).forEach(h=>h.callbacks.dragStopped()),r.unsubscribe(),r=null},d=m=>{r||at();const h=r.critical.draggable;m.type==="ADDITION"&&yL(e,h,m.value)&&s.add(m.value),m.type==="REMOVAL"&&yL(e,h,m.value)&&s.remove(m.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:o,startPublishing:m=>{r&&at();const h=e.draggable.getById(m.draggableId),x=e.droppable.getById(h.descriptor.droppableId),p={draggable:h.descriptor,droppable:x.descriptor},g=e.subscribe(d);return r={critical:p,unsubscribe:g},XHe({critical:p,registry:e,scrollOptions:m.scrollOptions})},stopPublishing:c}},BZ=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",ZHe=e=>{window.scrollBy(e.x,e.y)};const JHe=Os(e=>X2(e).filter(t=>!(!t.isEnabled||!t.frame))),eqe=(e,t)=>JHe(t).find(s=>(s.frame||at(),NZ(s.frame.pageMarginBox)(e)))||null;var tqe=({center:e,destination:t,droppables:r})=>{if(t){const a=r[t];return a.frame?a:null}return eqe(e,r)};const mv={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var rqe=(e,t,r=()=>mv)=>{const s=r(),a=e[t.size]*s.startFromPercentage,i=e[t.size]*s.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:i}},UZ=({startOfRange:e,endOfRange:t,current:r})=>{const s=t-e;return s===0?0:(r-e)/s},Q3=1,nqe=(e,t,r=()=>mv)=>{const s=r();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return s.maxPixelScroll;if(e===t.startScrollingFrom)return Q3;const i=1-UZ({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=s.maxPixelScroll*s.ease(i);return Math.ceil(o)},sqe=(e,t,r)=>{const s=r(),a=s.durationDampening.accelerateAt,i=s.durationDampening.stopDampeningAt,o=t,l=i,d=Date.now()-o;if(d>=i)return e;if(d<a)return Q3;const u=UZ({startOfRange:a,endOfRange:l,current:d}),f=e*s.ease(u);return Math.ceil(f)},jL=({distanceToEdge:e,thresholds:t,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:a})=>{const i=nqe(e,t,a);return i===0?0:s?Math.max(sqe(i,r,a),Q3):i},bL=({container:e,distanceToEdges:t,dragStartTime:r,axis:s,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o=rqe(e,s,i);return t[s.end]<t[s.start]?jL({distanceToEdge:t[s.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i}):-1*jL({distanceToEdge:t[s.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i})},aqe=({container:e,subject:t,proposedScroll:r})=>{const s=t.height>e.height,a=t.width>e.width;return!a&&!s?r:a&&s?null:{x:a?0:r.x,y:s?0:r.y}};const iqe=uZ(e=>e===0?0:e);var VZ=({dragStartTime:e,container:t,subject:r,center:s,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o={top:s.y-t.top,right:t.right-s.x,bottom:t.bottom-s.y,left:s.x-t.left},l=bL({container:t,distanceToEdges:o,dragStartTime:e,axis:z3,shouldUseTimeDampening:a,getAutoScrollerOptions:i}),c=bL({container:t,distanceToEdges:o,dragStartTime:e,axis:xZ,shouldUseTimeDampening:a,getAutoScrollerOptions:i}),d=iqe({x:c,y:l});if(lu(d,Ms))return null;const u=aqe({container:t,subject:r,proposedScroll:d});return u?lu(u,Ms)?null:u:null};const oqe=uZ(e=>e===0?0:e>0?1:-1),Z3=(()=>{const e=(t,r)=>t<0?t:t>r?t-r:0;return({current:t,max:r,change:s})=>{const a=Gs(t,s),i={x:e(a.x,r.x),y:e(a.y,r.y)};return lu(i,Ms)?null:i}})(),zZ=({max:e,current:t,change:r})=>{const s={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},a=oqe(r),i=Z3({max:s,current:t,change:a});return!i||a.x!==0&&i.x===0||a.y!==0&&i.y===0},J3=(e,t)=>zZ({current:e.scroll.current,max:e.scroll.max,change:t}),lqe=(e,t)=>{if(!J3(e,t))return null;const r=e.scroll.max,s=e.scroll.current;return Z3({current:s,max:r,change:t})},eD=(e,t)=>{const r=e.frame;return r?zZ({current:r.scroll.current,max:r.scroll.max,change:t}):!1},cqe=(e,t)=>{const r=e.frame;return!r||!eD(e,t)?null:Z3({current:r.scroll.current,max:r.scroll.max,change:t})};var dqe=({viewport:e,subject:t,center:r,dragStartTime:s,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o=VZ({dragStartTime:s,container:e.frame,subject:t,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i});return o&&J3(e,o)?o:null},uqe=({droppable:e,subject:t,center:r,dragStartTime:s,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const o=e.frame;if(!o)return null;const l=VZ({dragStartTime:s,container:o.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i});return l&&eD(e,l)?l:null},wL=({state:e,dragStartTime:t,shouldUseTimeDampening:r,scrollWindow:s,scrollDroppable:a,getAutoScrollerOptions:i})=>{const o=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,m=dqe({dragStartTime:t,viewport:f,subject:c,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});if(m){s(m);return}}const d=tqe({center:o,destination:$i(e.impact),droppables:e.dimensions.droppables});if(!d)return;const u=uqe({dragStartTime:t,droppable:d,subject:c,center:o,shouldUseTimeDampening:r,getAutoScrollerOptions:i});u&&a(d.descriptor.id,u)},fqe=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r=()=>mv})=>{const s=lv(e),a=lv(t);let i=null;const o=d=>{i||at();const{shouldUseTimeDampening:u,dragStartTime:f}=i;wL({state:d,scrollWindow:s,scrollDroppable:a,dragStartTime:f,shouldUseTimeDampening:u,getAutoScrollerOptions:r})};return{start:d=>{i&&at();const u=Date.now();let f=!1;const m=()=>{f=!0};wL({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m,getAutoScrollerOptions:r}),i={dragStartTime:u,shouldUseTimeDampening:f},f&&o(d)},stop:()=>{i&&(s.cancel(),a.cancel(),i=null)},scroll:o}},mqe=({move:e,scrollDroppable:t,scrollWindow:r})=>{const s=(l,c)=>{const d=Gs(l.current.client.selection,c);e({client:d})},a=(l,c)=>{if(!eD(l,c))return c;const d=cqe(l,c);if(!d)return t(l.descriptor.id,c),null;const u=Oi(c,d);return t(l.descriptor.id,u),Oi(c,u)},i=(l,c,d)=>{if(!l||!J3(c,d))return d;const u=lqe(c,d);if(!u)return r(d),null;const f=Oi(d,u);return r(f),Oi(d,f)};return l=>{const c=l.scrollJumpRequest;if(!c)return;const d=$i(l.impact);d||at();const u=a(l.dimensions.droppables[d],c);if(!u)return;const f=l.viewport,m=i(l.isWindowScrollAllowed,f,u);m&&s(l,m)}},hqe=({scrollDroppable:e,scrollWindow:t,move:r,getAutoScrollerOptions:s})=>{const a=fqe({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:s}),i=mqe({move:r,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(s().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){a.scroll(c);return}c.scrollJumpRequest&&i(c)}},start:a.start,stop:a.stop}};const Tp="data-rfd",Op=(()=>{const e=`${Tp}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),yP=(()=>{const e=`${Tp}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),pqe=(()=>{const e=`${Tp}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),NL={contextId:`${Tp}-scroll-container-context-id`},xqe=e=>t=>`[${t}="${e}"]`,Zx=(e,t)=>e.map(r=>{const s=r.styles[t];return s?`${r.selector} { ${s} }`:""}).join(" "),gqe="pointer-events: none;";var vqe=e=>{const t=xqe(e),r=(()=>{const l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Op.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:gqe,dropAnimating:l}}})(),s=(()=>{const l=`
      transition: ${Lg.outOfTheWay};
    `;return{selector:t(yP.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}})(),a={selector:t(pqe.contextId),styles:{always:"overflow-anchor: none;"}},o=[s,r,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Zx(o,"always"),resting:Zx(o,"resting"),dragging:Zx(o,"dragging"),dropAnimating:Zx(o,"dropAnimating"),userCancel:Zx(o,"userCancel")}};const Li=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect,mC=()=>{const e=document.querySelector("head");return e||at(),e},_L=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function yqe(e,t){const r=cr(()=>vqe(e),[e]),s=v.useRef(null),a=v.useRef(null),i=_t(Os(f=>{const m=a.current;m||at(),m.textContent=f}),[]),o=_t(f=>{const m=s.current;m||at(),m.textContent=f},[]);Li(()=>{!s.current&&!a.current||at();const f=_L(t),m=_L(t);return s.current=f,a.current=m,f.setAttribute(`${Tp}-always`,e),m.setAttribute(`${Tp}-dynamic`,e),mC().appendChild(f),mC().appendChild(m),o(r.always),i(r.resting),()=>{const h=x=>{const p=x.current;p||at(),mC().removeChild(p),x.current=null};h(s),h(a)}},[t,o,i,r.always,r.resting,e]);const l=_t(()=>i(r.dragging),[i,r.dragging]),c=_t(f=>{if(f==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),d=_t(()=>{a.current&&i(r.resting)},[i,r.resting]);return cr(()=>({dragging:l,dropping:c,resting:d}),[l,c,d])}function WZ(e,t){return Array.from(e.querySelectorAll(t))}var HZ=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function e_(e){return e instanceof HZ(e).HTMLElement}function jqe(e,t){const r=`[${Op.contextId}="${e}"]`,s=WZ(document,r);if(!s.length)return null;const a=s.find(i=>i.getAttribute(Op.draggableId)===t);return!a||!e_(a)?null:a}function bqe(e){const t=v.useRef({}),r=v.useRef(null),s=v.useRef(null),a=v.useRef(!1),i=_t(function(m,h){const x={id:m,focus:h};return t.current[m]=x,function(){const g=t.current;g[m]!==x&&delete g[m]}},[]),o=_t(function(m){const h=jqe(e,m);h&&h!==document.activeElement&&h.focus()},[e]),l=_t(function(m,h){r.current===m&&(r.current=h)},[]),c=_t(function(){s.current||a.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const m=r.current;m&&o(m)}))},[o]),d=_t(function(m){r.current=null;const h=document.activeElement;h&&h.getAttribute(Op.draggableId)===m&&(r.current=m)},[]);return Li(()=>(a.current=!0,function(){a.current=!1;const m=s.current;m&&cancelAnimationFrame(m)}),[]),cr(()=>({register:i,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}),[i,d,c,l])}function wqe(){const e={draggables:{},droppables:{}},t=[];function r(f){return t.push(f),function(){const h=t.indexOf(f);h!==-1&&t.splice(h,1)}}function s(f){t.length&&t.forEach(m=>m(f))}function a(f){return e.draggables[f]||null}function i(f){const m=a(f);return m||at(),m}const o={register:f=>{e.draggables[f.descriptor.id]=f,s({type:"ADDITION",value:f})},update:(f,m)=>{const h=e.draggables[m.descriptor.id];h&&h.uniqueId===f.uniqueId&&(delete e.draggables[m.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:f=>{const m=f.descriptor.id,h=a(m);h&&f.uniqueId===h.uniqueId&&(delete e.draggables[m],e.droppables[f.descriptor.droppableId]&&s({type:"REMOVAL",value:f}))},getById:i,findById:a,exists:f=>!!a(f),getAllByType:f=>Object.values(e.draggables).filter(m=>m.descriptor.type===f)};function l(f){return e.droppables[f]||null}function c(f){const m=l(f);return m||at(),m}const d={register:f=>{e.droppables[f.descriptor.id]=f},unregister:f=>{const m=l(f.descriptor.id);m&&f.uniqueId===m.uniqueId&&delete e.droppables[f.descriptor.id]},getById:c,findById:l,exists:f=>!!l(f),getAllByType:f=>Object.values(e.droppables).filter(m=>m.descriptor.type===f)};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:d,subscribe:r,clean:u}}function Nqe(){const e=cr(wqe,[]);return v.useEffect(()=>function(){e.clean()},[e]),e}var tD=z.createContext(null),Dw=()=>{const e=document.body;return e||at(),e};const _qe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Sqe=e=>`rfd-announcement-${e}`;function Cqe(e){const t=cr(()=>Sqe(e),[e]),r=v.useRef(null);return v.useEffect(function(){const i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),Zs(i.style,_qe),Dw().appendChild(i),function(){setTimeout(function(){const c=Dw();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[t]),_t(a=>{const i=r.current;if(i){i.textContent=a;return}},[])}const Aqe={separator:"::"};function rD(e,t=Aqe){const r=z.useId();return cr(()=>`${e}${t.separator}${r}`,[t.separator,e,r])}function Eqe({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function Pqe({contextId:e,text:t}){const r=rD("hidden-text",{separator:"-"}),s=cr(()=>Eqe({contextId:e,uniqueId:r}),[r,e]);return v.useEffect(function(){const i=document.createElement("div");return i.id=s,i.textContent=t,i.style.display="none",Dw().appendChild(i),function(){const l=Dw();l.contains(i)&&l.removeChild(i)}},[s,t]),s}var t_=z.createContext(null);function qZ(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),t}function kqe(){let e=null;function t(){return!!e}function r(o){return o===e}function s(o){e&&at();const l={abandon:o};return e=l,l}function a(){e||at(),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:r,claim:s,release:a,tryAbandon:i}}function hv(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const Tqe=9,Oqe=13,nD=27,GZ=32,Dqe=33,Iqe=34,Rqe=35,Mqe=36,Fqe=37,$qe=38,Lqe=39,Bqe=40,Uqe={[Oqe]:!0,[Tqe]:!0};var KZ=e=>{Uqe[e.keyCode]&&e.preventDefault()};const r_=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(s=>`on${s}`in document)||e})(),YZ=0,SL=5;function Vqe(e,t){return Math.abs(t.x-e.x)>=SL||Math.abs(t.y-e.y)>=SL}const CL={type:"IDLE"};function zqe({cancel:e,completed:t,getPhase:r,setPhase:s}){return[{eventName:"mousemove",fn:a=>{const{button:i,clientX:o,clientY:l}=a;if(i!==YZ)return;const c={x:o,y:l},d=r();if(d.type==="DRAGGING"){a.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&at();const u=d.point;if(!Vqe(u,c))return;a.preventDefault();const f=d.actions.fluidLift(c);s({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:a=>{const i=r();if(i.type!=="DRAGGING"){e();return}a.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:a=>{r().type==="DRAGGING"&&a.preventDefault(),e()}},{eventName:"keydown",fn:a=>{if(r().type==="PENDING"){e();return}if(a.keyCode===nD){a.preventDefault(),e();return}KZ(a)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:a=>{const i=r();if(i.type==="IDLE"&&at(),i.actions.shouldRespectForcePress()){e();return}a.preventDefault()}},{eventName:r_,fn:e}]}function Wqe(e){const t=v.useRef(CL),r=v.useRef(ou),s=cr(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==YZ||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const m=e.findClosestDraggableId(f);if(!m)return;const h=e.tryGetLock(m,o,{sourceEvent:f});if(!h)return;f.preventDefault();const x={x:f.clientX,y:f.clientY};r.current(),d(h,x)}}),[e]),a=cr(()=>({eventName:"webkitmouseforcewillbegin",fn:u=>{if(u.defaultPrevented)return;const f=e.findClosestDraggableId(u);if(!f)return;const m=e.findOptionsForDraggable(f);m&&(m.shouldRespectForcePress||e.canGetLock(f)&&u.preventDefault())}}),[e]),i=_t(function(){const f={passive:!1,capture:!0};r.current=xo(window,[a,s],f)},[a,s]),o=_t(()=>{t.current.type!=="IDLE"&&(t.current=CL,r.current(),i())},[i]),l=_t(()=>{const u=t.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),c=_t(function(){const f={capture:!0,passive:!1},m=zqe({cancel:l,completed:o,getPhase:()=>t.current,setPhase:h=>{t.current=h}});r.current=xo(window,m,f)},[l,o]),d=_t(function(f,m){t.current.type!=="IDLE"&&at(),t.current={type:"PENDING",point:m,actions:f},c()},[c]);Li(function(){return i(),function(){r.current()}},[i])}function Hqe(){}const qqe={[Iqe]:!0,[Dqe]:!0,[Mqe]:!0,[Rqe]:!0};function Gqe(e,t){function r(){t(),e.cancel()}function s(){t(),e.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===nD){a.preventDefault(),r();return}if(a.keyCode===GZ){a.preventDefault(),s();return}if(a.keyCode===Bqe){a.preventDefault(),e.moveDown();return}if(a.keyCode===$qe){a.preventDefault(),e.moveUp();return}if(a.keyCode===Lqe){a.preventDefault(),e.moveRight();return}if(a.keyCode===Fqe){a.preventDefault(),e.moveLeft();return}if(qqe[a.keyCode]){a.preventDefault();return}KZ(a)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:r_,fn:r}]}function Kqe(e){const t=v.useRef(Hqe),r=cr(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==GZ)return;const o=e.findClosestDraggableId(i);if(!o)return;const l=e.tryGetLock(o,u,{sourceEvent:i});if(!l)return;i.preventDefault();let c=!0;const d=l.snapLift();t.current();function u(){c||at(),c=!1,t.current(),s()}t.current=xo(window,Gqe(d,u),{capture:!0,passive:!1})}}),[e]),s=_t(function(){const i={passive:!1,capture:!0};t.current=xo(window,[r],i)},[r]);Li(function(){return s(),function(){t.current()}},[s])}const hC={type:"IDLE"},Yqe=120,Xqe=.15;function Qqe({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(t().type!=="DRAGGING"){e();return}r.keyCode===nD&&r.preventDefault(),e()}},{eventName:r_,fn:e}]}function Zqe({cancel:e,completed:t,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const a=r();if(a.type!=="DRAGGING"){e();return}a.hasMoved=!0;const{clientX:i,clientY:o}=s.touches[0],l={x:i,y:o};s.preventDefault(),a.actions.move(l)}},{eventName:"touchend",fn:s=>{const a=r();if(a.type!=="DRAGGING"){e();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:s=>{if(r().type!=="DRAGGING"){e();return}s.preventDefault(),e()}},{eventName:"touchforcechange",fn:s=>{const a=r();a.type==="IDLE"&&at();const i=s.touches[0];if(!i||!(i.force>=Xqe))return;const l=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){l&&e();return}if(l){if(a.hasMoved){s.preventDefault();return}e();return}s.preventDefault()}},{eventName:r_,fn:e}]}function Jqe(e){const t=v.useRef(hC),r=v.useRef(ou),s=_t(function(){return t.current},[]),a=_t(function(h){t.current=h},[]),i=cr(()=>({eventName:"touchstart",fn:function(h){if(h.defaultPrevented)return;const x=e.findClosestDraggableId(h);if(!x)return;const p=e.tryGetLock(x,l,{sourceEvent:h});if(!p)return;const g=h.touches[0],{clientX:j,clientY:y}=g,w={x:j,y};r.current(),f(p,w)}}),[e]),o=_t(function(){const h={capture:!0,passive:!1};r.current=xo(window,[i],h)},[i]),l=_t(()=>{const m=t.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),a(hC),r.current(),o())},[o,a]),c=_t(()=>{const m=t.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),d=_t(function(){const h={capture:!0,passive:!1},x={cancel:c,completed:l,getPhase:s},p=xo(window,Zqe(x),h),g=xo(window,Qqe(x),h);r.current=function(){p(),g()}},[c,s,l]),u=_t(function(){const h=s();h.type!=="PENDING"&&at();const x=h.actions.fluidLift(h.point);a({type:"DRAGGING",actions:x,hasMoved:!1})},[s,a]),f=_t(function(h,x){s().type!=="IDLE"&&at();const p=setTimeout(u,Yqe);a({type:"PENDING",point:x,actions:h,longPressTimerId:p}),d()},[d,s,a,u]);Li(function(){return o(),function(){r.current();const x=s();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),a(hC))}},[s,o,a]),Li(function(){return xo(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const eGe=["input","button","textarea","select","option","optgroup","video","audio"];function XZ(e,t){if(t==null)return!1;if(eGe.includes(t.tagName.toLowerCase()))return!0;const s=t.getAttribute("contenteditable");return s==="true"||s===""?!0:t===e?!1:XZ(e,t.parentElement)}function tGe(e,t){const r=t.target;return e_(r)?XZ(e,r):!1}var rGe=e=>Zo(e.getBoundingClientRect()).center;function nGe(e){return e instanceof HZ(e).Element}const sGe=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||e})();function QZ(e,t){return e==null?null:e[sGe](t)?e:QZ(e.parentElement,t)}function aGe(e,t){return e.closest?e.closest(t):QZ(e,t)}function iGe(e){return`[${Op.contextId}="${e}"]`}function oGe(e,t){const r=t.target;if(!nGe(r))return null;const s=iGe(e),a=aGe(r,s);return!a||!e_(a)?null:a}function lGe(e,t){const r=oGe(e,t);return r?r.getAttribute(Op.draggableId):null}function cGe(e,t){const r=`[${yP.contextId}="${e}"]`,a=WZ(document,r).find(i=>i.getAttribute(yP.id)===t);return!a||!e_(a)?null:a}function dGe(e){e.preventDefault()}function Tj({expected:e,phase:t,isLockActive:r,shouldWarn:s}){return!(!r()||e!==t)}function ZZ({lockAPI:e,store:t,registry:r,draggableId:s}){if(e.isClaimed())return!1;const a=r.draggable.findById(s);return!(!a||!a.options.isEnabled||!BZ(t.getState(),s))}function uGe({lockAPI:e,contextId:t,store:r,registry:s,draggableId:a,forceSensorStop:i,sourceEvent:o}){if(!ZZ({lockAPI:e,store:r,registry:s,draggableId:a}))return null;const c=s.draggable.getById(a),d=cGe(t,c.descriptor.id);if(!d||o&&!c.options.canDragInteractiveElements&&tGe(d,o))return null;const u=e.claim(i||ou);let f="PRE_DRAG";function m(){return c.options.shouldRespectForcePress}function h(){return e.isActive(u)}function x(N,_){Tj({expected:N,phase:f,isLockActive:h,shouldWarn:!0})&&r.dispatch(_())}const p=x.bind(null,"DRAGGING");function g(N){function _(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(_(),at()),r.dispatch(aHe(N.liftActionArgs)),f="DRAGGING";function S(A,E={shouldBlockNextClick:!1}){if(N.cleanup(),E.shouldBlockNextClick){const P=xo(window,[{eventName:"click",fn:dGe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(P)}_(),r.dispatch(OZ({reason:A}))}return{isActive:()=>Tj({expected:"DRAGGING",phase:f,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:m,drop:A=>S("DROP",A),cancel:A=>S("CANCEL",A),...N.actions}}function j(N){const _=lv(A=>{p(()=>TZ({client:A}))});return{...g({liftActionArgs:{id:a,clientSelection:N,movementMode:"FLUID"},cleanup:()=>_.cancel(),actions:{move:_}}),move:_}}function y(){const N={moveUp:()=>p(hHe),moveRight:()=>p(xHe),moveDown:()=>p(pHe),moveLeft:()=>p(gHe)};return g({liftActionArgs:{id:a,clientSelection:rGe(d),movementMode:"SNAP"},cleanup:ou,actions:N})}function w(){Tj({expected:"PRE_DRAG",phase:f,isLockActive:h,shouldWarn:!0})&&e.release()}return{isActive:()=>Tj({expected:"PRE_DRAG",phase:f,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:m,fluidLift:j,snapLift:y,abort:w}}const fGe=[Wqe,Kqe,Jqe];function mGe({contextId:e,store:t,registry:r,customSensors:s,enableDefaultSensors:a}){const i=[...a?fGe:[],...s||[]],o=v.useState(()=>kqe())[0],l=_t(function(g,j){hv(g)&&!hv(j)&&o.tryAbandon()},[o]);Li(function(){let g=t.getState();return t.subscribe(()=>{const y=t.getState();l(g,y),g=y})},[o,t,l]),Li(()=>o.tryAbandon,[o.tryAbandon]);const c=_t(p=>ZZ({lockAPI:o,registry:r,store:t,draggableId:p}),[o,r,t]),d=_t((p,g,j)=>uGe({lockAPI:o,registry:r,contextId:e,store:t,draggableId:p,forceSensorStop:g||null,sourceEvent:j&&j.sourceEvent?j.sourceEvent:null}),[e,o,r,t]),u=_t(p=>lGe(e,p),[e]),f=_t(p=>{const g=r.draggable.findById(p);return g?g.options:null},[r.draggable]),m=_t(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(K3()))},[o,t]),h=_t(()=>o.isClaimed(),[o]),x=cr(()=>({canGetLock:c,tryGetLock:d,findClosestDraggableId:u,findOptionsForDraggable:f,tryReleaseLock:m,isLockClaimed:h}),[c,d,u,f,m,h]);for(let p=0;p<i.length;p++)i[p](x)}const hGe=e=>({onBeforeCapture:t=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};fl.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),pGe=e=>({...mv,...e.autoScrollerOptions,durationDampening:{...mv.durationDampening,...e.autoScrollerOptions}});function Jx(e){return e.current||at(),e.current}function xGe(e){const{contextId:t,setCallbacks:r,sensors:s,nonce:a,dragHandleUsageInstructions:i}=e,o=v.useRef(null),l=qZ(e),c=_t(()=>hGe(l.current),[l]),d=_t(()=>pGe(l.current),[l]),u=Cqe(t),f=Pqe({contextId:t,text:i}),m=yqe(t,a),h=_t(P=>{Jx(o).dispatch(P)},[]),x=cr(()=>eL({publishWhileDragging:oHe,updateDroppableScroll:cHe,updateDroppableIsEnabled:dHe,updateDroppableIsCombineEnabled:uHe,collectionStarting:lHe},h),[h]),p=Nqe(),g=cr(()=>QHe(p,x),[p,x]),j=cr(()=>hqe({scrollWindow:ZHe,scrollDroppable:g.scrollDroppable,getAutoScrollerOptions:d,...eL({move:TZ},h)}),[g.scrollDroppable,h,d]),y=bqe(t),w=cr(()=>GHe({announce:u,autoScroller:j,dimensionMarshal:g,focusMarshal:y,getResponders:c,styleMarshal:m}),[u,j,g,y,c,m]);o.current=w;const b=_t(()=>{const P=Jx(o);P.getState().phase!=="IDLE"&&P.dispatch(K3())},[]),N=_t(()=>{const P=Jx(o).getState();return P.phase==="DROP_ANIMATING"?!0:P.phase==="IDLE"?!1:P.isDragging},[]),_=cr(()=>({isDragging:N,tryAbort:b}),[N,b]);r(_);const S=_t(P=>BZ(Jx(o).getState(),P),[]),A=_t(()=>Xu(Jx(o).getState()),[]),E=cr(()=>({marshal:g,focus:y,contextId:t,canLift:S,isMovementAllowed:A,dragHandleUsageInstructionsId:f,registry:p}),[t,g,f,y,S,A,p]);return mGe({contextId:t,store:w,registry:p,customSensors:s||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),v.useEffect(()=>b,[b]),z.createElement(t_.Provider,{value:E},z.createElement(zze,{context:tD,store:w},e.children))}function gGe(){return z.useId()}function vGe(e){const t=gGe(),r=e.dragHandleUsageInstructions||mb.dragHandleUsageInstructions;return z.createElement(Kze,null,s=>z.createElement(xGe,{nonce:e.nonce,contextId:t,setCallbacks:s,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const AL={dragging:5e3,dropAnimating:4500},yGe=(e,t)=>t?Lg.drop(t.duration):e?Lg.snap:Lg.fluid,jGe=(e,t)=>{if(e)return t?fv.opacity.drop:fv.opacity.combining},bGe=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function wGe(e){const r=e.dimension.client,{offset:s,combineWith:a,dropping:i}=e,o=!!a,l=bGe(e),c=!!i,d=c?gP.drop(s,o):gP.moveTo(s);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:yGe(l,i),transform:d,opacity:jGe(o,c),zIndex:c?AL.dropAnimating:AL.dragging,pointerEvents:"none"}}function NGe(e){return{transform:gP.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function _Ge(e){return e.type==="DRAGGING"?wGe(e):NGe(e)}function SGe(e,t,r=Ms){const s=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=aZ(a,s),o=Pw(i,r),l={client:i,tagName:t.tagName.toLowerCase(),display:s.display},c={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:l,displaceBy:c,client:i,page:o}}function CGe(e){const t=rD("draggable"),{descriptor:r,registry:s,getDraggableRef:a,canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}=e,c=cr(()=>({canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:l}),[i,l,o]),d=_t(h=>{const x=a();return x||at(),SGe(r,x,h)},[r,a]),u=cr(()=>({uniqueId:t,descriptor:r,options:c,getDimension:d}),[r,d,c,t]),f=v.useRef(u),m=v.useRef(!0);Li(()=>(s.draggable.register(f.current),()=>s.draggable.unregister(f.current)),[s.draggable]),Li(()=>{if(m.current){m.current=!1;return}const h=f.current;f.current=u,s.draggable.update(u,h)},[u,s.draggable])}var sD=z.createContext(null);function Iw(e){const t=v.useContext(e);return t||at(),t}function AGe(e){e.preventDefault()}const EGe=e=>{const t=v.useRef(null),r=_t((_=null)=>{t.current=_},[]),s=_t(()=>t.current,[]),{contextId:a,dragHandleUsageInstructionsId:i,registry:o}=Iw(t_),{type:l,droppableId:c}=Iw(sD),d=cr(()=>({id:e.draggableId,index:e.index,type:l,droppableId:c}),[e.draggableId,e.index,l,c]),{children:u,draggableId:f,isEnabled:m,shouldRespectForcePress:h,canDragInteractiveElements:x,isClone:p,mapped:g,dropAnimationFinished:j}=e;if(!p){const _=cr(()=>({descriptor:d,registry:o,getDraggableRef:s,canDragInteractiveElements:x,shouldRespectForcePress:h,isEnabled:m}),[d,o,s,x,h,m]);CGe(_)}const y=cr(()=>m?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:AGe}:null,[a,i,f,m]),w=_t(_=>{g.type==="DRAGGING"&&g.dropping&&_.propertyName==="transform"&&fl.flushSync(j)},[j,g]),b=cr(()=>{const _=_Ge(g),S=g.type==="DRAGGING"&&g.dropping?w:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":f,style:_,onTransitionEnd:S},dragHandleProps:y}},[a,y,f,g,w,r]),N=cr(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return z.createElement(z.Fragment,null,u(b,g.snapshot,N))};var JZ=(e,t)=>e===t,eJ=e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null};const PGe=e=>e.combine?e.combine.draggableId:null,kGe=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function TGe(){const e=Os((a,i)=>({x:a,y:i})),t=Os((a,i,o=null,l=null,c=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:o,combineWith:l,combineTargetFor:null})),r=Os((a,i,o,l,c=null,d=null,u=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:d,mode:i,offset:a,dimension:o,forceShouldAnimate:u,snapshot:t(i,l,c,d,null)}}));return(a,i)=>{if(hv(a)){if(a.critical.draggable.id!==i.draggableId)return null;const o=a.current.client.offset,l=a.dimensions.draggables[i.draggableId],c=$i(a.impact),d=kGe(a.impact),u=a.forceShouldAnimate;return r(e(o.x,o.y),a.movementMode,l,i.isClone,c,d,u)}if(a.phase==="DROP_ANIMATING"){const o=a.completed;if(o.result.draggableId!==i.draggableId)return null;const l=i.isClone,c=a.dimensions.draggables[i.draggableId],d=o.result,u=d.mode,f=eJ(d),m=PGe(d),x={duration:a.dropDuration,curve:X3.drop,moveTo:a.newHomeClientOffset,opacity:m?fv.opacity.drop:null,scale:m?fv.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:c,dropping:x,draggingOver:f,combineWith:m,mode:u,forceShouldAnimate:null,snapshot:t(u,l,f,m,x)}}}return null}}function tJ(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const OGe={mapped:{type:"SECONDARY",offset:Ms,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:tJ(null)}};function DGe(){const e=Os((o,l)=>({x:o,y:l})),t=Os(tJ),r=Os((o,l=null,c)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:t(l)}})),s=o=>o?r(Ms,o,!0):null,a=(o,l,c,d)=>{const u=c.displaced.visible[o],f=!!(d.inVirtualList&&d.effected[o]),m=Q2(c),h=m&&m.draggableId===o?l:null;if(!u){if(!f)return s(h);if(c.displaced.invisible[o])return null;const g=ux(d.displacedBy.point),j=e(g.x,g.y);return r(j,h,!0)}if(f)return s(h);const x=c.displacedBy.point,p=e(x.x,x.y);return r(p,h,u.shouldAnimate)};return(o,l)=>{if(hv(o))return o.critical.draggable.id===l.draggableId?null:a(l.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const c=o.completed;return c.result.draggableId===l.draggableId?null:a(l.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const IGe=()=>{const e=TGe(),t=DGe();return(s,a)=>e(s,a)||t(s,a)||OGe},RGe={dropAnimationFinished:DZ},MGe=sZ(IGe,RGe,null,{context:tD,areStatePropsEqual:JZ})(EGe);function rJ(e){return Iw(sD).isUsingCloneFor===e.draggableId&&!e.isClone?null:z.createElement(MGe,e)}function FGe(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,s=!!e.shouldRespectForcePress;return z.createElement(rJ,Zs({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:s}))}const nJ=e=>t=>e===t,$Ge=nJ("scroll"),LGe=nJ("auto"),EL=(e,t)=>t(e.overflowX)||t(e.overflowY),BGe=e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return EL(r,$Ge)||EL(r,LGe)},UGe=()=>!1,sJ=e=>e==null?null:e===document.body?UGe()?e:null:e===document.documentElement?null:BGe(e)?e:sJ(e.parentElement);var jP=e=>({x:e.scrollLeft,y:e.scrollTop});const aJ=e=>e?window.getComputedStyle(e).position==="fixed"?!0:aJ(e.parentElement):!1;var VGe=e=>{const t=sJ(e),r=aJ(e);return{closestScrollable:t,isFixedOnPage:r}},zGe=({descriptor:e,isEnabled:t,isCombineEnabled:r,isFixedOnPage:s,direction:a,client:i,page:o,closest:l})=>{const c=(()=>{if(!l)return null;const{scrollSize:m,client:h}=l,x=FZ({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:h.paddingBox.height,width:h.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:h,scrollSize:m,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:x,diff:{value:Ms,displacement:Ms}}}})(),d=a==="vertical"?z3:xZ,u=kp({page:o,withPlaceholder:null,axis:d,frame:c});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:s,axis:d,isEnabled:t,client:i,page:o,frame:c,subject:u}};const WGe=(e,t)=>{const r=iZ(e);if(!t||e!==t)return r;const s=r.paddingBox.top-t.scrollTop,a=r.paddingBox.left-t.scrollLeft,i=s+t.scrollHeight,o=a+t.scrollWidth,c=L3({top:s,right:o,bottom:i,left:a},r.border);return B3({borderBox:c,margin:r.margin,border:r.border,padding:r.padding})};var HGe=({ref:e,descriptor:t,env:r,windowScroll:s,direction:a,isDropDisabled:i,isCombineEnabled:o,shouldClipSubject:l})=>{const c=r.closestScrollable,d=WGe(e,c),u=Pw(d,s),f=(()=>{if(!c)return null;const h=iZ(c),x={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:h,page:Pw(h,s),scroll:jP(c),scrollSize:x,shouldClipSubject:l}})();return zGe({descriptor:t,isEnabled:!i,isCombineEnabled:o,isFixedOnPage:r.isFixedOnPage,direction:a,client:d,page:u,closest:f})};const qGe={passive:!1},GGe={passive:!0};var PL=e=>e.shouldPublishImmediately?qGe:GGe;const Oj=e=>e&&e.env.closestScrollable||null;function KGe(e){const t=v.useRef(null),r=Iw(t_),s=rD("droppable"),{registry:a,marshal:i}=r,o=qZ(e),l=cr(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=v.useRef(l),d=cr(()=>Os((b,N)=>{t.current||at();const _={x:b,y:N};i.updateDroppableScroll(l.id,_)}),[l.id,i]),u=_t(()=>{const b=t.current;return!b||!b.env.closestScrollable?Ms:jP(b.env.closestScrollable)},[]),f=_t(()=>{const b=u();d(b.x,b.y)},[u,d]),m=cr(()=>lv(f),[f]),h=_t(()=>{const b=t.current,N=Oj(b);if(b&&N||at(),b.scrollOptions.shouldPublishImmediately){f();return}m()},[m,f]),x=_t((b,N)=>{t.current&&at();const _=o.current,S=_.getDroppableRef();S||at();const A=VGe(S),E={ref:S,descriptor:l,env:A,scrollOptions:N};t.current=E;const P=HGe({ref:S,descriptor:l,env:A,windowScroll:b,direction:_.direction,isDropDisabled:_.isDropDisabled,isCombineEnabled:_.isCombineEnabled,shouldClipSubject:!_.ignoreContainerClipping}),D=A.closestScrollable;return D&&(D.setAttribute(NL.contextId,r.contextId),D.addEventListener("scroll",h,PL(E.scrollOptions))),P},[r.contextId,l,h,o]),p=_t(()=>{const b=t.current,N=Oj(b);return b&&N||at(),jP(N)},[]),g=_t(()=>{const b=t.current;b||at();const N=Oj(b);t.current=null,N&&(m.cancel(),N.removeAttribute(NL.contextId),N.removeEventListener("scroll",h,PL(b.scrollOptions)))},[h,m]),j=_t(b=>{const N=t.current;N||at();const _=Oj(N);_||at(),_.scrollTop+=b.y,_.scrollLeft+=b.x},[]),y=cr(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:p,dragStopped:g,scroll:j}),[g,x,p,j]),w=cr(()=>({uniqueId:s,descriptor:l,callbacks:y}),[y,l,s]);Li(()=>(c.current=w.descriptor,a.droppable.register(w),()=>{t.current&&g(),a.droppable.unregister(w)}),[y,l,g,w,i,a.droppable]),Li(()=>{t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Li(()=>{t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function pC(){}const kL={width:0,height:0,margin:tWe},YGe=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>e||r==="close"?kL:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},XGe=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>{const s=YGe({isAnimatingOpenOnMount:e,placeholder:t,animate:r});return{display:t.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?Lg.placeholder:null}},QGe=e=>{const t=v.useRef(null),r=_t(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:s,onTransitionEnd:a,onClose:i,contextId:o}=e,[l,c]=v.useState(e.animate==="open");v.useEffect(()=>l?s!=="open"?(r(),c(!1),pC):t.current?pC:(t.current=setTimeout(()=>{t.current=null,c(!1)}),r):pC,[s,l,r]);const d=_t(f=>{f.propertyName==="height"&&(a(),s==="close"&&i())},[s,i,a]),u=XGe({isAnimatingOpenOnMount:l,animate:e.animate,placeholder:e.placeholder});return z.createElement(e.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":o,onTransitionEnd:d,ref:e.innerRef})};var ZGe=z.memo(QGe);class JGe extends z.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,r){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const eKe=e=>{const t=v.useContext(t_);t||at();const{contextId:r,isMovementAllowed:s}=t,a=v.useRef(null),i=v.useRef(null),{children:o,droppableId:l,type:c,mode:d,direction:u,ignoreContainerClipping:f,isDropDisabled:m,isCombineEnabled:h,snapshot:x,useClone:p,updateViewportMaxScroll:g,getContainerForClone:j}=e,y=_t(()=>a.current,[]),w=_t((D=null)=>{a.current=D},[]);_t(()=>i.current,[]);const b=_t((D=null)=>{i.current=D},[]),N=_t(()=>{s()&&g({maxScroll:LZ()})},[s,g]);KGe({droppableId:l,type:c,mode:d,direction:u,isDropDisabled:m,isCombineEnabled:h,ignoreContainerClipping:f,getDroppableRef:y});const _=cr(()=>z.createElement(JGe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:D,data:I,animate:W})=>z.createElement(ZGe,{placeholder:I,onClose:D,innerRef:b,animate:W,contextId:r,onTransitionEnd:N})),[r,N,e.placeholder,e.shouldAnimatePlaceholder,b]),S=cr(()=>({innerRef:w,placeholder:_,droppableProps:{"data-rfd-droppable-id":l,"data-rfd-droppable-context-id":r}}),[r,l,_,w]),A=p?p.dragging.draggableId:null,E=cr(()=>({droppableId:l,type:c,isUsingCloneFor:A}),[l,A,c]);function P(){if(!p)return null;const{dragging:D,render:I}=p,W=z.createElement(rJ,{draggableId:D.draggableId,index:D.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(H,F)=>I(H,F,D));return uN.createPortal(W,j())}return z.createElement(sD.Provider,{value:E},o(S,x),P())};function tKe(){return document.body||at(),document.body}const TL={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:tKe},iJ=e=>{let t={...e},r;for(r in TL)e[r]===void 0&&(t={...t,[r]:TL[r]});return t},xC=(e,t)=>e===t.droppable.type,OL=(e,t)=>t.draggables[e.draggable.id],rKe=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=Os(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),s=Os((i,o,l,c,d,u)=>{const f=d.descriptor.id;if(d.descriptor.droppableId===i){const x=u?{render:u,dragging:r(d.descriptor)}:null,p={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:p,useClone:x}}if(!o)return t;if(!c)return e;const h={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}});return(i,o)=>{const l=iJ(o),c=l.droppableId,d=l.type,u=!l.isDropDisabled,f=l.renderClone;if(hv(i)){const m=i.critical;if(!xC(d,m))return t;const h=OL(m,i.dimensions),x=$i(i.impact)===c;return s(c,u,x,x,h,f)}if(i.phase==="DROP_ANIMATING"){const m=i.completed;if(!xC(d,m.critical))return t;const h=OL(m.critical,i.dimensions);return s(c,u,eJ(m.result)===c,$i(m.impact)===c,h,f)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const m=i.completed;if(!xC(d,m.critical))return t;const h=$i(m.impact)===c,x=!!(m.impact.at&&m.impact.at.type==="COMBINE"),p=m.critical.droppable.id===c;return h?x?e:t:p?e:t}return t}},nKe={updateViewportMaxScroll:mHe},sKe=sZ(rKe,nKe,(e,t,r)=>({...iJ(r),...e,...t}),{context:tD,areStatePropsEqual:JZ})(eKe);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Rw={};Rw.version="0.18.5";var oJ=1252,aKe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],lJ=function(e){aKe.indexOf(e)!=-1&&(oJ=e)};function iKe(){lJ(1252)}var pv=function(e){lJ(e)};function oKe(){pv(1200),iKe()}var Dj=function(t){return String.fromCharCode(t)},DL=function(t){return String.fromCharCode(t)},ef,Kd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function xv(e){for(var t="",r=0,s=0,a=0,i=0,o=0,l=0,c=0,d=0;d<e.length;)r=e.charCodeAt(d++),i=r>>2,s=e.charCodeAt(d++),o=(r&3)<<4|s>>4,a=e.charCodeAt(d++),l=(s&15)<<2|a>>6,c=a&63,isNaN(s)?l=c=64:isNaN(a)&&(c=64),t+=Kd.charAt(i)+Kd.charAt(o)+Kd.charAt(l)+Kd.charAt(c);return t}function sd(e){var t="",r=0,s=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<e.length;)i=Kd.indexOf(e.charAt(d++)),o=Kd.indexOf(e.charAt(d++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=Kd.indexOf(e.charAt(d++)),s=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(s)),c=Kd.indexOf(e.charAt(d++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var br=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),hd=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function tm(e){return br?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function IL(e){return br?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Xo=function(t){return br?hd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function n_(e){if(typeof ArrayBuffer>"u")return Xo(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),s=0;s!=e.length;++s)r[s]=e.charCodeAt(s)&255;return t}function _y(e){if(Array.isArray(e))return e.map(function(s){return String.fromCharCode(s)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function lKe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Hs=br?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:hd(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var s=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)s.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";s.set(new Uint8Array(e[t]),r)}return s}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function cKe(e){for(var t=[],r=0,s=e.length+250,a=tm(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>s&&(t.push(a.slice(0,r)),r=0,a=tm(65535),s=65530)}return t.push(a.slice(0,r)),Hs(t)}var Bg=/\u0000/g,Ij=/[\u0001-\u0006]/g;function _h(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Jo(e,t){var r=""+e;return r.length>=t?r:Mn("0",t-r.length)+r}function aD(e,t){var r=""+e;return r.length>=t?r:Mn(" ",t-r.length)+r}function Mw(e,t){var r=""+e;return r.length>=t?r:r+Mn(" ",t-r.length)}function dKe(e,t){var r=""+Math.round(e);return r.length>=t?r:Mn("0",t-r.length)+r}function uKe(e,t){var r=""+e;return r.length>=t?r:Mn("0",t-r.length)+r}var RL=Math.pow(2,32);function Im(e,t){if(e>RL||e<-RL)return dKe(e,t);var r=Math.round(e);return uKe(r,t)}function Fw(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var ML=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],gC=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function fKe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Fn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},FL={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},mKe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function $w(e,t,r){for(var s=e<0?-1:1,a=e*s,i=0,o=1,l=0,c=1,d=0,u=0,f=Math.floor(a);d<t&&(f=Math.floor(a),l=f*o+i,u=f*d+c,!(a-f<5e-8));)a=1/(a-f),i=o,o=l,c=d,d=u;if(u>t&&(d>t?(u=c,l=i):(u=d,l=o)),!r)return[0,s*l,u];var m=Math.floor(s*l/u);return[m,s*l-m*u,u]}function Rj(e,t,r){if(e>2958465||e<0)return null;var s=e|0,a=Math.floor(86400*(e-s)),i=0,o=[],l={D:s,T:a,u:86400*(e-s)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(s+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++s,++l.D)),s===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(s===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{s>60&&--s;var c=new Date(1900,0,1);c.setDate(c.getDate()+s-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),s<60&&(i=(i+6)%7),r&&(i=jKe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var cJ=new Date(1899,11,31,0,0,0),hKe=cJ.getTime(),pKe=new Date(1900,2,1,0,0,0);function dJ(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=pKe&&(r+=24*60*60*1e3),(r-(hKe+(e.getTimezoneOffset()-cJ.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function iD(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function xKe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function gKe(e){var t=e<0?12:11,r=iD(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function vKe(e){var t=iD(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function yKe(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=gKe(e):t===10?r=e.toFixed(10).substr(0,12):r=vKe(e),iD(xKe(r.toUpperCase()))}function bP(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):yKe(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return bu(14,dJ(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function jKe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function bKe(e,t,r,s){var a="",i=0,o=0,l=r.y,c,d=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,d=t.length;break;case 3:return gC[r.m-1][1];case 5:return gC[r.m-1][0];default:return gC[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,d=t.length;break;case 3:return ML[r.q][0];default:return ML[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Jo(r.S,t.length):(s>=2?o=s===3?1e3:100:o=s===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=Jo(i,2+s),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}d=t.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?Jo(c,d):"";return u}function Yd(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,s=e.substr(0,r);r!=e.length;r+=t)s+=(s.length>0?",":"")+e.substr(r,t);return s}var uJ=/%/g;function wKe(e,t,r){var s=t.replace(uJ,""),a=t.length-s.length;return Lc(e,s,r*Math.pow(10,2*a))+Mn("%",a)}function NKe(e,t,r){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return Lc(e,t.substr(0,s),r/Math.pow(10,3*(t.length-s)))}function fJ(e,t){var r,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+fJ(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(s);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var mJ=/# (\?+)( ?)\/( ?)(\d+)/;function _Ke(e,t,r){var s=parseInt(e[4],10),a=Math.round(t*s),i=Math.floor(a/s),o=a-i*s,l=s;return r+(i===0?"":""+i)+" "+(o===0?Mn(" ",e[1].length+1+e[4].length):aD(o,e[1].length)+e[2]+"/"+e[3]+Jo(l,e[4].length))}function SKe(e,t,r){return r+(t===0?"":""+t)+Mn(" ",e[1].length+2+e[4].length)}var hJ=/^#*0*\.([0#]+)/,pJ=/\).*[0#]/,xJ=/\(###\) ###\\?-####/;function Aa(e){for(var t="",r,s=0;s!=e.length;++s)switch(r=e.charCodeAt(s)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function $L(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function LL(e,t){var r=e-Math.floor(e),s=Math.pow(10,t);return t<(""+Math.round(r*s)).length?0:Math.round(r*s)}function CKe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function AKe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function so(e,t,r){if(e.charCodeAt(0)===40&&!t.match(pJ)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?so("n",s,r):"("+so("n",s,-r)+")"}if(t.charCodeAt(t.length-1)===44)return NKe(e,t,r);if(t.indexOf("%")!==-1)return wKe(e,t,r);if(t.indexOf("E")!==-1)return fJ(t,r);if(t.charCodeAt(0)===36)return"$"+so(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Im(c,t.length);if(t.match(/^[#?]+$/))return a=Im(r,0),a==="0"&&(a=""),a.length>t.length?a:Aa(t.substr(0,t.length-a.length))+a;if(i=t.match(mJ))return _Ke(i,c,d);if(t.match(/^#+0+$/))return d+Im(c,t.length-t.indexOf("0"));if(i=t.match(hJ))return a=$L(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Aa(i[1])).replace(/\.$/,"."+Aa(i[1])).replace(/\.(\d*)$/,function(x,p){return"."+p+Mn("0",Aa(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+$L(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Yd(Im(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+so(e,t,-r):Yd(""+(Math.floor(r)+CKe(r,i[1].length)))+"."+Jo(LL(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return so(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=_h(so(e,t.replace(/[\\-]/g,""),r)),o=0,_h(_h(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(xJ))return a=so(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=$w(c,Math.pow(10,o)-1,!1),a=""+d,u=Lc("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Mw(l[2],o),u.length<i[4].length&&(u=Aa(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=$w(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?aD(l[1],o)+i[2]+"/"+i[3]+Mw(l[2],o):Mn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Im(r,0),t.length<=a.length?a:Aa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return Aa(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=LL(r,i[1].length),r<0?"-"+so(e,t,-r):Yd(AKe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Jo(0,3-x.length):"")+x})+"."+Jo(o,i[1].length);switch(t){case"###,##0.00":return so(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=Yd(Im(c,0));return h!=="0"?d+h:"";case"###,###.00":return so(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return so(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function EKe(e,t,r){for(var s=t.length-1;t.charCodeAt(s-1)===44;)--s;return Lc(e,t.substr(0,s),r/Math.pow(10,3*(t.length-s)))}function PKe(e,t,r){var s=t.replace(uJ,""),a=t.length-s.length;return Lc(e,s,r*Math.pow(10,2*a))+Mn("%",a)}function gJ(e,t){var r,s=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+gJ(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(s+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(s);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Cl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(pJ)){var s=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Cl("n",s,r):"("+Cl("n",s,-r)+")"}if(t.charCodeAt(t.length-1)===44)return EKe(e,t,r);if(t.indexOf("%")!==-1)return PKe(e,t,r);if(t.indexOf("E")!==-1)return gJ(t,r);if(t.charCodeAt(0)===36)return"$"+Cl(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),d=r<0?"-":"";if(t.match(/^00+$/))return d+Jo(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Aa(t.substr(0,t.length-a.length))+a;if(i=t.match(mJ))return SKe(i,c,d);if(t.match(/^#+0+$/))return d+Jo(c,t.length-t.indexOf("0"));if(i=t.match(hJ))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Aa(i[1])).replace(/\.$/,"."+Aa(i[1])),a=a.replace(/\.(\d*)$/,function(x,p){return"."+p+Mn("0",Aa(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return d+Yd(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Cl(e,t,-r):Yd(""+r)+"."+Mn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Cl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=_h(Cl(e,t.replace(/[\\-]/g,""),r)),o=0,_h(_h(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(xJ))return a=Cl(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=$w(c,Math.pow(10,o)-1,!1),a=""+d,u=Lc("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Mw(l[2],o),u.length<i[4].length&&(u=Aa(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=$w(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?aD(l[1],o)+i[2]+"/"+i[3]+Mw(l[2],o):Mn(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Aa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var f=t.indexOf(".")-o,m=t.length-a.length-f;return Aa(t.substr(0,f)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Cl(e,t,-r):Yd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Jo(0,3-x.length):"")+x})+"."+Jo(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=Yd(""+c);return h!=="0"?d+h:"";default:if(t.match(/\.[0#?]*$/))return Cl(e,t.slice(0,t.lastIndexOf(".")),r)+Aa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Lc(e,t,r){return(r|0)===r?Cl(e,t,r):so(e,t,r)}function kKe(e){for(var t=[],r=!1,s=0,a=0;s<e.length;++s)switch(e.charCodeAt(s)){case 34:r=!r;break;case 95:case 42:case 92:++s;break;case 59:t[t.length]=e.substr(a,s-a),a=s+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var vJ=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function yJ(e){for(var t=0,r="",s="";t<e.length;)switch(r=e.charAt(t)){case"G":Fw(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(s=r;e.charAt(t++)!=="]"&&t<e.length;)s+=e.charAt(t);if(s.match(vJ))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function TKe(e,t,r,s){for(var a=[],i="",o=0,l="",c="t",d,u,f,m="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!Fw(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(f=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++o;break;case"\\":var h=e.charAt(++o),x=h==="("||h===")"?h:"t";a[a.length]={t:x,v:h},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(d==null&&(d=Rj(t,r,e.charAt(o+1)==="2"),d==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||d==null&&(d=Rj(t,r),d==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var p={t:l,v:l};if(d==null&&(d=Rj(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(p.v=d.H>=12?"P":"A"),p.t="T",m="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(p.v=d.H>=12?"PM":"AM"),p.t="T",o+=5,m="h"):e.substr(o,5).toUpperCase()==="/"?(d!=null&&(p.v=d.H>=12?"":""),p.t="T",o+=5,m="h"):(p.t="t",++o),d==null&&p.t==="T")return"";a[a.length]=p,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(vJ)){if(d==null&&(d=Rj(t,r),d==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",yJ(e)||(a[a.length]={t:"t",v:i}));break;case".":if(d!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:s===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var g=0,j=0,y;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=m,c="h",g<1&&(g=1);break;case"s":(y=a[o].v.match(/\.0+$/))&&(j=Math.max(j,y[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[o].v.match(/[Hh]/)&&(g=1),g<2&&a[o].v.match(/[Mm]/)&&(g=2),g<3&&a[o].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var w="",b;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=bKe(a[o].t.charCodeAt(0),a[o].v,d,j),a[o].t="t";break;case"n":case"?":for(b=o+1;a[b]!=null&&((l=a[b].t)==="?"||l==="D"||(l===" "||l==="t")&&a[b+1]!=null&&(a[b+1].t==="?"||a[b+1].t==="t"&&a[b+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[b].v==="/"||a[b].v===" "&&a[b+1]!=null&&a[b+1].t=="?"));)a[o].v+=a[b].v,a[b]={v:"",t:";"},++b;w+=a[o].v,o=b-1;break;case"G":a[o].t="t",a[o].v=bP(t,r);break}var N="",_,S;if(w.length>0){w.charCodeAt(0)==40?(_=t<0&&w.charCodeAt(0)===45?-t:t,S=Lc("n",w,_)):(_=t<0&&s>1?-t:t,S=Lc("n",w,_),_<0&&a[0]&&a[0].t=="t"&&(S=S.substr(1),a[0].v="-"+a[0].v)),b=S.length-1;var A=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){A=o;break}var E=a.length;if(A===a.length&&S.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(b>=a[o].v.length-1?(b-=a[o].v.length,a[o].v=S.substr(b+1,a[o].v.length)):b<0?a[o].v="":(a[o].v=S.substr(0,b+1),b=-1),a[o].t="t",E=o);b>=0&&E<a.length&&(a[E].v=S.substr(0,b+1)+a[E].v)}else if(A!==a.length&&S.indexOf("E")===-1){for(b=S.indexOf(".")-1,o=A;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(u=a[o].v.indexOf(".")>-1&&o===A?a[o].v.indexOf(".")-1:a[o].v.length-1,N=a[o].v.substr(u+1);u>=0;--u)b>=0&&(a[o].v.charAt(u)==="0"||a[o].v.charAt(u)==="#")&&(N=S.charAt(b--)+N);a[o].v=N,a[o].t="t",E=o}for(b>=0&&E<a.length&&(a[E].v=S.substr(0,b+1)+a[E].v),b=S.indexOf(".")+1,o=A;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==A)){for(u=a[o].v.indexOf(".")>-1&&o===A?a[o].v.indexOf(".")+1:0,N=a[o].v.substr(0,u);u<a[o].v.length;++u)b<S.length&&(N+=S.charAt(b++));a[o].v=N,a[o].t="t",E=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(_=s>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Lc(a[o].t,a[o].v,_),a[o].t="t");var P="";for(o=0;o!==a.length;++o)a[o]!=null&&(P+=a[o].v);return P}var BL=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function UL(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function OKe(e,t){var r=kKe(e),s=r.length,a=r[s-1].indexOf("@");if(s<4&&a>-1&&--s,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[s,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(BL),l=r[1].match(BL);return UL(t,o)?[s,r[0]]:UL(t,l)?[s,r[1]]:[s,r[o!=null&&l!=null?2:1]]}return[s,i]}function bu(e,t,r){r==null&&(r={});var s="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?s=r.dateNF:s=e;break;case"number":e==14&&r.dateNF?s=r.dateNF:s=(r.table!=null?r.table:Fn)[e],s==null&&(s=r.table&&r.table[FL[e]]||Fn[FL[e]]),s==null&&(s=mKe[e]||"General");break}if(Fw(s,0))return bP(t,r);t instanceof Date&&(t=dJ(t,r.date1904));var a=OKe(s,t);if(Fw(a[1]))return bP(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return TKe(a[1],t,r,a[0])}function jJ(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Fn[r]==null){t<0&&(t=r);continue}if(Fn[r]==e){t=r;break}}t<0&&(t=391)}return Fn[t]=e,t}function s_(e){for(var t=0;t!=392;++t)e[t]!==void 0&&jJ(e[t],t)}function a_(){Fn=fKe()}var bJ=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function DKe(e){var t=typeof e=="number"?Fn[e]:e;return t=t.replace(bJ,"(\\d+)"),new RegExp("^"+t+"$")}function IKe(e,t,r){var s=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(bJ)||[]).forEach(function(f,m){var h=parseInt(r[m+1],10);switch(f.toLowerCase().charAt(0)){case"y":s=h;break;case"d":i=h;break;case"h":o=h;break;case"s":c=h;break;case"m":o>=0?l=h:a=h;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var d=(""+(s>=0?s:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:s==-1&&a==-1&&i==-1?u:d+"T"+u}var RKe=function(){var e={};e.version="1.2.0";function t(){for(var S=0,A=new Array(256),E=0;E!=256;++E)S=E,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,A[E]=S;return typeof Int32Array<"u"?new Int32Array(A):A}var r=t();function s(S){var A=0,E=0,P=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)D[P]=S[P];for(P=0;P!=256;++P)for(E=S[P],A=256+P;A<4096;A+=256)E=D[A]=E>>>8^S[E&255];var I=[];for(P=1;P!=16;++P)I[P-1]=typeof Int32Array<"u"?D.subarray(P*256,P*256+256):D.slice(P*256,P*256+256);return I}var a=s(r),i=a[0],o=a[1],l=a[2],c=a[3],d=a[4],u=a[5],f=a[6],m=a[7],h=a[8],x=a[9],p=a[10],g=a[11],j=a[12],y=a[13],w=a[14];function b(S,A){for(var E=A^-1,P=0,D=S.length;P<D;)E=E>>>8^r[(E^S.charCodeAt(P++))&255];return~E}function N(S,A){for(var E=A^-1,P=S.length-15,D=0;D<P;)E=w[S[D++]^E&255]^y[S[D++]^E>>8&255]^j[S[D++]^E>>16&255]^g[S[D++]^E>>>24]^p[S[D++]]^x[S[D++]]^h[S[D++]]^m[S[D++]]^f[S[D++]]^u[S[D++]]^d[S[D++]]^c[S[D++]]^l[S[D++]]^o[S[D++]]^i[S[D++]]^r[S[D++]];for(P+=15;D<P;)E=E>>>8^r[(E^S[D++])&255];return~E}function _(S,A){for(var E=A^-1,P=0,D=S.length,I=0,W=0;P<D;)I=S.charCodeAt(P++),I<128?E=E>>>8^r[(E^I)&255]:I<2048?(E=E>>>8^r[(E^(192|I>>6&31))&255],E=E>>>8^r[(E^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,W=S.charCodeAt(P++)&1023,E=E>>>8^r[(E^(240|I>>8&7))&255],E=E>>>8^r[(E^(128|I>>2&63))&255],E=E>>>8^r[(E^(128|W>>6&15|(I&3)<<4))&255],E=E>>>8^r[(E^(128|W&63))&255]):(E=E>>>8^r[(E^(224|I>>12&15))&255],E=E>>>8^r[(E^(128|I>>6&63))&255],E=E>>>8^r[(E^(128|I&63))&255]);return~E}return e.table=r,e.bstr=b,e.buf=N,e.str=_,e}(),Ur=function(){var t={};t.version="1.2.1";function r(U,ne){for(var J=U.split("/"),te=ne.split("/"),ie=0,Z=0,_e=Math.min(J.length,te.length);ie<_e;++ie){if(Z=J[ie].length-te[ie].length)return Z;if(J[ie]!=te[ie])return J[ie]<te[ie]?-1:1}return J.length-te.length}function s(U){if(U.charAt(U.length-1)=="/")return U.slice(0,-1).indexOf("/")===-1?U:s(U.slice(0,-1));var ne=U.lastIndexOf("/");return ne===-1?U:U.slice(0,ne+1)}function a(U){if(U.charAt(U.length-1)=="/")return a(U.slice(0,-1));var ne=U.lastIndexOf("/");return ne===-1?U:U.slice(ne+1)}function i(U,ne){typeof ne=="string"&&(ne=new Date(ne));var J=ne.getHours();J=J<<6|ne.getMinutes(),J=J<<5|ne.getSeconds()>>>1,U.write_shift(2,J);var te=ne.getFullYear()-1980;te=te<<4|ne.getMonth()+1,te=te<<5|ne.getDate(),U.write_shift(2,te)}function o(U){var ne=U.read_shift(2)&65535,J=U.read_shift(2)&65535,te=new Date,ie=J&31;J>>>=5;var Z=J&15;J>>>=4,te.setMilliseconds(0),te.setFullYear(J+1980),te.setMonth(Z-1),te.setDate(ie);var _e=ne&31;ne>>>=5;var ke=ne&63;return ne>>>=6,te.setHours(ne),te.setMinutes(ke),te.setSeconds(_e<<1),te}function l(U){Ci(U,0);for(var ne={},J=0;U.l<=U.length-4;){var te=U.read_shift(2),ie=U.read_shift(2),Z=U.l+ie,_e={};switch(te){case 21589:J=U.read_shift(1),J&1&&(_e.mtime=U.read_shift(4)),ie>5&&(J&2&&(_e.atime=U.read_shift(4)),J&4&&(_e.ctime=U.read_shift(4))),_e.mtime&&(_e.mt=new Date(_e.mtime*1e3));break}U.l=Z,ne[te]=_e}return ne}var c;function d(){return c||(c={})}function u(U,ne){if(U[0]==80&&U[1]==75)return Jt(U,ne);if((U[0]|32)==109&&(U[1]|32)==105)return m_(U,ne);if(U.length<512)throw new Error("CFB file size "+U.length+" < 512");var J=3,te=512,ie=0,Z=0,_e=0,ke=0,be=0,Ce=[],Pe=U.slice(0,512);Ci(Pe,0);var qe=f(Pe);switch(J=qe[0],J){case 3:te=512;break;case 4:te=4096;break;case 0:if(qe[1]==0)return Jt(U,ne);default:throw new Error("Major Version: Expected 3 or 4 saw "+J)}te!==512&&(Pe=U.slice(0,te),Ci(Pe,28));var ot=U.slice(0,te);m(Pe,J);var xt=Pe.read_shift(4,"i");if(J===3&&xt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+xt);Pe.l+=4,_e=Pe.read_shift(4,"i"),Pe.l+=4,Pe.chk("00100000","Mini Stream Cutoff Size: "),ke=Pe.read_shift(4,"i"),ie=Pe.read_shift(4,"i"),be=Pe.read_shift(4,"i"),Z=Pe.read_shift(4,"i");for(var Ze=-1,dt=0;dt<109&&(Ze=Pe.read_shift(4,"i"),!(Ze<0));++dt)Ce[dt]=Ze;var zt=h(U,te);g(be,Z,zt,te,Ce);var jn=y(zt,_e,Ce,te);jn[_e].name="!Directory",ie>0&&ke!==W&&(jn[ke].name="!MiniFAT"),jn[Ce[0]].name="!FAT",jn.fat_addrs=Ce,jn.ssz=te;var bn={},ta=[],jx=[],bx=[];w(_e,jn,zt,ta,ie,bn,jx,ke),x(jx,bx,ta),ta.shift();var wx={FileIndex:jx,FullPaths:bx};return ne&&ne.raw&&(wx.raw={header:ot,sectors:zt}),wx}function f(U){if(U[U.l]==80&&U[U.l+1]==75)return[0,0];U.chk(H,"Header Signature: "),U.l+=16;var ne=U.read_shift(2,"u");return[U.read_shift(2,"u"),ne]}function m(U,ne){var J=9;switch(U.l+=2,J=U.read_shift(2)){case 9:if(ne!=3)throw new Error("Sector Shift: Expected 9 saw "+J);break;case 12:if(ne!=4)throw new Error("Sector Shift: Expected 12 saw "+J);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+J)}U.chk("0600","Mini Sector Shift: "),U.chk("000000000000","Reserved: ")}function h(U,ne){for(var J=Math.ceil(U.length/ne)-1,te=[],ie=1;ie<J;++ie)te[ie-1]=U.slice(ie*ne,(ie+1)*ne);return te[J-1]=U.slice(J*ne),te}function x(U,ne,J){for(var te=0,ie=0,Z=0,_e=0,ke=0,be=J.length,Ce=[],Pe=[];te<be;++te)Ce[te]=Pe[te]=te,ne[te]=J[te];for(;ke<Pe.length;++ke)te=Pe[ke],ie=U[te].L,Z=U[te].R,_e=U[te].C,Ce[te]===te&&(ie!==-1&&Ce[ie]!==ie&&(Ce[te]=Ce[ie]),Z!==-1&&Ce[Z]!==Z&&(Ce[te]=Ce[Z])),_e!==-1&&(Ce[_e]=te),ie!==-1&&te!=Ce[te]&&(Ce[ie]=Ce[te],Pe.lastIndexOf(ie)<ke&&Pe.push(ie)),Z!==-1&&te!=Ce[te]&&(Ce[Z]=Ce[te],Pe.lastIndexOf(Z)<ke&&Pe.push(Z));for(te=1;te<be;++te)Ce[te]===te&&(Z!==-1&&Ce[Z]!==Z?Ce[te]=Ce[Z]:ie!==-1&&Ce[ie]!==ie&&(Ce[te]=Ce[ie]));for(te=1;te<be;++te)if(U[te].type!==0){if(ke=te,ke!=Ce[ke])do ke=Ce[ke],ne[te]=ne[ke]+"/"+ne[te];while(ke!==0&&Ce[ke]!==-1&&ke!=Ce[ke]);Ce[te]=-1}for(ne[0]+="/",te=1;te<be;++te)U[te].type!==2&&(ne[te]+="/")}function p(U,ne,J){for(var te=U.start,ie=U.size,Z=[],_e=te;J&&ie>0&&_e>=0;)Z.push(ne.slice(_e*I,_e*I+I)),ie-=I,_e=tf(J,_e*4);return Z.length===0?$e(0):Hs(Z).slice(0,U.size)}function g(U,ne,J,te,ie){var Z=W;if(U===W){if(ne!==0)throw new Error("DIFAT chain shorter than expected")}else if(U!==-1){var _e=J[U],ke=(te>>>2)-1;if(!_e)return;for(var be=0;be<ke&&(Z=tf(_e,be*4))!==W;++be)ie.push(Z);g(tf(_e,te-4),ne-1,J,te,ie)}}function j(U,ne,J,te,ie){var Z=[],_e=[];ie||(ie=[]);var ke=te-1,be=0,Ce=0;for(be=ne;be>=0;){ie[be]=!0,Z[Z.length]=be,_e.push(U[be]);var Pe=J[Math.floor(be*4/te)];if(Ce=be*4&ke,te<4+Ce)throw new Error("FAT boundary crossed: "+be+" 4 "+te);if(!U[Pe])break;be=tf(U[Pe],Ce)}return{nodes:Z,data:YL([_e])}}function y(U,ne,J,te){var ie=U.length,Z=[],_e=[],ke=[],be=[],Ce=te-1,Pe=0,qe=0,ot=0,xt=0;for(Pe=0;Pe<ie;++Pe)if(ke=[],ot=Pe+ne,ot>=ie&&(ot-=ie),!_e[ot]){be=[];var Ze=[];for(qe=ot;qe>=0;){Ze[qe]=!0,_e[qe]=!0,ke[ke.length]=qe,be.push(U[qe]);var dt=J[Math.floor(qe*4/te)];if(xt=qe*4&Ce,te<4+xt)throw new Error("FAT boundary crossed: "+qe+" 4 "+te);if(!U[dt]||(qe=tf(U[dt],xt),Ze[qe]))break}Z[ot]={nodes:ke,data:YL([be])}}return Z}function w(U,ne,J,te,ie,Z,_e,ke){for(var be=0,Ce=te.length?2:0,Pe=ne[U].data,qe=0,ot=0,xt;qe<Pe.length;qe+=128){var Ze=Pe.slice(qe,qe+128);Ci(Ze,64),ot=Ze.read_shift(2),xt=uD(Ze,0,ot-Ce),te.push(xt);var dt={name:xt,type:Ze.read_shift(1),color:Ze.read_shift(1),L:Ze.read_shift(4,"i"),R:Ze.read_shift(4,"i"),C:Ze.read_shift(4,"i"),clsid:Ze.read_shift(16),state:Ze.read_shift(4,"i"),start:0,size:0},zt=Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2);zt!==0&&(dt.ct=b(Ze,Ze.l-8));var jn=Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2);jn!==0&&(dt.mt=b(Ze,Ze.l-8)),dt.start=Ze.read_shift(4,"i"),dt.size=Ze.read_shift(4,"i"),dt.size<0&&dt.start<0&&(dt.size=dt.type=0,dt.start=W,dt.name=""),dt.type===5?(be=dt.start,ie>0&&be!==W&&(ne[be].name="!StreamData")):dt.size>=4096?(dt.storage="fat",ne[dt.start]===void 0&&(ne[dt.start]=j(J,dt.start,ne.fat_addrs,ne.ssz)),ne[dt.start].name=dt.name,dt.content=ne[dt.start].data.slice(0,dt.size)):(dt.storage="minifat",dt.size<0?dt.size=0:be!==W&&dt.start!==W&&ne[be]&&(dt.content=p(dt,ne[be].data,(ne[ke]||{}).data))),dt.content&&Ci(dt.content,0),Z[xt]=dt,_e.push(dt)}}function b(U,ne){return new Date((Pi(U,ne+4)/1e7*Math.pow(2,32)+Pi(U,ne)/1e7-11644473600)*1e3)}function N(U,ne){return d(),u(c.readFileSync(U),ne)}function _(U,ne){var J=ne&&ne.type;switch(J||br&&Buffer.isBuffer(U)&&(J="buffer"),J||"base64"){case"file":return N(U,ne);case"base64":return u(Xo(sd(U)),ne);case"binary":return u(Xo(U),ne)}return u(U,ne)}function S(U,ne){var J=ne||{},te=J.root||"Root Entry";if(U.FullPaths||(U.FullPaths=[]),U.FileIndex||(U.FileIndex=[]),U.FullPaths.length!==U.FileIndex.length)throw new Error("inconsistent CFB structure");U.FullPaths.length===0&&(U.FullPaths[0]=te+"/",U.FileIndex[0]={name:te,type:5}),J.CLSID&&(U.FileIndex[0].clsid=J.CLSID),A(U)}function A(U){var ne="Sh33tJ5";if(!Ur.find(U,"/"+ne)){var J=$e(4);J[0]=55,J[1]=J[3]=50,J[2]=54,U.FileIndex.push({name:ne,type:2,content:J,size:4,L:69,R:69,C:69}),U.FullPaths.push(U.FullPaths[0]+ne),E(U)}}function E(U,ne){S(U);for(var J=!1,te=!1,ie=U.FullPaths.length-1;ie>=0;--ie){var Z=U.FileIndex[ie];switch(Z.type){case 0:te?J=!0:(U.FileIndex.pop(),U.FullPaths.pop());break;case 1:case 2:case 5:te=!0,isNaN(Z.R*Z.L*Z.C)&&(J=!0),Z.R>-1&&Z.L>-1&&Z.R==Z.L&&(J=!0);break;default:J=!0;break}}if(!(!J&&!ne)){var _e=new Date(1987,1,19),ke=0,be=Object.create?Object.create(null):{},Ce=[];for(ie=0;ie<U.FullPaths.length;++ie)be[U.FullPaths[ie]]=!0,U.FileIndex[ie].type!==0&&Ce.push([U.FullPaths[ie],U.FileIndex[ie]]);for(ie=0;ie<Ce.length;++ie){var Pe=s(Ce[ie][0]);te=be[Pe],te||(Ce.push([Pe,{name:a(Pe).replace("/",""),type:1,clsid:T,ct:_e,mt:_e,content:null}]),be[Pe]=!0)}for(Ce.sort(function(xt,Ze){return r(xt[0],Ze[0])}),U.FullPaths=[],U.FileIndex=[],ie=0;ie<Ce.length;++ie)U.FullPaths[ie]=Ce[ie][0],U.FileIndex[ie]=Ce[ie][1];for(ie=0;ie<Ce.length;++ie){var qe=U.FileIndex[ie],ot=U.FullPaths[ie];if(qe.name=a(ot).replace("/",""),qe.L=qe.R=qe.C=-(qe.color=1),qe.size=qe.content?qe.content.length:0,qe.start=0,qe.clsid=qe.clsid||T,ie===0)qe.C=Ce.length>1?1:-1,qe.size=0,qe.type=5;else if(ot.slice(-1)=="/"){for(ke=ie+1;ke<Ce.length&&s(U.FullPaths[ke])!=ot;++ke);for(qe.C=ke>=Ce.length?-1:ke,ke=ie+1;ke<Ce.length&&s(U.FullPaths[ke])!=s(ot);++ke);qe.R=ke>=Ce.length?-1:ke,qe.type=1}else s(U.FullPaths[ie+1]||"")==s(ot)&&(qe.R=ie+1),qe.type=2}}}function P(U,ne){var J=ne||{};if(J.fileType=="mad")return h_(U,J);switch(E(U),J.fileType){case"zip":return ls(U,J)}var te=function(xt){for(var Ze=0,dt=0,zt=0;zt<xt.FileIndex.length;++zt){var jn=xt.FileIndex[zt];if(jn.content){var bn=jn.content.length;bn>0&&(bn<4096?Ze+=bn+63>>6:dt+=bn+511>>9)}}for(var ta=xt.FullPaths.length+3>>2,jx=Ze+7>>3,bx=Ze+127>>7,wx=jx+dt+ta+bx,Lu=wx+127>>7,x_=Lu<=109?0:Math.ceil((Lu-109)/127);wx+Lu+x_+127>>7>Lu;)x_=++Lu<=109?0:Math.ceil((Lu-109)/127);var uc=[1,x_,Lu,bx,ta,dt,Ze,0];return xt.FileIndex[0].size=Ze<<6,uc[7]=(xt.FileIndex[0].start=uc[0]+uc[1]+uc[2]+uc[3]+uc[4]+uc[5])+(uc[6]+7>>3),uc}(U),ie=$e(te[7]<<9),Z=0,_e=0;{for(Z=0;Z<8;++Z)ie.write_shift(1,F[Z]);for(Z=0;Z<8;++Z)ie.write_shift(2,0);for(ie.write_shift(2,62),ie.write_shift(2,3),ie.write_shift(2,65534),ie.write_shift(2,9),ie.write_shift(2,6),Z=0;Z<3;++Z)ie.write_shift(2,0);for(ie.write_shift(4,0),ie.write_shift(4,te[2]),ie.write_shift(4,te[0]+te[1]+te[2]+te[3]-1),ie.write_shift(4,0),ie.write_shift(4,4096),ie.write_shift(4,te[3]?te[0]+te[1]+te[2]-1:W),ie.write_shift(4,te[3]),ie.write_shift(-4,te[1]?te[0]-1:W),ie.write_shift(4,te[1]),Z=0;Z<109;++Z)ie.write_shift(-4,Z<te[2]?te[1]+Z:-1)}if(te[1])for(_e=0;_e<te[1];++_e){for(;Z<236+_e*127;++Z)ie.write_shift(-4,Z<te[2]?te[1]+Z:-1);ie.write_shift(-4,_e===te[1]-1?W:_e+1)}var ke=function(xt){for(_e+=xt;Z<_e-1;++Z)ie.write_shift(-4,Z+1);xt&&(++Z,ie.write_shift(-4,W))};for(_e=Z=0,_e+=te[1];Z<_e;++Z)ie.write_shift(-4,k.DIFSECT);for(_e+=te[2];Z<_e;++Z)ie.write_shift(-4,k.FATSECT);ke(te[3]),ke(te[4]);for(var be=0,Ce=0,Pe=U.FileIndex[0];be<U.FileIndex.length;++be)Pe=U.FileIndex[be],Pe.content&&(Ce=Pe.content.length,!(Ce<4096)&&(Pe.start=_e,ke(Ce+511>>9)));for(ke(te[6]+7>>3);ie.l&511;)ie.write_shift(-4,k.ENDOFCHAIN);for(_e=Z=0,be=0;be<U.FileIndex.length;++be)Pe=U.FileIndex[be],Pe.content&&(Ce=Pe.content.length,!(!Ce||Ce>=4096)&&(Pe.start=_e,ke(Ce+63>>6)));for(;ie.l&511;)ie.write_shift(-4,k.ENDOFCHAIN);for(Z=0;Z<te[4]<<2;++Z){var qe=U.FullPaths[Z];if(!qe||qe.length===0){for(be=0;be<17;++be)ie.write_shift(4,0);for(be=0;be<3;++be)ie.write_shift(4,-1);for(be=0;be<12;++be)ie.write_shift(4,0);continue}Pe=U.FileIndex[Z],Z===0&&(Pe.start=Pe.size?Pe.start-1:W);var ot=Z===0&&J.root||Pe.name;if(Ce=2*(ot.length+1),ie.write_shift(64,ot,"utf16le"),ie.write_shift(2,Ce),ie.write_shift(1,Pe.type),ie.write_shift(1,Pe.color),ie.write_shift(-4,Pe.L),ie.write_shift(-4,Pe.R),ie.write_shift(-4,Pe.C),Pe.clsid)ie.write_shift(16,Pe.clsid,"hex");else for(be=0;be<4;++be)ie.write_shift(4,0);ie.write_shift(4,Pe.state||0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,Pe.start),ie.write_shift(4,Pe.size),ie.write_shift(4,0)}for(Z=1;Z<U.FileIndex.length;++Z)if(Pe=U.FileIndex[Z],Pe.size>=4096)if(ie.l=Pe.start+1<<9,br&&Buffer.isBuffer(Pe.content))Pe.content.copy(ie,ie.l,0,Pe.size),ie.l+=Pe.size+511&-512;else{for(be=0;be<Pe.size;++be)ie.write_shift(1,Pe.content[be]);for(;be&511;++be)ie.write_shift(1,0)}for(Z=1;Z<U.FileIndex.length;++Z)if(Pe=U.FileIndex[Z],Pe.size>0&&Pe.size<4096)if(br&&Buffer.isBuffer(Pe.content))Pe.content.copy(ie,ie.l,0,Pe.size),ie.l+=Pe.size+63&-64;else{for(be=0;be<Pe.size;++be)ie.write_shift(1,Pe.content[be]);for(;be&63;++be)ie.write_shift(1,0)}if(br)ie.l=ie.length;else for(;ie.l<ie.length;)ie.write_shift(1,0);return ie}function D(U,ne){var J=U.FullPaths.map(function(be){return be.toUpperCase()}),te=J.map(function(be){var Ce=be.split("/");return Ce[Ce.length-(be.slice(-1)=="/"?2:1)]}),ie=!1;ne.charCodeAt(0)===47?(ie=!0,ne=J[0].slice(0,-1)+ne):ie=ne.indexOf("/")!==-1;var Z=ne.toUpperCase(),_e=ie===!0?J.indexOf(Z):te.indexOf(Z);if(_e!==-1)return U.FileIndex[_e];var ke=!Z.match(Ij);for(Z=Z.replace(Bg,""),ke&&(Z=Z.replace(Ij,"!")),_e=0;_e<J.length;++_e)if((ke?J[_e].replace(Ij,"!"):J[_e]).replace(Bg,"")==Z||(ke?te[_e].replace(Ij,"!"):te[_e]).replace(Bg,"")==Z)return U.FileIndex[_e];return null}var I=64,W=-2,H="d0cf11e0a1b11ae1",F=[208,207,17,224,161,177,26,225],T="00000000000000000000000000000000",k={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:W,FREESECT:-1,HEADER_SIGNATURE:H,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:T,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function M(U,ne,J){d();var te=P(U,J);c.writeFileSync(ne,te)}function O(U){for(var ne=new Array(U.length),J=0;J<U.length;++J)ne[J]=String.fromCharCode(U[J]);return ne.join("")}function K(U,ne){var J=P(U,ne);switch(ne&&ne.type||"buffer"){case"file":return d(),c.writeFileSync(ne.filename,J),J;case"binary":return typeof J=="string"?J:O(J);case"base64":return xv(typeof J=="string"?J:O(J));case"buffer":if(br)return Buffer.isBuffer(J)?J:hd(J);case"array":return typeof J=="string"?Xo(J):J}return J}var se;function R(U){try{var ne=U.InflateRaw,J=new ne;if(J._processChunk(new Uint8Array([3,0]),J._finishFlushFlag),J.bytesRead)se=U;else throw new Error("zlib does not expose bytesRead")}catch(te){console.error("cannot use native zlib: "+(te.message||te))}}function V(U,ne){if(!se)return jt(U,ne);var J=se.InflateRaw,te=new J,ie=te._processChunk(U.slice(U.l),te._finishFlushFlag);return U.l+=te.bytesRead,ie}function L(U){return se?se.deflateRawSync(U):Ge(U)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],me=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function B(U){var ne=(U<<1|U<<11)&139536|(U<<5|U<<15)&558144;return(ne>>16|ne>>8|ne)&255}for(var Y=typeof Uint8Array<"u",oe=Y?new Uint8Array(256):[],Ne=0;Ne<256;++Ne)oe[Ne]=B(Ne);function ue(U,ne){var J=oe[U&255];return ne<=8?J>>>8-ne:(J=J<<8|oe[U>>8&255],ne<=16?J>>>16-ne:(J=J<<8|oe[U>>16&255],J>>>24-ne))}function ve(U,ne){var J=ne&7,te=ne>>>3;return(U[te]|(J<=6?0:U[te+1]<<8))>>>J&3}function xe(U,ne){var J=ne&7,te=ne>>>3;return(U[te]|(J<=5?0:U[te+1]<<8))>>>J&7}function Ee(U,ne){var J=ne&7,te=ne>>>3;return(U[te]|(J<=4?0:U[te+1]<<8))>>>J&15}function Fe(U,ne){var J=ne&7,te=ne>>>3;return(U[te]|(J<=3?0:U[te+1]<<8))>>>J&31}function Oe(U,ne){var J=ne&7,te=ne>>>3;return(U[te]|(J<=1?0:U[te+1]<<8))>>>J&127}function ae(U,ne,J){var te=ne&7,ie=ne>>>3,Z=(1<<J)-1,_e=U[ie]>>>te;return J<8-te||(_e|=U[ie+1]<<8-te,J<16-te)||(_e|=U[ie+2]<<16-te,J<24-te)||(_e|=U[ie+3]<<24-te),_e&Z}function he(U,ne,J){var te=ne&7,ie=ne>>>3;return te<=5?U[ie]|=(J&7)<<te:(U[ie]|=J<<te&255,U[ie+1]=(J&7)>>8-te),ne+3}function ce(U,ne,J){var te=ne&7,ie=ne>>>3;return J=(J&1)<<te,U[ie]|=J,ne+1}function je(U,ne,J){var te=ne&7,ie=ne>>>3;return J<<=te,U[ie]|=J&255,J>>>=8,U[ie+1]=J,ne+8}function Le(U,ne,J){var te=ne&7,ie=ne>>>3;return J<<=te,U[ie]|=J&255,J>>>=8,U[ie+1]=J&255,U[ie+2]=J>>>8,ne+16}function Ie(U,ne){var J=U.length,te=2*J>ne?2*J:ne+5,ie=0;if(J>=ne)return U;if(br){var Z=IL(te);if(U.copy)U.copy(Z);else for(;ie<U.length;++ie)Z[ie]=U[ie];return Z}else if(Y){var _e=new Uint8Array(te);if(_e.set)_e.set(U);else for(;ie<J;++ie)_e[ie]=U[ie];return _e}return U.length=te,U}function de(U){for(var ne=new Array(U),J=0;J<U;++J)ne[J]=0;return ne}function Re(U,ne,J){var te=1,ie=0,Z=0,_e=0,ke=0,be=U.length,Ce=Y?new Uint16Array(32):de(32);for(Z=0;Z<32;++Z)Ce[Z]=0;for(Z=be;Z<J;++Z)U[Z]=0;be=U.length;var Pe=Y?new Uint16Array(be):de(be);for(Z=0;Z<be;++Z)Ce[ie=U[Z]]++,te<ie&&(te=ie),Pe[Z]=0;for(Ce[0]=0,Z=1;Z<=te;++Z)Ce[Z+16]=ke=ke+Ce[Z-1]<<1;for(Z=0;Z<be;++Z)ke=U[Z],ke!=0&&(Pe[Z]=Ce[ke+16]++);var qe=0;for(Z=0;Z<be;++Z)if(qe=U[Z],qe!=0)for(ke=ue(Pe[Z],te)>>te-qe,_e=(1<<te+4-qe)-1;_e>=0;--_e)ne[ke|_e<<qe]=qe&15|Z<<4;return te}var it=Y?new Uint16Array(512):de(512),bt=Y?new Uint16Array(32):de(32);if(!Y){for(var Qe=0;Qe<512;++Qe)it[Qe]=0;for(Qe=0;Qe<32;++Qe)bt[Qe]=0}(function(){for(var U=[],ne=0;ne<32;ne++)U.push(5);Re(U,bt,32);var J=[];for(ne=0;ne<=143;ne++)J.push(8);for(;ne<=255;ne++)J.push(9);for(;ne<=279;ne++)J.push(7);for(;ne<=287;ne++)J.push(8);Re(J,it,288)})();var ye=function(){for(var ne=Y?new Uint8Array(32768):[],J=0,te=0;J<me.length-1;++J)for(;te<me[J+1];++te)ne[te]=J;for(;te<32768;++te)ne[te]=29;var ie=Y?new Uint8Array(259):[];for(J=0,te=0;J<le.length-1;++J)for(;te<le[J+1];++te)ie[te]=J;function Z(ke,be){for(var Ce=0;Ce<ke.length;){var Pe=Math.min(65535,ke.length-Ce),qe=Ce+Pe==ke.length;for(be.write_shift(1,+qe),be.write_shift(2,Pe),be.write_shift(2,~Pe&65535);Pe-- >0;)be[be.l++]=ke[Ce++]}return be.l}function _e(ke,be){for(var Ce=0,Pe=0,qe=Y?new Uint16Array(32768):[];Pe<ke.length;){var ot=Math.min(65535,ke.length-Pe);if(ot<10){for(Ce=he(be,Ce,+(Pe+ot==ke.length)),Ce&7&&(Ce+=8-(Ce&7)),be.l=Ce/8|0,be.write_shift(2,ot),be.write_shift(2,~ot&65535);ot-- >0;)be[be.l++]=ke[Pe++];Ce=be.l*8;continue}Ce=he(be,Ce,+(Pe+ot==ke.length)+2);for(var xt=0;ot-- >0;){var Ze=ke[Pe];xt=(xt<<5^Ze)&32767;var dt=-1,zt=0;if((dt=qe[xt])&&(dt|=Pe&-32768,dt>Pe&&(dt-=32768),dt<Pe))for(;ke[dt+zt]==ke[Pe+zt]&&zt<250;)++zt;if(zt>2){Ze=ie[zt],Ze<=22?Ce=je(be,Ce,oe[Ze+1]>>1)-1:(je(be,Ce,3),Ce+=5,je(be,Ce,oe[Ze-23]>>5),Ce+=3);var jn=Ze<8?0:Ze-4>>2;jn>0&&(Le(be,Ce,zt-le[Ze]),Ce+=jn),Ze=ne[Pe-dt],Ce=je(be,Ce,oe[Ze]>>3),Ce-=3;var bn=Ze<4?0:Ze-2>>1;bn>0&&(Le(be,Ce,Pe-dt-me[Ze]),Ce+=bn);for(var ta=0;ta<zt;++ta)qe[xt]=Pe&32767,xt=(xt<<5^ke[Pe])&32767,++Pe;ot-=zt-1}else Ze<=143?Ze=Ze+48:Ce=ce(be,Ce,1),Ce=je(be,Ce,oe[Ze]),qe[xt]=Pe&32767,++Pe}Ce=je(be,Ce,0)-1}return be.l=(Ce+7)/8|0,be.l}return function(be,Ce){return be.length<8?Z(be,Ce):_e(be,Ce)}}();function Ge(U){var ne=$e(50+Math.floor(U.length*1.1)),J=ye(U,ne);return ne.slice(0,J)}var At=Y?new Uint16Array(32768):de(32768),Pt=Y?new Uint16Array(32768):de(32768),fr=Y?new Uint16Array(128):de(128),jr=1,Pn=1;function gr(U,ne){var J=Fe(U,ne)+257;ne+=5;var te=Fe(U,ne)+1;ne+=5;var ie=Ee(U,ne)+4;ne+=4;for(var Z=0,_e=Y?new Uint8Array(19):de(19),ke=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],be=1,Ce=Y?new Uint8Array(8):de(8),Pe=Y?new Uint8Array(8):de(8),qe=_e.length,ot=0;ot<ie;++ot)_e[G[ot]]=Z=xe(U,ne),be<Z&&(be=Z),Ce[Z]++,ne+=3;var xt=0;for(Ce[0]=0,ot=1;ot<=be;++ot)Pe[ot]=xt=xt+Ce[ot-1]<<1;for(ot=0;ot<qe;++ot)(xt=_e[ot])!=0&&(ke[ot]=Pe[xt]++);var Ze=0;for(ot=0;ot<qe;++ot)if(Ze=_e[ot],Ze!=0){xt=oe[ke[ot]]>>8-Ze;for(var dt=(1<<7-Ze)-1;dt>=0;--dt)fr[xt|dt<<Ze]=Ze&7|ot<<3}var zt=[];for(be=1;zt.length<J+te;)switch(xt=fr[Oe(U,ne)],ne+=xt&7,xt>>>=3){case 16:for(Z=3+ve(U,ne),ne+=2,xt=zt[zt.length-1];Z-- >0;)zt.push(xt);break;case 17:for(Z=3+xe(U,ne),ne+=3;Z-- >0;)zt.push(0);break;case 18:for(Z=11+Oe(U,ne),ne+=7;Z-- >0;)zt.push(0);break;default:zt.push(xt),be<xt&&(be=xt);break}var jn=zt.slice(0,J),bn=zt.slice(J);for(ot=J;ot<286;++ot)jn[ot]=0;for(ot=te;ot<30;++ot)bn[ot]=0;return jr=Re(jn,At,286),Pn=Re(bn,Pt,30),ne}function kr(U,ne){if(U[0]==3&&!(U[1]&3))return[tm(ne),2];for(var J=0,te=0,ie=IL(ne||1<<18),Z=0,_e=ie.length>>>0,ke=0,be=0;!(te&1);){if(te=xe(U,J),J+=3,te>>>1)te>>1==1?(ke=9,be=5):(J=gr(U,J),ke=jr,be=Pn);else{J&7&&(J+=8-(J&7));var Ce=U[J>>>3]|U[(J>>>3)+1]<<8;if(J+=32,Ce>0)for(!ne&&_e<Z+Ce&&(ie=Ie(ie,Z+Ce),_e=ie.length);Ce-- >0;)ie[Z++]=U[J>>>3],J+=8;continue}for(;;){!ne&&_e<Z+32767&&(ie=Ie(ie,Z+32767),_e=ie.length);var Pe=ae(U,J,ke),qe=te>>>1==1?it[Pe]:At[Pe];if(J+=qe&15,qe>>>=4,!(qe>>>8&255))ie[Z++]=qe;else{if(qe==256)break;qe-=257;var ot=qe<8?0:qe-4>>2;ot>5&&(ot=0);var xt=Z+le[qe];ot>0&&(xt+=ae(U,J,ot),J+=ot),Pe=ae(U,J,be),qe=te>>>1==1?bt[Pe]:Pt[Pe],J+=qe&15,qe>>>=4;var Ze=qe<4?0:qe-2>>1,dt=me[qe];for(Ze>0&&(dt+=ae(U,J,Ze),J+=Ze),!ne&&_e<xt&&(ie=Ie(ie,xt+100),_e=ie.length);Z<xt;)ie[Z]=ie[Z-dt],++Z}}}return ne?[ie,J+7>>>3]:[ie.slice(0,Z),J+7>>>3]}function jt(U,ne){var J=U.slice(U.l||0),te=kr(J,ne);return U.l+=te[1],te[0]}function Mt(U,ne){if(U)typeof console<"u"&&console.error(ne);else throw new Error(ne)}function Jt(U,ne){var J=U;Ci(J,0);var te=[],ie=[],Z={FileIndex:te,FullPaths:ie};S(Z,{root:ne.root});for(var _e=J.length-4;(J[_e]!=80||J[_e+1]!=75||J[_e+2]!=5||J[_e+3]!=6)&&_e>=0;)--_e;J.l=_e+4,J.l+=4;var ke=J.read_shift(2);J.l+=6;var be=J.read_shift(4);for(J.l=be,_e=0;_e<ke;++_e){J.l+=20;var Ce=J.read_shift(4),Pe=J.read_shift(4),qe=J.read_shift(2),ot=J.read_shift(2),xt=J.read_shift(2);J.l+=8;var Ze=J.read_shift(4),dt=l(J.slice(J.l+qe,J.l+qe+ot));J.l+=qe+ot+xt;var zt=J.l;J.l=Ze+4,Bn(J,Ce,Pe,Z,dt),J.l=zt}return Z}function Bn(U,ne,J,te,ie){U.l+=2;var Z=U.read_shift(2),_e=U.read_shift(2),ke=o(U);if(Z&8257)throw new Error("Unsupported ZIP encryption");for(var be=U.read_shift(4),Ce=U.read_shift(4),Pe=U.read_shift(4),qe=U.read_shift(2),ot=U.read_shift(2),xt="",Ze=0;Ze<qe;++Ze)xt+=String.fromCharCode(U[U.l++]);if(ot){var dt=l(U.slice(U.l,U.l+ot));(dt[21589]||{}).mt&&(ke=dt[21589].mt),((ie||{})[21589]||{}).mt&&(ke=ie[21589].mt)}U.l+=ot;var zt=U.slice(U.l,U.l+Ce);switch(_e){case 8:zt=V(U,Pe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+_e)}var jn=!1;Z&8&&(be=U.read_shift(4),be==134695760&&(be=U.read_shift(4),jn=!0),Ce=U.read_shift(4),Pe=U.read_shift(4)),Ce!=ne&&Mt(jn,"Bad compressed size: "+ne+" != "+Ce),Pe!=J&&Mt(jn,"Bad uncompressed size: "+J+" != "+Pe),yx(te,xt,zt,{unsafe:!0,mt:ke})}function ls(U,ne){var J=ne||{},te=[],ie=[],Z=$e(1),_e=J.compression?8:0,ke=0,be=0,Ce=0,Pe=0,qe=0,ot=U.FullPaths[0],xt=ot,Ze=U.FileIndex[0],dt=[],zt=0;for(be=1;be<U.FullPaths.length;++be)if(xt=U.FullPaths[be].slice(ot.length),Ze=U.FileIndex[be],!(!Ze.size||!Ze.content||xt=="Sh33tJ5")){var jn=Pe,bn=$e(xt.length);for(Ce=0;Ce<xt.length;++Ce)bn.write_shift(1,xt.charCodeAt(Ce)&127);bn=bn.slice(0,bn.l),dt[qe]=RKe.buf(Ze.content,0);var ta=Ze.content;_e==8&&(ta=L(ta)),Z=$e(30),Z.write_shift(4,67324752),Z.write_shift(2,20),Z.write_shift(2,ke),Z.write_shift(2,_e),Ze.mt?i(Z,Ze.mt):Z.write_shift(4,0),Z.write_shift(-4,dt[qe]),Z.write_shift(4,ta.length),Z.write_shift(4,Ze.content.length),Z.write_shift(2,bn.length),Z.write_shift(2,0),Pe+=Z.length,te.push(Z),Pe+=bn.length,te.push(bn),Pe+=ta.length,te.push(ta),Z=$e(46),Z.write_shift(4,33639248),Z.write_shift(2,0),Z.write_shift(2,20),Z.write_shift(2,ke),Z.write_shift(2,_e),Z.write_shift(4,0),Z.write_shift(-4,dt[qe]),Z.write_shift(4,ta.length),Z.write_shift(4,Ze.content.length),Z.write_shift(2,bn.length),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(4,0),Z.write_shift(4,jn),zt+=Z.l,ie.push(Z),zt+=bn.length,ie.push(bn),++qe}return Z=$e(22),Z.write_shift(4,101010256),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,qe),Z.write_shift(2,qe),Z.write_shift(4,zt),Z.write_shift(4,Pe),Z.write_shift(2,0),Hs([Hs(te),Hs(ie),Z])}var $s={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function pd(U,ne){if(U.ctype)return U.ctype;var J=U.name||"",te=J.match(/\.([^\.]+)$/);return te&&$s[te[1]]||ne&&(te=(J=ne).match(/[\.\\]([^\.\\])+$/),te&&$s[te[1]])?$s[te[1]]:"application/octet-stream"}function Zi(U){for(var ne=xv(U),J=[],te=0;te<ne.length;te+=76)J.push(ne.slice(te,te+76));return J.join(`\r
`)+`\r
`}function bm(U){var ne=U.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ce){var Pe=Ce.charCodeAt(0).toString(16).toUpperCase();return"="+(Pe.length==1?"0"+Pe:Pe)});ne=ne.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ne.charAt(0)==`
`&&(ne="=0D"+ne.slice(1)),ne=ne.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var J=[],te=ne.split(`\r
`),ie=0;ie<te.length;++ie){var Z=te[ie];if(Z.length==0){J.push("");continue}for(var _e=0;_e<Z.length;){var ke=76,be=Z.slice(_e,_e+ke);be.charAt(ke-1)=="="?ke--:be.charAt(ke-2)=="="?ke-=2:be.charAt(ke-3)=="="&&(ke-=3),be=Z.slice(_e,_e+ke),_e+=ke,_e<Z.length&&(be+="="),J.push(be)}}return J.join(`\r
`)}function u_(U){for(var ne=[],J=0;J<U.length;++J){for(var te=U[J];J<=U.length&&te.charAt(te.length-1)=="=";)te=te.slice(0,te.length-1)+U[++J];ne.push(te)}for(var ie=0;ie<ne.length;++ie)ne[ie]=ne[ie].replace(/[=][0-9A-Fa-f]{2}/g,function(Z){return String.fromCharCode(parseInt(Z.slice(1),16))});return Xo(ne.join(`\r
`))}function f_(U,ne,J){for(var te="",ie="",Z="",_e,ke=0;ke<10;++ke){var be=ne[ke];if(!be||be.match(/^\s*$/))break;var Ce=be.match(/^(.*?):\s*([^\s].*)$/);if(Ce)switch(Ce[1].toLowerCase()){case"content-location":te=Ce[2].trim();break;case"content-type":Z=Ce[2].trim();break;case"content-transfer-encoding":ie=Ce[2].trim();break}}switch(++ke,ie.toLowerCase()){case"base64":_e=Xo(sd(ne.slice(ke).join("")));break;case"quoted-printable":_e=u_(ne.slice(ke));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ie)}var Pe=yx(U,te.slice(J.length),_e,{unsafe:!0});Z&&(Pe.ctype=Z)}function m_(U,ne){if(O(U.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var J=ne&&ne.root||"",te=(br&&Buffer.isBuffer(U)?U.toString("binary"):O(U)).split(`\r
`),ie=0,Z="";for(ie=0;ie<te.length;++ie)if(Z=te[ie],!!/^Content-Location:/i.test(Z)&&(Z=Z.slice(Z.indexOf("file")),J||(J=Z.slice(0,Z.lastIndexOf("/")+1)),Z.slice(0,J.length)!=J))for(;J.length>0&&(J=J.slice(0,J.length-1),J=J.slice(0,J.lastIndexOf("/")+1),Z.slice(0,J.length)!=J););var _e=(te[1]||"").match(/boundary="(.*?)"/);if(!_e)throw new Error("MAD cannot find boundary");var ke="--"+(_e[1]||""),be=[],Ce=[],Pe={FileIndex:be,FullPaths:Ce};S(Pe);var qe,ot=0;for(ie=0;ie<te.length;++ie){var xt=te[ie];xt!==ke&&xt!==ke+"--"||(ot++&&f_(Pe,te.slice(qe,ie),J),qe=ie)}return Pe}function h_(U,ne){var J=ne||{},te=J.boundary||"SheetJS";te="------="+te;for(var ie=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+te.slice(2)+'"',"","",""],Z=U.FullPaths[0],_e=Z,ke=U.FileIndex[0],be=1;be<U.FullPaths.length;++be)if(_e=U.FullPaths[be].slice(Z.length),ke=U.FileIndex[be],!(!ke.size||!ke.content||_e=="Sh33tJ5")){_e=_e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(zt){return"_x"+zt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(zt){return"_u"+zt.charCodeAt(0).toString(16)+"_"});for(var Ce=ke.content,Pe=br&&Buffer.isBuffer(Ce)?Ce.toString("binary"):O(Ce),qe=0,ot=Math.min(1024,Pe.length),xt=0,Ze=0;Ze<=ot;++Ze)(xt=Pe.charCodeAt(Ze))>=32&&xt<128&&++qe;var dt=qe>=ot*4/5;ie.push(te),ie.push("Content-Location: "+(J.root||"file:///C:/SheetJS/")+_e),ie.push("Content-Transfer-Encoding: "+(dt?"quoted-printable":"base64")),ie.push("Content-Type: "+pd(ke,_e)),ie.push(""),ie.push(dt?bm(Pe):Zi(Pe))}return ie.push(te+`--\r
`),ie.join(`\r
`)}function p_(U){var ne={};return S(ne,U),ne}function yx(U,ne,J,te){var ie=te&&te.unsafe;ie||S(U);var Z=!ie&&Ur.find(U,ne);if(!Z){var _e=U.FullPaths[0];ne.slice(0,_e.length)==_e?_e=ne:(_e.slice(-1)!="/"&&(_e+="/"),_e=(_e+ne).replace("//","/")),Z={name:a(ne),type:2},U.FileIndex.push(Z),U.FullPaths.push(_e),ie||Ur.utils.cfb_gc(U)}return Z.content=J,Z.size=J?J.length:0,te&&(te.CLSID&&(Z.clsid=te.CLSID),te.mt&&(Z.mt=te.mt),te.ct&&(Z.ct=te.ct)),Z}function ky(U,ne){S(U);var J=Ur.find(U,ne);if(J){for(var te=0;te<U.FileIndex.length;++te)if(U.FileIndex[te]==J)return U.FileIndex.splice(te,1),U.FullPaths.splice(te,1),!0}return!1}function Ty(U,ne,J){S(U);var te=Ur.find(U,ne);if(te){for(var ie=0;ie<U.FileIndex.length;++ie)if(U.FileIndex[ie]==te)return U.FileIndex[ie].name=a(J),U.FullPaths[ie]=J,!0}return!1}function Me(U){E(U,!0)}return t.find=D,t.read=_,t.parse=u,t.write=K,t.writeFile=M,t.utils={cfb_new:p_,cfb_add:yx,cfb_del:ky,cfb_mov:Ty,cfb_gc:Me,ReadShift:Vg,CheckField:LJ,prep_blob:Ci,bconcat:Hs,use_zlib:R,_deflateRaw:Ge,_inflateRaw:jt,consts:k},t}();function MKe(e){return typeof e=="string"?n_(e):Array.isArray(e)?lKe(e):e}function Sy(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=n_(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var s=r=="utf8"?vv(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(s,e);if(typeof Blob<"u"){var a=new Blob([MKe(s)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=_y(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Js(e){for(var t=Object.keys(e),r=[],s=0;s<t.length;++s)Object.prototype.hasOwnProperty.call(e,t[s])&&r.push(t[s]);return r}function VL(e,t){for(var r=[],s=Js(e),a=0;a!==s.length;++a)r[e[s[a]][t]]==null&&(r[e[s[a]][t]]=s[a]);return r}function oD(e){for(var t=[],r=Js(e),s=0;s!==r.length;++s)t[e[r[s]]]=r[s];return t}function i_(e){for(var t=[],r=Js(e),s=0;s!==r.length;++s)t[e[r[s]]]=parseInt(r[s],10);return t}function FKe(e){for(var t=[],r=Js(e),s=0;s!==r.length;++s)t[e[r[s]]]==null&&(t[e[r[s]]]=[]),t[e[r[s]]].push(r[s]);return t}var Lw=new Date(1899,11,30,0,0,0);function ui(e,t){var r=e.getTime(),s=Lw.getTime()+(e.getTimezoneOffset()-Lw.getTimezoneOffset())*6e4;return(r-s)/(24*60*60*1e3)}var wJ=new Date,$Ke=Lw.getTime()+(wJ.getTimezoneOffset()-Lw.getTimezoneOffset())*6e4,zL=wJ.getTimezoneOffset();function NJ(e){var t=new Date;return t.setTime(e*24*60*60*1e3+$Ke),t.getTimezoneOffset()!==zL&&t.setTime(t.getTime()+(t.getTimezoneOffset()-zL)*6e4),t}var WL=new Date("2017-02-19T19:06:09.000Z"),_J=isNaN(WL.getFullYear())?new Date("2/19/17"):WL,LKe=_J.getFullYear()==2017;function Da(e,t){var r=new Date(e);if(LKe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(_J.getFullYear()==1917&&!isNaN(r.getFullYear())){var s=r.getFullYear();return e.indexOf(""+s)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function o_(e,t){if(br&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var s=[],a=0;a!=e.length;++a)s.push(String.fromCharCode(e[a]));return s.join("")}function fi(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=fi(e[r]));return t}function Mn(e,t){for(var r="";r.length<t;)r+=e;return r}function Bc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,s=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(s))||(s=s.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(s)))?t/r:t}var BKe=["january","february","march","april","may","june","july","august","september","october","november","december"];function gv(e){var t=new Date(e),r=new Date(NaN),s=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&BKe.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return s<0||s>8099?r:(a>0||i>1)&&s!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Zt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var s;return br?s=hd(r):s=cKe(r),Ur.utils.cfb_add(e,t,s)}Ur.utils.cfb_add(e,t,r)}else e.file(t,r)}function lD(){return Ur.utils.cfb_new()}var os=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,UKe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},cD=oD(UKe),dD=/[&<>'"]/g,VKe=/[\u0000-\u0008\u000b-\u001f]/g;function Rr(e){var t=e+"";return t.replace(dD,function(r){return cD[r]}).replace(VKe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function HL(e){return Rr(e).replace(/ /g,"_x0020_")}var SJ=/[\u0000-\u001f]/g;function zKe(e){var t=e+"";return t.replace(dD,function(r){return cD[r]}).replace(/\n/g,"<br/>").replace(SJ,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function WKe(e){var t=e+"";return t.replace(dD,function(r){return cD[r]}).replace(SJ,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function HKe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function qKe(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function vC(e){for(var t="",r=0,s=0,a=0,i=0,o=0,l=0;r<e.length;){if(s=e.charCodeAt(r++),s<128){t+=String.fromCharCode(s);continue}if(a=e.charCodeAt(r++),s>191&&s<224){o=(s&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),s<240){t+=String.fromCharCode((s&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((s&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function qL(e){var t=tm(2*e.length),r,s,a=1,i=0,o=0,l;for(s=0;s<e.length;s+=a)a=1,(l=e.charCodeAt(s))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(s+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(s+1)&63)*64+(e.charCodeAt(s+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(s+1)&63)*4096+(e.charCodeAt(s+2)&63)*64+(e.charCodeAt(s+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function GL(e){return hd(e,"binary").toString("utf8")}var Mj="foo bar baz",Ug=br&&(GL(Mj)==vC(Mj)&&GL||qL(Mj)==vC(Mj)&&qL)||vC,vv=br?function(e){return hd(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,s=0,a=0;r<e.length;)switch(s=e.charCodeAt(r++),!0){case s<128:t.push(String.fromCharCode(s));break;case s<2048:t.push(String.fromCharCode(192+(s>>6))),t.push(String.fromCharCode(128+(s&63)));break;case(s>=55296&&s<57344):s-=55296,a=e.charCodeAt(r++)-56320+(s<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(s>>12))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)))}return t.join("")},GKe=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var s=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)s=s.replace(e[a][0],e[a][1]);return s}}(),CJ=/(^\s|\s$|\n)/;function qs(e,t){return"<"+e+(t.match(CJ)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function yv(e){return Js(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function nt(e,t,r){return"<"+e+(r!=null?yv(r):"")+(t!=null?(t.match(CJ)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function wP(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function KKe(e,t){switch(typeof e){case"string":var r=nt("vt:lpwstr",Rr(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return nt((e|0)==e?"vt:i4":"vt:r8",Rr(String(e)));case"boolean":return nt("vt:bool",e?"true":"false")}if(e instanceof Date)return nt("vt:filetime",wP(e));throw new Error("Unable to serialize "+e)}var Es={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},hx=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ei={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function YKe(e,t){for(var r=1-2*(e[t+7]>>>7),s=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return s==2047?a==0?r*(1/0):NaN:(s==0?s=-1022:(s-=1023,a+=Math.pow(2,52)),r*Math.pow(2,s-52)*a)}function XKe(e,t,r){var s=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=s?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|s}var KL=function(e){for(var t=[],r=10240,s=0;s<e[0].length;++s)if(e[0][s])for(var a=0,i=e[0][s].length;a<i;a+=r)t.push.apply(t,e[0][s].slice(a,a+r));return t},YL=br?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:hd(t)})):KL(e)}:KL,XL=function(e,t,r){for(var s=[],a=t;a<r;a+=2)s.push(String.fromCharCode(fg(e,a)));return s.join("").replace(Bg,"")},uD=br?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Bg,""):XL(e,t,r)}:XL,QL=function(e,t,r){for(var s=[],a=t;a<t+r;++a)s.push(("0"+e[a].toString(16)).slice(-2));return s.join("")},AJ=br?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):QL(e,t,r)}:QL,ZL=function(e,t,r){for(var s=[],a=t;a<r;a++)s.push(String.fromCharCode(Bm(e,a)));return s.join("")},Cy=br?function(t,r,s){return Buffer.isBuffer(t)?t.toString("utf8",r,s):ZL(t,r,s)}:ZL,EJ=function(e,t){var r=Pi(e,t);return r>0?Cy(e,t+4,t+4+r-1):""},PJ=EJ,kJ=function(e,t){var r=Pi(e,t);return r>0?Cy(e,t+4,t+4+r-1):""},TJ=kJ,OJ=function(e,t){var r=2*Pi(e,t);return r>0?Cy(e,t+4,t+4+r-1):""},DJ=OJ,IJ=function(t,r){var s=Pi(t,r);return s>0?uD(t,r+4,r+4+s):""},RJ=IJ,MJ=function(e,t){var r=Pi(e,t);return r>0?Cy(e,t+4,t+4+r):""},FJ=MJ,$J=function(e,t){return YKe(e,t)},Bw=$J,fD=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};br&&(PJ=function(t,r){if(!Buffer.isBuffer(t))return EJ(t,r);var s=t.readUInt32LE(r);return s>0?t.toString("utf8",r+4,r+4+s-1):""},TJ=function(t,r){if(!Buffer.isBuffer(t))return kJ(t,r);var s=t.readUInt32LE(r);return s>0?t.toString("utf8",r+4,r+4+s-1):""},DJ=function(t,r){if(!Buffer.isBuffer(t))return OJ(t,r);var s=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+s-1)},RJ=function(t,r){if(!Buffer.isBuffer(t))return IJ(t,r);var s=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+s)},FJ=function(t,r){if(!Buffer.isBuffer(t))return MJ(t,r);var s=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+s)},Bw=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):$J(t,r)},fD=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Bm=function(e,t){return e[t]},fg=function(e,t){return e[t+1]*256+e[t]},QKe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Pi=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},tf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},ZKe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Vg(e,t){var r="",s,a,i=[],o,l,c,d;switch(t){case"dbcs":if(d=this.l,br&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(fg(this,d)),d+=2;e*=2;break;case"utf8":r=Cy(this,this.l,this.l+e);break;case"utf16le":e*=2,r=uD(this,this.l,this.l+e);break;case"wstr":return Vg.call(this,e,"dbcs");case"lpstr-ansi":r=PJ(this,this.l),e=4+Pi(this,this.l);break;case"lpstr-cp":r=TJ(this,this.l),e=4+Pi(this,this.l);break;case"lpwstr":r=DJ(this,this.l),e=4+2*Pi(this,this.l);break;case"lpp4":e=4+Pi(this,this.l),r=RJ(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Pi(this,this.l),r=FJ(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Bm(this,this.l+e++))!==0;)i.push(Dj(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=fg(this,this.l+e))!==0;)i.push(Dj(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Bm(this,d),this.l=d+1,l=Vg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Dj(fg(this,d))),d+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Bm(this,d),this.l=d+1,l=Vg.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Dj(Bm(this,d))),d+=1}r=i.join("");break;default:switch(e){case 1:return s=Bm(this,this.l),this.l++,s;case 2:return s=(t==="i"?QKe:fg)(this,this.l),this.l+=2,s;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(s=(e>0?tf:ZKe)(this,this.l),this.l+=4,s):(a=Pi(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Bw(this,this.l):a=Bw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=AJ(this,this.l,e);break}}return this.l+=e,r}var JKe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},eYe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},tYe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function rYe(e,t,r){var s=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)tYe(this,t.charCodeAt(a),this.l+2*a);s=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;s=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:s=1,this[this.l]=t&255;break;case 2:s=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:s=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:s=4,JKe(this,t,this.l);break;case 8:if(s=8,r==="f"){XKe(this,t,this.l);break}case 16:break;case-4:s=4,eYe(this,t,this.l);break}return this.l+=s,this}function LJ(e,t){var r=AJ(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ci(e,t){e.l=t,e.read_shift=Vg,e.chk=LJ,e.write_shift=rYe}function rc(e,t){e.l+=t}function $e(e){var t=tm(e);return Ci(t,0),t}function ci(){var e=[],t=br?256:2048,r=function(d){var u=$e(d);return Ci(u,0),u},s=r(t),a=function(){s&&(s.length>s.l&&(s=s.slice(0,s.l),s.l=s.length),s.length>0&&e.push(s),s=null)},i=function(d){return s&&d<s.length-s.l?s:(a(),s=r(Math.max(d+1,t)))},o=function(){return a(),Hs(e)},l=function(d){a(),s=d,s.l==null&&(s.l=s.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function We(e,t,r,s){var a=+t,i;if(!isNaN(a)){s||(s=Qet[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,s>=128&&++i,s>=16384&&++i,s>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(s>=128)o.write_shift(1,(s&127)+128),s>>=7;else{o.write_shift(1,s);break}s>0&&fD(r)&&e.push(r)}}function zg(e,t,r){var s=fi(e);if(t.s?(s.cRel&&(s.c+=t.s.c),s.rRel&&(s.r+=t.s.r)):(s.cRel&&(s.c+=t.c),s.rRel&&(s.r+=t.r)),!r||r.biff<12){for(;s.c>=256;)s.c-=256;for(;s.r>=65536;)s.r-=65536}return s}function JL(e,t,r){var s=fi(e);return s.s=zg(s.s,t.s,r),s.e=zg(s.e,t.s,r),s}function Wg(e,t){if(e.cRel&&e.c<0)for(e=fi(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=fi(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Fr(e);return!e.cRel&&e.cRel!=null&&(r=aYe(r)),!e.rRel&&e.rRel!=null&&(r=nYe(r)),r}function yC(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ma(e.s.c)+":"+(e.e.cRel?"":"$")+ma(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Xs(e.s.r)+":"+(e.e.rRel?"":"$")+Xs(e.e.r):Wg(e.s,t.biff)+":"+Wg(e.e,t.biff)}function mD(e){return parseInt(sYe(e),10)-1}function Xs(e){return""+(e+1)}function nYe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function sYe(e){return e.replace(/\$(\d+)$/,"$1")}function hD(e){for(var t=iYe(e),r=0,s=0;s!==t.length;++s)r=26*r+t.charCodeAt(s)-64;return r-1}function ma(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function aYe(e){return e.replace(/^([A-Z])/,"$$$1")}function iYe(e){return e.replace(/^\$([A-Z])/,"$1")}function oYe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ps(e){for(var t=0,r=0,s=0;s<e.length;++s){var a=e.charCodeAt(s);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Fr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function qi(e){var t=e.indexOf(":");return t==-1?{s:Ps(e),e:Ps(e)}:{s:Ps(e.slice(0,t)),e:Ps(e.slice(t+1))}}function ns(e,t){return typeof t>"u"||typeof t=="number"?ns(e.s,e.e):(typeof e!="string"&&(e=Fr(e)),typeof t!="string"&&(t=Fr(t)),e==t?e:e+":"+t)}function dn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,s=0,a=0,i=e.length;for(r=0;s<i&&!((a=e.charCodeAt(s)-64)<1||a>26);++s)r=26*r+a;for(t.s.c=--r,r=0;s<i&&!((a=e.charCodeAt(s)-48)<0||a>9);++s)r=10*r+a;if(t.s.r=--r,s===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++s,r=0;s!=i&&!((a=e.charCodeAt(s)-64)<1||a>26);++s)r=26*r+a;for(t.e.c=--r,r=0;s!=i&&!((a=e.charCodeAt(s)-48)<0||a>9);++s)r=10*r+a;return t.e.r=--r,t}function e8(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=bu(e.z,r?ui(t):t)}catch{}try{return e.w=bu((e.XF||{}).numFmtId||(r?14:0),r?ui(t):t)}catch{return""+t}}function ad(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Ay[e.v]||e.v:t==null?e8(e,e.v):e8(e,t))}function xm(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",s={};return s[r]=e,{SheetNames:[r],Sheets:s}}function BJ(e,t,r){var s=r||{},a=e?Array.isArray(e):s.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&s.origin!=null){if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?Ps(s.origin):s.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=dn(i["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),o==-1&&(d.e.r=o=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[f].length;++m)if(!(typeof t[f][m]>"u")){var h={v:t[f][m]},x=o+f,p=l+m;if(d.s.r>x&&(d.s.r=x),d.s.c>p&&(d.s.c=p),d.e.r<x&&(d.e.r=x),d.e.c<p&&(d.e.c=p),t[f][m]&&typeof t[f][m]=="object"&&!Array.isArray(t[f][m])&&!(t[f][m]instanceof Date))h=t[f][m];else if(Array.isArray(h.v)&&(h.f=t[f][m][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(s.nullError)h.t="e",h.v=0;else if(s.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=s.dateNF||Fn[14],s.cellDates?(h.t="d",h.w=bu(h.z,ui(h.v))):(h.t="n",h.v=ui(h.v),h.w=bu(h.z,h.v))):h.t="s";if(a)i[x]||(i[x]=[]),i[x][p]&&i[x][p].z&&(h.z=i[x][p].z),i[x][p]=h;else{var g=Fr({c:p,r:x});i[g]&&i[g].z&&(h.z=i[g].z),i[g]=h}}}return d.s.c<1e7&&(i["!ref"]=ns(d)),i}function px(e,t){return BJ(null,e,t)}function lYe(e){return e.read_shift(4,"i")}function il(e,t){return t||(t=$e(4)),t.write_shift(4,e),t}function ha(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function ks(e,t){var r=!1;return t==null&&(r=!0,t=$e(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function cYe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function dYe(e,t){return t||(t=$e(4)),t.write_shift(2,0),t.write_shift(2,0),t}function pD(e,t){var r=e.l,s=e.read_shift(1),a=ha(e),i=[],o={t:a,h:a};if(s&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(cYe(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function uYe(e,t){var r=!1;return t==null&&(r=!0,t=$e(15+4*e.t.length)),t.write_shift(1,0),ks(e.t,t),r?t.slice(0,t.l):t}var fYe=pD;function mYe(e,t){var r=!1;return t==null&&(r=!0,t=$e(23+4*e.t.length)),t.write_shift(1,1),ks(e.t,t),t.write_shift(4,1),dYe({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function Do(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function gm(e,t){return t==null&&(t=$e(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function vm(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function ym(e,t){return t==null&&(t=$e(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var hYe=ha,UJ=ks;function xD(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Uw(e,t){var r=!1;return t==null&&(r=!0,t=$e(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var pYe=ha,NP=xD,gD=Uw;function VJ(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,s=t[0]&2;e.l+=4;var a=s===0?Bw([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):tf(t,0)>>2;return r?a/100:a}function zJ(e,t){t==null&&(t=$e(4));var r=0,s=0,a=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?s=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(s=1,r=1),s)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function WJ(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function xYe(e,t){return t||(t=$e(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var jm=WJ,xx=xYe;function gx(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function rm(e,t){return(t||$e(8)).write_shift(8,e,"f")}function gYe(e){var t={},r=e.read_shift(1),s=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,s){case 0:t.auto=1;break;case 1:t.index=a;var d=CYe[a];d&&(t.rgb=u8(d));break;case 2:t.rgb=u8([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Vw(e,t){if(t||(t=$e(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var s=e.rgb||"FFFFFF";typeof s=="number"&&(s=("000000"+s.toString(16)).slice(-6)),t.write_shift(1,parseInt(s.slice(0,2),16)),t.write_shift(1,parseInt(s.slice(2,4),16)),t.write_shift(1,parseInt(s.slice(4,6),16)),t.write_shift(1,255)}return t}function vYe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function yYe(e,t){t||(t=$e(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var HJ=2,Ni=3,Fj=11,zw=19,$j=64,jYe=65,bYe=71,wYe=4108,NYe=4126,zs=80,t8={1:{n:"CodePage",t:HJ},2:{n:"Category",t:zs},3:{n:"PresentationFormat",t:zs},4:{n:"ByteCount",t:Ni},5:{n:"LineCount",t:Ni},6:{n:"ParagraphCount",t:Ni},7:{n:"SlideCount",t:Ni},8:{n:"NoteCount",t:Ni},9:{n:"HiddenCount",t:Ni},10:{n:"MultimediaClipCount",t:Ni},11:{n:"ScaleCrop",t:Fj},12:{n:"HeadingPairs",t:wYe},13:{n:"TitlesOfParts",t:NYe},14:{n:"Manager",t:zs},15:{n:"Company",t:zs},16:{n:"LinksUpToDate",t:Fj},17:{n:"CharacterCount",t:Ni},19:{n:"SharedDoc",t:Fj},22:{n:"HyperlinksChanged",t:Fj},23:{n:"AppVersion",t:Ni,p:"version"},24:{n:"DigSig",t:jYe},26:{n:"ContentType",t:zs},27:{n:"ContentStatus",t:zs},28:{n:"Language",t:zs},29:{n:"Version",t:zs},255:{},2147483648:{n:"Locale",t:zw},2147483651:{n:"Behavior",t:zw},1919054434:{}},r8={1:{n:"CodePage",t:HJ},2:{n:"Title",t:zs},3:{n:"Subject",t:zs},4:{n:"Author",t:zs},5:{n:"Keywords",t:zs},6:{n:"Comments",t:zs},7:{n:"Template",t:zs},8:{n:"LastAuthor",t:zs},9:{n:"RevNumber",t:zs},10:{n:"EditTime",t:$j},11:{n:"LastPrinted",t:$j},12:{n:"CreatedDate",t:$j},13:{n:"ModifiedDate",t:$j},14:{n:"PageCount",t:Ni},15:{n:"WordCount",t:Ni},16:{n:"CharCount",t:Ni},17:{n:"Thumbnail",t:bYe},18:{n:"Application",t:zs},19:{n:"DocSecurity",t:Ni},255:{},2147483648:{n:"Locale",t:zw},2147483651:{n:"Behavior",t:zw},1919054434:{}};function _Ye(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var SYe=_Ye([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),CYe=fi(SYe),Ay={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},AYe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Lj={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function qJ(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function GJ(e,t){var r=FKe(AYe),s=[],a;s[s.length]=os,s[s.length]=nt("Types",null,{xmlns:Es.CT,"xmlns:xsd":Es.xsd,"xmlns:xsi":Es.xsi}),s=s.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return nt("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],s[s.length]=nt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Lj[c][t.bookType]||Lj[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(d){s[s.length]=nt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:Lj[c][t.bookType]||Lj[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(d){s[s.length]=nt("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),s.length>2&&(s[s.length]="</Types>",s[1]=s[1].replace("/>",">")),s.join("")}var vr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function KJ(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Sh(e){var t=[os,nt("Relationships",null,{xmlns:Es.RELS})];return Js(e["!id"]).forEach(function(r){t[t.length]=nt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Dr(e,t,r,s,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=s,a.Target=r,[vr.HLINK,vr.XPATH,vr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function EYe(e){var t=[os];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function n8(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function PYe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function kYe(e){var t=[os];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(n8(e[r][0],e[r][1])),t.push(PYe("",e[r][0]));return t.push(n8("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function YJ(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Rw.version+"</meta:generator></office:meta></office:document-meta>"}var Tf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function jC(e,t,r,s,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Rr(t),s[s.length]=r?nt(e,t,r):qs(e,t))}function XJ(e,t){var r=t||{},s=[os,nt("cp:coreProperties",null,{"xmlns:cp":Es.CORE_PROPS,"xmlns:dc":Es.dc,"xmlns:dcterms":Es.dcterms,"xmlns:dcmitype":Es.dcmitype,"xmlns:xsi":Es.xsi})],a={};if(!e&&!r.Props)return s.join("");e&&(e.CreatedDate!=null&&jC("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:wP(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a),e.ModifiedDate!=null&&jC("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:wP(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},s,a));for(var i=0;i!=Tf.length;++i){var o=Tf[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&jC(o[0],l,null,s,a)}return s.length>2&&(s[s.length]="</cp:coreProperties>",s[1]=s[1].replace("/>",">")),s.join("")}var Ch=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],QJ=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function ZJ(e){var t=[],r=nt;return e||(e={}),e.Application="SheetJS",t[t.length]=os,t[t.length]=nt("Properties",null,{xmlns:Es.EXT_PROPS,"xmlns:vt":Es.vt}),Ch.forEach(function(s){if(e[s[1]]!==void 0){var a;switch(s[2]){case"string":a=Rr(String(e[s[1]]));break;case"bool":a=e[s[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(s[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(s){return"<vt:lpstr>"+Rr(s)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function JJ(e){var t=[os,nt("Properties",null,{xmlns:Es.CUST_PROPS,"xmlns:vt":Es.vt})];if(!e)return t.join("");var r=1;return Js(e).forEach(function(a){++r,t[t.length]=nt("property",KKe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Rr(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var s8={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function TYe(e,t){var r=[];return Js(s8).map(function(s){for(var a=0;a<Tf.length;++a)if(Tf[a][1]==s)return Tf[a];for(a=0;a<Ch.length;++a)if(Ch[a][1]==s)return Ch[a];throw s}).forEach(function(s){if(e[s[1]]!=null){var a=t&&t.Props&&t.Props[s[1]]!=null?t.Props[s[1]]:e[s[1]];switch(s[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(qs(s8[s[1]]||s[1],a))}}),nt("DocumentProperties",r.join(""),{xmlns:Ei.o})}function OYe(e,t){var r=["Worksheets","SheetNames"],s="CustomDocumentProperties",a=[];return e&&Js(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<Tf.length;++o)if(i==Tf[o][1])return;for(o=0;o<Ch.length;++o)if(i==Ch[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(nt(HL(i),l,{"dt:dt":c}))}}),t&&Js(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(nt(HL(i),o,{"dt:dt":l}))}}),"<"+s+' xmlns="'+Ei.o+'">'+a.join("")+"</"+s+">"}function DYe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,s=r%Math.pow(2,32),a=(r-s)/Math.pow(2,32);s*=1e7,a*=1e7;var i=s/Math.pow(2,32)|0;i>0&&(s=s%Math.pow(2,32),a+=i);var o=$e(8);return o.write_shift(4,s),o.write_shift(4,a),o}function a8(e,t){var r=$e(4),s=$e(4);switch(r.write_shift(4,e==80?31:e),e){case 3:s.write_shift(-4,t);break;case 5:s=$e(8),s.write_shift(8,t,"f");break;case 11:s.write_shift(4,t?1:0);break;case 64:s=DYe(t);break;case 31:case 80:for(s=$e(4+2*(t.length+1)+(t.length%2?0:2)),s.write_shift(4,t.length+1),s.write_shift(0,t,"dbcs");s.l!=s.length;)s.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Hs([r,s])}var eee=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function IYe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function i8(e,t,r){var s=$e(8),a=[],i=[],o=8,l=0,c=$e(8),d=$e(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),i.push(c),a.push(d),o+=8+c.length,!t){d=$e(8),d.write_shift(4,0),a.unshift(d);var u=[$e(4)];for(u[0].write_shift(4,e.length),l=0;l<e.length;++l){var f=e[l][0];for(c=$e(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=Hs(u),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(eee.indexOf(e[l][0])>-1||QJ.indexOf(e[l][0])>-1)&&e[l][1]!=null){var m=e[l][1],h=0;if(t){h=+t[e[l][0]];var x=r[h];if(x.p=="version"&&typeof m=="string"){var p=m.split(".");m=(+p[0]<<16)+(+p[1]||0)}c=a8(x.t,m)}else{var g=IYe(m);g==-1&&(g=31,m=String(m)),c=a8(g,m)}i.push(c),d=$e(8),d.write_shift(4,t?h:2+l),a.push(d),o+=8+c.length}var j=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,j),j+=i[l].length;return s.write_shift(4,o),s.write_shift(4,i.length),Hs([s].concat(a).concat(i))}function o8(e,t,r,s,a,i){var o=$e(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Ur.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=i8(e,r,s);if(l.push(c),a){var d=i8(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(d)}return Hs(l)}function RYe(e,t){t||(t=$e(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function MYe(e,t){return e.read_shift(t)===1}function Ea(e,t){return t||(t=$e(2)),t.write_shift(2,+!!e),t}function tee(e){return e.read_shift(2,"u")}function lo(e,t){return t||(t=$e(2)),t.write_shift(2,e),t}function ree(e,t,r){return r||(r=$e(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function nee(e,t,r){var s=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=s?e.read_shift(s,a):"";return o}function FYe(e){var t=e.t||"",r=$e(3);r.write_shift(2,t.length),r.write_shift(1,1);var s=$e(2*t.length);s.write_shift(2*t.length,t,"utf16le");var a=[r,s];return Hs(a)}function $Ye(e,t,r){var s;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?s=e.read_shift(t,"sbcs-cont"):s=e.read_shift(t,"dbcs-cont"),s}function LYe(e,t,r){var s=e.read_shift(r&&r.biff==2?1:2);return s===0?(e.l++,""):$Ye(e,s,r)}function BYe(e,t,r){if(r.biff>5)return LYe(e,t,r);var s=e.read_shift(1);return s===0?(e.l++,""):e.read_shift(s,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function see(e,t,r){return r||(r=$e(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function l8(e,t){t||(t=$e(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function UYe(e){var t=$e(512),r=0,s=e.Target;s.slice(0,7)=="file://"&&(s=s.slice(7));var a=s.indexOf("#"),i=a>-1?31:23;switch(s.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)s=s.slice(1),l8(s,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?s.slice(0,a):s;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&l8(a>-1?s.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;s.slice(c*3,c*3+3)=="../"||s.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,s.length-3*c+1),r=0;r<s.length-3*c;++r)t.write_shift(1,s.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function nm(e,t,r,s){return s||(s=$e(6)),s.write_shift(2,e),s.write_shift(2,t),s.write_shift(2,r||0),s}function VYe(e,t,r){var s=r.biff>8?4:2,a=e.read_shift(s),i=e.read_shift(s,"i"),o=e.read_shift(s,"i");return[a,i,o]}function zYe(e){var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2);return{s:{c:s,r:t},e:{c:a,r}}}function aee(e,t){return t||(t=$e(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function vD(e,t,r){var s=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":s=1280,a=8;break;case"biff4":s=4,a=6;break;case"biff3":s=3,a=6;break;case"biff2":s=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=$e(a);return i.write_shift(2,s),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function WYe(e,t){var r=!t||t.biff==8,s=$e(r?112:54);for(s.write_shift(t.biff==8?2:1,7),r&&s.write_shift(1,0),s.write_shift(4,859007059),s.write_shift(4,5458548|(r?0:536870912));s.l<s.length;)s.write_shift(1,r?0:32);return s}function HYe(e,t){var r=!t||t.biff>=8?2:1,s=$e(8+r*e.name.length);s.write_shift(4,e.pos),s.write_shift(1,e.hs||0),s.write_shift(1,e.dt),s.write_shift(1,e.name.length),t.biff>=8&&s.write_shift(1,1),s.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=s.slice(0,s.l);return a.l=s.l,a}function qYe(e,t){var r=$e(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var s=[],a=0;a<e.length;++a)s[a]=FYe(e[a]);var i=Hs([r].concat(s));return i.parts=[r.length].concat(s.map(function(o){return o.length})),i}function GYe(){var e=$e(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function KYe(e){var t=$e(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function YYe(e,t){var r=e.name||"Arial",s=t&&t.biff==5,a=s?15+r.length:16+2*r.length,i=$e(a);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),s||i.write_shift(1,1),i.write_shift((s?1:2)*r.length,r,s?"sbcs":"utf16le"),i}function XYe(e,t,r,s){var a=$e(10);return nm(e,t,s,a),a.write_shift(4,r),a}function QYe(e,t,r,s,a){var i=!a||a.biff==8,o=$e(8+ +i+(1+i)*r.length);return nm(e,t,s,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function ZYe(e,t,r,s){var a=r&&r.biff==5;s||(s=$e(a?3+t.length:5+2*t.length)),s.write_shift(2,e),s.write_shift(a?1:2,t.length),a||s.write_shift(1,1),s.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=s.length>s.l?s.slice(0,s.l):s;return i.l==null&&(i.l=i.length),i}function JYe(e,t){var r=t.biff==8||!t.biff?4:2,s=$e(2*r+6);return s.write_shift(r,e.s.r),s.write_shift(r,e.e.r+1),s.write_shift(2,e.s.c),s.write_shift(2,e.e.c+1),s.write_shift(2,0),s}function c8(e,t,r,s){var a=r&&r.biff==5;s||(s=$e(a?16:20)),s.write_shift(2,0),e.style?(s.write_shift(2,e.numFmtId||0),s.write_shift(2,65524)):(s.write_shift(2,e.numFmtId||0),s.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),s.write_shift(4,i),s.write_shift(4,0),a||s.write_shift(4,0),s.write_shift(2,0),s}function eXe(e){var t=$e(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function tXe(e,t,r,s,a,i){var o=$e(8);return nm(e,t,s,o),ree(r,i,o),o}function rXe(e,t,r,s){var a=$e(14);return nm(e,t,s,a),rm(r,a),a}function nXe(e,t,r){if(r.biff<8)return sXe(e,t,r);for(var s=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)s.push(VYe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return s}function sXe(e,t,r){e[e.l+1]==3&&e[e.l]++;var s=nee(e,t,r);return s.charCodeAt(0)==3?s.slice(1):s}function aXe(e){var t=$e(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)aee(e[r],t);return t}function iXe(e){var t=$e(24),r=Ps(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var s="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(s[a],16));return Hs([t,UYe(e[1])])}function oXe(e){var t=e[1].Tooltip,r=$e(10+2*(t.length+1));r.write_shift(2,2048);var s=Ps(e[0]);r.write_shift(2,s.r),r.write_shift(2,s.r),r.write_shift(2,s.c),r.write_shift(2,s.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function lXe(e){return e||(e=$e(4)),e.write_shift(2,1),e.write_shift(2,1),e}function cXe(e,t,r){if(!r.cellStyles)return rc(e,t);var s=r&&r.biff>=12?4:2,a=e.read_shift(s),i=e.read_shift(s),o=e.read_shift(s),l=e.read_shift(s),c=e.read_shift(2);s==2&&(e.l+=2);var d={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function dXe(e,t){var r=$e(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var s=0;return e.hidden&&(s|=1),r.write_shift(1,s),s=e.level||0,r.write_shift(1,s),r.write_shift(2,0),r}function uXe(e){for(var t=$e(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function fXe(e,t,r){var s=$e(15);return Py(s,e,t),s.write_shift(8,r,"f"),s}function mXe(e,t,r){var s=$e(9);return Py(s,e,t),s.write_shift(2,r),s}var hXe=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=oD({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var d=[],u=tm(1);switch(c.type){case"base64":u=Xo(sd(l));break;case"binary":u=Xo(l);break;case"buffer":case"array":u=l;break}Ci(u,0);var f=u.read_shift(1),m=!!(f&136),h=!1,x=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,m=!0;break;case 49:h=!0,m=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,g=521;f==2&&(p=u.read_shift(2)),u.l+=3,f!=2&&(p=u.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(g=u.read_shift(2));var j=u.read_shift(2),y=c.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(y=e[u[u.l]]),u.l+=1,u.l+=2),x&&(u.l+=36);for(var w=[],b={},N=Math.min(u.length,f==2?521:g-10-(h?264:0)),_=x?32:11;u.l<N&&u[u.l]!=13;)switch(b={},b.name=ef.utils.decode(y,u.slice(u.l,u.l+_)).replace(/[\u0000\r\n].*$/g,""),u.l+=_,b.type=String.fromCharCode(u.read_shift(1)),f!=2&&!x&&(b.offset=u.read_shift(4)),b.len=u.read_shift(1),f==2&&(b.offset=u.read_shift(2)),b.dec=u.read_shift(1),b.name.length&&w.push(b),f!=2&&(u.l+=x?13:14),b.type){case"B":(!h||b.len!=8)&&c.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+b.type)}if(u[u.l]!==13&&(u.l=g-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=g;var S=0,A=0;for(d[0]=[],A=0;A!=w.length;++A)d[0][A]=w[A].name;for(;p-- >0;){if(u[u.l]===42){u.l+=j;continue}for(++u.l,d[++S]=[],A=0,A=0;A!=w.length;++A){var E=u.slice(u.l,u.l+w[A].len);u.l+=w[A].len,Ci(E,0);var P=ef.utils.decode(y,E);switch(w[A].type){case"C":P.trim().length&&(d[S][A]=P.replace(/\s+$/,""));break;case"D":P.length===8?d[S][A]=new Date(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8)):d[S][A]=P;break;case"F":d[S][A]=parseFloat(P.trim());break;case"+":case"I":d[S][A]=x?E.read_shift(-4,"i")^2147483648:E.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":d[S][A]=!0;break;case"N":case"F":d[S][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));d[S][A]="##MEMO##"+(x?parseInt(P.trim(),10):E.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(d[S][A]=+P||0);break;case"@":d[S][A]=new Date(E.read_shift(-8,"f")-621356832e5);break;case"T":d[S][A]=new Date((E.read_shift(4)-2440588)*864e5+E.read_shift(4));break;case"Y":d[S][A]=E.read_shift(4,"i")/1e4+E.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[S][A]=-E.read_shift(-8,"f");break;case"B":if(h&&w[A].len==8){d[S][A]=E.read_shift(8,"f");break}case"G":case"P":E.l+=w[A].len;break;case"0":if(w[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[A].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=w,d}function s(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=px(r(l,d),d);return u["!cols"]=d.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete d.DBF,u}function a(l,c){try{return xm(s(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&pv(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=ci(),f=Kw(l,{header:1,raw:!0,cellDates:!0}),m=f[0],h=f.slice(1),x=l["!cols"]||[],p=0,g=0,j=0,y=1;for(p=0;p<m.length;++p){if(((x[p]||{}).DBF||{}).name){m[p]=x[p].DBF.name,++j;continue}if(m[p]!=null){if(++j,typeof m[p]=="number"&&(m[p]=m[p].toString(10)),typeof m[p]!="string")throw new Error("DBF Invalid column name "+m[p]+" |"+typeof m[p]+"|");if(m.indexOf(m[p])!==p){for(g=0;g<1024;++g)if(m.indexOf(m[p]+"_"+g)==-1){m[p]+="_"+g;break}}}}var w=dn(l["!ref"]),b=[],N=[],_=[];for(p=0;p<=w.e.c-w.s.c;++p){var S="",A="",E=0,P=[];for(g=0;g<h.length;++g)h[g][p]!=null&&P.push(h[g][p]);if(P.length==0||m[p]==null){b[p]="?";continue}for(g=0;g<P.length;++g){switch(typeof P[g]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=P[g]instanceof Date?"D":"C";break;default:A="C"}E=Math.max(E,String(P[g]).length),S=S&&S!=A?"C":A}E>250&&(E=250),A=((x[p]||{}).DBF||{}).type,A=="C"&&x[p].DBF.len>E&&(E=x[p].DBF.len),S=="B"&&A=="N"&&(S="N",_[p]=x[p].DBF.dec,E=x[p].DBF.len),N[p]=S=="C"||A=="N"?E:i[S]||0,y+=N[p],b[p]=S}var D=u.next(32);for(D.write_shift(4,318902576),D.write_shift(4,h.length),D.write_shift(2,296+32*j),D.write_shift(2,y),p=0;p<4;++p)D.write_shift(4,0);for(D.write_shift(4,0|(+t[oJ]||3)<<8),p=0,g=0;p<m.length;++p)if(m[p]!=null){var I=u.next(32),W=(m[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,W,"sbcs"),I.write_shift(1,b[p]=="?"?"C":b[p],"sbcs"),I.write_shift(4,g),I.write_shift(1,N[p]||i[b[p]]||0),I.write_shift(1,_[p]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),g+=N[p]||i[b[p]]||0}var H=u.next(264);for(H.write_shift(4,13),p=0;p<65;++p)H.write_shift(4,0);for(p=0;p<h.length;++p){var F=u.next(y);for(F.write_shift(1,0),g=0;g<m.length;++g)if(m[g]!=null)switch(b[g]){case"L":F.write_shift(1,h[p][g]==null?63:h[p][g]?84:70);break;case"B":F.write_shift(8,h[p][g]||0,"f");break;case"N":var T="0";for(typeof h[p][g]=="number"&&(T=h[p][g].toFixed(_[g]||0)),j=0;j<N[g]-T.length;++j)F.write_shift(1,32);F.write_shift(1,T,"sbcs");break;case"D":h[p][g]?(F.write_shift(4,("0000"+h[p][g].getFullYear()).slice(-4),"sbcs"),F.write_shift(2,("00"+(h[p][g].getMonth()+1)).slice(-2),"sbcs"),F.write_shift(2,("00"+h[p][g].getDate()).slice(-2),"sbcs")):F.write_shift(8,"00000000","sbcs");break;case"C":var k=String(h[p][g]!=null?h[p][g]:"").slice(0,N[g]);for(F.write_shift(1,k,"sbcs"),j=0;j<N[g]-k.length;++j)F.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:s,from_sheet:o}}(),pXe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Js(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,h){var x=e[h];return typeof x=="number"?DL(x):x},s=function(m,h,x){var p=h.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return p==59?m:DL(p)};e["|"]=254;function a(m,h){switch(h.type){case"base64":return i(sd(m),h);case"binary":return i(m,h);case"buffer":return i(br&&Buffer.isBuffer(m)?m.toString("binary"):_y(m),h);case"array":return i(o_(m),h)}throw new Error("Unrecognized type "+h.type)}function i(m,h){var x=m.split(/[\n\r]+/),p=-1,g=-1,j=0,y=0,w=[],b=[],N=null,_={},S=[],A=[],E=[],P=0,D;for(+h.codepage>=0&&pv(+h.codepage);j!==x.length;++j){P=0;var I=x[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,s).replace(t,r),W=I.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),H=W[0],F;if(I.length>0)switch(H){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":W[1].charAt(0)=="P"&&b.push(I.slice(3).replace(/;;/g,";"));break;case"C":var T=!1,k=!1,M=!1,O=!1,K=-1,se=-1;for(y=1;y<W.length;++y)switch(W[y].charAt(0)){case"A":break;case"X":g=parseInt(W[y].slice(1))-1,k=!0;break;case"Y":for(p=parseInt(W[y].slice(1))-1,k||(g=0),D=w.length;D<=p;++D)w[D]=[];break;case"K":F=W[y].slice(1),F.charAt(0)==='"'?F=F.slice(1,F.length-1):F==="TRUE"?F=!0:F==="FALSE"?F=!1:isNaN(Bc(F))?isNaN(gv(F).getDate())||(F=Da(F)):(F=Bc(F),N!==null&&yJ(N)&&(F=NJ(F))),T=!0;break;case"E":O=!0;var R=mQe(W[y].slice(1),{r:p,c:g});w[p][g]=[w[p][g],R];break;case"S":M=!0,w[p][g]=[w[p][g],"S5S"];break;case"G":break;case"R":K=parseInt(W[y].slice(1))-1;break;case"C":se=parseInt(W[y].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+I)}if(T&&(w[p][g]&&w[p][g].length==2?w[p][g][0]=F:w[p][g]=F,N=null),M){if(O)throw new Error("SYLK shared formula cannot have own formula");var V=K>-1&&w[K][se];if(!V||!V[1])throw new Error("SYLK shared formula cannot find base");w[p][g][1]=hQe(V[1],{r:p-K,c:g-se})}break;case"F":var L=0;for(y=1;y<W.length;++y)switch(W[y].charAt(0)){case"X":g=parseInt(W[y].slice(1))-1,++L;break;case"Y":for(p=parseInt(W[y].slice(1))-1,D=w.length;D<=p;++D)w[D]=[];break;case"M":P=parseInt(W[y].slice(1))/20;break;case"F":break;case"G":break;case"P":N=b[parseInt(W[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(E=W[y].slice(1).split(" "),D=parseInt(E[0],10);D<=parseInt(E[1],10);++D)P=parseInt(E[2],10),A[D-1]=P===0?{hidden:!0}:{wch:P},yD(A[D-1]);break;case"C":g=parseInt(W[y].slice(1))-1,A[g]||(A[g]={});break;case"R":p=parseInt(W[y].slice(1))-1,S[p]||(S[p]={}),P>0?(S[p].hpt=P,S[p].hpx=dee(P)):P===0&&(S[p].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+I)}L<1&&(N=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+I)}}return S.length>0&&(_["!rows"]=S),A.length>0&&(_["!cols"]=A),h&&h.sheetRows&&(w=w.slice(0,h.sheetRows)),[w,_]}function o(m,h){var x=a(m,h),p=x[0],g=x[1],j=px(p,h);return Js(g).forEach(function(y){j[y]=g[y]}),j}function l(m,h){return xm(o(m,h),h)}function c(m,h,x,p){var g="C;Y"+(x+1)+";X"+(p+1)+";K";switch(m.t){case"n":g+=m.v||0,m.f&&!m.F&&(g+=";E"+bD(m.f,{r:x,c:p}));break;case"b":g+=m.v?"TRUE":"FALSE";break;case"e":g+=m.w||m.v;break;case"d":g+='"'+(m.w||m.v)+'"';break;case"s":g+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function d(m,h){h.forEach(function(x,p){var g="F;W"+(p+1)+" "+(p+1)+" ";x.hidden?g+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=Ww(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=Hw(x.wpx)),typeof x.wch=="number"&&(g+=Math.round(x.wch))),g.charAt(g.length-1)!=" "&&m.push(g)})}function u(m,h){h.forEach(function(x,p){var g="F;";x.hidden?g+="M0;":x.hpt?g+="M"+20*x.hpt+";":x.hpx&&(g+="M"+20*qw(x.hpx)+";"),g.length>2&&m.push(g+"R"+(p+1))})}function f(m,h){var x=["ID;PWXL;N;E"],p=[],g=dn(m["!ref"]),j,y=Array.isArray(m),w=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),m["!cols"]&&d(x,m["!cols"]),m["!rows"]&&u(x,m["!rows"]),x.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var b=g.s.r;b<=g.e.r;++b)for(var N=g.s.c;N<=g.e.c;++N){var _=Fr({r:b,c:N});j=y?(m[b]||[])[N]:m[_],!(!j||j.v==null&&(!j.f||j.F))&&p.push(c(j,m,b,N))}return x.join(w)+w+p.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:o,from_sheet:f}}(),xXe=function(){function e(i,o){switch(o.type){case"base64":return t(sd(i),o);case"binary":return t(i,o);case"buffer":return t(br&&Buffer.isBuffer(i)?i.toString("binary"):_y(i),o);case"array":return t(o_(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,d=-1,u=0,f=[];u!==l.length;++u){if(l[u].trim()==="BOT"){f[++c]=[],d=0;continue}if(!(c<0)){var m=l[u].trim().split(","),h=m[0],x=m[1];++u;for(var p=l[u]||"";(p.match(/["]/g)||[]).length&1&&u<l.length-1;)p+=`
`+l[++u];switch(p=p.trim(),+h){case-1:if(p==="BOT"){f[++c]=[],d=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[c][d]=!0:p==="FALSE"?f[c][d]=!1:isNaN(Bc(x))?isNaN(gv(x).getDate())?f[c][d]=x:f[c][d]=Da(x):f[c][d]=Bc(x),++d;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[c][d++]=p!==""?p:null;break}if(p==="EOD")break}}return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),f}function r(i,o){return px(e(i,o),o)}function s(i,o){return xm(r(i,o),o)}var a=function(){var i=function(c,d,u,f,m){c.push(d),c.push(u+","+f),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,d,u,f){c.push(d+","+u),c.push(d==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var d=[],u=dn(c["!ref"]),f,m=Array.isArray(c);i(d,"TABLE",0,1,"sheetjs"),i(d,"VECTORS",0,u.e.r-u.s.r+1,""),i(d,"TUPLES",0,u.e.c-u.s.c+1,""),i(d,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){o(d,-1,0,"BOT");for(var x=u.s.c;x<=u.e.c;++x){var p=Fr({r:h,c:x});if(f=m?(c[h]||[])[x]:c[p],!f){o(d,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?o(d,1,0,"="+f.f):o(d,1,0,""):o(d,0,g,"V");break;case"b":o(d,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=bu(f.z||Fn[14],ui(Da(f.v)))),o(d,0,f.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var j=`\r
`,y=d.join(j);return y}}();return{to_workbook:s,to_sheet:r,from_sheet:a}}(),iee=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,m){for(var h=f.split(`
`),x=-1,p=-1,g=0,j=[];g!==h.length;++g){var y=h[g].trim().split(":");if(y[0]==="cell"){var w=Ps(y[1]);if(j.length<=w.r)for(x=j.length;x<=w.r;++x)j[x]||(j[x]=[]);switch(x=w.r,p=w.c,y[2]){case"t":j[x][p]=e(y[3]);break;case"v":j[x][p]=+y[3];break;case"vtf":var b=y[y.length-1];case"vtc":switch(y[3]){case"nl":j[x][p]=!!+y[4];break;default:j[x][p]=+y[4];break}y[2]=="vtf"&&(j[x][p]=[j[x][p],b])}}}return m&&m.sheetRows&&(j=j.slice(0,m.sheetRows)),j}function s(f,m){return px(r(f,m),m)}function a(f,m){return xm(s(f,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(f){if(!f||!f["!ref"])return"";for(var m=[],h=[],x,p="",g=qi(f["!ref"]),j=Array.isArray(f),y=g.s.r;y<=g.e.r;++y)for(var w=g.s.c;w<=g.e.c;++w)if(p=Fr({r:y,c:w}),x=j?(f[y]||[])[w]:f[p],!(!x||x.v==null||x.t==="z")){switch(h=["cell",p,"t"],x.t){case"s":case"str":h.push(t(x.v));break;case"n":x.f?(h[2]="vtf",h[3]="n",h[4]=x.v,h[5]=t(x.f)):(h[2]="v",h[3]=x.v);break;case"b":h[2]="vt"+(x.f?"f":"c"),h[3]="nl",h[4]=x.v?"1":"0",h[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var b=ui(Da(x.v));h[2]="vtc",h[3]="nd",h[4]=""+b,h[5]=x.w||bu(x.z||Fn[14],b);break;case"e":continue}m.push(h.join(":"))}return m.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function u(f){return[i,o,l,o,d(f),c].join(`
`)}return{to_workbook:a,to_sheet:s,from_sheet:u}}(),gXe=function(){function e(u,f,m,h,x){x.raw?f[m][h]=u:u===""||(u==="TRUE"?f[m][h]=!0:u==="FALSE"?f[m][h]=!1:isNaN(Bc(u))?isNaN(gv(u).getDate())?f[m][h]=u:f[m][h]=Da(u):f[m][h]=Bc(u))}function t(u,f){var m=f||{},h=[];if(!u||u.length===0)return h;for(var x=u.split(/[\r\n]/),p=x.length-1;p>=0&&x[p].length===0;)--p;for(var g=10,j=0,y=0;y<=p;++y)j=x[y].indexOf(" "),j==-1?j=x[y].length:j++,g=Math.max(g,j);for(y=0;y<=p;++y){h[y]=[];var w=0;for(e(x[y].slice(0,g).trim(),h,y,w,m),w=1;w<=(x[y].length-g)/10+1;++w)e(x[y].slice(g+(w-1)*10,g+w*10).trim(),h,y,w,m)}return m.sheetRows&&(h=h.slice(0,m.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},s={44:3,9:2,59:1,124:0};function a(u){for(var f={},m=!1,h=0,x=0;h<u.length;++h)(x=u.charCodeAt(h))==34?m=!m:!m&&x in r&&(f[x]=(f[x]||0)+1);x=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&x.push([f[h],h]);if(!x.length){f=s;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&x.push([f[h],h])}return x.sort(function(p,g){return p[0]-g[0]||s[p[1]]-s[g[1]]}),r[x.pop()[1]]||44}function i(u,f){var m=f||{},h="",x=m.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=a(u.slice(0,1024)):m&&m.FS?h=m.FS:h=a(u.slice(0,1024));var g=0,j=0,y=0,w=0,b=0,N=h.charCodeAt(0),_=!1,S=0,A=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var E=m.dateNF!=null?DKe(m.dateNF):null;function P(){var D=u.slice(w,b),I={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)I.t="z";else if(m.raw)I.t="s",I.v=D;else if(D.trim().length===0)I.t="s",I.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(I.t="s",I.v=D.slice(2,-1).replace(/""/g,'"')):pQe(D)?(I.t="n",I.f=D.slice(1)):(I.t="s",I.v=D);else if(D=="TRUE")I.t="b",I.v=!0;else if(D=="FALSE")I.t="b",I.v=!1;else if(!isNaN(y=Bc(D)))I.t="n",m.cellText!==!1&&(I.w=D),I.v=y;else if(!isNaN(gv(D).getDate())||E&&D.match(E)){I.z=m.dateNF||Fn[14];var W=0;E&&D.match(E)&&(D=IKe(D,m.dateNF,D.match(E)||[]),W=1),m.cellDates?(I.t="d",I.v=Da(D,W)):(I.t="n",I.v=ui(Da(D,W))),m.cellText!==!1&&(I.w=bu(I.z,I.v instanceof Date?ui(I.v):I.v)),m.cellNF||delete I.z}else I.t="s",I.v=D;if(I.t=="z"||(m.dense?(x[g]||(x[g]=[]),x[g][j]=I):x[Fr({c:j,r:g})]=I),w=b+1,A=u.charCodeAt(w),p.e.c<j&&(p.e.c=j),p.e.r<g&&(p.e.r=g),S==N)++j;else if(j=0,++g,m.sheetRows&&m.sheetRows<=g)return!0}e:for(;b<u.length;++b)switch(S=u.charCodeAt(b)){case 34:A===34&&(_=!_);break;case N:case 10:case 13:if(!_&&P())break e;break}return b-w>0&&P(),x["!ref"]=ns(p),x}function o(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):px(t(u,f),f)}function l(u,f){var m="",h=f.type=="string"?[0,0,0,0]:Ttt(u,f);switch(f.type){case"base64":m=sd(u);break;case"binary":m=u;break;case"buffer":f.codepage==65001?m=u.toString("utf8"):f.codepage&&typeof ef<"u"?m=ef.utils.decode(f.codepage,u):m=br&&Buffer.isBuffer(u)?u.toString("binary"):_y(u);break;case"array":m=o_(u);break;case"string":m=u;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?m=Ug(m.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?m=Ug(m):f.type=="binary"&&typeof ef<"u"&&f.codepage&&(m=ef.utils.decode(f.codepage,ef.utils.encode(28591,m))),m.slice(0,19)=="socialcalc:version:"?iee.to_sheet(f.type=="string"?m:Ug(m),f):o(m,f)}function c(u,f){return xm(l(u,f),f)}function d(u){for(var f=[],m=dn(u["!ref"]),h,x=Array.isArray(u),p=m.s.r;p<=m.e.r;++p){for(var g=[],j=m.s.c;j<=m.e.c;++j){var y=Fr({r:p,c:j});if(h=x?(u[p]||[])[j]:u[y],!h||h.v==null){g.push("          ");continue}for(var w=(h.w||(ad(h),h.w)||"").slice(0,10);w.length<10;)w+=" ";g.push(w+(j===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}}(),d8=function(){function e(R,V,L){if(R){Ci(R,R.l||0);for(var G=L.Enum||K;R.l<R.length;){var le=R.read_shift(2),me=G[le]||G[65535],B=R.read_shift(2),Y=R.l+B,oe=me.f&&me.f(R,B,L);if(R.l=Y,V(oe,me,le))return}}}function t(R,V){switch(V.type){case"base64":return r(Xo(sd(R)),V);case"binary":return r(Xo(R),V);case"buffer":case"array":return r(R,V)}throw"Unsupported type "+V.type}function r(R,V){if(!R)return R;var L=V||{},G=L.dense?[]:{},le="Sheet1",me="",B=0,Y={},oe=[],Ne=[],ue={s:{r:0,c:0},e:{r:0,c:0}},ve=L.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)L.Enum=K,e(R,function(Oe,ae,he){switch(he){case 0:L.vers=Oe,Oe>=4096&&(L.qpro=!0);break;case 6:ue=Oe;break;case 204:Oe&&(me=Oe);break;case 222:me=Oe;break;case 15:case 51:L.qpro||(Oe[1].v=Oe[1].v.slice(1));case 13:case 14:case 16:he==14&&(Oe[2]&112)==112&&(Oe[2]&15)>1&&(Oe[2]&15)<15&&(Oe[1].z=L.dateNF||Fn[14],L.cellDates&&(Oe[1].t="d",Oe[1].v=NJ(Oe[1].v))),L.qpro&&Oe[3]>B&&(G["!ref"]=ns(ue),Y[le]=G,oe.push(le),G=L.dense?[]:{},ue={s:{r:0,c:0},e:{r:0,c:0}},B=Oe[3],le=me||"Sheet"+(B+1),me="");var ce=L.dense?(G[Oe[0].r]||[])[Oe[0].c]:G[Fr(Oe[0])];if(ce){ce.t=Oe[1].t,ce.v=Oe[1].v,Oe[1].z!=null&&(ce.z=Oe[1].z),Oe[1].f!=null&&(ce.f=Oe[1].f);break}L.dense?(G[Oe[0].r]||(G[Oe[0].r]=[]),G[Oe[0].r][Oe[0].c]=Oe[1]):G[Fr(Oe[0])]=Oe[1];break}},L);else if(R[2]==26||R[2]==14)L.Enum=se,R[2]==14&&(L.qpro=!0,R.l=0),e(R,function(Oe,ae,he){switch(he){case 204:le=Oe;break;case 22:Oe[1].v=Oe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Oe[3]>B&&(G["!ref"]=ns(ue),Y[le]=G,oe.push(le),G=L.dense?[]:{},ue={s:{r:0,c:0},e:{r:0,c:0}},B=Oe[3],le="Sheet"+(B+1)),ve>0&&Oe[0].r>=ve)break;L.dense?(G[Oe[0].r]||(G[Oe[0].r]=[]),G[Oe[0].r][Oe[0].c]=Oe[1]):G[Fr(Oe[0])]=Oe[1],ue.e.c<Oe[0].c&&(ue.e.c=Oe[0].c),ue.e.r<Oe[0].r&&(ue.e.r=Oe[0].r);break;case 27:Oe[14e3]&&(Ne[Oe[14e3][0]]=Oe[14e3][1]);break;case 1537:Ne[Oe[0]]=Oe[1],Oe[0]==B&&(le=Oe[1]);break}},L);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(G["!ref"]=ns(ue),Y[me||le]=G,oe.push(me||le),!Ne.length)return{SheetNames:oe,Sheets:Y};for(var xe={},Ee=[],Fe=0;Fe<Ne.length;++Fe)Y[oe[Fe]]?(Ee.push(Ne[Fe]||oe[Fe]),xe[Ne[Fe]]=Y[Ne[Fe]]||Y[oe[Fe]]):(Ee.push(Ne[Fe]),xe[Ne[Fe]]={"!ref":"A1"});return{SheetNames:Ee,Sheets:xe}}function s(R,V){var L=V||{};if(+L.codepage>=0&&pv(+L.codepage),L.type=="string")throw new Error("Cannot write WK1 to JS string");var G=ci(),le=dn(R["!ref"]),me=Array.isArray(R),B=[];st(G,0,i(1030)),st(G,6,c(le));for(var Y=Math.min(le.e.r,8191),oe=le.s.r;oe<=Y;++oe)for(var Ne=Xs(oe),ue=le.s.c;ue<=le.e.c;++ue){oe===le.s.r&&(B[ue]=ma(ue));var ve=B[ue]+Ne,xe=me?(R[oe]||[])[ue]:R[ve];if(!(!xe||xe.t=="z"))if(xe.t=="n")(xe.v|0)==xe.v&&xe.v>=-32768&&xe.v<=32767?st(G,13,h(oe,ue,xe.v)):st(G,14,p(oe,ue,xe.v));else{var Ee=ad(xe);st(G,15,f(oe,ue,Ee.slice(0,239)))}}return st(G,1),G.end()}function a(R,V){var L=V||{};if(+L.codepage>=0&&pv(+L.codepage),L.type=="string")throw new Error("Cannot write WK3 to JS string");var G=ci();st(G,0,o(R));for(var le=0,me=0;le<R.SheetNames.length;++le)(R.Sheets[R.SheetNames[le]]||{})["!ref"]&&st(G,27,O(R.SheetNames[le],me++));var B=0;for(le=0;le<R.SheetNames.length;++le){var Y=R.Sheets[R.SheetNames[le]];if(!(!Y||!Y["!ref"])){for(var oe=dn(Y["!ref"]),Ne=Array.isArray(Y),ue=[],ve=Math.min(oe.e.r,8191),xe=oe.s.r;xe<=ve;++xe)for(var Ee=Xs(xe),Fe=oe.s.c;Fe<=oe.e.c;++Fe){xe===oe.s.r&&(ue[Fe]=ma(Fe));var Oe=ue[Fe]+Ee,ae=Ne?(Y[xe]||[])[Fe]:Y[Oe];if(!(!ae||ae.t=="z"))if(ae.t=="n")st(G,23,P(xe,Fe,B,ae.v));else{var he=ad(ae);st(G,22,S(xe,Fe,B,he.slice(0,239)))}}++B}}return st(G,1),G.end()}function i(R){var V=$e(2);return V.write_shift(2,R),V}function o(R){var V=$e(26);V.write_shift(2,4096),V.write_shift(2,4),V.write_shift(4,0);for(var L=0,G=0,le=0,me=0;me<R.SheetNames.length;++me){var B=R.SheetNames[me],Y=R.Sheets[B];if(!(!Y||!Y["!ref"])){++le;var oe=qi(Y["!ref"]);L<oe.e.r&&(L=oe.e.r),G<oe.e.c&&(G=oe.e.c)}}return L>8191&&(L=8191),V.write_shift(2,L),V.write_shift(1,le),V.write_shift(1,G),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(1,1),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(4,0),V}function l(R,V,L){var G={s:{c:0,r:0},e:{c:0,r:0}};return V==8&&L.qpro?(G.s.c=R.read_shift(1),R.l++,G.s.r=R.read_shift(2),G.e.c=R.read_shift(1),R.l++,G.e.r=R.read_shift(2),G):(G.s.c=R.read_shift(2),G.s.r=R.read_shift(2),V==12&&L.qpro&&(R.l+=2),G.e.c=R.read_shift(2),G.e.r=R.read_shift(2),V==12&&L.qpro&&(R.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function c(R){var V=$e(8);return V.write_shift(2,R.s.c),V.write_shift(2,R.s.r),V.write_shift(2,R.e.c),V.write_shift(2,R.e.r),V}function d(R,V,L){var G=[{c:0,r:0},{t:"n",v:0},0,0];return L.qpro&&L.vers!=20768?(G[0].c=R.read_shift(1),G[3]=R.read_shift(1),G[0].r=R.read_shift(2),R.l+=2):(G[2]=R.read_shift(1),G[0].c=R.read_shift(2),G[0].r=R.read_shift(2)),G}function u(R,V,L){var G=R.l+V,le=d(R,V,L);if(le[1].t="s",L.vers==20768){R.l++;var me=R.read_shift(1);return le[1].v=R.read_shift(me,"utf8"),le}return L.qpro&&R.l++,le[1].v=R.read_shift(G-R.l,"cstr"),le}function f(R,V,L){var G=$e(7+L.length);G.write_shift(1,255),G.write_shift(2,V),G.write_shift(2,R),G.write_shift(1,39);for(var le=0;le<G.length;++le){var me=L.charCodeAt(le);G.write_shift(1,me>=128?95:me)}return G.write_shift(1,0),G}function m(R,V,L){var G=d(R,V,L);return G[1].v=R.read_shift(2,"i"),G}function h(R,V,L){var G=$e(7);return G.write_shift(1,255),G.write_shift(2,V),G.write_shift(2,R),G.write_shift(2,L,"i"),G}function x(R,V,L){var G=d(R,V,L);return G[1].v=R.read_shift(8,"f"),G}function p(R,V,L){var G=$e(13);return G.write_shift(1,255),G.write_shift(2,V),G.write_shift(2,R),G.write_shift(8,L,"f"),G}function g(R,V,L){var G=R.l+V,le=d(R,V,L);if(le[1].v=R.read_shift(8,"f"),L.qpro)R.l=G;else{var me=R.read_shift(2);b(R.slice(R.l,R.l+me),le),R.l+=me}return le}function j(R,V,L){var G=V&32768;return V&=-32769,V=(G?R:0)+(V>=8192?V-16384:V),(G?"":"$")+(L?ma(V):Xs(V))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function b(R,V){Ci(R,0);for(var L=[],G=0,le="",me="",B="",Y="";R.l<R.length;){var oe=R[R.l++];switch(oe){case 0:L.push(R.read_shift(8,"f"));break;case 1:me=j(V[0].c,R.read_shift(2),!0),le=j(V[0].r,R.read_shift(2),!1),L.push(me+le);break;case 2:{var Ne=j(V[0].c,R.read_shift(2),!0),ue=j(V[0].r,R.read_shift(2),!1);me=j(V[0].c,R.read_shift(2),!0),le=j(V[0].r,R.read_shift(2),!1),L.push(Ne+ue+":"+me+le)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:L.push("("+L.pop()+")");break;case 5:L.push(R.read_shift(2));break;case 6:{for(var ve="";oe=R[R.l++];)ve+=String.fromCharCode(oe);L.push('"'+ve.replace(/"/g,'""')+'"')}break;case 8:L.push("-"+L.pop());break;case 23:L.push("+"+L.pop());break;case 22:L.push("NOT("+L.pop()+")");break;case 20:case 21:Y=L.pop(),B=L.pop(),L.push(["AND","OR"][oe-20]+"("+B+","+Y+")");break;default:if(oe<32&&w[oe])Y=L.pop(),B=L.pop(),L.push(B+w[oe]+Y);else if(y[oe]){if(G=y[oe][1],G==69&&(G=R[R.l++]),G>L.length){console.error("WK1 bad formula parse 0x"+oe.toString(16)+":|"+L.join("|")+"|");return}var xe=L.slice(-G);L.length-=G,L.push(y[oe][0]+"("+xe.join(",")+")")}else return oe<=7?console.error("WK1 invalid opcode "+oe.toString(16)):oe<=24?console.error("WK1 unsupported op "+oe.toString(16)):oe<=30?console.error("WK1 invalid opcode "+oe.toString(16)):oe<=115?console.error("WK1 unsupported function opcode "+oe.toString(16)):console.error("WK1 unrecognized opcode "+oe.toString(16))}}L.length==1?V[1].f=""+L[0]:console.error("WK1 bad formula parse |"+L.join("|")+"|")}function N(R){var V=[{c:0,r:0},{t:"n",v:0},0];return V[0].r=R.read_shift(2),V[3]=R[R.l++],V[0].c=R[R.l++],V}function _(R,V){var L=N(R);return L[1].t="s",L[1].v=R.read_shift(V-4,"cstr"),L}function S(R,V,L,G){var le=$e(6+G.length);le.write_shift(2,R),le.write_shift(1,L),le.write_shift(1,V),le.write_shift(1,39);for(var me=0;me<G.length;++me){var B=G.charCodeAt(me);le.write_shift(1,B>=128?95:B)}return le.write_shift(1,0),le}function A(R,V){var L=N(R);L[1].v=R.read_shift(2);var G=L[1].v>>1;if(L[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return L[1].v=G,L}function E(R,V){var L=N(R),G=R.read_shift(4),le=R.read_shift(4),me=R.read_shift(2);if(me==65535)return G===0&&le===3221225472?(L[1].t="e",L[1].v=15):G===0&&le===3489660928?(L[1].t="e",L[1].v=42):L[1].v=0,L;var B=me&32768;return me=(me&32767)-16446,L[1].v=(1-B*2)*(le*Math.pow(2,me+32)+G*Math.pow(2,me)),L}function P(R,V,L,G){var le=$e(14);if(le.write_shift(2,R),le.write_shift(1,L),le.write_shift(1,V),G==0)return le.write_shift(4,0),le.write_shift(4,0),le.write_shift(2,65535),le;var me=0,B=0,Y=0,oe=0;return G<0&&(me=1,G=-G),B=Math.log2(G)|0,G/=Math.pow(2,B-31),oe=G>>>0,oe&2147483648||(G/=2,++B,oe=G>>>0),G-=oe,oe|=2147483648,oe>>>=0,G*=Math.pow(2,32),Y=G>>>0,le.write_shift(4,Y),le.write_shift(4,oe),B+=16383+(me?32768:0),le.write_shift(2,B),le}function D(R,V){var L=E(R);return R.l+=V-14,L}function I(R,V){var L=N(R),G=R.read_shift(4);return L[1].v=G>>6,L}function W(R,V){var L=N(R),G=R.read_shift(8,"f");return L[1].v=G,L}function H(R,V){var L=W(R);return R.l+=V-10,L}function F(R,V){return R[R.l+V-1]==0?R.read_shift(V,"cstr"):""}function T(R,V){var L=R[R.l++];L>V-1&&(L=V-1);for(var G="";G.length<L;)G+=String.fromCharCode(R[R.l++]);return G}function k(R,V,L){if(!(!L.qpro||V<21)){var G=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var le=R.read_shift(V-21,"cstr");return[G,le]}}function M(R,V){for(var L={},G=R.l+V;R.l<G;){var le=R.read_shift(2);if(le==14e3){for(L[le]=[0,""],L[le][0]=R.read_shift(2);R[R.l];)L[le][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return L}function O(R,V){var L=$e(5+R.length);L.write_shift(2,14e3),L.write_shift(2,V);for(var G=0;G<R.length;++G){var le=R.charCodeAt(G);L[L.l++]=le>127?95:le}return L[L.l++]=0,L}var K={0:{n:"BOF",f:tee},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:F},222:{n:"SHEETNAMELP",f:T},65535:{n:""}},se={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:_},23:{n:"NUMBER17",f:E},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:M},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:I},38:{n:"??"},39:{n:"NUMBER27",f:W},40:{n:"FORMULA28",f:H},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:F},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:k},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:s,book_to_wk3:a,to_workbook:t}}(),vXe=/^\s|\s$|[\t\n\r]/;function oee(e,t){if(!t.bookSST)return"";var r=[os];r[r.length]=nt("sst",null,{xmlns:hx[0],count:e.Count,uniqueCount:e.Unique});for(var s=0;s!=e.length;++s)if(e[s]!=null){var a=e[s],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(vXe)&&(i+=' xml:space="preserve"'),i+=">"+Rr(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function yXe(e){return[e.read_shift(4),e.read_shift(4)]}function jXe(e,t){return t||(t=$e(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var bXe=uYe;function wXe(e){var t=ci();We(t,159,jXe(e));for(var r=0;r<e.length;++r)We(t,19,bXe(e[r]));return We(t,160),t.end()}function NXe(e){for(var t=[],r=e.split(""),s=0;s<r.length;++s)t[s]=r[s].charCodeAt(0);return t}function lee(e){var t=0,r,s=NXe(e),a=s.length+1,i,o,l,c,d;for(r=tm(a),r[0]=s.length,i=1;i!=a;++i)r[i]=s[i-1];for(i=a-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,d=l|c,t=d^o;return t^52811}var _Xe=function(){function e(a,i){switch(i.type){case"base64":return t(sd(a),i);case"binary":return t(a,i);case"buffer":return t(br&&Buffer.isBuffer(a)?a.toString("binary"):_y(a),i);case"array":return t(o_(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,f){Array.isArray(l)&&(l[f]=[]);for(var m=/\\\w+\b/g,h=0,x,p=-1;x=m.exec(u);){switch(x[0]){case"\\cell":var g=u.slice(h,m.lastIndex-x[0].length);if(g[0]==" "&&(g=g.slice(1)),++p,g.length){var j={v:g,t:"s"};Array.isArray(l)?l[f][p]=j:l[Fr({r:f,c:p})]=j}break}h=m.lastIndex}p>d.e.c&&(d.e.c=p)}),l["!ref"]=ns(d),l}function r(a,i){return xm(e(a,i),i)}function s(a){for(var i=["{\\rtf1\\ansi"],o=dn(a["!ref"]),l,c=Array.isArray(a),d=o.s.r;d<=o.e.r;++d){i.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var f=Fr({r:d,c:u});l=c?(a[d]||[])[u]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(ad(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:s}}();function u8(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var SXe=6,Uc=SXe;function Ww(e){return Math.floor((e+Math.round(128/Uc)/256)*Uc)}function Hw(e){return Math.floor((e-5)/Uc*100+.5)/100}function _P(e){return Math.round((e*Uc+5)/Uc*256)/256}function yD(e){e.width?(e.wpx=Ww(e.width),e.wch=Hw(e.wpx),e.MDW=Uc):e.wpx?(e.wch=Hw(e.wpx),e.width=_P(e.wch),e.MDW=Uc):typeof e.wch=="number"&&(e.width=_P(e.wch),e.wpx=Ww(e.width),e.MDW=Uc),e.customWidth&&delete e.customWidth}var CXe=96,cee=CXe;function qw(e){return e*96/cee}function dee(e){return e*cee/96}function AXe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&(t[t.length]=nt("numFmt",null,{numFmtId:s,formatCode:Rr(e[s])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=nt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function EXe(e){var t=[];return t[t.length]=nt("cellXfs",null),e.forEach(function(r){t[t.length]=nt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=nt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function uee(e,t){var r=[os,nt("styleSheet",null,{xmlns:hx[0],"xmlns:vt":Es.vt})],s;return e.SSF&&(s=AXe(e.SSF))!=null&&(r[r.length]=s),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(s=EXe(t.cellXfs))&&(r[r.length]=s),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function PXe(e,t){var r=e.read_shift(2),s=ha(e);return[r,s]}function kXe(e,t,r){r||(r=$e(6+4*t.length)),r.write_shift(2,e),ks(t,r);var s=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),s}function TXe(e,t,r){var s={};s.sz=e.read_shift(2)/20;var a=vYe(e);a.fItalic&&(s.italic=1),a.fCondense&&(s.condense=1),a.fExtend&&(s.extend=1),a.fShadow&&(s.shadow=1),a.fOutline&&(s.outline=1),a.fStrikeout&&(s.strike=1);var i=e.read_shift(2);switch(i===700&&(s.bold=1),e.read_shift(2)){case 1:s.vertAlign="superscript";break;case 2:s.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(s.underline=o);var l=e.read_shift(1);l>0&&(s.family=l);var c=e.read_shift(1);switch(c>0&&(s.charset=c),e.l++,s.color=gYe(e),e.read_shift(1)){case 1:s.scheme="major";break;case 2:s.scheme="minor";break}return s.name=ha(e),s}function OXe(e,t){t||(t=$e(25+4*32)),t.write_shift(2,e.sz*20),yYe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Vw(e.color,t);var s=0;return e.scheme=="major"&&(s=1),e.scheme=="minor"&&(s=2),t.write_shift(1,s),ks(e.name,t),t.length>t.l?t.slice(0,t.l):t}var DXe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],bC,IXe=rc;function f8(e,t){t||(t=$e(4*3+8*7+16*1)),bC||(bC=oD(DXe));var r=bC[e.patternType];r==null&&(r=40),t.write_shift(4,r);var s=0;if(r!=40)for(Vw({auto:1},t),Vw({auto:1},t);s<12;++s)t.write_shift(4,0);else{for(;s<4;++s)t.write_shift(4,0);for(;s<12;++s)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function RXe(e,t){var r=e.l+t,s=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:s,numFmtId:a}}function fee(e,t,r){r||(r=$e(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var s=0;return r.write_shift(1,s),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function eg(e,t){return t||(t=$e(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var MXe=rc;function FXe(e,t){return t||(t=$e(51)),t.write_shift(1,0),eg(null,t),eg(null,t),eg(null,t),eg(null,t),eg(null,t),t.length>t.l?t.slice(0,t.l):t}function $Xe(e,t){return t||(t=$e(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Uw(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function LXe(e,t,r){var s=$e(2052);return s.write_shift(4,e),Uw(t,s),Uw(r,s),s.length>s.l?s.slice(0,s.l):s}function BXe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&++r}),r!=0&&(We(e,615,il(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&We(e,44,kXe(a,t[a]))}),We(e,616))}}function UXe(e){var t=1;We(e,611,il(t)),We(e,43,OXe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),We(e,612)}function VXe(e){var t=2;We(e,603,il(t)),We(e,45,f8({patternType:"none"})),We(e,45,f8({patternType:"gray125"})),We(e,604)}function zXe(e){var t=1;We(e,613,il(t)),We(e,46,FXe()),We(e,614)}function WXe(e){var t=1;We(e,626,il(t)),We(e,47,fee({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),We(e,627)}function HXe(e,t){We(e,617,il(t.length)),t.forEach(function(r){We(e,47,fee(r,0))}),We(e,618)}function qXe(e){var t=1;We(e,619,il(t)),We(e,48,$Xe({xfId:0,builtinId:0,name:"Normal"})),We(e,620)}function GXe(e){var t=0;We(e,505,il(t)),We(e,506)}function KXe(e){var t=0;We(e,508,LXe(t,"TableStyleMedium9","PivotStyleMedium4")),We(e,509)}function YXe(e,t){var r=ci();return We(r,278),BXe(r,e.SSF),UXe(r),VXe(r),zXe(r),WXe(r),HXe(r,t.cellXfs),qXe(r),GXe(r),KXe(r),We(r,279),r.end()}function mee(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[os];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function XXe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ha(e)}}function QXe(e){var t=$e(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),ks(e.name,t),t.slice(0,t.l)}function ZXe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function JXe(e){var t=$e(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function eQe(e,t){var r=$e(8+2*t.length);return r.write_shift(4,e),ks(t,r),r.slice(0,r.l)}function tQe(e){return e.l+=4,e.read_shift(4)!=0}function rQe(e,t){var r=$e(8);return r.write_shift(4,e),r.write_shift(4,1),r}function nQe(){var e=ci();return We(e,332),We(e,334,il(1)),We(e,335,QXe({name:"XLDAPR",version:12e4,flags:3496657072})),We(e,336),We(e,339,eQe(1,"XLDAPR")),We(e,52),We(e,35,il(514)),We(e,4096,il(0)),We(e,4097,lo(1)),We(e,36),We(e,53),We(e,340),We(e,337,rQe(1)),We(e,51,JXe([[1,0]])),We(e,338),We(e,333),e.end()}function hee(){var e=[os];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function sQe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Fr(r);var s=e.read_shift(1);return s&2&&(t.l="1"),s&8&&(t.a="1"),t}var nh=1024;function pee(e,t){for(var r=[21600,21600],s=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[nt("xml",null,{"xmlns:v":Ei.v,"xmlns:o":Ei.o,"xmlns:x":Ei.x,"xmlns:mv":Ei.mv}).replace(/\/>/,">"),nt("o:shapelayout",nt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),nt("v:shapetype",[nt("v:stroke",null,{joinstyle:"miter"}),nt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:s})];nh<e*1e3;)nh+=1e3;return t.forEach(function(i){var o=Ps(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?nt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=nt("v:fill",c,l),u={on:"t",obscured:"t"};++nh,a=a.concat(["<v:shape"+yv({id:"_x0000_s"+nh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,nt("v:shadow",null,u),nt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",qs("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),qs("x:AutoFill","False"),qs("x:Row",String(o.r)),qs("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function xee(e){var t=[os,nt("comments",null,{xmlns:hx[0]})],r=[];return t.push("<authors>"),e.forEach(function(s){s[1].forEach(function(a){var i=Rr(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(s){var a=0,i=[];if(s[1][0]&&s[1][0].T&&s[1][0].ID?a=r.indexOf("tc="+s[1][0].ID):s[1].forEach(function(c){c.a&&(a=r.indexOf(Rr(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+s[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(qs("t",Rr(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(qs("t",Rr(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function aQe(e,t,r){var s=[os,nt("ThreadedComments",null,{xmlns:Es.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),s.push(nt("threadedComment",qs("text",o.t||""),c))})}),s.push("</ThreadedComments>"),s.join("")}function iQe(e){var t=[os,nt("personList",null,{xmlns:Es.TCMNT,"xmlns:x":hx[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,s){t.push(nt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+s).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function oQe(e){var t={};t.iauthor=e.read_shift(4);var r=jm(e);return t.rfx=r.s,t.ref=Fr(r.s),e.l+=16,t}function lQe(e,t){return t==null&&(t=$e(36)),t.write_shift(4,e[1].iauthor),xx(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var cQe=ha;function dQe(e){return ks(e.slice(0,54))}function uQe(e){var t=ci(),r=[];return We(t,628),We(t,630),e.forEach(function(s){s[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),We(t,632,dQe(a.a)))})}),We(t,631),We(t,633),e.forEach(function(s){s[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Ps(s[0]),e:Ps(s[0])};We(t,635,lQe([i,a])),a.t&&a.t.length>0&&We(t,637,mYe(a)),We(t,636),delete a.iauthor})}),We(t,634),We(t,629),t.end()}function fQe(e,t){t.FullPaths.forEach(function(r,s){if(s!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Ur.utils.cfb_add(e,a,t.FileIndex[s].content)}})}var gee=["xlsb","xlsm","xlam","biff8","xla"],mQe=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(s,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=i.length>0?parseInt(i,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return l?u+=t.c:--u,c?d+=t.r:--d,a+(l?"":"$")+ma(u)+(c?"":"$")+Xs(d)}return function(a,i){return t=i,a.replace(e,r)}}(),jD=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,bD=function(){return function(t,r){return t.replace(jD,function(s,a,i,o,l,c){var d=hD(o)-(i?0:r.c),u=mD(c)-(l?0:r.r),f=u==0?"":l?u+1:"["+u+"]",m=d==0?"":i?d+1:"["+d+"]";return a+"R"+f+"C"+m})}}();function hQe(e,t){return e.replace(jD,function(r,s,a,i,o,l){return s+(a=="$"?a+i:ma(hD(i)+t.c))+(o=="$"?o+l:Xs(mD(l)+t.r))})}function pQe(e){return e.length!=1}function Zn(e){e.l+=1}function wu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function vee(e,t,r){var s=2;if(r){if(r.biff>=2&&r.biff<=5)return yee(e);r.biff==12&&(s=4)}var a=e.read_shift(s),i=e.read_shift(s),o=wu(e),l=wu(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function yee(e){var t=wu(e),r=wu(e),s=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:s,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function xQe(e,t,r){if(r.biff<8)return yee(e);var s=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=wu(e),o=wu(e);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function jee(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return gQe(e);var s=e.read_shift(r&&r.biff==12?4:2),a=wu(e);return{r:s,c:a[0],cRel:a[1],rRel:a[2]}}function gQe(e){var t=wu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function vQe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function yQe(e,t,r){var s=r&&r.biff?r.biff:8;if(s>=2&&s<=5)return jQe(e);var a=e.read_shift(s>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function jQe(e){var t=e.read_shift(2),r=e.read_shift(1),s=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,s==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:s}}function bQe(e,t,r){var s=(e[e.l++]&96)>>5,a=vee(e,r.biff>=2&&r.biff<=5?6:8,r);return[s,a]}function wQe(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=vee(e,i,r);return[s,a,o]}function NQe(e,t,r){var s=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[s]}function _Qe(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[s,a]}function SQe(e,t,r){var s=(e[e.l++]&96)>>5,a=xQe(e,t-1,r);return[s,a]}function CQe(e,t,r){var s=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[s]}function m8(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function AQe(e,t,r){e.l+=2;for(var s=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=s;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function EQe(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(r&&r.biff==2?1:2)]}function PQe(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=2,[s,e.read_shift(r&&r.biff==2?1:2)]}function kQe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function TQe(e,t,r){var s=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[s]}function bee(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function OQe(e){return e.read_shift(2),bee(e)}function DQe(e){return e.read_shift(2),bee(e)}function IQe(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=jee(e,0,r);return[s,a]}function RQe(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=yQe(e,0,r);return[s,a]}function MQe(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=jee(e,0,r);return[s,a,i]}function FQe(e,t,r){var s=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[FZe[a],_ee[a],s]}function $Qe(e,t,r){var s=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[s==88?-1:0,e.read_shift(1)]:LQe(e);return[a,(i[0]===0?_ee:MZe)[i[1]]]}function LQe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function BQe(e,t,r){e.l+=r&&r.biff==2?3:4}function UQe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var s=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function VQe(e){return e.l++,Ay[e.read_shift(1)]}function zQe(e){return e.l++,e.read_shift(2)}function WQe(e){return e.l++,e.read_shift(1)!==0}function HQe(e){return e.l++,gx(e)}function qQe(e,t,r){return e.l++,nee(e,t-1,r)}function GQe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=MYe(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Ay[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=gx(e);break;case 2:r[1]=BYe(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function KQe(e,t,r){for(var s=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=s;++i)a.push((r.biff==12?jm:zYe)(e));return a}function YQe(e,t,r){var s=0,a=0;r.biff==12?(s=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),s=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--s,--a==0&&(a=256));for(var i=0,o=[];i!=s&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=GQe(e,r.biff);return o}function XQe(e,t,r){var s=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[s,0,i]}function QQe(e,t,r){if(r.biff==5)return ZQe(e);var s=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[s,a,i]}function ZQe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var s=e.read_shift(2);return e.l+=12,[t,r,s]}function JQe(e,t,r){var s=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function eZe(e,t,r){var s=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[s,a]}function tZe(e,t,r){var s=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[s]}function rZe(e,t,r){var s=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[s,a]}var nZe=rc,sZe=rc,aZe=rc;function Ey(e,t,r){return e.l+=2,[vQe(e)]}function wD(e){return e.l+=6,[]}var iZe=Ey,oZe=wD,lZe=wD,cZe=Ey;function wee(e){return e.l+=2,[tee(e),e.read_shift(2)&1]}var dZe=Ey,uZe=wee,fZe=wD,mZe=Ey,hZe=Ey,pZe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function xZe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),s=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=pZe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:s,c:a,C:i}}function gZe(e){return e.l+=2,[e.read_shift(4)]}function vZe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function yZe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function jZe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function bZe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function wZe(e){return e.l+=4,[0,0]}var h8={1:{n:"PtgExp",f:UQe},2:{n:"PtgTbl",f:aZe},3:{n:"PtgAdd",f:Zn},4:{n:"PtgSub",f:Zn},5:{n:"PtgMul",f:Zn},6:{n:"PtgDiv",f:Zn},7:{n:"PtgPower",f:Zn},8:{n:"PtgConcat",f:Zn},9:{n:"PtgLt",f:Zn},10:{n:"PtgLe",f:Zn},11:{n:"PtgEq",f:Zn},12:{n:"PtgGe",f:Zn},13:{n:"PtgGt",f:Zn},14:{n:"PtgNe",f:Zn},15:{n:"PtgIsect",f:Zn},16:{n:"PtgUnion",f:Zn},17:{n:"PtgRange",f:Zn},18:{n:"PtgUplus",f:Zn},19:{n:"PtgUminus",f:Zn},20:{n:"PtgPercent",f:Zn},21:{n:"PtgParen",f:Zn},22:{n:"PtgMissArg",f:Zn},23:{n:"PtgStr",f:qQe},26:{n:"PtgSheet",f:vZe},27:{n:"PtgEndSheet",f:yZe},28:{n:"PtgErr",f:VQe},29:{n:"PtgBool",f:WQe},30:{n:"PtgInt",f:zQe},31:{n:"PtgNum",f:HQe},32:{n:"PtgArray",f:CQe},33:{n:"PtgFunc",f:FQe},34:{n:"PtgFuncVar",f:$Qe},35:{n:"PtgName",f:XQe},36:{n:"PtgRef",f:IQe},37:{n:"PtgArea",f:bQe},38:{n:"PtgMemArea",f:JQe},39:{n:"PtgMemErr",f:nZe},40:{n:"PtgMemNoMem",f:sZe},41:{n:"PtgMemFunc",f:eZe},42:{n:"PtgRefErr",f:tZe},43:{n:"PtgAreaErr",f:NQe},44:{n:"PtgRefN",f:RQe},45:{n:"PtgAreaN",f:SQe},46:{n:"PtgMemAreaN",f:jZe},47:{n:"PtgMemNoMemN",f:bZe},57:{n:"PtgNameX",f:QQe},58:{n:"PtgRef3d",f:MQe},59:{n:"PtgArea3d",f:wQe},60:{n:"PtgRefErr3d",f:rZe},61:{n:"PtgAreaErr3d",f:_Qe},255:{}},NZe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},_Ze={1:{n:"PtgElfLel",f:wee},2:{n:"PtgElfRw",f:mZe},3:{n:"PtgElfCol",f:iZe},6:{n:"PtgElfRwV",f:hZe},7:{n:"PtgElfColV",f:cZe},10:{n:"PtgElfRadical",f:dZe},11:{n:"PtgElfRadicalS",f:fZe},13:{n:"PtgElfColS",f:oZe},15:{n:"PtgElfColSV",f:lZe},16:{n:"PtgElfRadicalLel",f:uZe},25:{n:"PtgList",f:xZe},29:{n:"PtgSxName",f:gZe},255:{}},SZe={0:{n:"PtgAttrNoop",f:wZe},1:{n:"PtgAttrSemi",f:TQe},2:{n:"PtgAttrIf",f:PQe},4:{n:"PtgAttrChoose",f:AQe},8:{n:"PtgAttrGoto",f:EQe},16:{n:"PtgAttrSum",f:BQe},32:{n:"PtgAttrBaxcel",f:m8},33:{n:"PtgAttrBaxcel",f:m8},64:{n:"PtgAttrSpace",f:OQe},65:{n:"PtgAttrSpaceSemi",f:DQe},128:{n:"PtgAttrIfError",f:kQe},255:{}};function CZe(e,t,r,s){if(s.biff<8)return rc(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=YQe(e,0,s),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=KQe(e,r[o][1],s),i.push(r[o][2]);break;case"PtgExp":s&&s.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(rc(e,t)),i}function AZe(e,t,r){for(var s=e.l+t,a,i,o=[];s!=e.l;)t=s-e.l,i=e[e.l],a=h8[i]||h8[NZe[i]],(i===24||i===25)&&(a=(i===24?_Ze:SZe)[e[e.l+1]]),!a||!a.f?rc(e,t):o.push([a.n,a.f(e,t,r)]);return o}function EZe(e){for(var t=[],r=0;r<e.length;++r){for(var s=e[r],a=[],i=0;i<s.length;++i){var o=s[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var PZe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function kZe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Nee(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var s=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!s)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[s[0]][0]){case 357:return a=s[1]==-1?"#REF":e.SheetNames[s[1]],s[1]==s[2]?a:a+":"+e.SheetNames[s[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[s[0]][0];case 355:default:return"SH33TJSSRC"+e[s[0]][0]}switch(e[s[0]][0][0]){case 1025:return a=s[1]==-1?"#REF":e.SheetNames[s[1]]||"SH33TJSERR3",s[1]==s[2]?a:a+":"+e.SheetNames[s[2]];case 14849:return e[s[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[s[0]][0][3]?(a=s[1]==-1?"#REF":e[s[0]][0][3][s[1]]||"SH33TJSERR4",s[1]==s[2]?a:a+":"+e[s[0]][0][3][s[2]]):"SH33TJSERR2"}}function p8(e,t,r){var s=Nee(e,t,r);return s=="#REF"?s:kZe(s,r)}function Dp(e,t,r,s,a){var i=a&&a.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,d,u,f=0,m=0,h,x="";if(!e[0]||!e[0][0])return"";for(var p=-1,g="",j=0,y=e[0].length;j<y;++j){var w=e[0][j];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),p>=0){switch(e[0][p][1][0]){case 0:g=Mn(" ",e[0][p][1][1]);break;case 1:g=Mn("\r",e[0][p][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}d=d+g,p=-1}l.push(d+PZe[w[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=zg(w[1][1],o,a),l.push(Wg(u,i));break;case"PtgRefN":u=r?zg(w[1][1],r,a):w[1][1],l.push(Wg(u,i));break;case"PtgRef3d":f=w[1][1],u=zg(w[1][2],o,a),x=p8(s,f,a),l.push(x+"!"+Wg(u,i));break;case"PtgFunc":case"PtgFuncVar":var b=w[1][0],N=w[1][1];b||(b=0),b&=127;var _=b==0?[]:l.slice(-b);l.length-=b,N==="User"&&(N=_.shift()),l.push(N+"("+_.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":h=JL(w[1][1],r?{s:r}:o,a),l.push(yC(h,a));break;case"PtgArea":h=JL(w[1][1],o,a),l.push(yC(h,a));break;case"PtgArea3d":f=w[1][1],h=w[1][2],x=p8(s,f,a),l.push(x+"!"+yC(h,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=w[1][2];var S=(s.names||[])[m-1]||(s[0]||[])[m],A=S?S.Name:"SH33TJSNAME"+String(m);A&&A.slice(0,6)=="_xlfn."&&!a.xlfn&&(A=A.slice(6)),l.push(A);break;case"PtgNameX":var E=w[1][1];m=w[1][2];var P;if(a.biff<=5)E<0&&(E=-E),s[E]&&(P=s[E][m]);else{var D="";if(((s[E]||[])[0]||[])[0]==14849||(((s[E]||[])[0]||[])[0]==1025?s[E][m]&&s[E][m].itab>0&&(D=s.SheetNames[s[E][m].itab-1]+"!"):D=s.SheetNames[m-1]+"!"),s[E]&&s[E][m])D+=s[E][m].Name;else if(s[0]&&s[0][m])D+=s[0][m].Name;else{var I=(Nee(s,E,a)||"").split(";;");I[m-1]?D=I[m-1]:D+="SH33TJSERRX"}l.push(D);break}P||(P={Name:"SH33TJSERRY"}),l.push(P.Name);break;case"PtgParen":var W="(",H=")";if(p>=0){switch(g="",e[0][p][1][0]){case 2:W=Mn(" ",e[0][p][1][1])+W;break;case 3:W=Mn("\r",e[0][p][1][1])+W;break;case 4:H=Mn(" ",e[0][p][1][1])+H;break;case 5:H=Mn("\r",e[0][p][1][1])+H;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}l.push(W+l.pop()+H);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var F={c:r.c,r:r.r};if(s.sharedf[Fr(u)]){var T=s.sharedf[Fr(u)];l.push(Dp(T,o,F,s,a))}else{var k=!1;for(c=0;c!=s.arrayf.length;++c)if(d=s.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push(Dp(d[1],o,F,s,a)),k=!0;break}k||l.push(w[1])}break;case"PtgArray":l.push("{"+EZe(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var M=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&M.indexOf(e[0][j][0])==-1){w=e[0][p];var O=!0;switch(w[1][0]){case 4:O=!1;case 0:g=Mn(" ",w[1][1]);break;case 5:O=!1;case 1:g=Mn("\r",w[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((O?g:"")+l.pop()+(O?"":g)),p=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function TZe(e){if(e==null){var t=$e(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return rm(e);return rm(0)}function OZe(e,t,r,s,a){var i=nm(t,r,a),o=TZe(e.v),l=$e(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var d=$e(e.bf.length),u=0;u<e.bf.length;++u)d[u]=e.bf[u];var f=Hs([i,o,l,d]);return f}function l_(e,t,r){var s=e.read_shift(4),a=AZe(e,s,r),i=e.read_shift(4),o=i>0?CZe(e,i,a,r):null;return[a,o]}var DZe=l_,c_=l_,IZe=l_,RZe=l_,MZe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},_ee={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},FZe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function $Ze(e){var t="of:="+e.replace(jD,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function LZe(e){return e.replace(/\./,"!")}var Hg=typeof Map<"u";function ND(e,t,r){var s=0,a=e.length;if(r){if(Hg?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Hg?r.get(t):r[t];s<i.length;++s)if(e[i[s]].t===t)return e.Count++,i[s]}}else for(;s<a;++s)if(e[s].t===t)return e.Count++,s;return e[a]={t},e.Count++,e.Unique++,r&&(Hg?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function d_(e,t){var r={min:e+1,max:e+1},s=-1;return t.MDW&&(Uc=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?s=Hw(t.wpx):t.wch!=null&&(s=t.wch),s>-1?(r.width=_P(s),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function See(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function $u(e,t,r){var s=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(s==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){jJ(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=s=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===s)return a;return e[i]={numFmtId:s,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function BZe(e,t,r){if(e&&e["!ref"]){var s=dn(e["!ref"]);if(s.e.c<s.s.c||s.e.r<s.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function UZe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+ns(e[r])+'"/>';return t+"</mergeCells>"}function VZe(e,t,r,s,a){var i=!1,o={},l=null;if(s.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=vv(Rr(c))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),l=(l||"")+nt("outlinePr",null,d)}!i&&!l||(a[a.length]=nt("sheetPr",l,o))}var zZe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],WZe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function HZe(e){var t={sheet:1};return zZe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),WZe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=lee(e.password).toString(16).toUpperCase()),nt("sheetProtection",null,t)}function qZe(e){return See(e),nt("pageMargins",null,e)}function GZe(e,t){for(var r=["<cols>"],s,a=0;a!=t.length;++a)(s=t[a])&&(r[r.length]=nt("col",null,d_(a,s)));return r[r.length]="</cols>",r.join("")}function KZe(e,t,r,s){var a=typeof e.ref=="string"?e.ref:ns(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=qi(a);o.s.r==o.e.r&&(o.e.r=qi(t["!ref"]).e.r,a=ns(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==s){c.Ref="'"+r.SheetNames[s]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+r.SheetNames[s]+"'!"+a}),nt("autoFilter",null,{ref:a})}function YZe(e,t,r,s){var a={workbookViewId:"0"};return(((s||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=s.Workbook.Views[0].RTL?"1":"0"),nt("sheetViews",nt("sheetView",null,a),{})}function XZe(e,t,r,s){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Ay[e.v];break;case"d":s&&s.cellDates?a=Da(e.v,-1).toISOString():(e=fi(e),e.t="n",a=""+(e.v=ui(Da(e.v)))),typeof e.z>"u"&&(e.z=Fn[14]);break;default:a=e.v;break}var l=qs("v",Rr(a)),c={r:t},d=$u(s.cellXfs,e,s);switch(d!==0&&(c.s=d),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(s&&s.bookSST){l=qs("v",""+ND(s.Strings,e.v,s.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=nt("f",Rr(e.f),u)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),nt("c",l,c)}function QZe(e,t,r,s){var a=[],i=[],o=dn(e["!ref"]),l="",c,d="",u=[],f=0,m=0,h=e["!rows"],x=Array.isArray(e),p={r:d},g,j=-1;for(m=o.s.c;m<=o.e.c;++m)u[m]=ma(m);for(f=o.s.r;f<=o.e.r;++f){for(i=[],d=Xs(f),m=o.s.c;m<=o.e.c;++m){c=u[m]+d;var y=x?(e[f]||[])[m]:e[c];y!==void 0&&(l=XZe(y,c,e,t))!=null&&i.push(l)}(i.length>0||h&&h[f])&&(p={r:d},h&&h[f]&&(g=h[f],g.hidden&&(p.hidden=1),j=-1,g.hpx?j=qw(g.hpx):g.hpt&&(j=g.hpt),j>-1&&(p.ht=j,p.customHeight=1),g.level&&(p.outlineLevel=g.level)),a[a.length]=nt("row",i.join(""),p))}if(h)for(;f<h.length;++f)h&&h[f]&&(p={r:f+1},g=h[f],g.hidden&&(p.hidden=1),j=-1,g.hpx?j=qw(g.hpx):g.hpt&&(j=g.hpt),j>-1&&(p.ht=j,p.customHeight=1),g.level&&(p.outlineLevel=g.level),a[a.length]=nt("row","",p));return a.join("")}function Cee(e,t,r,s){var a=[os,nt("worksheet",null,{xmlns:hx[0],"xmlns:r":Es.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var d=c["!ref"]||"A1",u=dn(d);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=ns(u)}s||(s={}),c["!comments"]=[];var f=[];VZe(c,r,e,t,a),a[a.length]=nt("dimension",null,{ref:d}),a[a.length]=YZe(c,t,e,r),t.sheetFormat&&(a[a.length]=nt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=GZe(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=QZe(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=HZe(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=KZe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=UZe(c["!merges"]));var m=-1,h,x=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(p){p[1].Target&&(h={ref:p[0]},p[1].Target.charAt(0)!="#"&&(x=Dr(s,-1,Rr(p[1].Target).replace(/#.*$/,""),vr.HLINK),h["r:id"]="rId"+x),(m=p[1].Target.indexOf("#"))>-1&&(h.location=Rr(p[1].Target.slice(m+1))),p[1].Tooltip&&(h.tooltip=Rr(p[1].Tooltip)),a[a.length]=nt("hyperlink",null,h))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=qZe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=qs("ignoredErrors",nt("ignoredError",null,{numberStoredAsText:1,sqref:d}))),f.length>0&&(x=Dr(s,-1,"../drawings/drawing"+(e+1)+".xml",vr.DRAW),a[a.length]=nt("drawing",null,{"r:id":"rId"+x}),c["!drawing"]=f),c["!comments"].length>0&&(x=Dr(s,-1,"../drawings/vmlDrawing"+(e+1)+".vml",vr.VML),a[a.length]=nt("legacyDrawing",null,{"r:id":"rId"+x}),c["!legacy"]=x),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function ZZe(e,t){var r={},s=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=s,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function JZe(e,t,r){var s=$e(145),a=(r["!rows"]||[])[e]||{};s.write_shift(4,e),s.write_shift(4,0);var i=320;a.hpx?i=qw(a.hpx)*20:a.hpt&&(i=a.hpt*20),s.write_shift(2,i),s.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),s.write_shift(1,o),s.write_shift(1,0);var l=0,c=s.l;s.l+=4;for(var d={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var f=-1,m=-1,h=u<<10;h<u+1<<10;++h){d.c=h;var x=Array.isArray(r)?(r[d.r]||[])[d.c]:r[Fr(d)];x&&(f<0&&(f=h),m=h)}f<0||(++l,s.write_shift(4,f),s.write_shift(4,m))}var p=s.l;return s.l=c,s.write_shift(4,l),s.l=p,s.length>s.l?s.slice(0,s.l):s}function eJe(e,t,r,s){var a=JZe(s,r,t);(a.length>17||(t["!rows"]||[])[s])&&We(e,0,a)}var tJe=jm,rJe=xx;function nJe(){}function sJe(e,t){var r={},s=e[e.l];return++e.l,r.above=!(s&64),r.left=!(s&128),e.l+=18,r.name=hYe(e),r}function aJe(e,t,r){r==null&&(r=$e(84+4*e.length));var s=192;t&&(t.above&&(s&=-65),t.left&&(s&=-129)),r.write_shift(1,s);for(var a=1;a<3;++a)r.write_shift(1,0);return Vw({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),UJ(e,r),r.slice(0,r.l)}function iJe(e){var t=Do(e);return[t]}function oJe(e,t,r){return r==null&&(r=$e(8)),gm(t,r)}function lJe(e){var t=vm(e);return[t]}function cJe(e,t,r){return r==null&&(r=$e(4)),ym(t,r)}function dJe(e){var t=Do(e),r=e.read_shift(1);return[t,r,"b"]}function uJe(e,t,r){return r==null&&(r=$e(9)),gm(t,r),r.write_shift(1,e.v?1:0),r}function fJe(e){var t=vm(e),r=e.read_shift(1);return[t,r,"b"]}function mJe(e,t,r){return r==null&&(r=$e(5)),ym(t,r),r.write_shift(1,e.v?1:0),r}function hJe(e){var t=Do(e),r=e.read_shift(1);return[t,r,"e"]}function pJe(e,t,r){return r==null&&(r=$e(9)),gm(t,r),r.write_shift(1,e.v),r}function xJe(e){var t=vm(e),r=e.read_shift(1);return[t,r,"e"]}function gJe(e,t,r){return r==null&&(r=$e(8)),ym(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function vJe(e){var t=Do(e),r=e.read_shift(4);return[t,r,"s"]}function yJe(e,t,r){return r==null&&(r=$e(12)),gm(t,r),r.write_shift(4,t.v),r}function jJe(e){var t=vm(e),r=e.read_shift(4);return[t,r,"s"]}function bJe(e,t,r){return r==null&&(r=$e(8)),ym(t,r),r.write_shift(4,t.v),r}function wJe(e){var t=Do(e),r=gx(e);return[t,r,"n"]}function NJe(e,t,r){return r==null&&(r=$e(16)),gm(t,r),rm(e.v,r),r}function _Je(e){var t=vm(e),r=gx(e);return[t,r,"n"]}function SJe(e,t,r){return r==null&&(r=$e(12)),ym(t,r),rm(e.v,r),r}function CJe(e){var t=Do(e),r=VJ(e);return[t,r,"n"]}function AJe(e,t,r){return r==null&&(r=$e(12)),gm(t,r),zJ(e.v,r),r}function EJe(e){var t=vm(e),r=VJ(e);return[t,r,"n"]}function PJe(e,t,r){return r==null&&(r=$e(8)),ym(t,r),zJ(e.v,r),r}function kJe(e){var t=Do(e),r=pD(e);return[t,r,"is"]}function TJe(e){var t=Do(e),r=ha(e);return[t,r,"str"]}function OJe(e,t,r){return r==null&&(r=$e(12+4*e.v.length)),gm(t,r),ks(e.v,r),r.length>r.l?r.slice(0,r.l):r}function DJe(e){var t=vm(e),r=ha(e);return[t,r,"str"]}function IJe(e,t,r){return r==null&&(r=$e(8+4*e.v.length)),ym(t,r),ks(e.v,r),r.length>r.l?r.slice(0,r.l):r}function RJe(e,t,r){var s=e.l+t,a=Do(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=c_(e,s-e.l,r);o[3]=Dp(l,null,a,r.supbooks,r)}else e.l=s;return o}function MJe(e,t,r){var s=e.l+t,a=Do(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=c_(e,s-e.l,r);o[3]=Dp(l,null,a,r.supbooks,r)}else e.l=s;return o}function FJe(e,t,r){var s=e.l+t,a=Do(e);a.r=r["!row"];var i=gx(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=c_(e,s-e.l,r);o[3]=Dp(l,null,a,r.supbooks,r)}else e.l=s;return o}function $Je(e,t,r){var s=e.l+t,a=Do(e);a.r=r["!row"];var i=ha(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=c_(e,s-e.l,r);o[3]=Dp(l,null,a,r.supbooks,r)}else e.l=s;return o}var LJe=jm,BJe=xx;function UJe(e,t){return t==null&&(t=$e(4)),t.write_shift(4,e),t}function VJe(e,t){var r=e.l+t,s=jm(e),a=xD(e),i=ha(e),o=ha(e),l=ha(e);e.l=r;var c={rfx:s,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function zJe(e,t){var r=$e(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));xx({s:Ps(e[0]),e:Ps(e[0])},r),gD("rId"+t,r);var s=e[1].Target.indexOf("#"),a=s==-1?"":e[1].Target.slice(s+1);return ks(a||"",r),ks(e[1].Tooltip||"",r),ks("",r),r.slice(0,r.l)}function WJe(){}function HJe(e,t,r){var s=e.l+t,a=WJ(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=DZe(e,s-e.l,r);o[1]=l}else e.l=s;return o}function qJe(e,t,r){var s=e.l+t,a=jm(e),i=[a];if(r.cellFormula){var o=RZe(e,s-e.l,r);i[1]=o,e.l=s}else e.l=s;return i}function GJe(e,t,r){r==null&&(r=$e(18));var s=d_(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(s.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof s.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var Aee=["left","right","top","bottom","header","footer"];function KJe(e){var t={};return Aee.forEach(function(r){t[r]=gx(e)}),t}function YJe(e,t){return t==null&&(t=$e(6*8)),See(e),Aee.forEach(function(r){rm(e[r],t)}),t}function XJe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function QJe(e,t,r){r==null&&(r=$e(30));var s=924;return(((t||{}).Views||[])[0]||{}).RTL&&(s|=32),r.write_shift(2,s),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function ZJe(e){var t=$e(24);return t.write_shift(4,4),t.write_shift(4,1),xx(e,t),t}function JJe(e,t){return t==null&&(t=$e(16*4+2)),t.write_shift(2,e.password?lee(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function eet(){}function tet(){}function ret(e,t,r,s,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=fi(t),t.z=t.z||Fn[14],t.v=ui(Da(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:s};switch(c.s=$u(a.cellXfs,t,a),t.l&&i["!links"].push([Fr(c),t.l]),t.c&&i["!comments"].push([Fr(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=ND(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?We(e,18,bJe(t,c)):We(e,7,yJe(t,c))):(c.t="str",o?We(e,17,IJe(t,c)):We(e,6,OJe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?We(e,13,PJe(t,c)):We(e,2,AJe(t,c)):o?We(e,16,SJe(t,c)):We(e,5,NJe(t,c)),!0;case"b":return c.t="b",o?We(e,15,mJe(t,c)):We(e,4,uJe(t,c)),!0;case"e":return c.t="e",o?We(e,14,gJe(t,c)):We(e,3,pJe(t,c)),!0}return o?We(e,12,cJe(t,c)):We(e,1,oJe(t,c)),!0}function net(e,t,r,s){var a=dn(t["!ref"]||"A1"),i,o="",l=[];We(e,145);var c=Array.isArray(t),d=a.e.r;t["!rows"]&&(d=Math.max(a.e.r,t["!rows"].length-1));for(var u=a.s.r;u<=d;++u){o=Xs(u),eJe(e,t,a,u);var f=!1;if(u<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){u===a.s.r&&(l[m]=ma(m)),i=l[m]+o;var h=c?(t[u]||[])[m]:t[i];if(!h){f=!1;continue}f=ret(e,h,u,m,s,t,f)}}We(e,146)}function set(e,t){!t||!t["!merges"]||(We(e,177,UJe(t["!merges"].length)),t["!merges"].forEach(function(r){We(e,176,BJe(r))}),We(e,178))}function aet(e,t){!t||!t["!cols"]||(We(e,390),t["!cols"].forEach(function(r,s){r&&We(e,60,GJe(s,r))}),We(e,391))}function iet(e,t){!t||!t["!ref"]||(We(e,648),We(e,649,ZJe(dn(t["!ref"]))),We(e,650))}function oet(e,t,r){t["!links"].forEach(function(s){if(s[1].Target){var a=Dr(r,-1,s[1].Target.replace(/#.*$/,""),vr.HLINK);We(e,494,zJe(s,a))}}),delete t["!links"]}function cet(e,t,r,s){if(t["!comments"].length>0){var a=Dr(s,-1,"../drawings/vmlDrawing"+(r+1)+".vml",vr.VML);We(e,551,gD("rId"+a)),t["!legacy"]=a}}function det(e,t,r,s){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:ns(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=qi(i);l.s.r==l.e.r&&(l.e.r=qi(t["!ref"]).e.r,i=ns(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==s){d.Ref="'"+r.SheetNames[s]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:s,Ref:"'"+r.SheetNames[s]+"'!"+i}),We(e,161,xx(dn(i))),We(e,162)}}function uet(e,t,r){We(e,133),We(e,137,QJe(t,r)),We(e,138),We(e,134)}function fet(e,t){t["!protect"]&&We(e,535,JJe(t["!protect"]))}function met(e,t,r,s){var a=ci(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=dn(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],We(a,129),(r.vbaraw||o["!outline"])&&We(a,147,aJe(l,o["!outline"])),We(a,148,rJe(c)),uet(a,o,r.Workbook),aet(a,o),net(a,o,e,t),fet(a,o),det(a,o,r,e),set(a,o),oet(a,o,s),o["!margins"]&&We(a,476,YJe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&iet(a,o),cet(a,o,e,s),We(a,130),a.end()}function het(e,t){e.l+=10;var r=ha(e);return{name:r}}var pet=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function xet(e){return!e.Workbook||!e.Workbook.WBProps?"false":qKe(e.Workbook.WBProps.date1904)?"true":"false"}var get="][*?/\\".split("");function Eee(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return get.forEach(function(s){if(e.indexOf(s)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function vet(e,t,r){e.forEach(function(s,a){Eee(s);for(var i=0;i<a;++i)if(s==e[i])throw new Error("Duplicate Sheet Name: "+s);if(r){var o=t&&t[a]&&t[a].CodeName||s;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function yet(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];vet(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)BZe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function Pee(e){var t=[os];t[t.length]=nt("workbook",null,{xmlns:hx[0],"xmlns:r":Es.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,s={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(pet.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(s[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(s.codeName=e.Workbook.WBProps.CodeName,delete s.CodeName)),t[t.length]=nt("workbookPr",null,s);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:Rr(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=nt("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=nt("definedName",Rr(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function jet(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=NP(e),r.name=ha(e),r}function bet(e,t){return t||(t=$e(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),gD(e.strRelID,t),ks(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function wet(e,t){var r={},s=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?ha(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(s&65536),r.backupFile=!!(s&64),r.checkCompatibility=!!(s&4096),r.date1904=!!(s&1),r.filterPrivacy=!!(s&8),r.hidePivotFieldList=!!(s&1024),r.promptedSolutions=!!(s&16),r.publishItems=!!(s&2048),r.refreshAllConnections=!!(s&262144),r.saveExternalLinkValues=!!(s&128),r.showBorderUnselectedTables=!!(s&4),r.showInkAnnotation=!!(s&32),r.showObjects=["all","placeholders","none"][s>>13&3],r.showPivotChartFilter=!!(s&32768),r.updateLinks=["userSet","never","always"][s>>8&3],r}function Net(e,t){t||(t=$e(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),UJ(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function _et(e,t,r){var s=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=pYe(e),o=IZe(e,0,r),l=xD(e);e.l=s;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function Cet(e,t){We(e,143);for(var r=0;r!=t.SheetNames.length;++r){var s=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:s,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};We(e,156,bet(a))}We(e,144)}function Aet(e,t){t||(t=$e(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return ks("SheetJS",t),ks(Rw.version,t),ks(Rw.version,t),ks("7262",t),t.length>t.l?t.slice(0,t.l):t}function Eet(e,t){t||(t=$e(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Pet(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,s=0,a=-1,i=-1;s<r.length;++s)!r[s]||!r[s].Hidden&&a==-1?a=s:r[s].Hidden==1&&i==-1&&(i=s);i>a||(We(e,135),We(e,158,Eet(a)),We(e,136))}}function ket(e,t){var r=ci();return We(r,131),We(r,128,Aet()),We(r,153,Net(e.Workbook&&e.Workbook.WBProps||null)),Pet(r,e),Cet(r,e),We(r,132),r.end()}function Tet(e,t,r){return(t.slice(-4)===".bin"?ket:Pee)(e)}function Oet(e,t,r,s,a){return(t.slice(-4)===".bin"?met:Cee)(e,r,s,a)}function Det(e,t,r){return(t.slice(-4)===".bin"?YXe:uee)(e,r)}function Iet(e,t,r){return(t.slice(-4)===".bin"?wXe:oee)(e,r)}function Ret(e,t,r){return(t.slice(-4)===".bin"?uQe:xee)(e)}function Met(e){return(e.slice(-4)===".bin"?nQe:hee)()}function Fet(e,t){var r=[];return e.Props&&r.push(TYe(e.Props,t)),e.Custprops&&r.push(OYe(e.Props,e.Custprops)),r.join("")}function $et(){return""}function Let(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(s,a){var i=[];i.push(nt("NumberFormat",null,{"ss:Format":Rr(Fn[s.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(nt("Style",i.join(""),o))}),nt("Styles",r.join(""))}function kee(e){return nt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+bD(e.Ref,{r:0,c:0})})}function Bet(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],s=0;s<t.length;++s){var a=t[s];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(kee(a)))}return nt("Names",r.join(""))}function Uet(e,t,r,s){if(!e||!((s||{}).Workbook||{}).Names)return"";for(var a=s.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(kee(l)))}return i.join("")}function Vet(e,t,r,s){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(nt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(nt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(nt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),s&&s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[r])if(s.Workbook.Sheets[r].Hidden)a.push(nt("Visible",s.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(s.Workbook.Sheets[i]&&!s.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((s||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(qs("ProtectContents","True")),e["!protect"].objects&&a.push(qs("ProtectObjects","True")),e["!protect"].scenarios&&a.push(qs("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(qs("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(qs("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":nt("WorksheetOptions",a.join(""),{xmlns:Ei.x})}function zet(e){return e.map(function(t){var r=HKe(t.t||""),s=nt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return nt("Comment",s,{"ss:Author":t.a})}).join("")}function Wet(e,t,r,s,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Rr(bD(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=Ps(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Rr(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Rr(e.l.Tooltip))),r["!merges"])for(var d=r["!merges"],u=0;u!=d.length;++u)d[u].s.c!=o.c||d[u].s.r!=o.r||(d[u].e.c>d[u].s.c&&(l["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(l["ss:MergeDown"]=d[u].e.r-d[u].s.r));var f="",m="";switch(e.t){case"z":if(!s.sheetStubs)return"";break;case"n":f="Number",m=String(e.v);break;case"b":f="Boolean",m=e.v?"1":"0";break;case"e":f="Error",m=Ay[e.v];break;case"d":f="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Fn[14]);break;case"s":f="String",m=WKe(e.v||"");break}var h=$u(s.cellXfs,e,s);l["ss:StyleID"]="s"+(21+h),l["ss:Index"]=o.c+1;var x=e.v!=null?m:"",p=e.t=="z"?"":'<Data ss:Type="'+f+'">'+x+"</Data>";return(e.c||[]).length>0&&(p+=zet(e.c)),nt("Cell",p,l)}function Het(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=dee(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function qet(e,t,r,s){if(!e["!ref"])return"";var a=dn(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(g,j){yD(g);var y=!!g.width,w=d_(j,g),b={"ss:Index":j+1};y&&(b["ss:Width"]=Ww(w.width)),g.hidden&&(b["ss:Hidden"]="1"),l.push(nt("Column",null,b))});for(var c=Array.isArray(e),d=a.s.r;d<=a.e.r;++d){for(var u=[Het(d,(e["!rows"]||[])[d])],f=a.s.c;f<=a.e.c;++f){var m=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>f)&&!(i[o].s.r>d)&&!(i[o].e.c<f)&&!(i[o].e.r<d)){(i[o].s.c!=f||i[o].s.r!=d)&&(m=!0);break}if(!m){var h={r:d,c:f},x=Fr(h),p=c?(e[d]||[])[f]:e[x];u.push(Wet(p,x,e,t,r,s,h))}}u.push("</Row>"),u.length>2&&l.push(u.join(""))}return l.join("")}function Get(e,t,r){var s=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?Uet(i,t,e,r):"";return o.length>0&&s.push("<Names>"+o+"</Names>"),o=i?qet(i,t,e,r):"",o.length>0&&s.push("<Table>"+o+"</Table>"),s.push(Vet(i,t,e,r)),s.join("")}function Ket(e,t){t||(t={}),e.SSF||(e.SSF=fi(Fn)),e.SSF&&(a_(),s_(e.SSF),t.revssf=i_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],$u(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Fet(e,t)),r.push($et()),r.push(""),r.push("");for(var s=0;s<e.SheetNames.length;++s)r.push(nt("Worksheet",Get(s,t,e),{"ss:Name":Rr(e.SheetNames[s])}));return r[2]=Let(e,t),r[3]=Bet(e),os+nt("Workbook",r.join(""),{xmlns:Ei.ss,"xmlns:o":Ei.o,"xmlns:x":Ei.x,"xmlns:ss":Ei.ss,"xmlns:dt":Ei.dt,"xmlns:html":Ei.html})}var wC={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Yet(e,t){var r=[],s=[],a=[],i=0,o,l=VL(t8,"n"),c=VL(r8,"n");if(e.Props)for(o=Js(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?s:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=Js(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?s:a).push([o[i],e.Custprops[o[i]]]);var d=[];for(i=0;i<a.length;++i)eee.indexOf(a[i][0])>-1||QJ.indexOf(a[i][0])>-1||a[i][1]!=null&&d.push(a[i]);s.length&&Ur.utils.cfb_add(t,"/SummaryInformation",o8(s,wC.SI,c,r8)),(r.length||d.length)&&Ur.utils.cfb_add(t,"/DocumentSummaryInformation",o8(r,wC.DSI,l,t8,d.length?d:null,wC.UDI))}function Xet(e,t){var r=t||{},s=Ur.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Ur.utils.cfb_add(s,a,Tee(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Yet(e,s),r.biff==8&&e.vbaraw&&fQe(s,Ur.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),s}var Qet={0:{f:ZZe},1:{f:iJe},2:{f:CJe},3:{f:hJe},4:{f:dJe},5:{f:wJe},6:{f:TJe},7:{f:vJe},8:{f:$Je},9:{f:FJe},10:{f:RJe},11:{f:MJe},12:{f:lJe},13:{f:EJe},14:{f:xJe},15:{f:fJe},16:{f:_Je},17:{f:DJe},18:{f:jJe},19:{f:pD},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:_et},40:{},42:{},43:{f:TXe},44:{f:PXe},45:{f:IXe},46:{f:MXe},47:{f:RXe},48:{},49:{f:lYe},50:{},51:{f:ZXe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:cXe},62:{f:kJe},63:{f:sQe},64:{f:eet},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:rc,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:XJe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:sJe},148:{f:tJe,p:16},151:{f:WJe},152:{},153:{f:wet},154:{},155:{},156:{f:jet},157:{},158:{},159:{T:1,f:yXe},160:{T:-1},161:{T:1,f:jm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:LJe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:XXe},336:{T:-1},337:{f:tQe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:NP},357:{},358:{},359:{},360:{T:1},361:{},362:{f:nXe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:HJe},427:{f:qJe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:KJe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:nJe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:VJe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:NP},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:cQe},633:{T:1},634:{T:-1},635:{T:1,f:oQe},636:{T:-1},637:{f:fYe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:het},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:tet},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function st(e,t,r,s){var a=t;if(!isNaN(a)){var i=s||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&fD(r)&&e.push(r)}}function Zet(e,t,r,s){var a=(r||[]).length||0;if(a<=8224)return st(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d;c<a;){for(u=e.next(4),u.write_shift(2,60),d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;u.write_shift(2,d),e.push(r.slice(c,c+d)),c+=d}}}function Py(e,t,r){return e||(e=$e(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Jet(e,t,r,s){var a=$e(9);return Py(a,e,t),ree(r,s||"b",a),a}function ett(e,t,r){var s=$e(8+2*r.length);return Py(s,e,t),s.write_shift(1,r.length),s.write_shift(r.length,r,"sbcs"),s.l<s.length?s.slice(0,s.l):s}function ttt(e,t,r,s){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?ui(Da(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?st(e,2,mXe(r,s,a)):st(e,3,fXe(r,s,a));return;case"b":case"e":st(e,5,Jet(r,s,t.v,t.t));return;case"s":case"str":st(e,4,ett(r,s,(t.v||"").slice(0,255)));return}st(e,1,Py(null,r,s))}function rtt(e,t,r,s){var a=Array.isArray(t),i=dn(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(s.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=ns(i)}for(var d=i.s.r;d<=i.e.r;++d){l=Xs(d);for(var u=i.s.c;u<=i.e.c;++u){d===i.s.r&&(c[u]=ma(u)),o=c[u]+l;var f=a?(t[d]||[])[u]:t[o];f&&ttt(e,f,d,u)}}}function ntt(e,t){for(var r=t||{},s=ci(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return st(s,r.biff==4?1033:r.biff==3?521:9,vD(e,16,r)),rtt(s,e.Sheets[e.SheetNames[a]],a,r),st(s,10),s.end()}function stt(e,t,r){st(e,49,YYe({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function att(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var a=s[0];a<=s[1];++a)t[a]!=null&&st(e,1054,ZYe(a,t[a],r))})}function itt(e,t){var r=$e(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),st(e,2151,r),r=$e(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),aee(dn(t["!ref"]||"A1"),r),r.write_shift(4,4),st(e,2152,r)}function ott(e,t){for(var r=0;r<16;++r)st(e,224,c8({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(s){st(e,224,c8(s,0,t))})}function ltt(e,t){for(var r=0;r<t["!links"].length;++r){var s=t["!links"][r];st(e,440,iXe(s)),s[1].Tooltip&&st(e,2048,oXe(s))}delete t["!links"]}function ctt(e,t){if(t){var r=0;t.forEach(function(s,a){++r<=256&&s&&st(e,125,dXe(d_(a,s),a))})}}function dtt(e,t,r,s,a){var i=16+$u(a.cellXfs,t,a);if(t.v==null&&!t.bf){st(e,513,nm(r,s,i));return}if(t.bf)st(e,6,OZe(t,r,s,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?ui(Da(t.v)):t.v;st(e,515,rXe(r,s,o,i));break;case"b":case"e":st(e,517,tXe(r,s,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=ND(a.Strings,t.v,a.revStrings);st(e,253,XYe(r,s,l,i))}else st(e,516,QYe(r,s,(t.v||"").slice(0,255),i,a));break;default:st(e,513,nm(r,s,i))}}function utt(e,t,r){var s=ci(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),d=t.biff==8,u,f="",m=[],h=dn(i["!ref"]||"A1"),x=d?65536:16384;if(h.e.c>255||h.e.r>=x){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,x-1)}st(s,2057,vD(r,16,t)),st(s,13,lo(1)),st(s,12,lo(100)),st(s,15,Ea(!0)),st(s,17,Ea(!1)),st(s,16,rm(.001)),st(s,95,Ea(!0)),st(s,42,Ea(!1)),st(s,43,Ea(!1)),st(s,130,lo(1)),st(s,128,eXe()),st(s,131,Ea(!1)),st(s,132,Ea(!1)),d&&ctt(s,i["!cols"]),st(s,512,JYe(h,t)),d&&(i["!links"]=[]);for(var p=h.s.r;p<=h.e.r;++p){f=Xs(p);for(var g=h.s.c;g<=h.e.c;++g){p===h.s.r&&(m[g]=ma(g)),u=m[g]+f;var j=c?(i[p]||[])[g]:i[u];j&&(dtt(s,j,p,g,t),d&&j.l&&i["!links"].push([u,j.l]))}}var y=l.CodeName||l.name||a;return d&&st(s,574,KYe((o.Views||[])[0])),d&&(i["!merges"]||[]).length&&st(s,229,aXe(i["!merges"])),d&&ltt(s,i),st(s,442,see(y)),d&&itt(s,i),st(s,10),s.end()}function ftt(e,t,r){var s=ci(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(st(s,2057,vD(e,5,r)),r.bookType=="xla"&&st(s,135),st(s,225,l?lo(1200):null),st(s,193,RYe(2)),c&&st(s,191),c&&st(s,192),st(s,226),st(s,92,WYe("SheetJS",r)),st(s,66,lo(l?1200:1252)),l&&st(s,353,lo(0)),l&&st(s,448),st(s,317,uXe(e.SheetNames.length)),l&&e.vbaraw&&st(s,211),l&&e.vbaraw){var d=o.CodeName||"ThisWorkbook";st(s,442,see(d))}st(s,156,lo(17)),st(s,25,Ea(!1)),st(s,18,Ea(!1)),st(s,19,lo(0)),l&&st(s,431,Ea(!1)),l&&st(s,444,lo(0)),st(s,61,GYe()),st(s,64,Ea(!1)),st(s,141,lo(0)),st(s,34,Ea(xet(e)=="true")),st(s,14,Ea(!0)),l&&st(s,439,Ea(!1)),st(s,218,lo(0)),stt(s,e,r),att(s,e.SSF,r),ott(s,r),l&&st(s,352,Ea(!1));var u=s.end(),f=ci();l&&st(f,140,lXe()),l&&r.Strings&&Zet(f,252,qYe(r.Strings)),st(f,10);var m=f.end(),h=ci(),x=0,p=0;for(p=0;p<e.SheetNames.length;++p)x+=(l?12:11)+(l?2:1)*e.SheetNames[p].length;var g=u.length+x+m.length;for(p=0;p<e.SheetNames.length;++p){var j=i[p]||{};st(h,133,HYe({pos:g,hs:j.Hidden||0,dt:0,name:e.SheetNames[p]},r)),g+=t[p].length}var y=h.end();if(x!=y.length)throw new Error("BS8 "+x+" != "+y.length);var w=[];return u.length&&w.push(u),y.length&&w.push(y),m.length&&w.push(m),Hs(w)}function mtt(e,t){var r=t||{},s=[];e&&!e.SSF&&(e.SSF=fi(Fn)),e&&e.SSF&&(a_(),s_(e.SSF),r.revssf=i_(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,_D(r),r.cellXfs=[],$u(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)s[s.length]=utt(a,r,e);return s.unshift(ftt(e,s,r)),Hs(s)}function Tee(e,t){for(var r=0;r<=e.SheetNames.length;++r){var s=e.Sheets[e.SheetNames[r]];if(!(!s||!s["!ref"])){var a=qi(s["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return mtt(e,t);case 4:case 3:case 2:return ntt(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function htt(e,t,r,s){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,d=0;d<a.length;++d)if(!(a[d].s.r>r||a[d].s.c>o)&&!(a[d].e.r<r||a[d].e.c<o)){if(a[d].s.r<r||a[d].s.c<o){l=-1;break}l=a[d].e.r-a[d].s.r+1,c=a[d].e.c-a[d].s.c+1;break}if(!(l<0)){var u=Fr({r,c:o}),f=s.dense?(e[r]||[])[o]:e[u],m=f&&f.v!=null&&(f.h||zKe(f.w||(ad(f),f.w)||""))||"",h={};l>1&&(h.rowspan=l),c>1&&(h.colspan=c),s.editable?m='<span contenteditable="true">'+m+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+f.l.Target+'">'+m+"</a>")),h.id=(s.id||"sjs")+"-"+u,i.push(nt("td",m,h))}}var x="<tr>";return x+i.join("")+"</tr>"}var ptt='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',xtt="</body></html>";function gtt(e,t,r){var s=[];return s.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Oee(e,t){var r=t||{},s=r.header!=null?r.header:ptt,a=r.footer!=null?r.footer:xtt,i=[s],o=qi(e["!ref"]);r.dense=Array.isArray(e),i.push(gtt(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(htt(e,o,l,r));return i.push("</table>"+a),i.join("")}function Dee(e,t,r){var s=r||{},a=0,i=0;if(s.origin!=null)if(typeof s.origin=="number")a=s.origin;else{var o=typeof s.origin=="string"?Ps(s.origin):s.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(s.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=qi(e["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),a==-1&&(d.e.r=a=u.e.r+1)}var f=[],m=0,h=e["!rows"]||(e["!rows"]=[]),x=0,p=0,g=0,j=0,y=0,w=0;for(e["!cols"]||(e["!cols"]=[]);x<l.length&&p<c;++x){var b=l[x];if(x8(b)){if(s.display)continue;h[p]={hidden:!0}}var N=b.children;for(g=j=0;g<N.length;++g){var _=N[g];if(!(s.display&&x8(_))){var S=_.hasAttribute("data-v")?_.getAttribute("data-v"):_.hasAttribute("v")?_.getAttribute("v"):GKe(_.innerHTML),A=_.getAttribute("data-z")||_.getAttribute("z");for(m=0;m<f.length;++m){var E=f[m];E.s.c==j+i&&E.s.r<p+a&&p+a<=E.e.r&&(j=E.e.c+1-i,m=-1)}w=+_.getAttribute("colspan")||1,((y=+_.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:p+a,c:j+i},e:{r:p+a+(y||1)-1,c:j+i+(w||1)-1}});var P={t:"s",v:S},D=_.getAttribute("data-t")||_.getAttribute("t")||"";S!=null&&(S.length==0?P.t=D||"z":s.raw||S.trim().length==0||D=="s"||(S==="TRUE"?P={t:"b",v:!0}:S==="FALSE"?P={t:"b",v:!1}:isNaN(Bc(S))?isNaN(gv(S).getDate())||(P={t:"d",v:Da(S)},s.cellDates||(P={t:"n",v:ui(P.v)}),P.z=s.dateNF||Fn[14]):P={t:"n",v:Bc(S)})),P.z===void 0&&A!=null&&(P.z=A);var I="",W=_.getElementsByTagName("A");if(W&&W.length)for(var H=0;H<W.length&&!(W[H].hasAttribute("href")&&(I=W[H].getAttribute("href"),I.charAt(0)!="#"));++H);I&&I.charAt(0)!="#"&&(P.l={Target:I}),s.dense?(e[p+a]||(e[p+a]=[]),e[p+a][j+i]=P):e[Fr({c:j+i,r:p+a})]=P,d.e.c<j+i&&(d.e.c=j+i),j+=w}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),d.e.r=Math.max(d.e.r,p-1+a),e["!ref"]=ns(d),p>=c&&(e["!fullref"]=ns((d.e.r=l.length-x+p-1+a,d))),e}function Iee(e,t){var r=t||{},s=r.dense?[]:{};return Dee(s,e,t)}function vtt(e,t){return xm(Iee(e,t),t)}function x8(e){var t="",r=ytt(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function ytt(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var jtt=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+yv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return os+t}}(),g8=function(){var e=function(i){return Rr(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,s=function(i,o,l){var c=[];c.push('      <table:table table:name="'+Rr(o.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,u=0,f=qi(i["!ref"]||"A1"),m=i["!merges"]||[],h=0,x=Array.isArray(i);if(i["!cols"])for(u=0;u<=f.e.c;++u)c.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var p="",g=i["!rows"]||[];for(d=0;d<f.s.r;++d)p=g[d]?' table:style-name="ro'+g[d].ods+'"':"",c.push("        <table:table-row"+p+`></table:table-row>
`);for(;d<=f.e.r;++d){for(p=g[d]?' table:style-name="ro'+g[d].ods+'"':"",c.push("        <table:table-row"+p+`>
`),u=0;u<f.s.c;++u)c.push(t);for(;u<=f.e.c;++u){var j=!1,y={},w="";for(h=0;h!=m.length;++h)if(!(m[h].s.c>u)&&!(m[h].s.r>d)&&!(m[h].e.c<u)&&!(m[h].e.r<d)){(m[h].s.c!=u||m[h].s.r!=d)&&(j=!0),y["table:number-columns-spanned"]=m[h].e.c-m[h].s.c+1,y["table:number-rows-spanned"]=m[h].e.r-m[h].s.r+1;break}if(j){c.push(r);continue}var b=Fr({r:d,c:u}),N=x?(i[d]||[])[u]:i[b];if(N&&N.f&&(y["table:formula"]=Rr($Ze(N.f)),N.F&&N.F.slice(0,b.length)==b)){var _=qi(N.F);y["table:number-matrix-columns-spanned"]=_.e.c-_.s.c+1,y["table:number-matrix-rows-spanned"]=_.e.r-_.s.r+1}if(!N){c.push(t);continue}switch(N.t){case"b":w=N.v?"TRUE":"FALSE",y["office:value-type"]="boolean",y["office:boolean-value"]=N.v?"true":"false";break;case"n":w=N.w||String(N.v||0),y["office:value-type"]="float",y["office:value"]=N.v||0;break;case"s":case"str":w=N.v==null?"":N.v,y["office:value-type"]="string";break;case"d":w=N.w||Da(N.v).toISOString(),y["office:value-type"]="date",y["office:date-value"]=Da(N.v).toISOString(),y["table:style-name"]="ce1";break;default:c.push(t);continue}var S=e(w);if(N.l&&N.l.Target){var A=N.l.Target;A=A.charAt(0)=="#"?"#"+LZe(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),S=nt("text:a",S,{"xlink:href":A.replace(/&/g,"&amp;")})}c.push("          "+nt("table:table-cell",nt("text:p",S,{}),y)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var f=d["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;yD(f),f.ods=l;var m=d["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var f=d["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[os],d=yv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=yv({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(YJ().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=o.SheetNames.length;++f)c.push(s(o.Sheets[o.SheetNames[f]],o,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function Ree(e,t){if(t.bookType=="fods")return g8(e,t);var r=lD(),s="",a=[],i=[];return s="mimetype",Zt(r,s,"application/vnd.oasis.opendocument.spreadsheet"),s="content.xml",Zt(r,s,g8(e,t)),a.push([s,"text/xml"]),i.push([s,"ContentFile"]),s="styles.xml",Zt(r,s,jtt(e,t)),a.push([s,"text/xml"]),i.push([s,"StylesFile"]),s="meta.xml",Zt(r,s,os+YJ()),a.push([s,"text/xml"]),i.push([s,"MetadataFile"]),s="manifest.rdf",Zt(r,s,kYe(i)),a.push([s,"application/rdf+xml"]),s="META-INF/manifest.xml",Zt(r,s,EYe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Gw(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function btt(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Xo(vv(e))}function wtt(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var s=0;s<t.length;++s)if(e[r+s]!=t[s])continue e;return!0}return!1}function Nu(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),s=0;return e.forEach(function(a){r.set(a,s),s+=a.length}),r}function Ntt(e,t,r){var s=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,s-6176);e[t+15]|=s>>7,e[t+14]|=(s&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function jv(e,t){var r=t?t[0]:0,s=e[r]&127;e:if(e[r++]>=128&&(s|=(e[r]&127)<<7,e[r++]<128||(s|=(e[r]&127)<<14,e[r++]<128)||(s|=(e[r]&127)<<21,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(s+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),s}function Tr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Ah(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function us(e){for(var t=[],r=[0];r[0]<e.length;){var s=r[0],a=jv(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=jv(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(s))}var d={data:l,type:i};t[a]==null?t[a]=[d]:t[a].push(d)}return t}function Bs(e){var t=[];return e.forEach(function(r,s){r.forEach(function(a){a.data&&(t.push(Tr(s*8+a.type)),a.type==2&&t.push(Tr(a.data.length)),t.push(a.data))})}),Nu(t)}function Mo(e){for(var t,r=[],s=[0];s[0]<e.length;){var a=jv(e,s),i=us(e.slice(s[0],s[0]+a));s[0]+=a;var o={id:Ah(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=us(l.data),d=Ah(c[3][0].data);o.messages.push({meta:c,data:e.slice(s[0],s[0]+d)}),s[0]+=d}),(t=i[3])!=null&&t[0]&&(o.merge=Ah(i[3][0].data)>>>0>0),r.push(o)}return r}function Rm(e){var t=[];return e.forEach(function(r){var s=[];s[1]=[{data:Tr(r.id),type:0}],s[2]=[],r.merge!=null&&(s[3]=[{data:Tr(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:Tr(o.data.length)}],s[2].push({data:Bs(o.meta),type:2})});var i=Bs(s);t.push(Tr(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),Nu(t)}function _tt(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],s=jv(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,d=0;if(i==1?(d=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(d=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Nu(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(a.push(a[0].slice(-c)),d-=c;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-c,-c+d))}}var u=Nu(a);if(u.length!=s)throw new Error("Unexpected length: ".concat(u.length," != ").concat(s));return u}function Fo(e){for(var t=[],r=0;r<e.length;){var s=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(_tt(s,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Nu(t)}function Mm(e){for(var t=[],r=0;r<e.length;){var s=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=Tr(s),o=i.length;t.push(i),s<=60?(o++,t.push(new Uint8Array([s-1<<2]))):s<=256?(o+=2,t.push(new Uint8Array([240,s-1&255]))):s<=65536?(o+=3,t.push(new Uint8Array([244,s-1&255,s-1>>8&255]))):s<=16777216?(o+=4,t.push(new Uint8Array([248,s-1&255,s-1>>8&255,s-1>>16&255]))):s<=4294967296&&(o+=5,t.push(new Uint8Array([252,s-1&255,s-1>>8&255,s-1>>16&255,s-1>>>24&255]))),t.push(e.slice(r,r+s)),o+=s,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=s}return Nu(t)}function NC(e,t){var r=new Uint8Array(32),s=Gw(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,Ntt(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,s.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,s.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(8,i,!0),r.slice(0,a)}function _C(e,t){var r=new Uint8Array(32),s=Gw(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,s.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,s.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,s.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return s.setUint32(4,i,!0),r.slice(0,a)}function jd(e){var t=us(e);return jv(t[1][0].data)}function Stt(e,t,r){var s,a,i,o;if(!((s=e[6])!=null&&s[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&Ah(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,d=Gw(e[7][0].data),u=0,f=[],m=Gw(e[4][0].data),h=0,x=[],p=0;p<t.length;++p){if(t[p]==null){d.setUint16(p*2,65535,!0),m.setUint16(p*2,65535);continue}d.setUint16(p*2,u,!0),m.setUint16(p*2,h,!0);var g,j;switch(typeof t[p]){case"string":g=NC({t:"s",v:t[p]},r),j=_C({t:"s",v:t[p]},r);break;case"number":g=NC({t:"n",v:t[p]},r),j=_C({t:"n",v:t[p]},r);break;case"boolean":g=NC({t:"b",v:t[p]},r),j=_C({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}f.push(g),u+=g.length,x.push(j),h+=j.length,++c}for(e[2][0].data=Tr(c);p<e[7][0].data.length/2;++p)d.setUint16(p*2,65535,!0),m.setUint16(p*2,65535,!0);return e[6][0].data=Nu(f),e[3][0].data=Nu(x),c}function Ctt(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var s=qi(r["!ref"]);s.s.r=s.s.c=0;var a=!1;s.e.c>9&&(a=!0,s.e.c=9),s.e.r>49&&(a=!0,s.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(ns(s)));var i=Kw(r,{range:s,header:1}),o=["~Sh33tJ5~"];i.forEach(function(V){return V.forEach(function(L){typeof L=="string"&&o.push(L)})});var l={},c=[],d=Ur.read(t.numbers,{type:"base64"});d.FileIndex.map(function(V,L){return[V,d.FullPaths[L]]}).forEach(function(V){var L=V[0],G=V[1];if(L.type==2&&L.name.match(/\.iwa/)){var le=L.content,me=Fo(le),B=Mo(me);B.forEach(function(Y){c.push(Y.id),l[Y.id]={deps:[],location:G,type:Ah(Y.messages[0].meta[1][0].data)}})}}),c.sort(function(V,L){return V-L});var u=c.filter(function(V){return V>1}).map(function(V){return[V,Tr(V)]});d.FileIndex.map(function(V,L){return[V,d.FullPaths[L]]}).forEach(function(V){var L=V[0];if(V[1],!!L.name.match(/\.iwa/)){var G=Mo(Fo(L.content));G.forEach(function(le){le.messages.forEach(function(me){u.forEach(function(B){le.messages.some(function(Y){return Ah(Y.meta[1][0].data)!=11006&&wtt(Y.data,B[1])})&&l[B[0]].deps.push(le.id)})})})}});for(var f=Ur.find(d,l[1].location),m=Mo(Fo(f.content)),h,x=0;x<m.length;++x){var p=m[x];p.id==1&&(h=p)}var g=jd(us(h.messages[0].data)[1][0].data);for(f=Ur.find(d,l[g].location),m=Mo(Fo(f.content)),x=0;x<m.length;++x)p=m[x],p.id==g&&(h=p);for(g=jd(us(h.messages[0].data)[2][0].data),f=Ur.find(d,l[g].location),m=Mo(Fo(f.content)),x=0;x<m.length;++x)p=m[x],p.id==g&&(h=p);for(g=jd(us(h.messages[0].data)[2][0].data),f=Ur.find(d,l[g].location),m=Mo(Fo(f.content)),x=0;x<m.length;++x)p=m[x],p.id==g&&(h=p);var j=us(h.messages[0].data);{j[6][0].data=Tr(s.e.r+1),j[7][0].data=Tr(s.e.c+1);var y=jd(j[46][0].data),w=Ur.find(d,l[y].location),b=Mo(Fo(w.content));{for(var N=0;N<b.length&&b[N].id!=y;++N);if(b[N].id!=y)throw"Bad ColumnRowUIDMapArchive";var _=us(b[N].messages[0].data);_[1]=[],_[2]=[],_[3]=[];for(var S=0;S<=s.e.c;++S){var A=[];A[1]=A[2]=[{type:0,data:Tr(S+420690)}],_[1].push({type:2,data:Bs(A)}),_[2].push({type:0,data:Tr(S)}),_[3].push({type:0,data:Tr(S)})}_[4]=[],_[5]=[],_[6]=[];for(var E=0;E<=s.e.r;++E)A=[],A[1]=A[2]=[{type:0,data:Tr(E+726270)}],_[4].push({type:2,data:Bs(A)}),_[5].push({type:0,data:Tr(E)}),_[6].push({type:0,data:Tr(E)});b[N].messages[0].data=Bs(_)}w.content=Mm(Rm(b)),w.size=w.content.length,delete j[46];var P=us(j[4][0].data);{P[7][0].data=Tr(s.e.r+1);var D=us(P[1][0].data),I=jd(D[2][0].data);w=Ur.find(d,l[I].location),b=Mo(Fo(w.content));{if(b[0].id!=I)throw"Bad HeaderStorageBucket";var W=us(b[0].messages[0].data);for(E=0;E<i.length;++E){var H=us(W[2][0].data);H[1][0].data=Tr(E),H[4][0].data=Tr(i[E].length),W[2][E]={type:W[2][0].type,data:Bs(H)}}b[0].messages[0].data=Bs(W)}w.content=Mm(Rm(b)),w.size=w.content.length;var F=jd(P[2][0].data);w=Ur.find(d,l[F].location),b=Mo(Fo(w.content));{if(b[0].id!=F)throw"Bad HeaderStorageBucket";for(W=us(b[0].messages[0].data),S=0;S<=s.e.c;++S)H=us(W[2][0].data),H[1][0].data=Tr(S),H[4][0].data=Tr(s.e.r+1),W[2][S]={type:W[2][0].type,data:Bs(H)};b[0].messages[0].data=Bs(W)}w.content=Mm(Rm(b)),w.size=w.content.length;var T=jd(P[4][0].data);(function(){for(var V=Ur.find(d,l[T].location),L=Mo(Fo(V.content)),G,le=0;le<L.length;++le){var me=L[le];me.id==T&&(G=me)}var B=us(G.messages[0].data);{B[3]=[];var Y=[];o.forEach(function(ue,ve){Y[1]=[{type:0,data:Tr(ve)}],Y[2]=[{type:0,data:Tr(1)}],Y[3]=[{type:2,data:btt(ue)}],B[3].push({type:2,data:Bs(Y)})})}G.messages[0].data=Bs(B);var oe=Rm(L),Ne=Mm(oe);V.content=Ne,V.size=V.content.length})();var k=us(P[3][0].data);{var M=k[1][0];delete k[2];var O=us(M.data);{var K=jd(O[2][0].data);(function(){for(var V=Ur.find(d,l[K].location),L=Mo(Fo(V.content)),G,le=0;le<L.length;++le){var me=L[le];me.id==K&&(G=me)}var B=us(G.messages[0].data);{delete B[6],delete k[7];var Y=new Uint8Array(B[5][0].data);B[5]=[];for(var oe=0,Ne=0;Ne<=s.e.r;++Ne){var ue=us(Y);oe+=Stt(ue,i[Ne],o),ue[1][0].data=Tr(Ne),B[5].push({data:Bs(ue),type:2})}B[1]=[{type:0,data:Tr(s.e.c+1)}],B[2]=[{type:0,data:Tr(s.e.r+1)}],B[3]=[{type:0,data:Tr(oe)}],B[4]=[{type:0,data:Tr(s.e.r+1)}]}G.messages[0].data=Bs(B);var ve=Rm(L),xe=Mm(ve);V.content=xe,V.size=V.content.length})()}M.data=Bs(O)}P[3][0].data=Bs(k)}j[4][0].data=Bs(P)}h.messages[0].data=Bs(j);var se=Rm(m),R=Mm(se);return f.content=R,f.size=f.content.length,d}function Att(e){return function(r){for(var s=0;s!=e.length;++s){var a=e[s];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function _D(e){Att([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Ett(e,t){return t.bookType=="ods"?Ree(e,t):t.bookType=="numbers"?Ctt(e,t):t.bookType=="xlsb"?Ptt(e,t):ktt(e,t)}function Ptt(e,t){nh=1024,e&&!e.SSF&&(e.SSF=fi(Fn)),e&&e.SSF&&(a_(),s_(e.SSF),t.revssf=i_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Hg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",s=gee.indexOf(t.bookType)>-1,a=qJ();_D(t=t||{});var i=lD(),o="",l=0;if(t.cellXfs=[],$u(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Zt(i,o,XJ(e.Props,t)),a.coreprops.push(o),Dr(t.rels,2,o,vr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Zt(i,o,ZJ(e.Props)),a.extprops.push(o),Dr(t.rels,3,o,vr.EXT_PROPS),e.Custprops!==e.Props&&Js(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Zt(i,o,JJ(e.Custprops)),a.custprops.push(o),Dr(t.rels,4,o,vr.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var u={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],m=(f||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Zt(i,o,Oet(l-1,o,t,e,u)),a.sheets.push(o),Dr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,vr.WS[0])}if(f){var h=f["!comments"],x=!1,p="";h&&h.length>0&&(p="xl/comments"+l+"."+r,Zt(i,p,Ret(h,p)),a.comments.push(p),Dr(u,-1,"../comments"+l+"."+r,vr.CMNT),x=!0),f["!legacy"]&&x&&Zt(i,"xl/drawings/vmlDrawing"+l+".vml",pee(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&Zt(i,KJ(o),Sh(u))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Zt(i,o,Iet(t.Strings,o,t)),a.strs.push(o),Dr(t.wbrels,-1,"sharedStrings."+r,vr.SST)),o="xl/workbook."+r,Zt(i,o,Tet(e,o)),a.workbooks.push(o),Dr(t.rels,1,o,vr.WB),o="xl/theme/theme1.xml",Zt(i,o,mee(e.Themes,t)),a.themes.push(o),Dr(t.wbrels,-1,"theme/theme1.xml",vr.THEME),o="xl/styles."+r,Zt(i,o,Det(e,o,t)),a.styles.push(o),Dr(t.wbrels,-1,"styles."+r,vr.STY),e.vbaraw&&s&&(o="xl/vbaProject.bin",Zt(i,o,e.vbaraw),a.vba.push(o),Dr(t.wbrels,-1,"vbaProject.bin",vr.VBA)),o="xl/metadata."+r,Zt(i,o,Met(o)),a.metadata.push(o),Dr(t.wbrels,-1,"metadata."+r,vr.XLMETA),Zt(i,"[Content_Types].xml",GJ(a,t)),Zt(i,"_rels/.rels",Sh(t.rels)),Zt(i,"xl/_rels/workbook."+r+".rels",Sh(t.wbrels)),delete t.revssf,delete t.ssf,i}function ktt(e,t){nh=1024,e&&!e.SSF&&(e.SSF=fi(Fn)),e&&e.SSF&&(a_(),s_(e.SSF),t.revssf=i_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Hg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",s=gee.indexOf(t.bookType)>-1,a=qJ();_D(t=t||{});var i=lD(),o="",l=0;if(t.cellXfs=[],$u(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Zt(i,o,XJ(e.Props,t)),a.coreprops.push(o),Dr(t.rels,2,o,vr.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],d=0;d<e.SheetNames.length;++d)(e.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(e.SheetNames[d]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Zt(i,o,ZJ(e.Props)),a.extprops.push(o),Dr(t.rels,3,o,vr.EXT_PROPS),e.Custprops!==e.Props&&Js(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Zt(i,o,JJ(e.Custprops)),a.custprops.push(o),Dr(t.rels,4,o,vr.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},m=e.Sheets[e.SheetNames[l-1]],h=(m||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Zt(i,o,Cee(l-1,t,e,f)),a.sheets.push(o),Dr(t.wbrels,-1,"worksheets/sheet"+l+"."+r,vr.WS[0])}if(m){var x=m["!comments"],p=!1,g="";if(x&&x.length>0){var j=!1;x.forEach(function(y){y[1].forEach(function(w){w.T==!0&&(j=!0)})}),j&&(g="xl/threadedComments/threadedComment"+l+"."+r,Zt(i,g,aQe(x,u,t)),a.threadedcomments.push(g),Dr(f,-1,"../threadedComments/threadedComment"+l+"."+r,vr.TCMNT)),g="xl/comments"+l+"."+r,Zt(i,g,xee(x)),a.comments.push(g),Dr(f,-1,"../comments"+l+"."+r,vr.CMNT),p=!0}m["!legacy"]&&p&&Zt(i,"xl/drawings/vmlDrawing"+l+".vml",pee(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&Zt(i,KJ(o),Sh(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,Zt(i,o,oee(t.Strings,t)),a.strs.push(o),Dr(t.wbrels,-1,"sharedStrings."+r,vr.SST)),o="xl/workbook."+r,Zt(i,o,Pee(e)),a.workbooks.push(o),Dr(t.rels,1,o,vr.WB),o="xl/theme/theme1.xml",Zt(i,o,mee(e.Themes,t)),a.themes.push(o),Dr(t.wbrels,-1,"theme/theme1.xml",vr.THEME),o="xl/styles."+r,Zt(i,o,uee(e,t)),a.styles.push(o),Dr(t.wbrels,-1,"styles."+r,vr.STY),e.vbaraw&&s&&(o="xl/vbaProject.bin",Zt(i,o,e.vbaraw),a.vba.push(o),Dr(t.wbrels,-1,"vbaProject.bin",vr.VBA)),o="xl/metadata."+r,Zt(i,o,hee()),a.metadata.push(o),Dr(t.wbrels,-1,"metadata."+r,vr.XLMETA),u.length>1&&(o="xl/persons/person.xml",Zt(i,o,iQe(u)),a.people.push(o),Dr(t.wbrels,-1,"persons/person.xml",vr.PEOPLE)),Zt(i,"[Content_Types].xml",GJ(a,t)),Zt(i,"_rels/.rels",Sh(t.rels)),Zt(i,"xl/_rels/workbook."+r+".rels",Sh(t.wbrels)),delete t.revssf,delete t.ssf,i}function Ttt(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=sd(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Mee(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Sy(t.file,Ur.write(e,{type:br?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Ur.write(e,t)}function Ott(e,t){var r=fi(t||{}),s=Ett(e,r);return Dtt(s,r)}function Dtt(e,t){var r={},s=br?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=s;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=s;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Ur.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(n_(a))}return t.password&&typeof encrypt_agile<"u"?Mee(encrypt_agile(a,t.password),t):t.type==="file"?Sy(t.file,a):t.type=="string"?Ug(a):a}function Itt(e,t){var r=t||{},s=Xet(e,r);return Mee(s,r)}function Al(e,t,r){r||(r="");var s=r+e;switch(t.type){case"base64":return xv(vv(s));case"binary":return vv(s);case"string":return e;case"file":return Sy(t.file,s,"utf8");case"buffer":return br?hd(s,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(s):Al(s,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Rtt(e,t){switch(t.type){case"base64":return xv(e);case"binary":return e;case"string":return e;case"file":return Sy(t.file,e,"binary");case"buffer":return br?hd(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Bj(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",s=0;s<e.length;++s)r+=String.fromCharCode(e[s]);return t.type=="base64"?xv(r):t.type=="string"?Ug(r):r;case"file":return Sy(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Fee(e,t){oKe(),yet(e);var r=fi(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var s=Fee(e,r);return r.type="array",n_(s)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Al(Ket(e,r),r);case"slk":case"sylk":return Al(pXe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Al(Oee(e.Sheets[e.SheetNames[a]],r),r);case"txt":return Rtt($ee(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Al(SD(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Al(xXe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Bj(hXe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Al(gXe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Al(_Xe.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Al(iee.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Al(Ree(e,r),r);case"wk1":return Bj(d8.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Bj(d8.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Bj(Tee(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Itt(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Ott(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Mtt(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Ftt(e,t,r){var s={};return s.type="file",s.file=t,Mtt(s),Fee(e,s)}function $tt(e,t,r,s,a,i,o,l){var c=Xs(r),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||e[r])for(var h=t.s.c;h<=t.e.c;++h){var x=o?e[r][h]:e[s[h]+c];if(x===void 0||x.t===void 0){if(d===void 0)continue;i[h]!=null&&(m[i[h]]=d);continue}var p=x.v;switch(x.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(i[h]!=null){if(p==null)if(x.t=="e"&&p===null)m[i[h]]=null;else if(d!==void 0)m[i[h]]=d;else if(u&&p===null)m[i[h]]=null;else continue;else m[i[h]]=u&&(x.t!=="n"||x.t==="n"&&l.rawNumbers!==!1)?p:ad(x,p,l);p!=null&&(f=!1)}}return{row:m,isempty:f}}function Kw(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},s=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},u=d.range!=null?d.range:e["!ref"];switch(d.header===1?s=1:d.header==="A"?s=2:Array.isArray(d.header)?s=3:d.header==null&&(s=0),typeof u){case"string":c=dn(u);break;case"number":c=dn(e["!ref"]),c.s.r=u;break;default:c=u}s>0&&(a=0);var f=Xs(c.s.r),m=[],h=[],x=0,p=0,g=Array.isArray(e),j=c.s.r,y=0,w={};g&&!e[j]&&(e[j]=[]);var b=d.skipHidden&&e["!cols"]||[],N=d.skipHidden&&e["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(b[y]||{}).hidden)switch(m[y]=ma(y),r=g?e[j][y]:e[m[y]+f],s){case 1:i[y]=y-c.s.c;break;case 2:i[y]=m[y];break;case 3:i[y]=d.header[y-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=ad(r,null,d),p=w[o]||0,!p)w[o]=1;else{do l=o+"_"+p++;while(w[l]);w[o]=p,w[l]=1}i[y]=l}for(j=c.s.r+a;j<=c.e.r;++j)if(!(N[j]||{}).hidden){var _=$tt(e,c,j,m,s,i,g,d);(_.isempty===!1||(s===1?d.blankrows!==!1:d.blankrows))&&(h[x++]=_.row)}return h.length=x,h}var v8=/"/g;function Ltt(e,t,r,s,a,i,o,l){for(var c=!0,d=[],u="",f=Xs(r),m=t.s.c;m<=t.e.c;++m)if(s[m]){var h=l.dense?(e[r]||[])[m]:e[s[m]+f];if(h==null)u="";else if(h.v!=null){c=!1,u=""+(l.rawNumbers&&h.t=="n"?h.v:ad(h,null,l));for(var x=0,p=0;x!==u.length;++x)if((p=u.charCodeAt(x))===a||p===i||p===34||l.forceQuotes){u='"'+u.replace(v8,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(c=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(v8,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(o)}function SD(e,t){var r=[],s=t??{};if(e==null||e["!ref"]==null)return"";var a=dn(e["!ref"]),i=s.FS!==void 0?s.FS:",",o=i.charCodeAt(0),l=s.RS!==void 0?s.RS:`
`,c=l.charCodeAt(0),d=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];s.dense=Array.isArray(e);for(var m=s.skipHidden&&e["!cols"]||[],h=s.skipHidden&&e["!rows"]||[],x=a.s.c;x<=a.e.c;++x)(m[x]||{}).hidden||(f[x]=ma(x));for(var p=0,g=a.s.r;g<=a.e.r;++g)(h[g]||{}).hidden||(u=Ltt(e,a,g,f,o,c,i,s),u!=null&&(s.strip&&(u=u.replace(d,"")),(u||s.blankrows!==!1)&&r.push((p++?l:"")+u)));return delete s.dense,r.join("")}function $ee(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=SD(e,t);return r}function Btt(e){var t="",r,s="";if(e==null||e["!ref"]==null)return[];var a=dn(e["!ref"]),i="",o=[],l,c=[],d=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=ma(l);for(var u=a.s.r;u<=a.e.r;++u)for(i=Xs(u),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=d?(e[u]||[])[l]:e[t],s="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;s=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)s=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)s=""+r.v;else if(r.t=="b")s=r.v?"TRUE":"FALSE";else if(r.w!==void 0)s="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?s="'"+r.v:s=""+r.v}}c[c.length]=t+"="+s}return c}function Lee(e,t,r){var s=r||{},a=+!s.skipHeader,i=e||{},o=0,l=0;if(i&&s.origin!=null)if(typeof s.origin=="number")o=s.origin;else{var c=typeof s.origin=="string"?Ps(s.origin):s.origin;o=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var f=dn(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(o=f.e.r+1,u.e.r=o+t.length-1+a)}else o==-1&&(o=0,u.e.r=t.length-1+a);var m=s.header||[],h=0;t.forEach(function(p,g){Js(p).forEach(function(j){(h=m.indexOf(j))==-1&&(m[h=m.length]=j);var y=p[j],w="z",b="",N=Fr({c:l+h,r:o+g+a});d=bv(i,N),y&&typeof y=="object"&&!(y instanceof Date)?i[N]=y:(typeof y=="number"?w="n":typeof y=="boolean"?w="b":typeof y=="string"?w="s":y instanceof Date?(w="d",s.cellDates||(w="n",y=ui(y)),b=s.dateNF||Fn[14]):y===null&&s.nullError&&(w="e",y=0),d?(d.t=w,d.v=y,delete d.w,delete d.R,b&&(d.z=b)):i[N]=d={t:w,v:y},b&&(d.z=b))})}),u.e.c=Math.max(u.e.c,l+m.length-1);var x=Xs(o);if(a)for(h=0;h<m.length;++h)i[ma(h+l)+x]={t:"s",v:m[h]};return i["!ref"]=ns(u),i}function Utt(e,t){return Lee(null,e,t)}function bv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var s=Ps(t);return e[s.r]||(e[s.r]=[]),e[s.r][s.c]||(e[s.r][s.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?bv(e,Fr(t)):bv(e,Fr({r:t,c:r||0}))}function Vtt(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function ztt(){return{SheetNames:[],Sheets:{}}}function Wtt(e,t,r,s){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(s&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(Eee(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Htt(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var s=Vtt(e,t);switch(e.Workbook.Sheets[s]||(e.Workbook.Sheets[s]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[s].Hidden=r}function qtt(e,t){return e.z=t,e}function Bee(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Gtt(e,t,r){return Bee(e,"#"+t,r)}function Ktt(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Ytt(e,t,r,s){for(var a=typeof t!="string"?t:dn(t),i=typeof t=="string"?t:ns(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=bv(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,s&&(c.D=!0))}return e}var SC={encode_col:ma,encode_row:Xs,encode_cell:Fr,encode_range:ns,decode_col:hD,decode_row:mD,split_cell:oYe,decode_cell:Ps,decode_range:qi,format_cell:ad,sheet_add_aoa:BJ,sheet_add_json:Lee,sheet_add_dom:Dee,aoa_to_sheet:px,json_to_sheet:Utt,table_to_sheet:Iee,table_to_book:vtt,sheet_to_csv:SD,sheet_to_txt:$ee,sheet_to_json:Kw,sheet_to_html:Oee,sheet_to_formulae:Btt,sheet_to_row_object_array:Kw,sheet_get_cell:bv,book_new:ztt,book_append_sheet:Wtt,book_set_sheet_visibility:Htt,cell_set_number_format:qtt,cell_set_hyperlink:Bee,cell_set_internal_link:Gtt,cell_add_comment:Ktt,sheet_set_array_formula:Ytt,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function Xtt(){return n.jsx(X,{className:"shadow-sm",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(C,{className:"h-5 w-5 rounded-full"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-20"}),n.jsx(C,{className:"h-8 w-12"})]})]})})}function Qtt(){return n.jsxs(X,{className:"shadow-md",children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-5 w-32"})]})}),n.jsx(Q,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-end justify-between h-[200px] gap-2",children:[60,80,45,90,70,55,85].map((e,t)=>n.jsx("div",{className:"flex-1 flex flex-col justify-end",children:n.jsx(C,{className:"w-full rounded-t-md",style:{height:`${e}%`}})},t))}),n.jsx("div",{className:"flex justify-between",children:[...Array(7)].map((e,t)=>n.jsx(C,{className:"h-3 w-12"},t))})]})})]})}function Ztt(){return n.jsxs(X,{className:"shadow-md",children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-5 w-40"})]})}),n.jsx(Q,{className:"flex items-center justify-center",children:n.jsxs("div",{className:"relative",children:[n.jsx(C,{className:"h-40 w-40 rounded-full"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"h-20 w-20 rounded-full bg-background"})})]})})]})}function Jtt(){return n.jsx(X,{className:"shadow-md",children:n.jsx(Q,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsx(C,{className:"flex-1 h-10 rounded-md"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-10 w-[140px] rounded-md"}),n.jsx(C,{className:"h-10 w-[140px] rounded-md"}),n.jsx(C,{className:"h-10 w-[120px] rounded-md"})]})]})})})})}function ert(){return n.jsxs("div",{className:"flex-1 min-w-[300px]",children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded-full"}),n.jsx(C,{className:"h-5 w-32"})]}),n.jsx(C,{className:"h-6 w-8 rounded-full"})]}),n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>n.jsx(X,{className:"shadow-sm",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx(C,{className:"h-4 w-24 rounded-full"}),n.jsx(C,{className:"h-4 w-16 rounded-full"})]}),n.jsx(C,{className:"h-5 w-full"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-full"}),n.jsx(C,{className:"h-3 w-4/5"})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-3 w-20"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-4 w-12"}),n.jsx(C,{className:"h-4 w-12"})]})]})]})})},t))})]})}function trt(){return n.jsxs("div",{className:"flex items-center gap-4 p-4 border-b",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-10 w-10 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx(C,{className:"h-4 w-full max-w-md"}),n.jsx(C,{className:"h-3 w-3/4 max-w-sm"})]}),n.jsx(C,{className:"h-6 w-20 rounded-full"}),n.jsx(C,{className:"h-6 w-16 rounded-full"}),n.jsx(C,{className:"h-6 w-24 rounded-full"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"})]})]})}function rrt(){return n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx(C,{className:"h-4 w-24 rounded-full"}),n.jsx(C,{className:"h-4 w-16 rounded-full"})]}),n.jsx(C,{className:"h-32 w-full rounded-lg"}),n.jsx(C,{className:"h-5 w-full"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-full"}),n.jsx(C,{className:"h-3 w-4/5"})]}),n.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-3 w-24"})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(C,{className:"h-9 flex-1 rounded"}),n.jsx(C,{className:"h-9 w-9 rounded"})]})]})})})}function nrt({viewMode:e="kanban"}){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-11 w-36 rounded-md"}),n.jsx(C,{className:"h-11 w-32 rounded-md"})]}),n.jsx(C,{className:"h-10 w-24 rounded-md"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[...Array(8)].map((t,r)=>n.jsx(Xtt,{},r))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(Qtt,{}),n.jsx(Ztt,{})]}),n.jsx(Jtt,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-10 w-64 rounded-md"}),n.jsx(C,{className:"h-9 w-32 rounded-md"})]}),e==="kanban"&&n.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4",children:[...Array(4)].map((t,r)=>n.jsx(ert,{},r))}),e==="table"&&n.jsx(X,{className:"shadow-md",children:n.jsx(Q,{className:"p-0",children:n.jsxs("div",{className:"space-y-0",children:[n.jsxs("div",{className:"flex items-center gap-4 p-4 border-b bg-muted/50",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-32 flex-1"}),n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-4 w-20"})]}),[...Array(5)].map((t,r)=>n.jsx(trt,{},r))]})})}),e==="grid"&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[...Array(8)].map((t,r)=>n.jsx(rrt,{},r))})]})}const srt=()=>{var Ie;const e=ur(),{apartments:t,products:r,vendors:s,updateIssue:a}=Ml(),[i,o]=v.useState([]),[l,c]=v.useState(!0);v.useEffect(()=>{(async()=>{c(!0);try{const Re=await Cr.getIssues({page_size:100});o(Re.results||[])}catch(Re){console.error("Failed to fetch issues:",Re),Ue.error("Failed to load issues")}finally{c(!1)}})()},[]);const d=i,[u,f]=v.useState("kanban"),[m,h]=v.useState(""),[x,p]=v.useState("All"),[g,j]=v.useState("All"),[y,w]=v.useState("All"),[b,N]=v.useState("All"),[_,S]=v.useState("All"),[A,E]=v.useState("All"),[P,D]=v.useState(!1),[I,W]=v.useState(null),[H,F]=v.useState(!1),[T,k]=v.useState(!1),[M,O]=v.useState(null),[K,se]=v.useState(!1),R=v.useMemo(()=>{const de={};return d.forEach((Re,it)=>{de[Re.id]=["Critical","High","Medium","Low"][it%4]}),de},[d]),V=["Admin","Barbara Kovcs","Maria Weber","Unassigned"],L=de=>{const Re=t.find(it=>it.id===de);return(Re==null?void 0:Re.name)||"Unknown"},G=de=>{const Re={Critical:"bg-danger/10 text-danger border-danger/20",High:"bg-warning/10 text-warning border-warning/20",Medium:"bg-primary/10 text-primary border-primary/20",Low:"bg-muted text-muted-foreground border-border"};return Re[de]||Re.Low},le=de=>{const Re={Open:"bg-danger/10 text-danger border-danger/20","Pending Vendor Response":"bg-warning/10 text-warning border-warning/20","Resolution Agreed":"bg-primary/10 text-primary border-primary/20",Closed:"bg-success/10 text-success border-success/20"};return Re[de]||Re.Open},me=de=>{switch(de){case"Broken/Damaged":return n.jsx(St,{className:"h-4 w-4"});case"Wrong Item/Color":return n.jsx($l,{className:"h-4 w-4"});case"Missing Parts":return n.jsx(lt,{className:"h-4 w-4"});case"Incorrect Quantity":return n.jsx(si,{className:"h-4 w-4"});default:return n.jsx(St,{className:"h-4 w-4"})}},B=v.useMemo(()=>d.filter(de=>{var Pn,gr,kr,jt;const Re=((Pn=de.apartment_details)==null?void 0:Pn.name)||de.apartment_name||L(de.apartment),it=de.display_product_name||de.product_name||((gr=de.product_details)==null?void 0:gr.product)||"",bt=de.vendor_name||((kr=de.vendor_details)==null?void 0:kr.name)||de.vendor||"",Qe=de.priority||R[de.id],ye=it.toLowerCase().includes(m.toLowerCase())||de.description.toLowerCase().includes(m.toLowerCase())||bt.toLowerCase().includes(m.toLowerCase())||Re.toLowerCase().includes(m.toLowerCase()),Ge=x==="All"||de.status===x,At=g==="All"||((jt=de.type)==null?void 0:jt.includes(g)),Pt=y==="All"||Qe===y,fr=b==="All"||de.apartment===b,jr=_==="All"||de.vendor===_||bt===_;return ye&&Ge&&At&&Pt&&fr&&jr}),[d,m,x,g,y,b,_,R]),Y=v.useMemo(()=>{const de=B.length,Re=B.filter(Pt=>Pt.status==="Open").length,it=B.filter(Pt=>Pt.status==="Pending Vendor Response").length,bt=B.filter(Pt=>Pt.status==="Resolution Agreed").length,Qe=B.filter(Pt=>Pt.status==="Closed").length,ye=B.filter(Pt=>(Pt.priority||R[Pt.id])==="Critical").length,Ge=B.filter(Pt=>Pt.ai_activated).length;return{total:de,open:Re,pending:it,resolved:bt,closed:Qe,critical:ye,withAI:Ge,avgResolutionDays:5.2}},[B,R]),oe=v.useMemo(()=>{const de={Open:[],"Pending Vendor Response":[],"Resolution Agreed":[],Closed:[]};return B.forEach(Re=>{de[Re.status]&&de[Re.status].push(Re)}),de},[B]),Ne=v.useMemo(()=>{const de=[];for(let Re=6;Re>=0;Re--){const it=Sc(new Date,Re);de.push({date:Ht(it,"MMM dd"),reported:Math.floor(Math.random()*5)+1,resolved:Math.floor(Math.random()*4)})}return de},[]),ue=v.useMemo(()=>{const de=["Broken/Damaged","Wrong Item/Color","Missing Parts","Incorrect Quantity"];return de.map(Re=>({name:Re,value:B.filter(it=>it.type===Re).length,color:["hsl(var(--danger))","hsl(var(--warning))","hsl(var(--primary))","hsl(var(--success))"][de.indexOf(Re)]})).filter(Re=>Re.value>0)},[B]),ve=Array.from(new Set(d.map(de=>{var Re;return de.vendor_name||((Re=de.vendor_details)==null?void 0:Re.name)||de.vendor}))).filter(Boolean).sort(),xe=()=>{h(""),p("All"),j("All"),w("All"),N("All"),S("All"),E("All")},Ee=[m,x!=="All",g!=="All",y!=="All",b!=="All",_!=="All",A!=="All"].filter(Boolean).length,Fe=de=>{e(`/issues/${de.id}`)},Oe=(de,Re)=>{de.stopPropagation(),e(`/issues/${Re.id}/edit`)},ae=(de,Re)=>{de.stopPropagation(),O(Re),k(!0)},he=async()=>{var de,Re;if(M){se(!0);try{await Cr.deleteIssue(M.id),Ue.success("Issue deleted successfully");const it=await Cr.getIssues({});o(it.results||[])}catch(it){Ue.error(((Re=(de=it.response)==null?void 0:de.data)==null?void 0:Re.message)||"Failed to delete issue")}finally{se(!1),k(!1),O(null)}}},ce=()=>{try{const de=B.map(ye=>{var Ge,At,Pt,fr,jr;return{"Issue ID":ye.id,Product:ye.display_product_name||ye.product_name||((Ge=ye.product_details)==null?void 0:Ge.product)||"Unknown",Type:ye.type,Priority:ye.priority||R[ye.id],Status:ye.status,Apartment:((At=ye.apartment_details)==null?void 0:At.name)||ye.apartment_name||L(ye.apartment),Vendor:ye.vendor_name||((Pt=ye.vendor_details)==null?void 0:Pt.name)||ye.vendor,Description:ye.description,"Reported Date":ye.reported_on?Ht(new Date(ye.reported_on),"yyyy-MM-dd"):"Unknown","Days Open":ye.reported_on?mj(new Date,new Date(ye.reported_on)):0,"AI Active":ye.ai_activated?"Yes":"No",Photos:((fr=ye.photos)==null?void 0:fr.length)||0,Communications:((jr=ye.ai_communication_log)==null?void 0:jr.length)||0}}),Re=SC.json_to_sheet(de),it=[{wch:15},{wch:30},{wch:20},{wch:10},{wch:20},{wch:20},{wch:20},{wch:40},{wch:12},{wch:10},{wch:10},{wch:8},{wch:15}];Re["!cols"]=it;const bt=SC.book_new();SC.book_append_sheet(bt,Re,"Issues");const Qe=`Issues_Report_${Ht(new Date,"yyyy-MM-dd_HHmmss")}.xlsx`;Ftt(bt,Qe),Ue.success("Export Complete",{description:`Downloaded ${B.length} issues to ${Qe}`})}catch{Ue.error("Export Failed",{description:"Failed to generate the export file"})}},je=()=>{if(B.length===0){Ue.error("No issues to email");return}e("/issues/bulk-email",{state:{selectedIssues:B}})},Le=v.useCallback(async de=>{const{destination:Re,source:it,draggableId:bt}=de;if(!Re||Re.droppableId===it.droppableId&&Re.index===it.index)return;const Qe=Re.droppableId,ye=bt,Ge=B.find(At=>At.id===ye);if(Ge&&Ge.status!==Qe)try{Ue.loading(`Moving issue to ${Qe}...`,{id:"drag-status"}),await Cr.updateIssue(ye,{status:Qe});const At=await Cr.getIssues();o(At.results||[]),Ue.success(`Issue moved to ${Qe}`,{id:"drag-status"})}catch(At){console.error("Failed to update issue status:",At),Ue.error("Failed to update issue status",{id:"drag-status"})}},[B]);return l?n.jsx(ct,{title:"Issues Management",children:n.jsx(nrt,{viewMode:u})}):n.jsxs(ct,{title:"Issues Management",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(re,{size:"lg",className:"h-11 shadow-lg hover:shadow-xl transition-shadow",onClick:()=>e("/issues/new"),children:[n.jsx(Kn,{className:"h-5 w-5 mr-2"}),"Report Issue"]}),n.jsxs(re,{variant:"outline",size:"lg",className:"h-11 shadow-sm hover:shadow-md transition-shadow",onClick:je,children:[n.jsx(yn,{className:"h-4 w-4 mr-2"}),"Bulk Email"]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(re,{variant:"outline",onClick:ce,className:"shadow-sm hover:shadow-md transition-shadow",children:[n.jsx(Dv,{className:"h-4 w-4 mr-2"}),"Export"]})})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(h7,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Total Issues"}),n.jsx("p",{className:"text-2xl font-bold",children:Y.total})]})]})}),n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(St,{className:"h-5 w-5 text-danger"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Open"}),n.jsx("p",{className:"text-2xl font-bold text-danger",children:Y.open})]})]})}),n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(wr,{className:"h-5 w-5 text-warning"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold text-warning",children:Y.pending})]})]})}),n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(Bb,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Resolved"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:Y.resolved})]})]})}),n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(ar,{className:"h-5 w-5 text-success"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Closed"}),n.jsx("p",{className:"text-2xl font-bold text-success",children:Y.closed})]})]})}),n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(d0,{className:"h-5 w-5 text-danger"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Critical"}),n.jsx("p",{className:"text-2xl font-bold text-danger",children:Y.critical})]})]})}),n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow  bg-gradient-to-br from-primary/5 to-transparent",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(ys,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"AI Active"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:Y.withAI})]})]})}),n.jsx(X,{className:"shadow-sm hover:shadow-md transition-shadow ",children:n.jsxs(Q,{className:"p-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx(Ise,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Avg Resolution"}),n.jsxs("p",{className:"text-2xl font-bold",children:[Y.avgResolutionDays,"d"]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(X,{className:"shadow-md ",children:[n.jsx(we,{children:n.jsxs(Ve,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(ni,{className:"h-5 w-5 text-primary"}),"Issues Trend"]})}),n.jsx(Q,{children:n.jsx(fn,{width:"100%",height:250,children:n.jsxs(B2,{data:Ne,children:[n.jsx(Un,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(an,{dataKey:"date",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(on,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),n.jsx(sl,{}),n.jsx(tc,{type:"monotone",dataKey:"reported",stroke:"hsl(var(--danger))",strokeWidth:2,name:"Reported"}),n.jsx(tc,{type:"monotone",dataKey:"resolved",stroke:"hsl(var(--success))",strokeWidth:2,name:"Resolved"})]})})})]}),n.jsxs(X,{className:"shadow-md ",children:[n.jsx(we,{children:n.jsxs(Ve,{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(lt,{className:"h-5 w-5 text-primary"}),"Issue Types Distribution"]})}),n.jsx(Q,{children:n.jsx(fn,{width:"100%",height:250,children:n.jsxs(Mg,{children:[n.jsx(Fi,{data:ue,cx:"50%",cy:"50%",labelLine:!1,label:({name:de,percent:Re})=>`${de.split("/")[0]}: ${(Re*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:ue.map((de,Re)=>n.jsx(Na,{fill:de.color},`cell-${Re}`))}),n.jsx(mr,{})]})})})]})]}),n.jsx(X,{className:"shadow-md",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(ua,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{placeholder:"Search issues by product, description, vendor, or apartment...",value:m,onChange:de=>h(de.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap lg:flex-nowrap",children:[n.jsxs(tt,{value:x,onValueChange:p,children:[n.jsx(Je,{className:"w-full sm:w-[140px]",children:n.jsx(rt,{placeholder:"Status"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"All",children:"All Status"}),n.jsx(ee,{value:"Open",children:"Open"}),n.jsx(ee,{value:"Pending Vendor Response",children:"Pending"}),n.jsx(ee,{value:"Resolution Agreed",children:"Resolved"}),n.jsx(ee,{value:"Closed",children:"Closed"})]})]}),n.jsxs(tt,{value:g,onValueChange:j,children:[n.jsx(Je,{className:"w-full sm:w-[140px]",children:n.jsx(rt,{placeholder:"Type"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"All",children:"All Types"}),n.jsx(ee,{value:"Broken/Damaged",children:"Damaged"}),n.jsx(ee,{value:"Wrong Item/Color",children:"Wrong Item"}),n.jsx(ee,{value:"Missing Parts",children:"Missing"}),n.jsx(ee,{value:"Incorrect Quantity",children:"Quantity"})]})]}),n.jsxs(re,{variant:P?"default":"outline",onClick:()=>D(!P),className:"relative",children:[n.jsx(Iv,{className:"h-4 w-4 mr-2"}),"Filters",Ee>0&&n.jsx(Ae,{className:"ml-2 h-5 w-5 p-0 flex items-center justify-center bg-primary-foreground text-primary",children:Ee}),P?n.jsx(pN,{className:"h-4 w-4 ml-2"}):n.jsx(Au,{className:"h-4 w-4 ml-2"})]})]})]}),P&&n.jsxs("div",{className:"pt-4 border-t space-y-4 animate-slide-down",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-sm font-semibold",children:"Advanced Filters"}),Ee>0&&n.jsxs(re,{variant:"ghost",size:"sm",onClick:xe,className:"h-8 text-xs",children:[n.jsx(ms,{className:"h-3 w-3 mr-1"}),"Clear All"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Priority"}),n.jsxs(tt,{value:y,onValueChange:w,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"All Priorities"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"All",children:"All Priorities"}),n.jsx(ee,{value:"Critical",children:"Critical"}),n.jsx(ee,{value:"High",children:"High"}),n.jsx(ee,{value:"Medium",children:"Medium"}),n.jsx(ee,{value:"Low",children:"Low"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Apartment"}),n.jsxs(tt,{value:b,onValueChange:N,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"All Apartments"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"All",children:"All Apartments"}),t.map(de=>n.jsx(ee,{value:de.id,children:de.name},de.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Vendor"}),n.jsxs(tt,{value:_,onValueChange:S,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"All Vendors"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"All",children:"All Vendors"}),ve.map(de=>n.jsx(ee,{value:de,children:de},de))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Assigned To"}),n.jsxs(tt,{value:A,onValueChange:E,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"All Assignees"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"All",children:"All Assignees"}),V.map(de=>n.jsx(ee,{value:de,children:de},de))]})]})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",n.jsx("span",{className:"font-semibold text-foreground",children:B.length})," of"," ",n.jsx("span",{className:"font-semibold text-foreground",children:d.length})," issues"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(re,{variant:u==="kanban"?"default":"ghost",size:"sm",onClick:()=>f("kanban"),children:n.jsx(jse,{className:"h-4 w-4"})}),n.jsx(re,{variant:u==="table"?"default":"ghost",size:"sm",onClick:()=>f("table"),children:n.jsx(wse,{className:"h-4 w-4"})}),n.jsx(re,{variant:u==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),children:n.jsx(vse,{className:"h-4 w-4"})})]})]})]})})}),u==="kanban"&&n.jsx(vGe,{onDragEnd:Le,children:n.jsx("div",{className:"overflow-x-auto",children:n.jsx("div",{className:"flex gap-4 pb-4",style:{minWidth:"min-content"},children:Object.entries(oe).map(([de,Re])=>n.jsx("div",{className:"flex-shrink-0 w-96",children:n.jsxs(X,{className:"h-full",children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ve,{className:"text-base font-semibold",children:de}),n.jsx(Ae,{className:le(de),children:Re.length})]})}),n.jsx(sKe,{droppableId:de,children:(it,bt)=>n.jsxs(Q,{ref:it.innerRef,...it.droppableProps,className:ge("space-y-3 max-h-[600px] overflow-y-auto min-h-[100px] transition-colors",bt.isDraggingOver&&"bg-primary/5 border-2 border-dashed border-primary/30 rounded-lg"),children:[Re.map((Qe,ye)=>{const Ge=Qe.priority||R[Qe.id],At=Qe.reported_on?mj(new Date,new Date(Qe.reported_on)):0;return n.jsx(FGe,{draggableId:Qe.id,index:ye,children:(Pt,fr)=>n.jsx(X,{ref:Pt.innerRef,...Pt.draggableProps,...Pt.dragHandleProps,className:ge("hover:shadow-md transition-all cursor-grab border-l-4",fr.isDragging&&"shadow-xl rotate-2 cursor-grabbing ring-2 ring-primary"),style:{...Pt.draggableProps.style,borderLeftColor:Ge==="Critical"?"hsl(var(--danger))":Ge==="High"?"hsl(var(--warning))":"hsl(var(--border))"},onClick:()=>!fr.isDragging&&Fe(Qe),children:n.jsx(Q,{className:"p-3 space-y-2",children:(()=>{var Mt,Jt,Bn,ls,$s,pd;const jr=Qe.items||[],Pn=jr.length||Qe.items_count||0,gr=Pn>0?jr.slice(0,4):[],kr=Math.max(0,Pn-4),jt=((Mt=jr[0])==null?void 0:Mt.product_image)||((Jt=Qe.order_item_details)==null?void 0:Jt.product_image)||((Bn=Qe.product_details)==null?void 0:Bn.product_image);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[me(Qe.type),n.jsx("span",{className:"font-semibold text-sm truncate",children:Qe.display_product_name||Qe.product_name||((ls=Qe.product_details)==null?void 0:ls.product)||"Unknown"})]}),n.jsx(Ae,{className:G(Ge),variant:"outline",children:Ge})]}),n.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:Qe.description}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ae,{variant:"outline",className:"text-xs",children:(($s=Qe.apartment_details)==null?void 0:$s.name)||Qe.apartment_name||L(Qe.apartment)}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:Qe.vendor_name||((pd=Qe.vendor_details)==null?void 0:pd.name)||Qe.vendor}),Qe.ai_activated&&n.jsxs(Ae,{className:"text-xs bg-primary/10 text-primary border-primary/20",children:[n.jsx(ys,{className:"h-3 w-3 mr-1"}),"AI"]})]}),n.jsxs("div",{className:"flex items-center justify-between pt-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[n.jsx(wr,{className:"h-3 w-3"}),At,"d ago"]}),n.jsxs("div",{className:"flex items-center gap-0.5",children:[n.jsx("button",{onClick:Zi=>Oe(Zi,Qe),className:"p-1 rounded hover:bg-muted transition-colors",title:"Edit Issue",children:n.jsx(Ys,{className:"h-3 w-3 text-muted-foreground hover:text-primary"})}),n.jsx("button",{onClick:Zi=>ae(Zi,Qe),className:"p-1 rounded hover:bg-destructive/10 transition-colors",title:"Delete Issue",children:n.jsx(xn,{className:"h-3 w-3 text-muted-foreground hover:text-destructive"})})]})]}),n.jsx("div",{className:"flex items-center -space-x-2",children:Pn>0?n.jsxs(n.Fragment,{children:[gr.map((Zi,bm)=>n.jsx("div",{className:"relative",style:{zIndex:10-bm},children:Zi.product_image?n.jsx("img",{src:Zi.product_image,alt:Zi.product_name||"Product",className:"w-7 h-7 rounded-full object-cover border-2 border-background shadow-sm"}):n.jsx("div",{className:"w-7 h-7 rounded-full bg-muted flex items-center justify-center border-2 border-background shadow-sm",children:n.jsx(lt,{className:"h-3 w-3 text-muted-foreground"})})},Zi.id||bm)),kr>0&&n.jsxs("div",{className:"w-7 h-7 rounded-full bg-primary/10 flex items-center justify-center border-2 border-background shadow-sm text-[10px] font-semibold text-primary",style:{zIndex:1},children:["+",kr]})]}):jt?n.jsx("img",{src:jt,alt:Qe.display_product_name||"Product",className:"w-7 h-7 rounded-full object-cover border-2 border-background shadow-sm"}):n.jsx("div",{className:"w-7 h-7 rounded-full bg-muted flex items-center justify-center border-2 border-background shadow-sm",children:n.jsx(lt,{className:"h-3 w-3 text-muted-foreground"})})})]})]})})()})})},Qe.id)}),it.placeholder,Re.length===0&&!bt.isDraggingOver&&n.jsxs("div",{className:"text-center py-12 text-sm text-muted-foreground",children:[n.jsx(lt,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/30"}),"No issues"]}),Re.length===0&&bt.isDraggingOver&&n.jsxs("div",{className:"text-center py-8 text-sm text-primary",children:[n.jsx(lt,{className:"h-10 w-10 mx-auto mb-2 text-primary/50"}),"Drop here to move to ",de]})]})})]})},de))})})}),u==="table"&&n.jsx(X,{children:n.jsx(Q,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ds,{children:[n.jsx(Is,{children:n.jsxs(Bt,{className:"bg-muted/50",children:[n.jsx(Te,{className:"font-semibold",children:"Issue"}),n.jsx(Te,{className:"font-semibold",children:"Product"}),n.jsx(Te,{className:"font-semibold",children:"Type"}),n.jsx(Te,{className:"font-semibold",children:"Priority"}),n.jsx(Te,{className:"font-semibold",children:"Status"}),n.jsx(Te,{className:"font-semibold",children:"Apartment"}),n.jsx(Te,{className:"font-semibold",children:"Vendor"}),n.jsx(Te,{className:"font-semibold",children:"Reported"}),n.jsx(Te,{className:"font-semibold",children:"AI"}),n.jsx(Te,{className:"font-semibold text-center",children:"Actions"})]})}),n.jsx(Rs,{children:B.length===0?n.jsx(Bt,{children:n.jsxs(Se,{colSpan:10,className:"text-center py-12 text-muted-foreground",children:[n.jsx(St,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/30"}),n.jsx("p",{children:"No issues found"})]})}):B.map(de=>{var bt,Qe,ye;const Re=de.priority||R[de.id],it=de.reported_on?mj(new Date,new Date(de.reported_on)):0;return n.jsxs(Bt,{className:"hover:bg-muted/50",children:[n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[me(de.type),n.jsxs("span",{className:"font-mono text-xs text-muted-foreground",children:["#",de.id.slice(-6)]})]})}),n.jsx(Se,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:de.display_product_name||de.product_name||((bt=de.product_details)==null?void 0:bt.product)||"Unknown"}),n.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:de.description})]})}),n.jsx(Se,{children:n.jsx(Ae,{variant:"outline",className:"text-xs",children:de.type})}),n.jsx(Se,{children:n.jsx(Ae,{className:G(Re),variant:"outline",children:Re})}),n.jsx(Se,{children:n.jsx(Ae,{className:le(de.status),children:de.status})}),n.jsx(Se,{children:n.jsx("span",{className:"text-sm",children:((Qe=de.apartment_details)==null?void 0:Qe.name)||de.apartment_name||L(de.apartment)})}),n.jsx(Se,{children:n.jsx("span",{className:"text-sm",children:de.vendor_name||((ye=de.vendor_details)==null?void 0:ye.name)||de.vendor})}),n.jsx(Se,{children:n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{children:de.reported_on?Ht(new Date(de.reported_on),"MMM dd, yyyy"):"Unknown"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[it,"d ago"]})]})}),n.jsx(Se,{children:de.ai_activated?n.jsxs("div",{className:"flex items-center gap-1 text-primary",children:[n.jsx(ys,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs",children:"Active"})]}):n.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),n.jsx(Se,{className:"text-center",children:n.jsxs("div",{className:"flex items-center justify-center gap-1",children:[n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>Fe(de),title:"View",children:n.jsx(ri,{className:"h-4 w-4"})}),n.jsx(re,{variant:"ghost",size:"sm",onClick:Ge=>Oe(Ge,de),title:"Edit",children:n.jsx(Ys,{className:"h-4 w-4"})}),n.jsx(re,{variant:"ghost",size:"sm",onClick:Ge=>ae(Ge,de),title:"Delete",className:"hover:text-destructive",children:n.jsx(xn,{className:"h-4 w-4"})})]})})]},de.id)})})]})})})}),u==="grid"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[B.map(de=>{var bt,Qe,ye;const Re=de.priority||R[de.id],it=de.reported_on?mj(new Date,new Date(de.reported_on)):0;return n.jsx(X,{className:"hover:shadow-lg transition-all cursor-pointer",onClick:()=>Fe(de),children:n.jsxs(Q,{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[me(de.type),n.jsx(Ae,{className:G(Re),variant:"outline",children:Re})]}),n.jsx(Ae,{className:le(de.status),children:de.status})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-1",children:de.display_product_name||de.product_name||((bt=de.product_details)==null?void 0:bt.product)||"Unknown"}),n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:de.description})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ae,{variant:"outline",className:"text-xs",children:((Qe=de.apartment_details)==null?void 0:Qe.name)||de.apartment_name||L(de.apartment)}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:de.vendor_name||((ye=de.vendor_details)==null?void 0:ye.name)||de.vendor}),de.ai_activated&&n.jsxs(Ae,{className:"text-xs bg-primary/10 text-primary border-primary/20",children:[n.jsx(ys,{className:"h-3 w-3 mr-1"}),"AI Active"]})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(wr,{className:"h-3 w-3"}),it," days ago"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:Ge=>Oe(Ge,de),className:"p-1.5 rounded hover:bg-muted transition-colors",title:"Edit Issue",children:n.jsx(Ys,{className:"h-3.5 w-3.5 text-muted-foreground hover:text-primary"})}),n.jsx("button",{onClick:Ge=>ae(Ge,de),className:"p-1.5 rounded hover:bg-destructive/10 transition-colors",title:"Delete Issue",children:n.jsx(xn,{className:"h-3.5 w-3.5 text-muted-foreground hover:text-destructive"})})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[de.photos&&de.photos.length>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ui,{className:"h-3 w-3"}),de.photos.length]}),de.aiCommunicationLog&&de.aiCommunicationLog.length>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(rl,{className:"h-3 w-3"}),de.aiCommunicationLog.length]})]})]})]})},de.id)}),B.length===0&&n.jsxs("div",{className:"col-span-full text-center py-12 text-muted-foreground",children:[n.jsx(St,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/30"}),n.jsx("p",{children:"No issues found"})]})]})]}),I&&n.jsx(EQ,{product:I,open:H,onOpenChange:F}),n.jsx(cc,{open:T,onOpenChange:k,children:n.jsxs(xl,{className:"sm:max-w-md",children:[n.jsx(gl,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(xn,{className:"h-6 w-6 text-destructive"})}),n.jsxs("div",{children:[n.jsx(yl,{className:"text-lg",children:"Delete Issue"}),n.jsx(jl,{className:"text-sm",children:"This action cannot be undone."})]})]})}),M&&n.jsx("div",{className:"py-4",children:n.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:M.display_product_name||M.product_name||M.type||"Issue"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:[(Ie=M.description)==null?void 0:Ie.slice(0,100),M.description&&M.description.length>100?"...":""]})]})}),n.jsxs(vl,{children:[n.jsx(wl,{disabled:K,children:"Cancel"}),n.jsx(bl,{onClick:he,disabled:K,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:K?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(xn,{className:"h-4 w-4 mr-2"}),"Delete Issue"]})})]})]})})]})},art=()=>{var me;const e=ur(),{data:t,isLoading:r}=l3(),{data:s,isLoading:a}=pm(),i=(t==null?void 0:t.results)||[],o=(s==null?void 0:s.results)||[],[l,c]=v.useState([]),[d,u]=v.useState(!1),[f,m]=v.useState(null),[h,x]=v.useState(null),[p,g]=v.useState(!1),[j,y]=v.useState(!1),[w,b]=v.useState(1),[N,_]=v.useState(null);v.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[w]);const[S,A]=v.useState({}),[E,P]=v.useState({orderId:"",apartmentId:"all",vendorId:"all",priority:"",impact:"",expectedResolution:"",replacementEta:"",resolutionType:"",resolutionNotes:"",deliveryDate:"",invoiceNumber:"",trackingNumber:"",aiActivated:!1,autoNotifyVendor:!0,photos:[]}),[D,I]=v.useState(""),W=["Other (Custom)","Broken/Damaged","Wrong Item/Color","Missing Parts","Incorrect Quantity","Poor Quality","Late Delivery","Installation Issue","Warranty Claim","Defective Product","Packaging Damage","Wrong Size/Dimensions","Expired Product","Missing Documentation","Safety Hazard"],H=[{value:"Critical",label:"Critical",color:"bg-red-500/10 text-red-600 border-red-200"},{value:"High",label:"High",color:"bg-orange-500/10 text-orange-600 border-orange-200"},{value:"Medium",label:"Medium",color:"bg-yellow-500/10 text-yellow-600 border-yellow-200"},{value:"Low",label:"Low",color:"bg-green-500/10 text-green-600 border-green-200"}],F=["Blocking Progress","Delaying Project","Partial Impact","Minor Inconvenience","No Impact"],T=["Full Replacement","Partial Replacement","Repair","Refund","Credit Note","Exchange","Other"];v.useEffect(()=>{(async()=>{u(!0);try{const oe=(await es.getOrders({})).results||[],Ne=["delivered","received","in_transit","Delivered","Received","In Transit"],ue=oe.filter(ve=>Ne.includes(ve.status)||ve.is_delivered);c(ue.length>0?ue:oe)}catch{c([])}finally{u(!1)}})()},[]),v.useEffect(()=>{if(!E.orderId){m(null),x(null),A({}),_(null);return}g(!0),es.getOrder(E.orderId).then(async B=>{var oe;if(m(B),P(Ne=>({...Ne,apartmentId:B.apartment||Ne.apartmentId,vendorId:B.vendor||Ne.vendorId,trackingNumber:B.tracking_number||""})),B.vendor)try{const Ne=await Oo.getVendor(B.vendor);x(Ne)}catch{x(null)}const Y={};(oe=B.items)==null||oe.forEach(Ne=>{const ue=Ne.id||Ne.product||`item-${Math.random()}`;Y[ue]={issueQuantity:Ne.quantity,issueTypes:[],customIssueType:"",description:""}}),A(Y),b(2)}).catch(()=>Ue.error("Failed to load order")).finally(()=>g(!1))},[E.orderId]);const k=B=>{_(Y=>Y===B?null:B)},M=(B,Y,oe)=>{A(Ne=>({...Ne,[B]:{...Ne[B],[Y]:oe}}))},O=B=>{const Y=S[B];return Y&&Y.issueTypes.length>0&&Y.description.trim().length>0},K=()=>Object.entries(S).filter(([B,Y])=>Y.issueTypes.length>0&&Y.description.trim().length>0).map(([B,Y])=>{var Ne;const oe=(Ne=f==null?void 0:f.items)==null?void 0:Ne.find(ue=>(ue.id||ue.product)===B);return{itemKey:B,productId:oe==null?void 0:oe.product,...Y,item:oe}}),se=async B=>{var oe,Ne,ue,ve,xe,Ee;B.preventDefault();const Y=K();if(!E.orderId||Y.length===0||!E.priority){Ue.error("Please complete all required fields");return}y(!0);try{const Fe=Y.map(he=>{var je;const ce=he.issueTypes.join(", ");return{order_item:he.itemKey,product:he.productId||null,product_name:((je=he.item)==null?void 0:je.product_name)||"",quantity_affected:he.issueQuantity,issue_types:ce,description:he.description}}),Oe=[...new Set(Y.flatMap(he=>he.issueTypes))].join(", "),ae=Y.map(he=>{var ce,je;return`[${((ce=he.item)==null?void 0:ce.product_name)||"Product"}] ${he.description} (Qty: ${he.issueQuantity}/${((je=he.item)==null?void 0:je.quantity)||0})`}).join(`

`);await Cr.createIssue({apartment:E.apartmentId,vendor:E.vendorId,order:E.orderId,product:((oe=Y[0])==null?void 0:oe.productId)||null,order_item:((Ne=Y[0])==null?void 0:Ne.itemKey)||null,product_name:Y.length===1?((ve=(ue=Y[0])==null?void 0:ue.item)==null?void 0:ve.product_name)||"":`${Y.length} Products`,type:Oe,description:`Order: ${f==null?void 0:f.po_number}

${ae}`,priority:E.priority,expected_resolution:E.expectedResolution||void 0,vendor_contact:(h==null?void 0:h.contact_person)||void 0,impact:E.impact||void 0,replacement_eta:E.replacementEta||void 0,ai_activated:E.aiActivated,resolution_status:"Open",resolution_type:E.resolutionType||void 0,resolution_notes:E.resolutionNotes||void 0,delivery_date:E.deliveryDate||void 0,invoice_number:E.invoiceNumber||void 0,tracking_number:E.trackingNumber||void 0,auto_notify_vendor:E.autoNotifyVendor,items_data:Fe}),Ue.success(`Issue reported with ${Y.length} product(s)`),e("/issues")}catch(Fe){Ue.error(((Ee=(xe=Fe.response)==null?void 0:xe.data)==null?void 0:Ee.message)||"Failed to report issue")}finally{y(!1)}},R=B=>{const Y=Array.from(B.target.files||[]);if(Y.length+E.photos.length>10){Ue.error("Maximum 10 photos allowed");return}P(oe=>({...oe,photos:[...oe.photos,...Y]}))},V=!!f,L=K(),G=L.length>0,le=l.filter(B=>{var Y,oe,Ne;if(D){const ue=D.toLowerCase(),ve=(Y=B.po_number)==null?void 0:Y.toLowerCase().includes(ue),xe=(oe=B.apartment_name)==null?void 0:oe.toLowerCase().includes(ue),Ee=(Ne=B.vendor_name)==null?void 0:Ne.toLowerCase().includes(ue);if(!ve&&!xe&&!Ee)return!1}return!(E.apartmentId&&E.apartmentId!=="all"&&B.apartment!==E.apartmentId||E.vendorId&&E.vendorId!=="all"&&B.vendor!==E.vendorId)});return n.jsx(ct,{title:"Report New Issue",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(re,{variant:"ghost",size:"icon",onClick:()=>e("/issues"),className:"hover:bg-muted",children:n.jsx(rr,{className:"h-5 w-5"})}),n.jsx("div",{className:"flex-1",children:n.jsx(Fa,{children:n.jsxs($a,{children:[n.jsx(er,{children:n.jsx(Qn,{href:"/issues",className:"text-muted-foreground hover:text-foreground",children:"Issues"})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(pi,{className:"font-medium",children:"Report New Issue"})})]})})})]}),n.jsx(X,{className:"border-none shadow-sm",children:n.jsx(Q,{className:"py-5",children:n.jsx("div",{className:"flex items-center justify-center gap-4",children:[{n:1,l:"Select Order"},{n:2,l:"Select Products"},{n:3,l:"Issue Details"}].map((B,Y)=>n.jsxs(z.Fragment,{children:[n.jsxs("div",{className:`flex items-center gap-2 ${w>=B.n?"text-primary":"text-muted-foreground"}`,children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium border-2 ${w>=B.n?"bg-primary text-primary-foreground border-primary":"bg-muted border-muted-foreground/30"}`,children:w>B.n?n.jsx(ar,{className:"h-5 w-5"}):B.n}),n.jsx("span",{className:"font-medium hidden sm:inline",children:B.l})]}),Y<2&&n.jsx("div",{className:`w-16 h-0.5 ${w>B.n?"bg-primary":"bg-muted"}`})]},B.n))})})}),n.jsxs("form",{onSubmit:se,children:[w===1&&n.jsxs(X,{children:[n.jsxs(we,{children:[n.jsxs(Ve,{children:[n.jsx(An,{className:"h-5 w-5 inline mr-2"}),"Step 1: Select Order"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Search for an order by PO number, or filter by apartment/vendor to narrow down your search"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx(fe,{placeholder:"Search by PO number, apartment, or vendor...",value:D,onChange:B=>I(B.target.value),className:"h-10",disabled:d})}),r?n.jsx(C,{className:"h-10 w-full sm:w-[200px]"}):n.jsxs(tt,{value:E.apartmentId,onValueChange:B=>P(Y=>({...Y,apartmentId:B})),children:[n.jsx(Je,{className:"w-full sm:w-[200px]",children:n.jsx(rt,{placeholder:"All apartments"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"all",children:"All apartments"}),i.map(B=>n.jsx(ee,{value:B.id,children:B.name},B.id))]})]}),a?n.jsx(C,{className:"h-10 w-full sm:w-[200px]"}):n.jsxs(tt,{value:E.vendorId,onValueChange:B=>P(Y=>({...Y,vendorId:B})),children:[n.jsx(Je,{className:"w-full sm:w-[200px]",children:n.jsx(rt,{placeholder:"All vendors"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"all",children:"All vendors"}),o.map(B=>n.jsx(ee,{value:B.id,children:B.name},B.id))]})]}),(D||E.apartmentId&&E.apartmentId!=="all"||E.vendorId&&E.vendorId!=="all")&&n.jsx(re,{type:"button",variant:"ghost",size:"icon",onClick:()=>{I(""),P(B=>({...B,apartmentId:"all",vendorId:"all"}))},title:"Clear all filters",children:n.jsx(ms,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("p",{className:"text-xs text-muted-foreground",children:d?"Loading orders...":`${le.length} order(s)`})}),n.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto pr-2",children:d?n.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(B=>n.jsx(X,{className:"animate-pulse",children:n.jsxs(Q,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[n.jsx(C,{className:"h-5 w-24"}),n.jsx(C,{className:"h-5 w-16"})]}),n.jsx(C,{className:"h-4 w-4 rounded-full"})]}),n.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[n.jsx(C,{className:"h-3 w-28"}),n.jsx(C,{className:"h-3 w-32"}),n.jsx(C,{className:"h-3 w-12"}),n.jsx(C,{className:"h-3 w-16"})]})]})},B))}):le.length===0?n.jsx(X,{className:"border-dashed",children:n.jsxs(Q,{className:"p-8 text-center",children:[n.jsx(An,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),n.jsx("p",{className:"text-muted-foreground",children:D||E.apartmentId!=="all"||E.vendorId!=="all"?"No orders match your search/filters":"No orders found"})]})}):le.map(B=>n.jsx(X,{className:ge("cursor-pointer transition-all hover:shadow-sm",E.orderId===B.id?"ring-2 ring-primary border-primary bg-primary/5":"hover:border-primary/50"),onClick:()=>{P(Y=>({...Y,orderId:B.id}))},children:n.jsxs(Q,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("h4",{className:"font-semibold text-base",children:B.po_number}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:B.status})]}),E.orderId===B.id&&n.jsx(ar,{className:"h-4 w-4 text-primary flex-shrink-0"})]}),n.jsxs("div",{className:"flex items-center gap-4 mt-1.5 text-xs text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1 truncate",children:[n.jsx(dr,{className:"h-3 w-3 flex-shrink-0"}),B.apartment_name]}),n.jsxs("span",{className:"flex items-center gap-1 truncate",children:[n.jsx(Ra,{className:"h-3 w-3 flex-shrink-0"}),B.vendor_name]}),n.jsxs("span",{className:"flex items-center gap-1 flex-shrink-0",children:[n.jsx(lt,{className:"h-3 w-3"}),B.items_count]}),n.jsxs("span",{className:"font-medium text-foreground flex-shrink-0",children:["",Number(B.total).toFixed(2)]})]})]})},B.id))}),p&&n.jsx("div",{className:"space-y-3 mt-4",children:n.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Lt,{className:"h-4 w-4 animate-spin"}),n.jsx("span",{children:"Loading order details..."})]})}),n.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[n.jsx(re,{type:"button",variant:"outline",onClick:()=>e("/issues"),children:"Cancel"}),n.jsxs(re,{type:"button",onClick:()=>{b(2),window.scrollTo({top:0,behavior:"smooth"})},disabled:!V,children:["Next",n.jsx($b,{className:"h-4 w-4 ml-2"})]})]})]})]}),w===2&&!f&&p&&n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2 flex-1",children:[n.jsx(C,{className:"h-6 w-48"}),n.jsx(C,{className:"h-4 w-64"})]}),n.jsx(C,{className:"h-6 w-16"})]})}),n.jsxs(Q,{className:"space-y-3",children:[n.jsx(C,{className:"h-4 w-full"}),n.jsx("div",{className:"space-y-2",children:[1,2,3].map(B=>n.jsx("div",{className:"border rounded-lg p-2 animate-pulse",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"w-12 h-12 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-4 w-16"})]}),n.jsx(C,{className:"h-3 w-24"})]}),n.jsx(C,{className:"h-5 w-5 rounded-full"})]})},B))}),n.jsxs("div",{className:"flex justify-between pt-4",children:[n.jsx(C,{className:"h-10 w-24"}),n.jsx(C,{className:"h-10 w-32"})]})]})]}),w===2&&f&&n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(Ve,{className:"text-lg font-semibold",children:"Select Products with Issues"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[f.po_number,"  ",f.vendor_name,"  ",((me=f.items)==null?void 0:me.length)||0," items"]})]}),n.jsxs(Ae,{variant:L.length>0?"default":"outline",className:"text-xs",children:[L.length," ready"]})]})}),n.jsxs(Q,{className:"space-y-3",children:[n.jsx("p",{className:"text-xs text-muted-foreground border-l-2 border-primary pl-2",children:"Click products to report issues. Fill in the form to include them in your report."}),n.jsx("div",{className:"space-y-2 max-h-[550px] overflow-y-auto pr-1",children:!f.items||f.items.length===0?n.jsx("div",{className:"space-y-2",children:[1,2,3].map(B=>n.jsx("div",{className:"border rounded-lg p-2 animate-pulse",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"w-12 h-12 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-4 w-16"})]}),n.jsx(C,{className:"h-3 w-24"})]}),n.jsx(C,{className:"h-5 w-5 rounded-full"})]})},B))}):f.items.map(B=>{const Y=B.id||B.product||`item-${Math.random()}`,oe=N===Y,Ne=S[Y],ue=O(Y);return n.jsxs("div",{className:ge("border rounded-lg overflow-hidden transition-all",oe&&"ring-1 ring-primary border-primary",ue&&!oe&&"border-green-500 bg-green-50/30 dark:bg-green-950/10"),children:[n.jsx("div",{className:ge("p-2 cursor-pointer hover:bg-muted/30 transition-colors",oe&&"bg-muted/50"),onClick:()=>k(Y),children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative flex-shrink-0",children:[B.product_image?n.jsx("img",{src:B.product_image,alt:B.product_name||"Product",className:"w-12 h-12 rounded object-cover border"}):n.jsx("div",{className:"w-12 h-12 rounded flex items-center justify-center border bg-muted",children:n.jsx(lt,{className:"h-5 w-5 text-muted-foreground"})}),ue&&n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:n.jsx(ar,{className:"h-2.5 w-2.5 text-white"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("h4",{className:"font-semibold text-sm truncate",children:B.product_name||"Unknown Product"}),n.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[n.jsx(Ae,{variant:"outline",className:"text-xs px-1.5 py-0",children:B.quantity}),n.jsxs("span",{className:"text-xs font-semibold",children:["",Number(B.total_price).toFixed(2)]})]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-0.5",children:[n.jsxs("span",{className:"text-xs text-muted-foreground truncate",children:[B.sku||"N/A","  ",Number(B.unit_price).toFixed(2)]}),!oe&&ue&&Ne&&n.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[Ne.issueTypes.slice(0,2).map(ve=>n.jsx(Ae,{variant:"secondary",className:"text-[10px] px-1 py-0",children:ve},ve)),Ne.issueTypes.length>2&&n.jsxs(Ae,{variant:"secondary",className:"text-[10px] px-1 py-0",children:["+",Ne.issueTypes.length-2]})]})]})]}),n.jsx("div",{className:"flex-shrink-0",children:oe?n.jsx(pN,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Au,{className:"h-4 w-4 text-muted-foreground"})})]})}),oe&&Ne&&n.jsx("div",{className:"p-3 pt-0 border-t bg-gradient-to-b from-muted/20 to-muted/40 animate-in slide-in-from-top-2 duration-300",children:n.jsxs("div",{className:"space-y-3 pt-3",children:[n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background border border-border/50 hover:border-primary/50 transition-all duration-200 hover:shadow-md",children:[n.jsxs(q,{htmlFor:`qty-${Y}`,className:"flex items-center gap-1.5 text-xs font-semibold",children:[n.jsx(bse,{className:"h-3.5 w-3.5 text-primary"}),"Quantity Affected *"]}),n.jsx(fe,{id:`qty-${Y}`,type:"number",min:1,max:B.quantity,value:Ne.issueQuantity,onChange:ve=>M(Y,"issueQuantity",parseInt(ve.target.value)||1),className:"h-9 bg-background border-border/50 focus:border-primary focus:ring-1 focus:ring-primary transition-all"},`qty-${Y}`),n.jsxs("p",{className:"text-[10px] text-muted-foreground",children:["Out of ",B.quantity," ordered"]})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background border border-border/50 hover:border-primary/50 transition-all duration-200 hover:shadow-md",children:[n.jsxs(q,{className:"flex items-center gap-1.5 text-xs font-semibold",children:[n.jsx(si,{className:"h-3.5 w-3.5 text-orange-500"}),"Issue Type(s) *"]}),n.jsx(KX,{options:W,value:Ne.issueTypes,onChange:ve=>M(Y,"issueTypes",ve),placeholder:"Select issue types",allowCustom:!0,customPlaceholder:"Enter your custom issue type..."},`types-${Y}`)]})]}),n.jsxs("div",{className:"space-y-1.5 p-3 rounded-lg bg-background border border-border/50 hover:border-primary/50 transition-all duration-200 hover:shadow-md",children:[n.jsxs(q,{htmlFor:`desc-${Y}`,className:"flex items-center gap-1.5 text-xs font-semibold",children:[n.jsx(An,{className:"h-3.5 w-3.5 text-primary"}),"Issue Description *"]}),n.jsxs("div",{className:"relative",children:[n.jsx(gn,{id:`desc-${Y}`,value:Ne.description,onChange:ve=>M(Y,"description",ve.target.value),placeholder:"Describe the issue in detail. Include any relevant information such as when you noticed the issue, specific damage locations, etc.",rows:3,className:"bg-background border-0 focus:ring-0 focus:outline-none transition-all resize-none text-sm pr-10"},`desc-${Y}`),n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx(pf,{text:Ne.description,onTextEnhanced:ve=>M(Y,"description",ve),variant:"ghost",size:"sm"})})]}),n.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[Ne.description.length," characters"]})]}),n.jsx("div",{className:ge("p-2.5 rounded-lg flex items-center gap-2 text-xs font-medium border transition-all duration-300",ue?"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-950/30 dark:to-green-900/30 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800 shadow-sm animate-in fade-in zoom-in duration-300":"bg-gradient-to-r from-yellow-50 to-yellow-100 dark:from-yellow-950/30 dark:to-yellow-900/30 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800"),children:ue?n.jsxs(n.Fragment,{children:[n.jsx(ar,{className:"h-3.5 w-3.5 animate-in zoom-in duration-300"}),"Issue details complete - will be included in report"]}):n.jsxs(n.Fragment,{children:[n.jsx(St,{className:"h-4 w-4"}),"Please fill in issue type(s) and description to include this product"]})})]})})]},Y)})}),n.jsxs("div",{className:"flex justify-between pt-4",children:[n.jsxs(re,{type:"button",variant:"outline",onClick:()=>{P(B=>({...B,apartmentId:"all",vendorId:"all"})),b(1),window.scrollTo({top:0,behavior:"smooth"})},children:[n.jsx(rr,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(re,{type:"button",variant:"outline",onClick:()=>e("/issues"),children:"Cancel"}),n.jsxs(re,{type:"button",onClick:()=>{b(3),window.scrollTo({top:0,behavior:"smooth"})},disabled:!G,children:["Next: Issue Details",n.jsx($b,{className:"h-4 w-4 ml-2"})]})]})]})]})]}),w===3&&!f&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[n.jsxs(X,{className:"animate-pulse",children:[n.jsx(we,{children:n.jsx(C,{className:"h-6 w-48"})}),n.jsxs(Q,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full"})]})]})]}),n.jsxs(X,{className:"animate-pulse",children:[n.jsx(we,{children:n.jsx(C,{className:"h-6 w-40"})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-24 w-full"})]})]})]})]}),n.jsx("div",{className:"space-y-6",children:n.jsxs(X,{className:"animate-pulse",children:[n.jsx(we,{children:n.jsx(C,{className:"h-6 w-36"})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsx(C,{className:"h-20 w-full rounded-lg"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-full"}),n.jsx(C,{className:"h-4 w-3/4"})]})]})]})})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"h-10 w-24"}),n.jsx(C,{className:"h-10 w-32"})]})]}),w===3&&f&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[n.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{children:[n.jsx(si,{className:"h-5 w-5 inline mr-2"}),"Priority & Impact"]})}),n.jsxs(Q,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Priority *"}),n.jsxs(tt,{value:E.priority,onValueChange:B=>P(Y=>({...Y,priority:B})),children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select priority"})}),n.jsx(et,{children:H.map(B=>n.jsx(ee,{value:B.value,children:n.jsx(Ae,{className:B.color,children:B.label})},B.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Impact"}),n.jsxs(tt,{value:E.impact,onValueChange:B=>P(Y=>({...Y,impact:B})),children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select impact"})}),n.jsx(et,{children:F.map(B=>n.jsx(ee,{value:B,children:B},B))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{children:[n.jsx(Hr,{className:"h-4 w-4 inline mr-1"}),"Expected Resolution"]}),n.jsx(fe,{type:"date",value:E.expectedResolution,onChange:B=>P(Y=>({...Y,expectedResolution:B.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{children:[n.jsx(_r,{className:"h-4 w-4 inline mr-1"}),"Replacement ETA"]}),n.jsx(fe,{type:"date",value:E.replacementEta,onChange:B=>P(Y=>({...Y,replacementEta:B.target.value}))})]})]})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{children:[n.jsx(ar,{className:"h-5 w-5 inline mr-2"}),"Resolution"]})}),n.jsxs(Q,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Resolution Type"}),n.jsxs(tt,{value:E.resolutionType,onValueChange:B=>P(Y=>({...Y,resolutionType:B})),children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select type"})}),n.jsx(et,{children:T.map(B=>n.jsx(ee,{value:B,children:B},B))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Notes"}),n.jsx(fe,{value:E.resolutionNotes,onChange:B=>P(Y=>({...Y,resolutionNotes:B.target.value}))})]})]})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{children:[n.jsx(Vi,{className:"h-5 w-5 inline mr-2"}),"Photos"]})}),n.jsxs(Q,{children:[n.jsxs(re,{type:"button",variant:"outline",onClick:()=>{var B;return(B=document.getElementById("photos"))==null?void 0:B.click()},children:[n.jsx(Vi,{className:"h-4 w-4 mr-2"}),"Upload (max 10)"]}),n.jsx("input",{id:"photos",type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:R}),E.photos.length>0&&n.jsx("div",{className:"grid grid-cols-3 gap-2 mt-4",children:E.photos.map((B,Y)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:URL.createObjectURL(B),className:"w-full h-20 object-cover rounded"}),n.jsx("button",{type:"button",onClick:()=>P(oe=>({...oe,photos:oe.photos.filter((Ne,ue)=>ue!==Y)})),className:"absolute -top-2 -right-2 bg-destructive text-white rounded-full p-1",children:n.jsx(ms,{className:"h-3 w-3"})})]},Y))})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(jo,{id:"ai",checked:E.aiActivated,onCheckedChange:B=>P(Y=>({...Y,aiActivated:B}))}),n.jsx(q,{htmlFor:"ai",children:"Enable AI-assisted communication"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(jo,{id:"notify",checked:E.autoNotifyVendor,onCheckedChange:B=>P(Y=>({...Y,autoNotifyVendor:B}))}),n.jsx(q,{htmlFor:"notify",children:"Auto-notify vendor"})]})]})]}),n.jsxs("div",{className:"space-y-6 lg:col-span-1",children:[h&&n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{children:[n.jsx($n,{className:"h-5 w-5 inline mr-2"}),"Vendor Contact"]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Contact Person"}),n.jsx("div",{className:"p-2 bg-muted rounded-md text-sm",children:h.contact_person||"Not specified"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{children:[n.jsx(yn,{className:"h-4 w-4 inline mr-1"}),"Email"]}),n.jsx("div",{className:"p-2 bg-muted rounded-md text-sm",children:h.email||"Not specified"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{children:[n.jsx(Co,{className:"h-4 w-4 inline mr-1"}),"Phone"]}),n.jsx("div",{className:"p-2 bg-muted rounded-md text-sm",children:h.phone||"Not specified"})]})]})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{children:[n.jsx(j7,{className:"h-5 w-5 inline mr-2"}),"Additional Info"]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Delivery Date"}),n.jsx(fe,{type:"date",value:E.deliveryDate,onChange:B=>P(Y=>({...Y,deliveryDate:B.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Invoice #"}),n.jsx(fe,{value:E.invoiceNumber,onChange:B=>P(Y=>({...Y,invoiceNumber:B.target.value}))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{children:["Tracking # ",n.jsx("span",{className:"text-xs text-muted-foreground",children:"(from Order)"})]}),n.jsx(fe,{value:E.trackingNumber||(f==null?void 0:f.tracking_number)||"",readOnly:!0,disabled:!0,className:"bg-muted cursor-not-allowed",placeholder:"Auto-filled from order"})]})]})]})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(re,{type:"button",variant:"outline",onClick:()=>{b(2),window.scrollTo({top:0,behavior:"smooth"})},children:[n.jsx(rr,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(re,{type:"button",variant:"outline",onClick:()=>e("/issues"),children:"Cancel"}),n.jsx(re,{type:"submit",disabled:j,children:j?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):`Report ${L.length} Issue(s)`})]})]})]})]})]})})};function irt({issue:e,onUpdateIssue:t}){const[r,s]=v.useState(""),[a,i]=v.useState(!1),[o,l]=v.useState([]),[c,d]=v.useState(!0),u=x=>{const p=(x||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`);if(!p.trim())return{main:"",quoted:""};const g=[],j=p.search(/\nOn\s.+\swrote:\s*\n/i);j!==-1&&g.push({idx:j});const y=p.search(/\nFrom:\s.+\nSent:\s.+\nTo:\s.+\nSubject:\s.+\n/i);y!==-1&&g.push({idx:y});const w=p.search(/\n>\s?/);if(w!==-1&&g.push({idx:w}),g.length===0)return{main:p.trim(),quoted:""};const b=Math.min(...g.map(S=>S.idx)),N=p.slice(0,b).trim(),_=p.slice(b).trim();return{main:N,quoted:_}};v.useEffect(()=>{let x=!1,p;const g=async j=>{try{j&&d(!0);const y=await Cr.getConversation(e.id);x||l(y.conversation||[])}catch(y){j&&(console.error("Failed to fetch conversation:",y),Ue.error("Failed to load conversation"))}finally{j&&!x&&d(!1)}};return g(!0),p=window.setInterval(()=>{g(!1)},8e3),()=>{x=!0,p&&window.clearInterval(p)}},[e.id]);const f=async()=>{var x,p,g;if(r.trim()){i(!0);try{await Cr.sendManualMessage(e.id,{message:r,to_email:((x=e.vendor_details)==null?void 0:x.email)||""});const j=await Cr.getConversation(e.id);l(j.conversation||[]),s(""),Ue.success("Message sent to vendor successfully")}catch(j){console.error("Failed to send message:",j),Ue.error(((g=(p=j.response)==null?void 0:p.data)==null?void 0:g.message)||"Failed to send message to vendor")}finally{i(!1)}}},h=(()=>{const x=o||[],p=x.filter(y=>y.sender==="AI").length,g=x.filter(y=>y.sender==="Vendor").length,j=x.filter(y=>y.sender==="System"||y.sender==="Admin").length;return{total:x.length,aiMessages:p,vendorMessages:g,systemMessages:j}})();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(X,{children:n.jsxs(Q,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(rl,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-2xl font-bold",children:h.total})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Total Messages"})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(ys,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-2xl font-bold",children:h.aiMessages})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"AI Messages"})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx($n,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-2xl font-bold",children:h.vendorMessages})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Vendor Replies"})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(St,{className:"h-4 w-4 text-warning"}),n.jsx("span",{className:"text-2xl font-bold",children:h.systemMessages})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"System Notes"})]})})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(rl,{className:"h-5 w-5"}),"Communication Log"]}),n.jsx(Ir,{children:e.ai_activated?"AI is actively managing this conversation with the vendor":"Manual conversation tracking"})]}),e.ai_activated&&n.jsxs(Ae,{variant:"default",className:"gap-1",children:[n.jsx(Ho,{className:"h-3 w-3"}),"AI Active"]})]})}),n.jsxs(Q,{children:[c?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Lt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsx(ic,{className:"h-[500px] pr-4",children:n.jsxs("div",{className:"space-y-4",children:[o&&o.length>0?o.map((x,p)=>{const g=x.message.toLowerCase().includes("please arrange")||x.message.toLowerCase().includes("action required")||x.message.toLowerCase().includes("human action");return n.jsxs("div",{className:ge("flex gap-3 p-4 rounded-lg border transition-all",x.sender==="AI"&&"bg-primary/5 border-primary/20",x.sender==="Vendor"&&"bg-muted border-border",x.sender==="System"&&"bg-accent/50 border-accent",g&&"border-2 border-warning shadow-md"),children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:n.jsx("div",{className:ge("w-8 h-8 rounded-full flex items-center justify-center",x.sender==="AI"&&"bg-primary text-primary-foreground",x.sender==="Vendor"&&"bg-muted-foreground text-background",x.sender==="System"&&"bg-warning text-warning-foreground"),children:x.sender==="AI"?n.jsx(ys,{className:"h-4 w-4"}):x.sender==="Vendor"?n.jsx($n,{className:"h-4 w-4"}):n.jsx(St,{className:"h-4 w-4"})})}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Ae,{variant:x.sender==="AI"?"default":"outline",className:ge("text-xs",g&&"bg-warning text-warning-foreground"),children:x.sender}),g&&n.jsxs(Ae,{variant:"outline",className:"text-xs bg-warning/10 text-warning border-warning/50",children:[n.jsx(St,{className:"h-3 w-3 mr-1"}),"Action Required"]}),x.message_type==="email"&&n.jsx(Ae,{variant:"outline",className:"text-xs",children:"Email"}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(x.timestamp).toLocaleString()})]}),x.subject&&n.jsx("p",{className:"text-sm font-semibold text-foreground",children:x.subject}),(()=>{const j=x.message_type==="email"||!!x.subject,{main:y,quoted:w}=j?u(x.message):{main:x.message,quoted:""};return n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:ge("text-sm whitespace-pre-wrap leading-relaxed",g&&"font-medium"),children:y}),w&&n.jsx(KQ,{type:"single",collapsible:!0,children:n.jsxs(I3,{value:"quoted",children:[n.jsx(R3,{className:"py-2 text-xs text-muted-foreground hover:no-underline",children:"Replied to previous email"}),n.jsx(M3,{children:n.jsx("div",{className:"text-xs text-muted-foreground whitespace-pre-wrap leading-relaxed",children:w})})]})})]})})()]})]},p)}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx(rl,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"No messages yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Start by adding a message below"})]}),a&&n.jsxs("div",{className:"flex gap-3 p-4 rounded-lg border bg-primary/5 border-primary/20",children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-primary text-primary-foreground",children:n.jsx(ys,{className:"h-4 w-4 animate-pulse"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(Ae,{variant:"default",className:"text-xs mb-2",children:"AI"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"AI is processing..."})]})]})]})}),n.jsxs("div",{className:"flex gap-2 mt-4",children:[n.jsx(fe,{placeholder:"Add a message to the log...",value:r,onChange:x=>s(x.target.value),onKeyPress:x=>x.key==="Enter"&&f()}),n.jsx(re,{onClick:f,size:"icon",children:n.jsx(Pk,{className:"h-4 w-4"})})]})]})]})]})}function ort({photos:e,onAddPhoto:t}){const[r,s]=v.useState(null),a=i=>{var l;const o=(l=i.target.files)==null?void 0:l[0];if(o){const c=new FileReader;c.onloadend=()=>{t({id:`photo-${Date.now()}`,url:c.result,uploadedAt:new Date().toISOString()})},c.readAsDataURL(o)}};return n.jsxs(n.Fragment,{children:[n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Ui,{className:"h-5 w-5"}),"Issue Photos"]}),n.jsx(Ir,{children:"Visual documentation of the issue"})]}),n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>{var i;return(i=document.getElementById("photo-upload"))==null?void 0:i.click()},children:[n.jsx(Vi,{className:"h-4 w-4 mr-2"}),"Upload Photo"]}),n.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",className:"hidden",onChange:a})]})}),n.jsx(Q,{children:e.length>0?n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(i=>n.jsxs("div",{className:"relative group aspect-square rounded-lg overflow-hidden border cursor-pointer hover:shadow-lg transition-all",onClick:()=>s(i.url),children:[n.jsx("img",{src:i.url,alt:"Issue photo",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all flex items-center justify-center",children:n.jsx(Fse,{className:"h-6 w-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},i.id))}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center border-2 border-dashed rounded-lg",children:[n.jsx(Ui,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground mb-2",children:"No photos uploaded yet"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Upload photos to document the issue"}),n.jsxs(re,{variant:"outline",onClick:()=>{var i;return(i=document.getElementById("photo-upload"))==null?void 0:i.click()},children:[n.jsx(Vi,{className:"h-4 w-4 mr-2"}),"Upload First Photo"]})]})})]}),n.jsx(Zr,{open:!!r,onOpenChange:()=>s(null),children:n.jsxs(qr,{className:"max-w-4xl",children:[n.jsx(Jr,{children:n.jsx(en,{children:"Photo Preview"})}),r&&n.jsx("img",{src:r,alt:"Full size preview",className:"w-full h-auto rounded-lg"})]})})]})}function lrt({issue:e,product:t}){const r=[{id:1,timestamp:e.reportedOn,icon:St,title:"Issue Reported",description:`${e.type} issue reported for ${t.product}`,color:"text-destructive"},...t.orderedOn?[{id:2,timestamp:t.orderedOn,icon:lt,title:"Product Ordered",description:`Order placed with ${e.vendor}`,color:"text-primary"}]:[],...t.actualDeliveryDate?[{id:3,timestamp:t.actualDeliveryDate,icon:_r,title:"Product Delivered",description:"Product delivered to location",color:"text-primary"}]:[],...e.aiActivated?[{id:4,timestamp:e.reportedOn,icon:rl,title:"AI Chatbot Activated",description:"AI started vendor communication",color:"text-primary"}]:[],...e.aiCommunicationLog&&e.aiCommunicationLog.length>0?e.aiCommunicationLog.map((s,a)=>({id:100+a,timestamp:s.timestamp,icon:s.sender==="AI"?rl:s.sender==="Vendor"?lt:St,title:`${s.sender} Message`,description:s.message.substring(0,100)+(s.message.length>100?"...":""),color:s.sender==="AI"?"text-primary":"text-muted-foreground"})):[],...e.resolutionStatus==="Closed"?[{id:999,timestamp:new Date().toISOString(),icon:ar,title:"Issue Resolved",description:"Issue has been successfully resolved",color:"text-success"}]:[]].sort((s,a)=>new Date(s.timestamp).getTime()-new Date(a.timestamp).getTime());return n.jsxs(X,{children:[n.jsxs(we,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5"}),"Issue Timeline"]}),n.jsx(Ir,{children:"Complete history of this issue"})]}),n.jsx(Q,{children:n.jsxs("div",{className:"relative space-y-6",children:[n.jsx("div",{className:"absolute left-4 top-2 bottom-2 w-0.5 bg-border"}),r.map((s,a)=>{const i=s.icon;return n.jsxs("div",{className:"relative flex gap-4",children:[n.jsx("div",{className:ge("relative z-10 w-8 h-8 rounded-full flex items-center justify-center bg-background border-2",s.color==="text-destructive"&&"border-destructive",s.color==="text-primary"&&"border-primary",s.color==="text-success"&&"border-success",s.color==="text-muted-foreground"&&"border-muted-foreground"),children:n.jsx(i,{className:ge("h-4 w-4",s.color)})}),n.jsxs("div",{className:"flex-1 pb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h4",{className:"font-semibold",children:s.title}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:new Date(s.timestamp).toLocaleString()})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]})]},s.id)})]})})]})}function crt({issue:e,vendor:t,onUpdateIssue:r}){const[s,a]=v.useState(e.ai_activated||!1),[i,o]=v.useState(e.status||"Open");v.useEffect(()=>{a(e.ai_activated||!1),o(e.status||"Open")},[e.ai_activated,e.status]);const l=async()=>{var u,f;const d=!s;a(d);try{if(d){const m=await Cr.activateAIEmail(e.id);if((u=m.data)!=null&&u.success)r({ai_activated:!0}),Ue.success("AI Chatbot activated and email sent to vendor");else throw new Error(((f=m.data)==null?void 0:f.message)||"Failed to activate AI")}else await Cr.updateIssue(e.id,{ai_activated:!1}),r({ai_activated:!1}),Ue.info("AI Chatbot paused")}catch(m){console.error("Failed to toggle AI:",m),Ue.error(m.message||"Failed to update AI status"),a(!d)}},c=async d=>{o(d);try{await Cr.updateIssue(e.id,{status:d}),r({status:d}),Ue.success("Status updated")}catch(u){console.error("Failed to update status:",u),Ue.error("Failed to update status"),o(e.status||"Open")}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{children:[n.jsxs(we,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ys,{className:"h-5 w-5"}),"AI Resolution"]}),n.jsx(Ir,{children:"Automate vendor communication"})]}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/30",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(q,{htmlFor:"ai-toggle",className:"text-base font-semibold cursor-pointer",children:"AI Chatbot"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:s?"Active":"Inactive"})]}),n.jsx(Tn,{id:"ai-toggle",checked:s,onCheckedChange:l})]}),s&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-primary/5 border border-primary/20 rounded-lg",children:[n.jsx(w7,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:"AI is monitoring this issue"})]}),n.jsxs(re,{variant:"outline",size:"sm",className:"w-full",onClick:()=>Ue.info("AI settings opened"),children:[n.jsx(Mv,{className:"h-4 w-4 mr-2"}),"Configure AI Behavior"]})]})]})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ar,{className:"h-5 w-5"}),"Resolution Status"]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Current Status"}),n.jsxs(tt,{value:i,onValueChange:c,children:[n.jsx(Je,{children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"Open",children:"Open"}),n.jsx(ee,{value:"Pending Vendor Response",children:"Pending Vendor Response"}),n.jsx(ee,{value:"Resolution Agreed",children:"Resolution Agreed"}),n.jsx(ee,{value:"Closed",children:"Closed"})]})]})]}),i==="Closed"&&n.jsx("div",{className:"p-3 bg-success/10 border border-success/20 rounded-lg",children:n.jsxs("p",{className:"text-sm text-success flex items-center gap-2",children:[n.jsx(ar,{className:"h-4 w-4"}),"Issue has been resolved"]})})]})]}),t&&n.jsxs(X,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Vendor Contact"}),n.jsx(Ir,{children:t.companyName||t.name})]}),n.jsxs(Q,{className:"space-y-3",children:[t.email&&n.jsxs("a",{href:`mailto:${t.email}`,className:"flex items-center gap-2 text-sm hover:text-primary transition-colors",children:[n.jsx(yn,{className:"h-4 w-4"}),t.email]}),t.phone&&n.jsxs("a",{href:`tel:${t.phone}`,className:"flex items-center gap-2 text-sm hover:text-primary transition-colors",children:[n.jsx(Co,{className:"h-4 w-4"}),t.phone]}),t.website&&n.jsxs("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm hover:text-primary transition-colors",children:[n.jsx(Ql,{className:"h-4 w-4"}),"Visit Website"]}),n.jsx(Ft,{}),n.jsxs(re,{variant:"outline",size:"sm",className:"w-full",children:[n.jsx(yn,{className:"h-4 w-4 mr-2"}),"Send Manual Email"]})]})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsx(Ve,{children:"Quick Actions"})}),n.jsxs(Q,{className:"space-y-2",children:[n.jsx(re,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>Ue.info("Replacement request sent"),children:"Request Replacement"}),n.jsx(re,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>Ue.info("Refund request sent"),children:"Request Refund"}),n.jsx(re,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>Ue.info("Escalation triggered"),children:"Escalate to Manager"})]})]})]})}function drt(){return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-8 w-48"}),n.jsx(C,{className:"h-4 w-32"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-24 rounded-full"})]})]})}function urt(){return n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-48"})]}),n.jsx(C,{className:"h-4 w-40"})]}),n.jsx(C,{className:"h-6 w-24 rounded-full"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-4 w-full"}),n.jsx(C,{className:"h-4 w-full"}),n.jsx(C,{className:"h-4 w-3/4"})]}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-20"}),n.jsx(C,{className:"h-6 w-24 rounded-full"})]},t))}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-3 w-28"})]}),n.jsx(C,{className:"h-4 w-32"})]},t))})]})]})}function frt(){return n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-56"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-5 w-32"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-24"}),n.jsx(C,{className:"h-4 w-32"})]},t))})]}),n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-8 w-8 rounded-lg"}),n.jsx(C,{className:"h-5 w-36"})]}),n.jsx(C,{className:"h-6 w-16 rounded-full"})]})}),n.jsx(Q,{className:"space-y-3",children:[...Array(2)].map((e,t)=>n.jsxs("div",{className:"flex gap-4 p-4 rounded-xl border",children:[n.jsx(C,{className:"h-20 w-20 rounded-xl flex-shrink-0"}),n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx(C,{className:"h-5 w-48"}),n.jsx(C,{className:"h-6 w-12 rounded-full"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-5 w-24 rounded-full"}),n.jsx(C,{className:"h-5 w-28 rounded-full"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-full"}),n.jsx(C,{className:"h-3 w-3/4"})]})]})]},t))})]})]})]})}function mrt(){return n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-64"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(2)].map((e,t)=>n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-5 w-24"})]}),n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((r,s)=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(C,{className:"h-3 w-3 rounded"}),n.jsx(C,{className:"h-3 w-20"})]}),n.jsx(C,{className:"h-4 w-full"})]},s))})]},t))})})]})}function hrt(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsx(X,{children:n.jsxs(Q,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-8 w-12"})]}),n.jsx(C,{className:"h-3 w-24"})]})},t))})}function prt(){return n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]}),n.jsx(C,{className:"h-4 w-64"})]}),n.jsx(C,{className:"h-6 w-24 rounded-full"})]})}),n.jsxs(Q,{children:[n.jsx("div",{className:"space-y-4 mb-4",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex gap-3 p-4 rounded-lg border",children:[n.jsx(C,{className:"h-8 w-8 rounded-full flex-shrink-0"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-16 rounded-full"}),n.jsx(C,{className:"h-3 w-32"})]}),n.jsx(C,{className:"h-4 w-full"}),n.jsx(C,{className:"h-4 w-4/5"}),n.jsx(C,{className:"h-4 w-3/5"})]})]},t))}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C,{className:"h-10 flex-1 rounded-md"}),n.jsx(C,{className:"h-10 w-10 rounded-md"})]})]})]})}function xrt(){return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-32"})]}),n.jsx(C,{className:"h-4 w-48"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-5 w-24"}),n.jsx(C,{className:"h-4 w-16"})]}),n.jsx(C,{className:"h-6 w-11 rounded-full"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-36"})]})}),n.jsx(Q,{className:"space-y-3",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})})]})]})}function grt(){return n.jsxs("div",{className:"space-y-6",children:[n.jsx(drt,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx(urt,{}),n.jsx(frt,{}),n.jsx(mrt,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex gap-2 border-b",children:[...Array(3)].map((e,t)=>n.jsx(C,{className:"h-10 w-32 rounded-t-md"},t))}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(hrt,{}),n.jsx(prt,{})]})]})]}),n.jsx("div",{className:"space-y-6",children:n.jsx(xrt,{})})]})]})}function vrt(){var f,m,h,x,p,g,j,y,w,b,N,_,S;const{issueId:e}=Yi(),t=ur(),[r,s]=v.useState(null),[a,i]=v.useState(!0),[o,l]=v.useState(null);v.useEffect(()=>{if(!e){l("No issue ID provided"),i(!1);return}i(!0),Cr.getIssue(e).then(A=>{s(A),l(null)}).catch(A=>{console.error("Failed to fetch issue:",A),l("Issue not found")}).finally(()=>i(!1))},[e]);const c=async A=>{if(r)try{const E=await Cr.updateIssue(r.id,A);s(E),Ue.success("Issue updated")}catch{Ue.error("Failed to update issue")}};if(a)return n.jsx(ct,{title:"Issue Details",children:n.jsx(grt,{})});if(o||!r)return n.jsx(ct,{title:"Issue Not Found",children:n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-4",children:[n.jsx(St,{className:"h-12 w-12 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold",children:"Issue Not Found"}),n.jsxs(re,{onClick:()=>t("/issues"),children:[n.jsx(rr,{className:"h-4 w-4 mr-2"}),"Back to Issues"]})]})});const d=A=>{switch(A){case"Open":return"destructive";case"Pending Vendor Response":return"secondary";case"Resolution Agreed":return"default";case"Closed":return"outline";default:return"secondary"}},u=A=>{switch(A){case"Closed":return n.jsx(ar,{className:"h-4 w-4"});case"Open":return n.jsx($l,{className:"h-4 w-4"});default:return n.jsx(wr,{className:"h-4 w-4"})}};return n.jsx(ct,{title:"Issue Details",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(re,{variant:"ghost",onClick:()=>t("/issues"),children:[n.jsx(rr,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Issue Details"}),n.jsxs("p",{className:"text-muted-foreground",children:["Issue #",r.id]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[u(r.status||"Open"),n.jsx(Ae,{variant:d(r.status||"Open"),children:r.status||"Open"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(St,{className:"h-5 w-5 text-destructive"}),r.type]}),n.jsxs(Ir,{children:["Reported on ",r.reported_on?new Date(r.reported_on).toLocaleDateString():"Unknown"]})]}),r.ai_activated&&n.jsxs(Ae,{variant:"default",className:"gap-1",children:[n.jsx(ys,{className:"h-3 w-3"}),"AI Active"]})]})}),n.jsxs(Q,{className:"space-y-4",children:[r.items&&r.items.length>0?n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold mb-3",children:"Issue Descriptions by Product"}),r.items.map((A,E)=>n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg  space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("h5",{className:"font-semibold text-sm",children:A.product_name||A.order_item_product_name||"Unknown Product"}),A.quantity_affected&&n.jsxs(Ae,{variant:"outline",className:"flex-shrink-0",children:["Qty: ",A.quantity_affected]})]}),A.issue_types&&n.jsx("div",{className:"flex flex-wrap gap-1.5",children:A.issue_types.split(",").map((P,D)=>n.jsx(Ae,{variant:"destructive",className:"text-xs",children:P.trim()},D))}),A.description&&n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap mt-2",children:A.description})]},A.id||E))]}):n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Description"}),n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:r.description})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Priority"}),n.jsx(Ae,{variant:r.priority==="Critical"?"destructive":r.priority==="High"?"default":"secondary",children:r.priority||"Medium"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(Ae,{variant:d(r.status||"Open"),children:r.status||"Open"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolution Status"}),n.jsx("p",{className:"font-medium",children:r.resolution_status||"Pending"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Created"}),n.jsx("p",{className:"font-medium",children:r.created_at?new Date(r.created_at).toLocaleDateString():"Unknown"})]})]}),r.impact&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(Bb,{className:"h-4 w-4"})," Impact"]}),n.jsx("p",{className:"font-medium",children:r.impact})]})]}),(r.expected_resolution||r.replacement_eta||r.delivery_date)&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.expected_resolution&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(Hr,{className:"h-4 w-4"})," Expected Resolution"]}),n.jsx("p",{className:"font-medium",children:new Date(r.expected_resolution).toLocaleDateString()})]}),r.replacement_eta&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(_r,{className:"h-4 w-4"})," Replacement ETA"]}),n.jsx("p",{className:"font-medium",children:new Date(r.replacement_eta).toLocaleDateString()})]}),r.delivery_date&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(Hr,{className:"h-4 w-4"})," Delivery Date"]}),n.jsx("p",{className:"font-medium",children:new Date(r.delivery_date).toLocaleDateString()})]})]})]}),(r.invoice_number||r.tracking_number||((f=r.order_details)==null?void 0:f.tracking_number))&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.invoice_number&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(An,{className:"h-4 w-4"})," Invoice #"]}),n.jsx("p",{className:"font-medium",children:r.invoice_number})]}),(r.tracking_number||((m=r.order_details)==null?void 0:m.tracking_number))&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(_r,{className:"h-4 w-4"})," Tracking #",!r.tracking_number&&((h=r.order_details)==null?void 0:h.tracking_number)&&n.jsx("span",{className:"text-xs",children:"(from Order)"})]}),n.jsx("p",{className:"font-medium",children:r.tracking_number||((x=r.order_details)==null?void 0:x.tracking_number)})]})]})]}),(r.resolution_type||r.resolution_notes)&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h4",{className:"text-sm font-semibold",children:"Resolution Details"}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.resolution_type&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolution Type"}),n.jsx(Ae,{variant:"outline",children:r.resolution_type})]})}),r.resolution_notes&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Resolution Notes"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:r.resolution_notes})]})]})]})]})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(bs,{className:"h-5 w-5"}),"Order & Product Information"]})}),n.jsxs(Q,{className:"space-y-4",children:[r.order_details&&n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(An,{className:"h-4 w-4"})," Order Details"]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Number"}),n.jsx("p",{className:"font-medium",children:r.order_details.order_number||r.order_details.id})]}),r.order_details.order_date&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Date"}),n.jsx("p",{className:"font-medium",children:new Date(r.order_details.order_date).toLocaleDateString()})]}),r.order_details.status&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Status"}),n.jsx(Ae,{variant:"outline",children:r.order_details.status})]}),r.order_details.total_amount&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),n.jsxs("p",{className:"font-medium",children:["$",r.order_details.total_amount]})]})]})]}),r.items&&r.items.length>0&&n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(Ve,{className:"text-base flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(lt,{className:"h-4 w-4 text-primary"})}),"Affected Products"]}),n.jsxs(Ae,{variant:"secondary",className:"font-semibold",children:[r.items.length," ",r.items.length===1?"Item":"Items"]})]})}),n.jsx(Q,{className:"space-y-3",children:r.items.map((A,E)=>n.jsxs("div",{className:"flex gap-4 p-4 rounded-xl border bg-gradient-to-r from-background to-muted/20 hover:shadow-sm transition-all",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden border-2 border-muted bg-gradient-to-br from-muted to-muted/50 shadow-sm",children:A.product_image?n.jsx("img",{src:A.product_image,alt:A.product_name||"Product",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(lt,{className:"h-8 w-8 text-muted-foreground/40"})})})}),n.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("h5",{className:"font-semibold text-sm line-clamp-1",children:A.product_name||A.order_item_product_name||"Unknown Product"}),n.jsxs(Ae,{variant:"outline",className:"flex-shrink-0 gap-1",children:[n.jsx(bs,{className:"h-3 w-3"}),A.quantity_affected]})]}),A.issue_types&&n.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[A.issue_types.split(",").slice(0,4).map((P,D)=>n.jsxs(Ae,{variant:"outline",className:"text-xs px-2 py-0.5 bg-destructive/5 text-destructive border-destructive/20 gap-1",children:[n.jsx(St,{className:"h-3 w-3"}),P.trim()]},D)),A.issue_types.split(",").length>4&&n.jsxs(Ae,{variant:"secondary",className:"text-xs",children:["+",A.issue_types.split(",").length-4," more"]})]}),A.description&&n.jsxs("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[n.jsx(An,{className:"h-3.5 w-3.5 mt-0.5 flex-shrink-0"}),n.jsx("p",{className:"line-clamp-2",children:A.description})]})]})]},A.id||E))})]}),r.order_item_details&&(!r.items||r.items.length===0)&&n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(lt,{className:"h-4 w-4"})," Order Item Details"]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-shrink-0",children:r.order_item_details.product_image||(p=r.product_details)!=null&&p.product_image?n.jsx("img",{src:r.order_item_details.product_image||((g=r.product_details)==null?void 0:g.product_image),alt:r.order_item_details.product_name||"Product",className:"w-24 h-24 rounded-lg object-cover border-2 border-muted"}):n.jsx("div",{className:"w-24 h-24 rounded-lg flex items-center justify-center border-2 border-muted bg-muted",children:n.jsx(lt,{className:"h-10 w-10 text-muted-foreground"})})}),n.jsxs("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Product Name"}),n.jsx("p",{className:"font-medium",children:r.order_item_details.product_name})]}),r.order_item_details.quantity&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Quantity"}),n.jsx("p",{className:"font-medium",children:r.order_item_details.quantity})]}),r.order_item_details.unit_price&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Unit Price"}),n.jsxs("p",{className:"font-medium",children:["$",r.order_item_details.unit_price]})]}),r.order_item_details.total_price&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Price"}),n.jsxs("p",{className:"font-medium",children:["$",r.order_item_details.total_price]})]}),r.order_item_details.sku&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"SKU"}),n.jsx("p",{className:"font-medium",children:r.order_item_details.sku})]})]})]})]}),!r.order_details&&!r.order_item_details&&!r.product_details&&n.jsxs("div",{className:"flex gap-4 items-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center border-2 border-muted bg-muted flex-shrink-0",children:n.jsx(lt,{className:"h-8 w-8 text-muted-foreground"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Product"}),n.jsx("p",{className:"font-medium",children:r.display_product_name||r.product_name||"Unknown"})]})]})]})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(dr,{className:"h-5 w-5"}),"Apartment & Vendor Information"]})}),n.jsx(Q,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx(dr,{className:"h-4 w-4"})," Apartment"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),n.jsx("p",{className:"font-medium",children:((j=r.apartment_details)==null?void 0:j.name)||"Unknown"})]}),((y=r.apartment_details)==null?void 0:y.address)&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),n.jsx("p",{className:"font-medium",children:r.apartment_details.address})]})]})]}),n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg space-y-3",children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[n.jsx($n,{className:"h-4 w-4"})," Vendor"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),n.jsx("p",{className:"font-medium",children:r.vendor_name||((w=r.vendor_details)==null?void 0:w.name)||"Unknown"})]}),((b=r.vendor_details)==null?void 0:b.contact_person)&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx($n,{className:"h-3 w-3"})," Contact Person"]}),n.jsx("p",{className:"font-medium",children:r.vendor_details.contact_person})]}),((N=r.vendor_details)==null?void 0:N.email)&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(yn,{className:"h-3 w-3"})," Email"]}),n.jsx("a",{href:`mailto:${r.vendor_details.email}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.email})]}),((_=r.vendor_details)==null?void 0:_.phone)&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(Co,{className:"h-3 w-3"})," Phone"]}),n.jsx("a",{href:`tel:${r.vendor_details.phone}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.phone})]}),r.vendor_contact&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendor Contact"}),n.jsx("p",{className:"font-medium",children:r.vendor_contact})]})]})]})]})})]}),n.jsxs(To,{defaultValue:"conversation",className:"w-full",children:[n.jsxs(Qi,{className:"grid w-full grid-cols-3",children:[n.jsxs(Ut,{value:"conversation",className:"gap-2",children:[n.jsx(rl,{className:"h-4 w-4"}),"Conversation"]}),n.jsxs(Ut,{value:"photos",className:"gap-2",children:[n.jsx(Ui,{className:"h-4 w-4"}),"Photos (",((S=r.photos)==null?void 0:S.length)||0,")"]}),n.jsxs(Ut,{value:"timeline",className:"gap-2",children:[n.jsx(wr,{className:"h-4 w-4"}),"Timeline"]})]}),n.jsx(Yt,{value:"conversation",className:"mt-6",children:n.jsx(irt,{issue:r,onUpdateIssue:c})}),n.jsx(Yt,{value:"photos",className:"mt-6",children:n.jsx(ort,{photos:r.photos||[],onAddPhoto:async A=>{Ue.info("Photo upload feature coming soon")}})}),n.jsx(Yt,{value:"timeline",className:"mt-6",children:n.jsx(lrt,{issue:r,product:r.product_details})})]})]}),n.jsx("div",{className:"space-y-6",children:n.jsx(crt,{issue:r,vendor:r.vendor_details,onUpdateIssue:c})})]})]})})}function yrt(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-12"})]})}function jrt(){return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-10 w-10 rounded-md"}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(C,{className:"h-6 w-6 rounded"}),n.jsx(C,{className:"h-8 w-32"})]}),n.jsx(C,{className:"h-4 w-28"})]})]}),n.jsx(C,{className:"h-9 w-32 rounded-md"})]})}function brt(){return n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-24 w-full rounded-md"})]})]})]})}function wrt(){return n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-36"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]})}function Nrt(){return n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-36"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-36"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-20 w-full rounded-md"})]})]})]})}function _rt(){return n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-36"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-4 w-48"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-4 w-56"})]})]})]})]})}function Srt(){return n.jsx(ct,{title:"Edit Issue",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(yrt,{}),n.jsx(jrt,{}),n.jsx(brt,{}),n.jsx(wrt,{}),n.jsx(Nrt,{}),n.jsx(_rt,{}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})]})})}const Crt=()=>{var b;const e=ur(),{issueId:t}=Yi(),[r,s]=v.useState(null),[a,i]=v.useState(!0),[o,l]=v.useState(!1),[c,d]=v.useState(!1),[u,f]=v.useState(!1),[m,h]=v.useState({type:"",description:"",status:"Open",priority:"Medium",impact:"",expectedResolution:"",replacementEta:"",resolutionType:"",resolutionNotes:"",deliveryDate:"",invoiceNumber:"",trackingNumber:"",aiActivated:!1,autoNotifyVendor:!0}),x=["Open","Pending Vendor Response","Resolution Agreed","Closed"],p=[{value:"Critical",label:"Critical",color:"bg-red-500/10 text-red-600 border-red-200"},{value:"High",label:"High",color:"bg-orange-500/10 text-orange-600 border-orange-200"},{value:"Medium",label:"Medium",color:"bg-yellow-500/10 text-yellow-600 border-yellow-200"},{value:"Low",label:"Low",color:"bg-green-500/10 text-green-600 border-green-200"}],g=["Blocking Progress","Delaying Project","Partial Impact","Minor Inconvenience","No Impact"],j=["Full Replacement","Partial Replacement","Repair","Refund","Credit Note","Exchange","Other"];v.useEffect(()=>{if(!t){Ue.error("No issue ID provided"),e("/issues");return}i(!0),Cr.getIssue(t).then(N=>{s(N),h({type:N.type||"",description:N.description||"",status:N.status||"Open",priority:N.priority||"Medium",impact:N.impact||"",expectedResolution:N.expected_resolution||"",replacementEta:N.replacement_eta||"",resolutionType:N.resolution_type||"",resolutionNotes:N.resolution_notes||"",deliveryDate:N.delivery_date||"",invoiceNumber:N.invoice_number||"",trackingNumber:N.tracking_number||"",aiActivated:N.ai_activated||!1,autoNotifyVendor:N.auto_notify_vendor??!0})}).catch(N=>{console.error("Failed to fetch issue:",N),Ue.error("Failed to load issue"),e("/issues")}).finally(()=>i(!1))},[t,e]);const y=async N=>{var _,S;if(N.preventDefault(),!!r){l(!0);try{await Cr.updateIssue(r.id,{type:m.type,description:m.description,status:m.status,priority:m.priority,impact:m.impact||void 0,expected_resolution:m.expectedResolution||void 0,replacement_eta:m.replacementEta||void 0,resolution_type:m.resolutionType||void 0,resolution_notes:m.resolutionNotes||void 0,delivery_date:m.deliveryDate||void 0,invoice_number:m.invoiceNumber||void 0,tracking_number:m.trackingNumber||void 0,ai_activated:m.aiActivated,auto_notify_vendor:m.autoNotifyVendor}),Ue.success("Issue updated successfully"),e(`/issues/${r.id}`)}catch(A){Ue.error(((S=(_=A.response)==null?void 0:_.data)==null?void 0:S.message)||"Failed to update issue")}finally{l(!1)}}},w=async()=>{var N,_;if(r){d(!0);try{await Cr.deleteIssue(r.id),Ue.success("Issue deleted successfully"),e("/issues")}catch(S){Ue.error(((_=(N=S.response)==null?void 0:N.data)==null?void 0:_.message)||"Failed to delete issue")}finally{d(!1),f(!1)}}};return a?n.jsx(Srt,{}):r?n.jsx(ct,{title:"Edit Issue",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Fa,{children:n.jsxs($a,{children:[n.jsx(er,{children:n.jsx(Qn,{href:"/issues",children:"Issues"})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(Qn,{href:`/issues/${r.id}`,children:"Issue Details"})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(pi,{children:"Edit"})})]})}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(re,{variant:"ghost",size:"icon",onClick:()=>e(`/issues/${r.id}`),children:n.jsx(rr,{className:"h-4 w-4"})}),n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(St,{className:"h-6 w-6 text-primary"}),"Edit Issue"]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Issue #",r.id.slice(-8)]})]})]}),n.jsxs(cc,{open:u,onOpenChange:f,children:[n.jsxs(re,{variant:"destructive",size:"sm",onClick:()=>f(!0),disabled:c,children:[c?n.jsx(Lt,{className:"h-4 w-4 animate-spin mr-2"}):n.jsx(xn,{className:"h-4 w-4 mr-2"}),"Delete Issue"]}),n.jsxs(xl,{className:"sm:max-w-md",children:[n.jsx(gl,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10",children:n.jsx(xn,{className:"h-6 w-6 text-destructive"})}),n.jsxs("div",{children:[n.jsx(yl,{className:"text-lg",children:"Delete Issue"}),n.jsx(jl,{className:"text-sm",children:"This action cannot be undone."})]})]})}),n.jsx("div",{className:"py-4",children:n.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4",children:[n.jsx("p",{className:"text-sm font-medium text-foreground",children:r.type||"Issue"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:[(b=r.description)==null?void 0:b.slice(0,100),r.description&&r.description.length>100?"...":""]})]})}),n.jsxs(vl,{children:[n.jsx(wl,{disabled:c,children:"Cancel"}),n.jsx(bl,{onClick:w,disabled:c,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:c?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(xn,{className:"h-4 w-4 mr-2"}),"Delete Issue"]})})]})]})]})]}),n.jsxs("form",{onSubmit:y,className:"space-y-6",children:[n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(si,{className:"h-5 w-5"}),"Issue Information"]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Issue Type *"}),n.jsx(fe,{value:m.type,onChange:N=>h(_=>({..._,type:N.target.value})),placeholder:"e.g., Broken/Damaged, Wrong Item"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Status *"}),n.jsxs(tt,{value:m.status,onValueChange:N=>h(_=>({..._,status:N})),children:[n.jsx(Je,{children:n.jsx(rt,{})}),n.jsx(et,{children:x.map(N=>n.jsx(ee,{value:N,children:N},N))})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Description *"}),n.jsx(gn,{value:m.description,onChange:N=>h(_=>({..._,description:N.target.value})),rows:4,placeholder:"Describe the issue in detail..."})]})]})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(si,{className:"h-5 w-5"}),"Priority & Impact"]})}),n.jsxs(Q,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Priority *"}),n.jsxs(tt,{value:m.priority,onValueChange:N=>h(_=>({..._,priority:N})),children:[n.jsx(Je,{children:n.jsx(rt,{})}),n.jsx(et,{children:p.map(N=>n.jsx(ee,{value:N.value,children:n.jsx(Ae,{className:N.color,children:N.label})},N.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Impact"}),n.jsxs(tt,{value:m.impact,onValueChange:N=>h(_=>({..._,impact:N})),children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select impact level"})}),n.jsx(et,{children:g.map(N=>n.jsx(ee,{value:N,children:N},N))})]})]})]})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Hr,{className:"h-5 w-5"}),"Timeline"]})}),n.jsxs(Q,{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Expected Resolution"}),n.jsx(fe,{type:"date",value:m.expectedResolution,onChange:N=>h(_=>({..._,expectedResolution:N.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Replacement ETA"}),n.jsx(fe,{type:"date",value:m.replacementEta,onChange:N=>h(_=>({..._,replacementEta:N.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Delivery Date"}),n.jsx(fe,{type:"date",value:m.deliveryDate,onChange:N=>h(_=>({..._,deliveryDate:N.target.value}))})]})]})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ar,{className:"h-5 w-5"}),"Resolution"]})}),n.jsxs(Q,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Resolution Type"}),n.jsxs(tt,{value:m.resolutionType,onValueChange:N=>h(_=>({..._,resolutionType:N})),children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select resolution type"})}),n.jsx(et,{children:j.map(N=>n.jsx(ee,{value:N,children:N},N))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Resolution Notes"}),n.jsx(fe,{value:m.resolutionNotes,onChange:N=>h(_=>({..._,resolutionNotes:N.target.value})),placeholder:"Add notes about the resolution..."})]})]})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(_r,{className:"h-5 w-5"}),"Tracking Information"]})}),n.jsxs(Q,{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Invoice Number"}),n.jsx(fe,{value:m.invoiceNumber,onChange:N=>h(_=>({..._,invoiceNumber:N.target.value})),placeholder:"Enter invoice number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Tracking Number"}),n.jsx(fe,{value:m.trackingNumber,onChange:N=>h(_=>({..._,trackingNumber:N.target.value})),placeholder:"Enter tracking number"})]})]})]}),n.jsx(X,{children:n.jsxs(Q,{className:"py-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(jo,{id:"ai",checked:m.aiActivated,onCheckedChange:N=>h(_=>({..._,aiActivated:N}))}),n.jsx(q,{htmlFor:"ai",children:"Enable AI-assisted communication"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(jo,{id:"notify",checked:m.autoNotifyVendor,onCheckedChange:N=>h(_=>({..._,autoNotifyVendor:N}))}),n.jsx(q,{htmlFor:"notify",children:"Auto-notify vendor"})]})]})}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(re,{type:"button",variant:"outline",onClick:()=>e(`/issues/${r.id}`),children:[n.jsx(rr,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsx(re,{type:"submit",disabled:o,children:o?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(fu,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})]})}):n.jsx(ct,{title:"Edit Issue",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(St,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),n.jsx("p",{className:"text-lg font-medium",children:"Issue not found"}),n.jsx(re,{onClick:()=>e("/issues"),className:"mt-4",children:"Back to Issues"})]})})},Art=({payment:e,open:t,onOpenChange:r})=>{var f;const s=m=>({Paid:"bg-success/10 text-success border-success/20",Partial:"bg-warning/10 text-warning border-warning/20",Unpaid:"bg-muted text-muted-foreground border-border",Overdue:"bg-danger/10 text-danger border-danger/20"})[m]||"bg-muted";if(!e)return n.jsx(Zr,{open:t,onOpenChange:r,children:n.jsx(qr,{className:"max-w-3xl",children:n.jsx(Jr,{children:n.jsx(en,{children:"Loading..."})})})});const a=e.total_amount??e.totalAmount??0,i=e.amount_paid??e.amountPaid??0,o=e.vendor_name??((f=e.vendor_details)==null?void 0:f.name)??e.vendor??"Unknown",l=e.order_reference??e.orderReference??"",c=e.due_date??e.dueDate??"",d=e.last_payment_date??e.lastPaymentDate,u=e.payment_history??e.paymentHistory??[];return n.jsx(Zr,{open:t,onOpenChange:r,children:n.jsxs(qr,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[n.jsxs(Jr,{children:[n.jsxs(en,{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(An,{className:"h-5 w-5 text-primary"})}),"Payment History"]}),n.jsxs(is,{children:["Complete payment record for ",n.jsx("span",{className:"font-semibold",children:o})," - ",l]})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-muted/30 rounded-lg border",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-xl font-bold",children:[a.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Amount Paid"}),n.jsxs("p",{className:"text-xl font-bold text-success",children:[i.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Balance"}),n.jsxs("p",{className:"text-xl font-bold text-warning",children:[(a-i).toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Status"}),n.jsx(Ae,{className:s(e.status),children:e.status})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Order Details"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 rounded-lg border bg-card",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Due Date"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("p",{className:"text-sm font-medium",children:c?Ht(new Date(c),"MMMM dd, yyyy"):"N/A"})]})]}),d&&n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Last Payment"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vr,{className:"h-4 w-4 text-success"}),n.jsx("p",{className:"text-sm font-medium",children:Ht(new Date(d),"MMMM dd, yyyy")})]})]}),e.notes&&n.jsxs("div",{className:"col-span-2 space-y-1",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Notes"}),n.jsx("p",{className:"text-sm",children:e.notes})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Transaction History"}),u&&u.length>0?n.jsx("div",{className:"space-y-3",children:u.map((m,h)=>n.jsxs("div",{className:"relative",children:[h!==u.length-1&&n.jsx("div",{className:"absolute left-5 top-12 bottom-0 w-px bg-border"}),n.jsxs("div",{className:"flex gap-4 p-4 rounded-lg border bg-card hover:bg-muted/30 transition-colors",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"p-2 bg-success/10 rounded-full",children:n.jsx(Vr,{className:"h-5 w-5 text-success"})})}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("p",{className:"font-semibold text-lg",children:[(m.amount||0).toLocaleString()," HUF"]}),n.jsxs(Ae,{variant:"outline",className:"text-xs",children:[n.jsx(js,{className:"h-3 w-3 mr-1"}),m.method]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:m.date?Ht(new Date(m.date),"MMMM dd, yyyy"):"N/A"})]})}),(m.referenceNo||m.reference_no)&&n.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n.jsx("span",{className:"text-muted-foreground",children:"Ref:"}),n.jsx("span",{className:"font-mono bg-muted px-2 py-0.5 rounded",children:m.referenceNo||m.reference_no})]}),m.note&&n.jsx("p",{className:"text-sm text-muted-foreground italic",children:m.note})]})]})]},m.id||h))}):n.jsxs("div",{className:"text-center py-12 border rounded-lg bg-muted/20",children:[n.jsx(An,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-3"}),n.jsx("p",{className:"text-muted-foreground",children:"No payment transactions recorded yet"})]})]})]})]})})},Ert=({open:e,onOpenChange:t})=>{const{apartments:r,vendors:s,addPayment:a}=Ml(),[i,o]=v.useState({apartmentId:"",vendorId:"",orderReference:"",totalAmount:"",amountPaid:"",dueDate:"",paymentMethod:"",notes:"",bankName:"",accountNumber:"",accountHolder:"",swift:"",iban:"",cardNumber:"",cardHolder:"",expiryDate:"",cvv:""}),[l,c]=v.useState("bank"),d=(j,y)=>{o(w=>({...w,[j]:y}))},u=()=>{const j=parseFloat(i.totalAmount)||0,y=parseFloat(i.amountPaid)||0;return j-y},f=()=>{if(!i.apartmentId||!i.vendorId||!i.orderReference||!i.totalAmount||!i.dueDate){Ue.error("Missing Required Fields",{description:"Please fill in all required fields"});return}const j=parseFloat(i.totalAmount),y=parseFloat(i.amountPaid)||0;if(isNaN(j)||j<=0){Ue.error("Invalid Amount",{description:"Please enter a valid total amount"});return}const w=s.find(_=>_.id===i.vendorId);if(!w)return;let b="Unpaid";y>=j?b="Paid":y>0&&(b="Partial");const N=y>0?[{date:new Date().toISOString().split("T")[0],amount:y,method:i.paymentMethod||l,referenceNo:i.orderReference,note:"Initial payment"}]:[];a({apartmentId:i.apartmentId,vendor:w.name,orderReference:i.orderReference,totalAmount:j,amountPaid:y,dueDate:i.dueDate,status:b,lastPaymentDate:y>0?new Date().toISOString().split("T")[0]:void 0,notes:i.notes,paymentHistory:N}),Ue.success("Payment Created",{description:`Payment record for ${w.name} has been created successfully`}),o({apartmentId:"",vendorId:"",orderReference:"",totalAmount:"",amountPaid:"",dueDate:"",paymentMethod:"",notes:"",bankName:"",accountNumber:"",accountHolder:"",swift:"",iban:"",cardNumber:"",cardHolder:"",expiryDate:"",cvv:""}),t(!1)},m=s.find(j=>j.id===i.vendorId),h=r.find(j=>j.id===i.apartmentId),x=u(),p=parseFloat(i.totalAmount)||0,g=parseFloat(i.amountPaid)||0;return n.jsx(Zr,{open:e,onOpenChange:t,children:n.jsxs(qr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(Jr,{children:[n.jsx(en,{className:"text-2xl font-bold",children:"Create New Payment"}),n.jsx(is,{children:"Create a comprehensive payment record with all necessary details"})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsx(X,{children:n.jsxs(Q,{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(An,{className:"h-5 w-5 text-primary"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Order Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apartment",className:"flex items-center gap-2",children:[n.jsx(dr,{className:"h-4 w-4 text-muted-foreground"}),"Apartment ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsxs(tt,{value:i.apartmentId,onValueChange:j=>d("apartmentId",j),children:[n.jsx(Je,{id:"apartment",children:n.jsx(rt,{placeholder:"Select apartment"})}),n.jsx(et,{children:r.map(j=>n.jsx(ee,{value:j.id,children:j.name},j.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"vendor",className:"flex items-center gap-2",children:[n.jsx(Ra,{className:"h-4 w-4 text-muted-foreground"}),"Vendor ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsxs(tt,{value:i.vendorId,onValueChange:j=>d("vendorId",j),children:[n.jsx(Je,{id:"vendor",children:n.jsx(rt,{placeholder:"Select vendor"})}),n.jsx(et,{children:s.map(j=>n.jsx(ee,{value:j.id,children:j.name},j.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"orderRef",children:["Order Reference ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsx(fe,{id:"orderRef",placeholder:"e.g., ORD-2025-001",value:i.orderReference,onChange:j=>d("orderReference",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"dueDate",className:"flex items-center gap-2",children:[n.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"}),"Due Date ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsx(fe,{id:"dueDate",type:"date",value:i.dueDate,onChange:j=>d("dueDate",j.target.value)})]})]})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Nr,{className:"h-5 w-5 text-primary"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Payment Amount"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"totalAmount",children:["Total Amount (HUF) ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsx(fe,{id:"totalAmount",type:"number",placeholder:"0.00",value:i.totalAmount,onChange:j=>d("totalAmount",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"amountPaid",children:"Amount Paid (HUF)"}),n.jsx(fe,{id:"amountPaid",type:"number",placeholder:"0.00",value:i.amountPaid,onChange:j=>d("amountPaid",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{children:"Balance (HUF)"}),n.jsx("div",{className:ge("h-10 px-3 rounded-md border flex items-center font-semibold",x>0?"bg-warning/10 text-warning border-warning/20":"bg-success/10 text-success border-success/20"),children:x.toFixed(2)})]})]}),p>0&&n.jsxs("div",{className:"mt-4 p-4 bg-muted/50 rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total Amount:"}),n.jsxs("span",{className:"font-semibold",children:[p.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Amount Paid:"}),n.jsxs("span",{className:"font-semibold text-success",children:[g.toLocaleString()," HUF"]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-semibold",children:"Outstanding Balance:"}),n.jsxs("span",{className:ge("text-lg font-bold",x>0?"text-warning":"text-success"),children:[x.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[x===0&&n.jsxs(Ae,{className:"bg-success/10 text-success border-success/20",children:[n.jsx(ar,{className:"h-3 w-3 mr-1"}),"Fully Paid"]}),x>0&&g>0&&n.jsxs(Ae,{className:"bg-warning/10 text-warning border-warning/20",children:[n.jsx(St,{className:"h-3 w-3 mr-1"}),"Partial Payment"]}),x>0&&g===0&&n.jsx(Ae,{variant:"outline",children:"Unpaid"})]})]})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(js,{className:"h-5 w-5 text-primary"}),n.jsx("h3",{className:"text-lg font-semibold",children:"Payment Details"})]}),n.jsxs(To,{value:l,onValueChange:j=>c(j),children:[n.jsxs(Qi,{className:"grid w-full grid-cols-3",children:[n.jsxs(Ut,{value:"bank",className:"flex items-center gap-2",children:[n.jsx(c0,{className:"h-4 w-4"}),"Bank Transfer"]}),n.jsxs(Ut,{value:"card",className:"flex items-center gap-2",children:[n.jsx(js,{className:"h-4 w-4"}),"Card Payment"]}),n.jsxs(Ut,{value:"cash",className:"flex items-center gap-2",children:[n.jsx(Nr,{className:"h-4 w-4"}),"Cash"]})]}),n.jsx(Yt,{value:"bank",className:"space-y-4 mt-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"bankName",children:"Bank Name"}),n.jsx(fe,{id:"bankName",placeholder:"e.g., OTP Bank",value:i.bankName,onChange:j=>d("bankName",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"accountHolder",children:"Account Holder"}),n.jsx(fe,{id:"accountHolder",placeholder:"Full name",value:i.accountHolder,onChange:j=>d("accountHolder",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"accountNumber",children:"Account Number"}),n.jsx(fe,{id:"accountNumber",placeholder:"XXXX-XXXX-XXXX-XXXX",value:i.accountNumber,onChange:j=>d("accountNumber",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"iban",children:"IBAN"}),n.jsx(fe,{id:"iban",placeholder:"HU42 1177 3016 1111 1018 0000 0000",value:i.iban,onChange:j=>d("iban",j.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"swift",children:"SWIFT/BIC Code"}),n.jsx(fe,{id:"swift",placeholder:"e.g., OTPVHUHB",value:i.swift,onChange:j=>d("swift",j.target.value)})]})]})}),n.jsx(Yt,{value:"card",className:"space-y-4 mt-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"cardNumber",children:"Card Number"}),n.jsx(fe,{id:"cardNumber",placeholder:"XXXX XXXX XXXX XXXX",maxLength:19,value:i.cardNumber,onChange:j=>d("cardNumber",j.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"cardHolder",children:"Card Holder Name"}),n.jsx(fe,{id:"cardHolder",placeholder:"Name as on card",value:i.cardHolder,onChange:j=>d("cardHolder",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"expiryDate",children:"Expiry Date"}),n.jsx(fe,{id:"expiryDate",placeholder:"MM/YY",maxLength:5,value:i.expiryDate,onChange:j=>d("expiryDate",j.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"cvv",children:"CVV"}),n.jsx(fe,{id:"cvv",type:"password",placeholder:"XXX",maxLength:4,value:i.cvv,onChange:j=>d("cvv",j.target.value)})]})]})}),n.jsx(Yt,{value:"cash",className:"mt-4",children:n.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg text-center text-muted-foreground",children:[n.jsx(c0,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground/50"}),n.jsx("p",{className:"text-sm",children:"Cash payment selected. No additional details required."})]})})]})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"p-6 space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(gn,{id:"notes",placeholder:"Add any additional payment notes or instructions...",rows:3,value:i.notes,onChange:j=>d("notes",j.target.value)})]})}),(h||m)&&n.jsx(X,{className:"bg-primary/5 border-primary/20",children:n.jsxs(Q,{className:"p-6",children:[n.jsx("h3",{className:"font-semibold mb-3 text-primary",children:"Payment Summary"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[h&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Apartment:"}),n.jsx("span",{className:"font-medium",children:h.name})]}),m&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Vendor:"}),n.jsx("span",{className:"font-medium",children:m.name})]}),i.orderReference&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Order Reference:"}),n.jsx("span",{className:"font-mono font-medium",children:i.orderReference})]}),i.dueDate&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Due Date:"}),n.jsx("span",{className:"font-medium",children:new Date(i.dueDate).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Payment Method:"}),n.jsx(Ae,{variant:"outline",children:l.toUpperCase()})]})]})]})})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[n.jsx(re,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n.jsx(re,{onClick:f,className:"px-8",children:"Create Payment"})]})]})})};function Prt(){return n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(C,{className:"h-11 w-40 rounded-md"}),n.jsx(C,{className:"h-10 w-36 rounded-md"})]})}function krt(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{iconBg:"bg-primary/10"},{iconBg:"bg-green-500/10"},{iconBg:"bg-yellow-500/10"},{iconBg:"bg-red-500/10"}].map((e,t)=>n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-3 w-24"}),n.jsx(C,{className:"h-8 w-32"}),t===3&&n.jsx(C,{className:"h-3 w-20 mt-1"})]}),n.jsx("div",{className:`p-3 rounded-lg ${e.iconBg}`,children:n.jsx(C,{className:"h-6 w-6 rounded"})})]})})},t))})}function Trt(){return n.jsxs(X,{children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-6 w-40"}),n.jsx(C,{className:"h-4 w-64"})]}),n.jsx(C,{className:"h-10 w-[130px] rounded-md"})]})}),n.jsxs(Q,{children:[n.jsx("div",{className:"grid w-full grid-cols-3 bg-muted rounded-lg p-1 mb-6",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-24"})]},t))}),n.jsx("div",{className:"h-[350px] flex items-end justify-between gap-2 px-4",children:[...Array(12)].map((e,t)=>n.jsxs("div",{className:"flex-1 flex flex-col justify-end gap-1",children:[n.jsx(C,{className:"w-full rounded-t",style:{height:`${Math.random()*60+40}%`}}),n.jsx(C,{className:"h-3 w-full"})]},t))})]})]})}function Ort(){return n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-6 w-32"}),n.jsx(C,{className:"h-9 w-28 rounded-md"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsx(C,{className:"h-10 flex-1 rounded-md"}),n.jsx(C,{className:"h-10 w-[140px] rounded-md"}),n.jsx(C,{className:"h-10 w-[140px] rounded-md"}),n.jsx(C,{className:"h-10 w-[140px] rounded-md"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]},t))})]})]})}function Drt(){return n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-6 w-48"}),n.jsx(C,{className:"h-9 w-32 rounded-md"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Order Ref","Vendor","Apartment","Due Date","Total","Paid","Outstanding","Status","Actions"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(8)].map((e,t)=>n.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-3 w-32"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-3 w-36"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-32"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-5 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"})]})})]},t))})]})})})]})}function Irt(){return n.jsxs("div",{className:"space-y-6",children:[n.jsx(Prt,{}),n.jsx(krt,{}),n.jsx(Trt,{}),n.jsx(Ort,{}),n.jsx(Drt,{})]})}const Rrt=()=>{var bt,Qe;const e=ur(),{apartments:t,vendors:r,updatePayment:s,addPaymentToHistory:a}=Ml(),{data:i,isLoading:o,error:l,refetch:c}=m3({page_size:100}),d=RBe();GX();const u=h3(),f=(i==null?void 0:i.results)||[],[m,h]=v.useState(""),[x,p]=v.useState("All"),[g,j]=v.useState("All"),[y,w]=v.useState("All"),[b,N]=v.useState(""),[_,S]=v.useState(""),[A,E]=v.useState(""),[P,D]=v.useState(""),[I,W]=v.useState(null),[H,F]=v.useState(!1),[T,k]=v.useState(!1),[M,O]=v.useState(!1),[K,se]=v.useState("30d"),[R,V]=v.useState("trends"),[L,G]=v.useState(!1),[le,me]=v.useState(!1),[B,Y]=v.useState(null),oe=ye=>{var Ge;return((Ge=ye.apartment_details)==null?void 0:Ge.name)||"Unknown"},Ne=ye=>({Paid:"bg-success/10 text-success border-success/20",Partial:"bg-warning/10 text-warning border-warning/20",Unpaid:"bg-muted text-muted-foreground border-border",Overdue:"bg-danger/10 text-danger border-danger/20"})[ye]||"bg-muted",ue=ye=>{switch(ye){case"Paid":return n.jsx(Vr,{className:"h-3.5 w-3.5"});case"Partial":return n.jsx(wr,{className:"h-3.5 w-3.5"});case"Overdue":return n.jsx(St,{className:"h-3.5 w-3.5"});default:return n.jsx(Nr,{className:"h-3.5 w-3.5"})}},ve=v.useMemo(()=>f.filter(ye=>{var jt;const Ge=oe(ye),At=ye.vendor_name||((jt=ye.vendor_details)==null?void 0:jt.name)||"",Pt=At.toLowerCase().includes(m.toLowerCase())||ye.order_reference.toLowerCase().includes(m.toLowerCase())||Ge.toLowerCase().includes(m.toLowerCase()),fr=x==="All"||ye.status===x,jr=g==="All"||At===g,Pn=y==="All"||ye.apartment===y;let gr=!0;if(b||_){const Mt=new Date(ye.due_date);b&&(gr=gr&&Mt>=new Date(b)),_&&(gr=gr&&Mt<=new Date(_))}let kr=!0;if(A||P){const Mt=ye.total_amount||0;A&&(kr=kr&&Mt>=parseFloat(A)),P&&(kr=kr&&Mt<=parseFloat(P))}return Pt&&fr&&jr&&Pn&&gr&&kr}),[f,m,x,g,y,b,_,A,P]),xe=ve.reduce((ye,Ge)=>ye+(Ge.total_amount||0),0),Ee=ve.reduce((ye,Ge)=>ye+(Ge.amount_paid||0),0),Fe=xe-Ee,Oe=ve.filter(ye=>ye.status==="Overdue").length,ae=ve.filter(ye=>ye.status==="Partial").length,he=Array.from(new Set(f.map(ye=>{var Ge;return ye.vendor_name||((Ge=ye.vendor_details)==null?void 0:Ge.name)||""}))).filter(Boolean).sort(),ce=()=>{h(""),p("All"),j("All"),w("All"),N(""),S(""),E(""),D("")},je=[m,x!=="All",g!=="All",y!=="All",b,_,A,P].filter(Boolean).length,Le=ye=>{W(ye),F(!0)},Ie=()=>{Ue.success("Export Started",{description:"Your payment report is being generated..."})},de=v.useMemo(()=>{const ye=new Date;let Ge;switch(K){case"7d":Sc(ye,7),Ge=7;break;case"30d":Sc(ye,30),Ge=30;break;case"90d":Sc(ye,90),Ge=90;break;case"1y":m0e(ye,12),Ge=365;break;default:Sc(ye,30),Ge=30}const At=[];for(let Pt=Ge;Pt>=0;Pt--){const fr=Sc(ye,Pt),jr=Ht(fr,"yyyy-MM-dd"),gr=f.filter(kr=>{var jt;return kr.last_payment_date===jr?!0:(jt=kr.payment_history)==null?void 0:jt.some(Mt=>Mt.date===jr)}).reduce((kr,jt)=>{var Jt;const Mt=((Jt=jt.payment_history)==null?void 0:Jt.filter(Bn=>Bn.date===jr))||[];return kr+Mt.reduce((Bn,ls)=>Bn+(ls.amount||0),0)},0);At.push({date:Ht(fr,"MMM dd"),fullDate:jr,paid:gr,pending:f.filter(kr=>kr.due_date===jr&&kr.status!=="Paid").reduce((kr,jt)=>kr+(jt.outstanding_amount||0),0)})}return At},[f,K]),Re=v.useMemo(()=>{const ye={Paid:f.filter(Ge=>Ge.status==="Paid").length,Partial:f.filter(Ge=>Ge.status==="Partial").length,Unpaid:f.filter(Ge=>Ge.status==="Unpaid").length,Overdue:f.filter(Ge=>Ge.status==="Overdue").length};return[{name:"Paid",value:ye.Paid,color:"hsl(var(--success))"},{name:"Partial",value:ye.Partial,color:"hsl(var(--warning))"},{name:"Unpaid",value:ye.Unpaid,color:"hsl(var(--muted-foreground))"},{name:"Overdue",value:ye.Overdue,color:"hsl(var(--danger))"}].filter(Ge=>Ge.value>0)},[f]),it=v.useMemo(()=>{const ye={};return f.forEach(Ge=>{var Pt;const At=Ge.vendor_name||((Pt=Ge.vendor_details)==null?void 0:Pt.name)||"Unknown";ye[At]||(ye[At]={total:0,paid:0,pending:0}),ye[At].total+=Ge.total_amount||0,ye[At].paid+=Ge.amount_paid||0,ye[At].pending+=Ge.outstanding_amount||0}),Object.entries(ye).map(([Ge,At])=>({vendor:Ge,...At})).sort((Ge,At)=>At.total-Ge.total).slice(0,5)},[f]);return o?n.jsx(ct,{title:"Payments",children:n.jsx(Irt,{})}):n.jsxs(ct,{title:"Payments",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs(re,{onClick:()=>e("/payments/new"),size:"lg",className:"h-11",children:[n.jsx(Kn,{className:"h-5 w-5 mr-2"}),"Create Payment"]}),n.jsxs(re,{variant:"outline",onClick:Ie,children:[n.jsx(Dv,{className:"h-4 w-4 mr-2"}),"Export Report"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold tracking-tight",children:[xe.toLocaleString()," HUF"]})]}),n.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:n.jsx(Nr,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Total Paid"}),n.jsxs("p",{className:"text-2xl font-bold tracking-tight text-success",children:[Ee.toLocaleString()," HUF"]})]}),n.jsx("div",{className:"p-3 bg-success/10 rounded-lg",children:n.jsx(Vr,{className:"h-6 w-6 text-success"})})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Outstanding"}),n.jsxs("p",{className:"text-2xl font-bold tracking-tight text-warning",children:[Fe.toLocaleString()," HUF"]})]}),n.jsx("div",{className:"p-3 bg-warning/10 rounded-lg",children:n.jsx(wr,{className:"h-6 w-6 text-warning"})})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Overdue"}),n.jsx("p",{className:"text-2xl font-bold tracking-tight text-danger",children:Oe}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[ae," Partial"]})]}),n.jsx("div",{className:"p-3 bg-danger/10 rounded-lg",children:n.jsx(St,{className:"h-6 w-6 text-danger"})})]})})})]}),n.jsxs(X,{children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx(Ve,{className:"text-lg font-semibold",children:"Payment Analytics"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Visual insights into payment trends and status"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(tt,{value:K,onValueChange:ye=>se(ye),children:[n.jsx(Je,{className:"w-[130px]",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"7d",children:"Last 7 days"}),n.jsx(ee,{value:"30d",children:"Last 30 days"}),n.jsx(ee,{value:"90d",children:"Last 90 days"}),n.jsx(ee,{value:"1y",children:"Last year"})]})]})})]})}),n.jsx(Q,{children:n.jsxs(To,{value:R,onValueChange:ye=>V(ye),children:[n.jsxs(Qi,{className:"grid w-full grid-cols-3 mb-6",children:[n.jsxs(Ut,{value:"trends",className:"flex items-center gap-2",children:[n.jsx(Ff,{className:"h-4 w-4"}),"Payment Trends"]}),n.jsxs(Ut,{value:"status",className:"flex items-center gap-2",children:[n.jsx(Vr,{className:"h-4 w-4"}),"Status Distribution"]}),n.jsxs(Ut,{value:"vendors",className:"flex items-center gap-2",children:[n.jsx(ni,{className:"h-4 w-4"}),"Vendor Comparison"]})]}),n.jsx(Yt,{value:"trends",className:"mt-0",children:n.jsx(fn,{width:"100%",height:350,children:n.jsxs(qLe,{data:de,children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorPaid",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"hsl(var(--success))",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"hsl(var(--success))",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorPending",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"hsl(var(--warning))",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"hsl(var(--warning))",stopOpacity:0})]})]}),n.jsx(Un,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(an,{dataKey:"date",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(on,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:ye=>`${(ye/1e3).toFixed(0)}k`}),n.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:ye=>[`${ye.toLocaleString()} HUF`,""]}),n.jsx(sl,{}),n.jsx(rd,{type:"monotone",dataKey:"paid",stroke:"hsl(var(--success))",fillOpacity:1,fill:"url(#colorPaid)",name:"Paid"}),n.jsx(rd,{type:"monotone",dataKey:"pending",stroke:"hsl(var(--warning))",fillOpacity:1,fill:"url(#colorPending)",name:"Pending"})]})})}),n.jsx(Yt,{value:"status",className:"mt-0",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(fn,{width:"100%",height:350,children:n.jsxs(Mg,{children:[n.jsx(Fi,{data:Re,cx:"50%",cy:"50%",labelLine:!1,label:({name:ye,percent:Ge})=>`${ye}: ${(Ge*100).toFixed(0)}%`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:Re.map((ye,Ge)=>n.jsx(Na,{fill:ye.color},`cell-${Ge}`))}),n.jsx(mr,{})]})}),n.jsx("div",{className:"flex flex-col justify-center space-y-4",children:Re.map(ye=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:ye.color}}),n.jsx("span",{className:"font-medium",children:ye.name})]}),n.jsx("span",{className:"text-2xl font-bold",children:ye.value})]},ye.name))})]})}),n.jsx(Yt,{value:"vendors",className:"mt-0",children:n.jsx(fn,{width:"100%",height:350,children:n.jsxs(wa,{data:it,children:[n.jsx(Un,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(an,{dataKey:"vendor",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),n.jsx(on,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:ye=>`${(ye/1e3).toFixed(0)}k`}),n.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:ye=>[`${ye.toLocaleString()} HUF`,""]}),n.jsx(sl,{}),n.jsx(wn,{dataKey:"paid",fill:"hsl(var(--success))",name:"Paid",radius:[4,4,0,0]}),n.jsx(wn,{dataKey:"pending",fill:"hsl(var(--warning))",name:"Pending",radius:[4,4,0,0]})]})})})]})})]}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(ua,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{placeholder:"Search by vendor, order reference, or apartment...",value:m,onChange:ye=>h(ye.target.value),className:"pl-10"})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap lg:flex-nowrap",children:[n.jsxs(tt,{value:x,onValueChange:p,children:[n.jsx(Je,{className:"w-full sm:w-[140px]",children:n.jsx(rt,{placeholder:"Status"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"All",children:"All Status"}),n.jsx(ee,{value:"Paid",children:"Paid"}),n.jsx(ee,{value:"Partial",children:"Partial"}),n.jsx(ee,{value:"Unpaid",children:"Unpaid"}),n.jsx(ee,{value:"Overdue",children:"Overdue"})]})]}),n.jsxs(tt,{value:g,onValueChange:j,children:[n.jsx(Je,{className:"w-full sm:w-[140px]",children:n.jsx(rt,{placeholder:"Vendor"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"All",children:"All Vendors"}),he.map(ye=>n.jsx(ee,{value:ye,children:ye},ye))]})]}),n.jsxs(re,{variant:L?"default":"outline",onClick:()=>G(!L),className:"relative",children:[n.jsx(Iv,{className:"h-4 w-4 mr-2"}),"Filters",je>0&&n.jsx(Ae,{className:"ml-2 h-5 w-5 p-0 flex items-center justify-center bg-primary text-primary-foreground",children:je}),L?n.jsx(pN,{className:"h-4 w-4 ml-2"}):n.jsx(Au,{className:"h-4 w-4 ml-2"})]})]})]}),L&&n.jsxs("div",{className:"pt-4 border-t space-y-4 animate-slide-down",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Advanced Filters"}),je>0&&n.jsxs(re,{variant:"ghost",size:"sm",onClick:ce,className:"h-8 text-xs",children:[n.jsx(ms,{className:"h-3 w-3 mr-1"}),"Clear All"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Apartment"}),n.jsxs(tt,{value:y,onValueChange:w,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"All Apartments"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"All",children:"All Apartments"}),t.map(ye=>n.jsx(ee,{value:ye.id,children:ye.name},ye.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Due Date From"}),n.jsx(fe,{type:"date",value:b,onChange:ye=>N(ye.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Due Date To"}),n.jsx(fe,{type:"date",value:_,onChange:ye=>S(ye.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Min Amount (HUF)"}),n.jsx(fe,{type:"number",placeholder:"0",value:A,onChange:ye=>E(ye.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-xs font-medium text-muted-foreground",children:"Max Amount (HUF)"}),n.jsx(fe,{type:"number",placeholder:"1000000",value:P,onChange:ye=>D(ye.target.value)})]})]}),je>0&&n.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[m&&n.jsxs(Ae,{variant:"secondary",className:"gap-1",children:["Search: ",m,n.jsx(ms,{className:"h-3 w-3 cursor-pointer",onClick:()=>h("")})]}),x!=="All"&&n.jsxs(Ae,{variant:"secondary",className:"gap-1",children:["Status: ",x,n.jsx(ms,{className:"h-3 w-3 cursor-pointer",onClick:()=>p("All")})]}),g!=="All"&&n.jsxs(Ae,{variant:"secondary",className:"gap-1",children:["Vendor: ",g,n.jsx(ms,{className:"h-3 w-3 cursor-pointer",onClick:()=>j("All")})]}),y!=="All"&&n.jsxs(Ae,{variant:"secondary",className:"gap-1",children:["Apartment: ",((bt=t.find(ye=>ye.id===y))==null?void 0:bt.name)||y,n.jsx(ms,{className:"h-3 w-3 cursor-pointer",onClick:()=>w("All")})]}),b&&n.jsxs(Ae,{variant:"secondary",className:"gap-1",children:["From: ",Ht(new Date(b),"MMM dd, yyyy"),n.jsx(ms,{className:"h-3 w-3 cursor-pointer",onClick:()=>N("")})]}),_&&n.jsxs(Ae,{variant:"secondary",className:"gap-1",children:["To: ",Ht(new Date(_),"MMM dd, yyyy"),n.jsx(ms,{className:"h-3 w-3 cursor-pointer",onClick:()=>S("")})]}),A&&n.jsxs(Ae,{variant:"secondary",className:"gap-1",children:["Min: ",parseFloat(A).toLocaleString()," HUF",n.jsx(ms,{className:"h-3 w-3 cursor-pointer",onClick:()=>E("")})]}),P&&n.jsxs(Ae,{variant:"secondary",className:"gap-1",children:["Max: ",parseFloat(P).toLocaleString()," HUF",n.jsx(ms,{className:"h-3 w-3 cursor-pointer",onClick:()=>D("")})]})]})]}),n.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",n.jsx("span",{className:"font-semibold text-foreground",children:ve.length})," of"," ",n.jsx("span",{className:"font-semibold text-foreground",children:f.length})," payments"]})})]})})}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsx(Ve,{className:"text-lg font-semibold",children:"Payment Records"})}),n.jsx(Q,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ds,{children:[n.jsx(Is,{children:n.jsxs(Bt,{className:"bg-muted/50",children:[n.jsx(Te,{className:"font-semibold",children:"Vendor"}),n.jsx(Te,{className:"font-semibold",children:"Order Ref"}),n.jsx(Te,{className:"font-semibold",children:"Apartment"}),n.jsx(Te,{className:"font-semibold text-right",children:"Total Amount"}),n.jsx(Te,{className:"font-semibold text-right",children:"Paid"}),n.jsx(Te,{className:"font-semibold text-right",children:"Balance"}),n.jsx(Te,{className:"font-semibold",children:"Due Date"}),n.jsx(Te,{className:"font-semibold",children:"Status"}),n.jsx(Te,{className:"font-semibold text-center",children:"Actions"})]})}),n.jsx(Rs,{children:ve.length===0?n.jsx(Bt,{children:n.jsx(Se,{colSpan:9,className:"text-center py-12 text-muted-foreground",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(Lb,{className:"h-12 w-12 text-muted-foreground/50"}),n.jsx("p",{children:"No payments found matching your filters"})]})})}):ve.map(ye=>{var jt;const Ge=ye.total_amount||0,At=ye.amount_paid||0,Pt=ye.outstanding_amount||0,fr=ye.status==="Overdue",gr=new Date(ye.due_date)<new Date&&ye.status!=="Paid",kr=ye.vendor_name||((jt=ye.vendor_details)==null?void 0:jt.name)||"Unknown";return n.jsxs(Bt,{className:ge("transition-colors cursor-pointer hover:bg-muted/50",fr&&"bg-danger/5 hover:bg-danger/10"),onClick:()=>e(`/payments/${ye.id}`),children:[n.jsxs(Se,{children:[n.jsx("div",{className:"font-medium text-foreground",children:kr}),ye.notes&&n.jsx("div",{className:"text-xs text-muted-foreground mt-0.5 max-w-[200px] truncate",children:ye.notes})]}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx(Lb,{className:"h-3.5 w-3.5 text-muted-foreground"}),n.jsx("span",{className:"font-mono text-sm",children:ye.order_reference})]})}),n.jsx(Se,{children:n.jsx(Ae,{variant:"outline",className:"font-normal",children:oe(ye)})}),n.jsx(Se,{className:"text-right",children:n.jsxs("span",{className:"font-semibold",children:[Ge.toLocaleString()," HUF"]})}),n.jsx(Se,{className:"text-right",children:At>0?n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs("div",{className:"font-semibold text-success",children:[At.toLocaleString()," HUF"]}),ye.last_payment_date&&n.jsx("div",{className:"text-xs text-muted-foreground",children:Ht(new Date(ye.last_payment_date),"MMM dd")})]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(Se,{className:"text-right",children:Pt>0?n.jsxs("span",{className:ge("font-semibold",fr?"text-danger":"text-warning"),children:[Pt.toLocaleString()," HUF"]}):n.jsx("span",{className:"text-success",children:" Paid"})}),n.jsx(Se,{children:n.jsx("div",{className:ge("text-sm",gr&&"text-danger font-semibold"),children:Ht(new Date(ye.due_date),"MMM dd, yyyy")})}),n.jsx(Se,{children:n.jsxs(Ae,{className:Ne(ye.status),children:[ue(ye.status),n.jsx("span",{className:"ml-1",children:ye.status})]})}),n.jsx(Se,{className:"text-center",onClick:Mt=>Mt.stopPropagation(),children:n.jsx("div",{className:"flex items-center justify-center gap-1",children:n.jsxs(Zv,{children:[n.jsx(Jv,{asChild:!0,children:n.jsx(re,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:n.jsx(g7,{className:"h-4 w-4"})})}),n.jsxs(Yp,{align:"end",children:[n.jsxs(In,{onClick:()=>e(`/payments/${ye.id}`),children:[n.jsx(ri,{className:"h-4 w-4 mr-2"}),"View Details"]}),ye.status!=="Paid"&&n.jsxs(n.Fragment,{children:[n.jsx(Rc,{}),n.jsxs(In,{onClick:()=>Le(ye),className:"text-success focus:text-success",children:[n.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Record Payment"]})]}),n.jsx(Rc,{}),n.jsxs(In,{onClick:()=>e(`/payments/${ye.id}/edit`),children:[n.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Edit Payment"]}),n.jsx(Rc,{}),n.jsxs(In,{className:"text-danger focus:text-danger",onClick:()=>{Y(ye),me(!0)},children:[n.jsx(xn,{className:"h-4 w-4 mr-2"}),"Delete Payment"]})]})]})})})]},ye.id)})})]})})})]})]}),n.jsx(p3,{payment:I,open:H,onOpenChange:F,onSave:async(ye,Ge,At,Pt)=>{if(I)try{await u.mutateAsync({payment:I.id,date:new Date().toISOString().split("T")[0],amount:ye,method:Ge,reference_no:At,note:Pt}),Ue.success("Payment Recorded",{description:`${ye.toLocaleString()} HUF recorded successfully`}),F(!1),c()}catch{Ue.error("Failed to record payment")}}}),n.jsx(Art,{payment:I,open:T,onOpenChange:k}),n.jsx(Ert,{open:M,onOpenChange:O}),n.jsx(cc,{open:le,onOpenChange:me,children:n.jsxs(xl,{className:"max-w-md",onKeyDown:async ye=>{if(ye.key==="Enter"&&B&&!d.isPending){ye.preventDefault();try{await d.mutateAsync(B.id),Ue.success("Payment Deleted",{description:`Payment ${B.order_reference} has been deleted.`}),me(!1),Y(null),c()}catch{Ue.error("Failed to delete payment")}}},children:[n.jsxs(gl,{className:"space-y-4",children:[n.jsx("div",{className:"mx-auto w-14 h-14 rounded-full bg-danger/10 flex items-center justify-center",children:n.jsx(si,{className:"h-7 w-7 text-danger"})}),n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx(yl,{className:"text-xl",children:"Delete Payment"}),n.jsx(jl,{className:"text-base",children:"Are you sure you want to delete this payment record?"})]}),B&&n.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 border space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Order Reference"}),n.jsx("span",{className:"font-semibold",children:B.order_reference})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Vendor"}),n.jsx("span",{className:"font-medium",children:B.vendor_name||((Qe=B.vendor_details)==null?void 0:Qe.name)||"N/A"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Amount"}),n.jsxs("span",{className:"font-semibold text-primary",children:[(B.total_amount||0).toLocaleString()," HUF"]})]})]}),n.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:[n.jsx(si,{className:"h-3.5 w-3.5 inline mr-1 text-warning"}),"This action cannot be undone. All payment history will be lost."]})]}),n.jsxs(vl,{className:"sm:space-x-3 mt-2",children:[n.jsxs(wl,{className:"flex-1 sm:flex-none",children:[n.jsx($l,{className:"h-4 w-4 mr-2"}),"Cancel"]}),n.jsx(bl,{className:"flex-1 sm:flex-none bg-danger text-danger-foreground hover:bg-danger/90",disabled:d.isPending,onClick:async()=>{if(B)try{await d.mutateAsync(B.id),Ue.success("Payment Deleted",{description:`Payment ${B.order_reference} has been deleted.`}),me(!1),Y(null),c()}catch{Ue.error("Failed to delete payment")}},children:d.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(xn,{className:"h-4 w-4 mr-2"}),"Delete Payment"]})})]})]})})]})},Mrt=()=>{var T,k,M;const e=ur(),[t]=EN(),[r,s]=v.useState("select-order"),[a,i]=v.useState(null),[o,l]=v.useState([]),[c,d]=v.useState({due_date:"",total_amount:"",needs_to_pay:"",shipping_cost:"",discount:"",payment_method:"Bank Transfer",reference_number:"",notes:"",bank_name:"",account_holder:"",account_number:"",iban:"",card_holder:"",card_last_four:""}),[u,f]=v.useState(""),[m,h]=v.useState(!1),{orders:x,loading:p}=YQ({page_size:100}),{data:g}=m3({page_size:200}),j=(g==null?void 0:g.results)||[],y=DBe(),w=v.useMemo(()=>{const O=new Map;return j.forEach(K=>{K.order&&(!O.get(K.order)||K.status==="Paid")&&O.set(K.order,{status:K.status,paymentId:K.id})}),O},[j]),b=v.useMemo(()=>x.filter(O=>{const K=w.get(O.id);return!K||K.status!=="Paid"}),[x,w]),N=v.useMemo(()=>{if(!u.trim())return b;const O=u.toLowerCase();return b.filter(K=>{var se,R,V;return((se=K.po_number)==null?void 0:se.toLowerCase().includes(O))||((R=K.vendor_name)==null?void 0:R.toLowerCase().includes(O))||((V=K.apartment_name)==null?void 0:V.toLowerCase().includes(O))})},[b,u]),_=v.useMemo(()=>!a||!a.items||o.length===0?0:a.items.filter(O=>o.includes(O.id||"")).reduce((O,K)=>{const se=parseFloat(String(K.unit_price||0)),R=K.quantity||1;return O+se*R},0),[a,o]);v.useEffect(()=>{if(a&&a.items){const O=t.get("product");if(O){const se=a.items.find(R=>R.product===O);se&&se.id?l([se.id]):l(a.items.map(R=>R.id||"").filter(Boolean))}else l(a.items.map(se=>se.id||"").filter(Boolean));let K;a.expected_delivery?K=new Date(a.expected_delivery):(K=new Date,K.setDate(K.getDate()+30)),d(se=>({...se,due_date:K.toISOString().split("T")[0],total_amount:"",needs_to_pay:"0",shipping_cost:"0",discount:"0"}))}},[a,t]),v.useEffect(()=>{_>0&&d(O=>({...O,total_amount:Math.round(_).toString()}))},[_]),v.useEffect(()=>{const O=t.get("order");if(O&&x.length>0&&!a){const K=x.find(se=>se.id===O);K&&E(K)}},[t,x,a]);const S=v.useMemo(()=>{const O=parseInt(c.total_amount)||0,K=parseInt(c.shipping_cost)||0,se=parseInt(c.discount)||0;return O+K-se},[c.total_amount,c.shipping_cost,c.discount]),A=v.useMemo(()=>{const O=parseInt(c.needs_to_pay)||0;return S-O},[S,c.needs_to_pay]),E=async O=>{h(!0);try{const K=await es.getOrder(O.id);i(K),s("review-items")}catch(K){console.error("Error fetching order details:",K),Ue.error("Failed to load order details")}finally{h(!1)}},P=O=>{l(K=>K.includes(O)?K.filter(se=>se!==O):[...K,O])},D=()=>{if(!a||!a.items)return;const O=a.items.map(K=>K.id||"").filter(Boolean);o.length===O.length?l([]):l(O)},I=async()=>{var O,K;if(!a){Ue.error("Please select an order");return}if(o.length===0){Ue.error("Please select at least one item");return}if(!c.due_date){Ue.error("Please set a due date");return}try{const se=parseInt(c.needs_to_pay)||0,R={order:a.id,order_items:o,due_date:c.due_date,total_amount:parseInt(c.total_amount)||0,shipping_cost:parseInt(c.shipping_cost)||0,discount:parseInt(c.discount)||0,amount_paid:0,payment_method:c.payment_method,reference_number:c.reference_number,notes:c.notes,bank_name:c.bank_name,account_holder:c.account_holder,account_number:c.account_number,iban:c.iban,card_holder:c.card_holder,card_last_four:c.card_last_four},V=await y.mutateAsync(R);se>0&&await fd.createPaymentHistory({payment:V.id,date:new Date().toISOString().split("T")[0],amount:se,method:c.payment_method||"Bank Transfer",reference_no:c.reference_number||"",note:"Initial payment when creating payment record"}),Ue.success("Payment created successfully!"),e("/payments")}catch(se){console.error("Error creating payment:",se),Ue.error(((K=(O=se.response)==null?void 0:O.data)==null?void 0:K.message)||"Failed to create payment")}},W=O=>({pending:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20",confirmed:"bg-blue-500/10 text-blue-600 border-blue-500/20",processing:"bg-purple-500/10 text-purple-600 border-purple-500/20",shipped:"bg-indigo-500/10 text-indigo-600 border-indigo-500/20",delivered:"bg-green-500/10 text-green-600 border-green-500/20",cancelled:"bg-red-500/10 text-red-600 border-red-500/20"})[O==null?void 0:O.toLowerCase()]||"bg-gray-500/10 text-gray-600",H=[{id:"select-order",label:"Select Order",icon:bs},{id:"review-items",label:"Review Items",icon:lt},{id:"payment-details",label:"Payment Details",icon:js}],F=H.findIndex(O=>O.id===r);return n.jsx(ct,{title:"Create Payment",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[n.jsx(re,{variant:"ghost",size:"icon",onClick:()=>e("/payments"),className:"h-10 w-10 rounded-full",children:n.jsx(rr,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Payment"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Create a payment record from an existing order"})]})]}),n.jsx("div",{className:"mb-8",children:n.jsxs("div",{className:"flex items-center justify-between relative",children:[n.jsx("div",{className:"absolute top-5 left-0 right-0 h-0.5 bg-muted",children:n.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${F/(H.length-1)*100}%`}})}),H.map((O,K)=>{const se=O.icon,R=K<F,V=O.id===r;return n.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[n.jsx("div",{className:ge("w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300",R&&"bg-primary text-primary-foreground",V&&"bg-primary text-primary-foreground ring-4 ring-primary/20",!R&&!V&&"bg-muted text-muted-foreground"),children:R?n.jsx(ho,{className:"h-5 w-5"}):n.jsx(se,{className:"h-5 w-5"})}),n.jsx("span",{className:ge("mt-2 text-sm font-medium",V?"text-primary":"text-muted-foreground"),children:O.label})]},O.id)})]})}),r==="select-order"&&n.jsxs(X,{className:"border-0 shadow-lg",children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:n.jsx(bs,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Select an Order"}),n.jsx(Ir,{children:"Choose an order to create a payment record"})]})]})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx(ua,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{placeholder:"Search by PO number, vendor, or apartment...",value:u,onChange:O=>f(O.target.value),className:"pl-10 h-11"})]}),p||m?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx(Lt,{className:"h-6 w-6 animate-spin text-muted-foreground mr-2"}),n.jsx("span",{className:"text-muted-foreground",children:m?"Loading order details...":"Loading orders..."})]}):N.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[n.jsx(bs,{className:"h-10 w-10 mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No orders found"})]}):n.jsx("div",{className:"border rounded-lg overflow-hidden",children:n.jsxs(Ds,{children:[n.jsx(Is,{children:n.jsxs(Bt,{className:"bg-muted/50 hover:bg-muted/50",children:[n.jsx(Te,{className:"font-semibold",children:"PO Number"}),n.jsx(Te,{className:"font-semibold",children:"Apartment"}),n.jsx(Te,{className:"font-semibold",children:"Vendor"}),n.jsx(Te,{className:"font-semibold text-center",children:"Items"}),n.jsx(Te,{className:"font-semibold",children:"Date"}),n.jsx(Te,{className:"font-semibold text-right",children:"Total"}),n.jsx(Te,{className:"w-10"})]})}),n.jsx(Rs,{children:N.map(O=>{var se,R;const K=parseFloat(String(O.total||0));return n.jsxs(Bt,{onClick:()=>E(O),className:ge("cursor-pointer transition-colors",(a==null?void 0:a.id)===O.id?"bg-primary/5":"hover:bg-muted/50"),children:[n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-semibold",children:O.po_number}),n.jsx(Ae,{variant:"outline",className:ge("text-xs",W(O.status)),children:O.status}),((se=w.get(O.id))==null?void 0:se.status)==="Partial"&&n.jsx(Ae,{variant:"outline",className:"text-xs bg-warning/10 text-warning border-warning/20",children:"Has Payment"})]})}),n.jsx(Se,{children:n.jsx("span",{className:"text-muted-foreground",children:O.apartment_name||"N/A"})}),n.jsx(Se,{children:n.jsx("span",{className:"text-muted-foreground",children:O.vendor_name||"N/A"})}),n.jsx(Se,{className:"text-center",children:n.jsx("span",{className:"text-muted-foreground",children:O.items_count||((R=O.items)==null?void 0:R.length)||0})}),n.jsx(Se,{children:n.jsx("span",{className:"text-muted-foreground",children:O.placed_on?Ht(new Date(O.placed_on),"MMM dd, yyyy"):"N/A"})}),n.jsx(Se,{className:"text-right",children:n.jsxs("span",{className:"font-semibold text-primary",children:[K.toLocaleString()," HUF"]})}),n.jsx(Se,{children:n.jsx(uu,{className:"h-4 w-4 text-muted-foreground"})})]},O.id)})})]})})]})]}),r==="review-items"&&a&&n.jsxs("div",{className:"space-y-6",children:[n.jsx(X,{className:"border-0 shadow-lg bg-gradient-to-br from-primary/5 to-primary/10",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Selected Order"}),n.jsx("h2",{className:"text-2xl font-bold",children:a.po_number}),n.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(dr,{className:"h-4 w-4"}),a.apartment_name]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx($n,{className:"h-4 w-4"}),a.vendor_name]})]})]}),n.jsx(re,{variant:"outline",onClick:()=>s("select-order"),children:"Change Order"})]})})}),n.jsxs(X,{className:"border-0 shadow-lg",children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:n.jsx(lt,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Order Items"}),n.jsx(Ir,{children:"Select items to include in this payment"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(jo,{id:"select-all",checked:o.length===(((T=a.items)==null?void 0:T.length)||0),onCheckedChange:D}),n.jsxs(q,{htmlFor:"select-all",className:"cursor-pointer text-sm font-medium",children:["Select All (",o.length,"/",((k=a.items)==null?void 0:k.length)||0,")"]})]})]})}),n.jsxs(Q,{children:[n.jsx("div",{className:"rounded-xl border overflow-hidden",children:n.jsxs(Ds,{children:[n.jsx(Is,{children:n.jsxs(Bt,{className:"bg-muted/50",children:[n.jsx(Te,{className:"w-12"}),n.jsx(Te,{children:"Product"}),n.jsx(Te,{children:"Category"}),n.jsx(Te,{className:"text-center",children:"Quantity"}),n.jsx(Te,{className:"text-right",children:"Unit Price"}),n.jsx(Te,{className:"text-right",children:"Total"})]})}),n.jsx(Rs,{children:(a.items||[]).map(O=>{const K=o.includes(O.id||""),se=parseFloat(String(O.unit_price||0)),R=se*(O.quantity||1);return n.jsxs(Bt,{className:ge("cursor-pointer transition-colors",K?"bg-primary/5":"hover:bg-muted/50"),onClick:()=>P(O.id||""),children:[n.jsx(Se,{onClick:V=>V.stopPropagation(),children:n.jsx(jo,{checked:K,onCheckedChange:()=>P(O.id||"")})}),n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[O.product_image||O.product_image_url?n.jsx("img",{src:O.product_image||O.product_image_url,alt:O.product_name||"Product",className:"w-10 h-10 rounded-lg object-cover border"}):n.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:n.jsx(lt,{className:"h-5 w-5 text-muted-foreground"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:O.product_name||"Unknown Product"}),O.sku&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["SKU: ",O.sku]})]})]})}),n.jsx(Se,{children:n.jsx(Ae,{variant:"outline",className:"font-normal",children:O.category_name||"N/A"})}),n.jsx(Se,{className:"text-center font-medium",children:O.quantity}),n.jsxs(Se,{className:"text-right",children:[se.toLocaleString()," HUF"]}),n.jsxs(Se,{className:"text-right font-semibold",children:[R.toLocaleString()," HUF"]})]},O.id)})})]})}),n.jsx("div",{className:"mt-6 p-4 rounded-xl bg-gradient-to-r from-primary/10 to-primary/5 border border-primary/20",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:n.jsx(ar,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.length," item",o.length!==1?"s":""," selected"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready for payment"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),n.jsxs("p",{className:"text-3xl font-bold text-primary",children:[_.toLocaleString()," ",n.jsx("span",{className:"text-lg",children:"HUF"})]})]})]})})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(re,{variant:"outline",onClick:()=>s("select-order"),className:"gap-2",children:[n.jsx(rr,{className:"h-4 w-4"}),"Back"]}),n.jsxs(re,{onClick:()=>s("payment-details"),disabled:o.length===0,className:"gap-2",children:["Continue",n.jsx(uu,{className:"h-4 w-4"})]})]})]}),r==="payment-details"&&a&&n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(X,{className:"border-0 shadow-lg",children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 bg-green-500/10 rounded-xl",children:n.jsx(Nr,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Payment Amount"}),n.jsx(Ir,{children:"Set the payment amounts"})]})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"total_amount",className:"text-sm font-medium",children:["Total Amount (HUF) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(fe,{id:"total_amount",type:"number",step:"1",min:"0",value:c.total_amount,onChange:O=>d(K=>({...K,total_amount:O.target.value})),placeholder:"0",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"needs_to_pay",className:"text-sm font-medium",children:"Amount Paid (HUF)"}),n.jsx(fe,{id:"needs_to_pay",type:"number",step:"1",min:"0",value:c.needs_to_pay,onChange:O=>d(K=>({...K,needs_to_pay:O.target.value})),placeholder:"0",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{className:"text-sm font-medium",children:"Outstanding Balance (HUF)"}),n.jsx("div",{className:ge("h-11 px-3 flex items-center rounded-md border bg-muted/50 font-semibold",A>0?"text-red-600":A<0?"text-green-600":"text-muted-foreground"),children:A.toLocaleString()})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"shipping_cost",className:"text-sm font-medium",children:["Shipping Cost (HUF) ",n.jsx("span",{className:"text-muted-foreground text-xs",children:"(Optional)"})]}),n.jsx(fe,{id:"shipping_cost",type:"number",step:"1",min:"0",value:c.shipping_cost,onChange:O=>d(K=>({...K,shipping_cost:O.target.value})),placeholder:"0",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"discount",className:"text-sm font-medium",children:["Discount (HUF) ",n.jsx("span",{className:"text-muted-foreground text-xs",children:"(Optional)"})]}),n.jsx(fe,{id:"discount",type:"number",step:"1",min:"0",value:c.discount,onChange:O=>d(K=>({...K,discount:O.target.value})),placeholder:"0",className:"h-11"})]})]}),(parseInt(c.shipping_cost)>0||parseInt(c.discount)>0)&&n.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),n.jsxs("span",{children:[parseInt(c.total_amount||"0").toLocaleString()," HUF"]})]}),parseInt(c.shipping_cost)>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"+ Shipping"}),n.jsxs("span",{children:[parseInt(c.shipping_cost).toLocaleString()," HUF"]})]}),parseInt(c.discount)>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"- Discount"}),n.jsxs("span",{className:"text-green-600",children:["-",parseInt(c.discount).toLocaleString()," HUF"]})]}),n.jsx(Ft,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between font-semibold",children:[n.jsx("span",{children:"Final Total"}),n.jsxs("span",{className:"text-primary",children:[S.toLocaleString()," HUF"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"due_date",className:"flex items-center gap-2 text-sm font-medium",children:[n.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"}),"Due Date ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(fe,{id:"due_date",type:"date",value:c.due_date,onChange:O=>d(K=>({...K,due_date:O.target.value})),className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{className:"flex items-center gap-2 text-sm font-medium",children:[n.jsx(An,{className:"h-4 w-4 text-muted-foreground"}),"Order Reference"]}),n.jsx("div",{className:"h-11 px-3 flex items-center rounded-md border bg-muted/50 text-muted-foreground",children:a.po_number})]})]})]})]}),n.jsxs(X,{className:"border-0 shadow-lg",children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:n.jsx(js,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-xl",children:"Payment Details"}),n.jsx(Ir,{children:"Configure payment method and details"})]})]})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsx("div",{className:"space-y-3",children:n.jsx("div",{className:"grid grid-cols-3 gap-2 p-1 bg-muted rounded-lg",children:[{value:"Bank Transfer",icon:Sk,label:"Bank Transfer"},{value:"Card Payment",icon:js,label:"Card Payment"},{value:"Cash",icon:c0,label:"Cash"}].map(O=>{const K=O.icon,se=c.payment_method===O.value;return n.jsxs("button",{type:"button",onClick:()=>d(R=>({...R,payment_method:O.value})),className:ge("py-2.5 px-4 rounded-md transition-all duration-200 flex items-center justify-center gap-2",se?"bg-background shadow-sm text-foreground":"text-muted-foreground hover:text-foreground"),children:[n.jsx(K,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium",children:O.label})]},O.value)})})}),c.payment_method==="Bank Transfer"&&n.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"bank_name",className:"text-sm font-medium",children:"Bank Name"}),n.jsx(fe,{id:"bank_name",value:c.bank_name,onChange:O=>d(K=>({...K,bank_name:O.target.value})),placeholder:"e.g., OTP Bank",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"account_holder",className:"text-sm font-medium",children:"Account Holder"}),n.jsx(fe,{id:"account_holder",value:c.account_holder,onChange:O=>d(K=>({...K,account_holder:O.target.value})),placeholder:"Full name",className:"h-11"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"account_number",className:"text-sm font-medium",children:"Account Number"}),n.jsx(fe,{id:"account_number",value:c.account_number,onChange:O=>d(K=>({...K,account_number:O.target.value})),placeholder:"XXXX-XXXX-XXXX-XXXX",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"iban",className:"text-sm font-medium",children:"IBAN"}),n.jsx(fe,{id:"iban",value:c.iban,onChange:O=>d(K=>({...K,iban:O.target.value})),placeholder:"HU42 1177 3016 1111 1018 0000 0000",className:"h-11"})]})]})]}),c.payment_method==="Card Payment"&&n.jsx("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg border",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"card_holder",className:"text-sm font-medium",children:"Card Holder Name"}),n.jsx(fe,{id:"card_holder",value:c.card_holder,onChange:O=>d(K=>({...K,card_holder:O.target.value})),placeholder:"Name on card",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"card_last_four",className:"text-sm font-medium",children:"Card Last 4 Digits"}),n.jsx(fe,{id:"card_last_four",value:c.card_last_four,onChange:O=>d(K=>({...K,card_last_four:O.target.value.slice(0,4)})),placeholder:"1234",maxLength:4,className:"h-11"})]})]})}),c.payment_method==="Cash"&&n.jsx("div",{className:"p-4 bg-muted/30 rounded-lg border",children:n.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"No additional details required for cash payment"})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"reference",className:"text-sm font-medium",children:"Reference Number (Optional)"}),n.jsx(fe,{id:"reference",value:c.reference_number,onChange:O=>d(K=>({...K,reference_number:O.target.value})),placeholder:"e.g., INV-2025-001",className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",className:"text-sm font-medium",children:"Notes (Optional)"}),n.jsx(gn,{id:"notes",value:c.notes,onChange:O=>d(K=>({...K,notes:O.target.value})),placeholder:"Add any additional notes...",rows:3})]})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs(re,{variant:"outline",onClick:()=>s("review-items"),className:"gap-2",children:[n.jsx(rr,{className:"h-4 w-4"}),"Back"]}),n.jsx(re,{onClick:I,disabled:y.isPending||!c.due_date||!c.total_amount,className:"gap-2 px-8",children:y.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(fu,{className:"h-4 w-4"}),"Create Payment"]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{className:"border-0 shadow-lg",children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"text-base flex items-center gap-2",children:[n.jsx(bs,{className:"h-4 w-4"}),"Order Summary"]})}),n.jsx(Q,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Order Number"}),n.jsx("span",{className:"font-medium",children:a.po_number})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Apartment"}),n.jsx("span",{className:"font-medium",children:a.apartment_name})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Vendor"}),n.jsx("span",{className:"font-medium",children:a.vendor_name})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Items Selected"}),n.jsxs("span",{className:"font-medium",children:[o.length," of ",((M=a.items)==null?void 0:M.length)||0]})]})]})})]}),n.jsxs(X,{className:"border-0 shadow-lg bg-gradient-to-br from-primary/5 to-primary/10",children:[n.jsx(we,{className:"pb-3",children:n.jsxs(Ve,{className:"text-base flex items-center gap-2",children:[n.jsx(Nr,{className:"h-4 w-4"}),"Payment Summary"]})}),n.jsx(Q,{className:"space-y-4",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),n.jsxs("span",{className:"font-medium",children:[parseInt(c.total_amount||"0").toLocaleString()," HUF"]})]}),parseInt(c.shipping_cost)>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Shipping"}),n.jsxs("span",{className:"font-medium",children:["+",parseInt(c.shipping_cost).toLocaleString()," HUF"]})]}),parseInt(c.discount)>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Discount"}),n.jsxs("span",{className:"font-medium text-green-600",children:["-",parseInt(c.discount).toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Final Total"}),n.jsxs("span",{className:"font-medium",children:[S.toLocaleString()," HUF"]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Amount Paid"}),n.jsxs("span",{className:"font-medium text-green-600",children:[parseInt(c.needs_to_pay||"0").toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Outstanding"}),n.jsxs("span",{className:ge("font-medium",A>0?"text-red-600":"text-green-600"),children:[A.toLocaleString()," HUF"]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Due Date"}),n.jsx("span",{className:"font-medium",children:c.due_date?Ht(new Date(c.due_date),"MMM dd, yyyy"):"Not set"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Method"}),n.jsx("span",{className:"font-medium",children:c.payment_method})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold",children:"Outstanding Balance"}),n.jsxs("span",{className:"text-2xl font-bold text-primary",children:[A.toLocaleString()," HUF"]})]})]})})]}),n.jsx(X,{className:"border-0 shadow-lg",children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:ge("p-2 rounded-lg",parseInt(c.needs_to_pay||"0")>0?parseInt(c.needs_to_pay||"0")>=S?"bg-green-500/10":"bg-blue-500/10":"bg-yellow-500/10"),children:n.jsx(wr,{className:ge("h-5 w-5",parseInt(c.needs_to_pay||"0")>0?parseInt(c.needs_to_pay||"0")>=S?"text-green-600":"text-blue-600":"text-yellow-600")})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Payment Status"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:parseInt(c.needs_to_pay||"0")<=0?"Will be created as Unpaid":parseInt(c.needs_to_pay||"0")>=S?"Will be created as Paid":"Will be created as Partial"})]})]})})})]})]})]})})};function Frt(){return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-9 w-24 rounded-md"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-9 w-48"}),n.jsx(C,{className:"h-4 w-32"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C,{className:"h-6 w-20 rounded-full"}),n.jsx(C,{className:"h-9 w-24 rounded-md"})]})]})}function $rt(){return n.jsxs(X,{children:[n.jsx(we,{children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]}),n.jsx(C,{className:"h-4 w-48"})]})})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{bg:"bg-muted/50"},{bg:"bg-green-500/10"},{bg:"bg-yellow-500/10"}].map((e,t)=>n.jsxs("div",{className:`p-4 rounded-lg ${e.bg} border`,children:[n.jsx(C,{className:"h-4 w-24 mb-1"}),n.jsx(C,{className:"h-8 w-32"})]},t))}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-4 w-12"})]}),n.jsx(C,{className:"h-3 w-full rounded-full"})]}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-5 w-24"})]},t))})]})]})}function Lrt(){return n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-32"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Product","SKU","Unit Price","Qty","Total"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(3)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C,{className:"w-10 h-10 rounded"}),n.jsx(C,{className:"h-4 w-32"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-8"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-28"})})]},t))})]})})})]})}function Brt(){return n.jsxs(X,{children:[n.jsxs(we,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-36"})]}),n.jsx(C,{className:"h-9 w-36 rounded-md"})]}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Date","Amount","Method","Reference","Note",""].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-16"})},t))})}),n.jsx("tbody",{children:[...Array(3)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-28"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-28 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-32"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-8 w-8 rounded"})})]},t))})]})})})]})}function Urt(){return n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-5 w-24"})]})}),n.jsxs(Q,{className:"space-y-3",children:[[...Array(5)].map((e,t)=>n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-3 w-16"}),n.jsx(C,{className:"h-4 w-full"})]},t)),n.jsx(C,{className:"h-9 w-full rounded-md mt-4"})]})]})}function Vrt(){return n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-5 w-20"})]})}),n.jsxs(Q,{className:"space-y-3",children:[[...Array(5)].map((e,t)=>n.jsxs("div",{className:"space-y-1",children:[n.jsx(C,{className:"h-3 w-20"}),n.jsx(C,{className:"h-4 w-full"})]},t)),n.jsx(C,{className:"h-9 w-full rounded-md mt-4"})]})]})}function zrt(){return n.jsxs(X,{children:[n.jsx(we,{children:n.jsx(C,{className:"h-5 w-28"})}),n.jsxs(Q,{className:"space-y-2",children:[n.jsx(C,{className:"h-10 w-full rounded-md"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})}function Wrt(){return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(Frt,{}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsx($rt,{}),n.jsx(Lrt,{}),n.jsx(Brt,{})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(Urt,{}),n.jsx(Vrt,{}),n.jsx(zrt,{})]})]})]})})}function Hrt(){var y,w,b,N;const{id:e}=Yi(),t=ur(),{data:r,isLoading:s,error:a,refetch:i}=qX(e||""),o=h3(),l=MBe(),[c,d]=v.useState(!1),u=a?"Payment not found":e?null:"No payment ID provided";if(s)return n.jsx(Wrt,{});if(u||!r)return n.jsx(ct,{title:"Payment Not Found",children:n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-4",children:[n.jsx(St,{className:"h-12 w-12 text-muted-foreground"}),n.jsx("h2",{className:"text-2xl font-semibold",children:"Payment Not Found"}),n.jsx("p",{className:"text-muted-foreground",children:u}),n.jsxs(re,{onClick:()=>t("/payments"),children:[n.jsx(rr,{className:"h-4 w-4 mr-2"}),"Back to Payments"]})]})});const f=_=>({Paid:"bg-success/10 text-success border-success/20",Partial:"bg-warning/10 text-warning border-warning/20",Unpaid:"bg-muted text-muted-foreground border-border",Overdue:"bg-danger/10 text-danger border-danger/20"})[_]||"bg-muted",m=_=>{switch(_){case"Paid":return n.jsx(Vr,{className:"h-4 w-4"});case"Partial":return n.jsx(wr,{className:"h-4 w-4"});case"Overdue":return n.jsx(St,{className:"h-4 w-4"});default:return n.jsx(Nr,{className:"h-4 w-4"})}},h=r.total_amount||0,x=r.amount_paid||0,p=r.outstanding_amount||0;r.shipping_cost,r.discount;const g=r.final_total||h,j=g>0?x/g*100:0;return n.jsxs(ct,{title:"Payment Details",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(re,{variant:"ghost",onClick:()=>t("/payments"),children:[n.jsx(rr,{className:"h-4 w-4 mr-2"}),"Back"]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Payment Details"}),n.jsxs("p",{className:"text-muted-foreground",children:["Order Ref: ",r.order_reference]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(Ae,{className:f(r.status),children:[m(r.status),n.jsx("span",{className:"ml-1",children:r.status})]}),n.jsxs(re,{variant:"outline",onClick:()=>t(`/payments/${r.id}/edit`),children:[n.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(X,{children:[n.jsx(we,{children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Lb,{className:"h-5 w-5 text-primary"}),"Payment Overview"]}),n.jsxs(Ir,{children:["Created on ",r.created_at?Ht(new Date(r.created_at),"MMM dd, yyyy"):"Unknown"]})]})})}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Amount"}),n.jsxs("p",{className:"text-2xl font-bold",children:[h.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"p-4 rounded-lg bg-success/10 border border-success/20",children:[n.jsx("p",{className:"text-sm text-success mb-1",children:"Amount Paid"}),n.jsxs("p",{className:"text-2xl font-bold text-success",children:[x.toLocaleString()," HUF"]})]}),n.jsxs("div",{className:"p-4 rounded-lg bg-warning/10 border border-warning/20",children:[n.jsx("p",{className:"text-sm text-warning mb-1",children:"Outstanding"}),n.jsxs("p",{className:"text-2xl font-bold text-warning",children:[p.toLocaleString()," HUF"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-muted-foreground",children:"Payment Progress"}),n.jsxs("span",{className:"font-medium",children:[j.toFixed(1),"%"]})]}),n.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-success transition-all duration-500",style:{width:`${Math.min(j,100)}%`}})})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(Hr,{className:"h-3 w-3"})," Due Date"]}),n.jsx("p",{className:"font-medium",children:r.due_date?Ht(new Date(r.due_date),"MMM dd, yyyy"):"Not set"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(wr,{className:"h-3 w-3"})," Last Payment"]}),n.jsx("p",{className:"font-medium",children:r.last_payment_date?Ht(new Date(r.last_payment_date),"MMM dd, yyyy"):"No payments yet"})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(lt,{className:"h-3 w-3"})," Products"]}),n.jsxs("p",{className:"font-medium",children:[r.order_items_count||((y=r.order_item_details)==null?void 0:y.length)||r.product_count||0," items"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(Ae,{className:f(r.status),children:r.status})]})]}),r.notes&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mb-2",children:[n.jsx(An,{className:"h-3 w-3"})," Notes"]}),n.jsx("p",{className:"text-sm whitespace-pre-wrap bg-muted/50 p-3 rounded-lg",children:r.notes})]})]})]})]}),(r.order_item_details&&r.order_item_details.length>0||r.product_details&&r.product_details.length>0)&&n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(lt,{className:"h-5 w-5"}),"Products (",((w=r.order_item_details)==null?void 0:w.length)||((b=r.product_details)==null?void 0:b.length)||0,")"]})}),n.jsx(Q,{children:n.jsxs(Ds,{children:[n.jsx(Is,{children:n.jsxs(Bt,{children:[n.jsx(Te,{children:"Product"}),n.jsx(Te,{children:"SKU"}),n.jsx(Te,{className:"text-right",children:"Unit Price"}),n.jsx(Te,{className:"text-center",children:"Qty"}),n.jsx(Te,{className:"text-right",children:"Total"})]})}),n.jsx(Rs,{children:r.order_item_details&&r.order_item_details.length>0?r.order_item_details.map(_=>n.jsxs(Bt,{children:[n.jsx(Se,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[_.product_image&&n.jsx("img",{src:_.product_image,alt:_.product_name,className:"w-10 h-10 rounded object-cover"}),n.jsx("span",{className:"font-medium",children:_.product_name})]})}),n.jsx(Se,{children:n.jsx("span",{className:"text-muted-foreground font-mono text-sm",children:_.sku||"N/A"})}),n.jsxs(Se,{className:"text-right",children:[parseFloat(String(_.unit_price)).toLocaleString()," HUF"]}),n.jsx(Se,{className:"text-center",children:_.quantity}),n.jsxs(Se,{className:"text-right font-medium",children:[parseFloat(String(_.total_price)).toLocaleString()," HUF"]})]},_.id)):(N=r.product_details)==null?void 0:N.map(_=>n.jsxs(Bt,{children:[n.jsx(Se,{className:"font-medium",children:_.product}),n.jsx(Se,{children:n.jsx(Ae,{variant:"outline",children:_.category_name||"N/A"})}),n.jsxs(Se,{className:"text-right",children:[parseFloat(_.unit_price).toLocaleString()," HUF"]}),n.jsx(Se,{className:"text-center",children:_.qty}),n.jsxs(Se,{className:"text-right font-medium",children:[(parseFloat(_.unit_price)*_.qty).toLocaleString()," HUF"]})]},_.id))})]})})]}),n.jsxs(X,{children:[n.jsxs(we,{className:"flex flex-row items-center justify-between",children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(q5,{className:"h-5 w-5"}),"Payment History"]}),r.status!=="Paid"&&n.jsxs(re,{size:"sm",onClick:()=>d(!0),children:[n.jsx(Kn,{className:"h-4 w-4 mr-1"}),"Record Payment"]})]}),n.jsx(Q,{children:r.payment_history&&r.payment_history.length>0?n.jsxs(Ds,{children:[n.jsx(Is,{children:n.jsxs(Bt,{children:[n.jsx(Te,{children:"Date"}),n.jsx(Te,{children:"Amount"}),n.jsx(Te,{children:"Method"}),n.jsx(Te,{children:"Reference"}),n.jsx(Te,{children:"Note"}),n.jsx(Te,{className:"w-[50px]"})]})}),n.jsx(Rs,{children:r.payment_history.map(_=>n.jsxs(Bt,{children:[n.jsx(Se,{children:_.date?Ht(new Date(_.date),"MMM dd, yyyy"):"N/A"}),n.jsxs(Se,{className:"font-medium text-success",children:["+",(_.amount||0).toLocaleString()," HUF"]}),n.jsx(Se,{children:n.jsxs(Ae,{variant:"outline",className:"gap-1",children:[_.method==="Bank Transfer"&&n.jsx(c0,{className:"h-3 w-3"}),_.method==="Credit Card"&&n.jsx(js,{className:"h-3 w-3"}),_.method]})}),n.jsx(Se,{className:"font-mono text-sm",children:_.reference_no||"-"}),n.jsx(Se,{className:"text-muted-foreground max-w-[200px] truncate",children:_.note||"-"}),n.jsx(Se,{children:n.jsx(re,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-muted-foreground hover:text-danger",onClick:async()=>{if(confirm("Are you sure you want to delete this payment record?"))try{await l.mutateAsync(_.id),Ue.success("Payment record deleted"),i()}catch{Ue.error("Failed to delete payment record")}},children:n.jsx(xn,{className:"h-4 w-4"})})})]},_.id))})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[n.jsx(q5,{className:"h-12 w-12 mb-2 opacity-50"}),n.jsx("p",{children:"No payment history yet"}),r.status!=="Paid"&&n.jsxs(re,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>d(!0),children:[n.jsx(Kn,{className:"h-4 w-4 mr-1"}),"Record First Payment"]})]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2 text-base",children:[n.jsx(dr,{className:"h-4 w-4"}),"Apartment"]})}),n.jsx(Q,{className:"space-y-3",children:r.apartment_details?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),n.jsx("p",{className:"font-medium",children:r.apartment_details.name})]}),r.apartment_details.address&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),n.jsx("p",{className:"font-medium",children:r.apartment_details.address})]}),r.apartment_details.type&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),n.jsx(Ae,{variant:"outline",children:r.apartment_details.type})]}),r.apartment_details.status&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),n.jsx(Ae,{variant:"secondary",children:r.apartment_details.status})]}),r.apartment_details.designer&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Designer"}),n.jsx("p",{className:"font-medium",children:r.apartment_details.designer})]}),n.jsx(re,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>{var _;return t(`/apartments/${(_=r.apartment_details)==null?void 0:_.id}`)},children:"View Apartment"})]}):n.jsx("p",{className:"text-muted-foreground",children:"No apartment details available"})})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2 text-base",children:[n.jsx($n,{className:"h-4 w-4"}),"Vendor"]})}),n.jsx(Q,{className:"space-y-3",children:r.vendor_details?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Company"}),n.jsx("p",{className:"font-medium",children:r.vendor_details.name})]}),r.vendor_details.contact_person&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx($n,{className:"h-3 w-3"})," Contact Person"]}),n.jsx("p",{className:"font-medium",children:r.vendor_details.contact_person})]}),r.vendor_details.email&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(yn,{className:"h-3 w-3"})," Email"]}),n.jsx("a",{href:`mailto:${r.vendor_details.email}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.email})]}),r.vendor_details.phone&&n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[n.jsx(Co,{className:"h-3 w-3"})," Phone"]}),n.jsx("a",{href:`tel:${r.vendor_details.phone}`,className:"font-medium text-primary hover:underline",children:r.vendor_details.phone})]}),r.vendor_details.address&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),n.jsxs("p",{className:"font-medium text-sm",children:[r.vendor_details.address,r.vendor_details.city&&`, ${r.vendor_details.city}`,r.vendor_details.country&&`, ${r.vendor_details.country}`]})]}),n.jsx(re,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>{var _;return t(`/vendors/${(_=r.vendor_details)==null?void 0:_.id}`)},children:"View Vendor"})]}):n.jsx("p",{className:"text-muted-foreground",children:"No vendor details available"})})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsx(Ve,{className:"text-base",children:"Quick Actions"})}),n.jsxs(Q,{className:"space-y-2",children:[r.status!=="Paid"&&n.jsxs(re,{className:"w-full",onClick:()=>d(!0),children:[n.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Record Payment"]}),n.jsxs(re,{variant:"outline",className:"w-full",onClick:()=>t(`/payments/${r.id}/edit`),children:[n.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Edit Payment"]})]})]})]})]})]}),n.jsx(p3,{payment:r,open:c,onOpenChange:d,onSave:async(_,S,A,E)=>{try{await o.mutateAsync({payment:r.id,date:new Date().toISOString().split("T")[0],amount:_,method:S,reference_no:A,note:E}),Ue.success("Payment Recorded",{description:`${_.toLocaleString()} HUF recorded successfully`}),d(!1),i()}catch{Ue.error("Failed to record payment")}}})]})}function qrt(){return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-28"})]})}function Grt(){return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C,{className:"h-10 w-10 rounded-md"}),n.jsxs("div",{className:"flex-1",children:[n.jsx(C,{className:"h-9 w-32 mb-2"}),n.jsx(C,{className:"h-4 w-64"})]})]})}function Krt(){return n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-40"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]})]})}function Yrt(){return n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-36"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md bg-muted"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-36"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]})]})}function Xrt(){return n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-32"})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[n.jsx(C,{className:"h-5 w-48"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-24 w-full rounded-md"})]})]})]})}function Qrt(){return n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-5 w-5 rounded"}),n.jsx(C,{className:"h-6 w-48"})]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["","Product Name","SKU","Quantity","Unit Price","Total"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(4)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-5 w-5 rounded"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-40"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-12"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-28"})})]},t))})]})})})]})}function Zrt(){return n.jsx(ct,{title:"Loading...",children:n.jsx("div",{className:"container px-0 py-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(qrt,{}),n.jsx(Grt,{}),n.jsx(Krt,{}),n.jsx(Yrt,{}),n.jsx(Xrt,{}),n.jsx(Qrt,{}),n.jsxs("div",{className:"flex gap-4 justify-end",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})]})})})}const Jrt=()=>{const e=ur(),{id:t}=Yi(),[r,s]=v.useState({apartment:"",vendor:"",order_reference:"",due_date:"",total_amount:"",amount_paid:"0",status:"Unpaid",last_payment_date:"",payment_method:"Bank Transfer",bank_name:"",account_holder:"",account_number:"",iban:"",swift_bic_code:"",card_number:"",card_holder_name:"",expiry_date:"",cvv:"",notes:""}),[a,i]=v.useState({}),[o,l]=v.useState([]),{data:c,isLoading:d}=qX(t||""),u=GX(),{data:f,isLoading:m}=l3(),h=(f==null?void 0:f.results)||[],{data:x,isLoading:p}=pm(),g=(x==null?void 0:x.results)||[],{data:j,isLoading:y}=UX();j!=null&&j.results,v.useEffect(()=>{c&&(s({apartment:c.apartment,vendor:c.vendor,order_reference:c.order_reference,due_date:c.due_date,total_amount:String(c.total_amount),amount_paid:String(c.amount_paid),status:c.status,last_payment_date:c.last_payment_date||"",payment_method:"Bank Transfer",bank_name:"",account_holder:"",account_number:"",iban:"",swift_bic_code:"",card_number:"",card_holder_name:"",expiry_date:"",cvv:"",notes:c.notes}),l(c.products||[]))},[c]);const w=r.total_amount&&r.amount_paid?(parseFloat(r.total_amount)-parseFloat(r.amount_paid)).toFixed(2):"0.00",b=(A,E)=>{s(P=>({...P,[A]:E})),a[A]&&i(P=>{const D={...P};return delete D[A],D})},N=()=>{const A={};return r.apartment||(A.apartment="Apartment is required"),r.vendor||(A.vendor="Vendor is required"),r.order_reference.trim()||(A.order_reference="Order reference is required"),r.due_date||(A.due_date="Due date is required"),(!r.total_amount||parseFloat(r.total_amount)<=0)&&(A.total_amount="Valid total amount is required"),r.amount_paid&&parseFloat(r.amount_paid)<0&&(A.amount_paid="Amount paid cannot be negative"),r.amount_paid&&r.total_amount&&parseFloat(r.amount_paid)>parseFloat(r.total_amount)&&(A.amount_paid="Amount paid cannot exceed total amount"),i(A),Object.keys(A).length===0},_=async A=>{var E,P;if(A.preventDefault(),!N()){Ue.error("Please fix the errors in the form");return}if(!t){Ue.error("Payment ID is required");return}try{const D={apartment:r.apartment,vendor:r.vendor,order_reference:r.order_reference,due_date:r.due_date,total_amount:r.total_amount,amount_paid:r.amount_paid||"0",status:r.status,last_payment_date:r.last_payment_date||null,notes:r.notes,products:o};await u.mutateAsync({id:t,data:D}),Ue.success("Payment updated successfully"),e("/payments")}catch(D){console.error("Error updating payment:",D),Ue.error(((P=(E=D.response)==null?void 0:E.data)==null?void 0:P.message)||"Failed to update payment")}},S=()=>{e("/payments")};return d||m||p?n.jsx(Zrt,{}):n.jsx(ct,{title:"Edit Payment",children:n.jsxs("div",{className:"container px-0 py-6 ",children:[n.jsx(Fa,{className:"mb-6",children:n.jsxs($a,{children:[n.jsx(er,{children:n.jsx(Qn,{href:"/payments",children:"Payments"})}),n.jsx(Sn,{}),n.jsx(er,{children:n.jsx(pi,{children:"Edit Payment"})})]})}),n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(re,{variant:"ghost",size:"icon",onClick:S,className:"h-10 w-10",children:n.jsx(rr,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Payment"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Update payment information and details"})]})]})}),n.jsxs("form",{onSubmit:_,className:"space-y-6",children:[n.jsxs(X,{children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(An,{className:"h-5 w-5 text-primary"})}),n.jsx(Ve,{className:"text-lg font-semibold",children:"Order Information"})]})}),n.jsx(Q,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"apartment",className:"required flex items-center gap-2",children:[n.jsx(dr,{className:"h-4 w-4 text-muted-foreground"}),"Apartment"]}),n.jsxs(tt,{value:r.apartment,onValueChange:A=>b("apartment",A),children:[n.jsx(Je,{id:"apartment",className:a.apartment?"border-destructive":"",children:n.jsx(rt,{placeholder:"Select apartment"})}),n.jsx(et,{children:m?n.jsx(ee,{value:"loading",disabled:!0,children:"Loading apartments..."}):h.length===0?n.jsx(ee,{value:"empty",disabled:!0,children:"No apartments found"}):h.map(A=>n.jsx(ee,{value:A.id,children:A.name},A.id))})]}),a.apartment&&n.jsx("p",{className:"text-sm text-destructive",children:a.apartment})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"vendor",className:"required flex items-center gap-2",children:[n.jsx(Ra,{className:"h-4 w-4 text-muted-foreground"}),"Vendor"]}),n.jsxs(tt,{value:r.vendor,onValueChange:A=>b("vendor",A),children:[n.jsx(Je,{id:"vendor",className:a.vendor?"border-destructive":"",children:n.jsx(rt,{placeholder:"Select vendor"})}),n.jsx(et,{children:p?n.jsx(ee,{value:"loading",disabled:!0,children:"Loading vendors..."}):g.length===0?n.jsx(ee,{value:"empty",disabled:!0,children:"No vendors found"}):g.map(A=>n.jsx(ee,{value:A.id,children:A.name},A.id))})]}),a.vendor&&n.jsx("p",{className:"text-sm text-destructive",children:a.vendor})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"order_reference",className:"required flex items-center gap-2",children:[n.jsx(Lb,{className:"h-4 w-4 text-muted-foreground"}),"Order Reference"]}),n.jsx(fe,{id:"order_reference",value:r.order_reference,onChange:A=>b("order_reference",A.target.value),placeholder:"e.g., ORD-2025-001",className:a.order_reference?"border-destructive":""}),a.order_reference&&n.jsx("p",{className:"text-sm text-destructive",children:a.order_reference})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"due_date",className:"required flex items-center gap-2",children:[n.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"}),"Due Date"]}),n.jsx(fe,{id:"due_date",type:"date",value:r.due_date,onChange:A=>b("due_date",A.target.value),className:a.due_date?"border-destructive":""}),a.due_date&&n.jsx("p",{className:"text-sm text-destructive",children:a.due_date})]})]})})]}),n.jsxs(X,{children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(Nr,{className:"h-5 w-5 text-primary"})}),n.jsx(Ve,{className:"text-lg font-semibold",children:"Payment Amount"})]})}),n.jsx(Q,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"total_amount",className:"required",children:"Total Amount (HUF)"}),n.jsx(fe,{id:"total_amount",type:"number",step:"0.01",min:"0",value:r.total_amount,onChange:A=>b("total_amount",A.target.value),placeholder:"0.00",className:a.total_amount?"border-destructive":""}),a.total_amount&&n.jsx("p",{className:"text-sm text-destructive",children:a.total_amount})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"amount_paid",children:"Amount Paid (HUF)"}),n.jsx(fe,{id:"amount_paid",type:"number",step:"0.01",min:"0",value:r.amount_paid,onChange:A=>b("amount_paid",A.target.value),placeholder:"0.00",className:a.amount_paid?"border-destructive":""}),a.amount_paid&&n.jsx("p",{className:"text-sm text-destructive",children:a.amount_paid})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"balance",children:"Balance (HUF)"}),n.jsx(fe,{id:"balance",value:w,readOnly:!0,className:"bg-muted text-primary font-semibold"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically calculated"})]})]})})]}),n.jsxs(X,{children:[n.jsx(we,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(js,{className:"h-5 w-5 text-primary"})}),n.jsx(Ve,{className:"text-lg font-semibold",children:"Payment Details"})]})}),n.jsx(Q,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(q,{children:"Payment Method"}),n.jsx(To,{value:r.payment_method,onValueChange:A=>b("payment_method",A),children:n.jsxs(Qi,{className:"grid w-full grid-cols-3",children:[n.jsxs(Ut,{value:"Bank Transfer",children:[n.jsx(Sk,{className:"h-4 w-4 mr-2"}),"Bank Transfer"]}),n.jsxs(Ut,{value:"Card Payment",children:[n.jsx(js,{className:"h-4 w-4 mr-2"}),"Card Payment"]}),n.jsxs(Ut,{value:"Cash",children:[n.jsx(c0,{className:"h-4 w-4 mr-2"}),"Cash"]})]})})]}),r.payment_method==="Bank Transfer"&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Bank Transfer Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"bank_name",children:"Bank Name"}),n.jsx(fe,{id:"bank_name",value:r.bank_name,onChange:A=>b("bank_name",A.target.value),placeholder:"e.g., OTP Bank"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"account_holder",children:"Account Holder"}),n.jsx(fe,{id:"account_holder",value:r.account_holder,onChange:A=>b("account_holder",A.target.value),placeholder:"Full name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"account_number",children:"Account Number"}),n.jsx(fe,{id:"account_number",value:r.account_number,onChange:A=>b("account_number",A.target.value),placeholder:"XXXX-XXXX-XXXX-XXXX"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"iban",children:"IBAN"}),n.jsx(fe,{id:"iban",value:r.iban,onChange:A=>b("iban",A.target.value),placeholder:"HU42 1177 3016 1111 1018 0000 0000"})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"swift_bic_code",children:"SWIFT/BIC Code"}),n.jsx(fe,{id:"swift_bic_code",value:r.swift_bic_code,onChange:A=>b("swift_bic_code",A.target.value),placeholder:"e.g., OTPVHUHB"})]})]})]}),r.payment_method==="Card Payment"&&n.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[n.jsx("h4",{className:"font-semibold text-sm",children:"Card Payment Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"card_number",children:"Card Number"}),n.jsx(fe,{id:"card_number",value:r.card_number,onChange:A=>b("card_number",A.target.value),placeholder:"XXXX XXXX XXXX XXXX",maxLength:19})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"card_holder_name",children:"Card Holder Name"}),n.jsx(fe,{id:"card_holder_name",value:r.card_holder_name,onChange:A=>b("card_holder_name",A.target.value),placeholder:"Name as on card"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"expiry_date",children:"Expiry Date"}),n.jsx(fe,{id:"expiry_date",value:r.expiry_date,onChange:A=>b("expiry_date",A.target.value),placeholder:"MM/YY",maxLength:5})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"cvv",children:"CVV"}),n.jsx(fe,{id:"cvv",value:r.cvv,onChange:A=>b("cvv",A.target.value),placeholder:"XXX",maxLength:4,type:"password"})]})]})]}),r.payment_method==="Cash"&&n.jsxs("div",{className:"p-6 border rounded-lg bg-muted/50 text-center",children:[n.jsx(C7,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cash payment selected. No additional details required."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(fa,{id:"notes",value:r.notes,onChange:A=>b("notes",A.target.value),placeholder:"Add any additional payment notes or instructions...",rows:4})]})]})})]}),n.jsxs("div",{className:"flex items-center justify-end gap-4 mt-6",children:[n.jsx(re,{type:"button",variant:"outline",onClick:S,disabled:u.isPending,children:"Cancel"}),n.jsx(re,{type:"submit",disabled:u.isPending,children:u.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(fu,{className:"mr-2 h-4 w-4"}),"Update Payment"]})})]})]})]})})};function ent(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{iconBg:"bg-primary/10"},{iconBg:"bg-green-500/10"},{iconBg:"bg-blue-500/10"},{iconBg:"bg-yellow-500/10"}].map((e,t)=>n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-9 w-16"})]}),n.jsx("div",{className:`h-10 w-10 rounded-lg ${e.iconBg} flex items-center justify-center`,children:n.jsx(C,{className:"h-6 w-6 rounded"})})]})})},t))})}function tnt(){return n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsx("div",{className:"relative flex-1",children:n.jsx(C,{className:"h-10 w-full rounded-md"})}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsx(C,{className:"h-10 w-[150px] rounded-md"}),n.jsx(C,{className:"h-10 w-[150px] rounded-md"}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})]})})})}function rnt(){return n.jsxs(X,{children:[n.jsx(we,{children:n.jsx(Ve,{className:"flex items-center justify-between",children:n.jsx(C,{className:"h-6 w-40"})})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-12"})}),n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-24"})}),n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-16"})}),n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})}),n.jsx("th",{className:"px-4 py-3 text-center",children:n.jsx(C,{className:"h-4 w-14 mx-auto"})}),n.jsx("th",{className:"px-4 py-3 text-center",children:n.jsx(C,{className:"h-4 w-14 mx-auto"})}),n.jsx("th",{className:"px-4 py-3 text-right",children:n.jsx(C,{className:"h-4 w-16 ml-auto"})})]})}),n.jsx("tbody",{children:[...Array(8)].map((e,t)=>n.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"flex items-center justify-center bg-muted rounded-lg w-12 h-12",children:n.jsx(C,{className:"w-10 h-10 rounded-lg"})})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-3 w-40"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-36"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((r,s)=>n.jsx(C,{className:"h-3 w-3 rounded-sm"},s)),n.jsx(C,{className:"h-4 w-8 ml-1"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"flex justify-center",children:n.jsx(C,{className:"h-6 w-8 rounded-full"})})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"flex justify-center",children:n.jsx(C,{className:"h-6 w-8 rounded-full"})})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"}),n.jsx(C,{className:"h-8 w-8 rounded"})]})})]},t))})]})})})]})}function nnt(){return n.jsxs("div",{className:"space-y-6",children:[n.jsx(ent,{}),n.jsx(tnt,{}),n.jsx(rnt,{})]})}const snt=()=>{const e=ur(),[t,r]=v.useState(""),[s,a]=v.useState("all"),[i,o]=v.useState("all"),[l,c]=v.useState(!1),[d,u]=v.useState(null),{data:f,isLoading:m,error:h}=pm(),x=CX(),p=(f==null?void 0:f.results)||[],g=v.useMemo(()=>p.filter(b=>{const N=b.name.toLowerCase().includes(t.toLowerCase())||b.email.toLowerCase().includes(t.toLowerCase())||b.contact_person.toLowerCase().includes(t.toLowerCase()),_=s==="all"||s==="active"&&b.active_issues===0||s==="issues"&&b.active_issues>0,S=parseFloat(b.reliability),A=i==="all"||i==="high"&&S>=4.5||i==="medium"&&S>=3.5&&S<4.5||i==="low"&&S<3.5;return N&&_&&A}),[p,t,s,i]),j=b=>{const N=typeof b=="string"?parseFloat(b):b;return n.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((_,S)=>n.jsx(rb,{className:`h-3 w-3 ${S<Math.floor(N)?"fill-yellow-500 text-yellow-500":"text-muted-foreground"}`},S)),n.jsx("span",{className:"text-sm font-medium ml-1",children:N.toFixed(1)})]})},y=(b,N)=>{u({id:b,name:N}),c(!0)},w=()=>{d&&x.mutate(d.id,{onSuccess:()=>{c(!1),u(null)}})};return m?n.jsx(ct,{title:"Vendors",children:n.jsx(nnt,{})}):n.jsx(ct,{title:"Vendors",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(X,{className:"",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Vendors"}),n.jsx("p",{className:"text-3xl font-bold",children:p.length})]}),n.jsx(dr,{className:"h-10 w-10 text-primary opacity-20"})]})})}),n.jsx(X,{className:"",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Vendors"}),n.jsx("p",{className:"text-3xl font-bold",children:p.filter(b=>b.active_issues===0).length})]}),n.jsx(ni,{className:"h-10 w-10 text-green-500 opacity-20"})]})})}),n.jsx(X,{className:"",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Orders"}),n.jsx("p",{className:"text-3xl font-bold",children:p.reduce((b,N)=>b+N.orders_count,0)})]}),n.jsx(lt,{className:"h-10 w-10 text-blue-500 opacity-20"})]})})}),n.jsx(X,{className:"",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Reliability"}),n.jsx("p",{className:"text-3xl font-bold",children:p.length>0?(p.reduce((b,N)=>b+parseFloat(N.reliability),0)/p.length).toFixed(1):"0.0"})]}),n.jsx(rb,{className:"h-10 w-10 text-yellow-500 opacity-20"})]})})})]}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ua,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{placeholder:"Search by vendor name or email...",value:t,onChange:b=>r(b.target.value),className:"pl-9"})]}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs(tt,{value:s,onValueChange:a,children:[n.jsxs(Je,{className:"w-[150px]",children:[n.jsx(Iv,{className:"h-4 w-4 mr-2"}),n.jsx(rt,{placeholder:"Status"})]}),n.jsxs(et,{children:[n.jsx(ee,{value:"all",children:"All Status"}),n.jsx(ee,{value:"active",children:"Active"}),n.jsx(ee,{value:"issues",children:"With Issues"})]})]}),n.jsxs(tt,{value:i,onValueChange:o,children:[n.jsxs(Je,{className:"w-[150px]",children:[n.jsx(rb,{className:"h-4 w-4 mr-2"}),n.jsx(rt,{placeholder:"Reliability"})]}),n.jsxs(et,{children:[n.jsx(ee,{value:"all",children:"All Ratings"}),n.jsx(ee,{value:"high",children:"High (4.5+)"}),n.jsx(ee,{value:"medium",children:"Medium (3.5-4.5)"}),n.jsx(ee,{value:"low",children:"Low (<3.5)"})]})]}),n.jsxs(re,{onClick:()=>e("/vendors/new"),className:"gap-2",children:[n.jsx(Kn,{className:"h-4 w-4"}),"Add Vendor"]})]})]})})}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center justify-between",children:[n.jsxs("span",{children:["All Vendors (",g.length,")"]}),t&&n.jsx(re,{variant:"ghost",size:"sm",onClick:()=>{r(""),a("all"),o("all")},children:"Clear Filters"})]})}),n.jsx(Q,{children:g.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(St,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No vendors found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filters"}),n.jsxs(re,{onClick:()=>e("/vendors/new"),children:[n.jsx(Kn,{className:"h-4 w-4 mr-2"}),"Add Your First Vendor"]})]}):n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ds,{children:[n.jsx(Is,{children:n.jsxs(Bt,{children:[n.jsx(Te,{className:"w-[80px]",children:"Logo"}),n.jsx(Te,{children:"Vendor Name"}),n.jsx(Te,{children:"Contact"}),n.jsx(Te,{children:"Lead Time"}),n.jsx(Te,{children:"Reliability"}),n.jsx(Te,{className:"text-center",children:"Orders"}),n.jsx(Te,{className:"text-center",children:"Issues"}),n.jsx(Te,{className:"text-right",children:"Actions"})]})}),n.jsx(Rs,{children:g.map(b=>n.jsxs(Bt,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>e(`/vendors/${b.id}`),children:[n.jsx(Se,{children:n.jsx("div",{className:"flex items-center justify-center bg-muted rounded-lg w-12 h-12 overflow-hidden",children:b.website?n.jsx(n.Fragment,{children:n.jsx("img",{src:`https://logo.clearbit.com/${new URL(b.website).hostname}`,alt:`${b.name} logo`,className:"w-10 h-10 object-contain",onError:N=>{const _=N.currentTarget;if(!_.dataset.fallbackAttempted)_.dataset.fallbackAttempted="true",_.src=`https://www.google.com/s2/favicons?domain=${new URL(b.website).hostname}&sz=128`;else{_.style.display="none";const S=_.parentElement;if(S){const A=document.createElement("span");A.className="text-2xl",A.textContent=b.logo||b.name.charAt(0).toUpperCase(),S.appendChild(A)}}}})}):n.jsx("span",{className:"text-2xl",children:b.logo||b.name.charAt(0).toUpperCase()})})}),n.jsx(Se,{children:n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:b.name}),n.jsx("a",{href:b.website,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline",onClick:N=>N.stopPropagation(),children:b.website.replace("https://","")})]})}),n.jsx(Se,{children:n.jsx("div",{className:"text-sm",children:n.jsx("p",{children:b.email})})}),n.jsx(Se,{children:n.jsx(Ae,{variant:"outline",className:"font-mono",children:b.lead_time})}),n.jsx(Se,{children:j(b.reliability)}),n.jsx(Se,{className:"text-center",children:n.jsx(Ae,{variant:"secondary",className:"font-semibold",children:b.orders_count})}),n.jsx(Se,{className:"text-center",children:n.jsx(Ae,{variant:b.active_issues>0?"destructive":"default",className:"font-semibold",children:b.active_issues})}),n.jsx(Se,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-1",children:[n.jsx(re,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),e(`/vendors/${b.id}`)},title:"View Details",children:n.jsx(ri,{className:"h-4 w-4"})}),n.jsx(re,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),e(`/vendors/${b.id}/edit`)},title:"Edit Vendor",children:n.jsx(Ys,{className:"h-4 w-4"})}),n.jsx(re,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),y(b.id,b.name)},title:"Delete Vendor",disabled:x.isPending,children:n.jsx(xn,{className:"h-4 w-4"})})]})})]},b.id))})]})})})]}),h&&n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(St,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Failed to load vendors"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:h instanceof Error?h.message:"An error occurred while fetching vendors"}),n.jsx(re,{onClick:()=>window.location.reload(),children:"Try Again"})]})})}),n.jsx(cc,{open:l,onOpenChange:c,children:n.jsxs(xl,{children:[n.jsxs(gl,{children:[n.jsx(yl,{children:"Are you sure?"}),n.jsxs(jl,{children:["This will permanently delete ",n.jsx("strong",{children:d==null?void 0:d.name}),". This action cannot be undone."]})]}),n.jsxs(vl,{children:[n.jsx(wl,{disabled:x.isPending,children:"Cancel"}),n.jsx(bl,{onClick:w,disabled:x.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:x.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})})]})})},ant=()=>{const e=ur(),t=mBe(),[r,s]=v.useState("basic"),[a,i]=v.useState(""),[o,l]=v.useState(""),[c,d]=v.useState(""),[u,f]=v.useState(""),[m,h]=v.useState(""),[x,p]=v.useState(""),[g,j]=v.useState(""),[y,w]=v.useState(""),[b,N]=v.useState(""),[_,S]=v.useState(""),[A,E]=v.useState(""),[P,D]=v.useState(""),[I,W]=v.useState(""),[H,F]=v.useState(""),[T,k]=v.useState(""),[M,O]=v.useState(""),[K,se]=v.useState(""),[R,V]=v.useState(""),[L,G]=v.useState(""),[le,me]=v.useState(""),B=()=>{if(!a||!c||!o){Ue.error("Please fill in all required fields (Company Name, Contact Person, Email)"),s("basic");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)){Ue.error("Please enter a valid email address"),s("basic");return}const Ee={name:a,company_name:a,contact_person:o,email:c,phone:u||"",website:m||"",logo:"",lead_time:M||"7-14 days",address:g||"",city:y||"",country:b||"",postal_code:_||"",tax_id:A||"",business_type:P||"",year_established:I||"",employee_count:H||"",category:x||"",product_categories:"",certifications:"",specializations:"",payment_terms:T||"",delivery_terms:M||"",warranty_period:K||"",return_policy:R||"",minimum_order:L||"",notes:le||""};t.mutate(Ee,{onSuccess:()=>{e("/vendors")}})},Y=xe=>{Ue.info(`Import from ${xe.toUpperCase()} coming soon!`)},oe=["basic","address","business","terms"],Ne=oe.indexOf(r),ue=()=>{Ne<oe.length-1&&s(oe[Ne+1])},ve=()=>{Ne>0&&s(oe[Ne-1])};return n.jsx(ct,{title:"Add New Vendor",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(re,{variant:"ghost",onClick:()=>e("/vendors"),className:"gap-2",children:[n.jsx(rr,{className:"h-4 w-4"}),"Back to Vendors"]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(re,{variant:"outline",className:"gap-2",children:[n.jsx(Vi,{className:"h-4 w-4"}),"Import Data"]}),n.jsx(re,{onClick:B,className:"gap-2",disabled:t.isPending,children:t.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(fu,{className:"h-4 w-4"}),"Save Vendor"]})})]})]}),n.jsx(X,{className:"border-dashed",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h3",{className:"font-semibold",children:"Quick Import"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Import vendor data from existing files"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>Y("excel"),className:"gap-2",children:[n.jsx(Ek,{className:"h-4 w-4"}),"Excel"]}),n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>Y("csv"),className:"gap-2",children:[n.jsx(An,{className:"h-4 w-4"}),"CSV"]}),n.jsxs(re,{variant:"outline",size:"sm",onClick:()=>Y("docs"),className:"gap-2",children:[n.jsx(gse,{className:"h-4 w-4"}),"Docs"]})]})]})})}),n.jsxs(X,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Vendor Information"}),n.jsx(Ir,{children:"Fill in the vendor details below. Fields marked with * are required."})]}),n.jsxs(Q,{children:[n.jsxs(To,{value:r,onValueChange:s,children:[n.jsxs(Qi,{className:"grid w-full grid-cols-4",children:[n.jsx(Ut,{value:"basic",children:"Basic Info"}),n.jsx(Ut,{value:"address",children:"Address"}),n.jsx(Ut,{value:"business",children:"Business"}),n.jsx(Ut,{value:"terms",children:"Terms"})]}),n.jsx(Yt,{value:"basic",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"companyName",children:["Company Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(dr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"companyName",placeholder:"Enter company name",value:a,onChange:xe=>i(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"category",children:"Category"}),n.jsxs(tt,{value:x,onValueChange:p,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select category"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"furniture",children:"Furniture"}),n.jsx(ee,{value:"electronics",children:"Electronics"}),n.jsx(ee,{value:"lighting",children:"Lighting"}),n.jsx(ee,{value:"appliances",children:"Appliances"}),n.jsx(ee,{value:"textiles",children:"Textiles"}),n.jsx(ee,{value:"construction",children:"Construction"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"contactPerson",children:["Contact Person ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx($n,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"contactPerson",placeholder:"Primary contact name",value:o,onChange:xe=>l(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"email",children:["Email ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(yn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"email",type:"email",placeholder:"contact@company.com",value:c,onChange:xe=>d(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"phone",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(Co,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"phone",placeholder:"+1 (555) 000-0000",value:u,onChange:xe=>f(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"website",children:"Website"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ql,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"website",placeholder:"https://company.com",value:m,onChange:xe=>h(xe.target.value),className:"pl-9"})]})]})]})}),n.jsx(Yt,{value:"address",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"address",children:"Street Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(xa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"address",placeholder:"123 Main Street",value:g,onChange:xe=>j(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"city",children:"City"}),n.jsx(fe,{id:"city",placeholder:"City",value:y,onChange:xe=>w(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"postalCode",children:"Postal Code"}),n.jsx(fe,{id:"postalCode",placeholder:"10001",value:_,onChange:xe=>S(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"country",children:"Country"}),n.jsx(fe,{id:"country",placeholder:"Country",value:b,onChange:xe=>N(xe.target.value)})]})]})}),n.jsx(Yt,{value:"business",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"taxId",children:"Tax ID / VAT Number"}),n.jsx(fe,{id:"taxId",placeholder:"XX-XXXXXXX",value:A,onChange:xe=>E(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"businessType",children:"Business Type"}),n.jsxs(tt,{value:P,onValueChange:D,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select type"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"manufacturer",children:"Manufacturer"}),n.jsx(ee,{value:"distributor",children:"Distributor"}),n.jsx(ee,{value:"wholesaler",children:"Wholesaler"}),n.jsx(ee,{value:"retailer",children:"Retailer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"yearEstablished",children:"Year Established"}),n.jsx(fe,{id:"yearEstablished",placeholder:"2020",value:I,onChange:xe=>W(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"employeeCount",children:"Number of Employees"}),n.jsx(fe,{id:"employeeCount",placeholder:"50",value:H,onChange:xe=>F(xe.target.value)})]})]})}),n.jsx(Yt,{value:"terms",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paymentTerms",children:"Payment Terms"}),n.jsxs(tt,{value:T,onValueChange:k,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select payment terms"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"net-30",children:"Net 30"}),n.jsx(ee,{value:"net-60",children:"Net 60"}),n.jsx(ee,{value:"net-90",children:"Net 90"}),n.jsx(ee,{value:"cod",children:"Cash on Delivery"}),n.jsx(ee,{value:"advance",children:"Advance Payment"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"deliveryTerms",children:"Delivery Terms"}),n.jsx(fe,{id:"deliveryTerms",placeholder:"E.g., 7-14 business days",value:M,onChange:xe=>O(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"warrantyPeriod",children:"Warranty Period"}),n.jsx(fe,{id:"warrantyPeriod",placeholder:"E.g., 12 months",value:K,onChange:xe=>se(xe.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"minimumOrder",children:"Minimum Order Value"}),n.jsxs("div",{className:"relative",children:[n.jsx(Nr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"minimumOrder",placeholder:"500",value:L,onChange:xe=>G(xe.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"returnPolicy",children:"Return Policy"}),n.jsx(gn,{id:"returnPolicy",placeholder:"Describe return and refund policy",value:R,onChange:xe=>V(xe.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(gn,{id:"notes",placeholder:"Any additional information about the vendor",value:le,onChange:xe=>me(xe.target.value),rows:4})]})]})})]}),n.jsxs("div",{className:"flex justify-between mt-6 pt-6 border-t",children:[n.jsxs(re,{type:"button",variant:"outline",onClick:ve,disabled:Ne===0,className:"gap-2",children:[n.jsx(Ck,{className:"h-4 w-4"}),"Previous"]}),n.jsx("div",{className:"flex gap-2",children:Ne===oe.length-1?n.jsx(re,{type:"button",onClick:B,disabled:t.isPending,className:"gap-2",children:t.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(fu,{className:"h-4 w-4"}),"Save Vendor"]})}):n.jsxs(re,{type:"button",variant:"outline",onClick:ue,className:"gap-2",children:["Next",n.jsx(uu,{className:"h-4 w-4"})]})})]})]})]})]})})};function int(){return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{className:"h-9 w-40 rounded-md"}),n.jsx(C,{className:"h-9 w-32 rounded-md"})]})}function ont(){return n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsx("div",{className:"flex items-center justify-center bg-muted rounded-full w-24 h-24",children:n.jsx(C,{className:"w-20 h-20 rounded-full"})}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-9 w-48"}),n.jsx(C,{className:"h-4 w-32"})]}),n.jsx(C,{className:"h-6 w-16 rounded-full"})]}),n.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[[...Array(5)].map((e,t)=>n.jsx(C,{className:"h-4 w-4 rounded-sm"},t)),n.jsx(C,{className:"h-4 w-8 ml-1"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((e,t)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-32"})]},t))})]})]})})})}function lnt(){return n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{iconBg:"bg-primary/10"},{iconBg:"bg-red-500/10"},{iconBg:"bg-primary/10"},{iconBg:"bg-green-500/10"}].map((e,t)=>n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-9 w-16"})]}),n.jsx("div",{className:`h-8 w-8 rounded-lg ${e.iconBg} flex items-center justify-center`,children:n.jsx(C,{className:"h-5 w-5 rounded"})})]})})},t))})}function cnt(){return n.jsxs(X,{children:[n.jsx(we,{children:n.jsx(C,{className:"h-6 w-32"})}),n.jsxs(Q,{children:[n.jsx("div",{className:"grid w-full grid-cols-5 bg-muted rounded-lg p-1 mb-6",children:[...Array(5)].map((e,t)=>n.jsx("div",{className:"flex items-center justify-center py-2",children:n.jsx(C,{className:"h-4 w-16"})},t))}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(C,{className:"h-6 w-40"}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"space-y-3",children:[...Array(2)].map((e,t)=>n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-48"})]},t))})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(C,{className:"h-6 w-32"}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"space-y-3",children:[...Array(3)].map((e,t)=>n.jsxs("div",{className:"flex justify-between",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-4 w-20"})]},t))})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(C,{className:"h-6 w-40"}),n.jsx("div",{className:"h-px bg-border"}),n.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[...Array(3)].map((e,t)=>n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx(C,{className:"h-8 w-8 rounded-lg mx-auto"}),n.jsx(C,{className:"h-7 w-16 mx-auto"}),n.jsx(C,{className:"h-3 w-28 mx-auto"})]})})},t))})]})]})]})]})}function dnt(){return n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"border-b",children:n.jsx("tr",{children:["Image","Product Details","Category","Client","Apartment","Room","Qty","Unit Price","Total","Payment","Availability","Actions"].map((e,t)=>n.jsx("th",{className:"px-4 py-3 text-left",children:n.jsx(C,{className:"h-4 w-20"})},t))})}),n.jsx("tbody",{children:[...Array(5)].map((e,t)=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"w-16 h-16 rounded-md"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2 min-w-[200px]",children:[n.jsx(C,{className:"h-4 w-40"}),n.jsx(C,{className:"h-3 w-32"}),n.jsx(C,{className:"h-3 w-28"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-24 rounded-full"})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2 min-w-[150px]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{className:"h-4 w-4 rounded"}),n.jsx(C,{className:"h-4 w-24"})]}),n.jsx(C,{className:"h-3 w-32"}),n.jsx(C,{className:"h-3 w-28"}),n.jsx(C,{className:"h-5 w-16 rounded-full"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2 min-w-[150px]",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-3 w-24"}),n.jsx(C,{className:"h-3 w-28"}),n.jsx(C,{className:"h-5 w-20 rounded-full"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-4 w-16"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx(C,{className:"h-4 w-12 ml-auto"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx(C,{className:"h-4 w-24 ml-auto"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28 ml-auto"}),n.jsx(C,{className:"h-3 w-20 ml-auto"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"space-y-2 min-w-[120px]",children:[n.jsx(C,{className:"h-6 w-16 rounded-full"}),n.jsx(C,{className:"h-3 w-24"})]})}),n.jsx("td",{className:"px-4 py-4",children:n.jsx(C,{className:"h-6 w-20 rounded-full"})}),n.jsx("td",{className:"px-4 py-4 text-right",children:n.jsx(C,{className:"h-8 w-8 rounded ml-auto"})})]},t))})]})})}function unt(){return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(int,{}),n.jsx(ont,{}),n.jsx(lnt,{}),n.jsx(cnt,{})]})})}const fnt=()=>{const{id:e}=Yi(),t=ur(),[r,s]=v.useState("overview"),{data:a,isLoading:i,error:o}=SX(e||null),{data:l=[],isLoading:c}=pBe(e||null),d=xBe(e||"");if(i)return n.jsx(unt,{});if(o||!a)return n.jsx(ct,{title:"Vendor Not Found",children:n.jsx(X,{children:n.jsxs(Q,{className:"p-12 text-center",children:[n.jsx(St,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Vendor Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:o instanceof Error?o.message:"The vendor you're looking for doesn't exist."}),n.jsx(re,{onClick:()=>t("/vendors"),children:"Back to Vendors"})]})})});const u=f=>{const m=typeof f=="string"?parseFloat(f):f;return n.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((h,x)=>n.jsx(rb,{className:`h-4 w-4 ${x<Math.floor(m)?"fill-yellow-500 text-yellow-500":"text-muted-foreground"}`},x)),n.jsx("span",{className:"text-sm font-medium ml-1",children:m.toFixed(1)})]})};return n.jsx(ct,{title:a.name,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(re,{variant:"ghost",onClick:()=>t("/vendors"),className:"gap-2",children:[n.jsx(rr,{className:"h-4 w-4"}),"Back to Vendors"]}),n.jsxs(re,{onClick:()=>t(`/vendors/${e}/edit`),className:"gap-2",children:[n.jsx(Ys,{className:"h-4 w-4"}),"Edit Vendor"]})]}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsx("div",{className:"flex items-center justify-center bg-muted rounded-full w-24 h-24 overflow-hidden",children:a.website?n.jsx("img",{src:`https://logo.clearbit.com/${new URL(a.website).hostname}`,alt:`${a.name} logo`,className:"w-20 h-20 object-contain",onError:f=>{const m=f.currentTarget;if(!m.dataset.fallbackAttempted)m.dataset.fallbackAttempted="true",m.src=`https://www.google.com/s2/favicons?domain=${new URL(a.website).hostname}&sz=128`;else{m.style.display="none";const h=m.parentElement;if(h){const x=document.createElement("span");x.className="text-4xl",x.textContent=a.logo||a.name.charAt(0).toUpperCase(),h.appendChild(x)}}}}):n.jsx("span",{className:"text-4xl",children:a.logo||a.name.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"flex-1 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold",children:a.name}),n.jsx("p",{className:"text-muted-foreground",children:"Verified Vendor"})]}),n.jsx(Ae,{variant:"secondary",className:"text-sm",children:"Active"})]}),n.jsx("div",{className:"flex items-center gap-2 mb-4",children:u(a.reliability)})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(yn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:`mailto:${a.email}`,className:"hover:underline",children:a.email})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Ql,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:a.website.replace("https://","")})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(wr,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:["Lead Time: ",a.lead_time]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(lt,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[a.orders_count," Total Orders"]})]})]})]})]})})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Orders"}),n.jsx("p",{className:"text-3xl font-bold mt-1",children:a.orders_count})]}),n.jsx(lt,{className:"h-8 w-8 text-primary"})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Issues"}),n.jsx("p",{className:"text-3xl font-bold mt-1",children:a.active_issues})]}),n.jsx(St,{className:`h-8 w-8 ${a.active_issues>0?"text-destructive":"text-green-500"}`})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Products"}),n.jsx("p",{className:"text-3xl font-bold mt-1",children:c?n.jsx("span",{className:"inline-block h-9 w-12 bg-muted animate-pulse rounded"}):l.length})]}),n.jsx(lt,{className:"h-8 w-8 text-primary"})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Reliability"}),n.jsx("p",{className:"text-3xl font-bold mt-1",children:(typeof a.reliability=="string"?parseFloat(a.reliability):a.reliability).toFixed(1)})]}),n.jsx(ni,{className:"h-8 w-8 text-green-500"})]})})})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsx(Ve,{children:"Vendor Details"})}),n.jsx(Q,{children:n.jsxs(To,{value:r,onValueChange:s,children:[n.jsxs(Qi,{className:"grid w-full grid-cols-5",children:[n.jsx(Ut,{value:"overview",children:"Overview"}),n.jsx(Ut,{value:"products",children:"Products"}),n.jsx(Ut,{value:"orders",children:"Orders"}),n.jsx(Ut,{value:"issues",children:"Issues"}),n.jsx(Ut,{value:"payments",children:"Payments"})]}),n.jsxs(Yt,{value:"overview",className:"space-y-6 mt-6",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Contact Information"}),n.jsx(Ft,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:a.email})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ql,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm hover:underline",children:a.website})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Business Details"}),n.jsx(Ft,{}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Lead Time"}),n.jsx("span",{className:"text-sm font-medium",children:a.lead_time})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Reliability Score"}),n.jsxs("span",{className:"text-sm font-medium",children:[a.reliability,"/5.0"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Orders"}),n.jsx("span",{className:"text-sm font-medium",children:a.orders_count})]})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Performance Metrics"}),n.jsx(Ft,{}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Vr,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold",children:"95%"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"On-Time Delivery"})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ni,{className:"h-8 w-8 text-primary mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold",children:"4.5"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Quality Rating"})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(lt,{className:"h-8 w-8 text-primary mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold",children:"98%"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Order Accuracy"})]})})})]})]})]}),n.jsx(Yt,{value:"products",className:"mt-6",children:c?n.jsx(dnt,{}):l.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(lt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Products"}),n.jsx("p",{className:"text-muted-foreground",children:"This vendor hasn't supplied any products yet."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Ds,{children:[n.jsx(Is,{children:n.jsxs(Bt,{children:[n.jsx(Te,{className:"w-[80px]",children:"Image"}),n.jsx(Te,{children:"Product Details"}),n.jsx(Te,{children:"Category"}),n.jsx(Te,{children:"Client"}),n.jsx(Te,{children:"Apartment"}),n.jsx(Te,{children:"Room"}),n.jsx(Te,{className:"text-right",children:"Qty"}),n.jsx(Te,{className:"text-right",children:"Unit Price"}),n.jsx(Te,{className:"text-right",children:"Total"}),n.jsx(Te,{children:"Payment"}),n.jsx(Te,{children:"Availability"}),n.jsx(Te,{className:"text-right",children:"Actions"})]})}),n.jsx(Rs,{children:l.map(f=>{var m;return n.jsxs(Bt,{children:[n.jsxs(Se,{children:[f.product_image?n.jsx("img",{src:f.product_image,alt:f.product,className:"w-16 h-16 object-cover rounded-md",onError:h=>{var x;h.currentTarget.style.display="none",(x=h.currentTarget.nextElementSibling)==null||x.classList.remove("hidden")}}):null,n.jsx("div",{className:`w-16 h-16 bg-muted rounded-md flex items-center justify-center ${f.product_image?"hidden":""}`,children:n.jsx(Ui,{className:"h-6 w-6 text-muted-foreground"})})]}),n.jsx(Se,{children:n.jsxs("div",{className:"space-y-1 min-w-[200px]",children:[n.jsx("p",{className:"font-medium",children:f.product}),f.description&&n.jsx("p",{className:"text-xs text-muted-foreground",children:f.description}),f.dimensions&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.dimensions]}),f.material&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.material]}),f.color&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.color]}),f.brand&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.brand]})]})}),n.jsx(Se,{children:n.jsx(Ae,{variant:"outline",children:f.category_name})}),n.jsx(Se,{children:(m=f.apartment_details)!=null&&m.client_details?n.jsxs("div",{className:"space-y-1 min-w-[150px]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($n,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"text-sm font-medium",children:f.apartment_details.client_details.name})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f.apartment_details.client_details.email}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f.apartment_details.client_details.phone}),n.jsx(Ae,{variant:"secondary",className:"text-xs",children:f.apartment_details.client_details.type})]}):n.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),n.jsx(Se,{children:f.apartment_details?n.jsxs("div",{className:"space-y-1 min-w-[150px]",children:[n.jsx("p",{className:"text-sm font-medium",children:f.apartment_details.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:f.apartment_details.type}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",f.apartment_details.owner]}),n.jsx(Ae,{variant:f.apartment_details.status==="Delivery"?"default":f.apartment_details.status==="In Progress"?"secondary":"outline",className:"text-xs",children:f.apartment_details.status})]}):n.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),n.jsx(Se,{children:n.jsx("span",{className:"text-sm",children:f.room||"-"})}),n.jsx(Se,{className:"text-right",children:n.jsx("span",{className:"font-medium",children:f.qty||"-"})}),n.jsx(Se,{className:"text-right",children:f.unit_price?n.jsx("div",{className:"space-y-1",children:n.jsx("span",{className:"font-medium",children:typeof f.unit_price=="number"?`${f.unit_price.toFixed(2)} ${f.currency||""}`:`${f.unit_price} ${f.currency||""}`})}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(Se,{className:"text-right",children:f.total_amount||f.total_cost?n.jsxs("div",{className:"space-y-1",children:[n.jsxs("span",{className:"font-semibold text-primary",children:[f.total_amount||f.total_cost," ",f.currency||""]}),f.outstanding_balance&&parseFloat(f.outstanding_balance)>0&&n.jsxs("p",{className:"text-xs text-destructive",children:["Due: ",f.outstanding_balance," ",f.currency]})]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(Se,{children:n.jsxs("div",{className:"space-y-1 min-w-[120px]",children:[n.jsx(Ae,{variant:f.payment_status==="Paid"?"default":f.payment_status==="Unpaid"?"destructive":f.payment_status==="Partial"?"secondary":"outline",children:f.payment_status||"Unknown"}),f.paid_amount&&parseFloat(f.paid_amount)>0&&n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Paid: ",f.paid_amount," ",f.currency]})]})}),n.jsx(Se,{children:n.jsx(Ae,{variant:f.availability==="In Stock"?"default":f.availability==="Out of Stock"?"destructive":f.availability==="Pre-order"?"secondary":"outline",children:f.availability||"Unknown"})}),n.jsx(Se,{className:"text-right",children:n.jsxs(cc,{children:[n.jsx(sX,{asChild:!0,children:n.jsx(re,{variant:"ghost",size:"sm",disabled:d.isPending,className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:n.jsx(xn,{className:"h-4 w-4"})})}),n.jsxs(xl,{children:[n.jsxs(gl,{children:[n.jsx(yl,{children:"Remove Product?"}),n.jsxs(jl,{children:['Are you sure you want to remove "',f.product,'" from this vendor? This action cannot be undone.']})]}),n.jsxs(vl,{children:[n.jsx(wl,{children:"Cancel"}),n.jsx(bl,{onClick:()=>d.mutate(f.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remove"})]})]})]})})]},f.id)})})]})})}),n.jsx(Yt,{value:"orders",className:"mt-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(_r,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Orders"}),n.jsx("p",{className:"text-muted-foreground",children:"Order history for this vendor will be displayed here."})]})}),n.jsx(Yt,{value:"issues",className:"mt-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(St,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Issues"}),n.jsx("p",{className:"text-muted-foreground",children:"Issue tracking for this vendor will be displayed here."})]})}),n.jsx(Yt,{value:"payments",className:"mt-6",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Nr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payments"}),n.jsx("p",{className:"text-muted-foreground",children:"Payment history for this vendor will be displayed here."})]})})]})})]})]})})};function mnt(){return n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsx(C,{className:"h-10 w-32 rounded-md"})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(C,{className:"h-10 w-24 rounded-md"}),n.jsx(C,{className:"h-10 w-32 rounded-md"})]})]})}function hnt(){return n.jsxs(X,{children:[n.jsx(we,{className:"pb-3",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-7 w-48"}),n.jsx(C,{className:"h-4 w-96"})]})}),n.jsxs(Q,{children:[n.jsx("div",{className:"flex gap-1 border-b mb-6",children:["Basic Info","Address","Business","Products","Terms"].map((e,t)=>n.jsx(C,{className:"h-10 w-28 rounded-t-md"},t))}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx(C,{className:"h-5 w-32"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-12"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-20"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-24"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx(C,{className:"h-5 w-36"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx(C,{className:"h-5 w-40"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-36"}),n.jsx(C,{className:"h-20 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-20 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-20 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx(C,{className:"h-5 w-44"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-28"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(C,{className:"h-4 w-32"}),n.jsx(C,{className:"h-10 w-full rounded-md"})]})]})]}),n.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[n.jsx(C,{className:"h-4 w-16"}),n.jsx(C,{className:"h-24 w-full rounded-md"})]})]})]})]})}function pnt(){return n.jsx(ct,{title:"Loading...",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(mnt,{}),n.jsx(hnt,{})]})})}const xnt=()=>{const{id:e}=Yi(),t=ur(),[r,s]=v.useState("basic"),{data:a,isLoading:i,error:o}=SX(e||null),l=hBe(),c=CX(),[d,u]=v.useState(""),[f,m]=v.useState(""),[h,x]=v.useState(""),[p,g]=v.useState(""),[j,y]=v.useState(""),[w,b]=v.useState(""),[N,_]=v.useState(""),[S,A]=v.useState(""),[E,P]=v.useState(""),[D,I]=v.useState(""),[W,H]=v.useState(""),[F,T]=v.useState(""),[k,M]=v.useState(""),[O,K]=v.useState(""),[se,R]=v.useState(""),[V,L]=v.useState(""),[G,le]=v.useState(""),[me,B]=v.useState(""),[Y,oe]=v.useState(""),[Ne,ue]=v.useState(""),[ve,xe]=v.useState(""),[Ee,Fe]=v.useState(""),[Oe,ae]=v.useState("");if(v.useEffect(()=>{a&&(u(a.name||""),m(a.contact_person||""),x(a.email||""),g(a.phone||""),y(a.website||""),b(a.category||""),_(a.address||""),A(a.city||""),P(a.country||""),I(a.postal_code||""),H(a.tax_id||""),T(a.business_type||""),M(a.year_established||""),K(a.employee_count||""),R(a.product_categories||""),L(a.certifications||""),le(a.specializations||""),B(a.payment_terms||""),oe(a.delivery_terms||""),ue(a.warranty_period||""),xe(a.return_policy||""),Fe(a.minimum_order||""),ae(a.notes||""))},[a]),i)return n.jsx(pnt,{});if(o||!a)return n.jsx(ct,{title:"Vendor Not Found",children:n.jsx(X,{children:n.jsxs(Q,{className:"p-12 text-center",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Vendor Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:o instanceof Error?o.message:"The vendor you're trying to edit doesn't exist."}),n.jsx(re,{onClick:()=>t("/vendors"),children:"Back to Vendors"})]})})});const he=()=>{if(!d||!h||!f){Ue.error("Please fill in all required fields (Company Name, Contact Person, Email)"),s("basic");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h)){Ue.error("Please enter a valid email address"),s("basic");return}const Le={name:d,company_name:d,contact_person:f,email:h,phone:p||"",website:j||"",category:w||"",address:N||"",city:S||"",country:E||"",postal_code:D||"",tax_id:W||"",business_type:F||"",year_established:k||"",employee_count:O||"",product_categories:se||"",certifications:V||"",specializations:G||"",payment_terms:me||"",delivery_terms:Y||"",warranty_period:Ne||"",return_policy:ve||"",minimum_order:Ee||"",notes:Oe||""};l.mutate({id:e,data:Le},{onSuccess:()=>{t(`/vendors/${e}`)}})},ce=()=>{c.mutate(e,{onSuccess:()=>{t("/vendors")}})};return n.jsx(ct,{title:`Edit ${a.name}`,children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(re,{variant:"ghost",onClick:()=>t(`/vendors/${e}`),className:"gap-2",children:[n.jsx(rr,{className:"h-4 w-4"}),"Back to Vendor"]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(cc,{children:[n.jsx(sX,{asChild:!0,children:n.jsxs(re,{variant:"destructive",className:"gap-2",children:[n.jsx(xn,{className:"h-4 w-4"}),"Delete"]})}),n.jsxs(xl,{children:[n.jsxs(gl,{children:[n.jsx(yl,{children:"Are you sure?"}),n.jsx(jl,{children:"This will permanently delete this vendor and all associated data. This action cannot be undone."})]}),n.jsxs(vl,{children:[n.jsx(wl,{disabled:c.isPending,children:"Cancel"}),n.jsx(bl,{onClick:ce,disabled:c.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:c.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})]}),n.jsx(re,{onClick:he,className:"gap-2",disabled:l.isPending,children:l.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Lt,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(fu,{className:"h-4 w-4"}),"Save Changes"]})})]})]}),n.jsxs(X,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Vendor Information"}),n.jsx(Ir,{children:"Update the vendor details below. Fields marked with * are required."})]}),n.jsx(Q,{children:n.jsxs(To,{value:r,onValueChange:s,children:[n.jsxs(Qi,{className:"grid w-full grid-cols-5",children:[n.jsx(Ut,{value:"basic",children:"Basic Info"}),n.jsx(Ut,{value:"address",children:"Address"}),n.jsx(Ut,{value:"business",children:"Business"}),n.jsx(Ut,{value:"products",children:"Products"}),n.jsx(Ut,{value:"terms",children:"Terms"})]}),n.jsx(Yt,{value:"basic",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"companyName",children:["Company Name ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(dr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"companyName",placeholder:"Enter company name",value:d,onChange:je=>u(je.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"category",children:"Category"}),n.jsxs(tt,{value:w,onValueChange:b,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select category"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"furniture",children:"Furniture"}),n.jsx(ee,{value:"electronics",children:"Electronics"}),n.jsx(ee,{value:"lighting",children:"Lighting"}),n.jsx(ee,{value:"appliances",children:"Appliances"}),n.jsx(ee,{value:"textiles",children:"Textiles"}),n.jsx(ee,{value:"construction",children:"Construction"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"contactPerson",children:["Contact Person ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx($n,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"contactPerson",placeholder:"Primary contact name",value:f,onChange:je=>m(je.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:"email",children:["Email ",n.jsx("span",{className:"text-destructive",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(yn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"email",type:"email",placeholder:"contact@company.com",value:h,onChange:je=>x(je.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"phone",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(Co,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"phone",placeholder:"+1 (555) 000-0000",value:p,onChange:je=>g(je.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"website",children:"Website"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ql,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"website",placeholder:"https://company.com",value:j,onChange:je=>y(je.target.value),className:"pl-9"})]})]})]})}),n.jsx(Yt,{value:"address",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"address",children:"Street Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(xa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"address",placeholder:"123 Main Street",value:N,onChange:je=>_(je.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"city",children:"City"}),n.jsx(fe,{id:"city",placeholder:"City",value:S,onChange:je=>A(je.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"postalCode",children:"Postal Code"}),n.jsx(fe,{id:"postalCode",placeholder:"10001",value:D,onChange:je=>I(je.target.value)})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"country",children:"Country"}),n.jsx(fe,{id:"country",placeholder:"Country",value:E,onChange:je=>P(je.target.value)})]})]})}),n.jsx(Yt,{value:"business",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"taxId",children:"Tax ID / VAT Number"}),n.jsx(fe,{id:"taxId",placeholder:"XX-XXXXXXX",value:W,onChange:je=>H(je.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"businessType",children:"Business Type"}),n.jsxs(tt,{value:F,onValueChange:T,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select type"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"manufacturer",children:"Manufacturer"}),n.jsx(ee,{value:"distributor",children:"Distributor"}),n.jsx(ee,{value:"wholesaler",children:"Wholesaler"}),n.jsx(ee,{value:"retailer",children:"Retailer"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"yearEstablished",children:"Year Established"}),n.jsx(fe,{id:"yearEstablished",placeholder:"2020",value:k,onChange:je=>M(je.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"employeeCount",children:"Number of Employees"}),n.jsx(fe,{id:"employeeCount",placeholder:"50",value:O,onChange:je=>K(je.target.value)})]})]})}),n.jsx(Yt,{value:"products",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"productCategories",children:"Product Categories"}),n.jsx(gn,{id:"productCategories",placeholder:"E.g., Furniture, Lighting, Appliances (comma-separated)",value:se,onChange:je=>R(je.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"specializations",children:"Specializations"}),n.jsx(gn,{id:"specializations",placeholder:"What makes this vendor unique?",value:G,onChange:je=>le(je.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"certifications",children:"Certifications & Compliance"}),n.jsx(gn,{id:"certifications",placeholder:"ISO, Quality certifications, etc.",value:V,onChange:je=>L(je.target.value),rows:3})]})]})}),n.jsx(Yt,{value:"terms",className:"space-y-6 mt-6",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"paymentTerms",children:"Payment Terms"}),n.jsxs(tt,{value:me,onValueChange:B,children:[n.jsx(Je,{children:n.jsx(rt,{placeholder:"Select payment terms"})}),n.jsxs(et,{children:[n.jsx(ee,{value:"net-30",children:"Net 30"}),n.jsx(ee,{value:"net-60",children:"Net 60"}),n.jsx(ee,{value:"net-90",children:"Net 90"}),n.jsx(ee,{value:"cod",children:"Cash on Delivery"}),n.jsx(ee,{value:"advance",children:"Advance Payment"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"deliveryTerms",children:"Delivery Terms"}),n.jsx(fe,{id:"deliveryTerms",placeholder:"E.g., 7-14 business days",value:Y,onChange:je=>oe(je.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"warrantyPeriod",children:"Warranty Period"}),n.jsx(fe,{id:"warrantyPeriod",placeholder:"E.g., 12 months",value:Ne,onChange:je=>ue(je.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"minimumOrder",children:"Minimum Order Value"}),n.jsxs("div",{className:"relative",children:[n.jsx(Nr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"minimumOrder",placeholder:"500",value:Ee,onChange:je=>Fe(je.target.value),className:"pl-9"})]})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"returnPolicy",children:"Return Policy"}),n.jsx(gn,{id:"returnPolicy",placeholder:"Describe return and refund policy",value:ve,onChange:je=>xe(je.target.value),rows:3})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(q,{htmlFor:"notes",children:"Additional Notes"}),n.jsx(gn,{id:"notes",placeholder:"Any additional information about the vendor",value:Oe,onChange:je=>ae(je.target.value),rows:4})]})]})})]})})]})]})})},Uj=[{id:1,name:"Barbara Kovacs",role:"Designer",email:"barbara@buy2rent.com",phone:"+36 20 123 4567",assigned_apartments:2,status:"Active",last_active:"2025-11-05 14:30"},{id:2,name:"Maria Weber",role:"Designer",email:"maria@buy2rent.com",phone:"+43 664 987 6543",assigned_apartments:2,status:"Active",last_active:"2025-11-05 09:15"},{id:3,name:"Admin User",role:"System Admin",email:"admin@buy2rent.com",phone:"+36 30 555 1234",assigned_apartments:0,status:"Active",last_active:"2025-11-05 15:45"}],y8=[{id:1,name:"Supplier Issue Email",enabled:!0,template:{subject:"Issue Report - {{product}} - Order {{order_no}}",body:`Dear {{vendor}},

We have identified an issue with the following product:

Product: {{product}}
Apartment: {{apartment}}
Issue Type: {{issue_type}}
Description: {{description}}

Please advise on next steps for resolution.

Best regards,
Buy2Rent Team`}},{id:2,name:"Payment Reminder",enabled:!0,template:{subject:"Payment Reminder - Invoice {{invoice_no}}",body:`Dear {{vendor}},

This is a reminder that payment for invoice {{invoice_no}} is due on {{due_date}}.

Amount: {{amount}}
Order: {{order_no}}

Thank you,
Buy2Rent Finance Team`}},{id:3,name:"Out-of-Stock Replacement",enabled:!1,template:{subject:"Product Replacement Request - {{product}}",body:`Dear {{vendor}},

The product {{product}} is currently out of stock. Could you please suggest a suitable replacement?

Original Product: {{product}}
Apartment: {{apartment}}
Budget: {{price}}

Thank you,
Buy2Rent Procurement`}}],gnt=()=>{const[e,t]=v.useState(""),r=Uj.filter(a=>a.name.toLowerCase().includes(e.toLowerCase())||a.email.toLowerCase().includes(e.toLowerCase())||a.role.toLowerCase().includes(e.toLowerCase())),s=a=>({"System Admin":"bg-purple-500/10 text-purple-500",Designer:"bg-blue-500/10 text-blue-500",Manager:"bg-green-500/10 text-green-500"})[a]||"bg-gray-500/10 text-gray-500";return n.jsx(ct,{title:"Users",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),n.jsx("p",{className:"text-3xl font-bold",children:Uj.length})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Users"}),n.jsx("p",{className:"text-3xl font-bold",children:Uj.filter(a=>a.status==="Active").length})]})})}),n.jsx(X,{children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Designers"}),n.jsx("p",{className:"text-3xl font-bold",children:Uj.filter(a=>a.role==="Designer").length})]})})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(ua,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{placeholder:"Search users...",value:e,onChange:a=>t(a.target.value),className:"pl-9"})]}),n.jsxs(re,{children:[n.jsx(Kn,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{children:["All Users (",r.length,")"]})}),n.jsx(Q,{children:n.jsx("div",{className:"overflow-x-auto h-[50dvh] overflow-y-auto",children:n.jsxs(Ds,{children:[n.jsx(Is,{children:n.jsxs(Bt,{children:[n.jsx(Te,{children:"Name"}),n.jsx(Te,{children:"Role"}),n.jsx(Te,{children:"Email"}),n.jsx(Te,{children:"Phone"}),n.jsx(Te,{children:"Assigned Apartments"}),n.jsx(Te,{children:"Status"}),n.jsx(Te,{children:"Last Active"}),n.jsx(Te,{className:"text-right",children:"Actions"})]})}),n.jsx(Rs,{children:r.map(a=>n.jsxs(Bt,{children:[n.jsx(Se,{className:"font-medium",children:a.name}),n.jsx(Se,{children:n.jsx(Ae,{className:s(a.role),children:a.role})}),n.jsx(Se,{children:a.email}),n.jsx(Se,{children:a.phone}),n.jsx(Se,{children:a.assigned_apartments>0?n.jsx(Ae,{variant:"secondary",children:a.assigned_apartments}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})}),n.jsx(Se,{children:n.jsx(Ae,{variant:a.status==="Active"?"default":"secondary",children:a.status})}),n.jsx(Se,{className:"text-sm text-muted-foreground",children:a.last_active}),n.jsx(Se,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(re,{size:"sm",variant:"ghost",children:n.jsx(Ys,{className:"h-4 w-4"})}),n.jsx(re,{size:"sm",variant:"ghost",children:n.jsx(S7,{className:"h-4 w-4"})})]})})]},a.id))})]})})})]})]})})},vnt=()=>{const[e,t]=v.useState(y8.reduce((i,o)=>({...i,[o.id]:o.enabled}),{})),{toast:r}=xr(),s=i=>{t(o=>({...o,[i]:!o[i]})),r({title:"Automation Updated",description:`Automation ${e[i]?"disabled":"enabled"} successfully.`})},a=i=>{r({title:"Template Saved",description:"Email template has been updated successfully."})};return n.jsx(ct,{title:"Automations",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(X,{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-primary/20",children:n.jsx(Q,{className:"p-6",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-3 rounded-2xl bg-primary/10",children:n.jsx(d0,{className:"h-8 w-8 text-primary"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"AI Workflow Automation"}),n.jsx("p",{className:"text-muted-foreground",children:"Configure automated email templates and workflows to streamline vendor communication, payment reminders, and issue resolution."})]})]})})}),y8.map(i=>n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ve,{children:i.name}),n.jsx(Ae,{variant:e[i.id]?"default":"secondary",children:e[i.id]?"Active":"Inactive"})]}),n.jsx(Ir,{children:"Automatically send emails when triggered by system events"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(q,{htmlFor:`toggle-${i.id}`,className:"text-sm text-muted-foreground",children:e[i.id]?"Enabled":"Disabled"}),n.jsx(Tn,{id:`toggle-${i.id}`,checked:e[i.id],onCheckedChange:()=>s(i.id)})]})]})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(q,{htmlFor:`subject-${i.id}`,className:"flex items-center gap-2",children:[n.jsx(yn,{className:"h-4 w-4"}),"Email Subject"]}),n.jsx(fe,{id:`subject-${i.id}`,defaultValue:i.template.subject,placeholder:"Email subject line...",disabled:!e[i.id]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:`body-${i.id}`,children:"Email Body"}),n.jsx(fa,{id:`body-${i.id}`,defaultValue:i.template.body,placeholder:"Email template body...",rows:8,disabled:!e[i.id],className:"font-mono text-sm"}),n.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[n.jsx(Ae,{variant:"outline",className:"text-xs",children:"{{vendor}}"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"{{product}}"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"{{apartment}}"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"{{order_no}}"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"{{due_date}}"}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:"{{amount}}"})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(re,{onClick:()=>a(i.id),disabled:!e[i.id],children:[n.jsx(fu,{className:"h-4 w-4 mr-2"}),"Save Template"]})})]})]},i.id)),n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(wr,{className:"h-5 w-5"}),"Recent Automation Events"]})}),n.jsx(Q,{children:n.jsx("div",{className:"space-y-3",children:[{event:"Issue email sent to IKEA Hungary",time:"2 hours ago",type:"issue"},{event:"Payment reminder sent to Royalty Line",time:"5 hours ago",type:"payment"},{event:"Stock check email sent to Philips",time:"1 day ago",type:"stock"},{event:"RMA request email sent to Home Depot",time:"2 days ago",type:"issue"}].map((i,o)=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(yn,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:i.event}),n.jsx("p",{className:"text-xs text-muted-foreground",children:i.time})]})]}),n.jsx(Ae,{variant:"outline",children:i.type})]},o))})})]})]})})},ynt=Wv.replace("/auth",""),vi=or.create({baseURL:ynt,headers:{"Content-Type":"application/json"}});vi.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});vi.interceptors.response.use(e=>e,async e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"),Promise.reject(e)});const vx={getSettings:async()=>(await vi.get("/auth/settings/")).data,updateSettings:async e=>(await vi.put("/auth/settings/",e)).data,resetSettings:async()=>(await vi.delete("/auth/settings/")).data,getNotificationSettings:async()=>(await vi.get("/auth/settings/notifications/")).data,updateNotificationSettings:async e=>(await vi.put("/auth/settings/notifications/",e)).data,getDisplaySettings:async()=>(await vi.get("/auth/settings/display/")).data,updateDisplaySettings:async e=>(await vi.put("/auth/settings/display/",e)).data,getRegionalSettings:async()=>(await vi.get("/auth/settings/regional/")).data,updateRegionalSettings:async e=>(await vi.put("/auth/settings/regional/",e)).data,getProfileSettings:async()=>(await vi.get("/auth/settings/profile/")).data,updateProfileSettings:async e=>(await vi.put("/auth/settings/profile/",e)).data},Ya={all:["settings"],notifications:["settings","notifications"],display:["settings","display"],regional:["settings","regional"],profile:["settings","profile"]},jnt={company:"",job_title:"",email_notifications:!0,push_notifications:!0,sms_notifications:!1,order_updates:!0,payment_alerts:!0,delivery_notifications:!0,vendor_messages:!0,system_alerts:!0,weekly_reports:!1,monthly_reports:!0,sound_enabled:!0,desktop_notifications:!0,theme:"light",compact_view:!1,sidebar_collapsed:!1,show_avatars:!0,animations_enabled:!0,language:"en",timezone:"UTC+1",date_format:"YYYY-MM-DD",time_format:"24h",currency:"HUF",number_format:"hu-HU",two_factor_enabled:!1},bnt=()=>Ns({queryKey:Ya.all,queryFn:async()=>{try{return await vx.getSettings()}catch(e){return console.warn("Failed to fetch settings, using defaults:",e),jnt}},staleTime:5*60*1e3,retry:1}),wnt=()=>{const e=Gr();return un({mutationFn:t=>vx.updateSettings(t),onSuccess:t=>{e.setQueryData(Ya.all,t.settings),e.invalidateQueries({queryKey:Ya.notifications}),e.invalidateQueries({queryKey:Ya.display}),e.invalidateQueries({queryKey:Ya.regional}),e.invalidateQueries({queryKey:Ya.profile})}})},Nnt=()=>{const e=Gr();return un({mutationFn:vx.resetSettings,onSuccess:t=>{e.setQueryData(Ya.all,t.settings),e.invalidateQueries({queryKey:Ya.all})}})},_nt=()=>{const e=Gr();return un({mutationFn:t=>vx.updateNotificationSettings(t),onSuccess:t=>{e.setQueryData(Ya.notifications,t.settings),e.invalidateQueries({queryKey:Ya.all})}})},Snt=()=>{const e=Gr();return un({mutationFn:t=>vx.updateDisplaySettings(t),onSuccess:t=>{e.setQueryData(Ya.display,t.settings),e.invalidateQueries({queryKey:Ya.all})}})},Cnt=()=>{const e=Gr();return un({mutationFn:t=>vx.updateRegionalSettings(t),onSuccess:t=>{e.setQueryData(Ya.regional,t.settings),e.invalidateQueries({queryKey:Ya.all})}})},Ant=()=>{const{theme:e,setTheme:t}=Bp(),{toast:r}=xr(),{user:s}=Hv(),[a,i]=v.useState("account"),{data:o,isLoading:l,refetch:c}=bnt(),d=wnt(),u=Nnt(),f=_nt(),m=Snt(),h=Cnt(),[x,p]=v.useState({firstName:"",lastName:"",email:"",phone:"",company:"",jobTitle:""}),[g,j]=v.useState(!1),[y,w]=v.useState(!1),[b,N]=v.useState(!1),[_,S]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[A,E]=v.useState({emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,orderUpdates:!0,paymentAlerts:!0,deliveryNotifications:!0,vendorMessages:!0,systemAlerts:!0,weeklyReports:!1,monthlyReports:!0,soundEnabled:!0,desktopNotifications:!0}),[P,D]=v.useState({compactView:!1,sidebarCollapsed:localStorage.getItem("sidebarCollapsed")==="true",showAvatars:!0,animationsEnabled:!0}),[I,W]=v.useState({language:"en",timezone:"UTC+1",dateFormat:"YYYY-MM-DD",timeFormat:"24h",currency:"HUF",numberFormat:"hu-HU"}),[H,F]=v.useState(!1);v.useEffect(()=>{o&&(p({firstName:(s==null?void 0:s.first_name)||"",lastName:(s==null?void 0:s.last_name)||"",email:(s==null?void 0:s.email)||o.user_email||"",phone:(s==null?void 0:s.phone)||"",company:o.company||"",jobTitle:o.job_title||""}),E({emailNotifications:o.email_notifications,pushNotifications:o.push_notifications,smsNotifications:o.sms_notifications,orderUpdates:o.order_updates,paymentAlerts:o.payment_alerts,deliveryNotifications:o.delivery_notifications,vendorMessages:o.vendor_messages,systemAlerts:o.system_alerts,weeklyReports:o.weekly_reports,monthlyReports:o.monthly_reports,soundEnabled:o.sound_enabled,desktopNotifications:o.desktop_notifications}),D({compactView:o.compact_view,sidebarCollapsed:o.sidebar_collapsed,showAvatars:o.show_avatars,animationsEnabled:o.animations_enabled}),W({language:o.language,timezone:o.timezone,dateFormat:o.date_format,timeFormat:o.time_format,currency:o.currency,numberFormat:o.number_format}),F(o.two_factor_enabled))},[o,s]);const T=async()=>{try{await d.mutateAsync({company:x.company,job_title:x.jobTitle}),r({title:"Account Updated",description:"Your account information has been saved successfully."})}catch{r({title:"Error",description:"Failed to save account settings.",variant:"destructive"})}},k=()=>{if(_.newPassword!==_.confirmPassword){r({title:"Error",description:"New passwords do not match.",variant:"destructive"});return}r({title:"Password Changed",description:"Your password has been updated successfully."}),S({currentPassword:"",newPassword:"",confirmPassword:""})},M=async()=>{try{await f.mutateAsync({email_notifications:A.emailNotifications,push_notifications:A.pushNotifications,sms_notifications:A.smsNotifications,order_updates:A.orderUpdates,payment_alerts:A.paymentAlerts,delivery_notifications:A.deliveryNotifications,vendor_messages:A.vendorMessages,system_alerts:A.systemAlerts,weekly_reports:A.weeklyReports,monthly_reports:A.monthlyReports,sound_enabled:A.soundEnabled,desktop_notifications:A.desktopNotifications}),r({title:"Preferences Saved",description:"Your notification preferences have been updated."})}catch{r({title:"Error",description:"Failed to save notification settings.",variant:"destructive"})}},O=async()=>{try{await m.mutateAsync({theme:e,compact_view:P.compactView,sidebar_collapsed:P.sidebarCollapsed,show_avatars:P.showAvatars,animations_enabled:P.animationsEnabled}),localStorage.setItem("sidebarCollapsed",String(P.sidebarCollapsed)),window.dispatchEvent(new CustomEvent("sidebarPreferenceChanged",{detail:{collapsed:P.sidebarCollapsed}})),r({title:"Display Settings Saved",description:"Your display preferences have been updated."})}catch{r({title:"Error",description:"Failed to save display settings.",variant:"destructive"})}},K=async()=>{try{await h.mutateAsync({language:I.language,timezone:I.timezone,date_format:I.dateFormat,time_format:I.timeFormat,currency:I.currency,number_format:I.numberFormat}),r({title:"Regional Settings Saved",description:"Your regional preferences have been updated."})}catch{r({title:"Error",description:"Failed to save regional settings.",variant:"destructive"})}},se=async L=>{try{await u.mutateAsync(),r({title:"Settings Reset",description:"All settings have been reset to defaults."}),c()}catch{r({title:"Error",description:"Failed to reset settings.",variant:"destructive"})}},R=async L=>{try{await d.mutateAsync({two_factor_enabled:L}),F(L),r({title:L?"2FA Enabled":"2FA Disabled",description:L?"Two-factor authentication has been enabled.":"Two-factor authentication has been disabled."})}catch{r({title:"Error",description:"Failed to update 2FA settings.",variant:"destructive"})}};if(l)return n.jsx(ct,{title:"Settings",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs(X,{children:[n.jsx(we,{children:n.jsx(C,{className:"h-6 w-24"})}),n.jsx(Q,{className:"space-y-2",children:[1,2,3,4,5].map(L=>n.jsx(C,{className:"h-10 w-full"},L))})]})}),n.jsx("div",{className:"lg:col-span-3",children:n.jsxs(X,{children:[n.jsxs(we,{children:[n.jsx(C,{className:"h-6 w-48"}),n.jsx(C,{className:"h-4 w-64"})]}),n.jsx(Q,{className:"space-y-4",children:[1,2,3,4].map(L=>n.jsx(C,{className:"h-12 w-full"},L))})]})})]})});const V=[{id:"account",icon:$n,label:"Account"},{id:"security",icon:G5,label:"Security"},{id:"notifications",icon:af,label:"Notifications"},{id:"display",icon:Cse,label:"Display"},{id:"regional",icon:Ql,label:"Regional Settings"}];return n.jsx(ct,{title:"Settings",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs(X,{children:[n.jsx(we,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Mv,{className:"h-5 w-5"}),"Settings"]})}),n.jsx(Q,{className:"p-2",children:n.jsx("nav",{className:"space-y-1",children:V.map(L=>n.jsxs(re,{variant:a===L.id?"secondary":"ghost",className:"w-full justify-start",onClick:()=>i(L.id),children:[n.jsx(L.icon,{className:"mr-2 h-4 w-4"}),L.label]},L.id))})})]})}),n.jsxs("div",{className:"lg:col-span-3",children:[a==="account"&&n.jsxs(X,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Personal Information"}),n.jsx(Ir,{children:"Update your personal details and contact information"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"firstName",children:"First Name"}),n.jsx(fe,{id:"firstName",value:x.firstName,onChange:L=>p({...x,firstName:L.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"lastName",children:"Last Name"}),n.jsx(fe,{id:"lastName",value:x.lastName,onChange:L=>p({...x,lastName:L.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"email",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(yn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"email",type:"email",className:"pl-10",value:x.email,onChange:L=>p({...x,email:L.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"phone",children:"Phone Number"}),n.jsxs("div",{className:"relative",children:[n.jsx(Co,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(fe,{id:"phone",type:"tel",className:"pl-10",value:x.phone,onChange:L=>p({...x,phone:L.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"company",children:"Company"}),n.jsx(fe,{id:"company",value:x.company,onChange:L=>p({...x,company:L.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"jobTitle",children:"Job Title"}),n.jsx(fe,{id:"jobTitle",value:x.jobTitle,onChange:L=>p({...x,jobTitle:L.target.value})})]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(re,{variant:"outline",onClick:()=>p({firstName:"John",lastName:"Smith",email:"john.smith@example.com",phone:"+1 (555) 123-4567",company:"Tech Solutions Inc.",jobTitle:"Property Manager"}),children:"Cancel"}),n.jsxs(re,{onClick:T,disabled:d.isPending,children:[d.isPending?n.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(ho,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]})]}),a==="security"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs(X,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Change Password"}),n.jsx(Ir,{children:"Update your password to keep your account secure"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"currentPassword",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(fe,{id:"currentPassword",type:g?"text":"password",value:_.currentPassword,onChange:L=>S({..._,currentPassword:L.target.value})}),n.jsx(re,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>j(!g),children:g?n.jsx(dh,{className:"h-4 w-4"}):n.jsx(ri,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"newPassword",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(fe,{id:"newPassword",type:y?"text":"password",value:_.newPassword,onChange:L=>S({..._,newPassword:L.target.value})}),n.jsx(re,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>w(!y),children:y?n.jsx(dh,{className:"h-4 w-4"}):n.jsx(ri,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"confirmPassword",children:"Confirm New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(fe,{id:"confirmPassword",type:b?"text":"password",value:_.confirmPassword,onChange:L=>S({..._,confirmPassword:L.target.value})}),n.jsx(re,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>N(!b),children:b?n.jsx(dh,{className:"h-4 w-4"}):n.jsx(ri,{className:"h-4 w-4"})})]})]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(re,{variant:"outline",onClick:()=>S({currentPassword:"",newPassword:"",confirmPassword:""}),children:"Cancel"}),n.jsxs(re,{onClick:k,children:[n.jsx(G5,{className:"mr-2 h-4 w-4"}),"Update Password"]})]})]})]}),n.jsxs(X,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Two-Factor Authentication"}),n.jsx(Ir,{children:"Add an extra layer of security to your account"})]}),n.jsx(Q,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ose,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium",children:"Enable 2FA"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Require a verification code in addition to your password"})]})]}),n.jsx(Tn,{checked:H,onCheckedChange:R,disabled:d.isPending})]})})]})]}),a==="notifications"&&n.jsxs(X,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Notification Preferences"}),n.jsx(Ir,{children:"Manage how and when you receive notifications"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Notification Channels"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yn,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Email Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]})]}),n.jsx(Tn,{checked:A.emailNotifications,onCheckedChange:L=>E({...A,emailNotifications:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(af,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Push Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive browser push notifications"})]})]}),n.jsx(Tn,{checked:A.pushNotifications,onCheckedChange:L=>E({...A,pushNotifications:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(rl,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"SMS Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via text message"})]})]}),n.jsx(Tn,{checked:A.smsNotifications,onCheckedChange:L=>E({...A,smsNotifications:L})})]})]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Activity Notifications"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Order Updates"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified about order status changes"})]}),n.jsx(Tn,{checked:A.orderUpdates,onCheckedChange:L=>E({...A,orderUpdates:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Payment Alerts"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications for payment activities"})]}),n.jsx(Tn,{checked:A.paymentAlerts,onCheckedChange:L=>E({...A,paymentAlerts:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Delivery Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Updates on delivery status and schedules"})]}),n.jsx(Tn,{checked:A.deliveryNotifications,onCheckedChange:L=>E({...A,deliveryNotifications:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Vendor Messages"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Messages and updates from vendors"})]}),n.jsx(Tn,{checked:A.vendorMessages,onCheckedChange:L=>E({...A,vendorMessages:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"System Alerts"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Important system notifications and updates"})]}),n.jsx(Tn,{checked:A.systemAlerts,onCheckedChange:L=>E({...A,systemAlerts:L})})]})]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Report Notifications"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Weekly Reports"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive weekly summary reports"})]}),n.jsx(Tn,{checked:A.weeklyReports,onCheckedChange:L=>E({...A,weeklyReports:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Monthly Reports"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive monthly summary reports"})]}),n.jsx(Tn,{checked:A.monthlyReports,onCheckedChange:L=>E({...A,monthlyReports:L})})]})]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Sound & Desktop"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[A.soundEnabled?n.jsx(Rse,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Mse,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Sound Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Play sounds for notifications"})]})]}),n.jsx(Tn,{checked:A.soundEnabled,onCheckedChange:L=>E({...A,soundEnabled:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Desktop Notifications"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Show notifications on desktop"})]}),n.jsx(Tn,{checked:A.desktopNotifications,onCheckedChange:L=>E({...A,desktopNotifications:L})})]})]})]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsxs(re,{variant:"outline",onClick:()=>se(),disabled:u.isPending,children:[u.isPending?n.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Sf,{className:"mr-2 h-4 w-4"}),"Reset to Default"]}),n.jsxs(re,{onClick:M,disabled:f.isPending,children:[f.isPending?n.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(ho,{className:"mr-2 h-4 w-4"}),"Save Preferences"]})]})]})]}),a==="display"&&n.jsxs(X,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Appearance"}),n.jsx(Ir,{children:"Customize how the application looks and feels"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[e==="dark"?n.jsx(Rv,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(Fv,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Theme"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your preferred color scheme"})]})]}),n.jsxs(tt,{value:e,onValueChange:t,children:[n.jsx(Je,{className:"w-32",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"light",children:"Light"}),n.jsx(ee,{value:"dark",children:"Dark"}),n.jsx(ee,{value:"system",children:"System"})]})]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Compact View"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Display more content with reduced spacing"})]}),n.jsx(Tn,{checked:P.compactView,onCheckedChange:L=>D({...P,compactView:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Collapsed Sidebar"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Show sidebar in collapsed state by default"})]}),n.jsx(Tn,{checked:P.sidebarCollapsed,onCheckedChange:L=>{D({...P,sidebarCollapsed:L}),localStorage.setItem("sidebarCollapsed",String(L)),window.dispatchEvent(new CustomEvent("sidebarPreferenceChanged",{detail:{collapsed:L}})),r({title:"Sidebar Preference Updated",description:`Sidebar will be ${L?"collapsed":"expanded"} by default.`})}})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Show Avatars"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Display user avatars throughout the app"})]}),n.jsx(Tn,{checked:P.showAvatars,onCheckedChange:L=>D({...P,showAvatars:L})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Enable Animations"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Show smooth transitions and animations"})]}),n.jsx(Tn,{checked:P.animationsEnabled,onCheckedChange:L=>D({...P,animationsEnabled:L})})]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsxs(re,{variant:"outline",onClick:()=>se(),disabled:u.isPending,children:[u.isPending?n.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Sf,{className:"mr-2 h-4 w-4"}),"Reset to Default"]}),n.jsxs(re,{onClick:O,disabled:m.isPending,children:[m.isPending?n.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(ho,{className:"mr-2 h-4 w-4"}),"Save Settings"]})]})]})]}),a==="regional"&&n.jsxs(X,{children:[n.jsxs(we,{children:[n.jsx(Ve,{children:"Regional Preferences"}),n.jsx(Ir,{children:"Configure language, timezone, and formatting options"})]}),n.jsxs(Q,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"language",children:"Language"}),n.jsxs(tt,{value:I.language,onValueChange:L=>W({...I,language:L}),children:[n.jsx(Je,{id:"language",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"en",children:"English"}),n.jsx(ee,{value:"es",children:"Spanish"}),n.jsx(ee,{value:"fr",children:"French"}),n.jsx(ee,{value:"de",children:"German"}),n.jsx(ee,{value:"zh",children:"Chinese"}),n.jsx(ee,{value:"ja",children:"Japanese"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"timezone",children:"Timezone"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ql,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground z-10"}),n.jsxs(tt,{value:I.timezone,onValueChange:L=>W({...I,timezone:L}),children:[n.jsx(Je,{id:"timezone",className:"pl-10",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"UTC-12",children:"UTC-12:00 Baker Island"}),n.jsx(ee,{value:"UTC-11",children:"UTC-11:00 American Samoa"}),n.jsx(ee,{value:"UTC-10",children:"UTC-10:00 Hawaii"}),n.jsx(ee,{value:"UTC-9",children:"UTC-09:00 Alaska"}),n.jsx(ee,{value:"UTC-8",children:"UTC-08:00 Pacific Time"}),n.jsx(ee,{value:"UTC-7",children:"UTC-07:00 Mountain Time"}),n.jsx(ee,{value:"UTC-6",children:"UTC-06:00 Central Time"}),n.jsx(ee,{value:"UTC-5",children:"UTC-05:00 Eastern Time"}),n.jsx(ee,{value:"UTC-4",children:"UTC-04:00 Atlantic Time"}),n.jsx(ee,{value:"UTC-3",children:"UTC-03:00 Buenos Aires"}),n.jsx(ee,{value:"UTC-2",children:"UTC-02:00 Mid-Atlantic"}),n.jsx(ee,{value:"UTC-1",children:"UTC-01:00 Azores"}),n.jsx(ee,{value:"UTC+0",children:"UTC+00:00 London"}),n.jsx(ee,{value:"UTC+1",children:"UTC+01:00 Paris"}),n.jsx(ee,{value:"UTC+2",children:"UTC+02:00 Cairo"}),n.jsx(ee,{value:"UTC+3",children:"UTC+03:00 Moscow"}),n.jsx(ee,{value:"UTC+4",children:"UTC+04:00 Dubai"}),n.jsx(ee,{value:"UTC+5",children:"UTC+05:00 Pakistan"}),n.jsx(ee,{value:"UTC+6",children:"UTC+06:00 Bangladesh"}),n.jsx(ee,{value:"UTC+7",children:"UTC+07:00 Bangkok"}),n.jsx(ee,{value:"UTC+8",children:"UTC+08:00 Singapore"}),n.jsx(ee,{value:"UTC+9",children:"UTC+09:00 Tokyo"}),n.jsx(ee,{value:"UTC+10",children:"UTC+10:00 Sydney"}),n.jsx(ee,{value:"UTC+11",children:"UTC+11:00 Solomon Islands"}),n.jsx(ee,{value:"UTC+12",children:"UTC+12:00 New Zealand"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"dateFormat",children:"Date Format"}),n.jsxs("div",{className:"relative",children:[n.jsx(Hr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground z-10"}),n.jsxs(tt,{value:I.dateFormat,onValueChange:L=>W({...I,dateFormat:L}),children:[n.jsx(Je,{id:"dateFormat",className:"pl-10",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"MM/DD/YYYY",children:"MM/DD/YYYY (12/31/2024)"}),n.jsx(ee,{value:"DD/MM/YYYY",children:"DD/MM/YYYY (31/12/2024)"}),n.jsx(ee,{value:"YYYY-MM-DD",children:"YYYY-MM-DD (2024-12-31)"}),n.jsx(ee,{value:"DD.MM.YYYY",children:"DD.MM.YYYY (31.12.2024)"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"timeFormat",children:"Time Format"}),n.jsxs(tt,{value:I.timeFormat,onValueChange:L=>W({...I,timeFormat:L}),children:[n.jsx(Je,{id:"timeFormat",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"12h",children:"12-hour (3:30 PM)"}),n.jsx(ee,{value:"24h",children:"24-hour (15:30)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"currency",children:"Currency"}),n.jsxs("div",{className:"relative",children:[n.jsx(Nr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground z-10"}),n.jsxs(tt,{value:I.currency,onValueChange:L=>W({...I,currency:L}),children:[n.jsx(Je,{id:"currency",className:"pl-10",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"HUF",children:"HUF - Hungarian Forint (Ft)"}),n.jsx(ee,{value:"USD",children:"USD - US Dollar ($)"}),n.jsx(ee,{value:"EUR",children:"EUR - Euro ()"}),n.jsx(ee,{value:"GBP",children:"GBP - British Pound ()"}),n.jsx(ee,{value:"JPY",children:"JPY - Japanese Yen ()"}),n.jsx(ee,{value:"CNY",children:"CNY - Chinese Yuan ()"}),n.jsx(ee,{value:"INR",children:"INR - Indian Rupee ()"}),n.jsx(ee,{value:"CAD",children:"CAD - Canadian Dollar ($)"}),n.jsx(ee,{value:"AUD",children:"AUD - Australian Dollar ($)"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"numberFormat",children:"Number Format"}),n.jsxs(tt,{value:I.numberFormat,onValueChange:L=>W({...I,numberFormat:L}),children:[n.jsx(Je,{id:"numberFormat",children:n.jsx(rt,{})}),n.jsxs(et,{children:[n.jsx(ee,{value:"en-US",children:"1,234.56 (US)"}),n.jsx(ee,{value:"de-DE",children:"1.234,56 (German)"}),n.jsx(ee,{value:"fr-FR",children:"1 234,56 (French)"}),n.jsx(ee,{value:"en-IN",children:"1,23,456.78 (Indian)"})]})]})]})]}),n.jsx(Ft,{}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsxs(re,{variant:"outline",onClick:()=>se(),disabled:u.isPending,children:[u.isPending?n.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Sf,{className:"mr-2 h-4 w-4"}),"Reset to Default"]}),n.jsxs(re,{onClick:K,disabled:h.isPending,children:[h.isPending?n.jsx(Lt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(ho,{className:"mr-2 h-4 w-4"}),"Save Settings"]})]})]})]})]})]})})},Ent=()=>{var g;const e=sc(),t=ur(),{issues:r,vendors:s}=Ml(),a=((g=e.state)==null?void 0:g.selectedIssues)||[],[i,o]=v.useState({subject:"",message:"",includeIssueDetails:!0,includePhotos:!0}),[l,c]=v.useState(!1),[d,u]=v.useState(new Set),f=v.useMemo(()=>{const j={};return a.forEach(y=>{const w=y.vendor,b=y.vendor_details||s.find(N=>N.id===w);j[w]||(j[w]={vendor:b||{id:w,name:"Unknown Vendor"},issues:[]}),j[w].issues.push(y)}),j},[a,s]),m=Object.keys(f).length,h=a.length,x=j=>{u(y=>{const w=new Set(y);return w.has(j)?w.delete(j):w.add(j),w})},p=async()=>{var j,y;if(!i.subject||!i.message){Ue.error("Please provide email subject and message");return}c(!0);try{const w=a.map(N=>N.id),b=await Cr.sendBulkEmail({issue_ids:w,subject:i.subject,message:i.message,include_issue_details:i.includeIssueDetails,include_photos:i.includePhotos});b.success?(Ue.success("Emails Sent Successfully",{description:`Sent ${b.results.sent} emails to vendors about ${b.results.total_issues} issues.`}),t("/issues")):Ue.error("Failed to send some emails",{description:b.message||"Please check the details and try again."})}catch(w){console.error("Bulk email error:",w),Ue.error("Failed to send emails",{description:((y=(j=w.response)==null?void 0:j.data)==null?void 0:y.message)||w.message||"An error occurred while sending emails."})}finally{c(!1)}};return n.jsx(ct,{title:"Send Bulk Email to Vendors",subtitle:"Send a standardized email to all vendors with open issues. Each vendor will receive information about their specific issues.",actions:n.jsxs(re,{variant:"outline",onClick:()=>t("/issues"),children:[n.jsx(rr,{className:"h-4 w-4 mr-2"}),"Back to Issues"]}),children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(X,{children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n.jsx(Gc,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Recipients"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:m})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Vendors"})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-danger/10 rounded-lg",children:n.jsx(lt,{className:"h-5 w-5 text-danger"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Issues"}),n.jsx("p",{className:"text-2xl font-bold text-danger",children:h})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Items"})]})}),n.jsx(X,{children:n.jsxs(Q,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-2 bg-warning/10 rounded-lg",children:n.jsx(yn,{className:"h-5 w-5 text-warning"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Emails"}),n.jsx("p",{className:"text-2xl font-bold text-warning",children:m})]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"To Send"})]})})]}),n.jsxs(X,{children:[n.jsxs(we,{children:[n.jsxs(Ve,{className:"text-lg flex items-center gap-2",children:[n.jsx(Gc,{className:"h-5 w-5"}),"Recipients by Vendor"]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Click on a vendor to view their issues"})]}),n.jsx(Q,{children:n.jsx("div",{className:"space-y-3",children:Object.entries(f).map(([j,{vendor:y,issues:w}])=>n.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[n.jsxs("button",{onClick:()=>x(j),className:"w-full flex items-center justify-between p-4 bg-muted/30 hover:bg-muted/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[d.has(j)?n.jsx(Au,{className:"h-4 w-4 text-muted-foreground"}):n.jsx(uu,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"font-semibold text-base",children:y.name}),y.email&&n.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-0.5",children:[n.jsx(yn,{className:"h-3 w-3"}),y.email]})]})]}),n.jsxs(Ae,{variant:"outline",className:"ml-2",children:[w.length," ",w.length===1?"issue":"issues"]})]}),d.has(j)&&n.jsx("div",{className:"p-4 bg-background border-t space-y-2",children:w.map((b,N)=>n.jsx("div",{className:"p-3 rounded-lg border bg-card hover:bg-accent/5 transition-colors",children:n.jsx("div",{className:"flex items-start justify-between gap-3",children:n.jsxs("div",{className:"flex-1 space-y-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Ae,{variant:"secondary",className:"text-xs",children:["#",N+1]}),n.jsx("span",{className:"text-sm font-medium",children:b.display_product_name||b.product_name||"Product Issue"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx(St,{className:"h-3 w-3"}),n.jsx("span",{className:"font-medium",children:b.type}),n.jsx("span",{children:""}),n.jsx(Ae,{variant:b.priority==="Critical"?"destructive":b.priority==="High"?"default":"secondary",className:"text-xs",children:b.priority})]}),b.description&&n.jsxs("p",{className:"text-xs text-muted-foreground line-clamp-2 flex items-start gap-1",children:[n.jsx(An,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),b.description]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[n.jsx(Hr,{className:"h-3 w-3"}),n.jsxs("span",{children:["Reported: ",new Date(b.reported_on).toLocaleDateString()]}),n.jsx("span",{children:""}),n.jsx(Ae,{variant:"outline",className:"text-xs",children:b.status})]})]})})},b.id))})]},j))})})]}),n.jsx(Ft,{}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsx(Ve,{className:"text-lg",children:"Compose Email"})}),n.jsxs(Q,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"subject",children:"Email Subject *"}),n.jsx("input",{id:"subject",type:"text",placeholder:"e.g., Urgent: Product Issues Requiring Resolution",value:i.subject,onChange:j=>o(y=>({...y,subject:j.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q,{htmlFor:"message",children:"Email Message *"}),n.jsx(gn,{id:"message",placeholder:`Dear Vendor Team,

We have identified several issues with the products delivered. Please review the details below and provide a resolution plan at your earliest convenience.

Best regards,
Procurement Team`,value:i.message,onChange:j=>o(y=>({...y,message:j.target.value})),rows:10,className:"resize-none"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"This message will be sent to all vendors. Issue-specific details will be automatically appended."})]}),n.jsxs("div",{className:"space-y-3 p-4 bg-muted/30 rounded-lg border",children:[n.jsx(q,{className:"text-sm font-semibold",children:"Email Options"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(jo,{id:"includeDetails",checked:i.includeIssueDetails,onCheckedChange:j=>o(y=>({...y,includeIssueDetails:j}))}),n.jsx("label",{htmlFor:"includeDetails",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Include detailed issue information (product names, SKUs, descriptions)"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(jo,{id:"includePhotos",checked:i.includePhotos,onCheckedChange:j=>o(y=>({...y,includePhotos:j}))}),n.jsx("label",{htmlFor:"includePhotos",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Attach issue photos to emails"})]})]})]})]}),n.jsxs(X,{children:[n.jsx(we,{children:n.jsx(Ve,{className:"text-lg",children:"Email Preview"})}),n.jsx(Q,{children:n.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border space-y-3 text-sm",children:[n.jsxs("div",{className:"font-semibold",children:["Subject: ",i.subject||"(No subject)"]}),n.jsx(Ft,{}),n.jsx("div",{className:"whitespace-pre-wrap",children:i.message||"(No message)"}),i.includeIssueDetails&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{}),n.jsx("div",{className:"text-xs text-muted-foreground italic",children:"[Vendor-specific issue details will be inserted here]"})]})]})})]}),n.jsxs("div",{className:"flex justify-end gap-3 pb-6",children:[n.jsx(re,{type:"button",variant:"outline",onClick:()=>t("/issues"),children:"Cancel"}),n.jsxs(re,{onClick:p,disabled:l||!i.subject||!i.message,size:"lg",children:[n.jsx(Pk,{className:"h-4 w-4 mr-2"}),l?"Sending...":`Send ${m} Emails`]})]})]})})},Pnt=new Uoe,knt=()=>n.jsx(qoe,{client:Pnt,children:n.jsx(Ode,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:n.jsxs(dU,{children:[n.jsx(yae,{}),n.jsx(Qae,{}),n.jsx(Jle,{children:n.jsx(Tde,{children:n.jsxs(Hle,{children:[n.jsx(Qt,{path:"/login",element:n.jsx(bue,{})}),n.jsx(Qt,{path:"/signup",element:n.jsx(Nue,{})}),n.jsx(Qt,{path:"/forgot-password",element:n.jsx(Sue,{})}),n.jsx(Qt,{path:"/",element:n.jsx(RU,{to:"/overview",replace:!0})}),n.jsx(Qt,{path:"/clients",element:n.jsx(lr,{children:n.jsx(q8e,{})})}),n.jsx(Qt,{path:"/clients/:id",element:n.jsx(lr,{children:n.jsx(iBe,{})})}),n.jsx(Qt,{path:"/apartments",element:n.jsx(lr,{children:n.jsx(gBe,{})})}),n.jsx(Qt,{path:"/apartments/new",element:n.jsx(lr,{children:n.jsx(EBe,{})})}),n.jsx(Qt,{path:"/apartments/:id",element:n.jsx(lr,{children:n.jsx(FUe,{})})}),n.jsx(Qt,{path:"/apartments/:id/edit",element:n.jsx(lr,{children:n.jsx(VUe,{})})}),n.jsx(Qt,{path:"/products",element:n.jsx(lr,{children:n.jsx(zUe,{})})}),n.jsx(Qt,{path:"/products/new",element:n.jsx(lr,{children:n.jsx(WUe,{})})}),n.jsx(Qt,{path:"/products/import",element:n.jsx(lr,{children:n.jsx(JUe,{})})}),n.jsx(Qt,{path:"/products/:id",element:n.jsx(lr,{children:n.jsx(HUe,{})})}),n.jsx(Qt,{path:"/products/:id/edit",element:n.jsx(lr,{children:n.jsx(XUe,{})})}),n.jsx(Qt,{path:"/orders",element:n.jsx(lr,{children:n.jsx(cVe,{})})}),n.jsx(Qt,{path:"/orders/new",element:n.jsx(lr,{children:n.jsx(dVe,{})})}),n.jsx(Qt,{path:"/orders/import",element:n.jsx(lr,{children:n.jsx(uVe,{})})}),n.jsx(Qt,{path:"/orders/:id",element:n.jsx(lr,{children:n.jsx(bVe,{})})}),n.jsx(Qt,{path:"/orders/:id/edit",element:n.jsx(lr,{children:n.jsx(EVe,{})})}),n.jsx(Qt,{path:"/deliveries",element:n.jsx(lr,{children:n.jsx($Ve,{})})}),n.jsx(Qt,{path:"/issues",element:n.jsx(lr,{children:n.jsx(srt,{})})}),n.jsx(Qt,{path:"/issues/new",element:n.jsx(lr,{children:n.jsx(art,{})})}),n.jsx(Qt,{path:"/issues/bulk-email",element:n.jsx(lr,{children:n.jsx(Ent,{})})}),n.jsx(Qt,{path:"/issues/:issueId",element:n.jsx(lr,{children:n.jsx(vrt,{})})}),n.jsx(Qt,{path:"/issues/:issueId/edit",element:n.jsx(lr,{children:n.jsx(Crt,{})})}),n.jsx(Qt,{path:"/payments",element:n.jsx(lr,{children:n.jsx(Rrt,{})})}),n.jsx(Qt,{path:"/payments/new",element:n.jsx(lr,{children:n.jsx(Mrt,{})})}),n.jsx(Qt,{path:"/payments/:id",element:n.jsx(lr,{children:n.jsx(Hrt,{})})}),n.jsx(Qt,{path:"/payments/:id/edit",element:n.jsx(lr,{children:n.jsx(Jrt,{})})}),n.jsx(Qt,{path:"/vendors",element:n.jsx(lr,{children:n.jsx(snt,{})})}),n.jsx(Qt,{path:"/vendors/new",element:n.jsx(lr,{children:n.jsx(ant,{})})}),n.jsx(Qt,{path:"/vendors/:id",element:n.jsx(lr,{children:n.jsx(fnt,{})})}),n.jsx(Qt,{path:"/vendors/:id/edit",element:n.jsx(lr,{children:n.jsx(xnt,{})})}),n.jsx(Qt,{path:"/users",element:n.jsx(lr,{children:n.jsx(gnt,{})})}),n.jsx(Qt,{path:"/automations",element:n.jsx(lr,{children:n.jsx(vnt,{})})}),n.jsx(Qt,{path:"/settings",element:n.jsx(lr,{children:n.jsx(Ant,{})})}),n.jsx(Qt,{path:"/overview",element:n.jsx(lr,{children:n.jsx(ZLe,{})})}),n.jsx(Qt,{path:"*",element:n.jsx(JLe,{})})]})})})]})})});V9(document.getElementById("root")).render(n.jsx(knt,{}));
